{
  "id": "qa_018",
  "prompt": "Wie kann ich sicherstellen, dass nur Bilder oder PDF-Dateien mit maximal 10 MB als Anh\u00e4nge im gesamten Wiki hochgeladen werden k\u00f6nnen?",
  "expected_answer": "Um sicherzustellen, dass nur Bilder oder PDF-Dateien mit maximal 10 MB als Anh\u00e4nge im gesamten Wiki hochgeladen werden k\u00f6nnen, f\u00fchren Sie die folgenden Schritte aus:\n\n**Schritt 1: Konfigurieren zul\u00e4ssiger MIME-Typen**\n\nBearbeiten Sie die Konfigurationsdatei `xwiki.properties` in Ihrer Installation und f\u00fcgen Sie oder aktualisieren Sie die folgende Zeile, um die Standard-MIME-Typ-Beschr\u00e4nkungen auf Farm-Ebene zu konfigurieren:\n```\nattachment.upload.allowList=image/*,application/pdf\n```\nDadurch werden nur Bilddateien (mit jedem Subtyp, z. B. `image/jpeg`, `image/png` usw.) und PDF-Dateien zum Hochladen zugelassen und alle anderen MIME-Typen blockiert.\n\n**Schritt 2: Konfigurieren der maximalen Anhangsgr\u00f6\u00dfe**\n\nUm die maximale Anhangsgr\u00f6\u00dfe auf 10 MB einzustellen, f\u00fchren Sie die folgenden Schritte aus:\n\n1. Gehen Sie zu `http://<IhrWiki>/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object`\n2. Klicken Sie auf die Zeile, die XWikiPreferences 0 (direkt unter der Zeile, die Objects of type XWiki.XWikiPreferences (1) sagt) sagt\n3. Scrollen Sie nach unten zum Feld, das Maximum Upload Size hei\u00dft, und \u00e4ndern Sie die Zahl in `10485760` (10 MB in Byte)\n4. Scrollen Sie nach unten und klicken Sie auf \"Speichern\"\n5. Wiederholen Sie dies f\u00fcr jedes (Sub)Wiki, f\u00fcr das Sie diese Konfiguration festlegen m\u00fcssen!",
  "ai_answer": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/VersionControl \n\n\nUm sicherzustellen, dass nur Bilder oder PDF-Dateien mit einer maximalen Gr\u00f6\u00dfe von 10 MB als Anh\u00e4nge im gesamten Wiki hochgeladen werden k\u00f6nnen, m\u00fcssen Sie eine Kombination aus Konfigurationseinstellungen und m\u00f6glicherweise benutzerdefinierten Skripten verwenden. Hier sind die Schritte, die Sie befolgen k\u00f6nnen:\n\n1. **Dateityp-Beschr\u00e4nkungen konfigurieren:**\n   Sie k\u00f6nnen die zul\u00e4ssigen Dateitypen in der XWiki-Konfiguration einschr\u00e4nken. Dies kann durch Bearbeiten der `xwiki.properties`-Datei erfolgen. F\u00fcgen Sie die folgenden Zeilen hinzu oder bearbeiten Sie sie entsprechend:\n\n   ```properties\n   attachment.upload.maxSize=10485760 # 10 MB in Bytes\n   attachment.upload.allowedMimeTypes=image/jpeg,image/png,application/pdf\n   ```\n\n2. **Hochladegr\u00f6\u00dfe beschr\u00e4nken:**\n   Stellen Sie sicher, dass die maximale Dateigr\u00f6\u00dfe f\u00fcr Uploads in der `xwiki.properties`-Datei auf 10 MB festgelegt ist:\n\n   ```properties\n   attachment.upload.maxSize=10485760 # 10 MB in Bytes\n   ```\n\n3. **Benutzerdefinierte Validierungsskripte:**\n   Sie k\u00f6nnen auch benutzerdefinierte Skripte verwenden, um zus\u00e4tzliche Validierungen durchzuf\u00fchren. Ein Beispiel f\u00fcr ein Skript, das Sie in einer XWiki-Seite hinzuf\u00fcgen k\u00f6nnen, um die Dateigr\u00f6\u00dfe und den Dateityp zu \u00fcberpr\u00fcfen, k\u00f6nnte wie folgt aussehen:\n\n   ```velocity\n   #set ($allowedMimeTypes = [\"image/jpeg\", \"image/png\", \"application/pdf\"])\n   #set ($maxFileSize = 10485760) # 10 MB in Bytes\n\n   #foreach ($attachment in $doc.getAttachmentList())\n       #set ($fileSize = $attachment.getContentSize())\n       #set ($fileType = $attachment.getMimeType())\n\n       #if ($fileSize > $maxFileSize)\n           ## Datei ist zu gro\u00df\n           $attachment.delete()\n           $context.addMessage(\"error\", \"Die Datei $attachment.getFilename() \u00fcberschreitet die maximale Gr\u00f6\u00dfe von 10 MB und wurde gel\u00f6scht.\")\n       #elseif (!$allowedMimeTypes.contains($fileType))\n           ## Ung\u00fcltiger Dateityp\n           $attachment.delete()\n           $context.addMessage(\"error\", \"Die Datei $attachment.getFilename() ist kein zul\u00e4ssiger Dateityp und wurde gel\u00f6scht.\")\n       #end\n   #end\n   ```\n\n   Dieses Skript \u00fcberpr\u00fcft die Anh\u00e4nge einer Seite und l\u00f6scht diejenigen, die die Bedingungen nicht erf\u00fcllen. Sie k\u00f6nnen dieses Skript in den \"Speichern\"-Ereignissen oder als Teil eines Workflows einbinden.\n\n4. **Serverseitige Konfiguration:**\n   Stellen Sie sicher, dass Ihr Webserver (z.B. Apache, Nginx) und Servlet-Container (z.B. Tomcat) ebenfalls so konfiguriert sind, dass sie Uploads auf 10 MB beschr\u00e4nken. Dies kann durch entsprechende Einstellungen in den Konfigurationsdateien dieser Dienste erfolgen.\n\nDurch die Kombination dieser Methoden k\u00f6nnen Sie sicherstellen, dass nur Bilder oder PDF-Dateien mit einer maximalen Gr\u00f6\u00dfe von 10 MB als Anh\u00e4nge im gesamten Wiki hochgeladen werden k\u00f6nnen.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.XWikiRESTfulAPI",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI",
      "content": "### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/translations/{lang}/history/{version}\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Page element)\n\t+ **Description:** A page at a given {version} in a given {language}.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/children\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Pages element)\n\t+ **Description:** The list of the children of a given page.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n### /wikis/{wikiName}/pages[?name=paneName&amp;space=spaceName&amp;author=authorName]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Pages element)\n\t+ **Description:** The list of pages in the wiki {wikiName}. Filters can be set for the name, space and/or author to include only pages that match the given filters. This resource can be used to search for pages in a wiki.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n## Tag resources\n\n",
      "similarity_score": 0.7825683951377869,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.XWikiRESTfulAPI",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI",
      "content": "### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/translations/{language}[?minorRevision={true,false}]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Page element)\n\t+ **Description:** The page at in the given {language}.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n* **HTTP Method:** PUT\n\t+ **Accepted Media types:**\n\t\t- application/xml (Page element)\n\t\t- text/plain (Only page content)\n\t\t- application/x-www-form-urlencoded (allowed field names: title, parent, content)\n\t+ **Media types:**\n\t\t- application/xml (Page element)\n\t+ **Query parameters**\n\t\t- minorRevision (Since 9.11.4 &amp; 10.2RC1): Create a minor revision for the page. Disabled by default.\n\t+ **Description:** Create or updates a page translation.\n\t+ **Status codes:**\n\t\t- 201: If the page was created.\n\t\t- 202: If the page was updated.\n\t\t- 304: If the page was not modified.\n\t\t- 401: If the user is not authorized.\n* **HTTP Method:** DELETE\n\t+ **Media types:**\n\t\t- application/xml (Page element)\n\t+ **Description:** Delete the page translation.\n\t+ **Status codes:**\n\t\t- 204: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/translations/{language}/history\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (History element)\n\t+ **Description:** The list of all the available revisions of the page in a given {language}.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n",
      "similarity_score": 0.7818626165390015,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.XWikiRESTfulAPI",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI",
      "content": "### /wikimanager (This resource is only available when using the [multi-wiki](https://extensions.xwiki.org/xwiki/bin/view/Extension/Wiki%20Application) feature)\n\n* **HTTP Method:** POST\n\t+ **Accepted Media types:**\n\t\t- application/xml (Wiki element)\n\t+ **Media types:**\n\t\t- application/xml (Wiki element)\n\t+ **Query parameters**\n\t\t- template \u00a0- the wiki template to be used for initializing the wiki.\n\t\t- history={RESET/REPLACE/ADD} - history importing\n\t+ **Description:** create a new wiki.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\n## Space resources\n\n### /wikis/{wikiName}/spaces[?start=offset&amp;number=n]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Spaces element)\n\t+ **Description:** Retrieves the list of spaces available in the {wikiName} wiki.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/search?q={keywords}[[&amp;scope={name,content,title,objects}...]&amp;number=n]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Search results element)\n\t+ **Description:** The list of pages and objects that contain the {keywords} in the specified {scope}s. Multiple scopes can be specified. Search results are relative to space {spaceName}\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n## Page resources\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages[?start=offset&amp;number=n]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Pages element)\n\t+ **Description:** The list of pages in the space {spaceName}\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n",
      "similarity_score": 0.7775533199310303,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.VersionControl",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/VersionControl",
      "content": "The page version consists of two numbers, separated by a dot: &lt;Major&gt;.&lt;Minor&gt;. The XWiki versioning system allows the distinction between major and minor edits. When [editing a page](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing), the user has the option to decide whether his/her edit brings major or minor changes to the page. Saving a major version will increase the first component and reset the second to &quot;1&quot;, while a minor version will just increase the second component.\n\nClicking on the &quot;History&quot; button when viewing a page displays all the versions that were previously saved:\n\nBesides listing the page versions, the history page can be used to perform other actions as well:\n\n* View a previous version of the page\n* Compare any two versions\n* Set an older version as the current version (rollback); available only if the user has edit rights on the page\n* Delete a version completely from the history (useful for removing spam, for example); available only if the user has administration rights\n* Delete an entire version range from the history; also available only if the user has administration rights\n\nBy default, minor edits do not appear in the page history. The option &quot;Show minor edits&quot; will list all the versions, including minor ones. To know more about minor and major edits, have a look at the [Page Editing](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing#HCommoneditactions) documentation page.\n\nThe history also displays, on the first line, the standard version of the page, as contained by the installed Extension (if the page comes from an extension), in that installed version. This can be different from the first version of the page (v1.1) since the page could have had edits before an extension was installed that modified the page or if the extension has been upgraded.\n\n",
      "similarity_score": 0.7757432460784912,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.XWikiRESTfulAPI",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI",
      "content": "## Attachments resources\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/attachments[?start=offset&amp;number=n]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Attachments element)\n\t+ **Description:** The list of attachments of a given page.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/attachments/{attachmentName}\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- The same of the attachment media type.\n\t+ **Description:** The attachment identified by {attachmentName} on a given page.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n* **HTTP Method:** PUT\n\t+ **Accepted media types:**\n\t\t- **/**\n\t+ **Media types:**\n\t\t- application/xml (AttachmentSummary element)\n\t+ **Description:** Create an attachment identified by {attachmentName} on a given page.\n\t+ **Status codes:**\n\t\t- 201: If the attachment was created.\n\t\t- 202: If the attachment was updated.\n\t\t- 401: If the user is not authorized.\n* **HTTP Method:** DELETE\n\t+ **Media types:**\n\t+ **Description:** Delete the attachment identified by {attachmentName} on a given page.\n\t+ **Status codes:**\n\t\t- 204: If the attachment was deleted.\n\t\t- 401: If the user is not authorized.\n\n### /wikis/{wikiName}/spaces/{spaceName}[/spaces/{nestedSpaceName}]\\*/pages/{pageName}/history/{version}/attachments[?start=offset&amp;number=n]\n\n* **HTTP Method:** GET\n\t+ **Media types:**\n\t\t- application/xml (Attachments element)\n\t+ **Description:** The list of attachments at a given page {version}.\n\t+ **Status codes:**\n\t\t- 200: If the request was successful.\n\t\t- 401: If the user is not authorized.\n\n",
      "similarity_score": 0.7755907773971558,
      "vector": null
    }
  ],
  "usage": {
    "prompt_tokens": 2356,
    "completion_tokens": 668,
    "total_tokens": 3024
  },
  "average_power_draw": null,
  "energy_consumption": null,
  "energy_per_input_token": null,
  "energy_per_output_token": null,
  "energy_per_total_token": null
}