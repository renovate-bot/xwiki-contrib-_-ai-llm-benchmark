{
  "id": "qa_017",
  "prompt": "Wie richte ich die Gruppensynchronisierung zwischen XWiki und meinem OpenID Connect-Anbieter ein?\nIch verwende einen OpenID Connect-Anbieter, der Gruppenanspr\u00fcche unterst\u00fctzt, und ich m\u00f6chte diese Gruppen mit XWiki-Gruppen synchronisieren. Wie ist der Prozess f\u00fcr die Einrichtung?",
  "expected_answer": "Um die Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter einzurichten:\n1. Suchen Sie die Datei `xwiki.properties` im Installationsverzeichnis von XWiki.\n2. \u00d6ffnen Sie die Datei mit einem Texteditor.\n3. Konfigurieren Sie die Gruppensynchronisierung, indem Sie die Eigenschaft `oidc.groups.claim` auf den Namen des Anspruchs setzen, den Ihr OpenID Connect-Anbieter verwendet, um Gruppeninformationen zu senden. Zum Beispiel:\n```java\n#-# Der Name des Anspruchs, der verwendet wird, um die Liste der Gruppen zu erhalten, zu denen der Benutzer geh\u00f6rt.\n# oidc.groups.claim=groups\n```\nErsetzen Sie `groups` durch den tats\u00e4chlichen Anspruchsnamen, der von Ihrem OpenID Connect-Anbieter bereitgestellt wird.\n1. Wenn Ihr OpenID Connect-Anbieter Gruppenmitgliedschaften als einzelnes Wertattribut sendet, das durch ein bestimmtes Zeichen (z. B. ein Komma) getrennt ist, konfigurieren Sie die Eigenschaft `oidc.groups.separator` mit dem entsprechenden Zeichen:\n```java\n#-# Wenn der Identit\u00e4tsanbieter Gruppenmitgliedschaften als einzelnes Wertattribut zur\u00fcckgibt, das mit einem Zeichen getrennt ist, zum Beispiel:\n# oidc.groups.separator=,\n```\nErsetzen Sie das Komma durch das tats\u00e4chliche Trennzeichen, das von Ihrem Anbieter verwendet wird.\n1. Wenn Sie die synchronisierten Gruppen bestimmten XWiki-Gruppen zuordnen m\u00f6chten, konfigurieren Sie die Eigenschaft `oidc.groups.mapping` mit den entsprechenden Zuordnungen:\n```java\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup\"=group1\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup2\"=group2\n```\nErsetzen Sie `MyXWikiGroup` und `MyXWikiGroup2` durch die Namen der XWiki-Gruppen, die Sie zuordnen m\u00f6chten, und `group1` und `group2` durch die tats\u00e4chlichen Gruppennamen, die von Ihrem OpenID Connect-Anbieter bereitgestellt werden.\n1. Speichern Sie die Datei `xwiki.properties` und starten Sie Ihre XWiki-Instanz neu, damit die \u00c4nderungen wirksam werden.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/SecondGenerationWiki/ \n\n\nUm die Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter einzurichten, m\u00fcssen Sie die OpenID Connect Authenticator-Erweiterung in XWiki verwenden. Hier sind die Schritte, die Sie befolgen sollten:\n\n1. **Installation der OpenID Connect Authenticator-Erweiterung**:\n   - Stellen Sie sicher, dass die OpenID Connect Authenticator-Erweiterung in Ihrer XWiki-Instanz installiert ist. Sie k\u00f6nnen die [Installationsanweisungen](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions) auf der XWiki-Website befolgen.\n\n2. **Konfiguration des OpenID Connect-Authentifikators**:\n   - \u00d6ffnen Sie die `xwiki.properties`-Datei in Ihrer XWiki-Instanz und konfigurieren Sie die OpenID Connect-Einstellungen. F\u00fcgen Sie die folgenden Einstellungen hinzu oder passen Sie sie an:\n     ```properties\n     oidc.endpoint.authorization=https://your-oidc-provider/authorize\n     oidc.endpoint.token=https://your-oidc-provider/token\n     oidc.endpoint.userinfo=https://your-oidc-provider/userinfo\n     oidc.client.id=your-client-id\n     oidc.client.secret=your-client-secret\n     oidc.scope=openid profile email groups\n     ```\n\n3. **Konfiguration der Gruppensynchronisierung**:\n   - Um die Gruppensynchronisierung zu aktivieren, m\u00fcssen Sie sicherstellen, dass Ihr OpenID Connect-Anbieter Gruppenanspr\u00fcche im `userinfo`-Endpunkt zur\u00fcckgibt.\n   - F\u00fcgen Sie in der `xwiki.properties`-Datei die folgende Einstellung hinzu, um die Gruppensynchronisierung zu aktivieren:\n     ```properties\n     oidc.groups.claim=groups\n     ```\n     Hierbei ist `groups` der Name des Anspruchs, den Ihr OpenID Connect-Anbieter f\u00fcr Gruppen verwendet.\n\n4. **Mapping der Gruppen**:\n   - Erstellen Sie in XWiki die entsprechenden Gruppen, die mit den Gruppenanspr\u00fcchen Ihres OpenID Connect-Anbieters \u00fcbereinstimmen.\n   - Sie k\u00f6nnen dies \u00fcber die XWiki-Benutzeroberfl\u00e4che tun, indem Sie zu `Administration` > `Benutzer & Gruppen` > `Gruppen` navigieren und die erforderlichen Gruppen erstellen.\n\n5. **Testen der Konfiguration**:\n   - Melden Sie sich mit einem Benutzerkonto an, das Mitglied einer Gruppe in Ihrem OpenID Connect-Anbieter ist.\n   - \u00dcberpr\u00fcfen Sie, ob der Benutzer nach der Anmeldung automatisch den entsprechenden XWiki-Gruppen hinzugef\u00fcgt wird.\n\n6. **Fehlerbehebung**:\n   - \u00dcberpr\u00fcfen Sie die XWiki-Logs auf Fehler oder Warnungen, die w\u00e4hrend des Authentifizierungsprozesses auftreten k\u00f6nnten.\n   - Stellen Sie sicher, dass die Gruppenanspr\u00fcche korrekt vom OpenID Connect-Anbieter zur\u00fcckgegeben werden und dass die Konfiguration in der `xwiki.properties`-Datei korrekt ist.\n\nDurch diese Schritte sollten Sie in der Lage sein, die Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter erfolgreich einzurichten. Weitere Details und spezifische Anweisungen finden Sie in der [Dokumentation zur OpenID Connect Authenticator-Erweiterung](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/).",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "* [Prerequisites &amp; Installation Instructions](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions)\n* [Dependencies](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies)\n# Description\n\nAllow an XWiki instance to authenticate on an OpenId Connect provider. It also performs automatic synchronization.\n\nSee also [OpenID Connect Provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/).\n\n![oidc_client_provider.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\n\nRelease notes can be found on [OpenID Connect project page](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\n\n# Main limitations\n\n* [Automatically authenticate user when coming back](https://jira.xwiki.org/browse/OIDC-16)\n\n# Configuration\n\n## Configuration Guides for specific systems\n\n### Lemon LDAP / Open PAAS\n\nA [configuration guide](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) is available to connect XWiki to LemonLDAP / OpenPAAS using the OpenIDC XWiki client.\n\n### OpenID Authentication with Keycloak\n\nA [configuration example for Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) is available.\n\n### Univention Corporate Server\n\nA [configuration example for Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) is available.\n\n## Configuration files\n\n### xwiki.cfg\n\n",
      "similarity_score": 0.811154305934906,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "## Authentication with a domain-based instance\n\nWhen XWiki is configured as a domain-based instance, users will not be automatically authenticated on every wiki by default, as the OIDC authenticator does not rely on the property xwiki.authentication.cookiedomains in xwiki.cfg.\n\nTo still allow users to be automatically authenticated when accessing one of the wikis of the farm, you will have to update the configuration of the session cookie of your servlet container so that this cookie gets set on a top-level domain, encompassing every wiki of farm. If your XWiki instance has very different domains for its wikis, this fix will not work.\n\nWhen using Tomcat as a servlet container, it&#x27;s possible to change the domain of the cookie JSESSIONID by adding the attribute sessionCookieDomain to context.xml as such :\n\n&lt;Context sessionCookieDomain=&quot;mytld.org&quot;&gt;  \n...  \n&lt;/Context&gt;# Endpoints\n\n## Callback\n\npath: **authenticator/callback**\n\n## [Back-Channel Logout](https://openid.net/specs/openid-connect-backchannel-1_0.html)\n\npath: **authenticator/backchannel\\_logout**\n\n# Bypass OpenID Connect\n\nAs indicated in the previous section you can disable OpenID Connect using the property oidc.skipped in the xwiki.properties file.\n\nIt&#x27;s also possible to skip OpenId Connect temporarily using a URL parameter: for example https://mydomain/xwiki/bin/view/Main/?oidc.skipped=true.\n\n",
      "similarity_score": 0.8066974878311157,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.ScalabilityPerformance",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance",
      "content": "\nXWiki is written in Java/Java EE. As such it scales as well as Java scales.\n\n# Multi Tenancy\n\nXWiki supports the ability to run hundreds and even thousands of wikis on the same JVM (i.e. same webapp).\n\nSome examples:\n\n* [MyXWiki](http://myxwiki.org/xwiki/bin/view/Main/WebHome) currently hosts over 170 wikis on a single JVM\n* [XWiki SAS Cloud](http://network.xwiki.com) currently hosts 1000+ wikis (but on several JVMs)\n\nSee the tutorial on [how to configure multi-tenancy](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Virtualization) to learn more.\n\n# Clustering\n\nXWiki provides an easy way to setup clustered instances of XWiki based on network events distribution. Clustering allows for 2 use cases:\n\n* Load distribution on several JVMs\n* Failover since if a machine is down the other ones are still available\n\nSee [Clustering](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Clustering) for more details.\n\n\n",
      "similarity_score": 0.8013969659805298,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.SecondGenerationWiki.WebHome",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/SecondGenerationWiki/",
      "content": "\n\n\n First generation wikis are used to collaborate on content. Second generation wikis (a.k.a Structured and Applications Wikis) can be used to create collaborative web applications (by using the wiki paradigm and editing wiki pages). XWiki can be used either as a first generation wiki or a second generation one.\n \n## First generation wikis\n\n Focused on **content** creation. Some example of features:\n * #### [Page editing](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing)\n\n\nUse simple wiki syntax to format text, create tables, create links, display images, etc. Alternatively use a powerful WYSIWYG editor to edit the content of pages.\n* #### [Version Control](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/VersionControl)\n\n\nAny change made in XWiki is saved under version control, meaning you can view any previous version of a page, compare different versions or rollback to any past version.\n* #### [Rights](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/RightsManagement)\n\n\nControl who can view, edit or delete pages in a flexible manner. Apply rights to a page, its children or an entire wiki.\n* #### [Search](https://extensions.xwiki.org/xwiki/bin/view/Extension/Search%20Application)\n\n\nAllows searching on the full wiki using wildcards, faceting search results, getting search result RSS feeds and more.\n* #### [Exports](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Exports)\n\n\nExport wiki pages to PDF, ODT, RTF, XML or HTML.\n\n\n\n",
      "similarity_score": 0.7996445894241333,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "# Dependencies\n\nDependencies for this extension (org.xwiki.contrib.oidc:oidc-authenticator 2.8.6):\n\n* org.xwiki.platform:xwiki-platform-oldcore 14.10\n* com.nimbusds:oauth2-oidc-sdk 11.10.1\n* [org.xwiki.contrib.oidc:oidc-provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/) 2.8.6\n* org.xwiki.contrib.oidc:oidc-authenticator-configuration 2.8.6\n* org.xwiki.contrib.oidc:oidc-authenticator-user 2.8.6\n\n\n",
      "similarity_score": 0.7988120913505554,
      "vector": null
    }
  ],
  "usage": {
    "prompt_tokens": 1702,
    "completion_tokens": 704,
    "total_tokens": 2406
  },
  "average_power_draw": null,
  "energy_consumption": null,
  "energy_per_input_token": null,
  "energy_per_output_token": null,
  "energy_per_total_token": null
}