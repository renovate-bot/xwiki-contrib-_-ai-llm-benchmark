{
  "id": "qa_026",
  "prompt": "Puis-je personnaliser les champs de profil utilisateur qui sont remplis \u00e0 partir du fournisseur OpenID Connect dans XWiki?\nJe souhaite mapper des champs de profil utilisateur suppl\u00e9mentaires de mon fournisseur OpenID Connect aux propri\u00e9t\u00e9s de l'utilisateur XWiki. Comment puis-je y parvenir?",
  "expected_answer": "Oui, vous pouvez personnaliser les champs de profil utilisateur qui sont remplis \u00e0 partir du fournisseur OpenID Connect en les mappant dans le fichier `xwiki.properties`.\n\nPour mapper des champs de profil utilisateur suppl\u00e9mentaires, utilisez la propri\u00e9t\u00e9 `oidc.user.mapping`. Voici un exemple de la fa\u00e7on de mapper des propri\u00e9t\u00e9s personnalis\u00e9es:\n\n```\n# oidc.user.mapping=myxproperty1=${oidc.user.subject}\n# oidc.user.mapping=myxproperty2=myprefix-${oidc.user.subject}\n```\n\nRemplacez `myxproperty1` et `myxproperty2` par les noms de propri\u00e9t\u00e9 d'utilisateur XWiki r\u00e9els, et `${oidc.user.subject}` par la variable appropri\u00e9e en fonction des donn\u00e9es fournies par votre fournisseur OpenID Connect.\n\nApr\u00e8s avoir configur\u00e9 les mappages, enregistrez le fichier `xwiki.properties` et red\u00e9marrez XWiki pour appliquer les modifications.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/DatabaseSupport \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Forms \n\n\nIl n'y a pas d'option directe pour personnaliser les champs de profil utilisateur \u00e0 partir du fournisseur OpenID Connect dans XWiki directement dans la configuration d'authentification. Cependant, il est possible de mapper des informations suppl\u00e9mentaires depuis votre fournisseur OpenID Connect aux propri\u00e9t\u00e9s de l'utilisateur XWiki en utilisant l'acc\u00e8s \u00e0 des API externes ou en programmation personnalis\u00e9e.\n\nVoici une m\u00e9thode g\u00e9n\u00e9rale pour ce faire :\n\n1. **Extraction des donn\u00e9es :** Vous devrez d'abord pouvoir r\u00e9cup\u00e9rer les informations souhait\u00e9es du fournisseur OpenID Connect. Cela peut \u00eatre r\u00e9alis\u00e9 via le flux de r\u00e9ponse OpenID Connect, qui vous permet d'acc\u00e9der \u00e0 un JWT (JSON Web Token) contenant toutes les informations de l'utilisateur.\n\n2. **Traitement des donn\u00e9es :** Une fois que vous avez r\u00e9cup\u00e9r\u00e9 les informations utilisateur, vous pouvez traiter ces donn\u00e9es pour extraire les informations sp\u00e9cifiques que vous souhaitez mapper aux champs de profil utilisateur XWiki.\n\n3. **Mise \u00e0 jour du profil utilisateur :** Utilisez l'API de l'utilisateur ou un script personnalis\u00e9 pour mettre \u00e0 jour le profil de l'utilisateur dans XWiki avec les informations r\u00e9cup\u00e9r\u00e9es.\n\n4. **Gestion des autorisations et des mises \u00e0 jour en temps r\u00e9el :** Vous devrez \u00e9galement configurer la gestion des droits d'acc\u00e8s et des mises \u00e0 jour en temps r\u00e9el pour garantir que chaque utilisateur peut uniquement acc\u00e9der aux informations qui lui sont destin\u00e9es et que ces informations sont mises \u00e0 jour automatiquement lorsque le fournisseur OpenID Connect fournit de nouvelles donn\u00e9es.\n\nEn g\u00e9n\u00e9ral, cela n\u00e9cessitera une bonne compr\u00e9hension des API du fournisseur OpenID Connect, ainsi qu'une comp\u00e9tence en programmation pour mettre en place la logique n\u00e9cessaire dans XWiki. Il pourrait \u00e9galement \u00eatre utile d'avoir un acc\u00e8s aux d\u00e9tails techniques du fournisseur OpenID Connect et de l'API XWiki pour vous assurer que tout fonctionne correctement.\n\nIl est important de noter que ce processus n\u00e9cessite une configuration personnalis\u00e9e et peut varier en fonction des sp\u00e9cificit\u00e9s de votre syst\u00e8me. Il serait pr\u00e9f\u00e9rable de consulter la documentation technique appropri\u00e9e ou de rechercher des exemples similaires dans le d\u00e9veloppement XWiki pour vous guider dans cette t\u00e2che sp\u00e9cifique.\n\nEnfin, assurez-vous d'impl\u00e9menter cette solution de mani\u00e8re s\u00e9curis\u00e9e en mettant en place des mesures ad\u00e9quates pour prot\u00e9ger les informations personnelles des utilisateurs.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "## Authentication with a domain-based instance\n\nWhen XWiki is configured as a domain-based instance, users will not be automatically authenticated on every wiki by default, as the OIDC authenticator does not rely on the property xwiki.authentication.cookiedomains in xwiki.cfg.\n\nTo still allow users to be automatically authenticated when accessing one of the wikis of the farm, you will have to update the configuration of the session cookie of your servlet container so that this cookie gets set on a top-level domain, encompassing every wiki of farm. If your XWiki instance has very different domains for its wikis, this fix will not work.\n\nWhen using Tomcat as a servlet container, it&#x27;s possible to change the domain of the cookie JSESSIONID by adding the attribute sessionCookieDomain to context.xml as such :\n\n&lt;Context sessionCookieDomain=&quot;mytld.org&quot;&gt;  \n...  \n&lt;/Context&gt;# Endpoints\n\n## Callback\n\npath: **authenticator/callback**\n\n## [Back-Channel Logout](https://openid.net/specs/openid-connect-backchannel-1_0.html)\n\npath: **authenticator/backchannel\\_logout**\n\n# Bypass OpenID Connect\n\nAs indicated in the previous section you can disable OpenID Connect using the property oidc.skipped in the xwiki.properties file.\n\nIt&#x27;s also possible to skip OpenId Connect temporarily using a URL parameter: for example https://mydomain/xwiki/bin/view/Main/?oidc.skipped=true.\n\n",
      "similarity_score": 0.8206812143325806,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.DatabaseSupport",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/DatabaseSupport",
      "content": "\nAll XWiki pages are saved in a relational database for better efficiency. This allows XWiki to be fast and scalable. It also allows you to use the [Programming](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Programming) features to perform queries in your pages on any data contained in other pages.\n\nTheoretically XWiki supports the [same databases Hibernate supports](https://community.jboss.org/wiki/SupportedDatabases2). This means that if you provide the correct Hibernate mapping file all those databases should work fine with XWiki.\n\nMore specifically the [XWiki Development Team officially supports a subset of all those databases](https://dev.xwiki.org/xwiki/bin/view/Community/DatabaseSupportStrategy).\n\n\n",
      "similarity_score": 0.819586455821991,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.Forms",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Forms",
      "content": "## Reference Form\n\nAnother good example of form utilization on XWiki.org is the [References page](https://www.xwiki.org/xwiki/bin/view/References/). When an user wants to add a new reference, the only thing he has to do is to type in the name of the reference he wants to add. He is then presented with a form he can fill in easily. Check it out and add your own project **[here](https://www.xwiki.org/xwiki/bin/view/References/)**!\n\n![editreference.png](https://www.xwiki.org/xwiki/bin/download/Documentation/UserGuide/Features/Forms/editreference.png?rev=1.2)\n\n## Questionnaire Form\n\nThanks to this mode, you can create advanced forms such as the following questionnaire:\n\n![Chestionar.png](https://www.xwiki.org/xwiki/bin/download/Documentation/UserGuide/Features/Forms/Chestionar.png?rev=1.2)\n\n\n",
      "similarity_score": 0.817495584487915,
      "vector": null
    }
  ],
  "usage": {
    "prompt_tokens": 882,
    "completion_tokens": 542,
    "total_tokens": 1424
  },
  "average_power_draw": 219.59515672396364,
  "energy_consumption": 1027.5024703123888,
  "energy_per_input_token": 0.45932162284863154,
  "energy_per_output_token": 1.148304057121579,
  "energy_per_total_token": 0.7215607235339809
}