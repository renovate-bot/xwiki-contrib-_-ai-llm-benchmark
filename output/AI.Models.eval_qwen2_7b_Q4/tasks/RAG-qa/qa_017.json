{
  "id": "qa_017",
  "prompt": "Wie richte ich die Gruppensynchronisierung zwischen XWiki und meinem OpenID Connect-Anbieter ein?\nIch verwende einen OpenID Connect-Anbieter, der Gruppenanspr\u00fcche unterst\u00fctzt, und ich m\u00f6chte diese Gruppen mit XWiki-Gruppen synchronisieren. Wie ist der Prozess f\u00fcr die Einrichtung?",
  "expected_answer": "Um die Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter einzurichten:\n1. Suchen Sie die Datei `xwiki.properties` im Installationsverzeichnis von XWiki.\n2. \u00d6ffnen Sie die Datei mit einem Texteditor.\n3. Konfigurieren Sie die Gruppensynchronisierung, indem Sie die Eigenschaft `oidc.groups.claim` auf den Namen des Anspruchs setzen, den Ihr OpenID Connect-Anbieter verwendet, um Gruppeninformationen zu senden. Zum Beispiel:\n```java\n#-# Der Name des Anspruchs, der verwendet wird, um die Liste der Gruppen zu erhalten, zu denen der Benutzer geh\u00f6rt.\n# oidc.groups.claim=groups\n```\nErsetzen Sie `groups` durch den tats\u00e4chlichen Anspruchsnamen, der von Ihrem OpenID Connect-Anbieter bereitgestellt wird.\n1. Wenn Ihr OpenID Connect-Anbieter Gruppenmitgliedschaften als einzelnes Wertattribut sendet, das durch ein bestimmtes Zeichen (z. B. ein Komma) getrennt ist, konfigurieren Sie die Eigenschaft `oidc.groups.separator` mit dem entsprechenden Zeichen:\n```java\n#-# Wenn der Identit\u00e4tsanbieter Gruppenmitgliedschaften als einzelnes Wertattribut zur\u00fcckgibt, das mit einem Zeichen getrennt ist, zum Beispiel:\n# oidc.groups.separator=,\n```\nErsetzen Sie das Komma durch das tats\u00e4chliche Trennzeichen, das von Ihrem Anbieter verwendet wird.\n1. Wenn Sie die synchronisierten Gruppen bestimmten XWiki-Gruppen zuordnen m\u00f6chten, konfigurieren Sie die Eigenschaft `oidc.groups.mapping` mit den entsprechenden Zuordnungen:\n```java\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup\"=group1\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup2\"=group2\n```\nErsetzen Sie `MyXWikiGroup` und `MyXWikiGroup2` durch die Namen der XWiki-Gruppen, die Sie zuordnen m\u00f6chten, und `group1` und `group2` durch die tats\u00e4chlichen Gruppennamen, die von Ihrem OpenID Connect-Anbieter bereitgestellt werden.\n1. Speichern Sie die Datei `xwiki.properties` und starten Sie Ihre XWiki-Instanz neu, damit die \u00c4nderungen wirksam werden.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance \n\n\nDie Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter kann durch die Verwendung des Extensions Plugins `OpenID Connect Authenticator` in XWiki erreicht werden. Hier sind die allgemeinen Schritte, die Sie befolgen sollten:\n\n1. **Prerequisites & Installation Instructions**\n   Stellen Sie sicher, dass Ihr System alle erforderlichen Voraussetzungen erf\u00fcllt und installieren Sie das Plugin `OpenID Connect Authenticator` in Ihrem XWiki-System.\n\n2. **Dependencies**\n   \u00dcberpr\u00fcfen Sie die Anforderungen an Ihre Systeme (wie z.B. Tomcat, Keycloak oder LemonLDAP/OpenPAAS) f\u00fcr eine korrekte Konfiguration mit dem OpenID Connect-Anbieter.\n\n3. **Konfiguration der Gruppen synchronisierung**\n   Nach der Installation des Plugins m\u00fcssen Sie die Gruppensynchronisierung konfigurieren. Dies kann \u00fcber das `xwiki.cfg`-Datei oder durch spezifische Anweisungen f\u00fcr bestimmte Systeme wie Keycloak, LemonLDAP/OpenPAAS oder Univention Corporate Server erfolgen.\n\n4. **Konfiguration in xwiki.properties**\n   Sie k\u00f6nnen die Konfigurationsparameter `oidc.skipped` in der `xwiki.properties`-Datei verwenden, um die OpenID Connect-Funktion zu deaktivieren oder tempor\u00e4r einzuschalten und abzuschalten.\n\n5. **Konfigurieren der Session-Cookie-Domain**\n   Wenn Ihr XWiki als Domain-basiertes System konfiguriert ist, m\u00fcssen Sie den Cookie-JSESSIONID des servlet Containers so konfigurieren, dass dieser Cookie auf einer Obergeburtdom\u00e4ne gesetzt wird, die alle Wikis Ihrer Farm umfasst.\n\n6. **Verwalten der Gruppen**\n   Nach der Konfiguration k\u00f6nnen Sie die Gruppen in Ihrem XWiki-System verwalten und diese mit den Gruppen von Ihrem OpenID Connect-Anbieter synchronisieren.\n\n\nBitte beachten Sie, dass die genauen Schritte variieren k\u00f6nnen, je nachdem wie Ihr OpenID Connect-Anbieter konfiguriert ist. Es ist empfehlenswert, sich die spezifischen Dokumentationen f\u00fcr Ihre Systeme und den Anbieter anzuzeigen.\n\nEs k\u00f6nnte auch hilfreich sein, eine Konfigurationsanleitung zu lesen oder einen Support von XWiki oder Ihrem OpenID Connect-Anbieter zu kontaktieren, um sicherzustellen, dass die Konfiguration korrekt durchgef\u00fchrt wird.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "* [Prerequisites &amp; Installation Instructions](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions)\n* [Dependencies](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies)\n# Description\n\nAllow an XWiki instance to authenticate on an OpenId Connect provider. It also performs automatic synchronization.\n\nSee also [OpenID Connect Provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/).\n\n![oidc_client_provider.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\n\nRelease notes can be found on [OpenID Connect project page](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\n\n# Main limitations\n\n* [Automatically authenticate user when coming back](https://jira.xwiki.org/browse/OIDC-16)\n\n# Configuration\n\n## Configuration Guides for specific systems\n\n### Lemon LDAP / Open PAAS\n\nA [configuration guide](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) is available to connect XWiki to LemonLDAP / OpenPAAS using the OpenIDC XWiki client.\n\n### OpenID Authentication with Keycloak\n\nA [configuration example for Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) is available.\n\n### Univention Corporate Server\n\nA [configuration example for Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) is available.\n\n## Configuration files\n\n### xwiki.cfg\n\n",
      "similarity_score": 0.811154305934906,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "## Authentication with a domain-based instance\n\nWhen XWiki is configured as a domain-based instance, users will not be automatically authenticated on every wiki by default, as the OIDC authenticator does not rely on the property xwiki.authentication.cookiedomains in xwiki.cfg.\n\nTo still allow users to be automatically authenticated when accessing one of the wikis of the farm, you will have to update the configuration of the session cookie of your servlet container so that this cookie gets set on a top-level domain, encompassing every wiki of farm. If your XWiki instance has very different domains for its wikis, this fix will not work.\n\nWhen using Tomcat as a servlet container, it&#x27;s possible to change the domain of the cookie JSESSIONID by adding the attribute sessionCookieDomain to context.xml as such :\n\n&lt;Context sessionCookieDomain=&quot;mytld.org&quot;&gt;  \n...  \n&lt;/Context&gt;# Endpoints\n\n## Callback\n\npath: **authenticator/callback**\n\n## [Back-Channel Logout](https://openid.net/specs/openid-connect-backchannel-1_0.html)\n\npath: **authenticator/backchannel\\_logout**\n\n# Bypass OpenID Connect\n\nAs indicated in the previous section you can disable OpenID Connect using the property oidc.skipped in the xwiki.properties file.\n\nIt&#x27;s also possible to skip OpenId Connect temporarily using a URL parameter: for example https://mydomain/xwiki/bin/view/Main/?oidc.skipped=true.\n\n",
      "similarity_score": 0.8066974878311157,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.ScalabilityPerformance",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance",
      "content": "\nXWiki is written in Java/Java EE. As such it scales as well as Java scales.\n\n# Multi Tenancy\n\nXWiki supports the ability to run hundreds and even thousands of wikis on the same JVM (i.e. same webapp).\n\nSome examples:\n\n* [MyXWiki](http://myxwiki.org/xwiki/bin/view/Main/WebHome) currently hosts over 170 wikis on a single JVM\n* [XWiki SAS Cloud](http://network.xwiki.com) currently hosts 1000+ wikis (but on several JVMs)\n\nSee the tutorial on [how to configure multi-tenancy](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Virtualization) to learn more.\n\n# Clustering\n\nXWiki provides an easy way to setup clustered instances of XWiki based on network events distribution. Clustering allows for 2 use cases:\n\n* Load distribution on several JVMs\n* Failover since if a machine is down the other ones are still available\n\nSee [Clustering](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Clustering) for more details.\n\n\n",
      "similarity_score": 0.8013969659805298,
      "vector": null
    }
  ],
  "usage": {
    "prompt_tokens": 1247,
    "completion_tokens": 535,
    "total_tokens": 1782
  },
  "average_power_draw": 217.70306370070782,
  "energy_consumption": 1029.6702515566267,
  "energy_per_input_token": 0.39840210932738507,
  "energy_per_output_token": 0.9960052733184627,
  "energy_per_total_token": 0.577817200649061
}