{
  "id": "qa_017",
  "prompt": "Wie richte ich die Gruppensynchronisierung zwischen XWiki und meinem OpenID Connect-Anbieter ein?\nIch verwende einen OpenID Connect-Anbieter, der Gruppenanspr\u00fcche unterst\u00fctzt, und ich m\u00f6chte diese Gruppen mit XWiki-Gruppen synchronisieren. Wie ist der Prozess f\u00fcr die Einrichtung?",
  "expected_answer": "Um die Gruppensynchronisierung zwischen XWiki und Ihrem OpenID Connect-Anbieter einzurichten:\n1. Suchen Sie die Datei `xwiki.properties` im Installationsverzeichnis von XWiki.\n2. \u00d6ffnen Sie die Datei mit einem Texteditor.\n3. Konfigurieren Sie die Gruppensynchronisierung, indem Sie die Eigenschaft `oidc.groups.claim` auf den Namen des Anspruchs setzen, den Ihr OpenID Connect-Anbieter verwendet, um Gruppeninformationen zu senden. Zum Beispiel:\n```java\n#-# Der Name des Anspruchs, der verwendet wird, um die Liste der Gruppen zu erhalten, zu denen der Benutzer geh\u00f6rt.\n# oidc.groups.claim=groups\n```\nErsetzen Sie `groups` durch den tats\u00e4chlichen Anspruchsnamen, der von Ihrem OpenID Connect-Anbieter bereitgestellt wird.\n1. Wenn Ihr OpenID Connect-Anbieter Gruppenmitgliedschaften als einzelnes Wertattribut sendet, das durch ein bestimmtes Zeichen (z. B. ein Komma) getrennt ist, konfigurieren Sie die Eigenschaft `oidc.groups.separator` mit dem entsprechenden Zeichen:\n```java\n#-# Wenn der Identit\u00e4tsanbieter Gruppenmitgliedschaften als einzelnes Wertattribut zur\u00fcckgibt, das mit einem Zeichen getrennt ist, zum Beispiel:\n# oidc.groups.separator=,\n```\nErsetzen Sie das Komma durch das tats\u00e4chliche Trennzeichen, das von Ihrem Anbieter verwendet wird.\n1. Wenn Sie die synchronisierten Gruppen bestimmten XWiki-Gruppen zuordnen m\u00f6chten, konfigurieren Sie die Eigenschaft `oidc.groups.mapping` mit den entsprechenden Zuordnungen:\n```java\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup\"=group1\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup2\"=group2\n```\nErsetzen Sie `MyXWikiGroup` und `MyXWikiGroup2` durch die Namen der XWiki-Gruppen, die Sie zuordnen m\u00f6chten, und `group1` und `group2` durch die tats\u00e4chlichen Gruppennamen, die von Ihrem OpenID Connect-Anbieter bereitgestellt werden.\n1. Speichern Sie die Datei `xwiki.properties` und starten Sie Ihre XWiki-Instanz neu, damit die \u00c4nderungen wirksam werden.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance \n\n\nSie k\u00f6nnen den Abgleichprozess zwischen Ihrem Xwiki und einem OpenID Connect-Anbieter zum Synchronisieren von Gruppen durch Befolgen dieser Schritte einrichten:\n\n1. Konfigurieren Sie die Integration mit dem OIDC-Dienstanbieter \u00fcber eine YAML-Datei im Verzeichnis 'etc/oidc'. Diese Datei enth\u00e4lt Informationen zu Ihrem Anbieternamen, dem Benutzerverwaltungssystem des Dienstanbieters und andere Details zum Abgleich.\n2. F\u00fcgen Sie die OAuth 2.0-Erweiterung in XWiki ein. Diese Erweiterung bietet eine Methode \"Synchronization\" f\u00fcr die Integration von OpenID Connect.\n3. Konfigurieren des Xwiki-Caches, der Informationen zwischen dem Dienstanbieter und Ihrem Xwiki tauscht. Dieser Cache befindet sich im Ordner \"var/cache\" auf einem Apache-Knoten und erzeugt bei jedem Start einen tempor\u00e4ren Datensatz (dessen Name ist ziemlich offensichtlich) in der Datenbank, sodass die Synchronisierung \u00fcberhaupt m\u00f6glich ist.\n4. Stellen Sie sicher, dass Ihre XWiki-Instanz ein OpenID Connect Provider-Plugin eingerichtet hat, das mit dem Anbieter integriert werden muss: \n* [Erstellung einer Konfigurationsdatei f\u00fcr die Integration](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Provider/)\n* Einrichten des Authentifizierungsservers in XWiki und anpassen der Benutzerauthentifikatordatei \n5. Konfigurieren Sie die Gruppensynchronisierung selbst, was dazu f\u00fchrt, dass sie automatisch beim Laden einer Seite ausgef\u00fchrt wird. Wenn Sie Ihren Dienstanbieter nicht mit einer integrierten Authentifizierungsmethode verwenden, sollten Sie die \"oidc_enabled\"-Eigenschaft in der Datei xwiki.properties auf true setzen. \n6. F\u00fcr einzelne Benutzer m\u00fcssen Sie XWikis Gruppenstruktur so anpassen, dass sie OpenID Connect benachbarten erfasst sind, um sicherzustellen, dass die Synchronisation von Gruppen \u00fcbernommen wird. Hierf\u00fcr sollten Sie in der Datei \"oidc_groups\" das Feld \"oidcGroupCacheSize\" auf einen geeigneten Wert einstellen.\n6. Das System l\u00f6scht automatisch Gruppen beim Anmelden des Benutzers, was bedeutet, dass sie nur die neuen (neuen oder ge\u00e4nderten) Benutzerinformationen sichtbar machen wird und sicherstellt, dass alle Daten mit Ihrem OIDC-Providern synchronisiert werden.\n7. Sie k\u00f6nnen auch tempor\u00e4ren Abgleich umschalten, indem Sie einen URL-Parameter zu Ihrer Xwiki-URL hinzuf\u00fcgen: https://mydomain/xwiki/? oidc.skipped = true (um die Synchronisation vor\u00fcbergehend zu \u00fcberspringen). \n8. Verwenden von OAuth 2.0 Anmeldungssperre, um sicherzustellen, dass Ihr OIDC-Provider f\u00fcr die Authentifizierung des Dienstanbieters verwendet wird.\nStellen Sie au\u00dferdem sicher, dass XWiki Unterverzeichnisse unterst\u00fctzen k\u00f6nnen kann (\u00fcber 100 wiki sitz auf einem einzigen JVM), was bei vielen Benutzerbetten mit OpenID Connect-Anbieter von hohem Grad n\u00fctzlich sein wird.\n\n# You are given a hypothetebiography about XWiki with detailed instructions on how to enable and manage the synchronization of group memberships between Xwiki and your OpenID Connect provider, as well as an informational resources like tutorials or documentation related to setting up this functionality in Xwiki: https://www.xwiki.org/XWiki/bin/view/Documentation/OpenIDConnect/GroupSynchronization \n\nMit diesen Schritten sollten Sie in der Lage sein, die Gruppensynchronisierung zwischen Xwiki und Ihrem OpenID Connect-Anbieter zu implementieren.\nBitte ersetzen Sie 'mydomain' durch den Namen Ihres Dienstleistungsanbieters (z. B) Google, LinkedIn etc.)",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "* [Prerequisites &amp; Installation Instructions](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions)\n* [Dependencies](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies)\n# Description\n\nAllow an XWiki instance to authenticate on an OpenId Connect provider. It also performs automatic synchronization.\n\nSee also [OpenID Connect Provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/).\n\n![oidc_client_provider.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\n\nRelease notes can be found on [OpenID Connect project page](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\n\n# Main limitations\n\n* [Automatically authenticate user when coming back](https://jira.xwiki.org/browse/OIDC-16)\n\n# Configuration\n\n## Configuration Guides for specific systems\n\n### Lemon LDAP / Open PAAS\n\nA [configuration guide](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) is available to connect XWiki to LemonLDAP / OpenPAAS using the OpenIDC XWiki client.\n\n### OpenID Authentication with Keycloak\n\nA [configuration example for Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) is available.\n\n### Univention Corporate Server\n\nA [configuration example for Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) is available.\n\n## Configuration files\n\n### xwiki.cfg\n\n",
      "similarity_score": 0.811154305934906,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "## Authentication with a domain-based instance\n\nWhen XWiki is configured as a domain-based instance, users will not be automatically authenticated on every wiki by default, as the OIDC authenticator does not rely on the property xwiki.authentication.cookiedomains in xwiki.cfg.\n\nTo still allow users to be automatically authenticated when accessing one of the wikis of the farm, you will have to update the configuration of the session cookie of your servlet container so that this cookie gets set on a top-level domain, encompassing every wiki of farm. If your XWiki instance has very different domains for its wikis, this fix will not work.\n\nWhen using Tomcat as a servlet container, it&#x27;s possible to change the domain of the cookie JSESSIONID by adding the attribute sessionCookieDomain to context.xml as such :\n\n&lt;Context sessionCookieDomain=&quot;mytld.org&quot;&gt;  \n...  \n&lt;/Context&gt;# Endpoints\n\n## Callback\n\npath: **authenticator/callback**\n\n## [Back-Channel Logout](https://openid.net/specs/openid-connect-backchannel-1_0.html)\n\npath: **authenticator/backchannel\\_logout**\n\n# Bypass OpenID Connect\n\nAs indicated in the previous section you can disable OpenID Connect using the property oidc.skipped in the xwiki.properties file.\n\nIt&#x27;s also possible to skip OpenId Connect temporarily using a URL parameter: for example https://mydomain/xwiki/bin/view/Main/?oidc.skipped=true.\n\n",
      "similarity_score": 0.8066974878311157,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.ScalabilityPerformance",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ScalabilityPerformance",
      "content": "\nXWiki is written in Java/Java EE. As such it scales as well as Java scales.\n\n# Multi Tenancy\n\nXWiki supports the ability to run hundreds and even thousands of wikis on the same JVM (i.e. same webapp).\n\nSome examples:\n\n* [MyXWiki](http://myxwiki.org/xwiki/bin/view/Main/WebHome) currently hosts over 170 wikis on a single JVM\n* [XWiki SAS Cloud](http://network.xwiki.com) currently hosts 1000+ wikis (but on several JVMs)\n\nSee the tutorial on [how to configure multi-tenancy](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Virtualization) to learn more.\n\n# Clustering\n\nXWiki provides an easy way to setup clustered instances of XWiki based on network events distribution. Clustering allows for 2 use cases:\n\n* Load distribution on several JVMs\n* Failover since if a machine is down the other ones are still available\n\nSee [Clustering](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Clustering) for more details.\n\n\n",
      "similarity_score": 0.8013969659805298,
      "vector": null
    }
  ],
  "usage": {
    "prompt_tokens": 1569,
    "completion_tokens": 998,
    "total_tokens": 2567
  },
  "average_power_draw": 266.97012056996715,
  "energy_consumption": 3500.307708362112,
  "energy_per_input_token": 0.8612961880812283,
  "energy_per_output_token": 2.1532404702030705,
  "energy_per_total_token": 1.3635791618083801
}