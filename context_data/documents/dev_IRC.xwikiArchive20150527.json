{"id": "dev:IRC.xwikiArchive20150527", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150527", "title": "IRC Archive for channel #xwiki on 27 May 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis2>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:33\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:02\u00a0<mflorea>\u00a0has joined #xwiki  \n08:06\u00a0<MasterPiece>\u00a0has quit  \n08:23\u00a0<vmassol>\u00a0has joined #xwiki  \n08:28\u00a0<woshilapin>\u00a0has quit  \n08:31\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:32\u00a0<tmortagne>\u00a0has quit  \n08:34\u00a0<msmeria>\u00a0has joined #xwiki  \n08:47\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:50\u00a0<cjd>\u00a0has joined #xwiki  \n08:54\u00a0<ol-ow2>\u00a0has joined #xwiki  \n08:54\u00a0\\*\u00a0ol-ow2 bonjour tout le monde  \n09:33\u00a0<gsmeria>\u00a0has quit  \n09:33\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:34\u00a0<Slashman>\u00a0has joined #xwiki  \n09:34\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:36\u00a0<cjd>\u00a0Good morning gd, thanks for taking care of totem and multiselect  \n09:36\u00a0<cjd>\u00a0is there anything else that is needed from us on those items ?  \n09:36\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:39\u00a0<gdelhumeau>\u00a0has quit  \n09:47\u00a0<KermitTheFragger>\u00a0has quit  \n09:49\u00a0<woshilapin>\u00a0has quit  \n09:52\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:52\u00a0<Denis2>\u00a0is now known as <Denis>  \n09:53\u00a0<msmeria>\u00a0has quit  \n09:54\u00a0<msmeria>\u00a0has joined #xwiki  \n09:55\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:57\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:58\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:58\u00a0<msmeria>\u00a0has quit  \n10:47\u00a0<silverdrop>\u00a0has joined #xwiki  \n10:50\u00a0<gsmeria>\u00a0has quit  \n10:57\u00a0<cjd>\u00a0gdelhumeau: not sure if you got my message earlier but thanks for your work releasing totem and multiselect and is there anything else you will need from us ?  \n10:58\u00a0<gdelhumeau>\u00a0I hope it's working fine for you  \n10:58\u00a0<gdelhumeau>\u00a0did you test the releases?  \n10:58\u00a0<cjd>\u00a0https://labs.xwiki.com  \n10:58\u00a0<cjd>\u00a0it's deployed  \n10:59\u00a0<gdelhumeau>\u00a0didn't know this site  \n10:59\u00a0<gdelhumeau>\u00a0nice one!  \n10:59\u00a0<cjd>\u00a0there are issues but it's still in development so we need to decide what's most important (and get user feedback about that's causing problems)  \n10:59\u00a0<cjd>\u00a0ahh, sorry for not letting people know better, especially since you're part of it !  \n11:00\u00a0<cjd>\u00a0we're not really ready to go public yet but we should have communicated better to others in xwiki R&D  \n11:02\u00a0<gdelhumeau>\u00a0according to the picture, you personify the innovation :)  \n11:03\u00a0<cjd>\u00a0would you be interested in giving a lecture somewhere?  \n11:03\u00a0<cjd>\u00a0it's a serious question actually, that's part of what labs is about  \n11:05\u00a0<cjd>\u00a0another issue which we haven't really settled is how much in/out of labs are you/thomas/vincent, you're technically in but your interactions are mediated through the roadmap process... IMO you guys should be able to have profiles in the labs website but it's up to you  \n11:07\u00a0<vmassol>\u00a0since labs is not opensource and is an xwiki SAS initiative I propose we discuss this internally :)  \n11:07\u00a0<cjd>\u00a0well it's definitely open source but indeed it might be a bit off topic for this channel, sorry about that.  \n11:08\u00a0<vmassol>\u00a0it is? so anyone can edit the website and change the content? :)  \n11:09\u00a0<vmassol>\u00a0(opensoure wasn't the rigth word)  \n11:09\u00a0<vmassol>\u00a0(I meant community-driven)  \n11:20\u00a0<gsmeria>\u00a0has joined #xwiki  \n11:54\u00a0<evalica>\u00a0has joined #xwiki  \n11:56\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:31\u00a0<Enygma`>\u00a0has quit  \n12:32\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:38\u00a0<Bugendolf>\u00a0has quit  \n12:39\u00a0<Bugendolf>\u00a0has joined #xwiki  \n12:49\u00a0<gdelhumeau>\u00a0has quit  \n12:49\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n12:51\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n12:55\u00a0<gdelhumeau>\u00a0has quit  \n13:31\u00a0<gdelhumeau\\_\\_>\u00a0has joined #xwiki  \n13:36\u00a0<gdelhumeau\\_>\u00a0has quit  \n13:58\u00a0<vmassol>\u00a0mflorea: hi, since jira wasn't sending emails, you may have missed my comment at http://jira.xwiki.org/browse/XWIKI-9229  \n13:59\u00a0<vmassol>\u00a0mflorea: we can brainstorm about it when you have some time (not urgent)  \n14:21\u00a0<mflorea>\u00a0vmassol: ok, I'm busy with the 7.1 roadmap this week. We can talk after 7.1.  \n14:21\u00a0<vmassol>\u00a0yep  \n14:22\u00a0<vmassol>\u00a0thx  \n15:21\u00a0<gsmeria>\u00a0has quit  \n15:21\u00a0<OSIMasson>\u00a0has quit  \n15:22\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:43\u00a0<evalica>\u00a0has quit  \n15:46\u00a0<evalica>\u00a0has joined #xwiki  \n15:48\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:13\u00a0<gsmeria>\u00a0has quit  \n16:14\u00a0<gsmeria>\u00a0has joined #xwiki  \n16:19\u00a0<evalica>\u00a0has quit  \n16:28\u00a0<gsmeria>\u00a0has quit  \n16:28\u00a0<msmeria1>\u00a0has quit  \n16:39\u00a0<evalica>\u00a0has joined #xwiki  \n16:41\u00a0<Slashman>\u00a0has quit  \n16:43\u00a0<Trefex>\u00a0has joined #xwiki  \n16:57\u00a0<Slashman>\u00a0has joined #xwiki  \n17:02\u00a0<Trefex>\u00a0is it safe to take the milestone version?  \n17:02\u00a0<Trefex>\u00a0or better to take 7.0.1 ?  \n17:03\u00a0<tmortagne>\u00a0Trefex: milestone basically mean beta so not really safe no  \n17:03\u00a0<vmassol>\u00a0depends what you mean by safe :)  \n17:03\u00a0<Trefex>\u00a0tmortagne: the install instructions point to the wrong deb anyway  \n17:03\u00a0<tmortagne>\u00a0the current stable is 7.0.1 and the current LTS is 6.4.4  \n17:03\u00a0<Trefex>\u00a0also, is it safe to use now tomcat8 ?  \n17:04\u00a0<vmassol>\u00a0if you mean use it in production then you should use LTS probably  \n17:04\u00a0<tmortagne>\u00a0Trefex: which install instructions ?  \n17:04\u00a0<Trefex>\u00a0and finally can i install xwiki-solr-data on top of Deb package or ?  \n17:04\u00a0<Trefex>\u00a0i want bleeding edge in production, so 7 i guess  \n17:04\u00a0<vmassol>\u00a0if your production is not critical then 7.0.1 is good  \n17:04\u00a0<vmassol>\u00a0yup  \n17:04\u00a0<Trefex>\u00a0http://enterprise.xwiki.org/xwiki/bin/view/Main/Download  \n17:04\u00a0<vmassol>\u00a0bleeding edge is 7.1M2 :)  \n17:04\u00a0<Trefex>\u00a0for Debian, the instructions point to the stable deb packages  \n17:05\u00a0<Trefex>\u00a0well, yeah, but there was a bug last time i installed 7  \n17:05\u00a0<tmortagne>\u00a0how is pointing to the stable branch would be wrong ?  \n17:05\u00a0<Trefex>\u00a0with the version of some library  \n17:05\u00a0<Trefex>\u00a0i even forgot the issue, but tmortagne or vmassol you guys should recall :D  \n17:05\u00a0<vmassol>\u00a0only one?  \n17:05\u00a0<Trefex>\u00a0tmortagne: because the install instructions should be for 7.1M2  \n17:05\u00a0<vmassol>\u00a0:)  \n17:06\u00a0<Trefex>\u00a0it was a bad symlink to something, i forgot :P  \n17:06\u00a0<Trefex>\u00a0so tomcat 8 / pgSQL is good ye?  \n17:06\u00a0<Trefex>\u00a0or you prefer MySQL?  \n17:06\u00a0<tmortagne>\u00a0Trefex: no the install instaructions should not recommand to use a beta version...  \n17:07\u00a0<Trefex>\u00a0of course they should, http://enterprise.xwiki.org/xwiki/bin/view/Main/Download clearly shows a banner for 7.1M2  \n17:07\u00a0<Trefex>\u00a0all links except the Debian one point to a 7.1M2 installer  \n17:07\u00a0<Trefex>\u00a0so i expect the instructions for the beta to point to the beta ?  \n17:07\u00a0<Trefex>\u00a0i mean maybe i'm just weird :D  \n17:07\u00a0<tmortagne>\u00a0it's written nowhere in http://enterprise.xwiki.org/xwiki/bin/view/Main/Download that you SHOULD use the last beta version  \n17:08\u00a0<Trefex>\u00a0i know, but the install instructions linked there FOR 7.1M2 point to the stable version  \n17:08\u00a0<Trefex>\u00a0that's all I'm saying :)  \n17:08\u00a0<Trefex>\u00a0i don't care, since i won't use it, just a small nitpicking from my side  \n17:08\u00a0<tmortagne>\u00a0the link just go the the general Debian documentation  \n17:09\u00a0<tmortagne>\u00a0there is only one documentation  \n17:09\u00a0<Trefex>\u00a0yeah it's just misleading is all :)  \n17:09\u00a0<tmortagne>\u00a0which clearly indicate what choices you have  \n17:09\u00a0<Trefex>\u00a0yeah ok  \n17:09\u00a0<Trefex>\u00a0see what you mean  \n17:10\u00a0<Trefex>\u00a0gonna try 7.0.1 one then :)  \n17:12\u00a0<Trefex>\u00a0just a question, will xwiki-enterprise-tomcat8-pgsql also install solr as backend search engine?  \n17:12\u00a0<Trefex>\u00a0or why is there a xwiki-solr package as well? I'm not sure I got that from the doc  \n17:13\u00a0<tmortagne>\u00a0Trefex: right now XWiki embedded solr by defaut so you don't really need the solr package, it's just provide as helper for someone that want to start using a standalone instance of Solr  \n17:13\u00a0<tmortagne>\u00a0s/provide/provided/  \n17:13\u00a0<Trefex>\u00a0i see, ok thank you  \n17:14\u00a0<Trefex>\u00a0xwiki-enterprise-tomcat8-pgsql : Depends: tomcat8 but it is not installable  \n17:14\u00a0<Trefex>\u00a0when trying to install on Ubuntu 14.04  \n17:14\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n17:15\u00a0<tmortagne>\u00a0well I guess it means tomcat 8 is not available on Ubuntu 14.04 repositories  \n17:16\u00a0<Trefex>\u00a0ah you're right  \n17:16\u00a0<ol-ow2>\u00a0has quit  \n17:16\u00a0<tmortagne>\u00a0but you can probably download a tomcat 8 deb file somewhere  \n17:16\u00a0<tmortagne>\u00a0hmm not sure how clean that would be  \n17:16\u00a0<tmortagne>\u00a0I usually still use tomcat 7 myself on 14.04  \n17:16\u00a0<Trefex>\u00a0i can use 7  \n17:17\u00a0<Trefex>\u00a0frankly don't care so much  \n17:17\u00a0<tmortagne>\u00a0we got a report of some sessions issue with tomcat 8 recently so it might be for the best anyway  \n17:18\u00a0<Trefex>\u00a0ah i recall now, it was a bad symlink to the pgsql jdbc driver  \n17:20\u00a0<tmortagne>\u00a0right jdbc3 vs jdbc4  \n17:20\u00a0<tmortagne>\u00a0there was (and still is) also an issue with older jdbc drivers but should be ok on ubuntu 14.04  \n17:41\u00a0<Trefex>\u00a0what's this now?  \n17:41\u00a0<Trefex>\u00a0ERROR: encoding \"UTF8\" does not match locale \"en\\_US\" DETAIL: The chosen LC\\_CTYPE setting requires encoding \"LATIN1\".  \n17:42\u00a0<Trefex>\u00a0this happened now using dbconfig-common  \n17:42\u00a0<Trefex>\u00a0locale is set to en\\_US.UTF-8  \n17:47\u00a0<Trefex>\u00a0tmortagne: vmassol any ideas?  \n17:48\u00a0<tmortagne>\u00a0that's weird, I have the same locale and never got this error  \n17:48\u00a0<tmortagne>\u00a0do you have more ?  \n17:49\u00a0<vmassol>\u00a0what does google say Trefex?  \n17:49\u00a0<Trefex>\u00a0google says nothing informative  \n17:50\u00a0<Trefex>\u00a0since i'm using dbconfig-common  \n17:50\u00a0<vmassol>\u00a0I see a lot of info  \n17:50\u00a0<mflorea>\u00a0has quit  \n17:51\u00a0<Trefex>\u00a0well shouldn't dbconfig-common just work with en\\_US.UTF-8 locale?  \n17:51\u00a0<Trefex>\u00a0i mean the info is all related on how to create the DB by hand  \n17:51\u00a0<Trefex>\u00a0which i don't want to do  \n17:51\u00a0<vmassol>\u00a0I don't even know what dbconfog-commons is\u00e7  \n17:52\u00a0<vmassol>\u00a0doesn't seem xwiki-related  \n17:52\u00a0<Trefex>\u00a0it's what pop up when you use the xwiki package  \n17:52\u00a0<cjd>\u00a0Trefex: I think it's telling you that UTF8 negates the necessity for a locale because it can represent every language  \n17:52\u00a0<Slashman>\u00a0has quit  \n17:52\u00a0<vmassol>\u00a0I seee lots of google info about this error and pgsql  \n17:52\u00a0<cjd>\u00a0so just specify UTF-8  \n17:52\u00a0<Trefex>\u00a0omg  \n17:52\u00a0<Trefex>\u00a0i'm just gonna use MySQL  \n17:52\u00a0<tmortagne>\u00a0you can see what is executed during the pgsql install package in https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-installers/xwiki-enterprise-installer-debian/xwiki-enterprise-installer-debian-pgsql-common/src/deb/control/postinst  \n17:53\u00a0<Trefex>\u00a0cjd: \u00a0instead of en\\_US.UTF-8 just use UTF-8 ?  \n17:53\u00a0<cjd>\u00a0Trefex: IMO yes, but that's just a guess  \n17:53\u00a0<cjd>\u00a0I've noticed we have a lot of postgres users lately, maybe we should start playing with it more so we know the issues that come up  \n17:53\u00a0<cjd>\u00a0it's a really good database  \n17:54\u00a0<Trefex>\u00a0i mean that seems to be an issue then in the installer no?  \n17:54\u00a0<Trefex>\u00a0the UTF8 is hardcoded there  \n17:54\u00a0<tmortagne>\u00a0it's hardcoded because XWiki require UTF8  \n17:55\u00a0<tmortagne>\u00a0but there is no reason pgsql don't support UTF8  \n17:55\u00a0<Trefex>\u00a0yeah but shouldn't the lc\\_type be set explicitly then?  \n17:55\u00a0<Trefex>\u00a0to allow for de\\_DE.UTF or en\\_GB.UTF or whatever  \n17:55\u00a0<cjd>\u00a0no  \n17:55\u00a0<tmortagne>\u00a0I don't see what lc\\_type has to do here  \n17:55\u00a0<Trefex>\u00a0or \u2014locale  \n17:55\u00a0<cjd>\u00a0UTF8 can support US, DE, GB, etc etc even Chinese  \n17:55\u00a0<tmortagne>\u00a0the script is about postgre database encoding, not the system locale  \n17:56\u00a0<tmortagne>\u00a0UTF8 support any character, that's why XWiki is using it  \n17:56\u00a0<Trefex>\u00a0well the DB can't be created if your locale is set to en\\_US.UTF-8  \n17:56\u00a0<tmortagne>\u00a0we do the exact same thing in the MySQL installer  \n17:56\u00a0<Trefex>\u00a0i don't want to change my system to UTF-8 only  \n17:56\u00a0<Trefex>\u00a0or maybe apt is stupid  \n17:57\u00a0<cjd>\u00a0maybe the .deb file is misconfigured? it's proposing that by default?  \n17:57\u00a0<tmortagne>\u00a0it does not make much sense to not being able to create the database with the encoding you want, I did not get this error last time I tried, and \u00a0know people are using pgsql installer  \n17:58\u00a0<Trefex>\u00a0ok i'll create the VM from scratch, set my en\\_US.UTF-8 via puppet, and then start the installer  \n17:58\u00a0<cjd>\u00a0ahh I see, you mean your locale for your shell  \n17:58\u00a0<Trefex>\u00a0yeah  \n17:58\u00a0<cjd>\u00a0I get it now  \n17:58\u00a0<cjd>\u00a0ok that's just dumb, I'm not sure whose fault it is but that's really dumb...  \n17:59\u00a0<tmortagne>\u00a0all the installer does is setting the encoding to use the the create database to 'UTF8', nothing more  \n17:59\u00a0<cjd>\u00a0If the ENV variable is set to en\\_US... then postgres can't create dbs, it's a debian bug  \n17:59\u00a0<Trefex>\u00a0omg seriously  \n17:59\u00a0<vmassol>\u00a0this is the first link in google: http://www.pebra.net/blog/2013/06/10/when-struggling-with-postgresql-and-utf8-slash-latin/ doesn't it help?  \n18:00\u00a0<vmassol>\u00a0create database template1 with owner postgres encoding='UTF-8'  \n18:00\u00a0<vmassol> lc\\_collate='en\\_US.utf8' lc\\_ctype='en\\_US.utf8' template template0;  \n18:00\u00a0<Trefex>\u00a0yes but i don't want to do that  \n18:00\u00a0<Trefex>\u00a0the installer should do this correctly  \n18:00\u00a0<Trefex>\u00a0imho  \n18:00\u00a0<cjd>\u00a0ok so we need to work around it then  \n18:01\u00a0<tmortagne>\u00a0the installer does not set any env var, it just tell debconf to use UTF8 to create the database  \n18:01\u00a0<Sorinello>\u00a0has quit  \n18:01\u00a0<Trefex>\u00a0ok small comment, in the github snippet it says UTF8, and on that page it says UTF-8 for the encoding argument  \n18:01\u00a0<cjd>\u00a0tmortagne: it's set that way because he lives in the US, it's a debian bug that is breaking creation of dbs in postgres, we just need to work around it  \n18:02\u00a0<tmortagne>\u00a0cjd: not sure what we can do about that, unset the locale ?  \n18:02\u00a0<tmortagne>\u00a0that would be quite a hack...  \n18:02\u00a0<vmassol>\u00a0it should be UTF-8 (http://stackoverflow.com/questions/809620/utf8-or-utf-8)  \n18:02\u00a0<cjd>\u00a0can you pass the encoding explicitly ?  \n18:02\u00a0<Trefex>\u00a0lc\\_collate='en\\_US.utf8' lc\\_ctype='en\\_US.utf8'  \n18:03\u00a0<Trefex>\u00a0you can set these options it seems  \n18:03\u00a0<tmortagne>\u00a0cjd: as I said several times thats what the script does  \n18:03\u00a0<tmortagne>\u00a0dbc\\_pgsql\\_createdb\\_encoding='UTF8'  \n18:03\u00a0<tmortagne>\u00a0see https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-installers/xwiki-enterprise-installer-debian/xwiki-enterprise-installer-debian-pgsql-common/src/deb/control/postinst  \n18:03\u00a0<Trefex>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-installers/xwiki-enterprise-installer-debian/xwiki-enterprise-installer-debian-pgsql-common/src/deb/control/postinst#L14  \n18:03\u00a0<cjd>\u00a0tmortagne: ok maybe then indeed we need to unset LANG=  \n18:04\u00a0<Trefex>\u00a0if this works create database template1 with owner postgres encoding='UTF-8'  \n18:04\u00a0<Trefex>\u00a0why not simply add lc\\_collate and lc\\_ctype if they are set from the ENV variables?  \n18:04\u00a0<Trefex>\u00a0in the postinst script  \n18:05\u00a0<tmortagne>\u00a0the script does not execute the create database, debconf does  \n18:06\u00a0<tmortagne>\u00a0debconf does not seems to provide much more than dbc\\_pgsql\\_createdb\\_encoding  \n18:07\u00a0<woshilapin>\u00a0has quit  \n18:07\u00a0<cjd>\u00a0\\*maybe\\* \u00a0\u00a0dbc\\_go xwiki lc\\_collate=${LANGUAGE}.utf8 $@  \n18:07\u00a0<cjd>\u00a0idk  \n18:08\u00a0<Trefex>\u00a0well i'm certainly no expert on this  \n18:08\u00a0<cjd>\u00a0or just LANG=${LANGUAGE}.utf8 \u00a0\u00a0and call it a day  \n18:09\u00a0<cjd>\u00a0if you put that in line 13 in the actual deb, does it install properly?  \n18:10\u00a0<Trefex>\u00a0can i open a deb?  \n18:10\u00a0<cjd>\u00a0it's technically a tar.gz  \n18:10\u00a0<cjd>\u00a0so that postinst is inside of it  \n18:12\u00a0<Trefex>\u00a0can't do this today  \n18:12\u00a0<Trefex>\u00a0i can give it a go tomorrow  \n18:12\u00a0<cjd>\u00a0if you could open an issue on the xwiki bugtracker and report this, that would be great  \n18:12\u00a0<Trefex>\u00a0also tomorrow  \n18:12\u00a0<Trefex>\u00a0;)  \n18:12\u00a0<cjd>\u00a0and if you could show whether the change fixes it, that would be really really great :D  \n18:13\u00a0<cjd>\u00a0ok  \n18:13\u00a0<Trefex>\u00a0ahhhh  \n18:13\u00a0<Trefex>\u00a0will have to check which debs to get, how to unpack, repack and so on  \n18:13\u00a0<Trefex>\u00a0but i guess i'll give it a go  \n18:13\u00a0<cjd>\u00a0should work in file-roller, that lets you edit a file inside of a .tar.gz and when you save it asks you if you want to repack the file  \n18:14\u00a0<cjd>\u00a0if your desktop is linux  \n18:14\u00a0<Trefex>\u00a0mac  \n18:15\u00a0<cjd>\u00a0ask vmassol ;)  \n18:15\u00a0<vmassol>\u00a0why would I use the deb packaging on mac! :)  \n18:15\u00a0<vmassol>\u00a0(just kidding)  \n18:15\u00a0<Trefex>\u00a0no worries, i'll check tomorrow, gotta run  \n18:15\u00a0<Trefex>\u00a0exercice for my health  \n18:16\u00a0<Trefex>\u00a0otherwise i can't test nothing, with a heart attack  \n18:16\u00a0<cjd>\u00a0ok see ya tomorrow  \n18:16\u00a0<cjd>\u00a0(hopefully, watch out for busses!)  \n18:16\u00a0<Trefex>\u00a0in-doors  \n18:16\u00a0<vmassol>\u00a0(I've never done that FTR so won't be of much help)  \n18:16\u00a0<Trefex>\u00a0i'm not crazy!  \n18:16\u00a0<cjd>\u00a0hehe  \n18:17\u00a0<Trefex>\u00a0ps i live in Europe, but we use the en\\_US locale anysway  \n18:17\u00a0<tmortagne>\u00a0from what I see in debconf source it does something like  \n18:17\u00a0<tmortagne>\u00a0so we can't just add more stuff to $dbc\\_pgsql\\_createdb\\_encoding unfortunately  \n18:17\u00a0<Trefex>\u00a0sql injection ;)  \n18:18\u00a0<vmassol>\u00a0yeah :)  \n18:18\u00a0<cjd>\u00a0lol you said it as I thought it  \n18:18\u00a0<Trefex>\u00a0='UTF8 lc\\_type=\"blabla\" '  \n18:18\u00a0<Trefex>\u00a0i mean =UTF8' lc\\_type=\"\" '  \n18:18\u00a0<Trefex>\u00a0or sth like that  \n18:19\u00a0<cjd>\u00a0UTF8' lc\\_type='blah  \n18:19\u00a0<cjd>\u00a0oh boy, you'd need a half page of comments to explain that line  \n18:19\u00a0<Trefex>\u00a0dbc\\_pgsql\\_createdb\\_encoding=\"\"UTF-8\" ' lc\\_type=\"blabla\" '\"  \n18:20\u00a0<Trefex>\u00a0something like that  \n18:20\u00a0<tmortagne>\u00a0it's not exactly public API, just ubuntu 15.04 source, not exactly the esiest thing to maintain  \n18:20\u00a0<tmortagne>\u00a0s/esiest/easiest/  \n18:20\u00a0<Trefex>\u00a0what's the other soluton?  \n18:20\u00a0<Trefex>\u00a0temporarily unset lang?  \n18:20\u00a0<tmortagne>\u00a0the only other things that don't break is not setting the encoding  \n18:21\u00a0<Trefex>\u00a0k, out now, poff  \n18:21\u00a0<tmortagne>\u00a0but then the risk is to end up with too limited encoding  \n18:21\u00a0<Trefex>\u00a0has quit  \n18:21\u00a0<tmortagne>\u00a0which pretty much means no multilanguage  \n18:21\u00a0<cjd>\u00a0nah, we'll fix it  \n18:22\u00a0<cjd>\u00a0LANG=$LANGUAGE.utf8 would be one solution  \n18:22\u00a0<cjd>\u00a0that would create \u00a0en\\_US.utf8 etc etc  \n18:22\u00a0<tmortagne>\u00a0you mean changing the locale, execute the create DB and restore the locale ?  \n18:22\u00a0<cjd>\u00a0don't need to restore the locale, the environment is constrained to the lifetime of the script  \n18:23\u00a0<tmortagne>\u00a0not so sure about that  \n18:23\u00a0<tmortagne>\u00a0constrained to the whole install probably, but only the script...  \n18:23\u00a0<cjd>\u00a0user@toshitba:~$ bash -c 'XXX=porn; echo $XXX' ; echo $XXX  \n18:23\u00a0<cjd>\u00a0porn  \n18:24\u00a0<cjd>\u00a0oh there was an empty line because the second echo XXX output nothing  \n18:24\u00a0<cjd>\u00a0user@toshitba:~$ bash -c 'LANG=$LANGUAGE.utf8; echo $LANG' ; echo $LANG  \n18:24\u00a0<cjd>\u00a0user@toshitba:~$  \n18:24\u00a0<cjd>\u00a0:)  \n18:25\u00a0<cjd>\u00a0anyway, I'm out too, see ya tomorrow  \n18:26\u00a0<vmassol>\u00a0bye cjd  \n18:29\u00a0<tmortagne>\u00a0a pity debconf provide a dbc\\_mysql\\_createdb\\_encoding API that cannot really work...  \n18:30\u00a0<tmortagne>\u00a0not always at least  \n18:30\u00a0<cjd>\u00a0has quit  \n18:31\u00a0<woshilapin>\u00a0has joined #xwiki  \n18:37\u00a0<tmortagne>\u00a0has quit  \n18:50\u00a0<silverdrop>\u00a0has quit  \n18:55\u00a0<woshilapin>\u00a0has quit  \n18:59\u00a0<evalica>\u00a0has quit  \n18:59\u00a0<Enygma`>\u00a0has quit  \n19:08\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:04\u00a0<cjd>\u00a0has joined #xwiki  \n20:12\u00a0<tmortagne>\u00a0has quit  \n20:22\u00a0<tmortagne>\u00a0has joined #xwiki  \n21:40\u00a0<vmassol>\u00a0has quit  \n21:58\u00a0<gdelhumeau\\_\\_>\u00a0has quit  \n21:59\u00a0<sdumitriu1>\u00a0Hey guys  \n21:59\u00a0<sdumitriu1>\u00a0How can I test with mocks something that has @Inject List<SomeRole> instances ?  \n22:00\u00a0<sdumitriu1>\u00a0Normally with a single instance I would do mocker.getInstance(SomeRole, \"hint\")  \n22:09\u00a0<OSIMasson>\u00a0has quit  \n22:29\u00a0<woshilapin>\u00a0has joined #xwiki  \n22:52\u00a0<tmortagne>\u00a0has quit  \n23:09\u00a0<Bugen\\_do>\u00a0has quit\n"}