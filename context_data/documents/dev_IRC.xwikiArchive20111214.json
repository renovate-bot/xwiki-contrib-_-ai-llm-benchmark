{"id": "dev:IRC.xwikiArchive20111214", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111214", "title": "IRC Archive for channel #xwiki on 14 December 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:09\u00a0<abusenius>\u00a0has quit  \n01:12\u00a0<vmassol>\u00a0has joined #xwiki  \n01:23\u00a0<jvdrean>\u00a0has quit  \n01:29\u00a0<vmassol>\u00a0cjdelisle: hi again. Were you able to install the patched jar on xwiki.org?  \n01:29\u00a0<vmassol>\u00a0did it fix the link issue?  \n01:32\u00a0<vmassol>\u00a0sdumitriu: were you able to start the release?  \n01:33\u00a0<vmassol>\u00a0(I don't see any commit so I assume the answer is no. What's holding up?)  \n01:37\u00a0<vmassol>\u00a0ok bed time here....nn  \n01:37\u00a0<vmassol>\u00a0has quit  \n02:31\u00a0<Enygma`>\u00a0has quit  \n02:31\u00a0<Enygma`>\u00a0has joined #xwiki  \n02:31\u00a0<Enygma`>\u00a0has quit  \n03:22\u00a0<tekzilla>\u00a0has quit  \n03:24\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:59\u00a0<sburjan`>\u00a0has joined #xwiki  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:01\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n06:01\u00a0<sburjan\\_>\u00a0has quit  \n06:02\u00a0<Denis>\u00a0has quit  \n06:04\u00a0<sburjan`>\u00a0has quit  \n07:24\u00a0<evalica>\u00a0has joined #xwiki  \n07:26\u00a0<mflorea>\u00a0has joined #xwiki  \n07:50\u00a0<DrLou>\u00a0has quit  \n07:58\u00a0<DrLou>\u00a0has joined #xwiki  \n08:22\u00a0<sburjan`>\u00a0has joined #xwiki  \n08:52\u00a0<evalica>\u00a0has quit  \n09:01\u00a0<+sburjan`>\u00a0ok, why XWikiGuest can delete documents ?  \n09:02\u00a0<@cjdelisle>\u00a0if you create a document, you automatically have permission to delete it  \n09:02\u00a0<@cjdelisle>\u00a0why it's happening now, I am not sure  \n09:03\u00a0<+sburjan`>\u00a0yes, but are you allowed to create pages on xwiki.org without being registered ?  \n09:03\u00a0<+sburjan`>\u00a0afaik no  \n09:04\u00a0<@cjdelisle>\u00a0those pages all list XWikiGuest as the creator...  \n09:05\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:43\u00a0<sburjan>\u00a0has joined #xwiki  \n09:52\u00a0<vmassol>\u00a0has joined #xwiki  \n09:52\u00a0<vmassol>\u00a0good morning  \n09:52\u00a0<vmassol>\u00a0anyone knows if we've fixed the link issue in xwiki.org?  \n09:52\u00a0<vmassol>\u00a0s/in/on/  \n09:53\u00a0<@cjdelisle>\u00a0the PR issue should be fixed  \n09:53\u00a0<vmassol>\u00a0cjdelisle: what was it?  \n09:54\u00a0<@cjdelisle>\u00a0apparently it was what we discussed yesterday  \n09:54\u00a0<vmassol>\u00a0the bug in the REST module?  \n09:54\u00a0<@cjdelisle>\u00a0We can check the logs today and see if the warning shows up  \n09:55\u00a0<vmassol>\u00a0ok cool, I haven't seen any commit about it in git, are you doing it cjdelisle?  \n09:55\u00a0<@cjdelisle>\u00a0I wanted to discuss whether we want to disable the function as part of the commit  \n09:56\u00a0<vmassol>\u00a0I'm referring to the setDatabse calls in the REST module  \n09:56\u00a0<vmassol>\u00a0not sure what you mean by \"function\"  \n09:56\u00a0<@cjdelisle>\u00a0I suppose I can do that now and we can talk about disabling setDatabase()  \n09:56\u00a0<vmassol>\u00a0ah ok  \n09:56\u00a0<vmassol>\u00a0yes better do it in \u00a0steps  \n09:56\u00a0<vmassol>\u00a0we really need to release 3.3 finam  \n09:56\u00a0<vmassol>\u00a0final  \n09:57\u00a0<vmassol>\u00a0sdumitriu: hello. What's up with the release? I was expecting it to be released yesterday. Some blocker?  \n09:58\u00a0<vmassol>\u00a0there's something very worrying happening on xwiki.org: a lot of pages are removed by the XWikiGuest user: http://www.xwiki.org/xwiki/bin/view/Main/News  \n09:59\u00a0<@cjdelisle>\u00a0Indeed, I looked at the pages and they all seem to have been created by guest and they are all empty.  \n10:00\u00a0<@cjdelisle>\u00a0Since they were created by guest, I gather they are being deleted using the \"you can remove what you created\" rule.  \n10:06\u00a0<vmassol>\u00a0hmmm I've never seen this before so something is amiss  \n10:07\u00a0<@cjdelisle>\u00a0Yesterday I got to thinking that someone might be doing a little security audit on the server.  \n10:07\u00a0<@cjdelisle>\u00a0which explains the rest calls which ceased it up  \n10:07\u00a0<vmassol>\u00a0cjdelisle: you cannot create page if you're not logged in  \n10:08\u00a0<vmassol>\u00a0so I don't see how this could happen  \n10:08\u00a0<vmassol>\u00a0unless we have a right issue  \n10:09\u00a0<@cjdelisle>\u00a0Created by XWikiGuest on 2005/11/02  \n10:09\u00a0<@cjdelisle>\u00a0hmm  \n10:10\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:10\u00a0<vmassol>\u00a0seems we have a memory leak too: http://www.xwiki.org/xwiki/monitoring?part=graph&graph=usedMemory  \n10:12\u00a0<@cjdelisle>\u00a0http://www.xwiki.org/xwiki/bin/view/FAQ/HowDoIFindOutHowMuchOfMyDiskQuotaIMUsing <-- page created by guest  \n10:13\u00a0<vmassol>\u00a0hmm that's wrong  \n10:13\u00a0<vmassol>\u00a0seems ludovic created version 1.1  \n10:13\u00a0<@cjdelisle>\u00a0found it with this  \n10:13\u00a0<@cjdelisle>\u00a0$xwiki.searchDocuments(\"where doc.creator = 'XWiki.XWikiGuest'\")  \n10:14\u00a0<@cjdelisle>\u00a0I can't imagine how doc.creator could be changed in the database  \n10:16\u00a0<vmassol>\u00a0seems xwiki.org is all messed up  \n10:16\u00a0<vmassol>\u00a0I can't view the history of a page now  \n10:16\u00a0<CIA-115>\u00a0cjdelisle\u000f master\u000f \\* r8a04795\u000f \u000f/ (4 files):\u000f XWIKI-7294: loss of all programming rights until system is restarted. - http://git.io/xBctoQ  \n10:16\u00a0<CIA-115>\u00a0cjdelisle\u000f feature-store-attachments-newstore\u000f \\* r2099e12\u000f \u000f/ (5 files in 3 dirs):\u000f added a test - http://git.io/3Sc36g  \n10:17\u00a0<vmassol>\u00a0ah it's just that xwiki.org is not responding  \n10:17\u00a0<vmassol>\u00a0it's going to restart soon  \n10:17\u00a0<@cjdelisle>\u00a0page loaded for me just now...  \n10:18\u00a0<vmassol>\u00a0hmm  \n10:18\u00a0<vmassol>\u00a0http://www.xwiki.org/ does not work for me  \n10:18\u00a0<vmassol>\u00a0but http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap has just loaded  \n10:19\u00a0<@cjdelisle>\u00a0can you grep for \"Someone tried to set the database in c.x.x.XWiki\" in the catalina.out file?  \n10:20\u00a0<@cjdelisle>\u00a0that will tell us if anything else has been trying to call setDatabase()  \n10:22\u00a0<@cjdelisle>\u00a0ahh indeed  \n10:22\u00a0<@cjdelisle>\u00a0I'm not logged in and delete still shows up  \n10:22\u00a0<@cjdelisle>\u00a0we have been visited by google  \n10:22\u00a0<vmassol>\u00a0I'll restart it now  \n10:22\u00a0<@cjdelisle>\u00a0why restart?  \n10:23\u00a0<vmassol>\u00a0I don't know just in case rights become ok again  \n10:23\u00a0<@cjdelisle>\u00a0I think that is ok  \n10:23\u00a0<@cjdelisle>\u00a0XWikiGuest created the page to begin with (according to the database)  \n10:23\u00a0<vmassol>\u00a02011-12-13 18:40:07,313 [http://www.xwiki.org/xwiki/bin/preview/XWiki/CalebJamesDeLisle] WARN \u00a0c.x.x.XWiki \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Someone tried to set the database in c.x.x.XWiki, this is not allowed.  \n10:23\u00a0<vmassol>\u00a0that's the only one in catalina.out  \n10:24\u00a0<@cjdelisle>\u00a0that's my test so great, looks like it's fixes  \n10:24\u00a0<@cjdelisle>\u00a0\\*fixed  \n10:24\u00a0<vmassol>\u00a0restarting  \n10:24\u00a0<@cjdelisle>\u00a0We could change the creator for those FAQ documents so that guest can nolonger delete them  \n10:26\u00a0<xwikibot>\u00a0has joined #xwiki  \n10:26\u00a0<vmassol>\u00a0ok no change  \n10:27\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/FAQ/HowDoIFindOutHowMuchOfMyDiskQuotaIMUsing#History is still compeltely wrong  \n10:27\u00a0<vmassol>\u00a0last modified by vincent is not correct  \n10:27\u00a0<vmassol>\u00a0neither is the creator  \n10:27\u00a0<@cjdelisle>\u00a0what are you seeing? I see 3 versions by Ludovic and that's all  \n10:28\u00a0<vmassol>\u00a0yep  \n10:28\u00a0<vmassol>\u00a0but look at the ui  \n10:28\u00a0<@cjdelisle>\u00a0hrm  \n10:28\u00a0<vmassol>\u00a0https://skitch.com/e-vmassol/gtg56/howdoifindouthowmuchofmydiskquotaimusing-faq.howdoifindouthowmuchofmydiskquotaimusing-xwiki.org  \n10:30\u00a0<@cjdelisle>\u00a0I can see how it decides that guest is the creator  \n10:31\u00a0<@cjdelisle>\u00a0how it decides that you are the last editor still has me confused  \n10:32\u00a0<@cjdelisle>\u00a0ahh ok  \n10:32\u00a0<@cjdelisle>\u00a0doc.contentAuthor = 'xwiki:XWiki.VincentMassol'  \n10:32\u00a0<@cjdelisle>\u00a0err  \n10:32\u00a0<@cjdelisle>\u00a0I mean doc.author  \n10:33\u00a0<vmassol>\u00a0(sorry I'm in \u00a0a meeting right now)  \n10:33\u00a0<@cjdelisle>\u00a0no problem  \n10:33\u00a0<@cjdelisle>\u00a0I'll get the botlet too  \n10:35\u00a0<+tmortagne>\u00a0don't understand how the creator and the author of the first version can be different  \n10:35\u00a0<+tmortagne>\u00a0unless the application does something very weird  \n10:35\u00a0<@cjdelisle>\u00a0According to the date, the page is very old so it could be old bugs left over.  \n10:36\u00a0<+tmortagne>\u00a0yep  \n10:36\u00a0<@cjdelisle>\u00a0no calls to setDatabase were logged \\o/  \n10:36\u00a0<+tmortagne>\u00a0not sure if we can fix the creator in a simple script  \n10:36\u00a0<+tmortagne>\u00a0cool  \n10:37\u00a0<@cjdelisle>\u00a0I could do that in a line or 2  \n10:37\u00a0<@cjdelisle>\u00a0if we want to keep search engines from deleting pages which I guess we do  \n10:37\u00a0<+tmortagne>\u00a0yep  \n10:37\u00a0<+tmortagne>\u00a0but we need to be sure it's not possible anymore for guest to create FAQ entries  \n10:38\u00a0<+tmortagne>\u00a0or at least that he is not registered as creator  \n10:38\u00a0<@cjdelisle>\u00a0it's only a few pages and they are very old  \n10:38\u00a0<+tmortagne>\u00a0indded the new FAQ does not allow guest to create entries  \n10:38\u00a0<vmassol>\u00a0what about http://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20090803 ?  \n10:38\u00a0<vmassol>\u00a0it doesn't look like \u00a0an old page  \n10:39\u00a0<+tmortagne>\u00a0well 2009 is not that recent either  \n10:40\u00a0<+tmortagne>\u00a0btw can't we forbid search engines to access delete action in robot.txt or something ?  \n10:40\u00a0<@cjdelisle>\u00a0perhaps we should forbit guests from deleting things ever?  \n10:41\u00a0<@cjdelisle>\u00a0\\*forbid  \n10:41\u00a0<+tmortagne>\u00a0not sure about that  \n10:41\u00a0<@cjdelisle>\u00a0/nod  \n10:41\u00a0<+tmortagne>\u00a0in an empty wiki all you have is guest  \n10:42\u00a0<+tmortagne>\u00a0cjdelisle: are you working on a script to change guest creators already ?  \n10:42\u00a0<@cjdelisle>\u00a0yes  \n10:42\u00a0<+tmortagne>\u00a0ok  \n10:43\u00a0<+tmortagne>\u00a0restoring http://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20090803, ok for evryone ?  \n10:43\u00a0<+tmortagne>\u00a0so that you script find it too  \n10:43\u00a0<@cjdelisle>\u00a0fine by me  \n10:43\u00a0<+tmortagne>\u00a0checking deleted pages  \n10:46\u00a0<+tmortagne>\u00a0dev wiki done  \n10:46\u00a0<+tmortagne>\u00a0doing platform  \n10:46\u00a0<+tmortagne>\u00a0nothing in platform  \n10:50\u00a0<+tmortagne>\u00a0cjdelisle: I think everything is restored  \n10:50\u00a0<lucaa>\u00a0has joined #xwiki  \n10:50\u00a0<+tmortagne>\u00a0there was only on dev and xwiki  \n10:50\u00a0<+tmortagne>\u00a0so no need to run the script on all wikis  \n10:51\u00a0<@cjdelisle>\u00a0Created by Caleb James DeLisle on 2005/03/14  \n10:51\u00a0<@cjdelisle>\u00a0hehe  \n10:52\u00a0<+tmortagne>\u00a0:)  \n10:52\u00a0<JuanDaugherty>\u00a0has joined #xwiki  \n10:53\u00a0<@cjdelisle>\u00a0hmm all of the irc archives prior to 2009  \n10:54\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:54\u00a0<@cjdelisle>\u00a0I think this time I will put the blame on XWiki.IRCBot  \n10:57\u00a0<+tmortagne>\u00a0yep it was probably not setting a proper user  \n10:57\u00a0<+tmortagne>\u00a0or maybe it still don't but now the first user access the wiki is not guest  \n10:57\u00a0<+tmortagne>\u00a0which make it the context user of daemon threads  \n11:00\u00a0<@cjdelisle>\u00a0it should be fixed but it's not showing up, perhaps the changes are cached?  \n11:01\u00a0<+tmortagne>\u00a0how did you fixed it ? directly in the DB ?  \n11:01\u00a0<@cjdelisle>\u00a0s/changes/originals/  \n11:01\u00a0<@cjdelisle>\u00a0yes  \n11:01\u00a0<+tmortagne>\u00a0so yes the documents are probably oin the cache  \n11:01\u00a0<+tmortagne>\u00a0so we might need a flush cache  \n11:03\u00a0<+tmortagne>\u00a0or a restart to be extra safe  \n11:03\u00a0<+tmortagne>\u00a0restarting  \n11:06\u00a0<xwikibot>\u00a0has joined #xwiki  \n11:06\u00a0<@cjdelisle>\u00a0awesome  \n11:07\u00a0<@cjdelisle>\u00a0!botlet.brokenlinks off  \n11:07\u00a0<+tmortagne>\u00a0:)  \n11:25\u00a0<vmassol>\u00a0cjdelisle: can you also commit http://jira.xwiki.org/browse/XWIKI-7294 on 3.2 branch?  \n11:25\u00a0<vmassol>\u00a03.2, .3.3 and 3.4M1  \n11:26\u00a0<@cjdelisle>\u00a0sure, as soon as these functional tests get out of my face..  \n11:30\u00a0<@cjdelisle>\u00a0I have a possible solution to macros + pr + panels which if it works will fix a few other issues at the same time  \n11:30\u00a0<vmassol>\u00a0nice  \n11:34\u00a0<CIA-115>\u00a0cjdelisle\u000f stable-3.2.x\u000f \\* r614925e\u000f \u000f/ (4 files):\u000f XWIKI-7294: loss of all programming rights until system is restarted. - http://git.io/QQJ85w  \n11:35\u00a0<CIA-115>\u00a0cjdelisle\u000f stable-3.3.x\u000f \\* rca83eaa\u000f \u000f/ (4 files):\u000f XWIKI-7294: loss of all programming rights until system is restarted. - http://git.io/FebhKQ  \n11:36\u00a0<@cjdelisle>\u00a0XWIKI-7294  \n11:37\u00a0<@cjdelisle>\u00a0thanks for mentioning the branches, forgot all about that :/  \n12:09\u00a0<+sburjan>\u00a0so we're good now, right ?  \n12:09\u00a0<+sburjan>\u00a0xwiki.org is not bleeding anymore  \n12:25\u00a0<evalica>\u00a0has joined #xwiki  \n12:32\u00a0<+sburjan>\u00a0ouch, 29 december .. now I know when not to take free days :)  \n12:35\u00a0<vmassol>\u00a0I'm on holidays from 26 to 30\u2026.  \n12:37\u00a0<+sburjan>\u00a0yes, but you don't have to test :)  \n12:39\u00a0<vmassol>\u00a0well the more tester the merrier....  \n12:39\u00a0<vmassol>\u00a0as is proved by the 3.3 release\u2026.  \n12:40\u00a0<mflorea>\u00a0has quit  \n12:45\u00a0<vmassol>\u00a0seems like \"restore from recycle bin\" doesn't send an event (or it's not used) in the AS. Deleted pages still appear deleted in the AS (http://www.xwiki.org/xwiki/bin/view/Main/News )  \n12:48\u00a0<+tmortagne>\u00a0cjdelisle: for wiki macro specific I'm already working on it, writing unit test now and was about to ask you a question actually  \n12:48\u00a0<+tmortagne>\u00a0where is Document#dropPermissions actually used ? I can't find any code looking at ExecutionContext in XWikiRightServiceImpl  \n12:49\u00a0<+tmortagne>\u00a0vmassol: some restore produced messages in IRC and some other did not  \n12:49\u00a0<+tmortagne>\u00a0(10:49:53 AM) xwikibot: FAQ.skinparameter was modified by XWiki.XWikiGuest (created document - restored from recycle bin) - http://www.xwiki.org/xwiki/bin/view/FAQ/skinparameter  \n12:50\u00a0<+tmortagne>\u00a0so there is some event produced but there is some document \u00a0I restored for which I did not seen anything in IRC  \n12:50\u00a0<+tmortagne>\u00a0don't know if it's a IRCBot or event bug  \n12:51\u00a0<+tmortagne>\u00a0ha it's used in XWikiContext#hasDroppedPermissions  \n12:51\u00a0<+tmortagne>\u00a0I tough this method was only about XWikiContext#dropPermissions  \n12:52\u00a0<+tmortagne>\u00a0ok so committing now  \n12:52\u00a0<+tmortagne>\u00a0FYI what i'm committing is not about panels but just about making sure wiki macro works no matter what  \n12:53\u00a0<+tmortagne>\u00a0i.e.  \n12:53\u00a0<+tmortagne>\u00a0$xwiki.dropPersmission()  \n12:53\u00a0<+tmortagne>\u00a0{{mymacro/}}  \n12:53\u00a0<+tmortagne>\u00a0but that's for the general macro execution, if you call dropPermission inside your macro it will work  \n12:53\u00a0<+tmortagne>\u00a0I mean it will dropPermission  \n13:07\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:40\u00a0<mflorea>\u00a0has joined #xwiki  \n13:47\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* rf05781a\u000f \u000f/ (2 files in 2 dirs):\u000f XWIKI-7292: Wiki Macros which require programming rights don't work in ...  \n15:06\u00a0<+sburjan>\u00a0what is the status of the release ?  \n15:06\u00a0<vmassol>\u00a0sburjan: I wish I knew  \n15:06\u00a0<vmassol>\u00a0sdumitriu is not responding  \n15:06\u00a0<vmassol>\u00a0I've asked at least 3 times since yesterday already :)  \n15:07\u00a0<+sburjan>\u00a0I am going to test deeper the EM, and start writing some documentation for the user guide  \n15:07\u00a0<vmassol>\u00a0sburjan: user guide?  \n15:07\u00a0<+sburjan>\u00a0i know that we already have some documentation on EM  \n15:07\u00a0<vmassol>\u00a0you mean create a Extension Manager Application in e.x.o?  \n15:07\u00a0<+sburjan>\u00a0yes.. if that's the place for it to be  \n15:08\u00a0<vmassol>\u00a0(I asked sergiu to do this but I'm sure he'll love it if you can help me)  \n15:08\u00a0<vmassol>\u00a0s/me/him/  \n15:08\u00a0<+sburjan>\u00a0well we should have some documentation before the release  \n15:08\u00a0<vmassol>\u00a0there' s currently an Extension Module but we also need an Application  \n15:08\u00a0<vmassol>\u00a0I agree  \n15:08\u00a0<+sburjan>\u00a0could you create the page for the Application ?  \n15:09\u00a0<vmassol>\u00a0yep  \n15:09\u00a0<vmassol>\u00a0doing it  \n15:09\u00a0<+sburjan>\u00a0on extensions.. or where you consider it suitable  \n15:09\u00a0<vmassol>\u00a0tmortagne: ok for an \"Extension Manager Application\" page rather than \"Extension Application\"?  \n15:09\u00a0<+sburjan>\u00a0so Extension Module is the backend of Extension Manager Application, right ?  \n15:10\u00a0<vmassol>\u00a0yes  \n15:11\u00a0<+tmortagne>\u00a0vmassol: I don't know what is \"Extension Application\", \"Extension Module\" is actually the doc about EM in general including the UI even if there is not much currently  \n15:11\u00a0<vmassol>\u00a0tma  \n15:12\u00a0<vmassol>\u00a0tmortagne: I'd like a separate extension for the UI part  \n15:12\u00a0<+tmortagne>\u00a0it's not a real extension  \n15:13\u00a0<+sburjan>\u00a0I'd like to document the UI part .. leaving the backend/architecture for someone who know about it  \n15:14\u00a0<+sburjan>\u00a0becaus the images we have now for UI are kinda deprecated  \n15:14\u00a0<+sburjan>\u00a0\\*because  \n15:15\u00a0<+tmortagne>\u00a0if you want but then link it from Extension Module  \n15:16\u00a0<+tmortagne>\u00a0I don't really care much where the documentation is as long as you can find it when you are on http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Module  \n15:16\u00a0<+tmortagne>\u00a0it would have been on a separated page anyway  \n15:16\u00a0<+tmortagne>\u00a0extension or not  \n15:17\u00a0<+sburjan>\u00a0vmassol: wdyt ? what is the best place for it ?  \n15:17\u00a0<+tmortagne>\u00a0need to go, back in 1/2h  \n15:17\u00a0<+sburjan>\u00a0okay  \n15:20\u00a0<+tmortagne>\u00a0sburjan: just one thing before I go, if you write the documentation would be nice to also update http://dev.xwiki.org/xwiki/bin/view/Design/ExtensionManagerUI by removing what not future stuff anymore I try to keep http://dev.xwiki.org/xwiki/bin/view/Design/ExtensionManager and http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Module in sync  \n15:23\u00a0<+sburjan>\u00a0I'm not sure I understand what http://dev.xwiki.org/xwiki/bin/view/Design/ExtensionManagerUI and \u00a0http://dev.xwiki.org/xwiki/bin/view/Design/ExtensionManager do. They look like specifications page.  \n15:25\u00a0<+sburjan>\u00a0I will create new screenshots and put them om Extension Module on extensions, along with some text  \n15:33\u00a0<vmassol>\u00a0back  \n15:34\u00a0<vmassol>\u00a0sburjan: yes ATM can you simply update http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Module ?  \n15:35\u00a0<vmassol>\u00a0still thinking...  \n15:36\u00a0<vmassol>\u00a0I need to talk to tmortagne more  \n15:37\u00a0<vmassol>\u00a0tmortagne: so you think it's not correct to have an extension for <artifactId>xwiki-platform-extension-ui</artifactId> ?  \n15:37\u00a0<vmassol>\u00a0Extension Module would document all modules except that one  \n15:38\u00a0<vmassol>\u00a0(since we would have specific documentation exposed for that one)  \n15:38\u00a0<vmassol>\u00a0(ideally each module is supposed to be an extension but in prctice we only expose those that we wish to document/make visible)  \n15:38\u00a0<vmassol>\u00a0hmm there's just a problem of extensionid  \n15:39\u00a0<vmassol>\u00a0if we have extension module == org.xwiki.platform:xwiki-platform-extension then it'll include xwiki-platform-extension-ui  \n15:40\u00a0<vmassol>\u00a0we'd need to expose -api, -handlers, -repositories, -script in order to expose -ui  \n15:40\u00a0<vmassol>\u00a0hmm  \n15:41\u00a0<vmassol>\u00a0actually no, there's isn't any issue  \n15:41\u00a0<vmassol>\u00a0:)  \n15:41\u00a0<vmassol>\u00a0it's ok that org.xwiki.platform:xwiki-platform-extension includes xwiki-platform-extension-ui  \n15:41\u00a0<vmassol>\u00a0so we're good It hink  \n15:41\u00a0<+sburjan>\u00a0I'm only gonna take some nice screenshots and put simple text, that can be easily moved/duplicated  \n15:42\u00a0<vmassol>\u00a0so sburjan wait  \n15:42\u00a0<vmassol>\u00a0I'm creating a new extension  \n15:42\u00a0<vmassol>\u00a0for documentation the EM UI  \n15:42\u00a0<+sburjan>\u00a0okay  \n15:42\u00a0<+sburjan>\u00a0I'm gonna upload all of them in one WebDav transaction :)  \n15:43\u00a0<vmassol>\u00a0my only hesitation is whether I call it \"Extension Application\" or \"Extension Manager Application\" ;)  \n15:43\u00a0<vmassol>\u00a0I'll use \"Extension Application\"  \n15:43\u00a0<vmassol>\u00a0hmm not very user friendly though  \n15:44\u00a0<+sburjan>\u00a0I guess we can rename that in the future, right ?  \n15:44\u00a0<vmassol>\u00a0since we're calling it Extension Manager application in the UI  \n15:44\u00a0<vmassol>\u00a0so I'll use Extension Manager Application  \n15:44\u00a0<vmassol>\u00a0:)  \n15:44\u00a0<vmassol>\u00a0doing it now  \n15:44\u00a0<+sburjan>\u00a0because this extension page is not bound to an artefact, right ?  \n15:45\u00a0<vmassol>\u00a0it is  \n15:45\u00a0<+sburjan>\u00a0I mean do we have a special artefact only with the UI ?  \n15:45\u00a0<vmassol>\u00a0yes  \n15:45\u00a0<+sburjan>\u00a0ok, I understand you hesitation  \n15:47\u00a0<CIA-115>\u00a0Eduard Moraru\u000f master\u000f \\* r21d30d2\u000f \u000f/ xwiki-manager-distribution/xwiki-manager-ui-all/pom.xml :\u000f Fixed build issues that started to appear this past few days. - http://git.io/rHAngA  \n15:47\u00a0<vmassol>\u00a0sburjan: it's all yours: http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Manager+Application  \n15:47\u00a0<+sburjan>\u00a0thanks. I will ask for a review when I think it's ready. this would happend tomorrow  \n16:07\u00a0<sdumitriu>\u00a0has quit  \n16:17\u00a0<+tmortagne>\u00a0back  \n16:18\u00a0<+tmortagne>\u00a0vmassol: IMO to be correct either we have an extension for each module or we stay one one entry point like now, does not make much sense to me to have an extension for xwiki-platform-extension-ui and a general doc for all the others  \n16:18\u00a0<vmassol>\u00a0it makes sense to me  \n16:18\u00a0<vmassol>\u00a0because it's not the same type of users  \n16:18\u00a0<+tmortagne>\u00a0but I'm not blocking it as I said already, just does not feel very right  \n16:19\u00a0<vmassol>\u00a0users, devs, admins  \n16:19\u00a0<vmassol>\u00a03 categories of readers  \n16:19\u00a0<vmassol>\u00a0at least  \n16:19\u00a0<vmassol>\u00a0we're not doing any exception  \n16:19\u00a0<vmassol>\u00a0it's fitting the global strategy  \n16:19\u00a0<vmassol>\u00a0which is that we allow to have one entry on extensions.xwiki.org per module  \n16:19\u00a0<+tmortagne>\u00a0then it's 3 different general doc or 3 different section in the general doc  \n16:20\u00a0<vmassol>\u00a0well it's called Mdoule  \n16:20\u00a0<vmassol>\u00a0and Modules are for devs ATM  \n16:20\u00a0<vmassol>\u00a0we have always splitted  \n16:20\u00a0<+tmortagne>\u00a0Module are for most of them about top project in platform/commons  \n16:20\u00a0<vmassol>\u00a0-api and -ui modules into 2 extensions  \n16:21\u00a0<vmassol>\u00a0so IMO this is following the trend  \n16:21\u00a0<+tmortagne>\u00a0but here you don't just have -ui/-api  \n16:21\u00a0<+tmortagne>\u00a0you even have several uis  \n16:21\u00a0<+tmortagne>\u00a0the EM one and the XR one  \n16:21\u00a0<vmassol>\u00a0sure  \n16:21\u00a0<vmassol>\u00a0we'll have 2 extensions for those  \n16:22\u00a0<vmassol>\u00a0I've created Extension Manager Application, we can have Extension Repository Applciation  \n16:22\u00a0<vmassol>\u00a0for me the only difference with others is just  \n16:22\u00a0<vmassol>\u00a0that instead of having one -api module we have several here  \n16:23\u00a0<vmassol>\u00a0but we don't need to document them separately  \n16:23\u00a0<vmassol>\u00a0so we bundle them together in \"Module\" extension  \n16:23\u00a0<vmassol>\u00a0it's just a simplification  \n16:23\u00a0<vmassol>\u00a0not to have too many small extensions  \n16:24\u00a0<vmassol>\u00a0sburjan: we need to document Extension Repository Application too btw for the release  \n16:24\u00a0<+tmortagne>\u00a0as you want, for me Module was actually the whole thing not just the jars  \n16:24\u00a0<vmassol>\u00a0yesI know  \n16:24\u00a0<vmassol>\u00a0but we have the same with macros btw  \n16:24\u00a0<vmassol>\u00a0we have Rendeering Module  \n16:24\u00a0<vmassol>\u00a0but also have spearate extesions for macros  \n16:26\u00a0<+tmortagne>\u00a0yes because we wanted the macro to be more visibles and listed as extensions  \n16:26\u00a0<vmassol>\u00a0exactly  \n16:27\u00a0<vmassol>\u00a0it's about 2 things:  \n16:27\u00a0<vmassol>\u00a0- visiblity  \n16:27\u00a0<+tmortagne>\u00a0so it's not really a separation between the xar and the jars ;)  \n16:27\u00a0<vmassol>\u00a0- making clean doc when it's going to be too big for a single page  \n16:27\u00a0<vmassol>\u00a0for me it's about users  \n16:27\u00a0<vmassol>\u00a0what they expect to see in our documentation  \n16:28\u00a0<vmassol>\u00a0it just happens that usually UI is what users are interested about  \n16:28\u00a0<vmassol>\u00a0(users as in user guide, not devs or admins)  \n16:31\u00a0<+tmortagne>\u00a0not sure extensions are installed more by simple users than admins  \n16:31\u00a0<+tmortagne>\u00a0since extension.xwiki.org is not just about documentation but also about extension to install  \n16:32\u00a0<vmassol>\u00a0yes it's both  \n16:32\u00a0<vmassol>\u00a0doc and stuff to install  \n16:33\u00a0<sburjan`>\u00a0has quit  \n16:39\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:45\u00a0<+sburjan>\u00a0vmassol: I am not familiar at all with Extension Repository Application  \n16:45\u00a0<+sburjan>\u00a0bbl, ttyl  \n16:46\u00a0<sburjan>\u00a0has quit  \n17:25\u00a0<sburjan`>\u00a0has joined #xwiki  \n17:29\u00a0<+tmortagne>\u00a0mflorea: is there anything special for the sheet to be taken into account in preview ? example http://extensions.xwiki.org/xwiki/bin/preview/Extension/Extension+Manager+Application  \n17:30\u00a0<+tmortagne>\u00a0is it because the jar in xwiki.org are too old, around 3.3M2  \n17:30\u00a0<+tmortagne>\u00a0here is the class http://extensions.xwiki.org/xwiki/bin/edit/ExtensionCode/ExtensionClass?editor=object  \n17:31\u00a0<+mflorea>\u00a0last time I checked the sheet binding classes were missing on xwiki.org  \n17:31\u00a0<+mflorea>\u00a0are they present now?  \n17:31\u00a0<+tmortagne>\u00a0mflorea: \u00a0yes as we discussed I imported them and view works well  \n17:34\u00a0<+mflorea>\u00a0XWiki.SheetDescriptorClass must be imported too (I forgot about it), but I don't think it will make any difference in your case.  \n17:34\u00a0<+mflorea>\u00a0your class and sheet look good  \n17:35\u00a0<+tmortagne>\u00a0importing it, we will see, maybe not finding it is brekaing some code  \n17:35\u00a0<+mflorea>\u00a0I mean, as long as you don't add an object of type SheetDescriptorClass to your sheet and set the action field to a specific action, the sheet should be applied to all actions, including preview  \n17:36\u00a0<+tmortagne>\u00a0well I can't add it since the calss is not here ;)  \n17:36\u00a0<+mflorea>\u00a0yep, so it should work  \n17:37\u00a0<+tmortagne>\u00a0same thing  \n17:38\u00a0<+mflorea>\u00a0let me try to reproduce locally  \n17:38\u00a0<+tmortagne>\u00a0sure  \n17:48\u00a0<JuanDaugherty>\u00a0is it just my perception or did development change at 3.3?  \n17:48\u00a0<vmassol>\u00a0JuanDaugherty: wdym?  \n17:49\u00a0<JuanDaugherty>\u00a03.1 is where I came in, 3.2 seems rather like it, and 3.3 appears confusing  \n17:50\u00a0<JuanDaugherty>\u00a0seemed stable and gradual evolution up to 3.1.1 (which I believe you said was 3.2) something different going on now  \n17:51\u00a0<vmassol>\u00a0JuanDaugherty: what do you think is confusing in 3.3?  \n17:53\u00a0<JuanDaugherty>\u00a0well I guess that's a dismissing of my question which I'll accept as answer, thx  \n17:53\u00a0<vmassol>\u00a0:)  \n17:53\u00a0<vmassol>\u00a0I don't think we changed anything in our dev practices  \n17:53\u00a0<vmassol>\u00a0same rules  \n17:53\u00a0<vmassol>\u00a0same people  \n17:54\u00a0<JuanDaugherty>\u00a0yeah as I said, I only came in at 3.1 will likely freeze at 3.2  \n17:54\u00a0<vmassol>\u00a0I'd recommend using 3.3 when it's out today or tomorrow  \n17:55\u00a0<vmassol>\u00a0we fixed some memory issues that was there in 3.2  \n17:56\u00a0<JuanDaugherty>\u00a0no, I don't plan to do that, to much invested in figuring out how things work in one level, can't afford a new unpaid discovery process, of course the would change if a client wanted  \n17:58\u00a0<JuanDaugherty>\u00a0\\*that would change  \n17:58\u00a0<vmassol>\u00a0tmortagne: can you try something? I have an issue installing a xar with the EM UI  \n17:58\u00a0<vmassol>\u00a0could you try installing the \"audio player macro\"?  \n17:59\u00a0<JuanDaugherty>\u00a0\\*too much  \n17:59\u00a0<vmassol>\u00a0when I install it and I look at the Macros.AudioPlayer page, there's no XObjects listed  \n17:59\u00a0<vmassol>\u00a0but if I unzip the xar I can see it's there  \n17:59\u00a0<vmassol>\u00a0I tried it on 3.3-SNAPSHOT  \n18:00\u00a0<vmassol>\u00a0ludovic tried it on an older 3.3-SNAPSHOT and it worked for him  \n18:00\u00a0<+tmortagne>\u00a0vmassol: ok, probably a bug in EM importer, will look at it  \n18:00\u00a0<vmassol>\u00a0if confirmed this would be a blocker for the 3.3 release  \n18:01\u00a0<+tmortagne>\u00a0yes  \n18:02\u00a0<+tmortagne>\u00a0vmassol: it's a new install and the page was not existing before the install, right ?  \n18:03\u00a0<+tmortagne>\u00a0does the xar in EM local repository have the objects ?  \n18:10\u00a0<+tmortagne>\u00a0vmassol: I can reproduce the issue, debuging  \n18:12\u00a0<vmassol>\u00a0tmortagne: ok \u2026. disconnecting to take my train, bbl  \n18:12\u00a0<vmassol>\u00a0has quit  \n18:18\u00a0<+mflorea>\u00a0tmortagne: found the \"problem\": preview.vm uses:  \n18:18\u00a0<+mflorea>\u00a0$tdoc.getRenderedContent($tdoc.content, $tdoc.getSyntax().toIdString())  \n18:18\u00a0<+mflorea>\u00a0which simply renders $tdoc in its own context, so no sheet applied. This is fine for old sheet system where include macro is present in the content, but it doesn't work with the new sheet system.  \n18:19\u00a0<+tmortagne>\u00a0mflorea: sounds a bit blocker for 3.3 no ?  \n18:20\u00a0<+tmortagne>\u00a0sdumitriu: XWIKI-7295  \n18:20\u00a0<+mflorea>\u00a0simply replacing the above line with:  \n18:20\u00a0<+mflorea>\u00a0$tdoc.getRenderedContent()  \n18:20\u00a0<+mflorea>\u00a0fixes the problem.  \n18:20\u00a0<+tmortagne>\u00a0sdumitriu: working on it, should be quickly fixed  \n18:20\u00a0<@sdumitriu>\u00a0OK  \n18:21\u00a0<@sdumitriu>\u00a0I'm in an interview with a candidate, and will start the release after that  \n18:21\u00a0<+mflorea>\u00a0I'm wondering why did we choose to use getRenderedContent(text, syntax)  \n18:42\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r8f78b7c\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/doc/XWikiDocument.java :\u000f XWIKI-7276: Existing object in document are kept when installing an ...  \n18:44\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r5d83c6e\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/repository/internal/DefaultLocalExtensionRepository.java :\u000f Optimization - http://git.io/GDemYg  \n18:44\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* r30d986b\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/doc/XWikiDocument.java :\u000f XWIKI-7276: Existing object in document are kept when installing an ...  \n18:44\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* rb96b13a\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/repository/internal/DefaultLocalExtensionRepository.java :\u000f Optimization(cherry picked from commit 5d83c6e59ebe940bb8b194c6d19f00d7d55fb83c) - http://git.io/Wzw4fA  \n18:45\u00a0<+tmortagne>\u00a0sdumitriu: done  \n18:45\u00a0<@sdumitriu>\u00a0OK  \n18:45\u00a0<+tmortagne>\u00a0but should maybe wait for preview bug fix  \n18:46\u00a0<CIA-115>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rb6635d4\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/templates/preview.vm :\u000f XWIKI-7296: Sheets aren't applied on preview action - http://git.io/puxG5w  \n18:46\u00a0<CIA-115>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r3fbbb4b\u000f \u000f/ (2 files in 2 dirs):\u000f Merge branch 'master' of github.com:xwiki/xwiki-platform - http://git.io/fvI8Iw  \n18:46\u00a0<@sdumitriu>\u00a0Looks like that just landed  \n18:46\u00a0<+tmortagne>\u00a0looks like :)  \n18:49\u00a0<+tmortagne>\u00a0hmm looks like I broke checkstyle in platform  \n18:52\u00a0<+tmortagne>\u00a0weird can't reproduce locally  \n18:54\u00a0<+tmortagne>\u00a0the lines on jenkins don't even math the sources actually  \n18:54\u00a0<+tmortagne>\u00a0lets see the result of the new build  \n18:54\u00a0<@sdumitriu>\u00a0Could be a bad git commit? That happens  \n18:59\u00a0<CIA-115>\u00a0Marius Dumitru Florea\u000f stable-3.3.x\u000f \\* rc8c48c0\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/templates/preview.vm :\u000f XWIKI-7296: Sheets aren't applied on preview action - http://git.io/Mvshlw  \n19:03\u00a0<jvdrean>\u00a0has quit  \n19:08\u00a0<gdelhumeau>\u00a0has quit  \n19:16\u00a0<+tmortagne>\u00a0was in 3.3 branch...  \n19:25\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* rcfb3d34\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/internal/macro/WikiMacroExecutionEventListener.java :\u000f XWIKI-7292: Wiki Macros which require programming rights don't work in ...  \n19:44\u00a0<CIA-115>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r8a7364a\u000f \u000f/ (11 files in 3 dirs):\u000f Add Selenium test for App Within Minutes. - http://git.io/5FCFtg  \n19:46\u00a0<CIA-115>\u00a0Marius Dumitru Florea\u000f stable-3.3.x\u000f \\* r805b7d7\u000f \u000f/ (11 files in 3 dirs):\u000f Add Selenium test for App Within Minutes. ...  \n19:47\u00a0<lucaa>\u00a0has quit  \n19:49\u00a0<mflorea>\u00a0has quit  \n19:52\u00a0<tmortagne>\u00a0has quit  \n19:59\u00a0<abusenius>\u00a0has joined #xwiki  \n21:08\u00a0<vmassol>\u00a0has joined #xwiki  \n21:41\u00a0<CIA-115>\u00a0Vincent Massol\u000f master\u000f \\* r40117a7\u000f \u000f/ (39 files in 12 dirs):\u000f Removed unnecessary javadocs + added missing @Override - http://git.io/Pa\\_rww  \n21:44\u00a0<vmassol>\u00a0has quit  \n22:18\u00a0<jvdrean>\u00a0has joined #xwiki  \n22:21\u00a0<jvdrean1>\u00a0has joined #xwiki  \n22:22\u00a0<jvdrean2>\u00a0has joined #xwiki  \n22:22\u00a0<jvdrean>\u00a0has quit  \n22:25\u00a0<jvdrean1>\u00a0has quit  \n23:18\u00a0<mflorea>\u00a0has joined #xwiki  \n23:24\u00a0<abusenius>\u00a0has quit  \n23:35\u00a0<jvelociter>\u00a0has quit  \n\n"}