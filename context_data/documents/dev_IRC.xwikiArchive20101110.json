{"id": "dev:IRC.xwikiArchive20101110", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101110", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nabusenius left at 00:01 (Remote host closed the connection  \nabusenius joined #xwiki at 00:06  \nabusenius\\_ joined #xwiki at 00:18  \nabusenius left at 00:22 (Ping timeout: 250 seconds  \nabusenius\\_ left at 00:23 (Remote host closed the connection  \nabusenius\\_ joined #xwiki at 00:25  \nabusenius\\_ left at 00:29 (Client Quit  \nabusenius\\_ joined #xwiki at 00:29  \nabusenius\\_ left at 00:54 (Read error: Operation timed out  \nlucaa left at 01:40 (Ping timeout: 245 seconds  \njvelociter left at 03:12 (Quit: jvelociter  \nvenkatesh joined #xwiki at 03:42  \nvenkatesh left at 03:43 (Client Quit  \nvenkatesh joined #xwiki at 03:45  \nSvenDowideit\\_ joined #xwiki at 05:06  \nSvenDowideit left at 05:08 (Ping timeout: 240 seconds  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nDenis left at 06:01 (Read error: Connection reset by peer  \nDenis joined #xwiki at 06:08  \nsabageru joined #xwiki at 07:01  \nmflorea joined #xwiki at 07:41  \nvmassol joined #xwiki at 07:51  \nvmassol left at 08:02 (Quit: Leaving.  \nsdumitriu joined #xwiki at 08:03  \nvmassol joined #xwiki at 08:05  \nvmassol left at 08:22 (Quit: Leaving.  \nevalica joined #xwiki at 08:44  \nsburjan joined #xwiki at 09:32  \nvmassol joined #xwiki at 09:44  \ntmortagne joined #xwiki at 09:53  \nsburjan - (09:57): vmassol: what automated tests do we need in your opinion ?  \nvmassol - (09:59): sburjan: for parts that are not covered. You could check the clover report I generated the ther day  \nvmassol - (09:59): have you tried to read it?  \nvmassol - (09:59): (and hi btw ;))  \nsburjan - (09:59): good morning :  \nsburjan - (10:01): I'll take a look more closely to them, I hope I'll figure out how to interpret them  \nEnygma` joined #xwiki at 10:02  \nlucaa joined #xwiki at 10:03  \njvelociter joined #xwiki at 10:03  \narkub joined #xwiki at 10:05  \nEnygma` left at 10:10 (Quit: Leaving.  \nsdumitriu left at 10:11 (Ping timeout: 260 seconds  \nEnygma` joined #xwiki at 10:13  \nvenkatesh left at 10:13 (Remote host closed the connection  \njvdrean joined #xwiki at 10:20  \nrstavro joined #xwiki at 10:21  \ncjdelisle - (10:31): Good morning. I was thinking about the idea of sending mail on build failures, is it really worth the effort? How often does a module fail to build?  \ncjdelisle - (10:32): aka is it worth the effort to design a complex message for a build failure?  \ncjdelisle - (10:32): What I see a lot of is test failures, and most are in the functional tests.  \nvmassol - (10:34): hi cjdelisle  \nvmassol - (10:34): I don't get it  \nvmassol - (10:34): if it's doesn't happen often then we don't get lots of mail  \nvmassol - (10:34): OTOH a compile failure is very important to fix right away  \nvmassol - (10:35): (I assume by \"build\" you mean everything except \"tests\")  \ncjdelisle - (10:35): By \"build\" I mean the failure that makes the little red ball on hudson ;)  \ncjdelisle - (10:36): I just think the thing to concentrate on is test failures since we have a lot more of them and that's what we are always working on the day after release day.  \ntmortagne - (10:36): cjdelisle: it happen sometimes for example when there is a big refactoring on maven module, when we put back the wrong versions after a release...  \ncjdelisle - (10:37): Suppose we were to have daily aggregated mail for test failures and the standard hudson mail for build failures.  \ntmortagne - (10:37): when we forget to deploy a dependency on out external maven repository (when it's not in central repo)  \nvmassol - (10:37): I do'nt agree cjdelisle. We need to know when a module doesn't build because of a problem we've introduced  \nvmassol - (10:38): (what we don't need to know and need to fix is receiving emails when for ex the X server is down, etc)  \nvmassol - (10:38): (ie errors not due to our build)  \ncjdelisle - (10:39): You were talking about a relatively complicated message with blaming and a stack trace. I'm not sure how much work it's worth if it only happens rarely.  \ncjdelisle - (10:40): When the build fails it doesn't seem to much effort to go to hudson and get this information.  \nvmassol - (10:40): cjdelisle: this is for all build errors  \nvmassol - (10:40): be it with tests or not  \nvmassol - (10:40): it's just the console output  \nvmassol - (10:40): nothing complex  \nvmassol - (10:40): and it's absolutely necessary IMO  \nsilviar joined #xwiki at 10:41  \nvmassol - (10:41): the blaming indeed is important too but probably more complex to implement  \ncjdelisle - (10:41): all build errors including tests.  \ncjdelisle - (10:41): This means anything which is not a functional test?  \nvmassol - (10:41): anything  \nvmassol - (10:41): each module generates console output  \ncjdelisle - (10:42): Oh so you include functional tests.  \ncjdelisle - (10:42): There is a problem with blaming over functional tests.  \nvmassol - (10:42): I will not click on a link but I'll read a mail content  \nvmassol - (10:42): (if it's presented nicely)  \ncjdelisle - (10:42): They depend on everything so you might as well blame everyone who committed that day.  \nvmassol - (10:42): not really  \nvmassol - (10:43): functional tests are triggered at each commit too  \ncjdelisle - (10:43): Yes, not \"that day\" but in that release cycle.  \nvmassol - (10:43): but  \ncjdelisle - (10:43): s/release/build/  \nvmassol - (10:43): we should configure hudson  \nvmassol - (10:43): to build only once during a given window  \nvmassol - (10:43): so the blaming would contain the names of all person who committed during that window  \nvmassol - (10:43): not just one person  \nsdumitriu joined #xwiki at 10:44  \ncjdelisle - (10:44): Not quite sure I follow.  \nvmassol - (10:44): (ex: if 5 people commit during the same 5 minutes we shouldn't run the whole build 5 times)  \nvmassol - (10:44): (it should build only once)  \nvmassol - (10:44): (with aggregated commits)  \nvmassol - (10:45): (for perf reasons obviously and to get feedback quickly)  \nvmassol - (10:45): otherwise imageint he whole build takes 2 hours  \nvmassol - (10:45): the last person who committed would get feedback  \nvmassol - (10:45): only after 10 hours!  \nvmassol - (10:45): :)  \nvmassol - (10:45): (+ the build machine will have a heavy load)  \ncjdelisle - (10:45): So are you not in favor of an aggregated daily report?  \nvmassol - (10:45): anyway that's just common I practices  \nvmassol - (10:46): s/I/CI/  \nvmassol - (10:46): I don't care at all about daily report  \nvmassol - (10:46): what I want is to know ASAP when I make a mistake  \nvmassol - (10:46): and I want hudson to tell me what I did wrong  \nvmassol - (10:46): so that I know I did someothing wrong and I can fix it  \nvmassol - (10:47): right now I have to read 200 emails per day  \nvmassol - (10:47): and click 1000 links  \nvmassol - (10:47): to try to find out if I did something wrong  \nvmassol - (10:47): and in 99.99% of the cases I haven't done anythign wrong  \nvmassol - (10:47): which in the end leads to me not clicking anymore on anything  \nvmassol - (10:47): and simply deleting the hudson emails  \ncjdelisle - (10:47): ahh, I have regex filters which put them into folders so I at least only have to check one folder.  \ncjdelisle - (10:49): The build failures are a pain because I wrote the reporter to generate reports based on tests and a failure means no tests.  \ncjdelisle - (10:49): s/build/compile/  \nevalica - (10:53): vmassol: the header on Dashboard with the new key xe.dashboard.wiki.activity will be 'Recent Activity' or 'Activity'?  \nvmassol - (10:54): evalica: hmmm good question  \nvmassol - (10:54): i don't know  \nvmassol - (10:54): I'm fine with both  \nrstavro - (10:54): I would say that by default it is 'Recent'  \nevalica - (10:55): right now er don't have the time filter implemented - so Recent activity conforms with the implementation  \nrstavro - (10:55): I would keep 'Recent Activity'  \nevalica - (10:55): but when we implement the filter - we gonna need add new key  \nvmassol - (10:55): why is there \"wiki\" in your key?  \nevalica - (10:56): because there is also xe.dashboard.space.activity=Recent Activity for space {0}  \nvmassol - (10:56): s/wiki/global?  \nvmassol - (10:56): since it's meant to include subwikis too no?  \nvmassol - (10:56): anyway not very important  \nrstavro - (10:57): filter or parameter? if it's filter, then by default it will always be 'Recent Activity' ... if it's macro parameter, then yes, 'Recent' should not be there ... but in the case of dashboard, we will always display 'Recent Activity' with no time parameter  \nevalica - (10:57): is the main key for the local wiki  \nvmassol - (10:57): ok  \nvmassol - (10:57): wiki is good  \nvmassol - (10:57): it's in XEM's dashboard that it should be global  \nevalica - (10:58): k so what do we keep: \"Recent Activity\" or \"Activity\"?  \nvmassol - (10:58): you both seem to prefer Recent Activity which is fine with me  \nrstavro - (10:58): +1 for 'Recent Activity' :)  \nevalica - (10:58): I prefer Activity :P  \nsburjan - (10:58): :)  \nevalica - (10:58): :) that's why we are having this discussion :P  \nvmassol - (10:58): ask others  \nevalica - (10:58): sburjan :P  \ncjdelisle - (10:59): Well I just looked at xwiki-product-enterprise-tests build173 and there were less changes than I had thought, the revisions which \"bight have broken test x\" were 32595 32528 32527 32525 32524 32351 32097 31994  \njvdrean left at 11:02 (Quit: Leaving.  \ncjdelisle - (11:03): So one or more tests regress, the reporter is triggered, at least some of them do not look like flickers, the reporter sends out an email and for each test, some info about the failure, and at the bottom a list of the revisions which could have caused it.  \ncjdelisle - (11:03): sound good?  \ncjdelisle - (11:05): Then because some tests just fail and fail (escaping) a daily report goes out listing all of the failures and that report is a cleaned up version of what I sent earlier.  \nsburjan - (11:48): cjdelisle: could you please apply annotationsTypo.patch from XE-742 please ? It's trivial  \ncjdelisle - (11:48): Ok.  \nsburjan - (11:49): Thank you  \ncjdelisle - (11:51): hey, remember this? \u00a0http://don.antville.org/static/Don/images/cc.jpg  \nsburjan - (11:52): nop :))  \ncjdelisle - (11:53): A day when id theft was quite a bit more simple. lold to see it now.  \nmflorea left at 11:59 (Quit: Leaving.  \nsburjan left #xwiki at 12:02  \nsburjan joined #xwiki at 12:02  \nabusenius\\_ joined #xwiki at 12:07  \nabusenius\\_ is now known as abusenius ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \njvdrean joined #xwiki at 12:15  \njvdrean left at 12:15 (Client Quit  \nlucaa left at 12:23 (Ping timeout: 240 seconds  \njvdrean joined #xwiki at 12:24  \nabusenius left at 12:30 (Read error: Connection reset by peer  \nStulle joined #xwiki at 13:05  \nStulle - (13:05): Hi  \nStulle - (13:06): just a quick question, how do you guys feel about giving the page html output a somewhat nicer layout? because reading the html is an utter mess... at least for paragraph breaks and table content a bit of formating would improve readability of the html output  \nmflorea joined #xwiki at 13:34  \ncjdelisle - (13:37): Stulle, the html looks weird because it's generated by a set of templates which have their own tabbing.  \nabusenius joined #xwiki at 13:43  \nabusenius left at 13:43 (Remote host closed the connection  \nSvenDowideit\\_ joined #xwiki at 13:45  \nSvenDowideit left at 13:46 (Ping timeout: 245 seconds  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nSvenDowideit left at 13:54 (Ping timeout: 264 seconds  \nabusenius joined #xwiki at 14:09  \ncjdelisle - (14:11): hey abusenius, do you remember this? http://don.antville.org/static/Don/images/cc.jpg  \nStulle - (14:16): cjdelisle: i see but still, it'd be nice if some formating could be introduced before sending... just like making \\n right after </p>, </td>, </th>, </table>, </br> and so forth would be nice  \ncjdelisle - (14:17): What's in the rendering engine might be possible to do, with the templates though, it's a matter of either the templates or the html being a mess.  \nabusenius - (14:17): hehe, nice one  \nabusenius - (14:18): haven't seen it before  \ncjdelisle - (14:18): I remember it from back in the win95 days. Maybe I just went to shadier websites ;)  \ncjdelisle - (14:19): Stulle, I'm working on reading xml from hudson, it outputs everything as one line, What I found is nice is to open up firebug and click the dom tab, that gives you the nice formatted xml/html.  \nabusenius - (14:19): I have seen attemts to install viruses with those \"your computer is infected\" alerts  \nabusenius - (14:20): usually in standard xp-look  \nabusenius - (14:20): they look especially funny if you're on linux ^^  \ncjdelisle - (14:20): I remember that annoying 4 frame gif that bounced around and looked like an error message.  \ncjdelisle - (14:21): That was just a banner ad though.  \ncjdelisle - (14:21): Also seen the XP error messages.... click... empty pdf file. save. look at it later...  \nabusenius - (14:22): but better \\*not\\* with adobe reader :)  \ncjdelisle - (14:22): Linux so the shellcode wouldn't work.  \ncjdelisle - (14:23): Same old cheap tiff buffer overflow which was used since at least windows 3.1  \nStulle - (14:25): cjdelisle: oh, thanks for that info... i figure i will have to try firebug at last. :-D  \ncjdelisle - (14:25): It's not the best. If I break down and write an xml prettyprinting gm script, I'll let you know.  \nabusenius - (14:34): btw, is it still ok to commit to 2.6 branch?  \nabusenius - (14:34): I have a couple of small security fixes for apps ready  \ncjdelisle - (14:35): RC-1 was released so I think the rule is \"only for regressions\".  \nvmassol - (14:35): yes only for regression or important/blocker bug fixes  \nabusenius - (14:35): k  \nvmassol - (14:35): and it depends on how dangerous they are  \nvmassol - (14:35): (regarding stability)  \nsburjan\\_ joined #xwiki at 14:35  \nabusenius - (14:35): just some missing escaping  \nvmassol - (14:36): yes but we need to be careful  \nvmassol - (14:36): we broke several pages becuase of this  \nabusenius - (14:36): sure  \nvmassol - (14:36): btw we need to fix one I've seen reported this morning  \ncjdelisle - (14:36): That can be dangerous. Especially because it can be hard to detect a break.  \nvmassol - (14:36): XAPANELS-136  \nvmassol - (14:36): already fixed cool  \nsburjan` left at 14:38 (Ping timeout: 240 seconds  \nsburjan\\_ is now known as sburjan` ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \ncjdelisle - (14:39): Can i get a pair of eyes on \"[proposal] Add an xwiki-store module with a UUID user defined type.\"? Unless I scrap my current approach I will need to include UUID then add a UUID to the attachment so it can point to the content.  \ncjdelisle - (14:39): So that means I will need that proposal and one other.  \nlucaa joined #xwiki at 14:41  \nsburjan - (14:51): vmassol: I'm thinking to try writing some unit tests for the red squares clover reports. I'd start with something easy, like calendar plugin. WDYT ?  \njvelociter - (14:54): sburjan: IMO calender plugin does not even worth it. It does not evolve, is not used  \njvelociter - (14:55): you should rather write tests for modules that are actually used  \nsburjan - (14:55): yeah, but I need something to practice on. I wrote only selenium tests until now, so this is a little bit new to me  \nsburjan - (14:55): and since I see calendar plugin included in the clover report, means it is still included in build  \nsburjan - (14:56): bbl, laters  \nsburjan left at 14:57 (Quit: Ex-Chat  \nsdumitriu - (14:58): cjdelisle: Sorry, I'm swamped at the moment  \ncjdelisle - (15:02): ok  \nxwikibot joined #xwiki at 15:18  \nvmassol - (15:18): tweet from a user: \"Upgrading a #xwiki farm (with 8 wikis) is really a boring job, but 2.4.4 fixes a lot of bugs and I hope we could start to use annotations.\"  \nvmassol - (15:18): I agree with him  \nvmassol - (15:19): (it's a real plain, we all know this....)  \ncjdelisle - (15:20): interesting choice of words, 'boring'. \u00a0boring == automatable.  \nsdumitriu - (15:20): +1  \nsdumitriu - (15:20): But right now it has to be done manually since we're suggesting \"don't override these documents\"  \nxwikibot joined #xwiki at 15:26  \nStulle - (15:58): hey  \nStulle - (15:59): if i were to do some translations  \nStulle - (15:59): should i just edit the pages?  \nsdumitriu - (15:59): Yep  \nStulle - (15:59): i see  \nStulle - (16:00): thanks :)  \nspliffy - (16:12): funny, i submitted a patch for ApplicationRessources.properties (XWIKI-5661), but only one of the two strings found it's way onto l10n.xwiki.org. it's in the trunk though.  \nspliffy - (16:13): this search should show both (...usertype\\_Advanced and ...usertype\\_Simple): http://l10n.xwiki.org/xwiki/bin/view/L10N/Search?application=XE&lang=en&key=usertype&origtext=&transtext=  \nsilviar left at 16:23 (Quit: Leaving.  \nvmassol - (16:23): hmmm  \nvmassol - (16:24): anyone knows why the following generates a nested script error:  \nvmassol - (16:24): {{groovy}}  \nvmassol - (16:24): def xdom = doc.document.getXDOM()  \nvmassol - (16:24): {{/groovy}}  \nStulle - (16:27): bye  \nvmassol - (16:31): hmm I'm pretty sure cancelled is written with 2 \"l\"  \nvmassol - (16:31): \u00a0\u00a0\u00a0\u00a0public boolean isCanceled()  \nvmassol - (16:31): seems to be a common mistake though: http://www.googlefight.com/index.php?lang=en\\_GB&word1=cancelled&word2=canceled  \nvmassol - (16:31): anyway whoever introduced cancellable events should fix that ;)  \nvmassol - (16:32): (in observation api)  \nStulle left at 16:32 (Ping timeout: 265 seconds  \nvmassol - (16:32): ahah  \nvmassol - (16:33): apparently both are correct  \nvmassol - (16:33): seems to be american vs english  \nvmassol - (16:33): I had never seen canceled before  \nvmassol - (16:34): anyway since there's a controversy let's keep it as it is for now :)  \njvelociter - (16:34): we should have a rule in the dev guide  \njvelociter - (16:34): when a word exists in both english and american  \njvelociter - (16:34): :)  \ncjdelisle - (16:35): Repeated the getXDOM() bug.  \nvmassol - (16:35): reading NestedScriptMacroValidatorListener  \ncjdelisle - (16:35): I thought it was the inner script which refused to run. In this case it seems to stop everything.  \nvmassol - (16:38): I wonder why the check() method is called twice  \nvmassol - (16:39): the second time the parent is the macro marker block  \nvmassol - (16:40): it's actually called at least 8 times in total  \nvmassol - (16:40): weird  \nevalica - (16:40): vmassol: I'm gonna rename Main.RecentActivity to Main.Activity - just for the record :P  \nvmassol - (16:40): I'd have expected it to be called once  \nvmassol - (16:40): need to understand the flow  \nvmassol - (16:40): evalica: ok  \ncjdelisle - (16:45): The wonders of dependency injection, it allows one to build projects which though appearing simple are complex beyond comprehension.  \nvmassol - (16:45): I'm still trying to figure how why the rendering is done twice  \nvmassol - (16:46): oh, let me check getXDOM  \nvmassol - (16:46): it's possible it's doing rendering  \ncjdelisle - (16:46): Calls Parser.class, goes into wikimodel.  \nvmassol - (16:46): indeed it calls parseContent  \nvmassol - (16:47): so even though the nested script verification is correct, it prevents us from a valid use case\u2026.  \ncjdelisle - (16:48): parseContent causes transformations to run?  \nvmassol - (16:48): yes  \nvmassol - (16:48): hmm  \nvmassol - (16:48): wait  \nvmassol - (16:48): checking  \nvmassol - (16:49): hmm no it doesn't  \nvmassol - (17:08): hmmmm something fishy  \nvmassol - (17:08): seems we're rendering the home page  \nvmassol - (17:08): even if I'm not on it  \ncjdelisle - (17:09): Good catch.  \ncjdelisle - (17:09): Looks like this will turn into a big perf improvement.  \nvmassol - (17:10): yeah i had noticed xwiki was slower, maybe that's it  \nvmassol - (17:10): now need to find why it's happening  \nvmassol - (17:10): debugging  \nspliffy - (17:10): can someone confirm that there is a problem please: http://l10n.xwiki.org/xwiki/bin/inline/XE/XEXWikiCoreResources\\_-1409823308\\_xe-admin-groups-phone\\_en?srid=0ZIQBEfC (look at the original and translated message values)  \nspliffy - (17:11): the fields contain unexecuted code  \nspliffy - (17:13): actually there are not fields  \ncjdelisle - (17:14): spliffy, Wild guess is that the fields are not filled and the default for velocity is to display the code if the result of executing it is \"\".  \nspliffy - (17:14): i'll open a bug report  \nsdumitriu - (17:15): Fixed it by saving the object without any change  \nsdumitriu - (17:15): Yes, it should have a $! instead of $  \nsdumitriu - (17:16): Hm, actually no  \nspliffy - (17:16): should i still report a bug?  \nsdumitriu - (17:16): There's still no input  \nspliffy - (17:16): mh ok  \nflaviusolaru joined #xwiki at 17:20  \nflaviusolaru - (17:21): quick question, how do i create in velocity a String[]?  \nflaviusolaru - (17:21): lucene plugin API has public SearchResults getSearchResults(String query, String[] sortField, String languages), that i don't reach with [\"name\",\"date\"]  \nsdumitriu - (17:23): .split()  \nvmassol - (17:28): weird.....  \nvmassol - (17:28): I get a call to the main webhome when viewing the Sandbox/WebHome on chrome  \nvmassol - (17:28): every time  \nvmassol - (17:29): I got it once on FF only and then it's no longer called  \nvmassol - (17:29): clearing caches just in case  \nvmassol - (17:32): no luck  \ncjdelisle - (17:43): ``This is the home page of TagSoup, a SAX-compliant parser written in Java that, instead of parsing well-formed or valid XML, parses HTML as it is found in the wild: poor, nasty and brutish, though quite often far from short.''  \nvmassol - (17:49): any idea on how to debug this?  \ncjdelisle - (17:51): I'd drop a try{throw new Exception();}catch(Exception e){e.printStackTrace();} in the renderer somewhere.  \nvmassol - (17:52): cjdelisle: I don't think it's a pb with the renderer  \nvmassol - (17:52): I'm talking about the Main/WEbHome being called  \nvmassol - (17:52): since it's called at the level of XwikiAction  \nvmassol - (17:52): it means some js is calling it somewhere  \nvmassol - (17:52): (IMO)  \nvmassol - (17:52): but only on chrome  \nvmassol - (17:53): so some misinterpreted js maybe  \nvmassol - (17:53): it did it once on FF though  \nvmassol - (17:53): but not thereafter  \ncjdelisle - (17:54): wireshark?  \nvmassol - (17:55): what's strange is that chrome dev tool doesn't see this request  \nvmassol - (17:55): (neither did FF)  \nvmassol - (17:55): (with firebug)  \nvmassol - (18:23): so the problem was the favicon  \nvmassol - (18:23): (found thanks to jvdrean)  \nvmassol - (18:24): I guess chrome tries to get http://localhost:8080/favicon.ico or sometin like that  \nvmassol - (18:24): and gets redirected to the main webhome  \njvdrean left at 18:24 (Quit: Leaving.  \ntmortagne - (18:32): spliffy: looking at XWiki.XWikiUsers\\_usertype\\_Simple issue, that's indeed very weird if both keys has been added in the same \u00a0patch  \nsdumitriu - (18:35): tmortagne: Can you add me to the admins of l10n?  \ntmortagne - (18:36): sdumitriu: sure  \ntmortagne - (18:36): XWiki.Sergiu ?  \ntmortagne - (18:37): done  \nsdumitriu - (18:37): Yep  \nsdumitriu - (18:37): Thanks  \nvmassol - (18:49): ok fixed  \nvmassol - (18:50): now need to fix the nested script issue  \nvmassol - (18:50): cjdelisle: have you been able to find the problem?  \ncjdelisle - (18:50): I've been working on hudson blame script.  \nvmassol - (18:50): ok np  \nvmassol - (18:50): I'll look at it later Friday  \nvmassol - (18:50): on holiday now for 1 day  \nvmassol - (18:51): got to go  \nvmassol - (18:51): bye  \ncjdelisle - (18:51): have a good day off.  \nvmassol left at 18:51 (Quit: Leaving.  \nflaviusolaru left at 19:01 (Quit: Leaving.  \ntmortagne - (19:03): sdumitriu: i found something but for now i don't understand it, maybe you will have an idea:  \nsdumitriu - (19:03): Shoot  \ntmortagne - (19:03): in groovy have something like:  \ntmortagne - (19:04): public int importMap(String app, String name, String language, Map map)  \ntmortagne - (19:04): \u00a0\u00a0{  \ntmortagne - (19:04): \u00a0\u00a0\u00a0\u00a0for (entry in map.entrySet()) {  \ntmortagne - (19:04): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String key = entry.getKey();  \ntmortagne - (19:04): \u00a0\u00a0\u00a0\u00a0}  \ntmortagne - (19:04): \u00a0\u00a0\u00a0...  \ntmortagne - (19:04): }  \ntmortagne - (19:04): i printed a tostring of map  \ntmortagne - (19:04): it contains XWiki.XWikiUsers\\_usertype\\_Simple entry  \ntmortagne - (19:04): but key is never equals to \"XWiki.XWikiUsers\\_usertype\\_Simple\"  \ntmortagne - (19:04): in the for  \ntmortagne - (19:05): retrying  \ntmortagne - (19:05): it's in http://l10n.xwiki.org/xwiki/bin/edit/L10NCode/L10NGroovy?&editor=wiki  \nsdumitriu - (19:05): Hm...  \nsabageru left at 19:06 (Ping timeout: 240 seconds  \ntmortagne - (19:07): yep that's it, i can match XWiki.XWikiUsers\\_usertype\\_Advanced but impossible with XWiki.XWikiUsers\\_usertype\\_Simple  \ntmortagne - (19:08): will try with something less strict than a equals maybe there is not invisible char or something in the resource file  \ntmortagne - (19:10): not better with key.contains(\"\\_Simple\")  \nsdumitriu - (19:13): Nothing weird in the source file  \ntmortagne - (19:13): trying keySet() instead of entrySet() to see what i get  \ntmortagne - (19:14): note: the Map is actually a Properties object  \nsdumitriu left at 19:18 (Ping timeout: 265 seconds  \nspliffy\\_ joined #xwiki at 19:31  \nspliffy\\_\\_ left at 19:34 (Ping timeout: 272 seconds  \nmflorea left at 19:38 (Quit: Leaving.  \ntmortagne left at 19:43 (Quit: Leaving.  \narkub left at 20:06 (Ping timeout: 255 seconds  \nvmassol joined #xwiki at 20:21  \nvmassol - (20:21): ok found the problem  \nvmassol - (20:21): {{groovy}}  \nvmassol - (20:21): def xdom = doc.document.getXDOM()  \nvmassol - (20:21): {{/groovy}}  \nvmassol - (20:21): - fails becuase when groovy executes this is return an XDOM object (which is wrong IMO but that's another story)  \nvmassol - (20:21): - then this XDOM is inserted in the generated XDOM thus generate a MacroBlock inside a MacroMarkerBlock  \nvmassol left at 20:23 (Client Quit  \nsdumitriu joined #xwiki at 20:35  \nlucaa left at 21:02 (Ping timeout: 276 seconds  \nrstavro left at 21:23 (Quit: Page closed  \nspliffy\\_\\_ joined #xwiki at 21:55  \nspliffy\\_ left at 21:58 (Ping timeout: 276 seconds  \nflaviusolaru joined #xwiki at 22:06  \nEnygma` left at 22:31 (Ping timeout: 272 seconds  \nlpereira joined #xwiki at 22:52  \nsdumitriu - (23:03): cjdelisle, abusenius: http://jira.xwiki.org/jira/browse/XWIKI-5678  \nvmassol joined #xwiki at 23:05  \nabusenius - (23:06): cool  \nsdumitriu - (23:07): Actually it won't work as written, since normal users don't have access to 'XWiki.Admin', but works with any document with PR that I can edit  \nsdumitriu - (23:08): Which is pretty much anything else in a freshly created wiki  \nevalica left at 23:35 (Quit: Leaving.  \nlpereira left at 23:56 (Quit: Leaving.  \n\n"}