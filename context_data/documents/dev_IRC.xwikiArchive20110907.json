{"id": "dev:IRC.xwikiArchive20110907", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110907", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:06\u00a0<@cjdelisle>\u00a0XWIKI-1  \n00:19\u00a0<@cjdelisle>\u00a0XWIKI-1  \n00:54\u00a0<jvdrean>\u00a0has quit  \n02:47\u00a0<pturcotte>\u00a0has joined #xwiki  \n03:40\u00a0<pturcotte>\u00a0has quit  \n03:41\u00a0<pturcotte>\u00a0has joined #xwiki  \n03:56\u00a0<Stulle|Workstati>\u00a0has quit  \n03:56\u00a0<xipe>\u00a0has quit  \n03:58\u00a0<Stulle|Workstati>\u00a0has joined #xwiki  \n03:58\u00a0<xipe>\u00a0has joined #xwiki  \n04:15\u00a0<pturcotte>\u00a0has quit  \n04:16\u00a0<pturcotte>\u00a0has joined #xwiki  \n07:46\u00a0<mflorea>\u00a0has joined #xwiki  \n08:24\u00a0<sdumitriu>\u00a0has quit  \n08:57\u00a0<Denis>\u00a0has joined #xwiki  \n09:16\u00a0<arkub>\u00a0has joined #xwiki  \n09:24\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:34\u00a0<evalica>\u00a0has joined #xwiki  \n09:35\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:59\u00a0<vmassol>\u00a0has joined #xwiki  \n09:59\u00a0<vmassol>\u00a0good morning  \n10:01\u00a0<vmassol>\u00a0seems ui tests are stuck again: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/199/console  \n10:01\u00a0<vmassol>\u00a02011-09-07 07:46:32,849 [main] INFO \u00a0o.x.t.u.a.UserProfileTest \u00a0\u00a0\u00a0\u00a0\u00a0- testChangePasswordWithoutEnteringPasswords started  \n10:01\u00a0<vmassol>\u00a0checking if I see antyhing special quickly on that test  \n10:02\u00a0<vmassol>\u00a0ok it's alert.accept()  \n10:02\u00a0<vmassol>\u00a0I'll fix it  \n10:06\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:10\u00a0<vmassol>\u00a0btw one good solution to fix this test is to change the code beneath so that we use an error inside the page instead of a dialog box as we do in lots of other places  \n10:24\u00a0<vmassol>\u00a0evalica: wdyt? Should we do this for consistency reason?  \n10:40\u00a0<xwikibot>\u00a0has joined #xwiki  \n10:47\u00a0<vmassol>\u00a0mflorea: testEditProfile() is still failing on my machine (mac)\u2026. it's the issue with setting the focus on the wysiwyg text area. what's our option for fixing this?  \n10:50\u00a0<+mflorea>\u00a0vmassol: it's probably a selenium + ff/mac bug, I never fails locally for me or on CI. I can't debug without a mac and I don't have time either.  \n10:51\u00a0<vmassol>\u00a0mflorea: you could create an issue in the selenium project maybe or post on their list?  \n10:51\u00a0<vmassol>\u00a0(they're very active on the list)  \n10:52\u00a0<+mflorea>\u00a0I would have to investigate the problem to be sure it's not my hack (which works on FF/linux)  \n10:52\u00a0<vmassol>\u00a0wtf: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/201/testReport/junit/org.xwiki.test.ui.administration/UserProfileTest/testChangeDefaultEditor/  \n10:55\u00a0<vmassol>\u00a0(look at the stacktrace about not being able to find the print renderer component)  \n11:02\u00a0<vmassol>\u00a0has quit  \n11:10\u00a0<+tmortagne>\u00a0nice  \n11:12\u00a0<+tmortagne>\u00a0what's really weird actually is that it's supposed to be one PrintRendererFactory by syntax AFAIK so indeed there is no way to find PrintRendererFactory with default hint  \n11:13\u00a0<+tmortagne>\u00a0so looks like DefaultHTMLConverter is doing something weird  \n11:13\u00a0<+tmortagne>\u00a0mflorea: any idea ?  \n11:13\u00a0<+tmortagne>\u00a0org.xwiki.wysiwyg.server.internal.converter.DefaultHTMLConverter  \n11:14\u00a0<+tmortagne>\u00a0did you changed something recently ?  \n11:14\u00a0<+mflorea>\u00a0no  \n11:16\u00a0<+tmortagne>\u00a0actually the issue is in what calls fromHTML  \n11:16\u00a0<+tmortagne>\u00a0(the syntax is provided in the method)  \n11:17\u00a0<+mflorea>\u00a0yes, the provided syntax is bad  \n11:17\u00a0<+mflorea>\u00a0the syntax parameter  \n11:17\u00a0<+tmortagne>\u00a0looks like the parameter is wrong fro some reason it's \"default\" instead of proper syntaxe name  \n11:18\u00a0<+mflorea>\u00a0yep  \n12:06\u00a0<sburjan>\u00a0has joined #xwiki  \n12:11\u00a0<jvelociter>\u00a0has joined #xwiki  \n13:02\u00a0<mflorea>\u00a0has quit  \n13:43\u00a0<mflorea>\u00a0has joined #xwiki  \n13:54\u00a0<vmassol>\u00a0has joined #xwiki  \n14:11\u00a0<pturcotte>\u00a0has quit  \n14:48\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:18\u00a0<pturcotte>\u00a0has joined #xwiki  \n16:46\u00a0<vmassol>\u00a0guys  \n16:46\u00a0<vmassol>\u00a0anyone knows why we have a major rev commit in the scheduler jobs from time to time?  \n16:46\u00a0<vmassol>\u00a0for ex: https://skitch.com/e-vmassol/fadjp/watchlist-hourly-email-notifier-scheduler.watchlisthourlynotifier-xwiki.org  \n16:46\u00a0<vmassol>\u00a0(this is for the hourly job but the same happens for the daily job for ex)  \n16:47\u00a0<vmassol>\u00a0(http://www.xwiki.org/xwiki/bin/view/Scheduler/WatchListHourlyNotifier#History)  \n16:48\u00a0<+tmortagne>\u00a0you are talking about the commits without comments ?  \n16:48\u00a0<vmassol>\u00a0when I check the changes for these commits I see \"no changes\"  \n16:48\u00a0<vmassol>\u00a0yes  \n16:49\u00a0<+tmortagne>\u00a0is it done at startup ? thinking about some migrator to older scheduler format which save even if the document is ok  \n16:49\u00a0<+tmortagne>\u00a0s/to/from/  \n16:50\u00a0<vmassol>\u00a0good idea, maybe  \n16:51\u00a0<vmassol>\u00a0hmm  \n16:51\u00a0<vmassol>\u00a0normally no  \n16:51\u00a0<vmassol>\u00a0since the DB version is checked first I think  \n16:51\u00a0<vmassol>\u00a0need to check code  \n16:51\u00a0<+tmortagne>\u00a0vmassol: i'm not talking about DB migrator  \n16:51\u00a0<vmassol>\u00a0yes me too  \n16:51\u00a0<+tmortagne>\u00a0but something at scheduler plugin level  \n16:51\u00a0<vmassol>\u00a0oh \\*\\*not\\*\\*  \n16:51\u00a0<vmassol>\u00a0:)  \n16:52\u00a0<+tmortagne>\u00a0since scheduler used to have a different format AFAIK  \n16:52\u00a0<vmassol>\u00a0ok\u2026 it's not very important but I'm wondering and it's a bit strange  \n16:52\u00a0<vmassol>\u00a0(at least I wasn't expecting it)  \n16:53\u00a0<+tmortagne>\u00a0or maybe it's just the code that make sure standard watchlist notifier are there  \n16:53\u00a0<+tmortagne>\u00a0if there is such code  \n16:53\u00a0<+tmortagne>\u00a0in any case it really looks like something checking for update and saving whatever the result  \n16:54\u00a0<+tmortagne>\u00a0always bad to not put comments in save from java code  \n16:54\u00a0<vmassol>\u00a0probably not related to this but I've found this in my console logs: http://pastebin.com/BXFDSdWZ  \n16:55\u00a0<vmassol>\u00a0FYI what I'm looking at right now is this: the AS excludes the Scheduler space completely from the displayed events  \n16:56\u00a0<vmassol>\u00a0so if I modify the scheduler home page for ex or any other page I would have added to the scheduler space they won't appear int he AS  \n16:56\u00a0<vmassol>\u00a0the reason (I think) is because we wanted to exclude the \"update next fire time\" from the AS  \n16:56\u00a0<vmassol>\u00a0but it's too large an exclude IMO  \n16:57\u00a0<vmassol>\u00a0I had a real use case where I modified the scheduler home and I couldn't understand why it wasn't showing in the AS....  \n16:57\u00a0<vmassol>\u00a0(so I digged in the code and found it's hardcoded to be excluded)  \n16:58\u00a0<+tmortagne>\u00a0hardcoded ? not very nice and certainly has nothing to do at AS level  \n17:03\u00a0<sburjan>\u00a0has quit  \n17:05\u00a0<vmassol>\u00a0created http://jira.xwiki.org/jira/browse/XE-1004  \n17:05\u00a0<@sdumitriu>\u00a0vmassol: The StopCommand exception is \"normal\"  \n17:05\u00a0<vmassol>\u00a0sdumitriu: do you know what it is about  \n17:05\u00a0<vmassol>\u00a0?  \n17:05\u00a0<@sdumitriu>\u00a0We should catch it in the velocity engine  \n17:06\u00a0<@sdumitriu>\u00a0Yes, it's the new behavior of the #stop directive  \n17:06\u00a0<vmassol>\u00a0ah didn't know that  \n17:06\u00a0<@sdumitriu>\u00a0We're supposed to catch it at the right place and stop whatever we need to stop; it's a new feature of Velocity 1.7  \n17:07\u00a0<vmassol>\u00a0ok so indeed we're not doing that properly  \n17:07\u00a0<vmassol>\u00a0creating a jira issue  \n17:09\u00a0<vmassol>\u00a0sdumitriu: http://jira.xwiki.org/jira/browse/XWIKI-6932  \n17:09\u00a0<@sdumitriu>\u00a0XWIKI-123  \n17:10\u00a0<@sdumitriu>\u00a0Hm, restarting bot  \n17:10\u00a0<vmassol>\u00a0that won't help  \n17:10\u00a0<vmassol>\u00a0I did it already  \n17:10\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:10\u00a0<vmassol>\u00a0XWIKI-123  \n17:16\u00a0<vmassol>\u00a0trying something re bot  \n17:17\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:17\u00a0<vmassol>\u00a0XWIKI-1000  \n17:17\u00a0<vmassol>\u00a0:)  \n17:17\u00a0<vmassol>\u00a0fixed  \n17:18\u00a0<vmassol>\u00a0the reason is that guillaumeF modified the jira URL  \n17:18\u00a0<vmassol>\u00a0it's no longer http://jira.xwiki.org/jira but http://jira.xwiki.org  \n17:18\u00a0<vmassol>\u00a0he's done a redirection but the client we're using is not taking it into account apparently  \n17:22\u00a0<vmassol>\u00a0sdumitriu: wdyt about XWIKI-6925, anything that could go wrong?  \n17:24\u00a0<vmassol>\u00a0hey bot, you were sleeping or what?  \n17:24\u00a0<vmassol>\u00a06 minutes to answer!  \n17:25\u00a0<@sdumitriu>\u00a0vmassol: No idea yet  \n17:26\u00a0<@sdumitriu>\u00a0It used to work for me  \n17:26\u00a0<vmassol>\u00a0sdumitriu: wdym?You're talking about XWIKI-6925?  \n17:26\u00a0<@sdumitriu>\u00a0I wonder if it's a problem only with MyISAM or InnoDB is affected as well  \n17:26\u00a0<@sdumitriu>\u00a0Yes  \n17:26\u00a0<vmassol>\u00a0I don't know  \n17:27\u00a0<vmassol>\u00a0all I know is that it affected myxwiki.org yesterday  \n17:27\u00a0<@sdumitriu>\u00a0I'll check that  \n17:28\u00a0<@sdumitriu>\u00a0tmortagne: Any idea why this failed? http://ci.xwiki.org/job/xwiki-enterprise/7696/console  \n17:29\u00a0<@sdumitriu>\u00a0Is it a cache issue and the next build will be OK?  \n17:29\u00a0<+tmortagne>\u00a0sdumitriu: order issue, I renamed a project in platform  \n17:29\u00a0<vmassol>\u00a0tmortagne: how can we have order issue?  \n17:29\u00a0<vmassol>\u00a0I've configured the projects to use github pings  \n17:29\u00a0<+tmortagne>\u00a0vmassol: because enterprise build is triggered when something is modified in its repository  \n17:30\u00a0<@sdumitriu>\u00a0Probably because platform build failed  \n17:30\u00a0<vmassol>\u00a0sdumitriu: normally no  \n17:30\u00a0<+tmortagne>\u00a0sdumitriu: and anyway platform is long to build so enterprise has probably be started before platform finish  \n17:31\u00a0<vmassol>\u00a0tmortagne: you committed in both, is that it?  \n17:31\u00a0<+tmortagne>\u00a0yes  \n17:31\u00a0<vmassol>\u00a0got it  \n17:31\u00a0<+tmortagne>\u00a0because some project names changed  \n17:31\u00a0<vmassol>\u00a0too bad that jenkins doesn't see this  \n17:32\u00a0<+tmortagne>\u00a0yea it's hard for jenkins, could have been some package name change and even harder for jenkins to see  \n17:32\u00a0<vmassol>\u00a0what other system do is this:  \n17:33\u00a0<vmassol>\u00a0they have a quite period after a commit  \n17:33\u00a0<vmassol>\u00a0to make sure no other commits are done  \n17:33\u00a0<vmassol>\u00a0for ex they wait 2 mn  \n17:33\u00a0<vmassol>\u00a0then they order the build with all the commits  \n17:33\u00a0<vmassol>\u00a0all the commits they've received that is  \n17:34\u00a0<vmassol>\u00a0http://stackoverflow.com/questions/1023137/is-it-possible-to-delay-ci-build-on-hudson-until-commit-activity-tapers  \n17:37\u00a0<vmassol>\u00a0cruisecontrol  \n17:37\u00a0<vmassol>\u00a0that's how they worked  \n17:39\u00a0<vmassol>\u00a0hmmm actually I misremembered - they used the quietperiod for non atomic SCM like CVS to prevent building in mid flight  \n17:40\u00a0<evalica>\u00a0has quit  \n17:41\u00a0<vmassol>\u00a0might work to set the quiet period actually  \n17:41\u00a0<vmassol>\u00a0here's the doc for jenkins:  \n17:41\u00a0<vmassol>\u00a0If set, a newly scheduled build waits for this many seconds before actually being built. This is useful for:  \n17:41\u00a0<vmassol> \u2022 Collapsing multiple CVS change notification e-mails into one (some CVS changelog e-mail generation scripts generate multiple e-mails in quick succession when a commit spans across directories).  \n17:41\u00a0<vmassol> \u2022 If your coding style is such that you commit one logical change in a few cvs/svn operations, then setting a longer quiet period would prevent Jenkins from building it prematurely and reporting a failure.  \n17:41\u00a0<vmassol> \u2022 Throttling builds. If your Jenkins installation is too busy with too many builds, setting a longer quiet period can reduce the number of builds.  \n17:41\u00a0<vmassol>\u00a0but I'm not sure this will work across different build jobs  \n17:43\u00a0<Enygma`>\u00a0has quit  \n17:49\u00a0<@sdumitriu>\u00a0vmassol: I looked at all the calls to saveDocument in the scheduler and watchlist plugins, but nothing seems to be saving documents for nothing  \n17:49\u00a0<@sdumitriu>\u00a0But there are some places where there's no version comment  \n17:50\u00a0<vmassol>\u00a0yep  \n17:50\u00a0<vmassol>\u00a0and no changes  \n17:50\u00a0<@sdumitriu>\u00a0The only ones that creates a major version are the init ones, like updateSchedulerJobClass  \n17:51\u00a0<vmassol>\u00a0so that could be it  \n17:51\u00a0<vmassol>\u00a0whenever xwiki.org restarts?  \n17:51\u00a0<@sdumitriu>\u00a0Maybe it's the same broken cache issue  \n17:51\u00a0<@sdumitriu>\u00a0Like the class document exists, but in the cache it's stored as a new document  \n17:52\u00a0<@sdumitriu>\u00a0Well, that only saves if the documents needs an update  \n17:52\u00a0<@sdumitriu>\u00a0And usually they don't  \n17:53\u00a0<+tmortagne>\u00a0it's supposed  \n17:54\u00a0<vmassol>\u00a0indeed needsUpdate is uspposed to be false  \n17:59\u00a0<vmassol>\u00a0doing a flush cache will trigger updateSchedulerJobClass too  \n18:00\u00a0<vmassol>\u00a0forget that  \n18:00\u00a0<vmassol>\u00a0modifying the list of plugins in xwikipreferences would trigger updateSchedulerJobClass (not a flush cache)  \n18:01\u00a0<+Denis>\u00a0anyone out there with some knowledge about the class editor ?  \n18:01\u00a0<@sdumitriu>\u00a0Denis: Me  \n18:01\u00a0<+Denis>\u00a0I got a very strange issue when I create a property named 'action'  \n18:02\u00a0<@sdumitriu>\u00a0Ah...  \n18:02\u00a0<+Denis>\u00a0it cause 'save and continue' to became broken, and sometime 'save & view' as well  \n18:02\u00a0<+Denis>\u00a0but sometime only, which is very stange  \n18:03\u00a0<@sdumitriu>\u00a0Denis: I think it's conflicting with the request dispatcher  \n18:03\u00a0<+Denis>\u00a0I suspect that the button introduce form data like 'action\\_xxx' which cause issues  \n18:03\u00a0<@sdumitriu>\u00a0Yes  \n18:04\u00a0<+Denis>\u00a0but it is flickering, which had puzzled us for a while...  \n18:04\u00a0<+Denis>\u00a0I will create a JIRA  \n18:10\u00a0<vmassol>\u00a0sdumitriu: I'm puzzled. I'm trying to reproduce the scheduler issue locally but what I'm seeing doesn't make sense for me. The job page is modified but no new version is added and there's no commit message either  \n18:10\u00a0<vmassol>\u00a0I have to run now, will reconnect later  \n18:10\u00a0<vmassol>\u00a0has quit  \n18:12\u00a0<+Denis>\u00a0sdumitriu: http://jira.xwiki.org/browse/XWIKI-6936  \n18:46\u00a0<JuanDaugherty>\u00a0has quit  \n18:54\u00a0<Denis>\u00a0has quit  \n19:07\u00a0<arkub>\u00a0has quit  \n19:15\u00a0<npm>\u00a0has quit  \n19:15\u00a0<npm>\u00a0has joined #xwiki  \n19:34\u00a0<tmortagne>\u00a0has quit  \n19:50\u00a0<lpereira>\u00a0has joined #xwiki  \n19:51\u00a0<mflorea>\u00a0has quit  \n20:06\u00a0<pgmjsd>\u00a0has quit  \n20:12\u00a0<pgmjsd>\u00a0has joined #xwiki  \n20:27\u00a0<vmassol>\u00a0has joined #xwiki  \n20:36\u00a0<jvelociter>\u00a0has quit  \n20:36\u00a0<vmassol>\u00a0sdumitriu: I left some messages for you on skype when I was in the train offline but you seem offline now on skype :)  \n20:36\u00a0<jvelociter>\u00a0has joined #xwiki  \n20:36\u00a0<@sdumitriu>\u00a0Ah, it crashed  \n21:07\u00a0<vmassol>\u00a0has quit  \n22:16\u00a0<jvelociter\\_>\u00a0has joined #xwiki  \n22:17\u00a0<lpereira>\u00a0has quit  \n22:18\u00a0<jvelociter>\u00a0has quit  \n22:18\u00a0<jvelociter\\_>\u00a0is now known as <jvelociter>  \n22:22\u00a0<jvdrean>\u00a0has quit  \n22:31\u00a0<mflorea>\u00a0has joined #xwiki  \n22:54\u00a0<pturcotte>\u00a0has quit  \n23:01\u00a0<vmassol>\u00a0has joined #xwiki  \n23:03\u00a0<jvelociter>\u00a0has quit  \n23:03\u00a0<vmassol>\u00a0has quit  \n\n"}