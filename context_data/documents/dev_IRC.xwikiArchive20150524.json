{"id": "dev:IRC.xwikiArchive20150524", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150524", "title": "IRC Archive for channel #xwiki on 24 May 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<MasterPiece>\u00a0has quit  \n01:02\u00a0<martin-h>\u00a0has quit  \n03:12\u00a0<Bugendol1>\u00a0has joined #xwiki  \n03:14\u00a0<Bugendolf>\u00a0has quit  \n07:41\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:52\u00a0<DarkKnightCZ>\u00a0has quit  \n08:31\u00a0<lucaa>\u00a0has joined #xwiki  \n08:31\u00a0<lucaa>\u00a0has quit  \n10:01\u00a0<vmassol>\u00a0has joined #xwiki  \n11:37\u00a0<vmassol>\u00a0has quit  \n11:37\u00a0<vmassol>\u00a0has joined #xwiki  \n11:55\u00a0<vmassol>\u00a0has quit  \n12:06\u00a0<vmassol>\u00a0has joined #xwiki  \n12:26\u00a0<vmassol>\u00a0has quit  \n12:31\u00a0<vmassol>\u00a0has joined #xwiki  \n12:49\u00a0<vmassol>\u00a0has quit  \n13:35\u00a0<vmassol>\u00a0has joined #xwiki  \n14:57\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n15:04\u00a0<DarkKnightCZ>\u00a0has quit  \n16:26\u00a0<MasterPiece>\u00a0has joined #xwiki  \n16:36\u00a0<MasterPiece>\u00a0has quit  \n17:12\u00a0<vmassol>\u00a0has quit  \n17:34\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n18:47\u00a0<fwiesing>\u00a0has joined #xwiki  \n18:50\u00a0<fwiesing>\u00a0Good evening Ladies and Gent's! I did a testinstallation with xwiki - but I'm unable to get it working. I got this error:  \n18:50\u00a0<fwiesing>\u00a0HTTP Status 500 - com.xpn.xwiki.XWikiException: Error number 11007 in 0: Failed to extract Entity Resource Reference from URL [http://192.168.5.8:8080/xwiki/bin/view/Main/]  \n18:51\u00a0<cjd>\u00a0what stack are you using?  \n18:51\u00a0<cjd>\u00a0apache/tomcat/xwiki ?  \n18:51\u00a0<fwiesing>\u00a0As far as I found out - it is a problem with the tomcat7 - the address is not resolved correctly.  \n18:51\u00a0<fwiesing>\u00a0I'm using:  \n18:51\u00a0<fwiesing>\u00a0debian 7 - with tomcat 7 and xwkiki 7.0.1  \n18:52\u00a0<fwiesing>\u00a0with postgresql  \n18:52\u00a0<cjd>\u00a0apt-get ?  \n18:52\u00a0<cjd>\u00a0(the xwiki .deb file?)  \n18:52\u00a0<fwiesing>\u00a0yes - installed with apt-get  \n18:54\u00a0<fwiesing>\u00a0http://pastebin.com/zh1PwPfX  \n18:54\u00a0<fwiesing>\u00a0the whole output of the browser  \n18:54\u00a0<cjd>\u00a0running a search of my email, I think this one has come up before  \n18:55\u00a0<fwiesing>\u00a0I found some articles on the web - but not really a solution.  \n18:56\u00a0<fwiesing>\u00a0I think the site is found. When I start the first time I saw, the site was load but stopped at 12 %  \n18:57\u00a0<fwiesing>\u00a0and I don't think it's a problem with resolving - a nslookup workes perfect  \n18:57\u00a0<fwiesing>\u00a0... means - the server is found  \n18:57\u00a0<cjd>\u00a0right, I don't see anything which indicates the cause, always different configurations mean more integration effort  \n18:58\u00a0<cjd>\u00a0this one ought to work but there might be a little issue with config somewhere  \n18:58\u00a0<cjd>\u00a0I'd recommend sending an email over to the [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection) list and then to continue testing, just drop in the .zip bundled xwiki instance  \n18:59\u00a0<vmassol>\u00a0has joined #xwiki  \n18:59\u00a0<fwiesing>\u00a0one information more. I did the first installation yesterday with debian jessi 8 and tomcat8 / xwiki 8 / postgresql9.4 - and I got exactly the same problem  \n19:00\u00a0<fwiesing>\u00a0so - I tried today with debian 7 / tomcat 7 and postgresql-9.1  \n19:00\u00a0<cjd>\u00a0tomcat8 has a problem which is causing anonymous users to become logged in by surprise so that's not recommended at this time  \n19:00\u00a0<cjd>\u00a0(logged in as a random person)  \n19:00\u00a0<cjd>\u00a0vmassol: you know this one? XWikiException: Error number 11007 in 0: Failed to extract Entity Resource Reference from URL \u00a0[http://192.168.5.8:8080/xwiki/bin/view/Main/]  \n19:00\u00a0<fwiesing>\u00a0I want to test it for me, because I think xwiki a cool wiki-project and comes with all the features, which an enterprise will need.  \n19:01\u00a0<cjd>\u00a0yeah, if you're testing, go for the .zip install, unzip it and type ./start\\_xwiki.sh and you're up  \n19:01\u00a0<cjd>\u00a0it's got a jetty server bundled  \n19:01\u00a0<vmassol>\u00a0cjd: no, I don't  \n19:02\u00a0<cjd>\u00a0hmm fwiesing is getting that on a fairly stock apt-get xwiki / tomcat7 / postgres setup  \n19:02\u00a0<fwiesing>\u00a0thx for this information - I will try with tomcat 7 / xwiki 7.0.1 and the zip-install  \n19:03\u00a0<cjd>\u00a0you don't need tomcat with the zip install  \n19:03\u00a0<cjd>\u00a0it's got a bundled webserver and database  \n19:03\u00a0<cjd>\u00a0just ./start\\_xwiki.sh  \n19:03\u00a0<fwiesing>\u00a0shouls I remove the tomcat?  \n19:03\u00a0<fwiesing>\u00a0should...  \n19:03\u00a0<cjd>\u00a0just stop the server for now  \n19:03\u00a0<cjd>\u00a0you'll want to use it in the end  \n19:03\u00a0<fwiesing>\u00a0ok - thx for helping - I will try this and report later this evening.  \n19:03\u00a0<fwiesing>\u00a0:-)  \n19:04\u00a0<fwiesing>\u00a0may be.  \n19:04\u00a0<cjd>\u00a0yeah, if you can write to the users list, that would be potentially helpful because it might illustrate a configuration issue which we need to document or it might alert us to a bug  \n19:05\u00a0<fwiesing>\u00a0sometime it happens, that clients did a request which wiki is helpful.  \n19:05\u00a0<fwiesing>\u00a0And confluence is very popular in the windows world  \n19:06\u00a0<cjd>\u00a0My opinion of confluence is that atlassian is not putting that much effort into it (compared to JIRA)  \n19:06\u00a0<fwiesing>\u00a0but our target is to offer a free and open-source project - a professional support is oK  \n19:07\u00a0<cjd>\u00a0yeah, if you want real extensibility/flexibility, proprietary solutions have to be a lot better to be worth the costs  \n19:07\u00a0<fwiesing>\u00a0and all I read about is, that xwiki contains the features, which are needed in such an \"enterprise-wiki\" for sharing knowledge in a company  \n19:08\u00a0<fwiesing>\u00a0so I want to do a test for me.  \n19:08\u00a0<vmassol>\u00a0cjd: you have the full stack trace?  \n19:09\u00a0<fwiesing>\u00a0not at the moment.  \n19:09\u00a0<fwiesing>\u00a0one last question  \n19:09\u00a0<fwiesing>\u00a0should the zip-file work in the jessie8-environment?  \n19:10\u00a0<cjd>\u00a0should  \n19:10\u00a0<fwiesing>\u00a0thanks. I will leave now and try.  \n19:47\u00a0<fwiesing>\u00a0Works fine. thx.  \n19:48\u00a0<fwiesing>\u00a0but... as far as I understand - this package is not, what I want to test. I didn't start as a daemon and uses an internal database. It's only for testing a standalone installation. Maybe a solution for a small company.  \n19:51\u00a0<cjd>\u00a0One person I know deployed a production installation by using the .zip install then just changing the database to point to his own mysql db  \n19:52\u00a0<cjd>\u00a0but in general, production instances are done closer to the way you were originally trying to install  \n19:54\u00a0<cjd>\u00a0(personal opinion) the integrated database is not good enough for production but the integrated jetty webserver is ok (unless you're big and then you need a cluster)  \n20:18\u00a0<fwiesing>\u00a0Still I think the problem comes from the tomcat (... my opinion) - and the problem is that I'm not very familar with tomcat. It would be very helpful, if there is somewhere a more detailed instruction for setting up the tomcat. I learned a lot about the Tomcat the last 2 days...  \n20:19\u00a0<cjd>\u00a0I suppose you've seen this: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationTomcat  \n20:20\u00a0<fwiesing>\u00a0yes  \n20:21\u00a0<fwiesing>\u00a0I didn't activate the tomcat security  \n20:21\u00a0<cjd>\u00a0what's the number of users you're targetting ?  \n20:21\u00a0<fwiesing>\u00a0at the moment 10 (max)  \n20:22\u00a0<cjd>\u00a0IMO go ahead with jetty and just change the hibernate.cfg.xml file in the package to point to your postgres instance  \n20:22\u00a0<cjd>\u00a0that way you know it will work  \n20:23\u00a0<cjd>\u00a0or for your size, you might want to contact XWiki SAS about a managed solution  \n20:23\u00a0<fwiesing>\u00a0how did I get the database-tables in the postgres?  \n20:23\u00a0<fwiesing>\u00a0will the be created, if the database is empty?  \n20:23\u00a0<cjd>\u00a0it creates the tables, for importing the default pages you need to follow the procedure  \n20:23\u00a0<fwiesing>\u00a0thx. I will try it.  \n20:25\u00a0<vmassol>\u00a0tomcat is the most used, well-known and documented servlet container. If you're new to servlet using tomcat is your best solution IMO  \n20:45\u00a0<fwiesing>\u00a0I agree - Tomcat is well documented. Did you need some logs and configuration files for analyzing?  \n20:57\u00a0<fwiesing>\u00a0I loaded up the files for further analyzing - if needed you can download it with the link below. Please note - I've a CAcert-certificate on my cloud.  \n20:57\u00a0<fwiesing>\u00a0https://www.roadrunnerserver.com/oc/public.php?service=files&t=640878dcc6f2e9fc538d10837604f091  \n21:01\u00a0<vmassol>\u00a0has quit  \n21:03\u00a0<Bugen\\_do>\u00a0has quit  \n21:43\u00a0<fwiesing>\u00a0I think I know now the problem  \n21:43\u00a0<DarkKnightCZ>\u00a0has quit  \n21:43\u00a0<fwiesing>\u00a0the problem must be somewhere in the hibernate.cfg.xml  \n21:44\u00a0<fwiesing>\u00a0If I want to point it to the postgresql-server, I got the same error again (with the zip-version).  \n21:45\u00a0<fwiesing>\u00a0Further - the hibernate.cfg.xml is in the deb-package different to them in the zip-file (the postgres-part)  \n21:45\u00a0<cjd>\u00a0can you paste the enitre backtrace ?  \n21:46\u00a0<fwiesing>\u00a0https://www.roadrunnerserver.com/oc/public.php?service=files&t=640878dcc6f2e9fc538d10837604f091  \n21:46\u00a0<cjd>\u00a0I had assumed it was not a database issue but it seems that it is, there are a bunch of known easily made mistakes with databases  \n21:46\u00a0<fwiesing>\u00a0my files from the afternoon.  \n21:46\u00a0<fwiesing>\u00a0the backtrace - 1 min...  \n21:48\u00a0<fwiesing>\u00a0http://pastebin.com/MgBEyPkb  \n21:48\u00a0<fwiesing>\u00a0further:  \n21:49\u00a0<cjd>\u00a0ok if you scroll all the way to the bottom:  \n21:49\u00a0<cjd>\u00a0java.lang.ClassNotFoundException: org.postgresql.Driver  \n21:49\u00a0<cjd>\u00a0make sure you followed the postgres installation instructions exactly (specifically there is a .jar files which must be added)  \n21:49\u00a0<fwiesing>\u00a0the connection-string for the postgresql is different in the deb-package to them in the zipfile  \n21:49\u00a0<fwiesing>\u00a0in the zipfile:  \n21:49\u00a0<fwiesing>\u00a0<property name=\"connection.url\">jdbc:postgresql:xwiki</property>  \n21:49\u00a0<fwiesing>\u00a0in the deb-package:  \n21:49\u00a0<fwiesing>\u00a0<property name=\"connection.url\">jdbc:postgresql:</property>  \n21:50\u00a0<fwiesing>\u00a0I didn't change this line  \n21:50\u00a0<cjd>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationPostgreSQL  \n21:50\u00a0<cjd>\u00a0``Download the appropriate Postgres JDBC41 driver. You can also download it directly from the Maven Central Repository and copy the '' <-- you got that part ?  \n21:52\u00a0<fwiesing>\u00a0can you tell me, what's the right connection.url?  \n21:53\u00a0<cjd>\u00a0they probably both work, I'm not sure  \n21:53\u00a0<cjd>\u00a0but I do know that it's not an issue with that line  \n21:53\u00a0<fwiesing>\u00a0I thought, if I install libpostgresql-jdbc-java - it should be enough?  \n21:54\u00a0<cjd>\u00a0\"and copy the JAR into your container's common lib directory or in the XWiki webapp (in WEB-INF/lib)\"  \n21:54\u00a0<fwiesing>\u00a0(from the debian repository)  \n21:54\u00a0<cjd>\u00a0did you do that part?  \n21:54\u00a0<fwiesing>\u00a0no  \n21:55\u00a0<fwiesing>\u00a0I was the opinion the setup from the repository was enough - but thank you for this hint.\n"}