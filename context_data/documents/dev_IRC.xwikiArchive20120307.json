{"id": "dev:IRC.xwikiArchive20120307", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120307", "title": "IRC Archive for channel #xwiki on 07 March 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:36\u00a0<jvdrean>\u00a0has joined #xwiki  \n01:16\u00a0<jvdrean>\u00a0has quit  \n02:08\u00a0<rrodriguez>\u00a0has quit  \n04:03\u00a0<DrLou>\u00a0has quit  \n05:56\u00a0<Denis1>\u00a0has joined #xwiki  \n05:56\u00a0<Denis>\u00a0has quit  \n06:14\u00a0<mflorea>\u00a0has joined #xwiki  \n07:30\u00a0<rrodriguez>\u00a0has joined #xwiki  \n07:40\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* refca9f9\u000f https://github.com/xwiki/xwiki-platform/commit/efca9f92d7124851367761e61ec1843b0d5ffafd \u000f/ xwiki-platform-core/xwiki-platform-test/src/main/java/org/xwiki/test/ui/po/CommentForm.java :\u000f XWIKI-7529: Comment preview doesn't work when a sheet is applied to a document ...  \n07:41\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* re5cea2a\u000f https://github.com/xwiki/xwiki-platform/commit/e5cea2ad4e9020cefd002ace897211a3d8e75388 \u000f/ xwiki-platform-core/xwiki-platform-test/src/main/java/org/xwiki/test/ui/po/CommentForm.java :\u000f XWIKI-7529: Comment preview doesn't work when a sheet is applied to a document ...  \n07:49\u00a0<rrodriguez>\u00a0has quit  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:50\u00a0<bblfish>\u00a0has joined #xwiki  \n09:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:15\u00a0<bblfish>\u00a0has quit  \n09:17\u00a0<bblfish>\u00a0has joined #xwiki  \n09:31\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r3cfc98a\u000f https://github.com/xwiki/xwiki-enterprise/commit/3cfc98a95732c1f9b1d629ce3a2ff11fd4a36359 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-selenium/src/test/it/org/xwiki/test/selenium/AdministrationTest.java :\u000f XCOMMONS-120: Upgrade to Selenium 2.20 ...  \n09:43\u00a0<sburjan>\u00a0has joined #xwiki  \n09:55\u00a0<bblfish>\u00a0has left #xwiki  \n10:13\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:24\u00a0<silviar>\u00a0has joined #xwiki  \n10:37\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:54\u00a0<vmassol>\u00a0seems I didn't fix all tests yetserday  \n10:54\u00a0<vmassol>\u00a0fixing DefaultVelocityContextFactoryTest  \n10:56\u00a0<sburjan>\u00a0has quit  \n10:57\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rfa11265\u000f https://github.com/xwiki/xwiki-commons/commit/fa112650ac032fab7b11f5f6a4bb419e83b7477c \u000f/ xwiki-commons-core/xwiki-commons-velocity/src/test/java/org/xwiki/velocity/internal/DefaultVelocityContextFactoryTest.java :\u000f XWIKI-7598: Fix handling of Loggers when automatically mocking Component dependencies ...  \n11:12\u00a0<lucaa>\u00a0has joined #xwiki  \n11:21\u00a0<sburjan>\u00a0has joined #xwiki  \n11:28\u00a0<vmassol>\u00a0I'm in a meeting, could someone check why macro tests fail: http://ci.xwiki.org/job/xwiki-rendering/org.xwiki.rendering$xwiki-rendering-transformation-macro/597/testReport/ ?  \n11:29\u00a0<vmassol>\u00a0might be caused by my change though: ?  \n11:29\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-rendering/org.xwiki.rendering$xwiki-rendering-transformation-macro/597/testReport/org.xwiki.rendering.internal.transformation.macro/MacroTransformationTest/testPrioritiesMacroTransform/  \n11:29\u00a0<vmassol>\u00a0Caused by: java.lang.NullPointerException  \n11:29\u00a0<vmassol> at org.xwiki.test.AbstractMockingComponentTestCase$MockingEmbeddableComponentManager.createLogger(AbstractMockingComponentTestCase.java:102)  \n11:30\u00a0<vmassol>\u00a0I think I know, checking something  \n11:31\u00a0<vmassol>\u00a0ok it's because some test use AbstractMCTC and don't use @MockingRequirement  \n11:31\u00a0<vmassol>\u00a0fixing  \n11:34\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r68a4ecb\u000f https://github.com/xwiki/xwiki-commons/commit/68a4ecb36098688dc7d3372e1082bd26a96ea2d8 \u000f/ xwiki-commons-core/xwiki-commons-test/src/main/java/org/xwiki/test/AbstractMockingComponentTestCase.java :\u000f XWIKI-7598: Fix handling of Loggers when automatically mocking Component dependencies ...  \n11:36\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rdfb74dd\u000f https://github.com/xwiki/xwiki-enterprise/commit/dfb74dd53d0c6582376554bd72161a6af94d050e \u000f/ (3 files in 2 dirs):\u000f [AppWithinMinutes] Add more functional tests. - http://git.io/SHAW9Q  \n11:36\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r4f15635\u000f https://github.com/xwiki/xwiki-enterprise/commit/4f15635378f1bc7985ff884e4a9e4eb6a88a0d04 \u000f/ (3 files in 2 dirs):\u000f [AppWithinMinutes] Add more functional tests. ...  \n11:36\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r03e6ee3\u000f https://github.com/xwiki/xwiki-rendering/commit/03e6ee335831b932361618e73682089fb534179c \u000f/ xwiki-rendering-transformations/xwiki-rendering-transformation-macro/src/test/java/org/xwiki/rendering/internal/transformation/macro/MacroTransformationTest.java :\u000f [Misc] No need to use AbstractMockingComponentTestCase - http://git.io/nAvKZQ  \n12:12\u00a0<vmassol>\u00a0fixing ContextMacroTest  \n12:15\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r985ca81\u000f https://github.com/xwiki/xwiki-commons/commit/985ca8165e882561c0565c0ed038b6f223cb1609 \u000f/ xwiki-commons-core/xwiki-commons-test/src/main/java/org/xwiki/test/AbstractMockingComponentTestCase.java :\u000f XWIKI-7598: Fix handling of Loggers when automatically mocking Component dependencies ...  \n12:18\u00a0<silviar>\u00a0has quit  \n12:24\u00a0<mflorea>\u00a0has quit  \n13:08\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:08\u00a0<evalica>\u00a0has joined #xwiki  \n13:17\u00a0<mflorea>\u00a0has joined #xwiki  \n13:45\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* reda8b1c\u000f https://github.com/xwiki/xwiki-enterprise/commit/eda8b1ceea36feb8cc7d0ef9897429e002f0e3c3 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/appwithinminutes/LiveTableEditorTest.java :\u000f Fix functional test. - http://git.io/0PG7Jw  \n13:45\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r1b8d659\u000f https://github.com/xwiki/xwiki-enterprise/commit/1b8d659f7db3a976626782b3a5256b826252e25f \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/appwithinminutes/LiveTableEditorTest.java :\u000f Fix functional test. ...  \n13:47\u00a0<silviar>\u00a0has joined #xwiki  \n14:07\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n14:22\u00a0<tekzilla>\u00a0has quit  \n14:24\u00a0<tekzilla>\u00a0has joined #xwiki  \n14:32\u00a0<vmassol>\u00a0guys, any easy way to render some wiki content from a wiki page and assign it to a velocity variable? (the wiki content would be retrieved from an XProperty)  \n14:33\u00a0<vmassol>\u00a0I don't think we have a rendering script service for this  \n14:33\u00a0<vmassol>\u00a0checking  \n14:33\u00a0<vmassol>\u00a0we do actually  \n14:33\u00a0<vmassol>\u00a0had forgotten I had added one :)  \n14:35\u00a0<@sdumitriu>\u00a0vmassol: Even $doc.getRenderedContent can be used that way  \n14:36\u00a0<vmassol>\u00a0indeed, there's a sig that takes a string in Document  \n14:36\u00a0<vmassol>\u00a0public String getRenderedContent(String text, String syntaxId) throws XWikiException  \n14:36\u00a0<vmassol>\u00a0but that's not \"normal\"  \n14:36\u00a0<vmassol>\u00a0so probably better to use the rendering script service  \n14:37\u00a0<@sdumitriu>\u00a0I wonder what's the context document when using the script service  \n14:37\u00a0<vmassol>\u00a0well they don't do exactly the same thing  \n14:37\u00a0<vmassol>\u00a0getRenderedContent will isolate  \n14:37\u00a0<vmassol>\u00a0whereas the ss won't  \n14:37\u00a0<vmassol>\u00a0but that could be improved  \n14:37\u00a0<vmassol>\u00a0I don't need isolation in my case though  \n14:43\u00a0<+tmortagne>\u00a0sdumitriu: any idea for my last message on \"[VOTE] Move history when moving stuff from repositories of \"xwiki\" organization\" ?  \n14:43\u00a0<@sdumitriu>\u00a0Will read it  \n14:44\u00a0<+tmortagne>\u00a0thanks  \n14:48\u00a0<vmassol>\u00a0sdumitriu: actually the rendernig ss we currently have don't execute Tx , I'll use getRenderedContent for now but we need to improve this I think  \n15:10\u00a0<rrodriguez>\u00a0has joined #xwiki  \n15:10\u00a0<@sdumitriu>\u00a0tmortagne: Answered  \n15:12\u00a0<+tmortagne>\u00a0sdumitriu: ok thanks, will look at it  \n15:36\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r5545623\u000f https://github.com/xwiki/xwiki-platform/commit/5545623e2c7ba48cc397173d27225c9eb450bf4b \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/LiveTableViewSheet.xml :\u000f XWIKI-7563: Application created by Application Within Minutes cuts \"?\" both in page names and page titles ...  \n15:37\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r5f323ce\u000f https://github.com/xwiki/xwiki-platform/commit/5f323ce06f7598993597095b041bfc6ae32b5a19 \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/LiveTableViewSheet.xml :\u000f XWIKI-7563: Application created by Application Within Minutes cuts \"?\" both in page names and page titles ...  \n15:40\u00a0<+tmortagne>\u00a0sdumitriu: where should I put the subdirectory to filter ? I replace \"submodule-directory\" in keep-module.sed ?  \n15:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r89ba6cd\u000f https://github.com/xwiki/xwiki-enterprise/commit/89ba6cda1148a30a54b6861c053ebe74bd293352 \u000f/ (2 files in 2 dirs):\u000f [AppWithinMinutes] One more test. ...  \n15:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r5736d94\u000f https://github.com/xwiki/xwiki-enterprise/commit/5736d949562a63e439173cd9d85c91606f8655ee \u000f/ (2 files in 2 dirs):\u000f [AppWithinMinutes] One more test. - http://git.io/GM7dsA  \n15:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r8421a19\u000f https://github.com/xwiki/xwiki-enterprise/commit/8421a19c7a2d98163c92dfc379326f1f5fb6451a \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/appwithinminutes/AddEntryTest.java :\u000f XWIKI-7563: Application created by Application Within Minutes cuts \"?\" both in page names and page titles ...  \n15:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rf97f782\u000f https://github.com/xwiki/xwiki-enterprise/commit/f97f78205a3535bd1f018b6cec95434e8e3f976a \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/appwithinminutes/AddEntryTest.java :\u000f XWIKI-7563: Application created by Application Within Minutes cuts \"?\" both in page names and page titles ...  \n15:46\u00a0<lucaa>\u00a0has quit  \n15:51\u00a0<+tmortagne>\u00a0actually it's free regex lines ok  \n15:55\u00a0<@sdumitriu>\u00a0tmortagne: Yes  \n15:56\u00a0<@sdumitriu>\u00a0You have to read the scripts and replace bogus paths with real ones, including the repository to clone and the regular expressions for detecting the module  \n15:58\u00a0<+tmortagne>\u00a0sdumitriu: I changed the repository, the path to keep-module.sed and the regex lines  \n15:58\u00a0<@sdumitriu>\u00a0Looks good  \n15:58\u00a0<@sdumitriu>\u00a0Give it a try  \n15:58\u00a0<@sdumitriu>\u00a0Oh, one more thing  \n15:58\u00a0<@sdumitriu>\u00a0tmortagne: Change the \"cd project\" line as well  \n15:59\u00a0<+tmortagne>\u00a0right, I don't really execute the script anyway  \n15:59\u00a0<+tmortagne>\u00a0started the git filter-branch, lets see  \n15:59\u00a0<+tmortagne>\u00a0it's indeed pretty long for platform  \n16:01\u00a0<@sdumitriu>\u00a0tmortagne: It should take several minutes  \n16:01\u00a0<@sdumitriu>\u00a0index-filter is much faster than the others since it does everything in memory  \n16:02\u00a0<@sdumitriu>\u00a0But it could be even faster if you run it in a tmpfs partition  \n16:02\u00a0<+tmortagne>\u00a0there is a lot of revision in platform, as far as I can see it's going to take more than several minutes  \n16:23\u00a0<+tmortagne>\u00a0sdumitriu: was does the thing to match with the regex looks like ? it's not just the path, right ?  \n16:24\u00a0<@sdumitriu>\u00a0WDYM?  \n16:25\u00a0<@sdumitriu>\u00a0It's supposed to match the full path of the file, starting from the repository root up to and including the file name  \n16:25\u00a0<+tmortagne>\u00a0I mean all the example of regec you have start with ([0-9]+ [0-9a-f]+ 0).\\*  \n16:25\u00a0<@sdumitriu>\u00a0Ah, yes, it's not just the path on that line  \n16:27\u00a0<@sdumitriu>\u00a0Each line looks like:  \n16:27\u00a0<@sdumitriu>\u00a0100644 8a1218a1024a212bb3db30becd860315f9f3ac52 1 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path/to/file  \n16:27\u00a0<@sdumitriu>\u00a0File mode  \n16:27\u00a0<@sdumitriu>\u00a0hash ID  \n16:27\u00a0<+tmortagne>\u00a0ok thanks  \n16:27\u00a0<@sdumitriu>\u00a0step number  \n16:27\u00a0<@sdumitriu>\u00a0And file path  \n16:27\u00a0<@sdumitriu>\u00a0stage number, not step number  \n16:55\u00a0<qwebirc78951>\u00a0has joined #xwiki  \n16:55\u00a0<silviar>\u00a0has quit  \n16:57\u00a0<qwebirc78951>\u00a0Hi guys, I included in my webhome news and recent activity, as in your \"News\" page http://www.xwiki.org/xwiki/bin/view/Main/News, but then I realized that it is loaded pretty slow.. any suggestion to speed it up?  \n16:58\u00a0<vmassol>\u00a0upgrade to XE 3.5 first  \n16:58\u00a0<vmassol>\u00a0then check the DB indexes  \n17:24\u00a0<qwebirc78951>\u00a0has quit  \n17:37\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r3ca4623\u000f https://github.com/xwiki/xwiki-platform/commit/3ca46235ed10b43eef04d235d2158d1c34ed9a24 \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/WizardStep.xml :\u000f XWIKI-7380: Cannot go back from step 2 to step 1 - http://git.io/ZyQGCQ  \n17:37\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* re4b0363\u000f https://github.com/xwiki/xwiki-platform/commit/e4b036369fb96f723bb2a75cf0f78ec1d6f67031 \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/WizardStep.xml :\u000f XWIKI-7380: Cannot go back from step 2 to step 1 ...  \n17:38\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r80f7a45\u000f https://github.com/xwiki/xwiki-enterprise/commit/80f7a451f4eaf43afebf688e1c6321d5caa2c555 \u000f/ (4 files in 2 dirs):\u000f XWIKI-7380: Cannot go back from step 2 to step 1 ...  \n17:39\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r3e4f624\u000f https://github.com/xwiki/xwiki-enterprise/commit/3e4f6241e621621b1876abbf435609c8c3eae86d \u000f/ (4 files in 2 dirs):\u000f XWIKI-7380: Cannot go back from step 2 to step 1 ...  \n17:41\u00a0<lucaa>\u00a0has joined #xwiki  \n18:01\u00a0<tmortagne>\u00a0has quit  \n18:21\u00a0<+sburjan>\u00a0vmassol: the timeToLeave parameter of cache macro doesn't seem to be documented on http://extensions.xwiki.org/xwiki/bin/view/Extension/Cache+Macro. I didn't even know it existed. I will update tomorrow the page  \n18:26\u00a0<vmassol>\u00a0sburjan: ok thanks. I'll add some warnings after you're done. It's a bit dangerous  \n18:30\u00a0<+sburjan>\u00a0written down in my ToDo list ;)  \n18:31\u00a0<+sburjan>\u00a0so id you don't specify this parameter, the TLL is still 5 minutes ?  \n18:32\u00a0<vmassol>\u00a0yes 300 seconds  \n18:36\u00a0<+evalica>\u00a0vmassol: \u00a0does it have a 'never' timeout?  \n18:36\u00a0<+evalica>\u00a0eh \u2026 I'll put a month  \n18:37\u00a0<+sburjan>\u00a0or 68 years :)  \n18:37\u00a0<+sburjan>\u00a0which seems to be the maximum :)  \n18:46\u00a0<vmassol>\u00a0evalica: max is 231-1  \n18:46\u00a0<vmassol>\u00a0oops  \n18:46\u00a0<vmassol>\u00a02^31-1  \n18:46\u00a0<vmassol>\u00a0but I don't see why you would want such a large figure  \n18:46\u00a0<vmassol>\u00a01 hour seems best  \n18:47\u00a0<vmassol>\u00a0try to use exactly the same timeout for all the cacaches  \n18:47\u00a0<vmassol>\u00a0caches  \n18:47\u00a0<vmassol>\u00a0otherwise you're creating several threads  \n18:47\u00a0<vmassol>\u00a0which means less threads to service our users  \n18:47\u00a0<vmassol>\u00a0(hmm not sure about that, it's probably different thread pools)  \n18:51\u00a0<jvdrean>\u00a0has quit  \n18:54\u00a0<gdelhumeau>\u00a0has quit  \n18:56\u00a0<sburjan>\u00a0has quit  \n18:57\u00a0<mflorea>\u00a0has quit  \n19:16\u00a0<rrodriguez>\u00a0has quit  \n19:27\u00a0<lucaa>\u00a0has quit  \n19:42\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:43\u00a0<jvdrean1>\u00a0has joined #xwiki  \n19:43\u00a0<jvdrean>\u00a0has quit  \n19:46\u00a0<npm>\u00a0has quit  \n19:55\u00a0<evalica>\u00a0has quit  \n20:03\u00a0<abusenius>\u00a0has joined #xwiki  \n20:14\u00a0<Enygma`>\u00a0has quit  \n22:10\u00a0<pgmjsd>\u00a0has quit  \n22:11\u00a0<pgmjsd>\u00a0has joined #xwiki  \n22:28\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:17\u00a0<abusenius>\u00a0has quit  \n23:32\u00a0<jvdrean1>\u00a0has quit  \n\n"}