{"id": "dev:IRC.xwikiArchive20080516", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20080516", "title": "IRC Archive for channel #xwiki on 16 May 2008 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu - (16/05/2008 00:12): Hi rrodriguez   \nrrodriguez - (16/05/2008 00:12): Hi Sergiu  \nrrodriguez - (16/05/2008 00:12): Sorry for the raw question!  \nrrodriguez - (16/05/2008 00:12): But I do need to work this out :-(  \nsdumitriu - (16/05/2008 00:12): Sure  \nsdumitriu - (16/05/2008 00:13): It's a css file, but I don't know which  \nsdumitriu - (16/05/2008 00:13): I'm looking now  \nrrodriguez - (16/05/2008 00:13): thanks! I though some more machinery would be involved  \nsdumitriu - (16/05/2008 00:15): pdf.css  \nrrodriguez - (16/05/2008 00:15): looking for it...  \nsdumitriu - (16/05/2008 00:15): I think it doesn't exist  \nrrodriguez - (16/05/2008 00:15): :-(  \nsdumitriu - (16/05/2008 00:16): You just create an empty file  \nrrodriguez - (16/05/2008 00:17): Must I put it in my skin folder?  \nsdumitriu - (16/05/2008 00:17): Where would you like to put it?  \nrrodriguez - (16/05/2008 00:18): It doesn't matter  \nsdumitriu - (16/05/2008 00:18): Then yes  \nrrodriguez - (16/05/2008 00:18): I mean, this is not a problem right now  \nrrodriguez - (16/05/2008 00:18): Is there an example about its content?  \nsdumitriu - (16/05/2008 00:18): Hm, doesn't seem to work  \nsdumitriu - (16/05/2008 00:19): Wait a bit  \nrrodriguez - (16/05/2008 00:19): of course  \nsdumitriu - (16/05/2008 00:32): Actually it works  \nsdumitriu - (16/05/2008 00:32): But the library applying the CSS sux  \nsdumitriu - (16/05/2008 00:33): It supports just a bit of CSS  \nsdumitriu - (16/05/2008 00:33): It doesn't support \\* in selectors  \nrrodriguez - (16/05/2008 00:33): Is it a XWiki library?  \nsdumitriu - (16/05/2008 00:33): It doesn't accept !important  \nrrodriguez - (16/05/2008 00:34): I am afraid I don't know what parts are involved in the generation of the rtf file  \nsdumitriu - (16/05/2008 00:34): No, it's css4j  \nrrodriguez - (16/05/2008 00:35): so, XWiki is using css4j to control the appearance of PDF and RTF exported files?  \nsdumitriu - (16/05/2008 00:35): Yes  \nsdumitriu - (16/05/2008 00:36): XWiki generates an xhtml file  \nsdumitriu - (16/05/2008 00:36): And css4j takes a stylesheet and converts the rules in that file to inline style  \nsdumitriu - (16/05/2008 00:36): Si if I put in the css:  \nsdumitriu - (16/05/2008 00:36): a { font-size: 20px; }  \nsdumitriu - (16/05/2008 00:37): Then css4j will make all links have a style=\"font-size: 20px; \" attribute  \nrrodriguez - (16/05/2008 00:37): is there not a default stylesheet?  \nrrodriguez - (16/05/2008 00:38): or from a different point of view, how the default appearance is generated?  \nsdumitriu - (16/05/2008 00:41): By apache-fop  \nrrodriguez - (16/05/2008 00:42): googling for apache-fop...  \nrrodriguez - (16/05/2008 00:43): I've been there before... but it looked hard  \nsdumitriu - (16/05/2008 00:43): Hm, my mistake, there's also xhtml2fo.xsl  \nsdumitriu - (16/05/2008 00:43): That one is in the xwiki-core jar  \nrrodriguez - (16/05/2008 00:44): so, we have a bunch of pieces  \nrrodriguez - (16/05/2008 00:44): css4j  \nrrodriguez - (16/05/2008 00:44): apache-fo  \nrrodriguez - (16/05/2008 00:44): xhtml2fo.xsl  \nrrodriguez - (16/05/2008 00:45): a document is stored in XML format in XWiki  \nrrodriguez - (16/05/2008 00:45): what is the next step toward a rtf?  \nsdumitriu - (16/05/2008 00:46): No, the document is not stored as XML  \nsdumitriu - (16/05/2008 00:46): The process is like this:  \nsdumitriu - (16/05/2008 00:46): (take notes and put them on xwiki.org :p )  \nrrodriguez - (16/05/2008 00:47): I've Omnigraffle up and running!  \nrrodriguez - (16/05/2008 00:47): :-)  \nsdumitriu - (16/05/2008 00:48): The document is parsed & rendered as it happens for displaying in the browser, but instead of using view.vm as the main template, pdf.vm is used  \nrrodriguez - (16/05/2008 00:48): And of course this document is not stored in XML format, but in \"xwiki\" format.  \nsdumitriu - (16/05/2008 00:49): pdf.vm outputs just a bit of XHTML wrapping, while view.vm outputs a lot of stuff, like links to css and js files, the menu, the panels...  \nsdumitriu - (16/05/2008 00:49): Yes, the wiki content  \nsdumitriu - (16/05/2008 00:49): After pdf.vm is parsed by velocity and rendered by Radeox, we have the plain xhtml file  \nrrodriguez - (16/05/2008 00:50): OK (well, this ok must be carefully considered)  \nsdumitriu - (16/05/2008 00:51): Well, it may not be a correct xhtml, because some people have the nasty habit of putting broken html snippets found on the net, like <BR><BR><BR> or <font size=5>  \nsdumitriu - (16/05/2008 00:51): So, jtidy is used to clean-up the source xhtml to an intermediary xhtml  \nsdumitriu - (16/05/2008 00:52): After that, css4j is used to apply some css to this xhtml  \nrrodriguez - (16/05/2008 00:53): pdf.css in all cases?  \nsdumitriu - (16/05/2008 00:53): The css is taken from the pdf.css file, and from a PDF template  \nsdumitriu - (16/05/2008 00:54): The pdf template is a bit longer to explain, here goes:  \nrrodriguez - (16/05/2008 00:54): just a doubt here :-)  \nsdumitriu - (16/05/2008 00:54): When exporting the PDF, you can add to the URL &pdftemplate=Some.PDFTemplate  \nrrodriguez - (16/05/2008 00:54): the path to PDF and to RTF are the same until this point?  \nsdumitriu - (16/05/2008 00:55): That is the name of the document that holds the template  \nsdumitriu - (16/05/2008 00:55): The template is an XWiki object, from the class XWiki.PDFClass (it doesn't exist by default, but you can create it)  \nsdumitriu - (16/05/2008 00:55): From that xobject, the \"style\" property can contain additional css content  \nsdumitriu - (16/05/2008 00:56): So you can have different templates for generating the pdf :)  \nsdumitriu - (16/05/2008 00:56): Yes, the PDF and RTF are always done the same way  \nsdumitriu - (16/05/2008 00:57): So, after css4j does its job, we have yet another intermediary xhtml  \nrrodriguez - (16/05/2008 00:58): what characteristics are controlled by the template and what by the css?  \nsdumitriu - (16/05/2008 00:58): After that, xhtml2fo.xsl is applyed on the xhtml to obtain an xsl-fo document  \nsdumitriu - (16/05/2008 00:59): http://www.w3.org/TR/xsl/  \nsdumitriu - (16/05/2008 00:59): xhtml2fo.xsl contains some styling rules, too  \nsdumitriu - (16/05/2008 01:00): apache fop is then used to convert the xsl-fo content into the final document  \nrrodriguez - (16/05/2008 01:01): so, we do have three styling rules locations so far... the template, the css and xhtml2fo.xsl  \nsdumitriu - (16/05/2008 01:02): The good thing about fop/xsl-fo is that the xsl-fo document is independent of the final result  \nsdumitriu - (16/05/2008 01:02): So we can export the wiki documents into many formats  \nrrodriguez - (16/05/2008 01:03): As xhtml2fo.xsl is at the end of the process, does make it sense to consider it as the suitable place to control the final appearance of a document?  \nsdumitriu - (16/05/2008 01:03): Here are the formats supported by fop: http://xmlgraphics.apache.org/fop/0.95/output.html  \nsdumitriu - (16/05/2008 01:04): Well, it is certainly suited, but not recommended  \nsdumitriu - (16/05/2008 01:04): Because it is packaged in the core jar  \nsdumitriu - (16/05/2008 01:04): So you have to be careful when upgrading  \nrrodriguez - (16/05/2008 01:04): I see  \nsdumitriu - (16/05/2008 01:04): You can put it in WEB-INF/classes/  \nrrodriguez - (16/05/2008 01:05): yes, but it is new problem for upgrades...  \nrrodriguez - (16/05/2008 01:06): pdf.css in the skin folder?  \nrrodriguez - (16/05/2008 01:06): Is it finally an option?  \nrrodriguez - (16/05/2008 01:07): RTF output is currently unmaintained and lacks many features compared to other output formats. Using other editable formats like Open Document Format, instead of producing XSL-FO then RTF through FOP, might give better results.  \nrrodriguez - (16/05/2008 01:07): from http://xmlgraphics.apache.org/fop/0.95/output.html#rtf :-(  \nsdumitriu - (16/05/2008 01:07): That is the most simple option  \nsdumitriu - (16/05/2008 01:07): But the problem is that css4j is so lame  \nsdumitriu - (16/05/2008 01:07): You will have to play around to see it's bugs  \nrrodriguez - (16/05/2008 01:08): It will be probably enough for what I need that, but in the near future a more powerful way to generate \"Word ready\" documents will be needed here :(  \nrrodriguez - (16/05/2008 01:09): I think there is a GSoC for importing Word files into XWiki, but i don't remember nothing related with exporting to a \"Word compatible\" format.  \nsdumitriu - (16/05/2008 01:09): If we find a good word generating library, then we'll do that  \nsdumitriu - (16/05/2008 01:10): You can start by making a Jira issue  \nrrodriguez - (16/05/2008 01:10): Indeed!  \nrrodriguez - (16/05/2008 01:10): But I was not sure what I was talking about :-(  \nrrodriguez - (16/05/2008 01:10): And I am not sure yet!   \nrrodriguez - (16/05/2008 01:11): But I have at least a collection or ordered items! Some thing like a process.  \nrrodriguez - (16/05/2008 01:13): do you know if it is possible to control pictures position and resolution in a generated RTF by using css4j?  \nsdumitriu - (16/05/2008 01:14): What do you mean by resolution?  \nrrodriguez - (16/05/2008 01:15): pixels/lenght unit  \nrrodriguez - (16/05/2008 01:15): but controlling size would be enough now!  \nsdumitriu - (16/05/2008 01:15): Don't know  \nsdumitriu - (16/05/2008 01:15): Size, yes  \nsdumitriu - (16/05/2008 01:15): That can be controlled  \nrrodriguez - (16/05/2008 01:15): It is enough  \nsdumitriu - (16/05/2008 01:15): Add:  \nrrodriguez - (16/05/2008 01:15): now  \nsdumitriu - (16/05/2008 01:16): img { width: 10cm; }  \nrrodriguez - (16/05/2008 01:16): I'll try right now  \nrrodriguez - (16/05/2008 01:21): It worked!  \nrrodriguez - (16/05/2008 01:22): but... there is always a but :-) this control width but the height is not modify. I don't know if it is possible to force to keep aspect ratio working with CSS.   \nrrodriguez - (16/05/2008 01:23): If it is not possible, this option becomes unusable. It could only help when all the pictures in a document have the same initial size.  \nsdumitriu - (16/05/2008 01:24): What? The aspect ration isn't preserved??  \nrrodriguez - (16/05/2008 01:25): it is not.  \nrrodriguez - (16/05/2008 01:27): http://tinyurl.com/5zc74q  \nrrodriguez - (16/05/2008 01:50): Sergiu: I do need to go to bed... \u00a0:(   \nrrodriguez - (16/05/2008 01:50): This aspect ratio issue is preventing to get a reasonable output from here.  \nsdumitriu - (16/05/2008 01:51): I don't know why is that happening  \nsdumitriu - (16/05/2008 01:51): It shouldn't  \nrrodriguez - (16/05/2008 01:53): I will google and searchmash for it and play a bit around looking for an explanation. I will move this issue to Jira and keep the thread updated. Thanks for your help!!!  \nsdumitriu - (16/05/2008 01:54): You're welcome  \nsdumitriu - (16/05/2008 01:54): Good night  \nxwikibot - (16/05/2008 05:44): XWiki.FaveyRoff was modified by XWiki.FaveyRoff (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/FaveyRoff  \nxwikibot - (16/05/2008 10:25): Main.ReleaseNotes was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotes  \nxwikibot - (16/05/2008 10:52): XWiki.asamaras was modified by XWiki.asamaras (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/asamaras  \nxwikibot - (16/05/2008 11:16): Main.ReleaseNotesXEM12RC1 was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXEM12RC1  \nxwikibot - (16/05/2008 11:16): Main.ReleaseNotesXEM12 was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXEM12  \nxwikibot - (16/05/2008 11:21): Main.ReleaseNotesXEM12 was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXEM12  \nxwikibot - (16/05/2008 11:33): Main.ReleaseNotesXEM12 was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXEM12  \nevely\\_24 - (16/05/2008 13:23): Hi guys, I need a little help with the Application Manager. For a newly created application, there are several fields in the app object: \u00a0dependencies, applications, documents, documents to include, documents to link. I don't get the difference between the last 3. Anyone could explain please?  \nevely\\_24 - (16/05/2008 13:24): If i want to include some documents from the XWiki space in my application, where should i put the list of documents? In which of those 3?  \nevely\\_24 - (16/05/2008 13:27): I don't get this : \u00a0\u00a0\u00a0\\* documents to include in place of copy : Used in case of wiki template mainly. Documents listed here will ne copied in the new wiki but with overloaded contents that include the template wiki one  \nevely\\_24 - (16/05/2008 13:27): ex :  \nevely\\_24 - (16/05/2008 13:27): #includeInContext(\"templatewiki:Space.Document\")  \nevely\\_24 - (16/05/2008 13:27): anyone can explain a little bit?  \nevely\\_24 - (16/05/2008 13:29): please? :)  \nsdumitriu - (16/05/2008 16:10): vmassol: I'm waiting for comments on http://lists.xwiki.org/pipermail/devs/2008-May/006692.html  \nvmassol - (16/05/2008 16:10): sdumitriu: yep  \nvmassol - (16/05/2008 16:10): I have big pile of emails to catch up with...  \nvmassol - (16/05/2008 16:11): been away for 2 weeks now from xwiki dev  \nvmassol - (16/05/2008 16:11): (dunno if you're subscribed to my tweets)  \nsdumitriu - (16/05/2008 16:11): I don't tweet  \nvmassol - (16/05/2008 16:12): no but you could follow us  \nvmassol - (16/05/2008 16:12): it's very informative  \nvmassol - (16/05/2008 16:12): we're almost all tweeting at xwiki  \nvmassol - (16/05/2008 16:12): maybe there's a tweet to RSS feed available somewhere  \nsdumitriu - (16/05/2008 16:20): And also on http://lists.xwiki.org/pipermail/devs/2008-May/006710.html  \nsdumitriu - (16/05/2008 16:20): And http://jira.xwiki.org/jira/browse/XWIKI-2377  \nvmassol - (16/05/2008 16:21): and probably some more... :)  \nsdumitriu - (16/05/2008 16:21): Well, those are the most important for me  \nvmassol - (16/05/2008 16:21): re http://jira.xwiki.org/jira/browse/XWIKI-2377  \nvmassol - (16/05/2008 16:21): we already discussed it I think  \nsdumitriu - (16/05/2008 16:22): Yes, but read the comments  \nvmassol - (16/05/2008 16:22): my recall is that I was ok with it provided it was done on the 1.5 trunk and not for 1.4  \nvmassol - (16/05/2008 16:22): I've read the comment  \nvmassol - (16/05/2008 16:22): but all I've seen is that it's \"ugly\"  \nvmassol - (16/05/2008 16:22): did we send an email to the fop project?  \nsdumitriu - (16/05/2008 16:22): No  \nvmassol - (16/05/2008 16:22): (or in their jira/bug tracker  \nvmassol - (16/05/2008 16:22): )  \nvmassol - (16/05/2008 16:23): so that they fix their pom  \nvmassol - (16/05/2008 16:23): we should probably do that in //  \nsdumitriu - (16/05/2008 17:30): vmassol: About the batik-rasterizer, should I submit a bug to the batik team, or can you ask somebody to post it there?  \nvmassol - (16/05/2008 17:34): sdumitriu: not sure I understand  \nsdumitriu - (16/05/2008 17:35): The problem is that batik-rasterizer-1.7 is missing from repo1.maven.org  \nsdumitriu - (16/05/2008 17:35): While all other modules are released  \nvmassol - (16/05/2008 17:36): we need to ask the batik team  \nvmassol - (16/05/2008 17:36): but in the meanwhile we can put it in our own remote repo  \nsdumitriu - (16/05/2008 17:36): Not sure how to obtain it  \nsdumitriu - (16/05/2008 17:36): The pom is somehow generated  \nsdumitriu - (16/05/2008 17:37): http://svn.apache.org/viewvc/xmlgraphics/batik/tags/batik-1\\_7/sources/batik-rasterizer.pom.template?view=markup  \nsdumitriu - (16/05/2008 17:38): So that's the pom, and we have the jar  \nxwikibot - (16/05/2008 19:59): Applications.WebHome was modified by xwiki:XWiki.MartaDonayre - http://code.xwiki.org/xwiki/bin/view/Applications/  \nxwikibot - (16/05/2008 23:41): XWiki.LeandroAmorim was modified by XWiki.LeandroAmorim (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/LeandroAmorim  \n\n"}