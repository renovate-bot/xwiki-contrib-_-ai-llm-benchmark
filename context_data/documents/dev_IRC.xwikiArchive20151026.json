{"id": "dev:IRC.xwikiArchive20151026", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151026", "title": "IRC Archive for channel #xwiki on 26 October 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<DarkKnightCZ>\u00a0has quit  \n01:13\u00a0<abusenius>\u00a0has quit  \n07:01\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:05\u00a0<DarkKnightCZ>\u00a0has quit  \n07:48\u00a0<vmassol>\u00a0has joined #xwiki  \n08:03\u00a0<cjd>\u00a0has quit  \n08:07\u00a0<Ramona2>\u00a0has joined #xwiki  \n08:10\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:22\u00a0<sbaloul>\u00a0has joined #xwiki  \n08:33\u00a0<Ramona3>\u00a0has joined #xwiki  \n08:33\u00a0<Ramona2>\u00a0has quit  \n08:46\u00a0<cjd>\u00a0has joined #xwiki  \n08:48\u00a0<evalica>\u00a0has joined #xwiki  \n08:57\u00a0<ekarlso>\u00a0hey guys  \n08:57\u00a0<ekarlso>\u00a0how do I configure xwiki that's behind a nginx reverse proxy to not add /xwiki to the path?  \n09:14\u00a0<vmassol>\u00a0hi ekarlso, don't know but have you seen http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs ?  \n09:14\u00a0<vmassol>\u00a0Also found http://platform.xwiki.org/xwiki/bin/view/AdminGuide/NginX but not sure it's relevant to your question  \n09:15\u00a0<vmassol>\u00a0there's also http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationTomcat#HNginxproxyingforTomcatapplications  \n09:16\u00a0<ekarlso>\u00a0yeah so the only way then is to use the evil /xwiki -,,-  \n09:16\u00a0<ekarlso>\u00a0great  \n09:16\u00a0<ekarlso>\u00a0redirect it is then  \n09:16\u00a0<vmassol>\u00a0rewrite is better IMO  \n09:16\u00a0<vmassol>\u00a0actuallt wait  \n09:16\u00a0<vmassol>\u00a0you just need to deploy your webapp as ROOT, you cannot do that?  \n09:17\u00a0<ekarlso>\u00a0vmassol: is there no option in xwiki for it ?  \n09:17\u00a0<vmassol>\u00a0if you want rewrite check http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs#HUrlRewriteFilter  \n09:17\u00a0<vmassol>\u00a0ekarlso: that's completely independent of xwiki  \n09:17\u00a0<vmassol>\u00a0it's the servlet container's job  \n09:17\u00a0<vmassol>\u00a0to decide under which context the app is deployed  \n09:17\u00a0<vmassol>\u00a0the webapp doesn't control that  \n09:17\u00a0<vmassol>\u00a0:)  \n09:18\u00a0<ekarlso>\u00a0meh, these java apps :(  \n09:19\u00a0<vmassol>\u00a0it's so easy to do  \n09:19\u00a0<vmassol>\u00a0please read the doc I pointed  \n09:20\u00a0<vmassol>\u00a0you just nedeed to name your webapp directory ROOT and you're good  \n09:20\u00a0<ekarlso>\u00a0u mean rewrite ?  \n09:20\u00a0<vmassol>\u00a0how complex is thart?  \n09:20\u00a0<vmassol>\u00a0:)  \n09:20\u00a0<ekarlso>\u00a0heh, well I use debian packages atm  \n09:20\u00a0<ekarlso>\u00a0that would mean I would have to change other stuff too  \n09:22\u00a0<ekarlso>\u00a0and holy crap, xwiki is slow to start when u restart tomcat  \n09:23\u00a0<vmassol>\u00a0yes takes about a minute or so  \n09:26\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:32\u00a0<ekarlso>\u00a0vmassol: so deployed as root but still: wiki.creator.no/  \n09:32\u00a0<ekarlso>\u00a0http://wiki.creator.no/  \n09:33\u00a0<ekarlso>\u00a0getting errors  \n09:36\u00a0<msmeria>\u00a0has joined #xwiki  \n09:38\u00a0<ekarlso>\u00a0vmassol: how do I login initially ? I got it to work  \n09:39\u00a0<vmassol>\u00a0ekarlso: you have an empty DB?  \n09:39\u00a0<ekarlso>\u00a0vmassol: ya  \n09:39\u00a0<vmassol>\u00a0no disribution wizard?  \n09:40\u00a0<vmassol>\u00a0you should get it  \n09:40\u00a0<vmassol>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationWAR#HConcludingStep otherwise if you skip it  \n09:40\u00a0<vmassol>\u00a0(not recommended to skip it though :))  \n09:41\u00a0<ekarlso>\u00a0how cna I rerun it ?  \n09:41\u00a0<ekarlso>\u00a0recreate db and go ?  \n09:41\u00a0<vmassol>\u00a0you skipped it?  \n09:41\u00a0<ekarlso>\u00a0yes  \n09:41\u00a0<vmassol>\u00a0you said you didn't want it to run?  \n09:41\u00a0<vmassol>\u00a0if you just skipped it then you can restart xwiki  \n09:42\u00a0<vmassol>\u00a0hwoever if you said you didn't want it at all then you need to remove its status file  \n09:42\u00a0<ekarlso>\u00a0where is that located ?  \n09:43\u00a0<vmassol>\u00a0you could just delete [perm dir]/jobs/status/distribution  \n09:43\u00a0<vmassol>\u00a0(backup that dir in case)  \n09:47\u00a0<Slashman>\u00a0has joined #xwiki  \n09:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:53\u00a0<mflorea>\u00a0has joined #xwiki  \n10:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:45\u00a0<Ramona3>\u00a0has quit  \n11:12\u00a0<Pbas>\u00a0has joined #xwiki  \n11:29\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:44\u00a0<Trefex>\u00a0has joined #xwiki  \n12:13\u00a0<Trefex>\u00a0has quit  \n12:32\u00a0<Ramona2>\u00a0has joined #xwiki  \n13:54\u00a0<Trefex>\u00a0has joined #xwiki  \n14:06\u00a0<tmortagne>\u00a0has quit  \n14:06\u00a0<tmortagne>\u00a0has joined #xwiki  \n14:20\u00a0<ekarlso>\u00a0how can I setup xwiki to log ldap auth to debug?  \n14:20\u00a0<vmassol>\u00a0mflorea: would you have the link to the presentation you did at the last xwiki sas seminar, on the job api?  \n14:20\u00a0<vmassol>\u00a0I remember you did it directly on xwiki.org  \n14:20\u00a0<mflorea>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/PerformingAsynchronousTasks  \n14:21\u00a0<vmassol>\u00a0ok thanks  \n14:21\u00a0<mflorea>\u00a0yw  \n14:22\u00a0<Ramona3>\u00a0has joined #xwiki  \n14:22\u00a0<Ramona2>\u00a0has quit  \n14:22\u00a0<ekarlso>\u00a0noone ?  \n14:28\u00a0<ekarlso>\u00a0anyone that can gimme a clue ? Having problems with this  \n14:32\u00a0<ClemensR>\u00a0ekarlso: see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication#HEnableLDAPdebuglog  \n14:33\u00a0<ClemensR>\u00a0you will have to change this in the Wiki admin section \"Logging\"  \n14:48\u00a0<ekarlso>\u00a0hmmms, i'm unable to configure AD  \n14:48\u00a0<ekarlso>\u00a0http://paste.ubuntu.com/12970030/ < can you help me check what's wrong ?  \n14:48\u00a0<ClemensR>\u00a0you have tried this one http://platform.xwiki.org/xwiki/bin/view/AdminGuide/LDAPAuthenticationUseCases#HActiveDirectory \u00a0?  \n14:49\u00a0<sbaloul>\u00a0has quit  \n14:50\u00a0<ClemensR>\u00a0maybe swap base\\_DN \u00a0and bind\\_DN  \n14:56\u00a0<ClemensR>\u00a0btw: if I have two xwiki jetty-hsql instances running at the same time, I need to remove the /tmp/xwiki/lesscss.skinfiles.cache.dat every time I restart on of the instances, to avoid OoM errors -- not sure if anyone else has this problem. (not a big issue as this setup is only for development anyway)  \n14:56\u00a0<vmassol>\u00a0ClemensR: indeed, we should fix this  \n14:57\u00a0<vmassol>\u00a0it means we don't have an isolated tmp dir  \n14:57\u00a0<vmassol>\u00a0namespaced on the instance id  \n14:57\u00a0<ClemensR>\u00a0I guess that is some config problem with the tmp-dir? using the global one instead of the servlet container  \n14:57\u00a0<vmassol>\u00a0yes  \n14:57\u00a0<vmassol>\u00a0that too  \n14:57\u00a0<vmassol>\u00a0someone is using java.io.tmpdir  \n14:57\u00a0<vmassol>\u00a0instead of the Environment component  \n14:58\u00a0<ClemensR>\u00a0but first, maybe someone might want to reproduce, sometimes I have polterbugs that nobody else has;)  \n14:58\u00a0<ClemensR>\u00a0I hope it is not in some less/css-lib  \n14:59\u00a0<vmassol>\u00a0indeed I see this:  \n14:59\u00a0<vmassol>\u00a0path = System.getProperty(\"java.io.tmpdir\") + File.separator + \"xwiki\";  \n14:59\u00a0<vmassol>\u00a0in AbstractCacheConfigurationLoader  \n14:59\u00a0<vmassol>\u00a0doesn't look good  \n14:59\u00a0<ClemensR>\u00a0well, at least it looks like is is halfway easy to fix :)  \n15:00\u00a0<vmassol>\u00a0this is wrong too: String path = System.getProperty(\"java.io.tmpdir\");  \n15:00\u00a0<vmassol>\u00a0in FileUploadPlugin  \n15:00\u00a0<vmassol>\u00a0that's all I could find  \n15:00\u00a0<vmassol>\u00a0only 2 places  \n15:01\u00a0<vmassol>\u00a0I think a jira issue on this would be good if you have the will to create one )  \n15:01\u00a0<vmassol>\u00a0:)  \n15:01\u00a0<Denis1>\u00a0has joined #xwiki  \n15:01\u00a0<ClemensR>\u00a0ok, will do so in a moment ...  \n15:01\u00a0<Denis1>\u00a0is now known as <Denis>  \n15:03\u00a0<vmassol>\u00a0cool, thx  \n15:06\u00a0<tmortagne>\u00a0has quit  \n15:06\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:06\u00a0<ekarlso>\u00a0\u00a0vmassol is there a way to disable user registration ?  \n15:07\u00a0<vmassol>\u00a0sure  \n15:07\u00a0<ekarlso>\u00a0how ? ^^  \n15:07\u00a0<vmassol>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Access+Rights  \n15:07\u00a0<vmassol>\u00a0specifically: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Access+Rights#HSpecialpermissions  \n15:08\u00a0<ClemensR>\u00a0vmassol: done as XWIKI-12729  \n15:08\u00a0<vmassol>\u00a0thx  \n15:19\u00a0<ClemensR>\u00a0server restart is much faster since 7.2 at least, very nice :)  \n15:22\u00a0<tmortagne>\u00a0ClemensR: compared to which version ?  \n15:23\u00a0<ClemensR>\u00a0I feel the 6.x took somehthing like a minute, now it is up in less that 20 sec on my box  \n15:23\u00a0<ClemensR>\u00a0have not checked with the earlier 7.x verisons  \n15:25\u00a0<tmortagne>\u00a01 minutes is a lot but maybe you are in a big farm  \n15:27\u00a0<tmortagne>\u00a0in any case it's always good to hear that we are improving on that side, hope we'll get more time to work on performance after nested spaces  \n15:29\u00a0<ClemensR>\u00a01 minute is because my box is very slow ;)  \n15:35\u00a0<vmassol>\u00a0however I doubt we've improved much on the startup speed, have we? :)  \n15:36\u00a0<cjd>\u00a0The law of performance: The slow comes from somewhere different than where you think it does.  \n15:36\u00a0<cjd>\u00a0So accidental improvement is a distinct possibility  \n15:37\u00a0<vmassol>\u00a0sure but another more likely reason is that we're comparing apples and oranges  \n15:37\u00a0<cjd>\u00a0I remember every time I ever got dirty w/ a profiler, I was somewhere I had no clue would have been a bottleneck  \n15:37\u00a0<cjd>\u00a0and it was like 75% of the cpu time  \n15:37\u00a0<vmassol>\u00a0e.g. like startup on 7.x with an instance without a few wiki macros and comparing that with a 6.x with lots of wiki macros (or lots of extensions, etc)  \n15:38\u00a0<cjd>\u00a0that'll do it too  \n15:38\u00a0<vmassol>\u00a0sure it's a possibility but just saying it doesn't help much  \n15:38\u00a0<vmassol>\u00a0trying to find out the reason is better  \n15:38\u00a0<tmortagne>\u00a0vmassol: there is tons of things happening during \"startup\" so yes we did indirectly worked on it  \n15:38\u00a0<cjd>\u00a0oh hmm  \n15:38\u00a0<vmassol>\u00a0ok that's what I wanted to know: whether you had worked on stuff that could improve startup tmortagne  \n15:39\u00a0<vmassol>\u00a0because  \n15:39\u00a0<tmortagne>\u00a0I did worked on startup but that was during 6.x  \n15:39\u00a0<tmortagne>\u00a0and mostly for big farms  \n15:39\u00a0<ekarlso>\u00a0what are you guys using zookeeper for ?  \n15:39\u00a0<vmassol>\u00a0AFAIK 50% at least is due to class loading, then we have hib connexion pool creation and init  \n15:39\u00a0<vmassol>\u00a0so any large improvement is dubious to me  \n15:40\u00a0<vmassol>\u00a0ekarlso: we're not directly, brought transitively probably  \n15:40\u00a0<ClemensR>\u00a0then maybe it is just faster because it is monday and the weather is nice ;)  \n15:41\u00a0<Trefex>\u00a0has quit  \n15:41\u00a0<tmortagne>\u00a0vmassol: you are mixing container startup and the whole getting the first page and while you are probably right for the 50% it's only true for the container startup from what I remember  \n15:41\u00a0<cjd>\u00a0hmm  \n15:41\u00a0<ekarlso>\u00a0vmassol: hmmms :p  \n15:42\u00a0<cjd>\u00a0hadn't tried a flamegraph since I got my mac  \n15:42\u00a0<cjd>\u00a0supposedly dtrace can trace into the jvm...  \n15:43\u00a0<cjd>\u00a0nope it fails :(  \n15:43\u00a0<tmortagne>\u00a0also http://test.xwiki.org/xwiki/bin/view/Performances/Jetty+HSQLDB+single+wiki+645+to+72 is not comparing apples and oranges and shows that getting the first page has been improved in a single wiki since 6.4  \n15:44\u00a0<tmortagne>\u00a0while yes jetty startup did not really changed much but we did not really worked much on what is executed during jetty startup  \n15:45\u00a0<tmortagne>\u00a0also not that it's been improved despite the fact that LESS made it quite worst  \n15:47\u00a0<tmortagne>\u00a0anyway there is sill lots of places that can be improve is you talk about first page access and class loading it's very far from 50%  \n15:48\u00a0<cjd>\u00a0https://www.mail-archive.com/[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/msg04863.html \u00a0\u00a0<-- jstack is neutered on mac  \n15:55\u00a0<tmortagne>\u00a0s/class loading it's/class loading is/  \n15:58\u00a0<Ramona3>\u00a0has quit  \n15:58\u00a0<cjd>\u00a0-XX:+PreserveFramePointer  \n15:58\u00a0<cjd>\u00a0it's in Java8  \n15:59\u00a0<cjd>\u00a0so if you upgrade to Java8 you can get traces  \n15:59\u00a0<cjd>\u00a0http://techblog.netflix.com/2015/07/java-in-flames.html  \n16:15\u00a0<cjd>\u00a0I just upgraded to java8 and it seems to be 30-50% perf improvement from the java version  \n16:22\u00a0<vmassol>\u00a0cjd: cool to get some perf improvements for free :)  \n16:23\u00a0<cjd>\u00a0yeap, glad to see somebody is doing something  \n16:24\u00a0<cjd>\u00a0I think we should conscript tmortagne to grab some flamegraphs, there are a few things that need to be done but for our purposes we could automate them and include them into the testing infrastructure (as long as we have access to the root user)  \n16:25\u00a0<cjd>\u00a0I tried grabbing one on my mac but it doesn't really work, lots of jumbled frames and the jvm bytecode->native compiler comes up as the biggest thing  \n16:26\u00a0<cjd>\u00a0but my experience with this tool (cjdns) is it draws a big red circle around your problem, there is not even any question about it, no exploring to do, it's just obvious  \n16:27\u00a0<cjd>\u00a0https://github.com/brendangregg/Misc/blob/master/java/jmaps  \n16:30\u00a0<tmortagne>\u00a0cjd: I don't really have time to spend on this these days but you could create a jira issue about that with \"performances\" label so that we don't forget  \n16:31\u00a0<cjd>\u00a0cando  \n16:31\u00a0<tmortagne>\u00a0but from what I understand this tool just give you stats on how often a method is called and from my experience in yourkit this does not really tell you much about what is really expensive  \n16:32\u00a0<cjd>\u00a0not that, it's stats on how much time the processor spends on that method  \n16:32\u00a0<cjd>\u00a0which is completely different  \n16:32\u00a0<cjd>\u00a0I've found incredible stuff with this  \n16:32\u00a0<cjd>\u00a0some stuff is slow and it seems like it should be fast, walking a list etc  \n16:32\u00a0<tmortagne>\u00a0that's already the kind of stuff I get with yourkit and made me fix lots of places  \n16:33\u00a0<tmortagne>\u00a0you get a detailed tree on where all the CPU went  \n16:33\u00a0<tmortagne>\u00a0and other views too  \n16:34\u00a0<cjd>\u00a0I'd say if yourkit worked well enough then netflix would not be digging deeper than that  \n16:35\u00a0<tmortagne>\u00a0it made me find and fix various issues, you see quite clearly what takes time  \n16:35\u00a0<tmortagne>\u00a0and you get report per thread which makes a big difference too  \n16:43\u00a0<vmassol>\u00a0ClemensR and everyone: please see my question at http://jira.xwiki.org/browse/XWIKI-12727?focusedCommentId=88511&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-88511  \n16:43\u00a0<ClemensR>\u00a0oops, didnt get the mail  \n16:44\u00a0<vmassol>\u00a0(normal I've just added the comment :))  \n16:45\u00a0<vmassol>\u00a0(just updated)  \n16:45\u00a0<ClemensR>\u00a0yes, it breaks b/w compat for whoever uses this macro, and has been figuring out that the urls need HTML-escaping before passing this in to that macro  \n16:45\u00a0<ClemensR>\u00a0ah, the notes are in the wrong place ...  \n16:46\u00a0<ClemensR>\u00a0fixing that issue might be quite hard without that ...  \n16:46\u00a0<vmassol>\u00a0why? If you encode at the caller place won't it work?  \n16:47\u00a0<ClemensR>\u00a0no, because it is used in two places  \n16:47\u00a0<ClemensR>\u00a0and I cannot see which one in rendered first  \n16:48\u00a0<ClemensR>\u00a0ok, I could make a copy, have one unescaped and the other escaped  \n16:48\u00a0<vmassol>\u00a0in any case you probably broke all extensions using a ConfigurableClass, no?  \n16:48\u00a0<vmassol>\u00a0(we need to define what we broke first to decide what to do)  \n16:50\u00a0<vmassol>\u00a0btw I fixed this issue for other part of the admin nav last week  \n16:50\u00a0<vmassol>\u00a0let me find the issue  \n16:50\u00a0<vmassol>\u00a0(since your change possibly broke that change too)  \n16:50\u00a0<ClemensR>\u00a0no, all extensions that use the macro  \n16:50\u00a0<vmassol>\u00a0what is this macro doing?  \n16:51\u00a0<ClemensR>\u00a0that is, who use the \"left navigation\" thing  \n16:51\u00a0<vmassol>\u00a0but you do that if you use a Configruable Class no?  \n16:51\u00a0<ClemensR>\u00a0which is rendered in the wiki admin, the user profile and the XWik iSyntax help  \n16:51\u00a0<vmassol>\u00a0(automatically)  \n16:52\u00a0<vmassol>\u00a0FYI this is the issue I fixed recently: http://jira.xwiki.org/browse/XWIKI-12615  \n16:52\u00a0<ClemensR>\u00a0yes, and that define sections, which should be passed in as paramter  \n16:53\u00a0<vmassol>\u00a0note that I could fix the links without changing the macro in 12615  \n16:53\u00a0<ClemensR>\u00a0ah, oops, why didnt I see it in 7.3m1 ...  \n16:54\u00a0<vmassol>\u00a0real issue is http://jira.xwiki.org/browse/XWIKI-12581  \n16:56\u00a0<ClemensR>\u00a0yes, that is similar to the first part of my fix: \u00a0https://github.com/xwiki/xwiki-platform/commit/824d15bfa2abb95829355bbed5615c74831ee10a  \n16:58\u00a0<ClemensR>\u00a0but as I had to fix when constructing the $appSection.url ...  \n17:02\u00a0<ClemensR>\u00a0uh, what does this code in the XWiki.AdminSheet do? It overwrites the $appection.url everywhere ?  \n17:04\u00a0<vmassol>\u00a0ClemensR: your fix seems wrong IMO  \n17:04\u00a0<vmassol>\u00a0I see you're doing:  \n17:04\u00a0<vmassol>\u00a0href=\"$escapetool.xml($item.url)\"  \n17:04\u00a0<vmassol>\u00a0but an URL must not be escaped  \n17:05\u00a0<vmassol>\u00a0only key and values parts for ex  \n17:05\u00a0<vmassol>\u00a0but not the '='  \n17:05\u00a0<vmassol>\u00a0for example I see that XWikiUserSheet has: #set($discard = $subcategory.put('url', \"?category=${id}\"))  \n17:05\u00a0<vmassol>\u00a0so $item.url == \"?category=${id}\"  \n17:05\u00a0<ClemensR>\u00a0it is to escape '&' into '&amp;' \u00a0otherwise the validator does not like it  \n17:06\u00a0<vmassol>\u00a0if you escape it you'll get an = which is also escaped  \n17:06\u00a0<vmassol>\u00a0in general URLs cannot be escaped as a whole  \n17:06\u00a0<vmassol>\u00a0each part has to be escaped  \n17:06\u00a0<cjd>\u00a0it's xml escaping, not url escaping  \n17:06\u00a0<vmassol>\u00a0ah yes  \n17:06\u00a0<vmassol>\u00a0why are we xml-escaping btw?  \n17:06\u00a0<cjd>\u00a0so it's just protecting from <scriptlulz  \n17:07\u00a0<vmassol>\u00a0cjd: err no  \n17:07\u00a0<vmassol>\u00a0xml escaping is not going to transofrm & into &amp;  \n17:07\u00a0<ClemensR>\u00a0the validator complaind if one has a bare '&' somewhere in an HTML Attr  \n17:07\u00a0<vmassol>\u00a0sure it won't complain but the feature will be broken AFAICS :)  \n17:08\u00a0<vmassol>\u00a0not sure about that  \n17:08\u00a0<vmassol>\u00a0just rying to understand why it would work and why we're xml escaping  \n17:08\u00a0<ClemensR>\u00a0I could have used escapetool.html but usually the attrs are escaped with escapetool.xml, because this handles sinlge ticks right (event though unnedessay here, no single ticks possible)  \n17:09\u00a0<ClemensR>\u00a0the thing is, I could roll back the change to the velocity macro  \n17:09\u00a0<vmassol>\u00a0I hav\"n't analyzed enough your change ClemensR to be sure  \n17:09\u00a0<vmassol>\u00a0all I'd like is that if you could evaluate what gets broken  \n17:09\u00a0<cjd>\u00a0hang on a sec  \n17:09\u00a0<vmassol>\u00a0(in which conditon)  \n17:10\u00a0<vmassol>\u00a0and report back in the issue  \n17:10\u00a0<vmassol>\u00a0so that we can make a call on whether it's ok  \n17:10\u00a0<ClemensR>\u00a0but then the href is rendered as \u00a0\u00a0\u00a0href=\"/xwiki/bin/admin/Sandbox/WebPreferences?editor=spaceadmin&section=Panels.PanelWizard&space=Sandbox\"  \n17:10\u00a0<vmassol>\u00a0(ie rare enough)  \n17:10\u00a0<vmassol>\u00a0or if we need a different fix  \n17:10\u00a0<cjd>\u00a0this stops people for a really long time  \n17:10\u00a0<vmassol>\u00a0thanks  \n17:10\u00a0<vmassol>\u00a0you disabled it?  \n17:10\u00a0<cjd>\u00a0no that doesn't work  \n17:10\u00a0<ClemensR>\u00a0which is techically illegal, beacuse it should be href=\"/xwiki/bin/admin/Sandbox/WebPreferences?editor=spaceadmin&amp;section=Panels.PanelWizard&amp;space=Sandbox\"  \n17:10\u00a0<cjd>\u00a0I changed his password  \n17:11\u00a0<cjd>\u00a0we need better controls for the bot  \n17:11\u00a0<vmassol>\u00a0hmm you also need to disable I think  \n17:11\u00a0<cjd>\u00a0disable switch doesn't work, hasn't for years  \n17:12\u00a0<vmassol>\u00a0btw he won'(t neeed to loog again to make changes  \n17:12\u00a0<vmassol>\u00a0so not sure it's going to work  \n17:12\u00a0<cjd>\u00a0good irc/slack/mattermost integration should be prioritized IMO  \n17:12\u00a0<vmassol>\u00a0disable doesn't work? really?  \n17:12\u00a0<vmassol>\u00a0do we have a jira issue for this?  \n17:12\u00a0<cjd>\u00a0idk  \n17:12\u00a0<cjd>\u00a0I never knew of it working  \n17:15\u00a0<vmassol>\u00a0indeed disbale doesn't seem to work, I'll report it  \n17:15\u00a0<tmortagne>\u00a0cjd: it's not that it does not works but it's not enabled by default, see jira.xwiki.org/browse/XWIKI-12653  \n17:16\u00a0<cjd>\u00a0ahh ok  \n17:18\u00a0<vmassol>\u00a0ok tested  \n17:18\u00a0<vmassol>\u00a0it kind of works indeed after setting that param  \n17:18\u00a0<vmassol>\u00a0you get a message that says: \"Your account is not yet active, because your email has not yet been confirmed.\"  \n17:18\u00a0<vmassol>\u00a0(so it works but the message is nit quite correct)  \n17:18\u00a0<vmassol>\u00a0\\*not  \n17:18\u00a0<vmassol>\u00a0\"You should have received an email with a link to confirm your email address. You can also copy-paste the activation code in the same email in the following field.\"  \n17:19\u00a0<DarkKnightCZ>\u00a0has quit  \n17:19\u00a0<ClemensR>\u00a0because the \"disabled\" flag has been developed for another use case  \n17:19\u00a0<tmortagne>\u00a0yep  \n17:19\u00a0<tmortagne>\u00a0it was not really meant to be used to ban people  \n17:20\u00a0<tmortagne>\u00a0but it has the same effect  \n17:21\u00a0<cjd>\u00a0This high spam wiki (encyclopediadramatica) had a bot which implemented a feature called Nuclear Revert, it just undoes whatever a given user has done. Ever.  \n17:21\u00a0<evalica>\u00a0has quit  \n17:21\u00a0<vmassol>\u00a0yes that's a good feature  \n17:22\u00a0<cjd>\u00a0IMO more important is we need to figure out chat which is business-acceptable and then integrate hard with it  \n17:22\u00a0<cjd>\u00a0because everyone is doing that w/ slack  \n17:26\u00a0<msmeria>\u00a0has quit  \n17:42\u00a0<tmortagne>\u00a0has quit  \n18:04\u00a0<vmassol>\u00a0ClemensR: cool in the end :)  \n18:05\u00a0<ClemensR>\u00a0yep, I didnt expcet the html macro to do the magic ...  \n18:07\u00a0<cjd>\u00a0has quit  \n18:08\u00a0<woshilapin>\u00a0has quit  \n18:09\u00a0<vmassol>\u00a0hehe\u2026 so it wasn't tested? :)  \n18:10\u00a0<vmassol>\u00a0Tika 1.11 released  \n18:11\u00a0<vmassol>\u00a0http://www.apache.org/dist/tika/CHANGES-1.11.txt  \n18:15\u00a0<ClemensR>\u00a0wel, it does work with the b/w incompatible fix, I just did not check that it worked in the first place  \n18:15\u00a0<vmassol>\u00a0ah ok so it work but was unnecesary  \n18:15\u00a0<vmassol>\u00a0got it  \n18:15\u00a0<vmassol>\u00a0\\*unnecessary  \n18:16\u00a0<ClemensR>\u00a0if I see an obviously missing escape, I just want to fix it ... and didn't thought that someone else is cleaning up behind the scenes ;)  \n18:17\u00a0<vmassol>\u00a0yep, understandable  \n18:33\u00a0<abusenius>\u00a0has joined #xwiki  \n18:37\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n18:55\u00a0<cjd>\u00a0has joined #xwiki  \n19:00\u00a0<Ramona1>\u00a0has joined #xwiki  \n19:10\u00a0<vmassol>\u00a0ClemensR: are you on jdk8?  \n19:10\u00a0<ClemensR>\u00a0yes, mostyl  \n19:10\u00a0<vmassol>\u00a0and when you were using 6.x you were on jdk7?  \n19:10\u00a0<ClemensR>\u00a0good question .... I dont remember  \n19:10\u00a0<vmassol>\u00a0Fabio (and infra guy at XWiki SAS) told me this: \"Following Caleb's remark about JDK8, I did a \"stopwatch\" benchmark with JDK7 and JDK8. It's not scientific but a clean Jetty HSQLDB XWiki started in 38secs with JDK7, and 25secs with JDK8... To be investigated further\"  \n19:11\u00a0<ClemensR>\u00a0but, meh, that might explain the speedup :p  \n19:11\u00a0<vmassol>\u00a0could be  \n19:11\u00a0<mflorea>\u00a0has quit  \n19:22\u00a0<Ramona1>\u00a0has quit  \n19:31\u00a0<ClemensR>\u00a0has quit  \n19:35\u00a0<sorinello>\u00a0has quit  \n19:38\u00a0<sorinello>\u00a0has joined #xwiki  \n20:44\u00a0<woshilapin>\u00a0has joined #xwiki  \n20:45\u00a0<Slashman>\u00a0has quit  \n20:55\u00a0<sorinello>\u00a0has quit  \n20:55\u00a0<sorinello>\u00a0has joined #xwiki  \n21:25\u00a0<sbaloul>\u00a0has joined #xwiki  \n21:32\u00a0<sbaloul>\u00a0has quit  \n21:35\u00a0<sbaloul>\u00a0has joined #xwiki  \n21:50\u00a0<sbaloul>\u00a0has quit  \n21:56\u00a0<sorinello>\u00a0has quit  \n22:01\u00a0<Enygma`>\u00a0has quit  \n22:14\u00a0<MasterPiece>\u00a0has joined #xwiki  \n22:21\u00a0<vmassol>\u00a0has quit  \n22:36\u00a0<DarkKnightCZ>\u00a0has quit  \n22:36\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n22:39\u00a0<sorinello>\u00a0has joined #xwiki  \n22:40\u00a0<MasterPiece>\u00a0has quit  \n22:50\u00a0<sorinello>\u00a0has quit  \n23:01\u00a0<sorinello>\u00a0has joined #xwiki  \n23:19\u00a0<sorinello>\u00a0has quit  \n23:20\u00a0<sorinello>\u00a0has joined #xwiki  \n23:22\u00a0<sorinello>\u00a0has quit  \n23:24\u00a0<sorinello>\u00a0has joined #xwiki  \n23:45\u00a0<abusenius>\u00a0has quit\n"}