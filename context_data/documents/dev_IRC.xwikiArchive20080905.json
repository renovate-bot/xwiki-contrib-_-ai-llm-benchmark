{"id": "dev:IRC.xwikiArchive20080905", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20080905", "title": "IRC Archive for channel #xwiki on 05 September 2008 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nvmassol - (05/09/2008 11:50): jvdrean: hudson is still unstable :(  \ncypromis - (05/09/2008 11:51): what problem do you have with hudson ?  \njvdrean - (05/09/2008 11:51): vmassol: again the svn up problem  \ncypromis - (05/09/2008 11:53): you should recreate your subversion repository  \ncypromis - (05/09/2008 11:53): and make sure you use fsfs  \ncypromis - (05/09/2008 11:53): otherwise it locks up with hudson  \ncypromis - (05/09/2008 11:53): I had that too and that solved my problem  \ncypromis - (05/09/2008 11:54): had the same problem with my subversion mirrors  \njvdrean - (05/09/2008 11:56): xipe: is it something we could think about ? :)  \njvdrean - (05/09/2008 11:57): vmassol: I remember now (a bit late) why I had separated enterprise from enterprise-test .. because of the installers vs. maven 2.0.9 issue  \nvmassol - (05/09/2008 11:59): oh we're not using fsfs?  \nvmassol - (05/09/2008 11:59): that's bad I guess... I have heard lots of issues when not using fsfs in the past AFAIR  \nvmassol - (05/09/2008 11:59): jvdrean: can you check with xipe what we are using and if it's not fsfs create a jira issue for him in SysAdmin jira project?  \nvmassol - (05/09/2008 11:59): thanks cypromis for the idea :)  \ncypromis - (05/09/2008 12:10): if you have it ready let me know  \ncypromis - (05/09/2008 12:10): and I do a german mirror with a git gateway  \ncypromis - (05/09/2008 12:10): svnsync rocks  \nvmassol - (05/09/2008 12:22): nice  \nvmassol - (05/09/2008 12:36): lunch time, bbiab  \njvdrean - (05/09/2008 12:38): vmassol: I might be wrong but I feel like being extensible will always have a cost  \njvdrean - (05/09/2008 12:39): with our generic properties tables we'll always have to make joins and I they'll always be slower than a single table query  \njvdrean - (05/09/2008 12:39): no ?  \nvmassol - (05/09/2008 13:05): jvdrean: doing a join is not slower normally AFAIK (provided the right indexes are in place)  \nvmassol - (05/09/2008 13:06): jvdrean: being extensible always has a cost but we've already decided we wanted to be extensible in xwiki  \njvdrean - (05/09/2008 13:06): vmassol: indexes that we can't provide by default AFAIK  \nvmassol - (05/09/2008 13:06): that's why we have this notion of objects  \nvmassol - (05/09/2008 13:07): jvdrean: we can provide them  \njvdrean - (05/09/2008 13:07): vmassol: sure but being extensible doesn't imply that we use those mechanism everywhere  \nvmassol - (05/09/2008 13:07): for all our standard objects at least  \nvmassol - (05/09/2008 13:07): but in any case we can provide them for all I think since we have generic tables, don't we?  \nvmassol - (05/09/2008 13:08): anyway that's a different discussion  \njvdrean - (05/09/2008 13:08): vmassol: different discussion that has been discussed in the past  \njvdrean - (05/09/2008 13:08): vmassol: IIRW Sergiu looked at how we could provide indexes with hibernate and it was not possible (at least ftm)  \njvdrean - (05/09/2008 13:08): anyway  \njvdrean - (05/09/2008 13:09): the discussion is about \"should anything be an object\" :)  \nvmassol - (05/09/2008 13:09): not anything :)  \njvdrean - (05/09/2008 13:09): XWiki.XWikiAuthor, XWiki.XWikiLastModification  \nvmassol - (05/09/2008 13:09): but metadata for documents  \njvdrean - (05/09/2008 13:09): XWiki.XWikiHidden  \njvdrean - (05/09/2008 13:09): :)  \nvmassol - (05/09/2008 13:10): right now we're not logical at all  \nvmassol - (05/09/2008 13:10): some are objects some are not  \nvmassol - (05/09/2008 13:10): and there's no real logic  \nvmassol - (05/09/2008 13:11): jvdrean: I think conceptually we want objects for all doc metadata. Now we just need to check if we can achieve this or not  \nvmassol - (05/09/2008 13:11): do you agree?  \njvdrean - (05/09/2008 13:13): theoriticaly yes :)  \njvdrean - (05/09/2008 13:14): I may suffer from the   \njvdrean - (05/09/2008 13:14): \"fear of change\"  \nvmassol - (05/09/2008 13:15): well there isn't much change  \nvmassol - (05/09/2008 13:15): since this is already something we do  \nvmassol - (05/09/2008 13:15): anyway right now we just need to decide for the hidden metadata not for all  \njvdrean - (05/09/2008 13:16): yes, and we know the drawbacks of putting stuff in xclasses/xobjects  \njvdrean - (05/09/2008 13:16): painful updates for example  \nvmassol - (05/09/2008 13:16): wdym?  \njvdrean - (05/09/2008 13:18): I mean hardcoded classes / objects in java  \njvdrean - (05/09/2008 13:18): s/in java/creation and updates/  \njvdrean - (05/09/2008 13:18): ok let me rephrase  \njvdrean - (05/09/2008 13:18): I mean hardcoded classes/objects creation and updates in our java code  \nvmassol - (05/09/2008 13:19): you mean the answer to the 3 questions I've asked?  \nvmassol - (05/09/2008 13:19): - should they be created automatically by xwiki core if they don't exist (class + object),  \nvmassol - (05/09/2008 13:19): - should they not be created by have default values configured in xwiki's configuration  \nvmassol - (05/09/2008 13:19): - should they be created on first query if not found?  \nvmassol - (05/09/2008 13:19): this?  \njvdrean - (05/09/2008 13:20): yes  \njvdrean - (05/09/2008 13:20): but more generally I don't like the fact that we have java code depending on wiki data  \njvdrean - (05/09/2008 13:20): like our tag feature  \nvmassol - (05/09/2008 13:21): yep, me neither  \njvdrean - (05/09/2008 13:21): and I wouldn't like to see more and more of this  \nvmassol - (05/09/2008 13:21): this is where I don't agree  \nvmassol - (05/09/2008 13:21): for me either we don't have any or we have all of them   \nvmassol - (05/09/2008 13:22): it's ok for me to have them separated  \nvmassol - (05/09/2008 13:22): since this exactly what configuration is  \nvmassol - (05/09/2008 13:22): we just need some internal way to represent defaults  \nvmassol - (05/09/2008 13:22): and only have the data be overrides  \nvmassol - (05/09/2008 13:30): thomasmortagne: have you been able to start on the table implementation?  \nvmassol - (05/09/2008 13:30): (said differently are you confident for having it in 1.6M2?)  \nthomasmortagne - (05/09/2008 13:32): vmassol: not yet as I have issue with ldap tests I don't understand (it's working well in runtime), I was about to comment the faulty unit test and go to table  \nthomasmortagne - (05/09/2008 13:32): so i'm not sure about the time I need to finish table  \nvmassol - (05/09/2008 13:34): I think you need 1 day max for the simplest possible implementation  \nthomasmortagne - (05/09/2008 13:34): ok  \nvmassol - (05/09/2008 13:41): thomasmortagne: we need to introduce the generic notion of parameters in the new rendering too. I'll work on that  \nvmassol - (05/09/2008 13:41): (this is what wikimodel calls WikiParameters fyi)  \nvmassol - (05/09/2008 13:41): for example look at http://code.google.com/p/wikimodel/wiki/WikiSyntaxCommon  \nvmassol - (05/09/2008 13:41): in common syntax it's {{param1=value1 param2=value2}}  \nvmassol - (05/09/2008 13:41): in our syntax it's (% param1=value... %)  \nvmassol - (05/09/2008 13:42): we could generalize it to lots of events as wikimodel is doing  \nvmassol - (05/09/2008 13:42): paragraphs, lists, tables, etc  \nthomasmortagne - (05/09/2008 13:42): yes could be usefull  \nvmassol - (05/09/2008 13:42): I'm just worried about the doxia bridge  \nvmassol - (05/09/2008 13:43): I need to check what doxia event we would generate for those  \nthomasmortagne - (05/09/2008 13:43): anyway we need to do it at least for table, at worst we could generate nothing for doxia, right ?  \nvmassol - (05/09/2008 13:44): right  \nvmassol - (05/09/2008 13:44): but I think it'll be better than taht  \nvmassol - (05/09/2008 13:44): since doxia now has the notion of SinkEventAttributes  \nvmassol - (05/09/2008 13:45): which is very similar  \nvmassol - (05/09/2008 13:45): so that should be good  \nvmassol - (05/09/2008 13:45): \u00a0\\* All sink methods that produce some presentation-level output should have at least  \nvmassol - (05/09/2008 13:45): \u00a0\\* one form that allows to pass in a Set of SinkEventAttributes. For instance in  \nvmassol - (05/09/2008 13:45): \u00a0\\* <pre>void text( String text, SinkEventAttributes attributes );</pre>  \nvmassol - (05/09/2008 13:45): \u00a0\\* the <code>attributes</code> parameter can be used to specify some text styling  \nvmassol - (05/09/2008 13:45): \u00a0\\* options, or other optional parameters.  \nvmassol - (05/09/2008 13:45): so that's cool :)  \nthomasmortagne - (05/09/2008 13:47): ok  \nxwikibot - (05/09/2008 15:05): Plugins.WysiwygPlugin was modified by xwiki:XWiki.jvdrean (deleted document) - http://code.xwiki.org/xwiki/bin/view/Plugins/WysiwygPlugin  \nxwikibot - (05/09/2008 15:06): Plugins.WysiwygPluginDownloads was modified by xwiki:XWiki.jvdrean (deleted document) - http://code.xwiki.org/xwiki/bin/view/Plugins/WysiwygPluginDownloads  \nvmassol - (05/09/2008 15:30): does someone know how to test if there's a next element when using JDK 1.5 for(Object o: ...) construct? I keep bumping into this and using the old Iterator and while() loop  \nlucaa - (05/09/2008 15:33): vmassol: it might not be possible and it kindof makes sense not to be able to: for( ) is supposed to be syntactic sugar to give you each element one by one, if you want \"advanced features\", you need to get the iterator   \nlucaa - (05/09/2008 15:33): I usually do iterators in for () to make it nicer syntax  \nvmassol - (05/09/2008 15:34): yeah I don't think it's possible but I thought I should ask \u00a0just in case...  \n\\_REM\\_ - (05/09/2008 15:45): hi. \u00a0i am trying to ProxyPass Xwiki behind Apache and while it does proxy the page, it doesn't load the images. \u00a0I have proxypass working with other sites. \u00a0can anyone poing me in the right direction??  \nvmassol - (05/09/2008 15:52): well if you had stayed a few minutes longer you would have had the answer...  \nvmassol - (05/09/2008 15:52): ah those users who want an immediate answers to all their needs ;)  \nvmassol - (05/09/2008 15:52): for anyone listening here's the answer: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances  \nthomasmortagne - (05/09/2008 16:02): vmassol: what about moving XWikiSyntaxRenderer in org.xwiki.rendering.renderer.xwiki like XHTML renderer is in org.xwiki.rendering.renderer.xhtml ?  \nvmassol - (05/09/2008 16:03): hmmm  \nvmassol - (05/09/2008 16:03): I'd prefer the following:  \nvmassol - (05/09/2008 16:04): move the classes in .xhtml package to the internal package since they are not public I think  \nvmassol - (05/09/2008 16:04): and move back the XHTMLRenderer in the .renderer package  \nvmassol - (05/09/2008 16:04): (thomasmortagne)  \nthomasmortagne - (05/09/2008 16:04): yes better  \nvmassol - (05/09/2008 16:07): thomasmortagne: and btw I don't knowhow to style only a word in a given paragraph using wikimodel  \nvmassol - (05/09/2008 16:07): I've asked mikhail but no answer so far...  \nvmassol - (05/09/2008 16:08): I'll send a mail on the wikimodel list  \nthomasmortagne - (05/09/2008 16:08): ok  \nvmassol - (05/09/2008 16:23): I'm committing the support for parametrized paragraphs  \nvmassol - (05/09/2008 16:32): done  \njvelociter - (05/09/2008 17:15): Hello guys  \njvelociter - (05/09/2008 17:15): Did any of you recently managed to debug selenium tests in eclipse ?  \njvelociter - (05/09/2008 17:16): I keep having a NPE because the selenium object is not set to anything  \njvelociter - (05/09/2008 17:16): It used to work just fine, but I wonder if some recent changes to the framework could have led to this  \njvdrean - (05/09/2008 17:17): jvdrean: reminds me a recent discussion about ldap tests :)  \njvelociter - (05/09/2008 17:17): http://pastebin.com/m3d433ae2  \njvdrean - (05/09/2008 17:17): jvelociter  \njvelociter - (05/09/2008 17:17): :)  \njvdrean - (05/09/2008 17:17): grrr ;D  \njvelociter - (05/09/2008 17:17): you are lucky, jvanzyl is not there ;)  \njvelociter - (05/09/2008 17:19): vmassol: thomasmortagne any clue? have you debug selenium tests recently ?  \nvmassol - (05/09/2008 17:20): jvelociter: yes I know why  \nvmassol - (05/09/2008 17:20): it's because the selenium server is now started only once  \nvmassol - (05/09/2008 17:20): and we do this with a test setup or test suite (don't remember which one off the top of my head)  \nthomasmortagne - (05/09/2008 17:21): jvelociter: you means by run maven install on Eclipse or run as junit tests ?  \nvmassol - (05/09/2008 17:21): and I guess you didn't use it...  \njvelociter - (05/09/2008 17:21): thomasmortagne: debug with the method written on xwiki.org  \njvelociter - (05/09/2008 17:22): vmassol: what do you mean I'm not using it ?  \njvelociter - (05/09/2008 17:22): It fails for XE tests for me as well  \nvmassol - (05/09/2008 17:22): no XE tests work fine  \nvmassol - (05/09/2008 17:22): :)  \njvelociter - (05/09/2008 17:22): humm..  \nvmassol - (05/09/2008 17:23): if they fail from Eclipse it's because you're not running the tests properly in eclipse  \nvmassol - (05/09/2008 17:23): as I said your tests are not wrapped with this test setup/test suite  \nthomasmortagne - (05/09/2008 17:23): jvelociter: I don't see what methods you speak of  \nvmassol - (05/09/2008 17:23): because I guess you're not running the AllTests class  \njvelociter - (05/09/2008 17:24): thomasmortagne: last bullet here http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HFunctionalTesting  \njvelociter - (05/09/2008 17:24): I'm debugging a single test class  \njvelociter - (05/09/2008 17:24): as in \"find the test you wish to run, put breakpoints and run it in debug mode\"  \njvelociter - (05/09/2008 17:24): am I doing wrong ?  \nvmassol - (05/09/2008 17:24): jv new XWikiSeleniumTestSetup(new XWikiTestSetup(suite));  \nvmassol - (05/09/2008 17:25): jvelociter: \u00a0new XWikiSeleniumTestSetup(new XWikiTestSetup(suite));  \nvmassol - (05/09/2008 17:25): this in AllTests.java  \njvelociter - (05/09/2008 17:25): ok, but I still don't see the point  \nthomasmortagne - (05/09/2008 17:25): it should work, it works me me  \nthomasmortagne - (05/09/2008 17:25): at least for ldap tests  \nthomasmortagne - (05/09/2008 17:25): but i'm running maven install with M2Eclipse  \njvelociter - (05/09/2008 17:25): I did that in XWS, as it's done in XE, but I can't debug either XE's tests or XWS ones  \nvmassol - (05/09/2008 17:26): jvelociter: what don't you understand?  \njvelociter - (05/09/2008 17:26): maybe I'm doing something wrong  \nvmassol - (05/09/2008 17:26): yes  \nvmassol - (05/09/2008 17:26): yes  \nvmassol - (05/09/2008 17:26): yesy  \nvmassol - (05/09/2008 17:26): :)  \nthomasmortagne - (05/09/2008 17:26): you diod not forget <background>false</background> ?  \njvelociter - (05/09/2008 17:26): I don't understand the point in \"new XWikiSeleniumTestSetup(new XWikiTestSetup(suite));\" regarding the debug method on xwiki.org  \nvmassol - (05/09/2008 17:26): ok let me explain then  \njvelociter - (05/09/2008 17:26): (I'm trying to debug XE tests)  \njvelociter - (05/09/2008 17:27): not XWS  \nvmassol - (05/09/2008 17:27): XWikiTestSetup: this starts and stops xwiki  \nvmassol - (05/09/2008 17:27): XWikiSeleniumTestSetup: this starts and stops the selenium proxy  \nvmassol - (05/09/2008 17:27): so if you start xwiki manually that's ok but you still haven't started the selenium proxy  \njvelociter - (05/09/2008 17:27): thomasmortagne: no, I did it  \nvmassol - (05/09/2008 17:27): so you'll get a NPE  \nthomasmortagne - (05/09/2008 17:28): vmassol: he does not start manually, he is using mvn install  \njvelociter - (05/09/2008 17:28): vmassol: ok, now I understand that http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HFunctionalTesting is not enough any longer :)  \nvmassol - (05/09/2008 17:28): yes it needs to be updated   \nvmassol - (05/09/2008 17:28): we need to find how to do it in IDEs now  \njvelociter - (05/09/2008 17:28): so how do we do to debug single tests ?  \nvmassol - (05/09/2008 17:28): no idea  \nvmassol - (05/09/2008 17:28): :)  \njvelociter - (05/09/2008 17:28): ah, we don't  \njvelociter - (05/09/2008 17:28): :)  \nvmassol - (05/09/2008 17:28): right now  \nvmassol - (05/09/2008 17:28): what you can do  \njvelociter - (05/09/2008 17:29): or we comment in AllTests  \nvmassol - (05/09/2008 17:29): is have a very single MyTests class  \nvmassol - (05/09/2008 17:29): similar as AllTests  \njvelociter - (05/09/2008 17:29): all the tests we don't want  \njvelociter - (05/09/2008 17:29): yep  \nvmassol - (05/09/2008 17:29): yes...  \nvmassol - (05/09/2008 17:29): you might want to remove the XWikiTestSetup  \nvmassol - (05/09/2008 17:29): if you have already starte xwiki manually  \njvelociter - (05/09/2008 17:30): and put \"new XWikiSeleniumTestSetup(suite)\" ?  \nvmassol - (05/09/2008 17:30): yes  \njvelociter - (05/09/2008 17:30): ok  \njvelociter - (05/09/2008 17:30): will try that  \njvelociter - (05/09/2008 17:30): thanks !  \nvmassol - (05/09/2008 17:31): jvelociter:   \nvmassol - (05/09/2008 17:31): what you can also do  \nvmassol - (05/09/2008 17:31): is inside a given tescase class  \nvmassol - (05/09/2008 17:31): add new XWikiSeleniumTest(suite)  \nvmassol - (05/09/2008 17:31): in the suite() method  \nvmassol - (05/09/2008 17:31): and just run that test case in eclipse  \njvelociter - (05/09/2008 17:32): ah ok  \njvelociter - (05/09/2008 17:32): I see  \njvelociter - (05/09/2008 17:33): but it's not good for the whole all tests, to have this  \nvmassol - (05/09/2008 17:33): I recommend the excellent book named \"JUnit in Action\" to understand all this ;)  \njvelociter - (05/09/2008 17:33): :D  \nvmassol - (05/09/2008 17:33): not it's not  \njvelociter - (05/09/2008 17:33): of course :)  \nvmassol - (05/09/2008 17:33): since the goal of this was to run the selenium proxy only once  \njvelociter - (05/09/2008 17:33): ok, I get it  \njvelociter - (05/09/2008 17:34): we should modify the doc until we find a solution  \nvmassol - (05/09/2008 17:34): yes  \nvmassol - (05/09/2008 17:34): if you succeed could you modify it?  \njvelociter - (05/09/2008 17:34): yes  \nvmassol - (05/09/2008 17:34): thanks  \njvelociter - (05/09/2008 17:43): Hehe, Thanks to jvdrean...  \njvelociter - (05/09/2008 17:44): he's devising original threatening methods  \nxwikibot - (05/09/2008 17:59): AdminGuide.InstallationDB2 was modified by xwiki:XWiki.jvdrean (The file xwiki.db2.hbm.xml is shipped with XWiki) - http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationDB2  \nxwikibot - (05/09/2008 18:00): AdminGuide.InstallationMSSQL was modified by xwiki:XWiki.jvdrean (The file xwiki.mssql.hbm.xml is shipped with XWiki) - http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMSSQL  \nxwikibot - (05/09/2008 18:26): AdminGuide.InstallationMSSQL was modified by xwiki:XWiki.jvdrean (Removed deprecated section) - http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMSSQL  \n\n"}