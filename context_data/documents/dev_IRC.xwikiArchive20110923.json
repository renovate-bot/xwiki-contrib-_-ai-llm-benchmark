{"id": "dev:IRC.xwikiArchive20110923", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110923", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:04\u00a0<pgmjsd>\u00a0has left #xwiki  \n01:11\u00a0<jvdrean>\u00a0has quit  \n01:21\u00a0<jvelociter>\u00a0has quit  \n04:41\u00a0<pturcotte>\u00a0has joined #xwiki  \n07:00\u00a0<Denis1>\u00a0has joined #xwiki  \n07:03\u00a0<Denis>\u00a0has quit  \n07:07\u00a0<npm\\_>\u00a0has joined #xwiki  \n07:07\u00a0<npm>\u00a0has quit  \n07:18\u00a0<DrLou>\u00a0has quit  \n07:29\u00a0<mflorea>\u00a0has joined #xwiki  \n07:45\u00a0<vmassol>\u00a0has joined #xwiki  \n07:54\u00a0<vmassol>\u00a0has quit  \n08:34\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:41\u00a0<sdumitriu>\u00a0has quit  \n09:09\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:42\u00a0<vmassol>\u00a0has joined #xwiki  \n09:47\u00a0<vmassol1>\u00a0has joined #xwiki  \n09:48\u00a0<vmassol>\u00a0has quit  \n09:52\u00a0<jvdrean>\u00a0has quit  \n09:56\u00a0<vmassol1>\u00a0good morning  \n09:56\u00a0<vmassol1>\u00a0we need to have the CI tests working today  \n09:56\u00a0<vmassol1>\u00a0mflorea: anything more to fix on your side?  \n09:57\u00a0<+mflorea>\u00a0yes  \n09:57\u00a0<+mflorea>\u00a0ui is fine now, I'm on selenium 1 tests now  \n09:57\u00a0<vmassol1>\u00a0ok  \n09:57\u00a0<+mflorea>\u00a0but I see there are lucene tests failing on platform  \n09:57\u00a0<vmassol1>\u00a0must be sergiu  \n09:57\u00a0<+mflorea>\u00a0yes  \n09:57\u00a0<vmassol1>\u00a0grrr he's left with failing tests that's bad  \n09:57\u00a0<vmassol1>\u00a0because he won't be up before 5-6 hours from now  \n09:58\u00a0<vmassol1>\u00a0we can rollback his changes actually  \n10:29\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:43\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:52\u00a0<vmassol1>\u00a0tmortagne: good morning. I've left a comment on http://jira.xwiki.org/browse/XE-1021?focusedCommentId=65675&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-65675  \n10:53\u00a0<vmassol1>\u00a0I don't understand what you're doing  \n10:53\u00a0<vmassol1>\u00a0for me it's not correct  \n10:53\u00a0<vmassol1>\u00a0but maybe I'm misunderstanding something  \n10:54\u00a0<+tmortagne>\u00a0vmassol1: all thoses dependencies are already in the final xar  \n10:54\u00a0<+tmortagne>\u00a0it does not make any sense to install them several times  \n10:55\u00a0<vmassol1>\u00a0hmm indeed  \n10:55\u00a0<vmassol1>\u00a0but there's still something not correct then  \n10:55\u00a0<vmassol1>\u00a0we should have a XE XAR that only has the XE XAR pages  \n10:55\u00a0<vmassol1>\u00a0with real dependencies  \n10:55\u00a0<vmassol1>\u00a0the all in one would be just a \"standalone\" distribution  \n10:55\u00a0<+tmortagne>\u00a0yes but we can't change that now  \n10:56\u00a0<vmassol1>\u00a0because rifght now  \n10:56\u00a0<vmassol1>\u00a0imagine the following scenario:  \n10:56\u00a0<vmassol1>\u00a0someone install XE XAR 3.2  \n10:56\u00a0<vmassol1>\u00a0then at some point the Admin app is released in version 3.3  \n10:56\u00a0<vmassol1>\u00a0and the user wants to upgrade to it  \n10:56\u00a0<vmassol1>\u00a0the EM will not know that Admin app v3.2 is already installed  \n10:57\u00a0<+tmortagne>\u00a0vmassol1: I know it's very bad the way it's done  \n10:57\u00a0<vmassol1>\u00a0ok  \n10:57\u00a0<+tmortagne>\u00a0but first level was to improve the plugin  \n10:59\u00a0<vmassol1>\u00a0ok  \n10:59\u00a0<+tmortagne>\u00a0I did not changed right away \"compile\" scope behavior as it should (not packing anything) since it would have broken anyone using it  \n10:59\u00a0<+tmortagne>\u00a0not yet sure how and when to fix this behavior  \n11:00\u00a0<+tmortagne>\u00a0how=how to deprecate I mean  \n11:03\u00a0<evalica>\u00a0has joined #xwiki  \n11:18\u00a0<vmassol1>\u00a0bit commit underway\u2026. fixed license headers for all java files ;)  \n11:19\u00a0<evalica1>\u00a0has joined #xwiki  \n11:20\u00a0<evalica>\u00a0has quit  \n11:21\u00a0<evalica1>\u00a0is now known as <evalica>  \n11:25\u00a0<vmassol1>\u00a0anyone knows if we're using the ehcache.xml file we bundle in the old core?  \n11:26\u00a0<+tmortagne>\u00a0I doubt we use ehcache at all so it's weird  \n11:27\u00a0<+tmortagne>\u00a0maybe hibernate, I see we depends on hibernate-ehcache  \n11:27\u00a0<+tmortagne>\u00a0but I tough hibernate was using jbosscache  \n11:28\u00a0<vmassol1>\u00a0cjdelisle: good morning. Do we still need /dtd/graffito-jcr-mapping.dtd in oldcore?  \n11:28\u00a0<vmassol1>\u00a0looks like it was need by some jcr stuff  \n11:28\u00a0<+tmortagne>\u00a0I had the same question about the lib itself yesterday :)  \n11:28\u00a0<vmassol1>\u00a0ha didn't realize we also had the lib  \n11:29\u00a0<+tmortagne>\u00a07(11:46:38 AM) tmortagne: \\* graffito-jcr-mapping: I don't see how this one could be a runtime dependency since as far as I understand it's a query API and not some hidden implementation of something  \n11:29\u00a0<+tmortagne>\u00a0(11:46:38 AM) tmortagne: \\* jta  \n11:29\u00a0<+tmortagne>\u00a0(11:46:38 AM) tmortagne: \\* batik-codec  \n11:29\u00a0<+tmortagne>\u00a0(11:46:38 AM) tmortagne: \\* yuicompressor  \n11:29\u00a0<+tmortagne>\u00a0(11:46:38 AM) tmortagne: \\* picocontainer  \n11:29\u00a0<+tmortagne>\u00a0(11:46:38 AM) tmortagne: \\* axis  \n11:29\u00a0<+tmortagne>\u00a0it does not seems to be used  \n11:29\u00a0<+tmortagne>\u00a0not in oldcore at least  \n11:29\u00a0<+tmortagne>\u00a0maybe in a plugin  \n11:30\u00a0<+tmortagne>\u00a0and given the status of our jcr impl...  \n11:30\u00a0<vmassol1>\u00a0cjdelisle removed it  \n11:30\u00a0<vmassol1>\u00a0(the jcr impl)  \n11:30\u00a0<+tmortagne>\u00a0there is still a lot of jcr related stuff in oldcore  \n11:31\u00a0<vmassol1>\u00a0hmm strange  \n11:31\u00a0<+tmortagne>\u00a0like jackrabbit  \n11:31\u00a0<+tmortagne>\u00a0which is not listed as unused jar  \n11:31\u00a0<+tmortagne>\u00a0so some code is directly using it  \n11:31\u00a0<+tmortagne>\u00a0did not checked where  \n11:31\u00a0<+tmortagne>\u00a0at least jta and graffito-jcr-mapping don't seems to be used  \n11:32\u00a0<+tmortagne>\u00a0would be cool to get rid of all this if we don't really use it  \n11:33\u00a0<+tmortagne>\u00a0jackrabbit is probably not a small dependency so would be cool for the final size of teh distrib  \n11:33\u00a0<vmassol1>\u00a0yes  \n11:33\u00a0<vmassol1>\u00a0we need to talk to cjdelisle  \n11:33\u00a0<vmassol1>\u00a0since he worked on moving out JCR  \n11:34\u00a0<+tmortagne>\u00a0hmm not sure why maven does not list it actually since I can't find any reference to org.apache.jackrabbit package in oldcore sources  \n11:35\u00a0<+tmortagne>\u00a0or maybe it's not directly used but still used though the JCR API  \n11:53\u00a0<+tmortagne>\u00a0hmm javax.jcr package does not seems to be used actually  \n12:09\u00a0<sburjan>\u00a0has joined #xwiki  \n12:11\u00a0<+sburjan>\u00a0hello all  \n12:16\u00a0<+sburjan>\u00a0tmortagne: downloading latest snapshot  \n12:17\u00a0<+tmortagne>\u00a0sburjan: ok, note that you will probably not have everyhing since platform build has been broken by Lucene refactor  \n12:18\u00a0<+tmortagne>\u00a0at least you should have the new %20 fix  \n12:18\u00a0<+sburjan>\u00a0ok, let's see  \n12:31\u00a0<+sburjan>\u00a0yepp, no more errors  \n12:57\u00a0<+tmortagne>\u00a0looks like jackrabbit is used by query plugin  \n12:59\u00a0<+tmortagne>\u00a0we should probably put this plugin in legacy since there is the query manager component now  \n13:22\u00a0<vmassol1>\u00a0yes  \n13:23\u00a0<vmassol1>\u00a0I also think we should put xmlrpc in legacy too but that's another topic  \n13:25\u00a0<+sburjan>\u00a0tmortagne: I have a $xwikiContainerPersistentDirectory directory in my root dir in the zip package. what is that ?  \n13:25\u00a0<+tmortagne>\u00a0vmassol1: why xmlrpc ? it's still used  \n13:25\u00a0<+tmortagne>\u00a0sburjan: a bug  \n13:25\u00a0<+tmortagne>\u00a0that's weird  \n13:25\u00a0<+tmortagne>\u00a0you should find it in your xwiki.properties file  \n13:26\u00a0<+tmortagne>\u00a0don't you ?  \n13:26\u00a0<vmassol1>\u00a0ok I thogught we had moved all code to use REST. Do you know where it's still used?  \n13:26\u00a0<vmassol1>\u00a0if it's still used then strategy is move to REST and then put xmlrpc in legacy  \n13:26\u00a0<+tmortagne>\u00a0vmassol1: I mean not us but it's still a valid interface for someone that could want to specifically use XMLRPC  \n13:26\u00a0<vmassol1>\u00a0yes  \n13:26\u00a0<vmassol1>\u00a0which is why I said legacy  \n13:26\u00a0<vmassol1>\u00a0and not retired  \n13:26\u00a0<+tmortagne>\u00a0legacy is not the same thing IMO  \n13:27\u00a0<Denis1>\u00a0has quit  \n13:27\u00a0<+tmortagne>\u00a0legacy is thing that nobody should ever use for any reason and is here only for old stuff  \n13:27\u00a0<+sburjan>\u00a0tmortagne: in xwiki.proprieties I have this line: container.persistentDirectory=$xwikiContainerPersistentDirectory  \n13:27\u00a0<vmassol1>\u00a0legacy means for me somethinf different  \n13:27\u00a0<vmassol1>\u00a0it means that  \n13:27\u00a0<vmassol1>\u00a01) the stuff is deprecated  \n13:27\u00a0<vmassol1>\u00a02) we're not using it ourtselves  \n13:27\u00a0<vmassol1>\u00a03) we plan to remove it completely in teh future  \n13:28\u00a0<vmassol1>\u00a0(but we keep it for not breakgin people)  \n13:28\u00a0<+tmortagne>\u00a0yes and for me XMLRPC is not deprecated  \n13:28\u00a0<vmassol1>\u00a0yes that's the proposal I want to make  \n13:28\u00a0<+tmortagne>\u00a0and you list is exactly what I said ;)  \n13:28\u00a0<vmassol1>\u00a0for me you deprecate and move to legacy right away if no code of ours is using it  \n13:29\u00a0<vmassol1>\u00a0we could start by marking it deprecated  \n13:29\u00a0<vmassol1>\u00a0verify that we don't have code using it  \n13:30\u00a0<+tmortagne>\u00a0I'm not debating on when moving deprecated stuff to legacy, I'm just saying that XMLRPC interface is not deprecated IMO  \n13:30\u00a0<vmassol1>\u00a0it is not now but IMO we should deprecate it  \n13:36\u00a0<vmassol1>\u00a0ehcache.xml is old: http://svnsearch.org/svnsearch/repos/XWIKI/search?filename=ehcache.xml  \n13:44\u00a0<evalica1>\u00a0has joined #xwiki  \n13:44\u00a0<+tmortagne>\u00a0yep  \n13:44\u00a0<vmassol1>\u00a0found some more info  \n13:44\u00a0<vmassol1>\u00a0creating issue  \n13:45\u00a0<Enygma`1>\u00a0has joined #xwiki  \n13:45\u00a0<evalica>\u00a0has quit  \n13:46\u00a0<Enygma`>\u00a0has quit  \n13:47\u00a0<sburjan>\u00a0has quit  \n13:50\u00a0<sburjan>\u00a0has joined #xwiki  \n13:50\u00a0<+sburjan>\u00a0is wiki.org down ?  \n13:51\u00a0<vmassol1>\u00a0you mean xwiki.org? )  \n13:51\u00a0<vmassol1>\u00a0:)  \n13:51\u00a0<vmassol1>\u00a0working fine for me  \n13:52\u00a0<+sburjan>\u00a0works now, thanks  \n13:52\u00a0<+sburjan>\u00a0so tmortagne is that a bug or is it intended ?  \n13:52\u00a0<vmassol1>\u00a0tmortagne: XWIKI-7005  \n13:52\u00a0<+tmortagne>\u00a0sburjan: as I said it's a bug  \n13:53\u00a0<vmassol1>\u00a0tmortagne: I think it's safe to remove it now. Tell me what you think (I explained it in the issue)  \n13:53\u00a0<+tmortagne>\u00a0vmassol1: +1  \n13:53\u00a0<+tmortagne>\u00a0sburjan: i'm on it right now  \n13:55\u00a0<Denis>\u00a0has joined #xwiki  \n14:09\u00a0<+tmortagne>\u00a0sburjan: should be ok now but platform build need to be fixed first since the fix is in platform  \n14:10\u00a0<+sburjan>\u00a0yepp  \n14:14\u00a0<vmassol1>\u00a0tmortagne: hmm I wonder if we need the hibernate-ehcache dependency  \n14:15\u00a0<DrLou>\u00a0has joined #xwiki  \n14:15\u00a0<+tmortagne>\u00a0vmassol1: no idea, sdumtriu adde it IIRW  \n14:16\u00a0<vmassol1>\u00a0I'll ask him  \n14:16\u00a0<+tmortagne>\u00a0when he upgraded hibernate  \n14:16\u00a0<vmassol1>\u00a0yes  \n14:17\u00a0<pturcotte>\u00a0has quit  \n14:22\u00a0<+mflorea>\u00a0I've fixed the integration tests, but I have to wait for Sergiu to fix the platform because my platform fixes are not pushed to xe snapshots..  \n14:23\u00a0<+tmortagne>\u00a0mflorea: where are you fixes ? Lucene is built pretty late since it depends on oldcore  \n14:23\u00a0<+tmortagne>\u00a0everything built before that should be deployed properly  \n14:23\u00a0<+mflorea>\u00a0I committed in oldcore, web and administration  \n14:24\u00a0<+mflorea>\u00a0is web build if lucene fails, I doubt  \n14:24\u00a0<+tmortagne>\u00a0should be deployed then I think, as far as I can see the only thing that is not deployed is lucene since only tests are failing  \n14:24\u00a0<+tmortagne>\u00a0mflorea: web does not depends on oldcore  \n14:25\u00a0<+tmortagne>\u00a0that's in XE web now  \n14:25\u00a0<+tmortagne>\u00a0web only contain web resources now  \n14:25\u00a0<+mflorea>\u00a0ah, right, we moved the dependencies  \n14:25\u00a0<+mflorea>\u00a0ok, I'll wait for CI to build platform and run tests then  \n14:28\u00a0<+tmortagne>\u00a0according to the failing test what's broken is actually tika parsing which is weird since it's not what sdumtriu was supposed to touch  \n14:36\u00a0<+tmortagne>\u00a0actually tika is ok but some part page space and name has been removed from the attachment lucene fullcontent field  \n14:36\u00a0<+tmortagne>\u00a0it's easy to fix the test but need to be sure that has been done on pupose  \n15:11\u00a0<pturcotte>\u00a0has joined #xwiki  \n15:22\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:25\u00a0<+sburjan>\u00a0in which project is the rootservlet ? /root app ?  \n15:25\u00a0<@sdumitriu>\u00a0tools rootwebapp  \n15:26\u00a0<+sburjan>\u00a0thanks  \n15:30\u00a0<+sburjan>\u00a0any idea why we have this twice in root servlet ?  \n15:30\u00a0<+sburjan>\u00a0\u00a0<servlet-mapping>  \n15:30\u00a0<+sburjan>\u00a0\u00a0\u00a0\u00a0\u00a0<servlet-name>default</servlet-name>  \n15:30\u00a0<+sburjan>\u00a0\u00a0\u00a0\u00a0\u00a0<url-pattern>/robots.txt</url-pattern>  \n15:30\u00a0<+sburjan>\u00a0\u00a0\u00a0</servlet-mapping>  \n15:36\u00a0<vmassol1>\u00a0sburjan: a bug  \n15:37\u00a0<vmassol1>\u00a0seems I added it in XTROOT-5:  \n15:37\u00a0<vmassol1>\u00a0and sergiu added it in :  \n15:37\u00a0<vmassol1>\u00a0XTROOT-1  \n15:37\u00a0<vmassol1>\u00a0s/XTROOT-1/XTROOT-2/  \n15:38\u00a0<+sburjan>\u00a0ok, I thought there was a reason :)  \n15:38\u00a0<vmassol1>\u00a0fixing  \n15:38\u00a0<vmassol1>\u00a0I hope there isn't  \n15:38\u00a0<vmassol1>\u00a0or I'll break something ;)  \n15:38\u00a0<+sburjan>\u00a0:)  \n15:40\u00a0<+sburjan>\u00a0yepp, looks like a duplicate  \n16:08\u00a0<pgmjsd>\u00a0has joined #xwiki  \n16:08\u00a0<npm\\_>\u00a0is now known as <npm>  \n16:19\u00a0<+mflorea>\u00a0platform build seems stuck..  \n16:21\u00a0<@sdumitriu>\u00a0Who's the build manager this week?  \n16:23\u00a0<@sdumitriu>\u00a0Ah, nobody's in the Build Manager role this week  \n16:23\u00a0<@sdumitriu>\u00a0Denis: You feel like trying that next week?  \n16:25\u00a0<@sdumitriu>\u00a0vmassol1: Got some strange warning while building:  \n16:25\u00a0<@sdumitriu>\u00a0WARNING: Duplicate name in Manifest: Build-Jdk.  \n16:25\u00a0<@sdumitriu>\u00a0Ensure that the manifest does not have duplicate entries, and  \n16:25\u00a0<@sdumitriu>\u00a0that blank lines separate individual sections in both your  \n16:25\u00a0<@sdumitriu>\u00a0manifest and in the META-INF/MANIFEST.MF entry in the jar file.  \n16:28\u00a0<vmassol1>\u00a0sdumitriu: \u00a0jerome is the build manager  \n16:28\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n16:28\u00a0<vmassol>\u00a0sdumitriu: no idea about the manifest stuff, where do you get this?  \n16:29\u00a0<@sdumitriu>\u00a0Building the lucene plugin  \n16:29\u00a0<@sdumitriu>\u00a0Seems that it was a one-time bug  \n16:39\u00a0<+mflorea>\u00a0sdumitriu: in order to use the edit action for \"Inline form\" editing (instead of the inline action, which I deprecated) I had to set context.display to \"edit\" in EditAction so that object fields are displayed in edit mode correctly. A side effect is that in object editor the preview of the first object field displays HTML code for the edit mode. I see two solutions: (1) pass \"view\" to the display call in editobject.vm or (2) set context.display to \"edit\" in   \n16:39\u00a0<@sdumitriu>\u00a0mflorea: Cut off at \"(2) set context.display to \"edit\" in \"  \n16:39\u00a0<+mflorea>\u00a0I see two solutions: (1) pass \"view\" to the display call in editobject.vm or (2) set context.display to \"edit\" in editinline.vm instead of doing it in EditAction. What do you prefer?  \n16:40\u00a0<@sdumitriu>\u00a01  \n16:40\u00a0<@sdumitriu>\u00a0Strongly 1  \n16:41\u00a0<+mflorea>\u00a0me too. it's just one call and it's clear that it want to display the field for view  \n16:41\u00a0<+mflorea>\u00a0because it's a preview  \n16:42\u00a0<+mflorea>\u00a0ok good, I'll make the change  \n16:43\u00a0<mflorea>\u00a0has quit  \n16:58\u00a0<vmassol>\u00a0guys we need to release Monday and we still haven't stabilized. Anything left for the release?  \n16:59\u00a0<vmassol>\u00a0(apart from fixing the failing tests, one is platform that sergiu is working on, and then there are some failing selenium tests too)  \n16:59\u00a0<@sdumitriu>\u00a0I still have some stuff to commit for Lucene  \n17:00\u00a0<@sdumitriu>\u00a0But it might be postponed to RC1  \n17:00\u00a0<sburjan>\u00a0has quit  \n17:03\u00a0<vmassol>\u00a0cjdelisle: ping  \n17:03\u00a0<@cjdelisle>\u00a0pong  \n17:03\u00a0<vmassol>\u00a0cjdelisle: might be good to put the currnet 3.2snap on myxwiki.org now  \n17:04\u00a0<vmassol>\u00a0anything preventing us to do this?  \n17:04\u00a0<@cjdelisle>\u00a0macro overriding.  \n17:04\u00a0<vmassol>\u00a0that's not new  \n17:04\u00a0<@cjdelisle>\u00a0We can update the wiki itself but when people start updating the .xar files, the panels are going to blow up.  \n17:04\u00a0<vmassol>\u00a0it's causing some new issue in 3.2 that we did'nt have in 3.1?  \n17:05\u00a0<@cjdelisle>\u00a0It was always an issue but it was not visible until the panel was upgraded to syntax 2.0  \n17:05\u00a0<vmassol>\u00a0I see  \n17:05\u00a0<vmassol>\u00a0so we can change the guy's page maybe and contact him  \n17:05\u00a0<vmassol>\u00a0or do we have a workaround/solution?  \n17:07\u00a0<@cjdelisle>\u00a0I tried changing the code to what I think it should be. Some unit tests broke. I think that sooner or later we are going to have to face the music here.  \n17:07\u00a0<@cjdelisle>\u00a0It's going to break some things because some things are inevitably relying on a bug.  \n17:08\u00a0<vmassol>\u00a0yes but better do this for 3.3 or later maybe  \n17:08\u00a0<vmassol>\u00a0(since we're already late in the 3.2 release)  \n17:08\u00a0<@cjdelisle>\u00a0Yes  \n17:08\u00a0<@cjdelisle>\u00a0I agree  \n17:08\u00a0<vmassol>\u00a0in the meantime, is there anything we can do specifically for myxwiki.org?  \n17:09\u00a0<vmassol>\u00a0just edit the faulty page?  \n17:09\u00a0<@cjdelisle>\u00a0I suppose we could talk to the owner of the site about changing his macros to have a prefix so they don't collide, then update his panels to use that prefix.  \n17:10\u00a0<@cjdelisle>\u00a0It will require scowering the pages in his site to make cure all of the macro invocations are changed to the prefixed versions.  \n17:10\u00a0<@cjdelisle>\u00a0\\*sure  \n17:10\u00a0<vmassol>\u00a0I can contact him , do you remember the wiki?  \n17:11\u00a0<vmassol>\u00a0s/wiki/page  \n17:11\u00a0<@cjdelisle>\u00a0it's a skin override  \n17:11\u00a0<@cjdelisle>\u00a0so it means changing lots and lots of pages.  \n17:11\u00a0<vmassol>\u00a0I don't get it  \n17:11\u00a0<vmassol>\u00a0the skin is redefining a macro right?  \n17:11\u00a0<@cjdelisle>\u00a0correct.  \n17:12\u00a0<vmassol>\u00a0so all we need is not to do that  \n17:12\u00a0<@cjdelisle>\u00a0And pages in the wiki are all relying on the macros being the way the skin leaves them.  \n17:12\u00a0<vmassol>\u00a0ie rename or remove his macro definition  \n17:12\u00a0<vmassol>\u00a0yes but that's his problem  \n17:12\u00a0<vmassol>\u00a0i mean he's doing something forbidden  \n17:12\u00a0<@cjdelisle>\u00a0There are quite a number of macros so it will break him pretty badly.  \n17:13\u00a0<@cjdelisle>\u00a0It's not expressly forbidden, it's just that he found a bug.  \n17:13\u00a0<vmassol>\u00a0yes  \n17:14\u00a0<@cjdelisle>\u00a0The nicest thing to do is search his wiki for macro invocations and rename them all so they don't collide.  \n17:14\u00a0<vmassol>\u00a0are you volunteering?  \n17:15\u00a0<+tmortagne>\u00a0vmassol: it's not forbidden we are just doing a bad job in isolating skins  \n17:15\u00a0<vmassol>\u00a0tmortagne: it's a limitation we have  \n17:15\u00a0<vmassol>\u00a0so right now doing what he does his frobiden on myxwiki.prg  \n17:15\u00a0<vmassol>\u00a0as otherwise you break everyoe else  \n17:15\u00a0<+tmortagne>\u00a0well it's not like is was made on pupose, we just found it  \n17:15\u00a0<vmassol>\u00a0I didn't say he made it on purpose  \n17:16\u00a0<+tmortagne>\u00a0I mean it was not forbidden when he did it  \n17:16\u00a0<vmassol>\u00a0I just want to contact him to tell him he's breaking eveyrone because of this limitation  \n17:16\u00a0<vmassol>\u00a0and whether he can fix this quickly  \n17:16\u00a0<+tmortagne>\u00a0si it's not exactly \"his problem\"  \n17:16\u00a0<vmassol>\u00a0now if cjdelisle is ok to spend the time to fix his wiki then all the best  \n17:17\u00a0<vmassol>\u00a0we cannot not use our test platform just because one guy's wiki is breaking eveyrone else  \n17:17\u00a0<vmassol>\u00a0if it were mean I'd just take his wiki offlie for now  \n17:17\u00a0<vmassol>\u00a0till it's fixed  \n17:17\u00a0<vmassol>\u00a0s/mean/me/  \n17:17\u00a0<+tmortagne>\u00a0sure but it's not only him  \n17:17\u00a0<vmassol>\u00a0and contat him of course  \n17:18\u00a0<+tmortagne>\u00a0it probably not the last time we have the issue  \n17:18\u00a0<@cjdelisle>\u00a0If you're volunteering to be the badguy then all is well with me.  \n17:18\u00a0<vmassol>\u00a0right now all I need is the page name so that I can refer it in my email to him  \n17:18\u00a0<@cjdelisle>\u00a0hmm seems last time my computer crashed it ate my history  \n17:18\u00a0<vmassol>\u00a0ah it must be in our archives  \n17:19\u00a0<+tmortagne>\u00a0if you remember the wiki we can probably easily find the page since it's the skin  \n17:19\u00a0<vmassol>\u00a0hard to search on xwiki.org  \n17:19\u00a0<vmassol>\u00a0can't sort the results by date...  \n17:20\u00a0<vmassol>\u00a0http://slussen.myxwiki.org/xwiki/bin/edit/Main/SlussenSkin?editor=object  \n17:23\u00a0<@cjdelisle>\u00a0yes, we know that that skin is causing trouble.  \n17:24\u00a0<@cjdelisle>\u00a0We will have to search all custom skins and review them one at a time to see if any others are causing trouble.  \n17:24\u00a0<@cjdelisle>\u00a0Or just shut him off and then upgrade and see if it seems ok.  \n17:24\u00a0<vmassol>\u00a0yep  \n17:26\u00a0<vmassol>\u00a0ok found his email address  \n17:26\u00a0<vmassol>\u00a0preparing mail  \n17:29\u00a0<@cjdelisle>\u00a0IMO the pattern of using global macros should be deprecated.  \n17:29\u00a0<vmassol>\u00a0cjdelisle: do we have a jira issue on this?  \n17:29\u00a0<vmassol>\u00a0ah yes  \n17:29\u00a0<vmassol>\u00a0XWIKI-6972  \n17:32\u00a0<vmassol>\u00a0ok mail sent  \n17:33\u00a0<vmassol>\u00a0I gave him till next Monday/Tuesday so that we can update when 3.2M3 is released  \n17:33\u00a0<vmassol>\u00a0:)  \n17:33\u00a0<@cjdelisle>\u00a0cool  \n17:33\u00a0<vmassol>\u00a0I said that then we'll deactivate his wiki if it's not fixed because we need to carry on with our release  \n17:33\u00a0<vmassol>\u00a0(deactivate till we fix the jira issue)  \n17:34\u00a0<@cjdelisle>\u00a0did you mention that it's enough to prefix all of his macros with 'sussin' or the like?  \n17:34\u00a0<vmassol>\u00a0yes  \n17:34\u00a0<@cjdelisle>\u00a0cool  \n17:35\u00a0<@cjdelisle>\u00a0Just a thought, where I would really love to see us move toward parsing script macros once and then rendering the code each time from cached binary.  \n17:35\u00a0<vmassol>\u00a0http://pastebin.com/kUjZGFbX  \n17:36\u00a0<@cjdelisle>\u00a0In the case of groovy, we can even compile it down to bytecode which is really exciting since if we load the class, the jvm has the oppertunity to actually compile that down to native.  \n17:37\u00a0<@cjdelisle>\u00a0the thought of wikiscript being jit compiled and native code running when someone loads a page is pretty exciting to me.  \n17:46\u00a0<vmassol>\u00a0I can see that\u2026. :)  \n17:46\u00a0<@cjdelisle>\u00a0When we get to that level of performance, we can start asking questions like \"what does php really have to offer you?\"  \n17:47\u00a0<vmassol>\u00a0I don't think that the main advantage of php is speed  \n17:47\u00a0<vmassol>\u00a0honeslty I woudln't go to that trouble at all  \n17:48\u00a0<vmassol>\u00a0because jdk7 has a lot of script performance improvements lareazdy  \n17:48\u00a0<vmassol>\u00a0and I don't think we have issues with script evaluation speed right now\u2026. especially compared with DB accesses we do  \n17:49\u00a0<@cjdelisle>\u00a0Yes, permissions is the monster under the bed.  \n17:49\u00a0<vmassol>\u00a0http://java.sun.com/developer/technicalArticles/DynTypeLang/  \n17:50\u00a0<@cjdelisle>\u00a0that is cool  \n17:59\u00a0<Enygma`1>\u00a0has quit  \n18:00\u00a0<evalica1>\u00a0has quit  \n18:08\u00a0<jvdrean>\u00a0has quit  \n18:09\u00a0<jvdrean>\u00a0has joined #xwiki  \n18:09\u00a0<jvdrean>\u00a0has quit  \n18:09\u00a0<vmassol>\u00a0has quit  \n18:13\u00a0<Denis>\u00a0has quit  \n19:01\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:03\u00a0<tmortagne>\u00a0has quit  \n19:08\u00a0<jvdrean>\u00a0has quit  \n20:29\u00a0<vmassol>\u00a0has joined #xwiki  \n21:05\u00a0<vmassol>\u00a0has quit  \n21:19\u00a0<evalica>\u00a0has joined #xwiki  \n21:55\u00a0<sdumitriu>\u00a0has quit  \n22:02\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:25\u00a0<pgmjsd>\u00a0has quit  \n22:51\u00a0<evalica>\u00a0has quit  \n23:04\u00a0<pturcotte>\u00a0has quit  \n\n"}