{"id": "dev:IRC.xwikiArchive20160810", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160810", "title": "IRC Archive for channel #xwiki on 10 August 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sorinello\\_\\_>\u00a0has joined #xwiki  \n00:01\u00a0<sorinello\\_\\_>\u00a0has quit  \n00:01\u00a0<sorinello>\u00a0has joined #xwiki  \n00:09\u00a0<lkrejci>\u00a0has quit  \n02:22\u00a0<Chuguniy>\u00a0has quit  \n03:07\u00a0<jonesmeier>\u00a0has quit  \n03:09\u00a0<jonesmeier>\u00a0has joined #xwiki  \n04:34\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n08:34\u00a0<msmeria>\u00a0has joined #xwiki  \n08:48\u00a0<Enygma`>\u00a0has joined #xwiki  \n08:49\u00a0<acotiuga>\u00a0has joined #xwiki  \n09:01\u00a0<evalica>\u00a0has joined #xwiki  \n09:46\u00a0<vmassol>\u00a0has joined #xwiki  \n10:34\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:40\u00a0<flashdel>\u00a0has joined #xwiki  \n10:44\u00a0<flashdel>\u00a0hi folks, i got a question: I am using xwiki 8.0 and i got a problem with my ldap login: I basically can login without any problems, but there are more than two people in my company which are named \"martin\". They got uids like \"martin\" and \"martinp\". If i login with uid martin and his password, i am logged in as martinp. If i login with martinp and his credentials, i am logged in as martinp as well. All the time i will be user martinp if i  \n10:44\u00a0<flashdel>\u00a0login with uid=martin. Can someone help me please?  \n10:45\u00a0<flashdel>\u00a0My ldap login looks this way: uid={0},ou=people,dc=my-company,dc=de  \n10:53\u00a0<Slashman>\u00a0has joined #xwiki  \n11:07\u00a0<tmortagne>\u00a0flashdel: could you do what I suggested in my last comment in http://jira.xwiki.org/browse/XWIKI-13472 ?  \n11:13\u00a0<tmortagne>\u00a0has quit  \n11:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:27\u00a0<flashdel>\u00a0tmortagne: ok, i will check that  \n11:40\u00a0<Chuguniy>\u00a0has joined #xwiki  \n12:25\u00a0<lkrejci>\u00a0has joined #xwiki  \n13:16\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n13:18\u00a0<msmeria>\u00a0has quit  \n13:20\u00a0<msmeria>\u00a0has joined #xwiki  \n13:40\u00a0<flashdel>\u00a0tmortagne: \u00a0i enabled debug log and this is the result if i login with user \"martin\" http://pastebin.com/pgGWjrxD  \n13:42\u00a0<flashdel>\u00a0but i am logged in with User \"Martin P\" if i look on the first and last name.  \n13:43\u00a0<flashdel>\u00a0BTW: first\\_name and last\\_name are mapped by givenName and sn. Maybe i AM logged in as user martin and not martinp but the name mapping from user martinp is taken=  \n14:13\u00a0<tmortagne>\u00a0flashdel: I may have an idea of where the bug come from  \n14:13\u00a0<tmortagne>\u00a0looks like you are using somehting like xwiki.authentication.ldap.user\\_group=ou=people,dc=my-company,dc=de  \n14:14\u00a0<tmortagne>\u00a0and there is an optimization in the code that filter this group to get the user DB which seems to be buggy  \n14:14\u00a0<tmortagne>\u00a0but do you really need to filter on this group ?  \n14:14\u00a0<tmortagne>\u00a0given it's DN it seems to be what contain all the users anyway  \n14:15\u00a0<tmortagne>\u00a0if t contain everything you should just disable this option and the bug it should fix your issue and improve login performances  \n14:16\u00a0<tmortagne>\u00a0would be great is you could post this log to http://jira.xwiki.org/browse/XWIKI-13472 too and I will try to fix it  \n14:16\u00a0<tmortagne>\u00a0s/is/if/  \n14:17\u00a0<flashdel>\u00a0ok, i will check if it works if i disable the group filter and i will add the log into the bug  \n14:19\u00a0<flashdel>\u00a0i deleted the line ou=people,dc=my-company,dc=de from the group filter, reset the group filter but the issue still persists  \n14:38\u00a0<M-jsimard>\u00a0has quit  \n14:38\u00a0<blabla2[m]>\u00a0has quit  \n14:38\u00a0<M-vmassol>\u00a0has quit  \n14:38\u00a0<topical[m]>\u00a0has quit  \n14:38\u00a0<Craeckie[m]>\u00a0has quit  \n14:38\u00a0<jihad[m]>\u00a0has quit  \n14:40\u00a0<tmortagne>\u00a0flashdel: could you take another debug log without group filter ?  \n14:45\u00a0<lkrejci>\u00a0has quit  \n14:46\u00a0<lkrejci>\u00a0has joined #xwiki  \n14:47\u00a0<flashdel>\u00a0sure  \n14:47\u00a0<vmassol>\u00a0has quit  \n14:48\u00a0<tmortagne>\u00a0what version of XWiki is this by the way ?  \n14:49\u00a0<flashdel>\u00a0http://pastebin.com/Lm662r7t  \n14:49\u00a0<flashdel>\u00a0here you go, i am using xwiki 8.0  \n14:51\u00a0<tmortagne>\u00a0in your last log the authenticator seems to have loaded the right entry:  \n14:51\u00a0<tmortagne>\u00a02016-08-10 14:47:56,843 [http://localhost:8080/xwiki/bin/loginsubmit/XWiki/XWikiLogin] DEBUG c.x.x.p.l.XWikiLDAPConnection \u00a0- LDAP search found attributes [[{name=dn value=uid=martin,ou=people,dc=my-domain,dc=de}, {name=givenName value=Martin}, {name=sn value=Angenendt}]]  \n14:53\u00a0<tmortagne>\u00a0don't see anything wrong in the log this time  \n14:53\u00a0<flashdel>\u00a0ahh  \n14:53\u00a0<flashdel>\u00a0i didnt set the option to update the user everytime he logs in  \n14:54\u00a0<flashdel>\u00a0now it works \\o/  \n14:54\u00a0<tmortagne>\u00a0ok  \n14:54\u00a0<tmortagne>\u00a0thanks for the report, I will fix it for others quickly  \n14:54\u00a0<flashdel>\u00a0thanks for your great help, i will write this information in the bug report  \n15:00\u00a0<edvorg>\u00a0has joined #xwiki  \n15:04\u00a0<Chris[m]>\u00a0has joined #xwiki  \n15:05\u00a0<edvorg>\u00a0has quit  \n15:06\u00a0<edvorg>\u00a0has joined #xwiki  \n15:16\u00a0<lkrejci>\u00a0has quit  \n15:16\u00a0<lkrejci>\u00a0has joined #xwiki  \n15:18\u00a0<edvorg>\u00a0has quit  \n15:22\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:24\u00a0<msmeria>\u00a0has quit  \n15:34\u00a0<edvorg>\u00a0has joined #xwiki  \n15:38\u00a0<edvorg>\u00a0has quit  \n15:39\u00a0<edvorg>\u00a0has joined #xwiki  \n15:41\u00a0<edvorg>\u00a0has quit  \n15:41\u00a0<edvorg->\u00a0has joined #xwiki  \n15:41\u00a0<edvorg>\u00a0has joined #xwiki  \n15:45\u00a0<lkrejci>\u00a0has quit  \n15:46\u00a0<lkrejci>\u00a0has joined #xwiki  \n15:52\u00a0<lkrejci>\u00a0has left #xwiki  \n15:55\u00a0<boubou>\u00a0Failed to execute the [velocity] macro. Cause: [The execution of the [velocity] script macro is not allowed. Check the rights of its last author or the parameters if it's rendered from another script.]. Click on this message for details.  \n15:57\u00a0<msmeria1>\u00a0has quit  \n15:59\u00a0<edvorg->\u00a0has quit  \n16:13\u00a0<acotiuga>\u00a0has quit  \n16:29\u00a0<evalica>\u00a0has quit  \n16:36\u00a0<evalica>\u00a0has joined #xwiki  \n16:39\u00a0<evalica>\u00a0has quit  \n16:44\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n16:44\u00a0<jihad[m]>\u00a0has joined #xwiki  \n16:44\u00a0<M-jsimard>\u00a0has joined #xwiki  \n16:44\u00a0<M-yflory>\u00a0has joined #xwiki  \n16:44\u00a0<M-mouhb>\u00a0has joined #xwiki  \n16:44\u00a0<M-cjd>\u00a0has joined #xwiki  \n16:44\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n16:45\u00a0<M-vmassol>\u00a0has joined #xwiki  \n16:45\u00a0<topical[m]>\u00a0has joined #xwiki  \n16:46\u00a0<vmassol>\u00a0has joined #xwiki  \n16:48\u00a0<Enygma`>\u00a0has quit  \n16:50\u00a0<edvorg>\u00a0has quit  \n16:51\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n16:52\u00a0<vmassol>\u00a0has quit  \n17:46\u00a0<Denis>\u00a0has quit  \n18:18\u00a0<tmortagne>\u00a0has quit  \n18:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n18:18\u00a0<tmortagne>\u00a0has quit  \n19:22\u00a0<edvorg>\u00a0has joined #xwiki  \n19:56\u00a0<edvorg>\u00a0has quit  \n21:10\u00a0<Chuguniy>\u00a0has quit  \n21:14\u00a0<Denis>\u00a0has joined #xwiki  \n22:39\u00a0<Denis>\u00a0has quit  \n23:37\u00a0<vmassol>\u00a0has joined #xwiki  \n23:38\u00a0<vmassol>\u00a0has quit  \n23:38\u00a0<vmassol>\u00a0has joined #xwiki  \n23:39\u00a0<vmassol>\u00a0has quit\n"}