{"id": "dev:IRC.xwikiArchive20100617", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100617", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu1 joined #xwiki at 00:51  \nflorinciu left at 00:53 (Ping timeout: 276 seconds  \nflorinciu1 left at 03:16 (Read error: Connection reset by peer  \nabusenius left at 03:58 (Ping timeout: 264 seconds  \nsdumitriu left at 05:28 (Ping timeout: 265 seconds  \nsdumitriu joined #xwiki at 05:38  \nbbc581 joined #xwiki at 06:45  \nDenis left at 07:04 (Ping timeout: 248 seconds  \nDenis joined #xwiki at 07:10  \nbbc581 left at 07:28 (Ping timeout: 260 seconds  \nvmassol joined #xwiki at 07:58  \nmflorea joined #xwiki at 08:08  \nsburjan joined #xwiki at 08:16  \nvmassol - (08:20): sburjan: good morning  \nsburjan - (08:20): good morning vmassol  \nvmassol - (08:20): silvia and you did a good job yesterday with the doc  \nvmassol - (08:20): much better than before  \nvmassol - (08:20): the icons for the apps look nice too  \nvmassol - (08:20): :)  \nsburjan - (08:21): well, you'll have to thanks only to silvia, I worked on the documentation from .ORG :P  \nvmassol - (08:21): yes I'm talking about org  \nvmassol - (08:21): one little thing that is easy to fix though:  \nsburjan - (08:22): I mean I onlyy took some screenshots and modified the content, I had nothing to do with the nicons :P  \nvmassol - (08:22): I see that on a lot of application pages the title is duplicated  \nvmassol - (08:22): for example:  \nvmassol - (08:22): one little thing that is easy to fix:  \nvmassol - (08:22): oops  \nvmassol - (08:22): http://code.xwiki.org/xwiki/bin/view/Applications/GroovyConsoleApplication  \nvmassol - (08:22): to fix you simple need to edit in wiki mode and set explicitely the title to be the same  \nsburjan - (08:22): I;ll inform silvia about this  \nvmassol - (08:23): do you think you could \u00a0help fix this?  \nvmassol - (08:23): I've done a few already but we need to do them all  \nsburjan - (08:23): I could, yes  \nsburjan - (08:23): So on this page, I see the title appear twice  \nvmassol - (08:24): you can check now  \nvmassol - (08:24): it's fixed  \nvmassol - (08:24): but we need to do the same for all  \nsburjan - (08:24): you forgot to put a blank space  \nvmassol - (08:24): nope I didn't  \nvmassol - (08:24): :)  \nvmassol - (08:24): it's voluntary  \nsburjan - (08:24): GroovyConsole Application  \nvmassol - (08:24): it has to be the same title  \nsburjan - (08:24): so GroovyConsole is without cpace  \nvmassol - (08:24): to prevent the duplication  \nsburjan - (08:24): I see  \nvmassol - (08:25): it's a bit complex to explain  \nsburjan - (08:25): and where the other pages are ... \u00a0that have to be modified  \nvmassol - (08:25): applications  \nsburjan - (08:25): oh  \nsburjan - (08:25): okay  \nsburjan - (08:26): let me fix one, and you'll tell me if it;s okay, then I'll stard with all of them  \nsburjan - (08:27): the thing is .. all the pages there I want to edit  \nsburjan - (08:27): have only this in their source  \nsburjan - (08:27): #includeForm(\"XWiki.ApplicationClassSheet\")  \nvmassol - (08:27): yes  \nvmassol - (08:27): you shouldn't touch the content  \nvmassol - (08:27): just the title  \nsburjan - (08:29): check it out..something like this ?  \nvmassol - (08:29): yep  \nsburjan - (08:29): okay  \nsburjan - (08:29): I'm on it  \nsburjan - (08:29): changing them :P  \nvmassol - (08:29): thanks  \nsburjan - (08:32): vmassol : you chsould check this out  \nsburjan - (08:32): http://code.xwiki.org/xwiki/bin/view/Applications/ApplicationManagerApplication  \nvmassol - (08:32): yes?  \nsburjan - (08:34): the breadcrumbs appear diffrently than the other pages  \nvmassol - (08:34): indeed  \nvmassol - (08:34): you can fix this  \nvmassol - (08:34): by setting the parent  \nvmassol - (08:34): for applications the parent must be  \nvmassol - (08:34): Applications.WebHome  \nsilviar joined #xwiki at 08:34  \nvmassol - (08:35): fixed  \nvmassol - (08:36): we still have a lot of pages to convert to 2.0 syntax\u2026.  \nsburjan - (08:37): yeah ..  \nplunden joined #xwiki at 08:38  \nvmassol - (08:46): ok I think we're done  \nsburjan - (08:46): yeah :)  \nvmassol - (08:46): next time I'll script it  \nsburjan - (08:46): funny sync :P  \nvmassol - (08:46): :)  \nvmassol - (08:46): thanks  \nsburjan - (08:46): :)  \nsburjan - (08:46): np  \nvmassol - (08:47): that reminded me that we a lot of cool apps  \nvmassol - (08:47): :)  \nsburjan - (08:59): yeah, but on some of them the documentation, or at least the screenshots is pretty old  \nsburjan - (09:01): vmassol : I want to test the XA-INVITATION app written by caleb. \u00a0Is this app included inthe default XWiki XE or I have to download and install manually?  \nvmassol - (09:01): it's installed by default  \nvmassol - (09:01): in XE  \nvmassol - (09:01): do you only have to take the latest snapshot  \nvmassol - (09:01): let me give you a link  \nvmassol - (09:01): http://maven.xwiki.org/snapshots/com/xpn/xwiki/products/xwiki-enterprise-jetty-hsqldb/2.4-SNAPSHOT/xwiki-enterprise-jetty-hsqldb-2.4-20100616.233255-276.zip  \nsburjan - (09:02): okay. thanks  \nvmassol - (09:02): more generally here's the page containing the latest snapshot build for 2.4: http://maven.xwiki.org/snapshots/com/xpn/xwiki/products/xwiki-enterprise-jetty-hsqldb/2.4-SNAPSHOT/  \nsburjan - (09:02): yes, I know  \nsburjan - (09:10): vmassol :and there is some draft documentation for the invite application ?  \nvmassol - (09:10): hmmm I don't remember  \nvmassol - (09:10): CalebJamesDeLisl would know  \nkibahop joined #xwiki at 09:24  \nkibahop left #xwiki at 09:24  \nkibahop joined #xwiki at 09:24  \nbbc581 joined #xwiki at 09:27  \ntmortagne joined #xwiki at 09:31  \nnpm left at 09:37 (Ping timeout: 265 seconds  \ntmortagne - (09:49): silviar: \"The Panels applications provides a Search Panel\" what do you mean ? the search panel in in search application no panels one  \ntmortagne - (09:50): i was looking at the old one actually  \ntmortagne - (09:50): sorry  \ntmortagne - (09:50): s/old one/old search app page/  \ntmortagne - (09:51): ha but you did change the old app page with new search app things actually  \nsilviar - (09:51): The old search app page is actually the new search app page; I merged them yesterday  \nlucaa joined #xwiki at 09:52  \nsilviar - (09:52): I didn't add the part about \"The Panels applications provides a Search Panel\" \u00a0:) It was actually there when I edited the doc and presumed was technically correct  \nsilviar - (09:52): Can you please edit that part?  \ntmortagne - (09:52): silviar: that was true for the old app  \ntmortagne - (09:54): yep (you wrote the original doc btw ;))  \ntmortagne - (09:55): i don't remember this part in the old version of the nes search app  \nsilviar - (09:58): i took the original doc and improved it for the latest app :) ok; I'll remove the part about the panels  \nsburjan - (09:58): vmassol : should I make a complete redesign of http://platform.xwiki.org/xwiki/bin/view/Features/ActionBars ? It looks pretty obsolete.. with references to XWiki 2.1  \nevalica joined #xwiki at 10:01  \narkub joined #xwiki at 10:02  \nvmassol - (10:13): sburjan: where is this doc linked from?  \nvmassol - (10:13): the parent seems not set  \nvmassol - (10:13): (not to the right page at least)  \nsburjan - (10:15): what should it be it's parent ?  \nsburjan - (10:15): I mean the correct one  \nvmassol - (10:15): as I said  \nvmassol - (10:15): tell me where it's linked from  \nvmassol - (10:16): how did you find this page?  \nvmassol - (10:16): silviar might be able to help since she wrote it  \nabusenius joined #xwiki at 10:17  \nsilviar - (10:18): It was a page created on the 21 release to explain in detail the changes introduced in the menus; I think it was only linked from the release notes since we didn't come to a conclusion at the time as to where the page should go http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise21  \nvmassol - (10:19): well release notes are one thing  \nvmassol - (10:19): but they're different from actual doc  \nvmassol - (10:19): so we need to fix this  \nvmassol - (10:20): I don't think we need a place for action bars  \nvmassol - (10:20): since they're supposed to be explained already  \nvmassol - (10:20): wdyt?  \nvmassol - (10:20): for ex in http://platform.xwiki.org/xwiki/bin/view/Features/DocumentLifecycle  \nvmassol - (10:20): for all doc actions  \nevalica left at 10:20 (Read error: Connection reset by peer  \nsilviar - (10:20): I agree; the page doesn't make sense anymore  \nsilviar - (10:20): expecially since we are only documenting the latest version of colibri  \nsilviar - (10:21): I will remove it's content and redirect users to the other relevant pages  \nsilviar - (10:21): \\*its  \nevalica joined #xwiki at 10:22  \nvmassol - (10:22): ok thanks  \nvmassol - (10:23): mflorea: re the paste button, have you also removed the entry from the office import menu?  \ntmortagne - (10:23): [xwiki.org] I'm rebuilding the whole lucene index, might take some time (and resources)  \nvmassol - (10:27): tmortagne: I wouldn't have thought it would impact the perf of the server. The reindex is not staggered is that why?  \nvmassol - (10:27): (ie not done block by block)  \nxwikibot joined #xwiki at 11:00  \nvmassol - (11:01): sburjan: but jvelociter will restart xwiki.org soon, I'll restart after  \nsburjan - (11:01): ok, no problem  \njvelociter - (11:04): tmortagne: rm -r /usr/local/xwiki/lucene  \njvelociter - (11:04): ?  \ntmortagne - (11:04): jvelociter: it's a \"lucene\" folder for sure and you have to remove it but no idea where is it  \njvelociter - (11:05): ok that's this one. wanted to be sure it wasn't only files in that dir but the whole folder  \nvmassol - (11:05): I think ti's supposed to be in the servlet container's temporary folder  \nvmassol - (11:05): (by default)  \nvmassol - (11:05): unless it's been configured otherwise  \nSvenDowideit left at 11:05 (Ping timeout: 260 seconds  \njvelociter - (11:06): it's in xwiki.properties  \njvelociter - (11:06): don't know if it has been changed  \ntmortagne - (11:06): you mean xwiki.cfg ?  \njvelociter - (11:06): cfg yes  \ntmortagne - (11:06): there is nothing about lucene in xwiki.properties AFAIK  \nSvenDowideit joined #xwiki at 11:06  \njvelociter - (11:06): ok, restarting  \nxwikibot joined #xwiki at 15:58  \nNoobFukaire1 joined #xwiki at 16:01  \nsilviar left #xwiki at 16:01  \nNoobFukaire1 - (16:03): anyone know how the xwiki/liferay integration is going and if it works?  \nplunden left #xwiki at 16:09  \nflorinciu left at 16:10 (Read error: Connection reset by peer  \nsburjan` joined #xwiki at 16:16  \nflorinciu joined #xwiki at 16:56  \nDenis - (16:57): vmassol: there is the same revert in LoadXWikiDocument(), this puzzle me really  \nmariusbutuc joined #xwiki at 16:58  \nmflorea - (17:05): tmortagne: how do we handle single quotes (apostrophe) in translation properties files? http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html says it's a special character; you have to write '' (2 x apostrophe) to get '. Is this handled in any way by the l10n application? I'm looking at http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/ApplicationResources.properties and I see that ' is not escaped.  \nmariusbutuc left #xwiki at 17:05  \nCalebJamesDeLisl - (17:06): If there is a {0} in the line you use '' \u00a0otherwise you use '  \ntmortagne - (17:06): mflorea: yes it's handled  \nCalebJamesDeLisl - (17:07): Learned that the hard way ;)  \ntmortagne - (17:07): mflorea: l10n wiki doe snot generates \u00a0http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/ApplicationResources.properties  \ntmortagne - (17:07): mflorea: note that ' is not properties files thing  \ntmortagne - (17:07): it's about MessageFormat  \nCalebJamesDeLisl - (17:08): While we're on l10n I uploaded a couple of keys which I removed, how do I remove them from l10n.xwiki I forgot.  \nmflorea - (17:08): CalebJamesDeLisl: it doesn't seem right, you say that ' is special only if the value contains {x}  \ntmortagne - (17:08): so as CalebJamesDeLisl said ' is escaped only if there is things like {0}  \ntmortagne - (17:08): mflorea: yes that's it  \ntmortagne - (17:08): we don't always use MessageFormat in messagetool  \ntmortagne - (17:09): {\\*} regesxp is checked first  \ntmortagne - (17:09): so does l10n app  \nCalebJamesDeLisl - (17:10): Removing keys from AR.properties and reloading to l10n is enough or do I have to delete them manually? (forgot)  \nmflorea - (17:11): I see, well my problem is that GWT build fails because \"Unterminated single quote\" in translation. This is due to the fact that I activated MessageFormat style translations to be able to use parameters {x}  \ntmortagne - (17:11): CalebJamesDeLisl: you are not supposed to remove keys from AR.properties because of stable branch  \ntmortagne - (17:11): i added a deprecated section at the end of the file  \nCalebJamesDeLisl - (17:11): They were never released.  \nCalebJamesDeLisl - (17:12): It's part of Invitation.  \ntmortagne - (17:12): okthen just remove it  \nCalebJamesDeLisl - (17:12): Ok, thanks.  \ntmortagne - (17:13): mflorea: you can do what we do in XWikiMessageTool and only use MessageFormat when there is parameter ?  \ntmortagne - (17:13): (it's not a regexp actually)  \ntmortagne - (17:13): FYI  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0public String get(String key, List< ? > params)  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0{  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String translation = get(key);  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (params != null) {  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0translation = MessageFormat.format(translation, params.toArray());  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return translation;  \ntmortagne - (17:13): \u00a0\u00a0\u00a0\u00a0}  \ntmortagne - (17:14): i don't like having two different syntaxe depending if we give parameters or not but it's had to change it now  \ntmortagne - (17:15): that should not be done that way in the new localization module but in the meantime it's dangerous to change XWikiMessageTool behavior i guess  \nmflorea - (17:16): tmortagne: I can't because I use an interface to define the translation keys and this interface is implemented at compile time automatically by GWT. I have to options: extend Constants, which doesn't support parameters but allows ' or extend Messages which supports parameters but ' needs to be escaped. Using two interfaces, thus two translation files, one without parameters and one with parameters is a pain..  \nmflorea - (17:17): looks like the only option though  \nDenis - (17:17): tmortagne, mflorea: using 2 files is the GWT way  \nmflorea - (17:17): yes, but it's a pain  \ntmortagne - (17:18): yep  \nDenis - (17:18): you cannot simply extend Message or Constant  \nDenis - (17:18): and building your own localisation system is also a pain  \nmflorea - (17:18): yep  \nDenis - (17:18): and not recommended, since in most case it will defeat optimisation provided by the compiler  \ntmortagne - (17:19): we should probably modify XWikiMessageTool behavior but it means modifying a lots of translation and it would break some user that have custom translations  \nDenis - (17:20): from my POV, using 2 convention for quote is a pain, when you change a message by adding or removing a {0}, you should really be careful that there were ' or not, which is not obvious  \nmflorea - (17:21): and in GWT you'd have to move it from one file to the other..  \nCalebJamesDeLisl - (17:21): I think we all agree on that. The only possible argument for this method is it might be a little better performance (and it's what we have).  \nDenis - (17:21): Yes I know, but you may use Message without parameters  \nflorinciu left at 17:31 (Quit: Leaving.  \nevalica left at 17:40 (Quit: Leaving.  \nflorinciu joined #xwiki at 17:42  \nvmassol left at 17:44 (Quit: Leaving.  \nvmassol joined #xwiki at 17:46  \nsdumitriu joined #xwiki at 17:55  \nflorinciu left at 17:58 (Quit: Leaving.  \nvmassol - (18:06): abusenius: your unit test is cool. I had forgotten completely I wrote AbstractMockingComponentTest :)  \nvmassol - (18:06): wdyt about this shortened version: http://tinypaste.com/ec210  \nvmassol - (18:06): ?  \nCalebJamesDeLisl - (18:10): I forgot all about expecting an exception. I was hung up for a while trying to understand the Expectations(){{ block in setUp.  \nCalebJamesDeLisl - (18:11): It seems strange to me that it would get it's queues from the order in which the code executes.  \nCalebJamesDeLisl - (18:12): I concluded that if something was wrong it would cause the test to fail and ran it.  \nCalebJamesDeLisl - (18:28): tmortagne: Can/should r29056 (XWIKI-5230: Toc macro inside html macro does not work) be merged with 2.3?  \nCalebJamesDeLisl - (18:28): If so then merging the forbid nested script macros patches will be trivial.  \nNoobFukaire joined #xwiki at 18:30  \nmflorea left at 18:32 (Quit: Leaving.  \nNoobFukaire1 left at 18:34 (Ping timeout: 265 seconds  \nabusenius - (18:41): vmassol: ah, right, forgot about this feature :)  \nvmassol - (18:41): let me know if I can commit it  \ntmortagne - (18:42): CalebJamesDeLisl: i did not merged it on trunk because it was changing important apis  \nabusenius - (18:42): I havent tested the changed version, but I guess you have, and it should work the same, so go ahead  \ntmortagne - (18:43): s/on trunk/on 2.3/  \nCalebJamesDeLisl - (18:43): Ok, I was looking at the feasibility of merging Alex's patches, it's definitely not trivial.  \nabusenius - (18:45): btw CalebJamesDeLisl, thanks for applying my patches  \nCalebJamesDeLisl - (18:46): No pb. This is important and IMO this is the correct way to fix such a problem.  \nNoobFukaire1 joined #xwiki at 18:46  \nNoobFukaire left at 18:49 (Ping timeout: 260 seconds  \nsdumitriu left at 18:56 (Ping timeout: 258 seconds  \narkub left at 19:02 (Quit: Leaving  \nKermitTheFragger left at 19:10 (Quit: Leaving  \nvmassol - (19:26): CalebJamesDeLisl: are you going to remove the functional tests for nested script validator now that we have unit tests?  \nCalebJamesDeLisl - (19:27): Should I? They are a \"final proof\".  \nvmassol - (19:27): yes but too detailed  \nCalebJamesDeLisl - (19:27): Also I changed them so they are pretty fast.  \nabusenius left at 19:27 (Ping timeout: 260 seconds  \nvmassol - (19:27): it's about logic  \nvmassol - (19:27): in this case we need to add 2000 for all the unit tests we have in the rendering module  \nvmassol - (19:27): since there's no reason  \nvmassol - (19:28): we would redo tests for this class and not for others  \nvmassol - (19:28): (re speed it's very slow)  \nvmassol - (19:28): (compared to unit tests)  \nCalebJamesDeLisl - (19:28): Compared to unit tests yes.  \nvmassol - (19:28): the pb  \nvmassol - (19:28): is that someone who looks at them  \nvmassol - (19:28): will definitely be lost  \nvmassol - (19:29): to understand what should be tested using a unit test and what should be tested using a functional test  \nvmassol - (19:29): so our rules will blow away  \nCalebJamesDeLisl - (19:29): There are rules for this?  \nvmassol - (19:29): yes  \nvmassol - (19:30): UI interactions are not tested in unit tests so they must be tested functionanlly  \nvmassol - (19:30): that's why it's called ui-tests  \nCalebJamesDeLisl - (19:30): I'm not against removing them, they have already proven that it works, I just want to better understand the logic.  \nvmassol - (19:30): what you're proving here  \nvmassol - (19:30): is that when a macro fails to execute there's an error message  \nvmassol - (19:30): so I agree  \nvmassol - (19:31): that we need one functional test for this possibly  \nvmassol - (19:31): but a generic one for any kind of macro failure  \nvmassol - (19:31): and just one  \nCalebJamesDeLisl - (19:31): Proving there is no security hole IMO.  \nvmassol - (19:31): the security hold proof is already done  \nvmassol - (19:31): hole  \nvmassol - (19:31): there are various bit that make the whole thing:  \nvmassol - (19:31): - macro calling  \nvmassol - (19:31): - macro execution  \nvmassol - (19:32): - macro failure  \nvmassol - (19:32): - validator logic  \nCalebJamesDeLisl - (19:32): But with unit tests we don't know for sure that it works until it's all put together.  \nvmassol - (19:32): we do know  \nvmassol - (19:32): that if the script macro works  \nvmassol - (19:32): and if we have tests that the validator is plugged right  \nvmassol - (19:32): (do we have tests for this one?)  \nCalebJamesDeLisl - (19:33): Functional tests?  \nvmassol - (19:33): the script macro is tested elsewhere already  \nvmassol - (19:33): no need for functional for that  \nvmassol - (19:33): we need one unit test  \nvmassol - (19:33): to prove that you can plugin any validator in a script macro  \nvmassol - (19:33): s/plugin/plug/  \nvmassol - (19:33): I haven't seen one for that  \nvmassol - (19:33): that's missing  \nvmassol - (19:34): btw the validators are still static but that's a detail  \nvmassol - (19:35): so indeed it's missing one test for script  \nvmassol - (19:35): this could be tested easily with a rendering test  \nvmassol - (19:35): I would have written this btw  \nvmassol - (19:35): instead of the one alex wrote  \nCalebJamesDeLisl - (19:35): So you want to have a test which produces a dummy validator, calls a macro and proves that the validator was called?  \nvmassol - (19:35): I think it would have been easier to write and proved more at the same time  \nvmassol - (19:36): CalebJamesDeLisl: yes but it's enough to do it with the nestedscriptvalidator  \nvmassol - (19:36): no need to provide it with another one  \nvmassol - (19:36): by rendering test I mean a \\*.test script  \nvmassol - (19:36): this provdes everything  \nvmassol - (19:36): if this works  \nvmassol - (19:36): then it'll work functionally  \nvmassol - (19:36): because we've proved the chain already  \nvmassol - (19:36): that's one of the reason for this rendering test framework  \nvmassol - (19:37): so IMO alex's test is not really required\u2026..  \nvmassol - (19:37): but well.....  \nCalebJamesDeLisl - (19:37): So you extend the script validator and check that validate is called?  \nvmassol - (19:37): and OTOH he's missed some tests  \nvmassol - (19:37): extend?  \nvmassol - (19:37): why extend?  \nvmassol - (19:37): you just write in a .test file:  \nCalebJamesDeLisl - (19:37): How do you know if validate has been called?  \nvmassol - (19:37): {{groovy}}{{groovy}}\u2026.  \nvmassol - (19:38): the include is a bit harder and may require a unit test as alex has written  \nCalebJamesDeLisl - (19:38): What is the test framework for those .test framework?  \nvmassol - (19:38): RenderingTests  \nCalebJamesDeLisl - (19:38): \\*files  \nCalebJamesDeLisl - (19:38): Something internal to XWiki?  \nvmassol - (19:38): yes  \nvmassol - (19:39): it's in xwiki-rendering-tests  \nCalebJamesDeLisl - (19:39): Hmm, I have to read over that in my \"spare time\"  \nvmassol - (19:39): it's pretty simple  \nvmassol - (19:39): it takes all .input from the file, find corresponding Parser components  \nvmassol - (19:39): parse the content  \nvmassol - (19:39): for each .expect  \nvmassol - (19:40): it finds the corresponding renderer  \nvmassol - (19:40): and render the content  \nvmassol - (19:40): and compare with the expected result  \nvmassol - (19:40): it's done as a junit suite  \nCalebJamesDeLisl - (19:40): I remember Alex was trying to write a .test file and he couldn't match the error so he went to a unit test.  \nvmassol - (19:40): (junit3 suite)  \nvmassol - (19:40): we do have several .test tests  \nvmassol - (19:40): for testing macros in error  \nCalebJamesDeLisl - (19:41): What test is missing?  \nCalebJamesDeLisl - (19:41): (what is not proven)  \nvmassol - (19:41): the one that verifies that the validator is used  \nCalebJamesDeLisl - (19:42): So you're saying it would pass if nesting macros failed for some other reason.  \nvmassol - (19:42): \u00a0actually wait  \nvmassol - (19:42): I see that he's done that in  \nvmassol - (19:42): macroscript3.test  \nvmassol - (19:42): I think  \nvmassol - (19:43): ah no  \nvmassol - (19:43): he's used allowing instead of oneOf()  \nvmassol - (19:43): which doesn't prove it  \nvmassol - (19:43): :)  \nvmassol - (19:43): allowing() does stubbing  \nvmassol - (19:43): oneOf() and others do expectations  \nvmassol - (19:43): ie if the method is not called the test will fail  \nvmassol - (19:43): allowing() will not fail anything  \nvmassol - (19:44): dinner time  \nCalebJamesDeLisl - (19:44): See ya.  \nabusenius joined #xwiki at 19:58  \nCalebJamesDeLisl - (20:07): abusenius: Vincent pointed out that your unit tests don't prove that the validators actually get executed.  \nCalebJamesDeLisl - (20:08): I found that this .test file handles an error output. ./xwiki-rendering-tests/target/test-classes/macros/macro8.test  \nCalebJamesDeLisl - (20:11): This rendering crap is a huge pain, in retrospect I would have just told users to write mod\\_sec rules.  \nCalebJamesDeLisl - (20:11): Sorry about all of the call backs.  \nabusenius - (20:11): indeed, one test tests the validator, and another fakes them  \nabusenius - (20:13): well, IMO we should try to make xwiki safe by default  \nabusenius - (20:13): because nobody will ever look at the docs explaining how to use mod\\_sec  \nCalebJamesDeLisl - (20:14): I'd like to know what we would do if there was a big hole and there simply wasn't enough man-hours to fix it with all the proper tests etc. Do we leave it open?  \nabusenius - (20:15): I dont know, we would search for workarounds I guess  \nabusenius - (20:16): and if there is no way oout, what can we do?  \nvmassol - (20:16): there are always way out  \nvmassol - (20:16): it's just code  \nvmassol - (20:16): not like in the physical world  \nCalebJamesDeLisl - (20:17): How's your dinner? ;)  \nvmassol - (20:17): over  \nvmassol - (20:17): :)  \nvmassol - (20:17): but I have to go play with my kid in a few seconds  \nCalebJamesDeLisl - (20:17): Have fun.  \nabusenius - (20:17): +1  \nnpm left at 20:34 (Quit: Leaving.  \nbblfish1 - (20:46): vmassol, Would it be possible to place http://bblfish.net/tmp/2010/06/foafssl-component-0.3.1-SNAPSHOT.jar on webid.myxwiki.org and replace the 0.3 version already there with it?  \nnpm joined #xwiki at 20:49  \ntmortagne - (20:52): bblfish1: doing it now  \nbblfish1 - (20:52): thanks  \ntmortagne - (20:52): btw there is bblfish and bblfish1 users in thins chat  \nbblfish1 - (20:53): yep, not sure how to log the other one out  \nbblfish1 - (20:53): hi  \nbblfish1 - (20:54): perhaps just closing this chat  \nbblfish1 left at 20:54 (Quit: Leaving.  \ntmortagne - (20:54): bblfish: still receiving messages ?  \nbblfish1 joined #xwiki at 20:55  \nbblfish1 - (20:55): nope  \ntmortagne - (20:56): [myxwiki.org] Restarting myxwiki.org  \nvmassol left at 20:56 (Quit: Leaving.  \nbblfish1 - (20:58): ok, let me look  \nbblfish1 - (21:00): still down  \ntmortagne - (21:01): bblfish1: i sais \"Restarting\" not \"restarted\"  \ntmortagne - (21:01): :)  \ntmortagne - (21:01): it's up now  \ntmortagne - (21:01): almost  \ntmortagne - (21:01): s/sais/said/  \nbblfish1 - (21:01): :-)  \nbblfish1 - (21:02): did you remove the old jar?  \ntmortagne - (21:02): yes  \ntmortagne - (21:02): ok it's really up now  \ntmortagne - (21:02): it's taking a long time to start  \nbblfish1 - (21:03): yes  \nbblfish1 - (21:03): edititing the velocity  \nbblfish1 - (21:03): hopefully it will do the right thing now  \nmflorea joined #xwiki at 21:04  \nbblfish1 - (21:07): yep, thanks tmortagne, the code I fixed means the certificates last the length of time specified. It used to be a bit random somehow  \ntmortagne - (21:08): bblfish1: ok i did not understood everything but seems ok :)  \nbblfish1 - (21:10): I forgot how to export a page...  \nbblfish1 - (21:10): export only has pdf, rtf and html  \nbblfish1 - (21:11): ah I have to be logged in as a higher level admin  \nbbc581 left at 21:17 (Ping timeout: 260 seconds  \ntmortagne - (21:24): bblfish1: no you always have export as xar  \nbblfish1 - (21:24): oh, well, did it now  \ntmortagne - (21:24): even with guest  \ntmortagne - (21:24): (if guest has view right of course)  \ntmortagne - (21:25): ha no wait not sure actually  \ntmortagne - (21:25): there is something wrong i can't logout  \ntmortagne - (21:25): on myxwiki.org  \nbblfish1 - (21:32): ok thanks source code has been pushed to http://github.com/bblfish/keygenapp  \nCalebJamesDeLisl - (21:42): hmm. http://gawker.com/5559346/apples-worst-security-breach-114000-ipad-owners-exposed  \nCalebJamesDeLisl - (21:43): It's kind of sad that industry standard way of dealing with security problems is call the FBI if anyone finds them.  \nNoobFukaire1 left #xwiki at 22:26  \nmflorea left at 22:26 (Quit: Leaving.  \nbbc581 joined #xwiki at 23:25  \ntmortagne left at 23:36 (Quit: Leaving.  \n\n"}