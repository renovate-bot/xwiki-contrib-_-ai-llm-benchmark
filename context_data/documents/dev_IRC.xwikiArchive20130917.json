{"id": "dev:IRC.xwikiArchive20130917", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130917", "title": "IRC Archive for channel #xwiki on 17 September 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:29\u00a0<sdumitriu1>\u00a0has quit  \n01:25\u00a0<Denis>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:35\u00a0<polx\\_>\u00a0has joined #xwiki  \n04:37\u00a0<polx>\u00a0has quit  \n04:37\u00a0<polx\\_>\u00a0is now known as <polx>  \n05:51\u00a0<Denis>\u00a0has quit  \n07:44\u00a0<mflorea>\u00a0has joined #xwiki  \n07:46\u00a0<vmassol>\u00a0has joined #xwiki  \n08:03\u00a0<xwikibot>\u00a0has quit  \n08:09\u00a0<xwikibot>\u00a0has joined #xwiki  \n08:15\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:18\u00a0<bouquetf>\u00a0has quit  \n08:20\u00a0<bouquetf>\u00a0has joined #xwiki  \n08:25\u00a0<sburjan>\u00a0has joined #xwiki  \n08:28\u00a0<msmeria1>\u00a0has joined #xwiki  \n08:28\u00a0<sburjan>\u00a0has quit  \n08:28\u00a0<sburjan>\u00a0has joined #xwiki  \n08:30\u00a0<msmeria>\u00a0has quit  \n08:32\u00a0<sburjan>\u00a0has quit  \n08:36\u00a0<msmeria1>\u00a0has quit  \n08:37\u00a0<msmeria>\u00a0has joined #xwiki  \n08:41\u00a0<sburjan>\u00a0has joined #xwiki  \n09:12\u00a0<Denis>\u00a0has joined #xwiki  \n10:00\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:07\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:28\u00a0<tmortagne>\u00a0has quit  \n10:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:30\u00a0<tmortagne>\u00a0has quit  \n10:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:35\u00a0<Slashman>\u00a0has joined #xwiki  \n10:39\u00a0<polx\\_>\u00a0has joined #xwiki  \n10:42\u00a0<polx>\u00a0has quit  \n10:42\u00a0<polx\\_>\u00a0is now known as <polx>  \n10:53\u00a0<cjd>\u00a0has quit  \n10:53\u00a0<sdumitriu>\u00a0has quit  \n10:54\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:37\u00a0<vmassol>\u00a0mflorea, tmortagne, Denis, sdumitriu, sburjan, fmancinelli, msmeria: please give your opinion today is possible on the thread entitled \"[Proposals] Menu improvements when Workspaces activated\"  \n11:37\u00a0<mflorea>\u00a0ok  \n11:39\u00a0<vmassol>\u00a0thnaks  \n11:53\u00a0<polx>\u00a0has quit  \n11:54\u00a0<vmassol>\u00a0mflorea: just noticed something during a finctional test  \n11:54\u00a0<polx>\u00a0has joined #xwiki  \n11:54\u00a0<vmassol>\u00a0I get \"The new GWT-based WYSIWYG editor doesn't support the syntax of the current document: xwiki/2.0.\" displayed at the bottom  \n11:54\u00a0<vmassol>\u00a0is that normal/expected?  \n11:54\u00a0<vmassol>\u00a0I didn't check, maybe I'm missing some jars  \n11:55\u00a0<vmassol>\u00a0hm no I have both xwiki20 and xwiki21 rendering jars in my lib  \n11:55\u00a0<mflorea>\u00a0vmassol: something is missing for sure  \n11:57\u00a0<mflorea>\u00a0$services.wysiwyg.isSyntaxSupported($doc.syntax.toIdString())  \n11:57\u00a0<mflorea>\u00a0check first if $services.wysiwyg is defined  \n11:58\u00a0<mflorea>\u00a0if it is, then what it does is simple:  \n11:59\u00a0<mflorea>\u00a0this.componentManager.getInstance(Parser.class, syntaxId);  \n11:59\u00a0<mflorea>\u00a0this.componentManager.getInstance(PrintRendererFactory.class, syntaxId);  \n11:59\u00a0<mflorea>\u00a0so as long as you have both a parser and a renderer it should be fine  \n12:00\u00a0<vmassol>\u00a0tmortagne: is it \"normal\" that there's no information about adding release notes when editing an extension, for example http://extensions.xwiki.org/xwiki/bin/view/Extension/Ideas ?  \n12:00\u00a0<mflorea>\u00a0so what could be missing is either the wysiwyg-server jar (or one of its deps which prevents the script service from being registered) or the renderer/parser for xwiki 2.0 syntax  \n12:00\u00a0<vmassol>\u00a0mflorea: checking  \n12:01\u00a0<vmassol>\u00a0I have the jars for the renderer/parser for 2.0: webapps/xwiki/WEB-INF/lib/xwiki-rendering-syntax-xwiki20-5.2-SNAPSHOT.jar  \n12:02\u00a0<tmortagne>\u00a0vmassol: XWiki Repository does not have any UI for versions  \n12:02\u00a0<vmassol>\u00a0I also have: webapps/xwiki/WEB-INF/lib/xwiki-platform-wysiwyg-server-5.2-SNAPSHOT.jar  \n12:02\u00a0<vmassol>\u00a0tmortagne: I know but there used to be some explanatiosn at least with links to the object editor no?  \n12:03\u00a0<vmassol>\u00a0mflorea: never mind it's not important at this stage  \n12:03\u00a0<mflorea>\u00a0ok  \n12:03\u00a0<vmassol>\u00a0mflorea: OTOH I have a problem with a selenium2 test waiting on a LT  \n12:03\u00a0<tmortagne>\u00a0vmassol: \u00a0http://extensions.xwiki.org/xwiki/bin/edit/Extension/Ideas is an imported extension, that's probably why  \n12:03\u00a0<vmassol>\u00a0tmortagne: improted extensions have a different UI?  \n12:04\u00a0<vmassol>\u00a0tmortagne: ok I see  \n12:04\u00a0<tmortagne>\u00a0they have limited and readonly UI in several places since lots of information come from the repository  \n12:04\u00a0<vmassol>\u00a0ok so it's missing this part about the release notes  \n12:04\u00a0<tmortagne>\u00a0yes  \n12:04\u00a0<vmassol>\u00a0(which don't come from the pom)  \n12:05\u00a0<tmortagne>\u00a0see http://extensions.xwiki.org/xwiki/bin/edit/Extension/Font+Awesome+Icon+Macro  \n12:05\u00a0<vmassol>\u00a0yep  \n12:05\u00a0<tmortagne>\u00a0there is probably a big if around the whole section about versions  \n12:06\u00a0<tmortagne>\u00a0you can create a jira issue about it and I will look at it after 5.2  \n12:06\u00a0<vmassol>\u00a0just created http://jira.xwiki.org/browse/XWIKI-9464  \n12:11\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n12:14\u00a0<gdelhumeau>\u00a0has quit  \n12:15\u00a0<vmassol>\u00a0mflorea: there's something I don't understand  \n12:15\u00a0<vmassol>\u00a0in LT's waitUntilReady() we do:  \n12:15\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Object result = executeJavascript(  \n12:15\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"return Element.hasClassName('\" + this.livetableId + \"-ajax-loader','hidden')\");  \n12:15\u00a0<vmassol>\u00a0but if I check our source code I see:  \n12:15\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<span id=\"${divid}-ajax-loader\" class=\"xwiki-livetable-loader hidden\">  \n12:16\u00a0<vmassol>\u00a0thus the \"faqs-ajax-loader\" element is in an id and not in a class name  \n12:16\u00a0<vmassol>\u00a0shouldn't hasClassName only return DOM elements having the value in \"class\" parameters?  \n12:17\u00a0<mflorea>\u00a0as you can see hasClassName gets two parameters  \n12:17\u00a0<mflorea>\u00a0the second is the class name, 'hidden'  \n12:17\u00a0<mflorea>\u00a0I'm assuming the first is the element id  \n12:17\u00a0<vmassol>\u00a0http://prototypejs.org/doc/latest/dom/Element/hasClassName/  \n12:17\u00a0<vmassol>\u00a0ok I see  \n12:18\u00a0<vmassol>\u00a0then I don't understand why it fails  \n12:18\u00a0<mflorea>\u00a0yes, it checks if the first argument is a string and if so it uses it as an element id  \n12:18\u00a0<vmassol>\u00a0I have the following at runtime (using chrome dev tool)=  \n12:18\u00a0<vmassol>\u00a0<span class=\"xwiki-livetable-loader hidden\" id=\"faqs-ajax-loader\">  \n12:18\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</span>  \n12:18\u00a0<vmassol>\u00a0so this should return true for Element.hasClassName('\" + this.livetableId + \"-ajax-loader','hidden')\");  \n12:19\u00a0<vmassol>\u00a0right?  \n12:19\u00a0<vmassol>\u00a0(livetableId == \"faqs\")  \n12:19\u00a0<mflorea>\u00a0yes  \n12:19\u00a0<mflorea>\u00a0unless prototype.js is broken on that page  \n12:19\u00a0<mflorea>\u00a0but that would mean lots of things are broken  \n12:20\u00a0<vmassol>\u00a0ok seems isReady is not called  \n12:20\u00a0<vmassol>\u00a0debugging more  \n12:20\u00a0<mflorea>\u00a0so you're saying that you can see the live table loaded but the test still waits?  \n12:20\u00a0<vmassol>\u00a0yes  \n12:21\u00a0<mflorea>\u00a0ok  \n12:21\u00a0<vmassol>\u00a0till the timeout  \n12:21\u00a0<vmassol>\u00a0ok so isReady is called  \n12:22\u00a0<vmassol>\u00a0but:  \n12:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Object result = executeJavascript(  \n12:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"return Element.hasClassName('\" + this.livetableId + \"-ajax-loader','hidden')\");  \n12:22\u00a0<vmassol>\u00a0doesn't return  \n12:22\u00a0<vmassol>\u00a0it throws an exception  \n12:24\u00a0<vmassol>\u00a0actually no  \n12:24\u00a0<vmassol>\u00a0it doesn't throw an exception  \n12:24\u00a0<vmassol>\u00a0but it waits for the timeout  \n12:24\u00a0<vmassol>\u00a0it's blocking  \n12:24\u00a0<vmassol>\u00a0interesting....  \n12:25\u00a0<vmassol>\u00a0ahah http://stackoverflow.com/questions/13452822/webdriver-executeasyncscript-vs-executescript  \n12:25\u00a0<vmassol>\u00a0I still wonder why it was working before  \n12:26\u00a0<vmassol>\u00a0executeAsync is different  \n12:26\u00a0<vmassol>\u00a0we don't want that  \n12:28\u00a0<mflorea>\u00a0executeJavaScript uses executeAsync?  \n12:28\u00a0<vmassol>\u00a0no  \n12:28\u00a0<vmassol>\u00a0and it's good that it doesn't  \n12:28\u00a0<mflorea>\u00a0yes, I see  \n12:28\u00a0<vmassol>\u00a0now I don't understand why executScript blocks till the timeout  \n12:29\u00a0<vmassol>\u00a0I have modified isready like this:  \n12:29\u00a0<vmassol>\u00a0https://gist.github.com/vmassol/6592595  \n12:29\u00a0<vmassol>\u00a0and when I put a breakpoint inside the catch, I get the timeout exception from selenium  \n12:39\u00a0<vmassol>\u00a0mflorea: in the exception I get:  \n12:39\u00a0<vmassol>\u00a0org.openqa.selenium.WebDriverException: waiting for evaluate.js load failed  \n12:39\u00a0<vmassol>\u00a0have you seen this before?  \n12:39\u00a0<vmassol>\u00a0googling now  \n12:39\u00a0<vmassol>\u00a0ah I know  \n12:39\u00a0<vmassol>\u00a0must be my version of FF  \n12:39\u00a0<vmassol>\u00a0http://code.google.com/p/selenium/issues/detail?id=6051  \n12:40\u00a0<vmassol>\u00a0ok will use an older version of FF  \n13:06\u00a0<evalica>\u00a0has joined #xwiki  \n13:17\u00a0<mflorea>\u00a0has quit  \n13:29\u00a0<vmassol>\u00a0gdelhumeau\\_: you should close the VOTE for \" [VOTE] Stop supporting XWiki Manager\"  \n13:42\u00a0<cjd>\u00a0has joined #xwiki  \n14:10\u00a0<mflorea>\u00a0has joined #xwiki  \n14:53\u00a0<fmancinelli>\u00a0Guys, what is the best practice for providing a configuration to a java component via the UI? Imagine for example a component that needs to know the address of a web site in order to operate - what is usually used for making this info available to the component and modifiable by the user at runtime?  \n14:55\u00a0<vmassol>\u00a0fmancinelli: \\*Config page for storing the data, eg SearchConfig, etc , we have a lot of pages like this  \n14:55\u00a0<vmassol>\u00a0+ configurableclass object  \n14:56\u00a0<vmassol>\u00a0ah component....  \n14:56\u00a0<vmassol>\u00a0ideally you use a configuration source  \n14:56\u00a0<vmassol>\u00a0(ConfigurationSource)  \n14:56\u00a0<vmassol>\u00a0and have a configruation component in your module  \n14:57\u00a0<vmassol>\u00a0we're not very clear on this and we need a tutorial  \n14:59\u00a0<fmancinelli>\u00a0vmassol: ok, so injecting one or more configuration sources in the component and make it read the thing from there. One configuration source could read the data from a ConfigurableClass object that is created via an appropriate UI  \n15:00\u00a0<vmassol>\u00a0fmancinelli: check the following code:  \n15:00\u00a0<tmortagne>\u00a0fmancinelli: we usually create a component specifically to manage the configuration of this component  \n15:00\u00a0<vmassol>\u00a0DefaultConfigurationSource  \n15:00\u00a0<vmassol>\u00a0it looks in various places  \n15:00\u00a0<vmassol>\u00a0but  \n15:00\u00a0<vmassol>\u00a0only standard locations  \n15:00\u00a0<vmassol>\u00a0you'd need to add a new source if you store teh data in a speciic page  \n15:01\u00a0<vmassol>\u00a0that's if you wish to support both having the config in xwiki.properties and in the wiki in that page  \n15:01\u00a0<tmortagne>\u00a0your configuration component job is to expose typed methods to make sure you don't do mistake  \n15:02\u00a0<fmancinelli>\u00a0tmortagne, vmassol: ok. thanks  \n15:02\u00a0<vmassol>\u00a0we'd need to make it easy to add a new source from a wiki page  \n15:02\u00a0<vmassol>\u00a0\\*easier  \n15:02\u00a0<vmassol>\u00a0without having to write a new component  \n15:02\u00a0<vmassol>\u00a0just by registering a wiki source somehow  \n15:02\u00a0<tmortagne>\u00a0vmassol: yes, right now the way it work feal like the place to put configuration is XWikiPreferences which is not very nice  \n15:03\u00a0<vmassol>\u00a0yep  \n15:58\u00a0<vmassol>\u00a0tmortagne: you don't import the \"source\" in the repository app when importing an extension?  \n15:58\u00a0<vmassol>\u00a0(couldn't find a jira for that)  \n15:59\u00a0<vmassol>\u00a0for ex: http://extensions.xwiki.org/xwiki/bin/view/Extension/Ideas  \n15:59\u00a0<tmortagne>\u00a0vmassol: there is no such thing in the Extension model yet  \n15:59\u00a0<tmortagne>\u00a0so no  \n15:59\u00a0<vmassol>\u00a0I'll add a jira ok?  \n15:59\u00a0<tmortagne>\u00a0ok  \n15:59\u00a0<msmeria>\u00a0has quit  \n16:00\u00a0<vmassol>\u00a0done: http://jira.xwiki.org/browse/XWIKI-9467  \n16:01\u00a0<vmassol>\u00a0that would be nice IMO since it would make it easier for users to contribute  \n16:04\u00a0<tmortagne>\u00a0nothing prevent to set the source, since you have to put some documentation too anyway  \n16:10\u00a0<vmassol>\u00a0tmortagne: sure nothing prevents us from adding extensions without importing them too :)  \n16:10\u00a0<vmassol>\u00a0but it's easier if it's done automaitcally  \n16:10\u00a0<vmassol>\u00a0as you can see on e.x.o the sources are not filled  \n16:10\u00a0<vmassol>\u00a0for the majority of extensions  \n16:11\u00a0<vmassol>\u00a0simply because it's extra work  \n16:20\u00a0<sburjan>\u00a0has quit  \n16:32\u00a0<msmeria>\u00a0has joined #xwiki  \n16:32\u00a0<msmeria>\u00a0has quit  \n16:51\u00a0<gdelhumeau\\_>\u00a0mflorea: it seems the build is broken  \n17:04\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n17:05\u00a0<gdelhumeau\\_>\u00a0has quit  \n17:12\u00a0<mflorea>\u00a0gdelhumeau: right, my bad, thanks for noticing, fixing  \n17:23\u00a0<cjd>\u00a0has quit  \n17:28\u00a0<evalica>\u00a0has quit  \n17:32\u00a0<mflorea>\u00a0has quit  \n17:34\u00a0<polx>\u00a0has quit  \n17:40\u00a0<polx>\u00a0has joined #xwiki  \n17:47\u00a0<fmancinelli>\u00a0has quit  \n18:42\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n18:47\u00a0<UCC>\u00a0has joined #xwiki  \n18:49\u00a0<tmortagne>\u00a0has quit  \n18:52\u00a0<cjd>\u00a0has joined #xwiki  \n19:14\u00a0<Slashman>\u00a0has quit  \n19:15\u00a0<Slashman>\u00a0has joined #xwiki  \n19:26\u00a0<Slashman>\u00a0has quit  \n19:54\u00a0<gdelhumeau>\u00a0has quit  \n20:00\u00a0<abusenius>\u00a0has joined #xwiki  \n20:44\u00a0<Denis>\u00a0has quit  \n21:32\u00a0<UCC>\u00a0has quit  \n21:33\u00a0<Denis>\u00a0has joined #xwiki  \n22:47\u00a0<vmassol>\u00a0has quit  \n23:05\u00a0<Denis>\u00a0has quit  \n23:23\u00a0<tekzilla\\_>\u00a0is now known as <tekzilla>  \n23:42\u00a0<sdumitriu1>\u00a0has quit\n"}