{"id": "dev:IRC.xwikiArchive20130415", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130415", "title": "IRC Archive for channel #xwiki on 15 April 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n08:27\u00a0<vmassol>\u00a0sdumitriu: ping  \n08:28\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:29\u00a0<vmassol>\u00a0good morning everyone  \n08:29\u00a0<vmassol>\u00a0hope you've had a good weekend  \n08:29\u00a0<vmassol>\u00a0with a nice sunny sunday ;)  \n08:29\u00a0<vmassol>\u00a0are we ready to release 5.0RC1 as planned today?  \n08:30\u00a0<cjd>\u00a0has joined #xwiki  \n08:30\u00a0<vmassol>\u00a0tmortagne: gm. I see XWIKI-8744 is not closed yet, do you know how long you need to close it?  \n08:31\u00a0<tmortagne>\u00a0vmassol: currently working on it, I'm almost done  \n08:31\u00a0<vmassol>\u00a0ok cool  \n08:31\u00a0<vmassol>\u00a0sburjan`: good morning, any blocker you may know about for the RC1 release?  \n08:32\u00a0<vmassol>\u00a0tmortagne: creating release plan for RC1  \n08:37\u00a0<vmassol>\u00a0wow 23 issues still open for 5.0RC1!  \n08:39\u00a0<vmassol>\u00a0mflorea: just moved AWM issues to 5.1M1  \n08:39\u00a0<mflorea>\u00a0ok  \n08:45\u00a0<cjd>\u00a0has quit  \n08:45\u00a0<sburjan`>\u00a0vmassol: nothing new, everything I know is already reported  \n08:51\u00a0<vmassol>\u00a0guys we need to decide what we do with http://jira.xwiki.org/browse/XWIKI-106  \n08:51\u00a0<vmassol>\u00a0I'm in favor of rolling-it back  \n08:51\u00a0<vmassol>\u00a0wdyt?  \n08:52\u00a0<mflorea>\u00a0+1  \n08:55\u00a0<cjd>\u00a0has joined #xwiki  \n08:57\u00a0<mflorea>\u00a0oldcore has 1 unit test failing..  \n09:48\u00a0<vmassol>\u00a0mflorea: platform builds fine locally, trying now with legacy profile  \n09:49\u00a0<cjd\\_>\u00a0has joined #xwiki  \n09:50\u00a0<cjd>\u00a0has quit  \n09:51\u00a0<cjd\\_>\u00a0is now known as <cjd>  \n09:53\u00a0<mflorea>\u00a0vmassol: I get this http://pastebin.com/K9KFBx30  \n09:53\u00a0<vmassol>\u00a0ah so you can reproduce, cool  \n09:53\u00a0<vmassol>\u00a0with the legacy profile?  \n09:54\u00a0<mflorea>\u00a0no  \n09:54\u00a0<mflorea>\u00a0just oldcore  \n09:54\u00a0<vmassol>\u00a0hmmm  \n09:54\u00a0<mflorea>\u00a0mvn clean install  \n09:54\u00a0<vmassol>\u00a0going to clean again my local repo but I've done that last week already\u2026..  \n09:55\u00a0<mflorea>\u00a0I'm building from console  \n09:55\u00a0<vmassol>\u00a0yes me too  \n09:55\u00a0<vmassol>\u00a0you're local right?  \n09:55\u00a0<vmassol>\u00a0(not on the agent)  \n09:58\u00a0<vmassol>\u00a0mflorea: just cleaned my local repo and rebuilt just oldcore  \n09:58\u00a0<vmassol>\u00a0\u2026 and it passed again  \n09:58\u00a0<vmassol>\u00a0I have no local changes  \n09:58\u00a0<mflorea>\u00a0let me try with -U  \n09:59\u00a0<vmassol>\u00a0mflorea: any idea about http://ci.xwiki.org/job/xwiki-platform%20Quality%20Checks/289/console ? :)  \n10:02\u00a0<mflorea>\u00a0no idea  \n10:05\u00a0<vmassol>\u00a0mflorea: still failing with -U?  \n10:09\u00a0<tmortagne>\u00a0vmassol: always been able to reproduce http://pastebin.com/K9KFBx30 too  \n10:09\u00a0<vmassol>\u00a0hmm strange  \n10:09\u00a0<vmassol>\u00a0let's see the usual suspects:  \n10:09\u00a0<vmassol>\u00a0maven version, JDK, OS  \n10:09\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:10\u00a0<vmassol>\u00a0maven 3.0.4, 1.6.0\\_43-b01-447, osx  \n10:10\u00a0<vmassol>\u00a0the problem is that I don't see how this could be related to the env...  \n10:10\u00a0<mflorea>\u00a0I still get it..  \n10:11\u00a0<vmassol>\u00a0and I don't get it! :)  \n10:11\u00a0<vmassol>\u00a0(pun intended)  \n10:11\u00a0<mflorea>\u00a0I have maven 3.0.4 too  \n10:11\u00a0<mflorea>\u00a0let me clean my repo  \n10:11\u00a0<tmortagne>\u00a0note: I moved to 3.0.5 but given the number of modifications I doubt that's it :)  \n10:12\u00a0<vmassol>\u00a0:)  \n10:12\u00a0<sburjan>\u00a0has joined #xwiki  \n10:13\u00a0<tmortagne>\u00a01.6.0\\_35  \n10:13\u00a0<bouquetf>\u00a0has quit  \n10:13\u00a0<tmortagne>\u00a0that remind me I should upgrade  \n10:13\u00a0<bouquetf>\u00a0has joined #xwiki  \n10:14\u00a0<Inge->\u00a0Sooo... who is spending time in Prov\u00eance/ C\u00f4tes d'azur this summer?  \n10:14\u00a0<vmassol>\u00a0Inge-: Gard for me  \n10:15\u00a0<Inge->\u00a0Gard?  \n10:16\u00a0<Inge->\u00a0We did Prov\u00eance last year - contemplating Italy this year.  \n10:17\u00a0<vmassol>\u00a0Inge-: http://fr.wikipedia.org/wiki/Gard  \n10:20\u00a0<mflorea>\u00a0vmassol: I still get it, did you build something before oldcore after cleaning the repo?  \n10:20\u00a0<vmassol>\u00a0nope  \n10:20\u00a0<vmassol>\u00a0directly oldcore  \n10:23\u00a0<vmassol>\u00a0FTR I started rewriting this test in mockito last Friday but I stopped and reverted since I didn't understand it well enough  \n10:29\u00a0<mflorea>\u00a0I deleted the entire m2 repo and then build directly oldcore and I still get it..  \n10:29\u00a0<mflorea>\u00a0brb  \n10:29\u00a0<vmassol>\u00a0starting to be fun problem to solve...  \n10:29\u00a0<vmassol>\u00a0:)  \n10:30\u00a0<vmassol>\u00a0could be a speed issue  \n10:34\u00a0<vmassol>\u00a0tmortagne, mflorea: if you can reproduce locally, could you fix it? :)  \n10:34\u00a0<vmassol>\u00a0or at least tell me where does the non-mocked call come from  \n10:34\u00a0<tmortagne>\u00a0vmassol: we are sprinting to merge http://jira.xwiki.org/browse/XWIKI-8744 \u00a0right now, I can look at it after, sure  \n10:35\u00a0<vmassol>\u00a0ok  \n10:35\u00a0<vmassol>\u00a0I'll try to figure it out in the meantime  \n10:36\u00a0<evalica>\u00a0has joined #xwiki  \n10:36\u00a0<vmassol>\u00a0ahah  \n10:37\u00a0<tmortagne>\u00a0vmassol: you don't have a stack trace in the failing test on the build agent ?  \n10:37\u00a0<vmassol>\u00a0the code that fails is located inside a:  \n10:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (LOGGER.isDebugEnabled()) {  \n10:37\u00a0<vmassol>\u00a0tmortagne: yes found it, was looking at your paste that didn't have it  \n10:37\u00a0<vmassol>\u00a0so it seems you guys are haiving debug enabled for some reason  \n10:37\u00a0<vmassol>\u00a0while I don't  \n10:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (LOGGER.isDebugEnabled()) {  \n10:37\u00a0<tmortagne>\u00a0vmassol: seems you have the same difference than Denis with the build agent (probably Linux in general it seems)  \n10:38\u00a0<vmassol>\u00a0interesting  \n10:41\u00a0<tmortagne>\u00a0sburjan: just merged a rewite of most of the distribution wyzard, from user point of view the differences are  \n10:41\u00a0<tmortagne>\u00a0\\* DW on subwikis (when in wiki mode) with same condition that main wiki (install, upgrade, etc) and each wiki has a separate status  \n10:42\u00a0<sburjan>\u00a0tmortagne: thanks, I'll write this down and test as soon as I have a snapshot or as soon as we release RC1  \n10:42\u00a0<tmortagne>\u00a0but in practice we rewritten almost everything so there might be regressions we did not seen  \n10:42\u00a0<sburjan>\u00a0ok, we'll see.  \n10:43\u00a0<sburjan>\u00a0not sure exactly what wiki mode is  \n10:43\u00a0<vmassol>\u00a0build is stuck again\u2026. http://ci.xwiki.org/job/xwiki-platform/3717/console  \n10:43\u00a0<vmassol>\u00a0stopping and taking agent offline for testing  \n10:43\u00a0<tmortagne>\u00a0sburjan: what is in the first point  \n10:43\u00a0<tmortagne>\u00a0either you upgrade everything from the main wiki (all in one mode) or wiki by wiki (wiki mode)  \n10:44\u00a0<sburjan>\u00a0ah ok. Understood  \n10:44\u00a0<tmortagne>\u00a0we have both uses cases  \n10:44\u00a0<sburjan>\u00a0yes, wiki mode will be used for myxwiki.org I guess.  \n10:46\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:05\u00a0<vmassol>\u00a0mflorea, tmortagne: interesting, if you run mvn clean test -Dtest=XWikiHibernateStoreLocksTest it'll pass  \n11:05\u00a0<vmassol>\u00a0so it seems there's something coming from previous tests  \n11:08\u00a0<tmortagne>\u00a0vmassol: I guess there is a test which set the log level and logback store that in a static  \n11:11\u00a0<tmortagne>\u00a0we would need to assign several devs to a jira issue sometimes...  \n11:14\u00a0<gdelhumeau>\u00a0has quit  \n11:17\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:18\u00a0<vmassol>\u00a0re http://www.xwiki.org/xwiki/bin/download/ReleaseNotes/ReleaseNotesXWiki50RC1/upgrademode.png improvmeent suggestion: don't use the word \"entity\" which is vague. Instead \"\u2026 is each wiki is administered separately.\"  \n11:18\u00a0<vmassol>\u00a0btw administrated \u00a0is not correct according to http://englishplus.com/grammar/00000172.htm  \n11:19\u00a0<vmassol>\u00a0\"\u2026if all wikis are administered together.\"  \n11:39\u00a0<Slashman>\u00a0has joined #xwiki  \n12:06\u00a0<sburjan`>\u00a0has quit  \n12:06\u00a0<sburjan`>\u00a0has joined #xwiki  \n12:29\u00a0<bouquetf>\u00a0Hi vmassol, sorry for your pings, I did not have an access to the net this week end. I'll check the crash integration this evening  \n12:37\u00a0<vmassol>\u00a0bouquetf: np :)  \n12:45\u00a0<sdumitriu>\u00a0vmassol: Pong  \n12:46\u00a0<vmassol>\u00a0sdumitriu: let me remember....  \n12:46\u00a0<vmassol>\u00a0ah yes, it was about those 2 lines when we start XWiki:  \n12:46\u00a0<vmassol>\u00a02013-04-15 08:20:18,357 [main] WARN \u00a0o.a.s.c.SolrCore \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- New index directory detected: old=null new=data/solr/./data/index/  \n12:46\u00a0<vmassol>\u00a02013-04-15 08:20:18,358 [main] WARN \u00a0o.a.s.c.SolrCore \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- [xwiki] Solr index directory 'data/solr/./data/index' doesn't exist. Creating new index...  \n12:46\u00a0<vmassol>\u00a0that doesn't look right  \n12:46\u00a0<vmassol>\u00a0to send a WARN for this  \n12:46\u00a0<vmassol>\u00a0we need to configure logging of solr I think  \n12:47\u00a0<sdumitriu>\u00a0Yes  \n12:48\u00a0<sdumitriu>\u00a0Since it's embedded in XWiki, and using logback, we can just add a config line in our own logback.xml  \n12:48\u00a0<vmassol>\u00a0yes, I'm mentioning this to you since I was under the impression you made some chanegs to the solr module that caused this to appear  \n12:48\u00a0<sdumitriu>\u00a0No  \n12:48\u00a0<sdumitriu>\u00a0That's standard Solr logging  \n12:49\u00a0<sdumitriu>\u00a0It comes from Solr directly  \n12:49\u00a0<vmassol>\u00a0yes I know  \n12:49\u00a0<sdumitriu>\u00a0o.a.s.c = org.apache.solr.core  \n12:50\u00a0<vmassol>\u00a0now before we can do this we also need to ensure there are no important WARn messages we would loose  \n12:50\u00a0<vmassol>\u00a0ideally\u2026.  \n12:51\u00a0<vmassol>\u00a0in practice that's going to be hard so we'll just do it and see what happens I guess :)  \n13:41\u00a0<rrodriguez>\u00a0has quit  \n13:48\u00a0<rrodriguez>\u00a0has joined #xwiki  \n13:54\u00a0<rrodriguez>\u00a0has quit  \n14:00\u00a0<rrodriguez>\u00a0has joined #xwiki  \n14:27\u00a0<tmortagne>\u00a0is anyone working on http://jira.xwiki.org/browse/XWIKI-8813 ?  \n14:29\u00a0<tmortagne>\u00a0please everyone move issues associated to 5.0RC1 that you won't have time to fix  \n14:31\u00a0<tmortagne>\u00a0sdumitriu: any news on XWIKI-8189 ?\n"}