{"id": "dev:IRC.xwikiArchive20160205", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160205", "title": "IRC Archive for channel #xwiki on 05 February 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n01:16\u00a0<vmassol1>\u00a0has quit  \n01:17\u00a0<vmassol>\u00a0has joined #xwiki  \n01:17\u00a0<vmassol>\u00a0has quit  \n05:41\u00a0<mflorea>\u00a0has joined #xwiki  \n07:45\u00a0<msmeria>\u00a0has joined #xwiki  \n08:25\u00a0<cjd>\u00a0has quit  \n08:47\u00a0<vmassol>\u00a0has joined #xwiki  \n08:47\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:21\u00a0<mflorea>\u00a0has quit  \n09:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:22\u00a0<cjd>\u00a0has joined #xwiki  \n09:23\u00a0<vmassol>\u00a0tmortagne: good morning  \n09:24\u00a0<tmortagne>\u00a0vmassol: Hi  \n09:24\u00a0<vmassol>\u00a0when running the RepositoryTest locally I got https://gist.githubusercontent.com/vmassol/f404134b1cbe415d4dd1/raw/e83d29aab083708fc935d75b962758f763eac83f/gistfile1.txt  \n09:24\u00a0<vmassol>\u00a0and I've also noticed such a stack locally in my wiki the other day  \n09:24\u00a0<vmassol>\u00a0it seems we're still using xwiki/1.0 somewhere  \n09:28\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:32\u00a0<tmortagne>\u00a0yep looks like we still have a xwiki/1.0 document  \n09:32\u00a0<tmortagne>\u00a0I doubt its in repository app  \n09:33\u00a0<tmortagne>\u00a0hmm actually I think I may know  \n09:34\u00a0<tmortagne>\u00a0app manager was never converted and I think repository app contain an application descriptor (xwiki/1.0 but only contain an object in practice)  \n09:34\u00a0<tmortagne>\u00a0we don't bundle app manager but we need to convert the descriptor  \n09:34\u00a0<tmortagne>\u00a0(or remove the descriptor)  \n09:35\u00a0<vmassol>\u00a0I saw the stack trace in XE too  \n09:42\u00a0<mflorea>\u00a0has joined #xwiki  \n09:44\u00a0<evalica>\u00a0has joined #xwiki  \n09:45\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:51\u00a0<tmortagne>\u00a0vmassol: in XE that's different indeed  \n12:10\u00a0<[d\\_\\_d]>\u00a0has quit  \n12:12\u00a0<sorinello>\u00a0has quit  \n12:12\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki  \n12:24\u00a0<sorinello>\u00a0has joined #xwiki  \n12:48\u00a0<vmassol>\u00a0guys it seems that now when we restore a deleted page there's no new revision created. We used to create one with the save messaged being \"Restored from recycle bin\". Does that ring a bell to anyone?  \n12:49\u00a0<vmassol>\u00a0I can only think about XWIKI-9960 but it doesn't seem exactly similar but could be a side effect  \n13:13\u00a0<vmassol>\u00a0ok inded it's a regresision of 9960  \n13:13\u00a0<vmassol>\u00a0reopening  \n13:24\u00a0<tmortagne>\u00a0sounds like XWIKI-9960 just made visible an old bug (restore feature not properly setting metadata dirty to false and only working by luck for documents containing attachments)  \n13:25\u00a0<tmortagne>\u00a0s/false/true/  \n13:26\u00a0<tmortagne>\u00a0vmassol: yep that's it, I reproduce the \"bug\" with a document having no attachment in 7.4  \n13:26\u00a0<tmortagne>\u00a0so first we need to decide which one is the behavior we want  \n13:26\u00a0<tmortagne>\u00a0IMO when you restore a document you want the exact document you deleted  \n13:27\u00a0<tmortagne>\u00a0so no extra version  \n14:09\u00a0<tmortagne>\u00a0vmassol: you should have read my comment before sending the mail :)  \n14:09\u00a0<vmassol>\u00a0you sent a new comment?  \n14:09\u00a0<vmassol>\u00a0cehcking  \n14:10\u00a0<vmassol>\u00a0thre's only one comment  \n14:10\u00a0<vmassol>\u00a0and Ir ead it  \n14:10\u00a0<vmassol>\u00a0\\*read  \n14:10\u00a0<tmortagne>\u00a0we don't have the extra version since a long time  \n14:10\u00a0<vmassol>\u00a0it's the reason I sent the mail actually  \n14:10\u00a0<vmassol>\u00a0:)  \n14:10\u00a0<tmortagne>\u00a0it was only working by luck for documents having an attachment  \n14:11\u00a0<tmortagne>\u00a0(thanks to the bug fixed by XWIKI-9960)  \n14:11\u00a0<tmortagne>\u00a0but as I explain in IRC you can reproduce the same issue on 7.4 for example with a document having no attachment  \n14:12\u00a0<vmassol>\u00a0ok didn't realize it was only for docs having an attachment  \n14:12\u00a0<vmassol>\u00a0and didn't see your comment above on irc before sending the mail  \n14:12\u00a0<tmortagne>\u00a0well my jira comment does say \"only for documents having an attachment\" :)  \n14:12\u00a0<vmassol>\u00a0do you know when we changed this behavior?  \n14:13\u00a0<tmortagne>\u00a0no idea  \n14:13\u00a0<tmortagne>\u00a0would need to test a few versions  \n14:15\u00a0<vmassol>\u00a0I wonder if we changed that behavior voluntarily  \n14:15\u00a0<vmassol>\u00a0or if it was a side effect of playing with the metata data dirty and content dirty flags  \n14:15\u00a0<tmortagne>\u00a0(reproduce the same issue on 6.4.6)  \n14:16\u00a0<tmortagne>\u00a0I doubt it was voluntarily  \n14:16\u00a0<tmortagne>\u00a0or we would have talked about this on the list probably and I don't remember anything like it  \n14:17\u00a0<vmassol>\u00a0ok replied to my mail  \n14:17\u00a0<vmassol>\u00a0we should still say if we want to keep that behavior or not then  \n14:17\u00a0<vmassol>\u00a0(in that thread)  \n14:17\u00a0<vmassol>\u00a0even if it's not a regression for 7.4.1  \n14:18\u00a0<tmortagne>\u00a0it's a 8.0 thing  \n14:18\u00a0<tmortagne>\u00a0not in 7.4.1 anyway  \n14:18\u00a0<vmassol>\u00a0indeed  \n14:19\u00a0<vmassol>\u00a0more time  \n14:19\u00a0<tmortagne>\u00a0but we have a bug in 7.4 right now since we don't have the same behavior for document with or without attachment  \n14:19\u00a0<tmortagne>\u00a0but it's a old bug  \n14:20\u00a0<vmassol>\u00a0ok fixing the test now and I'll close the issue  \n14:20\u00a0<tmortagne>\u00a0anyway we should probably create a different issue to apply whatever decision we take and close XWIKI-9960  \n14:20\u00a0<vmassol>\u00a0yes tat's what I just said :)  \n14:20\u00a0<vmassol>\u00a0(Im handling this issue)  \n14:21\u00a0<vmassol>\u00a0re the new issue, it'll depend on the decision  \n14:21\u00a0<tmortagne>\u00a0yes but I need to concentrate when I write :)  \n14:21\u00a0<vmassol>\u00a0:)  \n14:21\u00a0<vmassol>\u00a0you need to learn to type lilke americans do, without looking at your keyboard :)  \n14:21\u00a0<vmassol>\u00a0(I'm trying to do that but I make a lot of typos...)  \n14:22\u00a0<tmortagne>\u00a0I reproduce in 3.5, starting to get quite old :)  \n14:22\u00a0<vmassol>\u00a0wow  \n14:22\u00a0<vmassol>\u00a0indeed  \n14:22\u00a0<tmortagne>\u00a0I'm not looking at my keyboard I'm looking at the line i'm writing :)  \n14:22\u00a0<vmassol>\u00a0doesn't mean it's right though\u2026  \n14:23\u00a0<vmassol>\u00a0k:)  \n14:26\u00a0<tmortagne>\u00a0juste reproduce in 1.7, ok I stop now :)  \n14:26\u00a0<vmassol>\u00a0one last test!  \n14:27\u00a0<vmassol>\u00a01.0  \n14:27\u00a0<vmassol>\u00a0:)  \n14:27\u00a0<vmassol>\u00a0yeah it's enough....  \n14:27\u00a0<tmortagne>\u00a0I have no idea where to find 1.0 actually  \n14:27\u00a0<tmortagne>\u00a0ow2 maybe  \n14:28\u00a0<evalica>\u00a0http://forge.ow2.org/project/showfiles.php?group\\_id=170 yeap  \n14:29\u00a0<tmortagne>\u00a0not sure 1.0 have a jetty/hsqldb package  \n14:30\u00a0<evalica>\u00a01.1 has  \n14:31\u00a0<tmortagne>\u00a0no idea how to restore a document in 1.0  \n14:31\u00a0<vmassol>\u00a0:)  \n14:31\u00a0<tmortagne>\u00a0it's not displaying deleted versions  \n14:31\u00a0<vmassol>\u00a0don't bother thomas  \n14:31\u00a0<tmortagne>\u00a0albatros was a nice skin  \n14:32\u00a0<vmassol>\u00a0:)  \n14:32\u00a0<vmassol>\u00a0it's fast no?  \n14:32\u00a0<evalica>\u00a0:)  \n14:32\u00a0<vmassol>\u00a0oops spam  \n14:32\u00a0<vmassol>\u00a0handling it  \n14:32\u00a0<tmortagne>\u00a0always fast on my computer whatever version it is  \n14:34\u00a0<evalica>\u00a0vmassol: are there some spam keywords databases we can download and use?  \n14:34\u00a0<vmassol>\u00a0I don't think we should  \n14:34\u00a0<vmassol>\u00a0(I discussed it with the dokuwiki guys actually)  \n14:34\u00a0<vmassol>\u00a0one reason is that it would slow down a lot the save  \n14:34\u00a0<evalica>\u00a0is there a way to skip the AntiSpam space to be indexed by Solr?  \n14:34\u00a0<vmassol>\u00a0(potentially)  \n14:35\u00a0<vmassol>\u00a0you won't see it  \n14:35\u00a0<vmassol>\u00a0only admins will  \n14:35\u00a0<vmassol>\u00a0the space is protected  \n14:35\u00a0<evalica>\u00a0so we rely on hidden  \n14:35\u00a0<vmassol>\u00a0no there are rights set  \n14:35\u00a0<evalica>\u00a0k  \n14:35\u00a0<vmassol>\u00a0even if users show hidden docs they won't see it  \n14:36\u00a0<evalica>\u00a0btw you need to create a page on e.x.o for this app  \n14:36\u00a0<vmassol>\u00a0nope  \n14:36\u00a0<vmassol>\u00a0:)  \n14:36\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/AntiSpam+Tool+Application  \n14:36\u00a0<vmassol>\u00a0fixing broken link  \n14:37\u00a0<evalica>\u00a0I'll change in jira to link to e.x.o instead of git (since e.x.o has links to git)  \n14:37\u00a0<vmassol>\u00a0ok  \n14:40\u00a0<cjd>\u00a0vmassol: you should add a botlet to allow us to ban people from irc :)  \n14:40\u00a0<cjd>\u00a0then authorize ansuz  \n14:41\u00a0<vmassol>\u00a0:)  \n14:41\u00a0<cjd>\u00a0because he has itchy trigger fingers, always  \n14:41\u00a0<vmassol>\u00a0hehe  \n14:44\u00a0<vmassol>\u00a0ok my tool told me that the keyword wasn't matching but I thought it was a bug, need to find why it's not matching now  \n14:45\u00a0<vmassol>\u00a0haha pretty clever actually  \n14:45\u00a0<vmassol>\u00a0creating jira  \n14:47\u00a0<vmassol>\u00a0@ev  \n14:47\u00a0<vmassol>\u00a0@evalica: your change is not correct I think  \n14:47\u00a0<evalica>\u00a0what do you mean? what change?  \n14:47\u00a0<vmassol>\u00a0I may be wrong but I think it would be overwritten every night  \n14:48\u00a0<vmassol>\u00a0it needs to be changed in the app  \n14:48\u00a0<evalica>\u00a0aaa for git  \n14:48\u00a0<vmassol>\u00a0and AFAIK jeanS has fixed it laready  \n14:48\u00a0<vmassol>\u00a0(Wednesday)  \n14:48\u00a0<evalica>\u00a0I think you need to release then  \n14:48\u00a0<vmassol>\u00a0nah  \n14:48\u00a0<vmassol>\u00a0not just for this  \n14:48\u00a0<vmassol>\u00a0but I have stuff I'd like to do over the we  \n14:48\u00a0<evalica>\u00a0so it will be reseted until the release  \n14:48\u00a0<vmassol>\u00a0yes  \n14:48\u00a0<evalica>\u00a0k  \n14:49\u00a0<vmassol>\u00a0FYI JeanS has fixed about 10-20 ...  \n14:49\u00a0<vmassol>\u00a0I think it's a bad idea to release  \n14:49\u00a0<vmassol>\u00a0with just this change  \n14:49\u00a0<vmassol>\u00a0it pushed users to update for nothing  \n14:49\u00a0<vmassol>\u00a0(with empty RN)  \n14:50\u00a0<evalica>\u00a0I agree  \n14:50\u00a0<vmassol>\u00a0k cool  \n14:53\u00a0<mflorea>\u00a0has quit  \n14:53\u00a0<mflorea1>\u00a0has joined #xwiki  \n15:15\u00a0<msmeria>\u00a0has quit  \n16:46\u00a0<Pbas>\u00a0has quit  \n17:05\u00a0<MasterPiece>\u00a0has joined #xwiki  \n17:24\u00a0<ClemensR>\u00a0has quit  \n17:31\u00a0<MasterPiece>\u00a0has quit  \n17:37\u00a0<KermitTheFragger>\u00a0has quit  \n18:18\u00a0<woshilapin>\u00a0has quit  \n18:20\u00a0<evalica>\u00a0has quit  \n18:28\u00a0<tmortagne>\u00a0has quit  \n18:31\u00a0<MasterPiece>\u00a0has joined #xwiki  \n18:45\u00a0<Denis>\u00a0has quit  \n19:02\u00a0<cjd>\u00a0We should find some way to put the spammers to work  \n19:02\u00a0<cjd>\u00a0or to indocternate them with some kind of idiology  \n19:03\u00a0<cjd>\u00a0maybe we should take some random tests from a bible school and put them up on the registration page (we can even filter for \"likely spammer\" ips)  \n19:04\u00a0<cjd>\u00a0in a few years we'll have a bunch of Christian spammers running around  \n19:06\u00a0<cjd>\u00a0do 1/2 bible study and 1/2 Atheism and they can have endless theological debates  \n19:21\u00a0<vmassol>\u00a0cjd: :) we should have them run some functional tests of xwiki somehow\u2026  \n19:21\u00a0<cjd>\u00a0oooooo I like it :D  \n19:23\u00a0<mflorea1>\u00a0has quit  \n19:25\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:25\u00a0<tmortagne>\u00a0has quit  \n19:37\u00a0<MasterPiece>\u00a0has quit  \n19:52\u00a0<abusenius>\u00a0has joined #xwiki  \n20:16\u00a0<Slashman>\u00a0has quit  \n20:45\u00a0<Enygma`>\u00a0has quit  \n20:46\u00a0<Enygma`>\u00a0has joined #xwiki  \n20:50\u00a0<cjd>\u00a0has quit  \n21:44\u00a0<cjd>\u00a0has joined #xwiki  \n22:39\u00a0<woshilapin>\u00a0has joined #xwiki  \n23:01\u00a0<vmassol>\u00a0has quit  \n23:10\u00a0<Enygma`>\u00a0has quit  \n23:15\u00a0<woshilapin>\u00a0has quit  \n23:46\u00a0<vmassol>\u00a0has joined #xwiki\n"}