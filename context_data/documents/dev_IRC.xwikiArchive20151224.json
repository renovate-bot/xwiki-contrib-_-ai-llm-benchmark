{"id": "dev:IRC.xwikiArchive20151224", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151224", "title": "IRC Archive for channel #xwiki on 24 December 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<mflorea>\u00a0has joined #xwiki  \n06:57\u00a0<msmeria>\u00a0has joined #xwiki  \n07:08\u00a0<Ramona1>\u00a0has joined #xwiki  \n07:35\u00a0<mflorea>\u00a0has quit  \n08:27\u00a0<cjd>\u00a0has quit  \n08:41\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:02\u00a0<vmassol>\u00a0has joined #xwiki  \n09:14\u00a0<cjd>\u00a0has joined #xwiki  \n09:34\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0good morning  \n09:47\u00a0<cjd>\u00a0gm  \n10:18\u00a0<vmassol>\u00a0ah was about to do this :)  \n10:19\u00a0<tmortagne>\u00a0there is still plenty to do, working on commons for now  \n10:19\u00a0<tmortagne>\u00a0you can take platform if you want  \n10:20\u00a0<vmassol>\u00a0yeah don't worry, I'm doing the release plan just now  \n10:20\u00a0<tmortagne>\u00a0ok  \n10:20\u00a0<vmassol>\u00a0(I wanted to do the unstable but you were restarting the ci so I moved to something lese)  \n10:23\u00a0<tmortagne>\u00a0vmassol: by the way looks like the @Unstable related checkstyle does not seems to work for methods  \n10:23\u00a0<vmassol>\u00a0I've probably only implemented it for classes  \n10:23\u00a0<tmortagne>\u00a0see https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/XWiki.java#L1611  \n10:23\u00a0<vmassol>\u00a0or there's a bug  \n10:34\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n10:35\u00a0<abusenius\\_>\u00a0has quit  \n10:36\u00a0<Denis>\u00a0has quit  \n11:16\u00a0<tmortagne>\u00a0vmassol: actually it's probably just because checkstyle is skipped in XWiki class  \n11:17\u00a0<vmassol>\u00a0ok  \n11:17\u00a0<vmassol>\u00a0something to fix then  \n11:18\u00a0<tmortagne>\u00a0vmassol: stop skipping checkstyle in XWiki class ?  \n11:18\u00a0<vmassol>\u00a0at least for this check  \n11:47\u00a0<vmassol>\u00a0has quit  \n11:47\u00a0<vmassol>\u00a0has joined #xwiki  \n12:23\u00a0<Ramona1>\u00a0has quit  \n12:25\u00a0<Ramona1>\u00a0has joined #xwiki  \n12:44\u00a0<vmassol>\u00a0ok I've moved all data to http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/WebHome :)  \n14:07\u00a0<Ramona1>\u00a0has quit  \n14:18\u00a0<vmassol>\u00a0weird that XWIKI-12944 hasn't been reported previously  \n15:06\u00a0<msmeria>\u00a0has quit  \n15:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n15:16\u00a0<DarkKnightCZ>\u00a0has quit  \n15:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n15:21\u00a0<tmortagne>\u00a0vmassol: I find the result of #displayUser macro a bit nicer than just the user avatar for something like http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/#HStatistics  \n15:22\u00a0<vmassol>\u00a0checking #displayUser  \n15:22\u00a0<tmortagne>\u00a0it's what user list field displayer use  \n15:22\u00a0<tmortagne>\u00a0so you also get a more standard result (at least closer to standard user property displayer)  \n15:23\u00a0<tmortagne>\u00a0(but would be nice to have a rendering macro of this)  \n15:24\u00a0<vmassol>\u00a0yeah having to use the html macro is not very nice  \n15:26\u00a0<vmassol>\u00a0indeed nicer I agree: http://playground.xwiki.org/xwiki/bin/view/Main/VMA  \n15:26\u00a0<vmassol>\u00a0code is a bit ugly  \n15:26\u00a0<vmassol>\u00a0|((({{html}}#displayUser($item.key){{/html}})))|$item.value  \n15:26\u00a0<vmassol>\u00a0note that caleb's avatar has a problem  \n15:27\u00a0<vmassol>\u00a0strange url: http://www.xwiki.org/xwiki/bin/download/XWiki/cjdelisle/vmassol2.png?width=30&height=30&keepAspectRatio=true ;)  \n15:28\u00a0<cjd>\u00a0heh  \n15:30\u00a0<vmassol>\u00a0note that we've lost the ability to click on the user but that's not too important  \n15:31\u00a0<vmassol>\u00a0tmortagne: do you know what the difference of the 2 names displayed for eachuser?  \n15:31\u00a0<vmassol>\u00a0they look the same  \n15:31\u00a0<vmassol>\u00a0I'd have expected the display name and the id  \n15:32\u00a0<tmortagne>\u00a0vmassol: \"we've lost the ability to click on the user\" that's weird, last time I used this displayer it was displaying a link  \n15:32\u00a0<tmortagne>\u00a0but I was using it in 7.3  \n15:32\u00a0<tmortagne>\u00a0maybe there is limitations or bugs in 7.1.1  \n15:33\u00a0<vmassol>\u00a0but shouldn't it use first name + last name instead of the id?  \n15:33\u00a0<vmassol>\u00a0(on the first line)  \n15:34\u00a0<tmortagne>\u00a0looks like it has a bug with cross wiki user display  \n15:35\u00a0<tmortagne>\u00a0see http://tuska.myxwiki.org/xwiki/bin/view/Test/UserDisplay/  \n15:35\u00a0<tmortagne>\u00a0first one is from main wiki and second one from current wiki  \n15:35\u00a0<tmortagne>\u00a0you get proper link and display name in second one  \n15:36\u00a0<tmortagne>\u00a0looks like the bug is still there in 7.3  \n15:36\u00a0<tmortagne>\u00a0it resolve the avatar properly but call getUserName() in current wiki probably  \n15:36\u00a0<tmortagne>\u00a0reporting it  \n15:37\u00a0<vmassol>\u00a0ok thanks  \n15:38\u00a0<vmassol>\u00a0there's the caleb bug to report too  \n15:39\u00a0<vmassol>\u00a0shown here: http://playground.xwiki.org/xwiki/bin/view/Main/VMA  \n15:40\u00a0<vmassol>\u00a0I wonder what's special with caleb :)  \n15:40\u00a0<cjd>\u00a0Somehow amusing that when you #displayUser(caleb) you get vmassol2.png  \n15:40\u00a0\\*\u00a0ansuz thinks back to if he's seen them both in the same room at the same time...  \n15:41\u00a0<vmassol>\u00a0initially I thought it was some contetx bug if you check http://playground.xwiki.org/xwiki/bin/view/Main/VMA it reproduces even though caleb is the first  \n15:41\u00a0<tmortagne>\u00a0XWIKI-12945  \n15:41\u00a0<vmassol>\u00a0ansuz: :) caleb is my pseudo when I want to start flame wars  \n15:41\u00a0<DarkKnightCZ>\u00a0has quit  \n15:42\u00a0<ansuz>\u00a0seems legit  \n15:43\u00a0<cjd>\u00a0We only sleep 2 hours per day, by day we're a quality minded Java Developer, by night a crazed party-junkey who likes C and never found a hack he couldn't do worse  \n15:47\u00a0<vmassol>\u00a0:)  \n15:56\u00a0<vmassol>\u00a0found the problem  \n15:56\u00a0<vmassol>\u00a0fixing  \n15:58\u00a0<vmassol>\u00a0fixed, committing  \n15:58\u00a0<vmassol>\u00a0FWIW what's special about caleb compared to the others is that he has an attachment on his profile page (without the avatar property set)  \n15:59\u00a0<cjd>\u00a0ahh, that explains it  \n15:59\u00a0<vmassol>\u00a0and fyi cjd the reason  \n15:59\u00a0<vmassol>\u00a0is that I'm logged in as my user  \n15:59\u00a0<cjd>\u00a0Ahh ok  \n15:59\u00a0<vmassol>\u00a0and my user avatar is displayed on the top right corner  \n16:00\u00a0<vmassol>\u00a0and calling userDisplay is setting some velocity vairable which leaks  \n16:00\u00a0<cjd>\u00a0mmm velocity :|  \n16:00\u00a0<vmassol>\u00a0thus when it's called again $avatarAttachment is not empty...  \n16:00\u00a0<vmassol>\u00a0what's strange though  \n16:00\u00a0<vmassol>\u00a0is that I thought that velcoity varaible set in macros were not leaking  \n16:01\u00a0<vmassol>\u00a0there must be somertihng I missed in the code somewhere  \n16:09\u00a0<tmortagne>\u00a0vmassol: they do leak, no such thing as local variable in velocity, not when using #set() at least  \n16:10\u00a0<vmassol>\u00a0hmmm  \n16:10\u00a0<vmassol>\u00a0I was pretty sure they was a local variable settings in velo  \n16:10\u00a0<tmortagne>\u00a0there is some special behavior with macro parameters but that seems pretty random from experience...  \n16:12\u00a0<cjd>\u00a0{{node}} One of these days, maybe we'll have a scripting language with scoping...  \n16:12\u00a0<OSIMasson>\u00a0has quit  \n16:13\u00a0<cjd>\u00a0{{node}} (function() {/\\* One of these days, maybe we'll have a scripting language with scoping... \\*/}).toString()  \n16:16\u00a0<vmassol>\u00a0any idea what this means:  \n16:16\u00a0<vmassol>\u00a0#elseif ($profileDoc.getObject('XWiki.XWikiGroups'))  \n16:16\u00a0<vmassol>\u00a0?  \n16:17\u00a0<vmassol>\u00a0it checks if a user profile doc has a XWikiGroups objecet but why?  \n16:18\u00a0<cjd>\u00a0hm in general it will spot the AllGroups object  \n16:19\u00a0<cjd>\u00a0or wait, no the groups page has the groups objects  \n16:19\u00a0<vmassol>\u00a0so your use doc doesn't have such an object  \n16:19\u00a0<vmassol>\u00a0which seems normal to me...  \n16:20\u00a0<vmassol>\u00a0anyway....  \n16:20\u00a0<cjd>\u00a0hmm maybe so you can do \u00a0\u00a0#displayUser() on a group and it will try to grab a reasonable photo for that group  \n16:20\u00a0<cjd>\u00a0that's the most logical thing for me  \n16:20\u00a0<vmassol>\u00a0yes it does  \n16:20\u00a0<vmassol>\u00a0that was added in https://github.com/xwiki/xwiki-platform/commit/0b31a22e63f52edd4eed3f5c4640fe4844e3e2ac  \n16:21\u00a0<vmassol>\u00a0but I don't understand the code under the if  \n16:21\u00a0<vmassol>\u00a0here: https://github.com/xwiki/xwiki-platform/blob/0600854333001aec39acf790e14d0db2e3804cd6/xwiki-platform-core/xwiki-platform-web/src/main/webapp/templates/macros.vm#L329-L329  \n16:21\u00a0<vmassol>\u00a0ah I know  \n16:21\u00a0<vmassol>\u00a0displayUser can be called on a group reference  \n16:21\u00a0<cjd>\u00a0\u00a0- \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return (getIntValue(\"usesList\") == 1);  \n16:21\u00a0<cjd>\u00a0\u00a0+ \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return getIntValue(META\\_PROPERTY\\_USES\\_LIST) == 1;  \n16:21\u00a0<cjd>\u00a0this drives me nuts  \n16:21\u00a0<vmassol>\u00a0so it's actually displayUserOrGroup  \n16:23\u00a0<cjd>\u00a0indeed  \n16:23\u00a0<vmassol>\u00a0so 3 bugs in a row on displaying user avatars, nice....  \n16:24\u00a0<vmassol>\u00a0tmortagne: re http://jira.xwiki.org/browse/XWIKI-12945  \n16:24\u00a0<vmassol>\u00a0it's missing 8.0-milestone-1 I think  \n16:25\u00a0<vmassol>\u00a0what about 6.4.x too?  \n16:25\u00a0<tmortagne>\u00a0we usually put 8.0M1 when 7.4 final is released  \n16:25\u00a0<vmassol>\u00a0not what I've seen this year  \n16:25\u00a0<tmortagne>\u00a0for 6.4.x the cherry pick was not working and I was too lazy  \n16:26\u00a0<vmassol>\u00a0ha :)  \n16:26\u00a0<Ramona1>\u00a0has joined #xwiki  \n16:26\u00a0<tmortagne>\u00a0it's not really a blocker bug since from what I understand in the history it's there since pretty much forever  \n16:27\u00a0<vmassol>\u00a0trying to rationalize it :)  \n16:27\u00a0<tmortagne>\u00a0a bit  \n16:27\u00a0<vmassol>\u00a0but don't worry I'd have done the same :)  \n16:27\u00a0<vmassol>\u00a0reminds me of https://twitter.com/benhuh/status/679878348395261952/photo/1 I love those biases...  \n16:28\u00a0<vmassol>\u00a0(you need to click on the image to get the full list)  \n16:32\u00a0<vmassol>\u00a0now back to my little puzzle about sorting a map on its values in velocity\u2026 :)  \n16:41\u00a0<cjd>\u00a0Zero Risk Bias is a great one because people concentrate on small risks (terrorism) or they discount the risk entirely, rarely think about the biggest benefit which is cheap ways to significantly reduce risk  \n16:42\u00a0<cjd>\u00a0I recall Thinking Fast and Slow made some justification that people are bad at thinking probability even when they're trying to think probability, even when trying to avoid biases  \n17:14\u00a0<tmortagne>\u00a0has quit  \n18:17\u00a0<KermitTheFragger>\u00a0has quit  \n18:34\u00a0<cjd>\u00a0has quit  \n19:19\u00a0<vmassol>\u00a0has quit  \n19:24\u00a0<cjd>\u00a0has joined #xwiki  \n20:07\u00a0<Ramona1>\u00a0has quit  \n23:20\u00a0<vmassol>\u00a0has joined #xwiki  \n23:21\u00a0<vmassol>\u00a0has quit  \n23:22\u00a0<vmassol>\u00a0has joined #xwiki  \n23:22\u00a0<vmassol>\u00a0has quit  \n23:23\u00a0<vmassol>\u00a0has joined #xwiki  \n23:23\u00a0<vmassol>\u00a0has quit\n"}