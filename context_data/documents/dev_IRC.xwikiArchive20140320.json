{"id": "dev:IRC.xwikiArchive20140320", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140320", "title": "IRC Archive for channel #xwiki on 20 March 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n00:06\u00a0<vmassol>\u00a0has quit  \n00:15\u00a0<risherry>\u00a0has quit  \n00:32\u00a0<vmassol>\u00a0has joined #xwiki  \n00:42\u00a0<sbaloul>\u00a0has quit  \n01:36\u00a0<OSIMasson>\u00a0has joined #xwiki  \n01:37\u00a0<OSIMasson>\u00a0has quit  \n01:38\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:13\u00a0<OSIMasson>\u00a0has quit  \n02:27\u00a0<Denis>\u00a0has quit  \n02:29\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:31\u00a0<OSIMasson>\u00a0has quit  \n02:38\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:45\u00a0<OSIMasson>\u00a0has quit  \n02:52\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:02\u00a0<OSIMasson>\u00a0has quit  \n03:36\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:36\u00a0<OSIMasson>\u00a0has left #xwiki  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:41\u00a0<Chuguniy>\u00a0has quit  \n05:40\u00a0<vmassol>\u00a0has quit  \n06:02\u00a0<Denis>\u00a0has quit  \n06:38\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n06:57\u00a0<sbaloul>\u00a0has joined #xwiki  \n06:59\u00a0<evalica>\u00a0has joined #xwiki  \n07:03\u00a0<mflorea>\u00a0has joined #xwiki  \n07:26\u00a0<polx>\u00a0has joined #xwiki  \n07:43\u00a0<polx>\u00a0has quit  \n07:58\u00a0<vmassol>\u00a0has joined #xwiki  \n08:07\u00a0<mflorea>\u00a0has quit  \n08:10\u00a0<mflorea>\u00a0has joined #xwiki  \n08:11\u00a0<mflorea>\u00a0vmassol: ping  \n08:11\u00a0<vmassol>\u00a0hi mflorea  \n08:11\u00a0<mflorea>\u00a0is there a way to serialize and resolve a document reference with locale?  \n08:12\u00a0<vmassol>\u00a0no  \n08:12\u00a0<mflorea>\u00a0:(  \n08:12\u00a0<vmassol>\u00a0there's no text format with the locale  \n08:12\u00a0<vmassol>\u00a0doesn't exist  \n08:12\u00a0<vmassol>\u00a0the concept of locale currently only exists at the Java Object level  \n08:12\u00a0<vmassol>\u00a0(ie DocumentReference)  \n08:12\u00a0<mflorea>\u00a0so if I want to target a specific locale with a request I have to send to parameters, the document reference and the locale  \n08:13\u00a0<vmassol>\u00a0yes  \n08:13\u00a0<vmassol>\u00a0or  \n08:13\u00a0<vmassol>\u00a0you create the DocumentReferene  \n08:13\u00a0<vmassol>\u00a0and add the locale  \n08:13\u00a0<vmassol>\u00a0that's hte best actually  \n08:13\u00a0<vmassol>\u00a0and is what we do in other places  \n08:13\u00a0<mflorea>\u00a0and?  \n08:13\u00a0<mflorea>\u00a0how do I parse it on the server?  \n08:14\u00a0<vmassol>\u00a0again, if you want to pass a ref and locale you can pass a documentreference as a single parameter of a method  \n08:14\u00a0<mflorea>\u00a0s/parse/resolve  \n08:14\u00a0<vmassol>\u00a0now if you ask user input  \n08:14\u00a0<mflorea>\u00a0I'm not talking about calling a method, I'm talking about submitting a request  \n08:15\u00a0<vmassol>\u00a0you'll need to ask for both ref and locale  \n08:15\u00a0<vmassol>\u00a0and add the locale  \n08:15\u00a0<vmassol>\u00a0as I said you cannot resolve/serialize w/ locales  \n08:15\u00a0<vmassol>\u00a0as there's no textual representation  \n08:15\u00a0<vmassol>\u00a0that would need to be invented  \n08:15\u00a0<mflorea>\u00a0it's a pain when you have a \"document picker\" where you can select multiple values, including document translations  \n08:16\u00a0<vmassol>\u00a0and it's not just locale  \n08:16\u00a0<vmassol>\u00a0it's also versions  \n08:16\u00a0<vmassol>\u00a0if you want to pick a given version of a doc  \n08:16\u00a0<vmassol>\u00a0yes it's a pain  \n08:17\u00a0<mflorea>\u00a0indeed, but that's not my case :)  \n08:17\u00a0<mflorea>\u00a0anyway, I'll find a way  \n08:17\u00a0<vmassol>\u00a0I proposed some textual representation options in the past on yhe list  \n08:17\u00a0<vmassol>\u00a0\\*the  \n08:17\u00a0<mflorea>\u00a0sending two parameters probably  \n08:17\u00a0<vmassol>\u00a0basically we need a way to define parameters  \n08:17\u00a0<mflorea>\u00a0reference parameters  \n08:18\u00a0<vmassol>\u00a0yes  \n08:18\u00a0<vmassol>\u00a0we have it at the java level but not at the text level  \n08:18\u00a0<vmassol>\u00a0something like:  \n08:18\u00a0<vmassol>\u00a0wiki:space.page[param1=value1,param2=value2]  \n08:18\u00a0<vmassol>\u00a0but not that we will have to break backward compat  \n08:18\u00a0<vmassol>\u00a0\\*note  \n08:19\u00a0<vmassol>\u00a0but could be done intelligently  \n08:19\u00a0<vmassol>\u00a0to not break much  \n08:19\u00a0<msmeria>\u00a0has joined #xwiki  \n08:19\u00a0<vmassol>\u00a0(for example checking for [\u2026] AND for 2 texts surrounded by an equal sign as a minimum  \n08:19\u00a0<vmassol>\u00a0)  \n08:19\u00a0<mflorea>\u00a0indeed  \n08:21\u00a0<vmassol>\u00a0was discussed quickly at http://markmail.org/thread/rjtoldp6wntf662h  \n08:22\u00a0<polx>\u00a0has joined #xwiki  \n08:24\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:47\u00a0<vmassol>\u00a0tmortagne: I'm here  \n08:48\u00a0<tmortagne>\u00a0found my window  \n08:48\u00a0<vmassol>\u00a0:)  \n08:48\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:48\u00a0<tmortagne>\u00a0do we have a release manager for 5.4.3 ?  \n08:48\u00a0<vmassol>\u00a0better loose one's window than one's mind ;)  \n08:49\u00a0<vmassol>\u00a0it's guillaumeD  \n08:49\u00a0<polx>\u00a0has quit  \n08:49\u00a0<tmortagne>\u00a0ok  \n08:51\u00a0<vmassol>\u00a0mflorea: are we ready for 5.4.3 release today?  \n08:52\u00a0<vmassol>\u00a0I see 2 issues are still open  \n08:52\u00a0<vmassol>\u00a0http://jira.xwiki.org/issues/?filter=12712&jql=category%20in%20(%22Top%20Level%20Projects%22)%20AND%20fixVersion%20in%20(%225.4.3%22)%20AND%20resolution%20in%20(Unresolved)%20AND%20component%20not%20in%20(%22Development%20Issues%20only%22)  \n08:52\u00a0<mflorea>\u00a0I'm not sure, I'm finishing http://jira.xwiki.org/browse/XWIKI-9595  \n09:01\u00a0<sbaloul>\u00a0has quit  \n09:07\u00a0<sbaloul>\u00a0has joined #xwiki  \n09:17\u00a0<Denis>\u00a0has joined #xwiki  \n09:21\u00a0<polx>\u00a0has joined #xwiki  \n09:21\u00a0<vmassol>\u00a0forgot to announce the XWiki Day today  \n09:21\u00a0<vmassol>\u00a0sorry about that  \n09:21\u00a0<vmassol>\u00a0so what do you want to do?  \n09:27\u00a0<vmassol>\u00a0what about a \"Violation Fixing Day\"?  \n09:27\u00a0<vmassol>\u00a0\"reduce # of violations. 12K right now on platform for ex (see http://sonar.xwiki.org/drilldown/issues/org.xwiki.platform:xwiki-platform)\"  \n09:28\u00a0<vmassol>\u00a0tmortagne, mflorea, Denis, evalica, wdyt?  \n09:29\u00a0<tmortagne>\u00a0Code Coverage would be nice  \n09:29\u00a0<evalica>\u00a0well\u2026 if we are doing this :) than I'm going to work on apps  \n09:29\u00a0<vmassol>\u00a0code coverage, ok for me  \n09:30\u00a0<vmassol>\u00a0unit tests level?  \n09:30\u00a0<vmassol>\u00a0or both unit and functional?  \n09:31\u00a0<vmassol>\u00a0both is best, it's just harder to measure  \n09:31\u00a0<vmassol>\u00a0ok we can count the # of tests added (unit and functional)  \n09:31\u00a0<tmortagne>\u00a0do we have easy metric for functional tests to do before after ?  \n09:31\u00a0<tmortagne>\u00a0it's easy with unit tests  \n09:32\u00a0<vmassol>\u00a0we can get the total #  \n09:32\u00a0<vmassol>\u00a0of tests that is  \n09:32\u00a0<vmassol>\u00a0it's easy to know how many more we've added  \n09:32\u00a0<tmortagne>\u00a0well coverage is more important than number of tests IMO  \n09:32\u00a0<vmassol>\u00a0and then sonar provides figures  \n09:32\u00a0<vmassol>\u00a0sure  \n09:32\u00a0<vmassol>\u00a0the only problem is that platform on sonar doesn't work becuase of VNC  \n09:32\u00a0<tmortagne>\u00a0that's for integration tests  \n09:32\u00a0<vmassol>\u00a0see http://sonar.xwiki.org/  \n09:33\u00a0<vmassol>\u00a0(overall coverage column)  \n09:36\u00a0<mflorea>\u00a0I'm fine with either of them, violations and code coverage  \n09:37\u00a0<vmassol>\u00a0mail sent  \n09:41\u00a0<tmortagne>\u00a0vmassol: like with the deprecation fixing day we should probably annonce what module we are starting to work on as a response to your mail  \n09:41\u00a0<vmassol>\u00a0fine  \n09:49\u00a0<mflorea>\u00a0vmassol: would be probably good to rewrite some of the existing unit tests using mockito  \n09:49\u00a0<vmassol>\u00a0mflorea: yes indeed, we should not add more tests using old ways  \n09:49\u00a0<vmassol>\u00a0if we want to add a new tests in a \"oldish\" test class, we should update the class  \n09:50\u00a0<mflorea>\u00a0yep  \n09:51\u00a0<tmortagne>\u00a0+1  \n09:59\u00a0<cjd>\u00a0has joined #xwiki  \n10:11\u00a0<mflorea>\u00a0has quit  \n10:13\u00a0<woshilapin>\u00a0has quit  \n10:20\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:20\u00a0<ClemensR>\u00a0has joined #xwiki  \n10:26\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n10:45\u00a0<mflorea>\u00a0has joined #xwiki  \n10:47\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:48\u00a0<msmeria1>\u00a0has joined #xwiki  \n10:49\u00a0<lucaa>\u00a0has joined #xwiki  \n10:52\u00a0<msmeria>\u00a0has quit  \n11:16\u00a0<lucaa>\u00a0has quit  \n11:54\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:11\u00a0<lucaa>\u00a0has quit  \n12:14\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:27\u00a0<cjd>\u00a0has joined #xwiki  \n12:41\u00a0<Slashman>\u00a0has joined #xwiki  \n12:43\u00a0<lucaa>\u00a0has joined #xwiki  \n13:35\u00a0<polx>\u00a0has quit  \n13:36\u00a0<polx>\u00a0has joined #xwiki  \n13:38\u00a0<polx>\u00a0has quit  \n13:42\u00a0<evalica>\u00a0has quit  \n13:44\u00a0<msmeria1>\u00a0gdelhumeau: hi  \n13:44\u00a0<gdelhumeau>\u00a0hi msmeria1  \n13:45\u00a0<msmeria1>\u00a0I see that after migrating to 5.4.3 I still don't see the templatexe subwiki in the Wiki Index  \n13:45\u00a0<msmeria1>\u00a0I remember talking to you about this  \n13:46\u00a0<msmeria1>\u00a0I migrated from 4.5.4 to 5.4.3-snapshot  \n13:48\u00a0<gdelhumeau>\u00a0it might be: http://jira.xwiki.org/browse/XWIKI-10091 isnt it?  \n13:49\u00a0<msmeria1>\u00a0gdelhumeau: yes, that's exactly the issue  \n13:49\u00a0<gdelhumeau>\u00a0we have not provided any fix about this  \n13:49\u00a0<msmeria1>\u00a0I thought it was supposed to be fixed  \n13:49\u00a0<gdelhumeau>\u00a0I think me need, once again, a migrator  \n13:49\u00a0<gdelhumeau>\u00a0WDYT tmortagne, vmassol, mflorea?  \n13:50\u00a0<vmassol>\u00a0why not list them?  \n13:50\u00a0<vmassol>\u00a0(instead of providing a migrator)  \n13:51\u00a0<vmassol>\u00a0we can't write a query that returns results when the prettyname is not defined?  \n13:52\u00a0<vmassol>\u00a0ok I've read the issue, so it seems the issue is the \"order by prettyname\"  \n13:54\u00a0<vmassol>\u00a0so we'll have the same issue if someone creates a wiki descriptor without a pretty name  \n13:54\u00a0<vmassol>\u00a0?  \n14:08\u00a0<tmortagne>\u00a0I doubt it since you will get empty string as a minimum I guess if you go trough the API  \n14:08\u00a0<tmortagne>\u00a0it's the general issue we have in many places with queries on object having missing properties  \n14:12\u00a0<polx>\u00a0has joined #xwiki  \n14:28\u00a0<vmassol>\u00a0gdelhumeau: so I guess this is a blocker for 5.4.3 ?  \n14:28\u00a0<vmassol>\u00a0I wonder why it wasn't scheduled for 5.4.3?  \n14:31\u00a0<andreeapopescu>\u00a0has quit  \n14:31\u00a0<msmeria1>\u00a0vmassol: hello  \n14:32\u00a0<msmeria1>\u00a0I'm looking at XWIKI-10114  \n14:32\u00a0<msmeria1>\u00a0I've tested on both 3.4m1 and 5.4.3 and don't see any issue  \n14:32\u00a0<msmeria1>\u00a0can you give me more details ?  \n14:37\u00a0<vmassol>\u00a0msmeria1: see https://github.com/xwiki/xwiki-platform/commit/f8e57df06de241cff9896d24ecd5e21f0c8640d0  \n14:38\u00a0<vmassol>\u00a0so the issue is when using the \"reference\" parameter  \n14:38\u00a0<vmassol>\u00a0as you can see at line 6402 it only checks for \"document\"  \n15:03\u00a0<polx\\_>\u00a0has joined #xwiki  \n15:03\u00a0<polx>\u00a0has quit  \n15:25\u00a0<vmassol>\u00a0gdelhumeau: ping, see message above  \n15:27\u00a0<gdelhumeau>\u00a0yep  \n15:27\u00a0<gdelhumeau>\u00a0I was looking at it  \n15:27\u00a0<gdelhumeau>\u00a0It seems a migrator seems necessary  \n15:27\u00a0<vmassol>\u00a0when will you be able to fix it? we're really late for 5.4.3  \n15:28\u00a0<vmassol>\u00a0(and thus becoming even later for 6.0 ;))  \n15:28\u00a0<gdelhumeau>\u00a0I just commit my stuff right now about Code coverage and I switch to it  \n15:28\u00a0<vmassol>\u00a0mflorea: any ETA on your side for 5.4.3? yesterday you mentioend you'd have finished yesterday so I assume you're close?  \n15:29\u00a0<vmassol>\u00a0gdelhumeau: we need your fix before tommorrow ideally because you're not here tomorrow and we need to release  \n15:30\u00a0<mflorea>\u00a0I'm close, hope to finish today  \n15:37\u00a0<msmeria1>\u00a0has quit  \n15:56\u00a0<polx>\u00a0has quit  \n16:11\u00a0<sbaloul>\u00a0Hi everyone,  \n16:12\u00a0<sbaloul>\u00a0I tried to release forum application, unfortunately, maven release:perform fails due to this rule :  \n16:12\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<rules>  \n16:12\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<evaluateBeanshell>  \n16:12\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<message>Missing Javadoc JAR</message>  \n16:12\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</evaluateBeanshell>  \n16:13\u00a0<sbaloul>\u00a0in the plugin org.apache.maven.plugins:maven-enforcer-plugin:1.0.1  \n16:13\u00a0<sbaloul>\u00a0maven message :  \n16:13\u00a0<sbaloul>\u00a0[INFO] --- maven-enforcer-plugin:1.0.1:enforce (enforce-javadoc-exists) @ application-forum ---  \n16:13\u00a0<vmassol>\u00a0sburjan: you should use pastebin, gist, etc  \n16:14\u00a0<vmassol>\u00a0;)  \n16:14\u00a0<sbaloul>\u00a0of course  \n16:14\u00a0<vmassol>\u00a0(next time)  \n16:14\u00a0<sbaloul>\u00a0:)  \n16:14\u00a0<sbaloul>\u00a0Thanks for tip  \n16:14\u00a0<sbaloul>\u00a0As I'm running maven under windows os, the condition in the rule always fails.  \n16:14\u00a0<vmassol>\u00a0your project is a xar  \n16:14\u00a0<sbaloul>\u00a0yes  \n16:14\u00a0<vmassol>\u00a0so I'm not sure why the rule fails  \n16:14\u00a0<tmortagne>\u00a0yep seems weird  \n16:15\u00a0<tmortagne>\u00a0what version of maven are you using ?  \n16:15\u00a0<sbaloul>\u00a0this fails :  \n16:15\u00a0<vmassol>\u00a0maybe windows  \n16:15\u00a0<vmassol>\u00a0you seem to be on windows  \n16:15\u00a0<vmassol>\u00a0it's very possible it doesn't work on windows  \n16:15\u00a0<sbaloul>\u00a0because it can be parsed as JAVA OR GROOVY  \n16:15\u00a0<vmassol>\u00a0as I can see there's a mix of \\\u00a0and /  \n16:16\u00a0<vmassol>\u00a0now the File() shouldn't even be evaluated normally  \n16:16\u00a0<sbaloul>\u00a0the \\ must be replaced by \\\\  \n16:16\u00a0<tmortagne>\u00a0it should not even try to find the javadoc so windows should not be an issue (a this mix works on windows anyway)  \n16:16\u00a0<sbaloul>\u00a0int \" \"  \n16:16\u00a0<sbaloul>\u00a0in the \" \"  \n16:16\u00a0<vmassol>\u00a0what JDK are you using?  \n16:17\u00a0<sbaloul>\u00a0I used both 7 and 6  \n16:17\u00a0<sbaloul>\u00a0I tried the both ones  \n16:17\u00a0<sbaloul>\u00a0\"a\\a\\\" is syntax error in java  \n16:17\u00a0<sbaloul>\u00a0the correct one is \"a\\\\a\\\\a\"  \n16:18\u00a0<sbaloul>\u00a0so why the condition fail in windows  \n16:18\u00a0<sbaloul>\u00a0because path use \\  \n16:18\u00a0<tmortagne>\u00a0yes it's probably because we end up with \\ for the base path in windows  \n16:20\u00a0<cjd>\u00a016:14 < sbaloul> As I'm running maven under windows os \u00a0<-- if there's any way at all that you can change this, overall you'll find your life to be much more pleasent afterwords.  \n16:20\u00a0<tmortagne>\u00a0:)  \n16:20\u00a0<sbaloul>\u00a0:)  \n16:20\u00a0<tmortagne>\u00a0(but true, doing command line on Windows is a nightmare compared to any Unix)  \n16:21\u00a0<vmassol>\u00a0btw you should use cygwin under windows for building xwiki or you'll have issues  \n16:21\u00a0<vmassol>\u00a0(with long path names)  \n16:21\u00a0<tmortagne>\u00a0I don't thin he have very long path in this plugin :)  \n16:22\u00a0<vmassol>\u00a0actually that's not true  \n16:22\u00a0<vmassol>\u00a0he'll have problems when running XE  \n16:22\u00a0<vmassol>\u00a0with long path names in the xwiki data dir  \n16:22\u00a0<vmassol>\u00a0;)  \n16:22\u00a0<sbaloul>\u00a0I'm going to use a ubuntu vmware  \n16:22\u00a0<sbaloul>\u00a0I'm installing git and maven  \n16:22\u00a0<tmortagne>\u00a0note that long path issue is now fixed  \n16:22\u00a0<tmortagne>\u00a0see https://github.com/msysgit/git/pull/85  \n16:22\u00a0<tmortagne>\u00a0in git 1.9  \n16:22\u00a0<vmassol>\u00a0so that you can fix our build on windows!  \n16:22\u00a0<vmassol>\u00a0:)  \n16:23\u00a0<vmassol>\u00a0it would be nice that it work on window  \n16:23\u00a0<vmassol>\u00a0\\*windows  \n16:23\u00a0<sbaloul>\u00a0Ok  \n16:25\u00a0<vmassol>\u00a0so we need to replace \\\u00a0with / in ${project.build.directory} IMO  \n16:25\u00a0<vmassol>\u00a0for: <condition>(\"${project.packaging}\" != \"jar\") || (\"${project.packaging}\" == \"jar\" &amp;&amp; new java.io.File(\"${project.build.directory}/${project.build.finalName}-javadoc.jar\").exists())</condition>  \n16:25\u00a0<vmassol>\u00a0I would have expected ${project.build.directory} to contain only \"/\"  \n16:26\u00a0<vmassol>\u00a0since this is from java  \n16:26\u00a0<vmassol>\u00a0and in java the separator is \"/\"  \n16:26\u00a0<tmortagne>\u00a0vmassol: no  \n16:26\u00a0<tmortagne>\u00a0the separator is not / in java  \n16:26\u00a0<tmortagne>\u00a0it depends of the system, there is no special java path separator  \n16:26\u00a0<vmassol>\u00a0it is /  \n16:27\u00a0<vmassol>\u00a0all the java api uses \"/\"  \n16:27\u00a0<tmortagne>\u00a0what java API ?  \n16:27\u00a0<vmassol>\u00a0File, etc  \n16:27\u00a0<vmassol>\u00a0everything in java always use \"/\"  \n16:28\u00a0<cjd>\u00a0Windows will accept /  \n16:28\u00a0<cjd>\u00a0but it will always provide crazy \\  \n16:28\u00a0<vmassol>\u00a0sure but even indepently of this cjd  \n16:29\u00a0<ClemensR>\u00a0Java under windows seems even to accept all kind if crazy combinations between \\ and / \u00a0in my experience  \n16:29\u00a0<tmortagne>\u00a0vmassol: I don't think you read the javadoc  \n16:29\u00a0<tmortagne>\u00a0the separator depend on the system in Java  \n16:29\u00a0<cjd>\u00a0http://stackoverflow.com/a/2417546  \n16:29\u00a0<tmortagne>\u00a0\"The default name-separator character is defined by the system property <code>file.separator</code>, and is made available in the public static fields <code>{@link #separator}</code> and <code>{@link #separatorChar}</code> of this class.\"  \n16:29\u00a0<cjd>\u00a0looks like vmassol is correct, Today I Learned....  \n16:29\u00a0<sbaloul>\u00a0maven uses \"\\\" as file separator on windows, I'm not sur, but the parameter ${project.build.directory} contains \\ as separator  \n16:30\u00a0<vmassol>\u00a0tmortagne: that's something else  \n16:30\u00a0<tmortagne>\u00a0ClemensR: it's not java, windows itself accept /  \n16:30\u00a0<vmassol>\u00a0it's not because java defined path.separator that have you to use it  \n16:30\u00a0<ClemensR>\u00a0ah, ok, thats why :)  \n16:30\u00a0<vmassol>\u00a0it's for when you need to  \n16:30\u00a0<vmassol>\u00a0for example  \n16:30\u00a0<vmassol>\u00a0when you have some user input  \n16:30\u00a0<vmassol>\u00a0but if you use the java api I believe you just need to use \"/\"  \n16:31\u00a0<cjd>\u00a0``This also might be a problem with the performance, since you are expecting the separator to be converted into something else at runtime.'' <-- comment of the day  \n16:31\u00a0<vmassol>\u00a0well doing complex replaces is not better from performance POV ;)  \n16:32\u00a0<vmassol>\u00a0I wouldn't use this as something to care about  \n16:32\u00a0<cjd>\u00a0yeah  \n16:32\u00a0<vmassol>\u00a0I've always used \"/\" and I've always been happy so far\u2026  \n16:32\u00a0<cjd>\u00a0windows accepts it so it's ok, just be careful of the crap it will provide you with when you ask for a file's path  \n16:33\u00a0<sbaloul>\u00a0jvm converts paths according to underlying os  \n16:33\u00a0<vmassol>\u00a0yep  \n16:33\u00a0<sbaloul>\u00a0but in java code we use only \"/\"  \n16:33\u00a0<vmassol>\u00a0exactly  \n16:34\u00a0<sbaloul>\u00a0but in java that runs on windows accepts \\ as seprator too  \n16:35\u00a0<vmassol>\u00a0sure but then you need to use File.SEPARATOR as otherwise you're becoming os-specific  \n16:35\u00a0<vmassol>\u00a0(and you need to escape it ofc)  \n16:35\u00a0<polx>\u00a0has joined #xwiki  \n16:36\u00a0<cjd>\u00a0For me, seeing File.SEPERATOR is a sign that someone has too much time on their hands...  \n16:36\u00a0<vmassol>\u00a0yup  \n17:04\u00a0<polx>\u00a0has quit  \n17:09\u00a0<sbaloul>\u00a0I think this could be a solution  \n17:09\u00a0<sbaloul>\u00a0http://hastebin.com/yasuxopede.xml  \n17:09\u00a0<sbaloul>\u00a0the plugin usage (that I used to make replacement) http://mojo.codehaus.org/build-helper-maven-plugin/usage.html  \n17:25\u00a0<vmassol>\u00a0this is too compelx sbaloul  \n17:25\u00a0<vmassol>\u00a0you just need to replace the chars  \n17:25\u00a0<vmassol>\u00a0you replace File.SEPARATOR by \"/\"  \n17:25\u00a0<vmassol>\u00a0or \\ by /  \n17:25\u00a0<vmassol>\u00a0using beanshell  \n17:31\u00a0<sbaloul>\u00a0Ok Vincent, I'll try to use File.SEPARATOR using beanshell  \n17:34\u00a0<sbaloul>\u00a0vmassol : if you think about using \"${project.build.directory}\".replaceAll(\"\\\\\\\\\", \"/\")  \n17:34\u00a0<sbaloul>\u00a0in condition  \n17:34\u00a0<sbaloul>\u00a0that won't be work  \n17:35\u00a0<sbaloul>\u00a0we get the same issue as we have just had  \n17:37\u00a0<sbaloul>\u00a0\"${project.build.directory}\".replaceAll(\"\\\\\\\\\", \"/\") ===> \"D:\\p1\\p2\\p3\".replaceAll(\"\\\\\\\\\", \"/\")  \n17:39\u00a0<tmortagne>\u00a0you sure ${project.build.directory} is resolved before beanshell script is executed ?  \n17:39\u00a0<sbaloul>\u00a0\u00a0\"D:\\p1\\p2\\p3\" this string doesn't follows java syntax (to put \\ in literal string we have to use \\\\ )  \n17:39\u00a0<sbaloul>\u00a0Yes  \n17:40\u00a0<tmortagne>\u00a0then yes it's going to be hard  \n17:40\u00a0<sbaloul>\u00a0message of maven :  \n17:40\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0[WARNING] Rule 0: org.apache.maven.plugins.enforcer.EvaluateBeanshell failed with message:  \n17:40\u00a0<sbaloul>\u00a0\u00a0\u00a0\u00a0\u00a0Couldn't evaluate condition: (\"xar\" != \"jar\") || (\"xar\" == \"jar\" && new java.io.File(\"D:\\dev\\git\\xwiki-app\\application-forum2\\target\\checkout\\target/application-forum-1.1-SNAPSHOT-javadoc.jar\").exists())  \n17:40\u00a0<tmortagne>\u00a0right  \n17:40\u00a0<sbaloul>\u00a0I suggest this solution http://hastebin.com/yasuxopede.xml  \n17:41\u00a0<sbaloul>\u00a0but according to vmassol, it's too complex  \n17:42\u00a0<Chuguniy>\u00a0has joined #xwiki  \n17:51\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n17:55\u00a0<OSIMasson>\u00a0has joined #xwiki  \n17:59\u00a0<woshilapin>\u00a0has quit  \n18:00\u00a0<tmortagne>\u00a0has quit  \n18:10\u00a0<polx>\u00a0has joined #xwiki  \n18:10\u00a0<polx>\u00a0has quit  \n18:13\u00a0<ClemensR>\u00a0anyone knows where to look how stable the tests are currently ?  \n18:13\u00a0<gdelhumeau>\u00a0vmassol: XWIKI-10091 fixed  \n18:13\u00a0<ClemensR>\u00a0I would like to check in a new integration test - with my luck I am sure to break something ....  \n18:18\u00a0<polx>\u00a0has joined #xwiki  \n18:18\u00a0<polx>\u00a0has quit  \n18:20\u00a0<ClemensR>\u00a0I guess I better wait till tomorrow with pushing my stuff ...  \n18:21\u00a0<cjd>\u00a0has quit  \n18:22\u00a0<lucaa>\u00a0has quit  \n18:31\u00a0<polx>\u00a0has joined #xwiki  \n18:37\u00a0<lucaa>\u00a0has joined #xwiki  \n18:40\u00a0<vmassol>\u00a0gdelhumeau: cool  \n18:40\u00a0<vmassol>\u00a0ClemensR: ci.xwiki.org  \n18:40\u00a0<vmassol>\u00a0not in a good shape ATM  \n18:41\u00a0<ClemensR>\u00a0ah, ok, its still god old jenkins \u00a0.... the activeinstall test that fails there is nothing I can reproduce locally  \n18:41\u00a0<vmassol>\u00a0seems thomas broke stuff  \n18:41\u00a0<vmassol>\u00a0activeinstalls fails?  \n18:41\u00a0<vmassol>\u00a0java.lang.NoClassDefFoundError: Failed to get fields for class [org.xwiki.extension.repository.aether.internal.AetherExtensionRepositoryFactory] because the class [org/codehaus/plexus/component/repository/exception/ComponentLookupException] couldn't be found in the ClassLoader.  \n18:42\u00a0<vmassol>\u00a0that's probably related to the change thomas did  \n18:42\u00a0<vmassol>\u00a0we updated maven  \n18:42\u00a0<vmassol>\u00a0s/we/he  \n18:42\u00a0<vmassol>\u00a0so all tests are going to fail since XE doesn't start  \n18:42\u00a0<vmassol>\u00a0because of this  \n18:42\u00a0<ClemensR>\u00a0the failing module in xwiki-platform is \"XWiki Platform - Active Installs - Tests - Functional Tests\" - see http://ci.xwiki.org/job/xwiki-platform/5165/consoleText (very long log ...)  \n18:43\u00a0<ClemensR>\u00a0but these tests pass locally ... so it is maybe a flicker  \n18:43\u00a0<ClemensR>\u00a0anyway, I see I better wait for tomorrow or next week, when the dust hopefully has set  \n18:44\u00a0<vmassol>\u00a0where od you see it failing?  \n18:44\u00a0<vmassol>\u00a0it's passing on http://ci.xwiki.org/job/xwiki-platform/5166/consoleFull  \n18:44\u00a0<GuillaumeF>\u00a0has quit  \n18:44\u00a0<vmassol>\u00a0Tests run: 1, Failures: 0, Errors: 0, Skipped: 0  \n18:44\u00a0<mflorea>\u00a0has quit  \n18:45\u00a0<vmassol>\u00a0you can search for \"org.xwiki.activeinstalls.test.ui.AllTests\"  \n18:45\u00a0<ClemensR>\u00a0ah, good, then it passed on the next run, and it was just a fluke  \n18:45\u00a0<ClemensR>\u00a0it runs for me locally, too ... so it was just jenkins in bad mood, as usual  \n18:46\u00a0<vmassol>\u00a0it wasn't an activeinstall issue  \n18:46\u00a0<vmassol>\u00a0but a packager plugin ussue  \n18:46\u00a0<vmassol>\u00a0Caused by: java.io.FileNotFoundException: JAR entry META-INF/components.txt not found in /home/hudsonagent/hudson\\_root/workspace/xwiki-platform/.repository/org/xwiki/commons/xwiki-commons-component-api/6.0-SNAPSHOT/xwiki-commons-component-api-6.0-SNAPSHOT.jar  \n18:46\u00a0<vmassol>\u00a0actually not even a packager issue  \n18:46\u00a0<vmassol>\u00a0I got this one too and I fixed it locally by removing the bad dependency from my local repo  \n18:47\u00a0<vmassol>\u00a0(not this exact same issue but something similar)  \n18:47\u00a0<vmassol>\u00a0I don't know the reason for it  \n18:47\u00a0<vmassol>\u00a0so  \n18:47\u00a0<vmassol>\u00a0the issue that exist now is the aether issue  \n18:47\u00a0<vmassol>\u00a0which prevents XE to start  \n18:48\u00a0<lucaa>\u00a0has quit  \n18:50\u00a0<polx>\u00a0has quit  \n19:00\u00a0<lucaa>\u00a0has joined #xwiki  \n19:03\u00a0<ClemensR>\u00a0has quit  \n19:04\u00a0<lucaa>\u00a0has quit  \n19:26\u00a0<Slashman>\u00a0has quit  \n19:49\u00a0<OSIMasson>\u00a0has quit  \n19:55\u00a0<sbaloul>\u00a0has quit  \n19:58\u00a0<gdelhumeau>\u00a0has quit  \n19:59\u00a0<lucaa>\u00a0has joined #xwiki  \n20:05\u00a0<lucaa>\u00a0has quit  \n20:08\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n20:22\u00a0<sbaloul>\u00a0has joined #xwiki  \n20:46\u00a0<vmassol>\u00a0has quit  \n20:59\u00a0<sbaloul>\u00a0has quit  \n21:07\u00a0<andreeapopescu>\u00a0has quit  \n21:27\u00a0<polx>\u00a0has joined #xwiki  \n22:36\u00a0<polx\\_>\u00a0has joined #xwiki  \n22:39\u00a0<polx>\u00a0has quit  \n22:55\u00a0<lucaa>\u00a0has joined #xwiki  \n22:57\u00a0<vmassol>\u00a0has joined #xwiki  \n23:01\u00a0<vmassol>\u00a0has quit  \n23:26\u00a0<OSIMasson>\u00a0has joined #xwiki  \n23:42\u00a0<OSIMasson>\u00a0has left #xwiki  \n23:57\u00a0<vmassol>\u00a0has joined #xwiki\n"}