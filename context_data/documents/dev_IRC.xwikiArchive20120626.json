{"id": "dev:IRC.xwikiArchive20120626", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120626", "title": "IRC Archive for channel #xwiki on 26 June 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:15\u00a0<polx>\u00a0has quit  \n00:16\u00a0<polx>\u00a0has joined #xwiki  \n00:16\u00a0<polx>\u00a0has quit  \n00:49\u00a0<Enygma`>\u00a0has quit  \n01:33\u00a0<AndreiHalici>\u00a0has quit  \n01:38\u00a0<AndreiHalici>\u00a0has joined #xwiki  \n01:58\u00a0<ssavi>\u00a0has quit  \n02:23\u00a0<ssavi>\u00a0has joined #xwiki  \n02:29\u00a0<tekzilla>\u00a0has quit  \n02:31\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:46\u00a0<sasinda>\u00a0has joined #xwiki  \n04:38\u00a0<sdumitriu>\u00a0has quit  \n04:56\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:09\u00a0<ssavi>\u00a0sdumitriu: Hi  \n05:10\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n05:12\u00a0<sdumitriu>\u00a0has quit  \n05:20\u00a0<ssavi>\u00a0sdumitriu1: Hi  \n05:41\u00a0<sasinda>\u00a0has left #xwiki  \n06:18\u00a0<CIA-35>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r0527042\u000f https://github.com/xwiki/xwiki-platform/commit/0527042bfc8dea2d5dd4b1491f9f5b24d8ea57d9 \u000f/ (7 files):\u000f XWIKI-7971: HTML markup visible in the document title when copying, renaming, editing objects, browsing history and other actions - http://git.io/1llfFQ  \n06:18\u00a0<CIA-35>\u00a0Sergiu Dumitriu\u000f stable-4.1.x\u000f \\* r7027987\u000f https://github.com/xwiki/xwiki-platform/commit/70279874f3091a913dc01efe9c2be763b99a6f77 \u000f/ (7 files):\u000f XWIKI-7971: HTML markup visible in the document title when copying, renaming, editing objects, browsing history and other actions - http://git.io/ZGAtJw  \n06:24\u00a0<sdumitriu1>\u00a0ssavi: Hi  \n06:39\u00a0<polx>\u00a0has joined #xwiki  \n07:04\u00a0<Denis>\u00a0has joined #xwiki  \n07:06\u00a0<Denis2>\u00a0has quit  \n08:08\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:10\u00a0<sdumitriu1>\u00a0has quit  \n08:10\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:12\u00a0<sdumitriu>\u00a0has quit  \n08:30\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:37\u00a0<mflorea>\u00a0has joined #xwiki  \n08:39\u00a0<polx\\_>\u00a0has joined #xwiki  \n08:44\u00a0<polx>\u00a0has quit  \n08:44\u00a0<polx\\_>\u00a0is now known as <polx>  \n08:49\u00a0<evalica>\u00a0has joined #xwiki  \n09:18\u00a0<vmassol>\u00a0has joined #xwiki  \n09:21\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:22\u00a0<SvenDowideit\\_>\u00a0has joined #xwiki  \n09:22\u00a0<SvenDowideit>\u00a0has quit  \n09:22\u00a0<SvenDowideit\\_>\u00a0is now known as <SvenDowideit>  \n09:29\u00a0<sburjan>\u00a0has joined #xwiki  \n09:39\u00a0<Inge->\u00a0has quit  \n09:44\u00a0<Inge->\u00a0has joined #xwiki  \n09:46\u00a0<vmassol>\u00a0good morning  \n09:46\u00a0<vmassol>\u00a0hmm we have a problem for deleting that page  \n09:46\u00a0<vmassol>\u00a0I've tried http://www.xwiki.org/xwiki/bin/delete/%26%2326477%3B/WebHome  \n09:46\u00a0<vmassol>\u00a0but it doesn't work  \n09:47\u00a0<vmassol>\u00a0removing the spammer for now  \n10:11\u00a0<+sburjan>\u00a0Hello. I am running our ui-tests on Chrome, and I have in the console messages like: 2012-06-26 11:03:44,932 [http://localhost:8080/xwiki/bin/edit/LiveTableEditorTest/testDeprecatedColumns?form\\_token=usW3uYYlgEFgETJwoaIuQw&AppWithinMinutes.LiveTableClass\\_0\\_class=XWiki.XWikiUsers&template=AppWithinMinutes.LiveTableTemplate&editor=inline&AppWithinMinutes.LiveTableClass\\_0\\_columns=doc.name+foo&] WARN \u00a0o.x.c.i.DefaultCSRFToken \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- CSRFToken: Secret token ve  \n10:11\u00a0<+sburjan>\u00a0rification failed, token: \"usW3uYYlgEFgETJwoaIuQw\", stored token: \"K5n6NbJNc7M8P3xFn96gww\"  \n10:12\u00a0<+sburjan>\u00a0I get this in other tests too, not only App Within Minutes.  \n10:20\u00a0<vmassol>\u00a0not good  \n10:26\u00a0<vmassol>\u00a0cjd: good morning  \n10:26\u00a0<vmassol>\u00a0I think we should go ahead with the 4.1.2 release  \n10:27\u00a0<vmassol>\u00a0since we didn't get an answer from sdumitriu  \n10:27\u00a0<vmassol>\u00a0I've seen a commit from sdumitriu yesterday on 4.1.x, let's hope he didn't break anything  \n10:28\u00a0<+sburjan>\u00a0vmassol: ok, so I get this error in a lot of tests, even if some of the tests pass. tmortagne is thinking that is is something related to Chrome and public void recacheSecretToken() .. recaching the token  \n10:29\u00a0<+sburjan>\u00a0I've hit a dead end with chrome in this case.  \n10:29\u00a0<+sburjan>\u00a0don't know how to even report this :(  \n10:30\u00a0<vmassol>\u00a0why not create a jira issue with exactyly what you've written above?  \n10:31\u00a0<+sburjan>\u00a0okay, dunno it if is enough for a dev ....  \n10:31\u00a0<+sburjan>\u00a0but doing it  \n10:31\u00a0<vmassol>\u00a0you say it's reproducible all the time  \n10:31\u00a0<vmassol>\u00a0how to reproduce is all that counts for a dev  \n10:31\u00a0<+tmortagne>\u00a0sburjan: yesy create a jira issue about it, important thing is to point one test that always fail because of it and we will try to reproduce an fix it  \n10:32\u00a0<+sburjan>\u00a0let me try to find a test that fails always  \n10:34\u00a0<ssavi>\u00a0has quit  \n10:35\u00a0<+sburjan>\u00a0it is gonna be hard, because it seems there is a test that breaks something, and after, a lot of CSRF token erros in other tests  \n10:36\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r91217f8\u000f https://github.com/xwiki/xwiki-commons/commit/91217f8129611f16b59836e1fa7fc526068b9ee9 \u000f/ (3 files in 2 dirs):\u000f [test] Make RepositoryUtil partilally usable without components (initialize and copy repositories and extensions) - http://git.io/TMAcTg  \n10:37\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r96dc8c2\u000f https://github.com/xwiki/xwiki-platform/commit/96dc8c27825fa5910a4b0809b072b93eb00a709f \u000f/ xwiki-platform-core/xwiki-platform-test/src/main/java/org/xwiki/test/ui/PersistentTestContext.java :\u000f XWIKI-7972: Allow to add custom properties in PersistentTestContext - http://git.io/ywMzZg  \n10:37\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* raf507c7\u000f https://github.com/xwiki/xwiki-platform/commit/af507c789f21d89fd42e64d415e037a6a8517ec1 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-handlers/xwiki-platform-extension-handler-xar/src/test/java/org/xwiki/extension/xar/XarExtensionHandlerTest.java :\u000f [test] Follow RespositoryUtil refactoring - http://git.io/6FpF2w  \n10:41\u00a0<ssavi>\u00a0has joined #xwiki  \n10:44\u00a0<+sburjan>\u00a0I am unable to find a test :(  \n10:44\u00a0<+sburjan>\u00a0individual tests seem to work fine  \n10:45\u00a0<vmassol>\u00a0again just explain how to reproduce it  \n10:45\u00a0<vmassol>\u00a0the steps to reproduce can involve more than 1 test it's ok  \n10:46\u00a0<+sburjan>\u00a0ok. iexplaining would involve running the whole suite and then hunting for this issue. I am going to rerun the whole suite, trying to see the first appearance of the CSRF Resent request page  \n10:49\u00a0<vmassol>\u00a0guys do we move contrib projects to retired or do we just leave them where they are with a READM that they are retried (seems the easiest maye)? I don't recally if we've agreed anything about that  \n10:49\u00a0<vmassol>\u00a0I'm referring to the jira macro repo on contrin  \n10:49\u00a0<vmassol>\u00a0contrib  \n10:49\u00a0<vmassol>\u00a0(the issue is the history)  \n10:49\u00a0<vmassol>\u00a0FTM I'll just edit the README  \n10:53\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r038020c\u000f https://github.com/xwiki/xwiki-commons/commit/038020c2a18e6dfc9539819db193c814cf70d55f \u000f/ (2 files):\u000f [test] Makes easier to access test extensions - http://git.io/KVU1ZA  \n10:55\u00a0<+tmortagne>\u00a0vmassol: I don't think we agreed anything in this but I don't see the need to move them to retired, contrib already mean that we are not officially supporting it so a README should be ok  \n10:55\u00a0<vmassol>\u00a0yep agreed  \n10:57\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r97b171d\u000f https://github.com/xwiki/xwiki-commons/commit/97b171da561f4eda70794e5a648ce5754e0b1963 \u000f/ (2 files):\u000f [tests] Forgot some refactoring - http://git.io/TA3P3g  \n10:59\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* rab9f080\u000f https://github.com/xwiki/xwiki-enterprise/commit/ab9f080e72c9295e888d1d32d45639a64e92b35d \u000f/ (5 files in 2 dirs):\u000f XE-1196: Add repository test helpers - http://git.io/zMudsQ  \n10:59\u00a0<+sburjan>\u00a0I am reading here on how to run 2 tests: http://maven.apache.org/plugins/maven-surefire-plugin/examples/single-test.html. I am trying with mvn clean install -Pchrome -Dtest=TemplateTest, AnnotationsTest test, but I get an error  \n11:00\u00a0<+sburjan>\u00a0Unknown lifecycle phase \"AnnotationsTest\". You must specify a valid lifecycle phase or a goal in the format <plugin-prefix>:<goal> or <plugin-group-id>:<plugin-artifact-id>[:<plugin-version>]:<goal>.  \n11:00\u00a0<@cjd>\u00a0Good morning, anything still holding up 422?  \n11:00\u00a0<+sburjan>\u00a0what am I missing ?  \n11:01\u00a0<@cjd>\u00a0err 412  \n11:01\u00a0<vmassol>\u00a0cjd: gm, see my message above  \n11:01\u00a0<vmassol>\u00a020mn ago  \n11:02\u00a0<vmassol>\u00a0no 30 mn ago  \n11:02\u00a0<vmassol>\u00a0;)  \n11:02\u00a0<@cjd>\u00a0if we do 7 more point releases, we'll have 419 and we can spam people and tell them to install it to collect their great uncle's inheritence :)  \n11:02\u00a0<vmassol>\u00a0hehe  \n11:02\u00a0<@cjd>\u00a0cool, starting now  \n11:03\u00a0<vmassol>\u00a0401 is a nice number too  \n11:03\u00a0<vmassol>\u00a0already done that one though :)  \n11:03\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:05\u00a0<@cjd>\u00a0tmortagne: http://jira.xwiki.org/browse/XWIKI-7969 http://jira.xwiki.org/browse/XCOMMONS-205 wanna fil in the documentation fields for these please?  \n11:05\u00a0<+tmortagne>\u00a0cjd: sure  \n11:05\u00a0<@cjd>\u00a0thanks  \n11:05\u00a0<+tmortagne>\u00a0looks like I will never learn...  \n11:05\u00a0<vmassol>\u00a0tmortagne: you don't get the fields when closing an issue?  \n11:06\u00a0<+tmortagne>\u00a0vmassol: I do but I just don't think about it since thoses are quickly found and fixed bugs  \n11:06\u00a0<vmassol>\u00a0that's how I remember to fill them  \n11:07\u00a0<+tmortagne>\u00a0I actually think about it when there is something to put  \n11:14\u00a0<vmassol>\u00a0re http://www.xwiki.org/xwiki/bin/view/%26%2326477%3B/WebHome the good news is that I cannot reproduce locally  \n11:14\u00a0<vmassol>\u00a0if I create http://localhost:8080/xwiki/bin/view/%26%2326477%3B/WebHome I can delete it  \n11:15\u00a0<vmassol>\u00a0so uprading to 4.1.2 should allow us to remove it on xwiki.org  \n11:15\u00a0<@cjd>\u00a0-XWiki.XWikiPreferences\\_timezone\\_Etc/GMT+1=GMT +1\\: Amsterdam, Berlin, K\\u00F8benhavn, Madrid, Paris, Stockholm, Wien \u00a0<-- all of the timezones were deleted from the Danish translation, this is correct?  \n11:22\u00a0<vmassol>\u00a0jvdrean: can you check this?  \n11:22\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f master\u000f \\* ra687dcc\u000f https://github.com/xwiki/xwiki-platform/commit/a687dcc9b9d11da25f2495a56a535d3269fb5c05 \u000f/ (20 files):\u000f [release] Updated translations. - http://git.io/PK55YQ  \n11:22\u00a0<+jvdrean>\u00a0cjd, vmassol: it is correct  \n11:23\u00a0<+jvdrean>\u00a0they've been removed from the main translation file  \n11:23\u00a0<@cjd>\u00a0thanks  \n11:24\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f stable-4.1.x\u000f \\* r972998e\u000f https://github.com/xwiki/xwiki-platform/commit/972998ee1d52e4f3426cf8ba6fa30f9ae48f405d \u000f/ (20 files):\u000f [release] Updated translations. - http://git.io/WeQsmw  \n11:25\u00a0<vmassol>\u00a0hmm http://myxwiki.org/xwiki/bin/view/XWiki/UpgradesLog says that the last update was for 3.2 by caleb  \n11:25\u00a0<vmassol>\u00a0but we're using 3.5  \n11:25\u00a0<vmassol>\u00a0someone forgot to update the log  \n11:26\u00a0<@cjd>\u00a0I'm going to go ahead and kill the platform build an agent1 because it's at the beginning and I don't want to hold up for an hour  \n11:26\u00a0<vmassol>\u00a0http://myxwiki.org/xwiki/bin/view/XWiki/Upgrading says we're running on 1 node but I don't think that's corrct  \n11:26\u00a0<vmassol>\u00a0checking  \n11:30\u00a0<+tmortagne>\u00a0vmassol: about http://myxwiki.org/xwiki/bin/view/XWiki/UpgradesLog it's probably my fault, I logged it on xwiki.org but forgot myxwiki.org it seems  \n11:37\u00a0<+sburjan>\u00a0I have reported: http://jira.xwiki.org/browse/XE-1199 .. not much helping info's :(  \n11:41\u00a0<lucaa>\u00a0has joined #xwiki  \n11:54\u00a0<AndreiHalici>\u00a0has quit  \n11:58\u00a0<+sburjan>\u00a0could you vote on the thread I sent yesterday about \"Improved supported database testing and testing results\" please ?  \n12:22\u00a0<vmassol>\u00a0tmortagne: step 4c from http://myxwiki.org/xwiki/bin/view/XWiki/Upgrading can and should be done with the EM right?  \n12:26\u00a0<vmassol>\u00a0actually I think we can remove step 4c since it should be covered by step 16 if we use the EM in step 16  \n12:29\u00a0<vmassol>\u00a0hmm I don't understand why we have step 15. IMO step 15 should be moved just before step 19  \n12:40\u00a0<ssavi>\u00a0has quit  \n13:03\u00a0<@cjd>\u00a0vmassol: http://nexus.xwiki.org/nexus/service/local/repositories/xwiki\\_releases\\_staging-007/content/org/xwiki/enterprise/xwiki-enterprise-web/4.1.2/xwiki-enterprise-web-4.1.2.war  \n13:04\u00a0<vmassol>\u00a0cjd: thanks, I'm going for lunch now and I can start upgrading myxwiki.org just after  \n13:04\u00a0<@cjd>\u00a0http://nexus.xwiki.org/nexus/service/local/repositories/xwiki\\_releases\\_staging-007/content/org/xwiki/enterprise/xwiki-enterprise-ui-all/4.1.2/xwiki-enterprise-ui-all-4.1.2.xar  \n13:08\u00a0<CIA-35>\u00a0Vincent Massol\u000f master\u000f \\* r0937eeb\u000f https://github.com/xwiki/xwiki-commons/commit/0937eeb7f32dd86acf558a131bbb4cf0d88e9bad \u000f/ xwiki-commons-tools/xwiki-commons-tool-xar/xwiki-commons-tool-xar-plugin/pom.xml :\u000f [Misc] Add comment + use a simpler prefix for the packager plugin - http://git.io/A7SMMQ  \n13:08\u00a0<CIA-35>\u00a0Vincent Massol\u000f master\u000f \\* r5e6b686\u000f https://github.com/xwiki/xwiki-platform/commit/5e6b686967b97b808cce724b3455ad4ba0400076 \u000f/ xwiki-platform-tools/xwiki-platform-tool-packager-plugin/pom.xml :\u000f [Misc] Add comment + use a simpler prefix for the packager plugin - http://git.io/Y0ccIg  \n13:31\u00a0<mflorea>\u00a0has quit  \n13:36\u00a0<polx>\u00a0has quit  \n13:36\u00a0<polx>\u00a0has joined #xwiki  \n13:43\u00a0<polx>\u00a0has quit  \n14:03\u00a0<vmassol>\u00a0cjd: http://nexus.xwiki.org/nexus/service/local/repositories/xwiki\\_releases\\_staging-007/content/org/xwiki/enterprise/xwiki-enterprise-web/4.1.2/xwiki-enterprise-web-4.1.2.war doesn't work  \n14:04\u00a0<@cjd>\u00a0ahh yes, it was deleted when it got pushed to maven  \n14:04\u00a0<vmassol>\u00a0ah it's on maven cool  \n14:04\u00a0<vmassol>\u00a0http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-web/4.1.2/xwiki-enterprise-web-4.1.2.war  \n14:04\u00a0<@cjd>\u00a0http://download.forge.objectweb.org/xwiki/xwiki-enterprise-web-4.1.2.war  \n14:10\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-commons-4.1.2\u000f \\* r9ae0aa7\u000f https://github.com/xwiki/xwiki-commons/commit/9ae0aa710405fae3cc3795c47c9fa9a60c1f771a \u000f/ pom.xml :\u000f [release] Preparing release xwiki-commons-4.1.2 - http://git.io/i6va2A  \n14:10\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-commons-4.1.2\u000f \\* r17382d2\u000f https://github.com/xwiki/xwiki-commons/commit/17382d240136579b42110f1ec75fbfca813bad4f \u000f/ (62 files in 62 dirs):\u000f [maven-release-plugin] prepare release xwiki-commons-4.1.2 - http://git.io/\\_d4\\_qA  \n14:10\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-rendering-4.1.2\u000f \\* rc8115d3\u000f https://github.com/xwiki/xwiki-rendering/commit/c8115d3f5dda06cd95486df8538a67355e2c9e74 \u000f/ pom.xml :\u000f [release] Preparing release xwiki-rendering-4.1.2 - http://git.io/feN7gw  \n14:10\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-rendering-4.1.2\u000f \\* rb8181a6\u000f https://github.com/xwiki/xwiki-rendering/commit/b8181a6125a5a47c199ff8a0ca231e38e6942e68 \u000f/ (44 files in 44 dirs):\u000f [maven-release-plugin] prepare release xwiki-rendering-4.1.2 - http://git.io/emYxaw  \n14:11\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-platform-4.1.2\u000f \\* r3f714ff\u000f https://github.com/xwiki/xwiki-platform/commit/3f714ff80d6c9196c23ea44c9e7467067e7f3783 \u000f/ pom.xml :\u000f [release] Preparing release xwiki-platform-4.1.2 - http://git.io/EJ69iA  \n14:11\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-platform-4.1.2\u000f \\* rfb364a6\u000f https://github.com/xwiki/xwiki-platform/commit/fb364a6f24e80ef6f31d3fc2d5d010a6a6a70f10 \u000f/ (211 files in 211 dirs):\u000f [maven-release-plugin] prepare release xwiki-platform-4.1.2 - http://git.io/\\_x-ixw  \n14:11\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-enterprise-4.1.2\u000f \\* rc7d9b67\u000f https://github.com/xwiki/xwiki-enterprise/commit/c7d9b6781b2f4767091b24c6f5b18ae7d63e4126 \u000f/ pom.xml :\u000f [release] Preparing release xwiki-enterprise-4.1.2 - http://git.io/cY9YQA  \n14:11\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-enterprise-4.1.2\u000f \\* r998c031\u000f https://github.com/xwiki/xwiki-enterprise/commit/998c031aec6723325046f29b59e9a82b9409fd4b \u000f/ (47 files in 47 dirs):\u000f [maven-release-plugin] prepare release xwiki-enterprise-4.1.2 - http://git.io/1PIOew  \n14:11\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-manager-4.1.2\u000f \\* rd54d9dc\u000f https://github.com/xwiki/xwiki-manager/commit/d54d9dc867aa82e5cb8e643cb871835098d690f2 \u000f/ pom.xml :\u000f [release] Preparing release xwiki-manager-4.1.2 - http://git.io/zeLogg  \n14:12\u00a0<CIA-35>\u00a0Caleb James DeLisle\u000f xwiki-manager-4.1.2\u000f \\* rd606204\u000f https://github.com/xwiki/xwiki-manager/commit/d606204e7ad3db924f3ea6ce3fc235daffcc622e \u000f/ (16 files in 16 dirs):\u000f [maven-release-plugin] prepare release xwiki-manager-4.1.2 - http://git.io/Qz8uEA  \n14:16\u00a0<mflorea>\u00a0has joined #xwiki  \n14:36\u00a0<polx>\u00a0has joined #xwiki  \n14:43\u00a0<jvelo>\u00a0has joined #xwiki  \n15:01\u00a0<@cjd>\u00a0vmassol: ping \u00a0( \\* (x) Ping Vincent about uploading to maven central. )  \n15:01\u00a0<vmassol>\u00a0otp  \n15:01\u00a0<vmassol>\u00a0ok  \n15:24\u00a0<DSpair\\_AFK>\u00a0is now known as <D-Spair>  \n15:39\u00a0<david\\_\\_\\_\\_\\_>\u00a0has joined #xwiki  \n15:40\u00a0<david\\_\\_\\_\\_\\_>\u00a0has left #xwiki  \n15:42\u00a0<mflorea>\u00a0has quit  \n15:47\u00a0<mflorea>\u00a0has joined #xwiki  \n16:19\u00a0<david1>\u00a0has joined #xwiki  \n16:20\u00a0<david1>\u00a0has left #xwiki  \n16:29\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:32\u00a0<tatemilio>\u00a0has joined #xwiki  \n16:33\u00a0<gdelhumeau>\u00a0Hi people  \n16:33\u00a0<gdelhumeau>\u00a0I try do perform an UPDATE hql query in Groovy, and I'm affraid I only have the rights to perform Read Only queries  \n16:33\u00a0<gdelhumeau>\u00a0Is there a way to do it?  \n16:34\u00a0<vdox2\\_>\u00a0has joined #xwiki  \n16:34\u00a0<vdox2\\_>\u00a0has quit  \n16:34\u00a0<vdox2>\u00a0has quit  \n16:35\u00a0<vdox2>\u00a0has joined #xwiki  \n16:36\u00a0<jvelo>\u00a0gdelhumeau: which API are you using ?  \n16:36\u00a0<vdox2>\u00a0has quit  \n16:36\u00a0<gdelhumeau>\u00a0http://pastebin.com/kj8pN8J9  \n16:38\u00a0<gdelhumeau>\u00a0jvelo> I use the QueryManager getted from the component manager  \n16:38\u00a0<jvelo>\u00a0gdelhumeau: have you tried #executeUpdate() instead of #execute() ? c.f. https://forum.hibernate.org/viewtopic.php?f=1&t=987711&start=0  \n16:39\u00a0<gdelhumeau>\u00a0Of course :) But there is no executeUpdate() on the QueryManager class  \n16:39\u00a0<jvelo>\u00a0I've never tried to do an update using the QM, I don't even know if it's possible  \n16:39\u00a0<gdelhumeau>\u00a0instead, I see there is executeRead(), on the method execute() of the class HqlQueryExecutor  \n16:39\u00a0<jvelo>\u00a0we use XWiki APIs to modify documents/objects/etc.  \n16:39\u00a0<gdelhumeau>\u00a0yep, but I am in a case were I can't use the API  \n16:40\u00a0<gdelhumeau>\u00a0I need to repair some \"damages\" done on a database  \n16:40\u00a0<gdelhumeau>\u00a0ie: re-computing doc ID  \n16:41\u00a0<gdelhumeau>\u00a0because I am upgrading an old xwiki (2.2), and some doc ids are wrong because it was before the introduction of the Reference class.  \n16:41\u00a0<CIA-35>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rea16cc6\u000f https://github.com/xwiki/xwiki-platform/commit/ea16cc6eda70895be6ce723523aa7e13d3620467 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f Remove unused CSS (we are currently using the standard pagination CSS) - http://git.io/XOm\\_bQ  \n16:41\u00a0<gdelhumeau>\u00a0So, unfortunalty, I can't use the standard API.  \n16:43\u00a0<jvelo>\u00a0gdelhumeau: what about raw SQL ?  \n16:44\u00a0<gdelhumeau>\u00a0I would like to be able to make a script that can be used by everyone  \n16:44\u00a0<gdelhumeau>\u00a0I think I can use XWikiHibernateStore.executeWrite()  \n16:48\u00a0<mflorea>\u00a0has quit  \n16:49\u00a0<tatemilio>\u00a0has left #xwiki  \n16:57\u00a0<vdox2>\u00a0has joined #xwiki  \n16:59\u00a0<rrodriguez>\u00a0has joined #xwiki  \n17:00\u00a0<gdelhumeau>\u00a0About http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module , I would like to add that this query module is for read use only, and that we should use the API for every writing access (I didn't know that when I started playing with XWiki, it is very unclear for newbies used to SQL). WDYT ?  \n17:11\u00a0<gdelhumeau>\u00a0FYI, Thomas showed me this example: https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/migration/hibernate/R35102XWIKI7771DataMigration.java  \n17:12\u00a0<+tmortagne>\u00a0gdelhumeau: yes we should make it clear in the page  \n17:12\u00a0<vmassol>\u00a0gdelhumeau: it's a \\*query\\* module ;)  \n17:13\u00a0<vmassol>\u00a0for me query means read but maybe it can be misinterpreted indeed  \n17:13\u00a0<vmassol>\u00a0indeed SQL is about query and you can do write so you must be right :)  \n17:26\u00a0<gdelhumeau>\u00a0yep !  \n17:27\u00a0<gdelhumeau>\u00a0You can request to WRITE something :)  \n17:55\u00a0<SvenDowideit>\u00a0has quit  \n18:03\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n18:22\u00a0<sburjan>\u00a0has quit  \n18:27\u00a0<vmassol>\u00a0Denis: ping  \n18:35\u00a0<gdelhumeau>\u00a0FYI: http://pastebin.com/yN6fmGWL - How to update a field in a XWiki Database with Groovy  \n18:38\u00a0<polx>\u00a0has quit  \n18:38\u00a0<polx>\u00a0has joined #xwiki  \n18:42\u00a0<ssavi>\u00a0has joined #xwiki  \n18:50\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* rbd6e5af\u000f https://github.com/xwiki/xwiki-commons/commit/bd6e5af6886d6d8c990edf3c14c4303a8502bbc3 \u000f/ (31 files in 19 dirs):\u000f XCOMMONS-206: Move XWiki Repository in its own module - http://git.io/ItpLEw  \n18:54\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r05c4def\u000f https://github.com/xwiki/xwiki-platform/commit/05c4def5f535580bbd5391b56491061c65c82f30 \u000f/ (101 files in 23 dirs):\u000f XWIKI-7973: Move XWiki Repository in its own module - http://git.io/dNCqjg  \n18:54\u00a0<polx>\u00a0has quit  \n19:00\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* rddc26cf\u000f https://github.com/xwiki/xwiki-platform/commit/ddc26cfe86d410d5fa6b766350b713a569c47c90 \u000f/ xwiki-platform-core/xwiki-platform-test/pom.xml :\u000f XWIKI-7973: Move XWiki Repository in its own module - http://git.io/v4dymA  \n19:01\u00a0<mflorea>\u00a0has joined #xwiki  \n19:01\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r7db84d9\u000f https://github.com/xwiki/xwiki-enterprise/commit/7db84d9d2091cc8917f1a30b4c6b7ed3b78ebc80 \u000f/ (2 files in 2 dirs):\u000f XWiki Repository moved in it's own module - http://git.io/jj5bHg  \n19:03\u00a0<mflorea>\u00a0has quit  \n19:05\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* ra2ef7f7\u000f https://github.com/xwiki/xwiki-commons/commit/a2ef7f747e46b7e848a29526b5567a43319f10ff \u000f/ xwiki-commons-core/xwiki-commons-extension/xwiki-commons-extension-repositories/xwiki-commons-extension-repository-maven/pom.xml :\u000f Missing excludes - http://git.io/wrVNhw  \n19:08\u00a0<rrodriguez>\u00a0has quit  \n19:32\u00a0<polx>\u00a0has joined #xwiki  \n19:35\u00a0<polx>\u00a0has quit  \n19:42\u00a0<gdelhumeau>\u00a0has quit  \n19:46\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* rb255079\u000f https://github.com/xwiki/xwiki-commons/commit/b2550798b922a2f0ed796969574be00a77dbce39 \u000f/ (2 files in 2 dirs):\u000f Fix codedstyle - http://git.io/QcopAA  \n19:48\u00a0<tmortagne>\u00a0has quit  \n19:51\u00a0<vmassol>\u00a0has quit  \n20:13\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r6f5e058\u000f https://github.com/xwiki/xwiki-commons/commit/6f5e058afdd351b0a91cd3a3699f4745dc5627ba \u000f/ (2 files in 2 dirs):\u000f Missing excludes - http://git.io/xc5ahg  \n20:18\u00a0<ssavi>\u00a0has quit  \n20:26\u00a0<Denis>\u00a0has quit  \n20:35\u00a0<Denis>\u00a0has joined #xwiki  \n21:10\u00a0<polx>\u00a0has joined #xwiki  \n21:18\u00a0<polx>\u00a0has quit  \n21:29\u00a0<CIA-35>\u00a0tmortagne\u000f master\u000f \\* r8b5018d\u000f https://github.com/xwiki/xwiki-platform/commit/8b5018de0a86f7eb259937e11dcc3039c214c0c1 \u000f/ xwiki-platform-core/xwiki-platform-repository/xwiki-platform-repository-server-api/pom.xml :\u000f Missing excludes - http://git.io/vdJ7mg  \n21:35\u00a0<polx>\u00a0has joined #xwiki  \n21:43\u00a0<polx>\u00a0has quit  \n21:47\u00a0<polx>\u00a0has joined #xwiki  \n21:53\u00a0<polx>\u00a0has quit  \n21:57\u00a0<abusenius>\u00a0has joined #xwiki  \n22:15\u00a0<jvdrean1>\u00a0has joined #xwiki  \n22:17\u00a0<jvdrean>\u00a0has quit  \n22:18\u00a0<lucaa>\u00a0has quit  \n22:31\u00a0<rrodriguez>\u00a0has joined #xwiki  \n22:41\u00a0<polx>\u00a0has joined #xwiki  \n22:56\u00a0<@sdumitriu>\u00a0Denis: Ping  \n22:56\u00a0<+Denis>\u00a0yep ?  \n22:56\u00a0<@sdumitriu>\u00a0Hi  \n22:56\u00a0<+Denis>\u00a0Hi  \n22:56\u00a0<@sdumitriu>\u00a0Don't know if you've seen this, but the new ID migration fails on myxwiki.org for several wikis  \n22:57\u00a0<+Denis>\u00a0yes, I had already a diagnosis  \n22:57\u00a0<ssavi>\u00a0has joined #xwiki  \n22:57\u00a0<+Denis>\u00a0I have made a stupid mistake in reference resolution  \n22:57\u00a0<+Denis>\u00a0but I do not know what is the best solution to fix this  \n22:57\u00a0<+Denis>\u00a0maybe you could have an advice  \n22:58\u00a0<+Denis>\u00a0the problem is to resolve 'Main.Test' as a page 'Test' in 'Main', and 'Test' alone as a space reference for 'Test' space  \n22:59\u00a0<+Denis>\u00a0currently, both get resolved the same, and this is the issue  \n23:03\u00a0<abusenius>\u00a0has quit  \n23:04\u00a0<Denis1>\u00a0has joined #xwiki  \n23:05\u00a0<@sdumitriu>\u00a0Hm...  \n23:05\u00a0<@sdumitriu>\u00a0Where does this happen?  \n23:06\u00a0<Denis1>\u00a0in stats  \n23:07\u00a0<Denis1>\u00a0an I have written something completely stupid in the hope to fix it, but I have later completely forget it :-$  \n23:07\u00a0<Denis>\u00a0has quit  \n23:08\u00a0<Denis1>\u00a0is now known as <Denis>  \n23:09\u00a0<+Denis>\u00a0this is really unusual to have a space reference alone  \n23:10\u00a0<@sdumitriu>\u00a0I think you should treat each type of statistics individually  \n23:10\u00a0<@sdumitriu>\u00a0And use a custom resolver for spaces  \n23:11\u00a0<+Denis>\u00a0would be the next step IMO  \n23:11\u00a0<+Denis>\u00a0unrelated to ID migration  \n23:11\u00a0<+Denis>\u00a0I added a TODO for that  \n23:12\u00a0<+Denis>\u00a0my current thought is:  \n23:12\u00a0<+Denis>\u00a0EntityReference ref = resolver.resolve(name, EntityType.DOCUMENT);  \n23:12\u00a0<+Denis>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (ref.getName().equals(name)) {  \n23:12\u00a0<+Denis>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ref = new EntityReference(name, EntityType.SPACE);  \n23:12\u00a0<+Denis>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \n23:12\u00a0<+Denis>\u00a0work well, except if name contains escapes  \n23:13\u00a0<+Denis>\u00a0I wonder if this could happen in real stat currently ?  \n23:13\u00a0<@sdumitriu>\u00a0I think it can  \n23:13\u00a0<@sdumitriu>\u00a0People do create spaces with dots in them  \n23:14\u00a0<@sdumitriu>\u00a0So you'll get a false answer even for this  \n23:14\u00a0<@sdumitriu>\u00a0You might have stats for the \"Sub.Space\" space and for the \"Sub.Space\" document  \n23:14\u00a0<+Denis>\u00a0I wonder if them would be escaped in stats currently  \n23:14\u00a0<@sdumitriu>\u00a0No idea...  \n23:15\u00a0<+Denis>\u00a0which would be an unsolvable issue, if not  \n23:15\u00a0<@sdumitriu>\u00a0Yes, but I think that's not going to happen  \n23:15\u00a0<@sdumitriu>\u00a0Since this kind of stats would have failed the insert already  \n23:15\u00a0<@sdumitriu>\u00a0(the old hash would collide as well)  \n23:18\u00a0<+Denis>\u00a0sure  \n23:18\u00a0<+Denis>\u00a0but looking at the code, the name came from XWikiDocument#getSpace()  \n23:19\u00a0<+Denis>\u00a0I am almost sure this one does not return an escaped value  \n23:19\u00a0<+Denis>\u00a0does it ?  \n23:21\u00a0<@sdumitriu>\u00a0Doesn't  \n23:21\u00a0<+Denis>\u00a0so my solution would work  \n23:34\u00a0<CIA-35>\u00a0Eduard Moraru\u000f master\u000f \\* r57469ee\u000f https://github.com/xwiki/xwiki-enterprise/commit/57469ee49a43225e5d516991262a964eaebdbd99 \u000f/ xwiki-enterprise-ui/src/main/resources/Main/MessageSenderMacro.xml :\u000f XWIKI-7974: Add visibility and visibilityOptions parameters to the messageSender macro - http://git.io/674ohQ  \n23:35\u00a0<+Denis>\u00a0sdumitriu: by the way, completely unrelated, I suspect there is an issue in ligthbox.js, at line 51, s/c/$('lb-content')/ ?  \n23:35\u00a0<@sdumitriu>\u00a0Checking  \n23:36\u00a0<@sdumitriu>\u00a0Yep, looks like a bug  \n23:37\u00a0<@sdumitriu>\u00a0Ah, yes, cjd did that  \n23:37\u00a0<@sdumitriu>\u00a0There used to be a line above:  \n23:37\u00a0<@sdumitriu>\u00a0var c = $('lb-content');  \n23:38\u00a0<+Denis>\u00a0this quite old, no ?  \n23:39\u00a0<@sdumitriu>\u00a0Feb 2010  \n23:44\u00a0<CIA-35>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r61df4d6\u000f https://github.com/xwiki/xwiki-platform/commit/61df4d6acf13a763f323e96345487c1e9b72201d \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/lightbox/lightbox.js :\u000f [misc] Fixed a potential bug in the lightbox.js code - http://git.io/xfRz5Q  \n23:53\u00a0<+Denis>\u00a0sdumitriu: do you know if there is a jira regarding the migration issue ?  \n23:56\u00a0<+Denis>\u00a0do not find any  \n23:56\u00a0<+Denis>\u00a0creating one  \n\n"}