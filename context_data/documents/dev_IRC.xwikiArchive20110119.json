{"id": "dev:IRC.xwikiArchive20110119", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110119", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:19\u00a0<arkub>\u00a0has joined #xwiki  \n00:30\u00a0<arkub>\u00a0has quit  \n00:46\u00a0<lpereira>\u00a0has quit  \n02:39\u00a0<abusenius>\u00a0has quit  \n02:59\u00a0<mflorea>\u00a0has quit  \n04:45\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:22\u00a0<DrLou>\u00a0has quit  \n05:50\u00a0<venkatesh>\u00a0has joined #xwiki  \n05:51\u00a0<sdumitriu>\u00a0has quit  \n06:02\u00a0<Denis>\u00a0has quit  \n06:09\u00a0<Denis>\u00a0has joined #xwiki  \n07:18\u00a0<vmassol>\u00a0has joined #xwiki  \n07:25\u00a0<SvenDowideit\\_>\u00a0has joined #xwiki  \n07:25\u00a0<sburjan`>\u00a0has quit  \n07:25\u00a0<Denis>\u00a0has quit  \n07:25\u00a0<npm\\_>\u00a0has quit  \n07:25\u00a0<SvenDowideit>\u00a0has quit  \n08:07\u00a0<vmassol>\u00a0has quit  \n08:22\u00a0<sburjan`>\u00a0has joined #xwiki  \n08:42\u00a0<sburjan`>\u00a0has left #xwiki  \n08:54\u00a0<venkatna>\u00a0has joined #xwiki  \n08:56\u00a0<venkatesh>\u00a0has quit  \n08:56\u00a0<venkatna>\u00a0has quit  \n08:59\u00a0<mflorea>\u00a0has joined #xwiki  \n09:03\u00a0<SvenDowideit\\_>\u00a0has quit  \n09:20\u00a0<sburjan>\u00a0has joined #xwiki  \n09:27\u00a0<jstoldt>\u00a0has joined #xwiki  \n09:27\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n09:27\u00a0<venkatesh>\u00a0has joined #xwiki  \n09:27\u00a0<sburjan`>\u00a0has joined #xwiki  \n09:27\u00a0<npm\\_\\_>\u00a0has joined #xwiki  \n09:27\u00a0<Denis>\u00a0has joined #xwiki  \n09:27\u00a0<venkatesh>\u00a0has quit  \n09:27\u00a0<venkatesh>\u00a0has joined #xwiki  \n09:27\u00a0<jstoldt>\u00a0has quit  \n09:27\u00a0<jstoldt>\u00a0has joined #xwiki  \n09:40\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:53\u00a0<evalica>\u00a0has joined #xwiki  \n09:53\u00a0<arkub>\u00a0has joined #xwiki  \n09:54\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:04\u00a0<Denis>\u00a0cjdelisle: ping  \n10:05\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:40\u00a0<+sburjan>\u00a0guys, it seems we have a problem with Safari. You can't login to xwiki from Safari. Alos a user sent an e-mail about this, we should at least fix that. Anyone experiencing this ?  \n10:41\u00a0<jvelo>\u00a0has joined #xwiki  \n10:54\u00a0<jstoldt>\u00a0is one of the CSS pro's around? because i have a bit of a problem. no matter if i use lists with groups (e.g. \\* ((( \\n some text \\n some other nested list \\n ))) ) or mixed lists (e.g. 1. text \\n 1\\*. text ...), i end up with an awful lot of space between the top level list entries and the nested lists  \n10:54\u00a0<jstoldt>\u00a0any suggestions on how to fix that?  \n10:55\u00a0<jstoldt>\u00a0analyzing the html i noticed that there usually is no <p> </p> around the nested lists...  \n10:58\u00a0<jstoldt>\u00a0i just tried adding the same style i use for li p:first-child for li :first child and accordingly for last-child and now the space between the nested list and the following element is small like i want it to be but between the above top level entry and the nested list it still looks horrible  \n11:23\u00a0<vmassol>\u00a0has joined #xwiki  \n11:57\u00a0<vmassol>\u00a0mflorea: hi  \n11:57\u00a0<+mflorea>\u00a0vmassol: Hi  \n11:58\u00a0<vmassol>\u00a0were you able to ping sergiu regarding the release? I pinged him several times yesterday but he's never answered  \n11:58\u00a0<vmassol>\u00a0I've not seen him logged either on irc or skype  \n11:58\u00a0<vmassol>\u00a0it's a real pain  \n11:58\u00a0<vmassol>\u00a0especially since he knows we're doing a release  \n12:00\u00a0<+mflorea>\u00a0nop, I couldn't reach him. I finished with the wysiwyg (all tests passing) and now I'm fixing selenium 1 tests. I discovered 2 issues related to velocity 1.7 upgrade: (1) quote escape and (2) setVariable macro introduced by sergiu generates white spaces and I don't understand why..  \n12:01\u00a0<vmassol>\u00a0hmm I'm surprised there are still the 3 xmlrpc tests failing. I fixed those yesterdat  \n12:03\u00a0<+mflorea>\u00a0vmassol: is there a way to print the code of a velocity macro? i.e. how can I detect if a velocity macro is overwritten? I have this setVariable macro from macros.vm. If I copy its code in a page, change its name and call it, it work fine (no whitespace generated). If I call it (with the name from macros.vm) I get 10 spaces.. I'd like to know if it is overwritten somewhere.  \n12:08\u00a0<arkub>\u00a0has quit  \n12:11\u00a0<evalica>\u00a0has quit  \n12:16\u00a0<evalica>\u00a0has joined #xwiki  \n12:16\u00a0<evalica>\u00a0has quit  \n12:39\u00a0<venkatesh>\u00a0has quit  \n12:48\u00a0<+mflorea>\u00a0it seems that velocity macros defined in velocity templates output white spaces (indentation). How can I ensure the indentation doesn't interfere with the output without using HTML macro. It doesn't seem possible. The only solution is to drop the indentation..  \n12:51\u00a0<sdumitriu>\u00a0has joined #xwiki  \n13:04\u00a0<jstoldt>\u00a0mflorea: i thought there is an option for that in the velocity macro  \n13:04\u00a0<+mflorea>\u00a0sure, but I'm talking about macros defined in velocity templates, not in wiki pages  \n13:04\u00a0<jstoldt>\u00a0yeah, thought so... it was more of a \"why don't you look there, i would likk there\" kind of hint ;)  \n13:05\u00a0<jstoldt>\u00a0\\*look  \n13:07\u00a0<+mflorea>\u00a0{{velocity}} is written in Java and can drop the output of the velocity evaluation. I don't think there is a way to tell #someMacro to drop the output, because they are handled directly by velocity engine  \n13:08\u00a0<jstoldt>\u00a0true  \n13:14\u00a0<+mflorea>\u00a0vmassol: it seems that HTML macro considers SCRIPT tag as block level. I have an HTML macro that outputs just a script tag and is followed by some space. The HTML macro fails to be rendered.  \n13:17\u00a0<+mflorea>\u00a0I think this:  \n13:17\u00a0<+mflorea>\u00a0abc{{html}}<script>alert('Hi!')</script>{{/html}}123  \n13:17\u00a0<+mflorea>\u00a0should be valid  \n13:25\u00a0<bacon>\u00a0has joined #xwiki  \n13:25\u00a0<bacon>\u00a0hello  \n13:26\u00a0<bacon>\u00a0a little question please, does any of you have ever encounter the following message in xwiki?  \n13:26\u00a0<bacon>\u00a0\"Failed to execute the [velocity] macro\"  \n13:26\u00a0<bacon>\u00a0After a fresh install. I read that there was a bug with the macro and their owner  \n13:26\u00a0<+mflorea>\u00a0bacon: that's too generic. click on the message and see the full stack trace  \n13:26\u00a0<bacon>\u00a0restart the container just made a few of them diseapear, but some are still persistents  \n13:26\u00a0<bacon>\u00a0\"org.xwiki.rendering.macro.MacroExecutionException: Failed to evaluate Velocity Macro for content [### Globally administrate the groups in a wiki.\"  \n13:27\u00a0<bacon>\u00a0that is the first line on the java error  \n13:27\u00a0<evalica>\u00a0has joined #xwiki  \n13:28\u00a0<+mflorea>\u00a0look for \"Wrapped Exception\"  \n13:28\u00a0<DrLou>\u00a0has joined #xwiki  \n13:28\u00a0<bacon>\u00a0http://pastebin.com/ViTdArr9  \n13:29\u00a0<+mflorea>\u00a0Caused by: org.xwiki.script.service.ScriptServiceNotFoundException: Failed to locate Script Service [csrf]  \n13:29\u00a0<+mflorea>\u00a0that's the problem  \n13:29\u00a0<+mflorea>\u00a0what XE version are you trying?  \n13:29\u00a0<bacon>\u00a0by XE it means Xwiki Enterprise?  \n13:29\u00a0<+mflorea>\u00a0yep  \n13:29\u00a0<bacon>\u00a0I imported the base .xar file 2.7  \n13:30\u00a0<+mflorea>\u00a0csrf (cross site request forgery) service should be disabled by default  \n13:31\u00a0<bacon>\u00a0i'll try to deactive it so !  \n13:31\u00a0<bacon>\u00a0thank you  \n13:31\u00a0<+mflorea>\u00a0np  \n13:32\u00a0<mflorea>\u00a0has quit  \n13:42\u00a0<fmancinelli>\u00a0has quit  \n13:44\u00a0<bacon>\u00a0csrf is not declared in my xwiki.properties :/  \n13:46\u00a0<vmassol>\u00a0ok seems that the tools module is not built by hudson  \n13:46\u00a0<vmassol>\u00a0(just the top level module is)  \n13:46\u00a0<vmassol>\u00a0changing this  \n14:15\u00a0<@cjdelisle>\u00a0Denis: Pong  \n14:16\u00a0<Denis>\u00a0cjdelisle: hi, well, just when to let you know that after even more work we have decide to not use TR anymore for now :(  \n14:17\u00a0<@cjdelisle>\u00a0What is the reasoning?  \n14:17\u00a0<Denis>\u00a0sure  \n14:18\u00a0<Denis>\u00a0there is many problems in fact  \n14:18\u00a0<Denis>\u00a0with asProvider/asRequirer, you may miss both and have it compile with a cast warning which defeat the purpose  \n14:20\u00a0<Denis>\u00a0I have an abstract based version that I prefer for that, but, there is other issues: if you have two TR1 returning two data needs by TR3, there is no solution  \n14:20\u00a0<@cjdelisle>\u00a02 instances of TR1?  \n14:21\u00a0<Denis>\u00a0moreover, a PTR runin a PTR that does not depends on each other, could have different result depending on the order  \n14:22\u00a0<Denis>\u00a0yes, to instance of TR1 built with different arguments that return similar data but another row  \n14:22\u00a0<@cjdelisle>\u00a0yes indeed there is no clean was (that I can think of) to solve that.  \n14:22\u00a0<@cjdelisle>\u00a0Thanks for the info.  \n14:22\u00a0<Denis>\u00a0you would need some sort of bundleTR but not easy to fit in  \n14:23\u00a0<Denis>\u00a0my final thought was that you should not change the context over time, is not practical, and have many issue  \n14:23\u00a0<bacon>\u00a0has quit  \n14:24\u00a0<@cjdelisle>\u00a0Do you have an alternative suggestion for the context?  \n14:24\u00a0<vmassol>\u00a0sburjan: regarding the test plan. How do I navigate to it on xwiki.org? The way I was trying to find it is: go to dev.xwiki.org, click on Testing, go to the manual test section but it doesn't seem to link to your reports. See http://dev.xwiki.org/xwiki/bin/view/Community/Testing  \n14:24\u00a0<mflorea>\u00a0has joined #xwiki  \n14:25\u00a0<Denis>\u00a0in fact, I would go in another direction, using a single initail context provided by the StartableTR and passed over transaction, ensuring these are all of the same kind, the way you do  \n14:26\u00a0<@cjdelisle>\u00a0That would break the idea of an intermediet transaction which provided additional functionality, correct?  \n14:26\u00a0<+sburjan>\u00a0vmassol: the Manual Test Plan is still in Drafts, if you are happy with it I can move the page in the Community space, or create another page on XWiki.org to include these reports.Testing space  \n14:26\u00a0<@cjdelisle>\u00a0s/transaction/TR/  \n14:27\u00a0<Denis>\u00a0then, for datas, my thought goes to provide some sort of K get(Calss<K>) that would return an interface K explicitely provided by a previous transaction  \n14:27\u00a0<jstoldt>\u00a0am i the only one who thinks this is spam? http://platform.xwiki.org/xwiki/bin/view/CAE/Reports <<  \n14:27\u00a0<jstoldt>\u00a0besides, why are normal users allowed to create new spaces on xwiki.org? doesn't see desirable from my POV  \n14:28\u00a0<vmassol>\u00a0sburjan: yes please move it and remove old stuff at the same time  \n14:28\u00a0<@cjdelisle>\u00a0re: \"with asProvider/asRequirer, you may miss both and have it compile with a cast warning\" I'm not sure I follow exactly what the case is.  \n14:28\u00a0<Denis>\u00a0during prerun, a TR would check that the interfaces it required are available, or throws. This could be done by a utility methods. This would avoid running without required Interface,  \n14:28\u00a0<vmassol>\u00a0jstoldt: it is spam, deleting it  \n14:28\u00a0<vmassol>\u00a0jstoldt: fyi I clean things like this every day....  \n14:28\u00a0<Denis>\u00a0you have it here: tr1.run(run)  \n14:29\u00a0<jstoldt>\u00a0okay, didn't know that  \n14:29\u00a0<vmassol>\u00a0thanks for reportinf this one  \n14:29\u00a0<vmassol>\u00a0if you find some like this you're free to remove it too  \n14:29\u00a0<Denis>\u00a0you need tr1.asRequirer().run(run.asProvider())  \n14:29\u00a0<jstoldt>\u00a0sure... just noticed it from what xwikibot said so i was wondering  \n14:29\u00a0<@cjdelisle>\u00a0indeed that is messy.  \n14:30\u00a0<vmassol>\u00a0jstoldt: usually we do the cleaning when we receive the notifications mail on the list or when we notice it thanks to the bot  \n14:30\u00a0<jstoldt>\u00a0i see  \n14:31\u00a0<Denis>\u00a0cjdelisle: and you need to know if you have a PTR to remember that  \n14:31\u00a0<+sburjan>\u00a0vmassol: http://dev.xwiki.org/xwiki/bin/view/Community/Testing is a page that contains precedures regarding testing, IMO we shouldn't keep MTR of each release on this page .. I have to think to a better place to put them. evalica suggested I put them in the Release Plan/Release Notes. WDYT ?  \n14:31\u00a0<Denis>\u00a0or you just have a warning, which can be easily overlooked  \n14:32\u00a0<vmassol>\u00a0sburjan: 2 ideas  \n14:32\u00a0<vmassol>\u00a01) indeed link them from the specific release notes is perfect  \n14:32\u00a0<@cjdelisle>\u00a0I see. It's a implicit cast. That makes life harder.  \n14:32\u00a0<vmassol>\u00a02) have a test report page that is linked from the Testing page and where you'll find all manual tests done so far  \n14:33\u00a0<vmassol>\u00a0wdyt?  \n14:33\u00a0<@cjdelisle>\u00a0I designed it to make sure that safety is guaranteed unless the user casts something. If the jvm casts something then java is ruining my safety guarantee  \n14:34\u00a0<Denis>\u00a0with my abstract based implementation, this is no more the case since TR and PTR where not inheriting form each other, but this is not so nice anyway  \n14:35\u00a0<Denis>\u00a0so having only TR and a single context is the way to go for me  \n14:35\u00a0<Denis>\u00a0and using another means for conveying data  \n14:35\u00a0<@cjdelisle>\u00a0I am not seeing any warning when I build the tests though.  \n14:35\u00a0<@cjdelisle>\u00a0and I have tr1.runIn(run);  \n14:36\u00a0<@cjdelisle>\u00a0shouldn't that be tr1.asRequirer().runIn(run.asProvider()) ?  \n14:36\u00a0<Denis>\u00a0yes it should  \n14:37\u00a0<@cjdelisle>\u00a0no warning in the compile log :(  \n14:37\u00a0<@cjdelisle>\u00a0Just when I want to use type safety, java turns into python.  \n14:37\u00a0<Denis>\u00a0this is due to your PTR<> extends TR without <>  \n14:38\u00a0<@cjdelisle>\u00a0Ahh yes, indeed I broke it.  \n14:38\u00a0<Denis>\u00a0than Java do unsafe cast silently since TR<> is erased to TR anyways  \n14:38\u00a0<+sburjan>\u00a0vmassol: still thinking for the best place to put them (to store them)  \n14:39\u00a0<Denis>\u00a0but wih PTR<R,P> extends TR<R> is a little better, removing asRequirer and getContext which are useless  \n14:39\u00a0<abusenius>\u00a0has joined #xwiki  \n14:40\u00a0<@cjdelisle>\u00a0Do you have the code for that? I will integrate it since there appears to be no better way.  \n14:40\u00a0<Denis>\u00a0you means with an abstract base class ,  \n14:40\u00a0<Denis>\u00a0?  \n14:41\u00a0<@cjdelisle>\u00a0yes  \n14:41\u00a0<+sburjan>\u00a0vmassol: what about creating a space called TestNotes that will contain all these documents ? In the future it can be updated to include also Automatic Tests Notes/Reports (trying to create s space similar to Release Notes) . A space called Released Noted + multiple pages within that space linked to the Space WebHome  \n14:41\u00a0<@cjdelisle>\u00a0whatever you have  \n14:42\u00a0<Denis>\u00a0ok, it is not fully finished but it pass your tests  \n14:42\u00a0<Denis>\u00a0except two in exception that I do not understand  \n14:43\u00a0<vmassol>\u00a0sburjan: Test Reports would be a better name IMO  \n14:43\u00a0<vmassol>\u00a0but yes +1 for such a space  \n14:43\u00a0<+sburjan>\u00a0ok  \n14:43\u00a0<Denis>\u00a0since I have move all classes in store.transaction to ensure package isolation  \n14:43\u00a0<SvenDowideit>\u00a0has quit  \n14:43\u00a0<+sburjan>\u00a0Test Reports it is .. proceeding to executing  \n14:43\u00a0<@cjdelisle>\u00a0Whatever you have would be great, it's clear that my current implementation is broken.  \n14:44\u00a0<Denis>\u00a0but as I have said this is not satisfiyng anyway, and for me PTR is not good  \n14:46\u00a0<@cjdelisle>\u00a0I understand, still being able to break the rules without an explicit cast breaks my requirements so I can not use the current implementation.  \n14:46\u00a0<+sburjan>\u00a0vmassol: http://www.xwiki.org/xwiki/bin/view/TestReports/ is it okay like this ?  \n14:46\u00a0<Denis>\u00a0cjdelisle: http://xwiki.pastebin.com/SyYmkudq  \n14:47\u00a0<Denis>\u00a0but this is the PTR that have cause the flaw  \n14:47\u00a0<@cjdelisle>\u00a0thank you  \n14:47\u00a0<Denis>\u00a0I have to go for a while\u2026 I would be happy to helps sparsely if you need l later  \n14:48\u00a0<@cjdelisle>\u00a0thanks  \n14:48\u00a0<Denis>\u00a0I am disappoint to have not found the proper way out, and time constrains decides  \n14:49\u00a0<Denis>\u00a0but it is a interesting field anyway  \n14:49\u00a0<@cjdelisle>\u00a0indeed. Perhaps removing asRequirer() and leaving asProvider and PTR extends TR<R> is the answer.  \n14:50\u00a0<Denis>\u00a0or removing PTR  \n14:50\u00a0<@cjdelisle>\u00a0For me, I can't know the answer until I have written each possibility and seen where it falls down.  \n14:50\u00a0<Denis>\u00a0and having a non extendable context  \n14:50\u00a0<Denis>\u00a0and other ways to solve the datas issues  \n14:50\u00a0<@cjdelisle>\u00a0context as a hashmap?  \n14:51\u00a0<Denis>\u00a0thougth of interface in a hashmap provided by earlier transactions...  \n14:51\u00a0<Denis>\u00a0I go  \n14:51\u00a0<@cjdelisle>\u00a0see you later  \n14:55\u00a0<vmassol>\u00a0sburjan: you had 2 titles, I removed one  \n14:56\u00a0<vmassol>\u00a0I added the dashboard, not sure yet if it's a good idea but let's create some content and we'll see later. At least it provides a good first version of the home page for that space  \n14:57\u00a0<+sburjan>\u00a0vmassol: thanks you for the Dashboard ;) I'm not sure if we need it' but untill the page will have more content, it is super ;)  \n14:58\u00a0<+sburjan>\u00a0ok then.. let's start the migration  \n15:13\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n15:30\u00a0<+mflorea>\u00a0cjdelisle: I have an administration test failing because it expects the section link label (section added through a configurable class) to be equal to displayInSection field value. The section link label is prefixed with \"admin.\". Is this something new? I mean, was the prefix added after you wrote the test?  \n15:32\u00a0<@cjdelisle>\u00a0No the prefix has been there all along.  \n15:32\u00a0<@cjdelisle>\u00a0do you have a link to the failing test?  \n15:32\u00a0<+sburjan>\u00a0vmassol: http://www.xwiki.org/xwiki/bin/view/TestReports/ This is it. it's on production now :)  \n15:33\u00a0<+mflorea>\u00a0cjdelisle: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-selenium/300/testReport/org.xwiki.test.selenium/AdministrationTest/testAddConfigurableApplicationInNonexistantSection/  \n15:34\u00a0<vmassol>\u00a0sburjan: cool, now we need 1) the template and 2) to modify Testing page to link to that space  \n15:35\u00a0<vmassol>\u00a0sburjan: there's no result anymore on http://www.xwiki.org/xwiki/bin/view/TestReports/ManualTestReportXE30M1#HConclusions  \n15:35\u00a0<+sburjan>\u00a01) The template is still in drafts.. where do you want the template to be here too ? By template I mean a standard blank ManualTestReport that is instantiated and fileld for each release  \n15:35\u00a0<vmassol>\u00a0yes it can be in this space IMO  \n15:36\u00a0<+sburjan>\u00a0okay. I will move that too. (but as a note, that will be improved over time, i have some now ideas)  \n15:36\u00a0<@cjdelisle>\u00a0so you say there is no section called \"HopingThereIsNoSectionByThisName\" but one called \"admin.HopingThereIsNoSectionByThisName\" instead?  \n15:36\u00a0<+sburjan>\u00a0vmassol: WDYM there is no conclusions ? I have them on the bottom of the page  \n15:36\u00a0<vmassol>\u00a0sburjan: no result, not conclusion  \n15:37\u00a0<vmassol>\u00a0I'm talking about the result column  \n15:37\u00a0<+sburjan>\u00a0ah, sorry.. fixing that (sfx issue)  \n15:37\u00a0<+mflorea>\u00a0cjdelisle: exactly  \n15:38\u00a0<@cjdelisle>\u00a0sdumitriu: when you refactored ConfigurableClass did you change the way titles are displayed on the main page?  \n15:39\u00a0<@sdumitriu>\u00a0I didn't refactor it yet  \n15:40\u00a0<+mflorea>\u00a0cjdelisle: the section icon has alt attribute set to \"HopingThereIsNoSectionByThisName\" but the link text is \"admin.hopingthereisnosectionbythisname\"  \n15:40\u00a0<@sdumitriu>\u00a0lucaa did that change, IIRC, to make them translatable  \n15:40\u00a0<+mflorea>\u00a0ah, ok  \n15:40\u00a0<+mflorea>\u00a0then I'll update the tests  \n15:40\u00a0<+sburjan>\u00a0vmassol: fixed. I will also move the template from the dev Drafts to xwiki TestReports .. but you should know that the \u00a0template is still work - in - progress  \n15:40\u00a0<vmassol>\u00a0sburjan: everything is a work in progress. What's important is that it's usable  \n15:44\u00a0<@cjdelisle>\u00a0argh. nothing worse than trying to break the tests and they just keep on passing :/  \n15:44\u00a0<vmassol>\u00a0:)  \n15:44\u00a0<vmassol>\u00a0indeed that doesn't smell good for the test itself  \n15:46\u00a0<@cjdelisle>\u00a0I apparently don't understand junit well enough. I has a @Test(expected=TransactionException.class)  \n15:46\u00a0<@cjdelisle>\u00a0no exception, it passes.  \n15:46\u00a0<@cjdelisle>\u00a0comment out the expected=...  \n15:46\u00a0<@cjdelisle>\u00a0force it to throw an exception.  \n15:46\u00a0<@cjdelisle>\u00a0it passes :|  \n15:48\u00a0<+sburjan>\u00a0vmassol: wdyt, will we be able to migrate to SE2b1 untill 3.0 final ?  \n16:06\u00a0<vmassol>\u00a0sburjan: just after the 3.0M1 release we can upgrade  \n16:06\u00a0<+sburjan>\u00a0vmassol: great.  \n16:10\u00a0<jstoldt>\u00a0bye bye  \n16:10\u00a0<jstoldt>\u00a0has quit  \n16:14\u00a0<+sburjan>\u00a0vmassol: ok, I've finished with the TestReport space .. cleaning up the dev.Drafts  \n16:15\u00a0<sdumitriu>\u00a0has quit  \n16:24\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:32\u00a0<+sburjan>\u00a0vmassol: dev.Drafts has been cleaned :)  \n16:32\u00a0<vmassol>\u00a0sburjan: cool. So what remains? Cleaning Testing page?  \n16:33\u00a0<+sburjan>\u00a0yes, cleaning but I will do that tomorrow so I can quickly see if the reported issues are still tehre  \n16:33\u00a0<+sburjan>\u00a0there  \n16:33\u00a0<vmassol>\u00a0reported issues?  \n16:33\u00a0<vmassol>\u00a0I'm talking about:  \n16:33\u00a0<vmassol>\u00a0http://dev.xwiki.org/xwiki/bin/view/Community/Testing  \n16:33\u00a0<vmassol>\u00a0and more specifically http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HManualtesting  \n16:34\u00a0<+sburjan>\u00a0of, that still has 2 pages made by Guillaune that I will have to review and maybe find what I can use from those to merge them with the actual Release Notes. Some help/suggestions from you would be great  \n16:35\u00a0<vmassol>\u00a0sburjan: yes you need to clean those page, integrate what's useful in your own pages and remove the rest and then point to yuor pages  \n16:35\u00a0<+sburjan>\u00a0yepp.. I am going to take care of that tomorrow  \n16:35\u00a0<vmassol>\u00a0ok great  \n16:43\u00a0<@sdumitriu>\u00a0sburjan: When you run the next 3.0 tests, check that these issues are fixed: XWIKI-5899 XABLOG-117  \n16:46\u00a0<vmassol>\u00a0mflorea: re teh quote escpaing, does your change work under velocity 1.6?  \n16:47\u00a0<vmassol>\u00a0if not it means the watchlist app now has a requirement on core 3.0M1  \n16:47\u00a0<vmassol>\u00a0(which we'd need to indicate since it shouldn't released with XE 2.7.1 for ex)  \n16:48\u00a0<+sburjan>\u00a0sdumitriu: written them down, tomorrow at first hour the MTR will be updated and you will be notified  \n16:48\u00a0<+mflorea>\u00a0vmassol: no, because the double quote escaping was introduced in 1.7 See https://issues.apache.org/jira/browse/VELOCITY-555  \n16:49\u00a0<vmassol>\u00a0\"since this would be (or at least very nearly be) backwards compatible and provide a simple solution for this much-wanted feature.\"  \n16:49\u00a0<vmassol>\u00a0?  \n16:50\u00a0<vmassol>\u00a0it also says \"All tests pass but these changes may break some existing user templates. Careful review is needed before commiting this.\"  \n16:50\u00a0<vmassol>\u00a0but if it doesn't work see my other messages above  \n16:50\u00a0<vmassol>\u00a0we could express that with a dependency range  \n16:51\u00a0<+mflorea>\u00a0hmm, maybe it's best to create a branch to be used for 2.7.1  \n16:51\u00a0<vmassol>\u00a0mflorea: btw in svn it seems the dep on core is 2.3.1: \u00a0<platform.core.version>2.3.1</platform.core.version>  \n16:52\u00a0<+mflorea>\u00a0watchlist 1.32.1  \n16:52\u00a0<vmassol>\u00a0mflorea: sure but that's not the problem  \n16:52\u00a0<vmassol>\u00a0the problem is that we need to start indicating our dependencies  \n16:52\u00a0<vmassol>\u00a0more cleanly  \n16:52\u00a0<vmassol>\u00a0if only for the extension manager  \n16:52\u00a0<vmassol>\u00a0but also for the release manager  \n16:53\u00a0<vmassol>\u00a0right now it's wrong as I said  \n16:53\u00a0<+mflorea>\u00a0what module are you referring to? right now only watchlist app is affected  \n16:53\u00a0<sburjan>\u00a0has quit  \n16:54\u00a0<vmassol>\u00a0app depends on watchlist plugin which depends on core 2.3.1  \n16:54\u00a0<+mflorea>\u00a0hmm  \n16:54\u00a0<vmassol>\u00a0so imagine the extension manager  \n16:55\u00a0<vmassol>\u00a0it'll consider that the watchlist app can be installed on a 2.3.1 or greater  \n16:56\u00a0<vmassol>\u00a0but even without talking about the ext manager  \n16:56\u00a0<vmassol>\u00a0we cannot expect the release manager to guess  \n16:56\u00a0<+mflorea>\u00a0hmm, but why is watchlist plugin depending on 2.3.1?  \n16:56\u00a0<vmassol>\u00a0because it works on 2.3.1 and above  \n16:56\u00a0<vmassol>\u00a0:)  \n16:56\u00a0<+mflorea>\u00a0ok  \n16:56\u00a0<vmassol>\u00a0someone with a 2.4 install could use the latest watchlist plugin/app  \n16:56\u00a0<vmassol>\u00a0till now  \n16:57\u00a0<vmassol>\u00a0we're restricting a lot the usage  \n16:57\u00a0<vmassol>\u00a0it'll now work only on a 3.0M1 or above  \n16:57\u00a0<vmassol>\u00a0so this is why I was asking if there was a way for quote escaping to work both on 1.6 and 1.7  \n16:57\u00a0<vmassol>\u00a0(velocity 1.6 and 1.7 that is)  \n16:58\u00a0<@sdumitriu>\u00a0${escapetool.q}  \n16:58\u00a0<vmassol>\u00a0have you verified it doesn't work?  \n16:58\u00a0<@sdumitriu>\u00a0I didn't even know  \n16:58\u00a0<@sdumitriu>\u00a0I didn't even know \\\" was supposed to work  \n16:58\u00a0<@sdumitriu>\u00a0But \"\" doesn't work under 1.6  \n17:00\u00a0<vmassol>\u00a0$escapetool.quote sounds good  \n17:00\u00a0<vmassol>\u00a0mflorea: wdyt?  \n17:01\u00a0<vmassol>\u00a0that should make it work with both versions  \n17:01\u00a0<@sdumitriu>\u00a0+1  \n17:02\u00a0<vmassol>\u00a0sounds like something to add to the velocity best practice guide on dev.xwiki.org. Needs a mail first to the devs list  \n17:02\u00a0<vmassol>\u00a0mflorea: you handling this?  \n17:02\u00a0<+mflorea>\u00a0vmassol: I don't understand: why a dependency on x.y in a pom.xml implies that that module will work with any version >= x.y  \n17:03\u00a0<vmassol>\u00a0mflorea: http://maven.apache.org/plugins/maven-enforcer-plugin/rules/versionRanges.html  \n17:03\u00a0<+mflorea>\u00a0\"\" is native syntax while $escapetool is a tool on top of the syntax. I personally prefer the syntax  \n17:05\u00a0<+mflorea>\u00a0vmassol: where is that range defined in the watchlist plugin pom?  \n17:06\u00a0<vmassol>\u00a0mflorea: right now it's:  \n17:06\u00a0<vmassol>\u00a0\u00a0<dependency>  \n17:06\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<groupId>com.xpn.xwiki.platform</groupId>  \n17:06\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<artifactId>xwiki-core</artifactId>  \n17:06\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<version>${platform.core.version}</version>  \n17:06\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<scope>provided</scope>  \n17:06\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0</dependency>  \n17:06\u00a0<vmassol>\u00a0we need to decide better how we define a dep on \"core\"  \n17:07\u00a0<+mflorea>\u00a0ok  \n17:07\u00a0<vmassol>\u00a0but we need to start being clean about our depds  \n17:07\u00a0<vmassol>\u00a0deps  \n17:07\u00a0<vmassol>\u00a0also we need to review how well or how badly maven 3.0.x handles ranges  \n17:07\u00a0<vmassol>\u00a0I recall some issues with the release plugin  \n17:08\u00a0<vmassol>\u00a0but we haven't upgraded to the latest version I think, have we?  \n17:08\u00a0<vmassol>\u00a0in any case at the very least we need to add a comment in the pom for the release manager so that he know the app is now only compat with 3.0M1  \n17:08\u00a0<vmassol>\u00a0(if we agree about doing this)  \n17:09\u00a0<vmassol>\u00a0(the other option being to use $escapetool.quote FTM)  \n17:10\u00a0<+mflorea>\u00a0ok, I'll use $escapetool.q  \n17:12\u00a0<vmassol>\u00a0note: we're using the latest release plugin  \n17:19\u00a0<npm\\_\\_>\u00a0is now known as <npm>  \n17:20\u00a0<npm>\u00a0has quit  \n17:20\u00a0<npm>\u00a0has joined #xwiki  \n17:20\u00a0<abusenius>\u00a0has quit  \n17:22\u00a0<evalica>\u00a0has quit  \n17:25\u00a0<Enygma`>\u00a0has quit  \n17:41\u00a0<rrodriguez>\u00a0has joined #xwiki  \n17:44\u00a0<vmassol>\u00a0much better test report: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/lastBuild/testReport/  \n17:44\u00a0<vmassol>\u00a0still a few selenium tests to fix  \n17:45\u00a0<+mflorea>\u00a0yep, I'm on it  \n17:45\u00a0<vmassol>\u00a0the pb with the escaping tests is that still they have never passed we don't know if we've had regressions or not  \n17:45\u00a0<vmassol>\u00a0s/still/since/  \n17:47\u00a0<@sdumitriu>\u00a0The vm templates should not have problems  \n17:48\u00a0<@sdumitriu>\u00a0Maybe they will pass in the next build, since I committed the XMLescape for the title  \n17:59\u00a0<SvenDowideit>\u00a0has quit  \n18:00\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n18:00\u00a0<+mflorea>\u00a0sdumitriu, vmassol: bad news, I don't have escapetool in the velocity context when parsing the watchlist notification mail.. must be a custom velocity context.  \n18:03\u00a0<@sdumitriu>\u00a0Trick  \n18:03\u00a0<@sdumitriu>\u00a0#set ($q = '\"')  \n18:03\u00a0<@sdumitriu>\u00a0Then use ${q}  \n18:03\u00a0<+mflorea>\u00a0:)  \n18:04\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:07\u00a0<rrodriguez>\u00a0has quit  \n18:07\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n18:17\u00a0<vmassol>\u00a0has quit  \n18:44\u00a0<jvelo>\u00a0has quit  \n18:48\u00a0<abusenius>\u00a0has joined #xwiki  \n19:23\u00a0<evalica>\u00a0has joined #xwiki  \n19:23\u00a0<sburjan`>\u00a0has quit  \n19:23\u00a0<rrodriguez>\u00a0has quit  \n19:26\u00a0<rrodriguez>\u00a0has joined #xwiki  \n19:27\u00a0<evalica>\u00a0has quit  \n19:31\u00a0<jvdrean>\u00a0has quit  \n19:39\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:51\u00a0<mflorea>\u00a0has quit  \n19:58\u00a0<sburjan`>\u00a0has joined #xwiki  \n20:04\u00a0<sburjan`>\u00a0has quit  \n20:04\u00a0<sburjan``>\u00a0has joined #xwiki  \n20:04\u00a0<sburjan``>\u00a0is now known as <sburjan`>  \n20:07\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n20:13\u00a0<sburjan\\_>\u00a0has quit  \n20:13\u00a0<jvdrean>\u00a0has quit  \n20:13\u00a0<cjdelisle>\u00a0has quit  \n20:13\u00a0<jbrBridge>\u00a0has quit  \n20:13\u00a0<xipe>\u00a0has quit  \n20:13\u00a0<SvenDowideit>\u00a0has quit  \n20:14\u00a0<rrodriguez>\u00a0has quit  \n20:17\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n20:18\u00a0<sburjan`>\u00a0is now known as <92AAB6RLX>  \n20:18\u00a0<sburjan`>\u00a0has joined #xwiki  \n20:18\u00a0<jvdrean>\u00a0has joined #xwiki  \n20:18\u00a0<cjdelisle>\u00a0has joined #xwiki  \n20:18\u00a0<jbrBridge>\u00a0has joined #xwiki  \n20:18\u00a0<xipe>\u00a0has joined #xwiki  \n20:37\u00a0<lpereira>\u00a0has joined #xwiki  \n20:53\u00a0<92AAB6RLX>\u00a0has quit  \n21:34\u00a0<jvdrean>\u00a0has quit  \n21:42\u00a0<polx>\u00a0has joined #xwiki  \n22:04\u00a0<polx>\u00a0has quit  \n22:13\u00a0<rrodriguez>\u00a0has joined #xwiki  \n22:23\u00a0<lpereira>\u00a0has quit  \n22:25\u00a0<mflorea>\u00a0has joined #xwiki  \n22:39\u00a0<polx>\u00a0has joined #xwiki  \n22:45\u00a0<polx>\u00a0has quit  \n22:46\u00a0<polx>\u00a0has joined #xwiki  \n22:53\u00a0<polx>\u00a0has quit  \n23:02\u00a0<npm>\u00a0has quit  \n23:03\u00a0<npm>\u00a0has joined #xwiki  \n23:14\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n23:14\u00a0<sdumitriu1>\u00a0has quit  \n\n"}