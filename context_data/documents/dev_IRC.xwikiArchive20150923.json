{"id": "dev:IRC.xwikiArchive20150923", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150923", "title": "IRC Archive for channel #xwiki on 23 September 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<ansuz>\u00a0has quit  \n00:09\u00a0<ansuz>\u00a0has joined #xwiki  \n00:59\u00a0<Slashman>\u00a0has joined #xwiki  \n01:25\u00a0<Slashman>\u00a0has quit  \n03:48\u00a0<cjd\\_>\u00a0has joined #xwiki  \n03:51\u00a0<cjd>\u00a0has quit  \n05:26\u00a0<Ramona1>\u00a0has joined #xwiki  \n05:45\u00a0<mflorea>\u00a0has joined #xwiki  \n05:54\u00a0<Ramona1>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:00\u00a0<Ramona1>\u00a0has joined #xwiki  \n07:01\u00a0<Ramona1>\u00a0has quit  \n07:43\u00a0<mflorea>\u00a0has quit  \n08:22\u00a0<vmassol>\u00a0has joined #xwiki  \n08:31\u00a0<Ramona2>\u00a0has joined #xwiki  \n08:32\u00a0<cjd\\_>\u00a0has quit  \n08:40\u00a0<msmeria>\u00a0has joined #xwiki  \n08:41\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:42\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:01\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:15\u00a0<cjd>\u00a0has joined #xwiki  \n09:23\u00a0<mflorea>\u00a0has joined #xwiki  \n09:40\u00a0<vmassol>\u00a0tmortagne: seems we have an export bug/limitation  \n09:40\u00a0<vmassol>\u00a0http://localhost:8080/xwiki/bin/export/Sandbox/WebHome?format=xar&pages=Main.WebHome&history=true fails but if I add the name parameter it works. We could make it work without having to specify a name and use some default (like the current page name for example). WDYT?  \n09:40\u00a0<vmassol>\u00a0checking the dco now  \n09:40\u00a0<vmassol>\u00a0\\*doc  \n09:41\u00a0<vmassol>\u00a0indeed the doc doesn't say that name is mandatory  \n09:41\u00a0<vmassol>\u00a0actually doc doesn't even document the name parameter :)  \n09:41\u00a0<Trefex>\u00a0has joined #xwiki  \n09:41\u00a0<vmassol>\u00a0checking code now  \n09:43\u00a0<vmassol>\u00a0hmmm  \n09:43\u00a0<vmassol>\u00a0it should work with a default name of \"export\" from what I see in the code  \n09:43\u00a0<vmassol>\u00a0(or \"backup\")  \n09:43\u00a0<vmassol>\u00a0debugging now  \n09:44\u00a0<tmortagne>\u00a0no name is supposed to mean the whole wiki AFAIK  \n09:44\u00a0<vmassol>\u00a0I'm not saying no pages  \n09:44\u00a0<tmortagne>\u00a0foget that I tough you were talking about page parameter  \n09:45\u00a0<tmortagne>\u00a0no name should work, it's probably very minor  \n09:45\u00a0<vmassol>\u00a0indeed  \n09:45\u00a0<vmassol>\u00a0the code returns \"export\" :)  \n09:45\u00a0<vmassol>\u00a0and stops  \n09:45\u00a0<tmortagne>\u00a0since the name we pass by default is the page reference we should simply use that by default IMO  \n09:45\u00a0<tmortagne>\u00a0(and probably stop passing it in the UI)  \n09:45\u00a0<vmassol>\u00a0we should change return \"export\"; by name = \"export\"  \n09:46\u00a0<vmassol>\u00a0and that should work fine  \n09:47\u00a0<vmassol>\u00a0I have a meeting in 15 minutes now so I can either work on this around 14:00 or you could do it if you want  \n09:47\u00a0<vmassol>\u00a0(note that I haven't reproduced amrita's issue)  \n09:48\u00a0<vmassol>\u00a0FTR the problem is on https://github.com/xwiki/xwiki-platform/blob/ff5dfcdeeb9b78b0cc230fd51687069eb5f2c763/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/web/ExportAction.java#L264-L264  \n10:00\u00a0<vmassol>\u00a0tmortagne: I've created http://jira.xwiki.org/browse/XWIKI-12607 I'll handle it later in the afternoon  \n10:01\u00a0<tmortagne>\u00a0vmassol: ok  \n10:01\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:02\u00a0<tmortagne>\u00a0vmassol: it was probably made like this on purpose given the code but I really don't see the point  \n10:02\u00a0<vmassol>\u00a0I've checked the history  \n10:02\u00a0<vmassol>\u00a0it was done by ludo a very long time ago  \n10:02\u00a0<vmassol>\u00a0and I think he just made a mistake  \n10:02\u00a0<vmassol>\u00a0anyway  \n10:02\u00a0<vmassol>\u00a0been like this for very long now and it's easyt o fix  \n10:06\u00a0<ol-ow2>\u00a0has joined #xwiki  \n10:08\u00a0<ldubost>\u00a0has joined #xwiki  \n10:32\u00a0<mflorea>\u00a0tmortagne: I checked a bit the 2 failing repository tests to see if they are still caused by my Solr changes and this time it seems the problem is that TestUtils#getInputStream returns null. I can access those pages outside the tests. I see you claimed these tests.  \n10:33\u00a0<tmortagne>\u00a0I claimed them before seeing the issue with solr actually  \n10:33\u00a0<mflorea>\u00a0ok, I can continue the investigation if you're busy with something else  \n10:34\u00a0<tmortagne>\u00a0no I will get back to it, if it's not solr then it's probably my rest test toolkit refactoring  \n10:34\u00a0<tmortagne>\u00a0I'm done with the perf report anyway  \n10:34\u00a0<mflorea>\u00a0ok, good, I'll check the other failing tests then  \n10:37\u00a0<tmortagne>\u00a0mflorea: it's only failing on master, right ?  \n10:37\u00a0<mflorea>\u00a0yes  \n10:37\u00a0<tmortagne>\u00a0ok  \n10:37\u00a0<tmortagne>\u00a0so it cannot really be anything else than the TestUtils refctaoring I guess  \n10:41\u00a0<Slashman>\u00a0has joined #xwiki  \n11:23\u00a0<ldubost>\u00a0has quit  \n11:25\u00a0<ldubost>\u00a0has joined #xwiki  \n11:31\u00a0<tmortagne>\u00a0cjd: looks like you are missing a <developpers> section in https://github.com/xwiki-contrib/realtime-backend/blob/master/pom.xml  \n11:32\u00a0<tmortagne>\u00a0right now the extension ends up with xwiki-commons developpers section (i.e. XWiki Dev Team)  \n11:33\u00a0<cjd>\u00a0that's a bit of an unfortunatel default ? \u00a0Do you suppose you could write the patch ?  \n11:34\u00a0<tmortagne>\u00a0cjd: it's not a default, this is the right information for xwiki-commons  \n11:34\u00a0<tmortagne>\u00a0you have to override it  \n11:42\u00a0<cjd>\u00a0Are you patching that ? \u00a0I have to fix something else so I will have to release  \n11:42\u00a0<gsmeria>\u00a0has quit  \n11:45\u00a0<ldubost2>\u00a0has joined #xwiki  \n11:46\u00a0<ldubost>\u00a0has quit  \n11:46\u00a0<ldubost2>\u00a0is now known as <ldubost>  \n11:46\u00a0<jvipa5g>\u00a0has joined #xwiki  \n11:47\u00a0<jvipa5g>\u00a0hi! as I can enable LDAP authentication on a standalone installation?  \n11:53\u00a0<jvipa5g>\u00a0hi! as I can enable LDAP authentication on a standalone installation?  \n11:58\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:16\u00a0<tmortagne>\u00a0jvipa5g: LDAP authenticator is included in the default XWiki Enterprise if that's the question  \n12:43\u00a0<jvipa5g>\u00a0exit  \n12:43\u00a0<jvipa5g>\u00a0has quit  \n13:10\u00a0<ldubost>\u00a0has quit  \n13:11\u00a0<ldubost>\u00a0has joined #xwiki  \n13:14\u00a0<ldubost>\u00a0has quit  \n13:34\u00a0<vmassol>\u00a0ok coming to get some news on the 7.2 release  \n13:35\u00a0<vmassol>\u00a0how are we on the CI? I see plenty of failing tests  \n13:35\u00a0<vmassol>\u00a0where can I help?  \n13:35\u00a0<tmortagne>\u00a0vmassol: there is not plenty for 7.2  \n13:36\u00a0<vmassol>\u00a0tmortagne: is it normal that the jmeter job is failing (didn't check yet)?  \n13:36\u00a0<tmortagne>\u00a0I'm looking at it  \n13:36\u00a0<tmortagne>\u00a0it's failing since the move as far as I can see  \n13:37\u00a0<tmortagne>\u00a0but when debugging it does not seems related to the environment  \n13:37\u00a0<tmortagne>\u00a0anyway I think I found a fix, currently running locally to check  \n13:37\u00a0<vmassol>\u00a0ok  \n13:37\u00a0<vmassol>\u00a05 tests failing for master, 4 for 7.2  \n13:37\u00a0<vmassol>\u00a0checking sonar job  \n13:38\u00a0<vmassol>\u00a012 failing ofr 6.4.x  \n13:38\u00a0<vmassol>\u00a0(not counting platform \u00a7`.4)  \n13:38\u00a0<vmassol>\u00a0\\*6.4  \n13:59\u00a0<ldubost>\u00a0has joined #xwiki  \n13:59\u00a0<ldubost>\u00a0has quit  \n14:01\u00a0<ldubost>\u00a0has joined #xwiki  \n14:17\u00a0<vmassol>\u00a0gdelhumeau: hi, I rmemeber seeing some comments from you saying that some feature was going to be more costly in perf now that we display titles, do you remember?  \n14:17\u00a0<gdelhumeau>\u00a0displaying titles in the livetable maybe?  \n14:17\u00a0<vmassol>\u00a0ah yes I think that's it  \n14:18\u00a0<vmassol>\u00a0has this been done already btw?  \n14:18\u00a0<gdelhumeau>\u00a0in the children/siblings views  \n14:19\u00a0<gdelhumeau>\u00a0note: not in the Document Inde  \n14:19\u00a0<vmassol>\u00a0so AllDocs doesn't display NS info nicely ATM?  \n14:19\u00a0<vmassol>\u00a0do we have a jira issue?  \n14:19\u00a0<vmassol>\u00a0(couldn't find one-  \n14:19\u00a0<vmassol>\u00a0)  \n14:20\u00a0<vmassol>\u00a0(it also means some discrepancies between livetabls)  \n14:21\u00a0<vmassol>\u00a0and displaying of \"WebHome\" in the UI :)  \n14:22\u00a0<vmassol>\u00a0https://www.evernote.com/l/AHesLUR3P8RID52aHFvjqw0K69TLhuBoXak  \n14:22\u00a0<gdelhumeau>\u00a0we had XWIKI-12218 which was close  \n14:22\u00a0<vmassol>\u00a0Location also displays the . apparently  \n14:22\u00a0<vmassol>\u00a0(just checked)  \n14:23\u00a0<gdelhumeau>\u00a0but it seems no proper jira issue  \n14:23\u00a0<vmassol>\u00a0I wonder if we couldn't use the breadcrumb display (or something like this) instead of the dot notation  \n14:23\u00a0<vmassol>\u00a0note that it would be less nice when copy pasting reference ;)  \n14:24\u00a0<vmassol>\u00a0(but that could be solved in a different way)  \n14:24\u00a0<vmassol>\u00a0and breadcrumb is probably too expensive in a LT  \n14:24\u00a0<vmassol>\u00a0but a view like the breadcrulmb could work  \n14:24\u00a0<vmassol>\u00a0anyway creating a jira issue for 7.3  \n14:34\u00a0<vmassol>\u00a0gdelhumeau: I've created XWIKI-12608  \n14:34\u00a0<gdelhumeau>\u00a0thx  \n14:56\u00a0<Ramona2>\u00a0has quit  \n15:13\u00a0<ldubost>\u00a0has quit  \n15:30\u00a0<gsmeria>\u00a0has left #xwiki  \n15:33\u00a0<vmassol>\u00a0mflorea: addFilter('hidden') is deprecated now, no? 'hidden/document' should be used instead, right?  \n15:33\u00a0<mflorea>\u00a0yep  \n15:33\u00a0<vmassol>\u00a0ok I'll fix the usages then  \n15:33\u00a0<vmassol>\u00a0(seems you left them as is)  \n15:33\u00a0<mflorea>\u00a0tmortagne added hidden/document and hidden/space  \n15:33\u00a0<mflorea>\u00a0where?  \n15:33\u00a0<vmassol>\u00a0ah ok thought it was you  \n15:33\u00a0<vmassol>\u00a0in wiki pages  \n15:34\u00a0<mflorea>\u00a0ah  \n15:35\u00a0<mflorea>\u00a0I remember I fixed it in the document tree  \n15:35\u00a0<vmassol>\u00a0yep seen that  \n15:36\u00a0<tmortagne>\u00a0vmassol: did not really tough much about whether \"hidden\" should be deprecated or not, just made sure a hidden/document version more consistent with hidden/space exist  \n15:36\u00a0<vmassol>\u00a0tmortagne: but do yu agree that having 2 is not the best option and that we should keep only 1?  \n15:37\u00a0<vmassol>\u00a0(and deprecate the other one)  \n15:38\u00a0<vmassol>\u00a0if we agree I can take care of it  \n15:38\u00a0<vmassol>\u00a0I've done the changes locally already  \n15:38\u00a0<tmortagne>\u00a0actually what I did is more or less a quick fix from my point of view. Ideally at some point I believe we should have a \"hidden\" filter that hide everything with the concept or hidden whatever (probably trough some extension point)  \n15:38\u00a0<ldubost>\u00a0has joined #xwiki  \n15:39\u00a0<vmassol>\u00a0BTW what is a 'hidden' space?  \n15:39\u00a0<vmassol>\u00a0(how do you make a space hidden?)  \n15:39\u00a0<tmortagne>\u00a0same as before, just a shortcut in space table  \n15:40\u00a0<vmassol>\u00a0before you had to set all the docs as hidden inside a space to make it hidden, no?  \n15:40\u00a0<tmortagne>\u00a0it's still the case  \n15:40\u00a0<tmortagne>\u00a0nobody is supposed to touch space table  \n15:40\u00a0<Trefex>\u00a0has quit  \n15:40\u00a0<tmortagne>\u00a0right now space table and dynamically generated based on modification on document table  \n15:40\u00a0<Trefex1>\u00a0has joined #xwiki  \n15:40\u00a0<vmassol>\u00a0ok so this field is acting as a cache  \n15:40\u00a0<tmortagne>\u00a0like the whole table yes :)  \n15:41\u00a0<vmassol>\u00a0when a new not hidden doc is added in a hidden space, the hidden field is reset to fasle  \n15:41\u00a0<vmassol>\u00a0correct?  \n15:42\u00a0<tmortagne>\u00a0yes and for all the space parents  \n15:42\u00a0<vmassol>\u00a0k thanks  \n16:14\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:14\u00a0<ldubost2>\u00a0has joined #xwiki  \n16:15\u00a0<ldubost>\u00a0has quit  \n16:26\u00a0<msmeria>\u00a0has quit  \n17:10\u00a0<mflorea>\u00a0has quit  \n17:13\u00a0<vmassol>\u00a0gdelhumeau: re the release and XWIKI-12570  \n17:14\u00a0<vmassol>\u00a0I see that XWIKI-12570 is marked as a rgeression, do we know when it was introduced?  \n17:14\u00a0<gdelhumeau>\u00a0no, and it's difficult to reproduce  \n17:16\u00a0<gdelhumeau>\u00a0but as a security issue, it's critical  \n17:17\u00a0<vmassol>\u00a0ok so we need Denis1's input on your last comments before we can start the release  \n17:18\u00a0<tmortagne>\u00a0vmassol: it's probably like since since we move to the new security module  \n17:18\u00a0<tmortagne>\u00a0s/move/moved/  \n17:19\u00a0<vmassol>\u00a0tmortagne: ok so we could consider that it's critical but that we could release 7.2 without it, right?  \n17:19\u00a0<vmassol>\u00a0(I've pinged Denis on skype, asking him to comment on gdelhumeau's comment)  \n17:19\u00a0<tmortagne>\u00a0unless the race condition that \"exploit\" it happen more often now  \n17:20\u00a0<tmortagne>\u00a0we since we don't know for sure what really cause it...  \n17:20\u00a0<gdelhumeau>\u00a0I'm already talking to Denis1, but he is off for now  \n17:20\u00a0<vmassol>\u00a0ok  \n17:36\u00a0<ol-ow2>\u00a0has quit  \n18:14\u00a0<ldubost>\u00a0has quit  \n18:19\u00a0<KermitTheFragger>\u00a0has quit  \n18:39\u00a0<Trefex1>\u00a0has quit  \n18:55\u00a0<vmassol>\u00a0has quit  \n18:55\u00a0<vmassol>\u00a0has joined #xwiki  \n19:00\u00a0<vmassol>\u00a0has quit  \n19:00\u00a0<vmassol>\u00a0has joined #xwiki  \n20:03\u00a0<gdelhumeau>\u00a0has quit  \n20:07\u00a0<ldubost>\u00a0has joined #xwiki  \n20:15\u00a0<cjd>\u00a0has quit  \n20:26\u00a0<Ramona1>\u00a0has joined #xwiki  \n20:36\u00a0<Slashman>\u00a0has quit  \n20:39\u00a0<ldubost>\u00a0has quit  \n20:39\u00a0<Slashman>\u00a0has joined #xwiki  \n20:45\u00a0<Slashman>\u00a0has quit  \n20:56\u00a0<vmassol>\u00a0has quit  \n20:57\u00a0<vmassol>\u00a0has joined #xwiki  \n20:58\u00a0<vmassol>\u00a0has quit  \n21:05\u00a0<cjd>\u00a0has joined #xwiki  \n21:49\u00a0<sdumitriu>\u00a0has quit  \n21:51\u00a0<Ramona1>\u00a0has quit  \n22:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:49\u00a0<mflorea>\u00a0has joined #xwiki  \n22:54\u00a0<woshilapin>\u00a0has quit  \n23:00\u00a0<mflorea>\u00a0has quit  \n23:58\u00a0<tmortagne>\u00a0has quit\n"}