{"id": "dev:IRC.xwikiArchive20150618", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150618", "title": "IRC Archive for channel #xwiki on 18 June 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n06:01\u00a0<Denis>\u00a0has joined #xwiki  \n06:03\u00a0<Denis1>\u00a0has quit  \n07:07\u00a0<msmeria>\u00a0has joined #xwiki  \n09:05\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:20\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:31\u00a0<cjd>\u00a0has joined #xwiki  \n09:35\u00a0<mflorea>\u00a0has joined #xwiki  \n09:38\u00a0<gsmeria>\u00a0has quit  \n09:41\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:02\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:05\u00a0<ClemensR>\u00a0has joined #xwiki  \n10:12\u00a0<Slashman>\u00a0has joined #xwiki  \n10:14\u00a0<cjd>\u00a0has quit  \n10:14\u00a0<vmassol>\u00a0has joined #xwiki  \n10:15\u00a0<vmassol>\u00a0yeah I'm back :)  \n10:20\u00a0<lucaa>\u00a0has joined #xwiki  \n10:21\u00a0<cjd>\u00a0has joined #xwiki  \n10:22\u00a0<Trefex>\u00a0has joined #xwiki  \n10:25\u00a0<vmassol>\u00a0BTW guys we\"ve increased quite a lot the size of XE in 7.1: +14MB  \n10:25\u00a0<vmassol>\u00a0https://www.evernote.com/l/AHeoW5wLif9LwqNbItVqgFUOuiHipy8rINA  \n10:37\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:43\u00a0<tmortagne>\u00a0vmassol: looks like we ends up with a new jar in 7.1 called grib which is pretty big (5M)  \n10:44\u00a0<tmortagne>\u00a0seems to come from tika  \n10:44\u00a0<tmortagne>\u00a0(which trigger a lots of dependencies for all the files formats it support)  \n10:45\u00a0<tmortagne>\u00a0jython is also 10M bigger than in 6.4.4 as far as I can see  \n10:46\u00a0<tmortagne>\u00a0it's probably our biggest dependency  \n10:48\u00a0<tmortagne>\u00a0something a bit weirder, we ends up with sqlite connector  \n10:48\u00a0<tmortagne>\u00a0comming from tika too... they have some exotic dependencies for a file parser  \n11:09\u00a0<evalica>\u00a0has joined #xwiki  \n11:12\u00a0<gsmeria>\u00a0has quit  \n11:24\u00a0<davekempe\\_>\u00a0has joined #xwiki  \n11:27\u00a0<davekempe\\_>\u00a0hey guys, I stupidly did an apt-get dist-upgrade on ubuntu 14.04 which upgraded xwiki from 6.4 to 7.1, and now it is broken. Anyone care to point me in the right direction to start trying to figure out this error: https://gist.github.com/anonymous/49e7810f8e0996c14691  \n11:27\u00a0<davekempe\\_>\u00a0https://gist.github.com/anonymous/1d68d32c6a885f433218 this is what I get in the web interface  \n11:44\u00a0<gsmeria>\u00a0has joined #xwiki  \n11:47\u00a0<ClemensR>\u00a0davekempe\\_ not sure, but it looks like a bug that actually was a 6.4 issue: http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki64  \n11:48\u00a0<ClemensR>\u00a0maybe if you move away the \"solr\" subdir from the permanent dir and restart the server, this helps to fix the problem  \n11:49\u00a0<ClemensR>\u00a0this directory should be in /var/lib/xwiki/data  \n11:59\u00a0<davekempe\\_>\u00a0thanks for the suggest ClemensR. didn't work unfortunately.  \n12:00\u00a0<ClemensR>\u00a0yep, after reading more carefully I see it says \"Failed to initialize the IconSet Cache\" ... nothing to do with SolR  \n12:00\u00a0<davekempe\\_>\u00a0Caused by: org.infinispan.commons.CacheConfigurationException: ISPN000327: Cannot find a parser for element 'infinispan' in namespace 'urn:infinispan:config:5.1'. Check that your configuration is up-to date for this version of Infinispan.  \n12:00\u00a0<davekempe\\_>\u00a0that seems like the cause, the config for this component isn't included somehow  \n12:01\u00a0<davekempe\\_>\u00a0the package upgrade process doesn't seem to provide them, so not sure what to do  \n12:01\u00a0<ClemensR>\u00a0as XWiki didnt really start, maybe you can use apt pinning to install the older version  \n12:02\u00a0<davekempe\\_>\u00a0yeah I can install the older version  \n12:02\u00a0<davekempe\\_>\u00a0ok  \n12:03\u00a0<ClemensR>\u00a0I will try to reproduce it locally, it is not good that the upgrade fails  \n12:05\u00a0<tmortagne>\u00a0davekempe\\_: make sure you have the top level package you are expecting  \n12:05\u00a0<davekempe\\_>\u00a0xwiki-enterprise-tomcat7-mysql ?  \n12:06\u00a0<tmortagne>\u00a0I saw some weird behavior of apt-get upgrade that was removing some package because one of the subpackages change names while the upgrade was working well when installing the top level package directly  \n12:06\u00a0<tmortagne>\u00a0yes  \n12:06\u00a0<davekempe\\_>\u00a0yeah they are all 7.1.1 now  \n12:06\u00a0<davekempe\\_>\u00a0i'm trying to downgrade them back to 6.4.2  \n12:06\u00a0<tmortagne>\u00a0note that I just did a 7.0+3 -> 7.1.1 debian upgrade and it worked well  \n12:07\u00a0<davekempe\\_>\u00a0ok good to know  \n12:07\u00a0<davekempe\\_>\u00a0perhaps I should step up a little slower  \n12:07\u00a0<tmortagne>\u00a0(sorry I have to go)  \n12:08\u00a0<davekempe\\_>\u00a0np thanks for pitching in  \n12:10\u00a0<ClemensR>\u00a0I cannot reproduce it when updating the \"jetty-hsql\" package from 6.4 to 7.1 :( \u00a0... so it must be something specific to the debian package, or some other weird thing  \n12:11\u00a0<ClemensR>\u00a0unfortunately I have no debian installed 6.4 around to test this atm :-/  \n12:16\u00a0<davekempe\\_>\u00a0doh  \n12:16\u00a0<davekempe\\_>\u00a0i have a backup of this VM, so I can try other things  \n12:19\u00a0<Trefex>\u00a0has quit  \n12:20\u00a0<davekempe\\_>\u00a0ok got it back to 6.4.2  \n12:21\u00a0<davekempe\\_>\u00a0log is having a freakout about solr  \n12:21\u00a0<davekempe\\_>\u00a0lots of this stuff ] ERROR o.x.s.s.i.DefaultSolrIndexer \u00a0\u00a0- Failed to process entry [INDEX Attachment xwiki:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)]  \n12:21\u00a0<davekempe\\_>\u00a0java.lang.NoClassDefFoundError: Could not initialize class javax.imageio.ImageIO  \n12:22\u00a0<ClemensR>\u00a0maybe start tomcat with -Djava.awt.headless=true  \n12:23\u00a0<ClemensR>\u00a0hm, that should be in the default config in /etc/default/tomcat7 anyway  \n12:24\u00a0<davekempe\\_>\u00a0yeah tis  \n12:31\u00a0<ClemensR>\u00a0maybe this problem: http://stackoverflow.com/questions/22475739/could-not-initialize-class-javax-imageio-imageio  \n12:32\u00a0<davekempe\\_>\u00a0yeah that might help. I have it back up on 6.4.2 now  \n12:32\u00a0<davekempe\\_>\u00a0so i'm gonna leave it now and figure out a better upgrade plan  \n12:32\u00a0<davekempe\\_>\u00a0thanks for your help  \n12:33\u00a0<davekempe\\_>\u00a0i \u00a0really appreciate you googling random stuff for a stranger :)  \n12:45\u00a0<vmassol>\u00a0has quit  \n12:45\u00a0<vmassol>\u00a0has joined #xwiki  \n12:51\u00a0<lucaa>\u00a0has quit  \n12:54\u00a0<cjd>\u00a0has quit  \n12:58\u00a0<vmassol1>\u00a0has joined #xwiki  \n12:58\u00a0<vmassol>\u00a0has quit  \n13:32\u00a0<vmassol1>\u00a0has quit  \n13:32\u00a0<vmassol>\u00a0has joined #xwiki  \n13:36\u00a0<Enygma`>\u00a0has quit  \n13:37\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:48\u00a0<cjd>\u00a0has joined #xwiki  \n13:50\u00a0<chalx>\u00a0has joined #xwiki  \n13:56\u00a0<OSIMasson>\u00a0has joined #xwiki  \n14:56\u00a0<meaustin>\u00a0has joined #xwiki  \n14:57\u00a0<meaustin>\u00a0has left #xwiki  \n15:00\u00a0<msmeria>\u00a0has quit  \n15:10\u00a0<lucaa>\u00a0has joined #xwiki  \n15:12\u00a0<OSIMasson>\u00a0has quit  \n15:31\u00a0<gsmeria1>\u00a0has joined #xwiki  \n15:31\u00a0<gsmeria>\u00a0has quit  \n15:44\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:15\u00a0<lucaa>\u00a0has quit  \n16:15\u00a0<lucaa1>\u00a0has joined #xwiki  \n16:18\u00a0<Trefex>\u00a0has joined #xwiki  \n16:18\u00a0<lucaa1>\u00a0has quit  \n16:19\u00a0<lucaa>\u00a0has joined #xwiki  \n16:29\u00a0<Trefex>\u00a0has quit  \n16:36\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n17:01\u00a0<vmassol>\u00a0mflorea: you stole my commit :)  \n17:01\u00a0<vmassol>\u00a0(see mail I've just sent to the list)  \n17:01\u00a0<vmassol>\u00a0this is a mystery to me!  \n17:02\u00a0<vmassol>\u00a0and check above at 16:59  \n17:02\u00a0<mflorea>\u00a0:|  \n17:02\u00a0<vmassol>\u00a0any idea?  \n17:03\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/commit/4c4a367de5d305455dda91e4fcfc02ef7ac42374  \n17:03\u00a0<mflorea>\u00a0no idea  \n17:05\u00a0<vmassol>\u00a0any git/github expert here? :)  \n17:15\u00a0<tmortagne>\u00a0vmassol: it's behaving as if you applied a PR from mflorea, maybe some bug  \n17:15\u00a0<gsmeria1>\u00a0has quit  \n17:19\u00a0<mflorea>\u00a0I'm thinking this can happen if you cherry-pick a commit done by someone else, discard somehow the changes, make your changes and then commit  \n17:20\u00a0<tmortagne>\u00a0has quit  \n17:20\u00a0<mflorea>\u00a0I think git remembers the author of the commits that was cherry-picked  \n18:12\u00a0<cjd>\u00a0has quit  \n18:23\u00a0<mflorea>\u00a0has quit  \n18:26\u00a0<evalica>\u00a0has quit  \n18:26\u00a0<Enygma`>\u00a0has quit  \n18:40\u00a0<gdelhumeau>\u00a0has quit  \n19:01\u00a0<Slashman>\u00a0has quit  \n19:07\u00a0<vmassol>\u00a0hmmm  \n19:07\u00a0<vmassol>\u00a0who's null? :)  \n19:07\u00a0<vmassol>\u00a0must be a programmer's child to be named like that!  \n19:08\u00a0<vmassol>\u00a0(just kidding of course)  \n19:11\u00a0<sdumitriu>\u00a0has quit  \n19:16\u00a0<ClemensR>\u00a0has left #xwiki  \n19:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:37\u00a0<lucaa>\u00a0has quit  \n19:54\u00a0<cjd>\u00a0has joined #xwiki  \n20:52\u00a0<MasterPiece>\u00a0has joined #xwiki  \n20:52\u00a0<vmassol>\u00a0has quit  \n21:02\u00a0<comlaaron>\u00a0has joined #xwiki  \n21:03\u00a0<comlaaron>\u00a0hello  \n21:04\u00a0<comlaaron>\u00a0i installed xwiki 6.4.4, and the solr search plugin, but still cannot find the search dialog, please help  \n21:17\u00a0<comlaaron>\u00a0has quit  \n21:26\u00a0<OSIMasson>\u00a0has quit  \n21:32\u00a0<abusenius>\u00a0has joined #xwiki  \n22:07\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:29\u00a0<MasterPiece>\u00a0has quit  \n22:30\u00a0<Bugen\\_do>\u00a0has quit\n"}