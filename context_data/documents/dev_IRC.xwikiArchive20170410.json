{"id": "dev:IRC.xwikiArchive20170410", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20170410", "title": "IRC Archive for channel #xwiki on 10 April 2017 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<mflorea>\u00a0has quit  \n03:46\u00a0<edvorg>\u00a0has joined #xwiki  \n04:28\u00a0<edvorg>\u00a0has quit  \n06:21\u00a0<mflorea>\u00a0has joined #xwiki  \n07:14\u00a0<mflorea>\u00a0has quit  \n07:56\u00a0<Slashman>\u00a0has joined #xwiki  \n08:16\u00a0<sdumitriu>\u00a0has quit  \n08:30\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:45\u00a0<mflorea>\u00a0has joined #xwiki  \n09:01\u00a0<msmeria>\u00a0has joined #xwiki  \n09:26\u00a0<Pbas>\u00a0has joined #xwiki  \n09:41\u00a0<vmassol>\u00a0good morning  \n09:41\u00a0<vmassol>\u00a0FYI I'm going \u00a0to modify slightly the PackageMojo to also copy files from src/main/data (the default src) after it expands the jetty distribution to allow tests to inject some config in the permanent dir  \n09:42\u00a0<vmassol>\u00a0let me know quickly if you don't think it's a good idea :)  \n09:43\u00a0<tmortagne>\u00a0sounds good  \n09:44\u00a0<tmortagne>\u00a0what kind of conf do you have in permanent dir ?  \n09:44\u00a0<vmassol>\u00a0for the mail test  \n09:44\u00a0<vmassol>\u00a0some preexisting serialized messages  \n09:44\u00a0<vmassol>\u00a0to resend on xwiki startup  \n09:44\u00a0<tmortagne>\u00a0ok so not really conf  \n09:44\u00a0<tmortagne>\u00a0data  \n09:44\u00a0<vmassol>\u00a0yes data  \n09:44\u00a0<vmassol>\u00a0but could be anything  \n09:45\u00a0<tmortagne>\u00a0well we are not really supposed to have much conf in there, except solr right now  \n09:45\u00a0<vmassol>\u00a0another example of usage  \n09:46\u00a0<vmassol>\u00a0would be to have some pre-installed extensions that can then get installed in xwiki without internet connection  \n09:46\u00a0<vmassol>\u00a0(to automatically test offline usage)  \n09:47\u00a0<tmortagne>\u00a0as I said, it's a good idea, I was just suprised by \"some config in the permanent dir\" that does not sounds like the main use case to me :)  \n09:47\u00a0<vmassol>\u00a0in any case it doesn't cost much to do it, and I'm sure we can find use cases for it in the future  \n09:47\u00a0<vmassol>\u00a0ok  \n09:52\u00a0<vmassol>\u00a0Reminder to all: we need to have a stable build before end of week  \n09:53\u00a0<vmassol>\u00a0since we release 9.3RC1 next Monday  \n09:53\u00a0<vmassol>\u00a0RM is Enygma` :)  \n10:05\u00a0<vmassol>\u00a0tmortagne: actually I could have done it with the maven resource plugin bound to the right phase since starting of XWiki is done by the test and the packager plugin only does the creation of the expanded xwiki directory  \n10:06\u00a0<vmassol>\u00a0I've finished coding it but i'm now having second doubt before committing it :)  \n10:06\u00a0<vmassol>\u00a0for ex if I want to generate the mail messages from the test instead of saving \"binaries\" in src/main/data  \n10:07\u00a0<vmassol>\u00a0so I may not even use it for my use case after all ...  \n10:10\u00a0<vmassol>\u00a0in any case, I won't be able to test this automatically for the mail use case...  \n10:10\u00a0<vmassol>\u00a0it's too complex  \n10:11\u00a0<vmassol>\u00a0since I need a mail status in the DB too (in addition to a serialized message in the data dir)  \n10:12\u00a0<vmassol>\u00a0I could do it with an XWiki Event Listener listening to ApplicationReadyEvent but I'd need that listener to be called before the Listener I want to test :)  \n10:12\u00a0<vmassol>\u00a0and currently we don't have any order...  \n10:13\u00a0<vmassol>\u00a0I could override the listener I want to test with a test component with a higher priority  \n10:13\u00a0<vmassol>\u00a0it would be close to the real thing...  \n10:38\u00a0<evalica>\u00a0has joined #xwiki  \n10:38\u00a0<vmassol>\u00a0dropping it, it's too complex and i won't have the time  \n10:39\u00a0<vmassol>\u00a0btw guys, I rebuilt enteprrise over the week end and I get a non functional XE  \n10:40\u00a0<vmassol>\u00a0\\*got  \n10:40\u00a0<vmassol>\u00a0will retry now  \n10:57\u00a0<vmassol>\u00a0hmm weird  \n10:57\u00a0<vmassol>\u00a0my listener is called before the first request  \n10:58\u00a0<Enygma`>\u00a0vmassol: about the release, Moday is off (Easter)  \n10:58\u00a0<vmassol>\u00a0even though it listens to ApplicationReadyEvent  \n10:58\u00a0<vmassol>\u00a0Enygma: ah ok, then Tuesday I guess  \n10:58\u00a0<Enygma`>\u00a0so not a good day for the release  \n10:58\u00a0<Enygma`>\u00a0yes, most likely  \n10:59\u00a0<vmassol>\u00a0actually it's loaded not called  \n10:59\u00a0<vmassol>\u00a0https://gist.githubusercontent.com/vmassol/d7a6f2a1db616916a16c7387bc8b40b6/raw/0184961d69c88c9c1bb0d358610d40018c8d567e/gistfile1.txt  \n10:59\u00a0<vmassol>\u00a0debgging  \n10:59\u00a0<tmortagne>\u00a0vmassol: all listeners are initialized when OM is called the first time  \n11:00\u00a0<tmortagne>\u00a0so very early  \n11:00\u00a0<vmassol>\u00a0yes  \n11:01\u00a0<tmortagne>\u00a0so you can't inject anything that expect the database to be ready in a listener  \n11:01\u00a0<tmortagne>\u00a0only lazily  \n11:01\u00a0<vmassol>\u00a0indeed, thanks  \n11:02\u00a0<vmassol>\u00a0had forgotten  \n11:14\u00a0<acotiuga>\u00a0has joined #xwiki  \n13:02\u00a0<sdumitriu>\u00a0has joined #xwiki  \n13:22\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:26\u00a0<msmeria>\u00a0has quit  \n15:01\u00a0<woshilapin>\u00a0has joined #xwiki  \n15:01\u00a0<KermitTheFragger>\u00a0has quit  \n15:14\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n15:21\u00a0<msmeria>\u00a0has joined #xwiki  \n15:22\u00a0<msmeria1>\u00a0has quit  \n16:59\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n17:01\u00a0<msmeria>\u00a0has quit  \n17:08\u00a0<dmidma>\u00a0has joined #xwiki  \n17:19\u00a0<mflorea>\u00a0has quit  \n17:24\u00a0<KermitTheFragger>\u00a0has quit  \n17:39\u00a0<tillo>\u00a0has quit  \n17:41\u00a0<tillo\\_>\u00a0has quit  \n17:57\u00a0<acotiuga>\u00a0has quit  \n18:11\u00a0<tillo>\u00a0has joined #xwiki  \n18:12\u00a0<tillo\\_>\u00a0has joined #xwiki  \n19:33\u00a0<dmidma>\u00a0has quit  \n19:37\u00a0<Slashman>\u00a0has quit  \n20:14\u00a0<evalica>\u00a0has quit\n"}