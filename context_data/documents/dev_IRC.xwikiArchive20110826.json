{"id": "dev:IRC.xwikiArchive20110826", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110826", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:15\u00a0<rrodriguez>\u00a0has joined #xwiki  \n00:29\u00a0<mflorea>\u00a0has quit  \n02:28\u00a0<pturcotte>\u00a0has joined #xwiki  \n03:42\u00a0<pturcotte>\u00a0has quit  \n04:10\u00a0<bbc581>\u00a0has joined #xwiki  \n04:25\u00a0<sdumitriu>\u00a0has quit  \n04:40\u00a0<bbc581>\u00a0has left #xwiki  \n04:42\u00a0<polx\\_>\u00a0has joined #xwiki  \n04:43\u00a0<sdumitriu>\u00a0has joined #xwiki  \n04:44\u00a0<polx>\u00a0has quit  \n04:44\u00a0<polx\\_>\u00a0is now known as <polx>  \n04:44\u00a0<sdumitriu>\u00a0has quit  \n04:46\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:12\u00a0<pturcotte>\u00a0has joined #xwiki  \n05:12\u00a0<sdumitriu>\u00a0has quit  \n05:14\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:22\u00a0<pturcotte>\u00a0has quit  \n05:23\u00a0<pturcotte>\u00a0has joined #xwiki  \n05:32\u00a0<DrLou>\u00a0has quit  \n06:29\u00a0<sdumitriu>\u00a0has quit  \n08:14\u00a0<mflorea>\u00a0has joined #xwiki  \n08:44\u00a0<amon>\u00a0Is there documentation anywhere on exactly how to get and install a plug in? Does not seem to be any indication of how to do so on the OfficeImporter plugin doc page. Can't even find refererence to 'XWiki plugin install' in searches.  \n08:44\u00a0<amon>\u00a0I'd RTFM if I could FTFM ;-)  \n08:45\u00a0<vmassol>\u00a0has joined #xwiki  \n08:45\u00a0<amon>\u00a0Ah, vmassol, just the right person!  \n08:46\u00a0<vmassol>\u00a0just waking up\u2026 :)  \n08:46\u00a0<amon>\u00a0I cannot find instructions on how to install a plugin, ie the OfficeImporter to be exact.  \n08:47\u00a0<amon>\u00a0The plugin looks like just what we need but doesn't say how to get the thing or how to install it.  \n08:47\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application  \n08:47\u00a0<vmassol>\u00a0as you can see on that page it's bundled with XE so you don't need to install it it's already there  \n08:47\u00a0<amon>\u00a0Let me see if that is what I have.  \n08:49\u00a0<amon>\u00a0Okay, I have an Import drop down menu that has an Office item. Is that it then?  \n08:49\u00a0<vmassol>\u00a0check http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application it's has screenshots  \n08:52\u00a0<amon>\u00a0That seems to be the Application. The doc on OfficeImporter seemed to indicate the plugin was preferable to the Application if you were going to edit things rather than just import doc files.  \n08:52\u00a0<amon>\u00a0Should the plugin be there as well as the application?  \n08:52\u00a0<vmassol>\u00a0I don't know what you're talking about  \n08:52\u00a0<vmassol>\u00a0there's no plugin I know of  \n08:53\u00a0<amon>\u00a0\u00a0http://platform.xwiki.org/xwiki/bin/Features/OfficeImporter#HOfficeImporterWYSIWYGPlugin  \n08:54\u00a0<vmassol>\u00a0ah that's a wysiwyg extension  \n08:54\u00a0<amon>\u00a0so 'plugin' is synonomous with 'extension' in XWiki?  \n08:54\u00a0<vmassol>\u00a0no no  \n08:55\u00a0<vmassol>\u00a0there are lots terminology  \n08:55\u00a0<vmassol>\u00a0we used to have plugins but that's old technology replaced by components  \n08:55\u00a0<vmassol>\u00a0however specifically for the wysiwyg component, marius has used the term plugin to extend the wysiwyg  \n08:55\u00a0<@cjdelisle>\u00a0the word 'plugin' was used to mean a specific api which has since been depricated so we dropped the name as well.  \n08:56\u00a0<vmassol>\u00a0mflorea: where is the officeimporter plugin located?  \n08:56\u00a0<vmassol>\u00a0is it bundled in the officeimporter app?  \n08:57\u00a0<vmassol>\u00a0is it located in the wysiwyg modules?  \n08:57\u00a0<+mflorea>\u00a0office importer plugin is a wysiwyg plugin, and you have it by default  \n08:57\u00a0<amon>\u00a0Doc seemed to indicate not... but I don't know enough about terminology to figure out what is what.  \n08:58\u00a0<amon>\u00a0okay.  \n08:58\u00a0<+mflorea>\u00a0you have the Import menu in wysiwyg no?  \n08:58\u00a0<amon>\u00a0Yes, there is an Import->Office  \n08:58\u00a0<vmassol>\u00a0mflorea: I'd like to know if the doc is correctly located.Can you reply to my question above?  \n08:58\u00a0<amon>\u00a0That is what I was asking earlier, if that is it  \n08:59\u00a0<+mflorea>\u00a0amon: yes, (it's obvious for me)  \n08:59\u00a0<+mflorea>\u00a0vmassol: I don't understand your question  \n09:00\u00a0<+mflorea>\u00a0(btw, I was replying to amon's mail)  \n09:00\u00a0<vmassol>\u00a0where is the wysiwyg officeilmporter plugin code located?  \n09:00\u00a0<+mflorea>\u00a0in the xwiki-platform/xwiki-platoform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client  \n09:01\u00a0<vmassol>\u00a0hmmm ok not very good, you still haven't found a way to externalize it then  \n09:01\u00a0<+mflorea>\u00a0(like all wysiwyg edit plugins)  \n09:01\u00a0<vmassol>\u00a0this means that if we don't install the openoffice app we still have the openoffice plugin in the whysiwyg  \n09:01\u00a0<+mflorea>\u00a0yes  \n09:01\u00a0<vmassol>\u00a0\\*wysiwyg  \n09:02\u00a0<+mflorea>\u00a0(I guess you're talking about future, when we have EM and office importer app will not be bundled by default)  \n09:03\u00a0<vmassol>\u00a0amon: is the doc less confusing now?  \n09:03\u00a0<vmassol>\u00a0mflorea: yes I mean about each feature of xwiki being all packaged together  \n09:05\u00a0<amon>\u00a0let me take a look. You mean on the page the wikibot just named?  \n09:05\u00a0<vmassol>\u00a0yes  \n09:05\u00a0<+mflorea>\u00a0amon: I replied to your mail  \n09:05\u00a0<vmassol>\u00a0breakfast time here\u2026 bbl  \n09:05\u00a0<+mflorea>\u00a0for me too ;)  \n09:07\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:07\u00a0<@cjdelisle>\u00a0Found what broke the Registration test  \n09:07\u00a0<@cjdelisle>\u00a0All gotoPage() methods should be static in order to follow the PageObject strategy.  \n09:08\u00a0<+mflorea>\u00a0:)  \n09:09\u00a0<amon>\u00a0okay, looked it over. The documentation is fine for using the thing... it was just that work Plugin which you've now dropped which sent me off into never-never land :-)  \n09:09\u00a0<amon>\u00a0er, 'word' not 'work'  \n09:11\u00a0<amon>\u00a0It's now 3am here so I think I had better call it a night... and besides which the server my VM is on just went into a maintenance window so I can't try anything more right now anyway!  \n09:12\u00a0<amon>\u00a0Thanks for chatting btw. Hopefully I'm helping as well by explaining the ways in which a new pair of eyes can be misled.  \n09:14\u00a0<+mflorea>\u00a0you are  \n09:16\u00a0<tmortagne>\u00a0has quit  \n09:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:23\u00a0<arkub>\u00a0has joined #xwiki  \n09:28\u00a0<vmassol>\u00a0cjdelisle: oops\u2026..  \n09:29\u00a0<florinciu>\u00a0has joined #xwiki  \n09:29\u00a0<@cjdelisle>\u00a0I started out refactoring it but it really didn't work if gotoPage is going to be static so I'm just trying to see if I can get it fixed now.  \n09:29\u00a0<vmassol>\u00a0it should be easy to fix and keep gotoPage static  \n09:30\u00a0<vmassol>\u00a0if I understand the problem I can help  \n09:32\u00a0<@cjdelisle>\u00a0RegisterTest uses getRegistrationPage() to get the page because it can be subclassed to return a different page.  \n09:34\u00a0<@cjdelisle>\u00a0It looks like what's in the repo won't even build ATM.  \n09:36\u00a0<vmassol>\u00a0I still don't get it why it builds fine locally  \n09:37\u00a0<vmassol>\u00a0this method should be removed too IMO: protected AbstractRegistrationPage getRegistrationPage()  \n09:37\u00a0<vmassol>\u00a0I didn't remove it because I thought it was overridden but it doesn't seem to be so  \n09:37\u00a0<@cjdelisle>\u00a0So you are suggesting the whole design be changed?  \n09:38\u00a0<vmassol>\u00a0I don't know enough to understand if it means this  \n09:38\u00a0<vmassol>\u00a0removing one method doesn't seem to change the whole design to me  \n09:38\u00a0<vmassol>\u00a0but what I know  \n09:38\u00a0<vmassol>\u00a0is that doing new of a PO class something is not very PO-oriented  \n09:39\u00a0<vmassol>\u00a0(you should get the instance by \"navigating\" and get it by calling other apis)  \n09:39\u00a0<@cjdelisle>\u00a0What broke the test was that you stopped calling that method.  \n09:40\u00a0<vmassol>\u00a0that's easy to fix, let me find the hitory  \n09:41\u00a0<@cjdelisle>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/administration/RegisterFromAdministrationTest.java#L42  \n09:42\u00a0<vmassol>\u00a0arfff\u2026 I was looking at the wrong test yesterday...  \n09:42\u00a0<vmassol>\u00a0I was trying to reproduce with RegisterWithoutLiveValidationTest  \n09:42\u00a0<@cjdelisle>\u00a0That extends RegisterTest  \n09:42\u00a0<vmassol>\u00a0didn't realize there were several extending RegisterTest  \n09:43\u00a0<vmassol>\u00a0I'll fix it  \n09:43\u00a0<vmassol>\u00a0(since I broke it)  \n09:44\u00a0<@cjdelisle>\u00a0I'm halfway through it atm  \n09:45\u00a0<vmassol>\u00a0ok found where I mad the mistake: https://github.com/xwiki/xwiki-enterprise/commit/50c57c1bf13a445f03e7049ab886540994d78020#L0L48  \n09:47\u00a0<vmassol>\u00a0it can be fixed by having a gotoRegistrationPage() in the different tests  \n09:47\u00a0<vmassol>\u00a0and having an AbstractRegistrationTest class  \n09:47\u00a0<vmassol>\u00a0extended by all  \n09:47\u00a0<vmassol>\u00a0all tests that is  \n09:50\u00a0<vmassol>\u00a0hmm do you guys see the dashboard when going to http://ci.xwiki.org/  \n09:50\u00a0<vmassol>\u00a0it's empty for me, only the left bar is shown  \n09:50\u00a0<vmassol>\u00a0h back  \n09:50\u00a0<vmassol>\u00a0s/h/ah/  \n09:50\u00a0<vmassol>\u00a0mflorea: you're fixing the wysiwyg tests?  \n09:51\u00a0<+mflorea>\u00a0yep  \n09:51\u00a0<vmassol>\u00a0ok  \n09:52\u00a0<+mflorea>\u00a0FF6 adds a \\n at the end of the content. I need to understand if it's caused by something in my code or not  \n09:52\u00a0<vmassol>\u00a0mflorea: btw you fixed the \\\\ for me when creating a new page :)  \n09:52\u00a0<+mflorea>\u00a0cool :)  \n09:52\u00a0<vmassol>\u00a0I'm very happy this was a pain before  \n10:09\u00a0<arkub>\u00a0has quit  \n10:39\u00a0<florinciu>\u00a0has quit  \n10:46\u00a0<DrLou>\u00a0has joined #xwiki  \n10:49\u00a0<florinciu>\u00a0has joined #xwiki  \n11:12\u00a0<arkub>\u00a0has joined #xwiki  \n11:16\u00a0<@cjdelisle>\u00a0tmortagne: re your response to the pointer proposal, were you suggesting trying to remove every copy of the document which is cached? Trying to guess the names for a document will be haphazard even having the document in hand. Even if we are perfect, we will still be exasturbating the problems caused by document id collision.  \n11:17\u00a0<@cjdelisle>\u00a0Another option is to keep a \"back cache\" which would have each document and the names for it. This would also be complex although with a WeakHashMap it would be possible.  \n11:18\u00a0<+tmortagne>\u00a0cjdelisle: the name is not that random, I don't see what' difficult is find the only two possible names when you have the XWikiDocument object...  \n11:19\u00a0<@cjdelisle>\u00a0Can you prove that?  \n11:19\u00a0<+tmortagne>\u00a0prove what ? just look at the code  \n11:19\u00a0<vmassol>\u00a0cjdelisle: your commit doesn't compile: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/135/console  \n11:20\u00a0<+tmortagne>\u00a0what else could you have except the full qualified name and the full qualified name plus the language ?  \n11:20\u00a0<+tmortagne>\u00a0there is no reason to have anything else  \n11:20\u00a0<@cjdelisle>\u00a0I would rather, especially when dealing with the cache, only do things which I can prove on paper are going to work 100% of the time.  \n11:20\u00a0<+tmortagne>\u00a0and it's just because we can't guess the language without the XwikiDocument object  \n11:21\u00a0<@cjdelisle>\u00a0The burdon of proof should not be on me to find a bug which will slip by, it should be on you to prove that none can.  \n11:21\u00a0<+tmortagne>\u00a0cjdelisle: I'm 100% sure that there is not reason to have more that two possible keys for the same document, it's not very complex...  \n11:22\u00a0<+tmortagne>\u00a0it's not like there was tons of elements in a document cache key  \n11:22\u00a0<+tmortagne>\u00a0document reference and language, that's all  \n11:22\u00a0<@cjdelisle>\u00a0And you are happy to have as much as half of the cache wasted?  \n11:23\u00a0<+tmortagne>\u00a0I don't understand what you mean  \n11:23\u00a0<+tmortagne>\u00a0you duplicate cache entry too in you proposal  \n11:23\u00a0<+tmortagne>\u00a0and I really doubt it's half of the cache  \n11:24\u00a0<@cjdelisle>\u00a0It depends on what you store. If you load the document then use it's cannonical name to check the cache then store a reference to the cached version, then it won't waste memory. What it is doing now does.  \n11:25\u00a0<+tmortagne>\u00a0that's another subject, I only talked about cleaning duplicated cache entries  \n11:26\u00a0<@cjdelisle>\u00a0if (doc.getDocumentReference().getWikiReference().getName() != null) {  \n11:26\u00a0<@cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0context.setDatabase(doc.getDocumentReference().getWikiReference().getName());  \n11:26\u00a0<@cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \n11:26\u00a0<@cjdelisle>\u00a0that's in getDocument()  \n11:26\u00a0<+tmortagne>\u00a0but what you can do is simply check after you load the document of the same document is not already in cache on another key  \n11:26\u00a0<abusenius>\u00a0has joined #xwiki  \n11:26\u00a0<+tmortagne>\u00a0same logic that the cleanup  \n11:26\u00a0<@cjdelisle>\u00a0what if you getDocument and supply a \"template doc with no wiki specified?  \n11:27\u00a0<+tmortagne>\u00a0cjdelisle: no wiki mean current wiki  \n11:27\u00a0<+tmortagne>\u00a0you can always guess everything except the language  \n11:27\u00a0<+tmortagne>\u00a0(in the key)  \n11:27\u00a0<@cjdelisle>\u00a0yes but it means that \u00a0\":XWiki.WebHome\" is the same as \"xwiki:XWiki.WebHome\"  \n11:27\u00a0<@cjdelisle>\u00a0and it means that you were wrong.  \n11:28\u00a0<+tmortagne>\u00a0wrong in what ?  \n11:28\u00a0<@cjdelisle>\u00a0Wrong that there was no other way that a duplicate key can slip through.  \n11:28\u00a0<+tmortagne>\u00a0there is no reason to have \":XWiki.WebHome\" in the cache  \n11:28\u00a0<+tmortagne>\u00a0there is infinite way you your code is bad...  \n11:28\u00a0<+tmortagne>\u00a0i'm tlking about logic here  \n11:29\u00a0<+tmortagne>\u00a0from what you can guess or not in XWikiCacheStore there is only two possible keys  \n11:29\u00a0<+tmortagne>\u00a0if the current code store stiff with \":XWiki.WebHome\" it's bad and there is not technical reason for this  \n11:30\u00a0<@cjdelisle>\u00a0The point is it \\*can\\* happen and that means you are wrong and your solution would not have fixed the problem. I am not lambasting you for not knowing, I am advocating for defensive coding where there is no way for evil code to make my code do bad things.  \n11:31\u00a0<vmassol>\u00a0cjdelisle: in case you missed it, your commit doesn't compile: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/135/console  \n11:31\u00a0<@cjdelisle>\u00a0Yup, it's because xwiki-platform-test-pageobjects is not compiling.  \n11:31\u00a0<+tmortagne>\u00a0cjdelisle: it happen now because the code is wrong that's all, it's very easy to make sure the key is properly generated...  \n11:32\u00a0<vmassol>\u00a0tmortagne: have you set the correct deps on pageobjects?  \n11:32\u00a0<vmassol>\u00a0(in jenkins)  \n11:32\u00a0<vmassol>\u00a0it seems it's not working accrding to cjdelisle  \n11:33\u00a0<+tmortagne>\u00a0what's wrong should be improved, you are just saying there is a bug somewhere lest invent another system to not have to fix it  \n11:33\u00a0<@cjdelisle>\u00a0Why can't we build things well and then fix the bugs anyway?  \n11:35\u00a0<+tmortagne>\u00a0I don't agree with you that having a phantom object in the cache is doing things well... what's doing things well IMO is to have in the cache what's really cached  \n11:36\u00a0<+tmortagne>\u00a0vmassol: xwiki-platform-test-pageobjects builds well on jenkins as far as I can see  \n11:36\u00a0<@cjdelisle>\u00a0We could cache pointers with canonical names or documents (2 fields in the pointer)  \n11:36\u00a0<+tmortagne>\u00a0and I can see it on http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-test-pageobjects/3.2-SNAPSHOT/  \n11:36\u00a0<vmassol>\u00a0cjdelisle: ?  \n11:37\u00a0<@cjdelisle>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-pageobjects/  \n11:37\u00a0<@cjdelisle>\u00a0last built version was started manually, I made changes to that since  \n11:37\u00a0<@cjdelisle>\u00a0part of the patch was to that  \n11:38\u00a0<+tmortagne>\u00a0that's weird I did set the dependencies on all projects  \n11:38\u00a0<@cjdelisle>\u00a0should it be polling scm or building after something?  \n11:39\u00a0<+tmortagne>\u00a0added xwiki-enterprise-test-pom dependency  \n11:39\u00a0<+tmortagne>\u00a0it used to have polling actually but I think vmassol removed them  \n11:39\u00a0<+tmortagne>\u00a0checking  \n11:40\u00a0<vmassol>\u00a0I removed all polling in tests  \n11:40\u00a0<+tmortagne>\u00a0yep that's why it was working yesterday  \n11:40\u00a0<vmassol>\u00a0we did it together tmortagne  \n11:40\u00a0<vmassol>\u00a0that's because enterprise will rebuild  \n11:40\u00a0<vmassol>\u00a0hmmm  \n11:40\u00a0<+tmortagne>\u00a0vmassol: actually you did, was not sure you did for all already ;)  \n11:40\u00a0<vmassol>\u00a0what's hte pb?  \n11:40\u00a0<+tmortagne>\u00a0now added xwiki-enterprise-test-pom dependency to the job  \n11:40\u00a0<vmassol>\u00a0enterprise will rebuild  \n11:41\u00a0<vmassol>\u00a0ok a dep was missing  \n11:41\u00a0<+tmortagne>\u00a0vmassol: the issue is that nothing was triggering the job build  \n11:42\u00a0<@cjdelisle>\u00a0So how are we going to make the cache unpoisonable because you and I both know there's some awesome piece of code floating around somewhere in legacyville which is just dieing to make fools out of us.  \n11:43\u00a0<+tmortagne>\u00a0XWikiCacheStore#loadXWikiDoc is not that big and complex code  \n11:43\u00a0<+tmortagne>\u00a0and it's actually #getKey that needs to be fixed too have only two possibles entries for the same document  \n11:44\u00a0<@cjdelisle>\u00a0It has 3 distinct coherency bugs ATM so I would beg to differ.  \n11:44\u00a0<+tmortagne>\u00a0XWikiCacheStore has  \n11:44\u00a0<@cjdelisle>\u00a0How do you plan to modify getKey?  \n11:46\u00a0<+tmortagne>\u00a0cjdelisle: as I said there should be only two possible keys for the same entry so getKey should be fixed to make sure of that which means guessing wiki and space (not sure space is needed actually) based on context when it's not provided basically  \n11:47\u00a0<+tmortagne>\u00a0for loadXWikiDoc when you get the XWikiDocument from the database you should check if it's not already there under another key  \n11:47\u00a0<+tmortagne>\u00a0so that at least there is only one XWikiDocument java object even if there is two entries  \n11:47\u00a0<+tmortagne>\u00a0to reduce memory  \n11:47\u00a0<@cjdelisle>\u00a0I was planning to do that  \n11:48\u00a0<+tmortagne>\u00a0then there is what I proposed in the mail to properly clean the cache when one of the two entries are removed  \n11:48\u00a0<+tmortagne>\u00a0I don't see the need for some pointer here  \n11:48\u00a0<@cjdelisle>\u00a0But there are not 2, there are at least 4  \n11:48\u00a0<+tmortagne>\u00a0what are the 4 ?  \n11:49\u00a0<@cjdelisle>\u00a0XWiki#getDocument(XWikiDocument) allows any piece of code anywhere to supply a document with a null value for the wiki.  \n11:49\u00a0<+tmortagne>\u00a0cjdelisle: that's not an issue  \n11:49\u00a0<+tmortagne>\u00a0that's the guess part I was talking about in getKey  \n11:49\u00a0<@cjdelisle>\u00a0so there's null:XWiki.WebHome null:XWiki.WebHome:en xwiki:XWiki.WebHome and xwiki:XWiki.WebHome:en  \n11:49\u00a0<+tmortagne>\u00a0you use the context if the wiki is not provided  \n11:49\u00a0<+tmortagne>\u00a0no there is not  \n11:50\u00a0<+tmortagne>\u00a0I said it several times already but again the wiki can be guessed just by looking at the context  \n11:51\u00a0<+tmortagne>\u00a0so you should never get null:XWiki.WebHome as kay  \n11:51\u00a0<+tmortagne>\u00a0unless your wiki name really is \"null\" ;)  \n11:52\u00a0<@cjdelisle>\u00a0ahh I see, that isn't a problem  \n11:52\u00a0<@cjdelisle>\u00a0I still don't like the idea of building things that will fail if there is something we missed.  \n11:53\u00a0<+tmortagne>\u00a0in fact is we really have null:XWiki.WebHome \u00a0in the cache we have a uge multiwiki issue that should be fixed ASAP  \n11:53\u00a0<+tmortagne>\u00a0s/is we/if we/  \n11:54\u00a0<+tmortagne>\u00a0since that means you could get a document that is not from the right wiki because the cache does not take care of the current wiki  \n11:54\u00a0<@cjdelisle>\u00a0No, we don't have that specific problem, we have a different one which is very similar because, unless a transaction is begun, loadXWikiDoc doesn't bother to change the database to the one which the context specifies.  \n11:54\u00a0<@cjdelisle>\u00a0But that's a case of XHS poisoning the cache  \n11:55\u00a0<+tmortagne>\u00a0cjdelisle: \"will fail if there is something we missed\" what could me miss ?  \n11:56\u00a0<@cjdelisle>\u00a0I don't know every line of the old core, I would like to say I did know how my code would behave.  \n11:57\u00a0<@cjdelisle>\u00a0It's a security leaning attitude, give it only what it needs to do the job and make as much of the code as possibly provably benign.  \n11:58\u00a0<+tmortagne>\u00a0that's true for anything I don't see what' this as to do here, any code need to be reviewed and tested properly and it's not like we were talking about some very complex thing here...  \n11:59\u00a0<@cjdelisle>\u00a0And there is no way we can predict \u00a0document id collisions. Sure they should be fixed but I don't see it happening tomorrow and I can, right now, make sure that the cache doesn't make the problem any worse than it is.  \n12:00\u00a0<+tmortagne>\u00a0having anything else that the two possible keys I described is a very important bug so we don't only count on it, it has to be fixed anyway  \n12:00\u00a0<+tmortagne>\u00a0that's another subject  \n12:00\u00a0<+tmortagne>\u00a0and not related to the cache  \n12:02\u00a0<@cjdelisle>\u00a0\\*shrug\\* I have no more to say to it but I have a bad feeling this will come back to bite us.  \n12:13\u00a0<vmassol>\u00a0ok job triggering doesn't work anymore in the scheduler  \n12:13\u00a0<vmassol>\u00a0creating jira  \n12:13\u00a0<@cjdelisle>\u00a0tmortagne: if \"database\" in XWikiContext is set to null and document.wiki is null then the database is whatever it was left at. I can't guarantee that there is no code in core which does something like that so if you so strenuously object to a pointer, then I want to use a reverse cache via a WeakHashMap.  \n12:15\u00a0<@cjdelisle>\u00a0I really have a hard time writing critically important code when I don't think it's safe.  \n12:17\u00a0<+tmortagne>\u00a0cjdelisle: the issue is that you can't put something in the cache without the wiki information unless you are in non virtual mode otherwise you will have issues  \n12:18\u00a0<@cjdelisle>\u00a0Indeed you will but at least I can make sure you won't have eviction issues.  \n12:18\u00a0<+tmortagne>\u00a0si it's not only about how many keys can exist for a document but how many valid keys can exists for a document  \n12:18\u00a0<+tmortagne>\u00a0if you don't have proper information then just skip the cache, it's way better that putting crap in it  \n12:18\u00a0<@cjdelisle>\u00a0s/evication/poisoning/  \n12:19\u00a0<@cjdelisle>\u00a0If it is not used unless you have the full name then it is not very useful.  \n12:20\u00a0<+tmortagne>\u00a0cjdelisle: i'm not saying that  \n12:20\u00a0<@cjdelisle>\u00a0Why are you so resistant to a reverse cache? It is simple and provably safe.  \n12:20\u00a0<+tmortagne>\u00a0i'm takling about invalid information  \n12:20\u00a0<+tmortagne>\u00a0you can ask with partial name if you have proper cache  \n12:20\u00a0<+tmortagne>\u00a0which is the case most of the time  \n12:20\u00a0<+tmortagne>\u00a0again what i'm saying is that you should not put invalid data in the cache  \n12:21\u00a0<@cjdelisle>\u00a0If you would like to throw out invalid entries then that would be fine, what I want to do is implement a reverse cache so that I can sleep well.  \n12:21\u00a0<@cjdelisle>\u00a0They are not mutually exclusive.  \n12:21\u00a0<+tmortagne>\u00a0that's exactly what I'm saying...  \n12:22\u00a0<+tmortagne>\u00a0all you argument are based on supporting invalid datas that should not be in the cache in the first place  \n12:22\u00a0<@cjdelisle>\u00a0Ok so you will allow me to implement a reverse cache so that when an entry is deleted, every name for that document is deleted?  \n12:27\u00a0<+tmortagne>\u00a0if you are talking about your pointer based proposal I already said it was not the best way IMO but do as you want  \n12:28\u00a0<+tmortagne>\u00a0cjdelisle: did you fixed the PR issue with admin UI ?  \n12:30\u00a0<@cjdelisle>\u00a0There was something that blocked me, let me think for a moment.  \n12:33\u00a0<+tmortagne>\u00a0cjdelisle: you should assign yourself on XWIKI-6822 so that we know someone is working on it (better since its a blocker issue)  \n12:33\u00a0<@cjdelisle>\u00a0tmortagne: also there is this http://jira.xwiki.org/jira/browse/XWIKI-6844  \n12:34\u00a0<@cjdelisle>\u00a0which means that there is no safe way to have PR in an object field.  \n12:35\u00a0<@cjdelisle>\u00a0vmassol: http://jira.xwiki.org/jira/browse/XWIKI-6844 <-- Why PR in panel object fields is a bad idea  \n12:35\u00a0<+tmortagne>\u00a0cjdelisle: XWIKI-6822 is not about objects  \n12:35\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:35\u00a0<+tmortagne>\u00a0I agree that's it's more complex for panels but right now I don't care that much about it  \n12:36\u00a0<@cjdelisle>\u00a0ConfigurableClass objects are objects. Unless you prevent them from being edited, they will open up another vector. OTOH is it a serious issue?  \n12:36\u00a0<+tmortagne>\u00a0the only thing to do to make XWIKI-6822 work is by doing what you proposed: be able to workaround the dropPermissing by using {{include context=new}} which is what EM already do  \n12:37\u00a0<+tmortagne>\u00a0yes I know there is objects but that's not the point  \n12:38\u00a0<+tmortagne>\u00a0\\*are  \n12:39\u00a0<vmassol>\u00a0cjdelisle: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/137/console just failed  \n12:39\u00a0<vmassol>\u00a0even after I rebuilt the po module on ci  \n12:39\u00a0<+tmortagne>\u00a0cjdelisle: your proposal was to make possible to workaround dropPermission using include macro, if not then I don't understand what is the point  \n12:39\u00a0<+tmortagne>\u00a0(dropPermission in general not this method itself)  \n12:40\u00a0<vmassol>\u00a0cjdelisle: I'm not going to argue with the solution because I haven't thought enough about it. All I know is that you removed features that we need  \n12:40\u00a0<vmassol>\u00a0(which is ok for the sake of quick security fix but we now need to think about how to bring them back)  \n12:42\u00a0<+tmortagne>\u00a0cjdelisle: I'm talking about your \"[xwiki-devs] [proposal] Add an API function to drop permissions for the remainder of the document rendering.\" proposal  \n12:49\u00a0<@cjdelisle>\u00a0BTW: this works:  \n12:49\u00a0<@cjdelisle>\u00a0{{velocity}}  \n12:49\u00a0<@cjdelisle>\u00a0$xcontext.dropPermissions()  \n12:49\u00a0<@cjdelisle>\u00a0$xwiki.parseGroovyFromPage('Main.Groovy').exec()  \n12:49\u00a0<@cjdelisle>\u00a0{{/velocity}}  \n12:52\u00a0<+tmortagne>\u00a0sure I would like to not make thing crappiest than they are already...  \n12:53\u00a0<+tmortagne>\u00a0and we are supposed to get rid of parseGroovyFromPage  \n12:53\u00a0<@cjdelisle>\u00a0Is there a proposal for that?  \n12:54\u00a0<+tmortagne>\u00a0cjdelisle: (12:43:03 PM) tmortagne: cjdelisle: I'm talking about your \"[xwiki-devs] [proposal] Add an API function to drop permissions for the remainder of the document rendering.\" proposal  \n12:55\u00a0<+tmortagne>\u00a0which were supposed to fix that according to you...  \n12:55\u00a0<+tmortagne>\u00a0basically what i'm asking is where you are in what you proposed youself  \n12:55\u00a0<@cjdelisle>\u00a0I stopped doing that because I had a question about it and you were gone. I will resume as soon as I have committed my change to the cache.  \n12:56\u00a0<+tmortagne>\u00a0cjdelisle: why didn't you answered to the mail ?  \n12:57\u00a0<@cjdelisle>\u00a0Because I didn't think of it, I will try harder nest time.  \n13:01\u00a0<+tmortagne>\u00a0vmassol: re error on test-ui that's weird I can see AbstractRegistrationPage.class in the jar on http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-test-pageobjects/3.2-SNAPSHOT/  \n13:02\u00a0<vmassol>\u00a0I've just git pull  \n13:02\u00a0<vmassol>\u00a0and the error is real  \n13:02\u00a0<vmassol>\u00a0I have it too  \n13:02\u00a0<+tmortagne>\u00a0and you don't have the AbstractRegistrationPage class ?  \n13:02\u00a0<vmassol>\u00a0have it  \n13:02\u00a0<vmassol>\u00a0I have it  \n13:02\u00a0<vmassol>\u00a0that's not the pb  \n13:02\u00a0<+tmortagne>\u00a0ha no  \n13:02\u00a0<+tmortagne>\u00a0missread  \n13:03\u00a0<vmassol>\u00a0cjdelisle: on this line:  \n13:03\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0while (this.registrationPage.liveValidationEnabled() != useLiveValidation()) {  \n13:03\u00a0<vmassol>\u00a0should it be isLiveValidationEnabled() insetad?  \n13:03\u00a0<vmassol>\u00a0(notice the missing \\*\\*is\\*\\*)  \n13:04\u00a0<+tmortagne>\u00a0cjdelisle: maybe you forgot to push something  \n13:04\u00a0<@cjdelisle>\u00a0thanks, I was just looking for that  \n13:05\u00a0<vmassol>\u00a0btw note that the schedulerTest is now going to fail since I fixed the test which wasn't testing much  \n13:05\u00a0<vmassol>\u00a0it's now testing something...  \n13:05\u00a0<vmassol>\u00a0\u2026 and showig that trigger doesn't work  \n13:05\u00a0<vmassol>\u00a0so we need someone to fix this  \n13:06\u00a0<@cjdelisle>\u00a0my installation was acting weird, I had to remove -pageobjects from my local repo before the changes would take effect.  \n13:07\u00a0<@cjdelisle>\u00a0that's probably what happened.  \n13:07\u00a0<@cjdelisle>\u00a0pushing the fix now  \n13:09\u00a0<Enygma`>\u00a0has quit  \n13:11\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:40\u00a0<florinciu>\u00a0has quit  \n13:46\u00a0<pturcotte>\u00a0has quit  \n13:50\u00a0<+mflorea>\u00a0tmortagne: do you remember xwiki 1.0 syntax? :)  \n13:51\u00a0<vmassol>\u00a0cjdelisle: not very good: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/138/testReport/  \n13:51\u00a0<vmassol>\u00a0(I have the same failing tests locally)  \n13:51\u00a0<vmassol>\u00a0mflorea: what's the question?  \n13:51\u00a0<+mflorea>\u00a0is a requirement to escape < and > in xwiki 1.0 syntax?  \n13:52\u00a0<+mflorea>\u00a0s/is/is it  \n13:52\u00a0<+mflorea>\u00a0the fact that you can mix wiki syntax and HTML makes me thing you have to escape &lt; and &gt; when they are not used for HTML tags  \n13:52\u00a0<+mflorea>\u00a0is this right?  \n13:53\u00a0<+mflorea>\u00a0the issue I'm having is that a xwiki 1.0 doc with this cotent \"1<2\" fails to be converted to syntax 2.0  \n13:53\u00a0<+mflorea>\u00a0because of the <  \n13:53\u00a0<+mflorea>\u00a0if I replace it with &lt; the conversion succeeds  \n13:55\u00a0<vmassol>\u00a0you can escape or use {pre}  \n13:56\u00a0<vmassol>\u00a0actually no  \n13:56\u00a0<vmassol>\u00a0pre is for escaping wiki syntax  \n13:56\u00a0<vmassol>\u00a0(and radeox)  \n13:56\u00a0<+mflorea>\u00a0so you're saying that it's my responsibility. The converter won't support this, right?  \n13:56\u00a0<+mflorea>\u00a0my=the author of the content  \n13:56\u00a0<vmassol>\u00a0ah you want to know if the 1.0 to 2.0 converter support escaping?  \n13:57\u00a0<+mflorea>\u00a0I want to know if the converter should be able to convert \"1<2\" from 1.0 to 2.0  \n13:57\u00a0<+mflorea>\u00a0right now it fails  \n13:57\u00a0<+mflorea>\u00a0because < is not escaped, &lt;  \n13:57\u00a0<@cjdelisle>\u00a0fixing. I thought I had tested that :(  \n13:58\u00a0<vmassol>\u00a0mflorea: IMO it's a bug/limitation but then it depends how good we want to make it\u2026 so far we haven't invested much in it  \n13:58\u00a0<+mflorea>\u00a0(I suppose it uses an HTML parse which fails to parse 1<2)  \n13:58\u00a0<vmassol>\u00a0(since it's about transforming sometihng deprecated)  \n13:58\u00a0<+mflorea>\u00a0right  \n13:58\u00a0<vmassol>\u00a0but yes best is to ask tmortagne since he wrote that part  \n13:59\u00a0<+mflorea>\u00a0so unless someone is willing to pay for it :) we say that it's best to edit the content and replace < with &lt; when it isn't used to mark a HTML tag name  \n14:00\u00a0<+mflorea>\u00a0same for >  \n14:00\u00a0<+mflorea>\u00a0anyway, back to my work  \n14:03\u00a0<vmassol>\u00a0note that UserProfileTest is failing too. I'm on it  \n14:03\u00a0<vmassol>\u00a0we still need someone to look at the scheduler test  \n14:04\u00a0<+mflorea>\u00a0vmassol: I see only failures on the registration tests in the last CI build  \n14:05\u00a0<vmassol>\u00a0yes me too but locally it fails  \n14:05\u00a0<+mflorea>\u00a0I know I fixed UserProfileTest a few days ago  \n14:05\u00a0<vmassol>\u00a0ah  \n14:05\u00a0<vmassol>\u00a0maybe I'm using an oldish version  \n14:05\u00a0<vmassol>\u00a0downloading a newer one  \n14:05\u00a0<vmassol>\u00a0thanks  \n14:06\u00a0<+mflorea>\u00a0yep  \n14:24\u00a0<@cjdelisle>\u00a0heh XHS#exists() can't check for existance of translations  \n14:28\u00a0<polx>\u00a0has quit  \n14:30\u00a0<+tmortagne>\u00a0mflorea: what do you mean by fail ?  \n14:31\u00a0<+mflorea>\u00a0the user gets a popup message saying that the conversion failed  \n14:31\u00a0<+tmortagne>\u00a0conversion should never fail, it can do wrong conversion but never fail as in exception fail. If it is it's a bug anyway  \n14:31\u00a0<+tmortagne>\u00a0what's the version ?  \n14:32\u00a0<+mflorea>\u00a0I'm using a recent 3.2 snapshot  \n14:32\u00a0<+tmortagne>\u00a0ok  \n14:32\u00a0<+mflorea>\u00a0I'm opening a jira issue now  \n14:32\u00a0<+tmortagne>\u00a0ok will look at it thanks, it's probably not much  \n14:32\u00a0<+mflorea>\u00a0it's easy to test  \n14:32\u00a0<+mflorea>\u00a0create a page with \"1<2\" (without the quotes) in xwiki 1.0 and then try to convert to 2.0  \n14:33\u00a0<+mflorea>\u00a0this is the message:  \n14:33\u00a0<+mflorea>\u00a0Failed to convert to the selected syntax. If you want to use this syntax anyway, you can select it again and choose not to perform the conversion.  \n14:34\u00a0<+tmortagne>\u00a0I ddo't have much test with invalid html it seems, I have a lot with velocity but forgot to do the same for httml  \n14:40\u00a0<florinciu>\u00a0has joined #xwiki  \n14:41\u00a0<+tmortagne>\u00a0cjdelisle: BTW it should not be possible to have null wiki in a XWikiDocument since it's forbidden in DocumentReference  \n14:42\u00a0<@cjdelisle>\u00a0I have added an info level log in case there are any unexprected requests. IIRC there were requests with no wiki but we'll see.  \n14:42\u00a0<vmassol>\u00a0escaping tests just failed! http://ci.xwiki.org/job/xwiki-enterprise-test-escaping/org.xwiki.enterprise$xwiki-enterprise-test-escaping/161/testReport/  \n14:43\u00a0<+tmortagne>\u00a0cjdelisle: maybe before but right now I don't see any way to have that since XWikiDocument#getDatabase can't return null  \n14:44\u00a0<@cjdelisle>\u00a0Do you know if it's possible to have a translation of a document but no version of that document in the default language?  \n14:45\u00a0<+mflorea>\u00a0tmortagne: http://jira.xwiki.org/jira/browse/XRENDERING-128  \n14:46\u00a0<+tmortagne>\u00a0mflorea: thanks  \n14:47\u00a0<+tmortagne>\u00a0cjdelisle: from database POV it's possible of course but from API i'm not sure  \n14:47\u00a0<vmassol>\u00a0mflorea: testEditProfile is still failing locally  \n14:47\u00a0<+tmortagne>\u00a0but i'm pretty sure if you don't have the default language entry it's impossible to get the other languages from the UI  \n14:47\u00a0<vmassol>\u00a0(I'm now using xwiki-enterprise-jetty-hsqldb-3.2-20110826.111137-285 )  \n14:47\u00a0<+tmortagne>\u00a0since the code always get the default and then get the translation from the XWikiDocument  \n14:48\u00a0<+mflorea>\u00a0vmassol: why does it fails? it's a failure or an error? it is related to the \"about\" profile field?  \n14:48\u00a0<+tmortagne>\u00a0using getTranslatedDocument  \n14:48\u00a0<@cjdelisle>\u00a0I think the most sane thing to do is remove the language from the document in #exists() so that it will never store with :xx \u00a0what do you think?  \n14:49\u00a0<vmassol>\u00a0mflorea: I was starting to \u00a0investigate when you told me you fixed it so I don't know yet why it fails.  \n14:49\u00a0<vmassol>\u00a0mflorea: it's strange that it doesn't happen on jenkins though  \n14:49\u00a0<polx>\u00a0has joined #xwiki  \n14:50\u00a0<vmassol>\u00a0(it fails consistently here)  \n14:50\u00a0<vmassol>\u00a0ok I'll invesitgate now after all tests have finished exectuing  \n14:50\u00a0<+tmortagne>\u00a0cjdelisle: you proposed to remove support for the languge in pageExistCache but keep it in cache ?  \n14:50\u00a0<vmassol>\u00a0scheduler test is also fialing lcoally  \n14:50\u00a0<vmassol>\u00a0mflorea: would be cool if you could run them locally too to see if you can reproduce  \n14:50\u00a0<+tmortagne>\u00a0IMO what's working for one should work for the other  \n14:50\u00a0<+mflorea>\u00a0when it failed for me it was because sendKeys was ignored for the body of the iframe used by the WYSIWYG editor.  \n14:50\u00a0<+mflorea>\u00a0vmassol: I'll do it  \n14:50\u00a0<+tmortagne>\u00a0now I doubt exist is ever used with language indeed  \n14:50\u00a0<@cjdelisle>\u00a0tmortagne: XWikiHibernateStore#exists has no support for language so to keep the same API we would have to.  \n14:51\u00a0<vmassol>\u00a0mflorea: ok  \n14:51\u00a0<+tmortagne>\u00a0cjdelisle: I tough you were working in XwikiCacheStore  \n14:51\u00a0<+tmortagne>\u00a0ha  \n14:51\u00a0<@cjdelisle>\u00a0I am, right now it leaves entries in the cache for each language which someone might (theoretically) do an exists() lookup on  \n14:52\u00a0<+tmortagne>\u00a0so you mean the language is already not properly supported anyway in XwikiCacheStore#exists because of hibernate store impl \u00a0?  \n14:52\u00a0<@cjdelisle>\u00a0correct, it is not supported at all.  \n14:53\u00a0<+tmortagne>\u00a0then big +1  \n14:53\u00a0<@cjdelisle>\u00a0hmm, actually it is sort of supported and in a dangerous way  \n14:53\u00a0<vmassol>\u00a0mflorea: the wysiwyg textfield don't get values sent to them  \n14:53\u00a0<vmassol>\u00a0(about and address)  \n14:54\u00a0<@cjdelisle>\u00a0if I do a getDocument() on a document in a language which does not exist, then I do a exists() on that language, the cache will return false but the store would return true.  \n14:54\u00a0<@cjdelisle>\u00a0jira time...  \n14:54\u00a0<+mflorea>\u00a0vmassol: that's what I have fixed  \n14:55\u00a0<@cjdelisle>\u00a0Still I think it is safe to pretend everything is the default language in the cache since we agree that nobody is really ever trying to test existance on a different language document.  \n14:55\u00a0<vmassol>\u00a0mflorea: https://github.com/xwiki/xwiki-enterprise/commit/0f82ceea098edf1afa28115714d999a360755fa5 ?  \n14:56\u00a0<+mflorea>\u00a0exactly  \n14:56\u00a0<vmassol>\u00a0I do have this locally and it still doesn't work  \n14:57\u00a0<vmassol>\u00a0cjdelisle: worse and worse: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/139/testReport/ :)  \n14:57\u00a0<polx>\u00a0has quit  \n14:57\u00a0<vmassol>\u00a0(more failures)  \n14:58\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/139/  \n15:00\u00a0<@cjdelisle>\u00a0I promise that I did test it that time. Are you sure pageObjects built first?  \n15:00\u00a0<pturcotte>\u00a0has joined #xwiki  \n15:01\u00a0<vmassol>\u00a0yes: see http://ci.xwiki.org/job/xwiki-enterprise-test-ui/139/  \n15:01\u00a0<@cjdelisle>\u00a0hmm  \n15:01\u00a0<vmassol>\u00a0\"Started by upstream project http://ci.xwiki.org/job/xwiki-enterprise-test-pageobjects/ build number http://ci.xwiki.org/job/xwiki-enterprise-test-pageobjects/6/\"  \n15:02\u00a0<@cjdelisle>\u00a0running them again locally  \n15:03\u00a0<vmassol>\u00a0mflorea: I'm on FF 6.0 too btw  \n15:05\u00a0<vmassol>\u00a0mflorea: I debugged and it goes in your new code for sure  \n15:06\u00a0<+mflorea>\u00a0it passes every time for me. It's not a flicker anyway. The different is that in my case, and also on CI, sendKeys works with my hack but it doesn't work for you. The only difference is that you are using FF6.0 on mac and I'm on linux.  \n15:06\u00a0<vmassol>\u00a0yep  \n15:07\u00a0<+mflorea>\u00a0let me give you a small test to be sure  \n15:08\u00a0<vmassol>\u00a0have you tried schedulertest locally?  \n15:08\u00a0<vmassol>\u00a0(I ond't uderstand why this one doesn't fail on ci)  \n15:09\u00a0<vmassol>\u00a0btw the userprofile test used to work before (without your hack). Does it mean sel2 broke it at some point? or was it a flicker?  \n15:09\u00a0<+mflorea>\u00a0sel2 broke it as some point  \n15:10\u00a0<+mflorea>\u00a0I opened http://code.google.com/p/selenium/issues/detail?id=2331  \n15:10\u00a0<vmassol>\u00a0yes I know  \n15:10\u00a0<vmassol>\u00a0I just commnted on it  \n15:10\u00a0<vmassol>\u00a0since that information wasn't there  \n15:11\u00a0<vmassol>\u00a0wysiwyg test flicker again on ci  \n15:11\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/121/  \n15:11\u00a0<+mflorea>\u00a0yes, but I can't work on two things at the same time :)  \n15:11\u00a0<vmassol>\u00a0come on! :)  \n15:21\u00a0<+mflorea>\u00a0vmassol: can you create a Sandbox.Test page with this content:  \n15:21\u00a0<+mflorea>\u00a0{{html}}<iframe id=\"rta\"></iframe>{{/html}}  \n15:21\u00a0<+mflorea>\u00a0and then run this test http://pastebin.com/57fNETKh . Both are failing for your?  \n15:25\u00a0<vmassol>\u00a0mflorea: one pass, one fail, testBody fails  \n15:25\u00a0<vmassol>\u00a0expected 12, was 1  \n15:26\u00a0<+mflorea>\u00a0ok, that's good, then it means my workaround has some issue on FF6.0 on Mac, because sendKeys works on a contentEditable div it seems  \n15:27\u00a0<+mflorea>\u00a0(btw, Scheduler test passes for me, but I see there is some typing in the rich text area, so maybe it's related to the profile test)  \n15:31\u00a0<vmassol>\u00a0mflorea: no the tpying is not important and not checked  \n15:31\u00a0<+mflorea>\u00a0ah  \n15:31\u00a0<vmassol>\u00a0hmm strange that it passed for you...  \n15:31\u00a0<vmassol>\u00a0mflorea: what version of XE are you using?  \n15:31\u00a0<vmassol>\u00a0same as mine?  \n15:32\u00a0<polx>\u00a0has joined #xwiki  \n15:32\u00a0<+mflorea>\u00a0a bit newer, but I don't think there's any different, I'm using xwiki-enterprise-jetty-hsqldb-3.2-20110826.124935-287.zip  \n15:33\u00a0<vmassol>\u00a0you've git pulled enterprise right?  \n15:33\u00a0<+mflorea>\u00a0yep  \n15:35\u00a0<vmassol>\u00a0mflorea: for me if I manually create a new scheduler job and click on trigger I get an error  \n15:35\u00a0<+mflorea>\u00a0I haven't tried this. I just run the test  \n15:37\u00a0<vmassol>\u00a0mflorea: http://tinycoke.com/\\_6r7wwt03yPNHc/job\\_scheduler\\_(scheduler.webhome)\\_-\\_xwiki.jpg  \n15:37\u00a0<vmassol>\u00a0(skitch is nice - and free now)  \n15:37\u00a0<+mflorea>\u00a0:D  \n15:37\u00a0<+mflorea>\u00a0yes, I can reproduce it manually  \n15:38\u00a0<vmassol>\u00a0ah so I don't get it why the tests doens't fail  \n15:38\u00a0<+mflorea>\u00a0I created an empty job with default settings  \n15:38\u00a0<vmassol>\u00a0can you check you have this:  \n15:38\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0schedulerHomePage.clickJobActionTrigger(jobName);  \n15:38\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertFalse(\"Failed to trigger job. Error [\" + schedulerHomePage.getErrorMessage() + \"]\",  \n15:38\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0schedulerHomePage.hasError());  \n15:38\u00a0<vmassol>\u00a0(in SchedulerTest.java)  \n15:38\u00a0<vmassol>\u00a0the assert used to not be there  \n15:39\u00a0<vmassol>\u00a0oh  \n15:39\u00a0<vmassol>\u00a0I didn't push  \n15:39\u00a0<vmassol>\u00a0:)  \n15:39\u00a0<vmassol>\u00a0done  \n15:39\u00a0<+mflorea>\u00a0:)  \n15:39\u00a0<+mflorea>\u00a0I don't have it  \n15:39\u00a0<vmassol>\u00a0now it'll fail for you too  \n15:40\u00a0<vmassol>\u00a0sorry about that  \n15:40\u00a0<vmassol>\u00a0(still need to get my ahead around the fact that if I don't have any changes in my IDE it doesn't mean my committed changes are on our SCM)  \n15:40\u00a0<+mflorea>\u00a0np, this mystery is solved  \n15:40\u00a0<vmassol>\u00a0yeah one less  \n15:41\u00a0<+mflorea>\u00a0:D  \n15:48\u00a0<+mflorea>\u00a0vmassol: can you comment lines: 96, 111-113, 120, 132-134 from RichTextAreaElement and then run again the UserProfile test? These lines are not needs in this particular case and I want to be sure they are not the ones creating the problem.  \n15:48\u00a0<vmassol>\u00a0ok trying  \n15:49\u00a0<vmassol>\u00a0so commenting out save selection and restore selection?  \n15:49\u00a0<+mflorea>\u00a0yep  \n15:50\u00a0<+tmortagne>\u00a0any idea how to modify the comment of a git commit I just did ? (not pushed yet)  \n15:50\u00a0<+mflorea>\u00a0both before and after sendKey  \n15:50\u00a0<vmassol>\u00a0tmortagne: rebase -i I think  \n15:50\u00a0<vmassol>\u00a0http://stackoverflow.com/questions/179123/how-do-i-edit-an-incorrect-commit-message-in-git  \n15:51\u00a0<+tmortagne>\u00a0that's what i'm currently reading :)  \n15:51\u00a0<vmassol>\u00a0I personally use rebase  \n15:51\u00a0<vmassol>\u00a0which is powerful  \n15:51\u00a0<vmassol>\u00a0you can change other stuff with it  \n15:51\u00a0<vmassol>\u00a0but amend is enough apparently  \n15:51\u00a0<vmassol>\u00a0mflorea: doesn't help, same result, nothing is typed  \n15:51\u00a0<+tmortagne>\u00a0well amend mean you cancel the commit and redo it, rebase seems nicer  \n15:51\u00a0<+mflorea>\u00a0:(  \n15:52\u00a0<vmassol>\u00a0mflorea: if you need you can have access to my running XE  \n15:52\u00a0<vmassol>\u00a0hmm that won't help  \n15:52\u00a0<vmassol>\u00a0it's a client side issue....  \n15:53\u00a0<+mflorea>\u00a0yep, I need a FF6 on mac  \n15:57\u00a0<+mflorea>\u00a0vmassol: one more try? can you add this line just before the sendKeys call in RichTextAreaElement:  \n15:57\u00a0<+mflorea>\u00a0String html = String.valueOf(executeJavascript(\"return document.body.innerHTML;\"));  \n15:57\u00a0<+mflorea>\u00a0put a breakpoint on it, and see what's the value. I get:  \n15:57\u00a0<+mflorea>\u00a0<div contenteditable=\"true\"><br></div>  \n15:57\u00a0<vmassol>\u00a0at line 116 right?  \n15:58\u00a0<+mflorea>\u00a0yep  \n15:59\u00a0<vmassol>\u00a0mflorea: I have: <div contenteditable=\"true\"><br></div>  \n15:59\u00a0<vmassol>\u00a0same as you  \n16:00\u00a0<+mflorea>\u00a0then it should work..  \n16:14\u00a0<vmassol>\u00a0rebooting, bb  \n16:14\u00a0<vmassol>\u00a0has quit  \n16:16\u00a0<obiwlan>\u00a0has quit  \n16:17\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:21\u00a0<abusenius>\u00a0has quit  \n16:21\u00a0<sdumitriu>\u00a0has quit  \n16:22\u00a0<vmassol>\u00a0has joined #xwiki  \n16:23\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:28\u00a0<sdumitriu>\u00a0has quit  \n16:35\u00a0<amon>\u00a0has quit  \n16:35\u00a0<cjdelisle>\u00a0has quit  \n16:35\u00a0<Denis>\u00a0has quit  \n16:40\u00a0<+mflorea>\u00a0but in GitHub's diff https://github.com/xwiki/xwiki-platform/commit/ee373f927936ad7d3fa57848bb234c7de8f5e605  \n16:40\u00a0<+mflorea>\u00a0s/but/bug  \n16:41\u00a0<+mflorea>\u00a0the added line is not shown  \n16:44\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:44\u00a0<amon>\u00a0has joined #xwiki  \n16:44\u00a0<cjdelisle>\u00a0has joined #xwiki  \n16:44\u00a0<Denis>\u00a0has joined #xwiki  \n16:50\u00a0<sdumitriu1>\u00a0has quit  \n16:52\u00a0<vmassol>\u00a0cjdelisle: were you able to reproduce locally: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/141/testReport/ ?  \n16:52\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:52\u00a0<evalica>\u00a0has joined #xwiki  \n16:52\u00a0<cjdelisle>\u00a0yes and I fixed it and ran each and every test then pulled the changes tmortagne had made and ran each and every test again  \n16:53\u00a0<cjdelisle>\u00a0\\*each of the registration test groups  \n16:53\u00a0<cjdelisle>\u00a0it should be good this time  \n16:55\u00a0<cjdelisle>\u00a0yea, I just made a lot of mistakes.  \n16:57\u00a0<sdumitriu>\u00a0has quit  \n16:58\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:58\u00a0<lucaa>\u00a0has joined #xwiki  \n17:00\u00a0<+lucaa>\u00a0hi cjdelisle  \n17:00\u00a0<+lucaa>\u00a0I have some misteries about the attachments  \n17:00\u00a0<+lucaa>\u00a0file system attachments  \n17:00\u00a0<+lucaa>\u00a0mysteries I mean  \n17:03\u00a0<cjdelisle>\u00a0What's happening?  \n17:03\u00a0<+lucaa>\u00a0I have the following code:  \n17:03\u00a0<sdumitriu>\u00a0has quit  \n17:04\u00a0<+lucaa>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0XWikiAttachment att = addAttachment(name, iStream).getAttachment();  \n17:04\u00a0<+lucaa>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0getDoc().saveAttachmentContent(att, context);  \n17:04\u00a0<mflorea>\u00a0has quit  \n17:04\u00a0<+lucaa>\u00a0in a com.xpn.xwiki.api.Document  \n17:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:04\u00a0<+lucaa>\u00a0which apparently works with database attachment  \n17:04\u00a0<+lucaa>\u00a0s  \n17:05\u00a0<+lucaa>\u00a0but with filesystem attachments it creates a strange situation  \n17:05\u00a0<tmortagne>\u00a0has quit  \n17:05\u00a0<+lucaa>\u00a0it creates something like this on the filesystem  \n17:05\u00a0<+lucaa>\u00a0in the tomcat/storage  \n17:06\u00a0<abusenius>\u00a0has joined #xwiki  \n17:06\u00a0<+lucaa>\u00a0lucaa@pig:/var/lib/tomcat6/work/storage/xwiki/AssetTemp/OMOXRtnCyqkMRDzD/~this/attachments/jb.pls$ ls -al  \n17:06\u00a0<+lucaa>\u00a0total 64  \n17:06\u00a0<+lucaa>\u00a0drwxr-xr-x 2 tomcat6 tomcat6 \u00a04096 2011-08-26 16:44 .  \n17:06\u00a0<+lucaa>\u00a0drwxr-xr-x 3 tomcat6 tomcat6 \u00a04096 2011-08-26 16:44 ..  \n17:06\u00a0<+lucaa>\u00a0-rw-r--r-- 1 tomcat6 tomcat6 26681 2011-08-26 16:44 jb~v1.1.pls  \n17:06\u00a0<+lucaa>\u00a0-rw-r--r-- 1 tomcat6 tomcat6 26681 2011-08-26 16:44 jb~v1.2.pls  \n17:06\u00a0<cjdelisle>\u00a0ahh so the versions are there but the \"original\" isn't  \n17:07\u00a0<+lucaa>\u00a0well, first there are a bit too many versions  \n17:07\u00a0<+lucaa>\u00a0I think in the db storage it would be only 1 version  \n17:07\u00a0<+lucaa>\u00a0but I don't know, i haven't tried  \n17:07\u00a0<+lucaa>\u00a0I just changed the wiki to fs storage and things started to go wrong  \n17:07\u00a0<+lucaa>\u00a0so we started debugging  \n17:08\u00a0<cjdelisle>\u00a0I remember this bug from way back, I thought I had killed it.  \n17:08\u00a0<+lucaa>\u00a0ah  \n17:08\u00a0<+lucaa>\u00a0i'm running a 3.1  \n17:08\u00a0<cjdelisle>\u00a0Indeed things are duplicated in the filesystem.  \n17:08\u00a0<+lucaa>\u00a0is it a reported bug on jira?  \n17:08\u00a0<cjdelisle>\u00a0er not the filesystem but the database  \n17:08\u00a0<cjdelisle>\u00a0I suspect it would be but I will have to search  \n17:09\u00a0<florinciu>\u00a0has quit  \n17:09\u00a0<+lucaa>\u00a0could you please?  \n17:09\u00a0<+lucaa>\u00a0I mean try to find the bug that you know you fixed...  \n17:09\u00a0<+lucaa>\u00a0(it's you that coded the fs attachments, right?)  \n17:09\u00a0<+lucaa>\u00a0(I mean I'm not harassing the wrong person...)  \n17:10\u00a0<cjdelisle>\u00a0Yes, you are harassing the right guy.  \n17:10\u00a0<+lucaa>\u00a0:)  \n17:11\u00a0<cjdelisle>\u00a0That bug may not have been reported but if so then it was never (so I thought) released  \n17:11\u00a0<+lucaa>\u00a0but what I don't understand exactly is the following  \n17:11\u00a0<+lucaa>\u00a0since i didn't see too many comments in the core  \n17:11\u00a0<+lucaa>\u00a0what is saveAttachmentContent even supposed to do?  \n17:12\u00a0<+lucaa>\u00a0I mean why would it need to be called there, after addAttachment?  \n17:12\u00a0<+lucaa>\u00a0is this normal?  \n17:15\u00a0<cjdelisle>\u00a0There are 2 parts to an attachment, the metadata and the content  \n17:15\u00a0<cjdelisle>\u00a0the metadata is loaded along with the xwikiDocument, you need that to know who uploaded it, the version, and the date.  \n17:16\u00a0<cjdelisle>\u00a0The content is seperate (although by default also in the database) because it takes a long time to load.  \n17:16\u00a0<+lucaa>\u00a0ok  \n17:16\u00a0<cjdelisle>\u00a0so saveAttachmentContent is saving that.  \n17:16\u00a0<+lucaa>\u00a0so saveAttachmentContent() is saving the content  \n17:16\u00a0<+lucaa>\u00a0BUT  \n17:16\u00a0<+lucaa>\u00a0I did an experiment  \n17:16\u00a0<+lucaa>\u00a0I put a breakpoint in the code  \n17:16\u00a0<cjdelisle>\u00a0I see this: XWIKI-6203 but it doesn't seem to be the same thing.  \n17:16\u00a0<+lucaa>\u00a0I stopped right after addAttachment()  \n17:17\u00a0<+lucaa>\u00a0and on this breakpoint I added a watch expression and did this.save()  \n17:17\u00a0<+lucaa>\u00a0\\_without\\_ doing saveAttachmentContent()  \n17:17\u00a0<+lucaa>\u00a0and the attachment is all fine  \n17:17\u00a0<+lucaa>\u00a0so is saveAttachmentContent() needed or not?  \n17:17\u00a0<vmassol>\u00a0strange build issue: http://ci.xwiki.org/job/xwiki-enterprise/7620/console  \n17:18\u00a0<cjdelisle>\u00a0Ahh indeed it is not, saving the document causes all of it's attachments to be saved because of another patch I committed  \n17:18\u00a0<vmassol>\u00a0cjdelisle: well done :) http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/142/testReport/  \n17:18\u00a0<cjdelisle>\u00a0thanks  \n17:18\u00a0<vmassol>\u00a0now who's going to be the one to fix the last remaining issue! :)  \n17:19\u00a0<vmassol>\u00a0(yeah I know I shouldn't have fixed the test since it was hiding the issue \u2026. ;))  \n17:19\u00a0<vmassol>\u00a0sdumitriu: is that something you could look at? (I think you made some recent changes on the scheduler AFAIR)  \n17:19\u00a0<+lucaa>\u00a0caleb  \n17:20\u00a0<+lucaa>\u00a0so  \n17:20\u00a0<vmassol>\u00a0sdumitriu: it's http://jira.xwiki.org/jira/browse/XWIKI-6868  \n17:20\u00a0<@sdumitriu>\u00a0Checking  \n17:21\u00a0<+lucaa>\u00a0is this behaviour the same for db attachments? (\"saving the document causes all of it's attachments to be saved\")  \n17:21\u00a0<@sdumitriu>\u00a0DEFAULT.xwiki ?  \n17:21\u00a0<@sdumitriu>\u00a0WTH is that?  \n17:21\u00a0<cjdelisle>\u00a0lucaa: yes it is. let me find the issue where that patch was applied...  \n17:21\u00a0<+lucaa>\u00a0I mean, can I remove the saveAttachmentContent line safely?  \n17:21\u00a0<+lucaa>\u00a0thanks a lot  \n17:22\u00a0<vmassol>\u00a0cjdelisle: btw if you're not using \"jira client\" you should, it's a great timesaver when it comes to using jira, we have a license for it  \n17:23\u00a0<cjdelisle>\u00a0I've been scrolling through my email :)  \n17:25\u00a0<cjdelisle>\u00a0XWIKI-5405  \n17:25\u00a0<cjdelisle>\u00a0For that I simplified the attachment save process a lot which is why explicitly calling saveAttachmentContent is nolonger needed.  \n17:27\u00a0<+lucaa>\u00a0cjdelisle: cool. so I can safely remove it for my code, and it will work in both database mode and filesystem mode?  \n17:28\u00a0<cjdelisle>\u00a0Yes, you can look at uploadAction for an idea of how it should work.  \n17:28\u00a0<cjdelisle>\u00a0It is much more intuitive now.  \n17:29\u00a0<+lucaa>\u00a0upload action is a bit more complicated than just  \n17:30\u00a0<+lucaa>\u00a0Document.addAttachment()  \n17:30\u00a0<+lucaa>\u00a0should I do all that's in the UploadAction#uploadAttachment ?  \n17:30\u00a0<+lucaa>\u00a0or I can do just Document.addAttachment() ?  \n17:32\u00a0<cjdelisle>\u00a0XWikiDocument#addAttachment was also specifically addressed.  \n17:32\u00a0<+lucaa>\u00a0ok, good  \n17:32\u00a0<cjdelisle>\u00a0I notice what looks like a problem with Document#addAttachments()  \n17:32\u00a0<cjdelisle>\u00a0I will have to make note to write a test for that and make sure it's working correctly, orelse sneak it out in the night and hope noone misses it :]  \n17:33\u00a0<+lucaa>\u00a0test for what?  \n17:34\u00a0<cjdelisle>\u00a0to make sure api.Document#addAttachments() is working correctly  \n17:35\u00a0<+lucaa>\u00a0ok, multiple ones. But for one single attachment it should still work fine  \n17:35\u00a0<cjdelisle>\u00a0Correct  \n17:35\u00a0<+lucaa>\u00a0(I'm trying to get away with making this change without testing it in both db and filesystem mode)  \n17:35\u00a0<cjdelisle>\u00a0That is tested in the storage tests  \n17:38\u00a0<+lucaa>\u00a0ok, thanks for the help cjdelisle  \n17:38\u00a0<cjdelisle>\u00a0sure thing  \n17:40\u00a0<cjdelisle>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-test/xwiki-enterprise-test-storage/src/test/it/org/xwiki/test/storage/AttachmentTest.java#L51  \n17:40\u00a0<vmassol>\u00a0sdumitriu: would be great if you could move issues in their correct jira project when you fix them :)  \n17:40\u00a0<cjdelisle>\u00a0that test is automatically run against both filesystem and db storage systems  \n17:41\u00a0<cjdelisle>\u00a0feel free to write more if you want to understand how something works ;)  \n17:41\u00a0<vmassol>\u00a0sdumitriu: and set the \"component\"  \n17:41\u00a0<@sdumitriu>\u00a0vmassol: I try to  \n17:41\u00a0<@sdumitriu>\u00a0Which one did I miss?  \n17:41\u00a0<vmassol>\u00a0check mails, I've fixed a few dozens  \n17:41\u00a0<cjdelisle>\u00a0if anyone is feeling brave: XE-934  \n17:41\u00a0<cjdelisle>\u00a0closed?  \n17:42\u00a0<cjdelisle>\u00a0ahh XE-905  \n17:42\u00a0<cjdelisle>\u00a0XWIKI-6686  \n17:43\u00a0<vmassol>\u00a0sdumitriu: and set the affects when they've forgotten it  \n17:46\u00a0<arkub>\u00a0has quit  \n18:14\u00a0<amon>\u00a0Just a suggestion... since the version number seems to be really important, ie some things require particular patch levels and are documented as such, the xwiki version should probably be displayed on the Administration page and perhaps even on the Dashboard. To get it I had to do a CLI ssh to the server, and find the original source I downloaded.  \n18:16\u00a0<@sdumitriu>\u00a0amon: It should be displayed at the bottom of every page  \n18:16\u00a0<amon>\u00a0There is a number at the bottom of the page but that is really easy to miss  \n18:16\u00a0<amon>\u00a0There are never too many ways to make important info available :-)  \n18:18\u00a0<amon>\u00a0I did not notice the small print at the page bottom until after I'd done lots of other things because it doesn't show in the window and it is not where your eye fixates when looking for key info.  \n18:19\u00a0<amon>\u00a0ie, all the info on my screen shows and I have to scroll a bit extra to see the line at the bottom. ONly found it because I wondered if someone had stashed it there.  \n18:20\u00a0<amon>\u00a0I'd fit it in on the Administration page at the top at least. That is where people are most likely to go looking for it.  \n18:20\u00a0<amon>\u00a0Just my tuppence...  \n18:21\u00a0<vmassol>\u00a0indeed having an Info tab in the admin is a good idea  \n18:21\u00a0<vmassol>\u00a0it could list version \u00a0+ other things like java system properties (system encoding, etc)  \n18:22\u00a0<vmassol>\u00a0amon: you could create a jira issue for this if you want  \n18:23\u00a0<vmassol>\u00a0same as what jenkins is doing: http://ci.xwiki.org/about/? or http://ci.xwiki.org/computer/agent-1/systemInfo  \n18:25\u00a0<amon>\u00a0I'll make a note of that. I'll have to do a side recursion to learn how to do the report, will note that as a task after I recurse to the bottom of my task of getting openoffice importer working (i'm at least three levels down the stack of subtasks at the moment)  \n18:26\u00a0<vmassol>\u00a0welcome to the club  \n18:26\u00a0<vmassol>\u00a0:)  \n18:27\u00a0<amon>\u00a0Don't get me wrong, xwiki is \\*really\\* nice... I just wish someone in the debian world would package it... if you saw the install document I wrote, it takes 5 pages of text to explain how to get a new xwiki up working at the CLI level, which is \\*way\\* beyond most people.  \n18:27\u00a0<vmassol>\u00a0you're in luck  \n18:27\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XE-985  \n18:28\u00a0<vmassol>\u00a0we have an experimental version of this already  \n18:28\u00a0<vmassol>\u00a0you could try it  \n18:28\u00a0<amon>\u00a0that's wonderful. You'll get a \\*lot\\* more users once that happens.  \n18:28\u00a0<vmassol>\u00a0and if you have issue tmortagne will gladly help you since he did it and wants to promote it  \n18:29\u00a0<vmassol>\u00a0(he's offline right now)  \n18:29\u00a0<vmassol>\u00a0he's demoed it to me and I found it nice and working  \n18:29\u00a0<vmassol>\u00a0so you might want to give it a try  \n18:29\u00a0<amon>\u00a0I might do so, again I will have to make a note. Primary task is I've got 3 proposals due by Sep 8 and about 5 non-CS folk writing, which is why I want to get the Office Importer working for them  \n18:29\u00a0<lpereira>\u00a0has joined #xwiki  \n18:30\u00a0<amon>\u00a0okay, task duly noted in my overlarge to do list!  \n18:37\u00a0<DrLou>\u00a0has quit  \n18:39\u00a0<amon>\u00a0installing all the libreoffice packages on my server now... skipped the gnome office package, presume that will not be needed :-)  \n18:39\u00a0<vmassol>\u00a0sorry can't help you much\u2026 I'm on mac...  \n18:48\u00a0<lucaa>\u00a0has quit  \n18:50\u00a0<amon>\u00a0Some more input... keep in mind I'm doing some things just because I think an average person might make those guesses... I installed the libreoffice packages that are basically the default in the debian/ubuntu world; then went to the Administration panel and Open Office where it showed the server is not running but is selected to run according to the script. I hit the update button and got an error \"Failed to execute the [velocity] macro\"; I then   \n18:50\u00a0<amon>\u00a0Quite sure that would not work and it did not, but that would seem to be an obvious thing to do.  \n18:51\u00a0<amon>\u00a0I suspect the default config is all set up for open office and not libre office so I will have to go in on CLI and look now.  \n19:19\u00a0<evalica>\u00a0has quit  \n19:20\u00a0<vmassol>\u00a0guys would be interested to get a quick opinion on this: http://jira.xwiki.org/jira/browse/XRENDERING-35  \n19:24\u00a0<Enygma`>\u00a0has quit  \n19:47\u00a0<DrLou>\u00a0has joined #xwiki  \n20:53\u00a0<vmassol>\u00a0cool http://code.google.com/p/selenium/issues/detail?id=2320  \n21:24\u00a0<rrodriguez>\u00a0has quit  \n21:39\u00a0<abusenius>\u00a0has quit  \n21:39\u00a0<abusenius>\u00a0has joined #xwiki  \n22:05\u00a0<DrLou>\u00a0has quit  \n22:53\u00a0<vmassol>\u00a0has quit  \n22:56\u00a0<sdumitriu>\u00a0has quit  \n23:09\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:10\u00a0<pturcotte>\u00a0has quit  \n23:15\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:47\u00a0<DrLou>\u00a0has joined #xwiki  \n23:55\u00a0<sdumitriu>\u00a0has quit  \n23:57\u00a0<sdumitriu>\u00a0has joined #xwiki  \n\n"}