{"id": "dev:IRC.xwikiArchive20161012", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20161012", "title": "IRC Archive for channel #xwiki on 12 October 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<daemoen>\u00a0has quit  \n00:48\u00a0<daemoen>\u00a0has joined #xwiki  \n01:36\u00a0<Chris[m]>\u00a0has quit  \n01:37\u00a0<M-vmassol>\u00a0has quit  \n01:37\u00a0<blabla2[m]>\u00a0has quit  \n01:38\u00a0<M-mouhb>\u00a0has quit  \n01:38\u00a0<jihad[m]>\u00a0has quit  \n01:38\u00a0<M-cjd>\u00a0has quit  \n01:38\u00a0<M-jsimard>\u00a0has quit  \n01:48\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n01:55\u00a0<M-cjd>\u00a0has joined #xwiki  \n01:55\u00a0<M-mouhb>\u00a0has joined #xwiki  \n01:55\u00a0<jihad[m]>\u00a0has joined #xwiki  \n01:55\u00a0<Aranjedeath>\u00a0has quit  \n01:56\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n01:56\u00a0<M-jsimard>\u00a0has joined #xwiki  \n01:56\u00a0<aloisdg[m]>\u00a0has joined #xwiki  \n01:57\u00a0<M-yflory>\u00a0has joined #xwiki  \n01:57\u00a0<M-vmassol>\u00a0has joined #xwiki  \n02:01\u00a0<Chris[m]1>\u00a0has joined #xwiki  \n02:07\u00a0<xwikiorg\\_guest\\_0>\u00a0has joined #xwiki  \n02:07\u00a0<blabla2[m]>\u00a0has quit  \n02:08\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n02:10\u00a0<xwikiorg\\_guest\\_0>\u00a0Hello. I am in the middle of installing xWiki on Ubuntu 16.04 server. I am at the point of deciding which package I should install. When I run 'apt-cache search xWiki' I see a number of packages. Which one do you recommend for a first time user? I work at a school district, if that helps. Thanks for your time.  \n02:12\u00a0<Guest82244>\u00a0has joined #xwiki  \n02:19\u00a0<M-jsimard>\u00a0has quit  \n02:19\u00a0<Craeckie[m]>\u00a0has quit  \n02:20\u00a0<M-jsimard>\u00a0has joined #xwiki  \n02:20\u00a0<Guest82244>\u00a0has quit  \n02:26\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n02:34\u00a0<blabla2[m]>\u00a0has quit  \n02:41\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n02:55\u00a0<M-jsimard>\u00a0has quit  \n03:00\u00a0<aloisdg[m]>\u00a0has quit  \n03:01\u00a0<M-jsimard>\u00a0has joined #xwiki  \n03:08\u00a0<aloisdg[m]>\u00a0has joined #xwiki  \n03:08\u00a0<xwikiorg\\_guest\\_0>\u00a0has quit  \n03:16\u00a0<jonesmeier>\u00a0has quit  \n03:17\u00a0<jonesmeier>\u00a0has joined #xwiki  \n05:56\u00a0<blabla2[m]>\u00a0has quit  \n05:57\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n07:09\u00a0<vmassol>\u00a0has joined #xwiki  \n07:59\u00a0<vmassol>\u00a0has quit  \n08:13\u00a0<vmassol>\u00a0has joined #xwiki  \n08:15\u00a0<msmeria>\u00a0has joined #xwiki  \n08:17\u00a0<vmassol>\u00a0has quit  \n09:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:39\u00a0<vmassol>\u00a0has joined #xwiki  \n09:42\u00a0<vmassol>\u00a0has quit  \n09:42\u00a0<vmassol>\u00a0has joined #xwiki  \n09:44\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:34\u00a0<Slashman>\u00a0has joined #xwiki  \n10:40\u00a0<Pbas>\u00a0hum my xwiki 8.2.1 are slow down again: 17s to load a page ... When I restart tomcat it is ok but after 1 day page loading are extremly slow :-/  \n10:40\u00a0<Pbas>\u00a0The debug mode: https://snag.gy/8pGOvi.jpg  \n10:42\u00a0<Pbas>\u00a0it is \"Render template of endpage, quicklink panel and tagcloud\"  \n10:44\u00a0<Pbas>\u00a0I didn't see problems in catalina.out and \u00a0xwiki log (except with mail:Failed to delete mail status)  \n10:48\u00a0<Pbas>\u00a0I use this param in catalina.sh: JAVA\\_OPTS=\"-server -Xms1724m -Xmx1724m -Dfile.encoding=utf-8 -Djava.awt.headless=true -XX:+UseParallelGC -XX:MaxGCPauseMillis=100 but same problem with: JAVA\\_OPTS=\"-server -Xms800m -Xmx1480m  \n10:49\u00a0<tmortagne>\u00a0\u00a0\u00a0[WARN] Upgrading myxwiki.org to 8.3 in 10 minutes  \n10:51\u00a0<tmortagne>\u00a0Pbas: looks like tagcloud and quicklink are slowing you down a lot but it's pretty weird in case of quicklink since it's usually just a link of links  \n10:51\u00a0<Pbas>\u00a0yes it is what I'm thinking: quicklink is only 4 links  \n10:51\u00a0<tmortagne>\u00a0but right panels are only 33%, your screenshot is missing 20% from the endpage.vm  \n10:52\u00a0<Pbas>\u00a0I wonder why the problem coming after one day after reboot (or some hours)  \n10:53\u00a0<tmortagne>\u00a0if there a lot of people accessing when it's slow ?  \n10:53\u00a0<Pbas>\u00a0In my endpage.vm I add a cookie drop but I tested with original endpage  \n10:53\u00a0<Pbas>\u00a0I'm alone or two: it is my dev server  \n10:53\u00a0<tmortagne>\u00a0ok so it's not load  \n10:53\u00a0<tmortagne>\u00a0and when you refresh the same page it's always slow  \n10:53\u00a0<tmortagne>\u00a0?  \n10:54\u00a0<Pbas>\u00a0yes  \n10:54\u00a0<tmortagne>\u00a0could you try a not existing page  \n10:54\u00a0<tmortagne>\u00a0(i.e. only have the skin)  \n10:54\u00a0<Pbas>\u00a0when it start to be slow every page are slow  \n10:54\u00a0<Pbas>\u00a0yes i test to load a skin then  \n10:55\u00a0<tmortagne>\u00a0you could also test with /get/ instead of /view/ to see it's only the skin  \n10:56\u00a0<tmortagne>\u00a0also you should probably check of the database receive requests  \n10:56\u00a0<tmortagne>\u00a0maybe the size f your cache is too low and some pages are reloaded every time  \n10:56\u00a0<Pbas>\u00a0/bin/ssx/Personnalisation/DiversCSS? => 3s :-(  \n10:57\u00a0<Pbas>\u00a0which cache?  \n10:57\u00a0<tmortagne>\u00a0page cache in xwiki.cfg  \n10:57\u00a0<tmortagne>\u00a0but I doubt /bin/ssx/Personnalisation/DiversCSS need to load many documents so it's probably not your issue here  \n10:57\u00a0<M-cjd>\u00a0has quit  \n10:58\u00a0<Pbas>\u00a0I use xwiki.store.cache.capacity=1000 (500 is default one)  \n10:58\u00a0<tmortagne>\u00a0what /bin/get/Not/Existing/Page gives you ?  \n10:58\u00a0<tmortagne>\u00a0(i.e. no page load and no skin)  \n10:58\u00a0<tmortagne>\u00a0are you authenticated ?  \n10:59\u00a0<tmortagne>\u00a0try with both guest and authenticated  \n10:59\u00a0<Pbas>\u00a0https://xwiki-dev.dom.cp2i.i2/bin/view/NoPage extremly slow too  \n10:59\u00a0<Slashman>\u00a0has quit  \n10:59\u00a0<Slashman>\u00a0has joined #xwiki  \n10:59\u00a0<tmortagne>\u00a0not /view/ but /get/  \n11:01\u00a0<Pbas>\u00a0hum with /bin/get/NoPage one time 300ms and next time 1s  \n11:01\u00a0<tmortagne>\u00a0which is very slow for this  \n11:01\u00a0<tmortagne>\u00a0it's doing pretty much nothing  \n11:01\u00a0<Pbas>\u00a0heu nope with Ctrl F5, 2,17s each time  \n11:02\u00a0<Pbas>\u00a0300ms was my browser cah I suppose  \n11:02\u00a0<tmortagne>\u00a0you should not have a cache for this  \n11:02\u00a0<tmortagne>\u00a0try with guest if you are authenticated  \n11:02\u00a0<tmortagne>\u00a0do you have any special authenticator ?  \n11:03\u00a0<Pbas>\u00a0yes ldap but now I use admin account  \n11:03\u00a0<Pbas>\u00a0same problem with ldap account: slow  \n11:03\u00a0<M-cjd>\u00a0has joined #xwiki  \n11:03\u00a0<Pbas>\u00a0guest is forbidden: I will check login page then  \n11:03\u00a0<tmortagne>\u00a0could you enabled LDAP debug log ?  \n11:04\u00a0<tmortagne>\u00a0maybe for some reason it's redoing the authentication for every request  \n11:04\u00a0<Pbas>\u00a0yes but admin account is not a ldap one  \n11:04\u00a0<tmortagne>\u00a0because /bin/get/NoPage is supposed to do almost nothing so I don't understand  \n11:05\u00a0<tmortagne>\u00a0Pbas: yes but it still try LDAP, fail and fallback on standard auth  \n11:05\u00a0<Pbas>\u00a0probably my tomcat  \n11:06\u00a0<tmortagne>\u00a0on XWiki side all I can thing of is the authenticator redoing stuff for each request and if it's not that then it sounds like something in front of XWiki somewhere  \n11:06\u00a0<tmortagne>\u00a0actually what total time do you get from ?debug=true ?  \n11:06\u00a0<tmortagne>\u00a0compare to the browser time  \n11:06\u00a0<Pbas>\u00a0hum with guest : on login page ... 10s  \n11:06\u00a0<tmortagne>\u00a0that will at least tell you if the time is spent in XWiki or in front of XWiki  \n11:06\u00a0<Pbas>\u00a0I suppose with guest: loading login page  \n11:08\u00a0<Pbas>\u00a0I check loading time in debug mode and firebug in same time ?  \n11:09\u00a0<tmortagne>\u00a0yep  \n11:09\u00a0<tmortagne>\u00a0see if you have the same number (or close)  \n11:10\u00a0<Pbas>\u00a0loading ...  \n11:11\u00a0<Pbas>\u00a0firebug: 1mn9 and debug mode: 57s  \n11:12\u00a0<Pbas>\u00a0I launch a htop on my server: my 4 core are 80% full CPU  \n11:12\u00a0<Pbas>\u00a0with my jdk1.8.0\\_66  \n11:15\u00a0<tmortagne>\u00a0so it does not seems to be something in front of XWiki  \n11:15\u00a0<tmortagne>\u00a0maybe the server is just super slow for some reason  \n11:15\u00a0<Pbas>\u00a0yes then it must be my tomcat conf?  \n11:16\u00a0<evalica>\u00a0has joined #xwiki  \n11:16\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:16\u00a0<tmortagne>\u00a0not sure, the 57 s are inside XWiki, tomcat did it's job  \n11:17\u00a0<tmortagne>\u00a0but it can still be caused by something XWiki is using like the hard drive or the database  \n11:17\u00a0<tmortagne>\u00a0is the memory ok ?  \n11:17\u00a0<Pbas>\u00a0yes 9313/16080MB  \n11:18\u00a0<Pbas>\u00a0I try to enable ldap trace but ... I'm waiting the page  \n11:19\u00a0<Pbas>\u00a0The database would be ok because loading page is very slow too, no?  \n11:20\u00a0<Pbas>\u00a0each time I load a page CPU is full if not it is 0% loaded  \n11:23\u00a0<Pbas>\u00a0I have: xception in thread \"ContainerBackgroundProcessor[StandardEngine[Catalina]]\" java.lang.OutOfMemoryError: GC overhead limit exceeded  \n11:25\u00a0<tmortagne>\u00a0ha  \n11:25\u00a0<tmortagne>\u00a0so looks like 1724 is not enough  \n11:26\u00a0<Pbas>\u00a0I activated ldap log: no ldap trace when I'm loading a page  \n11:27\u00a0<Pbas>\u00a0Maybe I can double it then  \n11:27\u00a0<tmortagne>\u00a0you need to fix your OOM  \n11:28\u00a0<tmortagne>\u00a0that's probably the cause of everything  \n11:28\u00a0<tmortagne>\u00a0and why it happen after some time  \n11:28\u00a0<tmortagne>\u00a0maybe some memory leak somewhere  \n11:28\u00a0<tmortagne>\u00a0would need to take a memory dump and see what's wrong in it  \n11:30\u00a0<Pbas>\u00a0something like: -XX:HeapDumpPath=path\\_to\\_file ?  \n11:31\u00a0<tmortagne>\u00a0Pbas: see http://dev.xwiki.org/xwiki/bin/view/Community/Debugging#HAnalyzeOutOfMemoryissues  \n11:32\u00a0<tmortagne>\u00a0XX:HeapDumpPath is indicating where you want the dump but you need to enable taking it first  \n11:32\u00a0<tmortagne>\u00a0but you will have to wait for a OOM to reproduce  \n11:32\u00a0<tmortagne>\u00a0in any case the fix right now is to increase the memory in tomcat setup  \n11:33\u00a0<M-cjd>\u00a0has quit  \n11:33\u00a0<Pbas>\u00a0ok I increase the memory and add -XX:+HeapDumpOnOutOfMemoryError in same time?  \n11:34\u00a0<Pbas>\u00a0without HeapDumpPath, dump info will be in catalina.out I suppose  \n11:34\u00a0<aloisdg[m]>\u00a0has quit  \n11:34\u00a0<Chris[m]1>\u00a0has quit  \n11:34\u00a0<tmortagne>\u00a0yep, if it reproduce again you will have a memory dump tpo analyze  \n11:34\u00a0<M-jsimard>\u00a0has quit  \n11:35\u00a0<tmortagne>\u00a0not in catalina.out  \n11:35\u00a0<tmortagne>\u00a0by default is save a file in whatever is the current folder  \n11:35\u00a0<tmortagne>\u00a0probably safer to use \u00a0-XX:HeapDumpPath  \n11:35\u00a0<Craeckie[m]>\u00a0has quit  \n11:35\u00a0<M-mouhb>\u00a0has quit  \n11:35\u00a0<Pbas>\u00a0Ok then I will search howto to use both parameter  \n11:36\u00a0<Pbas>\u00a0I will restart tomcat and watch tomorrow (time that the problem coming) :-)  \n11:37\u00a0<blabla2[m]>\u00a0has quit  \n11:37\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n11:40\u00a0<M-cjd>\u00a0has joined #xwiki  \n11:41\u00a0<M-jsimard>\u00a0has joined #xwiki  \n11:41\u00a0<Chris[m]1>\u00a0has joined #xwiki  \n11:41\u00a0<aloisdg[m]>\u00a0has joined #xwiki  \n11:41\u00a0<Pbas>\u00a0Ok I will add this: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/home/MyPath. ty :)  \n11:41\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n11:41\u00a0<M-vmassol>\u00a0has joined #xwiki  \n11:41\u00a0<M-mouhb>\u00a0has joined #xwiki  \n11:45\u00a0<ClemensR>\u00a0has joined #xwiki  \n14:52\u00a0<edvorg>\u00a0has joined #xwiki  \n14:56\u00a0<M-yflory>\u00a0has quit  \n14:56\u00a0<Chris[m]1>\u00a0has quit  \n14:59\u00a0<Craeckie[m]>\u00a0has quit  \n14:59\u00a0<jihad[m]>\u00a0has quit  \n15:02\u00a0<M-yflory>\u00a0has joined #xwiki  \n15:06\u00a0<jihad[m]>\u00a0has joined #xwiki  \n15:06\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n15:28\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:31\u00a0<msmeria>\u00a0has quit  \n16:11\u00a0<msmeria>\u00a0has joined #xwiki  \n16:13\u00a0<msmeria>\u00a0has quit  \n16:13\u00a0<msmeria1>\u00a0has quit  \n16:17\u00a0<ol-ow2>\u00a0has joined #xwiki  \n17:17\u00a0<xwikiorg\\_guest\\_7>\u00a0has quit  \n17:25\u00a0<blabla2[m]>\u00a0has quit  \n17:26\u00a0<M-vmassol>\u00a0has quit  \n17:26\u00a0<M-jsimard>\u00a0has quit  \n17:26\u00a0<M-mouhb>\u00a0has quit  \n17:26\u00a0<M-yflory>\u00a0has quit  \n17:26\u00a0<Craeckie[m]>\u00a0has quit  \n17:38\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n17:41\u00a0<M-jsimard>\u00a0has joined #xwiki  \n17:41\u00a0<M-cjd>\u00a0has joined #xwiki  \n17:41\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n17:41\u00a0<Chris[m]>\u00a0has joined #xwiki  \n17:41\u00a0<M-vmassol>\u00a0has joined #xwiki  \n17:41\u00a0<M-yflory>\u00a0has joined #xwiki  \n18:22\u00a0<gdelhumeau>\u00a0has quit  \n18:26\u00a0<ol-ow2>\u00a0has quit  \n18:36\u00a0<evalica>\u00a0has quit  \n18:36\u00a0<vmassol>\u00a0has quit  \n18:39\u00a0<Enygma`>\u00a0has quit  \n18:47\u00a0<ClemensR>\u00a0has left #xwiki  \n19:06\u00a0<vmassol>\u00a0has joined #xwiki  \n19:10\u00a0<vmassol>\u00a0has quit  \n19:17\u00a0<vmassol>\u00a0has joined #xwiki  \n19:41\u00a0<vmassol>\u00a0has quit  \n19:42\u00a0<edvorg>\u00a0has quit  \n19:49\u00a0<tmortagne>\u00a0has quit  \n20:16\u00a0<Slashman>\u00a0has quit  \n20:41\u00a0<tmortagne>\u00a0has joined #xwiki  \n21:54\u00a0<tmortagne>\u00a0has quit  \n22:12\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n22:23\u00a0<Aranjedeath>\u00a0has quit  \n22:41\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n22:45\u00a0<Aranjedeath>\u00a0has quit  \n22:51\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n23:19\u00a0<M-mouhb>\u00a0has quit  \n23:19\u00a0<M-jsimard>\u00a0has quit  \n23:19\u00a0<jihad[m]>\u00a0has quit  \n23:19\u00a0<Craeckie[m]>\u00a0has quit  \n23:19\u00a0<blabla2[m]>\u00a0has quit  \n23:19\u00a0<M-cjd>\u00a0has joined #xwiki  \n23:19\u00a0<jihad[m]>\u00a0has joined #xwiki  \n23:19\u00a0<Chris[m]>\u00a0has joined #xwiki  \n23:19\u00a0<M-jsimard>\u00a0has joined #xwiki  \n23:20\u00a0<M-mouhb>\u00a0has joined #xwiki  \n23:20\u00a0<aloisdg[m]>\u00a0has joined #xwiki  \n23:20\u00a0<M-vmassol>\u00a0has joined #xwiki  \n23:20\u00a0<M-yflory>\u00a0has joined #xwiki  \n23:23\u00a0<sdumitriu>\u00a0has quit  \n23:23\u00a0<[d\\_\\_d]>\u00a0has quit  \n23:24\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n23:25\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n23:28\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:28\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki\n"}