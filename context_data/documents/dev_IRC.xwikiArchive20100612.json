{"id": "dev:IRC.xwikiArchive20100612", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100612", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu left at 00:51 (Read error: Connection reset by peer  \nabusenius left at 00:51 (Quit: Konversation terminated!  \nlucaa left at 01:21 (Ping timeout: 240 seconds  \nsdumitriu left at 01:36 (Ping timeout: 258 seconds  \nlucaa joined #xwiki at 02:14  \nSvenDowideit left at 05:35 (\\*.net \\*.split  \nfreud left at 05:35 (\\*.net \\*.split  \nCalebJamesDeLisl left at 05:35 (\\*.net \\*.split  \nxipe left at 05:35 (\\*.net \\*.split  \nnpm left at 05:35 (\\*.net \\*.split  \nbbc581 left at 05:35 (\\*.net \\*.split  \nlucaa left at 05:36 (\\*.net \\*.split  \njvelociter left at 05:36 (\\*.net \\*.split  \nnuvolari left at 05:36 (\\*.net \\*.split  \nlucaa joined #xwiki at 05:39  \nnpm joined #xwiki at 05:39  \nfreud joined #xwiki at 05:39  \nSvenDowideit joined #xwiki at 05:39  \nCalebJamesDeLisl joined #xwiki at 05:39  \njvelociter joined #xwiki at 05:39  \nbbc581 joined #xwiki at 05:39  \nxipe joined #xwiki at 05:39  \nnuvolari joined #xwiki at 05:39  \nCalebJamesDeLisl - (08:28): freud: I'm not sure which folder to put the war file in but I would try the /usr/share/tomcat6/webapps first and see if it works.  \nflorinciu joined #xwiki at 08:36  \nflorinciu left at 09:35 (Quit: Leaving.  \nflorinciu joined #xwiki at 09:38  \nmflorea joined #xwiki at 10:01  \nanamarias joined #xwiki at 10:10  \nsdumitriu joined #xwiki at 10:53  \nvmassol joined #xwiki at 11:02  \nvmassol - (11:06): hi guys  \nvmassol - (11:07): CalebJamesDeLisl: have you seen this: http://dev.xwiki.org/xwiki/bin/view/FAQ/soeasyforxssattack ?  \nvmassol - (11:07): ah someone removed it  \nCalebJamesDeLisl - (11:07): No, looking...  \nvmassol - (11:07): using our security list  \nvmassol - (11:08): mail sent  \nCalebJamesDeLisl - (11:09): I know there are a couple easy xss vectors (Alex pointed out a bad one) Alex's csrf module will make XSS really hard to actually save anything.  \nCalebJamesDeLisl - (11:10): He and I came up with a trick to make actually doing anything really difficult even if XSS is achieved.  \nvmassol - (11:10): looks cool  \nCalebJamesDeLisl - (11:11): Do you know why building XE fails if you dependency:purge-local-repository first?  \nCalebJamesDeLisl - (11:13): 3) org.xwiki.platform.applications:xwiki-application-administration:xar:1.35-SNAPSHOT  \nCalebJamesDeLisl - (11:13): It makes no sense because it's in the snapshots repo and it's looking there.  \nvmassol - (11:16): hmm  \nvmassol - (11:17): I'd need to try it out and debug it  \nvmassol - (11:17): if it's in the remote repo it should work just fine normally  \nvmassol - (11:17): ah  \nvmassol - (11:17): one idea  \nvmassol - (11:17): maybe it's not in the depedency list  \nvmassol - (11:17): maybe it's only defined as a dependency in the dependency plugin  \nvmassol - (11:17): which module is it?  \nCalebJamesDeLisl - (11:18): It's a bunch of applications, the wiki module in XE doesn't build.  \nCalebJamesDeLisl - (11:18): Interestingly Invitation works fine.  \nvmassol - (11:19): the build fails in enteprrise/wiki?  \nCalebJamesDeLisl - (11:20): Yup. also enterprise/ fails.  \nvmassol - (11:20): trying  \nvmassol - (11:20): in enteprrise/wiki  \nCalebJamesDeLisl - (11:21): Hah, can't find Invitation either.  \nvmassol - (11:22): hehe fun  \nvmassol - (11:22): the purge fails for me  \nvmassol - (11:22): ;)  \nCalebJamesDeLisl - (11:22): Yea me too, I think it's because it tries to resolve after purging.  \nvmassol - (11:23): so when I build  \nvmassol - (11:23): I get some unresolved deps for plugins  \nvmassol - (11:23): I wonder why there are plugins at this level  \nvmassol - (11:23): debugging  \nvmassol - (11:23): the xar are downloaded fine here though  \nvmassol - (11:24): I think I know why  \nvmassol - (11:24): checking  \nvmassol - (11:24): hmmm \u00a0I wonder why maven downlaods the plugin jars  \nvmassol - (11:24): since the scheduler app has a \\*runtime\\* dep on the plugin  \nvmassol - (11:25): thus it shouldn't be necessary to download it  \nCalebJamesDeLisl - (11:25): Hmm. That is odd. I didn't notice it was runtime.  \nvmassol - (11:26): now why doesn't the download work\u2026.  \nvmassol - (11:26): since the scheduler jar is there  \nCalebJamesDeLisl - (11:29): Indeed the XARs it's trying to download are not there: http://maven.xwiki.org/snapshots/org/xwiki/platform/applications/xwiki-application-invitation/1.0-SNAPSHOT/xwiki-application-invitation-1.0-SNAPSHOT.xar  \nvmassol - (11:29): that's not how it works  \nvmassol - (11:29): snapshots are resolved to a timestamp  \nvmassol - (11:30): for looking up in the remote repo  \nvmassol - (11:30): the info is stored in the metadata file in your local repo  \nvmassol - (11:30): and indeed it has a wrong lastupdated for my lcoal repo  \nCalebJamesDeLisl - (11:30): Well that url is copied from the command line where it tried to download the file.  \nvmassol - (11:32): I think the pb is that the purge didn't work  \nvmassol - (11:33): if you manually remove  \nvmassol - (11:33): the plugin version in your local repo it'll work  \nvmassol - (11:33): you can also check that the state is strange in your local repo  \nvmassol - (11:33): I have never used this purge local repo before  \nvmassol - (11:33): but it seems not to work properly  \nCalebJamesDeLisl - (11:34): How do you pass a parameter in maven? \u00a0This isn't working: mvn dependency:purge-local-repository -reResolve=false  \nvmassol - (11:34): -Dparam=value  \nCalebJamesDeLisl - (11:35): Ok, purge worked.  \nvmassol - (11:35): me too  \nvmassol - (11:35): the second time  \nvmassol - (11:35): without extra params  \nvmassol - (11:36): the build is working fine actually  \nCalebJamesDeLisl - (11:36): Indeed it just worked for me too without reResolve=false.  \nvmassol - (11:36): delete the plugins dir in the lcoal repo  \nvmassol - (11:37): and it'll work  \nvmassol - (11:37): now I'm retesting again purge local repo but with -Dverbose=true  \nvmassol - (11:38): ok , purge failed as before  \nvmassol - (11:38): but building the project worked now  \nvmassol - (11:39): must some sync issue somehow with snapshots last update dates  \nCalebJamesDeLisl - (11:39): Are you in /enterprise/ or /enterprise/wiki?  \nvmassol - (11:39): enteprrise/wiki  \nCalebJamesDeLisl - (11:39): Me too, I just got the opposite result.  \nCalebJamesDeLisl - (11:40): purge succeeded, build failed.  \nvmassol - (11:40): did you delete the plugins dir before you did the purge?  \nCalebJamesDeLisl - (11:40): No.  \nvmassol - (11:40): then some artifacts are probably not in the right state  \nvmassol - (11:40): in your local repo  \nCalebJamesDeLisl - (11:41): Hmm. Too bad there isn't a \"real\" purge because hunting down and deleting artifacts in .m2 is a pain.  \nvmassol - (11:41): CalebJamesDeLisl: if you're on a good connection it's easy  \nvmassol - (11:41): just delete .m2/com/xpn and .m2/org/xwiki  \nvmassol - (11:41): ;)  \nvmassol - (11:41): that's .m2/repository  \nCalebJamesDeLisl - (11:42): Yup. that works.  \nCalebJamesDeLisl - (11:42): Speaking of a good connection, I should try git pulling the svn repo.  \nvmassol - (11:43): you could try this too:  \nvmassol - (11:43): http://mojo.codehaus.org/build-helper-maven-plugin/remove-project-artifact-mojo.html  \nvmassol - (11:43): don't know if it works at all or not  \nCalebJamesDeLisl - (11:44): I'll give it a try.  \nCalebJamesDeLisl - (11:44): Did you get your XSS email back? I haven't seen it.  \nvmassol - (11:45): hmm right I didn't get it back  \nvmassol - (11:45): so it's stuck somewhere  \nvmassol - (11:45): ah no  \nvmassol - (11:45): I got it back  \nvmassol - (11:45): my bad  \nCalebJamesDeLisl - (11:45): Looks like I don't have permission.  \nvmassol - (11:46): $ mvn build-helper:remove-project-artifact works fine for me  \nCalebJamesDeLisl - (11:47): Ahh but you have to go over to platform to run it.  \nvmassol - (11:47): I don't think it removes deps though only the main artifact  \nCalebJamesDeLisl - (11:48): Yea, It's not a big deal, I can run it in platform then build XE and I have what I want.  \nvmassol - (11:49): the purge issue doesn't seem known: http://jira.codehaus.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+MDEP+AND+resolution+%3D+Unresolved+AND+component+%3D+purge-local-repository+ORDER+BY+priority+DESC  \nCalebJamesDeLisl - (11:50): Hmm. Think it's a maven bug?  \nvmassol - (11:51): I'll report it  \nvmassol - (12:03): done: http://jira.codehaus.org/browse/MDEP-268  \nvmassol - (12:03): you can watch it if you're interested  \nCalebJamesDeLisl - (12:04): Hmm, assigned already? or did you do that?  \nvmassol - (12:04): was assigned by default  \nCalebJamesDeLisl - (12:05): Bookmarked.  \nvmassol - (12:05): better watch it  \nvmassol - (12:05): and you'll get mail when it's modified  \nCalebJamesDeLisl - (12:05): I'd have to sign up.  \nCalebJamesDeLisl - (12:06): Do we use this: http://wiki.hudson-ci.org/display/HUDSON/Email-ext+plugin  \nCalebJamesDeLisl - (12:06): ?  \nvmassol - (12:08): don't know  \ntmortagne joined #xwiki at 12:08  \nvmassol - (12:08): do you want admin access to our hudson instance?  \nvmassol - (12:08): (not the instance but admin access to the ui I mean)  \ntmortagne left #xwiki at 12:09  \ntmortagne joined #xwiki at 12:09  \nvmassol - (12:09): tmortagne: ok to rename DefaultAttachement to DefaultAttachment in the rendering?  \nCalebJamesDeLisl - (12:10): Me? sure, it's nice to look at stuff and see what the settings are.  \nvmassol - (12:11): CalebJamesDeLisl: done  \nmariusbutuc joined #xwiki at 12:11  \nCalebJamesDeLisl - (12:11): This guy is using groovy in the mail which is really cool: http://techkriti.wordpress.com/2008/08/30/using-groovy-with-hudson-to-send-rich-text-email/  \nCalebJamesDeLisl - (12:12): I think it'd be best if regressions were tagged in the subject line (so my email filter can put them in the right folder)  \nvmassol - (12:12): I think DefaultAttachment is not very commonly used and we can take the risk of breaking the rendering api for it  \ntmortagne - (12:12): vmassol: it's pretty public, hope it's not used a lot already  \nvmassol - (12:12): wdyt?  \nvmassol - (12:12): tmortagne: are you still ok to do it?  \nvmassol - (12:13): (I doubt it's used TBH)  \ntmortagne - (12:13): i'm +0.5 :)  \nvmassol - (12:13): should I send a vote or jsut do it?  \ntmortagne - (12:13): probably just do it  \nvmassol - (12:14): I'm fixing 100 places where we've used attachement instead of attachment ;)  \ntmortagne - (12:14): a vote would not change much if we are both ok with it :)  \nvmassol - (12:14): ok I'll commit and if someone doesn't agree  \nvmassol - (12:14): I can always revert  \ntmortagne - (12:15): yep common French developer mistake :)  \nvmassol - (12:18): tmortagne: did you get my mail on the security list?  \nnuvolari left at 12:18 (Ping timeout: 260 seconds  \ntmortagne - (12:18): vmassol: no  \ntmortagne - (12:18): i did not get any security list mail except the one saying i'm part of security list  \nvmassol - (12:20): tmortagne/CalebJamesDeLisl: it's security at xwiki dot org right?  \nCalebJamesDeLisl - (12:20): As far as I know.  \nCalebJamesDeLisl - (12:21): Hudson has some funny plugins. Hudson speaks (FreeTTS)  \ntmortagne - (12:21): that's what the mails says  \nvmassol - (12:21): yes just checked  \ntmortagne - (12:22): when did you sent it ?  \nvmassol - (12:22): about 1 hjour ago  \ntmortagne - (12:22): maybe it's slow or something  \nvmassol - (12:22): I doubt it  \ntmortagne - (12:22): hope it's not gone on spam  \nmariusbutuc left at 12:22 (Quit: Leaving.  \nvmassol - (12:22): I had sent a test message a long tiem ago  \nvmassol - (12:22): and I think I was the only one who received it  \ntmortagne - (12:22): ok  \nCalebJamesDeLisl - (12:46): Re XSS: I have generally regarded adding javascript as a permission granted to users. Especially since it's allowed through the html macro.  \nnuvolari joined #xwiki at 12:50  \nvmassol - (12:54): CalebJamesDeLisl: you should have received the mail now  \nvmassol - (12:54): bbiab  \nCalebJamesDeLisl - (12:55): Yup, got it.  \nbblfish joined #xwiki at 14:00  \nvmassol left at 14:32 (Quit: Leaving.  \nfreud left at 14:57 (Quit: Page closed  \nfreud joined #xwiki at 15:11  \nfreud - (15:12): anyone good with db errors? i get 500 page while starting webapp, something in the hibernate file...http://pastebin.com/wsnRWtNu  \nfreud - (15:13): and before you go RTFM on me, i struggled for 2hrs yesterday just to get autoDeploy working, i'm a total noob with tomcat and linux aswell(running ubuntu for 2 weeks total)  \nCalebJamesDeLisl - (15:15): What database are you using? Mysql?  \nfreud - (15:15): yes.  \nCalebJamesDeLisl - (15:16): Did you open the .war file and edit the hibernate config file inside?  \nfreud - (15:16): I copied the files from my Jconnect thingy into the shared lib, maybe the wrong .jar's?  \nfreud - (15:17): yes, i commented out the other db engines and enabled mysql part...  \nCalebJamesDeLisl - (15:17): Ok, where did you out the jdbc driver (Jconnect thingy)?  \nCalebJamesDeLisl - (15:18): Should be in side the war file in /WEB-INF/lib/  \nCalebJamesDeLisl - (15:18): \\*inside  \nfreud - (15:18): $CATALINA\\_HOME/common/lib  \nCalebJamesDeLisl - (15:19): That \\_should\\_ be okay but to be safe you could do what I do and put it inside the .war file.  \nfreud - (15:20): well, that's not entirely tru, because catalina\\_home does not have a \"/common/lib/\", just a /lib/, with a bunch of other .jar's in it, so that's where i pyt them...  \nCalebJamesDeLisl - (15:20): The error is saying that it doesn't like the hibernate file. If you want to paste that I can look at it.  \nfreud - (15:20): so i put them in the .war and re-deploy?  \nCalebJamesDeLisl - (15:21): I also unzipped the war file so it's a directory, I find it's easier to deal with that way.  \nCalebJamesDeLisl - (15:22): With it as a folder, you can make quick changes to the config files. (you do have to redeploy though.)  \nfreud - (15:22): http://pastebin.com/spam.php?i=SEdvEQJb is the hibernate.cfg.xml  \nfreud - (15:24): so you deploy it froma mounted archive(not so good with these systems yet) so i'm just saying things i thingk i have a half idea what they mean :)  \nCalebJamesDeLisl - (15:24): :)  \nCalebJamesDeLisl - (15:25): What I did was to unzip the .war file (it's just a zip file with a funny name) and save the contents in a folder called xwiki and put that folder in the same place where the .war file was.  \nCalebJamesDeLisl - (15:26): (hibernate cfg file looks good.)  \nfreud - (15:28): i'll check the logs some more tonight...it's probably some permissions or such that are wrong...thx for help  \nCalebJamesDeLisl - (15:29): I would want to make sure your jdbc jar is the right one and is in the right place.  \nfreud - (15:31): me so stupid, i never thought to double check the db user name and password, it's working now, so sorry  \nCalebJamesDeLisl - (15:32): No trouble. Those are the easy problems ;)  \nfreud - (15:32): why is it that the easy errors are the ones that escape one's mind every single time? :))  \nCalebJamesDeLisl - (15:33): Under enough eyes any bug is shallow.  \nfreud - (15:36): thx again, i'll have to cut hte grass before sundown, so i'll return to xwiki tonight. thx again Caleb  \nmflorea left at 15:56 (Quit: Leaving.  \nfreud left at 16:26 (Quit: Page closed  \nflorinciu left at 17:07 (Read error: Connection reset by peer  \nvmassol joined #xwiki at 18:02  \njvelociter left at 19:26 (Quit: jvelociter  \nlucaa left at 19:35 (Ping timeout: 260 seconds  \ntmortagne left at 20:10 (Quit: Leaving.  \nvmassol left at 21:57 (Quit: Leaving.  \nfreud joined #xwiki at 23:13  \nnuvolari left at 23:16 (Changing host  \nnuvolari joined #xwiki at 23:16  \nfreud - (23:17): I'm up and running, didn't know i had the capacity to learn so much in so little time :) I started using Ubuntu two weeks ago, then stubled across Xwiki on Thursday(i think), now it's running, never even heard of tomcat before :)  \nnuvolari - (23:19): welcome to opensource :>  \nfreud - (23:19): Couple questions: Can tomcat run on port 80? Will, if i changed to that port, need re-deployment of xwiki, or something worse?  \nfreud - (23:20): Or is it difficult to re-direct(running Ubuntu/Lampp)  \nfreud - (23:20): And can tomcat url-rewrite?  \nfreud - (23:21): I know these are tomcat questions, but since it's the xwiki install i'm worried about i prefer asking here...the guys over at #tomcat can be so...\\*RTFM\\*...U know?  \nfreud - (23:22): Also, I'm really interested in the OfficeImporter, any advice on the way?  \nbblfish left at 23:25 (Ping timeout: 276 seconds  \nsdumitriu - (23:53): Hi freud  \nsdumitriu - (23:54): Yes, it's possible to run Tomcat on any port, or you can use Apache httpd as a front-end for it  \nsdumitriu - (23:54): No need to redeploy anything  \n\n"}