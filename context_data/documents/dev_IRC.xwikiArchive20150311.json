{"id": "dev:IRC.xwikiArchive20150311", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150311", "title": "IRC Archive for channel #xwiki on 11 March 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<lucaa>\u00a0has joined #xwiki  \n00:37\u00a0<lucaa>\u00a0has quit  \n06:02\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:14\u00a0<msmeria>\u00a0has joined #xwiki  \n08:23\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:58\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:02\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:27\u00a0<mflorea>\u00a0has joined #xwiki  \n09:28\u00a0<cjd>\u00a0has joined #xwiki  \n09:34\u00a0<evalica>\u00a0has joined #xwiki  \n09:45\u00a0<lucaa>\u00a0has joined #xwiki  \n09:46\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:48\u00a0<lucaa>\u00a0has quit  \n09:48\u00a0<Trefex>\u00a0has joined #xwiki  \n09:49\u00a0<lucaa>\u00a0has joined #xwiki  \n09:55\u00a0<evalica>\u00a0has quit  \n09:57\u00a0<Slashman>\u00a0has joined #xwiki  \n09:57\u00a0<evalica>\u00a0has joined #xwiki  \n10:00\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:01\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:21\u00a0<mflorea>\u00a0has quit  \n10:23\u00a0<mflorea>\u00a0has joined #xwiki  \n10:30\u00a0<ClemensR>\u00a0has left #xwiki  \n10:48\u00a0<Trefex>\u00a0Does anybody know what went wrong here? http://pastie.org/private/kx45qgrknugvgh0vjoeog  \n13:40\u00a0<OSIMasson>\u00a0has quit  \n13:59\u00a0<OSIMasson>\u00a0has joined #xwiki  \n14:00\u00a0<Trefex>\u00a0has quit  \n14:01\u00a0<Slashman\\_>\u00a0has joined #xwiki  \n14:04\u00a0<Slashman>\u00a0has quit  \n14:42\u00a0<msmeria>\u00a0has quit  \n14:45\u00a0<msmeria>\u00a0has joined #xwiki  \n15:00\u00a0<msmeria>\u00a0has quit  \n15:02\u00a0<OSIMasson>\u00a0has quit  \n15:02\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:50\u00a0<lucaa>\u00a0has quit  \n15:53\u00a0<lucaa>\u00a0has joined #xwiki  \n16:07\u00a0<OSIMasson>\u00a0has quit  \n16:07\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:10\u00a0<gsmeria>\u00a0has quit  \n16:43\u00a0<Trefex>\u00a0has joined #xwiki  \n16:43\u00a0<Trefex>\u00a0how long can the installation wizard get stuck on user-directory?  \n17:00\u00a0<tmortagne>\u00a0Trefex: usually it should not get stuck on anything for longer that several seconds it takes to refresh the progress/log view  \n17:12\u00a0<OSIMasson>\u00a0has quit  \n17:13\u00a0<OSIMasson>\u00a0has joined #xwiki  \n17:15\u00a0<KermitTheFragger>\u00a0has quit  \n17:27\u00a0<lucaa>\u00a0has quit  \n17:28\u00a0<lucaa>\u00a0has joined #xwiki  \n17:28\u00a0<Trefex>\u00a0tmortagne: it just took like 15 mins to download the item it seems  \n17:28\u00a0<Trefex>\u00a0now it progressed nicely  \n17:29\u00a0<tmortagne>\u00a0maybe there was network issue  \n17:29\u00a0<lucaa>\u00a0has quit  \n17:33\u00a0<woshilapin>\u00a0has quit  \n17:51\u00a0<Trefex>\u00a0tmortagne: could be, i will let you know swiftly if the pSQL install worked  \n17:51\u00a0<tmortagne>\u00a0Trefex: ok  \n17:51\u00a0<Trefex>\u00a0xwikibot: shut up :)  \n17:54\u00a0<Trefex>\u00a0tmortagne: seems to work fine! also yesterday i screwed up my install completely, no clue why  \n17:55\u00a0<Trefex>\u00a0tmortagne: so pSQL with Tomcat 7 works out of the box, so to say  \n17:55\u00a0<tmortagne>\u00a0Trefex: cool (I don't use pgsql myself but looks like more and more people use this package)  \n17:55\u00a0<Trefex>\u00a0tmortagne: yeah, pSQL is cool and quite robust, i like transactions :)  \n17:56\u00a0<tmortagne>\u00a0you have transactions with innodb in mysql but yes pgsql seems nice, was just too lazy to spend time on it  \n17:56\u00a0<cjd>\u00a0mysql has transactions now but postgres has perl-in-the-db so no arguments from me :)  \n17:57\u00a0<Trefex>\u00a0oh didn't know that  \n17:58\u00a0<Trefex>\u00a0i just always assumed pSQL to be far superior than MySQL in terms of robustness  \n17:58\u00a0<Trefex>\u00a0also since they got bought not much happened  \n17:58\u00a0<cjd>\u00a0Mariadb happened :)  \n17:58\u00a0<Trefex>\u00a0yep true  \n17:59\u00a0<Trefex>\u00a0shouldn't the packages than use MariaDB ?  \n17:59\u00a0<cjd>\u00a0imo yes, wdyt tmortagne ?  \n17:59\u00a0<tmortagne>\u00a0I was about to say \"this remind me that I should probably if dbconf have mariadb support\"  \n18:00\u00a0<cjd>\u00a0mariadb is a bug-for-bug clone of mysql so there should be no problem supporting it, it just has some extra features and it's a bit faster  \n18:00\u00a0<tmortagne>\u00a0but I guess I could use mysql dbconf extension and just indicate mariadb in the dependencies  \n18:00\u00a0<tmortagne>\u00a0at some point they may have differences  \n18:00\u00a0<Trefex>\u00a0tmortagne: is there a way to initialize the xwiki after a tomcat reboot without visiting the xwiki itself, eg from command line?  \n18:01\u00a0<cjd>\u00a0curl xD  \n18:01\u00a0<tmortagne>\u00a0Trefex: all you need to do is execute a http request  \n18:01\u00a0<tmortagne>\u00a0so yes curl or wget  \n18:01\u00a0<Trefex>\u00a0ok  \n18:01\u00a0<Trefex>\u00a0and finally, how do i force SSL?  \n18:02\u00a0<Trefex>\u00a0the Doc is 1 line and not very exhaustive let's say :)  \n18:02\u00a0<tmortagne>\u00a0SSL is more apache side work  \n18:02\u00a0<Trefex>\u00a0apache?  \n18:02\u00a0<Trefex>\u00a0i don't have apache  \n18:02\u00a0<tmortagne>\u00a0(apache or whatever other frontend)  \n18:03\u00a0<Trefex>\u00a0i only have whatever you installed via the xwiki package  \n18:03\u00a0<tmortagne>\u00a0I don't know if tomcat knows how to do SSL, usually you put something in front of tomcat like apache httpd  \n18:03\u00a0<Trefex>\u00a0oh, any doc on that?  \n18:03\u00a0<Trefex>\u00a0or is it more normal tomcat knowledge?  \n18:04\u00a0<Trefex>\u00a0so you would set up httpd to redirect 80 to 8080 tomcat and similar for SSL ?  \n18:04\u00a0<tmortagne>\u00a0pretty much yes  \n18:05\u00a0<tmortagne>\u00a0there does not seems to be much on xwiki.org about apache but there is probably plenty of apache+tomcat documention when searching on google  \n18:06\u00a0<tmortagne>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HRunningXWikibehindproxy-server  \n18:06\u00a0<tmortagne>\u00a0looks like it actually  \n18:06\u00a0<tmortagne>\u00a0ha no forget that  \n18:06\u00a0<mflorea>\u00a0has quit  \n18:06\u00a0<tmortagne>\u00a0it's different  \n18:07\u00a0<Trefex>\u00a0true  \n18:07\u00a0<tmortagne>\u00a0here is the conf I use myself with apache for SSL: http://pastebin.com/CP35LJJ7  \n18:08\u00a0<tmortagne>\u00a0(and I force http to redirect to https)  \n18:08\u00a0<tmortagne>\u00a0I think you need to enable ajp in tomcat  \n18:09\u00a0<tmortagne>\u00a0the other possibility is to connect to tomcat in plain http  \n18:09\u00a0<Trefex>\u00a0ok thank you for the pointers  \n18:10\u00a0<cjd>\u00a0if you use plain http, you need to edit the tomcat config to tell it that it's really https, otherwise it will be forever causing problems with bad links  \n18:11\u00a0<tmortagne>\u00a0yes what is good with ajp is that tomcat behave as if it was called directly with the URL entered i the browser  \n18:11\u00a0<tmortagne>\u00a0make it simpler for XWiki  \n18:12\u00a0<cjd>\u00a0what is bad about ajp is it's \"nonstandard\", basically only Apache and Tomcat support it  \n18:12\u00a0<tmortagne>\u00a0cjd: tomcat and all other java application servers probably too  \n18:12\u00a0<cjd>\u00a0not jetty  \n18:12\u00a0<cjd>\u00a0they used to support it but they dropped it  \n18:13\u00a0<tmortagne>\u00a0ok  \n18:13\u00a0<tmortagne>\u00a0not a very good sign indeed  \n18:13\u00a0<Trefex>\u00a0tried to enable SSL on tomcat, seemed to fail in epic way  \n18:13\u00a0<cjd>\u00a0not in nginx, not in lighttpd, not in really anything on the frontend other than apache  \n18:14\u00a0<tmortagne>\u00a0ok good to know  \n18:14\u00a0<Trefex>\u00a0cjd: how would you do SSL then ?  \n18:14\u00a0<cjd>\u00a0personally.....  \n18:14\u00a0<cjd>\u00a0...  \n18:14\u00a0<cjd>\u00a0nginx or apache lighttpd (as you like)  \n18:15\u00a0<cjd>\u00a0and http connection to tomcat or jetty (both have benefits)  \n18:15\u00a0<cjd>\u00a0tomcat is used by XWiki SAS infra team so it's known to work pretty well with stable versions of xwiki  \n18:15\u00a0<cjd>\u00a0jetty is used by xwiki developers, automated build and testing infrastructure so it's known to work with new/unstable (and by extension stable) versions of xwiki  \n18:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n18:16\u00a0<cjd>\u00a0use the one you feel most confortable configuring  \n18:16\u00a0<Trefex>\u00a0http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html  \n18:16\u00a0<Trefex>\u00a0this should allow not relying on apache for SSL but it seems tedious, so i guess i will go down the Apache route  \n18:17\u00a0<cjd>\u00a0+1 XWiki infra team never tries to configure SSL directly on tomcat  \n18:18\u00a0<OSIMasson>\u00a0has quit  \n18:19\u00a0<tmortagne>\u00a0has quit  \n18:20\u00a0<OSIMasson>\u00a0has joined #xwiki  \n18:23\u00a0<Trefex>\u00a0ok  \n18:24\u00a0<Trefex>\u00a0so SSL <-> Apache <-> HTTP / AJP <-> Tomcat  \n18:27\u00a0<Trefex>\u00a0cjd:  \n18:28\u00a0<cjd>\u00a0personally: \u00a0SSL --> Apache --> HTTP --> Tomcat  \n18:28\u00a0<cjd>\u00a0because Apache can be swapped for Nginx and Tomcat can be swapped for Jetty  \n18:29\u00a0<cjd>\u00a0standard protocols == interchangable parts  \n18:29\u00a0<cjd>\u00a0AJP -> you're a bit married to Tomcat and Apache  \n18:41\u00a0<Trefex>\u00a0kk thx mate, cu around!  \n18:45\u00a0<Trefex>\u00a0has quit  \n18:46\u00a0<cjd>\u00a0has quit  \n19:25\u00a0<OSIMasson>\u00a0has quit  \n19:26\u00a0<Slashman\\_>\u00a0has quit  \n19:28\u00a0<OSIMasson>\u00a0has joined #xwiki  \n19:32\u00a0<lucaa>\u00a0has joined #xwiki  \n19:34\u00a0<lucaa1>\u00a0has joined #xwiki  \n19:36\u00a0<lucaa>\u00a0has quit  \n19:52\u00a0<OSIMasson>\u00a0has quit  \n19:58\u00a0<gdelhumeau>\u00a0has quit  \n20:06\u00a0<evalica>\u00a0has quit  \n20:37\u00a0<cjd>\u00a0has joined #xwiki  \n21:11\u00a0<lucaa1>\u00a0has quit  \n21:34\u00a0<Enygma`>\u00a0has quit  \n21:48\u00a0<lucaa1>\u00a0has joined #xwiki  \n22:34\u00a0<martinus\\_\\_>\u00a0has quit  \n23:18\u00a0<martin-h>\u00a0has joined #xwiki  \n23:23\u00a0<lucaa1>\u00a0has quit  \n23:34\u00a0<OSIMasson>\u00a0has joined #xwiki  \n23:37\u00a0<OSIMasson>\u00a0has quit  \n23:38\u00a0<OSIMasson>\u00a0has joined #xwiki\n"}