{"id": "dev:IRC.xwikiArchive20101115", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101115", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nrrodriguez left at 00:24 (Quit: rrodriguez  \nlucaa left at 01:04 (Ping timeout: 276 seconds  \nflorinciu left at 01:16 (Read error: Connection reset by peer  \nSvenDowideit left at 03:54 (Changing host  \nSvenDowideit joined #xwiki at 03:54  \nabusenius left at 04:04 (Ping timeout: 264 seconds  \nvenkatesh joined #xwiki at 05:36  \nvenkatesh left at 05:41 (Remote host closed the connection  \nvenkatesh joined #xwiki at 05:42  \nnpm\\_ joined #xwiki at 05:55  \nnpm left at 05:59 (Ping timeout: 240 seconds  \nrrodriguez joined #xwiki at 07:01  \nmflorea joined #xwiki at 07:58  \nvmassol joined #xwiki at 08:11  \nsabageru joined #xwiki at 08:16  \nrrodriguez left at 08:36 (Quit: rrodriguez  \njstoldt joined #xwiki at 09:04  \nlucaa joined #xwiki at 09:19  \nDenis joined #xwiki at 09:21  \njstoldt - (09:24): morning  \nvmassol - (09:25): good morning everyone  \njstoldt - (09:25): what's the deprecatedtranslationsmarker string in core for?  \njstoldt - (09:25): doesn't look like that one actually needs translation!  \nvmassol - (09:25): sburjan`: I would love to get your feedback on the 2.6RC2 release  \nvmassol - (09:25): I'd like to release it today  \nmarta\\_ joined #xwiki at 09:27  \nevalica joined #xwiki at 09:37  \nsburjan` - (09:39): hi vmassol  \njstoldt - (09:41): why in gods name is l10n.xwiki.org so freaking slow? or is it my pre-historical notebook?  \njstoldt - (09:50): rendering.macro.box.description should probably be \"Draws a box around provided content.\"... because it is the description and not an imperative... so basically it should be Draws much rather than Draw  \nflaviusolaru joined #xwiki at 09:56  \njstoldt - (09:57): mflorea: about rendering.macro.chart.content.description, what is \"(Ex. for 'inline' source mode)\" supposed to mean? i don't get that bit  \ntmortagne joined #xwiki at 09:58  \nsdumitriu joined #xwiki at 09:59  \nmflorea - (09:59): jstoldt: I don't know. I'm not the one who wrote the chart macro.  \njstoldt left at 10:02 (Ping timeout: 265 seconds  \nDenis - (10:03): sdumitriu: ping  \nlucaa left at 10:04 (Ping timeout: 260 seconds  \nsdumitriu - (10:06): Pong  \nDenis - (10:07): sdumitriu: Hi, do you if there was a fix related to IE7 and prototype, concerning toString is null or not an object, between 2.4 and 2.5 ?  \nsdumitriu - (10:08): Denis: Where do you see this error?  \nDenis - (10:09): sdumitriu: we got it during dom:loaded, in xwiki.js, while executing insertCreatePageFromTemplateModalBoxes  \nDenis - (10:09): it happen inside prototype.js  \nsdumitriu - (10:10): No, I don't think so  \nsdumitriu - (10:11): Can you create a bug report?  \nDenis - (10:11): it does not happen anymore in 2.5  \nDenis - (10:12): (and our check on 2.4 was not on a fresh install)  \nDenis - (10:12): I am just trying to understand, if this does not tell you anything, this may be on our side  \nsdumitriu - (10:13): Maybe it wasn't in prototype, but in another script that was fixed  \nsdumitriu - (10:13): There was a change in prototype.js though, see commit 29596  \nsburjan` - (10:16): sdumitriu: Ping. I have a question. I am testing 2.6RC2 and when logging in with a simple user I don't get all the spaces on the Main Page (I saw on the mailing list that this is intendeded behaviour). Hoewever, when I set the username to Advanced (from Simple), I get the same spaces listed as Admin has. Note that I'm still a simple user. Is this normal ?  \nsdumitriu - (10:18): sburjan`: Yes  \nsburjan` - (10:18): sdumitriu: ok  \nsdumitriu - (10:18): The hidden spaces are code spaces  \nsburjan` - (10:19): yes. So advanced users can see them too ?  \njvdrean joined #xwiki at 10:19  \nsdumitriu - (10:19): Yes  \nsburjan` - (10:20): okay.  \nsdumitriu - (10:20): All users CAN see them, as in if they open the right URL they can see those documents  \nsdumitriu - (10:20): They are simply not displayed since they contain \"advanced\" content, not simple wiki documents  \nvmassol - (10:20): ok I'm done rewriting http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents  \nsdumitriu - (10:24): vmassol: Done done?  \nsdumitriu - (10:24): :D  \nvmassol - (10:24): yes  \nvmassol - (10:24): :)  \nvmassol - (10:25): the archetype is done done too  \nvmassol - (10:25): (for now\u2026 hehe\u2026 ;))  \nDenis - (10:25): sdumitriu: That was it. By the way, since defer has been introduce, we have had many issues, what do you think of using some more advanced loading techniques (like LABjs) and refactor the skinx and javascript.vm stuffs ?  \nsdumitriu - (10:26): Denis: +1 for labjs, but we need to refactor some code to make it work  \nsdumitriu - (10:26): I'm not sure it will work out of the box  \njvdrean left at 10:27 (Ping timeout: 240 seconds  \nsdumitriu - (10:28): vmassol: Did you report the \"activity only works in main wiki\" bug?  \nvmassol - (10:28): no  \nvmassol - (10:29): we have 2 issues so far that we could make blockers for 2.6 final  \nvmassol - (10:29): this one  \nvmassol - (10:29): and the refresh on first load one  \nvmassol - (10:29): I'll create the refresh one  \nvmassol - (10:29): since i don't think it exists  \nvmassol - (10:29): I'll let you create the other one  \nsburjan` - (10:30): vmassol: I have tested the installers on windows and Linux. Except known IzPack issues, everything is okay  \nsburjan` - (10:30): now I'm going to test on IE's  \nvmassol - (10:30): ok thanks  \nvmassol - (10:31): btw I'll need to start the final release wednesday morning latest to make it for the 18th  \nEnygma` joined #xwiki at 10:31  \nvmassol - (10:31): that leaves us today and tomorrow to fix any blocker  \njvdrean joined #xwiki at 10:31  \nvmassol - (10:32): sdumitriu: do you remember if we have the refresh issue in 2.5.x?  \nvmassol - (10:34): http://jira.xwiki.org/jira/browse/XWIKI-5687  \nvmassol - (10:35): who could take that one?  \nsburjan` - (10:35): adding annotations to blog still doesn't work.  \njvdrean left at 10:37 (Ping timeout: 240 seconds  \njvdrean joined #xwiki at 10:38  \njvdrean left at 10:39 (Client Quit  \nmarta\\_ left at 10:40 (Ping timeout: 240 seconds  \nrrodriguez joined #xwiki at 10:43  \nsdumitriu - (10:45): vmassol: Yes, it was i 2.5  \nvmassol - (10:47): ok thanks  \nvmassol - (10:48): sdumitriu: I haven't checked stefan's patch re AS. Is it for 2.6 final, 2.7? Does it involve breaking APIs in the end?  \nsdumitriu - (10:48): Which one?  \nvmassol - (10:50): I saw you assigned yourself to one this morning  \nvmassol - (10:51): don't remember the jira issue #  \nmarta\\_ joined #xwiki at 10:51  \nsdumitriu - (10:51): Ah  \nsdumitriu - (10:52): That one is not critical  \nvmassol - (10:52): I thought it was the xwikiguest one  \nvmassol - (10:53): isn't it?  \nvmassol - (10:53): (the xwikiguest one is important)  \nvmassol - (10:53): could be a blocker for 2.6 final actually  \nvmassol - (10:53): OR we make the stream empty at startup (we need an activity stream reset api for this probably)  \nlucaa joined #xwiki at 10:55  \nsburjan` - (10:55): +1 for empty AS out of the box  \nsdumitriu - (10:57): Yes, it's the XWikiGuest one  \nvmassol - (11:07): sdumitriu: XPAS-28 should be in 2.6 final right?  \nvmassol - (11:08): btw missing affects and fix in that issue  \njvdrean joined #xwiki at 11:08  \nsdumitriu - (11:08): Yes  \nvmassol - (11:08): ok updating enterprise pom.xml for 2.6 branch  \nmflorea left at 11:13 (Quit: Leaving.  \njvdrean left at 11:13 (Ping timeout: 240 seconds  \njvdrean joined #xwiki at 11:18  \nflaviusolaru left at 11:20 (Quit: Leaving.  \nsburjan` - (11:22): vmassol: everything seems ok in IE browsers  \nvmassol - (11:22): good  \nvmassol - (11:22): :)  \nflaviusolaru joined #xwiki at 11:30  \nvmassol - (11:35): sdumitriu: just replied. either I don't understand what you mean or you don't understand what I say ;)  \nflaviusolaru left at 11:45 (Quit: Leaving.  \nsabageru left at 11:54 (Quit: Leaving.  \nrrodriguez left at 11:55 (Quit: rrodriguez  \nrrodriguez joined #xwiki at 11:57  \nflaviusolaru joined #xwiki at 12:00  \nrrodriguez left at 12:01 (Ping timeout: 245 seconds  \nmflorea joined #xwiki at 12:02  \nrstavro joined #xwiki at 12:06  \nvmassol - (12:09): sburjan`: could you reply to the test mail?  \nsdumitriu - (12:09): Hi rstavro, evalica  \nvmassol - (12:09): (for XE 2.6RC2)  \nevalica - (12:09): re sdumitriu  \nsdumitriu - (12:10): I think the new activity macro doesn't work on virtual wikis  \nrstavro - (12:11): hi  \nrstavro - (12:11): ok, I'll check the problem  \nsdumitriu - (12:11): http://incubator.myxwiki.org/xwiki/bin/view/Main/Activity  \nsdumitriu - (12:12): I don't know if it's because there are no activities recorded (a bug in the plugin) or none are displayed (macro bug)  \nrstavro - (12:15): I just tested the incubator  \nrstavro - (12:16): and it seems that there is no event in ActivityEventImpl  \nrstavro - (12:16): (no line in the table)  \nsdumitriu - (12:16): K  \nflaviusolaru left at 12:16 (Quit: Leaving.  \nsdumitriu - (12:17): So ?tefan should look into it as well  \nrstavro - (12:17): yes  \nsburjan` - (12:25): vmassol: yes, replying now  \nsburjan` - (12:28): vmassol: done  \nvmassol - (12:32): mflorea: please let me know if your commits are required for 2.6 final  \njvelociter - (12:44): mflorea: thanks for the JS modularization :) We need to add it to http://dev.xwiki.org/xwiki/bin/view/Community/DevelopmentPractices#HXWikiNamespacing  \nvmassol - (12:44): jvelociter: please only make blocker bug gixes for 2.6  \nvmassol - (12:44): s/gixes/fixes/  \njvelociter - (12:45): vmassol: ok, I'll change it to blocker  \njvelociter - (12:45): :p  \njvelociter - (12:45): kidding  \nvmassol - (12:45): i'm fine  \nvmassol - (12:45): just remember the rule: \"he who breaks, fixes\"  \nvmassol - (12:45): ;)  \njvelociter - (12:45): vmassol: fine by me :)  \njvelociter - (12:46): vmassol: it's not a blocker bug per se, but it's definitely a bug. I can have it fixed only in 2.7 if we want, but I'd like to have it in 2.6 if possible  \njvelociter - (12:47): (talking about XWIKI-5688 )  \nvmassol - (12:47): hmm why wasn't it fixed before if it was needed for 2.6?  \nvmassol - (12:47): (playing devil's adovcate)  \nvmassol - (12:47): I mean we need to stop  \nvmassol - (12:47): at some point  \nvmassol - (12:47): ideally we shouldn't have any commits for 2.6 final  \nvmassol - (12:47): it's supposed to be just a rename  \njvelociter - (12:48): vmassol: because I realized it this week end  \nvmassol - (12:48): k....  \njvelociter - (12:48): anyway I can pass, it's not critical  \nvmassol - (12:48): I'll let you decide, I don't know the code  \njvelociter - (12:48): lucky you  \nvmassol - (12:48): :)  \njvelociter - (12:59): mflorea: done a first pass  \nsabageru joined #xwiki at 13:00  \nvenkatesh left at 13:07 (Remote host closed the connection  \nrrodriguez joined #xwiki at 13:07  \nvmassol - (13:10): sdumitriu: any idea re the \"java.io.FileNotFoundException: .fop (Permission denied)\" on myxwiki.org (latest mail on devs list)  \nvmassol - (13:24): this page is now awfully slow: http://www.xwiki.org/xwiki/bin/view/Main/News  \nvmassol - (13:25): it probably has some scaling issue  \njvelociter\\_ joined #xwiki at 13:27  \njvelociter left at 13:31 (Ping timeout: 245 seconds  \njvelociter\\_ is now known as jvelociter ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nvmassol - (13:40): sdumitriu: XE2.6RC2 fully released  \nmflorea - (13:42): vmassol: my JS changes are not required for 2.6  \nvmassol - (13:42): ok  \ncjdelisle - (13:44): Sent myself the first report email automatically using the mail sender plugin. Thanks sburjan` for finding the starttls option.  \nvmassol - (13:44): evalica, rstavro: are you updating http://code.xwiki.org/xwiki/bin/view/Macros/ActivityMacro? (would be great)  \nevalica - (13:44): vmassol: yes- right now  \nvmassol - (13:45): (since params have changed)  \nvmassol - (13:45): great  \nmflorea - (13:46): jvelociter: looks good. The module pattern makes JavaScript rewriting for portlet mode easier ;)  \nmflorea - (13:46): (I'm namespacing global defined objects/functions to isolate the JavaScript code)  \njvelociter - (13:49): mflorea: cool. How does the module pattern makes it easier ? I'm curious  \nsdumitriu left at 13:51 (Ping timeout: 264 seconds  \nmflorea - (13:52): jvelociter: I have to namespace only the module name, everything inside it it's local. The module pattern reduces the number of global names.  \nsdumitriu joined #xwiki at 13:56  \nabusenius joined #xwiki at 13:58  \nsdumitriu - (14:12): Nice:  \nsdumitriu - (14:12): [sudo] password for sergiu:  \nsdumitriu - (14:12): My pet ferret can type better than you!  \nsdumitriu - (14:12): [sudo] password for sergiu:  \nsdumitriu - (14:12): Hi sabageru  \nvmassol - (14:12): :)  \nsdumitriu - (14:12): (that was on myxwiki)  \nsburjan` - (14:16): it was hacked ?  \nsabageru - (14:17): Hi sdumitriu  \ntmortagne - (14:18): sburjan`: i doubt that, it's like that since a long time AFAIK  \nsdumitriu - (14:27): sabageru: I have a task for you  \nsabageru - (14:27): great :)  \nsdumitriu - (14:28): In summary, the ativity stream plugin doesn't record anything in a virtual wiki  \njstoldt joined #xwiki at 14:28  \nsabageru - (14:29): oh..  \nsabageru - (14:29): i am not very familiar with virtual wikis..  \nsabageru - (14:29): what is a virtual wiki ?  \nsdumitriu - (14:29): http://incubator.myxwiki.org/xwiki/bin/view/Main/Activity  \nmarta\\_ left at 14:35 (Ping timeout: 255 seconds  \nflaviusolaru joined #xwiki at 14:36  \njstoldt - (14:44): crap... could anyone give an estimation how long l10n.xwiki.org will be down for?  \nsdumitriu - (14:44): Hi jstoldt  \nevalica - (14:45): sdumitriu: I keep getting logged out in incubator - is very hard to edit a page without the need to login every 3 minutes.  \njstoldt - (14:45): hi sdumitriu  \nsdumitriu - (14:45): evalica: Did you check \"remember me\"?  \nevalica - (14:45): yes  \njstoldt - (14:45): sdumitriu: i had the same on l10n...  \nsdumitriu - (14:45): jstoldt: About rendering.macro.chart.content.description=Input data for the chart macro (Ex. for 'inline' source mode)  \nevalica - (14:45): but actually .. even if I check it - it doesn't stay checked  \ntmortagne - (14:45): jstoldt: not very long, it's fixed already  \ntmortagne - (14:45): it's just reimporting keys  \njstoldt - (14:45): thanks  \ntmortagne - (14:46): so it's not down  \ntmortagne - (14:46): just slow  \njstoldt - (14:46): i see...  \njstoldt - (14:46): sdumitriu: i figure the bit about inline is about source=\"inline\" and Ex. stands for except, right?  \nsdumitriu - (14:46): jstoldt: The chart macro can get its source data either from an existing table, or from the content placed inside the macro  \nsdumitriu - (14:47): So there are two options for the \"source\" parameter, xdom and inline  \njstoldt - (14:47): yep. and ex = except, right?  \nsdumitriu - (14:47): No, for example  \nsdumitriu - (14:47): It's bad wording  \njstoldt - (14:48): ah, indeed... should be e.g. if you mean example...  \njstoldt - (14:49): tmortagne: is the speed of l10n.xwiki.org gonna improve once the importing of keys is done?  \njstoldt - (14:49): i noticed it has been slow at the end of last week and hoped it was only a temporary state...  \ntmortagne - (14:50): jstoldt: once the importing is done and cache filled (i.e. the page you want to view has been loaded at least once after last modification)  \ntmortagne - (14:50): when you modify the translation it clean part of the cached so sometime it became slow just the time for it \u00a0to fill caches again  \njstoldt - (14:50): okay, great  \ntmortagne - (14:51): there is lots of improvement to do but noone to work on it :(  \njstoldt - (14:53): that's what programming is all about. never getting finished and even more importantly ignoring dead lines whenever one can ;)  \ncjdelisle - (14:56): ``I love deadlines. I like the whooshing sound they make as they fly by.'' --Douglas Adams  \njstoldt - (14:57): X-D nice one!  \nvmassol left at 14:58 (Quit: Leaving.  \njstoldt - (14:58): where can i find the translation files in the war package?  \ntmortagne - (14:59): jstoldt: depends which one you want, the main one is on xwiki-core jar file  \njstoldt - (14:59): i'd need the main one in german and english just now...  \ntmortagne - (15:00): ApplicationResources\\_\\*.properties  \ntmortagne - (15:00): you can also look at it in svn  \ntmortagne - (15:00): http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/  \ntmortagne - (15:01): change \"/trunk/\" part by the tag you need to get a specific version  \njstoldt - (15:02): thanks  \nEnygma` left at 15:02 (Ping timeout: 240 seconds  \nvmassol joined #xwiki at 15:05  \nvmassol left at 15:12 (Ping timeout: 264 seconds  \nvmassol joined #xwiki at 15:17  \nabusenius left at 15:19 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 15:19  \nmarta\\_ joined #xwiki at 15:22  \ntmortagne - (15:24): jstoldt: l10n \u00a0seems ready (plus I filled the caches)  \nflaviusolaru left at 15:25 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 15:27  \njstoldt - (15:27): yeah, i noticed, been updating some more translations  \njstoldt - (15:27): but just the oddest thing happend... apparently some translations i made last week around the recent activities are not there anymore \u00a0O\\_O  \ntmortagne - (15:29): jstoldt: which key ?  \njstoldt - (15:29): ah no, nevermind  \njstoldt - (15:30): it's just weird sorting on the page  \njstoldt - (15:30): these are in fact different but they are very similar/identical to the ones i did last week  \njstoldt - (15:31): like activitystream.event.addComment.rss.title (which i did last week) and activitystream.event.addComment (which is still empty)  \nabusenius left at 15:32 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 15:32  \nspliffy left at 15:35 (Ping timeout: 240 seconds  \nspliffy joined #xwiki at 15:36  \nEnygma` joined #xwiki at 15:42  \narkub joined #xwiki at 15:59  \njstoldt - (16:00): good bye folks, see you tomorrow  \njstoldt left at 16:01 (Quit: Page closed  \njvelociter left at 16:01 (Remote host closed the connection  \njvelociter joined #xwiki at 16:01  \njvelociter\\_ joined #xwiki at 16:07  \njvelociter left at 16:10 (Ping timeout: 272 seconds  \njvelociter\\_ is now known as jvelociter ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nsburjan` left at 16:10 (Quit: 0x0 Quit  \ncjdelisle - (16:44): Just sent another report to the notifications list, similar but html format.  \nsdumitriu - (16:46): cjdelisle: Nice, colors really help readability  \ncjdelisle - (16:47): That one was sent automatically, I hooked the mailsender plugin.  \ncamaritei joined #xwiki at 16:48  \ncjdelisle - (16:48): Trying to figure out how to allow hudson agents access to a mail relay.  \nvmassol - (16:50): cjdelisle: it's not clear for what branch the test report is, you have to look at urls  \ncjdelisle - (16:51): branch? job?  \nvmassol - (16:51): I need to play with it more to understand more globally what we lack and how it fills the void  \nvmassol - (16:52): (so disregard this comment for now)  \nvmassol - (16:52): (the comment about the \"branch\")  \ncjdelisle - (16:52): The name of the job can be included easily. Also the job urls can be run past a regular expression.  \ncjdelisle - (16:53): doNotRunJobsMatching(\"/.\\*-2.\\*/\"); \u00a0in the config.  \nsdumitriu - (16:57): vmassol: Ping  \nvmassol - (16:58): (sdumitriu you can state directly your message instead of pinging me - That way I can continue what I' doing and still see what you say, without breaking my flow!)  \nvmassol - (16:58): (in any case I'm pinged if you put my name)  \nsdumitriu - (16:58): Back with an older question  \nsdumitriu - (16:59): How can I access a component from a non-component class?  \nvmassol - (16:59): it's documented let me give you the link  \nvmassol - (17:00): http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents#HFromnon-componentsjavacode28e.g.olderplugins29  \nsdumitriu - (17:00): Without Utils  \nvmassol - (17:00): you cannot  \nvmassol - (17:00): well  \nvmassol - (17:00): you can cheat but not very good  \nsdumitriu - (17:00): K, then I'll move the class to xwiki-core  \nvmassol - (17:00): the CM is put in the servlet application context  \nsdumitriu - (17:01): But it would be better to have access to it somehow  \nvmassol - (17:01): the point is not to have access to it  \nsdumitriu - (17:01): It should be easy since the execution context is stored in a threadlocal  \nvmassol - (17:01): otherwise you're assuming that there's only one for example  \nvmassol - (17:01): it's not IOC anymore  \nsdumitriu - (17:02): Yes, but you can't force components into an existing library that does its own instantiation  \nsdumitriu - (17:03): In my case I'm trying to write an EscapeTool, which is created using Class.forName.newInstance  \nvmassol - (17:03): then you need to pass the CM to it  \nvmassol - (17:03): after the constructor has been called  \nvmassol - (17:03): setCM(\u2026)  \nvmassol - (17:03): but you need to be able to access the instance  \nvmassol - (17:03): if it's hidden you're stuck  \nvmassol - (17:04): but in this case maybe you shouldn't use components?  \nsdumitriu - (17:05): Then how do I access the rendering?  \ncjdelisle - (17:07): <somewhat off topic> Something I noticed in escapetool is it appears to be rather slow. I think the fastest way to escape is 1 char at a time using a switch statement.  \nvmassol - (17:07): well I cannot help much if I don't know more precisely what you are doing  \nvmassol - (17:08): now it's possible you want to reuse somerthing form rendering that is currently packaged as a component  \nvmassol - (17:08): and one solution could be to make that component depend on a standard class  \nvmassol - (17:09): and then reuse that class in your velocity tool  \nvmassol - (17:09): but I don't know exactly what you're doing  \nvmassol - (17:09): so we have 2 approaches:  \nvmassol - (17:09): 1) try to inject the CM  \nvmassol - (17:09): 2) make the feature not use components  \nsdumitriu left at 17:11 (Ping timeout: 276 seconds  \nvmassol - (17:12): VelocityEngine is a component and thus has access to the CM, so it should be able to inject it somehow in RuntimeServices no?  \nvmassol - (17:12): (ok he's left)  \nsabageru left at 17:15 (Ping timeout: 245 seconds  \ntmortagne - (17:22): vmassol: i think sdumitriu is working \u00a0on generic wiki escaping tool like $escapetool.wiki(\"xwiki/2.0\", \"some wiki content\") and needs to parse with plain test parser and then render with the related renderer  \nvmassol - (17:30): ok but then I don't understand why this is related to velocity  \nvmassol - (17:30): looks to me like a script service  \nvmassol - (17:30): (tm  \nvmassol - (17:31): tmortagne)  \nvmassol - (17:31): don't we need this for other scripting languages?  \ncamaritei left #xwiki at 17:35  \ntmortagne - (17:40): vmassol: sure we do, just trying to guess what sdumitriu needs ;)  \nvmassol - (17:40): :)  \nvmassol - (17:40): actually I remember mentioning this already  \nvmassol - (17:40): (that we need it more globally than just for velocity)  \nvmassol - (17:41): it solves the issue too  \ntmortagne - (17:41): yep  \ncjdelisle - (17:44): can a script service still be called $escapetool?  \nvmassol - (17:47): nope  \nvmassol - (17:47): $services.<service>.<method>  \ncjdelisle - (17:48): I suppose a velocity context initializer could alias to it.  \nvmassol - (17:48): yes but that's not our best practice right now  \nvmassol - (17:48): we've created script service to avoid polluting the namespace  \nvmassol - (17:48): (at least it's one reason for it)  \ncjdelisle - (17:48): Well $escapetool already exists.  \nvmassol - (17:49): yes exactly  \nvmassol - (17:49): so we shouldn't use the same name  \ncjdelisle - (17:49): I thought the plan was to extend and replace it.  \nvmassol - (17:49): ah hmmmm  \ntmortagne - (17:49): for what i know there was no defined plan  \nvmassol - (17:50): in this case it would something like $services.escape.xxx  \ntmortagne - (17:50): just a discussion  \nvmassol - (17:50): yes just a discussion  \nvmassol - (17:50): but we'd need a module  \nvmassol - (17:50): so either we have an escape module  \ntmortagne - (17:50): IMO $service.escape is not that bad compared to escapetool  \ntmortagne - (17:50): and it's way easier to do  \nvmassol - (17:50): yes it's not that bad and consistent  \ntmortagne - (17:51): easier and cleaner  \ncjdelisle - (17:51): Legacy code doesn't enjoy the improvements then.  \nvmassol - (17:51): or we'll need to offer apis in various modules (like $services.rendering.escape)  \nvmassol - (17:51): cjdelisle: legacy almost nevery enjoyrs new stuff :)  \ncjdelisle - (17:51): In this case it can.  \nvmassol - (17:51): no  \nvmassol - (17:51): it cannot  \nvmassol - (17:52): because the new stuff measn following the new rarchitecture  \nvmassol - (17:52): if not it means the new stuff is already legacy  \nvmassol - (17:52): :)  \nvmassol - (17:52): since using $var is legacy  \ncjdelisle - (17:52): I think the problem Sergiu is working on is that escapetool does not do xml escaping correctly.  \ncjdelisle - (17:52): It escapes to much and that causes problems in some browsers.  \nvmassol - (17:52): yes  \nvmassol - (17:53): what thomas and I are saying is that the need is more generic than just velocity  \ncjdelisle - (17:53): So changing escapetool would make all legacy code nolonger have that problem.  \nvmassol - (17:53): so better address is generically rather than only for velocity  \nvmassol - (17:54): if you change the past behavior  \nvmassol - (17:54): you're breaking an api btw  \nvmassol - (17:54): since people could have used it  \nvmassol - (17:54): and the beahvior is going to be changed  \ncjdelisle - (17:54): How do you define breaking api?  \nvmassol - (17:55): don't get the same result as before  \ncjdelisle - (17:55): If the documentation says it escapes xml, but it doesn't, that is a bug. Is fixing that bug a break?  \nvmassol - (17:55): depends  \ncjdelisle - (17:56): It's a question of whether the authority is the code or the javadoc.  \nvmassol - (17:56): for ex it could output &#NNN; or &acute;  \nvmassol - (17:56): both are valid but different  \nvmassol - (17:56): (I don't know if what it's outputting is a bug or not)  \nvmassol - (17:57): wait  \ncjdelisle - (17:57): IIRC it's escaping things which are not listed as xml entities.  \nvmassol - (17:57): you're saying that the velocity escape tool is buggy?  \ncjdelisle - (17:58): It uses apache Entities which seems to have a few bugs.  \ncjdelisle - (17:58): Remember xwiki.getXMLEncoded?  \nvmassol - (17:58): yes ours is crap but this is not ours right?  \nvmassol - (17:58): http://velocity.apache.org/tools/devel/generic/EscapeTool.html#xml() ?  \ncjdelisle - (17:58): xwiki.getXMLEncoded uses Apache, their code contains a bug.  \nvmassol - (17:58): maybe they've fixed it if there's a bug  \nvmassol - (17:58): have we reported the issue to them?  \nvmassol - (17:59): no point in reinventing the wheel  \ncjdelisle - (17:59): I didn't, I think they are in the same trap you were referring to earlier.  \ncjdelisle - (17:59): \"It does this, people may be depending on it\"  \nvmassol - (17:59): in this case they consider it api and not bug  \nvmassol - (17:59): :)  \ncjdelisle - (18:00): re \"reinventing the wheel\" Their code is also not optimized well. I would rewrite it if it were up to me.  \nvmassol - (18:00): cjdelisle: i know you would rewrite everything given the chance :)  \nvmassol - (18:00): hehe  \ncjdelisle - (18:01): UTF-16 == vacuum up all of your ram.  \ncjdelisle - (18:02): xml escaping isn't that hard, use a switch statement and it's really fast. (java can run 11MB/s byte by byte through a switch statement)  \nvmassol - (18:02): cjdelisle: it is hard  \nvmassol - (18:02): the proof is that they didn't get it right  \ncjdelisle - (18:02): lol  \nvmassol - (18:03): seriously any line of code is a pain  \nsdumitriu joined #xwiki at 18:03  \nvmassol - (18:03): since you need to fix bugs for it, document it, test it  \nvmassol - (18:03): train people to use it  \nvmassol - (18:03): and especialyl when it's not your core business  \nvmassol - (18:04): you want to push that to someone else as much as possible  \nrrodriguez left at 18:04 (Quit: rrodriguez  \nvmassol - (18:04): imagine xwiki without the open source libraries it uses  \nvmassol - (18:04): it would have required 50 years to create  \ncjdelisle - (18:04): Actually escapetool came out better than the Apache code behind getXMLEncoded, it just creates some problems with Internet Explorer IIRC.  \nvmassol - (18:06): sdumitriu: you missed a bit  \nvmassol - (18:06): (but available in the irc logs)  \nsdumitriu - (18:06): Yep  \nflaviusolaru left at 18:07 (Quit: Leaving.  \nsburjan` joined #xwiki at 18:14  \nsabageru joined #xwiki at 18:24  \nsburjan` left at 18:25 (Ping timeout: 264 seconds  \nsburjan` joined #xwiki at 18:27  \nmflorea left at 18:29 (Quit: Leaving.  \nrrodriguez joined #xwiki at 18:32  \ncjdelisle - (18:36): Just pushed another email with a regression alert. No changes lately so the blame part is missing and clearly the flicker detection could be improved.  \ncjdelisle - (18:37): I imagine the regression alert report running once every 10 minutes or so and the aggregated email being a daily run.  \nfmancinelli joined #xwiki at 18:41  \nfmancinelli - (18:44): Hi guys, a quick question... I created a wiki macro and it works perfectly on a local wiki, but when I use it in a multiwiki $context.macro.content is not expanded. Do you know what could be the problem?  \nabusenius left at 18:45 (Ping timeout: 265 seconds  \nsdumitriu - (18:45): fmancinelli: Do you have programming rights?  \nsdumitriu - (18:46): Is the same XE version on both systems?  \nfmancinelli - (18:46): sdumitriu: version: 2.4 on one side and 2.5 on the other side. Re programming rights I don't know... must ask  \nfmancinelli - (18:47): sdumitriu: anyway the macro is registered and executed correctly. It's just that $context.macro.content expands to itself  \nvmassol - (18:47): fmancinelli: what's the visibility?  \nsdumitriu - (18:47): fmancinelli: Try $xcontext  \nvmassol - (18:47): ah if the macro is called then it's something else  \nfmancinelli - (18:48): current wiki  \nvmassol - (18:48): yes it's $xcontext  \nfmancinelli - (18:48): same with xcontext  \nlucaa left at 18:55 (Ping timeout: 240 seconds  \nfmancinelli - (18:59): maybe the problem is that I don't have programming rights  \nfmancinelli - (18:59): (just checked)  \nvmassol - (19:01): fmancinelli: re rights you just need edit rights on the macro doc if the visibility is not glboal  \nfmancinelli - (19:01): it has current wiki visibility  \nsdumitriu - (19:02): I think this is a known bug which was fixed in 2.5  \nfmancinelli - (19:05): ouch. ok, so I must replace all these macros  \nEnygma` left at 19:09 (Ping timeout: 265 seconds  \nvmassol - (19:10): fmancinelli: could it be http://jira.xwiki.org/jira/browse/XWIKI-5356 ?  \nvmassol - (19:11): (looks like it)  \nvmassol - (19:11): sdumitriu: do you know why this issue wasn't fixed in the 2.4.x branch?  \nsdumitriu - (19:12): No  \nfmancinelli left at 19:12 (Ping timeout: 240 seconds  \ntmortagne left at 19:19 (Quit: Leaving.  \nvmassol left at 19:26 (Quit: Leaving.  \nrstavro left at 19:27 (Ping timeout: 265 seconds  \nsdumitriu - (19:39): sabageru: What's the status on the virtual wiki bug?  \njvelociter - (19:41): great what are doing on regression reporting cjdelisle  \nabusenius joined #xwiki at 19:41  \ncjdelisle - (19:42): Thanks. It's an itch I have had for a while. If anyone wants it do to something different, I made it pretty easy to write your own report.  \nsburjan` left at 19:43 (Ping timeout: 255 seconds  \njvelociter left at 19:53 (Remote host closed the connection  \njvelociter joined #xwiki at 19:54  \nsburjan` joined #xwiki at 20:03  \nnpm\\_ is now known as npm ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nnpm left at 20:16 (Remote host closed the connection  \nnpm joined #xwiki at 20:17  \narkub left at 20:23 (Ping timeout: 276 seconds  \nevalica left at 20:29 (Quit: Leaving.  \nfmancinelli joined #xwiki at 20:29  \nflorinciu joined #xwiki at 20:32  \njvelociter left at 20:53 (Remote host closed the connection  \nmarta\\_ left at 21:16 (Quit: Leaving.  \njvdrean left at 21:18 (Quit: Leaving.  \nsabageru - (21:41): sdumitriu: currently working on building an env on my machine in order to deal with the bug. i will work for 2 more hours so i think i will have an idea on what is the issue this evening  \nsdumitriu - (21:42): Do you need some help with the setup?  \nmflorea joined #xwiki at 21:44  \nsabageru - (21:45): i have talked with alex about the setup. in case i have any more questions i will ask you. you shall be around the next hour or so ?  \nmarta\\_ joined #xwiki at 21:45  \nsdumitriu - (21:47): Yes  \nvmassol joined #xwiki at 21:55  \nsabageru - (22:11): sdumitriu : when i create the virtual wikis, it says everything is ok, but i cannot acces them after i log in. meaning i an acces on my localhost my virtual wiki, for example http://stefan.localhost:8080/xwiki/bin/view/Main/ but when i log in as Admin it says ErrorYou are not allowed to view this document or perform this action.  \nsdumitriu - (22:12): If everything else works, then it's just a rights issue  \nsdumitriu - (22:13): Do you have any content in the virtual wiki?  \nsabageru - (22:14): no  \nsabageru - (22:14): i need to log in and create some page or something to have an event of some sort  \nsdumitriu - (22:15): Register first  \nsdumitriu - (22:16): Or no, log out, go to the administration (should work as guest), and import a xar  \nsdumitriu - (22:16): http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-wiki/2.7-SNAPSHOT/xwiki-enterprise-wiki-2.7-20101115.141135-88.xar  \njvdrean joined #xwiki at 22:19  \njvdrean left at 22:21 (Client Quit  \nsabageru - (22:22): registering does not work  \nsabageru - (22:22): and when i try to do the import with http://stefan.localhost:8080/xwiki/bin/import/XWiki/Import?editor=globaladmin&section=Import i am being sent to log-in page  \nsdumitriu - (22:25): Yes, that's normal  \nsdumitriu - (22:25): Now you can log in with Admin/admin  \nsdumitriu - (22:25): Wait  \nsdumitriu - (22:25): After the import, or before?  \nsabageru - (22:25): well i can;t do the import  \nsabageru - (22:25): because i do not see the page of import  \nsdumitriu - (22:28): Strange  \nsabageru - (22:28): well indeed  \nsabageru - (22:28): when going to localhost:8080  \nsabageru - (22:28): i get  \nsabageru - (22:28): Error number 4001 in 4: Error while parsing velocity page /templates/menuview.vm Wrapped Exception: Failed to evaluate content with id [/templates/menuview.vm]  \nsabageru - (22:31): i think my wiki got pretty messed up since i cannot log in on localhost with Admin/admin anymore  \nvmassol left at 22:32 (Quit: Leaving.  \nsabageru - (22:34): i will redo the XEM installation and the creation of wikis  \njvdrean joined #xwiki at 22:37  \njvdrean left at 22:41 (Client Quit  \nfmancinelli left at 23:02 (Ping timeout: 265 seconds  \njvdrean joined #xwiki at 23:09  \njvdrean left at 23:13 (Client Quit  \nmflorea left at 23:15 (Quit: Leaving.  \nflorinciu left at 23:43 (Read error: Connection reset by peer  \nlucaa joined #xwiki at 23:45  \nsabageru - (23:45): sdumitriu: still there ?  \nsdumitriu - (23:46): Ye  \nsdumitriu - (23:46): s  \nsabageru - (23:46): i have installed the xars and the jars named xwiki-application-application-manager and xwiki-application-wiki-manager  \nsabageru - (23:46): and also did an import for xwiki-enterprise-manager-wiki-administrator-2.5.1.xar  \nsabageru - (23:47): and the xar you suggested xwiki-enterprise-manager-wiki-administrator-2.5.1.xar  \nsabageru - (23:47): now the wiki starts and it is ok even if i do not see the translations. i onl see the codes such as  \nsabageru - (23:47): wikimanager.totalnumberofwiki : $wikiList.size()  \nsabageru - (23:48): do you know how can i get translations ok ?  \nsabageru - (23:52): solved it. had some cfg done wrong:)  \n\n"}