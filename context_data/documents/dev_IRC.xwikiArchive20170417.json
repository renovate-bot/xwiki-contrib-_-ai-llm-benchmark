{"id": "dev:IRC.xwikiArchive20170417", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20170417", "title": "IRC Archive for channel #xwiki on 17 April 2017 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<gavin1>\u00a0has joined #xwiki  \n05:31\u00a0<gavin1>\u00a0When install 9.2 enterprise, XWiki Enterprise Flavor - Main Wiki , \u00a0always meet Unexpected error when trying to find extension dependency [org.xwiki.enterprise:xwiki-enterprise-ui-common-9.1.2] in repository [maven-xwiki:maven:http://nexus.xwiki.org/nexus/content/groups/public]:  \n05:31\u00a0<gavin1>\u00a01 problem was encountered while building the effective model for org.xwiki.enterprise:xwiki-enterprise-ui-common:[unknown-version] [FATAL] Non-resolvable parent POM for org.xwiki.platform:xwiki-platform:9.1.2: Could not transfer artifact org.xwiki.commons:xwiki-commons-pom:pom:9.1.2 from/to maven-xwiki (http://nexus.xwiki.org/nexus/content/groups/public): Read timed out @ org.xwiki.platform:xwiki-platform:9.1.2  \n05:32\u00a0<gavin1>\u00a0:-(  \n06:13\u00a0<gavin1>\u00a0anyone encounter this issue ? how resolve ? thanks~:-\\*  \n09:59\u00a0<mflorea>\u00a0has joined #xwiki  \n12:10\u00a0<mflorea>\u00a0has quit  \n13:01\u00a0<slayerjain>\u00a0has quit  \n13:09\u00a0<yell\\_ow>\u00a0has quit  \n13:46\u00a0<gavin1>\u00a0has quit  \n14:01\u00a0<Denis>\u00a0has joined #xwiki  \n14:23\u00a0<Nehagup\\_>\u00a0has quit  \n15:26\u00a0<slayerjain>\u00a0has joined #xwiki  \n15:31\u00a0<sgc072>\u00a0has joined #xwiki  \n15:59\u00a0<Denis>\u00a0has quit  \n16:00\u00a0<Denis>\u00a0has joined #xwiki  \n16:05\u00a0<Denis1>\u00a0has joined #xwiki  \n16:05\u00a0<Denis>\u00a0has quit  \n16:08\u00a0<sgc072>\u00a0has quit  \n16:25\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n16:36\u00a0<OSIMasson1>\u00a0has quit  \n16:36\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n16:47\u00a0<gavin>\u00a0has joined #xwiki  \n16:49\u00a0<gavin>\u00a0has quit  \n17:11\u00a0<OSIMasson1>\u00a0has quit  \n17:12\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n17:12\u00a0<OSIMasson1>\u00a0has quit  \n17:13\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n17:53\u00a0<OSIMasson1>\u00a0has quit  \n18:04\u00a0<Kalleos>\u00a0has joined #xwiki  \n18:05\u00a0<Kalleos>\u00a0Hi, I get a very long exception when I open a page. This exception is not shown fully in the browser. Where I can look up the full exception information? Checked all ready catalina log file -- not found it there  \n18:08\u00a0<vmassol>\u00a0Hi Kalleos , looks weird. Never seen that. Maybe you could paste it on pastebin so that we can see it?  \n18:21\u00a0<Kalleos>\u00a0vmassol: https://pastebin.com/nNdSV8X7 -- this happened as a friend has shifted page \"identification\" (from google apps plugin) into sandbox directory  \n18:21\u00a0<Kalleos>\u00a0I try to figure out how I can revert it or correct it without installing everything from scratch  \n18:26\u00a0<Kalleos>\u00a0or maybe it is better if you check this here.. it is similar.. it happens if any person tries to open the start page of xwiki /bin/view/Main \u00a0\u00a0https://pastebin.com/pw7Bu1bq  \n18:35\u00a0<btorch>\u00a0Kalleos: totally out of subject here, but noticed you saying google apps, are you able to authenticate users through Google Oauth2 on your setup ?  \n18:37\u00a0<vmassol>\u00a0Kalleos: seems indeed that you broke something, hard to see what. exception.vm seesm to throw some NPE now  \n18:39\u00a0<Kalleos>\u00a0@btorch I was able to set up it to some point... but after the user entered the google creditials and google forwarded back to xwiki, xwiki stated: \"user xxx is not authentificated. Please log out and retry\"  \n18:39\u00a0<Kalleos>\u00a0something like that  \n18:41\u00a0<Kalleos>\u00a0@btorch I think there must be some mapping settings.. mapping between xwiki user account and google user account  \n18:42\u00a0<Kalleos>\u00a0@btorch but I didn't find anything like that.. and without that I don't know how it should work.. tutorials or google neither helped  \n18:43\u00a0<sorinello>\u00a0has quit  \n18:43\u00a0<Kalleos>\u00a0@vmassol do you have a guess where I could find exception.vm?  \n18:44\u00a0<vmassol>\u00a0actually exception.vm is probaby not the problem it's called because there's an error somewhere lese  \n18:44\u00a0<Kalleos>\u00a0yes.. and my hope is to get a better clue if I would see the full exception stack trace..  \n18:50\u00a0<Kalleos>\u00a0I think I have to edit logback.xml  \n18:53\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n18:53\u00a0<vmassol>\u00a0Kalleos: your log here is strange: https://pastebin.com/pw7Bu1bq  \n18:53\u00a0<vmassol>\u00a0you said:  \n18:53\u00a0<vmassol>\u00a0\" it happens if any person tries to open the start page of xwiki /bin/view/Main\"  \n18:54\u00a0<vmassol>\u00a0however I see that the error is \" Error while evaluating velocity template frequentlyUsedDocs.vm\"  \n18:54\u00a0<vmassol>\u00a0checking when this vm is used  \n18:58\u00a0<vmassol>\u00a0ok forget what I said  \n18:58\u00a0<Kalleos>\u00a0forgot  \n18:58\u00a0<vmassol>\u00a0frequentlyUsedDocs.vm is used for all pages  \n18:59\u00a0<vmassol>\u00a0so it seems that frequentlyUsedDocs.vm is generating an exception in your case  \n18:59\u00a0<vmassol>\u00a0seems to be the call to:  \n18:59\u00a0<vmassol>\u00a0#set($spaceHome = $!xwiki.getDocument($services.model.resolveDocument('', 'default', $doc.documentReference.extractReference('SPACE'))).getTranslatedDocument())  \n18:59\u00a0<vmassol>\u00a0which for some reason generate a NPE  \n19:00\u00a0<vmassol>\u00a0but it's possible I don't fully understand the flow  \n19:00\u00a0<vmassol>\u00a0the problem is that this doesn't help find the root issue  \n19:01\u00a0<Kalleos>\u00a0Well.. the root action was, that a wiki page \"identification\" (coming from google apps extension) was shift in directory sandbox..  \n19:02\u00a0<Kalleos>\u00a0so maybe a variable, who was referencing to that wiki page, is referencing now to null...  \n19:02\u00a0<vmassol>\u00a0I have no idea what this means  \n19:02\u00a0<vmassol>\u00a0WDYM by \"directory\"?  \n19:02\u00a0<Kalleos>\u00a0the xwiki directories  \n19:03\u00a0<vmassol>\u00a0there's no such thing :)  \n19:03\u00a0<vmassol>\u00a0at least no sandbox  \n19:03\u00a0<vmassol>\u00a0maybe you're using some terminology I don't understand  \n19:03\u00a0<vmassol>\u00a0can you be more precise?  \n19:03\u00a0<Kalleos>\u00a0is there some example xwiki page up?  \n19:04\u00a0<Kalleos>\u00a0with kind of initial installation..  \n19:04\u00a0<vmassol>\u00a0what does \"xwiki page up\" means?  \n19:04\u00a0<OSIMasson1>\u00a0has quit  \n19:04\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n19:04\u00a0<vmassol>\u00a0you're asking how to install xwiki?  \n19:05\u00a0<Kalleos>\u00a0No, I'm asking whether some server which is hosting xwiki is online and accessible...  \n19:05\u00a0<Kalleos>\u00a0...so I might correct my terminology.. or not  \n19:05\u00a0<vmassol>\u00a0several hundreds in the world yes :)  \n19:06\u00a0<vmassol>\u00a0playground.xwiki.org is one for example  \n19:06\u00a0<Kalleos>\u00a0perfect..  \n19:06\u00a0<Kalleos>\u00a0well click on that and you find to the left \"sandbox\" as link...  \n19:07\u00a0<Kalleos>\u00a0and the \"friend\" shifted a xwiki page coming from an extension, to that \"sandbox\" directory (or what xwiki terminology is)  \n19:07\u00a0<Kalleos>\u00a0so that this page is located in here: http://playground.xwiki.org/xwiki/bin/view/Sandbox/  \n19:08\u00a0<OSIMasson1>\u00a0has quit  \n19:08\u00a0<Kalleos>\u00a0and the result is the earlier mentioned exception after any action  \n19:09\u00a0<vmassol>\u00a0ok so this is not a directory :)  \n19:09\u00a0<vmassol>\u00a0but a wiki page  \n19:09\u00a0<vmassol>\u00a0there's no relartionship with the file system  \n19:10\u00a0<Kalleos>\u00a0I know  \n19:10\u00a0<Kalleos>\u00a0didn't mention file system  \n19:10\u00a0<Kalleos>\u00a0directory can be virtual, physical, thereotical..  \n19:10\u00a0<vmassol>\u00a0so maybe you have some authentication enabled  \n19:10\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n19:10\u00a0<Kalleos>\u00a0yes..  \n19:10\u00a0<vmassol>\u00a0and that auth doesn't find what it needs anymore because it's been moved  \n19:10\u00a0<vmassol>\u00a0so just disable that custom auth  \n19:11\u00a0<vmassol>\u00a0and you should be fine  \n19:11\u00a0<slayerjain>\u00a0has quit  \n19:11\u00a0<Kalleos>\u00a0I checked xwiki.cfg whether there is some authentification setting, but didn't found... do you have a guess how I could disable it manually?  \n19:11\u00a0<Kalleos>\u00a0Or how I can disable extensions manually?  \n19:11\u00a0<vmassol>\u00a0Note: I don't know what extension you've installed and how it can be configured though  \n19:12\u00a0<Kalleos>\u00a0I've surely googled for it.. didn't found sorry  \n19:12\u00a0<Kalleos>\u00a0With \"disabling extensions manually\" I mean: disabling it by console for example  \n19:13\u00a0<vmassol>\u00a0sure it's possible but you need to know which extension you're using first  \n19:13\u00a0<Kalleos>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/XWiki%20Application%20-%20Google%20Apps  \n19:13\u00a0<vmassol>\u00a0ok never used it  \n19:13\u00a0<vmassol>\u00a0and you can't go to the admin UI?  \n19:14\u00a0<vmassol>\u00a0no page is working at all, even the admin pages?  \n19:14\u00a0<vmassol>\u00a0so to disable from the file system you need to stop xwiki first  \n19:14\u00a0<vmassol>\u00a0and then go to your permanent directory  \n19:14\u00a0<Kalleos>\u00a0how should be the path for admin pages?  \n19:14\u00a0<Kalleos>\u00a0the URL path  \n19:15\u00a0<vmassol>\u00a0with /admin/ as the action instead of /view  \n19:15\u00a0<vmassol>\u00a0for example:  \n19:15\u00a0<vmassol>\u00a0http://playground.xwiki.org/xwiki/bin/admin/XWiki/XWikiPreferences  \n19:15\u00a0<vmassol>\u00a0replace playground with your server  \n19:16\u00a0<Kalleos>\u00a0no pages accessible.. even not advmin pages.. ok I stop xwiki and go to permanent directory..  \n19:16\u00a0<vmassol>\u00a0hmm wait it seems this extension need config from xwiki.cfg so it's easy to disable it  \n19:16\u00a0<vmassol>\u00a0see http://extensions.xwiki.org/xwiki/bin/view/Extension/XWiki%20Application%20-%20Google%20Apps#HActivateGoogleAuthentication  \n19:16\u00a0<vmassol>\u00a0so you just need to remove xwiki.authentication.authclass=com.xpn.xwiki.user.impl.xwiki.GroovyAuthServiceImpl  \n19:16\u00a0<Kalleos>\u00a0I know but I didn't write the .cfg lines mentioned there  \n19:16\u00a0<vmassol>\u00a0(comment it out)  \n19:16\u00a0<vmassol>\u00a0and restart xwiki  \n19:17\u00a0<vmassol>\u00a0without this this extension shouldn't do any(thing at all  \n19:17\u00a0<Kalleos>\u00a0I see  \n19:18\u00a0<Kalleos>\u00a0so I think there must be another xwiki.cfg .. and I'm checking the wrong one  \n19:18\u00a0<Kalleos>\u00a0I've checked this here: /usr/share/xwiki/default/xwiki.cfg  \n19:18\u00a0<Kalleos>\u00a0not entered.. I'm looking now for different ones..  \n19:23\u00a0<vmassol>\u00a0now I don't know this extension at all and it is possible to write some extension so that it doesn't need to odify xwiki.cfg to replace the authentication (i've written some in the past ;)) but I don't that the author of this extension knows how to do that but maybe I'm wrong  \n19:23\u00a0<vmassol>\u00a0at last resort  \n19:23\u00a0<vmassol>\u00a0if you need to remove this extension  \n19:23\u00a0<vmassol>\u00a0you should locate it in [permanent dir]/extensions/  \n19:24\u00a0<vmassol>\u00a0and remove the directory matching the extension name  \n19:27\u00a0<OSIMasson1>\u00a0has quit  \n19:27\u00a0<heiko[m]>\u00a0has joined #xwiki  \n19:27\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n19:28\u00a0<OSIMasson1>\u00a0has quit  \n19:29\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n19:31\u00a0<heiko[m]>\u00a0Hi there, I'm having a problem setting up xwiki as a docker container. Actually the setup works just fine, I get the wiki up and running. Rebooting the docker container will also work. But if I \"docker stop\" and \"docker rm\" and start a new container exactly like the first one it gives me a 500 error complaining about jdbc stuff (did this to check if i got the persistence right, it seems I did not ;( \u00a0). I checkt the inside of  \n19:31\u00a0<heiko[m]>\u00a0the container and the environment variables are there and a manual connect to the database is possible.  \n19:32\u00a0<vmassol>\u00a0hi helge  \n19:32\u00a0<vmassol>\u00a0oops  \n19:32\u00a0<vmassol>\u00a0I meant:  \n19:32\u00a0<vmassol>\u00a0hi heiko  \n19:33\u00a0<heiko[m]>\u00a0docker run --name xwiki -p 8080:8080 --link mysql-db:mysql-xwiki -v /data/xwiki:/usr/local/xwiki -e DB\\_USER=xwiki -e DB\\_PASSWORD=... -e DB\\_DATABASE=xwiki -e DB\\_HOST=mysql xwiki:mysql-tomcat  \n19:33\u00a0<heiko[m]>\u00a0this is my start command  \n19:33\u00a0<vmassol>\u00a0btw you don't need to rm it to restart it  \n19:33\u00a0<vmassol>\u00a0you can just docker stop and docker start  \n19:34\u00a0<vmassol>\u00a0regarding your 500 error  \n19:34\u00a0<heiko[m]>\u00a0yes i know , it was just a test since I will want to upgrade some time in the future , to check if everything is persistent  \n19:34\u00a0<vmassol>\u00a0my guess is that at some point you didn't pass the right parameters  \n19:34\u00a0<vmassol>\u00a0and there's a test when you execute docker run the first time  \n19:34\u00a0<vmassol>\u00a0if tests if a file exists in the container itself  \n19:35\u00a0<vmassol>\u00a0if not, then it configures xwiki and set up that special file  \n19:35\u00a0<vmassol>\u00a0so that next runs don't try to set it up afain  \n19:35\u00a0<vmassol>\u00a0\\*again  \n19:35\u00a0<vmassol>\u00a0apparently this is causing confusions  \n19:35\u00a0<vmassol>\u00a0so I'll probably release a new image without this test  \n19:35\u00a0<heiko[m]>\u00a0you mean .first\\_start\\_completed  \n19:35\u00a0<vmassol>\u00a0what would be nice  \n19:35\u00a0<heiko[m]>\u00a0its there  \n19:35\u00a0<vmassol>\u00a0yep I meant that one  \n19:35\u00a0<vmassol>\u00a0so what would benice  \n19:36\u00a0<vmassol>\u00a0is if you could create a jira issue on jira.xwiki.org  \n19:36\u00a0<vmassol>\u00a0and explain eactly the step to follow to get the problem you have  \n19:36\u00a0<vmassol>\u00a0then I can look at it, rperoduce it  \n19:36\u00a0<vmassol>\u00a0and fix it  \n19:36\u00a0<vmassol>\u00a0the jira project to report the issue is https://jira.xwiki.org/browse/XDOCKER  \n19:36\u00a0<vmassol>\u00a0do you think you could do that heiko ?  \n19:37\u00a0<heiko[m]>\u00a0ok , I will, thanks  \n19:37\u00a0<vmassol>\u00a0I'm keen to make the xwiki docker image as easy to use as possible so I'll fix it quickly if I can reproduce it :)  \n19:37\u00a0<heiko[m]>\u00a0but I'm not sure if it is a bug, maybe I'm just doing something wrong  \n19:37\u00a0<vmassol>\u00a0sure but anyway, if you can list the full steps from zero  \n19:38\u00a0<heiko[m]>\u00a0ok  \n19:38\u00a0<vmassol>\u00a0that would help me undestand the issue  \n19:38\u00a0<vmassol>\u00a0and find a solution so that users don't fall in that trap  \n19:38\u00a0<vmassol>\u00a0or fix the bug if there's one  \n19:43\u00a0<Kalleos>\u00a0thanks, I've totally overseen the xwiki.cfg in /usr/lib/xwiki/WEB-INF/xwiki.cfg  \n19:44\u00a0<Kalleos>\u00a0checked xwiki.cfg in a different location..  \n19:44\u00a0<Kalleos>\u00a0edited it and it works now  \n19:44\u00a0<vmassol>\u00a0ok cool :)  \n19:49\u00a0<gavin>\u00a0has joined #xwiki  \n19:53\u00a0<gavin>\u00a0has quit  \n20:04\u00a0<heiko[m]>\u00a0I just created https://jira.xwiki.org/browse/XDOCKER-19  \n20:11\u00a0<OSIMasson1>\u00a0has quit  \n20:13\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n20:20\u00a0<OSIMasson1>\u00a0has quit  \n20:20\u00a0<heiko[m]>\u00a0it seems .first\\_start\\_completed really is the problem  \n20:21\u00a0<Kalleos>\u00a0has quit  \n20:28\u00a0<vmassol>\u00a0heiko: thanks, I may not have the time to work on it today but I'll definitely follow it up this week  \n20:29\u00a0<heiko[m]>\u00a0no problem (see ticket)  \n20:29\u00a0<heiko[m]>\u00a0i have some kind of workaround  \n21:16\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n21:21\u00a0<OSIMasson1>\u00a0has quit  \n21:40\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n21:50\u00a0<OSIMasson1>\u00a0has quit  \n21:57\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n21:59\u00a0<OSIMasson2>\u00a0has joined #xwiki  \n22:01\u00a0<OSIMasson1>\u00a0has quit  \n22:04\u00a0<OSIMasson2>\u00a0has quit  \n22:43\u00a0<systemd>\u00a0has joined #xwiki  \n22:45\u00a0<systemd>\u00a0has quit  \n22:45\u00a0<systemd>\u00a0has joined #xwiki\n"}