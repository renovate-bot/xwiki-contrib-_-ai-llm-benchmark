{"id": "dev:IRC.xwikiArchive20120305", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120305", "title": "IRC Archive for channel #xwiki on 05 March 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:09\u00a0<rrodriguez>\u00a0has quit  \n00:38\u00a0<jvdrean>\u00a0has quit  \n05:59\u00a0<Denis1>\u00a0has joined #xwiki  \n05:59\u00a0<Denis>\u00a0has quit  \n07:05\u00a0<mflorea>\u00a0has joined #xwiki  \n07:53\u00a0<+mflorea>\u00a0sdumitriu: it looks like your last commit is causing tests failures on both branches, http://ci.xwiki.org/job/xwiki-platform/1590/aggregatedTestReport/ and http://ci.xwiki.org/job/xwiki-platform-3.5/25/aggregatedTestReport/  \n07:53\u00a0<@sdumitriu>\u00a0Checking  \n07:54\u00a0<+mflorea>\u00a0I'm not sure why, it might be a problem with the agents.  \n07:54\u00a0<@sdumitriu>\u00a0I don't understand that message...  \n07:55\u00a0<+mflorea>\u00a0I meant: I'm not sure why the tests are failing, it could also be a problem with the agents  \n07:55\u00a0<@sdumitriu>\u00a0I meant: I don't understand what this means: unexpected command json={command:\"getHtmlSource\",target:\"\",value:\"\"} in place before new command isElementPresent could be added  \n07:55\u00a0<+mflorea>\u00a0but Jenkins shows that your commit triggered the build that lead to the failures  \n07:56\u00a0<+mflorea>\u00a0if you look at the entire console output you'll see that there is one test failing which trigger the rest, i.e. all the rest fail with that message. The problem is with the first test that fails  \n07:57\u00a0<+mflorea>\u00a0testCodeToExecutionAndAutoSandboxing  \n07:58\u00a0<+mflorea>\u00a0which fails with a timeout on open[/xwiki/bin/edit/Main/TestConfigurable?form\\_token=t3GEN9o3hantNrCECEgQeA&editor=object, true]  \n08:03\u00a0<+mflorea>\u00a0escaping tests are also failing with a timeout when accessing some URLs  \n08:04\u00a0<@sdumitriu>\u00a0Last time I looked, they were failing for good reasons (deprecated API calls)  \n08:06\u00a0<vmassol>\u00a0has joined #xwiki  \n08:38\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r474293c\u000f https://github.com/xwiki/xwiki-commons/commit/474293c19c65550a90a3dc84f85995f4f81baddb \u000f/ pom.xml :\u000f XCOMMONS-120: Upgrade to Selenium 2.20 - http://git.io/XCm2\\_g  \n08:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r66a598f\u000f https://github.com/xwiki/xwiki-platform/commit/66a598f856c9e107c463c428a1b9f14488b7799e \u000f/ xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/plugin/macro/MacroDisplayer.java :\u000f Use a less exotic character because Opera doesn't display Zero-Width-Space correctly (at least on Windows). - http://git.io/D6\\_K2Q  \n08:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* ree70658\u000f https://github.com/xwiki/xwiki-platform/commit/ee706587cb18c3b46864921f3aeb615d5d573ae4 \u000f/ (4 files in 2 dirs):\u000f XWIKI-3335: Cannot move the caret with the right arrow key after a macro ending the document ...  \n08:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r696cc23\u000f https://github.com/xwiki/xwiki-platform/commit/696cc231c710b96ab5ece231a22814516039fd33 \u000f/ xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/plugin/macro/MacroDisplayer.java :\u000f Use a less exotic character because Opera doesn't display Zero-Width-Space correctly (at least on Windows). ...  \n08:44\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* rc9fb488\u000f https://github.com/xwiki/xwiki-platform/commit/c9fb4883eae242e61d31377ad40ddd2a74f9c638 \u000f/ (4 files in 2 dirs):\u000f XWIKI-3335: Cannot move the caret with the right arrow key after a macro ending the document ...  \n09:04\u00a0<@sdumitriu>\u00a0mflorea: Selenium test seems to have worked this time  \n09:14\u00a0<+mflorea>\u00a0sdumitriu: yep, so it must have been a problem with agent-4  \n09:19\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:20\u00a0<sdumitriu>\u00a0has quit  \n09:40\u00a0<sburjan>\u00a0has joined #xwiki  \n09:44\u00a0<evalica>\u00a0has joined #xwiki  \n09:49\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:53\u00a0<+sburjan>\u00a0merci  \n09:58\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r13a9185\u000f https://github.com/xwiki/xwiki-platform/commit/13a91850d7900cdf9e5c06c816397a625fe26f63 \u000f/ xwiki-platform-core/xwiki-platform-toucan/src/main/resources/toucan/preview.vm :\u000f [misc] Synchronize with default preview.vm - http://git.io/oCTnrw  \n09:58\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* rfe44aa4\u000f https://github.com/xwiki/xwiki-platform/commit/fe44aa4f48d9064580855854d17f854c116bacea \u000f/ xwiki-platform-core/xwiki-platform-toucan/src/main/resources/toucan/preview.vm :\u000f [misc] Synchronize with default preview.vm ...  \n10:07\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:13\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:38\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r49736fc\u000f https://github.com/xwiki/xwiki-enterprise/commit/49736fc3e1a0eec4bbac67edb5b54b4ad5eb26df \u000f/ (2 files):\u000f Update functional tests. - http://git.io/eaZ19Q  \n11:38\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r6f4e7c4\u000f https://github.com/xwiki/xwiki-enterprise/commit/6f4e7c4eecc68f0ac94e04861da0edc8c30ce6df \u000f/ (2 files):\u000f Update functional tests. - http://git.io/AzGNwQ  \n11:46\u00a0<gdelhumeau>\u00a0has quit  \n11:47\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:54\u00a0<gdelhumeau>\u00a0has quit  \n12:07\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n12:09\u00a0<mflorea>\u00a0has quit  \n13:29\u00a0<mflorea>\u00a0has joined #xwiki  \n13:30\u00a0<vmassol>\u00a0has quit  \n13:32\u00a0<vmassol>\u00a0has joined #xwiki  \n13:34\u00a0<lucaa>\u00a0has joined #xwiki  \n13:47\u00a0<vmassol>\u00a0has quit  \n13:50\u00a0<vmassol>\u00a0has joined #xwiki  \n13:50\u00a0<vmassol>\u00a0has quit  \n14:00\u00a0<+mflorea>\u00a0guys, we have an issue, xwiki-platform-oldcore tests take a \\*lot\\* of time on master. This doesn't happen on stable-3.5.x. http://ci.xwiki.org/view/Platform/job/xwiki-platform/org.xwiki.platform$xwiki-platform-oldcore/1592/testReport/ vs. http://ci.xwiki.org/view/Platform/job/xwiki-platform-3.5/org.xwiki.platform$xwiki-platform-oldcore/27/testReport/  \n14:00\u00a0<+mflorea>\u00a011min vs. 53s is a lot  \n14:00\u00a0<+mflorea>\u00a0tmortagne: can you reproduce?  \n14:01\u00a0<+mflorea>\u00a0so it must be something that was committed on master  \n14:01\u00a0<+mflorea>\u00a0only on master  \n14:01\u00a0<+tmortagne>\u00a0looking, is it a test ?  \n14:01\u00a0<+mflorea>\u00a0there are many that take a lot  \n14:01\u00a0<+mflorea>\u00a0but not all  \n14:02\u00a0<+tmortagne>\u00a0comparing to 3.5  \n14:02\u00a0<+mflorea>\u00a0XWikiTest -> 2min 55 sec  \n14:03\u00a0<+mflorea>\u00a0the time seems to be equally distributed http://ci.xwiki.org/view/Platform/job/xwiki-platform/org.xwiki.platform$xwiki-platform-oldcore/1592/testReport/com.xpn.xwiki/XWikiTest/  \n14:03\u00a0<+mflorea>\u00a0~9 per test method  \n14:03\u00a0<+mflorea>\u00a09s  \n14:03\u00a0<+tmortagne>\u00a0most of the test are taking more time it seems  \n14:03\u00a0<gdelhumeau>\u00a0has quit  \n14:03\u00a0<+tmortagne>\u00a0testing locally  \n14:11\u00a0<+tmortagne>\u00a0com.xpn.xwiki.plugin.feed.SyndEntryDocumentSourceTest is very slow (37s)  \n14:13\u00a0<+tmortagne>\u00a0I get 17 for XWikiTest  \n14:13\u00a0<+tmortagne>\u00a017s  \n14:13\u00a0<+mflorea>\u00a0yes, I'm debugging XWikiTest, the problem seems to be in the test setup, but only when I let it run. Debugging step by step is not slow.. so it might be a thread synchronization problem  \n14:13\u00a0<+tmortagne>\u00a0well 17s is not much compared to 2min 55s  \n14:14\u00a0<+mflorea>\u00a0I got 42s last time on XWikiTest  \n14:14\u00a0<+tmortagne>\u00a0ok  \n14:14\u00a0<+tmortagne>\u00a043s for com.xpn.xwiki.internal.event.XObjectEventGeneratorListenerTest  \n14:14\u00a0<+tmortagne>\u00a0not very good either  \n14:15\u00a0<+tmortagne>\u00a0h I was not looking at the right XWikiTest  \n14:15\u00a0<+tmortagne>\u00a0com.xpn.xwiki.XWikiTest takes 88s  \n14:15\u00a0<+tmortagne>\u00a0was looking at com.xpn.xwiki.api.XWikiTest  \n14:16\u00a0<+tmortagne>\u00a0looks like maven does not give the total tie  \n14:16\u00a0<+tmortagne>\u00a0time  \n14:18\u00a0<+tmortagne>\u00a0hmm  \n14:18\u00a0<tekzilla>\u00a0has quit  \n14:18\u00a0<+tmortagne>\u00a0no  \n14:19\u00a0<+tmortagne>\u00a0was thinking about http://jira.xwiki.org/browse/XWIKI-7493 but it's in 3.5 too  \n14:20\u00a0<+tmortagne>\u00a0(and it would take a lot more than several seconds anyway)  \n14:20\u00a0<tekzilla>\u00a0has joined #xwiki  \n14:23\u00a0<+tmortagne>\u00a0mflorea: I guess something new is happening in XWiki(XWikiConfig config, XWikiContext context)  \n14:23\u00a0<+mflorea>\u00a0yep, I'm on that line too  \n14:24\u00a0<+tmortagne>\u00a0maybe related to store intialization  \n14:24\u00a0<+tmortagne>\u00a0we \u00a0let XWiki intialize the store and then replace it with a mock which is not very good  \n14:26\u00a0<+tmortagne>\u00a0XWikiHibernateBaseStore#initialize is not doing much  \n15:39\u00a0<jvelo>\u00a0has joined #xwiki  \n16:08\u00a0<+sburjan>\u00a0Hello. I am testing the migration from a 2.7.2 to a 3.5. It fails in an epic way. Should I open a JIRA with the stacktrace, or is it already reported ? afaik we already fave some postgres issues reported  \n16:18\u00a0<vmassol>\u00a0has joined #xwiki  \n16:49\u00a0<rrodriguez>\u00a0has joined #xwiki  \n17:27\u00a0<vmassol>\u00a0Guys I'm about to restart myxwiki.org. I've been asked to provide markdown support  \n17:31\u00a0<vmassol>\u00a0tmortagne: I think your skype is dead  \n17:34\u00a0<sburjan>\u00a0has quit  \n17:34\u00a0<vmassol>\u00a0grrr we cannot use REST anymore in browsers....  \n17:34\u00a0<vmassol>\u00a0this is really an issue, makes it hard to give a rest url to someone when testing  \n17:34\u00a0<vmassol>\u00a0jvelo: do you think you could help fix this regression you brought? :)  \n17:35\u00a0<vmassol>\u00a0actually they fixed it  \n17:35\u00a0<vmassol>\u00a0(had forgotten)  \n17:35\u00a0<vmassol>\u00a0since I asked jerome louvel and he fixed it  \n17:35\u00a0<jvelo>\u00a0what are you talking about ?  \n17:35\u00a0<jvelo>\u00a0ah  \n17:35\u00a0<vmassol>\u00a0\"il sera dispo dans les prochaines releases 2.0.12 et 2.1 RC4\"  \n17:35\u00a0<jvelo>\u00a0I think I know  \n17:36\u00a0<jvelo>\u00a0it's about content negotiation ?  \n17:36\u00a0<vmassol>\u00a0yes: http://jira.xwiki.org/jira/browse/XWIKI-7513  \n17:38\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:12\u00a0<+mflorea>\u00a0sdumitriu, please take a look at https://github.com/xwiki/xwiki-platform/commit/35a4e5795ae0fd7ea593ca919a92dce4a1ca03e3#commitcomment-1043875 when you find some time. Thanks.  \n18:34\u00a0<evalica1>\u00a0has joined #xwiki  \n18:34\u00a0<evalica>\u00a0has quit  \n18:36\u00a0<evalica1>\u00a0is now known as <evalica>  \n18:44\u00a0<npm\\_>\u00a0has joined #xwiki  \n18:45\u00a0<npm>\u00a0has quit  \n18:46\u00a0<npm\\_>\u00a0has quit  \n18:49\u00a0<npm\\_>\u00a0has joined #xwiki  \n18:49\u00a0<+tmortagne>\u00a0guys i would need some vote on my last message about \"[PROPOSAL] Change component role from Class to Type\", I'm ready to commit if noone against it.  \n18:50\u00a0<lucaa>\u00a0has quit  \n18:53\u00a0<vmassol>\u00a0done  \n19:13\u00a0<florinciu>\u00a0has joined #xwiki  \n19:16\u00a0<+tmortagne>\u00a0thanks  \n19:19\u00a0<sdumitriu>\u00a0has quit  \n19:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:22\u00a0<npm\\_>\u00a0is now known as <npm>  \n19:27\u00a0<mflorea>\u00a0has quit  \n19:33\u00a0<CIA-120>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r12208ef\u000f https://github.com/xwiki/xwiki-platform/commit/12208efd7724aaf735333bb5d60b2149a7c066fe \u000f/ (2 files in 2 dirs):\u000f [misc] Disable useless listener - http://git.io/v-DzRQ  \n19:36\u00a0<Denis1>\u00a0is now known as <Denis>  \n19:39\u00a0<evalica>\u00a0has quit  \n19:43\u00a0<Enygma`>\u00a0has quit  \n19:52\u00a0<sdumitriu>\u00a0has quit  \n19:53\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:53\u00a0<sdumitriu>\u00a0has quit  \n19:53\u00a0<tmortagne>\u00a0has quit  \n19:53\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:55\u00a0<abusenius>\u00a0has joined #xwiki  \n20:04\u00a0<sburjan`>\u00a0has quit  \n20:23\u00a0<sburjan`>\u00a0has joined #xwiki  \n21:33\u00a0<npm>\u00a0has quit  \n21:34\u00a0<npm>\u00a0has joined #xwiki  \n21:47\u00a0<florinciu>\u00a0has quit  \n21:47\u00a0<C\\_Kode>\u00a0has joined #xwiki  \n21:48\u00a0<C\\_Kode>\u00a0Is it possible to create a dropdown list in xwiki?  \n21:48\u00a0<vmassol>\u00a0yes  \n21:48\u00a0<C\\_Kode>\u00a0Can you point me to how? \u00a0I can't find it anywhere.  \n21:48\u00a0<C\\_Kode>\u00a0point me to an example  \n21:49\u00a0<vmassol>\u00a0well you need to explain what you wish to do first  \n21:49\u00a0<vmassol>\u00a0just HTML code for that?  \n21:49\u00a0<vmassol>\u00a0or  \n21:49\u00a0<C\\_Kode>\u00a0I'm query a db  \n21:49\u00a0<vmassol>\u00a0an xclass property?  \n21:49\u00a0<@sdumitriu>\u00a0It depends on what data do you want to display there, what does it do, etc...  \n21:50\u00a0<C\\_Kode>\u00a0I'm querying a db. \u00a0When you select an option, it will then do another query that will then generate a chart of the data that is returned.  \n21:50\u00a0<C\\_Kode>\u00a0or trying to  \n21:51\u00a0<mflorea>\u00a0has joined #xwiki  \n22:05\u00a0<+sburjan`>\u00a0should I create a issue about failing migration on postgres ? or is it already reported ?  \n22:05\u00a0<vmassol>\u00a0it's reported  \n22:07\u00a0<+sburjan`>\u00a0cool  \n22:26\u00a0<sburjan`>\u00a0has quit  \n22:26\u00a0<sburjan`>\u00a0has joined #xwiki  \n22:27\u00a0<C\\_Kode>\u00a0has left #xwiki  \n22:40\u00a0<vmassol>\u00a0has quit  \n23:10\u00a0<mflorea>\u00a0has quit  \n\n"}