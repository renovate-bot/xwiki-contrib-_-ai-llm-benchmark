{"id": "dev:IRC.xwikiArchive20120703", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120703", "title": "IRC Archive for channel #xwiki on 03 July 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:25\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n00:28\u00a0<CIA-114>\u00a0Andreas Jonsson\u000f master\u000f \\* rfb4737b\u000f https://github.com/xwiki/xwiki-platform/commit/fb4737b6ba2deb2ca429e6a0b1d19f930aa639ba \u000f/ (49 files in 21 dirs):\u000f XRENDERING-41: Major refactoring of chart macro. - http://git.io/f8fqZQ  \n00:28\u00a0<sburjan`>\u00a0has quit  \n00:28\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n00:43\u00a0<Enygma`>\u00a0has quit  \n01:23\u00a0<CIA-114>\u00a0Andreas Jonsson\u000f master\u000f \\* r6247290\u000f https://github.com/xwiki/xwiki-platform/commit/624729064f87941f5ec1871d3d14fd070f28ed5d \u000f/ xwiki-platform-core/pom.xml :\u000f XRENDERING-41: Adding additional clirr exclude. - http://git.io/W6lMTA  \n01:29\u00a0<Denis>\u00a0has joined #xwiki  \n02:35\u00a0<tekzilla>\u00a0has quit  \n02:37\u00a0<tekzilla>\u00a0has joined #xwiki  \n04:05\u00a0<sdumitriu>\u00a0has quit  \n07:26\u00a0<mflorea>\u00a0has joined #xwiki  \n07:28\u00a0<vmassol>\u00a0has joined #xwiki  \n07:46\u00a0<vmassol>\u00a0good morning  \n07:47\u00a0<vmassol>\u00a0cjd: good morning  \n08:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:00\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r25b9a6f\u000f https://github.com/xwiki/xwiki-commons/commit/25b9a6fdba04bb65eaa9e7ab5dbacd61eff21607 \u000f/ xwiki-commons-core/xwiki-commons-extension/xwiki-commons-extension-api/src/test/java/org/xwiki/extension/test/RepositoryUtil.java :\u000f [test] Various refactoring to make easier to use for integration tests - http://git.io/f5uZ-A  \n09:06\u00a0<jvdrean1>\u00a0has quit  \n09:25\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:40\u00a0<sburjan>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0mflorea: good morning. I'm eagerly waiting to be able to change this box in wikimatrix: http://www.evernote.com/shard/s119/sh/6a20cfa9-571e-4dce-a902-b12353cdf1db/f78c5934bbab32de17fc6d4a09312b92 ;)  \n09:46\u00a0<+mflorea>\u00a0me too! :) will work on it  \n09:46\u00a0<vmassol>\u00a0I didn't realize confluence and twiki had this, could be nice to check how good they do  \n09:47\u00a0<+mflorea>\u00a0indeed  \n09:50\u00a0<vmassol>\u00a0I've just reviewed http://www.wikimatrix.org/compare/TWiki+Confluence+XWiki and that's the only real difference I can see that xwiki is still missing (if their claim is true ofc ;))  \n09:51\u00a0<+tmortagne>\u00a0we can do pretty good already by reusing what we did for EM, need to pack some UI around editor  \n09:52\u00a0<+tmortagne>\u00a0but yes would need to test what in means in Confluence and TWiki  \n09:53\u00a0<vmassol>\u00a0sburjan: good morning, did you see the mail I sent about coverage and http://maven.xwiki.org/site/clover/20120701/clover-commons+rendering+platform+enterprise-20120702/ ?  \n09:53\u00a0<vmassol>\u00a0it clearly shows the parts that are not tested by autimated tests  \n09:55\u00a0<+sburjan>\u00a0vmassol: good morning. yes, I've read it yesterday  \n09:56\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:05\u00a0<gdelhumeau>\u00a0has quit  \n10:07\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:10\u00a0<ssavi>\u00a0has joined #xwiki  \n10:17\u00a0<ssavi>\u00a0tmortagne: Hi  \n10:17\u00a0<+tmortagne>\u00a0ssavi: Hi  \n10:18\u00a0<ssavi>\u00a0I was just wondering what is the language \u00a0for multilingual document  \n10:19\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:19\u00a0<+tmortagne>\u00a0ssavi: you mean th default language ?  \n10:20\u00a0<ssavi>\u00a0I mean for english it gives es. So similarly for multilingual document what is present for the language field  \n10:20\u00a0<+tmortagne>\u00a0es ?  \n10:20\u00a0<+tmortagne>\u00a0I don't understand  \n10:20\u00a0<ssavi>\u00a0sorry en\\*  \n10:20\u00a0<+tmortagne>\u00a0en is ISO code for english language  \n10:21\u00a0<ssavi>\u00a0yeah, i meant the default language for multilingual document  \n10:21\u00a0<+tmortagne>\u00a0ssavi: each document can define its own default language  \n10:21\u00a0<+tmortagne>\u00a0you get get it from the XWikiDocument  \n10:22\u00a0<+tmortagne>\u00a0getDefaultLanguage()  \n10:22\u00a0<+tmortagne>\u00a0that's the one you get when you don't specify the language in XWiki#getDocument()  \n10:23\u00a0<+tmortagne>\u00a0so there is no real answer to \"what is the default language\", can be pretty much anything in theory  \n10:31\u00a0<ssavi>\u00a0tmortagne: Am trying to figure out a way to find if a document is multilingual or not  \n10:31\u00a0<+tmortagne>\u00a0well at XwikiDocument leve you can ask for translations  \n10:31\u00a0<+tmortagne>\u00a0any document is potentially multilingual  \n10:32\u00a0<+tmortagne>\u00a0it's just that some only have one translation (yet)  \n10:33\u00a0<ssavi>\u00a0oh .k Thanks a lot :)  \n10:35\u00a0<+sburjan>\u00a0any news on 4.1.3 ?  \n10:35\u00a0<vmassol>\u00a0not yet  \n10:35\u00a0<vmassol>\u00a0we are still trying to solve the performance issue  \n10:35\u00a0<vmassol>\u00a0(for the migrations)  \n10:36\u00a0<+sburjan>\u00a0I see my blocker is still open  \n10:36\u00a0<vmassol>\u00a0we're making some progress though  \n10:36\u00a0<+sburjan>\u00a0who is working on this ?  \n10:36\u00a0<vmassol>\u00a0indeed someone needs to assign himself to the other blockers  \n10:36\u00a0<vmassol>\u00a0there's only 1  \n10:36\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-7988  \n10:37\u00a0<+sburjan>\u00a0seems so, yes  \n10:37\u00a0<vmassol>\u00a0who could work on this?  \n10:41\u00a0<vmassol>\u00a0re clover I'm surprised to see that there are so many methods not tested indirectly in the DAB  \n10:41\u00a0<vmassol>\u00a0(35% coverage only for the DAB)  \n10:42\u00a0<vmassol>\u00a0fun: DAB.getCurrentWiki() is called 1229935 times by our tests ;)  \n10:55\u00a0<+mflorea>\u00a0guys, lots of enterprise test modules are failing because XWiki is starting too slow. The part that take the most is:  \n10:55\u00a0<+mflorea>\u00a0INFO::NO JSP Support for /xwiki, did not find org.apache.jasper.servlet.JspServlet (~50s)  \n10:55\u00a0<+mflorea>\u00a0INFO::started o.e.j.w.WebAppContext{/xwiki,...} (~40s)  \n10:56\u00a0<+mflorea>\u00a0these two steps take normally at most 10s (locally for instance)  \n10:57\u00a0<vmassol>\u00a0indeed I've noticed that too locally yesterday  \n10:58\u00a0<vmassol>\u00a0(the timeout on start from time to time - the 120 seconds)  \n10:58\u00a0<vmassol>\u00a0BTW moving stuff as extensions is going to reduce start times  \n10:59\u00a0<vmassol>\u00a0I think what takes long is simply the loading of everything in WEB-INF/lib  \n10:59\u00a0<+mflorea>\u00a0for instance, with the latest XE 4.2 snapshot, those two steps just took 7s locally, so I don't know why it takes that much on CI  \n10:59\u00a0<vmassol>\u00a0maybe the machine is loaded?  \n11:00\u00a0<+mflorea>\u00a0I don't know. I checked only the disk space and free memory, and they are fine (on agent-4)  \n11:00\u00a0<+mflorea>\u00a0let me try top  \n11:02\u00a0<+mflorea>\u00a027283 hudsonag \u00a020 \u00a0\u00a00 2487m 1.1g \u00a019m S \u00a0126 \u00a04.5 \u00a030:41.32 java  \n11:02\u00a0<+mflorea>\u00a025552 hudsonag \u00a020 \u00a0\u00a00 1510m 368m 9.9m S \u00a0\u00a065 \u00a01.5 147:29.08 java  \n11:02\u00a0<+mflorea>\u00a0but agent-4 is currently building enterprise  \n11:03\u00a0<+mflorea>\u00a0126% CPU load  \n11:04\u00a0<+mflorea>\u00a0hmm, agent-6, which is displayed as idle, has ~100% CPU load  \n11:04\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r281b117\u000f https://github.com/xwiki/xwiki-commons/commit/281b11757ce7d71da61081e1f5eb60b8b40fa7f1 \u000f/ pom.xml :\u000f [Misc] Fixed CLIRR version and removed CLIRR excludes that should have been ...  \n11:04\u00a0<+mflorea>\u00a0agent-1 is fine, idle with 0% CPU load  \n11:05\u00a0<+mflorea>\u00a0so there is something wrong with some of the agents  \n11:05\u00a0<+mflorea>\u00a0some zombie processes maybe  \n11:09\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r214de16\u000f https://github.com/xwiki/xwiki-platform/commit/214de164f2a8aed55f269a7d4930dfc60c5330c8 \u000f/ xwiki-platform-core/pom.xml :\u000f [Misc] Fixed CLIRR version and removed CLIRR excludes that should have been ...  \n11:10\u00a0<evalica>\u00a0has joined #xwiki  \n11:12\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r61408cc\u000f https://github.com/xwiki/xwiki-platform/commit/61408cc915d967640f98a535a598ff56c81e9a26 \u000f/ (2 files):\u000f XWIKI-7999: Add page objects for extension import - http://git.io/AOFltA  \n11:13\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* rddf4d32\u000f https://github.com/xwiki/xwiki-enterprise/commit/ddf4d32dbd3046826c538f3e8907bb1c2e318b3c \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/src/test/it/org/xwiki/test/ui/AllTests.java :\u000f XE-1208: Add UI test for extension import in XR - http://git.io/m7Dm5w  \n11:13\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r2d34682\u000f https://github.com/xwiki/xwiki-enterprise/commit/2d3468299db32f68b30fa441b2799adf16761f27 \u000f/ (3 files in 2 dirs):\u000f XE-1208: Add UI test for extension import in XR - http://git.io/Vd5ksQ  \n11:13\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r6991c56\u000f https://github.com/xwiki/xwiki-enterprise/commit/6991c56a397a28b553d425e2e070e7225eb85322 \u000f/ (9 files in 6 dirs):\u000f XE-1208: Add UI test for extension import in XR - http://git.io/uxaSOw  \n11:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:32\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r9948d34\u000f https://github.com/xwiki/xwiki-platform/commit/9948d34bbded31c923d875503b485bf84981ec22 \u000f/ (11 files in 8 dirs):\u000f XWIKI-8000: Remove xwiki-platform-action module since it isn't used - http://git.io/lUzPCQ  \n11:54\u00a0<vmassol>\u00a0idea: would be cool to have a \"what's new\" page/popup that opens when each user goes to their wiki after an upgrade. We could put the Release notes as the content of this page/popu  \n11:55\u00a0<vmassol>\u00a0(same as what confluence, eclipse and a lot of others are doing)  \n12:31\u00a0<mflorea>\u00a0has quit  \n12:41\u00a0<vmassol>\u00a0interesting tweet by Simon: \"Build duration decreased from 7,5 to 5 minutes by replacing Derby by H2. Next step : remove GWT compilation (1 minute)\"  \n12:51\u00a0<vmassol>\u00a0tmortagne: just tried juno for fun, tried importing xwiki commons. It fails OOB unfortunately\u2026. I searched a bit and it's caused by https://github.com/sonatype/m2eclipse-extras/issues/10 fyi  \n13:03\u00a0<CIA-114>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r8553bc8\u000f https://github.com/xwiki/xwiki-platform/commit/8553bc82def2c964a85f818f8b2f55df2b3370be \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/uicomponents/widgets/notification.js :\u000f XWIKI-7998: Notification messages are displayed at the bottom of the page instead of bottom of the screen - http://git.io/myhKgg  \n13:39\u00a0<mflorea>\u00a0has joined #xwiki  \n13:52\u00a0<vmassol>\u00a0has quit  \n13:57\u00a0<vmassol>\u00a0has joined #xwiki  \n14:35\u00a0<ssavi>\u00a0has quit  \n14:39\u00a0<vmassol>\u00a0I'm wondering if we should use -Prelease profile on ci.xwiki.org  \n14:40\u00a0<vmassol>\u00a0to have something as close as possible to the release  \n14:40\u00a0<vmassol>\u00a0it would take a bit longer though since it would mean generating source and javadoc jars  \n14:41\u00a0<vmassol>\u00a0(and sign artifacts)  \n15:01\u00a0<+tmortagne>\u00a0vmassol: we could  \n15:02\u00a0<+tmortagne>\u00a0deploying the source would also be nice for developers working with snapshots you automatically get the source of any jar  \n15:06\u00a0<+tmortagne>\u00a0vmassol: import fail on which project ? works well for me on all commons projects i'm working on  \n15:48\u00a0<gdelhumeau>\u00a0has quit  \n15:52\u00a0<cjd>\u00a0has quit  \n15:53\u00a0<cjd>\u00a0has joined #xwiki  \n15:55\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:07\u00a0<tmortagne>\u00a0has quit  \n16:09\u00a0<vmassol>\u00a0interesting: http://wiki.apache.org/jackrabbit/Jackrabbit%203%20Strategic%20Plan  \n16:10\u00a0<vmassol>\u00a0http://wiki.apache.org/jackrabbit/Goals%20and%20non%20goals%20for%20Jackrabbit%203  \n16:10\u00a0<vmassol>\u00a0http://jackrabbit.apache.org/oak/  \n16:25\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r77fc531\u000f https://github.com/xwiki/xwiki-commons/commit/77fc53173a602759ee37775889102982a9040b91 \u000f/ xwiki-commons-pom/pom.xml :\u000f [Misc] Only check license headers in src/ and pom.xml - http://git.io/X6\\_llw  \n16:27\u00a0<polx>\u00a0has joined #xwiki  \n16:34\u00a0<sburjan>\u00a0has quit  \n16:49\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:34\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* ra1807b4\u000f https://github.com/xwiki/xwiki-rendering/commit/a1807b4b909ea4fb3f60c22018ad1aabb99a9d79 \u000f/ pom.xml :\u000f XRENDERING-217: Don't build XWiki Rendering Standalone module by default - http://git.io/UlEO\\_Q  \n17:42\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r9758085\u000f https://github.com/xwiki/xwiki-enterprise/commit/9758085ba1573f010e42febf2169e2ecf8bf4fe7 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/src/test/it/org/xwiki/test/ui/AllTests.java :\u000f XE-1208: Add UI test for extension import in XR - http://git.io/0wRBcg  \n17:42\u00a0<CIA-114>\u00a0tmortagne\u000f feature-extensiondistribution\u000f \\* r59b4bfe\u000f https://github.com/xwiki/xwiki-enterprise/commit/59b4bfe9793474c1cd4c9f7988e8ba5d03015da1 \u000f/ (129 files in 46 dirs):\u000f Merge branch 'master' into feature-extensiondistribution (+36 more commits...) - http://git.io/7RijIw  \n17:55\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r802d80c\u000f https://github.com/xwiki/xwiki-enterprise/commit/802d80cd459fb2b5e547511b8c5bc47ddaa2956a \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/src/test/it/org/xwiki/test/ui/AllTests.java :\u000f XE-1208: Add UI test for extension import in XR - http://git.io/bDItXQ  \n18:00\u00a0<sburjan`>\u00a0has quit  \n18:00\u00a0<sburjan`>\u00a0has joined #xwiki  \n18:01\u00a0<polx>\u00a0has quit  \n18:13\u00a0<polx>\u00a0has joined #xwiki  \n18:22\u00a0<polx>\u00a0has quit  \n18:30\u00a0<polx>\u00a0has joined #xwiki  \n18:40\u00a0<@cjd>\u00a0Hi vmassol, sorry I wasn't around this morning, what's on your mind?  \n18:41\u00a0<vmassol>\u00a0cjd: hi. hmm\u2026 trying to recall  \n18:41\u00a0<vmassol>\u00a0I think it was about CLIRR not being updated in the release process  \n18:41\u00a0<@cjd>\u00a0hmm, I was thinking it would be nice to automate it.  \n18:42\u00a0<vmassol>\u00a0I think it's hard  \n18:42\u00a0<vmassol>\u00a0well just updating the version against which to check is easy  \n18:42\u00a0<@cjd>\u00a0re the ~/.m2/repository/ issue, it would be really nice to remove that after each build and just colocate a nexus instance on the machine where the builder vms are running  \n18:43\u00a0<vmassol>\u00a0this is handled by jenkins  \n18:43\u00a0<vmassol>\u00a0it has a param to clean the repo regularly  \n18:43\u00a0<@cjd>\u00a0I just got an instance running on a vm on my desktop, makes building a lot nicer  \n18:46\u00a0<vmassol>\u00a0https://wiki.jenkins-ci.org/display/JENKINS/Maven+Repo+Cleaner+Plugin  \n18:46\u00a0<vmassol>\u00a0btw nice, jenkins report usage grpah now :)  \n18:46\u00a0<vmassol>\u00a0I really need to implement this for xwiki  \n18:46\u00a0<@cjd>\u00a0for our extensions?  \n18:46\u00a0<vmassol>\u00a0for XE  \n18:46\u00a0<@cjd>\u00a0ahh I see  \n18:47\u00a0<vmassol>\u00a0we voted it already  \n18:47\u00a0<vmassol>\u00a0here: http://xwiki.markmail.org/thread/gowutjcrfr62mq6t  \n18:49\u00a0<ssavi>\u00a0has joined #xwiki  \n18:55\u00a0<vmassol>\u00a0cjd: my strategy is to remove this: https://wiki.jenkins-ci.org/display/JENKINS/Plugin+Installation+Statistics ;)  \n19:05\u00a0<gdelhumeau>\u00a0has quit  \n19:08\u00a0<jvdrean>\u00a0has quit  \n19:11\u00a0<ssavi>\u00a0has left #xwiki  \n19:13\u00a0<mflorea>\u00a0has quit  \n19:33\u00a0<tmortagne>\u00a0has quit  \n20:21\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* rd26053b\u000f https://github.com/xwiki/xwiki-platform/commit/d26053bc38611ba7031828d3ab4b0f0e0b5f1d91 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/internal/model/reference/CompactStringEntityReferenceSerializer.java :\u000f [Misc] Fixing javadoc - http://git.io/c8In-A  \n20:47\u00a0<polx>\u00a0has quit  \n20:48\u00a0<polx>\u00a0has joined #xwiki  \n20:49\u00a0<polx\\_>\u00a0has joined #xwiki  \n20:49\u00a0<polx>\u00a0has quit  \n20:49\u00a0<polx\\_>\u00a0is now known as <polx>  \n21:04\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r0725fa4\u000f https://github.com/xwiki/xwiki-platform/commit/0725fa4b6b93f5b8576b071cd13a74ff226aac0c \u000f/ xwiki-platform-core/xwiki-platform-model/src/main/java/org/xwiki/model/internal/scripting/ModelScriptService.java :\u000f XWIKI-8001: ModelScriptService does not have a method to serialize with parameters - http://git.io/OdDPMQ  \n21:43\u00a0<vmassol>\u00a0has quit  \n22:01\u00a0<pgmjsd>\u00a0has quit  \n22:15\u00a0<abusenius>\u00a0has joined #xwiki  \n22:20\u00a0<evalica>\u00a0has quit  \n22:56\u00a0<vmassol>\u00a0has joined #xwiki  \n23:03\u00a0<vmassol>\u00a0has quit  \n23:03\u00a0<jvdrean>\u00a0has joined #xwiki  \n23:17\u00a0<CIA-114>\u00a0Denis Gervalle\u000f master\u000f \\* r662163a\u000f https://github.com/xwiki/xwiki-platform/commit/662163a5bd7f5d21085e41aa9b530df86f87870e \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/migration/hibernate/R40000XWIKI6990DataMigration.java :\u000f XWIKI-7992: Improve performance of R40000XWIKI6990 for migrating large wikis and wiki farm - http://git.io/kkm2pw  \n23:19\u00a0<CIA-114>\u00a0Denis Gervalle\u000f stable-4.1.x\u000f \\* r6f7a5d0\u000f https://github.com/xwiki/xwiki-platform/commit/6f7a5d05cf9cea209c5bc708cfae3eab1b710bf3 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/migration/hibernate/R40000XWIKI6990DataMigration.java :\u000f XWIKI-7992: Improve performance of R40000XWIKI6990 for migrating large wikis and wiki farm - http://git.io/1jyUpw  \n23:43\u00a0<abusenius>\u00a0has quit  \n23:56\u00a0<Enygma`>\u00a0has quit  \n\n"}