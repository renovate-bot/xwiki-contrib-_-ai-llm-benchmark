{"id": "dev:IRC.xwikiArchive20111130", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111130", "title": "IRC Archive for channel #xwiki on 30 November 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:07\u00a0<Enygma`>\u00a0has quit  \n01:08\u00a0<mflorea>\u00a0has quit  \n02:07\u00a0<tekzilla>\u00a0has quit  \n02:09\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:11\u00a0<DrLou>\u00a0has quit  \n06:00\u00a0<Denis1>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n08:20\u00a0<vmassol>\u00a0has joined #xwiki  \n08:37\u00a0<mflorea>\u00a0has joined #xwiki  \n08:46\u00a0<CIA-102>\u00a0tmortagne\u000f feature-improvecm\u000f \\* r7e80cb8\u000f \u000f/ xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-default/src/main/java/org/xwiki/component/embed/EmbeddableComponentManager.java :\u000f XCOMMONS-63: Optimize EmbeddableComponentManager ...  \n09:16\u00a0<CIA-102>\u00a0tmortagne\u000f feature-improvecm\u000f \\* r52a37f6\u000f \u000f/ xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-default/src/main/java/org/xwiki/component/embed/EmbeddableComponentManager.java :\u000f XCOMMONS-63: Optimize EmbeddableComponentManager ...  \n09:16\u00a0<sburjan>\u00a0has joined #xwiki  \n09:18\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:19\u00a0<+sburjan>\u00a0good morning  \n09:20\u00a0<@sdumitriu>\u00a0Good  \n09:21\u00a0<+sburjan>\u00a0:)  \n10:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:22\u00a0<sdumitriu>\u00a0has quit  \n11:29\u00a0<evalica>\u00a0has joined #xwiki  \n11:46\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r49268d6\u000f \u000f/ (4 files):\u000f XWIKI-7190: Create the AppWithinMinutes wizard ...  \n11:48\u00a0<vmassol>\u00a0tmortagne: or make descriptors immutable  \n11:48\u00a0<vmassol>\u00a0(but it's a breaking change I agree)  \n11:51\u00a0<evalica1>\u00a0has joined #xwiki  \n11:52\u00a0<+tmortagne>\u00a0vmassol: would be too much of a pain for retro compatibility  \n11:52\u00a0<+tmortagne>\u00a0safer that way  \n11:53\u00a0<+sburjan>\u00a0vmassol: replied to your e-mail on devlist. did you got my mail ?  \n11:57\u00a0<evalica>\u00a0is now known as <evalica2>  \n11:57\u00a0<evalica1>\u00a0is now known as <evalica>  \n11:58\u00a0<evalica2>\u00a0has left #xwiki  \n12:10\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:58\u00a0<CIA-102>\u00a0tmortagne\u000f feature-improvecm\u000f \\* rc66fec7\u000f \u000f/ (5 files in 3 dirs):\u000f XCOMMONS-66: It's possible to modify the descriptor outside of CM after ...  \n13:07\u00a0<mflorea>\u00a0has quit  \n13:17\u00a0<CIA-102>\u00a0tmortagne\u000f feature-improvecm\u000f \\* r3c6e1ed\u000f \u000f/ (3 files):\u000f Add missing @since - http://git.io/fQCnpw  \n14:09\u00a0<+sburjan>\u00a0XEM performance is bad when creating subwiki/workspace  \n14:10\u00a0<DrLou>\u00a0has joined #xwiki  \n14:11\u00a0<+tmortagne>\u00a0sburjan: what's slow IMO is the import of the documents  \n14:12\u00a0<+sburjan>\u00a0yepp.. the stuff with the translations is really slowing it down. but how come we have that, we didn't have this in the older XEM  \n14:18\u00a0<mflorea>\u00a0has joined #xwiki  \n14:42\u00a0<+sburjan>\u00a0Enygma`: When inviting a user to join a workspace, what should I expect ? and e-mail to the users's address ?  \n14:44\u00a0<+sburjan>\u00a0I see my invite message in the AS of the users.. but should I also get an e-mail ?  \n15:12\u00a0<+Enygma`>\u00a0sburjan: messagestream is used to send an internal message to the XWiki user  \n15:12\u00a0<+Enygma`>\u00a0the message should show up in the destination user's activity stream (current implementation)  \n15:13\u00a0<+Enygma`>\u00a0but there is a bug that prevents proper functionality of the messagestream in a multiwiki environment  \n15:13\u00a0<+Enygma`>\u00a0XWIKI-6668  \n15:13\u00a0<+sburjan>\u00a0I've reported another one  \n15:13\u00a0<+sburjan>\u00a0XWIKI-7209  \n15:14\u00a0<+sburjan>\u00a0I have 2 more questions:  \n15:14\u00a0<+sburjan>\u00a01. After inviting a user, I get a queue/history of all sent invitations, but I get have a field called \"PRIVATE COMMENT:\" ... what is this field ?  \n15:15\u00a0<+sburjan>\u00a02. is there a way to clear this history of sent invitations ?  \n15:16\u00a0<+Enygma`>\u00a01. that's supposed to be a comment related to the approval/denial of a request that is to be seen only on the Invite page by other admins so that they might know the reason why the user got accepted or rejected.  \n15:16\u00a0<+Enygma`>\u00a0maybe a better name can be found  \n15:17\u00a0<+sburjan>\u00a0well .. me, as a user if I comment something before accepting the invitation and joining, that text does not appear there  \n15:18\u00a0<+sburjan>\u00a0the comment does appear in the history, but not under that field  \n15:21\u00a0<+Enygma`>\u00a02. no UI at the moment. You can manually clean it by going to <workspace>:XWiki.XWikiAllGroup and removing XWiki.WorkspaceCandidateMemberClass objects  \n15:25\u00a0<+Enygma`>\u00a0the user's reply shows up after his name  \n15:26\u00a0<+Enygma`>\u00a0as I just said, the field you asked about is an internal field, editable only by an admin and viewable only by other admins  \n15:26\u00a0<+Enygma`>\u00a0(on the WorkspaceUsers page)  \n15:26\u00a0<+sburjan>\u00a0ok  \n15:26\u00a0<+Enygma`>\u00a0though maybe it`s not such a great idea since the XWiki.WorkspaceCandidateMemberClass objects are stored on the group's page  \n15:26\u00a0<+sburjan>\u00a0I am not familiar with specs, so I have to ask  \n15:27\u00a0<+Enygma`>\u00a0and a user could be able to get the objects and see their value (maybe, have to check)  \n15:27\u00a0<+Enygma`>\u00a0of course, sburjan  \n15:28\u00a0<+Enygma`>\u00a0I`m interested in any kind of feedback :)  \n15:28\u00a0<+Enygma`>\u00a0since there was not a lot until now  \n15:32\u00a0<+sburjan>\u00a0I have reported some bugs :)  \n15:43\u00a0<+Enygma`>\u00a0keep them coming :)  \n15:54\u00a0<CIA-102>\u00a0Eduard Moraru\u000f master\u000f \\* r35c26e4\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.cfg.vm :\u000f XWIKI-7205 : Make xwiki.virtual.usepath configurable with maven. ...  \n16:38\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* ra3ceb30\u000f \u000f/ (6 files in 4 dirs):\u000f XWIKI-7211: Infinispan cache implementation does not return the right ...  \n16:42\u00a0<+tmortagne>\u00a0Enygma`: commented back on your first commit about xwiki.virtual.usepath  \n16:43\u00a0<+Enygma`>\u00a0reading :)  \n16:43\u00a0<vmassol>\u00a0Enygma`: the rule is that xwiki.properties is optional and thus by default it shouldn't contain any default values  \n16:43\u00a0<+tmortagne>\u00a0note that the general idea is that XWiki is \u00a0supposed to work with en empty configuration file as much as possible to making sure a proprty is nover commented is not the right direction  \n16:44\u00a0<+tmortagne>\u00a0s/to/so/  \n16:44\u00a0<+Enygma`>\u00a0so you preffer $xwiki.xWiki.Param('xwiki.virtual.usepath') ?  \n16:44\u00a0<+Enygma`>\u00a0which returns null ?  \n16:44\u00a0<+tmortagne>\u00a0yes  \n16:44\u00a0<+tmortagne>\u00a0I don't see why not  \n16:44\u00a0<+Enygma`>\u00a0and how would you find the default value for that?  \n16:45\u00a0<+tmortagne>\u00a0otherwise it mean there is no dedfault  \n16:45\u00a0<+tmortagne>\u00a0the code is supposed to know the default  \n16:45\u00a0<+tmortagne>\u00a0by definition it's not the configuration job to indicate the default, does not make any sense...  \n16:46\u00a0<+tmortagne>\u00a0and I don't see why we even have this discution since the code perfectly support the commented property since forever  \n16:46\u00a0<+tmortagne>\u00a0I don't see why it should change  \n16:48\u00a0<+Enygma`>\u00a0I see  \n16:48\u00a0<+Enygma`>\u00a0so the idea is to have the documentation next to you if you want the value of a configuration parameter  \n16:50\u00a0<+tmortagne>\u00a0Enygma`: you are not supposed to directly access the configuration file, where several place need to access a property with default support there are supposed to use a common API which take care of that  \n16:51\u00a0<+tmortagne>\u00a0I would add that calling $xwiki.xWiki.Param('xwiki.virtual.usepath') is very bad  \n16:51\u00a0<+tmortagne>\u00a0this is a very wrong reason ro require PR  \n16:51\u00a0<+tmortagne>\u00a0we already require too much PR, we should not add requirement when it's not even needed  \n16:52\u00a0<+tmortagne>\u00a0velocity should never directly access the conf ans always use an API  \n16:52\u00a0<vmassol>\u00a0indeed  \n16:52\u00a0<+Enygma`>\u00a0so you need to have a component that offers an API  \n16:52\u00a0<vmassol>\u00a0yes  \n16:53\u00a0<vmassol>\u00a0always  \n16:53\u00a0<vmassol>\u00a0that's our practice since we intoduced the configuration component  \n16:54\u00a0<vmassol>\u00a0in order to have strongly typed apis and so that other modules wanting to get access to config data of other modules don't need to know the impl details  \n16:55\u00a0<+tmortagne>\u00a0yes you need to provide an API, do it the way you want but require PR for something that absolutely does not need PR is very bad. This seems pretty obvious to me, it's not like you were doing on some external extension you are adding velocity code which is synchronized with the version of platform so you add whatever API you need.  \n16:55\u00a0<+Enygma`>\u00a0I just stumbled upon the problem when I wanted to know what was the value of xwiki.virtual.usepath on a wiki and no API was availalbe. So I had to use $xwiki.xWiki.Param  \n16:55\u00a0<+Enygma`>\u00a0but that was just for testing  \n16:56\u00a0<+Enygma`>\u00a0I am not using it in my code  \n16:57\u00a0<+tmortagne>\u00a0so if you don't need it there is no issue then  \n16:57\u00a0<+Enygma`>\u00a0agree  \n16:57\u00a0<+Enygma`>\u00a0I just did not know the policy on accessing configuration parameters  \n17:13\u00a0<sburjan>\u00a0has quit  \n17:14\u00a0<CIA-102>\u00a0Eduard Moraru\u000f master\u000f \\* r68036a2\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.cfg.vm :\u000f XWIKI-7205 : Make xwiki.virtual.usepath configurable with maven. ...  \n17:19\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r69f3570\u000f \u000f/ xwiki-rendering-api/src/main/java/org/xwiki/rendering/block/AbstractBlock.java :\u000f XRENDERING-161: A totally empty block takes way too much memory - http://git.io/sVbPSg  \n18:12\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:18\u00a0<+sburjan`>\u00a0vmassol: did you found he momory leak ?  \n18:19\u00a0<+tmortagne>\u00a0sburjan`: found some stuff but can't figure out what is the real issue yet  \n18:19\u00a0<+sburjan`>\u00a0I am curious too  \n18:20\u00a0<+tmortagne>\u00a0I committed several improvements but theses don't seems to be the main issue even if it will be cool for future  \n18:25\u00a0<+sburjan`>\u00a0cool  \n18:26\u00a0<+sburjan`>\u00a0so what is the blocker to put 3.3 on xwiki.org ?  \n18:29\u00a0<CIA-102>\u00a0Eduard Moraru\u000f master\u000f \\* r1e2d044\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-template-features/src/main/resources/XWiki/WorkspaceUsers.xml :\u000f XWIKI-7209 : Stacktrace when inviting a user to join a Workspace ...  \n19:07\u00a0<tmortagne>\u00a0has quit  \n19:30\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rcd445d1\u000f \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/CreateApplication.xml :\u000f XWIKI-7190: Create the AppWithinMinutes wizard ...  \n19:34\u00a0<mflorea>\u00a0has quit  \n19:46\u00a0<abusenius>\u00a0has joined #xwiki  \n20:16\u00a0<@sdumitriu>\u00a0Who broke the platform?  \n20:16\u00a0<@sdumitriu>\u00a0http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-observation-remote/1113/testReport/org.xwiki.observation.remote/TCPROMTest/testSerializableEvent/  \n20:20\u00a0<+Enygma`>\u00a0platform build Build #1113 seems triggered by marius's commit  \n20:21\u00a0<@sdumitriu>\u00a0But he didn't touch that  \n20:21\u00a0<+Enygma`>\u00a0yep  \n20:21\u00a0<+Enygma`>\u00a0flickering?  \n20:21\u00a0<@sdumitriu>\u00a0I'll rebuild  \n20:22\u00a0<+Enygma`>\u00a0there's also the flickering build breaker from the wysiwyg war which is quite annoying.  \n20:23\u00a0<+Enygma`>\u00a0do we have any idea on how to fix that?  \n20:23\u00a0<+Enygma`>\u00a0http://ci.xwiki.org/job/xwiki-platform/1112/console  \n20:24\u00a0<+Enygma`>\u00a0that eats 30 minutes of build time quite often  \n20:25\u00a0<@sdumitriu>\u00a0No idea  \n20:54\u00a0<CIA-102>\u00a0Eduard Moraru\u000f master\u000f \\* rd88367b\u000f \u000f/ xwiki-enterprise-ui/src/main/resources/Main/Activity.xml :\u000f XE-1053 : Activity macro throwing exceptions in the console for message events when logged in as a non-admin user - http://git.io/ZxrjRQ  \n21:52\u00a0<evalica>\u00a0has quit  \n\n"}