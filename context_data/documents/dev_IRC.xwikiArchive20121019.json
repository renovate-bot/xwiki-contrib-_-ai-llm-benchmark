{"id": "dev:IRC.xwikiArchive20121019", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121019", "title": "IRC Archive for channel #xwiki on 19 October 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<rrodriguez\\_>\u00a0has quit  \n00:03\u00a0<jvdrean>\u00a0has left #xwiki  \n00:10\u00a0<mflorea>\u00a0has quit  \n00:11\u00a0<mflorea>\u00a0has joined #xwiki  \n00:37\u00a0<mflorea>\u00a0has quit  \n00:40\u00a0<rrodriguez>\u00a0has joined #xwiki  \n00:54\u00a0<rrodriguez>\u00a0has quit  \n00:58\u00a0<rrodriguez>\u00a0has joined #xwiki  \n02:10\u00a0<Enygma`>\u00a0has quit  \n02:55\u00a0<sburjan`>\u00a0has quit  \n02:55\u00a0<sburjan`>\u00a0has joined #xwiki  \n05:07\u00a0<tekzilla>\u00a0has quit  \n05:11\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:10\u00a0<sdumitriu>\u00a0has quit  \n06:43\u00a0<mflorea>\u00a0has joined #xwiki  \n07:02\u00a0<Denis1>\u00a0has joined #xwiki  \n07:02\u00a0<Denis>\u00a0has quit  \n08:06\u00a0<mflorea>\u00a0has quit  \n08:10\u00a0<vmassol>\u00a0has joined #xwiki  \n08:11\u00a0<coud5>\u00a0has joined #xwiki  \n08:12\u00a0<vmassol>\u00a0has quit  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:24\u00a0<rrodriguez>\u00a0has quit  \n08:24\u00a0<rrodriguez>\u00a0has joined #xwiki  \n08:28\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:32\u00a0<mflorea>\u00a0has joined #xwiki  \n08:36\u00a0<rrodriguez>\u00a0has quit  \n08:36\u00a0<vmassol>\u00a0good morning  \n08:37\u00a0<vmassol>\u00a0I've broken an ircbot test yesterday, fixing  \n09:05\u00a0<tmortagne>\u00a0has left #xwiki  \n09:20\u00a0<vmassol>\u00a0!news  \n09:23\u00a0<cjd>\u00a0has quit  \n09:24\u00a0<mrvanes>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0has quit  \n09:48\u00a0<fmancinelli>\u00a0has joined #xwiki  \n09:48\u00a0<vmassol>\u00a0has joined #xwiki  \n09:57\u00a0<cjd>\u00a0has joined #xwiki  \n10:00\u00a0<vmassol>\u00a0hmm it should have been excluded....  \n10:01\u00a0<Slashman>\u00a0has joined #xwiki  \n10:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:03\u00a0<sburjan>\u00a0has joined #xwiki  \n10:28\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:43\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:01\u00a0<vmassol>\u00a0guys we need a RM for 4.3M1 which is planned for monday, which means btw that we need to stabilize today  \n11:06\u00a0<tmortagne>\u00a0has quit  \n11:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:22\u00a0<fmancinelli>\u00a0vmassol, I will merge the REST pull request today afternoon and I volunteer to be the RM for 4.3M1 on monday (there must be a first time at some point! :))  \n11:31\u00a0<vmassol>\u00a0fmancinelli: great! thanks. I can help/guide you. The first step is to ensure everything is ready today for Monday as otherwise you can be sure it won't be on Monday ;)  \n11:33\u00a0<vmassol>\u00a0guys fyi I've just added the release manager name in the release plans :)  \n11:33\u00a0<vmassol>\u00a0see http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/WebHome  \n11:34\u00a0<fmancinelli>\u00a0has quit  \n11:38\u00a0<fmancinelli>\u00a0has joined #xwiki  \n11:40\u00a0<fmancinelli>\u00a0vmassol, Ooops I have completely forgot that on monday I have an engagement so I can't be RM :( \u00a0(I might do it on tuesday though) Sorry for the noise  \n11:44\u00a0<fmancinelli>\u00a0has quit  \n11:51\u00a0<vmassol>\u00a0devs, anyone know know if \u00a0we have a problem in multiwiki and accessing a subwiki as the first request in mysql, ie same issue as what I'm seeing for hsqldb: XWIKI-1740 ?  \n11:52\u00a0<vmassol>\u00a0(see last comment in this issue)  \n11:52\u00a0<vmassol>\u00a0I don't have a local XEM setup with mysql to test  \n11:55\u00a0<tmortagne>\u00a0vmassol: I don't remember this issue  \n11:56\u00a0<tmortagne>\u00a0or that would be a very recent one  \n11:59\u00a0<vmassol>\u00a0ok  \n12:24\u00a0<tmortagne>\u00a0has left #xwiki  \n12:27\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:29\u00a0<mflorea>\u00a0has quit  \n12:30\u00a0<tmortagne>\u00a0has quit  \n12:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:32\u00a0<sburjan>\u00a0did we changed our fonts on xwiki.org ?  \n12:32\u00a0<sburjan>\u00a0it looks nicer now  \n12:35\u00a0<vmassol>\u00a0has quit  \n12:45\u00a0<sburjan>\u00a0has quit  \n12:50\u00a0<coud5>\u00a0has quit  \n12:50\u00a0<sburjan>\u00a0has joined #xwiki  \n12:52\u00a0<sburjan>\u00a0has quit  \n12:56\u00a0<sburjan>\u00a0has joined #xwiki  \n12:57\u00a0<vmassol>\u00a0has joined #xwiki  \n13:00\u00a0<eshan>\u00a0has quit  \n13:18\u00a0<vmassol>\u00a0anyone here with knowlegde about user authentication in xwiki?  \n13:20\u00a0<vmassol>\u00a0AndreasJonsson/Denis1: maybe you could help me with this since you rewrote the new rights module  \n13:20\u00a0<vmassol>\u00a0my question is:  \n13:21\u00a0<vmassol>\u00a0if my first request in the system is for subwiki \"test\", is it normal that in the servlet session we save as authenticated user: test:XWiki.Admin (I have a cookie for user XWiki.Admin)?  \n13:27\u00a0<sburjan>\u00a0has quit  \n13:43\u00a0<coud5>\u00a0has joined #xwiki  \n13:47\u00a0<coud5>\u00a0has quit  \n13:48\u00a0<tmortagne>\u00a0vmassol: not sure what is wrong ? isn't test:XWiki.Admin the user with which you are logged in ?  \n13:49\u00a0<vmassol>\u00a0well I don't have a test:XWiki.Admin user  \n13:49\u00a0<vmassol>\u00a0well I have one actually  \n13:49\u00a0<vmassol>\u00a0but I've always logged with xwiki:XWiki.Adlin  \n13:49\u00a0<vmassol>\u00a0\\*Admin  \n13:49\u00a0<coud5>\u00a0has joined #xwiki  \n13:49\u00a0<tmortagne>\u00a0you mean you put \"xwiki:XWiki.Admin\" as login ?  \n13:50\u00a0<vmassol>\u00a0no  \n13:50\u00a0<vmassol>\u00a0so you're saying that  \n13:50\u00a0<tmortagne>\u00a0they have different password then ?  \n13:50\u00a0<vmassol>\u00a0nope  \n13:50\u00a0<tmortagne>\u00a0well so I don't see how you can log to xwiki:XWiki.Admin from test wiki  \n13:50\u00a0<vmassol>\u00a0ok let me explain  \n13:51\u00a0<vmassol>\u00a0I had only 1 wiki  \n13:51\u00a0<vmassol>\u00a0I logged onto it  \n13:51\u00a0<vmassol>\u00a0I guess it created some cookie for it  \n13:51\u00a0<vmassol>\u00a0then I created a subwiki  \n13:51\u00a0<vmassol>\u00a0I stop my wiki and restart it  \n13:51\u00a0<vmassol>\u00a0then first request is to the test subwiki  \n13:51\u00a0<tmortagne>\u00a0the cookie save the login, not the full user reference AFAIK  \n13:51\u00a0<vmassol>\u00a0yes and that's one issue IMO  \n13:51\u00a0<Denis1>\u00a0is now known as <Denis>  \n13:51\u00a0<vmassol>\u00a0so  \n13:52\u00a0<vmassol>\u00a0imagine that this is what we want  \n13:52\u00a0<vmassol>\u00a0so it's normal that if I go to the test subwiki as the frist request  \n13:52\u00a0<vmassol>\u00a0then going to the main wiki shows me a permission error  \n13:52\u00a0<vmassol>\u00a0it should also happen on mysql  \n13:52\u00a0<Denis>\u00a0vmassol: good question !  \n13:53\u00a0<mflorea>\u00a0has joined #xwiki  \n13:54\u00a0<vmassol>\u00a0in practice it's breaking more things, like the skin but for the same reason I guess  \n13:54\u00a0<Denis>\u00a0with older version of xwiki, I had already noticed curious behavior on the first request, like no access to the skin, and so on  \n13:54\u00a0<Denis>\u00a0:)  \n13:54\u00a0<sburjan>\u00a0has joined #xwiki  \n13:55\u00a0<Denis>\u00a0I had that since 1.8 or 1.9, as far as I can remember !  \n13:55\u00a0<vmassol>\u00a0so to solve this all we would need would be to save the full user ref in the cookie right?  \n13:56\u00a0<Denis>\u00a0it only happen on the first request, there should be something else, no ?  \n13:56\u00a0<vmassol>\u00a0wdym?  \n13:56\u00a0<vmassol>\u00a0for me it's permanent  \n13:56\u00a0<tmortagne>\u00a0vmassol: it's not that simple actually  \n13:57\u00a0<tmortagne>\u00a0the login and user reference are two very different things  \n13:57\u00a0<vmassol>\u00a0what is the login tmortagne?  \n13:57\u00a0<vmassol>\u00a0it's supposed to contain the user ref no?  \n13:57\u00a0<tmortagne>\u00a0no  \n13:57\u00a0<tmortagne>\u00a0it's a cohincidence when it does or it's true for some auth  \n13:57\u00a0<tmortagne>\u00a0but it's not always true  \n13:58\u00a0<vmassol>\u00a0I can put \"xwiki:XWiki.Admin\" in i  \n13:58\u00a0<vmassol>\u00a0\\*it  \n13:58\u00a0<tmortagne>\u00a0an authenticator can link a login to any user profile  \n13:58\u00a0<vmassol>\u00a0that looks strongly like a user ref  \n13:58\u00a0<vmassol>\u00a0ok  \n13:58\u00a0<vmassol>\u00a0I see  \n13:58\u00a0<vmassol>\u00a0so  \n13:58\u00a0<vmassol>\u00a0we would need another cookie for the name of the wiki where the user has logged in  \n13:59\u00a0<vmassol>\u00a0arf  \n13:59\u00a0<Denis>\u00a0whaou  \n13:59\u00a0<vmassol>\u00a0(I have this little antispam protection with the \"and 143 more lines)  \n13:59\u00a0<vmassol>\u00a0;)  \n14:00\u00a0<Denis>\u00a0very useful indeed  \n14:00\u00a0<vmassol>\u00a0but it doesn't \u00a0really help now to explain the error as a consequence ;)  \n14:00\u00a0<vmassol>\u00a0tmortagne: \"we would need another cookie for the name of the wiki where the user has logged in\" would be a good way?  \n14:01\u00a0<vmassol>\u00a0since we need to associate login to a wiki  \n14:01\u00a0<tmortagne>\u00a0vmassol: the wiki from where to call the auth could make sense yes  \n14:05\u00a0<Denis>\u00a0vmassol: mmm, there could be some side effect on existing usage, if all you said is true. A user registered on different wiki of the same farm with the same password get the same cookie from any of them, no ?  \n14:06\u00a0<vmassol>\u00a0maybe yes  \n14:06\u00a0<Denis>\u00a0and is therefore logged in all of them  \n14:07\u00a0<vmassol>\u00a0not at the same time but on the first one he requests yes  \n14:07\u00a0<vmassol>\u00a0(during a session - which lasts 30 mn by default)  \n14:07\u00a0<Denis>\u00a0in all of them one at a time, the one he request  \n14:07\u00a0<vmassol>\u00a0(30mn of inactivity)  \n14:07\u00a0<Denis>\u00a0during more if it use the remember me  \n14:07\u00a0<vmassol>\u00a0right  \n14:08\u00a0<Denis>\u00a0and if you associate a wiki, a user will even be unable to log to different wiki of the same farm  \n14:08\u00a0<Denis>\u00a0(unless login to the global wiki)  \n14:08\u00a0<vmassol>\u00a0no  \n14:08\u00a0<vmassol>\u00a0because  \n14:09\u00a0<vmassol>\u00a0it depends on rights  \n14:09\u00a0<vmassol>\u00a0if you allow global users to log on your subwiki it would work  \n14:09\u00a0<vmassol>\u00a0(if you're logged on the main wiki)  \n14:09\u00a0<Denis>\u00a0sure but between subwiki, it wont work anymore  \n14:09\u00a0<vmassol>\u00a0which is correct behavior IMO  \n14:09\u00a0<vmassol>\u00a0well  \n14:09\u00a0<vmassol>\u00a0we would need several cookies  \n14:10\u00a0<vmassol>\u00a0so that we can have more than 1  \n14:10\u00a0<Denis>\u00a0exactly  \n14:11\u00a0<Denis>\u00a0note also that if different wiki use the same authenticator, this will cause the same login to be entered multiple times, while it is not true now  \n14:12\u00a0<Denis>\u00a0so, there is a \"hidden\" feature in the way it works now, you may said it is not a correct behavior, it is a feature that could have been exploited by some users  \n14:13\u00a0<vmassol>\u00a0I'll create an issue since I odn't know if we have one already  \n14:14\u00a0<vmassol>\u00a0Denis: if you have a XEM with Mysql I'd love if you could do this:  \n14:14\u00a0<vmassol>\u00a0- stop it  \n14:14\u00a0<vmassol>\u00a0- start it and enter a URL pointing to a subwiki  \n14:14\u00a0<vmassol>\u00a0- then go to the main wiki and verify you get a permission error and the wrong skin  \n14:15\u00a0<Denis>\u00a0the reason I mention the issue above (I fear to name it again :)) is that I still do not have receive an answer of why Sergiu introduce the failing test that is there to solve the mysterious \u00a0http://jira.xwiki.org/browse/XWIKI-3342  \n14:17\u00a0<vmassol>\u00a0just created XWIKI-8347  \n14:20\u00a0<vmassol>\u00a0testing  \n14:20\u00a0<vmassol>\u00a0this the cause of XWIKI-3469 by the way  \n14:20\u00a0<vmassol>\u00a0so it failed only once  \n14:20\u00a0<Denis>\u00a0isn't it what I have just said ?  \n14:20\u00a0<vmassol>\u00a0yes it is  \n14:20\u00a0<vmassol>\u00a0:)  \n14:20\u00a0<vmassol>\u00a0I was testing the IRC bot  \n14:21\u00a0<vmassol>\u00a0to see if I would get the irc bot exception ;)  \n14:21\u00a0<Denis>\u00a0it fails all the time if the authenticator does not make the login = the user  \n14:21\u00a0<tmortagne>\u00a0myxwiki.org is not in a good shape: impossible to delete a document in a subwiki (reproduced it on two wikis)  \n14:23\u00a0<tmortagne>\u00a0see http://tuska.myxwiki.org/xwiki/bin/delete/Test/10  \n14:23\u00a0<Denis>\u00a0vmassol: there is also another point, how the cookie are related to a domain when you use multiple hostnames ?  \n14:23\u00a0<vmassol>\u00a0yes we're having troubles with it....  \n14:23\u00a0<tmortagne>\u00a0sounds like delete action is not mapped in struts  \n14:23\u00a0<vmassol>\u00a0tmortagne: try a flushcache  \n14:23\u00a0<tmortagne>\u00a0maybe a bad merge  \n14:23\u00a0<vmassol>\u00a0(or a restart)  \n14:23\u00a0<tmortagne>\u00a0I don't see what it would have to do with cache  \n14:24\u00a0<tmortagne>\u00a0same issue on main wiki actually, general issue with delete action  \n14:24\u00a0<tmortagne>\u00a0checking struts  \n14:27\u00a0<Denis>\u00a0vmassol: with 4.1.4, I do not reproduce the first request issue I had before, so maybe it is unrelated  \n14:28\u00a0<vmassol>\u00a0you tried the steps from XWIKI-8347 +?  \n14:28\u00a0<vmassol>\u00a0(s/+//)  \n14:29\u00a0<Denis>\u00a0I do not have a path based farm to test what you are experiencing, but seen from a non path based farm, with separate cookies, I do not see any issue.  \n14:29\u00a0<Denis>\u00a0your test case is incomplete  \n14:29\u00a0<vmassol>\u00a0if you're not path based  \n14:29\u00a0<vmassol>\u00a0then your domain are different  \n14:29\u00a0<vmassol>\u00a0\\*domains  \n14:30\u00a0<vmassol>\u00a0so you might not see the problem  \n14:30\u00a0<vmassol>\u00a0since you'll get different cookie for each domain  \n14:30\u00a0<Denis>\u00a0you should describe more your user configuration, the user used for testing, etc...  \n14:31\u00a0<vmassol>\u00a0nde  \n14:31\u00a0<vmassol>\u00a0done  \n14:31\u00a0<tmortagne>\u00a0seems OK after a restart but myxwiki.org has a new weird issue all the time...  \n14:31\u00a0<Denis>\u00a0as well as the cookie you have already or not in your browser  \n14:31\u00a0<vmassol>\u00a0tmortagne: yes it's freightening  \n14:32\u00a0<vmassol>\u00a0something is really amiss  \n14:32\u00a0<Denis>\u00a0vmassol: which admin user ?  \n14:32\u00a0<Inge->\u00a0bloatware :P  \n14:32\u00a0<vmassol>\u00a0Denis: \"Admin\"  \n14:32\u00a0<vmassol>\u00a0I've put it in the issue  \n14:33\u00a0<Denis>\u00a0xwiki:XWiki.Admin or subwiki:XWiki.Admin ?  \n14:33\u00a0<vmassol>\u00a0just \"Admin\"  \n14:33\u00a0<vmassol>\u00a0that's the login  \n14:33\u00a0<Denis>\u00a0sure, but depending on your config, you may have it to be any of those  \n14:34\u00a0<Denis>\u00a0this is why login is not user  \n14:34\u00a0<coud5>\u00a0has quit  \n14:34\u00a0<vmassol>\u00a0better now?  \n14:40\u00a0<Denis>\u00a0yes  \n14:40\u00a0<Denis>\u00a0what difference would be to have a domain base, with the same cookie on both ?  \n14:41\u00a0<vmassol>\u00a0hmm good question  \n14:41\u00a0<vmassol>\u00a0we probably don't extract the wiki from the domain do we?  \n14:42\u00a0<Denis>\u00a0?  \n14:42\u00a0<vmassol>\u00a0if we were doing this then it would work  \n14:42\u00a0<vmassol>\u00a0since when you go to the main wiki it would find a non subwiki domain and put \"xwiki\" as the wiki name  \n14:42\u00a0<vmassol>\u00a0so the user would corerctly be xwiki:XWiki.Admin  \n14:43\u00a0<vmassol>\u00a0but I doubt we're doing this  \n14:43\u00a0<vmassol>\u00a0so indeed it should fail similarly normally from my current understanding  \n14:43\u00a0<vmassol>\u00a0I wish we had an already made VM with a recent XE and MySQL  \n14:44\u00a0<vmassol>\u00a0(sburjan)  \n14:44\u00a0<vmassol>\u00a0s/XE/XEM  \n14:44\u00a0<vmassol>\u00a0I can try domain-based with hsqldb  \n14:45\u00a0<sburjan>\u00a0I have, but on my machine. I do a lot of database drops so there is no point for me to connect to a remote instance, it would eat my time  \n14:45\u00a0<tmortagne>\u00a0vmassol: was about to say it's not even needed anymore with your hsqldb fix  \n14:45\u00a0<vmassol>\u00a0tmortagne: well I'd like to see if I get the same issue in mysql  \n14:45\u00a0<vmassol>\u00a0I have no problem reproducing the issue on hsqldb ;)  \n14:45\u00a0<tmortagne>\u00a0vmassol: it's that complex to install MySQL on Mac ? :)  \n14:46\u00a0<Denis>\u00a0no  \n14:46\u00a0<sburjan>\u00a0:)  \n14:46\u00a0<vmassol>\u00a0it's more complex than having a premade VM  \n14:46\u00a0<vmassol>\u00a0I hate to pollute my environment  \n14:46\u00a0<vmassol>\u00a0it creates new user in my OS  \n14:46\u00a0<vmassol>\u00a0which are security holes  \n14:47\u00a0<vmassol>\u00a0and services are started without me knowing too , etc  \n14:47\u00a0<vmassol>\u00a0a VM is perfect for to prevent these issues  \n14:47\u00a0<vmassol>\u00a0I'll try to find one with mysql installed already  \n14:47\u00a0<vmassol>\u00a0and then I can install xwiki on it  \n14:48\u00a0<Denis>\u00a0it is easy to check on sburjan config, let me try that if you want  \n14:48\u00a0<vmassol>\u00a0ah great, thanks Denis  \n14:49\u00a0<Denis>\u00a0by the way, we had discuss in the past to have a similar config to the one of sburjan on an OVH machine, I though the work had been started, and nothing, do you no why ?  \n14:49\u00a0<sburjan>\u00a0Denis: do you need the Database VM ?  \n14:51\u00a0<Denis>\u00a0no need, I will test on yours  \n14:51\u00a0<fmancinelli>\u00a0has joined #xwiki  \n14:51\u00a0<vmassol>\u00a0I'm also downloading a parallels VM with mysql so that i'm ready  \n14:52\u00a0<Denis>\u00a0vmassol: which version do you want me to test, latest snapshot ?  \n14:52\u00a0<vmassol>\u00a0if possible yes  \n14:53\u00a0<vmassol>\u00a0the VM I'm downloading has mysql 5.0.45, is that not too old?  \n14:55\u00a0<sburjan>\u00a0it is  \n14:55\u00a0<sburjan>\u00a0I'm on 5.5  \n14:55\u00a0<Denis>\u00a0vmassol: why setting up that test machine once for all, it would so pratical to all of us ?  \n14:55\u00a0<Denis>\u00a0+not  \n14:55\u00a0<Denis>\u00a0+be  \n14:59\u00a0<vmassol>\u00a0Denis: that's what sorin is working on  \n14:59\u00a0<vmassol>\u00a0(but haven't received any news since this summer sburjan ;))  \n14:59\u00a0<sburjan>\u00a0vmassol: I'm not working on that  \n15:00\u00a0<sburjan>\u00a0I have spend one week to make Oracle work on a Ubuntu VM (which is not supported).  \n15:01\u00a0<sburjan>\u00a0the machine you want can't be with Ubuntu, because Oracle supports only RedHat family. and my experience with red-hat family is close to 0  \n15:01\u00a0<Denis>\u00a0grrr  \n15:01\u00a0<vmassol>\u00a0sburjan: you're not working on automating creation of VM????  \n15:01\u00a0<Denis>\u00a0BoneCP config has broken my test script edition of the hibernate config !  \n15:01\u00a0<vmassol>\u00a0ahah  \n15:02\u00a0<sburjan>\u00a0vmassol: are you talking about the automatic VM creation or about the machine to test database migration ?  \n15:02\u00a0<vmassol>\u00a0\"automatic VM creation \"  \n15:02\u00a0<Denis>\u00a0vmassol: I am not talking about creating VM, but about a single VM where anyone can quickly do testing of any version available on maven  \n15:02\u00a0<Denis>\u00a0and that on any DB  \n15:02\u00a0<vmassol>\u00a0Denis: it's the same  \n15:02\u00a0<Denis>\u00a0and without knowing all the details  \n15:02\u00a0<sburjan>\u00a0vmassol: It's not  \n15:03\u00a0<Denis>\u00a0vmassol: I agree, it is not  \n15:03\u00a0<vmassol>\u00a0well I say it is :)  \n15:03\u00a0<sburjan>\u00a0I remember agreeing to have one VM hosted at OVH which all developers could access  \n15:03\u00a0<sburjan>\u00a0so everybody can test migrations. Denis also wrote a script for that  \n15:03\u00a0<vmassol>\u00a0once you have the automated VM creation you can run it whever you want  \n15:04\u00a0<vmassol>\u00a0be it on a shared machine or your local machine  \n15:04\u00a0<Denis>\u00a0yes, this is the one I am talking about, and with my script it is a snap to make any kind of test quickly on any db, and any version  \n15:04\u00a0<Denis>\u00a0(except now that you have broken it with bonecp :()  \n15:04\u00a0<vmassol>\u00a0(hey it's not me! :) it means your solution was hackish! :))  \n15:05\u00a0<vmassol>\u00a0I bet you didn't use a proper XML parser ;)  \n15:05\u00a0<Denis>\u00a0tell me how to do it better with sed, and I will :)  \n15:05\u00a0<Denis>\u00a0it is a bash script !  \n15:05\u00a0<sburjan>\u00a0vmassol: regarding the \"Automatic VM creation\", I had a alpha version in late august, which I've sent a request on devlist for a contrib repo so I can commit it there to get feedback, but nobody replied.  \n15:06\u00a0<vmassol>\u00a0sburjan: and?  \n15:06\u00a0<vmassol>\u00a0you're going to drop the idea ?  \n15:06\u00a0<vmassol>\u00a0(because nobody replied)  \n15:06\u00a0<sburjan>\u00a0no, but I kept the files locally and didn;t worked on it since then  \n15:07\u00a0<vmassol>\u00a0well that's too bad, we need to make progress on this  \n15:07\u00a0<sburjan>\u00a0I don't like to be more pushy than I've already been  \n15:07\u00a0<TSchmidt>\u00a0has joined #xwiki  \n15:07\u00a0<TSchmidt>\u00a0hello there  \n15:08\u00a0<vmassol>\u00a0sburjan: don't worry about peing pushy, I don't even recall you pushing for it so you have some margins for pushing :)  \n15:08\u00a0<vmassol>\u00a0but pushy does'nt mean sending 10 mails in 1 hour  \n15:08\u00a0<vmassol>\u00a0it means regularly checking about progress  \n15:09\u00a0<vmassol>\u00a0Denis: something like http://xmlstar.sourceforge.net/overview.php ?  \n15:09\u00a0<TSchmidt>\u00a0i'm trying to get SSO working and hoped you could help me with something before i bother the mailing list  \n15:09\u00a0<sburjan>\u00a0I know I told during the seminar that I will handle this but I need guidance from others. I haven't forgot. But I got stuck because nobody replied  \n15:09\u00a0<vmassol>\u00a0(sburjan: on my side I had completely forgotten you asked for a cotntrib repo)  \n15:09\u00a0<TSchmidt>\u00a0as i often read i should use the AppServerTrustedAuthServiceImpl when my username exists in the REMOTE\\_USER environment variable  \n15:10\u00a0<vmassol>\u00a0sburjan: \u00a0a lot of people asked for a repo after you and got it ;)  \n15:10\u00a0<sburjan>\u00a0vmassol: but I am not blaming you or anybody else. I am aware that everybody is very busy with their own stuff, and me pushing busy people will cause anger :)  \n15:10\u00a0<TSchmidt>\u00a0though, i somehow get another browser-styled login-window when doing so instead of just getting logged in to the wiki  \n15:10\u00a0<vmassol>\u00a0sburjan: and not pushing means you're not progressing (if that's what's blocking you of course)  \n15:11\u00a0<vmassol>\u00a0you need to chose between 2 evils ;)  \n15:11\u00a0<TSchmidt>\u00a0i wondered if i should set the xwiki.authentication to anything other than \"basic\"  \n15:13\u00a0<TSchmidt>\u00a0this is weird  \n15:15\u00a0<vmassol>\u00a0TSchmidt: sorry, not really my domain of knowledge....  \n15:17\u00a0<tmortagne>\u00a0has quit  \n15:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:18\u00a0<TSchmidt>\u00a0i don'T expect there to be any documentation to that module? everything google turns up seems to end with \"and now use that module and everything will be fine\"  \n15:21\u00a0<TSchmidt>\u00a0a thought would be that the REMOTE\\_USER is set incorrectly, but i have no idea how i could check the header information in my tomcat.. eh.. context  \n15:21\u00a0<TSchmidt>\u00a0this is a very new world for me :/  \n15:29\u00a0<sburjan>\u00a0vmassol: I'm gonna resurrect the request :)  \n15:30\u00a0<vmassol>\u00a0cool  \n15:32\u00a0<Denis>\u00a0vmassol: reproduced !  \n15:32\u00a0<Denis>\u00a0hey, what is that ?  \n15:32\u00a0<tmortagne>\u00a0!  \n15:32\u00a0<vmassol>\u00a0it's failing to log the contnet from time to time apparently  \n15:32\u00a0<tmortagne>\u00a0tough it was matching \"!\" :)  \n15:33\u00a0<vmassol>\u00a0hehe  \n15:33\u00a0<sburjan>\u00a0lol  \n15:33\u00a0<Denis>\u00a0vmassol: but there is something curious, when let the subwiki, my $context.user was xwiki:XWiki.Admin, and when I came back after restart it was XWiki.Admin !  \n15:33\u00a0<Denis>\u00a0so I suspect this:  \n15:34\u00a0<Denis>\u00a0When I came back, I am login to the subwiki, and since there is an Admin user there, is logs in with it, so it is normal to fail on the main one later  \n15:34\u00a0<TSchmidt>\u00a0I'll just re-state in a simpler way in hope of some reaction while i'm in other tabs... :)  \n15:35\u00a0<vmassol>\u00a0TSchmidt: yes please don't be despaired from a lack of answer\u2026.  \n15:35\u00a0<TSchmidt>\u00a0If anyone has some kind of experience with AppServerTrustedAuthServiceImpl and/or SSO, give me a shout and i'll elaborate :)  \n15:36\u00a0<vmassol>\u00a0Denis: yes this is what is ahppening  \n15:36\u00a0<vmassol>\u00a0(it's what I see too)  \n15:37\u00a0<Denis>\u00a0it is normal behavior  \n15:37\u00a0<vmassol>\u00a0\"normal\"  \n15:37\u00a0<Denis>\u00a0yes, it is  \n15:38\u00a0<Denis>\u00a0logs in with xwiki:XWiki.Admin and you will have what you want  \n15:38\u00a0<vmassol>\u00a0grrs I need to debug this  \n15:38\u00a0<Denis>\u00a0:D  \n15:39\u00a0<Denis>\u00a0what do you expect ?  \n15:39\u00a0<vmassol>\u00a0what I mentioned ealier  \n15:39\u00a0<vmassol>\u00a0ie I \u00a0logged on my main wiki  \n15:39\u00a0<vmassol>\u00a0I had a cookie for that  \n15:39\u00a0<vmassol>\u00a0and then created a subwiki and when I restarted and connected to the subwiki  \n15:40\u00a0<vmassol>\u00a0I was logged in but with the subwiki Admin user  \n15:40\u00a0<vmassol>\u00a0instead of the main Admin wiki user  \n15:40\u00a0<vmassol>\u00a0so when I got back tot he main wiki I couldn't see it  \n15:40\u00a0<vmassol>\u00a0I was expecting to be able to see the main wiki  \n15:41\u00a0<tmortagne>\u00a0TSchmidt: Hi, what's your question  \n15:41\u00a0<tmortagne>\u00a0?  \n15:42\u00a0<Denis>\u00a0vmassol: this only happen because there is a Admin user on the local wiki, else you get what you expect  \n15:45\u00a0<TSchmidt>\u00a0hey tmortagne  \n15:46\u00a0<Denis>\u00a0vmassol: just tested with a non-conflicting user, and it works perfectly  \n15:47\u00a0<TSchmidt>\u00a0i'm trying to build a SSO and got as far as getting user details via NTLM, validating them (thanks to samba) against my AD, then rewriting the header (as the internet suggested) and forwarding the request to my xwiki in my tomcat installation  \n15:47\u00a0<tmortagne>\u00a0TSchmidt: did you looked at https://github.com/xwiki-contrib/sandbox/tree/master/authenticators ?  \n15:47\u00a0<tmortagne>\u00a0there is some authenticators there  \n15:48\u00a0<tmortagne>\u00a0it good example when writing your own  \n15:48\u00a0<TSchmidt>\u00a0however, the next step would be to use AppServerTrustedAuthServiceImpl to get auto-login i think, but it doesn't seem to work. i keep getting a user/password request window. when i enter valid xwiki userdata there, the login happens  \n15:48\u00a0<tmortagne>\u00a0so I guess for some reason Tomcat does not provide the remote user to XWiki  \n15:48\u00a0<TSchmidt>\u00a0i hoped i mustn't write my own authenticator  \n15:49\u00a0<tmortagne>\u00a0no you should not need to  \n15:49\u00a0<Denis>\u00a0vmassol: what do you expect to do, make it like we always transform a login to \"Admin\" into a login to xwikiname:XWiki.Admin ? which simply means storing the username and no more the login name in the cookie ?  \n15:49\u00a0<tmortagne>\u00a0I tough you were writing your own auth  \n15:49\u00a0<TSchmidt>\u00a0nope, just trying to set things up so they work ;)  \n15:50\u00a0<tmortagne>\u00a0TSchmidt: a first step would be to enable debug log for AppServerTrustedAuthServiceImpl to make sure if it receive the remote user or not  \n15:50\u00a0<TSchmidt>\u00a0i'm also unsure if xwiki.authentication=basic is the right choice when using xwiki.authentication.authclass=AppServerTrustedAuthServiceImpl  \n15:51\u00a0<tmortagne>\u00a0well no  \n15:51\u00a0<tmortagne>\u00a0since it's not a basic auth  \n15:51\u00a0<tmortagne>\u00a0it's a NTLM auth  \n15:51\u00a0<tmortagne>\u00a0basic means betting a popup with user/pass  \n15:51\u00a0<tmortagne>\u00a0getting  \n15:51\u00a0<TSchmidt>\u00a0ah, that'S what i was getting :D  \n15:52\u00a0<TSchmidt>\u00a0well, i'll try setting it to ntlm and report back then. (with possible debug info)  \n15:52\u00a0<tmortagne>\u00a0you should not set anything  \n15:52\u00a0<TSchmidt>\u00a0thanks so far  \n15:52\u00a0<TSchmidt>\u00a0huh?  \n15:52\u00a0<tmortagne>\u00a0xwiki.authentication=basic is to force basic  \n15:52\u00a0<tmortagne>\u00a0but if you don't force aything you ends up in the configured authenticator  \n15:53\u00a0<tmortagne>\u00a0in your setup it's not XWiki which is taking care of ntlm  \n15:53\u00a0<TSchmidt>\u00a0so i can just comment out xwiki.authentication?  \n15:53\u00a0<tmortagne>\u00a0yes  \n15:53\u00a0<TSchmidt>\u00a0(you see, this is not only my first wiki experience, but also my first linux-thingie :D)  \n15:53\u00a0<TSchmidt>\u00a0thanks again, i'll try that  \n15:54\u00a0<Denis>\u00a0vmassol: what you say about cookie and domain depends on your setup  \n15:54\u00a0<tmortagne>\u00a0I don't know well xwiki.authentication=basic (never used it) but it's possible it overwrite whatever authenticator to setup so that would be your issue  \n15:55\u00a0<Denis>\u00a0currently I got 2 cookie on my side, one for localhost.com and one for .localhost.com, and I see like a mistakes, I should have only one !  \n16:01\u00a0<jvdrean>\u00a0vmassol: something is wrong here http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap  \n16:01\u00a0<vmassol>\u00a0yep  \n16:01\u00a0<vmassol>\u00a0let me fix it  \n16:02\u00a0<jvdrean>\u00a0thanks  \n16:08\u00a0<sburjan>\u00a0this will break all my TestReports I think :)  \n16:09\u00a0<sburjan>\u00a0yepp  \n16:10\u00a0<vmassol>\u00a0http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap is working again  \n16:10\u00a0<vmassol>\u00a0:)  \n16:10\u00a0<vmassol>\u00a0but now using the new jira macro  \n16:10\u00a0<vmassol>\u00a0sburjan: can you check your test reports?  \n16:10\u00a0<vmassol>\u00a0btw we're now supporting ordering :)  \n16:11\u00a0<tmortagne>\u00a0hm but we don't display the assigned to anymore  \n16:11\u00a0<sburjan>\u00a0vmassol: investigating failure issue. there must be a param naming difference  \n16:12\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/JIRA+Macro  \n16:12\u00a0<vmassol>\u00a0strange  \n16:12\u00a0<vmassol>\u00a0assignee is by default  \n16:12\u00a0<vmassol>\u00a0hmm  \n16:12\u00a0<vmassol>\u00a0no  \n16:12\u00a0<vmassol>\u00a0I need to check the code  \n16:14\u00a0<sburjan>\u00a0vmassol: what did you do ? the TestReports work again  \n16:14\u00a0<sburjan>\u00a0did you restored the old one ?  \n16:15\u00a0<vmassol>\u00a0no  \n16:15\u00a0<sburjan>\u00a0ok, then something magic happend :P  \n16:15\u00a0<tmortagne>\u00a0sburjan: he deleted the old wiki macro before installing the new java one I think, you just checked between the two  \n16:15\u00a0<tmortagne>\u00a0vmassol: right ?  \n16:16\u00a0<vmassol>\u00a0tmortagne: correct  \n16:16\u00a0<sburjan>\u00a0cool. gonna file an improvement for your macro since it's in production  \n16:16\u00a0<vmassol>\u00a0indeed I've gotten to put assignee by default  \n16:16\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0private static final List<String> FIELDS =  \n16:16\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Arrays.asList(JIRAFields.TYPE, JIRAFields.KEY, JIRAFields.SUMMARY, JIRAFields.STATUS, JIRAFields.CREATED);  \n16:16\u00a0<vmassol>\u00a0so you need to specify it right now  \n16:16\u00a0<vmassol>\u00a0fixing doc  \n16:17\u00a0<vmassol>\u00a0maybe i had a good reason  \n16:17\u00a0<tmortagne>\u00a0depends of the use case  \n16:17\u00a0<Denis>\u00a0vmassol: the reason my script gets broken is that comment cannot be nested in XML, and what you have introduced does not allow anymore to use comment to desactivate the default config for another one, I do not find that really nice, and I do not see why you have put your comments on the default, since it is true for all config  \n16:17\u00a0<tmortagne>\u00a0in some cases you don't care  \n16:18\u00a0<sburjan>\u00a0vmassol: the JIRA component in platform is the JIRA macro ?  \n16:18\u00a0<Denis>\u00a0vmassol: could not the whole BoneCP config be in one place ?  \n16:18\u00a0<vmassol>\u00a0sburjan: yes  \n16:20\u00a0<vmassol>\u00a0jvdrean: http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap is ok now (even improved)  \n16:20\u00a0<vmassol>\u00a0:)  \n16:20\u00a0<evalica>\u00a0has quit  \n16:23\u00a0<Enygma`>\u00a0has quit  \n16:26\u00a0<sburjan>\u00a0vmassol: http://jira.xwiki.org/browse/XWIKI-8348 :P  \n16:26\u00a0<sburjan>\u00a0smart bot :)  \n16:29\u00a0<vmassol>\u00a0ok  \n16:31\u00a0<Denis>\u00a0vmassol: are you sulking when it is me ? ;)  \n16:32\u00a0<vmassol>\u00a0nope just exceeded my thread pool  \n16:32\u00a0<vmassol>\u00a0Denis: so re bonecp yes +1 to put all connection pool stuff in one place BUT we should do the same for dbcp too  \n16:33\u00a0<Denis>\u00a0vmassol: agreed  \n16:34\u00a0<Denis>\u00a0vmassol: I do it  \n16:37\u00a0<Denis>\u00a0vmassol: you have turned off DBCP ps caching for all ? is that correct ?  \n16:37\u00a0<vmassol>\u00a0no it's not  \n16:37\u00a0<vmassol>\u00a0just realized that yesterday  \n16:38\u00a0<vmassol>\u00a0actually it may be but we don't know for sure  \n16:39\u00a0<vmassol>\u00a0I need to work to generate a good vm file depending on the db  \n16:41\u00a0<Denis>\u00a0any reason we repeat ourself so much in that file ?  \n16:41\u00a0<vmassol>\u00a0I'm hesitating to modify our DBCPConnectionProvider to do that by default when the DB is hsqldb  \n16:41\u00a0<vmassol>\u00a0Denis: any example?  \n16:41\u00a0<Denis>\u00a0mapping  \n16:41\u00a0<Denis>\u00a0we put it for each DB  \n16:41\u00a0<vmassol>\u00a0its because they're not the same AFAIR  \n16:41\u00a0<vmassol>\u00a0checking  \n16:42\u00a0<Denis>\u00a0ah yes  \n16:42\u00a0<vmassol>\u00a0yes that's why  \n16:42\u00a0<vmassol>\u00a0this will go away  \n16:42\u00a0<vmassol>\u00a0when I've impemented http://jira.xwiki.org/browse/XWIKI-8271  \n16:46\u00a0<Denis>\u00a0vmassol: connection.pool\\_size and statement\\_cache\\_size seems the same anywhere, I put it at the top no ?  \n16:46\u00a0<rrodriguez>\u00a0has joined #xwiki  \n16:46\u00a0<vmassol>\u00a0if they're the same then yes  \n16:47\u00a0<Denis>\u00a0yes they are  \n16:47\u00a0<Denis>\u00a0but they seems absent from the default config ?!?  \n16:47\u00a0<Denis>\u00a0should they be used at all ?  \n16:48\u00a0<vmassol>\u00a0I see them  \n16:48\u00a0<vmassol>\u00a0in the default config  \n16:48\u00a0<Denis>\u00a0pff  \n16:48\u00a0<Denis>\u00a0I need to sleep more  \n16:48\u00a0<vmassol>\u00a0:)  \n16:48\u00a0<Denis>\u00a0ok I put it at the top  \n16:59\u00a0<TSchmidt>\u00a0sooo...  \n17:00\u00a0<TSchmidt>\u00a0now i'm getting referred to the wiki login page, tmortagne  \n17:00\u00a0<TSchmidt>\u00a0i'm unsure where exactly i would look for or set the debug information concerning the authenticator  \n17:01\u00a0<Denis>\u00a0vmassol: can I commit my fix on XWIKI-1740 ?  \n17:01\u00a0<vmassol>\u00a0if you want yes  \n17:01\u00a0<TSchmidt>\u00a0but my catalina.out and apache error log look fine to me  \n17:02\u00a0<vmassol>\u00a0Denis: makes sense  \n17:02\u00a0<tmortagne>\u00a0TSchmidt: what did you put in xwiki.authentication.authclas exactly ?  \n17:02\u00a0<tmortagne>\u00a0xwiki.authentication.authclass  \n17:04\u00a0<Denis>\u00a0vmassol: http://pastebin.com/CazrEx8g  \n17:04\u00a0<Denis>\u00a0just want to be sure we are on the same idea  \n17:05\u00a0<vmassol>\u00a0why 2 lines for:  \n17:06\u00a0<vmassol> 1. + \u00a0 \u00a0<!-- DBCP Connection Pooling configuration  \n17:06\u00a0<vmassol> 2. + \u00a0 \u00a0-->  \n17:06\u00a0<vmassol>\u00a0?  \n17:06\u00a0<TSchmidt>\u00a0hmm, copy/paste doesn't work ... typing it now :)  \n17:06\u00a0<Denis>\u00a0vmassol: make it easier to build a sed script to choose one or the other  \n17:06\u00a0<vmassol>\u00a0it's not consistent with other comments  \n17:06\u00a0<TSchmidt>\u00a0xwiki.authentication.authclass=com.xpn.xwiki.user.impl.xwiki.AppServerTrustedAuthServiceImpl  \n17:06\u00a0<vmassol>\u00a0I personally prefer on one line  \n17:06\u00a0<Denis>\u00a0vmassol: it is with db configuration  \n17:07\u00a0<vmassol>\u00a0o  \n17:07\u00a0<vmassol>\u00a0k  \n17:07\u00a0<Denis>\u00a0it is the same idea in fact  \n17:07\u00a0<vmassol>\u00a0indeed we have 2 choices  \n17:07\u00a0<tmortagne>\u00a0TSchmidt: ok seems correct, the behavior you have seems to indicate that Tomcat does not provide any remote user to XWiki  \n17:08\u00a0<tmortagne>\u00a0you should enable debug log on com.xpn.xwiki.user.impl.xwiki.AppServerTrustedAuthServiceImpl to make sure  \n17:08\u00a0<vmassol>\u00a0Denis: not sure I like this:  \n17:08\u00a0<vmassol> 1. +## DO NOT USE XML COMMENT IN BETWEEN DB SPECIFIC CONFIGURATION, IT RENDER COMMENTING/UNCOMMENTING THE RIGHT  \n17:08\u00a0<vmassol> 2. +## CONFIGURATION A PAIN  \n17:08\u00a0<tmortagne>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Logging  \n17:08\u00a0<Denis>\u00a0vmassol: I have already a sed script for doing such manipulation (commenting/uncommenting)  \n17:08\u00a0<Denis>\u00a0vmassol: it is there just to remind you not to break it  \n17:08\u00a0<vmassol>\u00a0sure but that's not something anyone should know about  \n17:08\u00a0<vmassol>\u00a0I'm a user and I shoudln't care about this  \n17:08\u00a0<Denis>\u00a0it is only in the .vm  \n17:08\u00a0<vmassol>\u00a0ah  \n17:09\u00a0<vmassol>\u00a0ok  \n17:09\u00a0<vmassol>\u00a0I had missed that  \n17:09\u00a0<vmassol>\u00a0:)  \n17:09\u00a0<TSchmidt>\u00a0and how would i go about that, tmortagne?  \n17:09\u00a0<TSchmidt>\u00a0ah  \n17:09\u00a0<TSchmidt>\u00a0thanks for the link  \n17:09\u00a0<Denis>\u00a0maybe I should put it as well for the DBCP/BoneCP case as well  \n17:09\u00a0<tmortagne>\u00a0if all is corerct on tomcat side you should get something like \"Launching create user for [someuser]\"  \n17:09\u00a0<vmassol>\u00a0Denis: ah you fixed the ps cache too, cool  \n17:10\u00a0<tmortagne>\u00a0you should also check if any user has been created  \n17:10\u00a0<tmortagne>\u00a0correct  \n17:10\u00a0<Denis>\u00a0vmassol: yes, the default does not set it, is it correct ?  \n17:10\u00a0<vmassol>\u00a0Denis: ATM it should not be set when using HSQLDB  \n17:10\u00a0<vmassol>\u00a0but for the rest it should be set  \n17:11\u00a0<vmassol>\u00a0(till we know more - it's possible that we don't want it to for other dbs but we'll have to find this out)  \n17:11\u00a0<tmortagne>\u00a0TSchmidt: when tomcat does not provide any remote user XWiki simply fallback on standard authentication  \n17:11\u00a0<Denis>\u00a0vmassol: but the default config is which db ?  \n17:12\u00a0<vmassol>\u00a0it can be any  \n17:12\u00a0<vmassol>\u00a0you need to do an if in velocity I think  \n17:12\u00a0<Denis>\u00a0vmassol: but there far more difference that are not managed  \n17:12\u00a0<vmassol>\u00a0(if you want to do it at this level - the other option I was mentioned is to have it always and do the if in DBCPConnectionProvider)  \n17:12\u00a0<sburjan>\u00a0has quit  \n17:13\u00a0<Denis>\u00a0vmassol: no time to investigate now, I commit this if you are ok with it, and leave this for later  \n17:13\u00a0<vmassol>\u00a0doing it in DBCPConnectionProvider allows the user to never make a mistake and simplify hib file at the expense of being more magical  \n17:14\u00a0<Denis>\u00a0vmassol: I do not like this magic, since user edit that file later  \n17:14\u00a0<vmassol>\u00a0that's the point  \n17:15\u00a0<vmassol>\u00a0if he puts caching for hsqldb it won't work, OTOH maybe we want to allow this in non multiwiki mode for whatever reason  \n17:15\u00a0<sburjan>\u00a0has joined #xwiki  \n17:18\u00a0<Denis>\u00a0vmassol: commit my changes for now, seems the bot is silent about commits ?!?  \n17:23\u00a0<vmassol>\u00a0cia is dead  \n17:23\u00a0<vmassol>\u00a0oops hope I won't have the USA monitoring my communication after saying this\u2026 ;)  \n17:23\u00a0<Denis>\u00a0:D  \n17:23\u00a0<Denis>\u00a0has quit  \n17:24\u00a0<vmassol>\u00a0I meant http://cia.vc/  \n17:26\u00a0<TSchmidt>\u00a0i believe i'm losing my mind here.  \n17:28\u00a0<TSchmidt>\u00a0after being too stupid to active debug logging for only that authenticator, i simply turned on debug for everything... but the (now much bigger) catalina.out does not contain a single line where that authenticator is mentioned  \n17:30\u00a0<tmortagne>\u00a0TSchmidt: there is not much log in this authenticator and for example if Tomcat does not provide any remote user it won't produce any log  \n17:30\u00a0<tmortagne>\u00a0do you get log about XWikiAuthServiceImpl ?  \n17:31\u00a0<tmortagne>\u00a0that would confirm it fallbacked on standard authentication  \n17:31\u00a0<tmortagne>\u00a0something you should check probably: in a wiki page put a script to display the request remote user  \n17:32\u00a0<tmortagne>\u00a0something like  \n17:32\u00a0<tmortagne>\u00a0{{velocity}}  \n17:32\u00a0<tmortagne>\u00a0{{/velocity}}  \n17:32\u00a0<TSchmidt>\u00a0the log does not contain the word Auth  \n17:32\u00a0<sburjan>\u00a0has quit  \n17:33\u00a0<tmortagne>\u00a0ok  \n17:33\u00a0<tmortagne>\u00a0try the script  \n17:33\u00a0<tmortagne>\u00a0at least we will see if tomcat provide the right information  \n17:33\u00a0<TSchmidt>\u00a0and the remote user should stay the same although i'm using the wiki login page and everything?  \n17:33\u00a0<TSchmidt>\u00a0i'll test that then  \n17:34\u00a0<tmortagne>\u00a0tomcat is supposed to put the remote user in all the request object it's calling XWiki with  \n17:34\u00a0<mflorea>\u00a0has quit  \n17:34\u00a0<tmortagne>\u00a0so the page in which you are does not matter  \n17:34\u00a0<tmortagne>\u00a0you could even be logged in with an Wiki user you should still get this remote user in the request  \n17:36\u00a0<TSchmidt>\u00a0... and if i see the text $request.remoteUser ... ?  \n17:36\u00a0<tmortagne>\u00a0it means tomcat did not provided anything  \n17:37\u00a0<TSchmidt>\u00a0i will check my apache reqrite rule then, i guess  \n17:37\u00a0<tmortagne>\u00a0from XWiki point of view there is no SSO user to authenticate with so it just fallback on standard auth  \n17:38\u00a0<TSchmidt>\u00a0\\*w  \n17:38\u00a0<TSchmidt>\u00a0thanks for the big help, still. i think i see a little clearer now  \n17:38\u00a0<tmortagne>\u00a0it's not always easy to debug those setup  \n17:40\u00a0<TSchmidt>\u00a0first time i ever installed something on a linux machine... why not a wiki? :D  \n17:40\u00a0<TSchmidt>\u00a0thanks, boss :>  \n17:40\u00a0<tmortagne>\u00a0:)  \n17:40\u00a0<tmortagne>\u00a0you'r welcome  \n17:41\u00a0<tmortagne>\u00a0if you find a solution don't hesitate to document it somewhere on http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication  \n17:42\u00a0<tmortagne>\u00a0has quit  \n18:13\u00a0<vmassol>\u00a0jvdrean: I don't understand your question here: \"Does this mean the maven plugin doesn't handle the \"differences\" tag \"  \n18:13\u00a0<vmassol>\u00a0it does since my exclude for the IRCBot works  \n18:13\u00a0<vmassol>\u00a0ah no  \n18:13\u00a0<vmassol>\u00a0you made a mistake  \n18:13\u00a0<vmassol>\u00a0there's no differences tag  \n18:13\u00a0<vmassol>\u00a0it's <ignored>  \n18:14\u00a0<vmassol>\u00a0jvdrean: see http://jira.xwiki.org/browse/XCOMMONS-283  \n18:20\u00a0<TSchmidt>\u00a0ha! it works!  \n18:20\u00a0<vmassol>\u00a0:)  \n18:20\u00a0<TSchmidt>\u00a0i don't see a possibility to log in as Admin now (without changing settings), but for now i'll call it a day  \n18:21\u00a0<TSchmidt>\u00a0almost 9h of work  \n18:21\u00a0<vmassol>\u00a0only?  \n18:21\u00a0<vmassol>\u00a0I regularly spend 4-5 days on a 2 line issue ;)  \n18:21\u00a0<TSchmidt>\u00a0not the wiki, today ;)  \n18:21\u00a0<vmassol>\u00a0ah  \n18:22\u00a0<TSchmidt>\u00a0if tmortagne seems interested later on, i had to set tomcatAuthentication=\"false\" in the ajp connector so it wouldn't overwrite the remote\\_user  \n18:22\u00a0<TSchmidt>\u00a0anyways, cya  \n18:22\u00a0<vmassol>\u00a0TSchmidt: don't forget to document it!  \n18:22\u00a0<vmassol>\u00a0to help future users  \n18:24\u00a0<dirk\\_schmitt>\u00a0has joined #xwiki  \n18:26\u00a0<TSchmidt>\u00a0has quit  \n18:57\u00a0<jvdrean>\u00a0has quit  \n19:12\u00a0<vmassol>\u00a0has quit  \n19:21\u00a0<coud5>\u00a0has joined #xwiki  \n19:23\u00a0<vmassol>\u00a0has joined #xwiki  \n19:28\u00a0<npst->\u00a0has joined #xwiki  \n19:29\u00a0<npst->\u00a0is now known as <TSchmidt>  \n19:29\u00a0<TSchmidt>\u00a0registered? :D  \n19:29\u00a0<TSchmidt>\u00a0is now known as <T\\_Schmidt>  \n19:38\u00a0<Enygma`>\u00a0has joined #xwiki  \n19:40\u00a0<vmassol>\u00a0has quit  \n19:49\u00a0<vmassol>\u00a0has joined #xwiki  \n20:01\u00a0<vmassol>\u00a0has quit  \n20:16\u00a0<vmassol>\u00a0has joined #xwiki  \n20:22\u00a0<dirk\\_schmitt>\u00a0com.xpn.xwiki.plugin.ldap.XWikiLDAPUtils Looks  \n20:22\u00a0<dirk\\_schmitt>\u00a0like [cn=XXXX,ou=Groups,dc=XXXX,dc=XX] is not a DN, lets try filter or id  \n20:22\u00a0<dirk\\_schmitt>\u00a0??? - what Do I make wrong ?  \n20:28\u00a0<fmancinelli>\u00a0has quit  \n21:09\u00a0<vmassol>\u00a0hmmm platform build has been failing since jv's commit  \n21:09\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Platform/job/xwiki-platform/2736/  \n21:53\u00a0<polx>\u00a0has joined #xwiki  \n21:55\u00a0<fmancinelli>\u00a0has joined #xwiki  \n22:11\u00a0<mrvanes>\u00a0has quit  \n22:13\u00a0<coud5>\u00a0has quit  \n22:49\u00a0<Slashman>\u00a0has quit  \n23:05\u00a0<polx>\u00a0has quit  \n23:10\u00a0<polx>\u00a0has joined #xwiki  \n23:53\u00a0<dirk\\_schmitt>\u00a0has quit\n"}