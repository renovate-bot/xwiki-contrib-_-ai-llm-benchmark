{"id": "dev:IRC.xwikiArchive20110209", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110209", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n04:36\u00a0<xwikibot>\u00a0has joined #xwiki  \n05:01\u00a0<lucaa>\u00a0has quit  \n05:04\u00a0<npm\\_>\u00a0has quit  \n05:07\u00a0<npm>\u00a0has joined #xwiki  \n05:18\u00a0<sdumitriu>\u00a0has quit  \n05:22\u00a0<roxxo>\u00a0has quit  \n05:23\u00a0<vvinet>\u00a0has quit  \n05:23\u00a0<venkatesh>\u00a0has quit  \n05:23\u00a0<SvenDowideit>\u00a0has quit  \n05:23\u00a0<jbrBridge>\u00a0has quit  \n05:24\u00a0<cjdelisle>\u00a0has quit  \n05:25\u00a0<venkatesh>\u00a0has joined #xwiki  \n05:25\u00a0<roxxo>\u00a0has joined #xwiki  \n05:25\u00a0<vvinet>\u00a0has joined #xwiki  \n05:25\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n05:25\u00a0<jbrBridge>\u00a0has joined #xwiki  \n05:25\u00a0<cjdelisle>\u00a0has joined #xwiki  \n05:28\u00a0<vvinet>\u00a0has quit  \n05:29\u00a0<npm>\u00a0has quit  \n05:29\u00a0<npm\\_>\u00a0has joined #xwiki  \n05:29\u00a0<vvinet>\u00a0has joined #xwiki  \n05:53\u00a0<venkatna>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n06:08\u00a0<Denis>\u00a0has joined #xwiki  \n07:17\u00a0<vmassol>\u00a0has joined #xwiki  \n07:50\u00a0<mflorea>\u00a0has joined #xwiki  \n08:04\u00a0<vmassol>\u00a0has quit  \n08:05\u00a0<sburjan`>\u00a0has joined #xwiki  \n08:37\u00a0<Bunny\\_>\u00a0has joined #xwiki  \n08:38\u00a0<Bunny\\_>\u00a0is now known as <Pon>  \n08:40\u00a0<jstoldt>\u00a0has joined #xwiki  \n08:40\u00a0<jstoldt>\u00a0good morning  \n08:40\u00a0<Pon>\u00a0evening  \n08:40\u00a0<Pon>\u00a0<- 16.40  \n08:41\u00a0<jstoldt>\u00a0nice one :-D  \n08:41\u00a0<jstoldt>\u00a0China?  \n08:41\u00a0<Pon>\u00a0Japan  \n08:42\u00a0<jstoldt>\u00a0cool. :) always wanted to go there  \n08:42\u00a0<Pon>\u00a0I am watching java do what it does best. consume memory like there is no tomorrow with no visible purpose.  \n08:42\u00a0<Pon>\u00a0avoid summer.  \n08:42\u00a0<Pon>\u00a0today it was trying to snow in the morning, and then sunny and 12'c in the afternoon  \n08:43\u00a0<Pon>\u00a0<- tokyo, the concrete metropolis.  \n08:44\u00a0<jstoldt>\u00a0oh, tokyo would be one of my favorite destinations  \n08:44\u00a0<jstoldt>\u00a0Kodokan there!  \n08:44\u00a0<jstoldt>\u00a0i applied for an internship with Bosch in Japan but they did not get back at me with an offer until i already started another internship... besides, their time frame was crap for me... really too bad  \n08:45\u00a0<Pon>\u00a0kodokan?  \n08:45\u00a0<jstoldt>\u00a0http://en.wikipedia.org/wiki/Kodokan  \n08:45\u00a0<Pon>\u00a0oh, Judo.  \n08:45\u00a0<jstoldt>\u00a0bout java, i saw tomcat eat through 8 GB of RAM + pagefile until it crashed...  \n08:45\u00a0<jstoldt>\u00a0yeah, judo  \n08:46\u00a0<jstoldt>\u00a0;)  \n08:46\u00a0<+sburjan`>\u00a0:))  \n08:47\u00a0<Pon>\u00a0ah, near tokyo dome  \n08:47\u00a0<jstoldt>\u00a0i wouldn't know, never been there! ;)  \n08:47\u00a0<Pon>\u00a0thats actually on the line that I live near  \n08:47\u00a0<Pon>\u00a0http://www.kodokan.org/j\\_info/access\\_j.html  \n08:48\u00a0<Pon>\u00a0how about a tiny weeny bit of xwiki related chat.  \n08:48\u00a0<jstoldt>\u00a0if i can help i'll try to but don't expect too much of me  \n08:48\u00a0<jstoldt>\u00a0only a user myself  \n08:48\u00a0<Pon>\u00a0is there a way to tell it \"no matter what you are asked for, return urls like this ...\"  \n08:49\u00a0<Pon>\u00a0I cant even get that far, it does not like being behind something.  \n08:49\u00a0<Pon>\u00a0http://tenki.jp/forecast/point-695.html \u00a0\u00a0<-- the weather today  \n08:50\u00a0<jstoldt>\u00a0hmmm, how do you mean that?  \n08:50\u00a0<Pon>\u00a0the wysiwig editor is js, and as a result, will not load  \n08:51\u00a0<Pon>\u00a0because something writes the url for it as \u00a0\u00a0\u00a0localhost:8080/  \n08:51\u00a0<jstoldt>\u00a0have you tried restarting and connecting to the server using the actual network address?  \n08:51\u00a0<Pon>\u00a0127.0.0.1 ?  \n08:51\u00a0<jstoldt>\u00a0like server.subdomain.domain.net  \n08:51\u00a0<jstoldt>\u00a0instead of localhost/127.0.0.1  \n08:52\u00a0<Pon>\u00a0oh no, its only on localhost, its behind the real webserver  \n08:52\u00a0<Pon>\u00a0thats where the fun starts ^^;  \n08:52\u00a0<jstoldt>\u00a0sure but try to connect to the xwiki instance not using localhost or anything alike  \n08:52\u00a0<jstoldt>\u00a0when connecting the first time  \n08:52\u00a0<jstoldt>\u00a0because, as i understand,  \n08:52\u00a0<jstoldt>\u00a0xwiki keeps track of the first url used  \n08:53\u00a0<jstoldt>\u00a0and considers it to be the URL that is always being used to connect to the server  \n08:53\u00a0<jstoldt>\u00a0somebody correct me if i'm wrong  \n08:53\u00a0<Pon>\u00a0xwiki needs to not do that, its being too clever resulting in broken ness  \n08:54\u00a0<jstoldt>\u00a0well, you could try what i suggested to verify what i said is correct and this is indeed the problem  \n08:54\u00a0<jstoldt>\u00a0you then can file an issue on jira.xwiki.org  \n08:54\u00a0<jstoldt>\u00a0that would be what i'd do, anyway  \n08:54\u00a0<Pon>\u00a0it seems to do something like that  \n08:54\u00a0<Pon>\u00a0I wish I knew what the request looked like ^^;  \n08:54\u00a0<Pon>\u00a0after going trhough the webserver gateway  \n08:55\u00a0<jstoldt>\u00a0doesn't matter, i think  \n08:55\u00a0<Pon>\u00a0you can try this yourself ^^;  \n08:55\u00a0<jstoldt>\u00a0just restart the servlet  \n08:55\u00a0<jstoldt>\u00a0and connect through the webserver  \n08:55\u00a0<Pon>\u00a0http://www.anime.org/xwiki/bin/view/Main/  \n08:55\u00a0<Pon>\u00a0now, if you look at the source,  \n08:56\u00a0<Pon>\u00a0a class=\"tme\" href=\"/xwiki/bin/login/XWiki/XWikiLogin?xredirect=http%3A%2F%2Flocalhost%3A8080%2Fxwiki%2Fbin%2Fview%2FMain%2F\"  \n08:56\u00a0<jstoldt>\u00a0sounds reasonable to me  \n08:57\u00a0<Pon>\u00a0if you were to sign up (i think it will mail you a bad url)  \n08:57\u00a0<jstoldt>\u00a0i just logged on as admin, trying to edit  \n08:58\u00a0<Pon>\u00a0then try to make a blog entry, the wysiwig editor will never get loaded ...  \n08:58\u00a0<jstoldt>\u00a0yeah, seeing it  \n08:58\u00a0<jstoldt>\u00a0again, have you tried to restart the servlet, yet?  \n08:58\u00a0<Pon>\u00a0any number of times  \n08:59\u00a0<Pon>\u00a0I was hoping that xwiki.cfg would have a magic \"lie about your URL\" setting  \n08:59\u00a0<jstoldt>\u00a0could you do it just once again, tell me when you started the servlet and let me connnect there first  \n08:59\u00a0<Pon>\u00a0ok  \n08:59\u00a0<Pon>\u00a0just a mo  \n08:59\u00a0<jstoldt>\u00a0sure  \n08:59\u00a0<Pon>\u00a0done  \n09:00\u00a0<jstoldt>\u00a0connecting  \n09:00\u00a0<jstoldt>\u00a0trying to edit  \n09:01\u00a0<jstoldt>\u00a0okay, this weird...  \n09:01\u00a0<Pon>\u00a0hmm, thats weird, the webserver is seeing requests on an address it isnt using ^^;  \n09:01\u00a0<Pon>\u00a0not you I think.  \n09:01\u00a0<Pon>\u00a0if you examine the source of that page, search for \"localhost\"  \n09:01\u00a0<jstoldt>\u00a0what's your setupd like?  \n09:01\u00a0<jstoldt>\u00a0yeah, just noticed it  \n09:01\u00a0<Pon>\u00a0and you'll see it in the log^in and the editor  \n09:02\u00a0<Pon>\u00a0ZEUS gateway -> glassfish v3 -> xwiki 2.7  \n09:02\u00a0<jstoldt>\u00a0so zeus is communicating with glassfish via localhost addresses, i reckon  \n09:03\u00a0<Pon>\u00a0y  \n09:03\u00a0<jstoldt>\u00a0i dunno...  \n09:03\u00a0<Pon>\u00a0zeus gateways \u00a0\u00a0/xwiki -> \u00a0localhost:8080 \u00a0\u00a0\u00a0the glassfish instance  \n09:03\u00a0<jstoldt>\u00a0but it's prolly not an xwiki error but something between glassfish and zeus...  \n09:03\u00a0<jstoldt>\u00a0yeah, i think that is the problem  \n09:04\u00a0<jstoldt>\u00a0zeus \"rephrases\" the url to localhost which then breaks everything  \n09:04\u00a0<jstoldt>\u00a0can't you try to put the url instead of localhost?  \n09:04\u00a0<Pon>\u00a0zeus also does all translation of returning urls.  \n09:04\u00a0<jstoldt>\u00a0like www.anime.org:8080?  \n09:04\u00a0<Pon>\u00a0you wont get through the nat like that.  \n09:04\u00a0<Pon>\u00a0lets see  \n09:05\u00a0<Pon>\u00a0ok, that makes the login redirect now say \u00a0\u00a0xredirec=http www.anime.org:8080  \n09:06\u00a0<jstoldt>\u00a0you still need to restart the servlet  \n09:06\u00a0<Pon>\u00a0I would hope note.  \n09:06\u00a0<Pon>\u00a0not.  \n09:06\u00a0<jstoldt>\u00a0yep. like i said, upon starting the instance this is set, for all i know  \n09:06\u00a0<Pon>\u00a0restarting for everytime you access it differently  \n09:06\u00a0<Pon>\u00a0what do you thing it is, windows?  \n09:07\u00a0<jstoldt>\u00a0no, i think it's a problem in the communication between the servlet container and your gateway  \n09:07\u00a0<Pon>\u00a0its correctly generating URLS, just the editor never arrives.  \n09:08\u00a0<jstoldt>\u00a0it's correctly creating them for the remote user  \n09:08\u00a0<Pon>\u00a0inputURL: 'http:\\/\\/www.anime.org:8080\\/xwiki\\/bin\\/edit\\/Blog\\/Test+2?xpage=wysiwyginput&token=SV-UaZ7OFvGg8-RNvxWW1w'  \n09:08\u00a0<jstoldt>\u00a0but not so much for the xwiki servlet  \n09:08\u00a0<jstoldt>\u00a0did you restart the container?  \n09:09\u00a0<Pon>\u00a0no  \n09:09\u00a0<rrodriguez>\u00a0has quit  \n09:09\u00a0<Pon>\u00a0can do though.  \n09:09\u00a0<jstoldt>\u00a0yeah, please do  \n09:09\u00a0<Pon>\u00a0see if that cures it (if it does, it will be a disappointment)  \n09:09\u00a0<Pon>\u00a0just a mo  \n09:10\u00a0<Pon>\u00a0restart  \n09:10\u00a0<jstoldt>\u00a0done?  \n09:10\u00a0<Pon>\u00a0it takes a while, due to the awesome java bloat ^^;  \n09:10\u00a0<jstoldt>\u00a0^^ ;)  \n09:10\u00a0<Pon>\u00a0ok, and here we go  \n09:10\u00a0<Pon>\u00a0want to take bets ^^?  \n09:11\u00a0<jstoldt>\u00a0weird thing: function cancelEdit() var surl = \"http://localhost:8080/xwiki/bin/cancel/Main/WebHome?ajax=1\";  \n09:11\u00a0<Pon>\u00a0y  \n09:12\u00a0<Pon>\u00a0zeus cant re-write urls inside java  \n09:12\u00a0<Pon>\u00a0script  \n09:12\u00a0<Pon>\u00a0oo  \n09:12\u00a0<Pon>\u00a0I get a 404  \n09:12\u00a0<arkub>\u00a0has joined #xwiki  \n09:14\u00a0<jstoldt>\u00a0so i think it's pretty obvious that the problem is the gateway, at least to some extent. when i look into the source of a edit page loaded from my instance here i get the proper url instead of localhost there  \n09:14\u00a0<Pon>\u00a0not sure where it got that .cache. url from  \n09:14\u00a0<jstoldt>\u00a0i think that's all within the sources  \n09:15\u00a0<jstoldt>\u00a0indeed, that's from the war file  \n09:15\u00a0<Pon>\u00a0so, theres nothing to make it play nice with a front end?  \n09:16\u00a0<Pon>\u00a0xwiki.lie.about.your.url=\"http://outside.facing.address/xwiki/\"  \n09:16\u00a0<jstoldt>\u00a0well, i know that xwiki in tomcat plays nicely along with apache webserver  \n09:16\u00a0<Pon>\u00a0for example  \n09:16\u00a0<jstoldt>\u00a0not to my knowledge but prolly some of the devs can give you more input on that  \n09:17\u00a0<Pon>\u00a0I guess I Have to wait for them to wake up ^^;  \n09:17\u00a0<jstoldt>\u00a0also try sending a mail to the user maillist, that might give you even more response then asking here  \n09:18\u00a0<jstoldt>\u00a0http://www.devcomments.com/Using-gateway-breaks-things-This-might-be-bug-at1131308.htm  \n09:18\u00a0<Pon>\u00a0thats me ^^;  \n09:18\u00a0<Pon>\u00a0checked his suggestion.  \n09:19\u00a0<jstoldt>\u00a0also tried using tomcat and make it lie about the address?  \n09:19\u00a0<Pon>\u00a0no tomcat  \n09:19\u00a0<jstoldt>\u00a0i use tomcat and it's rather stable for all i can see  \n09:19\u00a0<Pon>\u00a0only glassfish on this box ^^;  \n09:20\u00a0<Pon>\u00a0what version do you use?  \n09:20\u00a0<jstoldt>\u00a0no way to switch to tomcat? not a fully dedicated syste?  \n09:20\u00a0<jstoldt>\u00a0\\*system  \n09:20\u00a0<Pon>\u00a0its my home box.  \n09:20\u00a0<Pon>\u00a0I just don't want to install yet another java creature,  \n09:21\u00a0<Pon>\u00a0it would be nice if stuff would just work ^^;  \n09:21\u00a0<jstoldt>\u00a0sure thing... well, if you don't want to do some more testing with other containers you are stuck with having to wait for someone with more experience in these matters. so, again, best bet is to send a message to the user mail list  \n09:22\u00a0<vmassol>\u00a0has joined #xwiki  \n09:22\u00a0<Pon>\u00a0is there a way to get xwiki to log the request it gets?  \n09:22\u00a0<lucaa>\u00a0has joined #xwiki  \n09:22\u00a0<Pon>\u00a0this is the one I was hoping would heal it --> xwiki.home=http://www.anime.org/  \n09:22\u00a0<jstoldt>\u00a0hmmm, i think 2.7 still creates a xwiki.log file somewhere around the container  \n09:22\u00a0<jstoldt>\u00a0which logs errors and warnings  \n09:23\u00a0<Pon>\u00a0looking  \n09:23\u00a0<jstoldt>\u00a0you could try that... other than that, i think the glassfish logs are your best bet  \n09:23\u00a0<Pon>\u00a0the \"warning null something somewhere else 89 lines of traceback ...\"  \n09:24\u00a0<vmassol>\u00a0Pon: you can get all request logs from the servlet container (or http server)  \n09:25\u00a0<venkatesh>\u00a0has quit  \n09:25\u00a0<venkatna>\u00a0has quit  \n09:25\u00a0<venkatesh>\u00a0has joined #xwiki  \n09:26\u00a0<vmassol>\u00a0there are also ways within xwiki: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Logging  \n09:26\u00a0<Pon>\u00a0oo!  \n09:26\u00a0<Pon>\u00a0do you know the magic salve for \"my urls have localhost:8080\" buried in them?  \n09:29\u00a0<Pon>\u00a0xwiki.log has a frew errors in like:  \n09:30\u00a0<+lucaa>\u00a0'morning guys  \n09:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:31\u00a0<Pon>\u00a0it doesnt like Vfs.Dir whatever that is...  \n09:32\u00a0<+lucaa>\u00a0which would be a more appropriate name for the Gadget Class, to store the gadgets for the dashboard in objects? XWiki.Gadget or XWiki.GadgetClass ?  \n09:32\u00a0<Pon>\u00a0assuming that gadgets are made of bits from the class, the latter ^^;  \n09:34\u00a0<+tmortagne>\u00a0lucaa: the rule is usually to have \"Class\" suffix  \n09:35\u00a0<+lucaa>\u00a0tmortagne: yeah, I was thinking too  \n09:57\u00a0<+lucaa>\u00a0sburjan`: where are the issues for the new administration UI?  \n09:57\u00a0<+lucaa>\u00a0where do we report them?  \n09:57\u00a0<+lucaa>\u00a0and where do I look for them to see if they are already reported?  \n09:57\u00a0<+sburjan`>\u00a0what issues are you talking about ?  \n09:57\u00a0<vmassol>\u00a0lucaa: in the admin app jira project  \n09:57\u00a0<+lucaa>\u00a0any issue  \n09:57\u00a0<+lucaa>\u00a0ok, thanks  \n09:58\u00a0<+sburjan`>\u00a0I didn't reported nothing on admin app, I only stated that there are things I don't like  \n09:59\u00a0<+lucaa>\u00a0if I tell you something I don't agree with, would you report a nice issue with a print screen for me?  \n09:59\u00a0<+sburjan`>\u00a0shoot  \n10:00\u00a0<+lucaa>\u00a0if you go to the look & feel -> presentation section  \n10:00\u00a0<+lucaa>\u00a0you have a lot of space on the screen, but all form fields are narrow, they stop at half screen for me  \n10:00\u00a0<evalica>\u00a0has joined #xwiki  \n10:00\u00a0<+lucaa>\u00a0basically the whole form stops at half page  \n10:01\u00a0<+sburjan`>\u00a0lucaa: because that's how was it designed and voted on the list. I don't like either. but it's not a bug  \n10:01\u00a0<jerome\\_>\u00a0has joined #xwiki  \n10:01\u00a0<+lucaa>\u00a0sburjan`: really?  \n10:02\u00a0<+lucaa>\u00a0hmm... it looks a bit broken to me  \n10:02\u00a0<+lucaa>\u00a0I almost created the issue  \n10:02\u00a0<+sburjan`>\u00a0I also have a wide resolution, and I get a lod of blank space on the right  \n10:02\u00a0<+sburjan`>\u00a0\\*load  \n10:02\u00a0<+lucaa>\u00a0there must be a reason to it, I will read the list  \n10:02\u00a0<+sburjan`>\u00a0let me check the specific section you mentioned  \n10:04\u00a0<+sburjan`>\u00a0it's just that I'm not on a wide res atm  \n10:04\u00a0<vmassol>\u00a0sburjan`: I 'm not sure we agreed about that and I agree with Anca that it looks ugly to not span the whole width  \n10:04\u00a0<vmassol>\u00a0let's ask evalica  \n10:05\u00a0<+lucaa>\u00a0in any case, we can reconsider, if it has been voted so, once we see it impl. and we see it doesn't look good  \n10:05\u00a0<+sburjan`>\u00a0well it seems we're the only 2 complaining :P  \n10:05\u00a0<+evalica>\u00a0vmassol: you were the first objector on the full width for forms as I remember - we can check  \n10:05\u00a0<vmassol>\u00a0no way!  \n10:05\u00a0<vmassol>\u00a0:)  \n10:05\u00a0<vmassol>\u00a0I have \u00a0a large screen  \n10:05\u00a0<+evalica>\u00a0the thing is that on large resolution is hard to read them because the form are too wide - on small resolution there is unused space  \n10:06\u00a0<+evalica>\u00a0a solution would have been to check for resolutions and adjust the width  \n10:06\u00a0<+lucaa>\u00a0evalica: I agree with that  \n10:06\u00a0<vmassol>\u00a0with adjust the width?  \n10:06\u00a0<+sburjan`>\u00a0I not +1 for full width, but also -1 for only half  \n10:06\u00a0<vmassol>\u00a0why not take the whole width (100%)  \n10:06\u00a0<+evalica>\u00a0another thing would be to have some help added in the right of the forms describing more the fields or the administrator section  \n10:06\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:06\u00a0<+lucaa>\u00a0but then we need to lay it out differently, because right now it feels very crowded to the left and really empty to the right  \n10:07\u00a0<+sburjan`>\u00a0maybe centering the content ?  \n10:07\u00a0<vmassol>\u00a0-1000  \n10:07\u00a0<+sburjan`>\u00a0I'm not a specialist in these things  \n10:07\u00a0<vmassol>\u00a0i can see that ;)  \n10:07\u00a0<vmassol>\u00a0just kidding  \n10:07\u00a0<+sburjan`>\u00a0;)  \n10:08\u00a0<+evalica>\u00a0this is the first time I proposed 100% width http://jira.xwiki.org/jira/browse/XSCOLIBRI-48  \n10:08\u00a0<+sburjan`>\u00a0we should test on diferent resolutions. I have a friend that has a 27 inch screen .. and xwiki.org homepage looks cool on a 27 inch. I'm sure admin section won't :P  \n10:09\u00a0<+sburjan`>\u00a0for small resolution looks ok  \n10:09\u00a0<+evalica>\u00a0we are not practicing different width css media queries - this would add some weight on the development and multiple use cases for test too - it would be helpfull for the future mobile skin - until then we do it in one way for all resolutions  \n10:09\u00a0<vmassol>\u00a0+1 to keep it simple FTM  \n10:11\u00a0<+evalica>\u00a0sburjan`: you should test on different resolution no matter if we improve the admin section or not  \n10:12\u00a0<+sburjan`>\u00a0i will .. maybe make some screenshots  \n10:12\u00a0<+sburjan`>\u00a0so we see the span ratio  \n10:14\u00a0<jerome\\_>\u00a0grid based layout ?  \n10:15\u00a0<rrodriguez>\u00a0has joined #xwiki  \n10:15\u00a0<+evalica>\u00a0and in this grid based layout .... the width will be full or partial? :) is the same question even if it's on grid  \n10:16\u00a0<+sburjan`>\u00a0problem is that everything goes wide now .. monitors, resolutions, etc ... and we should make the most to be compatible with wide resolutions  \n10:17\u00a0<jerome\\_>\u00a0usually your container width will be fixed then  \n10:17\u00a0<jerome\\_>\u00a0like 960  \n10:18\u00a0<+evalica>\u00a0sburjan`: the problem is that everything goes mobile now ... and we should make the most to be compatible with \u00a0smaller resolutions too :) what about that?  \n10:18\u00a0<jerome\\_>\u00a0but there is still the possibility to detect you are running on a desktop and make the with a bit wider, like 1200 something  \n10:18\u00a0<jerome\\_>\u00a0if you have a fixed container width it's easier to make a decision on elements inside the container  \n10:18\u00a0<+evalica>\u00a0jerome ... I really don't think that a fixed width grid will improve XWiki - the mobile use case will fall, also the large screens  \n10:19\u00a0<jerome\\_>\u00a0since it can mostly look one way  \n10:19\u00a0<jerome\\_>\u00a0grid is great for mobile  \n10:19\u00a0<+evalica>\u00a0we should use the grid theory in aligning stuff around ... but as for now the best approach is the flexible width layout we have IMO  \n10:19\u00a0<jerome\\_>\u00a0it's actually a very goo reason to use a grid  \n10:20\u00a0<jerome\\_>\u00a0but anyway I'm not saying we should have just a grid based skin  \n10:20\u00a0<jerome\\_>\u00a0though having one would be great  \n10:21\u00a0<+evalica>\u00a0if we are gonna do the detection that will solve the problem no matter what type of layout we have  \n10:22\u00a0<+sburjan`>\u00a0or, for the moment, set it to > 50% ?  \n10:22\u00a0<jerome\\_>\u00a0I don't know what detection you are talking about  \n10:22\u00a0<jerome\\_>\u00a0media queries ?  \n10:22\u00a0<vmassol>\u00a0grid sounds too complex for now IMO and indeed doesn't solve the issue with the width. I'm for a simple rule that says full width. that works with all resolutions  \n10:22\u00a0<polx\\_>\u00a0has joined #xwiki  \n10:22\u00a0<polx\\_>\u00a0has quit  \n10:22\u00a0<+evalica>\u00a0you said before \"to detect you are running on a desktop and make the with a bit wider, like 1200 something\"  \n10:22\u00a0<+sburjan`>\u00a0that's usually js, right ?  \n10:23\u00a0<jerome\\_>\u00a0has quit  \n10:23\u00a0<+evalica>\u00a0or css throgh media queries  \n10:23\u00a0<+evalica>\u00a0you can test the full width .. in administration remove \"half\" class and leave just <form class=\"xform\"  \n10:24\u00a0<+evalica>\u00a0the change is very simple ... the thing is just to get our opinions consistent  \n10:25\u00a0<polx>\u00a0has quit  \n10:25\u00a0<+lucaa>\u00a0evalica: on my screen it looks great on full (1366 x 768)  \n10:26\u00a0<+sburjan`>\u00a0on mine doesn't look so great.. I think I have 1400x something  \n10:26\u00a0<vmassol>\u00a0mee too  \n10:26\u00a0<+sburjan`>\u00a0I mean they look a bit short .. the forms  \n10:26\u00a0<vmassol>\u00a01920  \n10:26\u00a0<+sburjan`>\u00a0and the most annyoing part is that input areas .. like code boxes.. should be larger because the code is hard to read .. IMO  \n10:26\u00a0<+lucaa>\u00a0I'm looking at the presentation section in look and feel, which is full of so many things (I mean the inputs are filled with values) and the half version looked that much stranger because of that: there is content in, you need to scroll to see it, but there is white space left  \n10:27\u00a0<+lucaa>\u00a0so I like it on full, I would be +1  \n10:27\u00a0<+evalica>\u00a0guys ... I will make a poll on incubator and send a mail to the list  \n10:27\u00a0<+lucaa>\u00a0however, the selects look a bit odd  \n10:27\u00a0<+lucaa>\u00a0show right panels, for example  \n10:27\u00a0<+lucaa>\u00a0it's really biiiiiiig  \n10:27\u00a0<+lucaa>\u00a0and it only has yes and no as values :)  \n10:28\u00a0<+sburjan`>\u00a0we should fix this before I start updating the documentation (screenshots more exactly), because I don't want to make twice the same job  \n10:30\u00a0<+lucaa>\u00a0it's not like that sburjan`, it's like: \"you should work together with people to synchronize properly on this, so that you do it in an efficient way\". It sounds waaay waay more team spirit :)  \n10:30\u00a0<+sburjan`>\u00a0:))  \n10:34\u00a0<+sburjan`>\u00a0so, why increasing width somewhere over 50% isn't good ? It will offer a more consistent look  \n10:34\u00a0<vmassol>\u00a0mflorea: maybe time to upgrade to latest jenkins to try to sort the hudson issues. Note that they may be caused by nexus too potentially  \n10:35\u00a0<vmassol>\u00a0sburjan`: because it's not enough and it's a pity to waste available space  \n10:35\u00a0<+sburjan`>\u00a0understood  \n10:36\u00a0<+mflorea>\u00a0vmassol: +1, I'll ask a sysamin to do this. I think we have to rename hudson.xwiki.org to jenkins.xwiki.org wdyt?  \n10:37\u00a0<vmassol>\u00a0actually I prefer ci.xwiki.org  \n10:37\u00a0<vmassol>\u00a0;)  \n10:37\u00a0<+tmortagne>\u00a0or at least have both  \n10:37\u00a0<+mflorea>\u00a0righ  \n10:37\u00a0<+evalica>\u00a0ci means what?  \n10:37\u00a0<+sburjan`>\u00a0aliases :)  \n10:37\u00a0<+mflorea>\u00a0to be independent  \n10:37\u00a0<+tmortagne>\u00a0ci is probably more generic indeed  \n10:37\u00a0<+sburjan`>\u00a0continous integration ;)  \n10:37\u00a0<vmassol>\u00a0or both indeed  \n10:37\u00a0<+sburjan`>\u00a0a DNS alias should be easy to create  \n10:37\u00a0<+mflorea>\u00a0I'm +1 for ci  \n10:37\u00a0<+evalica>\u00a0how about integration.xwiki.org  \n10:37\u00a0<+tmortagne>\u00a0evalica: it's not only that  \n10:38\u00a0<+tmortagne>\u00a0but aliases does not cost much so we could have all the aliases anyone think relevant ;)  \n10:38\u00a0<vmassol>\u00a0ci is shorter and well known  \n10:38\u00a0<vmassol>\u00a0(and says more)  \n10:39\u00a0<+evalica>\u00a0builds.xwiki.org :) anyway ... when creating the new site you should send a mail.. because I would never guessed \"ci\"  \n10:40\u00a0<+sburjan`>\u00a0a mail will be surely sent ;)  \n10:41\u00a0<+sburjan`>\u00a0do we want this before 3.0 final ?  \n10:41\u00a0<vmassol>\u00a0http://ci.codehaus.org/  \n10:41\u00a0<vmassol>\u00a0http://ci.apache.org/  \n10:42\u00a0<DrLou>\u00a0has joined #xwiki  \n10:42\u00a0<+tmortagne>\u00a0if last version of jenkins could fix the very ugly hudson \u00a0error on console view we want that ASAP :)  \n10:44\u00a0<+sburjan`>\u00a0true :)  \n10:44\u00a0<+evalica>\u00a0thanks vmassol for the examples  \n10:45\u00a0<vmassol>\u00a0http://builds.codehaus.org/ works too it's an alias  \n10:45\u00a0<vmassol>\u00a0we can have aliases  \n10:57\u00a0<vmassol>\u00a0has quit  \n11:01\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:02\u00a0<@sdumitriu>\u00a0mflorea: I'm not sure XWIKI-5967 is your domain  \n11:02\u00a0<@sdumitriu>\u00a0It's related more to the PDF export, not the OO viewer  \n11:03\u00a0<+mflorea>\u00a0sdumitriu: you can take it, I assigned to me because I think it's related to the fact that office viewer displays the images using the temp action, from the temporary directory. I guess the pdf URL factory should take this into account.  \n11:10\u00a0<+mflorea>\u00a0I created XWPLT-353 for the jenkins upgrade  \n11:10\u00a0<sdumitriu>\u00a0has quit  \n11:11\u00a0<mflorea>\u00a0has quit  \n11:15\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:19\u00a0<vmassol>\u00a0has joined #xwiki  \n11:19\u00a0<jvdrean>\u00a0has quit  \n11:25\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:26\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:31\u00a0<vmassol>\u00a0evalica: thought you liked full width, but you voted for partial width....  \n11:31\u00a0<+evalica>\u00a0:)  \n11:32\u00a0<+evalica>\u00a0they have both advantages and disadvantages - I like full for small resolutions, but partial for larger because of the readability. The extra space can be filled with help  \n11:32\u00a0<vmassol>\u00a0I don't see any disadvantages for full  \n11:32\u00a0<vmassol>\u00a0can you list one?  \n11:33\u00a0<vmassol>\u00a0(knowing that there's no help ATM)  \n11:33\u00a0<vmassol>\u00a0(adding help would be \\*another\\* discussion)  \n11:33\u00a0<vmassol>\u00a0(and the form would still take 100%)  \n11:33\u00a0<vmassol>\u00a0(100% of the space it has for it)  \n11:33\u00a0<+sburjan`>\u00a0I guess having long input fields filed with a \"yes\" value  \n11:34\u00a0<vmassol>\u00a0sburjan`: that's minor and select fields can have a fixed size if we want  \n11:34\u00a0<+evalica>\u00a0on large displays .... the readability is lowered - I can't seem to distinguish where an input begins and end ... my periferal view perceives only lines  \n11:34\u00a0<vmassol>\u00a0evalica: try it on the Presentation page  \n11:34\u00a0<+evalica>\u00a0vmassol: no... all input should have the same width  \n11:34\u00a0<+sburjan`>\u00a0also same for the drop-down's  \n11:35\u00a0<+evalica>\u00a0vmassol: \u00a0try it on general  \n11:35\u00a0<vmassol>\u00a0I definitely don't agree with this as the first rule  \n11:35\u00a0<vmassol>\u00a0first rule = get max space for text inputs  \n11:35\u00a0<vmassol>\u00a0second rule = try to make it look as nice as possible  \n11:35\u00a0<+evalica>\u00a0if the fields have the same width they will look aligned and unitary  \n11:36\u00a0<+evalica>\u00a0until now we had all kind of width ... and looked very messy  \n11:42\u00a0<abusenius>\u00a0has joined #xwiki  \n12:12\u00a0<vmassol>\u00a0lucaa: I think you introduced a build cycle ;)  \n12:12\u00a0<+lucaa>\u00a0I did  \n12:12\u00a0<vmassol>\u00a0[INFO] The projects in the reactor contain a cyclic reference: Edge between 'Vertex{label='org.xwiki.platform:xwiki-core-rendering-macro-dashboard'}' and 'Vertex{label='com.xpn.xwiki.platform:xwiki-core'}' introduces to cycle in the graph com.xpn.xwiki.platform:xwiki-core --> org.xwiki.platform:xwiki-core-rendering-macro-dashboard --> com.xpn.xwiki.platform:xwiki-core  \n12:13\u00a0<+lucaa>\u00a0yes, I did  \n12:13\u00a0<+lucaa>\u00a0sorry  \n12:13\u00a0<+lucaa>\u00a0how can I fix this...  \n12:13\u00a0<vmassol>\u00a0remove the dep on core  \n12:13\u00a0<+lucaa>\u00a0if I need objects in a macro, how should I do?  \n12:13\u00a0<+lucaa>\u00a0easy to say :)  \n12:13\u00a0<vmassol>\u00a0haven't checked why you need it\u2026 yeah ;)  \n12:13\u00a0<vmassol>\u00a0DAB  \n12:13\u00a0<vmassol>\u00a0add methods in there maybe  \n12:14\u00a0<+lucaa>\u00a0I don't want to start a vote on adding methods to the DAB  \n12:14\u00a0<+lucaa>\u00a0we had it before, tmortagne -1 ed  \n12:14\u00a0<+lucaa>\u00a0and for some good reasons  \n12:14\u00a0<vmassol>\u00a0I don't remember the good reason  \n12:14\u00a0<vmassol>\u00a0in any case ?1 is not enough, we need a solution  \n12:15\u00a0<+lucaa>\u00a0the solution, then, was to write the stuff that needs the core in a separate module  \n12:15\u00a0<+lucaa>\u00a0I can find the mail  \n12:15\u00a0<vmassol>\u00a0why does core needdashboard macro?  \n12:15\u00a0<+lucaa>\u00a0but I so so so much want a fast solution to this  \n12:15\u00a0<+lucaa>\u00a0core doesn't need any macro  \n12:15\u00a0<vmassol>\u00a0doesn't look right  \n12:15\u00a0<vmassol>\u00a0I think it might simply be a wrong dep  \n12:15\u00a0<+lucaa>\u00a0but by convention they are added as deps to the core, to be pulled by the other deps  \n12:15\u00a0<+lucaa>\u00a0all macros are like that  \n12:15\u00a0<vmassol>\u00a0for packaging purpose only  \n12:15\u00a0<+lucaa>\u00a0added as deps to core  \n12:15\u00a0<+lucaa>\u00a0yes  \n12:16\u00a0<vmassol>\u00a0yes that's wrong  \n12:16\u00a0<+lucaa>\u00a0they could be in web  \n12:16\u00a0<vmassol>\u00a0and can be fixed easily  \n12:16\u00a0<+lucaa>\u00a0s/could/should  \n12:16\u00a0<vmassol>\u00a0yes  \n12:16\u00a0<vmassol>\u00a0I agree  \n12:16\u00a0<+lucaa>\u00a0it's also more semantic, as the war is the \"packaging\" artifact, not the jar  \n12:16\u00a0<+lucaa>\u00a0(at least in my head)  \n12:17\u00a0<vmassol>\u00a0yes  \n12:17\u00a0<+lucaa>\u00a0thanks for letting me know, fixing it now (only for the db macro, though)  \n12:17\u00a0<vmassol>\u00a0you can propose it and go ahead IMO  \n12:17\u00a0<vmassol>\u00a0to fix them all  \n12:17\u00a0<vmassol>\u00a0better fix all at once  \n12:17\u00a0<vmassol>\u00a0it's not more complex  \n12:17\u00a0<+lucaa>\u00a0ok, proposal will it be then  \n12:18\u00a0<vmassol>\u00a0ok yes quickly to fix the build  \n12:18\u00a0<+lucaa>\u00a0I need to do a full build, and that is complex on my machine ;)  \n12:18\u00a0<+lucaa>\u00a0(since it restarts)  \n12:19\u00a0<+tmortagne>\u00a0lucaa: i already gave you as quick solution to move the dep from core to war some time ago  \n12:20\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n12:20\u00a0<+lucaa>\u00a0tmortagne: probably. At that point I found another solution, because I don't like depending on the core so much. But now I don't really have too many choices  \n12:20\u00a0<abusenius>\u00a0has quit  \n12:21\u00a0<+lucaa>\u00a0so it means everybody agrees and you'll +1 my vote  \n12:21\u00a0<+lucaa>\u00a0great  \n12:21\u00a0<abusenius\\_>\u00a0is now known as <abusenius>  \n12:22\u00a0<+tmortagne>\u00a0I'm +0 (I always prefer to find a better solution than depending on core when possible)  \n12:23\u00a0<+lucaa>\u00a0assuming that this is not about the circular dep but about the fact that the macro deps are in the wrong place...  \n12:25\u00a0<+tmortagne>\u00a0hard to see core as the rights place technically but it's easier for xem-web-debug ;)  \n12:26\u00a0<+tmortagne>\u00a0hope maven implements quickly the pseudo multi parent (don't remember the real name)  \n12:30\u00a0<vmassol>\u00a0sdumitriu: re naming we use \"Skype Macro\" for 2.0macros and \"Skype Macro (Radeox)\" or \"Skype Macro (Velocity)\" for old ones  \n12:31\u00a0<@sdumitriu>\u00a0Didn't I do that?  \n12:31\u00a0<@sdumitriu>\u00a0Oh  \n12:31\u00a0<vmassol>\u00a0(to make sure people choose the best one by default)  \n12:31\u00a0<@sdumitriu>\u00a0Skype Macro was taken  \n12:31\u00a0<vmassol>\u00a0yes exactly  \n12:31\u00a0<@sdumitriu>\u00a0But I updated the title  \n12:31\u00a0<vmassol>\u00a0we made that change when moving to extensions  \n12:31\u00a0<jerome\\_\\_>\u00a0has joined #xwiki  \n12:31\u00a0<vmassol>\u00a0you can rename  \n12:31\u00a0<vmassol>\u00a0that's what we did the ofth others  \n12:32\u00a0<@sdumitriu>\u00a0I'll rename  \n12:32\u00a0<vmassol>\u00a0great  \n12:33\u00a0<@sdumitriu>\u00a0Done  \n12:33\u00a0<jerome\\_\\_>\u00a0has quit  \n12:33\u00a0<vmassol>\u00a0thanks  \n12:33\u00a0<jerome\\_\\_>\u00a0has joined #xwiki  \n12:34\u00a0<jerome\\_\\_>\u00a0has quit  \n12:34\u00a0<jerome\\_\\_>\u00a0has joined #xwiki  \n12:34\u00a0<jerome\\_\\_>\u00a0is now known as <jvelociter>  \n12:34\u00a0<jvdrean>\u00a0has quit  \n12:36\u00a0<florinciu>\u00a0has joined #xwiki  \n12:36\u00a0<jvdrean>\u00a0has joined #xwiki  \n12:49\u00a0<+lucaa>\u00a0vmassol: I committed the fast fix (only for dashboard), the build should be fine now  \n12:49\u00a0<vmassol>\u00a0thanks  \n12:50\u00a0<jvelociter>\u00a0has quit  \n12:50\u00a0<mflorea>\u00a0has joined #xwiki  \n12:50\u00a0<+sburjan`>\u00a0lol, I thought we used PreparedStatement already  \n12:51\u00a0<abusenius>\u00a0has quit  \n12:53\u00a0<+lucaa>\u00a0team, did we upgrade scriptaculous or something in 3.0? draganddrop doesn't work as it used to...  \n12:53\u00a0<+lucaa>\u00a0sdumitriu: ?  \n12:55\u00a0<@sdumitriu>\u00a0Checking  \n12:55\u00a0<+lucaa>\u00a0I'm looking at the history of files  \n12:56\u00a0<+lucaa>\u00a0and so far nothing special for scriptaculous.js or dragdrop.js  \n12:56\u00a0<@sdumitriu>\u00a0No  \n12:57\u00a0<+lucaa>\u00a0ok, then it's a debugging day for me...  \n12:57\u00a0<@sdumitriu>\u00a0The last upgrade was on Mon Jun 21 08:24:52 2010 +0000  \n12:57\u00a0<+lucaa>\u00a0yes, I see that as well  \n13:16\u00a0<+tmortagne>\u00a0sburjan`: yes me too but there was a remaining place it seems  \n13:16\u00a0<+sburjan`>\u00a0tmortagne: afaik statement in vulnerable to sql attacks, and PreparedStatement isn't .. but I can't 100% confirm this  \n13:17\u00a0<+tmortagne>\u00a0it's not that simple actually  \n13:17\u00a0<+tmortagne>\u00a0you can do the exact same mistake with both  \n13:17\u00a0<+sburjan`>\u00a0I know  \n13:17\u00a0<+sburjan`>\u00a0i wrote a sql injection app, that was vulnetable, and switching to prepared statement, blocked the attack queries  \n13:18\u00a0<+tmortagne>\u00a0but preparestatement has integrated escaping feature which makes easier to avoid sql attacks  \n13:18\u00a0<+sburjan`>\u00a0yea ..  \n13:26\u00a0<cjdelisle>\u00a0Pon: Have you taken a look at this? http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs  \n13:27\u00a0<cjdelisle>\u00a0I have not run xwiki behind a proxy myself but I know it can be done (xwiki.org)  \n13:34\u00a0<polx>\u00a0has joined #xwiki  \n14:02\u00a0<florinciu>\u00a0has quit  \n14:02\u00a0<sburjan`>\u00a0has quit  \n14:02\u00a0<sburjan`>\u00a0has joined #xwiki  \n14:03\u00a0<florinciu>\u00a0has joined #xwiki  \n14:07\u00a0<polx>\u00a0has quit  \n14:24\u00a0<lynxt>\u00a0has joined #xwiki  \n14:28\u00a0<abusenius>\u00a0has joined #xwiki  \n14:36\u00a0<+tmortagne>\u00a0did the way to set the parent of a page in the UI changed ? I can't find how i'm supposed to do it on trunk (or myxwiki.org which is based on 3.0M1)  \n14:44\u00a0<@sdumitriu>\u00a0Yes  \n14:44\u00a0<@sdumitriu>\u00a0Click the icon next to the hierarchy, above the document  \n14:44\u00a0<+tmortagne>\u00a0ha ok i was wondering what was this thing :)  \n14:44\u00a0<+tmortagne>\u00a0thanks  \n14:44\u00a0<+tmortagne>\u00a0not that easy to guess  \n14:45\u00a0<+mflorea>\u00a0cjdelisle: can I add \"Experimental filesystem attachment storage\" to the highlights of the 3.0M2 release?  \n14:46\u00a0<+tmortagne>\u00a0looks like it's impossible to set a parent that does not exists anymore  \n14:46\u00a0<+tmortagne>\u00a0is that expected ?  \n14:47\u00a0<vmassol>\u00a0mflorea: provided cjdelisle says yes, we need to document in the RN how to test the experimental attachment storage  \n14:48\u00a0<+mflorea>\u00a0yes  \n14:48\u00a0<vmassol>\u00a0(cjdelisle could add it to the RN)  \n14:48\u00a0<vmassol>\u00a0I was planning to try it out too this afternoon  \n14:48\u00a0<vmassol>\u00a0just a quick check to see if it worked for me  \n14:49\u00a0<+tmortagne>\u00a0re parent: nevermind it's working actually  \n14:55\u00a0<cjdelisle>\u00a0Yes, I will start writing up some info now.  \n14:55\u00a0<+mflorea>\u00a0ok, thanks  \n14:59\u00a0<jvelociter>\u00a0has joined #xwiki  \n15:23\u00a0<+mflorea>\u00a0vmassol: can you update Freshmeat with info about the new 3.0M2 release?  \n15:24\u00a0<vmassol>\u00a0mflorea: yes doing it  \n15:24\u00a0<+mflorea>\u00a0thanks ;)  \n15:24\u00a0<vmassol>\u00a0I can do wikimatrix too  \n15:24\u00a0<+mflorea>\u00a0great, thanks  \n15:25\u00a0<vmassol>\u00a0ahah should I put \"yes\" in filesystem datastorage on wikimatrix? ;)  \n15:25\u00a0<vmassol>\u00a0I'll keep no for now  \n15:27\u00a0<venkatesh>\u00a0has quit  \n15:29\u00a0<vmassol>\u00a0mflorea: seems we missed the 3.0M1 releaseo n freshmeat, adding it too  \n15:30\u00a0<+mflorea>\u00a0vmassol: yes, I forgot to ping you after I sent the announcement mail  \n15:31\u00a0<vmassol>\u00a0the only pb is that I can't change the date...  \n15:33\u00a0<vmassol>\u00a0done  \n15:41\u00a0<arkub>\u00a0has quit  \n15:43\u00a0<+lucaa>\u00a0mmh, there seem to be tests in the core that need the macros I just removed  \n15:43\u00a0<+lucaa>\u00a0vmassol: are you in the mood to help with that?  \n15:46\u00a0<vmassol>\u00a0yeah II'm rebuilidng, I had local changes that I'm removing first  \n15:47\u00a0<+tmortagne>\u00a0lucaa: there is scripting test etc in core which need script macros, what you can do is depend on theses macro as test dependencies  \n15:47\u00a0<+tmortagne>\u00a0which in perfectly normal  \n15:47\u00a0<+lucaa>\u00a0tmortagne: yes, i thought about that as well  \n15:47\u00a0<+lucaa>\u00a0\"help\" I meant as in test all these and redo the build, etc  \n16:06\u00a0<DrLou>\u00a0has quit  \n16:14\u00a0<rrodriguez>\u00a0has quit  \n16:14\u00a0<+lucaa>\u00a0and done, again, build should be fine this time  \n16:14\u00a0<+lucaa>\u00a0I hope, at least  \n16:15\u00a0<rrodriguez>\u00a0has joined #xwiki  \n16:19\u00a0<rrodriguez>\u00a0has quit  \n16:21\u00a0<jstoldt>\u00a0cu, have a nice day  \n16:21\u00a0<jstoldt>\u00a0has quit  \n16:44\u00a0<jvelociter>\u00a0has quit  \n16:59\u00a0<+tmortagne>\u00a0cjdelisle, sdumitriu: would be great to have your input on security mailing list  \n17:00\u00a0<@sdumitriu>\u00a0Yep, thinking about it  \n17:00\u00a0<@sdumitriu>\u00a0I'm -0 at the moment  \n17:01\u00a0<+tmortagne>\u00a0especially on possible use case sin you know existing templates better than me  \n17:01\u00a0<cjdelisle>\u00a0+1 for security. I know it will be hard but we can't just have these things laying around.  \n17:01\u00a0<jvelociter>\u00a0has joined #xwiki  \n17:02\u00a0<@sdumitriu>\u00a0I'm actually closer to -1  \n17:02\u00a0<jvelociter\\_>\u00a0has joined #xwiki  \n17:02\u00a0<jvelociter>\u00a0has quit  \n17:02\u00a0<jvelociter\\_>\u00a0is now known as <jvelociter>  \n17:02\u00a0<cjdelisle>\u00a0Why -1?  \n17:04\u00a0<@sdumitriu>\u00a0Since it prevents very useful functionality  \n17:04\u00a0<@sdumitriu>\u00a0Preview comments  \n17:04\u00a0<@sdumitriu>\u00a0In many custom applications it's used intensively  \n17:04\u00a0<cjdelisle>\u00a0Oh, was the proposal to remove the content entirely?  \n17:05\u00a0<cjdelisle>\u00a0s/content/function/  \n17:05\u00a0<@sdumitriu>\u00a0I'm not -1 on blocking programming rights  \n17:05\u00a0<@sdumitriu>\u00a0I'm -1 on restricting access to the method  \n17:05\u00a0<+tmortagne>\u00a0sdumitriu: don't forget the \"(unless it's the same author)\"  \n17:05\u00a0<@sdumitriu>\u00a0Something like dropPermission is better, but it will break stuff  \n17:05\u00a0<cjdelisle>\u00a0If not the same author then it should explode with an exception?  \n17:05\u00a0<+tmortagne>\u00a0i don't propose to make this method always limited to prgramming right  \n17:06\u00a0<@sdumitriu>\u00a0So I'm searching for a better solution  \n17:06\u00a0<+tmortagne>\u00a0$doc.getRedenreredContent(\"something\") would still work  \n17:06\u00a0<cjdelisle>\u00a0Why not setAuthor before previewing content?  \n17:06\u00a0<+tmortagne>\u00a0so i really don't see what is the issue with comments  \n17:06\u00a0<@sdumitriu>\u00a0(what I'm thinking right now is setAuthor or fakeDocument)  \n17:07\u00a0<@sdumitriu>\u00a0tmortagne: Is it urgent? Can it wait a couple of hours?  \n17:08\u00a0<+tmortagne>\u00a0sdumitriu: it can wait as long as you want, it's here since pretty much XWiki exists I guess  \n17:08\u00a0<+tmortagne>\u00a0so it's not like it was a regression or something7  \n17:08\u00a0<+tmortagne>\u00a0but since it seems easy to fix i wanted to do it  \n17:09\u00a0<cjdelisle>\u00a0Since you should be working with a clone, I think calling setAuthor first should do the trick.  \n17:09\u00a0<cjdelisle>\u00a0(just make sure it really is a clone)  \n17:11\u00a0<+tmortagne>\u00a0cjdelisle: not sure it's the best, i don't see why someone would render some text based on another document when he can simply use current document for it  \n17:12\u00a0<@sdumitriu>\u00a0To emulate a sheet?  \n17:12\u00a0<@sdumitriu>\u00a0As in: $doc should be the current document  \n17:13\u00a0<cjdelisle>\u00a0It would be a subtle break insead of a major one. Also the other document's objects will be available.  \n17:13\u00a0<cjdelisle>\u00a0OTOH a major break that which is fixed by saving the code with PR also has it's advantages.  \n17:14\u00a0<cjdelisle>\u00a0Could log an exception explaining that the function will only work if document W.X has PR.  \n17:20\u00a0<@sdumitriu>\u00a0No, PR should never be expected  \n17:20\u00a0<@sdumitriu>\u00a0If an API requires PR, it's a bad API  \n17:20\u00a0<@sdumitriu>\u00a0And this method is quite useful  \n17:20\u00a0<+tmortagne>\u00a0sdumitriu: again this method does not always require programming right  \n17:21\u00a0<+tmortagne>\u00a0it require it when you try to execute in the context of another user  \n17:21\u00a0<+tmortagne>\u00a0which is pretty normal IMO...  \n17:21\u00a0<+jvelociter>\u00a0tmortagne: how will it behave for code in templates ?  \n17:21\u00a0<cjdelisle>\u00a0\"If an API requires PR, it's a bad API\" then you suggest removing it entirely? It's not really a solution to leave the key to the city just lying around.  \n17:22\u00a0<+jvelociter>\u00a0(I'm using this in templates somewhere on a project I think)  \n17:22\u00a0<+tmortagne>\u00a0jvelociter: you still have a current document in most template  \n17:22\u00a0<cjdelisle>\u00a0(signing everything will solve this problem but will also change the author)  \n17:22\u00a0<+jvelociter>\u00a0so it will check the PR right according to the doc  \n17:30\u00a0<+tmortagne>\u00a0jvelociter: the way templates deals with programming right is not very good but that does not change much the initial issue  \n17:33\u00a0<vmassol>\u00a0cjdelisle: I'd like to try the filesystem storage for attachments, ahve you explained in the RN how to use it?  \n17:34\u00a0<vmassol>\u00a0(or can you paste me the line to modify in xwiki.cfg?)  \n17:34\u00a0<cjdelisle>\u00a0I am writing that now, in between a response to your email re storage deprecations.  \n17:34\u00a0<vmassol>\u00a0:)  \n17:34\u00a0<cjdelisle>\u00a0#-# The attachment storage.  \n17:34\u00a0<cjdelisle>\u00a0xwiki.store.attachment.hint=file  \n17:34\u00a0<cjdelisle>\u00a0#-# The attachment versioning storage. Use 'void' to disable attachment versioning.  \n17:35\u00a0<cjdelisle>\u00a0xwiki.store.attachment.versioning.hint=file  \n17:35\u00a0<cjdelisle>\u00a0#-# Whether the attachment recycle bin feature is activated or not  \n17:35\u00a0<cjdelisle>\u00a0storage.attachment.recyclebin=0  \n17:35\u00a0<cjdelisle>\u00a0and  \n17:35\u00a0<cjdelisle>\u00a0<your site>/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n17:35\u00a0<cjdelisle>\u00a0Scroll down until you find:  \n17:35\u00a0<cjdelisle>\u00a0##Maximum Upload Size##  \n17:35\u00a0<cjdelisle>\u00a0and change that number to something huge like:  \n17:35\u00a0<cjdelisle>\u00a0999999999999999999999 ;)  \n17:35\u00a0<vmassol>\u00a0so there's no need to pass any class name in the config?  \n17:36\u00a0<cjdelisle>\u00a0the \"file\" hint is what tells it.  \n17:36\u00a0<vmassol>\u00a0ok didn't realize the attachment storage was already using components  \n17:36\u00a0<vmassol>\u00a0cool then  \n17:36\u00a0<arkub>\u00a0has joined #xwiki  \n17:36\u00a0<cjdelisle>\u00a0Yes, it made my life much easier.  \n17:38\u00a0<vmassol>\u00a0cjdelisle: hmmm  \n17:38\u00a0<vmassol>\u00a0ah wait  \n17:38\u00a0<vmassol>\u00a0I know  \n17:39\u00a0<vmassol>\u00a0I had excluded the store module from building :)  \n17:39\u00a0<vmassol>\u00a0(since a test was failing)  \n17:39\u00a0<vmassol>\u00a0rebuilding nbow  \n17:41\u00a0<jvelociter>\u00a0has quit  \n17:45\u00a0<vmassol>\u00a0cjdelisle: where are the attachments located?  \n17:45\u00a0<cjdelisle>\u00a0<work dir>/storage/.....  \n17:45\u00a0<vmassol>\u00a0ok found it thanks  \n17:45\u00a0<vmassol>\u00a0so in the servlet container's temp dir right?  \n17:46\u00a0<cjdelisle>\u00a0should not be temp  \n17:46\u00a0<vmassol>\u00a0how do you get the location from java?  \n17:46\u00a0<cjdelisle>\u00a0\u00a0/var/log/tomcat55/work/storage on my computer  \n17:46\u00a0<cjdelisle>\u00a0get XWiki.java and ask it it's work direcrtory.  \n17:48\u00a0<cjdelisle>\u00a0hmm, I didn't test it under that configuration. It seems I cannot delete attachments without recyclebin store enabled.  \n17:48\u00a0<cjdelisle>\u00a0I see what you mean about not trying to implement old apis.  \n17:55\u00a0<vmassol>\u00a0cjdelisle: I get an error with a large file: \"XWiki has a default limit of around 10Mb for attached files. This limit can be changed using the upload\\_maxsize parameter. Check the FAQ for more information.\"  \n17:55\u00a0<vmassol>\u00a0I've used 999999999999999999999 as the max size  \n17:56\u00a0<vmassol>\u00a0cjdelisle: other question why do I have 2 versions stored when I uploaded only 1 file? is it to compare, like subversion does?  \n17:57\u00a0<cjdelisle>\u00a0How big is the file? I found 480MB worked 4.8GB failed but it complained about the browser not sending all of the data.  \n17:57\u00a0<vmassol>\u00a0http://tinypaste.com/5ade6  \n17:57\u00a0<vmassol>\u00a0the file is about 900MB  \n17:57\u00a0<vmassol>\u00a0browser uploaded it 100%  \n17:58\u00a0<cjdelisle>\u00a0The 2 files is because there are 2 modules, each one is designed separate and has to work on it's own.  \n17:59\u00a0<cjdelisle>\u00a0I suppose we could fold store into versioning store and then we only have one file but then it will be an absolute requirement that both are used together.  \n18:00\u00a0<lynxt>\u00a0has quit  \n18:00\u00a0<vmassol>\u00a0cjdelisle: so rollback doesn't work right?  \n18:01\u00a0<vmassol>\u00a0(just tried and it didn't work)  \n18:01\u00a0<vmassol>\u00a0I deleted the attachment, check the FS and it wasn't there, then tried to rollback before the deletion in the history and the attachment isn't there  \n18:01\u00a0<cjdelisle>\u00a0You're doing better than me.  \n18:02\u00a0<cjdelisle>\u00a0I am having trouble with core not passing the attachment for deletion unless recycle bin is active.  \n18:02\u00a0<cjdelisle>\u00a0Maybe my core is old.  \n18:03\u00a0<cjdelisle>\u00a0Yes, I think I'm suffering from a version mismatch.  \n18:03\u00a0<cjdelisle>\u00a0\"then tried to rollback before the \u00a0deletion in the history and the attachment isn't there\"  \n18:03\u00a0<cjdelisle>\u00a0^^ recycle bin is not finished.  \n18:04\u00a0<vmassol>\u00a0ok you should list what is expected to work and what is not expeted to work in the RN  \n18:04\u00a0<cjdelisle>\u00a0Will do.  \n18:04\u00a0<vmassol>\u00a0works good otherwise so far  \n18:04\u00a0<cjdelisle>\u00a0\\*sigh\\*  \n18:04\u00a0<vmassol>\u00a0so except for the large file  \n18:04\u00a0<vmassol>\u00a0:)  \n18:04\u00a0<cjdelisle>\u00a0So much to go wrong  \n18:06\u00a0<cjdelisle>\u00a0I think I will alter the attachment store so that it uses one file instead of 2, that behavior matches the original (storing everything in 2 places) but it is not needed.  \n18:08\u00a0<vmassol>\u00a0we need to find out why large file don't work though since it's the main reason for the new FS storage ;)  \n18:09\u00a0<cjdelisle>\u00a0Do you have an exception in the log?  \n18:09\u00a0<vmassol>\u00a0no  \n18:09\u00a0<vmassol>\u00a0just the error template page with the message I pasted  \n18:09\u00a0<cjdelisle>\u00a0Then it must be that limiter can't go any higher.  \n18:10\u00a0<cjdelisle>\u00a0I'd be +1 for removing that limit entirely for users with PR, WDYT?  \n18:11\u00a0<vmassol>\u00a0I don't know where this limit is  \n18:11\u00a0<vmassol>\u00a0I'm not sure I'd tie it with PR though  \n18:11\u00a0<cjdelisle>\u00a0it's in the ipload plugin (which is pretty much unnecessary now)  \n18:11\u00a0<vmassol>\u00a0admin possibly but PR I don't think so  \n18:12\u00a0<vmassol>\u00a0ok I see why you say PR so that standard users could use it  \n18:12\u00a0<cjdelisle>\u00a0I suppose there are so many ways to DoS a server that limiting the upload size is rather silly.  \n18:25\u00a0<cjdelisle>\u00a01GBof.nulls Delete Edit 1.1  \n18:25\u00a0<cjdelisle>\u00a0Posted by Administrator on 2011/02/09 12:25 (1024.0Mb)  \n18:26\u00a0<cjdelisle>\u00a0Maybe double check XWikiPreferences and make sure the number saved?  \n18:27\u00a0<vmassol>\u00a0yep  \n18:27\u00a0<vmassol>\u00a0doing that  \n18:27\u00a0<vmassol>\u00a0indeed  \n18:27\u00a0<vmassol>\u00a0my value wasn't saved  \n18:27\u00a0<vmassol>\u00a02011-02-09 17:53:49,361 [http://localhost:8080/xwiki/bin/save/XWiki/XWikiPreferences] WARN \u00a0classes.NumberClass \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Invalid number entered for property upload\\_maxsize of class XWiki.XWikiPreferences: 999999999999999999999  \n18:28\u00a0<cjdelisle>\u00a099999999999999999  \n18:28\u00a0<cjdelisle>\u00a0ahh, just slightly smaller.  \n18:28\u00a0<cjdelisle>\u00a0well... Width wise  \n18:30\u00a0<vmassol>\u00a0hmm it uploaded relatively fast I could see it going up to 100% and not it\"s \"waiting on localhost\"  \n18:30\u00a0<vmassol>\u00a0\"waiting for localhost....\"  \n18:31\u00a0<vmassol>\u00a0still waiting, taking long....  \n18:32\u00a0<cjdelisle>\u00a0It could be more efficient, you upload to the temp file (fileupload plugin) then that streams to the attachment file and that streams to the attachment archive file.  \n18:32\u00a0<vmassol>\u00a0ok done  \n18:32\u00a0<vmassol>\u00a0it worked  \n18:33\u00a0<cjdelisle>\u00a0If we were to accept merging attachmentStore, attachmentVersioningStore and attachmentRecyclebinStore then we could get much better performance.  \n18:33\u00a0<cjdelisle>\u00a0\"copy and delete\" could be replaced with \"rename\"  \n18:34\u00a0<vmassol>\u00a0so we need the recycle bin and we're good to go!  \n18:35\u00a0<cjdelisle>\u00a0I need to upgrade from 2.7, I'm seeing bugs everywhere D:  \n18:38\u00a0<cjdelisle>\u00a0http://www.datanucleus.org/products/accessplatform/  \n18:38\u00a0<cjdelisle>\u00a0^noticed that list night, thought it might be of some interest, sdumitriu might be interested also.  \n18:39\u00a0<cjdelisle>\u00a0looks like hibernate with amazon and google app engine support.  \n18:49\u00a0<cjdelisle>\u00a0oops  \n18:49\u00a0<cjdelisle>\u00a0I forgot to add the dependency.  \n18:49\u00a0<cjdelisle>\u00a0again  \n18:49\u00a0<cjdelisle>\u00a0better add \"download the jars\" to the RC list :(  \n18:49\u00a0<cjdelisle>\u00a0\\*RN  \n19:04\u00a0<vmassol>\u00a0has quit  \n19:10\u00a0<jvdrean>\u00a0has quit  \n19:21\u00a0<tmortagne>\u00a0has quit  \n19:31\u00a0<rrodriguez>\u00a0has joined #xwiki  \n19:41\u00a0<+mflorea>\u00a0sdumitriu: what's the difference between \"resources/uicomponents\" and \"resources/js/xwiki\" ? where should I place my gallery widget (js+css) ?  \n19:46\u00a0<arkub>\u00a0has quit  \n19:46\u00a0<rrodriguez>\u00a0has quit  \n19:46\u00a0<rrodriguez>\u00a0has joined #xwiki  \n19:49\u00a0<@sdumitriu>\u00a0mflorea: resources is better  \n19:49\u00a0<@sdumitriu>\u00a0I mean uicomponents  \n19:49\u00a0<+mflorea>\u00a0sdumitriu: ok, thanks  \n19:50\u00a0<@sdumitriu>\u00a0js is a bad name since you put not only javascript, but usually CSS as well, and even images  \n19:50\u00a0<+mflorea>\u00a0indeed  \n19:51\u00a0<@sdumitriu>\u00a0In time all that is under js/xwiki should be refactored and moved in uicomponents  \n19:52\u00a0<@sdumitriu>\u00a0And /js/ should hold only libraries (prototype, scriptaculous)  \n19:54\u00a0<lucaa>\u00a0has quit  \n20:08\u00a0<mflorea>\u00a0has quit  \n20:09\u00a0<rrodriguez>\u00a0has quit  \n20:36\u00a0<Enygma`>\u00a0has quit  \n21:03\u00a0<cjdelisle>\u00a0Found a bug in java.  \n21:04\u00a0<cjdelisle>\u00a0(which is why I was having trouble deleting attachments)  \n21:04\u00a0<cjdelisle>\u00a0if (archive == null) { throw new NullPointerException(\"O\\_o\");  \n21:04\u00a0<cjdelisle>\u00a0}  \n21:04\u00a0<cjdelisle>\u00a0this.getArchiveDeleteRunnable(archive).start();  \n21:05\u00a0<cjdelisle>\u00a0and:  \n21:05\u00a0<cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0public StartableTransactionRunnable getArchiveDeleteRunnable(final XWikiAttachmentArchive archive)  \n21:05\u00a0<cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0{  \n21:05\u00a0<cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (archive == null) {  \n21:05\u00a0<cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0throw new NullPointerException(\"The archive to delete cannot be null.\");  \n21:05\u00a0<cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \n21:06\u00a0<cjdelisle>\u00a0archive mysteriously becomes null in the midst of that function call.  \n21:06\u00a0<cjdelisle>\u00a0Unfortunately there's probably no way I could make a bug report on it, it is just too complicated.  \n21:08\u00a0<cjdelisle>\u00a0oh  \n21:08\u00a0<florinciu>\u00a0has quit  \n21:08\u00a0<cjdelisle>\u00a0or I have been misreading the stack trace all along  \n21:11\u00a0<@sdumitriu>\u00a0Don't blame Java  \n21:11\u00a0<@sdumitriu>\u00a0This is very unlikely to be a JVM bug  \n21:11\u00a0<@sdumitriu>\u00a0Things becoming null is unwanted data sharing between threads  \n21:12\u00a0<cjdelisle>\u00a0<-- idiot misread stack trace  \n21:14\u00a0<cjdelisle>\u00a0Narrowed it down to between 2 function calls and added exceptions, if the execution had followed that path then it would have been a case of a reference mysteriously nulling.  \n21:21\u00a0<lucaa>\u00a0has joined #xwiki  \n21:51\u00a0<vmassol>\u00a0has joined #xwiki  \n21:52\u00a0<jvelociter>\u00a0has joined #xwiki  \n21:58\u00a0<vmassol>\u00a0has quit  \n21:59\u00a0<mflorea>\u00a0has joined #xwiki  \n22:01\u00a0<mflorea1>\u00a0has joined #xwiki  \n22:01\u00a0<mflorea>\u00a0has quit  \n22:07\u00a0<sdumitriu>\u00a0has quit  \n22:10\u00a0<mflorea1>\u00a0has quit  \n22:22\u00a0<lucaa>\u00a0has quit  \n22:26\u00a0<jvelociter>\u00a0has quit  \n23:07\u00a0<lucaa>\u00a0has joined #xwiki  \n23:28\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:33\u00a0<rrodriguez>\u00a0has quit  \n\n"}