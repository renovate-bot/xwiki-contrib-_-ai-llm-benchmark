{"id": "dev:IRC.xwikiArchive20130828", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130828", "title": "IRC Archive for channel #xwiki on 28 August 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:31\u00a0<sdumitriu1>\u00a0has quit  \n00:45\u00a0<polx>\u00a0has quit  \n04:52\u00a0<cjd>\u00a0has joined #xwiki  \n05:59\u00a0<sdumitriu>\u00a0has quit  \n06:01\u00a0<sdumitriu>\u00a0has joined #xwiki  \n07:30\u00a0<polx>\u00a0has joined #xwiki  \n08:11\u00a0<msmeria>\u00a0has joined #xwiki  \n08:34\u00a0<vmassol>\u00a0has joined #xwiki  \n09:04\u00a0<vmassol>\u00a0sburjan`: good morning  \n09:05\u00a0<vmassol>\u00a0could someone else verify that Color Themes listing are broken in the admin page: https://www.evernote.com/shard/s119/sh/93899472-5389-4f51-9660-631089ec37e7/3e949aef571d086355f81fbf2a51ba55  \n09:10\u00a0<evalica>\u00a0has joined #xwiki  \n09:33\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:40\u00a0<msmeria>\u00a0vmassol: I can confirm that bug on 5.2M1  \n09:40\u00a0<vmassol>\u00a0ok thanks, reporting it  \n09:43\u00a0<vmassol>\u00a0I wonder if we have a test for it (automated)  \n09:43\u00a0<vmassol>\u00a0checling  \n09:45\u00a0<vmassol>\u00a0so the answer is no  \n09:47\u00a0<vmassol>\u00a0could be an interesting functional test to change the color theme  \n09:50\u00a0<sburjan>\u00a0has joined #xwiki  \n11:11\u00a0<Slashman>\u00a0has joined #xwiki  \n11:19\u00a0<vmassol>\u00a0has quit  \n11:35\u00a0<xwikibot>\u00a0has joined #xwiki  \n13:44\u00a0<camil7>\u00a0has joined #xwiki  \n13:59\u00a0<vmassol>\u00a0has joined #xwiki  \n14:04\u00a0<sburjan>\u00a0vmassol: ping  \n14:06\u00a0<vmassol>\u00a0yes?  \n14:09\u00a0<polx>\u00a0has quit  \n14:10\u00a0<polx>\u00a0has joined #xwiki  \n14:15\u00a0<sburjan>\u00a0vmassol: I have a question about translations. I see that some translations don't use {0}, but instead use \\_\\_name\\_\\_. For example I have a translation like this: \"The group \\_\\_name\\_\\_ will be deleted. Are you sure you want to proceed?\" What is the diference between these two ?  \n14:28\u00a0<vmassol>\u00a0strange  \n14:28\u00a0<vmassol>\u00a0only {..} is supposed to be valid in java  \n14:29\u00a0<vmassol>\u00a0so it must be something custom and manual, checking  \n14:29\u00a0<vmassol>\u00a0indeed:  \n14:29\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (confirm(\"$escapetool.javascript($services.localization.render('rightsmanager.confirmdeletegroup'))\".replace('\\_\\_name\\_\\_', docname))) {  \n14:29\u00a0<vmassol>\u00a0used from js  \n14:30\u00a0<vmassol>\u00a0(userandgroups.js)  \n14:30\u00a0<vmassol>\u00a0(usersandgroups.js)  \n15:05\u00a0<evalica>\u00a0has quit  \n15:06\u00a0<evalica>\u00a0has joined #xwiki  \n15:11\u00a0<msmeria>\u00a0has quit  \n15:46\u00a0<Slashman>\u00a0has quit  \n15:53\u00a0<jbwiv>\u00a0has joined #xwiki  \n15:59\u00a0<camil7>\u00a0has left #xwiki  \n16:10\u00a0<xwikiorg\\_guest\\_7>\u00a0has joined #xwiki  \n16:11\u00a0<jbwiv>\u00a0has left #xwiki  \n16:14\u00a0<xwikiorg\\_guest\\_7>\u00a0has left #xwiki  \n16:34\u00a0<sburjan>\u00a0has quit  \n17:13\u00a0<evalica>\u00a0has quit  \n17:35\u00a0<cjd>\u00a0has quit  \n17:36\u00a0<cjd>\u00a0has joined #xwiki  \n17:36\u00a0<cjd>\u00a0is now known as <Guest67859>  \n17:59\u00a0<msmeria>\u00a0has joined #xwiki  \n18:00\u00a0<msmeria>\u00a0has quit  \n18:03\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n18:47\u00a0<gdelhumeau>\u00a0has quit  \n19:35\u00a0<sdumitriu1>\u00a0vmassol: I'm trying to use @ComponentList to allow some real components in a test, but they fail to initialize because they're missing some of their own components  \n19:35\u00a0<sdumitriu1>\u00a0Aren't nested components mocked by default?  \n19:36\u00a0<vmassol>\u00a0sdumitriu: you mean with MockitoComponentMockingRule ?  \n19:36\u00a0<sdumitriu1>\u00a0Yes  \n19:37\u00a0<vmassol>\u00a0it's possible Lists don't work  \n19:37\u00a0<sdumitriu1>\u00a0If not, how can I let them get mocked, or why doesn't it find them since I have the right dependency in the classpath  \n19:37\u00a0<vmassol>\u00a0or rather they'll work but not as you think  \n19:38\u00a0<vmassol>\u00a0if you have:  \n19:38\u00a0<vmassol>\u00a0@Inject private List<Role> object  \n19:38\u00a0<vmassol>\u00a0wait let me check first before saying something wrong :)  \n19:38\u00a0<sdumitriu1>\u00a0No, it  \n19:38\u00a0<sdumitriu1>\u00a0it's a simple @Inject private LocalizationContext  \n19:38\u00a0<vmassol>\u00a0then I don't understand the question  \n19:39\u00a0<vmassol>\u00a0and just FTR I've checked and list/map of componetns do wotk  \n19:39\u00a0<vmassol>\u00a0\\*work  \n19:39\u00a0<sdumitriu1>\u00a0@ComponentList({SomeComponentImplementation.class})  \n19:40\u00a0<sdumitriu1>\u00a0In SomeComponentImplementation I have @Inject private LocalizationContext lc;  \n19:40\u00a0<sdumitriu1>\u00a0When looking up this component, I get Failed to lookup component, Caused by:  \n19:40\u00a0<sdumitriu1>\u00a0org.xwiki.component.manager.ComponentLookupException: Can't find descriptor for the component [role = [interface org.xwiki.localization.LocalizationContext] hint = [default]]  \n19:40\u00a0<vmassol>\u00a0yes that's normal  \n19:41\u00a0<sdumitriu1>\u00a0Why?  \n19:41\u00a0<vmassol>\u00a0you need to add LocalizationContext impl class to the @ComponentList too  \n19:41\u00a0<vmassol>\u00a0all transitive deps  \n19:41\u00a0<vmassol>\u00a0\\*and all transitive deps  \n19:41\u00a0<sdumitriu1>\u00a0OK...  \n19:42\u00a0<vmassol>\u00a0in general @ComponentList shouldn't be used as much as possible  \n19:42\u00a0<vmassol>\u00a0in order to perform unit tests  \n19:42\u00a0<vmassol>\u00a0for integration tests it's ok  \n19:42\u00a0<sdumitriu1>\u00a0I know, but I'm testing a manager that is supposed to work with the actual components  \n19:42\u00a0<vmassol>\u00a0ok  \n19:42\u00a0<sdumitriu1>\u00a0I mean, the components aren't that big  \n19:43\u00a0<vmassol>\u00a0we could make it easier by autodiscovering transitive deps I guess but not sure it's worth it  \n19:43\u00a0<vmassol>\u00a0what you can do though  \n19:43\u00a0<sdumitriu1>\u00a0But I don't want to mock a bunch of components just to test that getVisibilityOptions gets them back  \n19:43\u00a0<vmassol>\u00a0is have another MockitoComponentMockingRule for SomeComponentImplementation  \n19:43\u00a0<vmassol>\u00a0in your test class  \n19:43\u00a0<vmassol>\u00a0that should work  \n19:43\u00a0<sdumitriu1>\u00a0Hm...  \n19:43\u00a0<vmassol>\u00a0(ie have 2 MockitoComponentMockingRule )  \n19:44\u00a0<sdumitriu1>\u00a0Never tried that before  \n19:44\u00a0<vmassol>\u00a0I don't remember if I tried it either but would be interesting to try  \n20:18\u00a0<abusenius>\u00a0has joined #xwiki  \n21:34\u00a0<polx>\u00a0has quit  \n21:51\u00a0<polx>\u00a0has joined #xwiki  \n21:53\u00a0<polx\\_>\u00a0has joined #xwiki  \n21:53\u00a0<polx>\u00a0has quit  \n21:53\u00a0<polx\\_>\u00a0is now known as <polx>  \n21:54\u00a0<polx>\u00a0has quit  \n22:05\u00a0<kstuart>\u00a0has quit  \n22:34\u00a0<polx>\u00a0has joined #xwiki  \n23:12\u00a0<vmassol>\u00a0has quit  \n23:30\u00a0<abusenius>\u00a0has quit\n"}