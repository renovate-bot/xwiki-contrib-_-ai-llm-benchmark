{"id": "dev:IRC.xwikiArchive20160104", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160104", "title": "IRC Archive for channel #xwiki on 04 January 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<mflorea>\u00a0has joined #xwiki  \n07:06\u00a0<cjd>\u00a0has quit  \n07:12\u00a0<mflorea>\u00a0has quit  \n07:16\u00a0<msmeria>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0has quit  \n08:16\u00a0<vmassol>\u00a0has joined #xwiki  \n08:34\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:48\u00a0<mflorea>\u00a0has joined #xwiki  \n08:52\u00a0<cjd>\u00a0has joined #xwiki  \n09:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:21\u00a0<vmassol>\u00a0good morning  \n09:23\u00a0<ansuz>\u00a0good morning  \n09:25\u00a0<cjd>\u00a0gm  \n09:39\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n09:39\u00a0<martinus\\_\\_>\u00a0Hi there, happy new year to the xwiki family !  \n09:41\u00a0<martinus\\_\\_>\u00a0I noticed the 7.4 release, congratulations. I have a question : what was the purpose of the \"super stable\" version of xwiki and why is it now gone ?  \n09:42\u00a0<vmassol>\u00a0hi martinus\\_\\_  \n09:42\u00a0<vmassol>\u00a0thanks ! happy new year to you too!  \n09:42\u00a0<vmassol>\u00a0LTS = super stable release  \n09:42\u00a0<vmassol>\u00a0meant for production  \n09:42\u00a0<vmassol>\u00a0for those who don't want to take any risk :)  \n09:43\u00a0<vmassol>\u00a0it's not supposed to be gone  \n09:43\u00a0<vmassol>\u00a0still there on http://enterprise.xwiki.org/xwiki/bin/view/Main/Download  \n09:43\u00a0<vmassol>\u00a0LTS is now 7.4  \n09:43\u00a0<evalica>\u00a0has joined #xwiki  \n09:44\u00a0<vmassol>\u00a0(btw I feel that we should keep the old LTS till we release the N.4.1 version, I'll need to propose this on the list)  \n09:44\u00a0<vmassol>\u00a0(as otherwise it's hard to prove that N.4 is that stable when it's released)  \n09:45\u00a0<martinus\\_\\_>\u00a0vmassol, some weeks ago there were two downloads, one of them was \"super stable\" (6.4.6) \u00a0, \u00a0and I can remember the other one (7.X)  \n09:48\u00a0<martinus\\_\\_>\u00a0like you were maintaining two versions : 6.4.6 for hotfix and 7.x for active dev.  \n09:48\u00a0<vmassol>\u00a0martinus\\_\\_: here's what we maintain:  \n09:48\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/Main/Support  \n09:48\u00a0<vmassol>\u00a0(check the info box)  \n09:49\u00a0<vmassol>\u00a0as of today:  \n09:49\u00a0<vmassol>\u00a0LTS = 7.4  \n09:50\u00a0<vmassol>\u00a0in one month time or so we'll also have 8.0-milestone-1  \n09:50\u00a0<vmassol>\u00a0and in 2.5 months time we'll add: 8.0  \n09:50\u00a0<martinus\\_\\_>\u00a0so there will \u00a0be no \"super stable\" named as such anymore in the future, right ?  \n09:51\u00a0<vmassol>\u00a0LTS is 7.4  \n09:51\u00a0<vmassol>\u00a07.4 \\*is\\* our LTS  \n09:51\u00a0<vmassol>\u00a0LTS = super stalbe  \n09:51\u00a0<vmassol>\u00a0\\*stable  \n09:52\u00a0<martinus\\_\\_>\u00a0vmassol, understood, I'm more speaking about the naming convention here as I was a bit lost in the past ;)  \n09:52\u00a0<martinus\\_\\_>\u00a0thanks  \n09:52\u00a0<vmassol>\u00a0so we have: latest, stable and LTS  \n09:52\u00a0<vmassol>\u00a0for example: 7.4-rc-1, 7.3, 6.4.6  \n09:53\u00a0<vmassol>\u00a0as of today latest = stable = LTS  \n09:53\u00a0<vmassol>\u00a0= 7.4  \n09:53\u00a0<vmassol>\u00a0in one month or so: LTS = stable = 7.4, latest = 8.0-milestone-1  \n09:54\u00a0<vmassol>\u00a0in 2.5 months or so: LTS = 7.4, stable = latest = 8.0  \n09:54\u00a0<vmassol>\u00a0in 3.5 months or so: LTS = 7.4, stable = 8.0, latest = 8.1-milestone-1  \n09:54\u00a0<vmassol>\u00a0note: in practice we'll release bugfix released of 7.4...  \n09:54\u00a0<vmassol>\u00a0so 7.4.1, 7.4.2  \n09:54\u00a0<vmassol>\u00a0etc  \n09:54\u00a0<vmassol>\u00a0hope it's clear :)  \n09:55\u00a0<martinus\\_\\_>\u00a0now it is :) \"super stable\" was a bit confusing to me in the past  \n09:56\u00a0<vmassol>\u00a0martinus\\_\\_: do you know where we want \"super stable\u00e9?  \n09:56\u00a0<vmassol>\u00a0for me super stable is another word for LTS  \n09:57\u00a0<martinus\\_\\_>\u00a0I thought there was a difference between the two, but you clarified that ;)  \n09:57\u00a0<vmassol>\u00a0ok  \n09:57\u00a0<martinus\\_\\_>\u00a0And I was wondering if I was the only one to be confused, it might be !  \n10:08\u00a0<vmassol>\u00a0tmortagne: note that you've reverted the new LTS for our DEB distribution but on http://enterprise.xwiki.org/xwiki/bin/view/Main/Download we have 7.4 marked as LTS  \n10:08\u00a0<vmassol>\u00a0martinus\\_\\_: apparently you're not the only one :)  \n10:09\u00a0<Denis>\u00a0has joined #xwiki  \n10:09\u00a0<vmassol>\u00a0I've started the thread: http://markmail.org/message/zzhjbg34dw5jr3ei  \n10:10\u00a0<tmortagne>\u00a0vmassol: I reverted debian repository for people to not have surprises  \n10:10\u00a0<tmortagne>\u00a0waiti g for the  \n10:10\u00a0<vmassol>\u00a0ok  \n10:10\u00a0<tmortagne>\u00a0waiting for the mail thread result for Download page  \n10:10\u00a0<vmassol>\u00a0k  \n10:10\u00a0<tmortagne>\u00a0(even if it looks like most people actually use the stable debian repository)  \n10:17\u00a0<Slashman>\u00a0has joined #xwiki  \n10:29\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:30\u00a0<Pbas>\u00a0has joined #xwiki  \n11:07\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:12\u00a0<vmassol>\u00a0tmortagne: too bad for the description of http://extensions.xwiki.org/xwiki/bin/view/Extension/Old+XWiki+1.0+syntax+renderer not very user friendly :)  \n11:13\u00a0<vmassol>\u00a0question: do we need it on e.x.o?  \n11:13\u00a0<tmortagne>\u00a0you can add more in the description if you want  \n11:13\u00a0<vmassol>\u00a0I guess so if people want to use use syntax 1.0  \n11:14\u00a0<tmortagne>\u00a0and yes we need it in exo to make easy to install it  \n12:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n12:19\u00a0<cjd>\u00a0hmm that looks like a bug  \n12:19\u00a0<cjd>\u00a0&amp; in a URL in IRC  \n12:22\u00a0<vmassol>\u00a0yes  \n12:51\u00a0<martinus\\_\\_>\u00a0has quit  \n12:55\u00a0<tmortagne>\u00a0[WARN] Upgrading MyXWiki.org today  \n12:55\u00a0<tmortagne>\u00a0(to 7.4)  \n13:03\u00a0<ekarlso>\u00a0hmmmmmms  \n13:03\u00a0<ekarlso>\u00a0Installed version 7.3 is not valid Show details  \n13:03\u00a0<ekarlso>\u00a0XWiki Enterprise Flavor - Main Wiki 7.4  \n13:03\u00a0<ekarlso>\u00a0is that safe to ignore ?  \n13:03\u00a0<ekarlso>\u00a0coming from xwiki 7.3  \n13:05\u00a0<tmortagne>\u00a0ekarlso: 7.3 UI is not valid anymore because it's not compatible anymore with the WAR you put (7.4)  \n13:05\u00a0<tmortagne>\u00a0so yes this is expected  \n13:05\u00a0<ekarlso>\u00a0ok  \n13:10\u00a0<ekarlso>\u00a0do you guys have a clue on sso / auth for apps ?  \n13:10\u00a0<ekarlso>\u00a0we have a ldap backend and some apps we wanna integrate with it but also a member portal  \n13:22\u00a0<vmassol>\u00a0ekarlso: I haven't done it but I know lots of users are setting up SSO with xwiki  \n13:23\u00a0<vmassol>\u00a0LDAP is indeed one possibility  \n13:27\u00a0<tmortagne>\u00a0\u00a0\u00a0p, li { white-space: pre-wrap; } \u00a0[ANN] MyXWiki.org has been upgraded to 7.4  \n13:29\u00a0<vmassol>\u00a0cool, thanks!  \n13:41\u00a0<lucaa>\u00a0has joined #xwiki  \n13:46\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:48\u00a0<msmeria>\u00a0has quit  \n14:51\u00a0<lucaa>\u00a0has quit  \n14:51\u00a0<lucaa1>\u00a0has joined #xwiki  \n15:03\u00a0<msmeria1>\u00a0has quit  \n15:34\u00a0<Trefex\\_>\u00a0is now known as <Trefex>  \n15:39\u00a0<KermitTheFragger>\u00a0has quit  \n15:41\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:43\u00a0<woshilapin>\u00a0Hi devs, I have problem with 7.4 but not sure it's me, can somebody test that on a recent version of XWiki?  \n15:43\u00a0<woshilapin>\u00a0curl --verbose --user 'Admin:admin' --request GET \"http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main/pages/WebHome\"  \n15:43\u00a0<woshilapin>\u00a0I think we (I?) crashed the REST service  \n15:45\u00a0<tmortagne>\u00a0what do you mean by crash ?  \n15:45\u00a0<tmortagne>\u00a0do you have anything in the log ?  \n15:46\u00a0<woshilapin>\u00a0Yes, java.lang.NoSuchMethodError: org.xwiki.rest.model.jaxb.Page.setHidden(Z)V  \n15:46\u00a0<tmortagne>\u00a0the following seems ok: curl --verbose --user 'Admin:admin' --request GET \"http://tuska.myxwiki.org/xwiki/rest/wikis/xwiki/spaces/Main/pages/WebHome\"  \n15:47\u00a0<tmortagne>\u00a0(Admin:admin does not exist so you get guest result but I doubt it's important given the error you get)  \n15:47\u00a0<woshilapin>\u00a0OK, then I'll look into my build then  \n15:47\u00a0<tmortagne>\u00a0plus we have tons on REST related integration tests anyway so REST module is supposed to work well on 7.4 at least  \n15:47\u00a0<woshilapin>\u00a0(ouf)  \n16:02\u00a0<woshilapin>\u00a0OK, I think I understood I'd like to have a bit of advice to be sure and maybe to improve the situation  \n16:02\u00a0<woshilapin>\u00a0I used a mvn dependency:tree to see what was happening  \n16:03\u00a0<woshilapin>\u00a0And it appears that I had org.xwiki.platform:xwiki-platform-rest-model:jar:7.1.1:compile as a dependency  \n16:03\u00a0<woshilapin>\u00a0This is the model of the wiki  \n16:03\u00a0<woshilapin>\u00a0At the time of 7.1.1, hidden was an property that didn't exist  \n16:03\u00a0<woshilapin>\u00a0But since 7.4, it exists  \n16:04\u00a0<woshilapin>\u00a0So 7.4 code is trying to use .setHidden() from org.xwiki...jaxb.Page which doesn't exists  \n16:04\u00a0<woshilapin>\u00a0So indeed, I got a problem  \n16:04\u00a0<woshilapin>\u00a0but now, this dependency is because of one of my extension xff-filter-stream  \n16:05\u00a0<woshilapin>\u00a0But as far as I know, it's already part of 7.4 bundle so I wonder why it get the 7.1.1 version instead of keeping the 7.4 version  \n16:05\u00a0<woshilapin>\u00a0?  \n16:07\u00a0<woshilapin>\u00a0(my actual solution is to <exclusion> the wrong version and get the correct one)  \n16:09\u00a0<tmortagne>\u00a0it depends what you are talking about exactly, Extension Manager won't install something it already found in core extension if that's the question  \n16:09\u00a0<tmortagne>\u00a0but if you are taking about a custom that inherit from XE war it's more complex indeed  \n16:10\u00a0<woshilapin>\u00a0It's not in the EM here  \n16:10\u00a0<woshilapin>\u00a0It's probably more a Maven related question (I'm using the XWiki packager plugin)  \n16:10\u00a0<tmortagne>\u00a0the main issue is that WAR plugin does not care about versions of stuff that were used to generated some WAR dependency so indeed if you put XE WAR as dependency and something else that's already in XE WAR in another version you end up with both  \n16:11\u00a0<tmortagne>\u00a0you are not building a WAR ?  \n16:11\u00a0<woshilapin>\u00a0Yes, I'm building more than a WAR (the WAR and Jetty and the XWiki scripts to start start\\_debug stop, etc)  \n16:12\u00a0<woshilapin>\u00a0But yes, I'm building a WAR at some point  \n16:12\u00a0<tmortagne>\u00a0so for a custom WAR having XE WAR as dependency I don't have much more to suggest than an exclude  \n16:12\u00a0<tmortagne>\u00a0a pity WAR plugin is so dumb  \n16:13\u00a0<woshilapin>\u00a0org.xwiki.platform:xwiki-platform-rest-model by default?  \n16:13\u00a0<woshilapin>\u00a0is included by default\\*?  \n16:14\u00a0<tmortagne>\u00a0can I see your pom.xml with the issue somwhere ?  \n16:14\u00a0<sorinello>\u00a0has quit  \n16:14\u00a0<tmortagne>\u00a0depends what you means with \"by default\"  \n16:14\u00a0<woshilapin>\u00a0Not the final version, 2s  \n16:14\u00a0<sorinello>\u00a0has joined #xwiki  \n16:16\u00a0<woshilapin>\u00a0https://github.com/xwiki-labs/learnpad/tree/cw/upgrade-xff/lp-platform/lp-platform-distributions  \n16:16\u00a0<woshilapin>\u00a0the ui only include the xar  \n16:16\u00a0<woshilapin>\u00a0And ui is dependency of the jetty-hsqldb  \n16:17\u00a0<woshilapin>\u00a0So jetty-hsqldb is the one you're interested in  \n16:17\u00a0<tmortagne>\u00a0rest is part of both XE WAR and PackageMojo mandatory jars as far as I can see  \n16:17\u00a0<tmortagne>\u00a0if your issue is a WAR module depending an a WAR module with a dependency on you extension then the answer is to add some excludes, if you end up with two version of the same jar in a jetty/hsqldb generated by PackageMojo hen it's a PackageMojo bug that we need to fix  \n16:17\u00a0<woshilapin>\u00a0https://github.com/xwiki-labs/learnpad/blob/cw/upgrade-xff/lp-platform/lp-platform-distributions/lp-platform-jetty-hsqldb/pom.xml#L94  \n16:17\u00a0<woshilapin>\u00a0This is what I did and seems to work (exclusions)  \n16:18\u00a0<tmortagne>\u00a0ok so it's not related to WAR  \n16:18\u00a0<tmortagne>\u00a0so it's definitely a xwiki-platform-tool-packager-plugin bug  \n16:18\u00a0<tmortagne>\u00a0would be great if you could report it  \n16:18\u00a0<woshilapin>\u00a0I'm not even sure to understand it  \n16:18\u00a0<tmortagne>\u00a0in the meantime yes I guess there is not much other possibilities than exclude  \n16:19\u00a0<woshilapin>\u00a0Where do you see a bug?  \n16:19\u00a0<tmortagne>\u00a0the issue is that the plugin resolve your extension dependencies without checking if it already have them  \n16:19\u00a0<tmortagne>\u00a0so you end up with both 7.1.1 and 7.4 versions in the generated package, right ?  \n16:19\u00a0<woshilapin>\u00a0Yep  \n16:19\u00a0<tmortagne>\u00a0that's the bug for me  \n16:20\u00a0<woshilapin>\u00a0But that's the reason I asked, is the rest-model is a default dependency?  \n16:20\u00a0<tmortagne>\u00a0the plugin knows all those dependencies so it should skip things that don't need to be copied like Extension Manager does  \n16:20\u00a0<woshilapin>\u00a0Because if it's not included by default, then normal it uses the one of my extension, no?  \n16:20\u00a0<tmortagne>\u00a0(04:17:19 PM) tmortagne: rest is part of both XE WAR and PackageMojo mandatory jars as far as I can see  \n16:20\u00a0<tmortagne>\u00a0so yes it's a default dependency  \n16:20\u00a0<woshilapin>\u00a0Ah, missed this one :-$  \n16:20\u00a0<woshilapin>\u00a0OK  \n16:21\u00a0<tmortagne>\u00a0otherwise you would not have 7.4 in the package  \n16:21\u00a0<woshilapin>\u00a0I'll try to report that  \n16:39\u00a0<woshilapin>\u00a0tmortagne: XWIKI-12963  \n16:41\u00a0<tmortagne>\u00a0woshilapin: I don't understand, I tough you have both 7.4 and 7.1.1 and the issue seems to indicate that you only have 7.1.1  \n16:41\u00a0<woshilapin>\u00a0No, building from XE 7.4  \n16:42\u00a0<woshilapin>\u00a0Only xff-filter-stream is getting 7.1.1 dependencies  \n16:43\u00a0<woshilapin>\u00a0In fact, I only use 7.4 in my poms  \n16:43\u00a0<woshilapin>\u00a0That's xff-filter-stream in this case that brings me 7.1.1  \n16:52\u00a0<tmortagne>\u00a0ok so the packagemojo do select only one dependency but not the right one :)  \n16:52\u00a0<tmortagne>\u00a0should be easier to fix than I expected then  \n16:52\u00a0<tmortagne>\u00a0anyway thanks for the report  \n17:25\u00a0<evalica>\u00a0has quit  \n17:32\u00a0<woshilapin>\u00a0You're welcome, always like to improve these powerful tools like Package plugin and REST  \n18:09\u00a0<cjd>\u00a0has quit  \n18:12\u00a0<lucaa1>\u00a0has quit  \n18:24\u00a0<mflorea>\u00a0has quit  \n18:34\u00a0<tmortagne>\u00a0has quit  \n19:08\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:33\u00a0<abusenius>\u00a0has joined #xwiki  \n20:41\u00a0<vmassol>\u00a0has quit  \n20:55\u00a0<mflorea>\u00a0has joined #xwiki  \n21:29\u00a0<Enygma`>\u00a0has quit  \n21:42\u00a0<Slashman>\u00a0has quit  \n22:57\u00a0<gdelhumeau>\u00a0has quit  \n23:09\u00a0<OSIMasson>\u00a0has quit  \n23:10\u00a0<mflorea>\u00a0has quit  \n23:36\u00a0<tmortagne>\u00a0has quit\n"}