{"id": "dev:IRC.xwikiArchive20160914", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160914", "title": "IRC Archive for channel #xwiki on 14 September 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<martinus\\_\\_>\u00a0has quit  \n00:09\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n01:30\u00a0<martinus\\_\\_>\u00a0has quit  \n01:31\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n01:53\u00a0<martinus\\_\\_>\u00a0has quit  \n01:56\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n02:01\u00a0<martinus\\_\\_>\u00a0has quit  \n02:03\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n03:19\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:35\u00a0<woshilapin>\u00a0has joined #xwiki  \n04:38\u00a0<woshilapin>\u00a0has quit  \n04:42\u00a0<martinus\\_\\_>\u00a0has quit  \n04:44\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n04:56\u00a0<woshilapin>\u00a0has joined #xwiki  \n05:53\u00a0<mflorea>\u00a0has joined #xwiki  \n06:30\u00a0<woshilapin>\u00a0has quit  \n06:31\u00a0<woshilapin>\u00a0has joined #xwiki  \n07:03\u00a0<Aranjedeath>\u00a0has quit  \n07:43\u00a0<acotiuga>\u00a0has joined #xwiki  \n08:10\u00a0<vmassol>\u00a0has joined #xwiki  \n08:47\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:20\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:45\u00a0<msmeria>\u00a0has joined #xwiki  \n09:52\u00a0<mflorea>\u00a0has quit  \n09:58\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:13\u00a0<mflorea>\u00a0has joined #xwiki  \n10:16\u00a0<Slashman>\u00a0has joined #xwiki  \n10:26\u00a0<bezourox>\u00a0has joined #xwiki  \n10:28\u00a0<bezourox>\u00a0Hi all, come back with my problem during xwiki deploy. Have an error 500 when I launch xwiki/bin/view/Main/  \n10:37\u00a0<bezourox>\u00a0Error log : http://pastebin.com/Bbrt2P8J  \n10:38\u00a0<bezourox>\u00a0seems to be a problem with mysql connction no ?  \n10:39\u00a0<vmassol>\u00a0bezourox: hi  \n10:39\u00a0<vmassol>\u00a0the error says \"java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\"  \n10:40\u00a0<vmassol>\u00a0you're missing the mysql jdbc driver  \n10:40\u00a0<vmassol>\u00a0you should follow the install instrutions for mysql:  \n10:40\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMySQL  \n10:40\u00a0<vmassol>\u00a0(or use the debian packaging)  \n10:43\u00a0<bezourox>\u00a0i think I installed it. I'm checking  \n10:49\u00a0<bezourox>\u00a0seems to be good now  \n10:49\u00a0<bezourox>\u00a0xwiki home page . mouahahaha thanks !  \n10:49\u00a0<vmassol>\u00a0cool  \n11:29\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:31\u00a0<Pbas>\u00a0Hello about my xwiki 8.2.1 problem: http://xwiki.markmail.org/message/3jwji5xot5wjce37 I tested with \u00a0xwiki 8.2.1 Jetty Servlet Container ...  \n11:32\u00a0<Pbas>\u00a0I have same problem: my user can not add some subpage  \n11:32\u00a0<evalica>\u00a0has joined #xwiki  \n11:34\u00a0<Pbas>\u00a0my user can not add some subpage if my xwiki have edit right disabled on xwiki root rights  \n11:42\u00a0<tmortagne>\u00a0Pbas: not sure I understand well your use case actually, not sure how you expect your user to modify page if edit right is \"disabled\"  \n11:43\u00a0<tmortagne>\u00a0what right do to set to which group at which level exactly ?  \n11:43\u00a0<tmortagne>\u00a0and what is your goal  \n11:44\u00a0<tmortagne>\u00a0you want user to be able to edit only in a specific space ?  \n11:46\u00a0<Pbas>\u00a0I want forbidden write on all wiki except on a space  \n11:47\u00a0<Pbas>\u00a0On root right I disabled right access for allGroup and  \n11:47\u00a0<Pbas>\u00a0on MySpace I enabled edit right for allGroup  \n11:48\u00a0<Pbas>\u00a0(xwikiAllGroup)  \n11:48\u00a0<Pbas>\u00a0and user didn't have + icone to add some page to create new page under MySpace  \n11:49\u00a0<Pbas>\u00a0on 7.0.1 right access working well but not on 8.2.1  \n11:49\u00a0<Pbas>\u00a0(I noticed this point after migration on my dev plateforme  \n11:50\u00a0<Pbas>\u00a0I manage to reproduce this problem on jetty package with simple right  \n11:51\u00a0<tmortagne>\u00a0so by \"disabled\" you mean not set ? you did not deny it, right ?  \n11:52\u00a0<acotiuga>\u00a0has quit  \n11:52\u00a0<Pbas>\u00a0First I denied (like on my 7.0.1) but to test i 'not set' edit right, same result  \n11:52\u00a0<acotiuga>\u00a0has joined #xwiki  \n11:53\u00a0<tmortagne>\u00a0Pbas: I just took a 8.2.1 and tried to do what you need and it works well for me  \n11:53\u00a0<tmortagne>\u00a0here is what I did exactly:  \n11:55\u00a0<Pbas>\u00a0anyway my user can modify MySpace pages :-/  \n11:55\u00a0<Pbas>\u00a0but can not create news one  \n11:55\u00a0<tmortagne>\u00a0\\* in http://127.0.0.1:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Rights#|t=usersandgroupstable&p=1&l=10&uorg=groups&wiki=local&clsname=XWiki.XWikiGlobalRights I unticked (now it's empty) the Edit right for \"XWikiAllGroup\"  \n11:56\u00a0<tmortagne>\u00a0now members of XWikiAllGroup can only edit in Main space  \n11:56\u00a0<tmortagne>\u00a0checking something  \n11:57\u00a0<DarkKnightCZ>\u00a0has quit  \n11:57\u00a0<tmortagne>\u00a0Pbas: ok I understand what is wrong  \n11:58\u00a0<tmortagne>\u00a0I never use + button myself do not not really noticed but + button seems to be based on the wiki level right  \n11:58\u00a0<tmortagne>\u00a0so your user can create pages  \n11:58\u00a0<tmortagne>\u00a0but the button does not shows up  \n11:58\u00a0<Pbas>\u00a0Ok I try  \n11:58\u00a0<tmortagne>\u00a0or example if you go to some not existing page using the URL  \n11:58\u00a0<tmortagne>\u00a0you will have the \" \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0You can edit this page to create it. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"  \n11:59\u00a0<tmortagne>\u00a0would be great if you could create an issue on http://jira.xwiki.org about + button bug  \n12:00\u00a0<Pbas>\u00a0With create URL, I have \"create page\" screen but without \"Terminal page\" option  \n12:00\u00a0<Pbas>\u00a0yes that's it I can create page when changing URL  \n12:00\u00a0<Pbas>\u00a0/bin/create  \n12:01\u00a0<tmortagne>\u00a0I think \"Terminal page\" option is an advanced user thing  \n12:01\u00a0<Pbas>\u00a0yes I will check that  \n12:02\u00a0<Pbas>\u00a0ok thxs for your help, I will ... eating and create an issue  \n12:02\u00a0<Pbas>\u00a0:)  \n12:03\u00a0<tmortagne>\u00a0you're welcome  \n12:35\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:51\u00a0<vmassol>\u00a0that's painful  \n13:51\u00a0<vmassol>\u00a0I can't stop them with my antispam too  \n13:51\u00a0<vmassol>\u00a0tool  \n13:51\u00a0<vmassol>\u00a0actually I can  \n14:06\u00a0<Pbas>\u00a0head shot! by vmassol  \n14:08\u00a0<vmassol>\u00a0:)  \n14:23\u00a0<xwiki\\_user\\_with\\_>\u00a0has joined #xwiki  \n14:25\u00a0<xwiki\\_user\\_with\\_>\u00a0Hi there guys, I'm having a problem, I messed up my rights, accidentally I took out admin script right and now I can't see the rights page, I activated superadmin account in xwiki.cfg, I logged in but happens the same with the admin user.  \n14:27\u00a0<vmassol>\u00a0xwiki\\_user\\_with\\_: the superadmin user cannot be restricted normally :)  \n14:27\u00a0<vmassol>\u00a0you sure you're logging with \"superadmin\"?  \n14:28\u00a0<vmassol>\u00a0\"I logged in but happens the same with the admin user.\" <\u2014 you mean superadmin and not admin?  \n14:28\u00a0<xwiki\\_user\\_with\\_>\u00a0yep  \n14:28\u00a0<xwiki\\_user\\_with\\_>\u00a0I logged with both of them  \n14:29\u00a0<xwiki\\_user\\_with\\_>\u00a0I can log in and browse the wiki page, but when I try to open \"Administer Wiki\"  \n14:29\u00a0<xwiki\\_user\\_with\\_>\u00a0this error shows up: Failed to execute the [velocity] macro. Cause: [The execution of the [velocity] script macro is not allowed. Check the rights of its last author or the parameters if it's rendered from another script.]. Click on this message for details.  \n14:29\u00a0<xwiki\\_user\\_with\\_>\u00a0it shows in a red square 3 times in a row  \n14:34\u00a0<vmassol>\u00a0ok I'm stumped since I don't see how superamdin could be preented  \n14:34\u00a0<vmassol>\u00a0\\*superadmin  \n14:34\u00a0<vmassol>\u00a0it would be a big bug  \n14:34\u00a0<vmassol>\u00a0:)  \n14:34\u00a0<vmassol>\u00a0anyone has an idea?  \n14:34\u00a0<xwiki\\_user\\_with\\_>\u00a0I can provide some screenshots  \n14:35\u00a0<vmassol>\u00a0well  \n14:35\u00a0<vmassol>\u00a0the best would be to tell us how to reproduce from a clean XE instance  \n14:37\u00a0<Pbas>\u00a0may be you could edit page in object mode to remove XWikiGlobalRights objects?  \n14:37\u00a0<Pbas>\u00a0--> /xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n14:38\u00a0<xwiki\\_user\\_with\\_>\u00a0I belive it would be difficult to have the same exact setup at this point because I'm running xwiki at work with many accounts, but I'll try to reproduce this and then make a guide for it  \n14:38\u00a0<xwiki\\_user\\_with\\_>\u00a0I'll give that a try  \n14:39\u00a0<xwiki\\_user\\_with\\_>\u00a0http://www.imagebam.com/image/8b0ee4504418380  \n14:40\u00a0<xwiki\\_user\\_with\\_>\u00a0that's what shows up in the administer wiki section  \n14:44\u00a0<vmassol>\u00a0wow  \n14:44\u00a0<vmassol>\u00a0really weird  \n14:46\u00a0<vmassol>\u00a0maybe you have some custom skin actually  \n14:46\u00a0<xwiki\\_user\\_with\\_>\u00a0Indeed, I don't know what to do in this situation, I'm going to export the db and then do some testing  \n14:46\u00a0<vmassol>\u00a0my guess  \n14:46\u00a0<xwiki\\_user\\_with\\_>\u00a0Yes, I belive so  \n14:46\u00a0<vmassol>\u00a0is that you had some page that requires programming right and you saved that page with a user not having those rights or you deleted the user that had those rights from the wiki  \n14:46\u00a0<vmassol>\u00a0to fix this you'll need to edit the page and save it again with a user having PR  \n14:46\u00a0<vmassol>\u00a0that's just a guess  \n14:47\u00a0<vmassol>\u00a0btw the missing translation in the menu on the right is strange too  \n14:48\u00a0<xwiki\\_user\\_with\\_>\u00a0What happened is that I was changing some global rights, I took out script right from everyone and then it kicked me out of administer wiki  \n14:48\u00a0<xwiki\\_user\\_with\\_>\u00a0then I tried to log in as superadmin and got the same error  \n14:48\u00a0<xwiki\\_user\\_with\\_>\u00a0I don't think anyone else did anything that could cause that because I'm the only one with access to administer wiki section  \n14:48\u00a0<vmassol>\u00a0ok so it's not an issue with PR  \n14:49\u00a0<xwiki\\_user\\_with\\_>\u00a0I don't think so, but will check anyways  \n14:49\u00a0<vmassol>\u00a0\"I took out script right from everyone\"  \n14:49\u00a0<vmassol>\u00a0how have you done this?  \n14:49\u00a0<vmassol>\u00a0deny for XWikiAllGroup?  \n14:50\u00a0<xwiki\\_user\\_with\\_>\u00a0yes  \n14:51\u00a0<tmortagne>\u00a0vmassol: \" I don't see how superamdin could be preented\" this error has nothing to do with the current user  \n14:51\u00a0<vmassol>\u00a0tmortagne: I said this before seeing the image :)  \n14:52\u00a0<vmassol>\u00a0all I was told is that superadmin couldn't access the admin  \n14:52\u00a0<vmassol>\u00a0that's what looked strange to me  \n14:52\u00a0<tmortagne>\u00a0vmassol: the error was \"The execution of the [velocity] script macro is not allowed\"  \n14:52\u00a0<tmortagne>\u00a0I did not look at the image  \n14:52\u00a0<xwiki\\_user\\_with\\_>\u00a0oh  \n14:52\u00a0<tmortagne>\u00a0xwiki\\_user\\_with\\_: \u00a0probably mean XWikiPreference page need to be saved by superadmin  \n14:53\u00a0<tmortagne>\u00a0go to /xwiki/bin/edit/XWiki/XWikiPreference  \n14:53\u00a0<tmortagne>\u00a0modify something in the content like add a new line  \n14:53\u00a0<tmortagne>\u00a0then save  \n14:53\u00a0<xwiki\\_user\\_with\\_>\u00a0oookay  \n14:55\u00a0<tmortagne>\u00a0you will have issues everywhere until you give back admin right to admin user and saving XWikiPreference with superadmin might be enough to get back right admin  \n14:56\u00a0<xwiki\\_user\\_with\\_>\u00a0I did it, also saved it but I can't still access the administer wiki  \n14:56\u00a0<tmortagne>\u00a0another possibility is to go to /xwiki/bin/edit/XWiki/XWikiPreference?editor=object  \n14:56\u00a0<tmortagne>\u00a0and give back admin right to Admin user \"by hand\"  \n14:57\u00a0<xwiki\\_user\\_with\\_>\u00a0how can I give it right by hand?  \n14:57\u00a0<vmassol>\u00a0tmortagne: I still don't understand how you can lock the superadmin user from the administration  \n14:57\u00a0<tmortagne>\u00a0vmassol: you can't  \n14:57\u00a0<tmortagne>\u00a0the superadmin is not locked from the admin  \n14:58\u00a0<tmortagne>\u00a0the admin UI is broken because admin UI author (Amin user) does not have script right anymore  \n14:58\u00a0<tmortagne>\u00a0again nothing to do with the current user  \n14:58\u00a0<vmassol>\u00a0ok I understand, that' s a big limitation we have indeed  \n14:59\u00a0<tmortagne>\u00a0xwiki\\_user\\_with\\_: /xwiki/bin/edit/XWiki/XWikiPreferences?editor=object sorry  \n14:59\u00a0<tmortagne>\u00a0you should find XWiki.XWikiGlobalRights objects in there  \n14:59\u00a0<xwiki\\_user\\_with\\_>\u00a0ookay thanks  \n14:59\u00a0<tmortagne>\u00a0one related to XWikiAdminGroup group  \n15:00\u00a0<tmortagne>\u00a0(open the objets)  \n15:00\u00a0<tmortagne>\u00a0in \"Levels\" field you have the right associated to this group  \n15:00\u00a0<vmassol>\u00a0however I can't reproduce locally  \n15:00\u00a0<tmortagne>\u00a0vmassol: remove admin right too  \n15:00\u00a0<tmortagne>\u00a0admin imply script  \n15:00\u00a0<xwiki\\_user\\_with\\_>\u00a0it worked  \n15:01\u00a0<xwiki\\_user\\_with\\_>\u00a0thanks a lot guys  \n15:01\u00a0<tmortagne>\u00a0xwiki\\_user\\_with\\_: no problem  \n15:01\u00a0<tmortagne>\u00a0it's too easy to break the admin UI  \n15:01\u00a0<xwiki\\_user\\_with\\_>\u00a0I have to leave now, I'll log in tomorrow to thank you :P  \n15:02\u00a0<xwiki\\_user\\_with\\_>\u00a0bye guys, you are awsome!  \n15:02\u00a0<xwiki\\_user\\_with\\_>\u00a0has quit  \n15:02\u00a0<vmassol>\u00a0seems there's a safeguard  \n15:02\u00a0<vmassol>\u00a0because I can 't deny admin rights (I'm logged with Admin)  \n15:02\u00a0<tmortagne>\u00a0ye syou get a message to tell you you might remove right to you but before don't read messages :)  \n15:02\u00a0<vmassol>\u00a0nope  \n15:02\u00a0<vmassol>\u00a0I don't any mesasage actually  \n15:03\u00a0<vmassol>\u00a0but if navigate away and come back to admin ui the checkbox is empty  \n15:03\u00a0<vmassol>\u00a0and no longer denied  \n15:03\u00a0<acotiuga>\u00a0Could anyone tell me is is there any way to get InstanceId in velocity?  \n15:03\u00a0<vmassol>\u00a0I was surpised not to get the protection message btw  \n15:03\u00a0<tmortagne>\u00a0vmassol: you tried to deny admin right to admin user or you modified admin group rights ?  \n15:03\u00a0<vmassol>\u00a0acotiuga: it' snot possible right now AFAIK  \n15:03\u00a0<vmassol>\u00a0tehre's no SS  \n15:04\u00a0<vmassol>\u00a0I modified admin group rights  \n15:04\u00a0<tmortagne>\u00a0you don't need to deny anything  \n15:04\u00a0<tmortagne>\u00a0just empty is enough  \n15:05\u00a0<vmassol>\u00a0this is what it does in practice, it replaces deny with empty  \n15:05\u00a0<tmortagne>\u00a0if I try to untick admin I do get a message here  \n15:05\u00a0<tmortagne>\u00a0vmassol: what version did you try ?  \n15:05\u00a0<vmassol>\u00a08.3-SNAP  \n15:06\u00a0<tmortagne>\u00a0you can't reproduce that way in this version  \n15:06\u00a0<tmortagne>\u00a0in jetty/hsqldb the Admin user is owner of the wiki  \n15:06\u00a0<vmassol>\u00a0ahhhh  \n15:06\u00a0<vmassol>\u00a0got it  \n15:06\u00a0<tmortagne>\u00a0makes it a bit less fragile  \n15:06\u00a0<tmortagne>\u00a0but if you changet the owner you break eveything  \n15:06\u00a0<vmassol>\u00a0yep  \n15:07\u00a0<vmassol>\u00a0I can create a subwiki to try it  \n15:07\u00a0<vmassol>\u00a0anyway moving on....  \n15:07\u00a0<tmortagne>\u00a0you can use 7.4.4 to reproduce  \n15:07\u00a0<vmassol>\u00a0don't want to spend more time on this  \n15:07\u00a0<vmassol>\u00a0but we do have an issue  \n15:07\u00a0<vmassol>\u00a0I mean it's not very user friendly ;)  \n15:18\u00a0<DarkKnightCZ>\u00a0has quit  \n15:21\u00a0<bezourox>\u00a0has quit  \n16:14\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n16:20\u00a0<acotiuga>\u00a0has quit  \n16:23\u00a0<DarkKnightCZ>\u00a0has quit  \n16:44\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:06\u00a0<DarkKnightCZ>\u00a0has quit  \n17:13\u00a0<gdelhumeau>\u00a0has quit  \n17:15\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n17:20\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:43\u00a0<Pbas>\u00a0hum I'm not lucky with my rights access on xwiki 8.2.1: my user see the pencil icon to edit the page, he edit the page but when he click on save: a message indicate: \"Vous n'\u00eates pas autoris\u00e9 \u00e0 voir ce document ou \u00e0 r\u00e9aliser cette action.\" (you are not allowed to do this)  \n17:44\u00a0<Pbas>\u00a0It seem right overwriting didn't worl like 7.0.1 version  \n17:44\u00a0<Pbas>\u00a0s/worl/work  \n17:47\u00a0<vmassol>\u00a0looks like a bug to me if you can edit a page but not save it\u2026 but we'd need steps to reproduce  \n17:48\u00a0<Pbas>\u00a0sure! I'm trying to reproduce it on jetty package  \n17:48\u00a0<vmassol>\u00a0thx  \n17:48\u00a0<Pbas>\u00a0it is similar problem with root access right  \n17:48\u00a0<Pbas>\u00a0np  \n17:51\u00a0<Pbas>\u00a0Do you need a jira ticket for this tiny CSS problem https://snag.gy/Pcl92V.jpg ?  \n17:51\u00a0<vmassol>\u00a0depends if you'd like to see it fixed :)  \n17:51\u00a0<Pbas>\u00a0radio button is not stick on \"Users\"  \n17:51\u00a0<Pbas>\u00a0ha ha  \n17:51\u00a0<vmassol>\u00a0so the answer is yes I think  \n18:01\u00a0<Pbas>\u00a0here you are: http://jira.xwiki.org/browse/XE-1575  \n18:17\u00a0<vmassol>\u00a0thanks Pbas  \n18:18\u00a0<Pbas>\u00a0np :)  \n18:24\u00a0<DarkKnightCZ>\u00a0has quit  \n18:29\u00a0<mflorea>\u00a0has quit  \n18:30\u00a0<msmeria>\u00a0has quit  \n18:31\u00a0<tmortagne>\u00a0has quit  \n18:43\u00a0<evalica>\u00a0has quit  \n18:45\u00a0<Enygma`>\u00a0has quit  \n18:45\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n18:46\u00a0<gdelhumeau>\u00a0has quit  \n19:11\u00a0<xavier\\_\\_>\u00a0has quit  \n21:02\u00a0<Denis>\u00a0has quit  \n21:06\u00a0<vmassol>\u00a0has quit  \n21:17\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n21:34\u00a0<Slashman>\u00a0has quit  \n22:18\u00a0<DarkKnightCZ>\u00a0has quit  \n22:18\u00a0<mflorea>\u00a0has joined #xwiki  \n22:23\u00a0<mflorea>\u00a0has quit  \n23:50\u00a0<Denis>\u00a0has joined #xwiki\n"}