{"id": "dev:IRC.xwikiArchive20120424", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120424", "title": "IRC Archive for channel #xwiki on 24 April 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:23\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:28\u00a0<polx>\u00a0has quit  \n00:51\u00a0<DrLou>\u00a0has quit  \n01:37\u00a0<jvdrean>\u00a0has quit  \n01:45\u00a0<Shaddox\\_>\u00a0has joined #xwiki  \n01:46\u00a0<Denis1>\u00a0has joined #xwiki  \n01:51\u00a0<Denis>\u00a0has quit  \n01:51\u00a0<Shaddox>\u00a0has quit  \n01:57\u00a0<npm\\_>\u00a0is now known as <npm>  \n01:58\u00a0<jamie\\_wiki>\u00a0has joined #xwiki  \n01:58\u00a0<Shaddox\\_>\u00a0has quit  \n02:07\u00a0<jamie\\_wiki>\u00a0I'm having a problem with a Class that has multiple Sheets bound and the attachmentSelector macro.. when you upload by browsing and selecting the attachment in one step it redirects using the 'inline' docAction. \u00a0This seems to work with a single sheet, but fails with multiple sheets.  \n02:10\u00a0<jamie\\_wiki>\u00a0Humm.. actually I just removed the XWiki.SheetDescriptorClass with 'edit' action from the editing sheet and the inline docAction worked. (although now the view sheet is not activated)  \n02:38\u00a0<cjd>\u00a0has joined #xwiki  \n02:52\u00a0<DrLou>\u00a0has joined #xwiki  \n03:04\u00a0<jamie\\_wiki>\u00a0Where would I file a bug against the macro XWiki.AttachmentSelector?  \n03:13\u00a0<@sdumitriu>\u00a0Hi jamie\\_wiki  \n03:13\u00a0<@sdumitriu>\u00a0In the XE project (XWiki Enterprise)  \n03:17\u00a0<jamie\\_wiki>\u00a0Thanks, I found it! \u00a0I reported XE-1156 and included a note with the minor change that I made in my local XWiki macro that fixed it.  \n03:31\u00a0<jamie\\_wiki>\u00a0When I imported the Attachment Selector Macro XAR after downloading it from the extensions wiki it imported as Macros.AttachmentSelector instead of XWiki.AttachmentSelector. \u00a0\u00a0Did the name change in the 4.0 release?  \n06:02\u00a0<polx>\u00a0has joined #xwiki  \n06:21\u00a0<polx>\u00a0has quit  \n06:55\u00a0<mflorea>\u00a0has joined #xwiki  \n07:02\u00a0<Denis>\u00a0has joined #xwiki  \n07:02\u00a0<Denis1>\u00a0has quit  \n07:34\u00a0<rrodriguez>\u00a0has quit  \n08:03\u00a0<DrLou>\u00a0has quit  \n08:09\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:31\u00a0<vmassol>\u00a0has joined #xwiki  \n08:48\u00a0<+tmortagne>\u00a0sdumitriu: Hi  \n08:48\u00a0<+tmortagne>\u00a0did you had time to looks at http://jira.xwiki.org/browse/XE-1154 ?  \n08:51\u00a0<jssolichin>\u00a0has joined #xwiki  \n08:53\u00a0<vmassol>\u00a0Denis, sdumitriu: XE-1154 is a blocker for the 4.0 final release. Any progress? We really need to release 3.5.1 (most important, been awaited by lots of people) and 4.0 (we're lagging by more than a week)  \n08:57\u00a0<vmassol>\u00a0mflorea: I'm fixing the escape mistake on Welcome.xml  \n08:57\u00a0<vmassol>\u00a0thanks for noticing  \n08:57\u00a0<vmassol>\u00a0I tested it though so it's strange  \n08:58\u00a0<vmassol>\u00a0maybe I made last minute changes  \n08:58\u00a0<+mflorea>\u00a0np, I noticed while doing xar:format, I got more changes than I expected to :)  \n08:58\u00a0<vmassol>\u00a0mflorea: have you seen it break the home page because it displayed fine for me AFAIK?  \n08:59\u00a0<+mflorea>\u00a0it displays fine because browser are a bit smart  \n08:59\u00a0<vmassol>\u00a0it's nt just browser  \n08:59\u00a0<+mflorea>\u00a0i.e. they detect that > is not the end of a tag  \n08:59\u00a0<vmassol>\u00a0it's the XML tools we use to load the doc  \n08:59\u00a0<vmassol>\u00a0that's what is suprising me  \n09:00\u00a0<+mflorea>\u00a0probably they are not very strict  \n09:00\u00a0<vmassol>\u00a0(I'd have expcted them to fail)  \n09:01\u00a0<CIA-160>\u00a0Vincent Massol\u000f master\u000f \\* rdc1eee5\u000f https://github.com/xwiki/xwiki-enterprise/commit/dc1eee50fc8642c711a1bee08c510dbc5bb43c52 \u000f/ xwiki-enterprise-ui/src/main/resources/Main/Welcome.xml :\u000f [Misc] Fix invalid XML - http://git.io/ZXw-mQ  \n09:03\u00a0<CIA-160>\u00a0Vincent Massol\u000f stable-4.0.x\u000f \\* rf64bb4e\u000f https://github.com/xwiki/xwiki-enterprise/commit/f64bb4e070d33317eb00329f7b89f4e836e93649 \u000f/ xwiki-enterprise-ui/src/main/resources/Main/Welcome.xml :\u000f [Misc] Fix invalid XML - http://git.io/cDP9Pg  \n09:03\u00a0<vmassol>\u00a0fixed, thanks  \n09:04\u00a0<CIA-160>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r1aa14d0\u000f https://github.com/xwiki/xwiki-enterprise/commit/1aa14d0d870bd6f8352eff2213ee272beaac3530 \u000f/ xwiki-enterprise-ui/src/main/resources/XWiki/AttachmentSelector.xml :\u000f XE-1156: XWiki.AttachmentSelector does not work when Class has multiple Sheets bound - http://git.io/N\\_5uVQ  \n09:04\u00a0<CIA-160>\u00a0Marius Dumitru Florea\u000f stable-4.0.x\u000f \\* rf2aaf2d\u000f https://github.com/xwiki/xwiki-enterprise/commit/f2aaf2d829ac8b4eb8da43913fd89a8ca481243e \u000f/ xwiki-enterprise-ui/src/main/resources/XWiki/AttachmentSelector.xml :\u000f XE-1156: XWiki.AttachmentSelector does not work when Class has multiple Sheets bound ...  \n09:04\u00a0<+tmortagne>\u00a0vmassol: > is actually valid according to http://www.w3schools.com/xml/xml\\_validator.asp but xml writers always escape it to be safe  \n09:12\u00a0<+mflorea>\u00a0sdumitriu: ping  \n09:14\u00a0<rrodriguez>\u00a0has joined #xwiki  \n09:22\u00a0<rrodriguez>\u00a0has quit  \n09:25\u00a0<rrodriguez>\u00a0has joined #xwiki  \n09:39\u00a0<vmassol>\u00a0tmortagne: I've jsut read http://www.w3.org/TR/xml11/#syntax  \n09:39\u00a0<vmassol>\u00a0the < char must be escaped but the > one may be escaped  \n09:39\u00a0<vmassol>\u00a0except for compat reason  \n09:39\u00a0<+tmortagne>\u00a0yep  \n09:40\u00a0<vmassol>\u00a0I learnt something today :)  \n09:41\u00a0<sburjan>\u00a0has joined #xwiki  \n10:00\u00a0<rrodriguez>\u00a0has quit  \n10:01\u00a0<rrodriguez>\u00a0has joined #xwiki  \n10:04\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:04\u00a0<DrLou>\u00a0has joined #xwiki  \n10:05\u00a0<rrodriguez>\u00a0has quit  \n10:12\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:19\u00a0<jssolichin>\u00a0has quit  \n10:40\u00a0<Shaddox>\u00a0has joined #xwiki  \n10:49\u00a0<DrLou>\u00a0has quit  \n11:05\u00a0<jvelo>\u00a0has joined #xwiki  \n11:13\u00a0<vmassol>\u00a0tmortagne: I'm coding the CTS this morning. I have almost a first version but just realized we don't have an event/1.0 parser. I think we need one. I've looked at http://rendering.xwiki.org/xwiki/bin/view/Syntax/XDOMXML but it's too verbose IMO. WDYT?  \n11:15\u00a0<+tmortagne>\u00a0vmassol: we can't parse the current event/1.0 syntax  \n11:15\u00a0<+tmortagne>\u00a0xdom+xml/current can be improved  \n11:21\u00a0<vmassol>\u00a0tmortagne: do you haven an example of what could not be parsed?  \n11:24\u00a0<+tmortagne>\u00a0vmassol: there is no escaping in event/1.0 syntax so you can't safely parse various bocks parameters  \n11:27\u00a0<vmassol>\u00a0indeed one or two tests may fail, but we could improve this easily by escaping what needs to be escaped  \n11:27\u00a0<vmassol>\u00a0I'm fine improving your XML format but I doubt it can be compact  \n11:28\u00a0<+tmortagne>\u00a0also every block as a custom way to display itself so it's a pain to write a parser while xdom+xml/current already support any future modification made to the XDOM so I would really prefer finding way to reduce its size (and there is)  \n11:28\u00a0<+tmortagne>\u00a0event/1.0 is not very compact either  \n11:28\u00a0<vmassol>\u00a0I doubt it can ever be as compact as the event format  \n11:28\u00a0<vmassol>\u00a0but if you have an idea please show it, I'm all for it  \n11:28\u00a0<vmassol>\u00a0actually  \n11:29\u00a0<vmassol>\u00a0thiking about it  \n11:29\u00a0<vmassol>\u00a0you can probably reach the same compactness  \n11:29\u00a0<vmassol>\u00a0let me check something  \n11:30\u00a0<vmassol>\u00a0tmortagne: what would be great is to have: https://gist.github.com/2478264  \n11:32\u00a0<+tmortagne>\u00a0<document> makes it hard to write a generic parser compared to <block name=\"document\"> there is more complex example  \n11:33\u00a0<+tmortagne>\u00a0having the value of parameter directy in the block when there is only one parameter is doable  \n11:34\u00a0<vmassol>\u00a0sure but for the tests I don't think we need a generic parser  \n11:34\u00a0<vmassol>\u00a0I prefer compactness over genericity for tests  \n11:36\u00a0<+tmortagne>\u00a0I don't see the point in having a test implementation of a syntax, we can reduce a lot the standard xml+dom/current syntax  \n11:36\u00a0<+tmortagne>\u00a0I did not said <document> was impossible  \n11:36\u00a0<+tmortagne>\u00a0just need to some time think about it  \n11:36\u00a0<vmassol>\u00a0ok, in the meantime I'm reusing the input specified instead of parsing the pivot format  \n11:55\u00a0<tmortagne>\u00a0has quit  \n11:56\u00a0<CIA-160>\u00a0tmortagne\u000f master\u000f \\* r550d59b\u000f https://github.com/xwiki/xwiki-platform/commit/550d59b77caf5d44e40d422d2d3ab740e8d8d943 \u000f/ (9 files in 6 dirs):\u000f XWIKI-7761: The string merging is not very good during XAR merge - http://git.io/HpEmXA  \n12:02\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:14\u00a0<mflorea>\u00a0has quit  \n12:26\u00a0<heisenberg\\_>\u00a0has joined #xwiki  \n12:56\u00a0<gdelhumeau>\u00a0has quit  \n12:57\u00a0<jvdrean>\u00a0has quit  \n12:58\u00a0<mflorea>\u00a0has joined #xwiki  \n13:00\u00a0<jvdrean>\u00a0has joined #xwiki  \n13:04\u00a0<jvdrean1>\u00a0has joined #xwiki  \n13:05\u00a0<jvdrean>\u00a0has quit  \n13:18\u00a0<heisenberg\\_>\u00a0I have created an individual sheet for an application w/in minutes which works beatifully. now I want to display a user's full name. how can I access that? I have got it's username which I could use as parameter. but which function/method to call?  \n13:33\u00a0<vmassol>\u00a0heisenberg\\_: in the future this will be found in the user module. Right now it's in oldcore: $xwiki.getUserName  \n13:33\u00a0<vmassol>\u00a0I found it by googling ;)  \n13:33\u00a0<vmassol>\u00a0led me to http://comments.gmane.org/gmane.comp.web.wiki.xwiki.user/13306  \n13:33\u00a0<heisenberg\\_>\u00a0what was your google request? :-)  \n13:34\u00a0<vmassol>\u00a0xwiki user \"full name\"  \n13:35\u00a0<vmassol>\u00a0hmmm  \n13:35\u00a0<vmassol>\u00a0I've checked the source and it returns HTML  \n13:35\u00a0<heisenberg\\_>\u00a0uh, I had some similar ones which didn't lead me to my desired result  \n13:35\u00a0<heisenberg\\_>\u00a0okay?  \n13:35\u00a0<vmassol>\u00a0wait checking more  \n13:35\u00a0<heisenberg\\_>\u00a0that's not what I wanted :-)  \n13:36\u00a0<heisenberg\\_>\u00a0you actually commented on that entry in 2010 ;)  \n13:36\u00a0<heisenberg\\_>\u00a0... assuming you're vincent ;)  \n13:36\u00a0<vmassol>\u00a0ok you should call:  \n13:36\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0public String getUserName(String user, boolean link)  \n13:37\u00a0<vmassol>\u00a0passing false as the second param  \n13:37\u00a0<vmassol>\u00a0to not have a link generated around the name  \n13:37\u00a0<heisenberg\\_>\u00a0ok  \n13:37\u00a0<heisenberg\\_>\u00a0and the user param is my XWiki.username?  \n13:37\u00a0<vmassol>\u00a0there's even a method to control the formatting  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* @param user Fully qualified username as retrieved from $context.user (XWiki.LudovicDubost)  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* @param format formatting to be used (\"$first\\_name $last\\_name\", \"$first\\_name\")  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* @param link false to not add an HTML link to the user profile  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* @return The first name and last name fields surrounded with a link to the user page  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\*/  \n13:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0public String getUserName(String user, String format, boolean link)  \n13:37\u00a0<vmassol>\u00a0yes  \n13:38\u00a0<vmassol>\u00a0ah that's cool  \n13:38\u00a0<heisenberg\\_>\u00a0wow, have a link to this doc?  \n13:38\u00a0<vmassol>\u00a0all props that are in a user's XWikiUSers class are available  \n13:38\u00a0<vmassol>\u00a0the format is actually a Velocity snippet  \n13:39\u00a0<heisenberg\\_>\u00a0ok  \n13:39\u00a0<vmassol>\u00a0the doc is available here:  \n13:39\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/API  \n13:40\u00a0<vmassol>\u00a0http://nexus.xwiki.org/nexus/service/local/repositories/releases/archive/org/xwiki/platform/xwiki-platform-oldcore/3.5/xwiki-platform-oldcore-3.5-javadoc.jar/!/com/xpn/xwiki/api/XWiki.html#getUserName(java.lang.String, boolean)  \n13:40\u00a0<heisenberg\\_>\u00a0great, thanks a lot!  \n13:40\u00a0<vmassol>\u00a0it's linked from the dev guide home page: http://platform.xwiki.org/xwiki/bin/view/DevGuide/WebHome  \n13:41\u00a0<vmassol>\u00a0\"XWiki API Reference\"  \n13:41\u00a0<vmassol>\u00a0it's not the full API though, we need to improve that  \n13:41\u00a0<vmassol>\u00a0it's only the api for the oldcore module  \n13:41\u00a0<heisenberg\\_>\u00a0kk  \n13:42\u00a0<vmassol>\u00a0however full apis can be found in http://maven.xwiki.org/releases  \n13:42\u00a0<vmassol>\u00a0just pick the version and modules you wish to check api for and then click on the javadoc suffixed file  \n13:42\u00a0<heisenberg\\_>\u00a0tnx (I need to find out about all these things like nexus and maven...)  \n13:42\u00a0<vmassol>\u00a0but we really need an \"API center\"  \n13:43\u00a0<vmassol>\u00a0where we can search for all apis  \n13:43\u00a0<vmassol>\u00a0that would be great  \n13:43\u00a0<heisenberg\\_>\u00a0yes...!  \n13:43\u00a0<vmassol>\u00a0and probably not that hard to do  \n13:44\u00a0<heisenberg\\_>\u00a0I count on u :-)  \n13:45\u00a0<vmassol>\u00a0that's too easy!  \n13:45\u00a0<vmassol>\u00a0you should contribute it yourself, xwiki.org is an open wiki  \n13:45\u00a0<vmassol>\u00a0:)  \n13:46\u00a0<heisenberg\\_>\u00a0you mean about the API search or about the meanings of maven and nexus and their connection to xwiki?  \n13:46\u00a0<vmassol>\u00a0I mean about creating an \"API Center\"  \n13:47\u00a0<vmassol>\u00a0the best is to implement it as an application (XAR)  \n13:47\u00a0<vmassol>\u00a0so that users can install it in the their wiki and so that we can also install it on xwiki.org  \n13:47\u00a0<heisenberg\\_>\u00a0sorry, I currently spent enough time (my boss says more than allowed) on customizing our business wiki. I don't think he'd be as glad as you about contributing in that way. but when I find time, I'll contribute, I promise.  \n13:48\u00a0<heisenberg\\_>\u00a0anyway, I need to read the section about commiting own code (patches, extensions etc.) because we will be developing some...  \n13:48\u00a0<vmassol>\u00a0ok, tell you boss that he needs to contribute at least as much as he gets benefits from using xwiki freely  \n13:48\u00a0<vmassol>\u00a0:)  \n13:48\u00a0<vmassol>\u00a0cool  \n13:51\u00a0<heisenberg\\_>\u00a0yeah, my words. but my boss comes from a brick and mortar business and is not too much into this IT and wiki stuff. so I need to convince him by simple but cheap solutions (and cheap on this hand also means not spending too much time to customize etc.)  \n13:51\u00a0<vmassol>\u00a0sure, make him something that works nicely and from which he derives value  \n13:52\u00a0<vmassol>\u00a0then explain that nothing is free and if he wishes his new features to continue to work and be improved/maintained he'll need to contribute something (money, code, bugreports, etc) so that the xwiki projects carries on living  \n13:57\u00a0<CIA-160>\u00a0Vincent Massol\u000f cts\u000f \\* r12ae3a3\u000f https://github.com/xwiki/xwiki-rendering/commit/12ae3a3e87d697a8edf8f09278f3b5c67ad9214c \u000f/ (18 files in 10 dirs):\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n13:57\u00a0<jvelo>\u00a0vmassol: re API center : a prototype could be done in groovy quite easily  \n13:58\u00a0<vmassol>\u00a0tmortagne: committed a very first version if you wish to check it out  \n13:58\u00a0<vmassol>\u00a0otp  \n13:58\u00a0<jvelo>\u00a0introspecting service + older API objects  \n13:58\u00a0<heisenberg\\_>\u00a0vmassol: that's been my strategic approach from the beginning :-)  \n14:01\u00a0<vmassol1>\u00a0has joined #xwiki  \n14:02\u00a0<vmassol>\u00a0has quit  \n14:14\u00a0<jvdrean1>\u00a0has quit  \n14:23\u00a0<jvdrean>\u00a0has joined #xwiki  \n14:27\u00a0<heisenberg\\_>\u00a0any1 successfully implemented the Mutipage Table of Contents extension? (http://extensions.xwiki.org/xwiki/bin/view/Extension/Multipage+Table+Of+Contents)  \n14:41\u00a0<+tmortagne>\u00a0vmassol1: yep seen it, will look at it in detail and work a bit on xdom+xml/current syntax after release is done  \n14:42\u00a0<+tmortagne>\u00a0sdumitriu: any news about http://jira.xwiki.org/browse/XE-1154 ?  \n14:47\u00a0<heisenberg\\_>\u00a0has quit  \n14:49\u00a0<+sburjan>\u00a0Hello. I have managed to get Agent7 (Windows for IE8 testing) operational. Can someone configure me or help me on how to configure binding a job on it ? (we will only build and run ui-tests - selenium 2) tests  \n14:53\u00a0<vmassol1>\u00a0@sburjan: ok I'v created a label  \n14:53\u00a0<vmassol1>\u00a0\"windows\" on agent7  \n14:54\u00a0<vmassol1>\u00a0ATM I see that UI tests are bound to agent1 and 2  \n14:54\u00a0<vmassol1>\u00a0I'll add agent7 now  \n14:54\u00a0<vmassol1>\u00a0done  \n14:54\u00a0<+sburjan>\u00a0we should find a way to have them run (only ui-tests)  \n14:55\u00a0<+sburjan>\u00a0cool  \n14:55\u00a0<vmassol1>\u00a0need to read to check how to use labels  \n14:55\u00a0<+sburjan>\u00a0so we need to wait for a build ATM, right ?  \n14:57\u00a0<vmassol1>\u00a0ok tying to job  \n14:57\u00a0<vmassol1>\u00a0it's alrrady tied  \n14:57\u00a0<+sburjan>\u00a0I have recovered my admin rights to CI  \n14:57\u00a0<vmassol1>\u00a0whih means that right now only ui tests will run on it  \n14:58\u00a0<+sburjan>\u00a0but I can't find in the config menu where the job binding is done  \n14:58\u00a0<vmassol1>\u00a0sburjan: 1) this agent is only avail to tied jobs  \n14:59\u00a0<vmassol1>\u00a02) check http://ci.xwiki.org/job/xwiki-enterprise-test-ui/configure you'll see it's tied to agent1, 2 and 7  \n14:59\u00a0<+sburjan>\u00a0AHA !  \n14:59\u00a0<vmassol1>\u00a0but I think this means that agent1 will be favored, then if busy then agent2 and if busy then agent7  \n15:00\u00a0<+sburjan>\u00a0which is not good ...  \n15:00\u00a0<vmassol1>\u00a0it's ok  \n15:00\u00a0<vmassol1>\u00a0we can also schedule a build on it at a given tme every day if we want  \n15:01\u00a0<vmassol1>\u00a0I don't think we want to try builds on it all the time  \n15:01\u00a0<vmassol1>\u00a0now I don't know how to trigger a build on a given agent  \n15:01\u00a0<vmassol1>\u00a0reading up  \n15:01\u00a0<+sburjan>\u00a0could we trigger a job start on agent 7 to see if it something fails ?  \n15:01\u00a0<rogerreid>\u00a0has joined #xwiki  \n15:02\u00a0<rogerreid>\u00a0hi, how can I set the default editing mode to WYSIWYG for a specific page?  \n15:05\u00a0<vmassol1>\u00a0sburjan: I'm going to force build on agent7 now and start a build  \n15:06\u00a0<vmassol1>\u00a0failed: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/1201/console  \n15:06\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n15:06\u00a0<vmassol>\u00a0sburjan: you should try it locally first  \n15:06\u00a0<vmassol>\u00a0by executing the exact same command  \n15:06\u00a0<vmassol>\u00a0\"Cannot run program \"/usr/bin/git\" (in directory \"C:\\Jenkins\\workspace\\xwiki-enterprise-test-ui\"): CreateProcess error=3, The system cannot find the path specified\"  \n15:07\u00a0<vmassol>\u00a0so git is not available in jenkins' agent PATH  \n15:09\u00a0<rogerreid>\u00a0what is the statement to set the default editing mode to WYSIWYG for a specific page?  \n15:09\u00a0<rogerreid>\u00a0can someone help?  \n15:09\u00a0<+sburjan>\u00a0vmassol: \u00a0ok, let me fix that  \n15:10\u00a0<+sburjan>\u00a0rogerreid: http://platform.xwiki.org/xwiki/bin/view/Features/PageEditing  \n15:10\u00a0<vmassol>\u00a0rogerreid: that's not how it works  \n15:10\u00a0<vmassol>\u00a0editing mode is configured per user type/user  \n15:10\u00a0<vmassol>\u00a0s/user type//  \n15:10\u00a0<vmassol>\u00a0what you can do is for a given xclass property make it use wysiwyg by default  \n15:11\u00a0<vmassol>\u00a0(that property has to be textarea)  \n15:12\u00a0<+sburjan>\u00a0vmassol: this is a little bit odd, because I can git from the command prompt on the agent.  \n15:14\u00a0<vmassol>\u00a0sburjan: you need to run under the same user as the agent runs of course  \n15:15\u00a0<vmassol>\u00a0can you check that?  \n15:16\u00a0<+sburjan>\u00a0yes.. checking  \n15:18\u00a0<+sburjan>\u00a0ok, seems that all users in the system have the path to git, because I logged in as Administrator also, and I am able to git from Administrator too  \n15:18\u00a0<+sburjan>\u00a0because I used the git installer, and that creates the path for all users  \n15:19\u00a0<vmassol>\u00a0well that's not true for the java agent obviously  \n15:19\u00a0<vmassol>\u00a0:)  \n15:19\u00a0<vmassol>\u00a0hmm  \n15:20\u00a0<vmassol>\u00a0from the console log it tries to do: Error performing command: /usr/bin/git --version  \n15:20\u00a0<vmassol>\u00a0I don't know if this is really what it does or a generic message  \n15:20\u00a0<vmassol>\u00a0it's what it does  \n15:20\u00a0<vmassol>\u00a0\"Cannot run program \"/usr/bin/git\" \"  \n15:20\u00a0<+sburjan>\u00a0well that path can't exist on a windows OS  \n15:20\u00a0<+sburjan>\u00a0maybe if we install cygwin, but i've read that there are people who are able to use it without cygwin  \n15:20\u00a0<vmassol>\u00a0wait  \n15:21\u00a0<vmassol>\u00a0have you read the doc first?  \n15:21\u00a0<rogerreid>\u00a0vmassol: so I cannot set a default editing mode for a specific xwiki page?  \n15:22\u00a0<vmassol>\u00a0sburjan: you should read https://www.google.fr/search?sourceid=chrome&ie=UTF-8&q=jenkins+git+windows  \n15:22\u00a0<vmassol>\u00a0rogerreid: that has no meaning in xwiki  \n15:22\u00a0<vmassol>\u00a0editor is a user choice  \n15:23\u00a0<vmassol>\u00a0but  \n15:23\u00a0<vmassol>\u00a0as I said you can have \u00a0a default editor for a given xclass property but it's only default, if hte user chosses a different editor hell' get the editor he chooses  \n15:23\u00a0<vmassol>\u00a0so just to understand your use case rogerreid:  \n15:24\u00a0<vmassol>\u00a0- you want for ex have a default of wiki editor for a given space/pages and wysiwyg editor for a different space/pages?  \n15:24\u00a0<vmassol>\u00a0(knowing that user can choose their editors of course)  \n15:24\u00a0<vmassol>\u00a0(in which case their choice overrides the default)  \n15:24\u00a0<vmassol>\u00a0is that what you'd like?  \n15:26\u00a0<vmassol>\u00a0this is currently not possible since default editor choice is for the whole wiki and for a given user (by default simple users have the wysiwyg editor defined)  \n15:26\u00a0<+sburjan>\u00a0vmassol: can you try to start now the build again ?  \n15:26\u00a0<vmassol>\u00a0sburjan: btw did you get an email from the failed build?  \n15:26\u00a0<vmassol>\u00a0ah yes I got it  \n15:27\u00a0<+sburjan>\u00a0yes. got it too  \n15:28\u00a0<vmassol>\u00a0sburjan: same error  \n15:28\u00a0<vmassol>\u00a0you should try it first on the machine  \n15:28\u00a0<vmassol>\u00a0it's a pain to reconfigure it everytime  \n15:29\u00a0<+sburjan>\u00a0what should I try ?  \n15:29\u00a0<vmassol>\u00a0hold on  \n15:29\u00a0<vmassol>\u00a0I'll confgure a new plugin on jenkins  \n15:30\u00a0<+sburjan>\u00a0the git is installed using the git windows installer and it is installed on C:/Program Files/Git  \n15:30\u00a0<vmassol>\u00a0sburjan: have you read all the docs I mentioned?  \n15:31\u00a0<+sburjan>\u00a0I read from those threads, yes  \n15:31\u00a0<vmassol>\u00a0so?  \n15:31\u00a0<vmassol>\u00a0what's the result?  \n15:32\u00a0<+sburjan>\u00a0reading this https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin ATM  \n15:35\u00a0<+sburjan>\u00a0ok, I see. so might be a ssh issue (but afair we don't use ssh clone method on agents)  \n15:35\u00a0<vmassol>\u00a0there's no ssh issue  \n15:35\u00a0<vmassol>\u00a0Cannot run program \"/usr/bin/git\"  \n15:35\u00a0<vmassol>\u00a0that's the issue  \n15:36\u00a0<vmassol>\u00a0continue reading! :)  \n15:38\u00a0<vmassol>\u00a0sburjan: there's now the choice to decide on which agent to run: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/build?delay=0sec  \n15:39\u00a0<vmassol>\u00a0but don't use that too much, you need to understand first what's the problem  \n15:39\u00a0<vmassol>\u00a0whenever the build fails it sends a false positive to everyone and that's very bad!  \n15:39\u00a0<+sburjan>\u00a0still trying to understand  \n15:39\u00a0<vmassol>\u00a0so you should make it work locally first  \n15:39\u00a0<vmassol>\u00a0or disable sending notifications for now  \n15:41\u00a0<+sburjan>\u00a0how do I make it work locally ? cloning a repo locally works.. like git clone git://github.com/xwiki/xwiki-enterprise.git works  \n15:47\u00a0<+sburjan>\u00a0ok, let me re-install git to C:\\ .. it's safer .. white spaces in PATH names are not recommended either way  \n15:54\u00a0<vmassol>\u00a0sburjan: I don't tihnk it has anytthing to do with that  \n15:54\u00a0<vmassol>\u00a0again  \n15:54\u00a0<vmassol>\u00a0it's looking for /usr/bin/git  \n15:55\u00a0<+sburjan>\u00a0I know.. but It \u00a0might some config from master  \n15:56\u00a0<+sburjan>\u00a0still trying to figure it out  \n16:01\u00a0<+sburjan>\u00a0vmassol: maybe I have to add a environment variable from the slave configuration  \n16:01\u00a0<+sburjan>\u00a0http://ci.xwiki.org/computer/agent-7/configure  \n16:01\u00a0<vmassol>\u00a0link?  \n16:01\u00a0<+sburjan>\u00a0like TOol Locations  \n16:01\u00a0<vmassol>\u00a0show me the url to the doc  \n16:01\u00a0<+sburjan>\u00a0http://ci.xwiki.org/computer/agent-7/configure  \n16:02\u00a0<rogerreid>\u00a0vmassol: yes, you understood me correctly. I have created an app, and each app page has a) the basic app information you can edit by form editor and b) a regular wiki page. a) is automatically added into each header of b).  \n16:02\u00a0<rogerreid>\u00a0when now a regular user goes to that page he shall be able to edit the wiki page content but not the app's content  \n16:02\u00a0<+sburjan>\u00a0vmassol: https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin#GitPlugin-Gotchas  \n16:02\u00a0<rogerreid>\u00a0so I would need to set a default editor to WYSIWYG instead of default form editor  \n16:06\u00a0<vmassol>\u00a0sburjan: it's not a clone issue  \n16:06\u00a0<vmassol>\u00a0it's https://wiki.jenkins-ci.org/display/JENKINS/Git+Plugin#GitPlugin- that you need to read  \n16:07\u00a0<vmassol>\u00a0indeed you should set  \n16:07\u00a0<+sburjan>\u00a0it's a path issue, master thinks git path is is /urt/bin/git  \n16:07\u00a0<vmassol>\u00a0GIT\\_HOME  \n16:08\u00a0<vmassol>\u00a0bbiab  \n16:17\u00a0<+sburjan>\u00a0vmassol: I have added the GIT\\_HOME environment path. no white spaces in path names. Except that, everything else is related to ssh. what am I missing ?  \n16:20\u00a0<+sburjan>\u00a0I'm also reading: \"go to to the Jenkins configuration settings (not the project settings, the global ones) and change the Git path to a fully qualified path\" .. but there is already one \"/usr/bin/git\" .. which is for the master configuration  \n16:21\u00a0<+sburjan>\u00a0\"List of Git installations on this system\"  \n16:21\u00a0<+sburjan>\u00a0so these doesn't seem git paths for slave agents  \n16:25\u00a0<CIA-160>\u00a0Vincent Massol\u000f cts\u000f \\* r0e8494f\u000f https://github.com/xwiki/xwiki-rendering/commit/0e8494ff62fea6e63591d03269ffc28d9885b9d6 \u000f/ (14 files in 8 dirs):\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n16:31\u00a0<+sburjan>\u00a0any \u00a0clues ?  \n16:37\u00a0<CIA-160>\u00a0Vincent Massol\u000f cts\u000f \\* rcbc3484\u000f https://github.com/xwiki/xwiki-rendering/commit/cbc3484c0390c623d0a1d4c0868e7437a6bfd25c \u000f/ (4 files in 3 dirs):\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n16:51\u00a0<+sburjan>\u00a0i give up  \n16:52\u00a0<lucaa>\u00a0has joined #xwiki  \n16:53\u00a0<+lucaa>\u00a0hi guys  \n16:53\u00a0<+lucaa>\u00a0sdumitriu: what's the status of 3.5.1, is it done packed and released?  \n17:02\u00a0<+tmortagne>\u00a0lucaa: no  \n17:02\u00a0<+tmortagne>\u00a0it's blocked by \u00a0http://jira.xwiki.org/browse/XE-1154  \n17:03\u00a0<+tmortagne>\u00a0(same as 4.0)  \n17:03\u00a0<+lucaa>\u00a0but 1154 doesn't have affects nor fix for 3.5.1  \n17:03\u00a0<+lucaa>\u00a0can we unrelease things on jira and mark 3.5.1 as unreleased and put this issue with fix for 3.5.1?  \n17:04\u00a0<+lucaa>\u00a0because from a tools pov, 3.5.1 is as good as released: on maven it's released, on jira it's released  \n17:04\u00a0<+tmortagne>\u00a0because it has been tested by Daniel on 4.0RC1 et sdumitriu forgot to put 3.5.1 related infos on it  \n17:04\u00a0<+lucaa>\u00a0ok, i'll handle all that  \n17:04\u00a0<+lucaa>\u00a0thanks  \n17:05\u00a0<+tmortagne>\u00a0it's released on jira and on maven because sdumitriu actually started the release  \n17:05\u00a0<+tmortagne>\u00a0but it was before finding this issue  \n17:06\u00a0<+lucaa>\u00a0yes, but the time we fix it, we should mark that's it's not actually considered done and it's blocked by an issues  \n17:06\u00a0<+lucaa>\u00a0\\*an issue  \n17:11\u00a0<+tmortagne>\u00a0sure  \n17:17\u00a0<+sburjan>\u00a0vmassol: only place I can find \"/usr/bin/git\" is in Jenkins Global Configuration -> git plugin. But I don't think I should touch that  \n17:23\u00a0<jack5\\_>\u00a0has joined #xwiki  \n17:24\u00a0<jack5\\_>\u00a0does anybody know how can I make a link to my custom panel that displays documentIndex with specific spacename?  \n17:24\u00a0<+tmortagne>\u00a0sburjan: you can setup this in the agent configuration  \n17:25\u00a0<+tmortagne>\u00a0what's in global is just the default basicaly  \n17:25\u00a0<+tmortagne>\u00a0since all other agents have the same configuration  \n17:25\u00a0<jack5\\_>\u00a0I have created this: [[Main.AllDocs||queryString=\"view=attachments\"]] but how do I filter the search to specific space?  \n17:25\u00a0<+sburjan>\u00a0tmortagne: yes, I was thinking about that, let me try .. hope I won't generate more spam  \n17:26\u00a0<+sburjan>\u00a0on the page vmassol \u00a0gave me they don't specify nothing about setting this up in the agent config, they only talk about global config  \n17:27\u00a0<+tmortagne>\u00a0sburjan: ok but you have the exact same things on both  \n17:27\u00a0<+tmortagne>\u00a0you just override the global one on the egent  \n17:27\u00a0<+tmortagne>\u00a0agent  \n17:27\u00a0<+tmortagne>\u00a0they only talk about global one because that's what people do by default when there is only one agent  \n17:28\u00a0<+sburjan>\u00a0tmortagne: yes.. I know. But I'm very scared not to do something that will impact all agents. Trying setting git up in the agent config, fingers crossed :)  \n17:30\u00a0<+tmortagne>\u00a0sburjan: if you setup only agent-7 you are not goin to impact other egents  \n17:30\u00a0<+tmortagne>\u00a0agents  \n17:31\u00a0<+lucaa>\u00a0tmortagne: since you're here, do you know what's the difference between xwiki-manager-ui and xwiki-manager-ui-all ?  \n17:31\u00a0<+lucaa>\u00a0ui-all is with workspaces, ui is without?  \n17:31\u00a0<+tmortagne>\u00a0lucaa: did you looked at http://manager.xwiki.org/xwiki/bin/view/Main/Download ?  \n17:31\u00a0<+lucaa>\u00a0no, I didn't  \n17:31\u00a0<+lucaa>\u00a0sorry  \n17:31\u00a0<+lucaa>\u00a0let's  \n17:32\u00a0<+tmortagne>\u00a0you have exactly the ssame thing for enterprise  \n17:33\u00a0<+lucaa>\u00a0so xem without workspaces doesn't exist?  \n17:33\u00a0<+tmortagne>\u00a0\\*-ui is the proper project, the one you would install with extension manager and which declare dependencies, \\*-ui-all is a package with \\*-ui an all its dependencies  \n17:33\u00a0<+lucaa>\u00a0at all?  \n17:33\u00a0<+sburjan>\u00a0tmortagne: failed again, don't know what I've done wrong, it seems the global config is used even I specified git home on the agent  \n17:34\u00a0<CIA-160>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r048f294\u000f https://github.com/xwiki/xwiki-platform/commit/048f29446bbc43763227e83b730f4ef55fb574d1 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f XWIKI-7764: Install/Uninstall extensions asynchronously ...  \n17:34\u00a0<+tmortagne>\u00a0lucaa: if you mean everything but worskspaces like the old XEM no it does not exists  \n17:34\u00a0<+tmortagne>\u00a0sburjan: looking  \n17:34\u00a0<+lucaa>\u00a0tmortagne: yes, everything without workspaces, like the old XEM :)  \n17:35\u00a0<+tmortagne>\u00a0that's not what XEM is anymore  \n17:35\u00a0<+lucaa>\u00a0but I should be able to make it manually, by using the appropriate dependencies, I would guess, no?  \n17:35\u00a0<+sburjan>\u00a0tmortagne: I might have forgot to save the config ...  \n17:36\u00a0<+tmortagne>\u00a0yes you can take manager-ui + appmanager + wikimanager xars  \n17:36\u00a0<+tmortagne>\u00a0( lucaa )  \n17:36\u00a0<+lucaa>\u00a0tmortagne: \u00a0and xe  \n17:36\u00a0<+lucaa>\u00a0xe ui-all  \n17:36\u00a0<+tmortagne>\u00a0unless manager-ui does noy work well without workspaces I don't know, you will have to ask Edy  \n17:37\u00a0<+tmortagne>\u00a0sure  \n17:37\u00a0<+lucaa>\u00a0yes, that's what I fear  \n17:37\u00a0<+lucaa>\u00a0that manager-ui doesn't work without workspaces  \n17:37\u00a0<+lucaa>\u00a0although it should because in the workspaces itself there is a link to the old wiki manager  \n17:37\u00a0<+sburjan>\u00a0tmortagne: ok, now path is taken into consideration, but I get another error  \n17:37\u00a0<+sburjan>\u00a0Jenkins doesn't love me today  \n17:41\u00a0<+tmortagne>\u00a0sburjan: ok at least it's better than before ;)  \n17:42\u00a0<+sburjan>\u00a0maybe to I have to specify also the full path, like C:\\Git\\bin\\git.exe.Should I try this way ?  \n17:42\u00a0<+tmortagne>\u00a0sburjan: on what job are you testing ?  \n17:42\u00a0<+sburjan>\u00a0tmortagne: and I select agent-7 from here: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/build?delay=0sec  \n17:42\u00a0<+tmortagne>\u00a0sburjan: you should do the same as we do for linux setup I guess  \n17:43\u00a0<+sburjan>\u00a0which is ?  \n17:43\u00a0<+tmortagne>\u00a0the global setup  \n17:43\u00a0<+tmortagne>\u00a0/usr/bin/git  \n17:43\u00a0<+tmortagne>\u00a0so thats the full path  \n17:43\u00a0<+tmortagne>\u00a0to the executable  \n17:44\u00a0<+sburjan>\u00a0ok, go the git from /usr/bin/git is a file, not a directory ?  \n17:44\u00a0<+tmortagne>\u00a0yes  \n17:44\u00a0<+sburjan>\u00a0ok, let me try with full path, including file name  \n17:45\u00a0<+tmortagne>\u00a0hmm  \n17:45\u00a0<+tmortagne>\u00a0actually looks like it's not the same configuration actually  \n17:45\u00a0<+tmortagne>\u00a0the global has \"Path to Git executable\"  \n17:45\u00a0<+tmortagne>\u00a0but \"Home\" should be the folder  \n17:46\u00a0<+tmortagne>\u00a0but home is not C:\\Git\\bin\\  \n17:46\u00a0<+tmortagne>\u00a0it's C:\\Git\\ I think  \n17:46\u00a0<+tmortagne>\u00a0( sburjan )  \n17:46\u00a0<+sburjan>\u00a0tmortagne: it got passed that stage: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/1206/console  \n17:46\u00a0<+sburjan>\u00a0but still failed  \n17:46\u00a0<+tmortagne>\u00a0sburjan: that's a maven error, not git  \n17:47\u00a0<+tmortagne>\u00a0I guess you have the same issue with maven  \n17:47\u00a0<+sburjan>\u00a0yepp.. so I guess I have to do the same for maven too, right ? with the paths  \n17:47\u00a0<+tmortagne>\u00a0you have to set it up the same way  \n17:47\u00a0<+sburjan>\u00a0now one question: do I have to use thesettings.xml specific to xwiki, right ?  \n17:47\u00a0<+tmortagne>\u00a0you have to do the same for all tols  \n17:47\u00a0<+tmortagne>\u00a0tools  \n17:48\u00a0<+tmortagne>\u00a0yes you have  \n17:48\u00a0<+sburjan>\u00a0okay.. thanks.. trying now  \n17:48\u00a0<+tmortagne>\u00a0take the one from other agents  \n17:48\u00a0<+sburjan>\u00a0sorry for the noise mails I generate  \n17:48\u00a0<+tmortagne>\u00a0it's ok  \n17:48\u00a0<+sburjan>\u00a0I don't have access to the agents, so I'll have to use the one from the website I guess  \n17:52\u00a0<vmassol>\u00a0sburjan: you should remove notification when you're testing to avoid false positives  \n17:53\u00a0<vmassol>\u00a0the last error is easy, it's maven config that is not correct, same stuff as git  \n17:55\u00a0<rogerreid>\u00a0has quit  \n17:59\u00a0<CIA-160>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rb0ea673\u000f https://github.com/xwiki/xwiki-platform/commit/b0ea6732a61a6b866f1d4ef0e68303ff83b84ad2 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f [misc] Defer the submit when the user selects a different repo so that IE9 is able to properly focus the search input. - http://git.io/Igt04A  \n18:01\u00a0<+mflorea>\u00a0tmortagne: did you fix the clirr error re MergeUtils?  \n18:02\u00a0<+tmortagne>\u00a0mflorea: nop, did not seen actually, doing it now  \n18:02\u00a0<+mflorea>\u00a0thanks  \n18:05\u00a0<CIA-160>\u00a0tmortagne\u000f master\u000f \\* r0af6f3a\u000f https://github.com/xwiki/xwiki-platform/commit/0af6f3a3214c9085bdfe057dd4650438afe5d47f \u000f/ xwiki-platform-core/pom.xml :\u000f XWIKI-7761: The string merging is not very good during XAR merge ...  \n18:05\u00a0<+tmortagne>\u00a0mflorea: done, thanks for the warning  \n18:05\u00a0<+mflorea>\u00a0;)  \n18:15\u00a0<+sburjan>\u00a0vmassol: It's building !!!! \u00a0Did you add the -Piexplore profile ?  \n18:18\u00a0<+tmortagne>\u00a0problem is that you can't just put -Piexplorer since the same job is \u00a0used for both  \n18:19\u00a0<+tmortagne>\u00a0either we duplicate the job or we find a way to not explicitly indicate the browser to use in the command  \n18:19\u00a0<vmassol>\u00a0it's worse than that tmortagne, we shouldn't rely on this agent for our releases since it can say ok but it's skipping lots of tests  \n18:19\u00a0<+tmortagne>\u00a0indeed  \n18:20\u00a0<+tmortagne>\u00a0so we should probably have a special job then  \n18:20\u00a0<vmassol>\u00a0yep  \n18:20\u00a0<+tmortagne>\u00a0until all test are enabled  \n18:20\u00a0<vmassol>\u00a0we can trigger it automatically once per night  \n18:20\u00a0<+tmortagne>\u00a0since I guess we are supposed to make them all work  \n18:20\u00a0<vmassol>\u00a0yes  \n18:21\u00a0<vmassol>\u00a0well ATM it should be triggered manually only till it builds fine  \n18:21\u00a0<vmassol>\u00a0and with no emails till it builds fine  \n18:21\u00a0<+tmortagne>\u00a0putting back notification for the job  \n18:23\u00a0<jack5\\_>\u00a0has quit  \n18:24\u00a0<+sburjan>\u00a0ok, so you're gonna create a special job for this so we can use the -Piexplore param ?  \n18:25\u00a0<+sburjan>\u00a0ATM I guess the build is stuck.. because I don't see anything new on the console  \n18:27\u00a0<+sburjan>\u00a0ok, at least it builds  \n18:27\u00a0<+sburjan>\u00a0thanks for helping vmassol, tmortagne  \n18:27\u00a0<+sburjan>\u00a0see you tomorrow, have a nice evening  \n18:28\u00a0<vmassol>\u00a0sburjan: he's not helping me  \n18:28\u00a0<vmassol>\u00a0he's helping you  \n18:28\u00a0<vmassol>\u00a0:)  \n18:28\u00a0<+sburjan>\u00a0I know :)  \n18:29\u00a0<+sburjan>\u00a0I'll check if the git home issue is reported on their bug tracking tool :)  \n18:30\u00a0<sburjan>\u00a0has quit  \n18:35\u00a0<jvdrean>\u00a0has quit  \n18:58\u00a0<jamie\\_wiki>\u00a0has quit  \n19:04\u00a0<+tmortagne>\u00a0vmassol: \"he's not helping me\" always nice to ear :P  \n19:05\u00a0<vmassol>\u00a0:)  \n19:09\u00a0<+sburjan`>\u00a0:)  \n19:09\u00a0<CIA-160>\u00a0tmortagne\u000f master\u000f \\* rc81f594\u000f https://github.com/xwiki/xwiki-manager/commit/c81f594a2a24019692fb4973f95c4817b41bb91b \u000f/ xwiki-manager-distribution/xwiki-manager-ui-all/pom.xml :\u000f Remove useless dependency - http://git.io/6gU0fg  \n19:11\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:25\u00a0<abusenius>\u00a0has joined #xwiki  \n19:37\u00a0<mflorea>\u00a0has quit  \n20:04\u00a0<lucaa>\u00a0has quit  \n20:15\u00a0<cjd>\u00a0has quit  \n20:21\u00a0<cjd>\u00a0has joined #xwiki  \n20:58\u00a0<CIA-160>\u00a0Vincent Massol\u000f master\u000f \\* r27f850d\u000f https://github.com/xwiki/xwiki-platform/commit/27f850d44060825d6ae47a2ddd9ff4434a43d37c \u000f/ (2 files in 2 dirs):\u000f XWIKI-3967: Allow using Groovy scripts without Programming Rights ...  \n21:00\u00a0<CIA-160>\u00a0Vincent Massol\u000f cts\u000f \\* rc16dc10\u000f https://github.com/xwiki/xwiki-rendering/commit/c16dc109b8c29413a1ef913670a75b0f579b26d4 \u000f/ xwiki-rendering-test/src/main/resources/simple/bold/bold1.xdom.txt :\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n21:05\u00a0<@cjd>\u00a0Is the non-pr groovy still able to access private fields?  \n21:06\u00a0<vmassol>\u00a0cjd: right now I doubt you can do anything useful to but I can add a test for that  \n21:06\u00a0<vmassol>\u00a0do you have an example that I can put in the unit test?  \n21:06\u00a0<@cjd>\u00a0new Random().unsafe.putAddress(0,0) comes to mind but no random...  \n21:06\u00a0<vmassol>\u00a0wdym by \"no random\"?  \n21:07\u00a0<@cjd>\u00a0can't import it since it's a java.util...  \n21:07\u00a0<vmassol>\u00a0indeed better pick something from java.lang  \n21:08\u00a0<vmassol>\u00a0should be easy  \n21:08\u00a0<@cjd>\u00a0\"Hello World\".value[0]  \n21:08\u00a0<@cjd>\u00a0should be char 'H'  \n21:08\u00a0<vmassol>\u00a0ok better I'll test that once my IDE has restarted  \n21:08\u00a0<@cjd>\u00a0With that and the xcontext, I could get anything  \n21:10\u00a0<@cjd>\u00a0One idea (not meaning to weigh you down) is to make a .groovy file which is parsed to define the configurator, that way if we discover a hole in the security, we can publicise a 1 liner which people can use to patch it  \n21:10\u00a0<vmassol>\u00a0yep that's my idea  \n21:10\u00a0<@cjd>\u00a0cool  \n21:10\u00a0<vmassol>\u00a0for configuring it  \n21:11\u00a0<@cjd>\u00a0I've always been a fan of configuration as script  \n21:13\u00a0<vmassol>\u00a0cjd: works  \n21:14\u00a0<@cjd>\u00a0works as in \"it's blocked\"?  \n21:15\u00a0<CIA-160>\u00a0Vincent Massol\u000f master\u000f \\* r2db02bf\u000f https://github.com/xwiki/xwiki-platform/commit/2db02bfa2980d796f1bb5d5fa2408836c488bc4c \u000f/ xwiki-platform-core/xwiki-platform-groovy/src/test/java/org/xwiki/groovy/internal/SecureGroovyCompilationCustomizerTest.java :\u000f XWIKI-3967: Allow using Groovy scripts without Programming Rights ...  \n21:15\u00a0<vmassol>\u00a0yep  \n21:16\u00a0<@cjd>\u00a0cool, that makes groovy much nicer in general  \n21:16\u00a0<@cjd>\u00a0the only other thing I would consider is a time limit on script execution  \n21:16\u00a0<vmassol>\u00a0already done  \n21:16\u00a0<vmassol>\u00a0:)  \n21:16\u00a0<@cjd>\u00a0cool  \n21:16\u00a0<vmassol>\u00a0it's already configurable  \n21:17\u00a0<vmassol>\u00a0ofc we can only time out on groovy code itself  \n21:17\u00a0<vmassol>\u00a0not on java calls  \n21:18\u00a0<@cjd>\u00a0What would probably make the most sense is a global time limit on threads since a request shouldn't take more than maybe 10 seconds  \n21:18\u00a0<vmassol>\u00a0cjd: fyi https://github.com/xwiki/xwiki-commons/blob/master/xwiki-commons-core/xwiki-commons-groovy/src/main/java/org/xwiki/groovy/internal/TimedInterruptGroovyCompilationCustomizer.java  \n21:18\u00a0<@cjd>\u00a0of course that breaks things like import  \n21:18\u00a0<@cjd>\u00a0cool  \n21:19\u00a0<@cjd>\u00a0Today I've been playing with a DocumentReference(Resolver|Serializer) design which maps to Long so we can implement the crappy apis which only ask for a numeric id number.  \n21:20\u00a0<@cjd>\u00a0Move all the uglyness to one place  \n21:20\u00a0<vmassol>\u00a0I'm not following. What Long?  \n21:20\u00a0<@cjd>\u00a0there are some APIs which only give you the document's id number  \n21:21\u00a0<@cjd>\u00a0so this would let us get the proper document reference from it  \n21:21\u00a0<vmassol>\u00a0I see  \n21:21\u00a0<vmassol>\u00a0so DRR.resolve(long) \u2014> DocumentReference  \n21:21\u00a0<@cjd>\u00a0yeap  \n21:21\u00a0<vmassol>\u00a0k  \n21:21\u00a0<@cjd>\u00a0using a cache and then a lookup against the database  \n21:21\u00a0<vmassol>\u00a0not sure where we need this but cool  \n21:22\u00a0<@cjd>\u00a0I need it for rewriting HibernateStore, which is what I'm doing for the cassandra compatibility stuff  \n21:22\u00a0<vmassol>\u00a0ok  \n21:22\u00a0<@cjd>\u00a0also it's needed for deleted attachments  \n21:22\u00a0<@cjd>\u00a0in that case it's attachment reference...  \n21:22\u00a0<vmassol>\u00a0cool that you're wrtitng reusable building blocks  \n21:23\u00a0<@cjd>\u00a0I try..  \n21:23\u00a0<vmassol>\u00a0I know you don't like reuse but it's nice :)  \n21:23\u00a0<@cjd>\u00a0Someone I met who used to be a CS professor said: You need to do things 3 times, once to learn how to do it, once to learn how to do it right and once to learn how to do it well.  \n21:24\u00a0<vmassol>\u00a0yep  \n21:24\u00a0<@cjd>\u00a0I do like reuse, I just like to only make things reusable when I see a clear opertunity for reuse.  \n21:24\u00a0<vmassol>\u00a0first time: you do teh crappy stuff  \n21:24\u00a0<vmassol>\u00a0second time: you find yourself having to do again what you did the 1st time  \n21:24\u00a0<@cjd>\u00a0It's always a balance against code readibility  \n21:25\u00a0<vmassol>\u00a0third time: oh oh, now I really need to factorize this  \n21:25\u00a0<vmassol>\u00a0personally I prefer to do this in 2 steps rather than 3 ;)  \n21:25\u00a0<vmassol>\u00a0definitely  \n21:25\u00a0<vmassol>\u00a0I also refactor the second time usually  \n21:25\u00a0<@cjd>\u00a0She said that in all her years, she got it down to 2 and a half  \n21:25\u00a0<vmassol>\u00a0unless I 100% know I'm going to need it reusable  \n21:26\u00a0<vmassol>\u00a0:)  \n21:26\u00a0<@cjd>\u00a0I've written a few things with reuse in mind then come time to reuse it, I find I developed it all backwards for the real use cases  \n21:26\u00a0<vmassol>\u00a0yes happens  \n21:26\u00a0<vmassol>\u00a0especially when you don't have unit tests ;)  \n21:27\u00a0<vmassol>\u00a0(unit tests are a user of your code and shows you issue when using it as \u00a0consumer)  \n21:27\u00a0<@cjd>\u00a0Indeed, they offer you a chance to see if you're making a mess.  \n21:27\u00a0<@cjd>\u00a0Too many mocks is IMO a bad sign.  \n21:27\u00a0<vmassol>\u00a0ofc you need to be critic with your unit tests  \n21:27\u00a0<vmassol>\u00a0yep totally agree  \n21:27\u00a0<vmassol>\u00a0too many mocks is a smell  \n21:27\u00a0<@cjd>\u00a0/nod  \n21:28\u00a0<vmassol>\u00a0now the question is when is too many  \n21:28\u00a0<@cjd>\u00a0I've learned quite a bit on my own project since I got to do everything all the different wrong ways.  \n21:28\u00a0<vmassol>\u00a0would be cool to have a common agreement on that in the coding team btw\u2026 IMO around 4-5 is max  \n21:29\u00a0<@cjd>\u00a0Found out that garbage collection is not necessary to maintainable code, and actually there are other things which the garbage collector can't do for you.  \n21:29\u00a0<vmassol>\u00a0when you have more it means your code is doing too much at once and you should extract some code by creating another class somehow  \n21:30\u00a0<@cjd>\u00a0IMO dependency loops and global variables are the 2 biggest threats to a project.  \n21:30\u00a0<vmassol>\u00a0if you do TDD you'll find it much easier to not have too many mocks  \n21:30\u00a0<vmassol>\u00a0(I don't do that often though\u2026 I still need to learn)  \n21:30\u00a0<@cjd>\u00a0I've done TDD in a few cases, it really comes in handy where the bug is hard to find but easy to show.  \n21:31\u00a0<@cjd>\u00a0In a lot of cases I've decided it would be incumbering, I tend to write >200 lines then go to the compiler.  \n21:31\u00a0<vmassol>\u00a0well if you do TDD you don't have bugs ;) (not unit testing once at least- doesn't work it works)  \n21:32\u00a0<vmassol>\u00a0s/doesn't work/doesn't prove  \n21:32\u00a0<@cjd>\u00a0well.. there are always bugs which just evade testing  \n21:32\u00a0<vmassol>\u00a0sure  \n21:32\u00a0<@cjd>\u00a0And in some cases I've found a bug which was a typo and I thought \"if I tested for this, I would need a test for every line of code\"  \n21:33\u00a0<vmassol>\u00a0and then test your tests ;)  \n21:33\u00a0<@cjd>\u00a0heh yeap  \n21:34\u00a0<@cjd>\u00a0One thing I think we need to guard against is dependency injection of \"magic boxes\" aka where one module injects this thing and puts something in it and then another module injects the thing and takes something out.  \n21:34\u00a0<@cjd>\u00a0Since this makes a sneeky hidden dependency.  \n21:36\u00a0<vmassol>\u00a0need to parse this slowly..  \n21:37\u00a0<vmassol>\u00a0you have an example?  \n21:37\u00a0<@cjd>\u00a0If it's done explicitly, it's obviously very ugly.  \n21:37\u00a0<vmassol>\u00a0you should raise a jira issue if you think we have this somewhere so that we remember to think about it/fix it  \n21:38\u00a0<@cjd>\u00a0I don't have an example in the code  \n21:38\u00a0<tmortagne>\u00a0has quit  \n21:38\u00a0<@cjd>\u00a0it's something that I think we need to think about all the time, since dependency injection of singletons gives us the power to create a whole lot of global state.  \n21:39\u00a0<@cjd>\u00a0The obvious example of setting a value in context type thing then expecting that value to be there when you get it somewhere else has an awful smell so I wouldn't expect to see it.  \n21:40\u00a0<@cjd>\u00a0What is more insidious is a stateful object where it's state is altered in some subtle way by one module then it's state is expected to be that way by another module.  \n21:40\u00a0<@cjd>\u00a0That is something which if you're not thinkint about the risk of magic boxes, you could end up falling in the trap.  \n21:41\u00a0<@cjd>\u00a0And of course now module 2 has a dependency on module 1 since it needs module 1 to alter the state of module 3, which they both inject.  \n21:45\u00a0<jvelo\\_>\u00a0has joined #xwiki  \n21:47\u00a0<jvelo>\u00a0has quit  \n21:47\u00a0<jvelo\\_>\u00a0is now known as <jvelo>  \n21:49\u00a0<vmassol>\u00a0now I need to find a solution for PermissionCheckerListener and not checking for PR if the groovy secure customizer is active  \n21:49\u00a0<vmassol>\u00a0ok I have an idea  \n21:51\u00a0<vmassol>\u00a0my idea is to add a hasPermission() method in PrivilegedScriptMacro  \n21:51\u00a0<vmassol>\u00a0to make the logic customizable  \n21:51\u00a0<vmassol>\u00a0doing a POC now  \n22:21\u00a0<+sburjan`>\u00a0lol, I see the build is still running on jenkins  \n22:23\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:06\u00a0<vmassol>\u00a0has quit  \n23:56\u00a0<abusenius>\u00a0has quit  \n\n"}