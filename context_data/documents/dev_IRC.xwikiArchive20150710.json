{"id": "dev:IRC.xwikiArchive20150710", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150710", "title": "IRC Archive for channel #xwiki on 10 July 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n03:40\u00a0<\\_cjd\\_>\u00a0has joined #xwiki  \n03:43\u00a0<\\_cjd>\u00a0has quit  \n05:06\u00a0<MasterPiece>\u00a0has joined #xwiki  \n06:04\u00a0<Denis>\u00a0has quit  \n06:04\u00a0<Denis>\u00a0has joined #xwiki  \n06:25\u00a0<MasterPiece>\u00a0has quit  \n07:39\u00a0<woshilapin>\u00a0has quit  \n07:50\u00a0<msmeria>\u00a0has joined #xwiki  \n08:04\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:26\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:32\u00a0<mflorea>\u00a0has joined #xwiki  \n08:36\u00a0<mflorea>\u00a0has quit  \n08:39\u00a0<vmassol>\u00a0has joined #xwiki  \n08:54\u00a0<sdumitriu>\u00a0has quit  \n08:54\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:55\u00a0<vmassol>\u00a0good morning  \n08:55\u00a0<sdumitriu>\u00a0Good morning  \n08:55\u00a0<vmassol>\u00a0hey hi sdumitriu  \n08:55\u00a0<vmassol>\u00a0long time no see  \n08:56\u00a0<vmassol>\u00a0@all: so we have 12 test failures for platform to fix today: http://ci.xwiki.org/job/xwiki-platform/1574/#showFailuresLink  \n08:56\u00a0<vmassol>\u00a0I'll check the useprofile ones  \n08:56\u00a0<vmassol>\u00a0since I thought I had fixed them already  \n09:03\u00a0<lucaa>\u00a0has joined #xwiki  \n09:04\u00a0<tmortagne>\u00a0vmassol: DisplayMacroTest failure looks related to event rendering parameters reorder  \n09:04\u00a0<vmassol>\u00a0ah thanks fixing (it's easy)  \n09:13\u00a0<Slashman>\u00a0has joined #xwiki  \n09:26\u00a0<Trefex>\u00a0has joined #xwiki  \n09:30\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:34\u00a0<Trefex>\u00a0has quit  \n09:35\u00a0<lucaa>\u00a0has quit  \n09:35\u00a0<lucaa>\u00a0has joined #xwiki  \n09:35\u00a0<Trefex>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0fyi having a problem building office module in my ide\u2026. preventing me from debugging the profile tests\u2026  \n09:48\u00a0<vmassol>\u00a0ah found why  \n09:48\u00a0<vmassol>\u00a0marius made a mistake  \n09:48\u00a0<vmassol>\u00a0fixing  \n10:08\u00a0<lucaa>\u00a0has quit  \n10:08\u00a0<lucaa>\u00a0has joined #xwiki  \n10:11\u00a0<Trefex>\u00a0has quit  \n10:13\u00a0<tmortagne>\u00a0vmassol: waiting for whatever decision regarding Maven 3.3.3 deploying xwiki-platform-url-scheme-filesystem by hand to workaround the issue on agents  \n10:14\u00a0<Trefex>\u00a0has joined #xwiki  \n10:16\u00a0<tmortagne>\u00a0hmm wait  \n10:16\u00a0<tmortagne>\u00a0vmassol: I think I found what 3.0.5 is not happy actually  \n10:16\u00a0<tmortagne>\u00a0and I actually don't see how 3.3.3 can work  \n10:16\u00a0<tmortagne>\u00a0see https://github.com/xwiki/xwiki-platform/blob/stable-7.1.x/xwiki-platform-core/xwiki-platform-url/xwiki-platform-url-schemes/xwiki-platform-url-scheme-filesystem/pom.xml  \n10:16\u00a0<tmortagne>\u00a0see anything weird ? :)  \n10:17\u00a0<vmassol>\u00a0hmm no  \n10:17\u00a0<vmassol>\u00a0hint?  \n10:17\u00a0<vmassol>\u00a0:)  \n10:17\u00a0<vmassol>\u00a0found it  \n10:17\u00a0<vmassol>\u00a0indeed stupid  \n10:17\u00a0<vmassol>\u00a0fixing  \n10:17\u00a0<vmassol>\u00a0the version  \n10:18\u00a0<vmassol>\u00a0thanks tmortagne!  \n10:19\u00a0<tmortagne>\u00a0vmassol: I tried to deploy it and I saw 7.2-SNAPSHOT all other the Maven log  \n10:19\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:20\u00a0<evalica>\u00a0has joined #xwiki  \n10:24\u00a0<gsmeria>\u00a0has quit  \n10:25\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:38\u00a0<vmassol>\u00a0ok thanks tmortagne you beat me, was talking on skype with someone ;)  \n10:42\u00a0<vmassol>\u00a0evalica: FTR apparently I didn't fully fixed the profile editing, debugging it now  \n10:43\u00a0<evalica>\u00a0k  \n10:43\u00a0<vmassol>\u00a0apparently there was more to it than what I fixed...  \n10:44\u00a0<vmassol>\u00a0the problem now is that after we save we are redirected to \u2026/WebHome  \n10:45\u00a0<vmassol>\u00a0and that's going to be true when editing and saving any terminal page, I need to find some idea to handle this :)  \n10:45\u00a0<vmassol>\u00a0actually it should work since the doc exist  \n10:45\u00a0<vmassol>\u00a0debugging\u2026 we'll see...  \n10:48\u00a0<evalica>\u00a0k - good luck - tell me if I can help  \n10:49\u00a0<vmassol>\u00a0so the problem seems to be the doc exist cache, it says that the doc doesn't exist  \n10:50\u00a0<vmassol>\u00a0need to find who put in that cache that doc for \"5:xwiki4:Main5:Admin\" doesn't exist!  \n10:57\u00a0<vmassol>\u00a0weird...  \n10:58\u00a0<vmassol>\u00a0select doc.fullName from XWikiDocument as doc where doc.fullName=:fullName (where fullName = Main.Admin)  \n10:58\u00a0<vmassol>\u00a0returns false  \n10:58\u00a0<vmassol>\u00a0ah yes  \n10:58\u00a0<vmassol>\u00a0it's XWiki.Admin  \n10:58\u00a0<vmassol>\u00a0my bad  \n10:58\u00a0<vmassol>\u00a0need to find why it's the wrong space  \n10:59\u00a0<evalica>\u00a0tmortagne: I cannot launch the latest snapshots 99, 100 - I get the same error message as http://jira.xwiki.org/browse/XWIKI-11992 even though it is the only instance active. Do you know something about it?  \n10:59\u00a0<vmassol>\u00a0should be easy to find..  \n11:01\u00a0<tmortagne>\u00a0evalica: nop, never saw this issue with a single instance  \n11:01\u00a0<tmortagne>\u00a0try to clean you cache maybe  \n11:01\u00a0<tmortagne>\u00a0I mean the filesystem cache  \n11:01\u00a0<evalica>\u00a0I will remove the folders from filesystem - thanks  \n11:02\u00a0<tmortagne>\u00a0you sure you don't have anything running that might be using those files ?  \n11:02\u00a0<evalica>\u00a0it sais 'An XWiki lock file exists at /var/tmp/xwiki-8080.lck but no XWiki is executing. Removing lock file...' \u2026 but I don;t have any console running - maybe is hanging. I will look at the processes.  \n11:04\u00a0<vmassol>\u00a0guys, anyone know where XWiki.currentSpace is defined, I can't find it in xwiki.js?  \n11:04\u00a0<evalica>\u00a0has quit  \n11:05\u00a0<vmassol>\u00a0Enygma`: any idea?  \n11:06\u00a0<evalica>\u00a0has joined #xwiki  \n11:07\u00a0<evalica>\u00a0vmassol: javscript.vm  \n11:07\u00a0<evalica>\u00a0inside skins/  \n11:08\u00a0<vmassol>\u00a0ah indeed thanks  \n11:08\u00a0<vmassol>\u00a0another question  \n11:08\u00a0<vmassol>\u00a0when I look for xwiki\\*.js in my xwiki install I get 2 files  \n11:08\u00a0<vmassol>\u00a0./webapps/xwiki/resources/js/xwiki/xwiki-min.js  \n11:08\u00a0<vmassol>\u00a0./webapps/xwiki/resources/js/xwiki/xwiki.js  \n11:09\u00a0<vmassol>\u00a0and the second one (xwiki.js) is minified  \n11:09\u00a0<vmassol>\u00a0what's the difference between those 2 files and why is xwiki.js minified?  \n11:09\u00a0<evalica>\u00a0the min one was added by Marius I remember\u2026  \n11:10\u00a0<vmassol>\u00a0I was expecting both to have the same content but one being minified and not the other  \n11:10\u00a0<vmassol>\u00a0so I was surprised to see that xwiki.js is minified, is that normal?  \n11:11\u00a0<evalica>\u00a0from what I remember the xwiki-min combined more js from diff apps, but I don't know  \n11:11\u00a0<vmassol>\u00a0i any case something is amiss  \n11:11\u00a0<vmassol>\u00a0\\*in  \n11:11\u00a0<vmassol>\u00a0the naming isn't right  \n11:12\u00a0<Enygma`>\u00a0vmassol: yes, minify=true does not do what you might expect for those js files  \n11:13\u00a0<Enygma`>\u00a0all js files in the distribution are minified  \n11:13\u00a0<Enygma`>\u00a0xwiki-min is just a bundling of all of them into a single js file  \n11:13\u00a0<Enygma`>\u00a0also maybe badly named  \n11:13\u00a0<vmassol>\u00a0I'm not sure about that Enygma`, I remember I had implemented a feature to have the non minified in the build  \n11:13\u00a0<vmassol>\u00a0with a parameter in the URL to get the non minified version  \n11:13\u00a0<Enygma`>\u00a0since xwiki-min contains xwiki.js, it`s not just the minified version of xwiki.js  \n11:14\u00a0<vmassol>\u00a0need to find the issue/doc again  \n11:14\u00a0<Enygma`>\u00a0minify=false works as expected in JSX  \n11:14\u00a0<vmassol>\u00a0I had put that in javascript.vm checking now  \n11:14\u00a0<Enygma`>\u00a0but for .js files it behaves diferently, i.e. it's only about grouping  \n11:15\u00a0<Enygma`>\u00a0so to get the clear individual js files, you have to use minify=false \\*and\\* override the js file from the sources into your distrib directory  \n11:15\u00a0<Enygma`>\u00a0since the one already in the distrib is already minified  \n11:15\u00a0<vmassol>\u00a0yes seems so, we'll need to do something about this  \n11:15\u00a0<vmassol>\u00a02 things actualy  \n11:15\u00a0<vmassol>\u00a01) improve the naming  \n11:16\u00a0<vmassol>\u00a02) also bundle non minified versions at least for snapshots  \n11:16\u00a0<vmassol>\u00a0that would help debugging  \n11:16\u00a0<vmassol>\u00a0thanks fro the help  \n11:20\u00a0<vmassol>\u00a0evalica: I really doubt anyone cares for dev  \n11:20\u00a0<vmassol>\u00a0(that it's bigger)  \n11:21\u00a0<gsmeria>\u00a0has quit  \n11:24\u00a0<vmassol>\u00a0so XWiki.currentSpace is not defined, need to find why...  \n11:26\u00a0<\\_cjd\\_>\u00a0ever or just not when the js runs ?  \n11:26\u00a0<\\_cjd\\_>\u00a0check the view-source and see if it's there  \n11:26\u00a0<\\_cjd\\_>\u00a0might be a race condition  \n11:27\u00a0<vmassol>\u00a0no it's because the js from javascript.vm is executed after the xwiki.js  \n11:27\u00a0<vmassol>\u00a0since we have in xwiki.js:  \n11:27\u00a0<vmassol>\u00a0XWiki.Document.currentSpace = XWiki.currentSpace || \"Main\";  \n11:27\u00a0<vmassol>\u00a0thus XWiki.Document.currentSpace is set to \"Main\"  \n11:27\u00a0<vmassol>\u00a0now checking if it's suppose to be overwritten later on  \n11:27\u00a0<vmassol>\u00a0\\*supposed  \n11:28\u00a0<\\_cjd\\_>\u00a0race condition  \n11:28\u00a0<\\_cjd\\_>\u00a0well hmm yeah it's supposed to be top-to-bottom  \n11:29\u00a0<vmassol>\u00a0there's a defer on xwiki.js too  \n11:29\u00a0<\\_cjd\\_>\u00a0ahh so indeed race condition  \n11:29\u00a0<vmassol>\u00a0ah no  \n11:29\u00a0<vmassol>\u00a0defer=false  \n11:32\u00a0<lucaa>\u00a0has quit  \n11:33\u00a0<vmassol>\u00a0any idea what this means:  \n11:33\u00a0<vmassol>\u00a0if (htmlElement.readAttribute('XWiki.Document.currentSpace')) {  \n11:33\u00a0<vmassol>\u00a0\u00a0\u00a0XWiki.Document.currentSpace = htmlElement.readAttribute('data-xwiki-space');  \n11:33\u00a0<vmassol>\u00a0we're looking for an attribute named \"XWiki.Document.currentSpace\" in the html tag?  \n11:33\u00a0<vmassol>\u00a0why?  \n11:34\u00a0<vmassol>\u00a0I'd have expected it to be: if(htmlElement.readAttribute('data-xwiki-space')) {  \n11:34\u00a0<vmassol>\u00a0I think that's the bug  \n11:34\u00a0<vmassol>\u00a0checking who did this  \n11:34\u00a0<evalica>\u00a0apparently in the head we have meta like <meta name=\"space\" content=\"A.B\">  \n11:34\u00a0<evalica>\u00a0I think GD  \n11:34\u00a0<vmassol>\u00a0arg  \n11:34\u00a0<vmassol>\u00a0it's me  \n11:35\u00a0<evalica>\u00a0:) even better  \n11:35\u00a0<vmassol>\u00a0by error in my previous commit  \n11:35\u00a0<vmassol>\u00a0I didn't even know I had done this, some bad copy paste in my IDE  \n11:35\u00a0<vmassol>\u00a0fixing  \n11:36\u00a0<vmassol>\u00a0so I'll fix it  \n11:36\u00a0<vmassol>\u00a0but I still think the code is wrong since  \n11:36\u00a0<vmassol>\u00a0XWiki.currentSpace  \n11:36\u00a0<vmassol>\u00a0\u00a0is never defined before xwiki.js executes  \n11:36\u00a0<vmassol>\u00a0anyway I'll leave that to our js experts ;)  \n11:39\u00a0<\\_cjd\\_>\u00a0has quit  \n12:02\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:11\u00a0<vmassol>\u00a0I'm now debugging a new problem found by Caty when clicking on an attachment  \n12:16\u00a0<vmassol>\u00a0actually evalica I think the problem is the upload action  \n12:16\u00a0<vmassol>\u00a0because the url is correct  \n12:16\u00a0<vmassol>\u00a0so it seems the attachment is not saved in the right place  \n12:17\u00a0<vmassol>\u00a0could be the download action too  \n12:18\u00a0<vmassol>\u00a0it has probbaly not been modified to support nested spaces  \n12:18\u00a0<vmassol>\u00a0all Actions need to be modified and only create/iview have AFAIK  \n12:19\u00a0<vmassol>\u00a0indeed I see some bugs in DownloadAction.getFileName()  \n12:19\u00a0<vmassol>\u00a0the main issue is that all actions do their own url parsing  \n12:19\u00a0<vmassol>\u00a0they must be modified to use DocumentResourceReference  \n12:20\u00a0<vmassol>\u00a0I mean EntityResourceReference  \n12:25\u00a0<vmassol>\u00a0evalica and all: http://jira.xwiki.org/browse/XWIKI-12293  \n12:44\u00a0<Trefex>\u00a0has quit  \n12:51\u00a0<evalica>\u00a0vmassol: thanks for investigating  \n12:51\u00a0<vmassol>\u00a0seems we have only 1 test failing for platform: http://ci.xwiki.org/job/xwiki-platform/1577/  \n12:51\u00a0<vmassol>\u00a0going to check it out  \n12:53\u00a0<vmassol>\u00a0this one is for marius but he seems to be off today:  \n12:53\u00a0<vmassol>\u00a0[WARNING] Rule violated for bundle XWiki Platform - Refactoring - API: instructions covered ratio is 0.42, but expected minimum is 0.88  \n12:55\u00a0<vmassol>\u00a0@evalica/@msmeria: actually it would be good to test other actions to see which ones have problems with NestedSpaces and report jira issues for them (as \"Task\")  \n12:56\u00a0<vmassol>\u00a0maybe gsmeria could help on this actually  \n12:56\u00a0<vmassol>\u00a0(full list of actions is defined in struts-config.xml)  \n12:57\u00a0<vmassol>\u00a0hmm re the failing MailTests, it works locally must be a flicker, checking to see if I can notie a problem quickly  \n13:04\u00a0<lucaa>\u00a0has joined #xwiki  \n13:16\u00a0<abusenius>\u00a0has joined #xwiki  \n13:22\u00a0<gsmeria>\u00a0@vmassol I'm on it  \n13:24\u00a0<vmassol>\u00a0thanks gsmeria  \n13:33\u00a0<abusenius>\u00a0has quit  \n13:43\u00a0<vmassol>\u00a0working on fixing http://jira.xwiki.org/browse/XWIKI-12169?focusedCommentId=87192&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-87192 ATM  \n14:01\u00a0<Trefex>\u00a0has joined #xwiki  \n14:09\u00a0<vmassol>\u00a0going offline for some time to test without internet connection  \n14:11\u00a0<tmortagne>\u00a0vmassol: you can probably forbid network access to java without shutting down your computer network  \n14:13\u00a0<vmassol>\u00a0has quit  \n14:14\u00a0<vmassol>\u00a0has joined #xwiki  \n14:18\u00a0<vmassol>\u00a0has quit  \n14:19\u00a0<vmassol>\u00a0has joined #xwiki  \n14:30\u00a0<vmassol>\u00a0has quit  \n14:30\u00a0<vmassol>\u00a0has joined #xwiki  \n14:33\u00a0<vmassol>\u00a0tmortagne: could you merge the change you did on master to the 7.1.x branch to fix http://ci.xwiki.org/job/xwiki-platform-7.1.x/org.xwiki.platform$xwiki-platform-tool-xmldoc-update-plugin/60/testReport/junit/com.xpn.xwiki.tool.doc/DocumentUpdateMojoTest/execute/ ?  \n14:36\u00a0<vmassol>\u00a0Enygma`: there are several failing tests that seem related to Create at http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/testReport/ but I guess you're on it right?  \n14:37\u00a0<tmortagne>\u00a0vmassol: you mean XWIKI-12290 ?  \n14:37\u00a0<vmassol>\u00a0yes  \n14:37\u00a0<vmassol>\u00a0that's the error you fixed right?  \n14:37\u00a0<vmassol>\u00a0(on master)  \n14:37\u00a0<vmassol>\u00a0(I didn't see it at the time so I'm guesing)  \n14:37\u00a0<vmassol>\u00a0\\*guessing  \n14:38\u00a0<woshilapin>\u00a0Hi devs, I want to getDocument from my class (a component) but I'm not sure about the best way to access the com.xpn.xwiki.api.XWiki?  \n14:38\u00a0<woshilapin>\u00a0Through a @Inject Provider<XWiki> xwiki?  \n14:38\u00a0<vmassol>\u00a0depends what you need to do woshilapin  \n14:38\u00a0<vmassol>\u00a0for simple things you could use DocumentAccessBridge  \n14:39\u00a0<vmassol>\u00a0otherwise you can use a XWikiContextProvider  \n14:39\u00a0<woshilapin>\u00a0I have strings which are FullName  \n14:39\u00a0<vmassol>\u00a0Provider<XWikiContext>  \n14:39\u00a0<tmortagne>\u00a0woshilapin: @Inject Provider<XWikiContext> xcontextProvider;  \n14:39\u00a0<woshilapin>\u00a0And I want the document of it  \n14:39\u00a0<vmassol>\u00a0and then get().getXWiki()  \n14:39\u00a0<tmortagne>\u00a0and then you can access the whole oldcore stuff trough XWikiContext  \n14:39\u00a0<woshilapin>\u00a0Yes, but this Provider give access to the private API, right?  \n14:39\u00a0<woshilapin>\u00a0Need to give context to each function I'll call?  \n14:39\u00a0<vmassol>\u00a0you now have two answer :)  \n14:40\u00a0<vmassol>\u00a0from java you always must access the pirvate api  \n14:40\u00a0<woshilapin>\u00a0Ah  \n14:40\u00a0<vmassol>\u00a0the \"non private\" api is for scripting only  \n14:40\u00a0<woshilapin>\u00a0Why?  \n14:40\u00a0<woshilapin>\u00a0OK, so then I was trying to do I should not then  \n14:40\u00a0<vmassol>\u00a0in practice it's not private vs not private  \n14:40\u00a0<vmassol>\u00a0it's scripting api vs java api  \n14:40\u00a0<vmassol>\u00a0:)  \n14:40\u00a0<woshilapin>\u00a0(because I know about the xcontextProvider...)  \n14:40\u00a0<woshilapin>\u00a0OK  \n14:40\u00a0<tmortagne>\u00a0the only thing the public API adds is right checking and you usually don't want that in a component  \n14:41\u00a0<vmassol>\u00a0and returning null instead of throwing exceptions thoma  \n14:41\u00a0<vmassol>\u00a0\\*thomas  \n14:41\u00a0<vmassol>\u00a0(which is bad in java)  \n14:41\u00a0<tmortagne>\u00a0I doubt he care about that in Java  \n14:41\u00a0<woshilapin>\u00a0OK, so then I was knowing how to do, I just tried to improve something that was not a problem...  \n14:41\u00a0<vmassol>\u00a0(but ok in velocity)  \n14:41\u00a0<woshilapin>\u00a0:-\\  \n14:41\u00a0<vmassol>\u00a0:)  \n14:41\u00a0<tmortagne>\u00a0XWikiContext is public from java point of view, \"private\" is just to differienciate from the scripting API  \n14:41\u00a0<woshilapin>\u00a0Thanks vmassol and tmortagne  \n14:42\u00a0<tmortagne>\u00a0methods you use in XWikiContext are not going to be remove from one version to another  \n14:42\u00a0<woshilapin>\u00a0But this ball and chain problem of context in each function... pfiuh...  \n14:42\u00a0<tmortagne>\u00a0you don't have to pass the XWikiContext in your own methods  \n14:43\u00a0<vmassol>\u00a0tmortagne: you told me about some failing test earlier on (you said 47)  \n14:43\u00a0<tmortagne>\u00a0any method that need the context can get it from the provider  \n14:43\u00a0<vmassol>\u00a0could you give me a linnk so that I can check them?  \n14:43\u00a0<tmortagne>\u00a0vmassol: the 47 failing test were yesterday and most of them were cause by URLConfiguration  \n14:43\u00a0<vmassol>\u00a0ok good  \n14:44\u00a0<vmassol>\u00a0now I'm checking http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/testReport/ but most seem to be caused by the create action refactoring  \n14:44\u00a0<vmassol>\u00a0checking the scheduler one now: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.scheduler/SchedulerTest/testJobActions/  \n14:45\u00a0<woshilapin>\u00a0(oups, missed this DocumentAccessBridge comment, I guess I'll go for this one :-) )  \n14:59\u00a0<woshilapin>\u00a0Is there a way to create a DocumentReference with a string (returned by a query for example), without having to load the heavy machinery of resolver?  \n14:59\u00a0<woshilapin>\u00a0(I don't know, like a constructor for example)  \n14:59\u00a0<woshilapin>\u00a0Or do I need to do the split('.') myself  \n14:59\u00a0<woshilapin>\u00a0(which will be a pain since my pagename have some points in it  \n15:00\u00a0<tmortagne>\u00a0the official way to parse a reference is a resolver  \n15:00\u00a0<woshilapin>\u00a0Note that the string is well escaped since it comes from query.xwql  \n15:00\u00a0<vmassol>\u00a0\"Or do I need to do the split('.') myself\" oh no don't do this :)  \n15:00\u00a0<vmassol>\u00a0that' s why we made the resolvers for!  \n15:00\u00a0<woshilapin>\u00a0Yes, that what I think too :-D  \n15:01\u00a0<tmortagne>\u00a0the only thing tested and maintained to parse a reference is resolvers since that's what they are for  \n15:01\u00a0<vmassol>\u00a0why do you consider it ehavy to use a resolver and not heay to parse the string yourself? :)  \n15:01\u00a0<woshilapin>\u00a0Yes, but what is it not possible to do a DocumentRefence(string FullName) ?  \n15:01\u00a0<vmassol>\u00a0new DocumentReference(wiki, spaces, page)  \n15:01\u00a0<woshilapin>\u00a0(no, no, it's heavy to parse myself too...)  \n15:01\u00a0<woshilapin>\u00a0A more buggy probably  \n15:01\u00a0<tmortagne>\u00a0DocumentRefence is just a reference, it's not it's job to parse something in a syntaxe it's not supposed to know  \n15:02\u00a0<vmassol>\u00a0if you know wiki name, space nales and page name (ie you don't need to resolve them) then use new DocumentReference(...)  \n15:02\u00a0<woshilapin>\u00a0and getDocument(String) is deprecated  \n15:02\u00a0<vmassol>\u00a0if you need to resolve them from a string use a resolver  \n15:02\u00a0<tmortagne>\u00a0woshilapin: look at what getDocument(String) is doing  \n15:02\u00a0<vmassol>\u00a0if you're in java, a resolver is a one line @Inject  \n15:02\u00a0<woshilapin>\u00a0Yes, I know  \n15:03\u00a0<woshilapin>\u00a0But what I just ask is some suger  \n15:03\u00a0<vmassol>\u00a0can't do much simpler :)  \n15:03\u00a0<woshilapin>\u00a0sugar  \n15:03\u00a0<woshilapin>\u00a0One line to write instead of 10 :-)  \n15:03\u00a0<tmortagne>\u00a0using a resolver in a component is super easy since you get injected with it  \n15:03\u00a0<woshilapin>\u00a0But OK, I'll do with the resolver then  \n15:03\u00a0<vmassol>\u00a0one working line instead of 20 buggy ones  \n15:03\u00a0<vmassol>\u00a0:)  \n15:04\u00a0<tmortagne>\u00a0for a component using a resolver is one line too...  \n15:04\u00a0<woshilapin>\u00a010, I was speaking about Injecting Resolver and then Create a document reference and then finally getDocument  \n15:04\u00a0<tmortagne>\u00a0you don't need to create a document  \n15:04\u00a0<tmortagne>\u00a0you are just using the wrong resolver  \n15:04\u00a0<tmortagne>\u00a0you have DocumentReferenceResolver  \n15:04\u00a0<woshilapin>\u00a0OK  \n15:05\u00a0<woshilapin>\u00a0hint=default?  \n15:05\u00a0<tmortagne>\u00a0depends what is our reference  \n15:06\u00a0<tmortagne>\u00a0if it's a complete reference then no hint yes, if it's a partial reference that you want to complete with current context then @Named(\"current\")  \n15:06\u00a0<woshilapin>\u00a0Space.page, is it partial (because no wiki)  \n15:06\u00a0<woshilapin>\u00a0Space.page, is it partial (because no wiki)?  \n15:06\u00a0<tmortagne>\u00a0yes it's partial because no wiki  \n15:07\u00a0<tmortagne>\u00a0the it depends what wiki you want, either the default one, the current one or you can also passe the wiki reference you want as parameter to the resolver  \n15:07\u00a0<tmortagne>\u00a0s/the it/then it/  \n15:08\u00a0<woshilapin>\u00a0OK  \n15:08\u00a0<woshilapin>\u00a0Thanks :-)  \n15:08\u00a0<tmortagne>\u00a0there is usually enough resolvers to find one that will give you what you want in one line ;)  \n15:09\u00a0<vmassol>\u00a0woshilapin: some info here: http://extensions.xwiki.org/xwiki/bin/view/Extension/Model+Module#HResolvingaReference  \n15:10\u00a0<woshilapin>\u00a0Thanks for the documentation  \n15:45\u00a0<Enygma`>\u00a0vmassol: I know about the failing create tests, but I am trying to focus on the script right right now, since that is a functionality problem. Handling the tests as soon as I can.  \n15:45\u00a0<vmassol>\u00a0ok  \n15:50\u00a0<abusenius>\u00a0has joined #xwiki  \n15:53\u00a0<vmassol>\u00a0this is an interesting problem: in a test we delete a page and later on we come back to the back to undelete it  \n15:54\u00a0<vmassol>\u00a0but since the page doesn't exist anymore navigating to it isn't possible...  \n15:54\u00a0<vmassol>\u00a0(it's a terminal page)  \n15:54\u00a0<vmassol>\u00a0so we're missing a way to navigate to a terminal page if it doesn't exist, I guess we could add some parameter for that...  \n15:55\u00a0<vmassol>\u00a0?spaceRedirect=false or ?nestedDocument=false  \n15:55\u00a0<vmassol>\u00a0tmortagne and all: wdyt?  \n15:56\u00a0<vmassol>\u00a0or ?terminal=true  \n15:56\u00a0<vmassol>\u00a0?terminalPage=true ?terminalDocument=true  \n16:00\u00a0<Trefex>\u00a0has quit  \n16:02\u00a0<\\_cjd\\_>\u00a0has joined #xwiki  \n16:03\u00a0<vmassol>\u00a0ok I'm going for ?spaceRedirect=false for now, let me know if you have an opinion on 1) this feature and 2) the naming  \n16:04\u00a0<Enygma`>\u00a0one option would be to treat a non-existig terminal page that has recycle bin entries as \"existing\" in the view action and don`t redirect to WebHome  \n16:04\u00a0<Enygma`>\u00a0this would be backwards compatible  \n16:05\u00a0<evalica>\u00a0I've seen this - to the issue is that when create a space 'A', it can be accessed with 'A/WebHome', 'A/' or 'A'. If want a terminal page A, you cannot create it just by going to the URL + pressing Add: you need to specify it in a particular manner in the create step. For me this is normal - in the context that we don't encourage terminal pages anymore, just for advanced users.  \n16:05\u00a0<vmassol>\u00a0interesting but I prefer the parameter as \u00a01) it also allows to create terminal pages from the url directly and 2) it's going to be a lot faster in perf  \n16:05\u00a0<tmortagne>\u00a0this is not backward compatibility, it's just hacking for a specific test  \n16:06\u00a0<vmassol>\u00a0@evalica: it's not a problem, the add page UI will provide the ability to create terminal pages  \n16:06\u00a0<vmassol>\u00a0(which you'll getwhen you click on \"edit\" when a page deosn't exist)  \n16:06\u00a0<vmassol>\u00a0tmortagne: it's not for a specific test  \n16:06\u00a0<evalica>\u00a0well the Recycle Bin should provide also the functionality to restore terminal pages. Not sure we need to optimize this from URL  \n16:07\u00a0<vmassol>\u00a0indeed we could decide to drop this feature altogether  \n16:07\u00a0<vmassol>\u00a0(for terminal pages)  \n16:08\u00a0<Trefex>\u00a0has joined #xwiki  \n16:08\u00a0<vmassol>\u00a0but I have the feeling it would be interesting to have a way to navigate to a terminal page from the url  \n16:08\u00a0<vmassol>\u00a0it's very easy to add a check in XWikiAction in my redirect code  \n16:08\u00a0<evalica>\u00a0or we just drop the redirect to 'A' when A is a space. In this case 'A' goes always to terminal pages, and we always need 'A/' to go to a space. (or A/WebHome)  \n16:08\u00a0<tmortagne>\u00a0if it's just about having the possibility to restore deleted page we would display the recycle bing for both webhome and the page corresponding to the space if it exist  \n16:09\u00a0<tmortagne>\u00a0s/would/could/  \n16:09\u00a0<vmassol>\u00a0evalica: what??????  \n16:09\u00a0<vmassol>\u00a0:)  \n16:09\u00a0<evalica>\u00a0and this we also can display in the 'Location' livetables in order to visually differenciate terminal from space: the absence or presence of '.'  \n16:09\u00a0<vmassol>\u00a0you want to redo everything? and restart the discussion???  \n16:09\u00a0<evalica>\u00a0'/'  \n16:09\u00a0<tmortagne>\u00a0i.e. you are redirected to the not existing WebHome as usual but you have the link to restore the previously deleted page  \n16:09\u00a0<vmassol>\u00a0definitely not, big -1  \n16:09\u00a0<vmassol>\u00a0:)  \n16:09\u00a0<vmassol>\u00a0that's the whole point  \n16:09\u00a0<evalica>\u00a0:)  \n16:09\u00a0<vmassol>\u00a0to be able to nav to non terminal pages easily  \n16:10\u00a0<abusenius>\u00a0has quit  \n16:10\u00a0<Enygma`>\u00a0tmortagne: but the WebHome could be existing, thus masking your deleted terminal that can not be undeleted now, since you don`t get to the recycle bin UI  \n16:10\u00a0<vmassol>\u00a0tmortagne: I don't like mixing 2 pages, they're different pages  \n16:10\u00a0<evalica>\u00a0anyway - even with a query param \u2026 the feature will be hidden and not many will know about it  \n16:10\u00a0<vmassol>\u00a0sure  \n16:10\u00a0<vmassol>\u00a0that's the point  \n16:10\u00a0<tmortagne>\u00a0Enygma`: I said if the WebHome does not exist  \n16:10\u00a0<vmassol>\u00a0it's an edge case which we woudln't promote  \n16:11\u00a0<tmortagne>\u00a0anyway we want to end up in the WebHome when you enter A  \n16:12\u00a0<vmassol>\u00a0my personal view is:  \n16:12\u00a0<msmeria>\u00a0has quit  \n16:12\u00a0<Enygma`>\u00a0yes, but if we really want to get to terminal A (which does not exist) and not non-termial A/ (that does exist), we can`t  \n16:12\u00a0<vmassol>\u00a0- doign this automatic redirect is something on top in order to offer a shortcut  \n16:12\u00a0<vmassol>\u00a0- we should have a way to turn this feature off if we need  \n16:12\u00a0<Enygma`>\u00a0so yeah, a query param should probably do it  \n16:12\u00a0<vmassol>\u00a0(hence the idea of the parameter to turn it off when needed)  \n16:13\u00a0<Enygma`>\u00a0just that apps that use only terminal documents should pretty much use this query param  \n16:13\u00a0<tmortagne>\u00a0Enygma`: I never told about not having the parameter, I'm talking about default behavior  \n16:13\u00a0<tmortagne>\u00a0the parameter is the only way if we have the redirect anyway  \n16:13\u00a0<Enygma`>\u00a0yea, I guess  \n16:13\u00a0<vmassol>\u00a0Enygma`: yes and by default I'd add this parameter in our selenium test framework (gotoPage())  \n16:14\u00a0<Enygma`>\u00a0vmassol: I`d prefer using it only when needed  \n16:14\u00a0<tmortagne>\u00a0vmassol: not sure about that, the point of selenium is to mimic user behavior  \n16:14\u00a0<Enygma`>\u00a0since we want to test regular behavior  \n16:14\u00a0<tmortagne>\u00a0yep  \n16:14\u00a0<vmassol>\u00a0let me rephrase, I'd add a new gotoPage() method  \n16:15\u00a0<vmassol>\u00a0(new signature)  \n16:16\u00a0<vmassol>\u00a0ok for \"spaceRedirect=false\"? (trying to be close to the method name which is redirectSpaceURLs())  \n16:16\u00a0<tmortagne>\u00a0by the way do we have an option to disable the redirect ?  \n16:16\u00a0<vmassol>\u00a0you mean config?  \n16:16\u00a0<tmortagne>\u00a0yes  \n16:16\u00a0<vmassol>\u00a0no config ATM  \n16:17\u00a0<tmortagne>\u00a0I'm sure some already existing wikis will prefer disabling that  \n16:17\u00a0<Enygma`>\u00a0forceTerminal=true?  \n16:17\u00a0<evalica>\u00a0one idea would be if the user has 'Allow terminal' in profile to disable the redirect. But depends what behavior we want to promote.  \n16:18\u00a0<vmassol>\u00a0evalica: i don't think it's a per user config  \n16:18\u00a0<vmassol>\u00a0that would cause problems  \n16:18\u00a0<vmassol>\u00a0you give a link to someoe\u2026 and it doesn't work  \n16:18\u00a0<vmassol>\u00a0so for me it's a subwiki level  \n16:18\u00a0<vmassol>\u00a0s/a/at  \n16:18\u00a0<evalica>\u00a0other UI ideas could be: if also a terminal page exist: A. provide a warning in the UI - like a 'Do you wanted to go to X page?' or \u2026 maybe the breadcrumb could display there is an alternative :) \u2026. anyway we could think of a solution - but again this would mean making the feature more visible.  \n16:19\u00a0<tmortagne>\u00a0yes it's a wiki level config I think  \n16:19\u00a0<vmassol>\u00a0(to take into account the farm mode)  \n16:20\u00a0<vmassol>\u00a0evalica: we could have refinements later on but I think for now a param would be good  \n16:20\u00a0<vmassol>\u00a0just need to agree on the name now  \n16:20\u00a0<vmassol>\u00a0forceTerminal is not really the goal of this param  \n16:21\u00a0<vmassol>\u00a0this param will be here to disable to automatic redirect when entering a space url  \n16:21\u00a0<evalica>\u00a0well depends if you want to have a param that contains the word 'space' although we are deprecating the concept  \n16:21\u00a0<tmortagne>\u00a0spaceRedirect is not very nice but it's the most accurate I can think of  \n16:22\u00a0<vmassol>\u00a0@evalica: we're not deprecating the concept  \n16:22\u00a0<vmassol>\u00a0:)  \n16:22\u00a0<vmassol>\u00a0only in the UI  \n16:22\u00a0<vmassol>\u00a0for ex the REST URL will still contain /spaces/ too  \n16:23\u00a0<vmassol>\u00a0since it('s a technical param I don't see it as a problem that it contains \"space\"  \n16:23\u00a0<tmortagne>\u00a0yes it's not really a problem since the param itself does not make any sense without space concept  \n16:24\u00a0<evalica>\u00a0I'm +0  \n16:24\u00a0<tmortagne>\u00a0(you would not have non terminal vs terminal page in a real nested documents environment)  \n16:25\u00a0<vmassol>\u00a0Enygma`: wdyt?  \n16:25\u00a0<Enygma`>\u00a0you will also not have spaces in a real nested documents environment :) so it`s pretty much the same from that point of view  \n16:25\u00a0<vmassol>\u00a0yes that's thomas's point  \n16:25\u00a0<tmortagne>\u00a0Enygma`: my point is that without spaves this paremeter would not exist  \n16:25\u00a0<tmortagne>\u00a0s/spaves/spaces/  \n16:26\u00a0<vmassol>\u00a0there would be no redirect  \n16:26\u00a0<vmassol>\u00a0and no need to disable it  \n16:26\u00a0<Enygma`>\u00a0sure, I think it`s fine and there`s really not much need to dwell on it IMO  \n16:26\u00a0<evalica>\u00a0?redirect=false or ?stopRedirect=true\u2026. anyway I guess is fine ?spaceRedirect=false  \n16:26\u00a0<vmassol>\u00a0the first 2 are too generic  \n16:26\u00a0<evalica>\u00a0k  \n16:26\u00a0<vmassol>\u00a0we have plenty of other rediects  \n16:26\u00a0<Enygma`>\u00a0and conflict with xredirect  \n16:26\u00a0<evalica>\u00a0k  \n16:26\u00a0<tmortagne>\u00a0redirect might be understood as xredirect canceller or somehting liek this  \n16:26\u00a0<tmortagne>\u00a0yes  \n16:27\u00a0<Enygma`>\u00a0+1 for spaceRedirect  \n16:27\u00a0<vmassol>\u00a0ok going for spaceRedirect for now and we have till 7.2 final to change our mind on the namin g :)  \n16:27\u00a0<tmortagne>\u00a0anyway it's not a big deal, spaceRedirect is explicit enough and if we really want it's not very hard to add a new one later and deprecated this one  \n16:27\u00a0<vmassol>\u00a0thanks everyone for the inpuy  \n16:27\u00a0<vmassol>\u00a0\\*input  \n16:35\u00a0<vmassol>\u00a0btw you're right, I'm not going to add any signature for gotoPage since it already supports passing a querys tring  \n16:45\u00a0<lucaa>\u00a0has quit  \n16:57\u00a0<abusenius>\u00a0has joined #xwiki  \n17:08\u00a0<gsmeria1>\u00a0has joined #xwiki  \n17:09\u00a0<gsmeria1>\u00a0has quit  \n17:17\u00a0<vmassol>\u00a0Scheduler test should work fine now :)  \n17:24\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n17:26\u00a0<vmassol>\u00a0tmortagne: strange error: http://ci.xwiki.org/job/xwiki-platform-7.1.x/62/console  \n17:26\u00a0<vmassol>\u00a0restarting the job...  \n17:27\u00a0<Trefex>\u00a0has quit  \n17:27\u00a0<vmassol>\u00a0ok all http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/ failing tests are caused by the create action changes  \n17:28\u00a0<vmassol>\u00a0working on http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastCompletedBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui/LoginTest/testLoginLogoutAsAdmin/ now  \n17:28\u00a0<tmortagne>\u00a0vmassol: looks like nexus has some issues  \n17:29\u00a0<vmassol>\u00a0someone should check these ones:  \n17:29\u00a0<vmassol>\u00a0- http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastCompletedBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui/EditClassTest/testAddProperty/  \n17:29\u00a0<vmassol>\u00a0- http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastCompletedBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.appwithinminutes/ApplicationNameTest/testSpecialCharactersInAppName/  \n17:29\u00a0<vmassol>\u00a0they don't seem related to the create action changes  \n17:29\u00a0<tmortagne>\u00a0looks at http://nexus.xwiki.org/nexus/content/repositories/snapshots/org/xwiki/platform/xwiki-platform-dashboard-macro/7.1.2-SNAPSHOT/  \n17:29\u00a0<vmassol>\u00a0then there's http://ci.xwiki.org/job/xwiki-enterprise-test-escaping/lastBuild/testReport/ to look at too  \n17:29\u00a0<tmortagne>\u00a0the jar is here but not the pom  \n17:30\u00a0<vmassol>\u00a0strange  \n17:30\u00a0<tmortagne>\u00a0nexus returned a 502 when maven tried to deploy it  \n17:30\u00a0<tmortagne>\u00a0that's the error we see at the end  \n17:31\u00a0<vmassol>\u00a0I know, that's why I restarted the build to see if it was transient or not  \n17:31\u00a0<tmortagne>\u00a0its not the first network related issue I see today  \n17:33\u00a0<vmassol>\u00a0hopefully http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastCompletedBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui/LoginTest/testLoginLogoutAsAdmin/ should be fixed now  \n17:45\u00a0<Denis>\u00a0has quit  \n17:46\u00a0<woshilapin>\u00a0Heyhey, you thought I was done for today but I don't  \n17:46\u00a0<woshilapin>\u00a0I reach this error  \n17:46\u00a0<woshilapin>\u00a0https://ezcrypt.xwikisas.com/C#2fu02t6L9XCzNcOvtBtSbDjF  \n17:46\u00a0<woshilapin>\u00a0And I'm not sure of what is happening  \n17:46\u00a0<woshilapin>\u00a0I suspect that the 'parent' in the URL contains a '.' in the name of the page and then it crashes...  \n17:47\u00a0<woshilapin>\u00a0Should I double escape or something like that?  \n17:47\u00a0<\\_cjd\\_>\u00a0u trollin ?  \n17:48\u00a0<vmassol>\u00a0woshilapin: it means the URL is not valid  \n17:48\u00a0<vmassol>\u00a0it's not properly encoded  \n17:48\u00a0<woshilapin>\u00a0(resume: I click on a link that look like MySpace/MyPage?template=Space.PageTemplate&parent=MySpace.Some\\.thing  \n17:48\u00a0<woshilapin>\u00a0Backslash not allowed, right?  \n17:48\u00a0<Denis2>\u00a0has joined #xwiki  \n17:48\u00a0<\\_cjd\\_>\u00a0yeah, that \\ is going to make tomcat upset  \n17:48\u00a0<vmassol>\u00a0Caused by: java.net.URISyntaxException: Illegal character in query at index 145: http://localhost:8080/xwiki/bin/edit/mymodel/b29fcf50-4595-48a4-95a1-fc24457832ec?template=xwiki:LearnPAdCode.FeedbackTemplate&parent=mymodel.obj\\.45020&LearnPAdCode.FeedbackClass\\_0\\_id=b29fcf50-4595-48a4-95a1-fc24457832ec  \n17:49\u00a0<woshilapin>\u00a0yep  \n17:49\u00a0<woshilapin>\u00a0The parent part is breaking  \n17:49\u00a0<\\_cjd\\_>\u00a0encodeURIComponent() ?  \n17:50\u00a0<\\_cjd\\_>\u00a0turns \\ into %blahsomething  \n17:50\u00a0<\\_cjd\\_>\u00a0so no more evil \\  \n17:51\u00a0<\\_cjd\\_>\u00a0ahh, you're using the normal way to create a page and it's blowing up XWiki ?  \n17:51\u00a0<woshilapin>\u00a0$xwiki.getURL()  \n17:51\u00a0<\\_cjd\\_>\u00a0That's deprecated, you should really use the new Component based API  \n17:51\u00a0<woshilapin>\u00a0$xwiki.getURL(DocumentReference, 'edit', 'someparameters')  \n17:52\u00a0<woshilapin>\u00a0haha  \n17:52\u00a0<vmassol>\u00a0note that the query string is NOT encoded  \n17:52\u00a0<\\_cjd\\_>\u00a0$xwiki is deprecated  \n17:52\u00a0<vmassol>\u00a0you need to do that  \n17:52\u00a0<vmassol>\u00a0see the javadoc  \n17:53\u00a0<tmortagne>\u00a0woshilapin: that's called job to provider a proper query string  \n17:53\u00a0<tmortagne>\u00a0(you can't escape a query string already created)  \n17:53\u00a0<tmortagne>\u00a0s/provider/provide/  \n17:53\u00a0<woshilapin>\u00a0?  \n17:53\u00a0<vmassol>\u00a0woshilapin: here: https://gist.github.com/vmassol/7110f663f9afe955874a  \n17:53\u00a0<\\_cjd\\_>\u00a0He meant: \u00a0It's the caller's job to provide a properly encoded query string  \n17:53\u00a0<vmassol>\u00a0(I wrote that javadoc)  \n17:53\u00a0<vmassol>\u00a0(it explains it)  \n17:54\u00a0<tmortagne>\u00a0s/called/caller/  \n17:54\u00a0<\\_cjd\\_>\u00a0$xwiki.getURL(DocumentReference, 'edit', \"someparameters&$escapetool.url(\"\\\\\\bsjklc]\\]as\")\")  \n17:54\u00a0<\\_cjd\\_>\u00a0$xwiki.getURL(DocumentReference, 'edit', \"someparameters&parent=$escapetool.url(\"\\\\\\bsjklc]\\]as\")\")  \n17:55\u00a0<\\_cjd\\_>\u00a0there ya go  \n17:55\u00a0<tmortagne>\u00a0yes  \n17:55\u00a0<tmortagne>\u00a0(except for the double quote inside double quote but you encode a variable I guess anyway)  \n17:56\u00a0<\\_cjd\\_>\u00a0I think wacky double quotes in velocity does work :D  \n17:56\u00a0<woshilapin>\u00a0OK, works  \n17:56\u00a0<woshilapin>\u00a0Thanks  \n18:01\u00a0<vmassol>\u00a0has quit  \n18:02\u00a0<ClemensR>\u00a0has left #xwiki  \n18:04\u00a0<Denis>\u00a0has joined #xwiki  \n18:04\u00a0<\\_cjd\\_>\u00a0has quit  \n18:04\u00a0<Denis>\u00a0has quit  \n18:06\u00a0<Denis2>\u00a0has quit  \n18:27\u00a0<Pbas>\u00a0has left #xwiki  \n18:30\u00a0<fca>\u00a0has joined #xwiki  \n18:55\u00a0<fca>\u00a0Hi, when installing XWiki 7.1.1 via WAR on Debian Jessie with Tomcat 8, Oracle JDK 8, PostgreSQL 9.4 (PGDG version), and a (apparently) working internet connection, the distribution wizard does not complete. It stops at : \u00abResolving extension dependency [org.xwiki.platform:xwiki-platform-user-profile-ui-7.1.1] on namespace [xwiki]\u00bb No special error message from tomcat.  \n19:04\u00a0<\\_cjd\\_>\u00a0has joined #xwiki  \n19:10\u00a0<tmortagne>\u00a0has quit  \n19:34\u00a0<evalica>\u00a0fca: it's a bit late now - maybe you can write a mail on [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection) or fill an issue  \n19:42\u00a0<woshilapin>\u00a0has quit  \n20:14\u00a0<lucaa>\u00a0has joined #xwiki  \n20:19\u00a0<lucaa>\u00a0has quit  \n20:23\u00a0<lucaa>\u00a0has joined #xwiki  \n20:36\u00a0<fca>\u00a0evalica: I will try to find the source of the problem, or at least narrow it before posting. Installing 6.4.4 with the same stack and same config works fine. So, ATM, I'll be installing 6.4.4.  \n20:37\u00a0<lucaa>\u00a0has quit  \n20:39\u00a0<evalica>\u00a0k  \n20:44\u00a0<woshilapin>\u00a0has joined #xwiki  \n21:55\u00a0<Slashman>\u00a0has quit  \n22:49\u00a0<evalica>\u00a0has quit  \n22:49\u00a0<Enygma`>\u00a0has quit\n"}