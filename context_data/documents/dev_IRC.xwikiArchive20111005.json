{"id": "dev:IRC.xwikiArchive20111005", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111005", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n08:12\u00a0<xwikibot>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0has quit  \n08:42\u00a0<@sdumitriu>\u00a0That went OK  \n09:02\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:12\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:18\u00a0<sdumitriu>\u00a0has quit  \n09:37\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:40\u00a0<vmassol>\u00a0has joined #xwiki  \n09:49\u00a0<mflorea>\u00a0has quit  \n09:59\u00a0<jvdrean>\u00a0has quit  \n10:04\u00a0<sburjan>\u00a0has joined #xwiki  \n10:12\u00a0<mflorea>\u00a0has joined #xwiki  \n10:17\u00a0<+sburjan>\u00a0morning  \n10:17\u00a0<+sburjan>\u00a0it seems that the blocker wasn't fixed yet  \n10:18\u00a0<+tmortagne>\u00a0sburjan: fond another blocker unless it's the same  \n10:18\u00a0<+tmortagne>\u00a0found  \n10:18\u00a0<+sburjan>\u00a0I can't see my profile  \n10:18\u00a0<+tmortagne>\u00a0(see on skype)  \n10:18\u00a0<+tmortagne>\u00a0ok I don't think it's the same  \n10:18\u00a0<+sburjan>\u00a0http://localhost:8080/xwiki/bin/view/XWiki/Admin  \n10:18\u00a0<+sburjan>\u00a0I get an empty page  \n10:19\u00a0<+sburjan>\u00a0breadcrumb is : Wiki Home \u00bb XWiki Space \u00bb Data types \u00bb \u00bb Admin  \n10:19\u00a0<+tmortagne>\u00a0the content is here ?  \n10:19\u00a0<+sburjan>\u00a0so there is surely smth wrong  \n10:19\u00a0<+sburjan>\u00a0nothing is there :)  \n10:19\u00a0<+sburjan>\u00a0no form, no tabs, no content  \n10:19\u00a0<+tmortagne>\u00a0when you look in edit  \n10:19\u00a0<+tmortagne>\u00a0i mean is it a display bug or you realy don't have the content  \n10:19\u00a0<+sburjan>\u00a0wiki edit is blank, inline edit is blanks  \n10:20\u00a0<+sburjan>\u00a0objects isn't blank  \n10:20\u00a0<+tmortagne>\u00a0so it looks like build bug, can you looks what you have in the xar ?  \n10:20\u00a0<+sburjan>\u00a0in what xar ?  \n10:20\u00a0<+sburjan>\u00a0I am running latest snapshot zip edition  \n10:21\u00a0<+tmortagne>\u00a0sure but this is created by packager plugin based on the xar  \n10:21\u00a0<+tmortagne>\u00a0so it's either an issue with the xar or with the packager  \n10:21\u00a0<+tmortagne>\u00a0but I fixed context related bug yesterday so you should probably retry  \n10:22\u00a0<+tmortagne>\u00a0when the last version you tested has been built ?  \n10:22\u00a0<+sburjan>\u00a0\u00a005-Oct-2011 09:34 \u00a0110M  \n10:22\u00a0<+sburjan>\u00a0maven time :)  \n10:22\u00a0<+tmortagne>\u00a0ok so it's probably not ralted with what I fixed then  \n10:23\u00a0<+tmortagne>\u00a0related  \n10:23\u00a0<+tmortagne>\u00a0sburjan: can you reproduce the bug I have with 1.0 syntax ?  \n10:24\u00a0<+sburjan>\u00a0yes, just a second because I don't know exactly what to expect  \n10:24\u00a0<+tmortagne>\u00a0in 1.0 syntax if the space WebHome page exists it's set as context document  \n10:24\u00a0<+tmortagne>\u00a0print $doc in a 1.0 syntax page and you should quickly see what's wrong :)  \n10:25\u00a0<pturcotte>\u00a0has quit  \n10:26\u00a0<+sburjan>\u00a0I get a text with SpaceName.WebHome  \n10:26\u00a0<+tmortagne>\u00a0wich is not your current document I guess  \n10:26\u00a0<+tmortagne>\u00a0$doc is supposed to be the current document  \n10:26\u00a0<+sburjan>\u00a0i put that in current document  \n10:27\u00a0<+sburjan>\u00a0let me create another 1.0 page  \n10:27\u00a0<+tmortagne>\u00a0SpaceName.WebHome is you current document ?  \n10:27\u00a0<+sburjan>\u00a0from SpaceName.WebHome I've printed $doc and I got SpaceName.WebHome  \n10:28\u00a0<+tmortagne>\u00a0it's not what I asked you to test :)  \n10:28\u00a0<+tmortagne>\u00a0again the issue is that $doc is always the current space WebHome so you are not going to see an issue if you test in WebHome page  \n10:28\u00a0<+sburjan>\u00a0created another 1.0 syntax page in that space, printed doc, and I get the current document name  \n10:29\u00a0<+sburjan>\u00a0so I guess it's fixed, right ?  \n10:29\u00a0<+tmortagne>\u00a0does you space webhome page exists ?  \n10:29\u00a0<+sburjan>\u00a0yes, in 1.0 syntax  \n10:29\u00a0<+sburjan>\u00a0:)  \n10:29\u00a0<+tmortagne>\u00a0the syntaxe of the webhome page does not matter  \n10:29\u00a0<+tmortagne>\u00a0it just need to exist  \n10:30\u00a0<+sburjan>\u00a0it exists  \n10:30\u00a0<+tmortagne>\u00a0and display $doc in another page of that space  \n10:30\u00a0<+tmortagne>\u00a0then I don't understand, I'm testing on master  \n10:30\u00a0<+sburjan>\u00a0me too  \n10:30\u00a0<+tmortagne>\u00a0or maybe it's when virtual=1  \n10:30\u00a0<+sburjan>\u00a0I mean I'm on snapshot downloaded from maven  \n10:30\u00a0<+tmortagne>\u00a0checking what specific coonf I have  \n10:32\u00a0<+sburjan>\u00a0you made me curious too  \n10:32\u00a0<+sburjan>\u00a0:)  \n10:32\u00a0<+tmortagne>\u00a0it's not related ti virtual=1  \n10:33\u00a0<+tmortagne>\u00a0I don't have anything else different with XE AFAIK  \n10:33\u00a0<+mflorea>\u00a0tmortagne: I'm using a recent XE snapshot from this morning, and the Recent Changes panel is broken. I suppose it's related to the $doc issue. I debugged a bit using this code http://pastebin.com/4HJaRtUw but the problem doesn't seem to be in the displayer code. The context is properly restored.  \n10:34\u00a0<+sburjan>\u00a0ok. my steps tor eproduce. I created a new space. I was redirected to edit mode of WebHome of that space. I saved Space.WebHome. I create another page in the same space, in 1.0 syntax. I prind $doc, and I get Space.MyNewPage  \n10:34\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:34\u00a0<+mflorea>\u00a0I put that code in a page in Sandbox  \n10:34\u00a0<+tmortagne>\u00a0mflorea: I have the issue in 1.0 syntax only  \n10:34\u00a0<+mflorea>\u00a0I'm in 2.0  \n10:34\u00a0<+tmortagne>\u00a0$doc and correct for me in 2.0  \n10:35\u00a0<+mflorea>\u00a0note, it's related but different  \n10:35\u00a0<+tmortagne>\u00a0s/and/is/  \n10:35\u00a0<+mflorea>\u00a0sure  \n10:35\u00a0<+mflorea>\u00a0it is correct  \n10:35\u00a0<+mflorea>\u00a0$doc  \n10:35\u00a0<+mflorea>\u00a0but if you try my code you'll see the result is strange  \n10:35\u00a0<+tmortagne>\u00a0and can you reproduce my use case ?  \n10:35\u00a0<+mflorea>\u00a0which one?  \n10:36\u00a0<+tmortagne>\u00a0the one I explained in skype and here: in 1.0 syntax if the space WebHome page exists it's set as context document  \n10:36\u00a0<+mflorea>\u00a0$doc in a page != space home page, using syntax 1.0?  \n10:36\u00a0<+mflorea>\u00a0let me try  \n10:37\u00a0<+mflorea>\u00a0yep, I can reproduce  \n10:37\u00a0<+tmortagne>\u00a0ok \"cool\"  \n10:37\u00a0<+mflorea>\u00a0:)  \n10:37\u00a0<+tmortagne>\u00a0are you fully pulled ?  \n10:37\u00a0<+tmortagne>\u00a0checking on my side  \n10:37\u00a0<+tmortagne>\u00a0I don't understand why sburjan cannot reproduce  \n10:37\u00a0<+sburjan>\u00a0me neither  \n10:37\u00a0<+mflorea>\u00a0I'm using a snapshot downloaded this morning, so I haven't built it myself  \n10:38\u00a0<+tmortagne>\u00a0so you have the same thing than sburjan  \n10:38\u00a0<+sburjan>\u00a0ok.  \n10:38\u00a0<+sburjan>\u00a0I create s space from create button, ok ?  \n10:38\u00a0<+sburjan>\u00a0Add -> Space  \n10:38\u00a0<+tmortagne>\u00a0could you try a page in Main or XWiki space ?  \n10:38\u00a0<+tmortagne>\u00a0just go directly to the page  \n10:39\u00a0<+tmortagne>\u00a0with the url  \n10:40\u00a0<+mflorea>\u00a0sburjan: Edit Sandbox.Test123, change the syntax to 1.0, set the content to $doc and save  \n10:40\u00a0<+tmortagne>\u00a0mflorea: checking your code, sound easier to debug than \u00a0my use case  \n10:41\u00a0<+mflorea>\u00a0while debugging, I noticed that context doc is Sandbox.WebHome, before I put my doc on context to display its title  \n10:41\u00a0<+sburjan>\u00a0ok, I reproduced  \n10:41\u00a0<+tmortagne>\u00a0side note, when I switch from 1.0 to 2.0 I don't get any popup asking to convert  \n10:41\u00a0<+mflorea>\u00a0velocity doc is fine, only context doc seems wrong  \n10:41\u00a0<+tmortagne>\u00a0but my xar is not up to date  \n10:41\u00a0<+sburjan>\u00a0but I only managed to do this on sandbox  \n10:42\u00a0<+tmortagne>\u00a0sburjan: tring with a new space  \n10:42\u00a0<+sburjan>\u00a0I am \\_not\\_ able to reproduce on main  \n10:43\u00a0<+tmortagne>\u00a0sburjan: indeed I don't have the issue with a new space  \n10:43\u00a0<+sburjan>\u00a0so either I woke up in a bad state, or I am incapable today .. low IQ  \n10:43\u00a0<+tmortagne>\u00a0the more I test thing the weirder it become  \n10:43\u00a0<+tmortagne>\u00a0starting to turn in Lost  \n10:43\u00a0<+sburjan>\u00a0yes  \n10:44\u00a0<+tmortagne>\u00a0so it's probably not just if the webhome page exist but there is something else  \n10:49\u00a0<+tmortagne>\u00a0mflorea: $xwiki.getDocument($ref).plainTitle is supposed to backup and restore the contexte ?  \n10:51\u00a0<+tmortagne>\u00a0the second $context.context.doc give me $ref  \n10:51\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:51\u00a0<fmancinelli>\u00a0is now known as <xenon75>  \n10:51\u00a0<+tmortagne>\u00a0so it looks like the context is changed and not restored  \n10:52\u00a0<+tmortagne>\u00a0sburjan: do you have the popup when you switch from 1.0 to 2.0 syntax ?  \n10:59\u00a0<DrLou>\u00a0has joined #xwiki  \n11:04\u00a0<+tmortagne>\u00a0wow getRenderedTitle is called like 10 times for one page  \n11:06\u00a0<+tmortagne>\u00a0mflorea: when debugging XWikiDocument#getRenderedTitle I can see that the context document is changed when executing  \n11:06\u00a0<+tmortagne>\u00a0XDOM titleXDOM = this.documentDisplayer.display(this, parameters);  \n11:07\u00a0<+sburjan>\u00a0nope  \n11:07\u00a0<+sburjan>\u00a0tmortagne: no, I save the page in 2.0 syntax, then re-edit, switch to 1.0 but I don't get any popup  \n11:08\u00a0<+sburjan>\u00a0maybe bec ause I have no code to be converted  \n11:08\u00a0<+sburjan>\u00a0because I have no content  \n11:09\u00a0<+tmortagne>\u00a0put some content  \n11:10\u00a0<+tmortagne>\u00a0but save before  \n11:10\u00a0<+tmortagne>\u00a0basically create a 1.0 page with some content in it  \n11:10\u00a0<+tmortagne>\u00a0and then edit and try to change the syntax  \n11:10\u00a0<+tmortagne>\u00a0you should get a popup asking if you want to convert (but I don't)  \n11:11\u00a0<+sburjan>\u00a0let me test  \n11:12\u00a0<+sburjan>\u00a0do I have to use some wiki syntax to get the popup or any content is ok ?  \n11:12\u00a0<+tmortagne>\u00a0mflorea: AFAIK the XWikiContext is not cloned by ExecutionContextManager#clone so even if you push a new cloned ExecutionContext any modification made to XWikiContext remain after the pop  \n11:14\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:14\u00a0<+sburjan>\u00a0tmortagne: I get the popup  \n11:14\u00a0<+mflorea>\u00a0tmortagne: yes, when the title is displayed the context doc is changed, and then restored  \n11:15\u00a0<+tmortagne>\u00a0sburjan: ok so it's because I did not updated the pages in my setup I guess but it's reaally a pain that we break so many thing in wiki page at each new versions...  \n11:15\u00a0<+sburjan>\u00a0I put some 1.0 syntax in a 1.0 page, and switched to 2.0 and I got it  \n11:15\u00a0<+sburjan>\u00a0this is odd  \n11:15\u00a0<+mflorea>\u00a0looks in AbstractDocumentTitleDisplayer#evaluateTitle  \n11:15\u00a0<+tmortagne>\u00a0mflorea: well it's not restored as far as i can see  \n11:16\u00a0<evalica>\u00a0has joined #xwiki  \n11:16\u00a0<+tmortagne>\u00a0(11:06:16 AM) tmortagne: mflorea: when debugging XWikiDocument#getRenderedTitle I can see that the context document is changed when executing  \n11:16\u00a0<+mflorea>\u00a0well, I'm using dab.pushDocumentInContext and dab.popDocument  \n11:16\u00a0<+mflorea>\u00a0so if there is a problem, it is in the dab/oldcore, not in the displayer  \n11:16\u00a0<+tmortagne>\u00a0will debug it more in detail then to see why it does not work  \n11:17\u00a0<+mflorea>\u00a0look in AbstractDocumentTitleDisplayer#evaluateTitle  \n11:17\u00a0<+tmortagne>\u00a0any idea why getRenderedTitle is called so many time when rendering one page ?  \n11:17\u00a0<+mflorea>\u00a0it's in platform-display  \n11:18\u00a0<+mflorea>\u00a0I noticed too, I think it's because of the Quick Links and Recent Changes panels  \n11:18\u00a0<+tmortagne>\u00a0I don't have any parent set in my page so it's not the breadcrum  \n11:18\u00a0<+mflorea>\u00a0they display the document title  \n11:19\u00a0<+tmortagne>\u00a0well It's called like 10 time here  \n11:19\u00a0<+tmortagne>\u00a0ha  \n11:19\u00a0<+tmortagne>\u00a0indeed  \n11:19\u00a0<+tmortagne>\u00a0so they could be pretty expensive  \n11:19\u00a0<+mflorea>\u00a0yes..  \n11:34\u00a0<xiuuu>\u00a0has joined #xwiki  \n11:34\u00a0<xiuuu>\u00a0hi  \n11:35\u00a0<@cjdelisle>\u00a0howdy  \n11:35\u00a0<xiuuu>\u00a0i got a question regarding the updating of xwiki. i currently have version 2.3 installed and want to upgrade to the newest stable version. naturally i want to migrate all my current pages to the new wiki so that no documents are lost. if possible, the visual design should also be migrated.  \n11:36\u00a0<xiuuu>\u00a0the recommended version is just replacing the war file and backing up the old stuff  \n11:37\u00a0<xiuuu>\u00a0seems kinda risky so i wanted to try it on a local pc first. running a standalone xwiki install and export a xar from the old xwiki and import it in the new. the xar is about 60mb which makes importing impossibl  \n11:37\u00a0<xiuuu>\u00a0e  \n11:37\u00a0<xiuuu>\u00a0out of heap space etc. even when Xmx iss cranked up to the maximum  \n11:37\u00a0<+tmortagne>\u00a0mflorea: as weird as it sounds, it's like pushDocumentInContext and popDocumentFromContext were inverted: when pushDocumentInContext is executed nothing change in the context and it when popDocumentFromContext is executed that the document is actually set  \n11:37\u00a0<+tmortagne>\u00a0well debug that  \n11:37\u00a0<@cjdelisle>\u00a0xiuuu: It's always advisable to back things up but there are not many changed between 2.3 and now so the upgrade shoudl go smoothly.  \n11:38\u00a0<@cjdelisle>\u00a0The way to upgrade is just install a new war file and change the hibernate.cfg.xml to point to the same database.  \n11:38\u00a0<+tmortagne>\u00a0xiuuu: in case you did not seen it 3.1.1 has been released several hours ago (in case you downloaded XWiki yesterday)  \n11:39\u00a0<xiuuu>\u00a0i was kinda thrown off in the instructions where its said to read all release notes up from the version youre updating from. those are alot of release notes.  \n11:39\u00a0<xiuuu>\u00a0yup, and \u00a0in the local installation i liked it. \u00a0this twitter thingy is kinda nice :D  \n11:40\u00a0<+mflorea>\u00a0tmortagne: :) I'm debugging too. I'm using an empty page and ?xpage=plain. There is a call to displayTitle from xwikivars.vm and I'm looking at how the context is pushed and popped  \n11:40\u00a0<xiuuu>\u00a0but theres no other way to import data from a current installation? i think its kinda strange that this mechanism doesnt work once your wiki size grows over, i dunno, 20mb  \n11:40\u00a0<xiuuu>\u00a0and my company only employs about 10 ppl  \n11:41\u00a0<@cjdelisle>\u00a0It's nice to scan over the release notes for the releases (the milestones are not so important) and you will see if there are any API breaks which might affect custom code which you are running  \n11:41\u00a0<@cjdelisle>\u00a0alternatively you could go just ahead and upgrade then see if anything breaks.  \n11:42\u00a0<@cjdelisle>\u00a0+go  \n11:43\u00a0<xiuuu>\u00a0yup but the latter approach sounds kinda risky if the xwiki installation is sowewhat critical  \n11:43\u00a0<xiuuu>\u00a0to the business  \n11:44\u00a0<@cjdelisle>\u00a0always backup the database, if there is an issue then rolling back should be easy.  \n11:44\u00a0<@cjdelisle>\u00a0The most common issue is something stops working and you have to downgrade.  \n11:44\u00a0<+tmortagne>\u00a0yep if you do a backup you can always test whatever you want and go back very easily  \n11:45\u00a0<xiuuu>\u00a0but nvm. perhaps you could see it as a feature request, to ease updating. importing/exporting the current state of the wiki from within the wiki without having to tinker on the system and db lvl  \n11:45\u00a0<xiuuu>\u00a0cjdelisle, tmortagne : i will try that. thanks a lot  \n11:45\u00a0<+tmortagne>\u00a0generally you have issue with custom application you wrote and not with content  \n11:45\u00a0<@cjdelisle>\u00a0I have never heard of an upgrade actually trashing the database so that is just a precaution.  \n11:45\u00a0<+tmortagne>\u00a0if ever ther is issues  \n11:46\u00a0<xiuuu>\u00a0i think i have only on or 2 scripts running in the sidebar like: display all subpages  \n11:46\u00a0<+tmortagne>\u00a0cjdelisle: was mostly talling that because then you just put back the database to come back to previous state, not that much to protect database structure  \n11:47\u00a0<+tmortagne>\u00a0mflorea: continuing my debug, XWikiDocument.backupContext seems to do the right job so looks like the bad guy is xcontext.getWiki().getDocument(documentReference, xcontext).setAsContextDoc(xcontext);  \n11:47\u00a0<+tmortagne>\u00a0at leas the provided map seems good after backupContext execution  \n11:48\u00a0<+tmortagne>\u00a0ha  \n11:48\u00a0<+tmortagne>\u00a0found something  \n11:49\u00a0<+mflorea>\u00a0yes, same here. In my case the display title is called for Sandbox.WebHome. What I found strange, is that the context doc is my page Sandbox.Test after the title is rendered, before the context is restored..  \n11:49\u00a0<+tmortagne>\u00a0mflorea: when debugging pushDocumentInContext I can see that the xwikicontext in the ExecutionContext is not the same that the one returned by \u00a0getContext();  \n11:49\u00a0<+mflorea>\u00a0and XWikiContext#setDoc is not called  \n11:49\u00a0<+tmortagne>\u00a0ha no  \n11:50\u00a0<+tmortagne>\u00a0forget that I was not looking at the right one  \n11:50\u00a0<+tmortagne>\u00a0but there is too different xwikicontext manipulated it seems  \n11:51\u00a0<+tmortagne>\u00a0so at some point the xwikicontext in the script API is unsynchronized with the one in the ExecutionContext  \n11:52\u00a0<+tmortagne>\u00a0setAsContextDoc is properly called for me but it's not action on the expected xcontext  \n11:52\u00a0<+tmortagne>\u00a0acting  \n11:53\u00a0<+mflorea>\u00a0yes, this seems to be the problem  \n11:53\u00a0<+tmortagne>\u00a0but I don't see yet where this split happen  \n11:54\u00a0<@cjdelisle>\u00a0user@debo8:~/wrk/xwiki.git/xwiki-trunks/xwiki-platform/xwiki-platform-core/xwiki-platform-oldcore$ find ./src/main/ -name '\\*.java' -exec grep 'new XWikiContext' {} \\; -print XWikiContext context = new XWikiContext();  \n11:54\u00a0<@cjdelisle>\u00a0./src/main/java/com/xpn/xwiki/web/Utils.java  \n11:54\u00a0<@cjdelisle>\u00a0in case that's usefull  \n11:56\u00a0<+tmortagne>\u00a0it's probably more caused by a clone that a new I think  \n11:56\u00a0<+tmortagne>\u00a0the new in Utils is normal  \n11:57\u00a0<@cjdelisle>\u00a0ExecutionContext clone does not copy the XWikiContext  \n11:57\u00a0<@cjdelisle>\u00a0which is why dropPermissions() is forever  \n11:57\u00a0<+tmortagne>\u00a0no it does not  \n11:57\u00a0<+tmortagne>\u00a0so the issue is not here  \n11:59\u00a0<+tmortagne>\u00a0hmm  \n11:59\u00a0<+tmortagne>\u00a0the executioncontext seems to be change after backupContext execution  \n11:59\u00a0<+tmortagne>\u00a0but there is only ExecutionContext clone in here and I don''t see any clone of the XWikiContext for it  \n12:00\u00a0<+tmortagne>\u00a0debugging more then  \n12:01\u00a0<+mflorea>\u00a0tmortagne: after the EC is pushed, the two ECs from the stack have references to different XWikiContex objects, is this right?  \n12:02\u00a0<+mflorea>\u00a0you said it should be the same object  \n12:02\u00a0<+tmortagne>\u00a0mflorea: yep that's what I just said and no it's not right  \n12:02\u00a0<+mflorea>\u00a0ok  \n12:02\u00a0<+tmortagne>\u00a0(11:59:50 AM) tmortagne: the executioncontext seems to be change after backupContext execution  \n12:03\u00a0<xiuuu>\u00a0okay since im here i have another question. what is the intended way to navigate thorugh xwiki and find pages? through the search? or an list-all sidebar element? because afaik theres no such thing as a built in tree explorer. ive written a little script to display all childs of a given page which someway takes care of that. but i always wondered what the developers think the best way to use it is?  \n12:03\u00a0<+tmortagne>\u00a0mflorea: ho crap...  \n12:04\u00a0<+tmortagne>\u00a0look at DefaultExecutionContextManager#XWIKICONTEXT\\_KEY  \n12:04\u00a0<+tmortagne>\u00a0and VELOCITY\\_KEY  \n12:05\u00a0<+mflorea>\u00a0:)  \n12:05\u00a0<+mflorea>\u00a0how did it end up like this?  \n12:05\u00a0<+tmortagne>\u00a0so i made it clone the XWikicontext and not clone the velocity context  \n12:05\u00a0<+tmortagne>\u00a0created variable to fix checktyle...  \n12:05\u00a0<+mflorea>\u00a0ah  \n12:05\u00a0<+mflorea>\u00a0:)  \n12:07\u00a0<+tmortagne>\u00a0now cloning the xwikicontext should not create such an issue but I guess there is a wrong order between ExecutionContext cloning and XWikiContext document push/pop  \n12:09\u00a0<+tmortagne>\u00a0that's because pushDocumentInContext keep using the previous xcontext instead of reasking it to the ExecutionContext  \n12:09\u00a0<+tmortagne>\u00a0so it push the document in the upper xwikicontext and never remove it  \n12:10\u00a0<+tmortagne>\u00a0ok fixing the variable and pushDocumentInContext in case we decide to clone the xwikiContext after all later  \n12:15\u00a0<+tmortagne>\u00a0this fixes 1.0 syntax context doc issue too, not sure why this was causing issue only in 1.0 syntax  \n12:18\u00a0<vmassol>\u00a0guys I've updated the status on http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap  \n12:18\u00a0<vmassol>\u00a0could you please verify it's correct  \n12:19\u00a0<vmassol>\u00a0sburjan: is XWIKI-6682 still an issue?  \n12:19\u00a0<vmassol>\u00a0(same question for XWIKI-6683)  \n12:31\u00a0<xiuuu>\u00a0okay since im here i have another question. what is the intended way to navigate thorugh xwiki and find pages? through the search? or an list-all sidebar element? because afaik theres no such thing as a built in tree explorer. ive written a little script to display all childs of a given page which someway takes care of that. but i always wondered what the developers think the best way to use it is?  \n12:35\u00a0<+tmortagne>\u00a0xiuuu: there is a tree explorer actually, go to Main/AllDocs page  \n12:35\u00a0<+tmortagne>\u00a0you will find several navigation ways on that page and yes there is the search  \n12:36\u00a0<+tmortagne>\u00a0it mostly depends of your content I would say  \n12:36\u00a0<xiuuu>\u00a0which way do you use in your installation?  \n12:37\u00a0<+tmortagne>\u00a0if you know the content but not the page name then use the search, if you partially know the page or space name then you would probably use document index  \n12:38\u00a0<+tmortagne>\u00a0ha and you can also use Ctrl+G  \n12:38\u00a0<+tmortagne>\u00a0when you know the page or space name for a quick jump  \n12:39\u00a0<xiuuu>\u00a0hmm i think thats a tad to complicated fot the day to day user  \n12:39\u00a0<xiuuu>\u00a0but nice to know this.  \n12:39\u00a0<xiuuu>\u00a0good tip  \n12:39\u00a0<+tmortagne>\u00a0yep probably, I always forget to use it myself :)  \n12:39\u00a0<xiuuu>\u00a0where do i find said tree explorer u mentioned?  \n12:41\u00a0<+tmortagne>\u00a0go to Main/AllDocs page as I said  \n12:41\u00a0<+tmortagne>\u00a0you also have e link in the right panel  \n12:41\u00a0<+tmortagne>\u00a0Document Index \u00a0think  \n12:41\u00a0<+tmortagne>\u00a0then you have several tabs  \n12:41\u00a0<+tmortagne>\u00a0of of them is a tree  \n12:41\u00a0<+tmortagne>\u00a0but I almost never use it  \n12:41\u00a0<+tmortagne>\u00a0I prefer the first tab  \n12:43\u00a0<xiuuu>\u00a0ah okay. i thought there some kind of tree you could use in the sidebar. but this is also quite nice  \n12:43\u00a0<xiuuu>\u00a0thanks  \n12:43\u00a0<+tmortagne>\u00a0but in general the supposedly right way to navigate in a content wiki is by using search and hyperlinks in the pages  \n12:44\u00a0<xiuuu>\u00a0okay, thats a good answer  \n12:46\u00a0<xiuuu>\u00a0although i see that if the wiki is perhaps a bit smaller and you dont know what exactly youre searching the search is not the best way. also, hyperlinks have to be set explicitly and thus requiring a skilled user. makes it harder for beginners and technic-foreign people to edit articles  \n12:59\u00a0<+sburjan>\u00a0vmassol: I don;t know, I reported them a long time ago  \n13:00\u00a0<+sburjan>\u00a0vmassol: sergiu know better because he was the one fixing the Oracle issues.  \n13:03\u00a0<+sburjan>\u00a0now I am waiting for the fix on the blocker I found so I can see if issues reported by Silvia \u00a0are real  \n13:06\u00a0<+sburjan>\u00a0vmassol: I'm almost 100% sure XWIKI-6682 still exists .. and I wasn't able to reproduce XWIKI-6683 when sergiu asked me  \n13:23\u00a0<Enygma`>\u00a0has quit  \n13:47\u00a0<+sburjan>\u00a0vmassol: are you there ?  \n13:53\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:54\u00a0<+sburjan>\u00a0vmassol: I see that you've put 3 oct for RC1 release, but I don't see any artefact and it's 5 october, so it must be wrong something  \n13:54\u00a0<+sburjan>\u00a0on the page  \n13:54\u00a0<+mflorea>\u00a0sburjan: it was delayed  \n13:55\u00a0<+tmortagne>\u00a0sburjan: it's just because wee are late  \n13:58\u00a0<+sburjan>\u00a0I know  \n13:58\u00a0<+sburjan>\u00a0and we still have some blockers unfixed  \n13:58\u00a0<+mflorea>\u00a0which ones?  \n13:59\u00a0<+sburjan>\u00a0well I still can't view my profile  \n13:59\u00a0<+sburjan>\u00a0and nothing from that drop-down  \n13:59\u00a0<+sburjan>\u00a0Watchlist, My Dashboard, etc  \n14:00\u00a0<+sburjan>\u00a0but I got no response, maybe I should report it on JIRA  \n14:00\u00a0<+mflorea>\u00a0everything's fine for me. do you have the latest snapshot? Thomas fixed an important issues today  \n14:00\u00a0<+sburjan>\u00a0ok, let me download the latest snapshot  \n14:05\u00a0<xiuuu>\u00a0has quit  \n14:07\u00a0<+sburjan>\u00a0mflorea: yes, now works. I am curious which was the issue  \n14:08\u00a0<+mflorea>\u00a0the issue with $doc we debugged this morning  \n14:11\u00a0<+sburjan>\u00a0I see  \n14:11\u00a0<+sburjan>\u00a0good to know  \n14:11\u00a0<+sburjan>\u00a0i thought it was another issue  \n14:47\u00a0<vmassol>\u00a0tmortagne: since you've modified aether version we're using does it mean we need to retest the EM now before the release?  \n14:48\u00a0<vmassol>\u00a0(isn't that dangerous to do?)  \n14:48\u00a0<+tmortagne>\u00a0vmassol: there is unit tests around aether  \n14:48\u00a0<vmassol>\u00a0I'm talking about functional behavior, ie verify it works  \n14:49\u00a0<+tmortagne>\u00a0the test are really using aether with a file:// but yet real maven repopsitory  \n14:49\u00a0<vmassol>\u00a0if you're confident fine\u2026. (you'll be the one performning the re-release if it fails ;))  \n14:49\u00a0<+tmortagne>\u00a0s/repopsitory/repository/  \n14:54\u00a0<pturcotte>\u00a0has joined #xwiki  \n15:25\u00a0<+tmortagne>\u00a0ok only one test failing now but sounds like timing issue  \n15:25\u00a0<+tmortagne>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/308/testReport/org.xwiki.test.wysiwyg/StandardFeaturesTest/testEditPageWithSpecialSymbolsInName/  \n15:25\u00a0<+tmortagne>\u00a0\"com.thoughtworks.selenium.Wait$WaitTimedOutException: The WYSIWYG editor failed to load in a decent amount of time!\"  \n15:25\u00a0<+tmortagne>\u00a0mflorea: WDYT ?  \n15:34\u00a0<vmassol>\u00a0guys it's high time we upgrade xwiki.org\u2026. since nobody volunteered I'll start doing it now\u2026. so upgrading from 2.6.2 to 3.1.1, wish me luck\u2026.  \n15:37\u00a0<+evalica>\u00a0good luck vincent : )  \n15:44\u00a0<vmassol>\u00a0evalica: thanks...  \n15:44\u00a0<+mflorea>\u00a0tmortagne: checking  \n15:44\u00a0<+mflorea>\u00a0everything's fine locally..  \n15:45\u00a0<+tmortagne>\u00a0ok so I guess it's a flickering test  \n15:45\u00a0<+mflorea>\u00a0ah, wait, I tested something else  \n15:47\u00a0<vmassol>\u00a0tmortagne: you're offline on skype ;)  \n15:48\u00a0<+tmortagne>\u00a0vmassol: it crashed as usual...  \n15:48\u00a0<+mflorea>\u00a0(skype crash, I bet :) )  \n15:48\u00a0<+tmortagne>\u00a0back thanks for the reminder  \n15:49\u00a0<+mflorea>\u00a0tmortagne: the failing test passes locally, so yes, it's a flicker  \n16:38\u00a0<sburjan>\u00a0has quit  \n16:48\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:20\u00a0<vmassol>\u00a0restarting xwiki.org in readonly mode...  \n17:20\u00a0<vmassol>\u00a0(hope that works ;))  \n18:20\u00a0<xwikibot>\u00a0has joined #xwiki  \n18:21\u00a0<vmassol>\u00a0starting with main wiki now  \n18:23\u00a0<vmassol>\u00a0hmmm tmortagne I think we should disable autowatch  \n18:23\u00a0<vmassol>\u00a0wdyt?  \n18:25\u00a0<vmassol>\u00a0btw do we have it off by default for 3.2?  \n18:25\u00a0<@sdumitriu>\u00a0No  \n18:25\u00a0<vmassol>\u00a0I'm turning it off now, restarting xwiki.org  \n18:25\u00a0<vmassol>\u00a0if not, we should IMO  \n18:26\u00a0<vmassol>\u00a0are we ok to turn it off for xwiki.org?  \n18:26\u00a0<vmassol>\u00a0(by default I mean)  \n18:26\u00a0<vmassol>\u00a0users can turn it on themselves  \n18:34\u00a0<xwikibot>\u00a0has joined #xwiki  \n18:56\u00a0<tmortagne>\u00a0has quit  \n18:57\u00a0<vmassol>\u00a0xwiki.org is quite slow now\u2026 back as usual...  \n19:01\u00a0<vmassol>\u00a0sdumitriu: do you have the xwikorg twitter account at hand? If so could you send a tweet saying that we're upgrading xwiki.org to 3.1.1 and that it may have some hiccups for a few hours  \n19:01\u00a0<vmassol>\u00a0?  \n19:02\u00a0<vmassol>\u00a0I should have sent it before I started actually\u2026 my bad  \n19:05\u00a0<@sdumitriu>\u00a0Yes  \n19:06\u00a0<@sdumitriu>\u00a0Is this good?  \n19:06\u00a0<@sdumitriu>\u00a0xwiki.org upgraded to #XWiki Enterprise 3.1.1, there might be some minor problems during the following hours  \n19:06\u00a0<vmassol>\u00a0s/upgraded/being upgraded/ maybe?  \n19:07\u00a0<@sdumitriu>\u00a0OK  \n19:07\u00a0<@sdumitriu>\u00a0Tweet?  \n19:07\u00a0<vmassol>\u00a0thanks  \n19:07\u00a0<vmassol>\u00a0yep  \n19:07\u00a0<vmassol>\u00a0saw it, thanks  \n19:07\u00a0<@sdumitriu>\u00a0BTW, the release script can also tweet now  \n19:08\u00a0<vmassol>\u00a0:)  \n19:08\u00a0<vmassol>\u00a0let's hope the script doesn't break one day ;)  \n19:08\u00a0<vmassol>\u00a0or it'll tweet the release process or something like that  \n19:08\u00a0<vmassol>\u00a0:)  \n19:08\u00a0<@sdumitriu>\u00a0Yes, it needs to be reviewed before every release, since there might be changes that require updates  \n19:09\u00a0<vmassol>\u00a0any idea why AS are not aligned correctly on profile pages, for ex: http://www.xwiki.org/xwiki/bin/view/XWiki/VincentMassol  \n19:09\u00a0<@sdumitriu>\u00a0Especially with HTTP response scraping, it's very fragile if a site changes its HTML or cookie format  \n19:09\u00a0<vmassol>\u00a0maybe it's a 3.1.1 bug?  \n19:09\u00a0<mflorea>\u00a0has quit  \n19:09\u00a0<vmassol>\u00a0ok main wiki xar updated (still need to fix rss icons + modify news page to use the AS)  \n19:10\u00a0<vmassol>\u00a0doing extensions.xwiki.org now  \n19:10\u00a0<vmassol>\u00a0xwiki.org is real slow for me\u2026.  \n19:11\u00a0<mflorea>\u00a0has joined #xwiki  \n19:12\u00a0<vmassol>\u00a0if someone can help me that would be great btw  \n19:12\u00a0<vmassol>\u00a0there are lots of subwikis to do...  \n19:14\u00a0<@sdumitriu>\u00a0Sorry, I'm trying to release  \n19:15\u00a0<vmassol>\u00a0sure  \n19:24\u00a0<vmassol>\u00a0extensions done  \n19:27\u00a0<xenon75>\u00a0has quit  \n19:28\u00a0<vmassol>\u00a0platform done  \n19:31\u00a0<vmassol>\u00a0enterprise done  \n19:33\u00a0<@sdumitriu>\u00a0Starting the release script  \n19:33\u00a0<vmassol>\u00a0manager done  \n19:34\u00a0<vmassol>\u00a0can someone check if 3.1.1 has a bug in user profile?  \n19:34\u00a0<vmassol>\u00a0(ie the AS is displayed below instead of to the right)  \n19:35\u00a0<abusenius>\u00a0has joined #xwiki  \n19:35\u00a0<vmassol>\u00a0watch done  \n19:37\u00a0<vmassol>\u00a0xeclipse done  \n19:39\u00a0<vmassol>\u00a0xoffice done  \n19:40\u00a0<@sdumitriu>\u00a0Found bug, re-starting the release script  \n19:40\u00a0<Enygma`>\u00a0has quit  \n19:45\u00a0<jvdrean>\u00a0has quit  \n19:46\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:47\u00a0<vmassol>\u00a0ok all done except playground which I'll do tomorrow  \n19:47\u00a0<vmassol>\u00a0going back home  \n19:47\u00a0<vmassol>\u00a0has quit  \n19:50\u00a0<jvdrean>\u00a0has quit  \n20:15\u00a0<mflorea>\u00a0has quit  \n20:40\u00a0<lpereira>\u00a0has joined #xwiki  \n21:01\u00a0<evalica>\u00a0has quit  \n21:13\u00a0<xenon75>\u00a0has joined #xwiki  \n22:10\u00a0<+abusenius>\u00a0hi  \n22:10\u00a0<+abusenius>\u00a0anyone there?  \n22:13\u00a0<@sdumitriu>\u00a0Hey  \n22:13\u00a0<@sdumitriu>\u00a0Me  \n22:13\u00a0<+abusenius>\u00a0hi sdumitriu  \n22:13\u00a0<+abusenius>\u00a0as you probably remember, the 3.2 branch currently has csrf protection enabled by default  \n22:14\u00a0<@sdumitriu>\u00a0Yes  \n22:14\u00a0<+abusenius>\u00a0there were not many bugs, but leaving it enabled for the final might be something we need to vote about? wdyt?  \n22:18\u00a0<@sdumitriu>\u00a0Indeed  \n22:21\u00a0<+abusenius>\u00a0I'll write a mail  \n23:03\u00a0<pturcotte>\u00a0has quit  \n23:11\u00a0<lpereira>\u00a0has quit  \n23:43\u00a0<abusenius>\u00a0has quit  \n\n"}