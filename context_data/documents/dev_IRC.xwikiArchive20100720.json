{"id": "dev:IRC.xwikiArchive20100720", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100720", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nmarta1 left at 00:22 (Ping timeout: 265 seconds  \nlucaa joined #xwiki at 00:26  \nlpereira left at 00:31 (Quit: Leaving.  \nsdumitriu left at 03:05 (Quit: Leaving.  \nabusenius left at 03:25 (Ping timeout: 258 seconds  \njfx joined #xwiki at 05:02  \nvmassol joined #xwiki at 07:29  \nvmassol left at 07:32 (Client Quit  \nsburjan joined #xwiki at 09:08  \nsilviar joined #xwiki at 09:15  \njfx left at 09:26 (Quit: WeeChat 0.3.2  \nvmassol joined #xwiki at 09:28  \njfx joined #xwiki at 09:29  \nlpereira joined #xwiki at 09:30  \nlucaa left at 09:31 (Ping timeout: 245 seconds  \nflorinciu joined #xwiki at 09:32  \nEnygma` joined #xwiki at 09:36  \njvdrean joined #xwiki at 10:05  \nlucaa joined #xwiki at 10:09  \nabusenius joined #xwiki at 10:20  \nKermitTheFragger joined #xwiki at 10:22  \nevalica joined #xwiki at 10:34  \njfx left at 10:36 (Quit: WeeChat 0.3.2  \nevalica1 joined #xwiki at 11:28  \nevalica left at 11:30 (Ping timeout: 252 seconds  \njvdrean - (11:46): Hi lucaa, I don't get XWiki.DefaultSkin from the annotations app when I build XE wiki, is it a known problem ?  \nmarta1 joined #xwiki at 11:49  \nlucaa - (11:50): hi jvdrean no, by no means  \nlucaa - (11:50): you mean in the final enterprise .xar you don't get the DefaultSkin with the annotationsinline,vm attached?  \njvdrean - (11:51): yes, just reproduced on the 2.4 branch as well  \nlucaa - (11:51): so annotations tab not working?  \nlucaa - (11:52): yep not working :(  \nlucaa - (11:54): jvdrean: are you looking at it?  \nlucaa - (11:54): it used to be working...  \nsdumitriu joined #xwiki at 11:55  \nsdumitriu - (11:57): jvdrean: Was that on a local build or on a hudson build?  \njvdrean - (11:58): local  \nlucaa - (11:58): I just tested on my yday's 2.4 snap I tested  \nlucaa - (11:59): and it didn't work  \nlucaa - (11:59): I mean default skin has no annotationsinline, and the annotations tab is not working  \nlucaa - (11:59): that one was from hudson  \nlucaa - (11:59): sdumitriu: did you release?  \njvdrean - (12:00): in the last 2.4 snapshot the attachment is not there, in the last 2.5 it is present  \njvdrean - (12:00): (hudson builds)  \nsdumitriu - (12:01): Not yet (release)  \nsdumitriu - (12:01): Just woke up  \nsdumitriu - (12:01): I think the order of the dependencies is random  \nsdumitriu - (12:02): There are two XWiki.DefaultSkin documents  \nlucaa - (12:02): cool  \nsdumitriu - (12:02): One from annotations, the other I don't know where  \nlucaa - (12:02): then let's fix this somehow  \nlucaa - (12:02): before  \nsdumitriu - (12:02): administration  \nsdumitriu - (12:02): I'd say put the tab in web/templates  \nsdumitriu - (12:02): It's safer  \nlucaa - (12:02): yes, I would say too  \nsdumitriu - (12:03): Annotations are here to stay, it's pretty safe  \nsdumitriu - (12:03): But for the future (2.6?) we need to implement template extensions  \nlucaa - (12:04): I like the fact that it would not depend on a modified DefaultSkin, but I would not like that annotations would depend on a template being there  \nlucaa - (12:04): and, right now, annotationsinline.vm does nothing but  \nlucaa - (12:04): include AnnotationCode.Tab  \nlucaa - (12:04): which means this template will depend on a document in an application...  \nlucaa - (12:05): sdumitriu: wdyt?  \nlucaa - (12:05): jvdrean all, wdyt?  \nsdumitriu - (12:06): It's safer to be in templates  \nsdumitriu - (12:06): For the moment  \nlucaa - (12:07): yes, I would say the same but it would be hacky :(  \nmarta1 left at 12:07 (Quit: Leaving.  \nmarta\\_\\_ joined #xwiki at 12:08  \nlucaa - (12:09): sdumitriu: you wanna handle putting it in the templates?  \nsdumitriu - (12:09): Could you do it?  \nlucaa - (12:09): I can  \nsdumitriu - (12:10): Or you have to go to lunch now?  \nlucaa - (12:10): sdumitriu: can I do it in 1 hour? or better now?  \nlucaa - (12:10): yes I kind of have to go to lunch  \nsdumitriu - (12:11): Go, I'll do it  \nlucaa - (12:11): thanks a lot  \nlucaa - (12:11): we should probably report it  \nlucaa - (12:11): I mean test on RC, report, and have issue fixed for the final  \nlucaa - (12:11): anyone who has a RC can you test?  \njvdrean - (12:44): back, rc has the problem (attachment not present)  \njvdrean - (12:46): +1 with putting the template in web templates, it's a bit hackish but we have to do it to be safe. The presence of the app should be tested around the inclusion  \nsburjan left at 13:01 (\\*.net \\*.split  \nsburjan joined #xwiki at 13:03  \nlucaa - (14:04): sdumitriu: did you commit the .vm?  \nlucaa - (14:04): I am back and I can do it now  \nsdumitriu - (14:12): No, had breakfast too  \nsdumitriu - (14:12): You can do it  \nlucaa - (14:13): if we didn't know otherwise we'd think you live somewhere in the US and wake up very early  \nlucaa - (14:19): so we should report the annotations issue somehow on the RC  \nlucaa - (14:19): but I have no idea how...  \nlucaa - (14:19): I mean how to do it only for the RC  \nsdumitriu - (14:29): Wooohooo! \"Latest Test Result (no failures)\"  \nsdumitriu - (14:30): OK, ready to work  \nlucaa - (14:31): sdumitriu: should I create 2 issues in for the template commit? one in annotations and one in core? or just one in core?  \nlucaa - (14:31): because the annotations don't have to be re-released actually  \nlucaa - (14:31): released, not re-released  \nsdumitriu - (14:32): I don't know, I was thinking about the same thing  \nsdumitriu - (14:32): Let's say just the core  \nsdumitriu - (14:32): It's simpler  \nlucaa - (14:32): yes, just the core. So we don't release annos app, because we won't make any change in the annotations app  \nlucaa - (14:32): I wouldn't remove the skin document  \nlucaa - (14:33): what we can do is remove it at assembly time, from the pom  \nsdumitriu - (14:33): Well, it doesn't matter  \nlucaa - (14:33): it doesn't  \nlucaa - (14:33): but like to be extra correct  \nsdumitriu - (14:33): It's the same thing with or without that template in the skin  \nlucaa - (14:33): and not ambiguous  \nlucaa - (14:34): yes, but then people wouldn't know what they have to change to make it different, etc  \nlucaa - (14:34): it's not good to have duplicates for the ones who try to understand what's going on  \nsdumitriu - (14:34): OK then, two issues it is  \nlucaa - (14:34): no, wait, why?  \nlucaa - (14:34): I don't want to remove it from the annotations app  \nlucaa - (14:35): only from the final enterprise .xar, when we assembly it  \nsdumitriu - (14:35): K  \nlucaa - (14:35): so that would make a second issue in the enterprise actually  \nsdumitriu - (14:50): OK, I need some help  \nsdumitriu - (14:50): How do I get the translations out of l10n.xwiki.org ?  \nlucaa - (14:52): sdumitriu: there's a button I think  \nlucaa - (14:52): to export as .properties files  \nsdumitriu - (14:52): Yes, I think that too  \nsdumitriu - (14:52): WHERE'S THE BUTTON??  \nsdumitriu - (14:52): :D  \nlucaa - (14:54): here http://l10n.xwiki.org/xwiki/bin/view/XE/  \nlucaa - (14:55): you don't have a \"get as application resoure pack\" link in the actions column?  \nlucaa - (14:55): ( sdumitriu )  \nsdumitriu - (14:55): Ah, my screen is too tiny  \nsdumitriu - (14:55): That column wasn't visible  \nlucaa - (14:58): should I commit the annotations inline template on the 2.3 branch as well?  \nlucaa - (14:58): what version of administration is on 2.3.2? is the annotations tab messed up in there too?  \nlucaa - (14:58): (can anyone test?)  \nlpereira left at 14:59 (Quit: Leaving.  \nlucaa - (15:04): sdumitriu: committed on trunk  \nlucaa - (15:06): just tested, it works fine on the 2.3.2  \nsdumitriu - (15:06): As I said, it's random  \nlucaa - (15:07): wait, it  \nlucaa - (15:07): it's random?  \nsdumitriu - (15:07): The order of the elements on the same level is not known  \nlucaa - (15:07): yes, but I mean in the release, I just tested the release  \nsdumitriu - (15:07): Dependencies are put in a HashMap and taken from there  \nlucaa - (15:07): but hashmap order is not random!  \nsdumitriu - (15:07): So, sometimes you get the build right, sometimes you get it wrong  \nlucaa - (15:07): it's just not time or alpha or smth, but it's not random  \nlucaa - (15:07): is it?  \nsdumitriu - (15:07): No, not quite  \nsdumitriu - (15:08): It's the hashCode order  \nlucaa - (15:08): so this would basically mean that in the 2.3.2 release there is a bug in the administration application?  \nsdumitriu - (15:08): No  \nsdumitriu - (15:08): There's no bug  \nlucaa - (15:08): since the skin that was packed is the annotations skin?  \nsdumitriu - (15:08): There are two files coming from two apps  \nsdumitriu - (15:08): The order is not fixed  \nlucaa - (15:08): yes, but it's only one that would win  \nsdumitriu - (15:09): Sometimes we end up with the one from administration, sometimes with the one from annotations  \nlucaa - (15:09): and since I just tested the 2.3.2 release and it works, it means that it was packed with the annotations one  \nsdumitriu - (15:09): It's not a process we can control  \nsdumitriu - (15:09): It's not random, but the rules are not clear either  \nlucaa - (15:09): the sometimes was lucky for the annotations in that particular case  \nfmancinelli joined #xwiki at 15:09  \nlucaa - (15:09): and if the administration app also needs its skin, in the 2.3.2 it doesn't have it  \nlucaa - (15:10): lemme check  \nsdumitriu - (15:10): The administration skin doesn't do much  \nlucaa - (15:11): but it must be there for a reason...  \nlucaa - (15:11): :)  \nlucaa - (15:34): sdumitriu: do you want me to report the issue for XE and remove the XWiki.DefaultSkin from annotations at packing time?  \nsdumitriu - (15:34): Yes  \nsdumitriu - (15:34): Thanks  \nlucaa - (15:34): lemme see how I can do that fast  \nsdumitriu - (15:35): I think you can <exclude> it  \nsdumitriu - (15:35): Probably  \nlucaa - (15:35): anno is a <dependency> I don't know how to exclude it  \nlucaa - (15:37): anyone, how can we exclude a file in a .xar added as a dependency from being packed in the enterprise .xar?  \nlucaa - (15:37): ( jvdrean , vmassol, jvelociter )  \nvmassol - (15:39): lucaa: http://svn.xwiki.org/svnroot/xwiki/platform/xwiki-tools/trunk/xwiki-xar-plugin/src/main/java/com/xpn/xwiki/tool/xar/AbstractXarMojo.java see the excludes field, which translates into <excludes><exclude>...  \nsdumitriu - (15:40): But that means it will exclude both skins, from anno and admin  \nlucaa - (15:41): how can I apply this exclude only to a specific .xar in the dependencies?  \nsdumitriu - (15:43): lucaa: Did you commit the template on 2.4?  \nlucaa - (15:44): yes  \nlucaa - (15:44): XWIKI-5360  \nlucaa - (15:45): XWIKI-5360  \nlucaa - (15:46): sdumitriu: \u00a0so we're not too sure it's even possible to exclude a document in a specific \u00a0.xar  \nlucaa - (15:46): new approach: remove it from the annotations app?  \nlucaa - (15:46): which means: release annotations app, and annotations app will not work correctly on < platform 2.4  \nlucaa - (15:46): on platform < 2.4  \nsdumitriu - (15:48): +1  \nlucaa - (15:49): I don't like this approach  \nlucaa - (15:49): I know we want to release but I don't really like it that much :(  \nsdumitriu - (15:49): Well, the already released 2.3 works well  \nlucaa - (15:50): actually it's a bit more complicated...  \nsdumitriu - (15:50): And we'll just keep the same annotations version for the future 2.3.3  \nlucaa - (15:50): they will work in all significant cases...  \nlucaa - (15:50): like upgrade  \nlucaa - (15:51): if people upgrade from annos 1.4 to say annos 1.6, they will have the annotationsinline in their skins so it's fine  \nlucaa - (15:51): if they install annos 1.6 directly on a 2.2 it will not work fine, though  \nlucaa - (15:52): but for this install there's a bit more work (jars to install) so we can assume they would be able to put the annotationsinline.vm as well...  \nlucaa - (15:52): ok, reporting & removing  \njvdrean - (15:58): sdumitriu: http://dev.xwiki.org/xwiki/bin/view/Community/ReleasePlans is quite useful to be sure not to miss a step  \nlucaa - (15:59): XAANNOTATIONS-29 will fix right away  \nsburjan - (16:01): Does anyone have any idea if there is a Exception handling package for Selenium 2 ? (I'm addressing this to the ones that have written SE2 tests or created pageObjects)  \nsdumitriu left at 16:03 (Ping timeout: 265 seconds  \nsdumitriu joined #xwiki at 16:03  \nlucaa - (16:05): done with XAANNOTATIONS-29 . sdumitriu you can go ahead with the release (sorry for making you release annos as well)  \nsdumitriu left at 16:15 (Ping timeout: 240 seconds  \nsburjan left at 16:25 (Quit: Ex-Chat  \nsdumitriu joined #xwiki at 16:44  \nsdumitriu - (16:56): Starting to release: core  \njfx joined #xwiki at 17:22  \nsilviar left at 17:31 (Quit: Leaving.  \nevalica1 left #xwiki at 17:34  \nsburjan` left at 17:44 (Quit: Peace and Protection 4.22  \nlpereira joined #xwiki at 17:54  \nflorinciu left at 17:55 (Read error: Connection reset by peer  \nEnygma` left at 17:55 (Ping timeout: 258 seconds  \nfmancinelli left at 18:36 (Ping timeout: 264 seconds  \nabusenius left at 18:44 (Ping timeout: 245 seconds  \njvdrean left at 18:57 (Quit: Leaving.  \nvmassol left at 19:05 (Quit: Leaving.  \nlucaa left at 19:06 (Quit: Leaving.  \nflorinciu joined #xwiki at 19:08  \nabusenius joined #xwiki at 19:16  \nKermitTheFragger left at 19:47 (Quit: Leaving  \nsdumitriu left at 19:52 (Ping timeout: 260 seconds  \nfmancinelli joined #xwiki at 20:00  \nsdumitriu joined #xwiki at 20:12  \nfmancinelli left at 20:51 (Ping timeout: 245 seconds  \njfx left at 21:12 (Quit: hopefully brb  \nfmancinelli joined #xwiki at 21:14  \njfx joined #xwiki at 21:32  \njfx left at 21:33 (Client Quit  \njfx joined #xwiki at 21:35  \njfx left at 21:45 (Quit: WeeChat 0.3.2  \njfx joined #xwiki at 22:06  \njfx - (22:20): cool, got my X back now. xorg-x11-apps was needed too. I had skipped it because I thought it only was xeyes, xterm and stuff  \njfx left at 22:22 (Quit: moving to x console...  \njfx joined #xwiki at 22:22  \nflorinciu left at 22:34 (Quit: Leaving.  \nmarta\\_\\_ left at 23:47 (Ping timeout: 240 seconds  \nlpereira left at 23:56 (Quit: Leaving.  \n\n"}