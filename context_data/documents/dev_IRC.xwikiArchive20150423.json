{"id": "dev:IRC.xwikiArchive20150423", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150423", "title": "IRC Archive for channel #xwiki on 23 April 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<cjd>\u00a0has joined #xwiki  \n00:49\u00a0<xwikibot>\u00a0has joined #xwiki  \n01:13\u00a0<xwikibot>\u00a0has joined #xwiki  \n01:23\u00a0<thomass>\u00a0xwiki.org is down (for me)  \n01:34\u00a0<xwikibot>\u00a0has joined #xwiki  \n02:18\u00a0<MasterPiece>\u00a0has quit  \n03:25\u00a0<martin-h>\u00a0has quit  \n03:31\u00a0<martin-h>\u00a0has joined #xwiki  \n03:37\u00a0<xwikibot>\u00a0has joined #xwiki  \n05:11\u00a0<martin-h>\u00a0has quit  \n05:18\u00a0<martin-h>\u00a0has joined #xwiki  \n06:02\u00a0<Denis1>\u00a0has joined #xwiki  \n06:04\u00a0<Denis>\u00a0has quit  \n06:15\u00a0<martin-h>\u00a0has quit  \n06:18\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n06:22\u00a0<martin-h>\u00a0has joined #xwiki  \n06:22\u00a0<DarkKnightCZ>\u00a0has quit  \n07:06\u00a0<martin-h>\u00a0has quit  \n07:07\u00a0<mflorea>\u00a0has joined #xwiki  \n07:16\u00a0<msmeria>\u00a0has joined #xwiki  \n07:21\u00a0<martin-h>\u00a0has joined #xwiki  \n07:21\u00a0<OSIMasson>\u00a0has quit  \n07:24\u00a0<OSIMasson>\u00a0has joined #xwiki  \n07:31\u00a0<gsmeria>\u00a0has joined #xwiki  \n07:43\u00a0<fmancinelli>\u00a0has joined #xwiki  \n07:44\u00a0<martin-h>\u00a0has quit  \n08:04\u00a0<martin-h>\u00a0has joined #xwiki  \n08:05\u00a0<cjd>\u00a0has quit  \n08:07\u00a0<fmancinelli>\u00a0has quit  \n08:17\u00a0<sdumitriu1>\u00a0has quit  \n08:22\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:33\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n09:00\u00a0<cjd>\u00a0has joined #xwiki  \n09:10\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:12\u00a0<vmassol>\u00a0has joined #xwiki  \n09:12\u00a0<vmassol>\u00a0cjd: good morning  \n09:13\u00a0<vmassol>\u00a0cjd: I've left a comment for your at http://jira.xwiki.org/browse/XCOMMONS-794 when you have 2 minutes  \n09:15\u00a0<fmancinelli>\u00a0has joined #xwiki  \n09:22\u00a0<vmassol>\u00a0thanks cjd  \n09:23\u00a0<cjd>\u00a0sure thing, coding-with-the-backspace button  \n09:25\u00a0<vmassol>\u00a0I love removing code when it's possible  \n09:26\u00a0<vmassol>\u00a0cjd: just sent a vote since it's a public api that I'm proposing to remove. If you could reply that would be nice. thanks  \n09:28\u00a0<cjd>\u00a0k  \n09:41\u00a0<Trefex>\u00a0has joined #xwiki  \n09:56\u00a0<cjd>\u00a0I have a question about SOLR/XWiki protocol  \n09:56\u00a0<Trefex>\u00a0has quit  \n09:56\u00a0<cjd>\u00a0How does the indexer work when SOLR is external ?  \n09:57\u00a0<cjd>\u00a0because obviously we would like the recommendation engine to ride the coat-tails of the SOLR indexer if at all possible  \n09:57\u00a0<cjd>\u00a0mflorea: Do you remember how this works ?  \n09:57\u00a0<Trefex>\u00a0has joined #xwiki  \n10:01\u00a0<tmortagne>\u00a0cjd: XWiki comunicate with SOLR with REST through an API no matter is SOLR is embedded or external  \n10:01\u00a0<tmortagne>\u00a0if it's embedded it just pretend it's REST it's not really use HTTP  \n10:02\u00a0<cjd>\u00a0Ok so we push documents into SOLR as opposed to SOLR pulling them from us  \n10:03\u00a0<cjd>\u00a0and so it stands to reason that we have all of the infrastructure we need to push documents into the recommendation engine as well.  \n10:05\u00a0<gsmeria>\u00a0has quit  \n10:06\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:11\u00a0<gsmeria>\u00a0has quit  \n10:12\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:13\u00a0<tmortagne>\u00a0cjd: yes communicate with Solr as if it was a database basically  \n10:14\u00a0<cjd>\u00a0perfect, that seems like the best way to minimize risk with deploying a recommendation engine  \n10:15\u00a0<mflorea>\u00a0cjd, fyi, the classes that extract data from our model are here https://github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-solr/xwiki-platform-search-solr-api/src/main/java/org/xwiki/search/solr/internal/metadata  \n10:17\u00a0<cjd>\u00a0thanks  \n10:17\u00a0<cjd>\u00a0I was looking at https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-solr/xwiki-platform-search-solr-api/src/main/java/org/xwiki/search/solr/internal/DefaultSolrIndexer.java  \n10:17\u00a0<cjd>\u00a0as a starting point  \n10:17\u00a0<Pbas>\u00a0has quit  \n10:18\u00a0<Slashman>\u00a0has joined #xwiki  \n10:18\u00a0<Pbas>\u00a0has joined #xwiki  \n10:24\u00a0<ol-ow2>\u00a0has joined #xwiki  \n10:24\u00a0<ol-ow2>\u00a0hello everybody  \n10:25\u00a0<ol-ow2>\u00a0in xwiki 6.4.4, there is a way to remove \"nav navbar-nav\" for guest user ?  \n10:33\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:12\u00a0<Pbas>\u00a0has quit  \n11:12\u00a0<Pbas>\u00a0has joined #xwiki  \n11:43\u00a0<martin-h>\u00a0has quit  \n11:48\u00a0<evalica>\u00a0has joined #xwiki  \n11:58\u00a0<martin-h>\u00a0has joined #xwiki  \n12:17\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:13\u00a0<ClemensR>\u00a0has left #xwiki  \n13:52\u00a0<Denis1>\u00a0is now known as <Denis>  \n13:59\u00a0<cjd>\u00a0has quit  \n13:59\u00a0<ClemensR>\u00a0has joined #xwiki  \n14:18\u00a0<lucaa>\u00a0has joined #xwiki  \n14:20\u00a0<cjd>\u00a0has joined #xwiki  \n14:25\u00a0<lucaa>\u00a0has quit  \n14:26\u00a0<lucaa>\u00a0has joined #xwiki  \n14:28\u00a0<MasterPiece>\u00a0has joined #xwiki  \n14:30\u00a0<lucaa>\u00a0has quit  \n14:37\u00a0<lucaa>\u00a0has joined #xwiki  \n14:37\u00a0<lucaa>\u00a0has quit  \n14:39\u00a0<lucaa>\u00a0has joined #xwiki  \n14:41\u00a0<lucaa>\u00a0has quit  \n15:01\u00a0<msmeria>\u00a0has quit  \n15:19\u00a0<gsmeria>\u00a0has quit  \n15:35\u00a0<woshilapin>\u00a0has quit  \n15:37\u00a0<woshilapin>\u00a0has joined #xwiki  \n15:38\u00a0<Enygma`>\u00a0Reminder: today is BFD#86  \n15:39\u00a0<sdumitriu1>\u00a0has quit  \n15:40\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n15:58\u00a0<sdumitriu>\u00a0has quit  \n16:01\u00a0<MasterPiece>\u00a0has quit  \n16:20\u00a0<OSIMasson>\u00a0has quit  \n17:07\u00a0<KermitTheFragger>\u00a0has quit  \n17:28\u00a0<woshilapin>\u00a0Hi devs, I have a little problem of dependencies with XWiki  \n17:28\u00a0<woshilapin>\u00a0Actually, I need a XSLT processor  \n17:29\u00a0<woshilapin>\u00a0I saw that Xalan was in the XWiki dependencies  \n17:29\u00a0<woshilapin>\u00a0However, I need some XSLT 2.0 functionalities and as far as I understand, Saxon has but not Xalan  \n17:29\u00a0<woshilapin>\u00a0How can I ensure to build a XWiki distribution (I use packager tool) and avoid conflicts?  \n17:30\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:30\u00a0<woshilapin>\u00a0Should I just exclude explicitly xalan dependency?  \n17:30\u00a0<tmortagne>\u00a0you have a conflict between saxon and xalan ?  \n17:31\u00a0<woshilapin>\u00a0It's not really a conflict  \n17:31\u00a0<woshilapin>\u00a0But I'm not sure which implementation is used  \n17:31\u00a0<woshilapin>\u00a0And I suspect that it use Xalan where I want it use Saxon  \n17:31\u00a0<woshilapin>\u00a0And I'm not sure about the procedure to do that  \n17:32\u00a0<tmortagne>\u00a0maybe you can explicitly indicate the one you want  \n17:32\u00a0<woshilapin>\u00a0How can I do that?  \n17:32\u00a0<tmortagne>\u00a0it's the case for many things like this but I don't have much experience with xslt  \n17:32\u00a0<woshilapin>\u00a0I don't think is related so far with XSLT, more with Maven dependencies  \n17:32\u00a0<woshilapin>\u00a0it's related\\*  \n17:33\u00a0<tmortagne>\u00a0you have newInstance(String factoryClassName,  \n17:33\u00a0<tmortagne>\u00a0in TransformerFactory  \n17:33\u00a0<tmortagne>\u00a0so I guess you can indicate you want saxon here  \n17:33\u00a0<tmortagne>\u00a0just need to find what to put exactly for saxon  \n17:33\u00a0<woshilapin>\u00a0Ah, I saw that you may also have META-INF/services/javax.xml.transform.TransformerFactory file  \n17:33\u00a0<woshilapin>\u00a0which contains which implementation I want  \n17:34\u00a0<woshilapin>\u00a0But since Xalan and Saxon do that... well, I suppose first arrived, first served  \n17:34\u00a0<tmortagne>\u00a0I'm sure you can ask for saxon in your code  \n17:35\u00a0<tmortagne>\u00a0just need to pass saxon class name  \n17:35\u00a0<woshilapin>\u00a0Yes, I'll take a look doing it in the code if I'm not able to manage it directly with maven  \n17:35\u00a0<tmortagne>\u00a0but it depends if you control the code  \n17:35\u00a0<woshilapin>\u00a0I control the code :-)  \n17:35\u00a0<woshilapin>\u00a0(or I think I am :-P)  \n17:36\u00a0<tmortagne>\u00a0hmm looks like you can also override it with a system property  \n17:36\u00a0<tmortagne>\u00a0-Djavax.xml.transform.TransformerFactory  \n17:36\u00a0<woshilapin>\u00a0Ah, this information could be interesting  \n17:36\u00a0<tmortagne>\u00a0so that's another possibility  \n17:37\u00a0<woshilapin>\u00a0Thanks  \n17:37\u00a0<woshilapin>\u00a0Does this means that I could do it also in <properties>?  \n17:37\u00a0<tmortagne>\u00a0basically you should look at FactoryFinder#find(String factoryId, String fallbackClassName) soure  \n17:37\u00a0<woshilapin>\u00a0(I'm not good at that)  \n17:37\u00a0<tmortagne>\u00a0\\*source  \n17:37\u00a0<tmortagne>\u00a0\u00a0depends which properties you are talking about  \n17:37\u00a0<tmortagne>\u00a0it's not realated to the build, its used at runtime  \n17:38\u00a0<woshilapin>\u00a0Ah yes, so indeed, probably not related  \n17:38\u00a0<DarkKnightCZ>\u00a0has quit  \n17:38\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:39\u00a0<tmortagne>\u00a0you can also override it in your own META-INF/services/javax.xml.transform.TransformerFactory as you suggested, just need to make sure it's in a place that has priority like the WAR WEB-INF/classes/  \n17:40\u00a0<woshilapin>\u00a0Yes, this is a solution I'd like to have but I'm not sure I understand well  \n17:40\u00a0<woshilapin>\u00a0I don't know much about priorities in this case  \n17:40\u00a0<tmortagne>\u00a0WEB-INF/classes/ has priority over jars  \n17:40\u00a0<tmortagne>\u00a0so anything you put in there will be loaded first  \n17:41\u00a0<woshilapin>\u00a0Or maybe is using the implemetation that each JAR declare for itself?  \n17:41\u00a0<tmortagne>\u00a0in your case it means your provided will be used  \n17:41\u00a0<woshilapin>\u00a0Because I'm building myself the JAR  \n17:41\u00a0<woshilapin>\u00a0the concerned JAR\\*  \n17:42\u00a0<tmortagne>\u00a0the way it's working I doubt the jar containing the calling code will have priority  \n17:42\u00a0<woshilapin>\u00a0I mean, is it possible that each JAR declare a different implementation (and then, at runtime, the multiple implementation live together, each JAR using the one he want)  \n17:42\u00a0<tmortagne>\u00a0not really  \n17:43\u00a0<woshilapin>\u00a0Because this META-INF/services/ is contained in each JAR  \n17:43\u00a0<woshilapin>\u00a0(so this sounds logical to me)  \n17:43\u00a0<tmortagne>\u00a0TransformerFactory is a static which search the first provider it can find in the current classloader  \n17:43\u00a0<woshilapin>\u00a0ok  \n17:44\u00a0<tmortagne>\u00a0so it's first try in the WAR WEB-INF and then in the jar but without any particular order I think  \n17:44\u00a0<tmortagne>\u00a0it's just the lucky one  \n17:44\u00a0<woshilapin>\u00a0So maybe a <dependencies><exclusion><artifactId>xalan... may work then  \n17:45\u00a0<woshilapin>\u00a0Hoping that XWiki didn't choose Xalan over Saxon for a particular reason  \n17:45\u00a0<tmortagne>\u00a0excluding xalan will surely make sure it's not the one selected but then you should hope it's not directly needed by something else  \n17:45\u00a0<woshilapin>\u00a0:-)  \n17:45\u00a0<woshilapin>\u00a0I'll try that  \n17:45\u00a0<tmortagne>\u00a0you will probably see that quickly I guess  \n17:45\u00a0<woshilapin>\u00a0Yes, that's what I was thinking  \n17:46\u00a0<woshilapin>\u00a0Thanks anyway  \n17:48\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n18:07\u00a0<cjd>\u00a0has quit  \n18:42\u00a0<woshilapin>\u00a0has quit  \n18:54\u00a0<xwikibot>\u00a0has joined #xwiki  \n19:00\u00a0<ClemensR>\u00a0has quit  \n19:01\u00a0<tmortagne>\u00a0has quit  \n19:01\u00a0<Trefex>\u00a0has quit  \n19:06\u00a0<Enygma`>\u00a0has quit  \n19:07\u00a0<evalica>\u00a0has quit  \n19:09\u00a0<mflorea>\u00a0has quit  \n19:11\u00a0<fmancinelli>\u00a0has quit  \n19:34\u00a0<OSIMasson>\u00a0has joined #xwiki  \n20:48\u00a0<DarkKnightCZ>\u00a0has quit  \n20:48\u00a0<DarkKnightCZ1>\u00a0has joined #xwiki  \n20:53\u00a0<Slashman>\u00a0has quit  \n21:16\u00a0<ol-ow2>\u00a0has quit  \n21:19\u00a0<fmancinelli>\u00a0has joined #xwiki  \n21:23\u00a0<DarkKnightCZ1>\u00a0has quit  \n21:39\u00a0<polx>\u00a0has joined #xwiki  \n21:41\u00a0<polx>\u00a0has quit  \n22:32\u00a0<lucaa>\u00a0has joined #xwiki  \n22:32\u00a0<woshilapin>\u00a0has joined #xwiki  \n22:43\u00a0<lucaa>\u00a0has quit  \n22:44\u00a0<lucaa>\u00a0has joined #xwiki  \n22:48\u00a0<lucaa>\u00a0has quit  \n22:54\u00a0<lucaa>\u00a0has joined #xwiki  \n23:01\u00a0<vmassol>\u00a0has quit  \n23:35\u00a0<MasterPiece>\u00a0has joined #xwiki  \n23:51\u00a0<woshilapin>\u00a0has quit\n"}