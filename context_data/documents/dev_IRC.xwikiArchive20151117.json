{"id": "dev:IRC.xwikiArchive20151117", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151117", "title": "IRC Archive for channel #xwiki on 17 November 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Dr\\_Cain>\u00a0has quit  \n01:23\u00a0<Dr\\_Cain>\u00a0has joined #xwiki  \n05:39\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n05:49\u00a0<DarkKnightCZ>\u00a0has quit  \n05:50\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n05:50\u00a0<DarkKnightCZ>\u00a0has quit  \n05:51\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n06:01\u00a0<Denis>\u00a0has quit  \n07:05\u00a0<Ramona1>\u00a0has joined #xwiki  \n07:22\u00a0<Ramona1>\u00a0has quit  \n07:30\u00a0<Ramona1>\u00a0has joined #xwiki  \n07:58\u00a0<Ramona1>\u00a0has quit  \n08:01\u00a0<Ramona1>\u00a0has joined #xwiki  \n08:18\u00a0<DarkKnightCZ>\u00a0has quit  \n08:28\u00a0<kais3n>\u00a0has joined #xwiki  \n08:29\u00a0<Denis2>\u00a0is now known as <Denis>  \n08:41\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:54\u00a0<cjd>\u00a0has quit  \n08:56\u00a0<woshilapin>\u00a0has quit  \n08:59\u00a0<msmeria>\u00a0has joined #xwiki  \n09:29\u00a0<mflorea>\u00a0has joined #xwiki  \n09:33\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:48\u00a0<cjd>\u00a0has joined #xwiki  \n10:09\u00a0<vmassol>\u00a0has joined #xwiki  \n10:14\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:06\u00a0<Trefex>\u00a0has joined #xwiki  \n11:12\u00a0<Trefex>\u00a0hi all, i have a question regarding permissions in xwiki  \n11:12\u00a0<Trefex>\u00a0i'm a bit confused  \n11:14\u00a0<Trefex>\u00a0i have a test account that has normal permissions as far asi can see  \n11:14\u00a0<Trefex>\u00a0and the test account has read access to all wikis  \n11:14\u00a0<Trefex>\u00a0without joining them or anything  \n11:15\u00a0<ClemensR>\u00a0The subwikis are not visible by anonymous users? Which XWiki verison is this ?  \n11:15\u00a0<Trefex>\u00a0ClemensR: i'm not saying anyonymous, i'm saying logged in user with normal permissions  \n11:15\u00a0<Trefex>\u00a0but not belonging to said wiki  \n11:15\u00a0<Trefex>\u00a0this is 7.1.2  \n11:16\u00a0<ClemensR>\u00a0yes, but if the wikis rights are set in a way they are visible by the anonymous user, this might work, too, so I am just asking about your setup  \n11:16\u00a0<ClemensR>\u00a0because Ido not know how your rights are set up  \n11:16\u00a0<Trefex>\u00a0ClemensR: that's where i need help, i'm pretty sure  \n11:16\u00a0<Trefex>\u00a0let me get some screenshots up  \n11:18\u00a0<Trefex>\u00a0ClemensR: \u00a0http://imgur.com/qCp0fEg  \n11:18\u00a0<Trefex>\u00a0this is the setup for the xubwiki which shouldn't have access to  \n11:19\u00a0<ClemensR>\u00a0\u00a0ok, me trying to reproduce locally  \n11:19\u00a0<ClemensR>\u00a0you can check the \"Users\" button to see if anonymous user has view rights\"  \n11:20\u00a0<ClemensR>\u00a0in the title bar, where \"groups\" are checked now  \n11:24\u00a0<Trefex>\u00a0ClemensR: no they don't have access  \n11:25\u00a0<Trefex>\u00a0i'm wondering if it is because there's no explicit assignment in the \"View\" columns for the groups  \n11:25\u00a0<ClemensR>\u00a0\u00a0yes, I event thought this means \"forbidden by default\", but let me check ...  \n11:26\u00a0<ClemensR>\u00a0but you might set \"allow\" in the XWikiAllGroup, which certaionly should fix the issue for the moment  \n11:32\u00a0<ClemensR>\u00a0if you log out, the subwiki is still public I think (at least it is with mine), because no check in \"view\" means it is allowed.  \n11:32\u00a0<Trefex>\u00a0ClemensR: gotcha, so could setup a group, then give explicit access only to that group for the subwiki?  \n11:32\u00a0<ClemensR>\u00a0as documented here: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Access+Rights#HAnoverviewofpermissions  \n11:32\u00a0<ClemensR>\u00a0yes, something like that  \n11:35\u00a0<ClemensR>\u00a0or give \"view\" access it the local XWikiAllGroup, that would even be better  \n11:35\u00a0<Trefex>\u00a0ClemensR: how are users added to that group automatically when using LDAP?  \n11:35\u00a0<ClemensR>\u00a0in that case you can add users to the subwiki, in the Wiki-Admin \"Users\" serction  \n11:36\u00a0<Trefex>\u00a0i now did a LDAP group mapping between a global group and an LDAP group, and gave View / Edit etc rights to that specific group  \n11:36\u00a0<ClemensR>\u00a0ah, automatically ... then a group in the main wiki is better, I see  \n11:36\u00a0<vmassol>\u00a0hi guys  \n11:37\u00a0<ClemensR>\u00a0it probably works for subwikis, too (you can just install the LDAP Admin helper there too)  \n11:37\u00a0<vmassol>\u00a0didn't follow your discussion but I've noticed that 2 users have reported an issue with lost permissions when upgrading to 7.3  \n11:37\u00a0<vmassol>\u00a0anyone knows anything about this problem?  \n11:37\u00a0<ClemensR>\u00a0yes, we are on 7.1.2, so different issue here. \u00a0havent checked the 7.3 now  \n11:38\u00a0<vmassol>\u00a0k  \n11:39\u00a0<ClemensR>\u00a0but if LDAP -> XWiki group mapping is done in subwiki, you might only see it the first time the user logs on to the subwiki ... so maybe better keep the mapping in the main wiki  \n11:40\u00a0<Trefex>\u00a0ok we will keep it in the main ! thanks ClemensR and vmassol  \n11:40\u00a0<Trefex>\u00a0is it worth upgrading to 7.3 and how painful is it? :)  \n11:41\u00a0<vmassol>\u00a0not painful!  \n11:41\u00a0<vmassol>\u00a0:)  \n11:41\u00a0<vmassol>\u00a0shouldn't be, if it is please let us know as it means we'll need to fix something but it shouldn't  \n11:41\u00a0<vmassol>\u00a0it's interesting that you upgade to test the new UI and nested spaces  \n11:41\u00a0<vmassol>\u00a0this is a new paradigm  \n11:42\u00a0<vmassol>\u00a0it's interesting for you to test it and also for us so that you can tell us how much you like or dislike the new UI and what we should tune  \n11:48\u00a0<ClemensR>\u00a0btw, could not reproduce the \"group rights\" issue, but then I did not migrate the content but checked with a fresh wiki  \n11:49\u00a0<ClemensR>\u00a0will try to setup something with a 7.1.2 wiki and migrate it to 7.3.  \n11:56\u00a0<vmassol>\u00a0cool thanks ClemensR. I know msmeria is also trying this so I hope we can reproduce the issue the 2 users are having!  \n12:04\u00a0<evalica>\u00a0has joined #xwiki  \n12:04\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:06\u00a0<ClemensR>\u00a0hm, DW did not upgrade the subwiki, sure I clicked the wrong button  \n12:07\u00a0<ClemensR>\u00a0I cannot reproduce the rights issue after migrating from 7.1.2, however  \n12:08\u00a0<vmassol>\u00a0:(  \n12:08\u00a0<vmassol>\u00a0the guy just answered on the list  \n12:08\u00a0<vmassol>\u00a0he was coming from 7.1 apparently  \n12:09\u00a0<ClemensR>\u00a0ah, oh, but I had no special rights in the subwiki ... repeat from scratch  \n12:10\u00a0<vmassol>\u00a0ah indeed :)  \n12:10\u00a0<vmassol>\u00a0you need some rights defined first  \n12:11\u00a0<ClemensR>\u00a0I only tested in the main wiki, everything is ok there, but now the response is that the rights are in the main wiki, but access issues in the subwiki  \n12:12\u00a0<ClemensR>\u00a0for the other report this sounds like the UI did not work, might be a different issue (which I could not reproduce so far either)  \n12:13\u00a0<vmassol>\u00a0(bbiab, lunch time)  \n12:25\u00a0<Enygma`>\u00a0Denis: anything in the pipe to commit for http://jira.xwiki.org/browse/XWIKI-12165 in 7.1.3 or should I push it to 7.1.4?  \n12:25\u00a0<Denis>\u00a0nothing, sorry  \n12:27\u00a0<Enygma`>\u00a0ok, thanks  \n12:32\u00a0<ClemensR>\u00a0could not reproduce the issue with the group rights lost after migration for subwikis either :(  \n12:37\u00a0<msmeria>\u00a0ClemensR: vmassol: I also could not reproduce the group rights issue  \n12:39\u00a0<ClemensR>\u00a0maybe it is ldap related, though I cannot see how  \n12:55\u00a0<Ramona1>\u00a0has quit  \n12:56\u00a0<Ramona1>\u00a0has joined #xwiki  \n12:56\u00a0<cjd>\u00a0has quit  \n13:42\u00a0<Steklorez>\u00a0has joined #xwiki  \n13:46\u00a0<Steklorez>\u00a0Good afternoon  \n13:46\u00a0<Steklorez>\u00a0Good afternoon. Established xwiki 7.2 (.deb). Tune in to my mail server. But confirmation of registration by coming in this format \"Hello $ {xwiki.getUserName (\" XWiki. $ Xwikiname \", false)},\" Standard templates do not want to work (  \n13:47\u00a0<Steklorez>\u00a0May suggest, what a mistake?  \n13:47\u00a0<vmassol>\u00a0Steklorez: hi  \n13:48\u00a0<Steklorez>\u00a0thak you. \u00a0will see it  \n13:48\u00a0<cjd>\u00a0has joined #xwiki  \n13:49\u00a0<vmassol>\u00a0no idea at this point. What I do know is that 7.2 is not a recommended release and 7.3 is much better  \n13:49\u00a0<vmassol>\u00a0you could try upgrading  \n13:52\u00a0<Steklorez>\u00a0I have not found how to upgrade the \".deb\" package on help page( \u00a0\u00a0apt-get upgrate xwiki \u00a0- something like this?  \n13:55\u00a0<vmassol>\u00a0Steklorez: sorry I can't help you, I'm not a deb package user myslef. but I'm sure others here can help  \n13:55\u00a0<vmassol>\u00a0it seems you're right, I couldn't find any instructions on how to do an upgrade with deb  \n13:55\u00a0<vmassol>\u00a0:(  \n13:55\u00a0<Steklorez>\u00a0i will wait)  \n13:55\u00a0<vmassol>\u00a0on http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Upgrade  \n13:56\u00a0<ClemensR>\u00a0apt-get update && apt-get upgrade xwiki-enterprise-tomcat8-mysql  \n13:57\u00a0<ClemensR>\u00a0(or whatever the name of the installed package is, could be e.g. xwiki-enterprise-tomcat7-postgres instead  \n13:57\u00a0<vmassol>\u00a0ClemensR: might be good to add a one liner on http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Upgrade wdyt?  \n13:57\u00a0<ClemensR>\u00a0\"apt-get -s upgrade\" should tell you what it want to upgrade  \n13:57\u00a0<Steklorez>\u00a0thank you! Now will try it  \n14:01\u00a0<Steklorez>\u00a0all run (\"mysql version\": \u00a0apt-get upgrade \u00a0xwiki-enterprise-tomcat7-mysql)  \n14:02\u00a0<Steklorez>\u00a0thank for help  \n14:03\u00a0<Steklorez>\u00a0I hope that the problem will go with templates.  \n14:06\u00a0<Ramona1>\u00a0has quit  \n14:07\u00a0<Ramona1>\u00a0has joined #xwiki  \n14:12\u00a0<Steklorez>\u00a0After update all crush (  \n14:12\u00a0<Steklorez>\u00a0HTTP Status 500 - Failed to locate an ExtendedURL Resource Type Resolver component  \n14:13\u00a0<Steklorez>\u00a0oot cause \u00a0org.xwiki.component.manager.ComponentLookupException: Failed to lookup component [org.xwiki.url.internal.DefaultResourceTypeResolver] identified by [role = [org.xwiki.resource.ResourceTypeResolver< org.xwiki.url.ExtendedURL >] hint = [default]] org.xwiki.component.embed.EmbeddableComponentManager.getComponentInstance(EmbeddableComponentManager.java:394)  \n14:14\u00a0<ClemensR>\u00a0ah, oh  \n14:15\u00a0<cjd>\u00a0has quit  \n14:20\u00a0<ClemensR>\u00a0this looks like the upgade has left some old jars lying around (which it definitelty should \\*not\\* do)  \n14:21\u00a0<Ramona1>\u00a0has joined #xwiki  \n14:21\u00a0<ClemensR>\u00a0can you \u00a0\u00a0ls /usr/lib/xwiki/WEB-INF/lib/xwiki-platform-\\* \u00a0\u00a0and see if there are some jars around that are not from 7.3 ?  \n14:22\u00a0<ClemensR>\u00a0@Steklorez \u00a0if the jars in that directory have the wring version, the update process must have messed up  \n14:22\u00a0<ClemensR>\u00a0but you can move them away manualy and retry  \n14:23\u00a0<Steklorez>\u00a0try to give a full stack trace  \n14:24\u00a0<Steklorez>\u00a0maybe tomcat7 something does not  \n14:24\u00a0<ClemensR>\u00a0or if nothing else helps; try to revert the update http://askubuntu.com/questions/138284/how-to-downgrade-a-package-via-apt-get \u00a0... but it would be better to find the root cause  \n14:25\u00a0<ClemensR>\u00a0ls -1 /usr/lib/xwiki/WEB-INF/lib/xwiki-\\* | fgrep -v 7.3  \n14:25\u00a0<ClemensR>\u00a0should list all jar-files which are out of sync with the new version  \n14:29\u00a0<Steklorez>\u00a0s -1 .... | fgrep -v 7.3 \u00a0\u00a0- \u00a0clean list  \n14:29\u00a0<ClemensR>\u00a0ok, then it is at least not a fault of packaging  \n14:30\u00a0<cjd>\u00a0has joined #xwiki  \n14:30\u00a0<Steklorez>\u00a0this tomcat!  \n14:31\u00a0<Steklorez>\u00a0hi is change path  \n14:31\u00a0<Steklorez>\u00a0to defauld  \n14:31\u00a0<Steklorez>\u00a0No(  \n14:32\u00a0<Steklorez>\u00a0the after initialization - xwiki breaks  \n14:32\u00a0<ClemensR>\u00a0likely there are more error messages in /var/log/tomcat7/catalina.out  \n14:34\u00a0<ClemensR>\u00a0the first one after starting might be the most interesting one  \n14:37\u00a0<Steklorez>\u00a0write this http://jsfiddle.net/4L1rw10d/  \n14:37\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:40\u00a0<Steklorez>\u00a0tomorrow will set clean 7.3 (  \n14:40\u00a0<ClemensR>\u00a0some infinispan issue ... one moment  \n14:40\u00a0<Steklorez>\u00a0ok  \n14:40\u00a0<ClemensR>\u00a0Caused by: org.infinispan.jmx.JmxDomainConflictException: ISPN000034: There's already a JMX MBean instance type=CacheManager,name=\"xwiki\" already registered under 'org.xwiki.infinispan' JMX$  \n14:40\u00a0<ClemensR>\u00a0it thinks there is another XWiki still running  \n14:41\u00a0<Steklorez>\u00a01 min )  \n14:41\u00a0<ClemensR>\u00a0or at least one using one application the same \"cache key\"  \n14:42\u00a0<ClemensR>\u00a0should have thought about that: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HRunningmultipleinstancesofXWikiinthesamecontainer  \n14:43\u00a0<ClemensR>\u00a0ls /etc/tomcat7/Catalina/localhost/ \u00a0\u00a0\u00a0... see if there is more than one xwiki ;)  \n14:43\u00a0<Steklorez>\u00a0he has 2 files  \n14:43\u00a0<Steklorez>\u00a0and path in 1 file= in 2file  \n14:44\u00a0<Steklorez>\u00a0remove 1 file  \n14:44\u00a0<ClemensR>\u00a0ah then maybe you have reconfigured xwiki to be reachable under another path?  \n14:46\u00a0<ClemensR>\u00a0It seems the upgrader for debian packages does not really handle this case very well  \n14:46\u00a0<Steklorez>\u00a0I changed the way after installation left \"/\" \u00a0and works xxx.xxx.xxx.xxx: 8080 /  \n14:47\u00a0<Steklorez>\u00a0Update to add a second file in this directory  \n14:48\u00a0<Steklorez>\u00a0o! i see start page \"Distribution Wizard\"  \n14:49\u00a0<ClemensR>\u00a0yes, good !  \n14:49\u00a0<ClemensR>\u00a0follow the blue buttons  \n14:50\u00a0<Steklorez>\u00a0thank for help. I lost in the text of the log and did not notice the error  \n14:51\u00a0<ClemensR>\u00a0I forgot about that issue, too ... phew, good to be back on track  \n14:52\u00a0<Steklorez>\u00a0I hope that now the mail template will work correctly.  \n14:52\u00a0<Slashman>\u00a0has joined #xwiki  \n14:54\u00a0<ClemensR>\u00a0oh, yes, otherwise it is just \"not worse than before\" :)  \n14:55\u00a0<Steklorez>\u00a0Aaa(((( Hello ${xwiki.getUserName(\"XWiki.$xwikiname\", false)},  \n14:55\u00a0<Steklorez>\u00a0in mail after registration  \n14:56\u00a0<ClemensR>\u00a0ok, at least we know it is a current issue :-/  \n14:56\u00a0<ClemensR>\u00a0you can see the mail content in the Wiki admin:\"Users & Groups\" > \"registration  \n14:58\u00a0<Steklorez>\u00a0\"VALIDATION EMAIL CONTENT\" - standart content  \n14:58\u00a0<Steklorez>\u00a0#set ($wikiname = $request.serverName) #set ($host = ${request.getRequestURL()}) \u00a0............  \n14:58\u00a0<Steklorez>\u00a0USE EMAIL VERIFICATION = yes \u00a0\u00a0| \u00a0AUTHENTICATION ACTIVE CHECK = yes  \n14:58\u00a0<Ramona1>\u00a0has quit  \n14:59\u00a0<ClemensR>\u00a0which of the two causes the problem? \u00a0It is the second mail, right?  \n14:59\u00a0<ClemensR>\u00a0the one \"Your account on <servername> has been activated\" ?  \n15:00\u00a0<Steklorez>\u00a0Mail with - need verify account  \n15:00\u00a0<Steklorez>\u00a0In order to activate your account, please follow this link: ${host}${xwiki.getURL('XWiki.AccountValidation', 'view', \"validkey=${validkey}&xwikiname=${xwikiname}\")}  \n15:00\u00a0<ClemensR>\u00a0ah, ok, the first one  \n15:01\u00a0<ClemensR>\u00a0ok, and it substitutes none of the placeholders :(  \n15:03\u00a0<Steklorez>\u00a0footer in page xwiki corret show version (XWiki Enterprise $xwiki.getVersion()) 7.3 - it work  \n15:04\u00a0<Steklorez>\u00a0will put it in email text  \n15:04\u00a0<ClemensR>\u00a0is the subject line if the mail: \u00a0\u00a0\u00a0\"validate your account on ${wikiname}\" \u00a0or is \u00a0at least ${wikiname} replaced by text  \n15:04\u00a0<ClemensR>\u00a0yes, good idea  \n15:05\u00a0<Steklorez>\u00a0Not work. In email text \"XWiki Enterprise $xwiki.getVersion()\"  \n15:05\u00a0<Steklorez>\u00a0its globale trouble  \n15:06\u00a0<ClemensR>\u00a0no $xwiki available in mail template, \u00a0strange  \n15:07\u00a0<ClemensR>\u00a0it works locally, but witha \u00a0somewhat different distribution  \n15:07\u00a0<Steklorez>\u00a0I do not know how to view the log generation template email (  \n15:09\u00a0<ClemensR>\u00a0I remember sending mails has changed somewhat recently, so it is not where I know to look for either  \n15:09\u00a0<ClemensR>\u00a0I try to reproduce with my test-debian instance ... needs a minute or two  \n15:16\u00a0<Steklorez>\u00a0Sorry, I need to go. You can write an e-mail ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)) if there are any results. Or Tomorrow I'll go on IRC. Thank you!  \n15:20\u00a0<ClemensR>\u00a0ah, ok, see you!  \n15:20\u00a0<Steklorez>\u00a0has quit  \n15:39\u00a0<xwikibot>\u00a0has joined #xwiki  \n15:43\u00a0<ClemensR>\u00a0hm, cannot reproduce the issue with the debian package, either  \n15:43\u00a0<cjd>\u00a0has quit  \n15:47\u00a0<cjd>\u00a0has joined #xwiki  \n15:53\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:54\u00a0<tmortagne>\u00a0has quit  \n16:35\u00a0<DarkKnightCZ>\u00a0has quit  \n17:06\u00a0<evalica>\u00a0has quit  \n17:07\u00a0<ClemensR>\u00a0has left #xwiki  \n17:08\u00a0<Enygma`>\u00a0has quit  \n17:15\u00a0<OSIMasson1>\u00a0has joined #xwiki  \n17:17\u00a0<KermitTheFragger>\u00a0has quit  \n17:45\u00a0<cjd>\u00a0has quit  \n17:57\u00a0<kais3n>\u00a0has quit  \n18:23\u00a0<woshilapin>\u00a0has quit  \n18:29\u00a0<sdumitriu2>\u00a0has quit  \n18:30\u00a0<cjd>\u00a0has joined #xwiki  \n18:43\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:45\u00a0<msmeria>\u00a0has quit  \n19:02\u00a0<vmassol>\u00a0has quit  \n19:09\u00a0<mflorea>\u00a0has quit  \n19:13\u00a0<woshilapin>\u00a0has joined #xwiki  \n19:19\u00a0<Trefex>\u00a0has quit  \n19:44\u00a0<vmassol>\u00a0has joined #xwiki  \n19:52\u00a0<vmassol>\u00a0has quit  \n20:00\u00a0<Denis>\u00a0has quit  \n20:01\u00a0<Denis2>\u00a0has joined #xwiki  \n20:54\u00a0<Ramona1>\u00a0has joined #xwiki  \n21:26\u00a0<Ramona1>\u00a0has quit  \n21:38\u00a0<cjd>\u00a0has quit  \n21:41\u00a0<cjd>\u00a0has joined #xwiki  \n22:38\u00a0<cjd>\u00a0has quit  \n23:08\u00a0<Slashman>\u00a0has quit  \n23:18\u00a0<sorinello>\u00a0has quit\n"}