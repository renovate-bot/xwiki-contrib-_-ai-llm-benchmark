{"id": "xwiki:Documentation.AdminGuide.Configuration.WebHome", "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/", "title": "Configuration", "collection": ["Eval", "Eval-Small", "Eval-Large"], "mimetype": "text/markdown", "language": "en", "content": "\n**Contents*** [Enable superadmin account](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEnablesuperadminaccount)\n* [Language settings](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HLanguagesettings)\n\t+ [Algorithm](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HAlgorithm)\n* [Date format](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDateformat)\n* [Enabling/Disabling Statistics](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEnabling2FDisablingStatistics)\n* [Optional Store Features](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HOptionalStoreFeatures)\n\t+ [Document versioning](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDocumentversioning)\n\t+ [Document recycle bin](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDocumentrecyclebin)\n* [Customizing error pages](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizingerrorpages)\n* [Customizing the Skin](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizingtheSkin)\n* [Security configuration](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSecurityconfiguration)\n* [HTTPS/SSL](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HHTTPS2FSSL)\n* [Customizing Menus](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizingMenus)\n* [Encoding](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEncoding)\n* [User Authentication](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HUserAuthentication)\n\t+ [Customizing the Verified Registration Page](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizingtheVerifiedRegistrationPage)\n* [Default User Preferences](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDefaultUserPreferences)\n* [Initial Groups](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HInitialGroups)\n* [Logging](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HLogging)\n* [Configuring Interwiki links](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfiguringInterwikilinks)\n\t+ [Interwiki links (XWiki Syntax 1.0)](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HInterwikilinks28XWikiSyntax1.029)\n\t+ [Interwiki links (XWiki Syntax 2.x)](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HInterwikilinks28XWikiSyntax2.x29)\n* [Link URLs](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HLinkURLs)\n\t+ [Reverse proxy setup](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HReverseproxysetup)\n\t+ [Short URLs](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HShortURLs)\n* [Configure the names of database schemas](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfigurethenamesofdatabaseschemas)\n* [Controlling Page Tabs](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HControllingPageTabs)\n* [Configure \"Version Summary\" behavior](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfigure22VersionSummary22behavior)\n* [Configuring Directories](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfiguringDirectories)\n\t+ [Permanent Directory](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HPermanentDirectory)\n\t+ [Temporary Directory](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HTemporaryDirectory)\n* [Configuring WebDAV (since 1.7)](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfiguringWebDAV28since1.729)\n\t+ [Securing WebDAV Server](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSecuringWebDAVServer)\n\t+ [Disabling WebDAV](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDisablingWebDAV)\n* [Redirections](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HRedirections)\n\t+ [Trusted domains](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HTrusteddomains)\n* [Customizing the PDF export Look & Feel](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizingthePDFexportLook26Feel)\n\t+ [General Architecture](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HGeneralArchitecture)\n\t+ [Override the PDF Templates](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HOverridethePDFTemplates)\n\t\t- [Customize the PDF Footer](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizethePDFFooter)\n\t\t- [Customize the PDF Cover](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HCustomizethePDFCover)\n\t\t- [Override the CSS rules](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HOverridetheCSSrules)\n\t\t- [Override the xhtml2fo.xsl rules](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HOverridethexhtml2fo.xslrules)\n\t\t- [Debugging PDF export](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDebuggingPDFexport)\n* [Configuring Wiki Syntaxes and default Syntax](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HConfiguringWikiSyntaxesanddefaultSyntax)\n* [Title behavior](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HTitlebehavior)\n* [Link Label Generation](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HLinkLabelGeneration)\n* [Rendering Cache](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HRenderingCache)\n* [Allowed Pages for Inactive Users](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HAllowedPagesforInactiveUsers)\n* [Rendering Transformations](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HRenderingTransformations)\n* [Macros categories and visibility](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HMacroscategoriesandvisibility)\n* [Securing Groovy Scripts](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSecuringGroovyScripts)\n* [Lock Duration](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HLockDuration)\n* [Editing](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEditing)\n\t+ [Default editor](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDefaulteditor)\n\t+ [Default WYSIWYG editor](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDefaultWYSIWYGeditor)\n\t+ [Section Editing](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSectionEditing)\n\t+ [Editing Conflicts](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEditingConflicts)\n\t+ [In-place Editing](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HIn-placeEditing)\n* [Delete Pages](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDeletePages)\n\t+ [Enabling Advanced users to skip the recycle bin](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HEnablingAdvanceduserstoskiptherecyclebin)\n* [Sample xwiki.cfg](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSamplexwiki.cfg)\n* [Sample xwiki.properties](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSamplexwiki.properties)\nOnce you have XWiki [installed](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Installation/) you'll want to configure it. Configuration can be done in 2 ways:\n\n* by stopping the XWiki instance and editing either the xwiki/WEB-INF/xwiki.cfg file or the xwiki/WEB-INF/xwiki.properties one, and then restarting XWiki. Note that xwiki.cfg was the historical file containing the configuration option but we're moving away from it and in due time all the XWiki configuration options will be found in xwiki.properties\n* by logging in as a user with admin rights and going to the administration page using the top level menu. You can also go directly to *http://localhost:8080/xwiki/bin/admin/XWiki/XWikiPreferences*. This allows to keep the server running while making the changes.\n\t+ Some configurations are only accessible from the xwiki.cfg and xwiki.properties files and have no equivalent on the administration page.\n\t+ If you're a developer and need to understand how Configuration works in XWiki, check the [Configuration Module Documentation](https://extensions.xwiki.org/xwiki/bin/view/Extension/Configuration%20Module).You can verify some basic settings of your XWiki installation (on Tomcat, MySQL) using the [Check Config and Indexes application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Check%20Config%20And%20Indexes%20Application).\n\nThere are various things you can configure:\n\n# Enable superadmin account\n\nEdit the xwiki.cfg file and enable the xwiki.superadminpassword property. For example:\n\n# Enable to allow superadmin. It is disabled by default as this could be a security breach if  \n# it were set and you forgot about it.  \nxwiki.superadminpassword=systemWhen logging in, the username will be \"superadmin\" and the password will be the one you set in the xwiki.superadminpassword property.\n\n# Language settings\n\nTo define the default language for your wiki go to the administration page, click on \"Localization\", locate the \"Default Language\" field and select the language you wish to use.\n\nIn addition you can configure your wiki to be multilingual. See the [I18 user page](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/I18N) for more information.\n\nLast, you can also force your wiki to display only in one of the languages specified in the settings, by editing your WEB-INF/xwiki.cfg file. Search for the \"Internationalization\" section, and you should see two commented settings that you can uncomment to fix their value (1 means true, 0 false).\n\n#-# By default, XWiki chooses the language specified by the client (browser) in the Accept-Language HTTP header. This  \n#-# allows to use the default language of the wiki when the user didn't manually choose a language.  \n# xwiki.language.preferDefault=0  \n  \n#-# Force only one of the supported languages to be accepted. Default is true.  \n# xwiki.language.forceSupported=1Starting with XWiki 11.2RC1 the option xwiki.language.forceSupported is by default set to true. The option was by default set to false on prior versions.\n\n## Algorithm\n\nThe algorithm to find the locale to use is the following, in this order:\n\n* If the wiki is not multilingual use the wiki default locale (default\\_language xproperty in XWikiPreferences xobject or English if not found).\n* If the wiki is multilingual\n\t+ Try to get the locale passed in the request (looking for a language query string parameter).\n\t+ If the language value is default use the wiki default locale. If a parameter is found sets a language cookie to remember the language in use.\n\t+ Try to get the locale from the language cookie\n\t+ If the default language is preferred (xwiki.language.preferDefault from xwiki.cfg or preferDefaultLanguage property from the space preferences (WebPreferences xobject) or wiki preferences (XWikiPreferences xobject})), and since the user didn't explicitly ask for a language already, then use the wiki default locale.\n\t+ Try to use the browser's Accept-Language header sent in HTTP request.\n\t+ Fallback to the wiki default locale\n\nIn addition the xwiki.language.forceSupported configuration property (editable in xwiki.cfg) is enabled by default and means that if at any step above the locale found is not in the list of supported locales, then the locale is not set and the algorithm moves to the next step.\n\n# Date format\n\nTo define the date format used in the interfaces, go to *Wiki -> Administer Wiki -> Localization*, locate the \"Date format\" field and enter the date format you wish to use. Examples:\n\n\n\n| Format | Result |\n| --- | --- |\n| MMMM dd, HH:mm | January 27, 12:27 |\n| yyyy/MM/dd, HH:mm | 2009/01/27, 12:27 |\n| dd/MM/yyyy, HH:mm | 27/01/2009, 12:27 |\n\n[More information about date formatting](http://docs.oracle.com/javase/1.5.0/docs/api/java/text/SimpleDateFormat.html).\n\n# Enabling/Disabling Statistics\n\nTo disable [the Statistics feature](https://extensions.xwiki.org/xwiki/bin/view/Extension/Statistics%20Application) edit your *xwiki.cfg* file and replace the following properties as shown here (to enable statistics, change 0 to 1):\n\nxwiki.stats=0  \nxwiki.stats.default=0where:\n\n* xwiki.stats controls whether statistics are on or off\n* xwiki.stats.default controls whether statistics are on or off by default for the current Wiki. This is useful in [multi wiki mode](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Virtualization/). A wiki can decide whether statistics are on or off by setting the \"statistics\" field in XWiki.XWikiPreferences. If no such field is defined then the default value *xwiki.stats.default* is used.There's currently no UI to set the statistics on or off for a given subwiki. Thus at the moment you'll need to do 2 things:\n\n\n\t+ Edit XWiki.XWikiPreferences to add a new boolean property to the class, by going to *http://localhost:8080/xwiki/bin/edit/XWiki/XWikiPreferences?editor=class*\n\t+ Set the statistics property to true by going to *http://localhost:8080/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object* and setting the statistics property to true\n\n# Optional Store Features\n\n## Document versioning\n\nOne of the key features of a wiki engine is the ability to keep all the history of a document, giving users the ability to see the evolution of a document, but also to revert changes. However, the history of an active wiki continuously grows and is usually much larger than the current version of the data. It is possible to disable the versioning feature in XWiki, which means that less storage space will be used, although it will not be possible to revert the document in case of vandalism.\n\nTo disable versioning edit *xwiki.cfg* and add xwiki.store.versioning=0.\n\n[Attachment versioning](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments#HVersions) is also available and turned on by default.\n\n## Document recycle bin\n\nBy default deleted documents are not permanently removed, but are placed in a *recycle bin*, from which they can later be removed or restored. To disable it, edit *xwiki.cfg* and add xwiki.recyclebin=0.\n\nDisabling the recycle bin will make it impossible to restore a deleted document, unless a database backup is available.\n\nBy default, a deleted document can be permanently deleted right away by administrators, and after 7 days by regular users. To change these limits, edit *xwiki.cfg* and add:\n\n# Admins must wait 3 days before being allowed to permanently delete  \nxwiki.store.recyclebin.adminWaitDays=3  \n# Normal users must also wait 3 days  \nxwiki.store.recyclebin.waitDays=3[Attachment recycle bin](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments#HDeletion) is similar.\n\n# Customizing error pages\n\nThe screen displayed to the user when an error occurs can be easily customized without modifying the skin in the following cases: when the wiki, document or attachment that is currently looked for does not exist, or when a denied access occurs. You simply need to create the following respective pages in your wiki:\n\n* XWiki.WikiDoesNotExist,\n* XWiki.DocumentDoesNotExist,\n* XWiki.AttachmentDoesNotExist,\n* XWiki.AccessDenied\n\nCreating these pages rather than editing the skin's velocity files will save you time during upgrades since you won't need to merge the possibly updated skin files with yours.\n\n# Customizing the Skin\n\nSee the [Skin Guide](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Skins).\n\n# Security configuration\n\nSee the [Security Guide](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Security).\n\n# HTTPS/SSL\n\nBy default the protocol to use to generate external URLs (HTTPS, HTTP) is extracted from requests to XWiki so most of the time you don't have anything to do if you properly configured your proxy but it's possible to force a specific protocol using xwiki.url.protocol property in *xwiki.cfg*.\n\nTo setup HTTPS/SSL you may need to configure your Servlet Container and any front end web server or proxy in front of XWiki. For example:\n\n* [Tomcat](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Installation/InstallationWAR/InstallationTomcat/)\n\n# Customizing Menus\n\nThe first thing to understand is that menus depend on the skin you're using. If you're using the 1.0 skin it's likely you're using the [Panels Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Panels%20Application) to provide the different menu panels you see on the left or right of your wikis. Check the [Panels Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Panels%20Application) to know more on how to configure/modify them.\n\n# Encoding\n\nSee the [Encoding Guide](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/Encoding/).\n\n# User Authentication\n\nSee the [Authentication Guide](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/).\n\n## Customizing the Verified Registration Page\n\nThe Verified Registration Page is part of the [Administration Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Administration%20Application) and allows you to require users to fill in a captcha and validates user input on both the server side and the client side using Javascript. The configuration allows you to add fields and validation constraints to the fields which are there.\n\nIn order to turn on captcha, you simply go to the administration page, click \"Registration\" and you will find a checkbox for turning on captcha along with other registation page related settings.\n\nFor more information about configuring the registration page you can visit the page on the [Administration Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Administration%20Application).\n\n# Default User Preferences\n\nSee the [User Module documentation](https://extensions.xwiki.org/xwiki/bin/view/Extension/User%20Module/API/#HConfiguration).\n\n# Initial Groups\n\nYou can set the default groups which new users will automatically be added to by changing the xwiki.users.initialGroups parameter in your [xwiki.cfg](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HSamplexwiki.cfg) file. To make all new users be added to the groups **XWiki.CoolPeople** and **XWiki.CommunityMembers** you will have to set the initialGroups parameter like this:\n\nxwiki.users.initialGroups=XWiki.CoolPeople, XWiki.CommunityMembers* Current members will not be automatically be added to these groups, only new members.\n* The groups have to be created before being specified as initial groups.\n\n# Logging\n\nSee the [Logging page](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Logging).\n\n# Configuring Interwiki links\n\n[Interwiki linking](http://en.wikipedia.org/wiki/InterWiki) is a short hand syntax for linking to pages on other websites. For example, you could link to <http://en.wikipedia.org/wiki/InterWiki> just by typing [[InterWiki@WikiPedia]].\n\nNote that different lists have to be maintained to support this function in XWiki Syntax 1.0 and 2.x.\n\nThe link notation for Interwiki links has changed in XWiki Syntax 2.1. Links should look like this in XWiki Syntax 2.1: [[interwiki:WikiPedia:InterWiki]].\n\n## Interwiki links (XWiki Syntax 1.0)\n\nSince XWiki renders wiki syntax using the [Radeox](http://codemonkeyism.com/forking-radeox-a-new-wiki-render-engine/) engine, it supports Interwiki links in [much the same way as SnipSnap](http://snipsnap.org/space/InterWiki+HowTo).\u00a0\n\nTo configure Interwiki links on your wiki:\n\n* Create a file named [location from where you start your container]/conf/**intermap.txt**\n* Fill intermap.txt with content like:IMDB http://us.imdb.com/Title?  \nOpenWiki http://openwiki.com/?  \nSourceForge http://sourceforge.net/  \nTWiki http://twiki.org/cgi-bin/view/  \nWhy http://clublet.com/c/c/why?  \nWiki http://c2.com/cgi/wiki?  \nWikiPedia http://www.wikipedia.com/wiki/You can of course add your own entries.\n\nRadeox's parser for intermap.txt is very fragile. A blank line at the bottom of the file is enough to make it fall over.\n\nRestart XWiki (you'll need to restart XWiki every time you change intermap.txt) and try out an Interwiki link. If it does not work, check your xwiki.log file. You'll see if conf/intermap.txt could not be found, or if there was an error parsing it.\n\n## Interwiki links (XWiki Syntax 2.x)\n\nIn order to use Interwiki links in the XWiki Syntax 2.x it is necessary to configure the appropriate list in your xwiki.properties file. Look for the following section:\n\n#-# InterWiki definitions in the format alias=URL  \n#-# See http://en.wikipedia.org/wiki/Interwiki\\_links for a definition of an InterWiki link  \n# Some examples:  \n# rendering.interWikiDefinitions = wikipedia = http://en.wikipedia.org/wiki/  \n# rendering.interWikiDefinitions = definition = http://www.yourdictionary.com/# Link URLs\n\nWith parameters, you can specify what type of links will be made by XWiki.\n\n## Reverse proxy setup\n\nXWiki can and does run behind reverse proxies such as Apache mod\\_proxy. Usually the only thing needed is to have the x-forwarded-host http header set to the external URL and XWiki will write links correctly.\n\nSome reverse proxy software does not set this header and with XWiki 3.0M3 or newer, you can use the xwiki.home parameter in single wiki instances (non farm) to achieve the same result.\n\n* **xwiki.home** - parameter in xwiki.cfg will be used to make all links pointing to the main wiki on the server. If your main wiki is called \"xwiki\" but you want your users to access it by going to *www.yoursite.tld* instead of *xwiki.yoursite.tld*, you may set the xwiki.home parameter to *http://www.yoursite.tld/*  \nThis parameter will also work for single wiki instances and will be the final authority if the x-forwarded-host parameter is not set.\n* **xwiki.url.protocol** - with the xwiki.url.protocol parameter in xwiki.cfg you can explicitly specify the protocol as https. This is useful if you are running xwiki behind a reverse proxy which converts https into plain http so xwiki only sees http.\n\n## Short URLs\n\nIt's possible to [configure XWiki to use shorter URLs](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/ShortURLs/).\n\n# Configure the names of database schemas\n\nSometimes, especially in a complex environment, we need to control the names of database schemes, other than default.\n\n* **xwiki.db**: name of database schema for the main wiki (including the name of the wiki in a single-wiki environment, otherwise the database name comes from the Hibernate configuration file).\n* **xwiki.db.prefix**: useful mainly for [sub wikis](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Virtualization/), where we have a separate database schema for each sub wiki. This prefix is added to the database schema name after usual mapping between wiki names and schemas. Note that this is also applied to the main wiki database name.\n\n# Controlling Page Tabs\n\nYou can do this from the [Administration](https://extensions.xwiki.org/xwiki/bin/view/Extension/Administration%20Application#HPresentation).\n\nIf you wish to turn on/off comments/annotations/attachments/history/information tabs only for a single page you just need to [define some properties in a script in the page](https://www.xwiki.org/xwiki/bin/view/Documentation/DevGuide/Scripting#HControllingPageTabs).\n\nLast, if you wish to turn them off based on some programmatic rule (such as display them only for Administrators), you should define the properties in the layoutExtraVars.vm template file from your XWiki installation. For example:\n\n#if (!$hasAdmin)  \n\u00a0\u00a0## Hide tabs  \n\u00a0\u00a0#set($displayDocExtra = false)  \n\u00a0\u00a0## Hide viewer shortcuts in the menu  \n\u00a0\u00a0#set ($displayShortcuts = false)  \n#end# Configure \"Version Summary\" behavior\n\nWhen you're editing a page you can add a brief description of your changes in the \"Version Summary\" field by default (look at [PageEditing](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing#HCommoneditactions)). You can disable this feature by setting xwiki.editcomment=0 in xwiki.cfg.\n\nWhen the \"Version Summary\" feature is enabled, you can also set \"Version Summary\" to be mandatory by setting *xwiki.editcomment.mandatory=1* in *xwiki.cfg*. This will show a popup window with the request to write a short comment if there is no comment entered. It doesn't allow you to enter an empty comment. If you want a popup, but you also want to be able to enter an empty comment, set *xwiki.editcomment.suggested=1* in *xwiki.cfg*\n\nIf you set \"Version Summary\" as mandatory or suggested, you can also remove the \"Version Summary\" field and use only a popup window for writing a comment. Set *xwiki.editcomment.hidden=0* in *xwiki.cfg* to do this.\n\nYou can use the special fields in the *XWikiPreferences* object instead of editing *xwiki.cfg*. These fields are: *editcomment*, *editcomment\\_mandatory*, *editcomment\\_suggested* and *editcomment\\_hidden*.\n\n# Configuring Directories\n\nXWiki uses the following directories:\n\n* A Temporary directory. It's used for example to cache images after re-sizing them or store attachments after loading them out of the database.\n* A Permanent directory. It's used for storing data such as extensions and [filesystem attachments](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments#HFilesystemAttachmentStore28SinceXWikiEnterprise3.0M229) which must not be deleted and search indexes which are replaceable but laborious to create.\n\n## Permanent Directory\n\nTo set the permanent directory, you have 2 options:\n\n* Set the xwiki.data.dir system property when starting the JVM (ie. the Servlet Container's JVM, specifically: -Dxwiki.data.dir=...)\n* Set the environment.permanentDirectory property in your xwiki.properties file\n\nMake sure to choose a folder different from the XWiki home on which XWiki (which usually means whatever user running the application server in which XWiki is installed) has write access. For example the standard Debian package use /var/lib/xwiki/data which is usually a good fit for many Linux distributions.\n\nIf the location points to a file or a directory to which XWiki does not have write access to, a warning will be printed in the log and the temporary directory will be used as a default. The temporary directory can be periodically cleaned and all its content deleted so it is critical that it is not used for anything else. Thus it's especially important to set the Permanent directory to not point to the temporary directory.\n\nThere are 2 ways to find out what's your current permanent directory:\n\n* Check the XWiki logs and look for the \"Using permanent directory\" string.\n* Put the following in a wiki page (using the wiki editor). Beware that you'll need to have programming rights for this to work:{{velocity}}  \n$services.component.getInstance('org.xwiki.environment.Environment').getPermanentDirectory().getCanonicalPath()  \n{{/velocity}}\nList of sub-directories in the permanent directory:\n\n* store: Data stores\n\t+ store/file: Attachments ([when they're saved on the filesystem](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments#HAttachmentStorage), which is the default, otherwise they're saved in the database), and deleted documents. Note that even when attachments are saved on the filesystem the attachment metadata are saved in the database (e.g. creator, date, etc).\n\t+ store/solr: Solr configurations and data which are not possible to reindex from a different data source (cache data is located in cache, see below).\n* extension: Installed extensions and metadata about where they are installed.\n* cache: Cache files. These files and subdirectories can be removed, XWiki will regenerate them (e.g. the Solr seach indexes). However that can take a lot of time. Examples of what's contained in the cache:\n\t+ Solr search indexes\n\t+ Descriptors of core extensions. If you delete them, XWiki will simply try to resolve those extensions again at startup but it won't need to resolve much since the WAR embeds complete descriptors for all the JARs. Removing this directory allows cleaning descriptors that were downloaded in previous versions of XWiki.\n\t+ FOP Font cache\n* mails: The [Mail Sender API](https://extensions.xwiki.org/xwiki/bin/view/Extension/Mail%20Sender%20API) (used by several features of XWiki that require sending mails) will serialize email messages in this directory before they are sent, so that if XWiki crashes or is stopped, those mails are not lost and can be resent. Once a mail is successfully sent, its associated file is removed from this directory. Thus this directory will contain mails that failed to be sent.\n* logs: Contains the xwiki logs but this is only true for the [XWiki Standalone packaging](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Installation/#HInstallationMethods) which has Jetty configured to generate its logs in this directory.\n* jobs/status: Logs and statuses of the various background jobs executed inside XWiki (e.g. when deleting a page or set of pages a job is used). The path follows the job id. Note that most of them are used only to remember what happened during the job execution and are generally safe to remove but some might use the job status for other purposes. Here are a few example of standard jobs (but there can be more coming from extensions):\n\t+ jobs/status/distribution: Remember the decisions taken in the Distribution Wizard (DW) of each wiki (usually during install/upgrade). It's recommended to keep them but the worst that can happen when deleting them is getting the DW again during next restart (if one of the step is triggered, for example when you have an orphaned or invalid extension installed) and have to cancel again some steps until the next upgrade\n\t+ jobs/status/extension: Removing them is safe and won't have any impact other than loosing the log of latest install/uninstall of each extension\n\t+ jobs/status/refactoring: Removing them is safe and won't have any impact other than loosing the log of latest refactoring operations\n\t+ jobs/status/solr/indexer: Removing it is safe and won't have any impact other than loosing the log of latest Solr indexing operation\n\t+ jobs/status/wikicreation: Removing it is safe and won't have any impact other than loosing the log of latest wiki creation operations\n* database: This is only true for the [XWiki Standalone packaging](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Installation/#HInstallationMethods) and it contains the HSQLDB database data (i.e. the wiki pages and more).\n* mentions: The [Mentions Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Mentions%20Application/) uses this directory to store the queue of documents that are waiting to be analysed for new mentions.\n* observation: The [Observation Module Remote](https://extensions.xwiki.org/xwiki/bin/view/Extension/Observation%20Module%20Remote) uses this directory to store the unique identifier of the instance in a cluster.\n* XWiki 15.9+ configuration.properties: Contains configuration generated by XWiki itself (for example the validation and encryption keys used for cookies when not provided in xwiki.cfg)\n\n## Temporary Directory\n\nThe temporary directory is taken from the Servlet Container's javax.servlet.context.tempdir Servlet Context property and thus must be configured at that level. If it is pointed to a file or directory where XWiki cannot write, it will print a warning in the log and attempt to use the [java.io.tmpdir](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#getProperties()) System property. If this is not a writable directory, an exception will be thrown.\n\nAlso note that 3rd party libraries used by XWiki could be using another temporary directory. Usually that would the tmp dir provided by the JVM, i.e. the location pointed to by the [java.io.tmpdir](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/System.html#getProperties()) System property.\n\nTo know the location, put the following in a wiki page (using the wiki editor). Beware that you'll need to have programming rights for this to work:\n\n{{velocity}}  \n$services.component.getInstance('org.xwiki.environment.Environment').getTemporaryDirectory().getCanonicalPath()  \n{{/velocity}}# Configuring WebDAV (since 1.7)\n\nWebDAV support has been added to XWiki beginning with XWiki 1.7. It is very important to note that WebDAV is enabled by default.\n\n## Securing WebDAV Server\n\nXWiki's WebDAV implementation only supports the [Basic Access Authentication](http://en.wikipedia.org/wiki/Basic_access_authentication) scheme for authenticating WebDAV clients. Because of this reason it is highly recommended that you employ a transport level security mechanism like SSL to protect your clients. You may consult your web application container's documentation to see how this can be achieved.\n\n## Disabling WebDAV\n\nTo disable WebDAV support in your XWiki server, simply edit your web.xml file and remove the url-mapping element for mapping webdav requests. The url-mapping element for WebDAV looks like this:\n\n<servlet-mapping>  \n <servlet-name>webdav</servlet-name>  \n <url-pattern>/webdav/\\*</url-pattern>  \n</servlet-mapping># Redirections\n\nXWiki supports defining redirections for incoming requests. To activate this feature modify your xwiki.cfg file and set the following property: xwiki.preferences.redirect=1.  \nThen for each redirection you want to add, add a XWiki.GlobalRedirect object to your main wiki's XWiki.XWikiPreferences document. The XWiki.GlobalRedirect object has 2 fields: pattern and destination. The URL received is matched on pattern and if there's a match it's replaced with the value from destination. XWiki then redirects to the new URL.\n\n## Trusted domains\n\nBy default redirections are only allowed to the trusted domains of the wiki. Those trusted domains are coming from two sources:  \n\u00a0\u00a0- all domains used to access the wiki are trusted by definition, as well as the aliases used for subwikis,  \n\u00a0\u00a0- in xwiki.properties it's possible to specify the property url.trustedDomains to specify other domains that should be trusted.\n\nIn case a redirection is attempted on a domain not trusted, a warning is displayed in logs and the redirection is prevented.  \nNote that this whole mechanism can be switched off by settings url.trustedDomainsEnabled to false in xwiki.properties.\n\n# Customizing the PDF export Look & Feel\n\n* The default PDF export is now using the [client-side PDF Export Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/PDF%20Export%20Application/). The documentation below is for the older server-side PDF export (implemented with Apache FOP)\n## General Architecture\n\nHere's how the PDF and RTF exports currently work:  \n![XWikiExport201010290119.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/XWikiExport201010290119.png?rev=1.1)\n\nAs shown in the diagram you can customize 4 parts:\n\n* The templates, pdf.vm and the referenced subparts, pdfhtmlheader.vm, pdfheader.vm, pdffooter.vm, pdftoc.vm, pdfcover.vm, which can be overridden by a copy located in a custom skin\n* The CSS used to render the content as PDF/RTF. There is no pdf.css by default. It could be created in /templates or in a skin; a copy in a skin, override the one located in /templates\n* The XHTML2FO XSL transformation. The default one, [xhtml2fo.xsl](http://www.github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/resources/xhtml2fo.xsl), is packed in a core jar but it could be override by a new \u00a0one in a template or a xhtml2fo.xsl file in WEB-INF/classes directory, if customization needed.\n* The FOP XSL transformation. The default one, fop.xsl, is also packed in a core jar.\n\nAfter the export request triggers XWiki ExportAction, the content of your document is parsed by Velocity to get the initial XHTML content. **[JTidy](http://jtidy.sourceforge.net/)**, a HTML/XHTML syntax checker and pretty printer, will clean the initial XHTML to make it XHTML compliant. No customization is possible in this step.\n\nIn order to provide your own customization you need to start by tweaking the default templates (they can also be copied to a new skin) and/or by creating a new [XWiki Class](https://www.xwiki.org/xwiki/bin/view/Documentation/DevGuide/DataModel). To do that simply create a new page called *XWiki.PDFClass* and edit it in class mode (for ex. *http://yourserver.com/xwiki/bin/edit/XWiki/PDFClass?editor=class*). Add the following \"Text Area\" properties as needed (they are all optional so you only need to define the ones you need to use):\n\n* style: contains the CSS information that will overwrite or complement the default pdf.css values if they exist. **[css4j](https://css4j.github.io/)**, a CSS API implementation for the Java\u2122 platform, will take care of this.\n* xhtmlxsl: contains the XHTML to FO XSL overriding the default one. It is processed by **[Apache Xalan](http://xml.apache.org/xalan-j/)**, a XSLT processor for transforming XML documents into HTML, text, or other XML document types. This field needs to be the actual content of the customized xhtml2fo.xsl. Note that you can also use velocity in this field (useful to get the content of an attached .xsl file, which comes in very handy when you need to fill in a big file, since the limit of textarea properties is of 60 000 characters)\n* fopxsl: contains the FOP to PDF/RTF XSL overriding the default one. It is processed by **[Apache FOP](http://xmlgraphics.apache.org/fop/)**.\n\nThe name of the class must be XWiki.PDFClass.\n\nThe good thing about fop/xsl-fo is that the xsl-fo document is independent of the final result. So we can export the wiki documents into many formats.\n\nThen create a new page (say XWiki.PDFTemplate) and add the XWiki.PDFClass object to it.\n\nLast use that page when calling the PDF/RTF export using the pdftemplate parameter as in *http://yourserver/xwiki/bin/export/Space/Page?format=pdf&language=en&pdftemplate=XWiki.PDFTemplate*.\n\nNo template is used by default.\n\nAs mentioned the style property stores CSS code. The field is parsed by the Velocity engine, so you can use the [current color theme](https://extensions.xwiki.org/xwiki/bin/view/Extension/Color%20Theme%20Application#HUsingColorThemesvariables) to style your PDF. Also, you can insert page break in PDF file with *page-break-before* CSS instruction. For example:\n\n#template('colorThemeInit.vm')  \nh2 {  \n \u00a0\u00a0color: $theme.titleColor;  \n}  \n  \ntd {  \n \u00a0\u00a0border-color: $theme.borderColor;  \n}  \n  \nh1, .my\\_Page\\_break {  \n \u00a0page-break-before:always;  \n}  \n## Override the PDF Templates\n\n### Customize the PDF Footer\n\nBy default, the PDF footer will display the page number, the last author and the date on which the last modification was performed. In order to also display a customized message, the template pdffooter.vm must be overridden. To do that, edit the skin class (e.g. *http://yourserver/xwiki/bin/edit/XWiki/XWikiSkins?editor=class*) and add a \"TextArea\" object named pdffooter.vm:\n\n![OverridePDFFooter.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/OverridePDFFooter.png?rev=1.2)\n\nAfter adding the pdffooter.vm you might want to edit it (clicking on it opens a detailed editor) and e.g. give it a \"Pretty name\". In this editor, also set the \"Editor\" property to \"pure text\" as otherwise the WYSIWYG-Editor will be used:\n\n![OverridePDFFooterEdit1.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/OverridePDFFooterEdit1.png?rev=1.2)\n\nNext, edit the skin page (e.g. *http://yourserver/xwiki/bin/edit/XWiki/DefaultSkin?editor=object*) and add the following code to the pdffooter.vm property:\n\n$msg.Page <span class=\"page-number\"></span> - $msg.get('lastmodifiedby')  \n$xwiki.getUserName($tdoc.author, false)  \n$msg.get('lastmodifiedon')  \n$!xwiki.formatDate($tdoc.date)  \n<div>  \n<p>CustomName SAS. All rights reserved. Confidential and proprietary document. Printed Copies are not controlled.</p>  \n</div>To see the changes, just export any wiki page:\n\n![OverridePDFFooterFinal.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/OverridePDFFooterFinal.png?rev=1.2)\n\n### Customize the PDF Cover\n\nThis could be useful when you want for instance to add the company's logo to the PDF cover. In order to do this, the template pdfcover.vm must be overridden. Just like for the PDF header, a \"TextArea\" property named pdfcover.vm must be added to the XWiki.XWikiSkins class (e.g. *http://yourserver/xwiki/bin/view/XWiki/XWikiSkins?editor=class*).\n\n![OverridePDFCover.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/OverridePDFCover.png?rev=1.2)\n\nNext, edit the skin page (e.g. *http://yourserver/xwiki/bin/edit/XWiki/DefaultSkin?editor=object*) and add the following code to the pdfcover.vm property:\n\n<img src=\"$xwiki.getSkinFile(\"logo.png\")\"/>  \n  \n<div style=\"text-align: center; width: 100%;\">  \n<h1>  \n#set($title = \"$!pdfdoc.display('title', 'rendered')\")  \n#if($title == '')  \n \u00a0$escapetool.xml($!doc.displayTitle)  \n#else  \n \u00a0$escapetool.xml($title)  \n#end  \n</h1>  \n<br />  \n<br />  \n$!xwiki.getUserName($tdoc.author, false)  \n<br />  \n$!xwiki.formatDate($tdoc.date)  \n</div>The last step consists of attaching the image \"logo.png\" to the skin:\n\n![OverridePDFCoverFinal.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/OverridePDFCoverFinal.png?rev=1.2)\n\n### Override the CSS rules\n\nIn order to use your own template when exporting a page as PDF, you need to create a class in the XWiki space and name it PDFClass. Next, edit the page in \"Class\" mode (e.g. *http://yourserver/xwiki/bin/edit/XWiki/PDFClass?editor=class*) and add the following TextArea properties:\n\n* style: contains the CSS rules that will override the default pdf.css values; by default, there won't be a pdf.css file on your filesystem, but you can create it in the folder \\webapps\\xwiki\\templates\\ or specify it in your skin page\n* xhtmlxsl: contains the XHTML2FO XSL transformation that will override the default one\n* fopxsl: contains the FOP XSL transformation that will override the default one\n\nFor each property added, make sure to set the Content property metadata to PureText in order to not get the WYSIWYG editor which would make it complex to enter XML/XSL.\n\n![CreatePDFClass.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/CreatePDFClass.png?rev=1.2)\n\nThen, create the wiki page for which your want to customize the PDF export (e.g. XWiki.PDFTemplate) and add a \"XWiki.PDFClass\" object to it.\n\nSupposing your wiki page *Sandbox.TestPage1* contains a table, you have to edit it in \"Wiki\" mode and add a style parameter as shown below:\n\n(% class=\"mytable\" %)  \n|=Column 1|=Column 2  \n| data|dataNext, edit the template page (e.g. XWiki.PDFTemplate) in \"Objects\" mode and write your own CSS rules in the \"style\" property:\n\n![CreatePDFTemplate.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/CreatePDFTemplate.png?rev=1.2)\n\nBecause no template is used by default, you need to specify the pdftemplate parameter in the URL in order to use your own template: *http://yourserver/xwiki/bin/export/Sandbox/TestPage1/?format=pdf&pdftemplate=XWiki.PDFTemplate*.\n\n[![SandboxTestPage1PDF.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/SandboxTestPage1PDF.png?width=700&rev=1.2)](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/SandboxTestPage1PDF.png?rev=1.2)\n\n**Tip**: download the [PDF class](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/XWiki.PDFClass.xar?rev=1.1) and [PDF template](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/XWiki.PDFTemplate.xar?rev=1.1)for this example and test them on your wiki.\n\nEven though RTF export is expected to work the same way, there are still some isues to be solved affecting how CSS properties control the final layout.\n\nIf some CSS styling doesn't work on PDF export, you could check if CSS instruction is supported by XSL-FO on [Apache\u2122 FOP Compliance Page](https://xmlgraphics.apache.org/fop/compliance.html).  \nFurthermore, you can not use multiple attributes to select a CSS element (see issue: [XWIKI-14653](https://jira.xwiki.org/browse/XWIKI-14653)).\n\n### Override the xhtml2fo.xsl rules\n\nAs explained above, the entire code of [xhtml2fo.xsl](http://www.github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/resources/xhtml2fo.xsl) needs to be copied in the xhtmlxsl textarea and then customized.\n\nFor example, to disable the generation of clickable URLs in the PDF, modify the following section:\n\n\u00a0\u00a0<xsl:template match=\"html:a[@href]\" mode=\"transform\">  \n \u00a0\u00a0\u00a0<fo:basic-link xsl:use-attribute-sets=\"a-link\">  \n \u00a0\u00a0\u00a0\u00a0\u00a0<xsl:call-template name=\"process-a-link\"></xsl:call-template>  \n \u00a0\u00a0\u00a0</fo:basic-link>  \n \u00a0</xsl:template>as\n\n\u00a0\u00a0<xsl:template match=\"html:a[@href]\" mode=\"transform\">  \n \u00a0\u00a0\u00a0<fo:inline>  \n \u00a0\u00a0\u00a0\u00a0\u00a0<xsl:call-template name=\"process-a-link\"></xsl:call-template>  \n \u00a0\u00a0\u00a0</fo:inline>  \n \u00a0</xsl:template>or disable the generation of clickable URLs for some specific href links in the PDF\n\n\u00a0\u00a0<xsl:template match=\"html:a[@href]\" mode=\"transform\">  \n \u00a0\u00a0\u00a0<xsl:choose>  \n \u00a0\u00a0\u00a0\u00a0\u00a0<!-- disable these internal links (\"data-parent\" attribute start with \"#accordion\" or href is \"#my\\_anchor\") -->  \n \u00a0\u00a0\u00a0\u00a0\u00a0<xsl:when test=\"starts-with(@data-parent,'#accordion') or @href = '#my\\_anchor'\">  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<fo:inline>  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<xsl:call-template name=\"process-a-link\"></xsl:call-template>  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</fo:inline>  \n \u00a0\u00a0\u00a0\u00a0\u00a0</xsl:when>  \n \u00a0\u00a0\u00a0\u00a0\u00a0<xsl:otherwise>  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<fo:basic-link xsl:use-attribute-sets=\"a-link\">  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<xsl:call-template name=\"process-a-link\"></xsl:call-template>  \n \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</fo:basic-link>  \n \u00a0\u00a0\u00a0\u00a0\u00a0</xsl:otherwise>  \n \u00a0\u00a0\u00a0</xsl:choose>  \n \u00a0</xsl:template>### Debugging PDF export\n\nTo inspect contents of created XHTML file (and be able to style it) - turn on logging <xwiki>/xwiki/bin/view/AdminGuide/Logging and set *com.xpn.xwiki* level to *DEBUG*. After PDF export action, xwiki log file containing intermediates states XHTML code after theses lines:\n\nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Cleaning HTML: //(show XHTML code without style)//  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Cleaned XHTML:  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Applying the following CSS: //(show CSS properties)//  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- HTML with CSS applied: //(show HTML code with CSS properties merged in tag with \"style=\" )//  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Final XHTML for export:  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Intermediary XSL-FO: //(show document with eXtensible Stylesheet Language - Formatting Objects used to generate PDF files)//  \nDEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Final XSL-FO source:  \nand finally DEBUG c.x.x.p.i.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- PageSequence x-page-sequence generated 3 pages.# Configuring Wiki Syntaxes and default Syntax\n\nTo know how to configure the [Wiki syntaxes](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiSyntax/) that are available to the user when writing wiki pages, check the [Rendering Administration Application](https://extensions.xwiki.org/xwiki/bin/view/Extension/Rendering%20Administration%20Application/).\n\n# Title behavior\n\nThe following configuration parameters (found in xwiki.cfg) can be used to control title behavior:\n\n#-# Defines whether title handling should be using the compatibility mode or not. When the compatibility  \n#-# mode is active, XWiki will try to extract a title from the document content.  \n#-# If the document's content first header (level 1 or level 2) matches the document's title  \n#-# the first header is stripped.  \n#-# The default value is 0.  \n# xwiki.title.compatibility=1  \n  \n#-# Defines the maximum header depth to look for when computing a document's title from its content. If no header  \n#-# equal or lower to the specified depth is found then the computed title falls back to the document name.  \n#-# The default value is 2.  \n# xwiki.title.headerdepth=2  \n  \n#-# Defines if setting the title field must be mandatory in the WYSIWYG and Wiki editors. It is mandatory when this  \n#-# property is set to 1. The default value is 0 (not mandatory).  \n# xwiki.title.mandatory=0# Link Label Generation\n\nStarting with XWiki Syntax 2.0 it's possible to configure how labels are generated by the system when the user doesn't provide one (e.g. [[mywiki:Main.WebHome]]).\n\nHer's an extract from the xwiki.properties file which is where this feature is configurable:\n\n#-# Specifies how links labels are displayed when the user doesn't specify the label explicitly.  \n#-# Valid values:  \n#-# \u00a0\u00a0%w: wiki name  \n#-# \u00a0\u00a0%s: full space name (e.g. space1.space2)  \n#-# \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Note: Prior to 7.4.2/8.0M2 this was only displaying the last space name  \n#-# \u00a0\u00a0%ls: last space name. New in 7.4.2/8.0M2  \n#-# \u00a0\u00a0%p: page name  \n#-# \u00a0\u00a0%np: nested page name (i.e. will display the space name for Nested Pages). New in 7.4.2/8.0M2  \n#-# \u00a0\u00a0%P: page name with spaces between camel case words, i.e. \"My Page\" if the page name is \"MyPage\"  \n#-# \u00a0\u00a0%NP: nested page name with spaces between camel case words, i.e. \"My Page\" if the page name is \"MyPage\".  \n#-# \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0New in 7.4.2/8.0M2  \n#-# \u00a0\u00a0%t: page title  \n#-#  \n#-# Note that if the page title is empty or not defined then it defaults to %np. This is also the case  \n#-# if the title cannot be retrieved for the document.  \n#-#  \n#-# The default is \"%np\". Some examples: \"%s.%p\", \"%w:%s.%p\".  \n# rendering.linkLabelFormat = %np# Rendering Cache\n\nSee the [Performance page](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Performances/#HRenderingcache).\n\n# Allowed Pages for Inactive Users\n\nThe *xwiki.cfg* configuration file includes a property called xwiki.inactiveuser.allowedpages. This property can be used to build a whitelist of pages that can be read by inactive users. The format that should be used is a comma-separated list of pages that users that are marked as inactive are allowed to see.\n\nThis property is needed due to the fact that in XWiki, some users can be marked as inactive, for example when enabling user email verification in the administration. An inactive user has an account, but the account needs to be validated in order for the user to be able to access the wiki. Access rights do not apply to inactive users (they are recognized neither as XWikiGuest nor as members of XWikiAllGroup).\n\nInactive users are always allowed to see the *XWiki.AccountValidation* page in order to validate their account.\n\n# Rendering Transformations\n\nYou can control which [Transformations](https://rendering.xwiki.org/xwiki/bin/view/Main/Architecture) are active (by default the [Macro](https://rendering.xwiki.org/xwiki/bin/view/Main/Architecture) and [Icon](https://rendering.xwiki.org/xwiki/bin/view/Main/Transformations#HIconTransformation) ones are active by default) by editing xwiki.properties:\n\n#-# Controls what transformations will be executed when rendering content.  \n#-# A transformation modifies the parsed content. For example the Icon transformation replaces some characters with  \n#-# icons, a WikiWord transformation will automatically create links when it finds wiki words, etc.  \n#-# Note that the Macro transformation is a special transformation that replaces macro markers by the result of the  \n#-# macro execution. If you don't list it, macros won't get executed.  \n#-# The default value is: rendering.transformations = macro, iconFor example if you wish to turn off the Icon Transformation in order to not render emoticons, you'd have to define the following property: rendering.transformations = macro.\n\n# Macros categories and visibility\n\nYou can override the default categories of a macro by editing xwiki.properties.\n\n#-# Overrides default macro categories (Each macro has default categories already defined, for example  \n#-# \"Navigation\" for the Table of Contents Macro).  \n#-# Note: the categories are case sensitive.  \n#-#  \n#-# Ex: To redefine the macro categories for the TOC macro so that it'd be in the \"My Category\" and \"Deprecated\"\u00a0  \n#-# categories + redefine the category for the Script Macro to be \"My Other Category\", you'd use:  \n# rendering.transformation.macro.categories = toc = My Category\\,Deprecated  \n# rendering.transformation.macro.categories = script = My Other CategoryYou can also configure the macro categories hidden by default by editing xwiki.properties.\n\n#-# Override the default hidden macro categories.  \n#-# Note: the categories are case sensitive.  \n#-#  \n#-# The default value is:  \n# rendering.transformation.macro.hiddenCategories = Internal,Deprecated  \n#-#  \n#-# For instance, to make the \"Development\" category hidden by default, in addition to the \"Internal\" and  \n#-# \"Deprecated\" categories, you'd use:  \n# rendering.transformation.macro.hiddenCategories = Development,Internal,Deprecated# Securing Groovy Scripts\n\nSee:\n\n* The [Commons Groovy Module](https://extensions.xwiki.org/xwiki/bin/view/Extension/GroovyModuleCommons)\n* The [Platform Groovy Module](https://extensions.xwiki.org/xwiki/bin/view/Extension/GroovyModulePlatform)\n\n# Lock Duration\n\nBy default, when a user starts editing a page, a lock will be set on that page, see [Page Editing](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing#HLocking). The lock is valid by default for 30 minutes, after which it gets invalidated.\n\nIn order to increase this duration, you have 2 options:\n\n* Add a property named lock\\_Timeout to your xwiki.cfg configuration file, and set the value in seconds (and restart XWiki). For example for 15 minutes: lock\\_Timeout = 900.\n* Or add the configuration in the wiki itself:\n\t+ Edit the XWiki.XWikiPreferences document using the class editor\n\t+ Add a Number property named lock\\_Timeout (case sensitive)\n\t+ Edit the XWiki.XWikiPreferences document using the object editor\n\t+ Find the lock\\_Timeout property and put the desired number of \\*seconds\\* a lock should be valid for\n\t+ Don't forget to save the document\n\n# Editing\n\n## Default editor\n\nYou can choose which default editor to use when editing wiki content (wiki or WYSIWYG editor). XWiki uses the following strategy when deciding which editor to use:\n\n1. If editing a [TextArea object property](https://www.xwiki.org/xwiki/bin/view/Documentation/DevGuide/DataModel/) and that property has explicitly specified a specific editor to be used to edit it, then that editor will be used. This is set when [using the Class editor](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/PageEditing#HClasseseditingmode). For example:![editor-class-property.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-class-property.png?rev=1.1)\n2. Then, if no property editor is defined, or if editing standard wiki content (like page content), XWiki will check if the [current user has configured an editor for a given content type](https://extensions.xwiki.org/xwiki/bin/view/Extension/Edit%20Module#HConfiguretheDefaultEditor) and if the current edited content is of that type, then that editor will be used. For example:![editor-content-user.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-content-user.png?rev=1.1)\n3. Then, if no property editor is defined, XWiki will check if the [current (nested) page has configured an editor for a given content type](https://extensions.xwiki.org/xwiki/bin/view/Extension/Edit%20Module#HConfiguretheDefaultEditor) and if the current edited content is of that type, then that editor will be used. For example:![editor-content-page.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-content-page.png?rev=1.1)\n4. Then, if no property editor is defined, XWiki will check if the [current wiki has configured an editor for a given content type](https://extensions.xwiki.org/xwiki/bin/view/Extension/Edit%20Module#HConfiguretheDefaultEditor) and if the current edited content is of that type, then that editor will be used. For example:![editor-content-wiki.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-content-wiki.png?rev=1.1)\n5. Then, if no property editor is defined, XWiki will check if there's a [configuration in xwiki.properties for a given content type](https://extensions.xwiki.org/xwiki/bin/view/Extension/Edit%20Module#HConfiguretheDefaultEditor) and if the current edited content is of that type, then that editor will be used. For example:edit.defaultEditor.org.xwiki.rendering.syntax.SyntaxContent=text\n6. Then, if no editor has been defined, XWiki will check if the current [user has defined a preferred editor to use](https://extensions.xwiki.org/xwiki/bin/view/Extension/User%20Module/User%20Profile%20Application/#HEditPreferences). For example:![editor-user.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-user.png?rev=1.1)\n7. Then, if no preferred editor to use has been defined for the current user, XWiki will check the default editor set up in the Page Administration (XWiki.XWikiPreferences of the page) . Could be set because of [XWIKI-17324](https://jira.xwiki.org/browse/XWIKI-17324). For example:![editor-space-preference-object.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-space-preference-object.png?rev=1.1)\n8. Then, if no editor has been defined, XWiki will check the [default editor set up in the Administration UI](https://extensions.xwiki.org/xwiki/bin/view/Extension/Administration%20Application#HEditing). For example:![editor-admin.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/editor-admin.png?rev=1.1)\n\n## Default WYSIWYG editor\n\nYou can configure the [default WYSIWYG editor to use](https://extensions.xwiki.org/xwiki/bin/view/Extension/CKEditor%20Integration/#HAdministrationSection).\n\nSee the [WYSIWYG Editor Configuration](https://extensions.xwiki.org/xwiki/bin/view/Extension/CKEditor%20Integration/#HConfiguretheEditor) page to find out how you can enable or disable editing features.\n\n## Section Editing\n\nBy default section editing is limited to level 1 and level 2 sections. This can be controlled by editing xwiki.cfg:\n\n#-# This parameter controls the depth of sections that have section editing.  \n#-# By default level 1 and level 2 sections have section editing.  \nxwiki.section.depth=2You can also enable/disable section editing with:\n\n#-# This parameter will activate the sectional editing.  \nxwiki.section.edit=1## Editing Conflicts\n\nThe [Edit Conflict feature](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/) can be disabled (XWiki 11.3.2 and XWiki 11.6RC1) from the xwiki.properties file by setting edit.conflictChecking.enabled = false:\n\n#-# Indicate if the mechanism to detect and handle edition conflicts should be enabled or not.  \n#-# If disabled, it means that in case of edition conflicts, the latest save will be always take into account, and  \n#-# erase previous data (which can always be recovered in the history of the document).  \n#-# This option is provided because the feature is still experimental and it could be useful is some specific usecases  \n#-# to switch it off. However it is not recommended to do so.  \n#-#  \n#-# The default is:  \n# edit.conflictChecking.enabled = true## In-place Editing\n\nTo disable the in-place WYSIWYG editing mode (and thus default to the Standalone WYSIWYG editing mode), modify the xwiki.properties file and set edit.document.inPlaceEditing.enabled = false:\n\n#-# Indicate if the XWiki documents should be edited in-place, without leaving the view mode, whenever possible (e.g. if  \n#-# the default edit mode for that document and the preferred editor both support in-place editing). When enabled,  \n#-# clicking on the document Edit button makes the document title and content editable in-place, without leaving the  \n#-# view mode. When disabled, clicking on the document Edit button loads the default (stand-alone) edit mode for that  \n#-# document.  \n#-#  \n#-# The default is:  \n# edit.document.inPlaceEditing.enabled = true# Delete Pages\n\nThis section is hidden when the [recycle bin is not activated](https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/#HDocumentrecyclebin).\n\n## Enabling Advanced users to skip the recycle bin\n\nAdvanced users can be allowed choose if they want to skip the recycle bin (and remove the pages permanently) when deleting pages.\n\nTo do so, search for the \"Delete\" section and set \"can skip the recycle bin\" to Yes. The default value is No.\n\n![skip_recycle_bin_admin_cropped.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/skip_recycle_bin_admin_cropped.png?rev=1.1)\n\nAdvanced users can be allowed choose if they want to skip the recycle bin (and remove the pages permanently) when deleting pages.\n\nTo do so, search for the \"Delete\" section and set \"can skip the recycle bin\" to Yes. The default value is No.\n\n![skip_recycle_bin_admin_cropped.png](https://www.xwiki.org/xwiki/bin/download/Documentation/AdminGuide/Configuration/WebHome/skip_recycle_bin_admin_cropped.png?rev=1.1)\n\nThe configuration is resolved by looking in three locations, from the most specific to the least specific:\n\n* In the configuration of the current wiki\n* In the configuration of the main wiki\n* In xwiki.properties (see the property details below)\n\nIf the default value is found on one location, the next one is tried. If no value is found, the recycle bin skipping is not activated.\n\nDetails of the configuration on xwiki.properties:\n\n#-# Indicates whether skipping the recycle bin when deleting pages is allowed for Advanced users.  \n#-# It is disabled by default.  \n#-# This setting is only used if the wiki has a recycle bin activated (xwiki.recyclebin=1 in xwiki.cfg).  \n#-# This setting can be overloaded:  \n#-# \\* By the main wiki in the Refactoring.Code.RefactoringConfigurationClass class of the  \n#-# \u00a0\u00a0Refactoring.Code.RefactoringConfiguration document of the main wiki.  \n#-# \\* By sub-wikis in the Refactoring.Code.RefactoringConfigurationClass class of the  \n#-# \u00a0\u00a0Refactoring.Code.RefactoringConfiguration document of the sub-wikis (itself overloading the main wiki's  \n#-# \u00a0\u00a0configuration).  \n#-#  \n#-# The default value is:  \n# refactoring.isRecycleBinSkippingActivated = false# Sample xwiki.cfg\n\nSee [xwiki.cfg.vm](http://www.github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.cfg.vm)\n\nNote that we generate the default xwiki.cfg file from this template file by applying Velocity on it during the build, so all $<something> properties that you see in this file are replaced at build time.\n\n# Sample xwiki.properties\n\nSee [xwiki.properties.vm](http://www.github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.properties.vm)\n\nNote that we generate the default xwiki.properties file from this template file by applying Velocity on it during the build, so all $<something> properties that you see in this file are replaced at build time.\n\n\n"}