{"id": "dev:IRC.xwikiArchive20130503", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130503", "title": "IRC Archive for channel #xwiki on 03 May 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sdumitriu1>\u00a0has quit  \n00:27\u00a0<Slashman>\u00a0has quit  \n03:09\u00a0<AndreasJonsson>\u00a0has quit  \n03:10\u00a0<AndreasJonsson>\u00a0has joined #xwiki  \n03:19\u00a0<xwikibot>\u00a0has joined #xwiki  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n05:03\u00a0<huhongbo>\u00a0has joined #xwiki  \n05:51\u00a0<kstuart>\u00a0has quit  \n05:51\u00a0<Denis>\u00a0has quit  \n05:53\u00a0<kstuart>\u00a0has joined #xwiki  \n06:42\u00a0<npm\\_>\u00a0has quit  \n08:11\u00a0<vmassol>\u00a0has joined #xwiki  \n08:44\u00a0<npm\\_>\u00a0has joined #xwiki  \n08:50\u00a0<Denis>\u00a0has joined #xwiki  \n09:33\u00a0<sburjan>\u00a0has quit  \n09:36\u00a0<sburjan>\u00a0has joined #xwiki  \n09:56\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:03\u00a0<sdumitriu>\u00a0has quit  \n10:03\u00a0<npm\\_>\u00a0has quit  \n10:04\u00a0<npm\\_>\u00a0has joined #xwiki  \n10:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n10:15\u00a0<tmortagne>\u00a0has quit  \n10:27\u00a0<huhongbo>\u00a0has quit  \n10:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:32\u00a0<tdelafosse>\u00a0has joined #xwiki  \n10:38\u00a0<vmassol>\u00a0good morning  \n10:38\u00a0<vmassol>\u00a0creating ci jobs for andreas's branch  \n10:54\u00a0<evalica>\u00a0has joined #xwiki  \n11:00\u00a0<vmassol>\u00a0ok done but I think it's going to cause some problems  \n11:00\u00a0<vmassol>\u00a0since it has a 4.5-SNAPSHOT version in its pom on this branch  \n11:01\u00a0<vmassol>\u00a0we're going to get 4.5-SNAPSHOT artifacts published on our snapshot repo  \n11:01\u00a0<vmassol>\u00a0:(  \n11:01\u00a0<vmassol>\u00a0instead of the release 4.5-SNAPSHOT from the 4.5.x branch  \n11:02\u00a0<vmassol>\u00a0I'm not sure what's our best solution to handle this....  \n11:02\u00a0<vmassol>\u00a0I can think of 2 solutions  \n11:02\u00a0<vmassol>\u00a0solution 1: configure the jobs to publish in a special isolated repo  \n11:03\u00a0<vmassol>\u00a0solution 2: change the versions in all the poms for that branch  \n11:04\u00a0<tmortagne>\u00a0vmassol: we generally change the version for use cases like this  \n11:04\u00a0<vmassol>\u00a0which means changing them again when the branch is merged later on  \n11:04\u00a0<tmortagne>\u00a0yes  \n11:05\u00a0<tmortagne>\u00a0which is why don't don't do this very often...  \n11:05\u00a0<tmortagne>\u00a0s/don't don't/we don't don't/  \n11:05\u00a0<tmortagne>\u00a0s/don't don't/don't/  \n11:06\u00a0<vmassol>\u00a0we can define a \"Maven Settings Configs\" per job  \n11:07\u00a0<vmassol>\u00a0that will allow us to publish in a different repo and we could also put this repo before the general nexus one for the download part  \n11:08\u00a0<vmassol>\u00a0slightly complex but could work  \n11:08\u00a0<vmassol>\u00a0for now i'm going to only enable manual triggers for the jobs for this branch so that we can control it  \n11:09\u00a0<vmassol>\u00a0done  \n11:10\u00a0<tdelafosse>\u00a0has quit  \n11:10\u00a0<tmortagne>\u00a0note that having 4.5-SNAPSHOT stuff deployed is not a big deal either since we don't use it anymore, the current 4.5 branch version is 4.5.4-SNAPSHOT  \n11:11\u00a0<vmassol>\u00a0good point  \n11:11\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:11\u00a0<vmassol>\u00a0with the new strategy it makes this simpler ;)  \n11:11\u00a0<tmortagne>\u00a0used to be a pain but should be ok now  \n11:11\u00a0<vmassol>\u00a0yep  \n11:11\u00a0<tmortagne>\u00a0but it's possible nexus remove your articfacts  \n11:11\u00a0<tmortagne>\u00a0I don't remember how it's configured exactly  \n11:11\u00a0<vmassol>\u00a0but  \n11:11\u00a0<vmassol>\u00a0there's a problem  \n11:11\u00a0<vmassol>\u00a0the goal is to merge master on this branch  \n11:12\u00a0<vmassol>\u00a0thus the version in this branch will be 5.1-SNAPSHOT real soon  \n11:12\u00a0<vmassol>\u00a0(just waiting for tdelafosse to perform the merge)  \n11:12\u00a0<tmortagne>\u00a0ideally master you be merged in that branch right now and the version changed to not collide with master on maven repositories  \n11:13\u00a0<tmortagne>\u00a0s/you/should/  \n11:13\u00a0<vmassol>\u00a0yes  \n11:13\u00a0<vmassol>\u00a0that's solution 2 above  \n11:13\u00a0<tmortagne>\u00a0changing version sounds easier to me than setup a custom isolated maven repository  \n11:13\u00a0<vmassol>\u00a0probabmy  \n11:13\u00a0<vmassol>\u00a0tdelafosse: can you do this after you've done the merge?  \n11:14\u00a0<vmassol>\u00a0a global replace in your IDE should be good enough  \n11:14\u00a0<tmortagne>\u00a0we do that all the time when we create new stable branches  \n11:14\u00a0<vmassol>\u00a0yep  \n11:15\u00a0<tmortagne>\u00a0not too global since he will still use the same common version (I guess it's a platform branch only)  \n11:15\u00a0<tmortagne>\u00a0note that if we want to fully test it we will probably also need XE/XEM branches  \n11:15\u00a0<vmassol>\u00a0indeed  \n11:15\u00a0<vmassol>\u00a0tmortagne: no need  \n11:15\u00a0<vmassol>\u00a0I've configured the jobs properly  \n11:16\u00a0<tmortagne>\u00a0which mean ?  \n11:16\u00a0<vmassol>\u00a0hmm indeed we'll still have the version issue though  \n11:16\u00a0<tdelafosse>\u00a0vmassol : Ok, I would do it  \n11:16\u00a0<tmortagne>\u00a0XE need to be build with the right platform version  \n11:16\u00a0<tmortagne>\u00a0I don't see how you can setup jenkins for this  \n11:16\u00a0<vmassol>\u00a0yes with the version change we also need branches for enterprise and manager  \n11:17\u00a0<vmassol>\u00a0and update the jobs I've created  \n11:17\u00a0<vmassol>\u00a0with the custom repo solution that wouldn't be needed  \n11:17\u00a0<tmortagne>\u00a0but no need to deploy XE probably, a single job for XE with build and test should be enough  \n11:18\u00a0<tmortagne>\u00a0actually we need to deploy it for XEM tests but it's not critical IMO to execute XEM test on this branch  \n11:20\u00a0<vmassol>\u00a0well the jobs are already there  \n11:21\u00a0<tmortagne>\u00a0sure but if we don't execute XEM test no need to change XE version since we don't need to deploy it  \n11:21\u00a0<vmassol>\u00a0\"all\" that's needed is to create the 2 branches + update them to change the branch from \"master\" to the new branch  \n11:21\u00a0<vmassol>\u00a0tmortagne: tehre'll still be an issue  \n11:21\u00a0<vmassol>\u00a0on the agent the local repo will be messed up  \n11:21\u00a0<tmortagne>\u00a0no  \n11:22\u00a0<tmortagne>\u00a0you can use package instead of install  \n11:22\u00a0<tmortagne>\u00a0or just test  \n11:22\u00a0<vmassol>\u00a0nope  \n11:22\u00a0<tmortagne>\u00a0need to check what goals we need  \n11:22\u00a0<vmassol>\u00a0package don't run tests  \n11:22\u00a0<vmassol>\u00a0http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html  \n11:22\u00a0<tmortagne>\u00a0sure but iit's not an issue  \n11:22\u00a0<vmassol>\u00a0integration tests I mean  \n11:22\u00a0<tmortagne>\u00a0you can put several goal  \n11:22\u00a0<tmortagne>\u00a0like we put clean and install  \n11:22\u00a0<vmassol>\u00a0what you can call though is verify  \n11:23\u00a0<vmassol>\u00a0but it won't work  \n11:23\u00a0<vmassol>\u00a0I think  \n11:23\u00a0<vmassol>\u00a0not sure  \n11:23\u00a0<tmortagne>\u00a0it will also make the build a lot quicker to not copy all these big packages  \n11:23\u00a0<tmortagne>\u00a0without talking about deploying them  \n11:29\u00a0<tmortagne>\u00a0we still have to decide what to do about XWIKI-9096  \n11:32\u00a0<tmortagne>\u00a0all the solution I can think of require quite some refactoring  \n11:34\u00a0<vmassol>\u00a0I have the feeling the custom settings.xml might be the simplest solution actually\u2026. could be interesting to try it out to see how well it works  \n11:36\u00a0<vmassol>\u00a0ahah there's a new jenkins LTS btw: http://jenkins-ci.org/changelog-stable  \n13:46\u00a0<tdelafosse>\u00a0has quit  \n14:01\u00a0<tdelafosse>\u00a0has joined #xwiki  \n14:25\u00a0<Slashman>\u00a0has joined #xwiki  \n14:51\u00a0<Slashman>\u00a0has quit  \n15:04\u00a0<jbwiv\\_>\u00a0has quit  \n15:13\u00a0<Slashman>\u00a0has joined #xwiki  \n15:26\u00a0<vmassol>\u00a0spam time is over  \n15:26\u00a0<vmassol>\u00a0:)  \n15:26\u00a0<vmassol>\u00a0we're all done  \n15:26\u00a0<vmassol>\u00a0xoffice and xeclipse have been moved  \n16:27\u00a0<vmassol>\u00a0tmortagne: when do we release 5.0 final? :)  \n16:27\u00a0<tmortagne>\u00a0we we won't have blocker...  \n16:38\u00a0<tmortagne>\u00a0updated migration note, I can start the release now if nobody against it  \n16:39\u00a0<vmassol>\u00a0tmortagne: you found a solution for the workspace translartion issue?  \n16:39\u00a0<tmortagne>\u00a0no  \n16:39\u00a0<tmortagne>\u00a0that's why I update migration note  \n16:39\u00a0<tmortagne>\u00a0there is no quick solution  \n16:40\u00a0<vmassol>\u00a0it's an issue only for old installs?  \n16:40\u00a0<vmassol>\u00a0(I haven't followed the details)  \n16:41\u00a0<tmortagne>\u00a0it's an issue when you upgrade from pre 5.0 version  \n16:41\u00a0<vmassol>\u00a0ok so we'll have quite a lot of people having the problem  \n16:41\u00a0<tmortagne>\u00a0pretty much everyone  \n16:41\u00a0<vmassol>\u00a0ok let's release 5.0 final now  \n16:42\u00a0<vmassol>\u00a0and we can brainstorm after to find a solution either in 5.1 or in 5.0.1  \n16:42\u00a0<vmassol>\u00a0we're already very very late for 5.0  \n16:42\u00a0<tmortagne>\u00a0yes  \n16:57\u00a0<tmortagne>\u00a0starting the release in 10 minutes  \n16:57\u00a0<tmortagne>\u00a0(5.0 release)  \n17:02\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n17:08\u00a0<Buddhi>\u00a0has joined #xwiki  \n17:10\u00a0<tmortagne>\u00a0release started  \n17:31\u00a0<rafaelav>\u00a0has joined #xwiki  \n18:23\u00a0<vmassol>\u00a0ok feature-url branch merged  \n18:23\u00a0<vmassol>\u00a0hope I didn't break too many things :)  \n18:23\u00a0<North>\u00a0has joined #xwiki  \n18:24\u00a0<diamond>\u00a0has joined #xwiki  \n18:27\u00a0<diamond>\u00a0https://google-melange.appspot.com/gsoc/proposal/review/google/gsoc2013/pratyusha8/1  \n18:27\u00a0<sdumitriu1>\u00a0Hi diamond  \n18:27\u00a0<diamond>\u00a0i have uploaded my proposal ..the above is the link ..plz review it..:)  \n18:28\u00a0<sdumitriu1>\u00a0Please be patient, the mentors will provide feedback once they have time to read it  \n18:28\u00a0<diamond>\u00a0ok sure  \n18:40\u00a0<evalica>\u00a0has quit  \n18:58\u00a0<North>\u00a0has left #xwiki  \n19:21\u00a0<Slashman>\u00a0has quit  \n19:26\u00a0<npm\\_>\u00a0is now known as <npm>  \n19:27\u00a0<abusenius>\u00a0has joined #xwiki  \n19:31\u00a0<rafaelav>\u00a0has quit  \n19:35\u00a0<rafaelav>\u00a0has joined #xwiki  \n19:44\u00a0<Buddhi>\u00a0has quit  \n19:48\u00a0<rafaelav>\u00a0has quit  \n19:57\u00a0<tdelafosse>\u00a0has quit  \n20:43\u00a0<sburjan>\u00a0vmassol: ther are some JIRA macro failures on the 5.0 RN  \n20:58\u00a0<tmortagne>\u00a0sburjan: where ? was working well before I start the release  \n20:58\u00a0<tmortagne>\u00a0seems ok for me now  \n21:00\u00a0<tmortagne>\u00a0tested with guest and still don't find any error in the RN page  \n21:00\u00a0<tmortagne>\u00a0sburjan ?  \n21:20\u00a0<diamond>\u00a0how many students applied for GSoC for XWiki?  \n21:21\u00a0<North>\u00a0has joined #xwiki  \n21:21\u00a0<North>\u00a0GSoC student proposal period ends...  \n21:22\u00a0<sburjan>\u00a0vmassol: works now  \n21:22\u00a0<sburjan>\u00a0tmortagne: works now  \n21:28\u00a0<sdumitriu1>\u00a0diamond: 20  \n21:29\u00a0<diamond>\u00a0and how many for for live notifications for xwiki?  \n21:29\u00a0<sdumitriu1>\u00a02  \n21:29\u00a0<diamond>\u00a0how many slots are alloted for xwiki?  \n21:30\u00a0<sdumitriu1>\u00a0We don't know yet  \n21:30\u00a0<North>\u00a0slots will be decided based on the quality of the proposal  \n21:31\u00a0<North>\u00a0diamond: wait till the results are out  \n21:31\u00a0<diamond>\u00a0ohh thank u for the info..:)  \n21:36\u00a0<tmortagne>\u00a0has quit  \n21:43\u00a0<marc\\_\\_>\u00a0has joined #xwiki  \n21:43\u00a0<marc\\_\\_>\u00a0hello  \n21:43\u00a0<North>\u00a0has left #xwiki  \n21:43\u00a0<qwebirc6879>\u00a0has joined #xwiki  \n21:46\u00a0<sdumitriu1>\u00a0Hi marc\\_\\_  \n21:47\u00a0<marc\\_\\_>\u00a0hello weird behaviour. I can't get my logo resolved.  \n21:47\u00a0<sdumitriu1>\u00a0marc\\_\\_: It's probably set in the color theme  \n21:47\u00a0<sdumitriu1>\u00a0Go edit that one  \n21:48\u00a0<marc\\_\\_>\u00a0[http://localhost:8080/bin/download/XWiki/DefaultSkin/logo.jpg?width=160] \u00a0\u00a0- Failed to transform image attachment.  \n21:48\u00a0<marc\\_\\_>\u00a0com.xpn.xwiki.XWikiException: Error number 3002 in 3: The attachment could not be found in the filesystem attachment store.  \n21:48\u00a0<sdumitriu1>\u00a0Oh  \n21:48\u00a0<sdumitriu1>\u00a0I see  \n21:48\u00a0<marc\\_\\_>\u00a0links detects a cyclic redirect.  \n21:48\u00a0<marc\\_\\_>\u00a0heard of that before?  \n21:48\u00a0<sdumitriu1>\u00a0If you remove ?width=160 from the URL, does it work?  \n21:49\u00a0<marc\\_\\_>\u00a0no same  \n21:49\u00a0<sdumitriu1>\u00a0Hm  \n21:49\u00a0<sdumitriu1>\u00a0Did you enable filesystem attachment storage?  \n21:49\u00a0<marc\\_\\_>\u00a0yes  \n21:49\u00a0<marc\\_\\_>\u00a0everything works fine otherwise, from the filesystem  \n21:50\u00a0<sdumitriu1>\u00a0Did you do that before or after importing the default UI?  \n21:50\u00a0<marc\\_\\_>\u00a0after  \n21:51\u00a0<sdumitriu1>\u00a0OK, then you have to do one of the following:  \n21:51\u00a0<sdumitriu1>\u00a0- import the UI again  \n21:51\u00a0<sdumitriu1>\u00a0- or use the attachment porter  \n21:51\u00a0<marc\\_\\_>\u00a0I did use the attachment porter  \n21:51\u00a0<sdumitriu1>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Filesystem+Attachment+Porter  \n21:51\u00a0<sdumitriu1>\u00a0Hm, no success?  \n21:51\u00a0<marc\\_\\_>\u00a0fixed the images in the UI, but I still have some trouble with the logo that I setup  \n21:52\u00a0<marc\\_\\_>\u00a0I can see it in the filesystem  \n21:52\u00a0<marc\\_\\_>\u00a0so it is stored OK  \n21:52\u00a0<sdumitriu1>\u00a0Can you attach it again?  \n21:53\u00a0<marc\\_\\_>\u00a0I am now running XWiki as root in Tomcat behind nginx. Not sure about the cyclic redirect. What is Tomcat trying to do, if not fetching my attachment?  \n21:53\u00a0<sdumitriu1>\u00a0Does the redirect problem affect only the logo?  \n21:53\u00a0<diamond>\u00a0has quit  \n21:54\u00a0<marc\\_\\_>\u00a0actually the link https://54.235.199.253/bin/download/XWiki/DefaultSkin/logo.jpg?width=160 works fine from the browser.  \n21:54\u00a0<marc\\_\\_>\u00a0first time I see this redirect problem  \n21:54\u00a0<sdumitriu1>\u00a0The 54 IP goes back to localhost?  \n21:54\u00a0<sdumitriu1>\u00a0Or is that a different server?  \n21:55\u00a0<marc\\_\\_>\u00a0the 54 IP is the external IP, nginx forwards it to Tomcat on port 8080  \n21:56\u00a0<sdumitriu1>\u00a0Maybe some misconfiguration in nginx  \n21:57\u00a0<marc\\_\\_>\u00a0Looking at logs the issue is from \u00a0c.x.x.p.i.ImagePlugin \u00a0; PDF export does not work. The link however works from the browser.  \n22:20\u00a0<marc\\_\\_>\u00a0any pointers to configure PDF export? I'll start with that  \n22:22\u00a0<sdumitriu1>\u00a0Oh, that's hard...  \n22:22\u00a0<marc\\_\\_>\u00a0:-)  \n22:23\u00a0<marc\\_\\_>\u00a0I found that page that does not look too old http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Configuration#HCustomizingthePDFexportLook26Feel  \n22:23\u00a0<marc\\_\\_>\u00a0nice diagram  \n22:24\u00a0<sdumitriu1>\u00a0Yep, that's good  \n22:33\u00a0<sdumitriu1>\u00a0has quit  \n22:34\u00a0<vmassol>\u00a0has quit  \n22:38\u00a0<ekarlso>\u00a0has quit  \n22:39\u00a0<ekarlso>\u00a0has joined #xwiki  \n23:20\u00a0<ekarlso>\u00a0has quit  \n23:24\u00a0<marc\\_\\_>\u00a0has quit  \n23:26\u00a0<ekarlso>\u00a0has joined #xwiki  \n23:27\u00a0<qwebirc6879>\u00a0has quit  \n23:32\u00a0<sburjan>\u00a0has quit  \n23:41\u00a0<abusenius>\u00a0has quit  \n23:41\u00a0<sburjan>\u00a0has joined #xwiki  \n23:50\u00a0<abusenius>\u00a0has joined #xwiki  \n23:55\u00a0<abusenius>\u00a0has quit\n"}