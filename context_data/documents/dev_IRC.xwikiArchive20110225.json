{"id": "dev:IRC.xwikiArchive20110225", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110225", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:14\u00a0<evalica>\u00a0has quit  \n01:05\u00a0<Enygma`>\u00a0has quit  \n01:56\u00a0<tcamberlin>\u00a0has quit  \n02:19\u00a0<venkatesh>\u00a0has quit  \n03:40\u00a0<venkatesh>\u00a0has joined #xwiki  \n03:45\u00a0<Denis1>\u00a0has joined #xwiki  \n03:45\u00a0<Denis>\u00a0has quit  \n03:45\u00a0<venkatesh>\u00a0has quit  \n04:32\u00a0<abusenius>\u00a0has quit  \n06:04\u00a0<Denis1>\u00a0has quit  \n06:08\u00a0<Denis1>\u00a0has joined #xwiki  \n06:15\u00a0<DrLou>\u00a0has quit  \n06:30\u00a0<sdumitriu>\u00a0has quit  \n08:03\u00a0<vmassol>\u00a0has joined #xwiki  \n08:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:25\u00a0<mflorea>\u00a0has joined #xwiki  \n08:34\u00a0<vmassol>\u00a0good morning, quick question regarding rendering top level move  \n08:34\u00a0<vmassol>\u00a0I'm still on holidays and don't have much time right now which means it'll be next Monday when I can start working on it actively  \n08:34\u00a0<vmassol>\u00a0however that's 3.0M3's release date  \n08:34\u00a0<vmassol>\u00a0so is it ok to do this move while in RC1?  \n08:35\u00a0<vmassol>\u00a0(I think it's safe since we're not changing code, just moving stuff around)  \n08:35\u00a0<vmassol>\u00a0ok sending mail  \n08:38\u00a0<+tmortagne>\u00a0+1  \n08:39\u00a0<+tmortagne>\u00a0it's a good timing to annonce it with XE 3.0  \n08:45\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n08:45\u00a0<sburjan`>\u00a0has quit  \n08:45\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n08:48\u00a0<jstoldt>\u00a0has joined #xwiki  \n09:02\u00a0<mflorea>\u00a0has quit  \n09:06\u00a0<jstoldt>\u00a0oh, good morning (btw)  \n09:08\u00a0<mflorea>\u00a0has joined #xwiki  \n09:50\u00a0<arkub>\u00a0has joined #xwiki  \n09:59\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:13\u00a0<sburjan>\u00a0has joined #xwiki  \n10:19\u00a0<evalica>\u00a0has joined #xwiki  \n10:24\u00a0<jstoldt>\u00a0meh, using the 2.1 link syntax for queryStrings and anchors really is a bit of a pain, to be honest with you...  \n10:26\u00a0<@cjdelisle>\u00a0Would you prefer it to have been synchronized with the url standard? ie using # and ? instead of || and queryString?  \n10:26\u00a0<jstoldt>\u00a0well, that's how it is in 2.0 which is quicker and easier to write  \n10:27\u00a0<jstoldt>\u00a0but i see the point in changing it  \n10:27\u00a0<jstoldt>\u00a0i think page names with ? are not possible in 2.0 syntax without triggering query strings...  \n10:27\u00a0<@cjdelisle>\u00a0The increased lerning curve was something that had concerned me but I was alone in that concern and I am not a user.  \n10:28\u00a0<@cjdelisle>\u00a0\\*learning  \n10:28\u00a0<jstoldt>\u00a0well, it's not hard to understand  \n10:28\u00a0<jstoldt>\u00a0it's just that it's a little more work  \n10:28\u00a0<jstoldt>\u00a0because you can't just C&P any more  \n10:28\u00a0<jstoldt>\u00a0you have to edit the C&P  \n10:29\u00a0<mflorea>\u00a0has quit  \n10:29\u00a0<@cjdelisle>\u00a0noted, thanks for the feedback  \n10:29\u00a0<vmassol>\u00a0jstoldt: you should send that to the list  \n10:29\u00a0<jstoldt>\u00a0you're welcome :)  \n10:29\u00a0<vmassol>\u00a0(I'm on holidays)  \n10:29\u00a0<jstoldt>\u00a0yeah, i figured by you being here ;) :-P  \n10:30\u00a0<jstoldt>\u00a0i'll try to send the feedback later if i manage... it's a bit of a busy day for me... about to finish up here and then it's good bye to being an internee  \n10:40\u00a0<vmassol>\u00a0jstoldt: copy & paste works just fine  \n10:40\u00a0<vmassol>\u00a0[[label>>c&p here]]  \n10:40\u00a0<jstoldt>\u00a0also with ?  \n10:40\u00a0<vmassol>\u00a0since url are supported  \n10:41\u00a0<vmassol>\u00a0of course  \n10:41\u00a0<vmassol>\u00a0(for urls)  \n10:41\u00a0<jstoldt>\u00a0yeah, i am copy pasting wiki links  \n10:41\u00a0<vmassol>\u00a0from where do you copy?  \n10:41\u00a0<jstoldt>\u00a0so i open the page, copy the url, remove everything up to the space  \n10:41\u00a0<vmassol>\u00a0ok so it's not a copy paste!  \n10:41\u00a0<jstoldt>\u00a0and replace the next / by .  \n10:41\u00a0<jstoldt>\u00a0yeah, not entirely ;)  \n10:42\u00a0<vmassol>\u00a0what you need  \n10:42\u00a0<jstoldt>\u00a0i just like to do things relational within the wiki, for apparent reasons  \n10:42\u00a0<vmassol>\u00a0is what we want to introduce  \n10:42\u00a0<vmassol>\u00a0called  \n10:42\u00a0<vmassol>\u00a0\"live helpers\"  \n10:42\u00a0<jstoldt>\u00a0sounds fancy  \n10:42\u00a0<vmassol>\u00a0or something like that ;)  \n10:42\u00a0<vmassol>\u00a0let me get you a url  \n10:42\u00a0<@cjdelisle>\u00a0maybe it would be nice to have a spot to click and get a wiki formatted link to any page.  \n10:42\u00a0<jstoldt>\u00a0that'd be nice, indeed  \n10:43\u00a0<@cjdelisle>\u00a0Like the location bar except it provides an absolute wikilink  \n10:43\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-206  \n10:43\u00a0<+tmortagne>\u00a0vmassol: since you are here, you forgot to claim https://www.ohloh.net/p/wikimodel/contributors/107969035373561 ;)  \n10:44\u00a0<vmassol>\u00a0tmortagne: ah thanks  \n10:44\u00a0<vmassol>\u00a0didn't know I had to claim them  \n10:45\u00a0<+tmortagne>\u00a0well you have to assiciate it to your account  \n10:45\u00a0<+tmortagne>\u00a0otheriwse it does not know it's you  \n10:45\u00a0<+tmortagne>\u00a0(even if agree it \u00a0could guess it given the login ;))  \n10:45\u00a0<vmassol>\u00a0I see a lot of them : https://www.ohloh.net/search?q=vmassol  \n10:46\u00a0<vmassol>\u00a0didn't know we added xwiki watch too :https://www.ohloh.net/p/xwatch  \n10:46\u00a0<vmassol>\u00a0strange  \n10:46\u00a0<@cjdelisle>\u00a0live helpers may be nice, may be unused, would likely need focus grouping to know. I think an xwiki location bar would be a sure winner. I think I will open an idea issue for it.  \n10:47\u00a0<@cjdelisle>\u00a0I know I have converted links before and thought \"wouldn't it be nice...\"  \n10:50\u00a0<jstoldt>\u00a0^^  \n10:50\u00a0<vmassol>\u00a0tmortagne: thanks, I've claimed them all now :)  \n10:50\u00a0<+tmortagne>\u00a0now they have nice pictures ;)  \n10:52\u00a0<vmassol>\u00a0their stats are a bit off though\u2026. 94 commits for cargo!  \n10:52\u00a0<vmassol>\u00a0that was the minimum I was doing per day! :)  \n10:52\u00a0<vmassol>\u00a0https://www.ohloh.net/accounts/vmassol/positions  \n10:52\u00a0<vmassol>\u00a0ah yes I remember I posted a message on https://www.ohloh.net/p/cargo  \n10:53\u00a0<vmassol>\u00a0\"Do not believe the statistics you see!\"  \n10:53\u00a0<vmassol>\u00a0\"The Cargo project has reorganized its SVN about 1 month ago and as a consequence, Ohloh cannot find any prior history.  \n10:53\u00a0<vmassol>\u00a0The project was started in 2004 and has over 14 committers.\"  \n10:53\u00a0<vmassol>\u00a0hehe  \n10:53\u00a0<evalica>\u00a0has quit  \n10:53\u00a0<+tmortagne>\u00a0maybe you can add the new svn to the project or create another project on ohloh  \n10:54\u00a0<+tmortagne>\u00a0s/new/old new/ ;)  \n11:05\u00a0<@cjdelisle>\u00a0XSCOLIBRI-272  \n11:08\u00a0<vmassol>\u00a0has quit  \n11:15\u00a0<+sburjan>\u00a0guys, I have a blocker for you : XAANNOTATIONS-46  \n11:20\u00a0<mflorea>\u00a0has joined #xwiki  \n11:22\u00a0<lucaa>\u00a0has joined #xwiki  \n11:32\u00a0<lucaa>\u00a0has quit  \n11:34\u00a0<evalica>\u00a0has joined #xwiki  \n11:43\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:46\u00a0<abusenius>\u00a0has joined #xwiki  \n11:56\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:07\u00a0<+mflorea>\u00a0tmortagne: do you know I get this http://pastebin.com/xqVeDjx3 when executing the macro transformations? I have a velocity MacroBlock with content=\"middle\" and the syntax set on the tx context is xwiki/2.0.  \n12:08\u00a0<+mflorea>\u00a0the MacroBlock has isInline=false  \n12:08\u00a0<+mflorea>\u00a0I'm using a XE 3.0 snapshot that is one day old or so  \n12:09\u00a0<+tmortagne>\u00a0the error seems related to html  \n12:10\u00a0<+mflorea>\u00a0but I don't have any HTML macro  \n12:11\u00a0<+tmortagne>\u00a0can i reproduce it in a rendering unit test ?  \n12:11\u00a0<+tmortagne>\u00a0i would need to look in debug mode  \n12:14\u00a0<+tmortagne>\u00a0you execute tx on MacroBlock directly or is it in a XDOM block ?  \n12:15\u00a0<+tmortagne>\u00a0can you reproduce \u00a0that with box macro instead of velocity ?  \n12:15\u00a0<+mflorea>\u00a0I doubt you can reproduce it in a unit test because the macro is evaluated fine when I view the page. I have this content:  \n12:15\u00a0<+mflorea>\u00a0{{velocity}}  \n12:15\u00a0<+mflorea>\u00a0middle  \n12:15\u00a0<+mflorea>\u00a0{{/velocity}}  \n12:15\u00a0<+mflorea>\u00a0But it fails when I \"Refresh macros\" from the WYSIWYG editor. In debug mode I can see that the HTML submitted to the server:  \n12:15\u00a0<+mflorea>\u00a0<!--startmacro:velocity|-||-|middle--><!--stopmacro-->  \n12:15\u00a0<+mflorea>\u00a0is correctly parsed into XDOM (the MacroBlock node looks fine)  \n12:15\u00a0<+mflorea>\u00a0But when I execute the macro transformation I get the above error.  \n12:16\u00a0<+mflorea>\u00a0This is the code that executes tx:  \n12:16\u00a0<+mflorea>\u00a0TransformationContext txContext = new TransformationContext();  \n12:16\u00a0<+mflorea>\u00a0txContext.setXDOM(xdom);  \n12:16\u00a0<+mflorea>\u00a0txContext.setSyntax(syntaxFactory.createSyntaxFromIdString(syntax));  \n12:16\u00a0<+mflorea>\u00a0macroTransformation.transform(xdom, txContext);  \n12:16\u00a0<+mflorea>\u00a0let me try with a different macro  \n12:17\u00a0<+tmortagne>\u00a0ha I think i know  \n12:17\u00a0<+tmortagne>\u00a0that's because html parser indicate that the syntax is xhtml  \n12:17\u00a0<+tmortagne>\u00a0in the XDOM  \n12:17\u00a0<+tmortagne>\u00a0so when you execute tx it tries to parse macro content with html  \n12:18\u00a0<+mflorea>\u00a0html macro works fine, info macro has the same issue  \n12:18\u00a0<+tmortagne>\u00a0problem is that we have macros with xwiki/2.0 content in a xhtml content  \n12:19\u00a0<+mflorea>\u00a0note that \"syntax\" variable in the above code is xwiki/2.0  \n12:19\u00a0<+tmortagne>\u00a0what syntax variable are you talking about ?  \n12:20\u00a0<+mflorea>\u00a0txContext.setSyntax(syntaxFactory.createSyntaxFromIdString(syntax));  \n12:20\u00a0<+mflorea>\u00a0here syntax is xwiki/2.0  \n12:21\u00a0<+mflorea>\u00a0and I can see in debug mode that txContext.syntax is indeed XWiki 2.0 after that call  \n12:21\u00a0<+tmortagne>\u00a0ok but as i said that's not the main syntax now  \n12:21\u00a0<+tmortagne>\u00a0it's only default syntax  \n12:21\u00a0<+tmortagne>\u00a0the first syntax used is the one in the XDOM  \n12:22\u00a0<+tmortagne>\u00a0and xhtml parser think it contains xhtml so it set it to XHTML  \n12:22\u00a0<+tmortagne>\u00a0but it the WYSIWYG \u00a0it's a bit hacky since we put some other syntax content in xhtml content macros  \n12:22\u00a0<+tmortagne>\u00a0so you need change the XDOM metadata  \n12:23\u00a0<+tmortagne>\u00a0to indicate the proper syntax  \n12:23\u00a0<+mflorea>\u00a0isn't XDOM syntax independent, I mena, xhtmlParser should generate a XDOM that doesn't know any syntax  \n12:23\u00a0<+tmortagne>\u00a0it's not that simple  \n12:23\u00a0<+tmortagne>\u00a0you have macros in the XDO  \n12:23\u00a0<+tmortagne>\u00a0XDOM  \n12:23\u00a0<+tmortagne>\u00a0theses macro needs to be parsed with a syntax  \n12:24\u00a0<+tmortagne>\u00a0when you do include you loose this if you include a document in another syntax  \n12:24\u00a0<+mflorea>\u00a0yes, and this was the syntax passed to the txContext, now it is taken from a different place?  \n12:24\u00a0<+tmortagne>\u00a0again context is not enough  \n12:24\u00a0<+sburjan>\u00a0@devs, regarding translations. Why do we have UK in our languages ? What is UK stand for ?  \n12:25\u00a0<silviar>\u00a0has joined #xwiki  \n12:25\u00a0<+mflorea>\u00a0tmortagne: so what do I have to change?  \n12:26\u00a0<+tmortagne>\u00a0see http://jira.xwiki.org/jira/browse/XWIKI-5985  \n12:26\u00a0<+tmortagne>\u00a0(12:22:58 PM) tmortagne: so you need change the XDOM metadata  \n12:26\u00a0<+tmortagne>\u00a0(12:23:09 PM) tmortagne: to indicate the proper syntax  \n12:27\u00a0<+mflorea>\u00a0but can I assume that the syntax is the syntax of the edited document?  \n12:27\u00a0<+mflorea>\u00a0what if you have edit a page with an include macro that points to a page with a different syntax  \n12:28\u00a0<+tmortagne>\u00a0in this case you don't care  \n12:28\u00a0<+tmortagne>\u00a0since an include macro does not have content  \n12:28\u00a0<+mflorea>\u00a0ah, ok  \n12:28\u00a0<+tmortagne>\u00a0it does not use context syntax  \n12:28\u00a0<+tmortagne>\u00a0it use target syntax  \n12:29\u00a0<+tmortagne>\u00a0the thing is here that we have an html content and macro in some syntax which is not html  \n12:29\u00a0<+mflorea>\u00a0right  \n12:31\u00a0<+tmortagne>\u00a0so either you change the XDOM metadata after or you use a custom XHTML parser which ovewrite with the proper syntax  \n12:31\u00a0<+tmortagne>\u00a0don't know what the better for you use case  \n12:31\u00a0<+tmortagne>\u00a0\\*best  \n12:34\u00a0<+mflorea>\u00a0let me try with:  \n12:34\u00a0<+mflorea>\u00a0Syntax syntax = syntaxFactory.createSyntaxFromIdString(syntaxId);  \n12:34\u00a0<+mflorea>\u00a0xdom.getMetaData().addMetaData(MetaData.SYNTAX, syntax);  \n12:34\u00a0<+mflorea>\u00a0This should work right?  \n12:34\u00a0<+tmortagne>\u00a0yep  \n12:34\u00a0<+mflorea>\u00a0I mean, the \u00a0value of the SYNTAX key is a Syntax object not a string  \n12:34\u00a0<+tmortagne>\u00a0yep  \n12:34\u00a0<+mflorea>\u00a0good, let me try  \n12:34\u00a0<+tmortagne>\u00a0it's not documented ?  \n12:35\u00a0<+tmortagne>\u00a0indeed it's not  \n12:35\u00a0<+tmortagne>\u00a0let me add it  \n12:35\u00a0<+mflorea>\u00a0I don't know, I just use the autocomplete  \n12:35\u00a0<+tmortagne>\u00a0ok  \n12:36\u00a0<+tmortagne>\u00a0eclipse still give you the javadoc ;)  \n12:36\u00a0<+mflorea>\u00a0it should, but I did not tell maven to download sources  \n12:37\u00a0<+tmortagne>\u00a0ok, anyway maven would bit have downloaded anything for snapshot  \n12:38\u00a0<+tmortagne>\u00a0s/bit/not/  \n12:44\u00a0<abusenius>\u00a0has quit  \n12:55\u00a0<jstoldt>\u00a0well guys, i'm outta here  \n12:55\u00a0<jstoldt>\u00a0bye bye  \n12:55\u00a0<jstoldt>\u00a0see you next or so  \n12:55\u00a0<jstoldt>\u00a0has quit  \n13:22\u00a0<DrLou>\u00a0has joined #xwiki  \n13:57\u00a0<silviar>\u00a0has quit  \n14:07\u00a0<sdumitriu>\u00a0has joined #xwiki  \n14:24\u00a0<abusenius>\u00a0has joined #xwiki  \n15:22\u00a0<abusenius>\u00a0has quit  \n15:23\u00a0<abusenius>\u00a0has joined #xwiki  \n15:31\u00a0<rstavro>\u00a0has joined #xwiki  \n15:31\u00a0<+rstavro>\u00a0hello all  \n15:32\u00a0<+rstavro>\u00a0starting XEM 2.7.1 release  \n16:02\u00a0<+jvelociter>\u00a0guys  \n16:02\u00a0<+jvelociter>\u00a0looks like someone is deleting documents on xwiki.org  \n16:02\u00a0<+jvelociter>\u00a0check : http://www.xwiki.org/xwiki/bin/view/Main/News  \n16:03\u00a0<+jvelociter>\u00a05 legitimate documents have been deleted, and are not in trashbin  \n16:04\u00a0<@sdumitriu>\u00a0Could be a cache issue?  \n16:04\u00a0<@sdumitriu>\u00a0Trying a flushCache  \n16:04\u00a0<+jvelociter>\u00a0the appear like deleted 5 minutes ago, but nothing in activity strean  \n16:04\u00a0<+jvelociter>\u00a0yes looks like a cache issue  \n16:04\u00a0<+jvelociter>\u00a0will do  \n16:04\u00a0<@sdumitriu>\u00a0Flushed  \n16:05\u00a0<@sdumitriu>\u00a0Not in News anymore  \n16:05\u00a0<+jvelociter>\u00a0yep  \n16:05\u00a0<@sdumitriu>\u00a0But not in the wiki either:  \n16:05\u00a0<@sdumitriu>\u00a0http://platform.xwiki.org/xwiki/bin/view/Features/Export  \n16:06\u00a0<@sdumitriu>\u00a0Or no, it was http://platform.xwiki.org/xwiki/bin/view/Features/Exports  \n16:06\u00a0<@sdumitriu>\u00a0Yep, the documents are in place  \n16:06\u00a0<@sdumitriu>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMSSQL  \n16:06\u00a0<@sdumitriu>\u00a0We need to find out what keeps creating cache ghosts  \n16:07\u00a0<@sdumitriu>\u00a0Hm...  \n16:07\u00a0<@sdumitriu>\u00a0That's interesting  \n16:08\u00a0<@sdumitriu>\u00a0jvelociter: Do you still have the old News page in the cache?  \n16:08\u00a0<+jvelociter>\u00a0no  \n16:08\u00a0<+jvelociter>\u00a0yes that's an odd problem  \n16:08\u00a0<+jvelociter>\u00a0not the first time we see it  \n16:09\u00a0<@sdumitriu>\u00a0Does anybody else have it in the cache with the broken links?  \n16:19\u00a0<@cjdelisle>\u00a0What were you seeing?  \n16:19\u00a0<@cjdelisle>\u00a0(before the cache was flushed)  \n16:25\u00a0<@sdumitriu>\u00a0At the top there were some documents that were actually non existing  \n16:25\u00a0<@cjdelisle>\u00a0It showed them with the ? in the link?  \n16:26\u00a0<@sdumitriu>\u00a0Recent changes: [Features.Exports]?  \n16:26\u00a0<@sdumitriu>\u00a0Yes  \n16:26\u00a0<+jvelociter>\u00a0missing pages (\"?\" after links, and \"this document does not exists\" if you go on that page URL)  \n16:26\u00a0<@cjdelisle>\u00a0And the pages actually existed?  \n16:26\u00a0<@sdumitriu>\u00a0So it finds them in the database, but getDocument returns them as new documents  \n16:26\u00a0<+jvelociter>\u00a0yes  \n16:26\u00a0<@sdumitriu>\u00a0What I wanted to know is the exact time that they reported  \n16:27\u00a0<@sdumitriu>\u00a0Since the list is populated from a database search, and the documents are retrieved via getDocument, I wanted to check if actually those were the real recently modified documents, but with a wrong name in the cache  \n16:29\u00a0<@cjdelisle>\u00a0Wild guess is this has something to do with documents which exist in wiki A but not in wiki B  \n16:29\u00a0<@sdumitriu>\u00a0So getDocument('IRC.xwikiArchive20110225') returns a Document object that thinks it is a new 'Feature.Exports'  \n16:29\u00a0<@sdumitriu>\u00a0cjdelisle: Could be  \n16:30\u00a0<@sdumitriu>\u00a0Could be caused by the bug that tmortagne fixed yesterday, with searchDocuments  \n16:30\u00a0<@sdumitriu>\u00a0I don't know  \n16:30\u00a0<@sdumitriu>\u00a0It's hard to tell when this bug only happens from time to time  \n16:31\u00a0<@sdumitriu>\u00a0But until now all we knew was that some documents were 404, didn't know that they also appear wrong in Main.News  \n16:31\u00a0<@sdumitriu>\u00a0This would be a good place to start debugging  \n16:31\u00a0<+tmortagne>\u00a0this bug can produce cache ghosts but mostly on system pages like \u00a0xwikipreferences and users/groups  \n16:31\u00a0<+tmortagne>\u00a0anything used by right system basically  \n16:32\u00a0<@sdumitriu>\u00a0tmortagne: The current document is also used by the rights system  \n16:32\u00a0<@sdumitriu>\u00a0Since it searches for rights objects in it  \n16:32\u00a0<@sdumitriu>\u00a0Who know  \n16:32\u00a0<+tmortagne>\u00a0yep  \n16:32\u00a0<@sdumitriu>\u00a0But I didn't think that searchDocuments is used that much  \n16:33\u00a0<@sdumitriu>\u00a0I'll have to check the call tree  \n16:33\u00a0<+tmortagne>\u00a0I trying to find other bad bahavior like this one in other methods of hibernate store but looks like it was teh only one  \n16:33\u00a0<+tmortagne>\u00a0i don't think searchDocuments is used much either  \n16:36\u00a0<@cjdelisle>\u00a0too many getKey functions in the cache store.  \n16:40\u00a0<@sdumitriu>\u00a0Another possibility is ID collisions  \n16:40\u00a0<@sdumitriu>\u00a0cross-wiki  \n16:41\u00a0<+tmortagne>\u00a0yep there is this thing but it's a lot of document at once for this insn't it ?  \n16:41\u00a0<@cjdelisle>\u00a0myxwiki would have ceased up by now wouldn't it?  \n16:41\u00a0<@sdumitriu>\u00a0When it's in the same wiki, you notice because you get the wrong document  \n16:41\u00a0<@sdumitriu>\u00a0Not quite a lot  \n16:42\u00a0<@sdumitriu>\u00a0There were 5 IIRC this time  \n16:42\u00a0<@cjdelisle>\u00a0getKey(XWikiDocument doc) <-- that is a land mine since the context db is always used. Fortunately it is not used.  \n16:45\u00a0<@cjdelisle>\u00a0com.xpn.xwiki.internal.cache.DefaultDocumentCache  \n16:46\u00a0<@cjdelisle>\u00a0What is that used for?  \n16:46\u00a0<@cjdelisle>\u00a0It's a sprawling lybrenth, every time I think I understand it, find-grep turns up a class I've never seen before.  \n16:51\u00a0<@sdumitriu>\u00a0+1  \n16:52\u00a0<@cjdelisle>\u00a0It looks like it's for the {{cache}} macro. It's only associated with a rendering cache and it looks new.  \n16:55\u00a0<@cjdelisle>\u00a0getCache().set(key, doc);  \n16:55\u00a0<@cjdelisle>\u00a0getPageExistCache().set(key, new Boolean(!doc.isNew()));  \n16:55\u00a0<@cjdelisle>\u00a0Why is the cache filled with empty documents for every nonexisting document which is requested?  \n16:57\u00a0<+tmortagne>\u00a0cjdelisle: DefaultDocumentCache is used for rendering cache, not cache macro  \n16:57\u00a0<+tmortagne>\u00a0or at least it has been done for rendering cache and i doubt cache macro use it  \n16:58\u00a0<@cjdelisle>\u00a0I see. I saw it was connected to a class called rendering cache and I didn't know we had a new one so I assumed it was something to do with the cache macro.  \n16:59\u00a0<+tmortagne>\u00a0it's XWIKI-5110 to be more precise  \n17:00\u00a0<@cjdelisle>\u00a0thanks  \n17:01\u00a0<+tmortagne>\u00a0i seen the \"getPageExistCache().set(key, new Boolean(false));\" some days ago too and i agree that it's pretty weird  \n17:01\u00a0<+tmortagne>\u00a0\\*getPageExistCache().set(key, new Boolean(!doc.isNew()));  \n17:01\u00a0<+tmortagne>\u00a0but just looked quickly and did not digged much yet  \n17:02\u00a0<@cjdelisle>\u00a0Actually that line is great, it can tell us certainly that a document does not exist so we can return a 404 faster and without the db hit.  \n17:02\u00a0<@cjdelisle>\u00a0(not implemented)  \n17:03\u00a0<@cjdelisle>\u00a0getCache().set(key, doc); <-- this is the one that baffles me  \n17:03\u00a0<@cjdelisle>\u00a0It's inserting an empty document into the cache for each nonexistant document loaded.  \n17:04\u00a0<@cjdelisle>\u00a0Apparently anyone can flush the cache using a wget loop.  \n17:18\u00a0<gsauthier>\u00a0has quit  \n17:35\u00a0<sdumitriu>\u00a0has quit  \n17:43\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:00\u00a0<xipe>\u00a0has quit  \n18:03\u00a0<rstavro>\u00a0has quit  \n18:06\u00a0<xipe>\u00a0has joined #xwiki  \n18:09\u00a0<tmortagne>\u00a0has left #xwiki  \n18:50\u00a0<sburjan`>\u00a0has quit  \n18:50\u00a0<sburjan`>\u00a0has joined #xwiki  \n19:02\u00a0<evalica>\u00a0has quit  \n19:06\u00a0<+sburjan>\u00a0sdumitriu: ping  \n19:06\u00a0<@sdumitriu>\u00a0Pong  \n19:09\u00a0<+sburjan>\u00a0sdumitriu: regarding the commit on the issue regarding the long document names breaking the Recent Modifications Panel. Did you intended to indent the new lines that are the continuation of the document names ?  \n19:09\u00a0<+sburjan>\u00a0because id doesn't look very nice  \n19:09\u00a0<@sdumitriu>\u00a0Yes  \n19:09\u00a0<@sdumitriu>\u00a0Otherwise it's hard to tell apart two different lines vs. one line broken in two  \n19:09\u00a0<+sburjan>\u00a0but I don't have an alternative solution .. maybe removing indentation, but this would look like the new line is another document  \n19:10\u00a0<+sburjan>\u00a0okay, understood. Not gonna create an issue for this  \n19:10\u00a0<@sdumitriu>\u00a0sburjan: Ask evalica  \n19:17\u00a0<Enygma`>\u00a0has quit  \n19:20\u00a0<Enygma`>\u00a0has joined #xwiki  \n19:21\u00a0<Enygma`>\u00a0has quit  \n19:24\u00a0<lucaa>\u00a0has joined #xwiki  \n19:25\u00a0<Enygma`>\u00a0has joined #xwiki  \n19:27\u00a0<Enygma`>\u00a0has quit  \n19:27\u00a0<Enygma`>\u00a0has joined #xwiki  \n19:28\u00a0<+sburjan>\u00a0@devs: http://www.xwiki.org/xwiki/bin/view/TestReports/ManualTestReportXE30M3 preliminary test report for next week release  \n19:28\u00a0<+sburjan>\u00a0one of them is a blocker  \n19:28\u00a0<+sburjan>\u00a0I will continue testing on Monday  \n19:30\u00a0<@sdumitriu>\u00a0Thanks sburjan  \n19:31\u00a0<+Enygma`>\u00a0Hi, can anyone tell me if there is an API for creating Groups?  \n19:31\u00a0<@sdumitriu>\u00a0sburjan: XAANNOTATIONS-46 is the blocker one?  \n19:31\u00a0<+Enygma`>\u00a0I know there is the Group service, but it only allows queries for users and groups  \n19:31\u00a0<+sburjan>\u00a0regarding the blocker, I don't know what I did but once I was able to re-enable annotations, but I wasn't able to reproduce  \n19:31\u00a0<+sburjan>\u00a0sdumitriu: \u00a0yes  \n19:31\u00a0<@sdumitriu>\u00a0Enygma`: I don't remember one  \n19:32\u00a0<@sdumitriu>\u00a0But it would be useful to have one  \n19:32\u00a0<+Enygma`>\u00a0sdumitriu: so creating a document and putting an XWikiGroup object is the only option, right?  \n19:33\u00a0<@sdumitriu>\u00a0Yes  \n19:35\u00a0<+Enygma`>\u00a0thanks  \n19:44\u00a0<mflorea>\u00a0has quit  \n19:53\u00a0<arkub>\u00a0has quit  \n19:53\u00a0<sburjan>\u00a0has quit  \n19:56\u00a0<Enygma`>\u00a0has quit  \n21:59\u00a0<+jvelociter>\u00a0cache macro has been backported in 2.6 ?  \n21:59\u00a0<+jvelociter>\u00a0and 2.5  \n21:59\u00a0<+jvelociter>\u00a0that's cool  \n22:26\u00a0<lucaa>\u00a0has quit  \n23:39\u00a0<vmassol>\u00a0has quit  \n\n"}