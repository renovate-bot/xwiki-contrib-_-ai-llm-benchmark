{"id": "dev:IRC.xwikiArchive20101223", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101223", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:41\u00a0<+sburjan`>\u00a0sdumitriu: yes, but I'm going to sleep  \n00:41\u00a0<+sburjan`>\u00a0ask  \n00:48\u00a0<lucaa>\u00a0has quit  \n00:51\u00a0<+sburjan`>\u00a0sdumitriu: http://incubator.myxwiki.org/xwiki/bin/view/Test/27snapshots  \n00:51\u00a0<+sburjan`>\u00a0these issus are the remaining ones  \n00:57\u00a0<@sdumitriu>\u00a0sburjan`: 2.7 Builds done  \n00:57\u00a0<@sdumitriu>\u00a0Just wanted to ping you about them  \n00:57\u00a0<+sburjan`>\u00a0okay  \n00:57\u00a0<+sburjan`>\u00a0let's hope we didn't missed some nasty bug  \n00:58\u00a0<+sburjan`>\u00a0especially with LDAP and latest \"dangerous\" commits  \n00:59\u00a0<@sdumitriu>\u00a0Hm, XEM build seems wrong  \n00:59\u00a0<@sdumitriu>\u00a0It uses hsqldb instead of mysql  \n01:06\u00a0<+sburjan`>\u00a0well afaik the xem default build is hsqldb. you can easily port it to mysql by copying the mysql hibernate xml file  \n01:52\u00a0<florinciu>\u00a0has quit  \n01:55\u00a0<abusenius>\u00a0has quit  \n02:03\u00a0<sburjan`>\u00a0has quit  \n02:31\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n02:31\u00a0<SvenDowideit\\_>\u00a0has quit  \n04:29\u00a0<Menso>\u00a0has quit  \n04:29\u00a0<sdumitriu>\u00a0has quit  \n04:51\u00a0<venkatna>\u00a0has joined #xwiki  \n04:52\u00a0<venkatna>\u00a0has quit  \n06:04\u00a0<Denis>\u00a0has quit  \n06:09\u00a0<Denis>\u00a0has joined #xwiki  \n08:08\u00a0<sabageru>\u00a0has joined #xwiki  \n08:13\u00a0<vmassol>\u00a0has joined #xwiki  \n08:27\u00a0<vmassol>\u00a0has quit  \n08:39\u00a0<vmassol>\u00a0has joined #xwiki  \n09:02\u00a0<xipe>\u00a0has joined #xwiki  \n09:08\u00a0<venkatna>\u00a0has joined #xwiki  \n09:09\u00a0<venkatna>\u00a0has quit  \n09:11\u00a0<venkatna>\u00a0has joined #xwiki  \n09:56\u00a0<florinciu>\u00a0has joined #xwiki  \n10:03\u00a0<lucaa>\u00a0has joined #xwiki  \n10:08\u00a0<jvelo>\u00a0has joined #xwiki  \n10:09\u00a0<jvelo>\u00a0Hi XWikieres  \n10:09\u00a0<jvelo>\u00a0skype is down for everybody right ?  \n10:10\u00a0<jvdrean1>\u00a0jvelo: yep  \n10:13\u00a0<vmassol>\u00a0not down for me  \n10:14\u00a0<vmassol>\u00a0(I'm off today btw)  \n10:16\u00a0<StefanO\\_>\u00a0has joined #xwiki  \n10:17\u00a0<jvdrean1>\u00a0jvelo: we're part of the unlucky https://twitter.com/#!/Skype/status/17827709933588480  \n10:17\u00a0<florinciu>\u00a0has quit  \n10:17\u00a0<jvelo>\u00a0OK  \n10:18\u00a0<vmassol>\u00a0jvelo: were you able to create that special page on extensions for listing all extensions for google?  \n10:18\u00a0<StefanO\\_>\u00a0Hi guys! i have a question: how do i add to a document some objects i intantiate within my current script?  \n10:18\u00a0<marta\\_>\u00a0has joined #xwiki  \n10:18\u00a0<jvelo>\u00a0vmassol, not yet but I did not forget.  \n10:18\u00a0<vmassol>\u00a0ok  \n10:18\u00a0<jvelo>\u00a0I'm still thinking about what's the best way to do that  \n10:19\u00a0<jvelo>\u00a0maybe I'll go for the sitemap  \n10:19\u00a0<jvelo>\u00a0will do that today anyway  \n10:20\u00a0<vmassol>\u00a0ok great  \n10:23\u00a0<vmassol>\u00a0I don't understand why we get some non existing docs from time to time on http://www.xwiki.org/xwiki/bin/view/Main/News \u2026. anyway we should migrate xwiki.org to 2.7 to check if the AS speed is good enough to be usable but I doubt it  \n10:23\u00a0<vmassol>\u00a0it's a pity since IMO that will make XE 2.7 a non usable version  \n10:24\u00a0<vmassol>\u00a0sabageru: can you give us a status on the speed issue for the AS?  \n10:25\u00a0<vmassol>\u00a0were you able to nail down the issue with large number of events?  \n10:25\u00a0<jvelo>\u00a0StefanO\\_, have you checked http://maven.xwiki.org/site/xwiki-core-parent/xwiki-core/apidocs/com/xpn/xwiki/api/Document.html ?  \n10:25\u00a0<vmassol>\u00a0jvelo: 2.7 is released  \n10:26\u00a0<jvelo>\u00a0especially the methods getObject and createNewObject  \n10:26\u00a0<vmassol>\u00a0(re your mail)  \n10:26\u00a0<vmassol>\u00a0maybe you mean 2.7.x?  \n10:26\u00a0<jvelo>\u00a0vmassol, I meant 2.7 branch yes  \n10:26\u00a0<StefanO\\_>\u00a0yes, but there's little or no clues about doing that  \n10:27\u00a0<StefanO\\_>\u00a0there's the addObjectFromRequest method  \n10:27\u00a0<StefanO\\_>\u00a0but it's not documented and i don't think it really serves my purpose  \n10:27\u00a0<jvelo>\u00a0vmassol, you've deleted http://platform.xwiki.org/xwiki/bin/view/DevGuide/APIGuide ?  \n10:27\u00a0<vmassol>\u00a0nope  \n10:28\u00a0<jvelo>\u00a0strange  \n10:28\u00a0<jvelo>\u00a0the trashbin says so  \n10:28\u00a0<jvelo>\u00a0restoring it  \n10:28\u00a0<vmassol>\u00a0it sayswair  \n10:28\u00a0<vmassol>\u00a0wait  \n10:28\u00a0<vmassol>\u00a0no  \n10:28\u00a0<vmassol>\u00a0it says 2007 so it can be right  \n10:28\u00a0<+lucaa>\u00a0guys, how can I wrap a macro in another macro at XDOM leve  \n10:28\u00a0<+lucaa>\u00a0level  \n10:28\u00a0<vmassol>\u00a0jve  \n10:28\u00a0<vmassol>\u00a0jvelo:  \n10:28\u00a0<jvelo>\u00a0StefanO\\_, you can check http://platform.xwiki.org/xwiki/bin/view/DevGuide/APIGuide now :)  \n10:29\u00a0<vmassol>\u00a0something is amiss  \n10:29\u00a0<+lucaa>\u00a0I have the initial MacroBlock that I want to wrap, how can I put a box macro around it, for example  \n10:29\u00a0<+lucaa>\u00a0?  \n10:29\u00a0<sabageru>\u00a0vmassol: about AS and speed issue. I have found that the problem laid in the fact that there were missing indexes on the table. I placed indexes in my local instance and it lowered the time to a normal behaviour. to put it in figures. Without indexes the page took about 11-12 seconds and with indexes it took 3,4 seconds to load . fact is AS does a lot of queries to the DB because of the way in which it was implemented and i have lowered the   \n10:29\u00a0<vmassol>\u00a0jvelo: how are you sure you haven't erased stuff?  \n10:29\u00a0<ralucaM>\u00a0has joined #xwiki  \n10:29\u00a0<vmassol>\u00a0jvelo: you rolled back a 2007 version  \n10:29\u00a0<jvelo>\u00a0I'm not  \n10:30\u00a0<jvelo>\u00a0well there was only 2 versions showing  \n10:30\u00a0<jvelo>\u00a0but now if you look at history  \n10:30\u00a0<jvelo>\u00a0there are revisions from 2010  \n10:30\u00a0<jvelo>\u00a0december 2010  \n10:30\u00a0<+lucaa>\u00a0sabageru: does this problem affect only AS?  \n10:30\u00a0<sabageru>\u00a0in my opinion, it should be usable. I used hsqldb on my local instance and i had 42000 records in the activity stream therefore pretty much. and i had about 100-200 events/document  \n10:30\u00a0<vmassol>\u00a0well there are broken links  \n10:30\u00a0<vmassol>\u00a0we need to understand who did this  \n10:30\u00a0<+lucaa>\u00a0or any actions of the activity stream plugin in general  \n10:30\u00a0<+lucaa>\u00a0?  \n10:30\u00a0<sabageru>\u00a0@lucaa, what do you mean ?  \n10:31\u00a0<vmassol>\u00a0sabageru: can you cehck the indexes we have defined in the doc and tell us what's missing?  \n10:31\u00a0<jvelo>\u00a0sabageru, 3,4 seconds is still too much IMO, and 42.000 records is low  \n10:31\u00a0<vmassol>\u00a03.4 seconds locally is huge  \n10:31\u00a0<sabageru>\u00a0well i checked with another page  \n10:31\u00a0<jvelo>\u00a0have you tried with 500.000 records ?  \n10:31\u00a0<StefanO\\_>\u00a0Thanks...i guess that's what i needed :)  \n10:31\u00a0<+lucaa>\u00a0sabageru: I mean could it cause a general slowness of the wiki? when saving documents for example or other events which are listened to by the AS ?  \n10:32\u00a0<sabageru>\u00a0for example Main.Sandbox and Main.Sandbox takes about 2.8 - 2.9 seconds therefore it is ok i think :)  \n10:32\u00a0<sabageru>\u00a0jvelo: i think 500 000 would kill any hsqldb :d  \n10:32\u00a0<jvelo>\u00a0sabageru, try on mysql  \n10:32\u00a0<vmassol>\u00a0sabageru: the issue is not hsqldb  \n10:32\u00a0<+lucaa>\u00a0by does it affect only AS I mean only the main page, the activity macro  \n10:32\u00a0<vmassol>\u00a0you should of course try with mysql  \n10:32\u00a0<vmassol>\u00a0hsqldb is not a production db  \n10:32\u00a0<vmassol>\u00a0and w edon't recommend it to use it for that  \n10:33\u00a0<sabageru>\u00a0lucaa: no, the fact you have said is not a problem. saving works just fine and AS does not affect the performance of the wiki except for the pages where you actually load the macro of course:)  \n10:33\u00a0<vmassol>\u00a0jvelo: there are lots of broken links on xwiki.org  \n10:33\u00a0<vmassol>\u00a0could a restart help?  \n10:34\u00a0<jvelo>\u00a0vmassol, we can try  \n10:34\u00a0<vmassol>\u00a0sabageru: can you cehck (ie usable only for really small sites)  \n10:34\u00a0<vmassol>\u00a0oops  \n10:34\u00a0<jvelo>\u00a0I need to install a recent version of the ratings plugin anyway  \n10:34\u00a0<vmassol>\u00a0sabageru: could you check http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Database+Administration  \n10:34\u00a0<vmassol>\u00a0and tell us what indexes are missing  \n10:34\u00a0<vmassol>\u00a0because those are the ones that jvelo set on xwiki.org  \n10:34\u00a0<vmassol>\u00a0jvelo: might be good to install XE 2.7 if you're up for it\u2026. ;)  \n10:35\u00a0<jvelo>\u00a0haha I wanted to do real work this morning ;)  \n10:35\u00a0<florinciu>\u00a0has joined #xwiki  \n10:36\u00a0<vmassol>\u00a0jvelo: we could start just by a restart  \n10:36\u00a0<jvelo>\u00a0yep  \n10:36\u00a0<vmassol>\u00a0I'm worried about the missing pages  \n10:36\u00a0<jvelo>\u00a0let me upload my plugin  \n10:36\u00a0<jvelo>\u00a0and I do that  \n10:36\u00a0<sabageru>\u00a0vmassol, jvelo: on my instance i added only these indexes. because these columns are used in queries.  \n10:36\u00a0<jvelo>\u00a0by the way I still have a problem using the staging repo  \n10:36\u00a0<sabageru>\u00a0create index ase\\_wiki on\u00a0 activitystream\\_events (ase\\_wiki);  \n10:36\u00a0<sabageru>\u00a0create index ase\\_type on\u00a0 activitystream\\_events (ase\\_type);  \n10:36\u00a0<sabageru>\u00a0create index ase\\_version on\u00a0 activitystream\\_events (ase\\_version);  \n10:36\u00a0<sabageru>\u00a0create index ase\\_space on\u00a0 activitystream\\_events (ase\\_space);  \n10:36\u00a0<sabageru>\u00a0create index ase\\_page on\u00a0 activitystream\\_events (ase\\_page);  \n10:36\u00a0<sabageru>\u00a0create index ase\\_date on activitystream\\_events (ase\\_date);  \n10:36\u00a0<vmassol>\u00a0sabageru: can you cehck the doc I mentioned?  \n10:37\u00a0<vmassol>\u00a0and see if there ar emissing indexes  \n10:37\u00a0<jvelo>\u00a0I don't see my releases in the Xwiki Contrib Staging profile  \n10:37\u00a0<vmassol>\u00a0sabageru: IMO they're the same which means they don't help  \n10:37\u00a0<vmassol>\u00a0don't help = it's still wayyyyyy too slow  \n10:38\u00a0<vmassol>\u00a0see xwiki.org's speed on AS  \n10:38\u00a0<vmassol>\u00a0jvelo: you confirm these indexes are set right?  \n10:38\u00a0<sabageru>\u00a0most of them are the same, but fact is, having too many indexes will slow down a DB :)  \n10:38\u00a0<jvelo>\u00a0I'm pretty positive yes, but I can confirm after I'm done with the restart since I'm on the machine anyway  \n10:39\u00a0<sabageru>\u00a0so i suggest adding only the ones we really need, and delete the rest  \n10:39\u00a0<mihaipaun>\u00a0has joined #xwiki  \n10:39\u00a0<vmassol>\u00a0sabageru: you need to be more precise  \n10:39\u00a0<vmassol>\u00a0can you list the ones we need  \n10:39\u00a0<vmassol>\u00a0?  \n10:39\u00a0<evalica>\u00a0has joined #xwiki  \n10:40\u00a0<sabageru>\u00a0sure  \n10:40\u00a0<sabageru>\u00a0create index ase\\_wiki on\u00a0 activitystream\\_events (ase\\_wiki);  \n10:40\u00a0<sabageru>\u00a0create index ase\\_type on\u00a0 activitystream\\_events (ase\\_type);  \n10:40\u00a0<sabageru>\u00a0create index ase\\_version on\u00a0 activitystream\\_events (ase\\_version);  \n10:40\u00a0<sabageru>\u00a0create index ase\\_space on\u00a0 activitystream\\_events (ase\\_space);  \n10:40\u00a0<sabageru>\u00a0create index ase\\_page on\u00a0 activitystream\\_events (ase\\_page);  \n10:40\u00a0<sabageru>\u00a0create index ase\\_date on activitystream\\_events (ase\\_date);  \n10:40\u00a0<vmassol>\u00a0(for all use cases of course)  \n10:40\u00a0<sabageru>\u00a0these are the indexes AS needs :)  \n10:40\u00a0<sabageru>\u00a0only these ones  \n10:40\u00a0<jvelo>\u00a0restarting xwiki.org  \n10:40\u00a0<vmassol>\u00a0jvelo: would you be able to do that?  \n16:29\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:29\u00a0<@sdumitriu>\u00a0OK, the attributes of href  \n16:29\u00a0<jvelo>\u00a0(I have a real use case with skywriter actually, which needs a link with a particular id)  \n16:29\u00a0<@sdumitriu>\u00a0But the link will point to what? /view/Space/Doc?  \n16:31\u00a0<@sdumitriu>\u00a0It would be nice to make skinx aware of {{include}} and then push \"always on this page\" extensions  \n16:31\u00a0<@sdumitriu>\u00a0in the includer document  \n16:36\u00a0<jvelo>\u00a0+1  \n16:36\u00a0<jvelo>\u00a0that would be really great  \n16:36\u00a0<jvelo>\u00a0right now always on this page has not much use case in app dev  \n16:41\u00a0<mihaipaun>\u00a0has quit  \n16:51\u00a0<jvelo>\u00a0commented on XSKINX-45  \n17:14\u00a0<@cjdelisle>\u00a0How wide should the base64 in the exports be? 64 chars as per all pgp stuff?  \n17:20\u00a0<jvelo>\u00a0has quit  \n17:24\u00a0<jvelo>\u00a0has joined #xwiki  \n17:26\u00a0<florinciu>\u00a0has quit  \n17:33\u00a0<@sdumitriu>\u00a0sburjan`: Ping  \n17:36\u00a0<+sburjan`>\u00a0sdumitriu: pong  \n17:36\u00a0<@sdumitriu>\u00a0Did you test the builds?  \n17:37\u00a0<+sburjan`>\u00a0no. I just got home (on vacation)  \n17:37\u00a0<+sburjan`>\u00a0will test them in 30 minutes  \n17:38\u00a0<@sdumitriu>\u00a0OK, what's needed is a quick test, to check that the installation works, the wiki starts, and there are no quick exception  \n17:38\u00a0<@sdumitriu>\u00a0It's not a bug check, just build check  \n17:38\u00a0<+sburjan`>\u00a0yepp, I know. Starting virtual machine now  \n17:54\u00a0<+sburjan`>\u00a0sdumitriu: slow download here :)  \n17:55\u00a0<marta\\_>\u00a0has quit  \n18:08\u00a0<evalica>\u00a0has quit  \n18:12\u00a0<sabageru>\u00a0has quit  \n18:15\u00a0<+sburjan`>\u00a0sdumitriu: tested JAR. It works  \n18:15\u00a0<+sburjan`>\u00a0sdumitriu: also tested exe .. but when I click on the shortcut it doesnt start .. debugging  \n18:15\u00a0<@sdumitriu>\u00a0I'm testing the zip  \n18:15\u00a0<+sburjan`>\u00a0the zip surely works  \n18:16\u00a0<+sburjan`>\u00a0sdumitriu: I don;t have java on my machine :)  \n18:18\u00a0<+sburjan`>\u00a0Uninstall.jar doesn;t work either  \n18:19\u00a0<+sburjan`>\u00a0but again, this is not new  \n18:23\u00a0<@sdumitriu>\u00a0Zip works  \n18:23\u00a0<@sdumitriu>\u00a0OK, publishing them on OW2  \n18:23\u00a0<jvdrean1>\u00a0has quit  \n18:45\u00a0<vmassol>\u00a0has joined #xwiki  \n18:48\u00a0<lucaa>\u00a0has quit  \n18:59\u00a0<sdumitriu>\u00a0has quit  \n19:00\u00a0<vmassol>\u00a0has quit  \n19:00\u00a0<Menso>\u00a0has joined #xwiki  \n19:19\u00a0<florinciu>\u00a0has joined #xwiki  \n19:49\u00a0<flaviusolaru>\u00a0has quit  \n19:58\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n20:00\u00a0<sburjan`>\u00a0has quit  \n20:00\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n20:00\u00a0<sburjan`>\u00a0has quit  \n20:36\u00a0<jvelo>\u00a0has quit  \n20:38\u00a0<jvelo>\u00a0has joined #xwiki  \n20:41\u00a0<vmassol>\u00a0has joined #xwiki  \n20:51\u00a0<jvelo>\u00a0has quit  \n21:05\u00a0<vmassol1>\u00a0has joined #xwiki  \n21:07\u00a0<vmassol>\u00a0has quit  \n21:08\u00a0<sabageru>\u00a0has joined #xwiki  \n21:22\u00a0<vmassol1>\u00a0has quit  \n21:52\u00a0<lucaa>\u00a0has joined #xwiki  \n21:54\u00a0<lucaa1>\u00a0has joined #xwiki  \n21:57\u00a0<lucaa>\u00a0has quit  \n22:00\u00a0<lucaa>\u00a0has joined #xwiki  \n22:01\u00a0<sabageru>\u00a0has quit  \n22:02\u00a0<lucaa1>\u00a0has quit  \n22:09\u00a0<sabageru>\u00a0has joined #xwiki  \n22:11\u00a0<lucaa>\u00a0has quit  \n22:16\u00a0<lucaa>\u00a0has joined #xwiki  \n22:48\u00a0<sabageru>\u00a0has quit  \n\n"}