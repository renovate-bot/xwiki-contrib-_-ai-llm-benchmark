{"id": "dev:IRC.xwikiArchive20131121", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20131121", "title": "IRC Archive for channel #xwiki on 21 November 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n01:45\u00a0<vmassol>\u00a0has joined #xwiki  \n01:50\u00a0<vmassol>\u00a0has quit  \n02:46\u00a0<vmassol>\u00a0has joined #xwiki  \n02:51\u00a0<vmassol>\u00a0has quit  \n03:47\u00a0<vmassol>\u00a0has joined #xwiki  \n03:51\u00a0<vmassol>\u00a0has quit  \n04:48\u00a0<vmassol>\u00a0has joined #xwiki  \n04:52\u00a0<vmassol>\u00a0has quit  \n05:48\u00a0<vmassol>\u00a0has joined #xwiki  \n05:53\u00a0<vmassol>\u00a0has quit  \n06:40\u00a0<vmassol>\u00a0has joined #xwiki  \n06:42\u00a0<vmassol1>\u00a0has joined #xwiki  \n06:42\u00a0<vmassol>\u00a0has quit  \n06:46\u00a0<vmassol1>\u00a0has quit  \n07:09\u00a0<mflorea>\u00a0has joined #xwiki  \n07:43\u00a0<vmassol>\u00a0has joined #xwiki  \n07:48\u00a0<vmassol>\u00a0has quit  \n07:57\u00a0<msmeria>\u00a0has joined #xwiki  \n07:58\u00a0<evalica>\u00a0has joined #xwiki  \n08:03\u00a0<evalica>\u00a0has quit  \n08:05\u00a0<evalica>\u00a0has joined #xwiki  \n08:10\u00a0<evalica>\u00a0has quit  \n08:15\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:20\u00a0<evalica>\u00a0has joined #xwiki  \n08:41\u00a0<vmassol>\u00a0has joined #xwiki  \n08:48\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:19\u00a0<andrewmcveigh|wo>\u00a0has joined #xwiki  \n09:20\u00a0<cjd>\u00a0has joined #xwiki  \n09:23\u00a0<sburjan>\u00a0has joined #xwiki  \n09:40\u00a0<evalica>\u00a0has quit  \n09:59\u00a0<Denis1>\u00a0has joined #xwiki  \n09:59\u00a0<Denis1>\u00a0is now known as <Denis>  \n10:02\u00a0<sburjan>\u00a0cjd: ping  \n10:02\u00a0<cjd>\u00a0p0ng  \n10:13\u00a0<sburjan>\u00a0I tested you new script on 5.2.2-SNAP  \n10:13\u00a0<sburjan>\u00a0it works, and it seems way more faster than the previous version  \n10:16\u00a0<lucaa>\u00a0has joined #xwiki  \n10:18\u00a0<cjd>\u00a0sburjan: \\:D/  \n10:18\u00a0<sburjan>\u00a0I'll test it a little bit further  \n10:20\u00a0<cjd>\u00a0awesome  \n10:20\u00a0<cjd>\u00a0oh I have an idea why it might be faster  \n10:20\u00a0<cjd>\u00a0well  \n10:20\u00a0<simard>\u00a0has joined #xwiki  \n10:20\u00a0<cjd>\u00a0no it should not be  \n10:21\u00a0<cjd>\u00a0I was thinking maybe because it doesn't cause an exception to be thrown per attachment  \n10:21\u00a0<simard>\u00a0is now known as <Guest41278>  \n10:21\u00a0<cjd>\u00a0exceptions are very slow but not \\*that\\* slow  \n10:21\u00a0<sburjan>\u00a0oops, I have an issue  \n10:22\u00a0<sburjan>\u00a0cjd: http://pastebin.com/6qKXYZzS I didn't run your script, I only did the changes in xwiki.cfg  \n10:22\u00a0<cjd>\u00a0wat  \n10:22\u00a0<cjd>\u00a0what version?  \n10:23\u00a0<Guest41278>\u00a0has quit  \n10:24\u00a0<j-simard>\u00a0has joined #xwiki  \n10:24\u00a0<sburjan>\u00a05.2.2-SNAPSHOT  \n10:24\u00a0<sburjan>\u00a0let me give you ce configuration I made  \n10:25\u00a0<sburjan>\u00a0cjd: http://pastebin.com/E31Pnvf5 maybe I am missing something  \n10:26\u00a0<cjd>\u00a0# xwiki.store.recyclebin.hint=file \u00a0<-- if this gets uncommented, it is wrong  \n10:26\u00a0<cjd>\u00a0as it is (commented out) it should be fine  \n10:28\u00a0<cjd>\u00a0java.lang.RuntimeException: Failed to load component for type [interface com.xpn.xwiki.store.XWikiVersioningStoreInterface] for hint [file]  \n10:28\u00a0<cjd>\u00a0that is the problem  \n10:28\u00a0<sburjan>\u00a0yes  \n10:28\u00a0<cjd>\u00a0XWikiVersioningStoreInterface <-- document versions  \n10:28\u00a0<cjd>\u00a0you can set attachments to use file attachment versioning store but not documents  \n10:28\u00a0<cjd>\u00a0todo: filesystem document storage :)  \n10:29\u00a0<sburjan>\u00a0so wait, is my config wrong ?  \n10:29\u00a0<cjd>\u00a0yes  \n10:29\u00a0<cjd>\u00a0You set the document store to be \"file\" and there is no FS document storage  \n10:29\u00a0<cjd>\u00a0only attachment storage  \n10:30\u00a0<sburjan>\u00a0I have followed the documentation. I have commented out these 3 lines:  \n10:30\u00a0<sburjan>\u00a0xwiki.store.attachment.hint = file  \n10:30\u00a0<sburjan>\u00a0xwiki.store.attachment.versioning.hint = file  \n10:31\u00a0<sburjan>\u00a0what am I missing ?  \n10:32\u00a0<cjd>\u00a0# xwiki.store.versioning.hint=file \u00a0<-- make sure this is set to hibernate  \n10:32\u00a0<cjd>\u00a0# xwiki.store.recyclebin.hint=file <-- and this  \n10:34\u00a0<sburjan>\u00a0they are now  \n10:34\u00a0<sburjan>\u00a0and also they are commented  \n10:34\u00a0<evalica>\u00a0has joined #xwiki  \n10:34\u00a0<cjd>\u00a0hmm  \n10:34\u00a0<sburjan>\u00a0starting from 0 again  \n10:34\u00a0<cjd>\u00a0check if they're commented by defualt  \n10:35\u00a0<sburjan>\u00a0they are  \n10:35\u00a0<cjd>\u00a0weird  \n10:37\u00a0<sburjan>\u00a0ok working now  \n10:37\u00a0<sburjan>\u00a0dunno what was the cause  \n10:37\u00a0<sburjan>\u00a0let's try your script :)  \n10:38\u00a0<sburjan>\u00a0ok, working  \n10:40\u00a0<sburjan>\u00a0going to test now on 5.3 M2  \n10:49\u00a0<lucaa>\u00a0has quit  \n10:52\u00a0<lucaa>\u00a0has joined #xwiki  \n11:12\u00a0<sburjan>\u00a0cjd: it works well on 5.3 M2 too, but I get a lot of logs like this:  \n11:12\u00a0<sburjan>\u00a0Caused by: com.xpn.xwiki.XWikiException: Error number 3002 in 3: The attachment could not be found in the filesystem attachment store.  \n11:12\u00a0<sburjan>\u00a0This can happen if attachment storage is switched from database to filesystem without first moving all of the database attachments over to the filesystem using a script.  \n11:12\u00a0<sburjan> at com.xpn.xwiki.doc.XWikiDocument.loadAttachmentContent(XWikiDocument.java:4507) ~[xwiki-platform-legacy-oldcore-5.3-milestone-2.jar:na]  \n11:12\u00a0<sburjan> at com.xpn.xwiki.doc.XWikiAttachment.getContentInputStream(XWikiAttachment.java:574) ~[xwiki-platform-legacy-oldcore-5.3-milestone-2.jar:na]  \n11:12\u00a0<sburjan> at org.xwiki.search.solr.internal.metadata.AttachmentSolrMetadataExtractor.getContentAsText(AttachmentSolrMetadataExtractor.java:127) ~[xwiki-platform-search-solr-api-5.3-milestone-2.jar:na]  \n11:12\u00a0<sburjan> ... 8 common frames omitted  \n11:15\u00a0<cjd>\u00a0yeah  \n11:15\u00a0<cjd>\u00a0perhaps it should be suppressed from the logs  \n11:15\u00a0<cjd>\u00a0when you try to look at a picture which is an attachment, it looks for the attachment and cannot find it in the FS so it panics  \n11:15\u00a0<cjd>\u00a0or perhaps it should fallback on the DB?  \n11:15\u00a0<cjd>\u00a0the reason it was originally avoided was \"too magical\"  \n11:17\u00a0<sburjan>\u00a0I think it's the Lucene and SOLR indexers  \n11:19\u00a0<cjd>\u00a0also there are a number of pictures on the wiki which you end up viewing while navigating  \n11:22\u00a0<vmassol>\u00a0this definitely needs to be fixed (ie not appear if it shouldn't)  \n11:22\u00a0<vmassol>\u00a0for 5.3RC1  \n11:23\u00a0<vmassol>\u00a0who should look into this?  \n11:23\u00a0<cjd>\u00a0it's been there since the beginning IIRC  \n11:23\u00a0<vmassol>\u00a0doesn't make it good, I never noticed it  \n11:23\u00a0<vmassol>\u00a0but then FS are off byd efault  \n11:23\u00a0<vmassol>\u00a0so I don't use them much anywhere  \n11:23\u00a0<cjd>\u00a0it only happens during the period between the FS attachments being enabled and attachments being ported to FS  \n11:23\u00a0<vmassol>\u00a0we're now talking about having FS for attachments on by default  \n11:24\u00a0<vmassol>\u00a0so we need to make sure there are no issues  \n11:24\u00a0<cjd>\u00a0if they're on by default, you'll never see it  \n11:24\u00a0<vmassol>\u00a0ah ok  \n11:24\u00a0<vmassol>\u00a0which explains why I didn't see them  \n11:24\u00a0<cjd>\u00a0you see it because the database says there are attachments and the filesystem says there aren't  \n11:24\u00a0<vmassol>\u00a0well  \n11:24\u00a0<cjd>\u00a0which is arguably a very big problem  \n11:24\u00a0<vmassol>\u00a0if we make FS on by default  \n11:24\u00a0<vmassol>\u00a0then when user upgrade they'll see it  \n11:24\u00a0<vmassol>\u00a0that's a lot of users  \n11:24\u00a0<vmassol>\u00a0;)  \n11:24\u00a0<cjd>\u00a0hmm  \n11:25\u00a0<cjd>\u00a0if it's going to be on by default for mysql users then we need automatic conversion  \n11:25\u00a0<cjd>\u00a04.0 all over again \\:D/  \n11:25\u00a0<cjd>\u00a0on major wikis, this will take a very long time and it's difficult to explain why it needs so much time  \n11:26\u00a0<cjd>\u00a0Another option is to enable it by default in new instances but not in upgrades (or to wait until our migration thing is really solid)  \n11:27\u00a0<cjd>\u00a0HSQL based instances could benefit a lot from FS attach  \n11:27\u00a0<vmassol>\u00a0yes we'd need a Migration class  \n11:27\u00a0<vmassol>\u00a0the fact that it takes long is an issue indeed  \n11:28\u00a0<cjd>\u00a0it won't be as bad as 4.0 because it doesn't touch lots of old fields  \n11:28\u00a0<cjd>\u00a0but it will take a very long time because it will be moving potentially 20G or more of data around  \n11:29\u00a0<cjd>\u00a0and it will potentially run some systems out of disk  \n11:29\u00a0<cjd>\u00a0also behavior in the context of a wiki cluster should be taken into account  \n11:29\u00a0<vmassol>\u00a0yes  \n11:29\u00a0<cjd>\u00a0mysql is a crappy way to store major data but FS is too :(  \n11:29\u00a0<vmassol>\u00a0in preparation  \n11:30\u00a0<cjd>\u00a0Other than the known issues such as not being able to query for deleted attachments, my understanding is FS attach works perfectly :)  \n11:31\u00a0<cjd>\u00a0<small>notwithstanding strikes, floods and Acts of God</small>  \n11:31\u00a0<vmassol>\u00a0hmm that's an issue, could it be fixed?  \n11:32\u00a0<cjd>\u00a0it is possible but it is not a \"fix\" as much as it is a change of data representation (IE: new code)  \n11:32\u00a0<cjd>\u00a0to the user it is a bug, to the code it is a missing feature  \n11:33\u00a0<cjd>\u00a0this means migration (which in this case ought to be automatic since it is small and strait forward)  \n11:33\u00a0<cjd>\u00a0however the porter script makes a point of not deleting old attachment data in the DB because trashing data in the DB is a bit scary  \n11:34\u00a0<cjd>\u00a0the obvious fix would be to insert empty DeletedAttachments with pointers to the relevant files, this would replace the existing DeletedAttachments  \n11:34\u00a0<cjd>\u00a0or maybe not.. hmm  \n11:39\u00a0<sburjan>\u00a0tmortagne: after you finish http://jira.xwiki.org/browse/XE-1347 could you port the changes to 5.2.x branch too ?  \n11:40\u00a0<sburjan>\u00a0actually this question is for Guillaume  \n11:40\u00a0<vmassol>\u00a0sburjan: are you sure it's not there already?  \n11:40\u00a0<vmassol>\u00a0AFAIK tmortagne already merged  \n11:40\u00a0<vmassol>\u00a0check the commit s tab  \n11:40\u00a0<sburjan>\u00a0yes, I was looking at fixFor only. But the commits tab show it's been committed in 5.2.x also  \n11:41\u00a0<vmassol>\u00a0ah fixing that  \n11:41\u00a0<vmassol>\u00a0fixed  \n11:42\u00a0<sburjan>\u00a0thanks vmassol  \n11:50\u00a0<deersi>\u00a0has joined #xwiki  \n11:51\u00a0<deersi>\u00a0hi, Can anyone help in connecting a 3.5G iBall USB modem on Ubuntu 13.04. Iv'e installed usb-modeswitch and Sakis3G but Sakis fails to switch the modem.  \n11:52\u00a0<deersi>\u00a0has left #xwiki  \n12:00\u00a0<andrewmcveigh|wo>\u00a0has quit  \n12:01\u00a0<andrewmcveigh|wo>\u00a0has joined #xwiki  \n12:02\u00a0<Slashman>\u00a0has joined #xwiki  \n12:27\u00a0<vmassol>\u00a0wow xwiki was starting fast in the past  \n12:27\u00a0<vmassol>\u00a0I'm retesting a 1.8  \n12:27\u00a0<vmassol>\u00a0and it starts in less than 2 seconds  \n12:28\u00a0<vmassol>\u00a0and wow pages loads are also much much faster  \n12:28\u00a0<vmassol>\u00a0I highly suggest you try it too it's impressive  \n12:28\u00a0<vmassol>\u00a0the home page loads in a few ms  \n12:39\u00a0<msmeria>\u00a0it would be impressive if it could have the same behaviour for 5.3 :)  \n12:54\u00a0<sburjan>\u00a0vmassol: check my skype status ;)  \n12:54\u00a0<vmassol>\u00a0sburjan: oops :)  \n12:54\u00a0<vmassol>\u00a0try 1.8  \n12:54\u00a0<vmassol>\u00a0you'll be surprised  \n12:54\u00a0<vmassol>\u00a0it's a good thing for all devs to do  \n12:54\u00a0<vmassol>\u00a0to realize the speed difference  \n12:55\u00a0<vmassol>\u00a0and to push for perf imrpvoements in the 6.x cycle  \n12:55\u00a0<sburjan>\u00a0I met XWiki @2.3, and it was flying compared to the newer ones  \n12:55\u00a0<sburjan>\u00a0yes, +1 for perf  \n12:55\u00a0<vmassol>\u00a0half the size, twice the speed  \n12:56\u00a0<sburjan>\u00a0yepp  \n13:04\u00a0<andrewmcveigh|wo>\u00a0has quit  \n13:18\u00a0<andrewmcveigh|wo>\u00a0has joined #xwiki  \n13:26\u00a0<sburjan>\u00a0any idea where Guillaume is ?  \n13:26\u00a0<sburjan>\u00a0will he be available today ?  \n13:26\u00a0<vmassol>\u00a0off  \n13:28\u00a0<vmassol>\u00a0he's back on Monday  \n13:42\u00a0<camil7>\u00a0has joined #xwiki  \n14:02\u00a0<msmeria>\u00a0has quit  \n14:02\u00a0<sburjan>\u00a0tmortagne / \u00a0vmassol : at what version the DW was first introduced ?  \n14:04\u00a0<tmortagne>\u00a0sburjan: you really want to know that or you want to know since when the UI XAR is registered as extension ?  \n14:04\u00a0<sburjan>\u00a0tmortagne: I want to know which is the first version we have DW kicking in. I am talking about the UI  \n14:05\u00a0<sburjan>\u00a0I don't seem to get it in 4.1.4  \n14:05\u00a0<tmortagne>\u00a0beginning of 4http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki42#HExperimentalinstall2Fupgradewizard.x, checking release notes  \n14:05\u00a0<tmortagne>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki42#HExperimentalinstall2Fupgradewizard  \n14:06\u00a0<tmortagne>\u00a0so 4.2  \n14:06\u00a0<sburjan>\u00a0thanks  \n14:13\u00a0<andrewmcveigh|wo>\u00a0has quit  \n14:17\u00a0<andrewmcveigh|wo>\u00a0has joined #xwiki  \n14:27\u00a0<mflorea>\u00a0has quit  \n14:29\u00a0<chalx>\u00a0has joined #xwiki  \n15:04\u00a0<sburjan>\u00a0tmortagne: ping  \n15:04\u00a0<tmortagne>\u00a0sburjan: pong  \n15:05\u00a0<sburjan>\u00a0tmortagne: I am re-testing http://jira.xwiki.org/browse/XE-1347 using the same versions. I was able to migrate using DW and only got conflicts in the Stats space. I have written down all page names which generated a conflict. Do you need their names ?  \n15:05\u00a0<tmortagne>\u00a0sburjan: I'm not the one assigned to that issue  \n15:06\u00a0<sburjan>\u00a0afaik yesterday you were the once  \n15:06\u00a0<sburjan>\u00a0\\*one  \n15:06\u00a0<sburjan>\u00a0ok, I'll talk with Guillaume on Monday then  \n15:07\u00a0<tmortagne>\u00a0I fixed one issue and as I said in the mail and as vmassol said too Guillaume is taking care of the rest  \n15:07\u00a0<tmortagne>\u00a0just indicate in the issue what you got  \n15:07\u00a0<sburjan>\u00a0ok  \n15:08\u00a0<tmortagne>\u00a0and please indicate what difference you got between previous and current, displaying the default diff is useless to understand where the conflict come from  \n15:08\u00a0<sburjan>\u00a0there are 22 conflicting pages. do you want for each of them to take a screenshot of the diff ?  \n15:09\u00a0<sburjan>\u00a0do you think that would help ? I may take some time to do this  \n15:09\u00a0<tmortagne>\u00a0there is 22 pages in the stats space ?  \n15:09\u00a0<sburjan>\u00a0there are 22 merge conflicts in the stats space  \n15:09\u00a0<sburjan>\u00a0in 22 pages. Don't know the total number  \n15:10\u00a0<tmortagne>\u00a0sburjan: indicate the diff for at least a few of them  \n15:10\u00a0<sburjan>\u00a0ok  \n15:11\u00a0<tmortagne>\u00a0as a minimum indicate if there was actually a merge or if the DW could not find the previous version  \n15:11\u00a0<tmortagne>\u00a0so many conflict in that specific spaces sounds pretty weird  \n15:11\u00a0<tmortagne>\u00a0I doubt we touched much that space in a while  \n15:11\u00a0<sburjan>\u00a0tmortagne: also seems that for workspace template I have others as well  \n15:12\u00a0<tmortagne>\u00a0indicate everything you have with all the useful information you can  \n15:12\u00a0<tmortagne>\u00a0and what is the most useful is whatever help to find what the hell changed between previous and current to produce a conflict  \n15:15\u00a0<sburjan>\u00a0it's like t he workspace template and other wikis don't go through a \"repair\" phase  \n15:15\u00a0<sburjan>\u00a0only the main wiki goes  \n15:18\u00a0<sburjan>\u00a0tmortagne: I can't write down all the conflicting pages, it would take me 3 days.  \n15:18\u00a0<sburjan>\u00a0I'll put some screenshots for some of them  \n15:18\u00a0<tmortagne>\u00a0sburjan: were you asked for a repair ?  \n15:18\u00a0<cjd>\u00a0hahaha extension generator :]  \n15:18\u00a0<sburjan>\u00a0tmortagne: nope  \n15:19\u00a0<sburjan>\u00a0tmortagne: I mean I got asked but it seems it was only for the main wiki  \n15:19\u00a0<tmortagne>\u00a0sburjan: did you had a upgrade button or a install button ?  \n15:19\u00a0<sburjan>\u00a0I had an upgrade button. i selected previous version (4.1.4) the I got a repair button  \n15:19\u00a0<sburjan>\u00a0I'll comment on the issue  \n15:19\u00a0<sburjan>\u00a0and figure it out with GD on Monday  \n15:19\u00a0<tmortagne>\u00a0I'm talking about subwikis  \n15:19\u00a0<tmortagne>\u00a0forget about the main one  \n15:20\u00a0<sburjan>\u00a0no, for subwikis I was not asked for a repair  \n15:20\u00a0<tmortagne>\u00a0and how did you upgraded the subwiki ?  \n15:20\u00a0<tmortagne>\u00a0in the subwiki itself ?  \n15:20\u00a0<sburjan>\u00a0no, using \"Upgrade All Wikis\"  \n15:20\u00a0<tmortagne>\u00a0that's that's your issue  \n15:20\u00a0<tmortagne>\u00a0the that's your issue  \n15:21\u00a0<tmortagne>\u00a0\"Upgrade All Wikis\" does not ask for repair  \n15:21\u00a0<sburjan>\u00a0seems so. So should I create another jira ?  \n15:21\u00a0<tmortagne>\u00a0mflorea forgot to add that in the new step  \n15:22\u00a0<tmortagne>\u00a0sure  \n15:22\u00a0<cjd>\u00a0that delete space button is way too easy to click  \n15:22\u00a0<cjd>\u00a0I always mouse over it and then panic a little at how close I am to actually hitting it  \n15:24\u00a0<mflorea>\u00a0has joined #xwiki  \n15:29\u00a0<camil7>\u00a0yes, we also had a few users deleting spaces by accident - I wanted to implement a fix for XWIKI-8320 but get distracted everytime I try ...  \n15:33\u00a0<vmassol>\u00a0ok I've done one BFD issue, now starting looking into xwiki.org crashes  \n15:33\u00a0<cjd>\u00a0:)  \n15:34\u00a0<cjd>\u00a0(no it's not because of me, I'm smiling because crashes are bad)  \n15:34\u00a0<cjd>\u00a0!tslc  \n15:38\u00a0<sburjan>\u00a0tmortagne: in which jira project is better to report the issue ? I see Anca reported it on XE in Packaging component  \n15:39\u00a0<tmortagne>\u00a0sburjan: if you are talking about the fact thet you don't get repair in all in one upgrade it has nothing to do with XE, it's in DW UI so it's in platform  \n15:40\u00a0<sburjan>\u00a0thanks. reporting now  \n15:46\u00a0<cjd>\u00a0tmortagne: do you know where I might get the source to the thing that validates the extension? something's wrong with my extension and I can't figure out which field it is  \n15:47\u00a0<cjd>\u00a0(I check the \"installable with extension manager\" box and it unchecks on save)  \n15:48\u00a0<tmortagne>\u00a0cjd: xwiki-platform-repository-server-api module  \n15:48\u00a0<tmortagne>\u00a0it's for \u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/textedit+webviewer ?  \n15:48\u00a0<tmortagne>\u00a0looking to see if I have an idea  \n15:49\u00a0<cjd>\u00a0might be because it's generated and so the \"document creator\" is null  \n15:49\u00a0<tmortagne>\u00a0cjd: \u00a0you did not set Extension version in the dependency  \n15:49\u00a0<cjd>\u00a0I probably ought to fix that even if it's not the cause  \n15:49\u00a0<tmortagne>\u00a0that's probably the issue  \n15:49\u00a0<cjd>\u00a0ahh thanks  \n15:50\u00a0<cjd>\u00a0I set it to \"latest\" because I thought it would take a string  \n15:50\u00a0<tmortagne>\u00a0and Dependency version constraint  \n15:50\u00a0<cjd>\u00a0I guess I have to make up a number  \n15:50\u00a0<tmortagne>\u00a0its like maven you have to put something  \n15:50\u00a0<tmortagne>\u00a0for the contrains I mean  \n15:50\u00a0<tmortagne>\u00a0for the \"Extension version\" it's that all dependencies are linked to a version  \n15:51\u00a0<tmortagne>\u00a0that field is not the version of the dependency, it's the version of the extension for which this dependency apply  \n15:52\u00a0<cjd>\u00a0thanks, I have a good idea where to look now  \n15:54\u00a0<tmortagne>\u00a0don't have much more ideas, sounds like a bug somewhere or the usual typo nobody see  \n15:55\u00a0<cjd>\u00a0I generated the extension programmatically so it could be anything  \n15:56\u00a0<tmortagne>\u00a0cjd: it's nowhere on maven I guess ?  \n15:58\u00a0<cjd>\u00a0tmortagne: no, I didn't import it from maven, I generated it  \n15:58\u00a0<tmortagne>\u00a0cjd: I understood that  \n15:59\u00a0<tmortagne>\u00a0I was just asking in case it's somwhere on maven since maven import works well  \n15:59\u00a0<cjd>\u00a0ahh no  \n15:59\u00a0<cjd>\u00a0http://extensions.xwiki.org/xwiki/bin/view/ImportWebViewer/GroovyCode?viewer=code  \n15:59\u00a0<cjd>\u00a0it's on WebViewers.org installed as a .xar  \n15:59\u00a0<cjd>\u00a0I dump the xar file from the page and extract info from that to build the extension  \n15:59\u00a0<cjd>\u00a0I strongly suspect it's because I'm not setting the author before saving  \n16:00\u00a0<tmortagne>\u00a0hmm I don't think the author is being checked for validation  \n16:00\u00a0<tmortagne>\u00a0and anyway you saved it from the UI multiple times since the generation  \n16:01\u00a0<cjd>\u00a0hmm  \n16:01\u00a0<cjd>\u00a0indeed, so only creator  \n16:02\u00a0<tmortagne>\u00a0I really doubt it could be related to the creator  \n16:02\u00a0<tmortagne>\u00a0the attachment seems to work well so that's not it either  \n16:04\u00a0<tmortagne>\u00a0dependencies don't seems to be involved in the validation since you have an empty ExtensionCode.ExtensionDependencyClass object on http://extensions.xwiki.org/xwiki/bin/view/Extension/WebViewers ;)  \n16:04\u00a0<tmortagne>\u00a0trying something  \n16:05\u00a0<cjd>\u00a0I made a test extension depending on WebViewers and it worked  \n16:05\u00a0<tmortagne>\u00a0no idea what's wrong, all I can think of it exporting that page and see if I have the issue locally  \n16:05\u00a0<cjd>\u00a0nothing very interesting in tomcat logs  \n16:06\u00a0<tmortagne>\u00a0s/it/is/  \n16:06\u00a0<cjd>\u00a0I'll keep poking at it, it's probably something silly I'm doing wrong  \n16:06\u00a0<tmortagne>\u00a0what is indeed weird is that the other one work well and they are pretty similar  \n16:06\u00a0<cjd>\u00a0didn't mean to drag you too far into this since I'm doing all kinds of black magic anyway so it's not really expected to work on the first try :)  \n16:07\u00a0<tmortagne>\u00a0yea well bugs are still possible so that's why I look at issues like this  \n16:08\u00a0<cjd>\u00a0EXOExtensionCode.ExtensionClass  \n16:08\u00a0<cjd>\u00a0maybe that's important, I didn't add it  \n16:08\u00a0<tmortagne>\u00a0I just added it in case of (even if I'm sure the validation code does not care about that)  \n16:08\u00a0<tmortagne>\u00a0does not seems to help  \n16:08\u00a0<tmortagne>\u00a0if you still did not found the issue I will try to debug it tomorrow  \n16:08\u00a0<cjd>\u00a0maybe it compares the extension ID to the document creator?  \n16:09\u00a0<tmortagne>\u00a0no  \n16:09\u00a0<tmortagne>\u00a0almost no extension on exo would work :)  \n16:09\u00a0<cjd>\u00a0I'll push another version which sets the creator anyway since it's just nice to do  \n16:10\u00a0<cjd>\u00a0nope, changing the ID to calebjamesdelisle doesn't help  \n16:24\u00a0<cjd>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<property>  \n16:24\u00a0<cjd>\u00a0+ \u00a0\u00a0\u00a0\u00a0\u00a0<type>XAR</type>  \n16:24\u00a0<cjd>\u00a0:)  \n16:25\u00a0<tmortagne>\u00a0cjd: right  \n16:44\u00a0<cjd>\u00a0tmortagne: extension dependencies don't work unless the extension version is x.x  \n16:44\u00a0<cjd>\u00a0version 0.1.0 doesn't work but changing it to 1.0 works  \n16:45\u00a0<tmortagne>\u00a0cjd: hmm that's weird, you get an error or something ?  \n16:45\u00a0<cjd>\u00a0nope, just doesn't install the version  \n16:46\u00a0<cjd>\u00a0err  \n16:46\u00a0<cjd>\u00a0it installs textedit but it doesn't install the dependency  \n16:47\u00a0<cjd>\u00a0textedit is set to current version 0.1.0, latest version 0.1.0, dependency version 0.1.0 and dependency constraint 1.0 (WebViewers dependency)  \n16:47\u00a0<cjd>\u00a0changing all 0.1.0 to 1.0 fixes the issue  \n16:52\u00a0<zlad>\u00a0has joined #xwiki  \n16:52\u00a0<zlad>\u00a0Hello, I have a question about deploying class sheet code changes  \n16:57\u00a0<tmortagne>\u00a0cjd: could you create a jira issue about it so that I don't forget to look at it ?  \n17:02\u00a0<cjd>\u00a0tmortagne: http://jira.xwiki.org/browse/XWIKI-9709  \n17:02\u00a0<cjd>\u00a0can you check that's not a PEBKAC error?  \n17:02\u00a0<tmortagne>\u00a0thanks  \n17:04\u00a0<evalica>\u00a0has quit  \n17:06\u00a0<tmortagne>\u00a0cjd: you indicated http://extensions.xwiki.org/xwiki/bin/view/Extension/textedit+webviewer in the issue but that page does not exist anymore  \n17:07\u00a0<cjd>\u00a0back :)  \n17:07\u00a0<cjd>\u00a0so my settings look sane? I wasn't 100% sure re constraint and extensionVersion  \n17:08\u00a0<tmortagne>\u00a0looks ok yes  \n17:09\u00a0<tmortagne>\u00a0will check what I get trough rest  \n17:09\u00a0<cjd>\u00a0ok then it's probably real because I was able to reproduce the issue relaibly by changing 1.0 to 0.1.0 and remove it by changing them back  \n17:10\u00a0<tmortagne>\u00a0cjd: can I edit the page ?  \n17:10\u00a0<cjd>\u00a0sure  \n17:11\u00a0<tmortagne>\u00a0hmm http://extensions.xwiki.org/xwiki/rest/repository/extensions/webviewer:textedit/versions/0.1.0 seems ok  \n17:11\u00a0<cjd>\u00a0it feels client sidey  \n17:12\u00a0<tmortagne>\u00a0yea but I really don't see how you could have this behavior on EM side, the dependency is definitely there so there should be at least a warning if there is some issue  \n17:12\u00a0<j-simard>\u00a0has quit  \n17:12\u00a0<tmortagne>\u00a0lets see  \n17:13\u00a0<tmortagne>\u00a0http://www.xwiki.org/xwiki/bin/admin/XWiki/XWikiPreferences?section=XWiki.AddExtensions&search=textedit&repo= seems to find the dependency in details  \n17:14\u00a0<tmortagne>\u00a0and when I click install it indicate that it's going to install the dependency  \n17:14\u00a0<cjd>\u00a0ok you're getting further than me  \n17:14\u00a0<tmortagne>\u00a0did you had it in the list ?  \n17:14\u00a0<cjd>\u00a0no, it was not in the list  \n17:14\u00a0<tmortagne>\u00a0I only moved from 1.0 to 0.1.0 in version.version and dependency.version  \n17:14\u00a0<cjd>\u00a0xwiki-enterprise-jetty-hsqldb-5.3-20131120.062104-121.zip  \n17:14\u00a0<cjd>\u00a0that's what I'm testing on  \n17:15\u00a0<tmortagne>\u00a0lets see what I get on master  \n17:15\u00a0<tmortagne>\u00a0do you still reproduce right now ? after my last edit  \n17:15\u00a0<cjd>\u00a0maybe I corrupted my wiki  \n17:15\u00a0<cjd>\u00a0hang on a sec, let me check  \n17:16\u00a0<cjd>\u00a0affirmative, it still reproduces  \n17:16\u00a0<tmortagne>\u00a0ok  \n17:16\u00a0<tmortagne>\u00a0lets see then  \n17:16\u00a0<cjd>\u00a0lemme rmrf my wiki and unzip it again  \n17:19\u00a0<cjd>\u00a0https://ezcrypt.it/147n#xbyA1jv3WxEKyDvFXssHX5YP  \n17:19\u00a0<cjd>\u00a0new bahavior  \n17:21\u00a0<cjd>\u00a0also this: https://ezcrypt.it/247n#JltQ8qfQgh9h6o8X2ZPuMkoh  \n17:21\u00a0<cjd>\u00a0not sure what to make of that  \n17:21\u00a0<tmortagne>\u00a0it seems to be searching for id \"calebjamesdelisle:webviewers:jar\"  \n17:22\u00a0<tmortagne>\u00a0which is weird  \n17:24\u00a0<cjd>\u00a0I have to run, I just added those pastes to a comment on jira and I'll pick this back up tomorrow  \n17:24\u00a0<cjd>\u00a0has quit  \n17:30\u00a0<chalx>\u00a0has quit  \n17:30\u00a0<sburjan>\u00a0has quit  \n17:42\u00a0<mrflibble>\u00a0hi guys, I have a question about LDAP authentication  \n17:42\u00a0<zlad>\u00a0My question was answered in another room, thanks  \n17:43\u00a0<mrflibble>\u00a0I'm getting the following error from our AD DC: \"LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 525\"  \n17:44\u00a0<mrflibble>\u00a0i'm guessing this is because xwiki is trying to bind with a cleartext password  \n17:44\u00a0<mrflibble>\u00a0and AD thinks it's a security risk - am i right? and how to I make xwiki use \"encrypted\" login details?  \n17:46\u00a0<tmortagne>\u00a0mrflibble: it's the first time I see this issue and XWiki works well with AD  \n17:46\u00a0<tmortagne>\u00a0maybe your AD is configured with SSL ?  \n17:47\u00a0<mrflibble>\u00a0ok, it's possible - can i use ldaps and port 636 or whatever?  \n17:47\u00a0<tmortagne>\u00a0you have SSL related properties in the configuration  \n17:47\u00a0<tmortagne>\u00a0you can set whatever port you want in the configuration  \n17:48\u00a0<mrflibble>\u00a0ok  \n17:48\u00a0<mrflibble>\u00a0xwiki.authentication.ldap.ssl - got it  \n17:48\u00a0<mrflibble>\u00a0thanks  \n17:50\u00a0<tmortagne>\u00a0mrflibble: you're welcome  \n18:06\u00a0<tmortagne>\u00a0has quit  \n18:19\u00a0<camil7>\u00a0has left #xwiki  \n18:27\u00a0<mflorea>\u00a0has quit  \n18:30\u00a0<ekarlso>\u00a0has quit  \n18:36\u00a0<zlad>\u00a0has quit  \n18:37\u00a0<ekarlso>\u00a0has joined #xwiki  \n19:01\u00a0<KermitTheFragger>\u00a0has quit  \n19:26\u00a0<Slashman>\u00a0has quit  \n19:49\u00a0<lucaa>\u00a0has quit  \n19:59\u00a0<abusenius>\u00a0has joined #xwiki  \n20:52\u00a0<mflorea>\u00a0has joined #xwiki  \n21:11\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n22:06\u00a0<Denis>\u00a0has quit  \n23:20\u00a0<vmassol>\u00a0mflorea: working late? :)  \n23:20\u00a0<mflorea>\u00a0:)  \n23:20\u00a0<mflorea>\u00a0a bit  \n23:33\u00a0<abusenius>\u00a0has quit  \n23:35\u00a0<vmassol>\u00a0has quit  \n23:40\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n23:42\u00a0<mflorea>\u00a0has quit  \n23:42\u00a0<sburjan`>\u00a0has quit  \n23:42\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n23:43\u00a0<mflorea>\u00a0has joined #xwiki\n"}