{"id": "dev:IRC.xwikiArchive20110815", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110815", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:26\u00a0<lucaa>\u00a0has joined #xwiki  \n00:33\u00a0<@cjdelisle>\u00a0sdumitriu: when you get a chance can you add me to xwiki-contrib?  \n01:20\u00a0<lucaa>\u00a0has quit  \n01:56\u00a0<lucaa>\u00a0has joined #xwiki  \n02:00\u00a0<lucaa>\u00a0has quit  \n02:16\u00a0<sburjan`>\u00a0has quit  \n02:21\u00a0<sburjan`>\u00a0has joined #xwiki  \n02:22\u00a0<sburjan`>\u00a0has quit  \n02:22\u00a0<sburjan`>\u00a0has joined #xwiki  \n02:46\u00a0<lucaa>\u00a0has joined #xwiki  \n03:44\u00a0<amon>\u00a0Documentation speaks of an Administration / General section in which I should find the Date Format settings. It does not seem to be there. How do I get to it?  \n04:12\u00a0<DrLou>\u00a0has quit  \n04:17\u00a0<@sdumitriu>\u00a0cjdelisle: You're on xwiki-contrib  \n04:18\u00a0<sdumitriu>\u00a0has quit  \n04:18\u00a0<sdumitriu>\u00a0has joined #xwiki  \n04:44\u00a0<DrLou>\u00a0has joined #xwiki  \n05:20\u00a0<DrLou>\u00a0has quit  \n09:21\u00a0<mflorea>\u00a0has joined #xwiki  \n09:57\u00a0<lucaa>\u00a0has quit  \n10:09\u00a0<jamesxu>\u00a0has joined #xwiki  \n10:39\u00a0<lucaa>\u00a0has joined #xwiki  \n11:17\u00a0<jamesxu>\u00a0has quit  \n11:45\u00a0<sburjan`>\u00a0has left #xwiki  \n11:45\u00a0<sburjan`>\u00a0has joined #xwiki  \n11:45\u00a0<sburjan`>\u00a0has quit  \n11:46\u00a0<sburjan`>\u00a0has joined #xwiki  \n11:57\u00a0<vmassol>\u00a0has joined #xwiki  \n11:58\u00a0<vmassol>\u00a0has quit  \n12:00\u00a0<vmassol>\u00a0has joined #xwiki  \n12:01\u00a0<vmassol>\u00a0has quit  \n12:10\u00a0<vmassol>\u00a0has joined #xwiki  \n12:14\u00a0<vmassol>\u00a0has quit  \n12:17\u00a0<lucaa>\u00a0has quit  \n12:23\u00a0<rrodriguez>\u00a0has joined #xwiki  \n13:48\u00a0<polx>\u00a0has joined #xwiki  \n13:49\u00a0<polx>\u00a0Hello XWikiers, can anyone restart jira?  \n13:51\u00a0<DrLou>\u00a0has joined #xwiki  \n13:57\u00a0<polx>\u00a0has quit  \n14:47\u00a0<polx>\u00a0has joined #xwiki  \n14:47\u00a0<mflorea>\u00a0has quit  \n14:47\u00a0<polx>\u00a0has quit  \n14:50\u00a0<polx>\u00a0has joined #xwiki  \n14:51\u00a0<mflorea>\u00a0has joined #xwiki  \n15:29\u00a0<mflorea>\u00a0has quit  \n15:30\u00a0<vmassol>\u00a0has joined #xwiki  \n15:46\u00a0<+jvelociter>\u00a0polx: restarting JIRA  \n15:47\u00a0<+jvelociter>\u00a0(non-working day in France, not many people working\u2026 :) )  \n16:30\u00a0<lucaa>\u00a0has joined #xwiki  \n16:32\u00a0<@sdumitriu>\u00a0vmassol, cjdelisle: Did you get a chance to look at the failing attachment tests?  \n16:33\u00a0<@cjdelisle>\u00a0I have looked at the test and determined a few things about it although I have not found anything conclusive yet.  \n16:33\u00a0<vmassol>\u00a0sdumitriu: I hand over to cjdelisle before going on holidays. I'm back from holidays tomorrow  \n16:33\u00a0<vmassol>\u00a0s/hand/have handed/  \n16:33\u00a0<@sdumitriu>\u00a0I tried to look at them also, but couldn't fix them  \n16:33\u00a0<@sdumitriu>\u00a0They look pretty important to me  \n16:33\u00a0<@cjdelisle>\u00a0Also there seems to be another problem when deleting attachments which is breaking the import tests every time.  \n16:33\u00a0<@sdumitriu>\u00a0But today is release day  \n16:34\u00a0<@sdumitriu>\u00a0Should I release with these failing tests, hoping they'll get fixed right after, or should the release be delayed until we can fix them?  \n16:34\u00a0<vmassol>\u00a0seems there's \u00a0a jvm issue on the agent too: http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-misc/org.xwiki.enterprise$xwiki-enterprise-test-misc/63/testReport/org.xwiki.test.integration/XWikiTestSetup/junit\\_framework\\_TestSuite\\_212bcd4b/  \n16:35\u00a0<@cjdelisle>\u00a0I added a 1 second delay to the ImportTest trying to debug a race condition and after that I kept getting a very concerning error  \n16:35\u00a0<@cjdelisle>\u00a0\"org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\"  \n16:38\u00a0<lucaa>\u00a0has quit  \n16:40\u00a0<@cjdelisle>\u00a0http://xwiki.pastebay.com/135610  \n16:50\u00a0<@sdumitriu>\u00a0Should I release with these failing tests, hoping they'll get fixed right after, or should the release be delayed until we can fix them?  \n16:54\u00a0<vmassol>\u00a0I'd say release BUT we all need to help fixing those ASAP. Personally I've been trying to fix those for several weeks (months?). I called for help at least 5 times here over 1-2 months too but didn't get much response until Caleb agreed to help last week. A pity we've let these tests fail for so long...  \n17:13\u00a0<mbryant>\u00a0has joined #xwiki  \n17:16\u00a0<mbryant>\u00a0question guys: I am currently creating an xwiki doc, via the com.xpn.xwiki.api.XWiki.creatDocument() function. \u00a0there is also a com.xpn.xwiki.api.XWiki.setTitle().. my question is, I want to ensure that the name of the document, and the title are unqiue, and i dont see any return values or execptions thrown, to say otherwise. \u00a0is there a way to ensure that i dont accidently blow away another  \n17:16\u00a0<mbryant>\u00a0page, other than a UUID naming convention? or is there a method call that I can use, or an area of the API that could help me in this matter  \n17:22\u00a0<@sdumitriu>\u00a0mbryant: There's com.xpn.xwiki.api.XWiki.getUniquePageName(String, String)  \n17:23\u00a0<@sdumitriu>\u00a0But it's not thread-safe, meaning that it won't reserve the returned name, so parallel calls to this method could return the same name until one of the threads actually saves that document  \n17:26\u00a0<mbryant>\u00a0so just out of curiosty, if a page exists of the same name, does it just an an integer on the end?  \n17:28\u00a0<abusenius>\u00a0has joined #xwiki  \n17:30\u00a0<mbryant>\u00a0and does com.xpn.xwiki.api.XWiki.getDocument(string fullName) return null, if it does not exists or throw the exception  \n17:31\u00a0<mbryant>\u00a0given a valid xwiki and space  \n17:52\u00a0<vmassol>\u00a0pretty involved izpack usage: http://t.co/6IJPiHj  \n17:53\u00a0<@sdumitriu>\u00a0mbryant: It always retuns a document  \n17:54\u00a0<@sdumitriu>\u00a0If it doesn't exist, it returns an empty Document, without content or author  \n17:54\u00a0<@sdumitriu>\u00a0(use doc.isNew() to check if it's new or not)  \n18:07\u00a0<polx>\u00a0has quit  \n18:21\u00a0<vmassol>\u00a0sdumitriu: do you want me to commit my changes to the top level POM for PGP now so that you can use it for the release you're starting?  \n18:30\u00a0<vmassol>\u00a0done  \n18:41\u00a0<mbryant>\u00a0another quetion, in testing, I just called my method, and i get an execption as follow... How do I ensure that my context, allows me to add/edit content to a page. \u00a0Error number 9001 in 9: Access denied in edit mode on document xwiki:Main.DoesNotExist  \n18:42\u00a0<mbryant>\u00a0or is it because I got the context from a restful get  \n18:49\u00a0<mbryant>\u00a0sdumitriu: not sure if this caught your attention or not, so this is a repost: another quetion, in testing, I just called my method, and i get an execption as follow... How do I ensure that my context, allows me to add/edit content to a page. \u00a0Error number 9001 in 9: Access denied in edit mode on document xwiki:Main.DoesNotExist  \n19:13\u00a0<vmassol>\u00a0hmm what email should I use for the xwiki.org twitter account\u2026.  \n19:14\u00a0<@sdumitriu>\u00a0vmassol: A personal one  \n19:14\u00a0<vmassol>\u00a0I'll use a personal email address for now  \n19:14\u00a0<vmassol>\u00a0yes  \n19:15\u00a0<@sdumitriu>\u00a0Since twitter can't be subscried to [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \n19:15\u00a0<@sdumitriu>\u00a0mbryant: That error has nothing to do with the API method you called  \n19:15\u00a0<vmassol>\u00a0we could have a private mailing list for infra admins  \n19:15\u00a0<vmassol>\u00a0(but for later)  \n19:16\u00a0<@sdumitriu>\u00a0Yes  \n19:16\u00a0<mbryant>\u00a0sdumitriu: okay so how do I avoid it, I am assuming that it has something to do with the context, or setting a property in the document, i can provide a full stack trace if needed  \n19:17\u00a0<@sdumitriu>\u00a0Full stack would be nice  \n19:20\u00a0<mbryant>\u00a0http://pastebin.com/4m9dvPBx  \n19:23\u00a0<@sdumitriu>\u00a0mbryant: Probably a rights problem  \n19:23\u00a0<@sdumitriu>\u00a0Are you supposed to be logged in?  \n19:24\u00a0<abusenius>\u00a0has quit  \n19:24\u00a0<mbryant>\u00a0yea thats what i am guessing but how do I ensure that the user is logged in  \n19:24\u00a0<@sdumitriu>\u00a0The REST system is supposed to use the normal user authentication, so make sure you're logged in in the browser (or tool) that you use to make the request  \n19:24\u00a0<mbryant>\u00a0user being \"user\" more like bot  \n19:26\u00a0<@sdumitriu>\u00a0What do you use to make requests? A java application?  \n19:26\u00a0<mbryant>\u00a0yes  \n19:27\u00a0<mbryant>\u00a0erm wait, I use curl to call our restful service, which we just piggybacked on too.. I think i know the problem now.. give me just a second to test it, I never pased username or pw to that...  \n19:27\u00a0<@sdumitriu>\u00a0Hm, one quick thing that comes to mind is to check what cookies you have in your browser and manually set them in the request, to get a quick mock of the authentication going  \n19:33\u00a0<mbryant>\u00a0thanks for the stupid check... I forgot to pass the user/pw to the system, so it didnt have the rights  \n19:49\u00a0<vmassol>\u00a0has quit  \n19:56\u00a0<vmassol>\u00a0has joined #xwiki  \n19:59\u00a0<vmassol>\u00a0has quit  \n20:05\u00a0<vmassol>\u00a0has joined #xwiki  \n20:19\u00a0<npm>\u00a0has quit  \n20:28\u00a0<polx>\u00a0has joined #xwiki  \n20:42\u00a0<polx>\u00a0has quit  \n20:45\u00a0<polx>\u00a0has joined #xwiki  \n21:02\u00a0<mmaksimov>\u00a0has joined #xwiki  \n21:07\u00a0<mmaksimov>\u00a0Hi. I'm exposing intranet xwiki site via Apache Httpd reverse proxy that does ssl encryption and basic auth. However, it leaves the basic auth headers in the request and xwiki uses it to authenticate. Thus, it is not possible to logout from xwiki: the system automagically re-logins using the httpd's basic auth credentials (though it normally uses form-based auth). Is it possible to totally disable basic auth in xwiki?  \n21:08\u00a0<@cjdelisle>\u00a0It is \\*possible\\* but it requires editing code and compiling.  \n21:10\u00a0<mmaksimov>\u00a0er... Do you remember the class name?  \n21:12\u00a0<mmaksimov>\u00a0com/xpn/xwiki/user/impl/xwiki/MyBasicAuthenticator.java?  \n21:12\u00a0<@cjdelisle>\u00a0It would be called from XWikiAuthServiceImpl.java  \n21:14\u00a0<@cjdelisle>\u00a0but it's possible that it's actually happening in code done by SecurityFilter, it might be more effective to stop using SSL sessions and switch to regular form auth since it's cookies which are tunneled through SSL anyway.  \n21:18\u00a0<mmaksimov>\u00a0thanks a lot, I'll see what I can do  \n21:19\u00a0<@cjdelisle>\u00a0if you have any questions, don't hesitate to ask, I don't know that perticular code very well but I can give you some ideas.  \n21:26\u00a0<+sburjan`>\u00a0isn't this a bug ?  \n21:26\u00a0<@cjdelisle>\u00a0If SSL stuff keeps submitting basic auth every time then it's not a bug on our side.  \n21:27\u00a0<@cjdelisle>\u00a0it just keeps on logging back in.  \n21:29\u00a0<mmaksimov>\u00a0has quit  \n21:41\u00a0<mbryant>\u00a0has quit  \n23:28\u00a0<sdumitriu>\u00a0has quit  \n23:43\u00a0<sdumitriu>\u00a0has joined #xwiki  \n\n"}