{"id": "dev:IRC.xwikiArchive20140123", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140123", "title": "IRC Archive for channel #xwiki on 23 January 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:02\u00a0<vmassol>\u00a0has joined #xwiki  \n00:18\u00a0<Sidali>\u00a0has quit  \n01:27\u00a0<abusenius>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n06:35\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n06:36\u00a0<andreeapopescu>\u00a0has quit  \n06:37\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n06:45\u00a0<andreeapopescu>\u00a0has quit  \n07:14\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n07:17\u00a0<andreeapopescu>\u00a0has quit  \n08:09\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:12\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:19\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:19\u00a0<andreeapopescu>\u00a0has quit  \n08:25\u00a0<msmeria>\u00a0has joined #xwiki  \n08:28\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:51\u00a0<Sidali>\u00a0has joined #xwiki  \n09:14\u00a0<cjd>\u00a0has joined #xwiki  \n09:16\u00a0<sburjan>\u00a0has joined #xwiki  \n09:17\u00a0<Denis>\u00a0has joined #xwiki  \n09:21\u00a0<mflorea>\u00a0has joined #xwiki  \n09:26\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:49\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n10:05\u00a0<tmortagne>\u00a0mflorea: you probably saw it already but \"instructions covered ratio is 0.16, but expected minimum is 0.17\" on WYSIWYG server module  \n10:05\u00a0<mflorea>\u00a0tmortagne: I'll handle it, thanks  \n10:07\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:07\u00a0<vmassol>\u00a0an IRCBot test flickered, I need to look at it: http://ci.xwiki.org/job/xwiki-platform-5.2.x/org.xwiki.platform$xwiki-platform-ircbot-test-tests/86/testReport/org.xwiki.ircbot.test.ui/IRCBotTest/testBot/  \n10:09\u00a0<evalica>\u00a0has joined #xwiki  \n10:23\u00a0<lucaa>\u00a0has joined #xwiki  \n10:57\u00a0<polx>\u00a0has joined #xwiki  \n11:04\u00a0<polx>\u00a0has quit  \n11:07\u00a0<Slashman>\u00a0has joined #xwiki  \n11:29\u00a0<DarkKnightCZ>\u00a0how exactly does rendering cache works? when enabled (core.renderingcache.documents=.\\*), column layout style is broken (one container = one row, instead of columns)  \n11:30\u00a0<sburjan>\u00a0gdelhumeau: ping. I think we should add the instructions to the release notes about the need of accessing the template in order to upgrade it also  \n11:30\u00a0<sburjan>\u00a0The 5.2.3 release notes  \n11:31\u00a0<gdelhumeau>\u00a0yes  \n11:31\u00a0<sburjan>\u00a0I just testied, and I get the DW when accessing the template  \n11:34\u00a0<polx>\u00a0has joined #xwiki  \n11:40\u00a0<DarkKnightCZ>\u00a0ok, found it, XWIKI-3544 still bug for 5.3 (that part from Lukasz Skowronski), any workarounds?  \n12:08\u00a0<evalica>\u00a0has quit  \n12:10\u00a0<gdelhumeau>\u00a0when xwiki.authentication.group.allgroupimplicit=1, can we still add custom objects on XWikiAllGroup ?  \n12:11\u00a0<cjd>\u00a0adding non-user objects to document XWiki.XWikiAllGroup?  \n12:11\u00a0<cjd>\u00a0that works  \n12:11\u00a0<cjd>\u00a0adding XWiki.XWikiUsers objects to XWiki.XWikiAllGroup document will \"work\" but it will not affect permissions  \n12:14\u00a0<gdelhumeau>\u00a0ok thx cjd  \n12:17\u00a0<tmortagne>\u00a0gdelhumeau: xwiki.authentication.group.allgroupimplicit=1 means that XWiki.XWikiAllGroup won't be taken into account anymore but you can do whatever you want with it (the same way you can create XWiki.XWikiGuest or XWiki.superadmin documents)  \n12:23\u00a0<gdelhumeau>\u00a0sburjan: I have updated the RN, tell me if you think it is good  \n12:28\u00a0<Denis>\u00a0gdelhumeau, tmortagne, cjd: this is more subtil than that currently, if xwiki.authentication.group.allgroupimplicit=1, the XWiki.XWikiAllGroup is still used normally, but any local users, and any local group are all considered members of XWiki.XWikiAllGroup  \n12:29\u00a0<sburjan>\u00a0gdelhumeau: I think the page is cached, because I don't see your message  \n12:29\u00a0<sburjan>\u00a0actually yes, it's there. I was expecting it to be at the top of the page :)  \n12:32\u00a0<Denis>\u00a0gdelhumeau: that said, I wonder why you have an issue with workspace with mode equals to 1, have you really ?  \n12:32\u00a0<gdelhumeau>\u00a0does it means XWIKI-9886 is invalid?  \n12:33\u00a0<Denis>\u00a0gdelhumeau: have you reproduce it ?  \n12:33\u00a0<gdelhumeau>\u00a0I did not try  \n12:33\u00a0<Denis>\u00a0I suspect it is  \n12:33\u00a0<gdelhumeau>\u00a0ok, I will try this time  \n12:34\u00a0<Denis>\u00a0you were so affirmative about the issue that I have not check that  \n12:35\u00a0<Denis>\u00a0we may ask ourself if this was a good behavior however  \n12:36\u00a0<Denis>\u00a0the performance gain would be a bit better if we make ONLY implicit  \n12:36\u00a0<Denis>\u00a0and would cause your issue obviously  \n12:37\u00a0<gdelhumeau>\u00a0Ok... I don't reproduce  \n12:37\u00a0<Denis>\u00a0I am bit disappointed to have think about a fix for a non-issue  \n12:37\u00a0<gdelhumeau>\u00a0I am too  \n12:37\u00a0<gdelhumeau>\u00a0I should have try at first  \n12:37\u00a0<Denis>\u00a0I thought you had  \n12:38\u00a0<gdelhumeau>\u00a0I trusted the issue  \n12:38\u00a0<msmeria>\u00a0Denis: hello  \n12:38\u00a0<Denis>\u00a0tmortagne: why have you open that issue ?  \n12:38\u00a0<msmeria>\u00a0I've just tested XWIKI-9887 on 5.2.3 and it seems only partially fixed  \n12:39\u00a0<Denis>\u00a0msmeria: partially, what do you mean, I have check it and I do not reproduce anymore  \n12:39\u00a0<msmeria>\u00a0now when you change the owner, the new one is granted the Administer Wiki right, but the previous one still has that right as well  \n12:40\u00a0<msmeria>\u00a0imo he shouldn't have the right anymore  \n12:40\u00a0<Denis>\u00a0msmeria: how do you reproduce that, I do not  \n12:40\u00a0<msmeria>\u00a0the previous owner I mean  \n12:40\u00a0<msmeria>\u00a0just like I wrote in the issue  \n12:40\u00a0<msmeria>\u00a0the same steps  \n12:40\u00a0<evalica>\u00a0has joined #xwiki  \n12:41\u00a0<msmeria>\u00a0in the end U1 only loses the \"Delete Wiki\" right  \n12:41\u00a0<msmeria>\u00a0he still has the Administer right on the wiki  \n12:41\u00a0<Denis>\u00a0msmeria: \u00a0I have followed your steps and I have not reproduce, the nature of the fix could not be a half one, you should have a side effect  \n12:42\u00a0<gdelhumeau>\u00a0I 'm looking again  \n12:43\u00a0<msmeria>\u00a0Denis: I'll retest on another pc/wiki and let you know  \n12:43\u00a0<gdelhumeau>\u00a0No, I confirm, the issue does not exists  \n12:43\u00a0<gdelhumeau>\u00a0mea culpa  \n12:44\u00a0<gdelhumeau>\u00a0I feel very ashamed  \n12:48\u00a0<Denis>\u00a0as I am  \n12:48\u00a0<Denis>\u00a0hope Thomas will have an answer to why we worked so hard on a non-issue  \n12:51\u00a0<gdelhumeau>\u00a0I should have try to reproduce, that is all  \n12:53\u00a0<Denis>\u00a0vmassol: why one more DB update for translated docs ?  \n12:53\u00a0<msmeria>\u00a0Denis: I've just reproduced the issue with the previous owner on sburjan's pc  \n12:53\u00a0<vmassol>\u00a0Denis: to update both the translated doc and the defualt doc  \n12:54\u00a0<vmassol>\u00a0(otp in meeting btw)  \n12:54\u00a0<Denis>\u00a0vmassol: doesn't get why you update the tdoc ?  \n12:54\u00a0<msmeria>\u00a0Denis: sburjan said you can access his machine to see for yourself  \n12:55\u00a0<Denis>\u00a0msmeria: I will try for myself on the release, since I test at the bug fixing time  \n12:55\u00a0<vmassol>\u00a0Denis: when you edit a translation you edit the tdoc right? When you hit save it saves the translated doc  \n12:56\u00a0<Denis>\u00a0vmassol: how this is related to the hidden setting ?  \n12:56\u00a0<vmassol>\u00a0Denis: that's option 1 or option 2  \n12:57\u00a0<vmassol>\u00a0ie where you save the hidden state  \n12:57\u00a0<vmassol>\u00a0either in the translaetd doc or in the default doc  \n12:57\u00a0<Denis>\u00a0vmassol: you were meaning option 2, no ?  \n12:57\u00a0<vmassol>\u00a0where?  \n12:57\u00a0<Denis>\u00a0in your mail: Note that option 2 means one more DB upate when saving a translated doc.  \n12:58\u00a0<vmassol>\u00a0option 2 is about saving in the default doc \u00a0the hidden setting but you also need to save the user's edition of the translaetd doc obviously  \n12:58\u00a0<vmassol>\u00a0so that's 2 DB updates  \n12:59\u00a0<Denis>\u00a0there is many other info that are at the main doc level, I do not get your note.  \n13:00\u00a0<Denis>\u00a0ie: parent doc  \n13:00\u00a0<vmassol>\u00a0yes I guess that's 2 updates too  \n13:00\u00a0<Denis>\u00a0or an issue :)  \n13:01\u00a0<vmassol>\u00a0what I haven't checked is if we always update the default doc when we save a translated doc  \n13:02\u00a0<polx>\u00a0has quit  \n13:02\u00a0<vmassol>\u00a0or if we save the default doc only if default level stuff have been modified  \n13:08\u00a0<vmassol>\u00a0Denis: now I don't think this extra DB update should drive our decision  \n13:09\u00a0<vmassol>\u00a0more me the question is more at the level of use cases we want to support and user usability  \n13:10\u00a0<vrachieru>\u00a0has joined #xwiki  \n13:21\u00a0<vmassol>\u00a0gdelhumeau: if this change is only starting with 5.4 you need to mention it on the page I think  \n13:21\u00a0<vmassol>\u00a0{{info}}XWiki 5.4{{/info}} or something like this  \n13:22\u00a0<vmassol>\u00a0also you need to use (((\u2026))) I think  \n13:22\u00a0<vmassol>\u00a0:)  \n13:40\u00a0<polx>\u00a0has joined #xwiki  \n13:45\u00a0<Denis>\u00a0msmeria: I need your exact step, since I do not reproduce and the step you mention are not for 5.2.3  \n13:45\u00a0<polx\\_>\u00a0has joined #xwiki  \n13:46\u00a0<msmeria>\u00a0Denis: sure. give me 2min  \n13:47\u00a0<polx>\u00a0has quit  \n13:47\u00a0<polx\\_>\u00a0is now known as <polx>  \n13:53\u00a0<msmeria>\u00a0Denis: http://jira.xwiki.org/browse/XWIKI-9887?focusedCommentId=79241&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-79241  \n13:56\u00a0<Denis>\u00a0msmeria: which exact version do you use ?  \n13:56\u00a0<msmeria>\u00a05.2.3  \n13:57\u00a0<msmeria>\u00a0jetty/hsqldb  \n13:57\u00a0<Denis>\u00a0ok  \n13:57\u00a0<Denis>\u00a0I tried MySQL\u2026 could be a hsqldb related, I try  \n13:58\u00a0<msmeria>\u00a0ok  \n13:59\u00a0<sburjan>\u00a0Denis: I was able to reproduce using TOmcat + Postgres  \n14:04\u00a0<Denis>\u00a0msmeria: I am stuck at step6, since at that stage I am in the subwiki, so these steps are not complete  \n14:05\u00a0<Denis>\u00a0msmeria: did you made some test between step 4 and 5 ?  \n14:06\u00a0<Denis>\u00a0msmeria: sorry, forger my first comment  \n14:07\u00a0<Denis>\u00a0msmeria: \u00a0s/forger/forget  \n14:12\u00a0<Denis>\u00a0msmeria: U1 is in the Admin group, so he have admin rights obviously, I have no idea why, you should open a new issue, this is unrelated to the ownership itself  \n14:14\u00a0<DarkKnightCZ>\u00a0is org.xwiki.search.solr.internal.XWikiDismaxQParserPlugin available somewhere for remote solr instance?  \n14:14\u00a0<msmeria>\u00a0Denis: I tested between steps 4 and 5 and the rights are correctly assigned: U1 has both Admin and Delete Wiki right, U2 has no Admin right  \n14:14\u00a0<Denis>\u00a0msmeria: I have not reproduce when I was editing the xwiki descriptor manually, so I suspect the UI to do something silly  \n14:15\u00a0<Denis>\u00a0maybe gdelhumeau could explains ?  \n14:17\u00a0<msmeria>\u00a0Denis: let me get this straight: should the previous owner retain his Administrative right in the subwiki after he's no longer the owner ?  \n14:17\u00a0<msmeria>\u00a0that's the issue  \n14:18\u00a0<Denis>\u00a0no, and it should not be in the admin group at anytime following your steps  \n14:18\u00a0<Denis>\u00a0so the issue is: the owner of the wiki is added to the admin group of that wiki and should not  \n14:19\u00a0<msmeria>\u00a0ok then I'll report another issue  \n14:19\u00a0<msmeria>\u00a0thanks  \n14:20\u00a0<polx>\u00a0has quit  \n14:25\u00a0<sburjan>\u00a0gdelhumeau: I found an issue when migrating the workspacetemplate  \n14:26\u00a0<sburjan>\u00a0gdelhumeau: when migrating a subwiki, is the template (workspacetemplate) used in some way or another ?  \n14:29\u00a0<polx>\u00a0has joined #xwiki  \n14:30\u00a0<Denis>\u00a0sburjan: no, migration is unrelated to template or subwiki settings  \n14:31\u00a0<sburjan>\u00a0hmm, going to dig deeper to narrow it down  \n14:31\u00a0<Denis>\u00a0sburjan: I just commented XWIKI-9856, I would like to close it wont fix, any objection ?  \n14:32\u00a0<sburjan>\u00a0Denis: don't close it yet, I'll take a look at it after I finish with the current issue  \n14:32\u00a0<Denis>\u00a0you may reopen if you disagree, I will close it for now  \n14:41\u00a0<polx>\u00a0has quit  \n14:41\u00a0<Denis>\u00a0msmeria: I am looking at XWIKI-9916, is it also hslqdb ?  \n14:42\u00a0<msmeria>\u00a0Denis: yes also jetty/hsqldb  \n14:42\u00a0<Denis>\u00a0xwikibot: you are wrong, it is just confidencial to you :S  \n14:42\u00a0<msmeria>\u00a0hahaha  \n14:42\u00a0<Denis>\u00a0msmeria: I just checked on 5.4 MySql, it is not affected, trying your config...  \n14:43\u00a0<msmeria>\u00a0actually I was just about to test it now on 5.3 and 5.4m1  \n14:44\u00a0<Denis>\u00a0msmeria: I do not reproduce :(  \n14:45\u00a0<msmeria>\u00a0Denis: on 5.4 hsqldb ?  \n14:46\u00a0<Denis>\u00a0let me a minute, I follow your steps more carefully on 5.2.3, on 5.4 mysql, no, have not tryied hsqldb  \n14:47\u00a0<msmeria>\u00a0doesn't reproduce on 5.3 hsqldb  \n14:47\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n14:48\u00a0<msmeria>\u00a0that's because XWikiServer[name] docs are hidden on 5.3  \n14:48\u00a0<msmeria>\u00a0and I think on 5.4 too  \n14:50\u00a0<Denis>\u00a0msmeria: got it  \n14:51\u00a0<Denis>\u00a0msmeria: the document does not receive a proper creator :(  \n14:51\u00a0<Denis>\u00a0msmeria: their creator is null, which means these were created by guest  \n14:56\u00a0<msmeria>\u00a0Denis: nice. then it's an easy fix ? :P  \n14:56\u00a0<gdelhumeau>\u00a0hi  \n14:56\u00a0<gdelhumeau>\u00a0back from lunch  \n14:56\u00a0<Denis>\u00a0good  \n14:57\u00a0<gdelhumeau>\u00a0Denis: when I do xwiki.saveDocument() in java, there is not author?  \n14:58\u00a0<tmortagne>\u00a0(they are talking about creator from what I understood, not author)  \n14:58\u00a0<Denis>\u00a0gdelhumeau: which one exactly do you use ?  \n14:59\u00a0<gdelhumeau>\u00a0https://github.com/gdelhumeau/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-wiki/xwiki-platform-wiki-default/src/main/java/org/xwiki/wiki/internal/descriptor/builder/DefaultWikiDescriptorBuilder.java#L189  \n15:02\u00a0<msmeria>\u00a0Denis: check my comment here: http://jira.xwiki.org/browse/XWIKI-9916?focusedCommentId=79250&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-79250  \n15:06\u00a0<Denis>\u00a0gdelhumeau: no one does that for you when you access the privileged API  \n15:07\u00a0<gdelhumeau>\u00a0ok, I did not know  \n15:07\u00a0<gdelhumeau>\u00a0but that does not explain for 5.2  \n15:08\u00a0<Sidali>\u00a0(\"DefaultWikiDescriptorBuilder.java\" -> it would be nice if class description could be added to explain the role of class in the plateforme )  \n15:08\u00a0<Sidali>\u00a0(For blue like me)  \n15:08\u00a0<Denis>\u00a0gdelhumeau: you need to: descriptorDoc.setAuthorReference(\u2026) and descriptorDoc.setCreatorReference(\u2026); explicitly  \n15:08\u00a0<Denis>\u00a0why not for 5.2.3, this is exactly the same issue  \n15:11\u00a0<gdelhumeau>\u00a0because I did not change the code in 5.2  \n15:19\u00a0<vmassol>\u00a0gdelhumeau: ping, see my message above  \n15:20\u00a0<vmassol>\u00a0at 13:21  \n15:20\u00a0<vmassol>\u00a0thanks  \n15:21\u00a0<Denis>\u00a0gdelhumeau: that simply means you have move forward a big mistake\u2026  \n15:21\u00a0<gdelhumeau>\u00a0vmassol: you were talking about the wiki page I have edited?  \n15:21\u00a0<vmassol>\u00a0yep http://extensions.xwiki.org/xwiki/bin/view/Extension/Activity+Macro  \n15:21\u00a0<gdelhumeau>\u00a0oh yes  \n15:21\u00a0<gdelhumeau>\u00a0ok  \n15:23\u00a0<sburjan>\u00a0gdelhumeau: when you have the time ... http://jira.xwiki.org/browse/XWIKI-9919  \n15:23\u00a0<sburjan>\u00a0it's not a blocker or anything  \n15:23\u00a0<gdelhumeau>\u00a0sburjan: ok  \n15:28\u00a0<vmassol>\u00a0sburjan: why do you say it's not a blocker?  \n15:29\u00a0<vmassol>\u00a0the stack trace is pretty severe  \n15:29\u00a0<vmassol>\u00a0and it means the velocity is not wokring  \n15:29\u00a0<vmassol>\u00a0working  \n15:31\u00a0<gdelhumeau>\u00a0obviously the velocity code is wrong  \n15:31\u00a0<gdelhumeau>\u00a0just look at the #if #else #end  \n15:31\u00a0<gdelhumeau>\u00a0it looks like a bag merging  \n15:31\u00a0<gdelhumeau>\u00a0\\*bad  \n15:33\u00a0<sburjan>\u00a0yes, I remember reporting an issue about bad title merging, it might be the same issue behind  \n15:34\u00a0<gdelhumeau>\u00a0I'm looking if the title is wrong on a frash install  \n15:34\u00a0<gdelhumeau>\u00a0\\*fresh  \n15:35\u00a0<vmassol>\u00a0msmeria: is it normal that XINFRA-133 is not in the platform jira?  \n15:36\u00a0<vmassol>\u00a0I don't see how it's possible  \n15:36\u00a0<vmassol>\u00a0since you say: Start XWiki 5.2.3  \n15:36\u00a0<vmassol>\u00a0but xwiki.org is on 5.2  \n15:36\u00a0<vmassol>\u00a0:)  \n15:36\u00a0<msmeria>\u00a0vmassol: it's very similar to XINFRA-126 which tmortagne moved to xinfra  \n15:37\u00a0<msmeria>\u00a0so I figured that's the right place for it to be  \n15:37\u00a0<vmassol>\u00a0the way you described the issue doesn't refer to xwiki.org I don't understand  \n15:37\u00a0<woshilapin>\u00a0has quit  \n15:37\u00a0<vmassol>\u00a0XINFRA-126 jsut has a wrong title/descirption  \n15:37\u00a0<vmassol>\u00a0whichi s why tmortagne moved it  \n15:38\u00a0<vmassol>\u00a0if they're dups one should be closed  \n15:38\u00a0<sdumitriu>\u00a0vmassol: Can things like this be removed now? https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-administration/xwiki-platform-administration-test/xwiki-platform-administration-test-tests/pom.xml#L85  \n15:38\u00a0<msmeria>\u00a0they're not dups. it's a somewhat different issue  \n15:38\u00a0<msmeria>\u00a0I'll move it to platform  \n15:39\u00a0<gdelhumeau>\u00a0the title is good on a fresh install  \n15:39\u00a0<woshilapin>\u00a0has joined #xwiki  \n15:39\u00a0<Denis>\u00a0gdelhumeau: XWIKI-9516 was the initial source of XWIKI-9916 and was introduced in 5.2  \n15:40\u00a0<vmassol>\u00a0sdumitriu: don't know, does it work without?  \n15:40\u00a0<Denis>\u00a0xwikibot: you do not learn fast :D  \n15:40\u00a0<sdumitriu>\u00a0vmassol: Didn't test, but the issue is marked as fixed  \n15:40\u00a0<vmassol>\u00a0would need to refresh my memory a bit and retest  \n15:40\u00a0<sdumitriu>\u00a0That's why I'm asking you, though you would know  \n15:40\u00a0<vmassol>\u00a0yeah I should know  \n15:40\u00a0<vmassol>\u00a0but my memory is failing right now  \n15:40\u00a0<sdumitriu>\u00a0AFAICS, it should affect releases  \n15:41\u00a0<gdelhumeau>\u00a0Denis: no, it's writtent 5.3-m2  \n15:41\u00a0<vmassol>\u00a0releases?  \n15:41\u00a0<vmassol>\u00a0I don't see the relationship  \n15:41\u00a0<Denis>\u00a0gdelhumeau: since 5.2 is the reference version for XWiki SAS this seems a pretty severe issue IMO  \n15:41\u00a0<vmassol>\u00a0sdumitriu: that's the lifecycle issue  \n15:42\u00a0<vmassol>\u00a0the packaging  \n15:42\u00a0<vmassol>\u00a0which we removed  \n15:42\u00a0<vmassol>\u00a0it has another TODO above  \n15:42\u00a0<vmassol>\u00a0<!-- TODO: Move to use \"functional-test\" in the future when http://jira.codehaus.org/browse/MNG-1911 is fixed,  \n15:42\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0see http://jira.xwiki.org/jira/browse/XWIKI-7683 -->  \n15:42\u00a0<Denis>\u00a0gdelhumeau: yes you are right\u2026 anyway, it is in 5.2  \n15:43\u00a0<gdelhumeau>\u00a0it means we have it in XEM too  \n15:43\u00a0<gdelhumeau>\u00a0for ages  \n15:44\u00a0<vmassol>\u00a0sdumitriu: I can try it later or you can do it if you wish  \n15:46\u00a0<vmassol>\u00a0msmeria: I'd like to close http://jira.xwiki.org/browse/XINFRA-126 as cannot reproduce  \n15:47\u00a0<vmassol>\u00a0since the extensions are now up to date on xwiki.org  \n15:47\u00a0<msmeria>\u00a0126 is closed  \n15:47\u00a0<vmassol>\u00a0ah it's closed  \n15:48\u00a0<vmassol>\u00a0ok the new one is indeed for platform and not for xinfra  \n15:48\u00a0<vmassol>\u00a0I see you've moved it back to platform  \n15:48\u00a0<vmassol>\u00a0good  \n15:49\u00a0<Denis>\u00a0gdelhumeau: we do not have it for year, I am sure, I have several wiki farm, and only 5.x is affected  \n15:49\u00a0<vmassol>\u00a0msmeria: you didn't specify the versin of XE you used  \n15:49\u00a0<vmassol>\u00a0I'm going to remove the \"relates\" field becuase they're not related AFAICS  \n15:50\u00a0<vrachieru>\u00a0has quit  \n15:50\u00a0<gdelhumeau>\u00a0tmortagne: your opinion about XWIKI-9919 ?  \n15:50\u00a0<vmassol>\u00a0ok updated the desc to explicitly mention 5.2.3 which I assume is what you used since you used affects : 5.2.3  \n15:51\u00a0<tmortagne>\u00a0gdelhumeau: you are sure it did not change ? if it was the case there would not be any merge  \n15:52\u00a0<msmeria>\u00a0vmassol: yes, I used 5.2.3. I thought that was self-explained  \n15:52\u00a0<tmortagne>\u00a0if you can reproduce it you can check the 3 versions you have  \n15:52\u00a0<gdelhumeau>\u00a0https://github.com/xwiki/xwiki-platform/blob/stable-5.2.x/xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-template-features/src/main/resources/Main/WebHome.xml - I don't see anything in the history  \n15:52\u00a0<tmortagne>\u00a0since I doubt you get such a result without a conflict  \n15:52\u00a0<vmassol>\u00a0tmortagne: are you aware of this issue in XWIKI-9920?  \n15:52\u00a0<vmassol>\u00a0wait  \n15:52\u00a0<mflorea>\u00a0has quit  \n15:52\u00a0<vmassol>\u00a0it's normal  \n15:53\u00a0<vmassol>\u00a05.3 > 5.2.3  \n15:53\u00a0<vmassol>\u00a0msmeria: why do you say it's not normal?  \n15:53\u00a0<tmortagne>\u00a0but I don't think that's what bother msmeria  \n15:53\u00a0<vmassol>\u00a0you got a problem?  \n15:53\u00a0<tmortagne>\u00a0he just does not like to get incompatible version listed  \n15:53\u00a0<tmortagne>\u00a0but that's not a bug that's more a new feature from EM point of view  \n15:53\u00a0<vmassol>\u00a0ah no wait  \n15:53\u00a0<vmassol>\u00a0he says you get an error  \n15:53\u00a0<Denis>\u00a0gdelhumeau: I suspect it to be there since XEM and XE has been merged  \n15:54\u00a0<tmortagne>\u00a0vmassol: of course you get an error when you are trying to install incompatible extensions  \n15:54\u00a0<vmassol>\u00a0and thus you can't install it I guess  \n15:54\u00a0<msmeria>\u00a0vmassol: I meant that if I've put 5.2.3 as affects and I said start XWiki in description, it's obvious that you \"start XWiki 5.2.3\"  \n15:54\u00a0<tmortagne>\u00a0the fact that you can't install it is expected, its dependency is not met  \n15:54\u00a0<vmassol>\u00a0ok I get it now, so that's the bug  \n15:54\u00a0<andreeapopescu>\u00a0has quit  \n15:56\u00a0<vmassol>\u00a0msmeria: so I think it's a dup of some other issue  \n15:56\u00a0<vmassol>\u00a0you'd like EM to show only compatible versions  \n15:56\u00a0<vmassol>\u00a0right now you can install other versions but you need to know it  \n15:56\u00a0<Denis>\u00a0gdelhumeau: it is in 5.1  \n15:57\u00a0<gdelhumeau>\u00a0I think it comes from wiki-manager-api  \n15:57\u00a0<msmeria>\u00a0vmassol: I'd like EM to shoe me the latest compatible version of the app for my XWiki version  \n15:57\u00a0<vmassol>\u00a0couldn't find a dup so moving on  \n15:58\u00a0<msmeria>\u00a0show\\*  \n15:58\u00a0<vmassol>\u00a0msmeria: yes, I thought I had raised such a jira a long time ago  \n15:58\u00a0<vmassol>\u00a0but I cannot find it  \n15:58\u00a0<vmassol>\u00a0msmeria: I think it's an improvement more than a bug though  \n15:59\u00a0<msmeria>\u00a0vmassol: ok then I'll rewrite it  \n15:59\u00a0<vmassol>\u00a0wait  \n15:59\u00a0<msmeria>\u00a0and make it an improv  \n15:59\u00a0<msmeria>\u00a0waiting..  \n15:59\u00a0<vmassol>\u00a0done  \n15:59\u00a0<vmassol>\u00a0check if it's ok  \n16:00\u00a0<msmeria>\u00a0fine by me  \n16:00\u00a0<vmassol>\u00a0k  \n16:01\u00a0<tmortagne>\u00a0I modified it too while you were talking actually  \n16:01\u00a0<vmassol>\u00a0:)  \n16:01\u00a0<vmassol>\u00a0sdumitriu: checking now if I can remove the stuff you've shown me  \n16:02\u00a0<vmassol>\u00a0sdumitriu: o kI remember now  \n16:02\u00a0<vmassol>\u00a0no it cannot be removed  \n16:02\u00a0<vmassol>\u00a0but the comment is wrong  \n16:02\u00a0<vmassol>\u00a0fixing  \n16:03\u00a0<Denis>\u00a0gdelhumeau: also there in 5.0.3 :(  \n16:04\u00a0<gdelhumeau>\u00a0yes, it's an old bug  \n16:04\u00a0<tmortagne>\u00a0gdelhumeau: isnt' xwiki-platform-workspace-template-features imported by workspaces and not installed by EM ?  \n16:04\u00a0<gdelhumeau>\u00a0tmortagne: yes it is  \n16:04\u00a0<gdelhumeau>\u00a0but since the title has not change, why do DW \u00a0merge it?  \n16:04\u00a0<tmortagne>\u00a0the title is the same in xwiki-platform-workspace-template-features and XE ? I doubt that  \n16:05\u00a0<sdumitriu>\u00a0vmassol: OK, thanks  \n16:05\u00a0<gdelhumeau>\u00a0in 5.2, xwiki-platform-workspace-template-features is bundled in the subwiki xars  \n16:06\u00a0<vmassol>\u00a0sdumitriu: basically with the new \"functional-test\" lifecycle the package mojo is called automatically  \n16:07\u00a0<gdelhumeau>\u00a0New bug: http://hastebin.com/maduhowisa.sm in the \"step 3 - report\" of the DW on a new subwiki  \n16:07\u00a0<vmassol>\u00a0sdumitriu: but since we're not using because of the reactor issue, we have to manually call the packager mojo  \n16:07\u00a0<vmassol>\u00a0s/using/using it/  \n16:08\u00a0<sdumitriu>\u00a0vmassol: Any quick pointers to how I can run tests using a different app than XWiki core? Just add extra dependencies?  \n16:08\u00a0<sdumitriu>\u00a0And can I run tests with two webapps deployed instead of one?  \n16:08\u00a0<vmassol>\u00a0sdumitriu: the package mojo will create a distrivution based on the deps your project is specifying  \n16:09\u00a0<tmortagne>\u00a0gdelhumeau: is https://github.com/xwiki/xwiki-enterprise/blob/stable-5.2.x/xwiki-enterprise-ui/xwiki-enterprise-ui-common/src/main/resources/Main/WebHome.xml expected ?  \n16:09\u00a0<tmortagne>\u00a0shouldn't it be in xwiki-enterprise-ui-mainwiki ?  \n16:09\u00a0<Denis>\u00a0gdelhumeau: it was there in 4.5.4 but without consequences since null were not public access at that time  \n16:09\u00a0<vmassol>\u00a0sdumitriu: it deploys the WAR you specify as a dep  \n16:09\u00a0<vmassol>\u00a0s/WAR/WARs  \n16:10\u00a0<gdelhumeau>\u00a0tmortagne: indeed, it seems there is a problem there  \n16:10\u00a0<vmassol>\u00a0sdumitriu: it's quite easy to understand what it does if you read PackageMojo.java  \n16:10\u00a0<tmortagne>\u00a0gdelhumeau: if you looks at https://github.com/xwiki/xwiki-enterprise/blob/stable-5.2.x/xwiki-enterprise-ui/xwiki-enterprise-ui-wiki/pom.xml you will see that ui-wike has two dependencies with each a Main.WebHome page  \n16:10\u00a0<tmortagne>\u00a0so that's probably where the issue come from  \n16:11\u00a0<vmassol>\u00a0sdumitriu: if you specify no WAR dep it'll add the standrad 2 we use, but if you do specify a WAR it uses yours only  \n16:11\u00a0<gdelhumeau>\u00a0it sounds like we will need a 5.2.4  \n16:11\u00a0<vmassol>\u00a0what!!! :)  \n16:12\u00a0<vmassol>\u00a0we broke something?  \n16:12\u00a0<tmortagne>\u00a0gdelhumeau: in any case the WebHome should never have been in xwiki-platform-workspace-template-features but in xwiki-enterprise-ui-wiki  \n16:13\u00a0<sdumitriu>\u00a0vmassol: Thanks, will check  \n16:13\u00a0<msmeria>\u00a0vmassol: looks like you don't know about XWIKI-9916 too  \n16:13\u00a0<vmassol>\u00a0evalica: what's up with the DW label on jira?  \n16:14\u00a0<vmassol>\u00a0not useful anymore?  \n16:14\u00a0<gdelhumeau>\u00a0XWIKI-9916 is due to different reason in 5.2.x and in 5.4.x  \n16:14\u00a0<evalica>\u00a0well I've talked with Thomas \u2026 and since now we have an Extensions-Distribution component, I've moved all the issues there  \n16:14\u00a0<vmassol>\u00a0ok great  \n16:14\u00a0<vmassol>\u00a0seems better indeed  \n16:14\u00a0<evalica>\u00a0k  \n16:14\u00a0<vmassol>\u00a0(didn't know thomas had created such a component)  \n16:15\u00a0<evalica>\u00a0not sure how created :) but he moved one of my issues there :) and so I've discovered it  \n16:15\u00a0<vmassol>\u00a0msmeria: grrrrr  \n16:16\u00a0<vmassol>\u00a0why on earth did we wait for me to release 5.2.3 to test this\u2026.  \n16:16\u00a0<vmassol>\u00a0especially since I took the time to wait for people to test before releasing 5.2.3  \n16:16\u00a0<vmassol>\u00a0:)  \n16:16\u00a0<vmassol>\u00a0proves that waiting isn't that useful unfortunately  \n16:16\u00a0<vmassol>\u00a0sad  \n16:18\u00a0<vmassol>\u00a0so who's to blame for this issue so that he does the 5.2.4 release? :)  \n16:18\u00a0<gdelhumeau>\u00a0it seems we have 3 issues at least  \n16:20\u00a0<Sidali\\_>\u00a0has joined #xwiki  \n16:22\u00a0<Sidali>\u00a0has quit  \n16:22\u00a0<Sidali\\_>\u00a0is now known as <Sidali>  \n16:22\u00a0<mstaicu>\u00a0has joined #xwiki  \n16:23\u00a0<msmeria>\u00a0vmassol: don't shoot the messenger !  \n16:23\u00a0<vmassol>\u00a0otp  \n16:23\u00a0<mstaicu>\u00a0has left #xwiki  \n16:23\u00a0<mstaicu>\u00a0has joined #xwiki  \n16:24\u00a0<msmeria>\u00a0has quit  \n16:29\u00a0<Denis>\u00a0vmassol: the initial issue was there for years, it has started cause a real problem in 5.x because the null user is public access !  \n16:40\u00a0<gdelhumeau>\u00a0I know how to fix XWIKI-9916 for both 5.2.4 and 5.4  \n16:40\u00a0<gdelhumeau>\u00a0but it will not fix the existing descriptors...  \n16:40\u00a0<gdelhumeau>\u00a0does it mean we need to write a... migration?  \n16:45\u00a0<AndChat662025>\u00a0has joined #xwiki  \n16:46\u00a0<woshilapin>\u00a0has quit  \n16:47\u00a0<ClemensR>\u00a0has joined #xwiki  \n16:48\u00a0<woshilapin>\u00a0has joined #xwiki  \n16:49\u00a0<AndChat662025>\u00a0has quit  \n16:49\u00a0<msmeria>\u00a0has joined #xwiki  \n16:53\u00a0<msmeria>\u00a0has quit  \n16:54\u00a0<vmassol>\u00a0creating repo for ClemensR  \n16:55\u00a0<ClemensR>\u00a0thanks ... I guess I could have done myself but thought it is polite to ask on the first attempt :)  \n16:57\u00a0<mflorea>\u00a0has joined #xwiki  \n16:59\u00a0<mstaicu>\u00a0has left #xwiki  \n16:59\u00a0<tmortagne>\u00a0vmassol, ClemensR: does not seesm tight to create a new repository, should https://github.com/espresto/xwiki-application-moccacalendar simply be moved ?  \n17:00\u00a0<ClemensR>\u00a0I cannotm see how to rename it on the move  \n17:00\u00a0<ClemensR>\u00a0also there is zero history in the repo  \n17:00\u00a0<ClemensR>\u00a0yes, I would delete the current one ...  \n17:01\u00a0<ClemensR>\u00a0ah after the move ... I did not know that ... trying  \n17:01\u00a0<tmortagne>\u00a0I think you can rename a repository anytime you want  \n17:01\u00a0<tmortagne>\u00a0it just warn you that it's not the most clever thing to so for a public repository :)  \n17:02\u00a0<ClemensR>\u00a0ah, yes, I see I can do taht, so a move might be possible.  \n17:02\u00a0<ClemensR>\u00a0but vmassol already created the new repo, so I will just do the legwork instad  \n17:03\u00a0<sburjan>\u00a0Denis: I think you should re-open this: http://jira.xwiki.org/browse/XWIKI-9909 .. I just reproduced it  \n17:06\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:06\u00a0<ClemensR>\u00a0if I transfer it, it will show one commit where I fix the poms groupId from com.espresto.xwiki.application \u00a0to org.xwiki.contrib.application - otherwise I could to that change \"offline\"  \n17:07\u00a0<ClemensR>\u00a0I guess it is just less work for everyone if I stop asking questions and go ahead with whatever :)  \n17:07\u00a0<polx>\u00a0has joined #xwiki  \n17:09\u00a0<vmassol>\u00a0:)  \n17:12\u00a0<vmassol>\u00a0evalica: you could have done some bulk modifications withtout sending an email :)  \n17:14\u00a0<evalica>\u00a0vmassol: I don't know how to do that  \n17:14\u00a0<evalica>\u00a0it's an administrative feature?  \n17:14\u00a0<vmassol>\u00a0nope  \n17:14\u00a0<vmassol>\u00a0just do a search  \n17:14\u00a0<vmassol>\u00a0then click on bulk change  \n17:15\u00a0<vmassol>\u00a0in tools menu on the right  \n17:15\u00a0<evalica>\u00a0vmassol: I've seen - interesting - never used it - thanks for notice  \n17:15\u00a0<vmassol>\u00a0then in the last step make sure you uncheck \"send mail\"  \n17:15\u00a0<evalica>\u00a0ok  \n17:22\u00a0<polx>\u00a0has quit  \n17:25\u00a0<sburjan>\u00a0has quit  \n17:34\u00a0<polx>\u00a0has joined #xwiki  \n17:52\u00a0<vmassol>\u00a0btw why do we allow guest to delete documents?  \n17:53\u00a0<vmassol>\u00a0(even if those are created by the guest user)  \n17:53\u00a0<gdelhumeau>\u00a0that is a good question :)  \n18:00\u00a0<woshilapin>\u00a0has quit  \n18:00\u00a0<Denis>\u00a0vmassol: because the rule is creator has delete right, and if guest can create document, she can delete it as well, that seems a normal behavior  \n18:00\u00a0<vmassol>\u00a0I know the rule  \n18:00\u00a0<vmassol>\u00a0but as a safety measure we could have special handling for guests maybe  \n18:00\u00a0<Denis>\u00a0why  \n18:01\u00a0<vmassol>\u00a0because it's dangerous to let bots delete docs  \n18:01\u00a0<vmassol>\u00a0:)  \n18:01\u00a0<Denis>\u00a0do you mean that you do not want to allow a full open wiki ?  \n18:01\u00a0<vmassol>\u00a0I don't see why anyone would want that  \n18:01\u00a0<vmassol>\u00a0for example  \n18:01\u00a0<vmassol>\u00a0on the c2 wiki  \n18:01\u00a0<vmassol>\u00a0which is an open wiki  \n18:01\u00a0<vmassol>\u00a0can guests delete docs?  \n18:01\u00a0<vmassol>\u00a0checking  \n18:02\u00a0<vmassol>\u00a0nope you can't  \n18:02\u00a0<vmassol>\u00a0you can edit but not delete  \n18:02\u00a0<vmassol>\u00a0http://c2.com/cgi/wiki  \n18:02\u00a0<vmassol>\u00a0let's check dokuwiki now  \n18:03\u00a0<vmassol>\u00a0same  \n18:03\u00a0<vmassol>\u00a0I can edit but not delete  \n18:03\u00a0<vmassol>\u00a0checking mediawiki now  \n18:03\u00a0<Denis>\u00a0not edit  \n18:03\u00a0<Denis>\u00a0create !  \n18:03\u00a0<vmassol>\u00a0create is done by wiki links  \n18:03\u00a0<vmassol>\u00a0in all those wikis I listed  \n18:03\u00a0<Denis>\u00a0this is the creation that allow the deletion  \n18:04\u00a0<vmassol>\u00a0indeed, I would need to add some link , click on it and add content to a new doc, then ask you if you can delete it  \n18:05\u00a0<vmassol>\u00a0let me try to find some sandbox  \n18:06\u00a0<vmassol>\u00a0on dokuwiki you need to empty the content to delete a page: https://www.dokuwiki.org/page#delete\\_a\\_page  \n18:07\u00a0<Denis>\u00a0vmassol: what would be better IMO is to extends the creator right, to be available at the wiki or space level  \n18:07\u00a0<vmassol>\u00a0same for c2 there's no explciit delete action  \n18:07\u00a0<Denis>\u00a0this would allow to control that behavior, without choosing for the end user  \n18:08\u00a0<vmassol>\u00a0I do'nt see an issue with disallowing delete right for guest user by default  \n18:08\u00a0<Denis>\u00a0but I am not sure it is easy to do  \n18:08\u00a0<vmassol>\u00a0because  \n18:08\u00a0<vmassol>\u00a0guest user is not one person  \n18:08\u00a0<vmassol>\u00a0it's anyone  \n18:08\u00a0<vmassol>\u00a0so it's a special case  \n18:09\u00a0<vmassol>\u00a0now if you explicitly grant delete right to guest user then we would allow it  \n18:09\u00a0<Denis>\u00a0please, speak about creator rights, not delete  \n18:09\u00a0<tmortagne>\u00a0has quit  \n18:09\u00a0<vmassol>\u00a0there's no delete rights ATM?  \n18:09\u00a0<vmassol>\u00a0I don't see how changing the create right changes anything for our problem at hand  \n18:10\u00a0<Denis>\u00a0there is, but this is the creator right that given an undeniable delete right to the creator  \n18:10\u00a0<polx>\u00a0has quit  \n18:10\u00a0<Denis>\u00a0this is all it does right now, but this could be extended in the futur, who knows  \n18:11\u00a0<Denis>\u00a0not giving the creator right to null creator is trivial to implement  \n18:13\u00a0<vmassol>\u00a0bb in 20mn  \n18:15\u00a0<polx>\u00a0has joined #xwiki  \n18:17\u00a0<KermitTheFragger>\u00a0has quit  \n18:24\u00a0<polx>\u00a0has quit  \n18:30\u00a0<vmassol>\u00a0back  \n18:41\u00a0<vmassol>\u00a0mflorea: is anca right on http://jira.xwiki.org/browse/XWIKI-9478 ?  \n18:41\u00a0<vmassol>\u00a0I was under the impression you did both  \n18:43\u00a0<mflorea>\u00a0vmassol: Anca is fully right  \n18:43\u00a0<mflorea>\u00a0they're separate issues  \n18:43\u00a0<vmassol>\u00a0ok so no permalink, snif thought this was behind us  \n18:43\u00a0<vmassol>\u00a0:)  \n18:55\u00a0<silverdrop>\u00a0has joined #xwiki  \n19:05\u00a0<polx>\u00a0has joined #xwiki  \n19:08\u00a0<silverdrop>\u00a0has quit  \n19:11\u00a0<gdelhumeau>\u00a0has quit  \n19:27\u00a0<Slashman>\u00a0has quit  \n19:31\u00a0<evalica>\u00a0has quit  \n19:38\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n20:32\u00a0<abusenius>\u00a0has joined #xwiki  \n20:48\u00a0<lucaa>\u00a0has quit  \n20:53\u00a0<ClemensR>\u00a0has quit  \n21:13\u00a0<polx>\u00a0has quit  \n22:04\u00a0<andreeapopescu>\u00a0has quit  \n22:21\u00a0<lucaa>\u00a0has joined #xwiki  \n22:36\u00a0<lucaa>\u00a0has quit  \n22:45\u00a0<vmassol>\u00a0has quit  \n23:01\u00a0<lucaa>\u00a0has joined #xwiki  \n23:16\u00a0<vmassol>\u00a0has joined #xwiki  \n23:28\u00a0<abusenius>\u00a0has quit  \n23:32\u00a0<vmassol>\u00a0has quit  \n23:50\u00a0<mflorea>\u00a0has quit\n"}