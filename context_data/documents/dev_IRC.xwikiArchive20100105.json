{"id": "dev:IRC.xwikiArchive20100105", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100105", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nxwiki-bridge - (00:43): \\*\\*\\* Lady Serena Kitty is trying to figure out how to create a user modification listener  \nCalebJamesDeLisl - (00:59): Lady Serena Kitty: I think you are looking for something with ObservationManager  \nxwiki-bridge - (00:59): [Lady Serena Kitty] ahs  \nCalebJamesDeLisl - (00:59): You want to know when a user has modified their profile?  \nxwiki-bridge - (01:00): [Lady Serena Kitty] ya, I need to catch user and group modification events  \nxwiki-bridge - (01:00): [Lady Serena Kitty] so I can push them to LDAP  \nCalebJamesDeLisl - (01:00): From a script inside of the wiki page?  \nxwiki-bridge - (01:01): [Lady Serena Kitty] preferably from Java code, this needs to be on all wikis  \nCalebJamesDeLisl - (01:02): You want to write a component which on initialization, registers itself with ObservationManager and looks for changes.  \nxwiki-bridge - (01:02): [Lady Serena Kitty] ahs  \nxwiki-bridge - (01:03): [Lady Serena Kitty] so then all I need to do is track down the ObservationManager API  \nCalebJamesDeLisl - (01:03): Here's how to write a component http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents  \nxwiki-bridge - (01:03): [Lady Serena Kitty] ya, I've done a component already  \nxwiki-bridge - (01:04): [Lady Serena Kitty] second thought, I don't think that PHPMacro I made really qualifies as a component  \nxwiki-bridge - (01:04): [sdumitriu] It does  \nxwiki-bridge - (01:05): [sdumitriu] What are your doubts?  \nCalebJamesDeLisl - (01:05): Here is the ObservationManager http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-observation/xwiki-observation-local/src/main/java/org/xwiki/observation/  \nxwiki-bridge - (01:06): [Lady Serena Kitty] oh, no wonder I couldn't find it locally  \nxwiki-bridge - (01:06): [Lady Serena Kitty] all I fetched was xwiki-core  \nCalebJamesDeLisl - (01:07): svn checkout http://svn.xwiki.org/svnroot/xwiki/platform/trunks/  \nxwiki-bridge - (01:08): [Lady Serena Kitty] \"svn co\" means the same as \"svn checkout\" and its shorter! \u00a0:D  \nxwiki-bridge - (01:09): [Lady Serena Kitty] oh for fuck's sake  \nxwiki-bridge - (01:09): [Lady Serena Kitty] You know you're too used to remote administration when:  \nCalebJamesDeLisl - (01:09): you pulled it to the server over ssh?  \nxwiki-bridge - (01:10): [Lady Serena Kitty] You use 'ssh localhost' to work on the machine you're currently using.  \nCalebJamesDeLisl - (01:10): LOL  \nCalebJamesDeLisl - (01:11): Cudos for not drinking the plexus/cpanel coolaid.  \nxwiki-bridge - (01:12): [Lady Serena Kitty] o.O  \nCalebJamesDeLisl - (01:13): s/plexus/plesk  \nxwiki-bridge - (01:26): [Cindy Mitchell] ewww cpanel.  \nxwiki-bridge - (01:26): [Cindy Mitchell] kill it with fireeeee  \nxwiki-bridge - (01:26): [Cindy Mitchell] kudos\\*, btw :P  \nCalebJamesDeLisl - (01:27): Thanks for the splelling fix.  \nxwiki-bridge - (01:27): [Cindy Mitchell] it's my thing, lol.  \nxwiki-bridge - (01:27): [Cindy Mitchell] Spelling kinda bugs me :P  \nxwiki-bridge - (01:28): [Cindy Mitchell] Plesk is little better, lol.  \nxwiki-bridge - (01:28): [Cindy Mitchell] I'd rather just change it myself than whore out $200/month or whatever to some neon mess of a control panel maker to manage my server for me. <.<  \nxwiki-bridge - (01:29): [Cindy Mitchell] lol  \nCalebJamesDeLisl - (01:30): I don't like learning new interfaces so command line it is. (If I can spell things right.)  \nxwiki-bridge - (01:30): [Cindy Mitchell] :P  \nxwiki-bridge - (01:30): [Cindy Mitchell] I don't mind interfaces  \nxwiki-bridge - (01:31): [Lady Serena Kitty] I use a mix of CLI and GUI.  \nxwiki-bridge - (01:31): [Lady Serena Kitty] I use the interface that's quickest for the task at paw.  \nxwiki-bridge - (01:31): [Cindy Mitchell] but it needs to be straightforward and avoid chugging down the \"downs\" kool-aid, lol.  \nxwiki-bridge - (01:32): [Cindy Mitchell] Caleb, kool-aid\\* :P  \nCalebJamesDeLisl - (01:33): You caught me. I guess I just have a thing for transposing K's for C's  \nCalebJamesDeLisl - (01:33): Maybe I was Kaleb all this time.  \nxwiki-bridge - (01:33): [Cindy Mitchell] :P  \nxwiki-bridge - (01:34): [Cindy Mitchell] :P  \nxwiki-bridge - (01:34): [Cindy Mitchell] so anyway, hi.  \nxwiki-bridge - (01:34): \\*\\*\\* Cindy Mitchell shares her chicken club with Jessica  \nxwiki-bridge - (01:36): \\*\\*\\* Cindy Mitchell twitch  \nxwiki-bridge - (01:37): [Cindy Mitchell] \"Kloxo (Previously Lxadmin) is trivially the most advanced and flexible hosting platform on this planet. From Kloxo HostinABox that can run a full featured hosting on 15MB [of] RAM to Kloxo Enterprise, which is [the] only truly distributed hosting platform in the industry, Kloxo is a single software that can power all areas of your hosting business, whether it is powering your entire shared hosting or   \nxwiki-bridge - (01:37): [Cindy Mitchell] simple control panel that you can sell with your VPS offering.\"  \nxwiki-bridge - (01:38): [Cindy Mitchell] //stab  \nxwiki-bridge - (01:38): [Cindy Mitchell] whoever wrote that makes my skin crawl, lolcats.  \nCalebJamesDeLisl - (01:38): tl;dr  \nxwiki-bridge - (01:39): [Cindy Mitchell] lol  \nCalebJamesDeLisl left at 02:08 (verne.freenode.net irc.freenode.net  \nxwiki-bridge left at 02:08 (verne.freenode.net irc.freenode.net  \nxwiki-bridge joined #xwiki at 02:17  \nxwiki-bridge left at 02:17 (Killed by sagan.freenode.net (Nick collision)  \nxwiki-bridge joined #xwiki at 02:17  \nCalebJamesDeLisl joined #xwiki at 02:17  \nxwiki-bridge - (02:34): [Lady Serena Kitty] so if I'm reading this right, I need to write a component that creates an Event and attaches both a listener and an event, and the event is where I put my LDAP update code  \nCalebJamesDeLisl - (02:47): You would need a DocumentUpdateEvent and a DocumentSaveEvent  \nCalebJamesDeLisl - (02:52): Your component will contain an EventListener and getEvents() returns an ArrayList containing DocumentUpdateEvent and a DocumentSaveEvent  \nxwiki-bridge - (02:57): [Lady Serena Kitty] so its like: UpdateLdapComponent implements EventListener { ArrayList getEvents() [LdapEventUpdate implements DocumentUpdateEvent, LdapEventSave implements DocumentSaveEvent]; }  \nxwiki-bridge - (02:58): [Lady Serena Kitty] s/implements/extends/  \nCalebJamesDeLisl - (02:59): No you don't need to extend individual events.  \nCalebJamesDeLisl - (02:59): Here is an example, the important part is near the bottom.  \nCalebJamesDeLisl - (02:59): http://jira.xwiki.org/jira/secure/attachment/16174/XSKINX-9-add-server-cache.patch  \nxwiki-bridge - (03:03): [Lady Serena Kitty] ohs, just implement the EventListener on the event classes, not the component?  \nxwiki-bridge - (03:03): [Lady Serena Kitty] OH, okay  \nxwiki-bridge - (03:03): \\*\\*\\* Lady Serena Kitty hugs CalebJamesDeLisl  \nCalebJamesDeLisl - (03:03): :-D  \nCalebJamesDeLisl - (03:04): The EventListener implementation can be in the component or in an external class.  \nCalebJamesDeLisl - (03:04): External is cleaner.  \nxwiki-bridge - (03:04): [Lady Serena Kitty] ahs  \nxwiki-bridge - (03:04): [Lady Serena Kitty] just have the component add them to the global events list  \nCalebJamesDeLisl - (03:05): Even after you catch the event, you have to determine that the document has a user or group object.  \nxwiki-bridge - (03:05): [Lady Serena Kitty] yar  \nxwiki-bridge - (03:05): [Lady Serena Kitty] and update the appropriate DN  \nCalebJamesDeLisl - (03:07): find ./ -name \"\\*java\" -exec grep \"implements EventListener\" {} \\; -print  \nCalebJamesDeLisl - (03:07): I use this a lot.  \nxwiki-bridge - (03:08): [Lady Serena Kitty] :D  \nxwiki-bridge - (03:11): [Lady Serena Kitty] and if you add -n right after grep, it shows you line numbers \u00a0:D  \nCalebJamesDeLisl - (03:12): Thanks, will remember.  \nxwiki-bridge - (03:15): [Lady Serena Kitty] grep options: n - line numbers; i - case-insenitive search; v - invert search (everything but this)  \nxwiki-bridge - (03:15): [Lady Serena Kitty] those are the 3 I use most often  \nxwiki-bridge - (03:15): \\*\\*\\* Cindy Mitchell shares her chicken club with Jessica :D  \nxwiki-bridge - (03:16): \\*\\*\\* Lady Serena Kitty noms  \nxwiki-bridge - (03:16): [Lady Serena Kitty] like if I want to see what ports are open on my machine EXCEPT port 80 (like on a web server):  \nxwiki-bridge - (03:16): [Lady Serena Kitty] netstat -an | grep LISTEN | grep -v 80  \nCalebJamesDeLisl - (03:17): My first instinct is to reach for nmap  \nxwiki-bridge - (03:18): [Lady Serena Kitty] ya, but that's slower than netstat if you have shell access to the machine  \nxwiki-bridge - (03:18): [Cindy Mitchell] wait, what happened, Jessica?  \nCalebJamesDeLisl - (03:18): Doesn't grep accept regex anyway? eg: [^80] or some such thing  \nxwiki-bridge - (03:19): [Lady Serena Kitty] also, there is nmap for OpenSolaris (the OS my database server is now running), the package is SUNWnmap  \nxwiki-bridge - (03:19): [Lady Serena Kitty] yes, grep does regex  \nxwiki-bridge - (03:19): \\*\\*\\* Cindy Mitchell prods Jessica  \nxwiki-bridge - (03:19): [Cindy Mitchell] wha happened now?  \nxwiki-bridge - (03:19): \\*\\*\\* Lady Serena Kitty squees  \nxwiki-bridge - (03:20): [Lady Serena Kitty] This nice person over in #xwiki was helping me with the LDAP updater.  \nxwiki-bridge - (03:20): [Cindy Mitchell] Ah.  \nxwiki-bridge - (03:20): [Lady Serena Kitty] XWiki devs are the nicest devs I've interacted with.  \nxwiki-bridge - (03:20): [Cindy Mitchell] I noticed.  \nxwiki-bridge - (03:21): [Lady Serena Kitty] they're not like \"RAWR RTFM!\" like the devs for most other projects  \nxwiki-bridge - (03:21): [Lady Serena Kitty] or \"its in the code\"  \nxwiki-bridge - (03:21): [Cindy Mitchell] indeed.  \nxwiki-bridge - (03:21): [Lady Serena Kitty] or \"its in the docs ...... somewhere\"  \nxwiki-bridge - (03:21): [Cindy Mitchell] lmao  \nxwiki-bridge - (03:21): [Lady Serena Kitty] me: \"but I searched the docs, and there's like 1,000 hits for it\"  \nxwiki-bridge - (03:22): [Lady Serena Kitty] dev: \"yea, its in there somewhere\"  \nxwiki-bridge - (03:22): [Lady Serena Kitty] no, XWiki devs are nicer  \nxwiki-bridge - (03:22): [Cindy Mitchell] indeed  \nxwiki-bridge - (03:22): [Lady Serena Kitty] its like they actually \\*want\\* you to extend the platform they provided  \nCalebJamesDeLisl - (03:23): Where else have you been?  \nxwiki-bridge - (03:24): [Lady Serena Kitty] phpBB, FreeBSD, few dev jobs I had  \nxwiki-bridge - (03:24): [Lady Serena Kitty] oh, but with FreeBSD, if you fix a kernel bug, they love you  \nxwiki-bridge - (03:25): [Cindy Mitchell] heh  \nxwiki-bridge - (03:25): [Lady Serena Kitty] but they go into rawr-mode when you try to add a new feature, or ask about one of the many driver interfaces  \nCalebJamesDeLisl - (03:25): One of these days, I will clone phpBB in XWiki.  \nxwiki-bridge - (03:25): [Cindy Mitchell] lawl  \nCalebJamesDeLisl - (03:25): One of these days.  \nxwiki-bridge - (03:26): [Lady Serena Kitty] I asked about the input driver interface in FreeBSD.  \nxwiki-bridge - (03:26): [Lady Serena Kitty] they don't even know how it works  \nxwiki-bridge - (03:26): [Cindy Mitchell] lmao  \nCalebJamesDeLisl - (03:27): Hahaha. i have very little experience with BSD but in general it seems to hate the user.  \nCalebJamesDeLisl - (03:27): The software that is.  \nxwiki-bridge - (03:27): [Lady Serena Kitty] they were like, \"well .... um ..... it does something with a class\"  \nxwiki-bridge - (03:28): [Lady Serena Kitty] if they were even able to tell me about the input device kernel interface, FreeBSD 7.0 would have had an updated driver for the newer Synaptic touchpads (the ones from 2007 and newer aren't compatible with the 2006 and older models)  \nxwiki-bridge - (03:29): [Lady Serena Kitty] but no, they couldn't tell me, because the guy who worked on the input interface disappeared in 2001  \nxwiki-bridge - (03:30): [Lady Serena Kitty] \u00ac.\u00ac  \nxwiki-bridge - (03:30): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:30): [Lady Serena Kitty] I've got one worse.  \nxwiki-bridge - (03:30): [Lady Serena Kitty] last company I worked for \u00a0D:  \nxwiki-bridge - (03:30): [Cindy Mitchell] aaagh.  \nxwiki-bridge - (03:31): \\*\\*\\* Cindy Mitchell murders rdesktop  \nxwiki-bridge - (03:32): [Lady Serena Kitty] they asked me to modify the SQLDAP protocol to add two new features and do some cleanup on it  \nxwiki-bridge - (03:32): [Cindy Mitchell] ewww  \nxwiki-bridge - (03:32): [Lady Serena Kitty] when I asked about said protocol, where it was in the repo, how it works, etc....  \nxwiki-bridge - (03:32): [Lady Serena Kitty] all I got was \"the last maintainer hasn't worked here in 20 years\"  \nxwiki-bridge - (03:33): [Cindy Mitchell] \"Uhh dont ask me D:\"  \nxwiki-bridge - (03:33): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:33): \\*\\*\\* Cindy Mitchell pulls Jessica in on her .NET project for work :P  \nCalebJamesDeLisl - (03:33): \\*Frantically googling rdesktop, sqldap...  \nxwiki-bridge - (03:33): [Cindy Mitchell] lol  \nxwiki-bridge - (03:34): [Cindy Mitchell] rdesktop is a linux client to Microsoft's RDP protocol.  \nxwiki-bridge - (03:34): [Lady Serena Kitty] I was expected to update a 25+ year old proprietary protocol with no specs, no docs, and the implementation that hadn't been updated in 20 years.  \nxwiki-bridge - (03:35): [Cindy Mitchell] o.0  \nxwiki-bridge - (03:35): [Cindy Mitchell] \\*middle finger.\\*  \nxwiki-bridge - (03:35): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:35): [Lady Serena Kitty] if I had been suicidal at that point of time, it wouldn't have been suicide, it'd have been Seppuku  \nxwiki-bridge - (03:36): [Lady Serena Kitty] because, like, seriously, fuck that shit  \nxwiki-bridge - (03:36): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:36): [Cindy Mitchell] I would have been, too.  \nxwiki-bridge - (03:37): [Cindy Mitchell] er, I would'a too\\*  \nxwiki-bridge - (03:37): [Lady Serena Kitty] CalebJamesDeLisl, don't bother looking up SQLDAP, it was an internal protocol used since the company's launch  \nxwiki-bridge - (03:37): [Cindy Mitchell] So what's SQLDAP do? marry SQL and LDAP? o:  \nxwiki-bridge - (03:38): [Lady Serena Kitty] no, it was an abomination  \nxwiki-bridge - (03:38): [Cindy Mitchell] what did it do?  \nxwiki-bridge - (03:39): [Lady Serena Kitty] SQL-type schema (database, table, row+column, medium typed)  \nxwiki-bridge - (03:39): [Lady Serena Kitty] with LDAP interface  \nxwiki-bridge - (03:39): [Cindy Mitchell] wow.  \nxwiki-bridge - (03:40): \\*\\*\\* Cindy Mitchell fights her urge to develop the dry heaves  \nxwiki-bridge - (03:40): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:40): [Lady Serena Kitty] LDAP commands, but the underlying protocol was \"adjusted\" so it wouldn't screw up the SQL results  \nxwiki-bridge - (03:41): [Lady Serena Kitty] oh, and no interpreters in between, it operated natively like that  \nxwiki-bridge - (03:41): \\*\\*\\* Cindy Mitchell vomits  \nxwiki-bridge - (03:41): [Cindy Mitchell] <.<  \nxwiki-bridge - (03:41): [Lady Serena Kitty] sorry  \nxwiki-bridge - (03:41): [Cindy Mitchell] that's disgusting.  \nCalebJamesDeLisl - (03:42): It sounds like a case of the boss not being a programmer.  \nCalebJamesDeLisl - (03:42): Big ball of mud ensues.  \nxwiki-bridge - (03:42): [Lady Serena Kitty] the guy who wrote it had the idea for it  \nxwiki-bridge - (03:43): [Cindy Mitchell] ewww.  \nxwiki-bridge - (03:43): [Lady Serena Kitty] the code was good, nice and optimized and all perty-like  \nxwiki-bridge - (03:43): [Lady Serena Kitty] but the idea was horrible  \nxwiki-bridge - (03:43): [Cindy Mitchell] heh  \nCalebJamesDeLisl - (03:43): The idea of interfacing with a proprietary protocol?  \nxwiki-bridge - (03:44): [Lady Serena Kitty] the library was very helpful  \nxwiki-bridge - (03:44): [Lady Serena Kitty] still  \nxwiki-bridge - (03:45): [Lady Serena Kitty] (cn=name,cn=clientId),l=clients,dc=infrastructure  \nxwiki-bridge - (03:46): [Lady Serena Kitty] it would be less painful to just write out \"USE infrastructure; SELECT name, clientId FROM clients;\"  \nxwiki-bridge - (03:46): [Lady Serena Kitty] trying to search a column for a specific value, that's where things got insane  \nxwiki-bridge - (03:47): [Cindy Mitchell] Wow.  \nxwiki-bridge - (03:48): [Lady Serena Kitty] (uid=54773,cn=clientId) <-- would be \"WHERE clientId = 54773)\" in SQL  \nxwiki-bridge - (03:48): [Lady Serena Kitty] just just prefixing that with a comma wouldn't work, either  \nxwiki-bridge - (03:49): [Lady Serena Kitty] because you forgot to bind the search to the column in the other DN  \nCalebJamesDeLisl - (03:50): What was the point of sql for remote desktop?  \nxwiki-bridge - (03:50): [Lady Serena Kitty] o.O  \nxwiki-bridge - (03:51): [Cindy Mitchell] lol  \nxwiki-bridge - (03:51): [Cindy Mitchell] two different things.  \nxwiki-bridge - (03:51): [Cindy Mitchell] MY remote desktop client is causing weird things in XP  \nCalebJamesDeLisl - (03:51): What was SQLDAP for?  \nxwiki-bridge - (03:51): [Cindy Mitchell] and she's complaining about her SQLDAP thing.  \nxwiki-bridge - (03:51): [Lady Serena Kitty] SQLDAP was using LDAP to access SQL tables on the server  \nxwiki-bridge - (03:52): [Cindy Mitchell] The question is, why?  \nxwiki-bridge - (03:52): [Cindy Mitchell] lol  \nxwiki-bridge - (03:52): [Lady Serena Kitty] nobody really knew why  \nxwiki-bridge - (03:52): [Lady Serena Kitty] all we knew is it was there and we had to use it  \nxwiki-bridge - (03:52): [Cindy Mitchell] wow.  \nxwiki-bridge - (03:53): [Cindy Mitchell] that's lame.  \nCalebJamesDeLisl - (03:55): Either of you know much about dos prevention?  \nxwiki-bridge - (03:55): [Lady Serena Kitty] only a tiny tiny bit  \nCalebJamesDeLisl - (03:57): I am trying to pick up some info other than drop imcp, drop packets to all unused ports and temporary ban ip addresses which over run a rate limit.  \nCalebJamesDeLisl - (03:57): Any other advice?  \nxwiki-bridge - (03:58): [Lady Serena Kitty] reduce the SYN cache time  \nCalebJamesDeLisl - (03:59): Do you know of any other attack methods than packet floods?  \nxwiki-bridge - (03:59): [Lady Serena Kitty] nuuu  \nCalebJamesDeLisl - (04:00): I would have guessed that the major method was to httrack the site and hotlink their images all around the tubes, but I guess not.  \nxwiki-bridge - (04:01): [Lady Serena Kitty] nuuu, that's just advertising  \nCalebJamesDeLisl - (04:01): I just read an article about syn cookies. Neat.  \nCalebJamesDeLisl - (04:02): I would have thought ip spoofing was a thing of the past but people still seem to take it seriously.  \nxwiki-bridge - (04:02): [Lady Serena Kitty] yar  \nxwiki-bridge - (04:02): [NielsMayer] caleb -- sure, i know an xwiki dos  \nCalebJamesDeLisl - (04:03): Hmmmm?  \nxwiki-bridge - (04:03): [NielsMayer] attachments...  \nCalebJamesDeLisl - (04:04): Attack method = hotlink the all around the web?  \nxwiki-bridge - (04:04): [NielsMayer] \u00a0to a XWiki.<user> file in an open registation system  \nxwiki-bridge - (04:04): [NielsMayer] attack method... fill the disk  \nxwiki-bridge - (04:05): [NielsMayer] or blow out the database if it's not a real database  \nxwiki-bridge - (04:07): [Cindy Mitchell] Hey Niels.  \nCalebJamesDeLisl - (04:07): That's unique, I guess we could use some kind of quotas or block attachments for non privileged users.  \nxwiki-bridge - (04:07): [Lady Serena Kitty] or an attachment right in the rights panel  \nxwiki-bridge - (04:08): [NielsMayer] something I posted a while back: \"large attachments to their user-document, e.g. XWiki.MyName then even in a \"closed\" wiki that only allows users to edit their own user document, they can cause a denial of service attack through large attachments. In other words, even if the wiki is setup so that regular registered XWikiAllGroup users don't have write access to any directory, just comment-access to documen  \nxwiki-bridge - (04:08): [NielsMayer] they'll still have write access to their own XWiki.MyName document created through registration... and that means they'll be able to add attachments even when you think they couldn't. The \"Rights\" adminstration checkbox \"Prevent unregistered users from editing pages,  \nxwiki-bridge - (04:08): [NielsMayer] regardless of the page or space rights\" doesn't prevent attachments from being added to user's own pages.\"  \nxwiki-bridge - (04:09): [Lady Serena Kitty] ya  \nCalebJamesDeLisl - (04:09): Isn't there a \"read only\" setting in the cfg?  \nxwiki-bridge - (04:09): [Lady Serena Kitty] there should be an \"Attachments\" column on the rights page  \nxwiki-bridge - (04:09): [Cindy Mitchell] OH, Jessica. You need to help me with the \"Project registration\" stuff, lol.  \nxwiki-bridge - (04:09): [Lady Serena Kitty] yes, but that's for the entire system  \nxwiki-bridge - (04:10): [Cindy Mitchell] Ah. True.  \nxwiki-bridge - (04:10): [NielsMayer] http://lists.xwiki.org/pipermail/users/2009-March/015592.html  \nxwiki-bridge - (04:10): \\*\\*\\* Lady Serena Kitty has had that issue  \nxwiki-bridge - (04:10): [Cindy Mitchell] 'cos we'll have quite a few projects, lol.  \nxwiki-bridge - (04:10): [NielsMayer] caleb -- see last sentence of my quote from url  \nCalebJamesDeLisl - (04:11): +1 !  \nCalebJamesDeLisl - (04:13): Store all attachments in a designated folder as files with permissions 600 No execution.  \nxwiki-bridge - (04:14): [Lady Serena Kitty] but what about for clustered configurations?  \nxwiki-bridge - (04:15): [Lady Serena Kitty] ya, you could use liek 5 NFS servers that periodically rsync each other, but still  \nCalebJamesDeLisl - (04:15): No rsync, the patch service should handle it. Confession: I haven't read the patch service yet.  \nxwiki-bridge - (04:16): [NielsMayer] CalebJamesDeLisl -- i hope this one's fixed: http://lists.xwiki.org/pipermail/users/2009-March/015534.html -- the dos of the returning user and filling registration db with garbage  \nxwiki-bridge - (04:17): [NielsMayer] aka bots scanning would end up regenerating deleted users  \nCalebJamesDeLisl - (04:18): They should have to log in to make any changes.  \nxwiki-bridge - (04:18): [NielsMayer] attack method -- make login and user operations take longer than necessary  \nxwiki-bridge - (04:18): [Lady Serena Kitty] D:  \nxwiki-bridge - (04:19): [NielsMayer] yeah i believe it got fixed phaps by sergiu  \nxwiki-bridge - (04:19): [NielsMayer] \u00a0anyways those are the low-hanging fruit DOSes I know of  \nxwiki-bridge - (04:20): [NielsMayer] \u00a0(low hanging honey?)  \nCalebJamesDeLisl - (04:20): There are still a lot of little issues which have to get worked out as XWiki moves out of intranet and in to website service.  \nxwiki-bridge - (04:20): [NielsMayer] yes. like openid support  \nxwiki-bridge - (04:20): [NielsMayer] out of the box  \nCalebJamesDeLisl - (04:20): How much cpu does it take to generate the captcha? Could that be exploited? etc.  \nCalebJamesDeLisl - (04:21): On the topic of passwords, I have another attack method.  \nxwiki-bridge - (04:22): [Lady Serena Kitty] \"into website service\" like what I'm using it for  \nxwiki-bridge - (04:22): [NielsMayer] http://openid.net/ : Who is using OpenID?Google <http://code.google.com/apis/accounts/docs/OpenID.html>Six Apart <http://www.sixapart.com/labs/openid/>Yahoo! <http://openid.yahoo.com>Flickr <http://blog.flickr.net/en/2008/01/31/flickr-and-openid/>MySpace <http://wiki.developer.myspace.com/index.php?title=How\\_to\\_Set\\_Up\\_a\\_New\\_Application\\_for\\_OpenID>Facebook <http://facebook.com>Wordpress  \nxwiki-bridge - (04:22): [NielsMayer] <http://wordpress.org>Verisign <https://pip.verisignlabs.com/>AOL <http://dev.aol.com/topic/openid>  \nxwiki-bridge - (04:22): \\*\\*\\* Lady Serena Kitty has a feeling her UpwardLdapComponent may help other websites, not just the ones she operates  \nCalebJamesDeLisl - (04:23): Instead of making a 180 Terrabyte rainbow table, suppose the attacker just brute forced a dump of passwords all at once.  \nxwiki-bridge - (04:23): [Lady Serena Kitty] D:  \nCalebJamesDeLisl - (04:23): We need salt! and stretched algorithms.  \nxwiki-bridge - (04:23): [Lady Serena Kitty] see, that's just why passwords shouldn't be stored in cleartext  \nxwiki-bridge - (04:23): [NielsMayer] LDAP has made me hurl ever since i worked on Netmosphere Actionplan in this godawful gui toolkit  \nxwiki-bridge - (04:23): [Cindy Mitchell] heh.  \nxwiki-bridge - (04:23): [Cindy Mitchell] Netmosphere Actionplan? wtf is that?  \nxwiki-bridge - (04:24): [NielsMayer] dead  \nxwiki-bridge - (04:24): [NielsMayer] a group version of microsoft project, client server, in java  \nCalebJamesDeLisl - (04:24): Lady Serena Kitty: The passwords are SHA-512'd but they should be even more secure.  \nxwiki-bridge - (04:24): [Cindy Mitchell] wow.  \nxwiki-bridge - (04:24): [Cindy Mitchell] ewwww  \nCalebJamesDeLisl - (04:26): Lady Serena Kitty: Also I wouldn't worry about running public websites unless you run say an image board with a wily user base who have lots of enemies :)  \nxwiki-bridge - (04:26): [Cindy Mitchell] heh  \nxwiki-bridge - (04:26): [Lady Serena Kitty] oh, you mean like 4chan?  \nCalebJamesDeLisl - (04:27): The ddos capital of the world.  \nxwiki-bridge - (04:28): [Cindy Mitchell] heh, indeed.  \nCalebJamesDeLisl - (04:29): I'd hate to be their service provider... \"What again? this its the second time this week.\"  \nxwiki-bridge - (04:29): [Cindy Mitchell] Haha, I know.  \nxwiki-bridge - (04:29): [Lady Serena Kitty] actually, 4chan has colo  \nxwiki-bridge - (04:29): [Cindy Mitchell] \"And it's only 6PM monday evening!\"  \nxwiki-bridge - (04:29): [Lady Serena Kitty] 2 full racks  \nxwiki-bridge - (04:30): [Cindy Mitchell] Wow.  \nCalebJamesDeLisl - (04:30): 2 full racks? Who's their backbone? cogent?  \nxwiki-bridge - (04:30): [Cindy Mitchell] I'd love to have some of that processing capacity. <.<  \nxwiki-bridge - (04:30): [Lady Serena Kitty] nah, its some local ISP up in Canadia  \nCalebJamesDeLisl - (04:31): Those poor people.  \nxwiki-bridge - (04:31): [Cindy Mitchell] I know.  \nCalebJamesDeLisl - (04:33): You folks know much about i2p?  \nxwiki-bridge - (04:33): [Lady Serena Kitty] nuuuuu  \nxwiki-bridge - (04:33): [Lady Serena Kitty] where 4chan is hosted is kinda funny  \nCalebJamesDeLisl - (04:33): dirt, dirt, dirt...  \nxwiki-bridge - (04:34): [Lady Serena Kitty] the ISP is in one of those really rural towns up there in Canadia, away from all the major population centers  \nxwiki-bridge - (04:34): [Lady Serena Kitty] so its like this small datacenter out in the middle of nowhere that's pushing 9TB+ of data per month  \nCalebJamesDeLisl - (04:36): Political protection? Or did they just never bother to move to cheaper hosting?  \nxwiki-bridge - (04:36): [Lady Serena Kitty] dunno  \nxwiki-bridge - (04:36): [Cindy Mitchell] lmao  \nxwiki-bridge - (04:36): [Lady Serena Kitty] and the hosting is pretty cheap  \nxwiki-bridge - (04:36): [Cindy Mitchell] I would fucking kill for 9tb/month of transfer  \nxwiki-bridge - (04:37): [Lady Serena Kitty] 4chan is paying something like $600/mo for both racks and something like $290/mo for the data  \nCalebJamesDeLisl - (04:37): You don't have to, just ban (almost) nothing from your site :)  \nxwiki-bridge - (04:37): \\*\\*\\* Cindy Mitchell drools D:  \nxwiki-bridge - (04:37): [Lady Serena Kitty] most other places, that would be in the tens of thousands per month  \nxwiki-bridge - (04:37): [Cindy Mitchell] Yeah.  \nxwiki-bridge - (04:39): [Cindy Mitchell] I'd kill for $250/month for 9TB+  \nCalebJamesDeLisl - (04:39): I have heard $400per 100Mbps + colocation.  \nxwiki-bridge - (04:39): [Lady Serena Kitty] I was thinking of setting up my servers there, but then again, I thought of the somewhat regular visits from the FBI and Mounted Patrol and decided against it.  \nxwiki-bridge - (04:40): [Cindy Mitchell] indeed.  \nCalebJamesDeLisl - (04:40): Planning on running a crazy image board?  \nxwiki-bridge - (04:40): [Lady Serena Kitty] LAWL  \nxwiki-bridge - (04:40): [Cindy Mitchell] heh.  \nxwiki-bridge - (04:40): \\*\\*\\* Cindy Mitchell giggles under her breath  \nCalebJamesDeLisl - (04:41): How about prq.se good folks over their.  \nCalebJamesDeLisl - (04:41): there  \nxwiki-bridge - (04:42): [Lady Serena Kitty] swedish!  \nCalebJamesDeLisl - (04:42): plus the se zone uses DNSSEC already.  \nxwiki-bridge - (04:44): [Lady Serena Kitty] yar  \nxwiki-bridge - (04:44): [Lady Serena Kitty] but all my websites are .com  \nxwiki-bridge - (04:44): [Lady Serena Kitty] well, except that .net one  \nxwiki-bridge - (04:44): [Lady Serena Kitty] and the .me one  \nCalebJamesDeLisl - (04:45): All Verisign except \"me\".  \nxwiki-bridge - (04:45): [Lady Serena Kitty] felinewith.me  \nxwiki-bridge - (04:45): [Lady Serena Kitty] :D  \nCalebJamesDeLisl - (04:46): .me must be expensive.  \nxwiki-bridge - (04:46): [Lady Serena Kitty] yar  \nxwiki-bridge - (04:46): [Lady Serena Kitty] 2x as much as a .com  \nxwiki-bridge - (04:47): [Cindy Mitchell] $20/year for a .me?  \nxwiki-bridge - (04:47): [Cindy Mitchell] lol  \nCalebJamesDeLisl - (04:50): That's what gandi charges to not take down your address even if you run a pdf hijack site.  \nxwiki-bridge - (04:51): [Cindy Mitchell] lmao  \nCalebJamesDeLisl - (04:53): Know anything about tor?  \nsunny\\_slls joined #xwiki at 05:22  \nCalebJamesDeLisl - (05:31): Hi Sunny.  \nsunny\\_slls - (05:32): hi CalebJamesDeLisl   \nsunny\\_slls - (05:32): good morning  \nCalebJamesDeLisl - (05:32): Still 11:30pm here.  \nsunny\\_slls - (05:32): :)  \nsunny\\_slls - (05:32): its 10:03 here  \nCalebJamesDeLisl - (05:32): Hows your scripting project going?  \nsunny\\_slls - (05:33): still working on velocity  \nsunny\\_slls - (05:34): actually i am studying for campus recruitment and also learning velocity  \nsunny\\_slls - (05:34): so its taking time  \nsunny\\_slls - (05:35): CalebJamesDeLisl, i will finish velocity today  \nCalebJamesDeLisl - (05:35): Velocity is not bad compared to java.  \nCalebJamesDeLisl - (05:35): What are you using for an editor?  \nsunny\\_slls - (05:35): xwiki  \nsunny\\_slls - (05:35): xwiki editor  \nsunny\\_slls - (05:36): first i was using WYSIWYG but sdumitriu told me to use xwiki editor  \nCalebJamesDeLisl - (05:37): I find the WYSIWYG editor difficult (another interface) so I do mostly wiki.  \nsunny\\_slls - (05:38): CalebJamesDeLisl, velocity is a scripting language, what are you mainly work for?  \nxwiki-bridge - (05:38): [Lady Serena Kitty] I usually use the wiki interface, too.  \nCalebJamesDeLisl - (05:39): Another trick I use is to work on the script in gedit and then copy in to the wiki page.  \nCalebJamesDeLisl - (05:39): In gedit you can choose to highlight the source and it makes it easier to read (for me).  \nsunny\\_slls - (05:40): CalebJamesDeLisl, that's a good one  \nsunny\\_slls - (05:40): CalebJamesDeLisl, but you are increasing your work by doing that  \nCalebJamesDeLisl - (05:41): I don't find it that bad to copy-paste the code into the wiki editor, and I really like the highlighting which catches some mistakes.  \nsunny\\_slls - (05:42): CalebJamesDeLisl, you can say that  \nCalebJamesDeLisl - (05:42): I have a simple mind and colored text makes me happy :)  \nsunny\\_slls - (05:43): CalebJamesDeLisl, me too  \nCalebJamesDeLisl - (05:44): I downloaded http://www.mail-archive.com/[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/msg02175/vtl.lang  \nCalebJamesDeLisl - (05:44): and saved it in the folder /usr/share/gtksourceview-2.0/language-specs/  \nCalebJamesDeLisl - (05:45): Now I can have velocity specific text highlighting.  \nsunny\\_slls - (05:46): CalebJamesDeLisl, in wiki editor?  \nCalebJamesDeLisl - (05:46): No that only works in gedit (an external editor which comes with Fedora)  \nsunny\\_slls - (05:47): CalebJamesDeLisl, i know gedit is a editor of linux  \nsunny\\_slls - (05:47): CalebJamesDeLisl, not only fedora its for ubuntu,opn suse etc  \nsunny\\_slls - (05:47): CalebJamesDeLisl, ;)  \nCalebJamesDeLisl - (05:47): You can open it with Applications->Accessories->Text Editor \u00a0\u00a0(in fedora)  \nsunny\\_slls - (05:48): CalebJamesDeLisl, i use fedora;) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0i am familiar with it  \nsunny\\_slls - (05:48): CalebJamesDeLisl, got to go  \nCalebJamesDeLisl - (05:48): See ya.  \nsunny\\_slls - (05:48): CalebJamesDeLisl, atleast i need to finish velocity  \nCalebJamesDeLisl - (05:49): I have to go to bed. Have fun.  \nCalebJamesDeLisl - (05:49): Good night all.  \nsunny\\_slls - (05:49): CalebJamesDeLisl, good night  \nCalebJamesDeLisl left at 05:50 (Remote closed the connection  \nsunny\\_slls - (06:24): xwiki-bridge, whenever i create a new page it opens with WYSIWYG, how can i open straight it with wiki editor?  \nxwiki-bridge - (06:24): [Lady Serena Kitty] you can change the setting in your user page  \nsunny\\_slls left at 06:52 (\"Leaving\"  \nkibahop joined #xwiki at 08:04  \nLadySerena joined #xwiki at 08:05  \nplunden joined #xwiki at 08:08  \nkibahop left #xwiki at 08:12  \nkibahop joined #xwiki at 09:05  \nxwiki-bridge - (09:38): [Vincent Massol] tmortagne: hi. I've written the special serializer in the end. I'm still unsure whether it should check the current wiki from the \u00a0ModelContext or from the current doc  \nxwiki-bridge - (09:38): [Vincent Massol] (I have written to check against the ModelContext wiki for now)  \nxwiki-bridge - (09:40): [tmortagne] well in your use case (backlinks) you want to serialize a reference based on the current document  \nxwiki-bridge - (09:53): [Vincent Massol] tmortagne: I was hesitating because the previous compact serializer was using context.getDatabase() to check for the wiki  \nxwiki-bridge - (09:53): [Vincent Massol] (and not the current document)  \nxwiki-bridge - (09:54): [Vincent Massol] the other risk is that the getUniqueLinkedPages method is called for use cases other than backlinks  \nxwiki-bridge - (09:55): [Vincent Massol] (it should return a set of reference and not string probably)  \nxwiki-bridge - (09:56): [Denis Gervalle] Vincent Massol: Hi ! Thomas tolds me that you are working on backlinks, parents and so on...  \nxwiki-bridge - (09:56): [Vincent Massol] Denis Gervalle: I'm working on model references actually  \nxwiki-bridge - (09:56): [Vincent Massol] about to commit a big change that may break a few things for a few days  \nxwiki-bridge - (09:57): [Denis Gervalle] Vincent Massol: I were just about to file new bugs regarding the proper renaming of page, when these are translated  \nxwiki-bridge - (09:57): [Vincent Massol] ok I haven't touched that  \nxwiki-bridge - (09:58): [Denis Gervalle] as well as the fact that each translation has his own parents, which is silly and not adapted  \nxwiki-bridge - (09:58): [Denis Gervalle] and not working  \nxwiki-bridge - (09:58): [Vincent Massol] not touched that either  \nxwiki-bridge - (09:58): [Denis Gervalle] ok, I file the bugs then  \nKermitTheFragger joined #xwiki at 10:00  \nxwiki-bridge - (10:00): [tmortagne] I just seen that Admin user has been removed from Admin group in http://myxwiki.org, is it done on purpose ? It makes all standard pages which need programming right to fail  \nxwiki-bridge - (10:01): [Denis Gervalle] But most of you thought that standard interface does not require programming rights ;)  \nxwiki-bridge - (10:03): [Denis Gervalle] What happen on an XWiki farm ? :P  \nxwiki-bridge - (10:05): [tmortagne] Denis Gervalle: most of standard interface does not require it (that's why it has not been seen), the few that does should not, in the meantime...  \nxwiki-bridge - (10:06): [Denis Gervalle] tmortagne: thats a point view, you know, I do not completely share :)  \nxwiki-bridge - (10:06): [tmortagne] anyway i don't see the point of removing Admin user from Admin group  \nxwiki-bridge - (10:08): [Vincent Massol] ok committed, now I/we need to fix all bugs introduced ;)  \nxwiki-bridge - (10:08): [Vincent Massol] please all have a look at the new xwiki-model module to see if what's in there is ok for you  \nxwiki-bridge - (10:08): [Vincent Massol] we won't have another chance at changing it so it better be good  \narkub joined #xwiki at 10:10  \nxwiki-bridge - (10:10): [tmortagne] Vincent Massol: looking, hope it will take less than a day ;)  \nxwiki-bridge - (10:11): [Vincent Massol] tmortagne: thanks. The xwiki-model itself should be quite easy to review  \nxwiki-bridge - (10:11): [Vincent Massol] the hard pard part is reviewing all the places touched  \nxwiki-bridge - (10:11): [tmortagne] yep  \nxwiki-bridge - (10:11): [Vincent Massol] and then fixing all the places that haven't been touched and that should have been touched  \nxwiki-bridge - (10:11): [Vincent Massol] :)  \nxwiki-bridge - (10:12): [Vincent Massol] tmortagne: I haven't fixed the new serializer yet so right now it's using the current wiki from modelcontext  \nxwiki-bridge - (10:14): [tmortagne] Vincent Massol: ok, I think it's ok anyway, it's backlinks that has specific need so it should just mae sure the current wiki is the current document wiki  \nxwiki-bridge - (10:15): [Denis Gervalle] tmortagne: \u00a0but Admin does not always have programming rights, especially in a farm, so the problem of these pages stay for all these (sub)wikis. \u00a0When you want to reset the password of a local user for example, it fails !  \nxwiki-bridge - (10:16): [tmortagne] Denis Gervalle: yes and it's a bug that why i said \"the few that does should not\"  \nxwiki-bridge - (10:16): [Denis Gervalle] tmortagne: this is mainly a issue of having xwiki:XWiki.Admin authoring these pages in place of XWiki.Admin as it is currently. Just something that would work easily now.  \nxwiki-bridge - (10:17): [tmortagne] Denis Gervalle: no it's should be superadmin like we no for generated classes  \nxwiki-bridge - (10:18): [tmortagne] since it's our \"system\" user  \nxwiki-bridge - (10:18): [tmortagne] that can't loose it rights and can't be deleted  \nxwiki-bridge - (10:22): [Denis Gervalle] tmortagne: So you agree that removing Admin from the admin group is pointless :)  \nxwiki-bridge - (10:24): [tmortagne] Denis Gervalle: I never said the opposite  \nSvenDowiu joined #xwiki at 10:26  \nxwiki-bridge - (10:28): [tmortagne] Vincent Massol: CompactEntityReferenceSerializer will fail if there is no context, i should maybe produce a complete reference instead  \nxwiki-bridge - (10:29): [Vincent Massol] otp  \nxwiki-bridge - (10:32): [asirir] devs, calling Cache.remove(String entry); doesn't seem to invoke the CacheEntryListener (if there is one). Is this a bug? or is it just the way it works? (only invoke CacheEntryListener when entries are expired but not manually evicted).  \nxwiki-bridge - (10:34): [Denis Gervalle] Vincent Massol: XWIKI-4719 and XWIKI-4720  \nxwiki-bridge - (10:36): [tmortagne] asirir: no it should invoke CacheEntryListener and i'm pretty sure there is junit tests for it  \nxwiki-bridge - (10:36): [tmortagne] why do you use CacheEntryListener ?  \nxwiki-bridge - (10:36): [asirir] tmortagne: ok, may be i have missed something. I will check.  \nxwiki-bridge - (10:37): [asirir] tmortage: To cleanup some temporary files created. (office preview).  \nxwiki-bridge - (10:38): [tmortagne] asirir: see AbstractGenericTestCache#testEvents(), maybe thereis something wrong in the test  \nxwiki-bridge - (10:39): [asirir] tmortagne: ok, but it seems I also have a problem in my code. I will first check mine and then check the test case.  \nSvenDowideit left at 10:39 (Read error: 101 (Network is unreachable)  \nSvenDowiu is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nxwiki-bridge - (10:39): [tmortagne] hmm i think there is something wrong in the test actually  \nxwiki-bridge - (10:40): [tmortagne] i'm checking  \nxwiki-bridge - (10:48): [tmortagne] asirir: indeed there is a bug and the test is not testing the right thing, i'm fixing it  \nxwiki-bridge - (10:48): [tmortagne] now are you sure you need to listedn to cache events ? it's very technical  \nxwiki-bridge - (10:50): [asirir] tmortagne: yup, i need to cleanup some temporary files generated when creating a preview of an office attachment. I'm caching the preview so that I don't have to hit the openoffice server each time a preview is requested, but this means i need to keep images as temporary files. So, when a cache entry is expired and is removed from the cache, I need to cleanup those temporary image files, otherwise they will be  \nxwiki-bridge - (10:50): [asirir] forgotten.  \nxwiki-bridge - (10:51): [tmortagne] OK if i understand well your use case that's the job of DisposableCacheValue  \nxwiki-bridge - (10:52): [tmortagne] you implement it and you are called when the entry is removed or evicted from the cache  \nxwiki-bridge - (10:52): [asirir] OOh  \nxwiki-bridge - (10:52): [tmortagne] /\\*\\*  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\\* If the value inserted in the cache implement this interface, the {@link #dispose()} method will be called to release  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\\* all resource used by this data when it is removed from the cache.  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\\*   \nxwiki-bridge - (10:52): [tmortagne] \u00a0\\* @version $Id: DisposableCacheValue.java 21281 2009-06-13 19:22:09Z sdumitriu $  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\\*/  \nxwiki-bridge - (10:52): [tmortagne] public interface DisposableCacheValue  \nxwiki-bridge - (10:52): [tmortagne] {  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\u00a0\u00a0\u00a0/\\*\\*  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\u00a0\u00a0\u00a0\u00a0\\* @throws Exception error when releasing the resource of this data.  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\u00a0\u00a0\u00a0\u00a0\\*/  \nxwiki-bridge - (10:52): [tmortagne] \u00a0\u00a0\u00a0\u00a0void dispose() throws Exception;  \nxwiki-bridge - (10:52): [tmortagne] }  \nxwiki-bridge - (10:52): [asirir] Nice!!!  \nxwiki-bridge - (10:52): [asirir] Ok, I didn't know that, thanks :)  \nxwiki-bridge - (10:52): [tmortagne] except that for the same reason you don't receive the remove even this is currently buggy too i'm fiwing it  \nxwiki-bridge - (10:54): [tmortagne] indeeed i forgot to speak about DisposableCacheValue in http://code.xwiki.org/xwiki/bin/view/Modules/CacheModule  \nxwiki-bridge - (11:00): [asirir] he he, I did not check that page before coding either :D  \nxwiki-bridge - (11:01): [asirir] I was used to using the cache component in a way and i did not know there was a page.  \nxwiki-bridge - (11:01): [asirir] my bad :)  \nlucaa joined #xwiki at 11:06  \nlucaa left #xwiki at 11:07  \nkibahop left #xwiki at 11:35  \nxwiki-bridge - (11:37): [Vincent Massol] tmortagne: done re the compact serializer  \nxwiki-bridge - (11:38): [Vincent Massol] it's now context-resistant  \nxwiki-bridge - (11:40): [Vincent Massol] found a bug in rename, debugging  \nxwiki-bridge - (11:40): [Vincent Massol] also my recent modifications doesn't show newly created doc, looking at it too  \nxwiki-bridge - (11:49): [Vincent Massol] btw syntax coloring and validity checks of vm files is very nice in intellij idea  \nxwiki-bridge - (12:09): [Vincent Massol] sdumitriu: do you know why we use #set ($whatever = $util.arrayList) instead of #$set ($whatever = []) ?  \nxwiki-bridge - (12:10): [sdumitriu] Nope  \nxwiki-bridge - (12:10): [Vincent Massol] I've tried changing it in rename.vm and it seems to eb working well  \nxwiki-bridge - (12:10): [sdumitriu] Yes, it should  \nkibahop joined #xwiki at 12:22  \nxwiki-bridge - (12:25): [Vincent Massol] sdumitriu: I'm a bit stuck by something that should be easy to understand  \nxwiki-bridge - (12:25): [Vincent Massol] on the rename page  \nxwiki-bridge - (12:25): [Vincent Massol] even if the checkboxes for parent links are unchecked, they are still passed in the post request  \nxwiki-bridge - (12:26): [Vincent Massol] this doesn't happen for the backlinks though  \nxwiki-bridge - (12:26): [Vincent Massol] any idea?  \nxwiki-bridge - (12:28): [Vincent Massol] I can't see the post request in firebug for some reason either. I'm probably not using it correctly  \nxwiki-bridge - (12:30): [sdumitriu] Firebug does not show normal page request  \nxwiki-bridge - (12:30): [sdumitriu] You can use HttpHeaders for this  \nxwiki-bridge - (12:38): [Vincent Massol] argh I know  \nxwiki-bridge - (12:38): [Vincent Massol] just realized that colibri had its own rename.vm  \nxwiki-bridge - (12:38): [Vincent Massol] :(  \nxwiki-bridge - (12:38): [Vincent Massol] and I had only applied caleb's patch to the templates a while back  \nxwiki-bridge - (12:38): [Vincent Massol] I hate those duplications....  \nxwiki-bridge - (12:39): [Vincent Massol] when are you removing them sergiu?  \nxwiki-bridge - (12:39): [sdumitriu] Soon  \nxwiki-bridge - (12:45): [lucaa] Vincent Massol: I just had a look at the reference API, it looks good when I look at it, but I think the big test would be using it  \nxwiki-bridge - (12:46): [Vincent Massol] lucaa: sure. It's already used in hundreds of places ;)  \nxwiki-bridge - (12:46): [lucaa] yes, and it has been tailored to fit them. The big test would be using it in new places, actually  \nxwiki-bridge - (12:47): [Vincent Massol] yes  \nxwiki-bridge - (12:47): [Vincent Massol] the next step is to decide if we want to use them from velocity or not  \nxwiki-bridge - (12:47): [lucaa] I think we do  \nxwiki-bridge - (12:47): [Vincent Massol] either we continue to use strings in velocity or we use references  \nxwiki-bridge - (12:47): [lucaa] I think we should be able to use both  \nxwiki-bridge - (12:47): [Vincent Massol] we need to fix this kind of lines:  \nxwiki-bridge - (12:47): [Vincent Massol] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0#set ($newFullName = \"${request.newSpaceName}.${request.newPageName}\")  \nxwiki-bridge - (12:47): [lucaa] yes  \nxwiki-bridge - (12:47): [lucaa] and the parsing  \nxwiki-bridge - (12:48): [lucaa] (if any)  \nxwiki-bridge - (12:48): [lucaa] so I think the serializer and factory should be available in velocity  \nxwiki-bridge - (12:49): [Vincent Massol] either that or offer some velocity apis   \nxwiki-bridge - (12:50): [Vincent Massol] lunch, bb  \nxwiki-bridge - (13:22): [Vincent Massol] ok rename fixed, now to the my recent modifications panel  \nxwiki-bridge - (13:26): [Vincent Massol] jvdrean: hi  \nxwiki-bridge - (13:26): [Vincent Massol] have you seen that on http://localhost:8080/xwiki/bin/view/Panels/ there are some panel description that span to the next line?  \nxwiki-bridge - (13:34): [lucaa] Vincent Massol: do we have any ETA for the object field references parser?  \nxwiki-bridge - (13:34): [Vincent Massol] no  \nxwiki-bridge - (13:34): [lucaa] or implementation plan, or any kind of news  \nxwiki-bridge - (13:35): [Vincent Massol] there are weeks of men/days to fix existing code now  \nxwiki-bridge - (13:35): [Vincent Massol] so I'll be focusing on this on my side (and all help is more than welcome)  \nxwiki-bridge - (13:36): [lucaa] ok, so I will need to write it myself  \nxwiki-bridge - (13:36): [Vincent Massol] have you made a proposal already? (I don't reall)  \nxwiki-bridge - (13:36): [Vincent Massol] recall  \nxwiki-bridge - (13:37): [lucaa] no, I haven't, but I remember we had some discussions on the list  \nxwiki-bridge - (13:37): [lucaa] about the syntax  \nxwiki-bridge - (13:37): [lucaa] which is fine with me  \nxwiki-bridge - (13:37): [Vincent Massol] I don't recall it  \nxwiki-bridge - (13:37): [Vincent Massol] you mean the one I suggested with brackets fro objets? We need to agree about it first  \nxwiki-bridge - (13:38): [lucaa] yes, that one  \nxwiki-bridge - (13:38): [Vincent Massol] so I think you need to make a proposal first  \nxwiki-bridge - (13:38): [Vincent Massol] to ensure we all agree  \nxwiki-bridge - (13:38): [lucaa] yes  \nxwiki-bridge - (13:39): [Vincent Massol] the implementation should be prettyu easy now  \nxwiki-bridge - (13:39): [Vincent Massol] since the algo I wrote are generic  \nxwiki-bridge - (13:39): [Vincent Massol] s/algo/algos/  \nxwiki-bridge - (13:39): [lucaa] <thinking-aloud> so here's the place where the model is not expandable: right now, I can extend anything in the model, entity ref, factory parser, etc, but I cannot add new EntityType and I cannot work without it either in the parser  \nxwiki-bridge - (13:39): [Vincent Massol] there's only the multivalue support to add though  \nxwiki-bridge - (13:39): [Vincent Massol] s/only//  \nxwiki-bridge - (13:40): [Vincent Massol] well \u2026 you need to talk to thomas  \nxwiki-bridge - (13:40): [Vincent Massol] :)  \nxwiki-bridge - (13:40): [Vincent Massol] I wanted it expandable but thomas convinced me not to do so :)  \nxwiki-bridge - (13:40): [Vincent Massol] (I had actually written it as expandable in my first version)  \nxwiki-bridge - (13:41): [tmortagne] \"expandable\" ?  \nxwiki-bridge - (13:41): [lucaa] so if I wanted to, say, provide an implementation with the annotations, because there's where i need it  \nxwiki-bridge - (13:41): [lucaa] I won't be able to, because I cannot add constants to EntityType  \nxwiki-bridge - (13:41): [Vincent Massol] entitytype is one area indeed but there's also the factory/serializer  \nxwiki-bridge - (13:41): [tmortagne] Vincent Massol: if you mean being able to add new part in the reference no your implementation was not  \nxwiki-bridge - (13:41): [tmortagne] it's not expendable simply because we have an enum  \nxwiki-bridge - (13:42): [Vincent Massol] yes  \nxwiki-bridge - (13:42): [tmortagne] it has nothing to do with the implementation  \nxwiki-bridge - (13:42): [Vincent Massol] I was only tlaking about the factory/serializer  \nxwiki-bridge - (13:42): [Vincent Massol] impl  \nxwiki-bridge - (13:42): [Vincent Massol] re entitytype we need to decide what we want  \nxwiki-bridge - (13:42): [lucaa] well, but do I really care about impl which I can overwrite?  \nxwiki-bridge - (13:42): [Vincent Massol] I don't know if we want it expandable or not  \nxwiki-bridge - (13:43): [Vincent Massol] ie expandable without adding to the entitytype enum  \nxwiki-bridge - (13:43): [Vincent Massol] it's not too hard to replace the enum with what we had for Syntax if we want it  \nxwiki-bridge - (13:44): [Vincent Massol] but indeed we need to decide this before 2.2 final  \nxwiki-bridge - (13:45): [tmortagne] it's not just about reference since it's entitytype it's more about the model  \nxwiki-bridge - (13:46): [Vincent Massol] yes  \nxwiki-bridge - (13:47): [Vincent Massol] just noticed some functional tests broken by my changes  \nxwiki-bridge - (13:48): [lucaa] Vincent Massol: btw, lots of the classes in the xwiki-core-model don't have Id keyword  \nxwiki-bridge - (13:48): [Vincent Massol] lucaa: hmmm strange, I'm using intellij idea now so it should be fine  \nxwiki-bridge - (13:49): [lucaa] and you have a typo in EntityReferenceFactory line 26  \nxwiki-bridge - (13:49): [Vincent Massol] fixed  \nxwiki-bridge - (13:51): [lucaa] tmortagne: so the question is if we'd want the model to be expandable  \nxwiki-bridge - (13:52): [tmortagne] yes  \nxwiki-bridge - (13:53): [lucaa] at least ftm, it would be great to be. This way the devs (such as me for annotations) could add their own implementation for the missing bricks until we provide it  \nxwiki-bridge - (13:53): [Vincent Massol] if we make it expandable we need to decide what we do \u00a0in curernt impl when we have a type we don't know about  \nxwiki-bridge - (13:53): [tmortagne] IMO it's not possible now  \nxwiki-bridge - (13:54): [tmortagne] if we make it expendable t will be only with new model implementation  \nxwiki-bridge - (13:54): [tmortagne] or it will be a pain  \nxwiki-bridge - (13:54): [Vincent Massol] I think so too  \nxwiki-bridge - (13:54): [Vincent Massol] tmortagne: but changing it afterwards is a pain so maybe we should move away from an enum for EntityType rightnow?  \nxwiki-bridge - (13:55): [lucaa] I think it's too complex for no real use (I don't see any other usecase now)  \nxwiki-bridge - (13:55): [Vincent Massol] what is too complex anca?  \nxwiki-bridge - (13:55): [lucaa] to implement the expandable type  \nxwiki-bridge - (13:55): [Vincent Massol] making it extensible?  \nxwiki-bridge - (13:55): [lucaa] now  \nxwiki-bridge - (13:55): [lucaa] yes  \nxwiki-bridge - (13:56): [Vincent Massol] well in the future if we go the JCR way  \nxwiki-bridge - (13:56): [Vincent Massol] the model will be extensible  \nxwiki-bridge - (13:56): [Vincent Massol] and it's good for a framework to be extensible  \nxwiki-bridge - (13:56): [Vincent Massol] so IMO it's definitely something we will want in the future  \nxwiki-bridge - (13:57): [anamarias] hi  \nxwiki-bridge - (13:57): [anamarias] how can you create new documents and not have your component depend on old xwiki core ? (I see DAB doesn't have a method for it)  \nxwiki-bridge - (13:57): [lucaa] yes, I was talking about now.   \nxwiki-bridge - (13:57): [Vincent Massol] lucaa: yes I know but you need to factor in the cost of changing a low level object such as EntityType later on  \nxwiki-bridge - (13:57): [tmortagne] Vincent Massol: if we really want it yes we should get rid of enum  \nxwiki-bridge - (13:58): [tmortagne] Vincent Massol: is it nortmal you use org.xwiki.bridge.DocumentName in org.xwiki.model.Document ?  \nxwiki-bridge - (13:58): [Vincent Massol] err?  \nxwiki-bridge - (13:59): [tmortagne] let me check if there is other updates  \nxwiki-bridge - (13:59): [Vincent Massol] there's no org.xwiki.model.Document AFAIK  \nxwiki-bridge - (13:59): [Vincent Massol] if you're tlaking about sandbox, I haven't refactored it yet  \nxwiki-bridge - (14:00): [Vincent Massol] so it'll be replaced by DocumentReference now  \nxwiki-bridge - (14:00): [lucaa] anamarias: well, if it's not in the bridge, then it's very probable that you can't  \nxwiki-bridge - (14:00): [tmortagne] hmm yes i was looking in Eclipse did not seen it was snadbox  \nxwiki-bridge - (14:01): [tmortagne] I had the wrong core-model  \nxwiki-bridge - (14:04): [tmortagne] Vincent Massol: there is several unused import in org.xwiki.model.ModelContext, are you working on it or do if fix it directly ?  \nxwiki-bridge - (14:04): [Vincent Massol] you can fix it. I'm planning to add back the checkstyle config in xwiki-model  \nxwiki-bridge - (14:04): [Vincent Massol] go ahead  \nxwiki-bridge - (14:04): [tmortagne] ok  \nxwiki-bridge - (14:07): [lucaa] Vincent Massol: re last commits, it's not about the kw expansion, they're just not set  \nxwiki-bridge - (14:08): [Vincent Massol] I'm rebooting idea maybe the svn config is only read at startup  \nkibahop left #xwiki at 14:08  \nxwiki-bridge - (14:08): [Vincent Massol] lucaa: that's the point  \nxwiki-bridge - (14:08): [Vincent Massol] they should be set automatically  \nxwiki-bridge - (14:08): [Vincent Massol] I had some wrong svn config file I think  \nxwiki-bridge - (14:09): [lucaa] but you don't need to commit to test that, you can just look at the file  \nxwiki-bridge - (14:09): [lucaa] file's props  \nxwiki-bridge - (14:09): [Vincent Massol] what file?  \nxwiki-bridge - (14:09): [Vincent Massol] the point is to test that they are set when I commit  \nxwiki-bridge - (14:09): [Vincent Massol] it's only done on commit  \nxwiki-bridge - (14:09): [lucaa] idea only does it before commit?  \nxwiki-bridge - (14:09): [Vincent Massol] no  \nxwiki-bridge - (14:10): [Vincent Massol] it's not about idea  \nxwiki-bridge - (14:10): [Vincent Massol] it's about the svn client  \nxwiki-bridge - (14:10): [lucaa] because otherwise you should get them with   \nxwiki-bridge - (14:10): [lucaa] svn propget svn:keywords URL   \nxwiki-bridge - (14:10): [lucaa] in the command line  \nxwiki-bridge - (14:10): [lucaa] so that you check they are set  \nxwiki-bridge - (14:10): [lucaa] anyway...  \nxwiki-bridge - (14:10): [Vincent Massol] I know they are not set  \nxwiki-bridge - (14:10): [Vincent Massol] that's what I'm fixing!\u00e7  \nxwiki-bridge - (14:10): [lucaa] ok  \nxwiki-bridge - (14:11): [Vincent Massol] well trying to fix  \nxwiki-bridge - (14:11): [Vincent Massol] the goal is to not have to use svn propset for every file  \nkibahop joined #xwiki at 14:11  \nxwiki-bridge - (14:11): [Vincent Massol] hmm not working yet  \nxwiki-bridge - (14:11): [lucaa] I was just wondering why you need to commit for that, but I guess I don't need necessarily to know  \nxwiki-bridge - (14:12): [Vincent Massol] how would you do it?  \nxwiki-bridge - (14:12): [Vincent Massol] I don't get it  \nxwiki-bridge - (14:12): [Vincent Massol] again I'm talking about auto props  \nxwiki-bridge - (14:13): [Vincent Massol] actually you're right  \nxwiki-bridge - (14:13): [Vincent Massol] I don't need commit  \nxwiki-bridge - (14:13): [lucaa] for example, my files have props set right after I add them to svn, I don't need to commit for that  \nxwiki-bridge - (14:13): [Vincent Massol] I can do a svn add too  \nxwiki-bridge - (14:13): [Vincent Massol] on a new file  \nxwiki-bridge - (14:16): [Vincent Massol] ok found my pb I think.. getting there  \nxwiki-bridge - (14:24): [Vincent Massol] ok I give up....  \nxwiki-bridge - (14:24): [Vincent Massol] it's working from svn command line but not idea  \nxwiki-bridge - (14:25): [Vincent Massol] maybe the propset is only done on add  \nxwiki-bridge - (14:25): [lucaa] svn add?  \nxwiki-bridge - (14:25): [Vincent Massol] yes. I thought it was also done on modifications  \nxwiki-bridge - (14:26): [lucaa] nop, afaik  \nxwiki-bridge - (14:26): [lucaa] I mean I don't know about idea but eclipse doesn't seem to, nor the svn client  \nxwiki-bridge - (14:26): [Vincent Massol] I'm pretty sure it used to work but maybe it was my IDEA that was doing this for me in the past  \nxwiki-bridge - (14:26): [Vincent Massol] s/IDEA/IDE/  \nxwiki-bridge - (14:27): [Vincent Massol] anyway we'll see when I next add a file  \nxwiki-bridge - (14:27): [Vincent Massol] my svn config file should be ok now at least  \nxwiki-bridge - (14:27): [lucaa] <thinkink-aloud>  \nxwiki-bridge - (14:27): [lucaa] I was thinking that we don't necessarily need the normalizer in this form, we could implement it as an   \nxwiki-bridge - (14:27): [lucaa] EntityReferenceFactory<EntityReference>  \nxwiki-bridge - (14:27): [lucaa] to which we pass the base...  \nxwiki-bridge - (14:27): [Vincent Massol] ok back to my recent modifications panel bug track  \nxwiki-bridge - (14:27): [Vincent Massol] yes I thought about this  \nxwiki-bridge - (14:27): [Vincent Massol] but no  \nxwiki-bridge - (14:28): [Vincent Massol] the reason is that we don't need the second param  \nxwiki-bridge - (14:28): [Vincent Massol] (the entity type)  \nxwiki-bridge - (14:28): [lucaa] then why is the factory generic?  \nxwiki-bridge - (14:28): [lucaa] <T> I mean  \nxwiki-bridge - (14:28): [Vincent Massol] why not?  \nxwiki-bridge - (14:28): [Vincent Massol] :)  \nxwiki-bridge - (14:28): [Vincent Massol] it can cope with some use case  \nxwiki-bridge - (14:29): [Vincent Massol] but not with the normalizer one  \nxwiki-bridge - (14:29): [lucaa] that's a good one :)  \nxwiki-bridge - (14:29): [Vincent Massol] unless we make the list of params a vararg or something like this (I didn't want to do this)  \nxwiki-bridge - (14:29): [Vincent Massol] if you find a better idea I'm open  \nxwiki-bridge - (14:29): [Vincent Massol] I just couldn't find a better solution  \nxwiki-bridge - (14:30): [lucaa] it's ok like this too, it was a little more elegant as a factory  \nxwiki-bridge - (14:30): [Vincent Massol] not with the entitytypo  \nxwiki-bridge - (14:30): [Vincent Massol] entitytype  \nxwiki-bridge - (14:30): [Vincent Massol] that would have been less elegant  \nxwiki-bridge - (14:30): [lucaa] because if you think about it, the Current\\*Factory is a normalizer too, relative to the current doc in the context  \nxwiki-bridge - (14:31): [Vincent Massol] yes I agree  \nxwiki-bridge - (14:31): [Vincent Massol] how do you solve the param issue?  \nxwiki-bridge - (14:31): [lucaa] didn't think about it yet  \nxwiki-bridge - (14:31): [Vincent Massol] btw can a vararg be not specified when used?  \nxwiki-bridge - (14:32): [Vincent Massol] (I didn't check)  \nxwiki-bridge - (14:32): [lucaa] you mean not set?  \nxwiki-bridge - (14:32): [Vincent Massol] yes  \nxwiki-bridge - (14:32): [lucaa] it's an array, the array will only be shorter, isn't it?  \nxwiki-bridge - (14:32): [lucaa] or 0  \nxwiki-bridge - (14:32): [Vincent Massol] I mean if I have somemethod (Object.. params) can I call somemethod()?  \nxwiki-bridge - (14:33): [lucaa] my intuition says yes  \nxwiki-bridge - (14:33): [Vincent Massol] the only downside is that the impls need to do a cast on the params   \nxwiki-bridge - (14:33): [lucaa] not that's it's in any way valuable  \nxwiki-bridge - (14:33): [tmortagne] yes you can AFAIK  \nxwiki-bridge - (14:34): [Vincent Massol] createEntityReference(T representation, Object.. params)  \nxwiki-bridge - (14:34): [lucaa] and this will also allow to have the same code for typed references as we discussed, the factory will just need to parse it  \nxwiki-bridge - (14:34): [Vincent Massol] that was my other idea, provided you can call it with createentityRefernce(EntityReference myref)  \nxwiki-bridge - (14:34): [Vincent Massol] (ie without any params passed)  \nxwiki-bridge - (14:35): [Vincent Massol] obviously it leads to a less typed API  \nxwiki-bridge - (14:35): [Vincent Massol] which is the downside  \nxwiki-bridge - (14:35): [Vincent Massol] that's why I haven't done it in my first impl  \nxwiki-bridge - (14:37): [lucaa] I meant a string reference repr, typed with   \nxwiki-bridge - (14:37): [lucaa] type://wiki:space.page  \nxwiki-bridge - (14:37): [lucaa] as we discussed at one point  \nxwiki-bridge - (14:38): [lucaa] what I meant is that one can extend it's own factory and have this kind of thing, and use the same API  \nxwiki-bridge - (14:39): [lucaa] I don't have an opinion about the typed API though  \nxwiki-bridge - (14:39): [lucaa] it can be good too, because it's more flexible  \nxwiki-bridge - (14:40): [Vincent Massol] type:// can only be specialized solution  \nxwiki-bridge - (14:41): [Vincent Massol] since we're not going to force users to use it when they create wiki links  \nxwiki-bridge - (14:41): [Vincent Massol] so we'll always needs a solution to transform \"space.page\" into a valid reference  \nxwiki-bridge - (14:43): [Vincent Massol] just found: \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String name = (String) result[0] + \".\" + (String) result[1]; in the hibernate factory. We must have tons of stuff like this to fix....  \nxwiki-bridge - (14:43): [tmortagne] type:// should be a whole new abstraction level and should be mixed with base reference api  \nxwiki-bridge - (14:43): [lucaa] yes, I meant type:// as a specialized solution  \nxwiki-bridge - (14:43): [Vincent Massol] lucaa: ok then it doesn't solve our issue  \nxwiki-bridge - (14:44): [lucaa] no, it doesn't. I didn;t mention it as a solution, but as something one could do if we'd have optional parameter  \nxwiki-bridge - (14:44): [Vincent Massol] oh I see  \nxwiki-bridge - (14:44): [Vincent Massol] indeed  \nxwiki-bridge - (14:45): [lucaa] it's a different type of string representation, as tmortagne said, about which we discussed before  \nxwiki-bridge - (14:45): [Vincent Massol] I guess we could even have createEntityReference(Object.. params)  \nxwiki-bridge - (14:45): [Vincent Massol] pure untyped api!  \nxwiki-bridge - (14:45): [lucaa] (are you joking?)  \nxwiki-bridge - (14:46): [Vincent Massol] no I'm not joking  \nxwiki-bridge - (14:46): [Vincent Massol] it would be logical if we wanted something generic  \nxwiki-bridge - (14:46): [lucaa] but entity reference is not that generic  \nxwiki-bridge - (14:46): [Vincent Massol] since the first param or the next aprals are of the same type  \nxwiki-bridge - (14:46): [lucaa] so I don't see how would that help  \nxwiki-bridge - (14:46): [Vincent Massol] aprals = params  \nxwiki-bridge - (14:47): [Vincent Massol] anca: T, Object..  \nxwiki-bridge - (14:47): [tmortagne] I lots some part of the dicussion i think, what createEntityReference(Object.. params) is supposed to do exactly ? what are theses parameters ?  \nxwiki-bridge - (14:47): [Vincent Massol] is not very different from Obiect..  \nxwiki-bridge - (14:47): [Vincent Massol] tmortagne: anca was rightly saying that the normalizer could be impemented as a factory  \nxwiki-bridge - (14:48): [Vincent Massol] the only reason I didn't do it is because the factory was taking an entityType as the second param  \nxwiki-bridge - (14:48): [Vincent Massol] (which wouldn't be needed when T = entityType  \nxwiki-bridge - (14:48): [Vincent Massol] )  \nxwiki-bridge - (14:48): [Vincent Massol] a solution would be to have createEntityType(T, Object..) or even createEntityType(Object..)  \nxwiki-bridge - (14:48): [lucaa] T=EntityReference Vincent Massol meant  \nxwiki-bridge - (14:48): [Vincent Massol] yes thanks anca  \nxwiki-bridge - (14:50): [lucaa] to come bak to the discussion, indeed T is the same as object, but would it make sense without it?  \nxwiki-bridge - (14:50): [lucaa] createEntityReference()  \nxwiki-bridge - (14:50): [lucaa] ?  \nxwiki-bridge - (14:50): [Vincent Massol] it's up to the implementation  \nxwiki-bridge - (14:50): [lucaa] does it make sense to have a factory that creates entityReferences from nothing?  \nxwiki-bridge - (14:50): [Vincent Massol] why would we have one?  \nxwiki-bridge - (14:51): [lucaa] because the interface would allow it  \nxwiki-bridge - (14:51): [Vincent Massol] sure but that's the same for params  \nxwiki-bridge - (14:51): [Vincent Massol] that's varargs  \nxwiki-bridge - (14:51): [Vincent Massol] it's untyped  \nxwiki-bridge - (14:51): [Vincent Massol] and the number isn't fixed  \nxwiki-bridge - (14:51): [Vincent Massol] so it's up to the impl  \nxwiki-bridge - (14:51): [lucaa] yes, but from my pov, it makes sense to have a factory that would create refs from only the representation, with no helper  \nxwiki-bridge - (14:51): [Vincent Massol] to check it gets what it needs  \nxwiki-bridge - (14:51): [lucaa] but I think the representation should sortof stay there  \nxwiki-bridge - (14:51): [Vincent Massol] I don't zaree  \nxwiki-bridge - (14:52): [Vincent Massol] when you say type://...  \nxwiki-bridge - (14:52): [tmortagne] ok understood now, Normalizer implements Factory<EntityReference>  \nxwiki-bridge - (14:52): [Vincent Massol] it's the same as saying 2 params: one for spacE.page and one for the type  \nxwiki-bridge - (14:52): [tmortagne] indeed it make sense  \nxwiki-bridge - (14:52): [Vincent Massol] zaree = agree ;)  \nxwiki-bridge - (14:52): [lucaa] no, it's not really, it's a different representation  \nxwiki-bridge - (14:53): [Vincent Massol] yes but it's up tot eh impl  \nxwiki-bridge - (14:53): [lucaa] yes  \nxwiki-bridge - (14:53): [Vincent Massol] to know if a representaiton is done with one param or with several  \nxwiki-bridge - (14:53): [lucaa] I see  \nxwiki-bridge - (14:53): [lucaa] but i still think it should be at least one param  \nxwiki-bridge - (14:54): [lucaa] which would also give the 'type' of the factory, as in Factory<T>  \nxwiki-bridge - (14:54): [Vincent Massol] if you pass (\"space.page\") without the type as the second param it's not going to work forthe default factory either  \nxwiki-bridge - (14:54): [Vincent Massol] so in any case the factories would need to check the type and number of params  \nxwiki-bridge - (14:54): [lucaa] I understand what you mean  \nxwiki-bridge - (14:55): [Vincent Massol] what you're saying is that the first param is \"special\" and more \"improtant\" than the other ones  \nxwiki-bridge - (14:55): [lucaa] yes  \nxwiki-bridge - (14:55): [lucaa] and it's at least one  \nxwiki-bridge - (14:55): [Vincent Massol] at least one is done by the check  \nxwiki-bridge - (14:55): [Vincent Massol] because at least is as bad as at most  \nxwiki-bridge - (14:56): [Vincent Massol] so we have 2 choices  \nxwiki-bridge - (14:57): [Vincent Massol] make our factory interface not generic and keep the normalizer interface  \nxwikibot joined #xwiki at 18:22  \nxwiki-bridge - (18:22): [Vincent Massol] test  \nxwikibot joined #xwiki at 19:11  \nxwiki-bridge - (19:11): [Vincent Massol] test  \nxwiki-bridge - (19:11): [Vincent Massol] tada!  \nxwiki-bridge - (19:12): [Vincent Massol] seems to be working so far  \nxwiki-bridge - (19:12): [Vincent Massol] news  \nxwiki-bridge - (19:12): [Vincent Massol] news  \nxwiki-bridge - (19:12): [Vincent Massol] logging is working at least  \nCalebJamesDeLisl - (19:13): So is it mediumtext now or just a bigger string?  \nxwiki-bridge - (19:13): [Vincent Massol] mediumtext  \nxwiki-bridge - (19:13): [Vincent Massol] jerome changed it by hand in the db  \nxwiki-bridge - (19:13): [Vincent Massol] I still don't know why our automatic schema upgrade didn't work  \nxwiki-bridge - (19:14): [Vincent Massol] tmortagne: cool 3 tests failing only http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-selenium/344/testReport/  \nxwiki-bridge - (19:14): [Vincent Massol] and these were there \\*before\\* my change  \nCalebJamesDeLisl - (19:23): Haha second commit :D  \nxwiki-bridge - (19:23): [Vincent Massol] caleb: commits require jira issue  \nxwiki-bridge - (19:23): [Vincent Massol] (except for minor stuff)  \nCalebJamesDeLisl - (19:24): I referenced XWIKI-3942 because I think it was forgotten the first time (anyway, 3 lines 2 of them comments.)  \nxwiki-bridge - (19:24): [Vincent Massol] XWIKI-3942 is released already so you can't use it as the current issue to commit against  \nxwiki-bridge - (19:25): [Vincent Massol] we need it in the release notes if you prefer  \nxwiki-bridge - (19:25): [Vincent Massol] if you ask jira for the releases notes it won't be there for 2.2M1  \nxwiki-bridge - (19:25): [Vincent Massol] but it should   \nCalebJamesDeLisl - (19:25): Should I create a new issue or open and close that one?  \nxwiki-bridge - (19:25): [Vincent Massol] a new one  \nxwiki-bridge - (19:25): [Vincent Massol] what was doe was done  \nxwiki-bridge - (19:26): [Vincent Massol] so our rule is to not reopen old issues  \nxwiki-bridge - (19:26): [Vincent Massol] unless it really wasn't done at all (but it's not the case here)  \nCalebJamesDeLisl - (19:27): I can create an issue and reference the update number but the message will (obviously) still point to 3942  \nxwiki-bridge - (19:27): [Vincent Massol] well you can leave it  \nxwiki-bridge - (19:27): [Vincent Massol] or change it  \nxwiki-bridge - (19:27): [Vincent Massol] :)  \nxwiki-bridge - (19:27): [Vincent Massol] we can change commit messages  \nxwiki-bridge - (19:28): [Vincent Massol] it's not critical so it's up to you  \nxwiki-bridge - (19:28): [Vincent Massol] btw in your comit shouldn't you use the same object in the context?  \nxwiki-bridge - (19:28): [Vincent Massol] you have created 2 differents context objects that you've put in the velo context  \nCalebJamesDeLisl - (19:28): I thought so too, but I cloned the way it was done for velocity  \nCalebJamesDeLisl - (19:29): .  \nxwiki-bridge - (19:29): [Vincent Massol] then we need to ask thomas :)  \nxwiki-bridge - (19:29): [Vincent Massol] at first sight the same object would be better  \nxwiki-bridge - (19:29): [Vincent Massol] but maybe he had a good reason  \nCalebJamesDeLisl - (19:30): Same underlying context so it seems like no difference but I can't be sure.  \nxwiki-bridge - (19:30): [Vincent Massol] yes  \nxwiki-bridge - (19:30): [Vincent Massol] it's possible that api.Context does a few things  \nxwiki-bridge - (19:30): [Vincent Massol] imo it's safer to use the same object  \nxwiki-bridge - (19:31): [Vincent Massol] so that they can be used interchangeable  \nxwiki-bridge - (19:31): [Vincent Massol] bly  \nCalebJamesDeLisl - (19:31): I could create an issue :) and commit the changes to velocity and groovy.  \nxwiki-bridge - (19:32): [Vincent Massol] yes but no need to have too many issues, you could reuse the new one you're creating  \nxwiki-bridge - (19:32): [Vincent Massol] :)  \nCalebJamesDeLisl - (19:33): Okay will do, after I read up on how to change a commit log.  \nCalebJamesDeLisl - (19:34): BTW: I just (accidentally) committed through the http version not https and it didn't ask for a password. Is that right?  \nxwiki-bridge - (19:36): [tmortagne] api.Context is just a filter so you can use the same instance for both context and xcontext, I guess i just copy pasted too quickly  \nCalebJamesDeLisl - (19:36): Will change.  \nxwiki-bridge - (19:37): [tmortagne] CalebJamesDeLisl: committ is not supposed to work in http  \nxwiki-bridge - (19:38): [tmortagne] i usually do the mistake and search 30 min untill I find than i'm in http and that's why committ does not work  \nxwiki-bridge - (19:39): [tmortagne] so i don't understand how it coulod work for you  \nCalebJamesDeLisl - (19:41): And without demanding a password \\*shudders\\* (I'm using command line svn so it shouldn't have remembered my password.)  \nxwiki-bridge - (19:42): [tmortagne] well at least on ubuntu by default svn command line remember the password  \nCalebJamesDeLisl - (19:43): Okay I jumped the gun thinking because it's command line it should not remember passwords.  \nxwiki-bridge - (21:10): [Vincent Massol] fyi I've just added the maven convergence report here: http://www.xwiki.org/xwiki/bin/download/Main/Supporters/dependencies-20100105.zip/dependencies/dependency-convergence.html  \nxwiki-bridge - (21:13): [Vincent Massol] we have a bit of cleanup to do  \narkub left at 21:20 (Read error: 60 (Operation timed out)  \nLukemon joined #xwiki at 23:06  \nlucaa joined #xwiki at 23:11  \nCalebJamesDeLisl - (23:21): Hi Luke  \nlucaa left #xwiki at 23:22  \nLukemon - (23:25): hi Caleb  \nCalebJamesDeLisl - (23:28): Do you have any other preprocessors for velocity?  \nCalebJamesDeLisl - (23:47): Lukemon, should I go ahead and close XWIKI-4639?  \n\n"}