{"id": "dev:IRC.xwikiArchive20150320", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150320", "title": "IRC Archive for channel #xwiki on 20 March 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Enygma`>\u00a0has quit  \n00:40\u00a0<lucaa1>\u00a0has joined #xwiki  \n00:43\u00a0<lucaa>\u00a0has quit  \n00:52\u00a0<vmassol>\u00a0has quit  \n01:28\u00a0<woshilapin>\u00a0has joined #xwiki  \n01:32\u00a0<woshilapin>\u00a0has quit  \n02:09\u00a0<woshilapin>\u00a0has joined #xwiki  \n02:13\u00a0<woshilapin>\u00a0has quit  \n02:18\u00a0<lucaa1>\u00a0has quit  \n03:12\u00a0<woshilapin>\u00a0has joined #xwiki  \n03:17\u00a0<woshilapin>\u00a0has quit  \n03:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n03:28\u00a0<woshilapin>\u00a0has quit  \n04:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n04:21\u00a0<woshilapin>\u00a0has quit  \n04:41\u00a0<woshilapin>\u00a0has joined #xwiki  \n04:47\u00a0<woshilapin>\u00a0has quit  \n05:21\u00a0<martin-h>\u00a0has joined #xwiki  \n05:29\u00a0<woshilapin>\u00a0has joined #xwiki  \n05:33\u00a0<woshilapin>\u00a0has quit  \n05:34\u00a0<woshilapin>\u00a0has joined #xwiki  \n05:39\u00a0<woshilapin>\u00a0has quit  \n05:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n05:53\u00a0<woshilapin>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n06:06\u00a0<woshilapin>\u00a0has joined #xwiki  \n06:09\u00a0<mflorea>\u00a0has joined #xwiki  \n06:12\u00a0<woshilapin>\u00a0has quit  \n06:34\u00a0<xwikibot>\u00a0has joined #xwiki  \n07:40\u00a0<woshilapin>\u00a0has joined #xwiki  \n07:42\u00a0<Inge->\u00a0has quit  \n07:46\u00a0<woshilapin>\u00a0has quit  \n07:48\u00a0<Inge->\u00a0has joined #xwiki  \n08:08\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:13\u00a0<woshilapin>\u00a0has quit  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:22\u00a0<cjd>\u00a0has quit  \n08:42\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:43\u00a0<msmeria>\u00a0has joined #xwiki  \n08:45\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:46\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:51\u00a0<Trefex>\u00a0has joined #xwiki  \n09:05\u00a0<gsmeria>\u00a0has quit  \n09:08\u00a0<mflorea1>\u00a0has joined #xwiki  \n09:08\u00a0<mflorea>\u00a0has quit  \n09:08\u00a0<vfzevaze>\u00a0has joined #xwiki  \n09:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:19\u00a0<vfzevaze>\u00a0hello there!  \n09:19\u00a0<vmassol>\u00a0hi vfzevaze  \n09:19\u00a0<vfzevaze>\u00a0:)  \n09:19\u00a0<vmassol>\u00a0just saw your email, cool  \n09:19\u00a0<vmassol>\u00a0creating it now  \n09:20\u00a0<vmassol>\u00a0you forgot the name  \n09:20\u00a0<vfzevaze>\u00a0just did send the email with the project request, but since i already have an nexus account, i could also already release, shoudl i wait?  \n09:20\u00a0<vfzevaze>\u00a0RRR!  \n09:20\u00a0<vmassol>\u00a0I'll make it up  \n09:20\u00a0<vfzevaze>\u00a0HPQC Macro  \n09:20\u00a0<vmassol>\u00a0give me 5mn  \n09:21\u00a0<vfzevaze>\u00a0sure  \n09:23\u00a0<vmassol>\u00a0ah wait  \n09:23\u00a0<vmassol>\u00a0you already have it in a repo  \n09:23\u00a0<vmassol>\u00a0hmm we could simply do a transfer then  \n09:23\u00a0<vmassol>\u00a0what do you prefer?  \n09:24\u00a0<vfzevaze>\u00a0to transfer  \n09:24\u00a0<vmassol>\u00a0I can give you admin perm on the xwiki-contrib org temporarily and you transfer it  \n09:24\u00a0<vfzevaze>\u00a0hpqc-macro  \n09:24\u00a0<vfzevaze>\u00a0alrights  \n09:25\u00a0<vfzevaze>\u00a0or  \n09:25\u00a0<vfzevaze>\u00a0i transfer the ownership to you  \n09:25\u00a0<vmassol>\u00a0yes  \n09:25\u00a0<vmassol>\u00a0let's try this  \n09:25\u00a0<vmassol>\u00a0let me know once it's done and I'll transfer it to xwiki-contrib  \n09:26\u00a0<vfzevaze>\u00a0done  \n09:27\u00a0<vmassol>\u00a0done: https://github.com/xwiki-contrib/macro-hpqc  \n09:27\u00a0<vfzevaze>\u00a0yei!  \n09:27\u00a0<vfzevaze>\u00a0thx  \n09:28\u00a0<vfzevaze>\u00a0i will release and document the macro, thx once again  \n09:28\u00a0<vmassol>\u00a0great  \n09:31\u00a0<cjd>\u00a0has joined #xwiki  \n09:37\u00a0<vfzevaze2>\u00a0has joined #xwiki  \n09:37\u00a0<vfzevaze2>\u00a0@vmassol: i am having troubles deploying it to the nexus  \n09:37\u00a0<vfzevaze2>\u00a0Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project xwiki-hpqc-macro-api: Failed to deploy artifacts: Could not transfer artifact org.xwiki.contrib:xwiki-hpqc-macro-api:jar:1.0.3 from/to xwiki-staging (http://nexus.xwiki.org/nexus/service/local/staging/deploy/maven2/): The target server faile  \n09:37\u00a0<vfzevaze2>\u00a0d to respond -> [Help 1]  \n09:38\u00a0<vmassol>\u00a0hmm  \n09:38\u00a0<vmassol>\u00a0it seems to respond though  \n09:38\u00a0<vmassol>\u00a0and the message doesn't talk about permissions issue. You have already deploed there?  \n09:38\u00a0<vmassol>\u00a0\\*deployed  \n09:39\u00a0<vmassol>\u00a0you tried several times?  \n09:39\u00a0<vfzevaze2>\u00a0yes the redmine-macro extension http://extensions.xwiki.org/xwiki/bin/view/Extension/Redmine+Macro  \n09:39\u00a0<vfzevaze2>\u00a0two times  \n09:39\u00a0<vfzevaze2>\u00a0i just did try out to loging in on nexus with success  \n09:39\u00a0<vfzevaze2>\u00a0the user is vfzevaze  \n09:39\u00a0<vmassol>\u00a0yep I'm looking at it  \n09:40\u00a0<vmassol>\u00a0let me try something but I doubt that's the cause  \n09:40\u00a0<vfzevaze2>\u00a0well i can see the artifact on the nexus  \n09:40\u00a0<vmassol>\u00a0try again  \n09:40\u00a0<vfzevaze2>\u00a0under staging profiles  \n09:40\u00a0<vfzevaze2>\u00a0k  \n09:41\u00a0<vmassol>\u00a0I don't see any staging repo createed: http://nexus.xwiki.org/nexus/#stagingRepositories  \n09:41\u00a0<vmassol>\u00a0now hter's one  \n09:41\u00a0<vfzevaze2>\u00a0unable to remove onld profile -> i am droping it  \n09:41\u00a0<vmassol>\u00a0seems it's been created ok  \n09:41\u00a0<vmassol>\u00a0h no  \n09:42\u00a0<vmassol>\u00a0missing the artifacts  \n09:42\u00a0<vfzevaze2>\u00a0performing again  \n09:42\u00a0<vmassol>\u00a0ok  \n09:43\u00a0<vfzevaze2>\u00a0same thing again  \n09:43\u00a0<vmassol>\u00a0it went a bit further  \n09:44\u00a0<vmassol>\u00a0so it's not a permission issue  \n09:44\u00a0<vmassol>\u00a0(I had given you full admin perm)  \n09:44\u00a0<vfzevaze2>\u00a0http://i.imgur.com/PHkzYa4.png  \n09:44\u00a0<vmassol>\u00a0weird  \n09:45\u00a0<vmassol>\u00a0it looks as if the connection dropped or something  \n09:45\u00a0<vmassol>\u00a0do you want me to try to release it?  \n09:45\u00a0<vfzevaze2>\u00a0yes please  \n09:45\u00a0<vfzevaze2>\u00a0(i am using 3G connection right now) :)  \n09:45\u00a0<vmassol>\u00a0ah ok that can explain it  \n09:46\u00a0<vfzevaze2>\u00a0i did not have trouble in releasing a much bigger package on maven central  \n09:46\u00a0<vfzevaze2>\u00a0but, if you help me out and release now i will consider that from now on  \n09:46\u00a0<vmassol>\u00a0can I reformat a bit the pom ?  \n09:47\u00a0<vmassol>\u00a0it's not formatted using our standard code style and missing license header  \n09:47\u00a0<vfzevaze2>\u00a0ups (long time since last release)  \n09:48\u00a0<vmassol>\u00a0it's also not following some rules defined at contrib.xwiki.org  \n09:48\u00a0<vmassol>\u00a0fixing it  \n09:48\u00a0<vmassol>\u00a0EM name for example  \n09:48\u00a0<vfzevaze2>\u00a0EM?  \n09:48\u00a0<vmassol>\u00a0see http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome#HImplementingyourMavenbuild  \n09:48\u00a0<vmassol>\u00a0hmm wait no  \n09:49\u00a0<vmassol>\u00a0was looking at the wrong pom :)  \n09:49\u00a0<vmassol>\u00a0since you have 3 poms  \n09:49\u00a0<vfzevaze>\u00a0alright  \n09:49\u00a0<vmassol>\u00a0shouldn't we use a groupid of org.xwiki.contrib.hpqc for example?  \n09:49\u00a0<vfzevaze>\u00a0for what? is it missing?  \n09:50\u00a0<vfzevaze>\u00a0oh i see  \n09:50\u00a0<vfzevaze>\u00a0you mean instead of the contrib gID  \n09:50\u00a0<vfzevaze>\u00a0ah whatever is the standard  \n09:50\u00a0<vmassol>\u00a0here:  \n09:50\u00a0<vmassol>\u00a0http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome#HHostingtools  \n09:50\u00a0<vmassol>\u00a0\" \u2022 A generic maven groupId: org.xwiki.contrib (or org.xwiki.contrib.<module name> if the project has several modules). That's until the project reaches a certain size and visibility, in which case it can have its own maven group id.  \n09:50\u00a0<vmassol>\u00a0\"  \n09:51\u00a0<vfzevaze>\u00a0sure ting, thanks  \n09:51\u00a0<vmassol>\u00a0ok I'll do it  \n09:51\u00a0<vfzevaze>\u00a0\\*thing  \n09:51\u00a0<vmassol>\u00a0since this is not the release  \n09:51\u00a0<vmassol>\u00a0where are the other releases?  \n09:51\u00a0<vfzevaze2>\u00a0has quit  \n09:51\u00a0<vmassol>\u00a0do they use the same extensionid?  \n09:52\u00a0<vfzevaze>\u00a0there is no release untill now  \n09:52\u00a0<vmassol>\u00a0ok  \n09:52\u00a0<vfzevaze>\u00a0you can go ahead  \n09:52\u00a0<vmassol>\u00a0easier  \n09:52\u00a0<vfzevaze>\u00a0i removed the tags since they were not released  \n09:54\u00a0<vfzevaze>\u00a0i will have to leave now, i will come back in later  \n09:54\u00a0<vmassol>\u00a0ok  \n09:54\u00a0<vfzevaze>\u00a0thank you  \n09:54\u00a0<vfzevaze>\u00a0has quit  \n10:14\u00a0<woshilapin>\u00a0has quit  \n10:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:17\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:17\u00a0<Enygma`>\u00a0has quit  \n10:18\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:22\u00a0<lucaa>\u00a0has joined #xwiki  \n10:44\u00a0<vmassol>\u00a0has quit  \n10:51\u00a0<Slashman>\u00a0has joined #xwiki  \n10:52\u00a0<Denis1>\u00a0is now known as <Denis>  \n11:00\u00a0<evalica>\u00a0has joined #xwiki  \n11:37\u00a0<vfzevaze>\u00a0has joined #xwiki  \n11:51\u00a0<cjd>\u00a0has quit  \n12:09\u00a0<cjd>\u00a0has joined #xwiki  \n13:02\u00a0<lucaa>\u00a0has quit  \n13:11\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:12\u00a0<evalica>\u00a0has quit  \n13:13\u00a0<evalica>\u00a0has joined #xwiki  \n13:29\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:31\u00a0<msmeria>\u00a0has quit  \n13:33\u00a0<msmeria>\u00a0has joined #xwiki  \n13:34\u00a0<Trefex>\u00a0has quit  \n13:34\u00a0<msmeria1>\u00a0has quit  \n13:45\u00a0<gsmeria>\u00a0has quit  \n13:45\u00a0<vfzevaze>\u00a0has quit  \n14:33\u00a0<lucaa>\u00a0has joined #xwiki  \n14:33\u00a0<tmortagne>\u00a0Enygma`: seems to me we should revert XWIKI-6328 waiting for a better fix, it caused two important regressions (way more important than annotations IMO)  \n14:35\u00a0<Enygma`>\u00a0tmortagne: looking...  \n14:43\u00a0<cjd>\u00a0has quit  \n14:47\u00a0<vmassol>\u00a0has joined #xwiki  \n14:49\u00a0<tmortagne>\u00a0or at least refactor it to make sure it's the way to render it introduced in XWIKI-6328 is used only if the current document is the blog post  \n14:49\u00a0<tmortagne>\u00a0s/it's//  \n14:49\u00a0<tmortagne>\u00a0not even that won't work for scripting actually  \n14:49\u00a0<tmortagne>\u00a0forget that  \n14:53\u00a0<Enygma`>\u00a0yes, noticed it  \n14:53\u00a0<Enygma`>\u00a0still looking into it... :/  \n14:57\u00a0<Enygma`>\u00a0tmortagne: \u00a0how does the display macro work around nested scripts ?  \n14:58\u00a0<Enygma`>\u00a0it runs in a separate rendering context, or something like that, right?  \n14:59\u00a0<Enygma`>\u00a0probbaly the same reason why getRederedContent() works...  \n15:00\u00a0<tmortagne>\u00a0display is running the document in its own context  \n15:01\u00a0<tmortagne>\u00a0which is also something that should be done for both security reason and to properly resolve any relative element  \n15:01\u00a0<tmortagne>\u00a0but supporting object properties will require quite some work  \n15:03\u00a0<Enygma`>\u00a0tmortagne: WDYM by supporting object properties?  \n15:03\u00a0<tmortagne>\u00a0we don't want to display the document, as it is displayed when you view it, we just want to display the content property alone  \n15:04\u00a0<Enygma`>\u00a0ah, you mean {{display reference=\"wiki:space.page^class\\_property\"/}} or something like that?  \n15:04\u00a0<tmortagne>\u00a0so the best would be to target just that  \n15:04\u00a0<tmortagne>\u00a0something like that yes  \n15:04\u00a0<tmortagne>\u00a0display macro already have the entity type parameter  \n15:04\u00a0<tmortagne>\u00a0it's just not take into account right now  \n15:05\u00a0<tmortagne>\u00a0but the work to do is not really in the display macro  \n15:05\u00a0<msmeria>\u00a0has quit  \n15:05\u00a0<Enygma`>\u00a0so this compared to getRenderedContent has the advantage that you can not pass it just random code to execute in that context, but the code is already located there  \n15:05\u00a0<tmortagne>\u00a0we need a whole new property displayer framework with a displayer for each property, a new generic API etc  \n15:06\u00a0<Enygma`>\u00a0and what is the output of the display macro? HTML, right?  \n15:06\u00a0<tmortagne>\u00a0it has the advantage that it's safe and most of all that it's XDOM and not html  \n15:06\u00a0<Enygma`>\u00a0meaning that the annotations problem is still there and we can`t do anything about this right now  \n15:06\u00a0<tmortagne>\u00a0no the display macro does not output html  \n15:06\u00a0<tmortagne>\u00a0it output XDOM  \n15:06\u00a0<tmortagne>\u00a0that's the whole point  \n15:06\u00a0<Enygma`>\u00a0aha  \n15:07\u00a0<tmortagne>\u00a0that's why I tolaked abouy this solution, because that fixes the annotations too  \n15:07\u00a0<tmortagne>\u00a0\\*talked  \n15:07\u00a0<Enygma`>\u00a0in the meanwhile, is there any posibility that we can do something like this from velocity with the $services.component service?  \n15:07\u00a0<Enygma`>\u00a0i.e. render the blogpost's object property?  \n15:07\u00a0<tmortagne>\u00a0{{display}} is pretty much the same as {{include}} except that transformation are executed during the macro execution  \n15:08\u00a0<tmortagne>\u00a0you are talking about API requiring programming right, yes we can do anything with programming right :)  \n15:09\u00a0<Enygma`>\u00a0:/  \n15:10\u00a0<tmortagne>\u00a0maybe something that would work is making blog post ui extensions and make the home use uix API  \n15:10\u00a0<tmortagne>\u00a0hat could do the trick  \n15:10\u00a0<tmortagne>\u00a0s/hat/that/  \n15:10\u00a0<tmortagne>\u00a0did not used uix API much myself  \n15:11\u00a0<tmortagne>\u00a0but that's just for home page, it's won't fix the annotation so forget that  \n15:11\u00a0<tmortagne>\u00a0well  \n15:12\u00a0<tmortagne>\u00a0the blog post sheet could use the uix API too I guess  \n15:12\u00a0<Enygma`>\u00a0we could just make the homepage {{display}} individual blog pages  \n15:12\u00a0<tmortagne>\u00a0get the extension and find itself inthe lst  \n15:12\u00a0<Enygma`>\u00a0to fix the images problem  \n15:13\u00a0<tmortagne>\u00a0probablem is that display will display the blog post like it's displayed when you view the page  \n15:13\u00a0<Enygma`>\u00a0though the grouping by dates will probably not work on the homepage  \n15:13\u00a0<tmortagne>\u00a0which is not the way we want to display the blog post in the home  \n15:14\u00a0<tmortagne>\u00a0in the home page we display the summary AFAIK  \n15:14\u00a0<tmortagne>\u00a0digging the uix idea  \n15:14\u00a0<Enygma`>\u00a0but what exactly were you suggesting about UIX  \n15:14\u00a0<Enygma`>\u00a0I did not understand what they bing  \n15:14\u00a0<Enygma`>\u00a0\\*bring  \n15:14\u00a0<cjd>\u00a0has joined #xwiki  \n15:15\u00a0<tmortagne>\u00a0uix are basically piece of wiki that you put somewhere and that you display somewhere else  \n15:15\u00a0<tmortagne>\u00a0so the id would be to put in each blog post a uix object which take care of displaying the blog post as we want it in the home page  \n15:16\u00a0<tmortagne>\u00a0and then the home page use the uix API to rendering these  \n15:16\u00a0<tmortagne>\u00a0s/id/idea/  \n15:17\u00a0<tmortagne>\u00a0for more detail I have to remember how it actually work :)  \n15:17\u00a0<tmortagne>\u00a0an example of that is AWM  \n15:17\u00a0<tmortagne>\u00a0not doing exactly the same thing but it's more or less the same mecanisme  \n15:18\u00a0<tmortagne>\u00a0anyway looking at the uix objects and API  \n15:19\u00a0<Enygma`>\u00a0looking as well  \n15:21\u00a0<tmortagne>\u00a0there is still the issue with scripting, the uix will still have to display the summary some way. Refactoring the blog to move the summary in the UIX is too dangerous IMO for 6.4.x  \n15:22\u00a0<Enygma`>\u00a0are you sure UIX is a good approach?  \n15:23\u00a0<Enygma`>\u00a0I mean, in the home, you will do $services.uix.getExtensions('whatever') and then for each you will have some code to execute do display it  \n15:23\u00a0<tmortagne>\u00a0it work for images and annotations, but there is still the issue with scripting  \n15:23\u00a0<Enygma`>\u00a0how is that diferent from getting the code from the object property instead of an UIX?  \n15:23\u00a0<lucaa>\u00a0has quit  \n15:23\u00a0<lucaa>\u00a0has joined #xwiki  \n15:23\u00a0<tmortagne>\u00a0uix API execute the uix  \n15:23\u00a0<tmortagne>\u00a0you don't get the source  \n15:24\u00a0<tmortagne>\u00a0you get a XDOM  \n15:24\u00a0<tmortagne>\u00a0(a Block actually)  \n15:24\u00a0<Enygma`>\u00a0need to look a the script service better  \n15:24\u00a0<tmortagne>\u00a0so it will be executed in the right context  \n15:24\u00a0<tmortagne>\u00a0you have  \n15:24\u00a0<tmortagne>\u00a0Block execute();  \n15:25\u00a0<tmortagne>\u00a0getExtensions gives you a list of UIExtension  \n15:25\u00a0<tmortagne>\u00a0there is actually no API to get the source in uix  \n15:25\u00a0<tmortagne>\u00a0only the result  \n15:26\u00a0<Enygma`>\u00a0and how do you render that block in velocity?  \n15:26\u00a0<tmortagne>\u00a0rendering script service  \n15:27\u00a0<tmortagne>\u00a0but that does not fix scripting issue  \n15:28\u00a0<tmortagne>\u00a0I don't really have much idea that don't imply Java to fix the 3 issues  \n15:28\u00a0<tmortagne>\u00a0the idea is property rendering, the quickest is some blog script service that take care of rendering the blog post the way we want it to be  \n15:28\u00a0<tmortagne>\u00a0s/idea/ideal/  \n15:29\u00a0<tmortagne>\u00a0other possibility is using programming right API but that adds a new constraint to the Blog  \n15:30\u00a0<tmortagne>\u00a0(a pity we don't have a uix macro by the way would make it much easier to use that having to go trough uix script service)  \n15:33\u00a0<tmortagne>\u00a01) revert what annoy us in XWIKI-6328 (and break annotation in blog posts)  \n15:33\u00a0<tmortagne>\u00a0I'm not a big fan of 3)  \n15:33\u00a0<tmortagne>\u00a0I think I prefer 1)  \n15:33\u00a0<Enygma`>\u00a0trying some black magic...  \n15:33\u00a0<Enygma`>\u00a0#set($renderedHTML = $entryDoc.getRenderedContent($entryContent, $entryDoc.syntax.toIdString()))  \n15:33\u00a0<Enygma`>\u00a0#set($xhtmlBlock = $services.rendering.parse($renderedHTML, \"xhtml/1.0\"))  \n15:34\u00a0<lucaa>\u00a0has quit  \n15:35\u00a0<Enygma`>\u00a0the script works...  \n15:35\u00a0<tmortagne>\u00a0sounds a bit fragile  \n15:35\u00a0<Enygma`>\u00a0but the image does not  \n15:36\u00a0<Enygma`>\u00a0since the re-rendered image is run outside the source doc  \n15:37\u00a0<Enygma`>\u00a0$renderedHTML probably adds a relative link to the image  \n15:37\u00a0<tmortagne>\u00a0another possible hack  \n15:38\u00a0<Enygma`>\u00a0maybe we could traverse $xhtmlBlock and fix the images? :)  \n15:38\u00a0<tmortagne>\u00a0use {{display reference=\"$blogpostreference\"/}} and find some way to know in the blog post sheet that we are not really rendering the complete blog post but we just want the summary  \n15:39\u00a0<tmortagne>\u00a0(for now) any velocity variable will go trough to the sheet  \n15:39\u00a0<tmortagne>\u00a0that's the hacky part  \n15:39\u00a0<tmortagne>\u00a0the most hacky one since the whole thing is a hack  \n15:40\u00a0<Trefex>\u00a0has joined #xwiki  \n15:40\u00a0<lucaa>\u00a0has joined #xwiki  \n15:40\u00a0<Enygma`>\u00a0you mean something like a context variable?  \n15:40\u00a0<tmortagne>\u00a0pretty much  \n15:40\u00a0<Enygma`>\u00a0to signal the sheet to display something else?  \n15:40\u00a0<tmortagne>\u00a0$displaySummaryBlogPst = true  \n15:40\u00a0<Enygma`>\u00a0but doesn`t display use a new context?  \n15:40\u00a0<tmortagne>\u00a0a clone  \n15:40\u00a0<tmortagne>\u00a0checking but AFAIK its a clone  \n15:42\u00a0<tmortagne>\u00a0yep it's a clone  \n15:42\u00a0<Enygma`>\u00a0I was testing and forgot to add the flag, so now my wiki is going crazy because of the recursive display loop :)  \n15:43\u00a0<Enygma`>\u00a0there is not check done there  \n15:43\u00a0<tmortagne>\u00a0there is a check in display macro AFAIK  \n15:43\u00a0<Enygma`>\u00a0probably I need to wait more for the recursivity to go deep enough  \n15:44\u00a0<tmortagne>\u00a0it's supposed to stop when it find twice the same display AFAIK  \n15:44\u00a0<tmortagne>\u00a0but maybe there is some edge case with generated display macro  \n15:46\u00a0<tmortagne>\u00a0the recursive check seems to be based on looking at parent in the XDOM  \n15:47\u00a0<tmortagne>\u00a0except that the result of the display macro will be included in the parent XDOM when done executing so that check cannot really work  \n15:47\u00a0<tmortagne>\u00a0looks like an include macro check copy/pasted in the display macro  \n15:48\u00a0<tmortagne>\u00a0looks like include macro is doing it well for context=new (which is the exact same thing than display macro)  \n15:51\u00a0<Enygma`>\u00a0but will this solve the scripting problem in the actual blog post?  \n15:51\u00a0<Enygma`>\u00a0I mean, in the home page, we could try the display macro call  \n15:51\u00a0<Enygma`>\u00a0but in the blog post sheet, what do we do to display the post content?  \n15:52\u00a0<Enygma`>\u00a0except getRenderedContent, nothing else seems to work to display the post content when using scripts  \n15:56\u00a0<tmortagne>\u00a0no for scripting there is no real solution that does not imply Java, the content has to be executed directly without being the children of any other script macro  \n15:56\u00a0<tmortagne>\u00a0IMO we should go with the revert, reopen an issue about broken annotation and link it to a object property support jira issue  \n15:57\u00a0<Denis>\u00a0has quit  \n15:59\u00a0<Enygma`>\u00a0re UIX, seems like the UIX's content is rendered in the context of the current document  \n16:00\u00a0<tmortagne>\u00a0yes but it's supposed to be based on the source document reference located in the XDOM  \n16:01\u00a0<tmortagne>\u00a0otherwise includes would not work  \n16:02\u00a0<tmortagne>\u00a0actually that's was before  \n16:02\u00a0<tmortagne>\u00a0looks like included image don't work  \n16:02\u00a0<tmortagne>\u00a0(even if the source document is definitely part of the XDOM and could be used)  \n16:03\u00a0<tmortagne>\u00a0anyway that's another subject  \n16:03\u00a0<tmortagne>\u00a0since there is nothing that works for scripting we should revert IMO  \n16:03\u00a0<tmortagne>\u00a0we'll see later how t fix annotations  \n16:04\u00a0<tmortagne>\u00a0annotate a blog post is not really a major use case...  \n16:05\u00a0<Enygma`>\u00a0the only thing I have that works for scripting is the re-rendering trick... getRenderedContent -> parse as HTML -> render as wiki syntax  \n16:05\u00a0<Enygma`>\u00a0but I would somehow need to fix the images in the intermediary XDOM  \n16:06\u00a0<Enygma`>\u00a0if I can`t do this, then yes, reverting to simply {{html}}getRenderedContent{{/html}} will be the solution here  \n16:07\u00a0<tmortagne>\u00a0Enygma`: can I let you assign yourself to the issue and take care of it ? I linked them to XWIKI-7517  \n16:07\u00a0<tmortagne>\u00a0s/issue/issues/  \n16:38\u00a0<vmassol>\u00a0has quit  \n16:55\u00a0<Enygma`>\u00a0tmortagne: done. I`ve committed http://jira.xwiki.org/browse/XWIKI-11946 to revert the previous fix and created http://jira.xwiki.org/browse/XWIKI-11947 to track the remaining work  \n16:55\u00a0<tmortagne>\u00a0ok thanks  \n17:13\u00a0<vmassol>\u00a0has joined #xwiki  \n17:16\u00a0<vmassol>\u00a0guys WDYT about running some of our CI jobs with java8 so that we can catch problems with it? Right now xwiki commons doesn't build with java8 and we were not even aware of that  \n17:17\u00a0<tmortagne>\u00a0sure  \n17:17\u00a0<vmassol>\u00a0I'm thinking for example to run the quality jobs using java8  \n17:21\u00a0<tmortagne>\u00a0hmm those are currently using mvn install, that may case issues with following job on the same agent  \n17:22\u00a0<tmortagne>\u00a0(putting Java8 built stuff in the local repository that may end up used by a following Java 7 build)  \n17:25\u00a0<vmassol>\u00a0has quit  \n17:28\u00a0<sorinello>\u00a0has joined #xwiki  \n17:28\u00a0<sorinello>\u00a0has left #xwiki  \n17:34\u00a0<gsmeria>\u00a0has joined #xwiki  \n17:46\u00a0<gsmeria>\u00a0has left #xwiki  \n17:48\u00a0<vmassol>\u00a0has joined #xwiki  \n17:48\u00a0<vmassol1>\u00a0has joined #xwiki  \n17:49\u00a0<vmassol1>\u00a0back  \n17:49\u00a0<vmassol1>\u00a0seems my last messages didn't make it to IRC  \n17:49\u00a0<vmassol1>\u00a0I was saying:  \n17:49\u00a0<vmassol1>\u00a0indeed, we could isolate the local repos if we wanted  \n17:49\u00a0<vmassol1>\u00a017:24  \n17:49\u00a0<vmassol1>\u00a0train is arriiving, bb in 20 minutes  \n17:50\u00a0<vmassol1>\u00a0I think isolating the local repos for the quality profile jobs would make sense since we don't want those artifacts to arrive in production  \n17:50\u00a0<vmassol1>\u00a0however this is what I did before and we'd need to find a way to clean up the local repos  \n17:51\u00a0<vmassol1>\u00a0maybe there's a better way using the toolchain feature of maven. Need to read up more on that  \n17:52\u00a0<vmassol>\u00a0has quit  \n17:53\u00a0<woshilapin>\u00a0has quit  \n17:56\u00a0<Pbas>\u00a0Hello, I created a nice XAR for my page: http://extensions.xwiki.org/xwiki/bin/view/Extension/AJAX+example but I wonder if my page is well located in xwiki extension... Perhaps it is better in developpement documentation. WDYT?  \n17:56\u00a0<Pbas>\u00a0It is more a tutorial than a snippet  \n18:10\u00a0<vmassol1>\u00a0Pbas: thanks for wirting this. However I'm not a JS expert enough to tell if you what you did is the best way (it looks complex). Would be nice if you could use lowercase for variable names and fix the indentation :)  \n18:11\u00a0<vmassol1>\u00a0regarding the location front end resoures are located here: http://platform.xwiki.org/xwiki/bin/view/DevGuide/FrontendResources but I'm not sure if your code should be moved there. In any case it would be better to send a mail on the list to validate that what you wrote is the best way  \n18:11\u00a0<Pbas>\u00a0My xar is less complex  \n18:11\u00a0<Pbas>\u00a0dev list?  \n18:11\u00a0<vmassol1>\u00a0FYI frontEndReosurces leads to http://platform.xwiki.org/xwiki/bin/view/DevGuide/JavaScriptAPI  \n18:12\u00a0<vmassol1>\u00a0users is better normally  \n18:12\u00a0<vmassol1>\u00a0des is for development of xwiki  \n18:12\u00a0<vmassol1>\u00a0\\*devs  \n18:13\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n18:13\u00a0<Pbas>\u00a0k then I will update my page + mail and you decide to move (or delete it)  \n18:13\u00a0<vmassol>\u00a0ok cool thank  \n18:13\u00a0<vmassol>\u00a0\\*thanks  \n18:13\u00a0<vmassol>\u00a0even if it's not moved it's nice to have it  \n18:13\u00a0<vmassol>\u00a0I'd rename the example title though  \n18:13\u00a0<vmassol>\u00a0\"Ajax example\" seems too wide IMO  \n18:14\u00a0<Pbas>\u00a0sure  \n18:14\u00a0<vmassol>\u00a0\"Example of how to catch JSON from a wiki page\" not sure what you mean by \"catch\"  \n18:14\u00a0<Pbas>\u00a0get  \n18:14\u00a0<vmassol>\u00a0read?  \n18:14\u00a0<vmassol>\u00a0but it's not what it does :)  \n18:15\u00a0<vmassol>\u00a0you do it from JS  \n18:15\u00a0<vmassol>\u00a0because without JS you can also do it much more easily  \n18:15\u00a0<vmassol>\u00a0with one line  \n18:15\u00a0<vmassol>\u00a0(using groovy for ex)  \n18:16\u00a0<Pbas>\u00a0It is Ajax Demo to get Json Data (from JsonHello) in this target \u00a0or HTML rendering of a nice warning box (HtmlHello) in the target  \n18:16\u00a0<vmassol>\u00a0for example using groovy without JS: http://extensions.xwiki.org/xwiki/bin/view/Extension/GitHub+Integration  \n18:16\u00a0<Pbas>\u00a0Yes but groovy documentation missing a lot IMO  \n18:17\u00a0<vmassol>\u00a0the groovy documentation is the best that exists  \n18:17\u00a0<vmassol>\u00a0http://groovy-lang.org/documentation.html  \n18:17\u00a0<Pbas>\u00a0I will upload screenshot and xar it will be more explicit  \n18:17\u00a0<vmassol>\u00a0it's really awesome  \n18:17\u00a0<Pbas>\u00a0:-))  \n18:18\u00a0<evalica>\u00a0has quit  \n18:18\u00a0<Pbas>\u00a0yes but groovy with xwiki API seem complex  \n18:18\u00a0<vmassol>\u00a0ah no it's not  \n18:18\u00a0<vmassol>\u00a0what's complex?  \n18:18\u00a0<vmassol>\u00a0you just need to know 1 thing  \n18:18\u00a0<vmassol>\u00a0{{groovy}}  \n18:18\u00a0<vmassol>\u00a0then it's gorovy  \n18:18\u00a0<vmassol>\u00a0(and the xwiki bindings which are the same as for velocity)  \n18:18\u00a0<vmassol>\u00a0(roughly)  \n18:19\u00a0<Pbas>\u00a0Soon you will tell me JAVA is for kid ;-) (troll ?)  \n18:19\u00a0<vmassol>\u00a0ok you're talking about something else  \n18:19\u00a0<vmassol>\u00a0you said:  \n18:19\u00a0<vmassol>\u00a0\"groovy with xwiki API seem complex\"  \n18:19\u00a0<vmassol>\u00a0and this is not true  \n18:20\u00a0<vmassol>\u00a0what you meant is \"groovy is a complex language to write in\"  \n18:20\u00a0<vmassol>\u00a0which has nothing to do with xwiki  \n18:20\u00a0<vmassol>\u00a0if you know java, then groovy is easy  \n18:20\u00a0<Enygma`>\u00a0has quit  \n18:20\u00a0<vmassol>\u00a0but yes java requires some knowledge  \n18:20\u00a0<vmassol>\u00a0more complex than velocity for sure  \n18:21\u00a0<vmassol>\u00a0(and a lot more powerful)  \n18:21\u00a0<Pbas>\u00a0What I want to say is: on xwiki.org and xwiki template I found a lot of example. It is simple to understand and try to do some great appli in xwiki  \n18:21\u00a0<Pbas>\u00a0it is not the case with groovy  \n18:22\u00a0<Pbas>\u00a0I understand than groovy is more powerfull  \n18:22\u00a0<Trefex>\u00a0has quit  \n18:22\u00a0<Pbas>\u00a0but I didn't found a nice app FAW example in groovy by example  \n18:22\u00a0<Pbas>\u00a0\\*FAQ  \n18:22\u00a0<vmassol>\u00a0yes and the only reason you don't have more examples in groovy  \n18:22\u00a0<vmassol>\u00a0is because we ask for Programming Rights  \n18:22\u00a0<vmassol>\u00a0for writing groovy  \n18:23\u00a0<vmassol>\u00a0the way to have more groovy in the future is through signed scripts\u2026 which I hope we'll get sooner than later  \n18:24\u00a0<Pbas>\u00a0Ok  \n18:25\u00a0<lucaa>\u00a0has quit  \n18:27\u00a0<mflorea1>\u00a0has quit  \n18:28\u00a0<tmortagne>\u00a0has quit  \n18:36\u00a0<KermitTheFragger>\u00a0has quit  \n18:44\u00a0<Enygma`>\u00a0has joined #xwiki  \n18:47\u00a0<Enygma`>\u00a0has quit  \n19:02\u00a0<cjd>\u00a0has quit  \n19:03\u00a0<vmassol>\u00a0has quit  \n19:10\u00a0<vmassol1>\u00a0has joined #xwiki  \n19:12\u00a0<vmassol1>\u00a0has quit  \n19:35\u00a0<Pbas>\u00a0has quit  \n19:40\u00a0<benoitc>\u00a0has quit  \n19:40\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n19:59\u00a0<abusenius>\u00a0has joined #xwiki  \n20:23\u00a0<Slashman>\u00a0has quit  \n20:49\u00a0<benoitc>\u00a0has joined #xwiki  \n21:18\u00a0<sburjan>\u00a0has quit  \n21:23\u00a0<sburjan>\u00a0has joined #xwiki  \n21:27\u00a0<cjd>\u00a0has joined #xwiki  \n22:52\u00a0<woshilapin>\u00a0has joined #xwiki  \n23:27\u00a0<abusenius>\u00a0has quit  \n23:37\u00a0<sburjan>\u00a0has quit  \n23:59\u00a0<sburjan>\u00a0has joined #xwiki\n"}