{"id": "dev:IRC.xwikiArchive20121217", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121217", "title": "IRC Archive for channel #xwiki on 17 December 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:56\u00a0<vmassol>\u00a0has joined #xwiki  \n01:00\u00a0<vmassol>\u00a0has quit  \n01:57\u00a0<vmassol>\u00a0has joined #xwiki  \n02:01\u00a0<vmassol>\u00a0has quit  \n02:04\u00a0<jvdrean>\u00a0has quit  \n02:23\u00a0<polx>\u00a0has quit  \n02:57\u00a0<vmassol>\u00a0has joined #xwiki  \n03:02\u00a0<vmassol>\u00a0has quit  \n03:29\u00a0<tekzilla>\u00a0has quit  \n03:33\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:58\u00a0<vmassol>\u00a0has joined #xwiki  \n04:02\u00a0<vmassol>\u00a0has quit  \n04:58\u00a0<vmassol>\u00a0has joined #xwiki  \n05:03\u00a0<vmassol>\u00a0has quit  \n05:59\u00a0<vmassol>\u00a0has joined #xwiki  \n06:03\u00a0<vmassol>\u00a0has quit  \n06:48\u00a0<polx>\u00a0has joined #xwiki  \n07:00\u00a0<vmassol>\u00a0has joined #xwiki  \n07:04\u00a0<vmassol>\u00a0has quit  \n07:53\u00a0<mflorea>\u00a0has joined #xwiki  \n08:00\u00a0<vmassol>\u00a0has joined #xwiki  \n08:01\u00a0<mrvanes>\u00a0has joined #xwiki  \n08:05\u00a0<vmassol>\u00a0has quit  \n08:05\u00a0<vmassol>\u00a0has joined #xwiki  \n08:43\u00a0<Denis>\u00a0has joined #xwiki  \n09:07\u00a0<msmeria>\u00a0has joined #xwiki  \n09:14\u00a0<polx>\u00a0has quit  \n09:39\u00a0<vmassol>\u00a0good morning  \n09:43\u00a0<tdelafosse>\u00a0has joined #xwiki  \n09:52\u00a0<jvelo>\u00a0has joined #xwiki  \n09:52\u00a0<jvelo>\u00a0#xwiki  \n09:52\u00a0<jvelo>\u00a0oups  \n09:52\u00a0<jvelo>\u00a0:)  \n09:53\u00a0<vmassol>\u00a0hi jvelo :)  \n09:54\u00a0<jvelo>\u00a0good morning!  \n09:54\u00a0<Inge->\u00a0did you get your releases out last week?  \n10:03\u00a0<vmassol>\u00a0mflorea: I'm going to create the branches now for 4.4M1  \n10:13\u00a0<mflorea>\u00a0vmassol: ok  \n10:13\u00a0<Denis>\u00a0has quit  \n10:17\u00a0<mflorea>\u00a0vmassol: I reviewed the failing builds and we have: (1) socket timeout in escaping tests, (2) failed to start XWiki in 2 minutes in misc tests, (3) firefox crash (I guess) on wysiwyg tests. These types of false negatives are really annoying  \n10:17\u00a0<mflorea>\u00a0I'm looking at the failing selenium 1 test now  \n10:17\u00a0<vmassol>\u00a0ok  \n10:18\u00a0<vmassol>\u00a0mflorea: re job copy the simplest I believe is to use a groovy script that you run in the jenkins console  \n10:19\u00a0<mflorea>\u00a0ok, I guess there is an API to manage the jobs  \n10:20\u00a0<vmassol>\u00a0example: https://github.com/jenkinsci/jenkins-scripts/blob/master/scriptler/clonebranches.groovy  \n10:23\u00a0<Denis>\u00a0has joined #xwiki  \n10:33\u00a0<mflorea>\u00a0vmassol: did you restart Jenkins?  \n10:33\u00a0<vmassol>\u00a0yes  \n10:33\u00a0<mflorea>\u00a0ok  \n10:33\u00a0<vmassol>\u00a0I had to install a new plugin for scripting  \n10:33\u00a0<vmassol>\u00a0(scriptler plugin)  \n10:34\u00a0<vmassol>\u00a0should have warned before, sorry  \n10:34\u00a0<vmassol>\u00a0especially since it takes forever for jenkins to restart...  \n10:34\u00a0<Slashman>\u00a0has joined #xwiki  \n10:34\u00a0<mflorea>\u00a0np, I was looking for a screenshot, but I can scp  \n10:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:39\u00a0<vmassol>\u00a0I wonder if jenkins restarts by itslef, I better restart it, I think I did that the other day  \n10:39\u00a0<vmassol>\u00a0doing it  \n10:41\u00a0<vmassol>\u00a0done  \n10:43\u00a0<mflorea>\u00a0this time is was quick  \n10:46\u00a0<sburjan>\u00a0has joined #xwiki  \n11:01\u00a0<mflorea>\u00a0I'm looking at the AWM failing tests.  \n11:05\u00a0<vmassol>\u00a0ok  \n11:05\u00a0<vmassol>\u00a0mflorea: should we try to upgrade to latest selenium or not?  \n11:06\u00a0<mflorea>\u00a0I think we should do it after we stabilize the build.  \n11:08\u00a0<mflorea>\u00a0we could do it this week, before its end, but after we investigate the failing tests  \n11:08\u00a0<vmassol>\u00a0ok  \n11:08\u00a0<vmassol>\u00a0I garee  \n11:08\u00a0<vmassol>\u00a0agree  \n11:11\u00a0<mflorea>\u00a0some of our problems are not related to selenium anyway: xwiki taking to long to start sometimes, wiki pages taking to long to load (requested with httpclient), vnc crash (on agent-1 this weekend), browser crash (on agent-2 this weekend)  \n11:17\u00a0<vmassol>\u00a0mflorea: I'm testing something. I've tried to configure http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-ui/ so that it attaches the screenshots in the failure notification email  \n11:19\u00a0<mflorea>\u00a0ok, although I lost the habit of reading Jenkins mails.. (I check the CI instead)  \n11:19\u00a0<vmassol>\u00a0I can probably also add the url to the image instead  \n11:19\u00a0<vmassol>\u00a0IMO it's currently hard to get the image of a failing test  \n11:20\u00a0<mflorea>\u00a0yes, it's pretty hidden  \n11:20\u00a0<evalica>\u00a0has joined #xwiki  \n11:20\u00a0<mflorea>\u00a0a link it's better I think, some images can be very long (e.g. those taken in the administration)  \n11:21\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:42\u00a0<polx>\u00a0has joined #xwiki  \n12:34\u00a0<mflorea>\u00a0has quit  \n12:48\u00a0<SvenDowideit>\u00a0has quit  \n12:50\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n13:53\u00a0<Enygma`>\u00a0http://ci.xwiki.org/ looks good for 4.3.1  \n13:54\u00a0<Enygma`>\u00a0starting the 4.3.1 release...  \n13:54\u00a0<Enygma`>\u00a0vmassol: are there any issues with agent-1 (the one we use for releasing) that could prevent me from starting the release??  \n13:54\u00a0<vmassol>\u00a0Enygma`: sure  \n13:54\u00a0<vmassol>\u00a0the old agent1 has been removed  \n13:55\u00a0<vmassol>\u00a0so we need to setup the new agent1  \n13:55\u00a0<vmassol>\u00a0release scripts are there  \n13:55\u00a0<vmassol>\u00a0but  \n13:55\u00a0<vmassol>\u00a0I think all the . directories are not set up yet  \n13:55\u00a0<vmassol>\u00a0you can find a copy here:  \n13:56\u00a0<vmassol>\u00a0\u00a0\u00a0/home/hudsonagent/copy-from-old-agent1  \n13:56\u00a0<vmassol>\u00a0do a ls -l in that directory  \n14:06\u00a0<Enygma`>\u00a0vmassol: basically, all we need from copy-from-old-agent1 is the .gitconfig\\* files (which I have copied to the home dir)  \n14:06\u00a0<vmassol>\u00a0maybe  \n14:12\u00a0<Enygma`>\u00a0I have also copied the .gnugp folder which contains some conf+keyrings that might be useful (though I know we clear the keys after a release)  \n14:13\u00a0<Enygma`>\u00a0besides that, I think that's it  \n14:13\u00a0<Enygma`>\u00a0proceeding...  \n14:17\u00a0<Denis>\u00a0has quit  \n14:53\u00a0<Enygma`>\u00a0the \"releases\" directory seems missing. Creating one and adding xwiki-trunks to it  \n15:20\u00a0<mflorea>\u00a0has joined #xwiki  \n16:59\u00a0<msmeria>\u00a0has quit  \n17:02\u00a0<evalica>\u00a0has quit  \n17:24\u00a0<Enygma`>\u00a0vmassol: WDYT? Since we already dump the clirr\\_report from the release build, could I comment the clirr\\_report step from the release\\_project method? https://github.com/xwiki/xwiki-dev-tools/blob/master/xwiki-release-scripts/maven-release.sh#L262  \n17:25\u00a0<vmassol>\u00a0Enygma`: I don't know well enough the steps. When do we generate the clirr report?  \n17:25\u00a0<Enygma`>\u00a0look at the release\\_project method from the link I gave you  \n17:25\u00a0<Enygma`>\u00a0those are all the steps for a project  \n17:25\u00a0<Enygma`>\u00a0so, after building and releasing, we generate the report  \n17:25\u00a0<vmassol>\u00a0yes I can see that  \n17:25\u00a0<Enygma`>\u00a0and this is the report generation step https://github.com/xwiki/xwiki-dev-tools/blob/master/xwiki-release-scripts/maven-release.sh#L213  \n17:26\u00a0<Enygma`>\u00a0because we don`t use the output from that report, at this moment in the release process  \n17:26\u00a0<vmassol>\u00a0why not?  \n17:26\u00a0<Enygma`>\u00a0because we do it manually, after http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/ReleasePlanHelp#HGenerateCLIRRReport  \n17:26\u00a0<vmassol>\u00a0I think I used it when I last released but I don't recall completely  \n17:27\u00a0<tdelafosse>\u00a0has quit  \n17:27\u00a0<vmassol>\u00a0I think I used a combination but I don't really recall  \n17:27\u00a0<vmassol>\u00a0what we need is a good strategy indeed  \n17:28\u00a0<vmassol>\u00a0ok I've read the doc  \n17:28\u00a0<vmassol>\u00a0so yes we don't really use it now  \n17:28\u00a0<vmassol>\u00a0but it would be good to be able to use it again  \n17:28\u00a0<Enygma`>\u00a0all I know is that, in the current process, the restul from that clirr report is dumped and then, a second clirr report is done manually (with the manual removal of the exclusions from the pom)  \n17:28\u00a0<vmassol>\u00a0ie to automate what could be automated  \n17:29\u00a0<Enygma`>\u00a0well, yes, but until then, it should be omitted from the already lengthy release process  \n17:30\u00a0<Enygma`>\u00a0so I`m proposing to comment it out, and add a note next to it mentioning the reason, possibly linking to the release process as well.  \n17:39\u00a0<vmassol>\u00a0ok  \n18:03\u00a0<Slashman>\u00a0has quit  \n18:24\u00a0<Slashman>\u00a0has joined #xwiki  \n18:29\u00a0<tdelafosse>\u00a0has joined #xwiki  \n18:46\u00a0<vmassol>\u00a0guys I'm now able to automatically create the jenkins jobs for a new branch :)  \n18:53\u00a0<Enygma`>\u00a0you mean when creating a new stable-x.y.z branch?  \n18:55\u00a0<Enygma`>\u00a0(side note: I`ve just resumed a release build -- from xwiki-platfrom forward --, but with tests disabled. Doing this because the xwiki-platform build failed at faq-tests because some firefox process did not start and, IMO, testing should not be part of the release build step)  \n18:56\u00a0<jvdrean>\u00a0has quit  \n18:57\u00a0<Enygma`>\u00a0we are already disabling tests for enterprise and manager while building the release. I`d be +1 to disable it from commons, rendering and platform as well, thus probably greatly diminishing the time needed to build the release, which is now 2.5h+ (in a perfect run, without \u00a0interruptions)  \n18:58\u00a0<jvelo>\u00a0Hi guys  \n18:58\u00a0<jvelo>\u00a0anyone knows if/where the distribution wizard is documented for developers ?  \n19:01\u00a0<vmassol>\u00a0\"you mean when creating a new stable-x.y.z branch?\" yep for example  \n19:01\u00a0<vmassol>\u00a0(or just now for the new 4.4M1 branch)  \n19:02\u00a0<vmassol>\u00a0Enygma`: you should propose this on the list maybe  \n19:02\u00a0<vmassol>\u00a0jvelo: wdym? to add some new steps?  \n19:05\u00a0<jvelo>\u00a0vmassol: no, simply how to declare a distribution  \n19:06\u00a0<jvelo>\u00a0I'm trying to find where the extension id is declared in XE  \n19:06\u00a0<jvelo>\u00a0but couldn't find it yet  \n19:07\u00a0<Enygma`>\u00a0jvelo: if I remember right, tmortagne issued a vote at some point to include in the war a descriptor that helps identify the war itself (distribution)  \n19:08\u00a0<Enygma`>\u00a0jvelo: \"[xwiki-devs] [VOTE] Add extension id in the MANIFEST.MF in WAR distributions\"  \n19:08\u00a0<vmassol>\u00a0jvelo: distributions are not pluggable yet  \n19:08\u00a0<vmassol>\u00a0AFAIK  \n19:08\u00a0<vmassol>\u00a0it's hardcoded in the distribution wizard ATM I think  \n19:08\u00a0<vmassol>\u00a0the next step is to add the notion of flavor and thus make them discoverable  \n19:09\u00a0<vmassol>\u00a0thomas will be available tomorrow if you want to ask him  \n19:09\u00a0<jvelo>\u00a0vmassol: OK. I understood there was such a distribution ID somewhere. I'm trying to fix a NPE I have on startup. Yes, I'll ask thomas tomorrow  \n19:12\u00a0<tdelafosse>\u00a0has quit  \n19:12\u00a0<Enygma`>\u00a0jvelo: the maven property \"xwiki.extension.distribution.ui\" seems related (defined in enterprise and manager) and used by DefaultDistributionManager.java  \n19:12\u00a0<jvelo>\u00a0Enygma`: thanks  \n19:12\u00a0<jvelo>\u00a0I'll dig this  \n19:20\u00a0<Enygma`>\u00a0has quit  \n19:27\u00a0<Slashman>\u00a0has quit  \n19:34\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:44\u00a0<sburjan>\u00a0has quit  \n19:45\u00a0<mflorea>\u00a0has quit  \n20:17\u00a0<abusenius>\u00a0has joined #xwiki  \n21:22\u00a0<SvenDowideit>\u00a0has quit  \n22:13\u00a0<mrvanes>\u00a0has quit  \n22:55\u00a0<vmassol>\u00a0has quit  \n23:25\u00a0<vmassol>\u00a0has joined #xwiki  \n23:34\u00a0<vmassol>\u00a0has quit  \n23:49\u00a0<abusenius>\u00a0has quit  \n23:58\u00a0<jvdrean>\u00a0has quit\n"}