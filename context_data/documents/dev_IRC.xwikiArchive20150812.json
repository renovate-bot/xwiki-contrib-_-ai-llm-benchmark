{"id": "dev:IRC.xwikiArchive20150812", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150812", "title": "IRC Archive for channel #xwiki on 12 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<\\_cjd>\u00a0has quit  \n05:28\u00a0<meatcar>\u00a0has quit  \n05:31\u00a0<meatcar>\u00a0has joined #xwiki  \n06:37\u00a0<\\_cjd>\u00a0has joined #xwiki  \n06:41\u00a0<\\_cjd>\u00a0has quit  \n08:31\u00a0<Bugendolf>\u00a0has quit  \n08:50\u00a0<evalica>\u00a0has joined #xwiki  \n08:50\u00a0<woshilapin>\u00a0has quit  \n08:58\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:39\u00a0<Slashman>\u00a0has joined #xwiki  \n09:41\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:47\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:05\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:15\u00a0<vmassol>\u00a0has joined #xwiki  \n10:35\u00a0<vmassol>\u00a0has quit  \n10:52\u00a0<ClemensR>\u00a0has joined #xwiki  \n10:58\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:05\u00a0<gsmeria>\u00a0has left #xwiki  \n11:16\u00a0<fcharton>\u00a0has quit  \n11:22\u00a0<fcharton>\u00a0has joined #xwiki  \n11:27\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:03\u00a0<OSIMasson>\u00a0has quit  \n12:07\u00a0<ClemensR>\u00a0has left #xwiki  \n12:43\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:19\u00a0<gdelhumeau>\u00a0has quit  \n13:20\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n13:55\u00a0<helge\\_>\u00a0has joined #xwiki  \n13:57\u00a0<helge\\_>\u00a0Hi, after upgrade to 7.2.M2 I have an issue with the login page  \n13:57\u00a0<helge\\_>\u00a0I get a 401 Unauthorized for the login  \n13:57\u00a0<helge\\_>\u00a0https://server.name/bin/login/XWiki/XWikiLogin  \n13:58\u00a0<helge\\_>\u00a0The login works, but the page is text only, no skin  \n13:59\u00a0<helge\\_>\u00a0It's a closed wiki but I gave view rights to unregistered users for the skin.  \n14:00\u00a0<helge\\_>\u00a0Worked before, but not after upgrade. Any ideas?  \n14:06\u00a0<\\_cjd>\u00a0has joined #xwiki  \n14:24\u00a0<ClemensR>\u00a0does firebug (or other tools) show that the browser tries to fetch the css files etc  \n14:25\u00a0<ClemensR>\u00a0i.e. are the view permissions to the anonymous user lost, or did the browser not even try because the login form is damaged? @helge\\_  \n14:27\u00a0<helge\\_>\u00a0output in the web console is: GET \u00a0https://server/bin/login/XWiki/XWikiLogin [HTTP/1.1 401 Unauthorized 52ms]  \n14:28\u00a0<helge\\_>\u00a0when I \"open\" the whole wiki (view rights for unregistered on wiki-level) it works  \n14:28\u00a0<helge\\_>\u00a0but not in a \"closed\" environment.  \n14:31\u00a0<helge\\_>\u00a0I guess the issue with GET \u00a0https://server/bin/login/XWiki/XWikiLogin [HTTP/1.1 401 Unauthorized 52ms] is something different since I get this even when I am logged in as Admin and see the skin as I should.  \n14:32\u00a0<helge\\_>\u00a0However, the login form must be ok because it works when the wiki is 'open'  \n14:33\u00a0<helge\\_>\u00a0on which page/space should I check the rights?  \n14:43\u00a0<\\_cjd>\u00a0has quit  \n14:55\u00a0<ClemensR>\u00a0it is normal that the login page returns a 401 - I think it has done that \"since ever\". (unless config)  \n14:55\u00a0<ClemensR>\u00a0I wonder why the css files are not shown. at least a rudimentary layout should be avaibale, no matter what access rights  \n14:58\u00a0<ClemensR>\u00a0\u00a0if the layout is broken because the wiki is closed, are there any other 401 or 302 in the web console? I mean, the login page should at least try to get a bit of layout  \n15:02\u00a0<helge\\_>\u00a0302 only for the avatars of global users - so rights settings in the main wiki are an issue here - apart from that no 401 or 302  \n15:03\u00a0<ClemensR>\u00a0uh, oh, I just unpacked a fresh jetty-hsql and can fully reproduce  \n15:03\u00a0<ClemensR>\u00a0as soon as the wiki is closed \"globally\", the layout is gone  \n15:04\u00a0<helge\\_>\u00a0seems to be  \n15:04\u00a0<ClemensR>\u00a0even just removing the global view right to the anonymous user is sufficent  \n15:05\u00a0<ClemensR>\u00a0sorry, I thought it is a weird update issue, but it is fully reproduceable with a fresh install  \n15:05\u00a0<helge\\_>\u00a0ok, so it was not my setting wrong rights. Shall I file ans issue?  \n15:05\u00a0<ClemensR>\u00a0the pity is that the selenoum tests do not care if they get pretty pages or not :-/  \n15:06\u00a0<ClemensR>\u00a0yes, please do so. I think there is none  \n15:06\u00a0<helge\\_>\u00a0ok, got to go now but will create a jira later. Thanks for your help!  \n15:07\u00a0<ClemensR>\u00a0all the CSS files send a 302 redirect to the login page  \n15:08\u00a0<ClemensR>\u00a0thanks for testing! \u00a0yes, please report the issue when you have the time, not earlier ;)  \n15:09\u00a0<helge\\_>\u00a0has quit  \n15:09\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:10\u00a0<ClemensR>\u00a0the cause of the problem seems to me that the \"skin\"-action needs \"view\" rights  \n15:14\u00a0<\\_cjd>\u00a0has quit  \n16:17\u00a0<vmassol>\u00a0has joined #xwiki  \n16:28\u00a0<evalica>\u00a0has quit  \n16:32\u00a0<vmassol>\u00a0has quit  \n16:34\u00a0<Enygma`>\u00a0has quit  \n16:40\u00a0<ClemensR>\u00a0has left #xwiki  \n16:42\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n16:42\u00a0<gdelhumeau>\u00a0has quit  \n16:42\u00a0<\\_cjd>\u00a0has joined #xwiki  \n16:46\u00a0<vmassol>\u00a0has joined #xwiki  \n16:49\u00a0<gdelhumeau\\_>\u00a0has quit  \n16:51\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:59\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n17:04\u00a0<Trefex>\u00a0has joined #xwiki  \n17:04\u00a0<Trefex>\u00a0has left #xwiki  \n17:06\u00a0<vmassol>\u00a0has quit  \n17:23\u00a0<KermitTheFragger>\u00a0has quit  \n17:24\u00a0<Trefex>\u00a0has joined #xwiki  \n17:27\u00a0<Trefex>\u00a0has quit  \n17:28\u00a0<gsmeria>\u00a0has left #xwiki  \n17:33\u00a0<Trefex>\u00a0has joined #xwiki  \n17:36\u00a0<Trefex>\u00a0has quit  \n17:36\u00a0<Trefex>\u00a0has joined #xwiki  \n17:53\u00a0<woshilapin>\u00a0has quit  \n17:55\u00a0<gdelhumeau>\u00a0has quit  \n18:10\u00a0<OSIMasson>\u00a0has quit  \n18:29\u00a0<Trefex>\u00a0has quit  \n18:39\u00a0<abusenius>\u00a0has joined #xwiki  \n18:43\u00a0<OSIMasson>\u00a0has joined #xwiki  \n18:55\u00a0<woshilapin>\u00a0has joined #xwiki  \n19:13\u00a0<vmassol>\u00a0has joined #xwiki  \n19:18\u00a0<vmassol>\u00a0has quit  \n19:58\u00a0<\\_cjd>\u00a0has quit  \n20:05\u00a0<OSIMasson>\u00a0has quit  \n20:17\u00a0<OSIMasson>\u00a0has joined #xwiki  \n20:29\u00a0<OSIMasson>\u00a0has quit  \n22:11\u00a0<Slashman>\u00a0has quit  \n22:24\u00a0<vmassol>\u00a0has joined #xwiki  \n22:33\u00a0<xwikiorg\\_guest\\_4>\u00a0has joined #xwiki  \n22:34\u00a0<xwikiorg\\_guest\\_4>\u00a0Hi when I set \"Prevent unregistered users from viewing pages, regardless of the page or space rights\" as checked under rights  \n22:34\u00a0<xwikiorg\\_guest\\_4>\u00a0and I Logout the webpage looks crippled without any css and js files  \n22:35\u00a0<vmassol>\u00a0xwikiorg\\_guest\\_4: yes that's normal  \n22:35\u00a0<xwikiorg\\_guest\\_4>\u00a0then how can I attain security by keeping the documents not visible to unregistered users  \n22:35\u00a0<xwikiorg\\_guest\\_4>\u00a0?  \n22:35\u00a0<vmassol>\u00a0if you prevent even unregistered users from viewing pages they won't be able to view the login/logout resources  \n22:36\u00a0<vmassol>\u00a0you should not use this feature for what you wish to do  \n22:36\u00a0<xwikiorg\\_guest\\_4>\u00a0So I have set the rights for each spaces/pages to attain \u00a0security?  \n22:37\u00a0<vmassol>\u00a0we need to improve the doc at http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Access+Rights to explain how to do a private wiki  \n22:37\u00a0<vmassol>\u00a0I thought it was there but cannot find it now  \n22:37\u00a0<vmassol>\u00a0ah found this: http://enterprise.xwiki.org/xwiki/bin/view/GettingStarted/SettingUserRights  \n22:38\u00a0<vmassol>\u00a0but this page is not fully correct IMO  \n22:38\u00a0<vmassol>\u00a0(just read it, first time I'm seeing it :))  \n22:39\u00a0<vmassol>\u00a0basically you need to allow any user to view the XWiki space  \n22:39\u00a0<vmassol>\u00a0for the logout/login to work properly  \n22:40\u00a0<vmassol>\u00a0someone created a jira issuse today about this:http://jira.xwiki.org/browse/XWIKI-12398  \n22:40\u00a0<vmassol>\u00a0is that you? :)  \n22:44\u00a0<xwikiorg\\_guest\\_4>\u00a0It is not me!. But this is one small feature that should be there in 7.2  \n22:44\u00a0<xwikiorg\\_guest\\_4>\u00a0I wish  \n22:44\u00a0<\\_cjd>\u00a0has joined #xwiki  \n22:48\u00a0<vmassol>\u00a0has quit  \n22:52\u00a0<xwikiorg\\_guest\\_4>\u00a0has quit  \n23:10\u00a0<\\_cjd>\u00a0has quit  \n23:43\u00a0<\\_cjd>\u00a0has joined #xwiki\n"}