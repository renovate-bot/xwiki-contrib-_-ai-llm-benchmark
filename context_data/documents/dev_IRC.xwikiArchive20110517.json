{"id": "dev:IRC.xwikiArchive20110517", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110517", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:02\u00a0<sburjan`>\u00a0has quit  \n00:02\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n00:51\u00a0<sburjan`>\u00a0has quit  \n00:52\u00a0<sburjan`>\u00a0has joined #xwiki  \n00:53\u00a0<sburjan`>\u00a0has quit  \n00:54\u00a0<sburjan`>\u00a0has joined #xwiki  \n01:04\u00a0<jvdrean1>\u00a0has quit  \n01:48\u00a0<barbadosas>\u00a0has quit  \n03:33\u00a0<sdumitriu>\u00a0has quit  \n05:01\u00a0<jamesxu>\u00a0has quit  \n05:12\u00a0<jamesxu>\u00a0has joined #xwiki  \n06:13\u00a0<DrLou>\u00a0has quit  \n07:01\u00a0<Denis>\u00a0has quit  \n07:08\u00a0<Denis>\u00a0has joined #xwiki  \n07:18\u00a0<vmassol>\u00a0has joined #xwiki  \n07:38\u00a0<vmassol>\u00a0\"the new log parser in #confluence with its auo-diagnostic and links to KDBs is awesome\". Haven't seen it but that's something I've been wanting to do for a very long time ;)  \n08:26\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:42\u00a0<mflorea>\u00a0has joined #xwiki  \n09:01\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:19\u00a0<jamesxu>\u00a0has quit  \n09:20\u00a0<+tmortagne>\u00a0vmassol: Hi  \n09:20\u00a0<arkub>\u00a0has joined #xwiki  \n09:20\u00a0<+tmortagne>\u00a0did you see my message from yesterday about JBossCacheCacheConfiguration ?  \n09:27\u00a0<jamesxu>\u00a0has joined #xwiki  \n09:30\u00a0<+tmortagne>\u00a0jenkins agent really have weird behaviors, rendering is falling with  \n09:30\u00a0<+tmortagne>\u00a0[ERROR] org.xwiki.rendering.transformation.AbstractTransformation: Removed org.xwiki.component.phase.LogEnabled from the set of implemented interfaces  \n09:30\u00a0<+tmortagne>\u00a0but i can see org.xwiki.rendering.transformation.AbstractTransformation is in the list of excluded clirr files  \n09:39\u00a0<evalica>\u00a0has joined #xwiki  \n09:42\u00a0<+tmortagne>\u00a0also the slf4j version issue on jenkins/platform is actually flickerinng, I can see several succeeded builds  \n09:42\u00a0<+tmortagne>\u00a0it's probably depending on the agent where the project is run  \n09:43\u00a0<+tmortagne>\u00a0i.e. works on agent2 \u00a0but not on agent1  \n09:48\u00a0<sburjan>\u00a0has joined #xwiki  \n10:04\u00a0<+tmortagne>\u00a0it's definitely something wrong with agent1 only since it's working well on agent2  \n10:11\u00a0<vmassol>\u00a0tmortagne: I'll spend some time on the build today  \n10:11\u00a0<+tmortagne>\u00a0vmassol: ok  \n10:17\u00a0<lucaa>\u00a0has joined #xwiki  \n10:29\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:30\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:32\u00a0<+lucaa>\u00a0guys, can I remove these disabled modules in the enterprise-tests project on ci?  \n10:32\u00a0<+lucaa>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-tests/disabled  \n10:33\u00a0<vmassol>\u00a0yes  \n10:35\u00a0<+lucaa>\u00a0I'm not sure I can  \n10:35\u00a0<vmassol>\u00a0done  \n10:35\u00a0<+lucaa>\u00a0I see here it says choose \"delete all disabled modules from left\" but I don't see this option  \n10:35\u00a0<+lucaa>\u00a0ok  \n10:38\u00a0<+lucaa>\u00a0there are a lot of tests failing for a strange cause in enterprise-tests, namely exception while deleting documents...  \n10:38\u00a0<+lucaa>\u00a0but since most of the builds fail for various reasons, I have no idea what's jenkins actually running tests on  \n10:39\u00a0<+lucaa>\u00a0is anyone handling the upgrade of the java on ci?  \n10:40\u00a0<vmassol>\u00a0would be great if someone could it indeed  \n10:41\u00a0<vmassol>\u00a0I don't know how to upgrade java so if someone has this knowledge it owuld be great  \n10:44\u00a0<+tmortagne>\u00a0that probably require root rights  \n10:45\u00a0<+tmortagne>\u00a0maybe not actually  \n10:45\u00a0<+tmortagne>\u00a0looks like it's not using debian install but have it in some folder  \n10:45\u00a0<+tmortagne>\u00a0I will look at it  \n10:46\u00a0<+tmortagne>\u00a0even if there is a java installed...  \n10:52\u00a0<+sburjan>\u00a0are we migrating mow to JDK 6 ?  \n10:53\u00a0<+sburjan>\u00a0\\*now  \n10:54\u00a0<+tmortagne>\u00a0for now I'm trying to find why platform build on agent2 and not on agent1  \n10:54\u00a0<+tmortagne>\u00a0then yes probably  \n10:54\u00a0<+sburjan>\u00a0so no release today  \n10:55\u00a0<+tmortagne>\u00a0does not change much thing in agents  \n10:55\u00a0<+tmortagne>\u00a0i'm not talking about sources  \n10:56\u00a0<+lucaa>\u00a0sburjan see the archive from yday, I discussed with Vincent about the upgrade on hudson  \n10:56\u00a0<+sburjan>\u00a0ok, I will  \n10:56\u00a0<+lucaa>\u00a0and how it integrates in the big upgrade  \n11:08\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:22\u00a0<+tmortagne>\u00a0there is no major difference but I can't reproduce the build fail on agent1 directly, will restart the jenkins agent and retry  \n11:25\u00a0<+tmortagne>\u00a0there is something I don't understand, xwiki-platform is not listed in http://hudson.xwiki.org/computer/agent-1/ but still built in agent-1 which is not the case with commons or rendering for example  \n11:25\u00a0<+tmortagne>\u00a0cjdelisle: didn't you change something around tied projects on jenkins ?  \n11:26\u00a0<+sburjan>\u00a0guys, did we remove the locking mechanism from xwiki ? when a user is editing a page, it seems another user can edit it as well with no warning  \n11:26\u00a0<@sdumitriu>\u00a0No  \n11:26\u00a0<@sdumitriu>\u00a0Locking should be there  \n11:26\u00a0<+sburjan>\u00a0hmmmm  \n11:27\u00a0<+sburjan>\u00a0I am editing Blog.WebHome .Let me try on another page  \n11:27\u00a0<+sburjan>\u00a0no lock on Main.WebHome either.  \n11:28\u00a0<@sdumitriu>\u00a0Are you sure it's not the same user?  \n11:30\u00a0<+sburjan>\u00a0right :)  \n11:31\u00a0<+tmortagne>\u00a0now agent1 is stuck on \"Fetching upstream changes from git://github.com/xwiki/xwiki-platform.git\"...  \n11:38\u00a0<jamesxu>\u00a0I am working on issue-4398, through the title \"WYSIWYG Link-Wiki Page - Autocomplete the 'Label' field with the selected page title\" is intuitive. When user select a page, auto-complete the required field \"Label\" with the pages'title. But in the description of this issue \"if I want to change the title, I will, otherwise I have to make another step instead of just pressing 'create link'\" was confused me, Could anyone give me some tips?  \n12:02\u00a0<@sdumitriu>\u00a0vmassol: Can you also fix the JMX error that breaks the enterprise compilation?  \n12:03\u00a0<vmassol>\u00a0sdumitriu: that's jdk 6  \n12:04\u00a0<@sdumitriu>\u00a0OK, so what can we do?  \n12:04\u00a0<@sdumitriu>\u00a0Upgrade to Java6 right now?  \n12:04\u00a0<vmassol>\u00a0tmortagne is looking to upgrade jenkins to jdk6  \n12:04\u00a0<vmassol>\u00a0yes  \n12:04\u00a0<vmassol>\u00a0(at least on jenkins)  \n12:06\u00a0<+tmortagne>\u00a0agent1 still stuck on git...  \n12:06\u00a0<+tmortagne>\u00a0will try to restart it  \n12:06\u00a0<+tmortagne>\u00a0removing it's workspace  \n12:13\u00a0<+lucaa>\u00a0guys, why was the dashboard & gadgets component on jira in the XWiki Platform replaced with Rendering?  \n12:14\u00a0<+lucaa>\u00a0I mean, what was the rationale?  \n12:15\u00a0<vmassol>\u00a0because that's where it is :)  \n12:15\u00a0<vmassol>\u00a0in teh rendering module  \n12:15\u00a0<vmassol>\u00a0jira component == maven module  \n12:15\u00a0<+lucaa>\u00a0well, not really  \n12:16\u00a0<+lucaa>\u00a0it also has a js and css in the web module  \n12:16\u00a0<vmassol>\u00a0IMO we need a maven module for dashboard in the future  \n12:16\u00a0<+tmortagne>\u00a0lucaa: the rational is that components are top modules of platform  \n12:16\u00a0<vmassol>\u00a0(dashboard and/or gadgets  \n12:16\u00a0<vmassol>\u00a0)  \n12:16\u00a0<+lucaa>\u00a0I'm not 100% convinced that dashboard should stay a macro...  \n12:16\u00a0<vmassol>\u00a0for ex the chart macro is in the chart module  \n12:16\u00a0<vmassol>\u00a0same for fomrula  \n12:17\u00a0<+tmortagne>\u00a0jira simply follow the repository if it should not be in rendering then do'nt put it in rendering  \n12:17\u00a0<+lucaa>\u00a0so if I have an issue that involves modifications in the js / css, where am I supposed to report it?  \n12:17\u00a0<+lucaa>\u00a0in rendering?  \n12:17\u00a0<+lucaa>\u00a0ok nevermind, I'll fix it  \n12:17\u00a0<vmassol>\u00a0where is the mdoficiation done?  \n12:17\u00a0<+lucaa>\u00a0in xwiki-platform-code/xwiki-platform-web  \n12:17\u00a0<vmassol>\u00a0if it's in web then it should be reported in the correspondig jira component  \n12:18\u00a0<+lucaa>\u00a0but there's no way to know, I mean there are modifications which are in both places, I don  \n12:18\u00a0<vmassol>\u00a0we're not clean for web yet since we wanted to split it into 2 modules which I haven't split yet  \n12:18\u00a0<vmassol>\u00a0that's hwy there's templates for ex  \n12:19\u00a0<+lucaa>\u00a0don't think that as long as we don't have a mechanism to inject js / css from a module (e.g. dashboard) in the resources in the distribution (other than jsrx, please) this separation can make sense  \n12:19\u00a0<+lucaa>\u00a0because it doesn't make sense from a logical pov  \n12:19\u00a0<+lucaa>\u00a0anyway, i'll fix it  \n12:19\u00a0<+lucaa>\u00a0I'll create a module for dashboard  \n12:19\u00a0<+lucaa>\u00a0but I'll still report the issues of js and css in dashboard component, it doesn't make sense for me otherwise  \n12:20\u00a0<+tmortagne>\u00a0if it's dashbord specific js/css it could be in it's own zip package included in webstandard at build time  \n12:21\u00a0<+tmortagne>\u00a0that does not need any runtime injection system  \n12:21\u00a0<+tmortagne>\u00a0and then you will have something logical  \n12:21\u00a0<+lucaa>\u00a0explain a bit this zip thing mechanism  \n12:21\u00a0<+lucaa>\u00a0yes, I was talking about built time as well  \n12:21\u00a0<+lucaa>\u00a0maybe injection is not the proper word  \n12:22\u00a0<+tmortagne>\u00a0it's very easy to unzip any module in webstandard at build time, we are already doing it for configuration for example  \n12:22\u00a0<+tmortagne>\u00a0or skins  \n12:22\u00a0<+tmortagne>\u00a0skins is a better example  \n12:22\u00a0<+tmortagne>\u00a0since that's the same kind of content  \n12:22\u00a0<+lucaa>\u00a02 submodules of dashboard you mean? one that produces jar and the other one that produces a zip and platform web depends on both, jar as a jar dep and then zip to unpack in resources?  \n12:23\u00a0<+tmortagne>\u00a0yep  \n12:23\u00a0<+lucaa>\u00a0ok maven magic here I come  \n12:34\u00a0<+tmortagne>\u00a0agent2 is now using java 6  \n12:35\u00a0<+tmortagne>\u00a0waiting for platform build to finish to restart agent1 but it's upgraded too  \n12:35\u00a0<Chami>\u00a0has joined #xwiki  \n12:36\u00a0<mflorea>\u00a0has quit  \n12:39\u00a0<@cjdelisle>\u00a0tmortagne: what I changed was to build all of the non-tests on \"debian\" instead of agent2  \n12:40\u00a0<@cjdelisle>\u00a0because I couldn't bare to watch agent1 idling while jobs were backing up  \n12:41\u00a0<+tmortagne>\u00a0cjdelisle: do you have any idea why platform build agent1 and not commons and rendering ?  \n12:41\u00a0<+tmortagne>\u00a0s/build/build on/  \n12:42\u00a0<@cjdelisle>\u00a0I would say it is because the first time it ran, agent2 was available for commons and rendering but unavailable when platform ran.  \n12:42\u00a0<@cjdelisle>\u00a0Now it is that way because hudson makes an effort to run builds on the same machine  \n12:42\u00a0<+tmortagne>\u00a0cjdelisle: I started it by hand and it used agent2 when agent1 was available  \n12:43\u00a0<+tmortagne>\u00a0ok  \n12:43\u00a0<+tmortagne>\u00a0crap looks like git is not working at all on jenkins/agent1 anymore  \n12:44\u00a0<+tmortagne>\u00a0it gets stuck each time it tries to do anything  \n12:44\u00a0<@cjdelisle>\u00a0stuck pulling?  \n12:45\u00a0<+tmortagne>\u00a0here its stuck cloning but it was stuck pulling before yes  \n12:45\u00a0<@sdumitriu>\u00a0tmortagne: I'll check directly in there  \n12:45\u00a0<+tmortagne>\u00a0(I deleted workspace to test)  \n12:45\u00a0<+tmortagne>\u00a0sdumitriu: ok thanks  \n12:47\u00a0<@sdumitriu>\u00a0Ah, crap  \n12:48\u00a0<@sdumitriu>\u00a0$Id$ and newlines mess  \n12:51\u00a0<@sdumitriu>\u00a0Fixed xwiki-commons  \n12:53\u00a0<evalica1>\u00a0has joined #xwiki  \n12:55\u00a0<evalica>\u00a0has quit  \n12:57\u00a0<@sdumitriu>\u00a0Hm, it's broken  \n12:58\u00a0<@sdumitriu>\u00a0git pull sometimes fails, sometimes work in xwiki-platform  \n12:58\u00a0<@sdumitriu>\u00a0I suggest an upgrade to the latest git  \n12:58\u00a0<@sdumitriu>\u00a0Who can sudo on the agent?  \n14:18\u00a0<JSeymour>\u00a0has joined #xwiki  \n14:23\u00a0<mflorea>\u00a0has joined #xwiki  \n14:37\u00a0<Chami>\u00a0has left #xwiki  \n14:38\u00a0<vmassol>\u00a0sdumitriu: you've broken something in the hibernate store  \n14:38\u00a0<vmassol>\u00a0in https://github.com/xwiki/xwiki-platform/commit/800178146d80613463801705fe692278838cc4a4  \n14:39\u00a0<vmassol>\u00a0on this line:  \n14:39\u00a0<vmassol>\u00a0+\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for\u00a0(BaseElement\u00a0property\u00a0:\u00a0(List<BaseElement>)\u00a0object.getFieldList())\u00a0{  \n14:39\u00a0<vmassol>\u00a0this is wrong and breaks  \n14:39\u00a0<vmassol>\u00a0getFieldList returns a Collection which isn't always a list  \n14:39\u00a0<vmassol>\u00a0it can be a map (which it is in some cases)  \n14:40\u00a0<arkub>\u00a0has quit  \n14:40\u00a0<vmassol>\u00a0for ex this causes this error: http://pastebin.com/xYUQz67u  \n14:41\u00a0<vmassol>\u00a0you should use Collection<BaseElement>  \n14:41\u00a0<vmassol>\u00a0I haven't reviewed your other changes in this same commit but they need to be checked in view of this (after this is corrected obviously)  \n14:41\u00a0<+tmortagne>\u00a0vmassol: Map is not a Collection  \n14:41\u00a0<+tmortagne>\u00a0so that seems weird  \n14:42\u00a0<+tmortagne>\u00a0but indeed casting to Collection<BaseElement> is well enough for the for  \n14:45\u00a0<vmassol>\u00a0using Collection<BaseElement> fixes my problem  \n14:46\u00a0<vmassol>\u00a0sdumitriu: I'm going out for 30mn. Can I let you fix this?  \n14:48\u00a0<@sdumitriu>\u00a0Sure  \n14:53\u00a0<DrLou>\u00a0has joined #xwiki  \n15:13\u00a0<+tmortagne>\u00a0sdumitriu: we are not using the last version of git plugin on jenkins matbe that could help a bit  \n15:14\u00a0<+tmortagne>\u00a0upgrading it, it can only be better anyway  \n15:26\u00a0<jvdrean1>\u00a0has joined #xwiki  \n15:26\u00a0<lucaa1>\u00a0has joined #xwiki  \n15:26\u00a0<jvdrean2>\u00a0has joined #xwiki  \n15:28\u00a0<fmancinelli>\u00a0has quit  \n15:28\u00a0<lucaa>\u00a0has quit  \n15:29\u00a0<jvdrean>\u00a0has quit  \n15:30\u00a0<jvdrean1>\u00a0has quit  \n15:38\u00a0<JSeymour>\u00a0GlassFish install docs say \"do this, then go to http:... and enjoy,\" but my guess is it won't actually run, and will, in fact, throw an exception until you define the database?  \n15:40\u00a0<@cjdelisle>\u00a0You have to edit the hibernate.cfg.xml file to point it to an empty database but you do not have to insert any schema  \n15:45\u00a0<+tmortagne>\u00a0agent2 is now running on java6/maven3  \n15:45\u00a0<+tmortagne>\u00a0moving agent1 to maven3  \n15:46\u00a0<+tmortagne>\u00a0jenkins is now fully based on java6/maven3  \n15:46\u00a0<JSeymour>\u00a0cjdelisle: I'm getting this when I go to http:server:8080/xwiki: http://xwiki.privatepaste.com/8add507ddf  \n15:47\u00a0<@cjdelisle>\u00a0Wrapped Exception: Could not create a DBCP pool. There is an error in the hibernate configuration file, please review it.  \n15:48\u00a0<@cjdelisle>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HInstallandconfigureaRelationalDatabase  \n15:49\u00a0<JSeymour>\u00a0I expected it was because of: http://xwiki.privatepaste.com/a27c47346e  \n15:49\u00a0<+tmortagne>\u00a0cjdelisle: will let you play with maven 3 on jenkins if you want to tweak it a little ;)  \n15:49\u00a0<JSeymour>\u00a0Yeah, no db  \n15:49\u00a0<@cjdelisle>\u00a0Sure thing, I want to avoid doing anything until both slaves are up to date.  \n15:50\u00a0<@cjdelisle>\u00a0Also I don't think my ssh keys are on agent2, watching for disk thrash is pretty important since threading vacuums up the ram  \n15:50\u00a0<+tmortagne>\u00a0cjdelisle: you can access agent2 from agent1 to add you ssh key  \n15:51\u00a0<@cjdelisle>\u00a0ahh I see  \n15:51\u00a0<@cjdelisle>\u00a0I need to rekey soon too, a year and a half is pushing it  \n15:51\u00a0<+tmortagne>\u00a0(that's what I did this morning since agent2 sid not had my key either)  \n15:52\u00a0<+tmortagne>\u00a0s/sid/did/  \n15:53\u00a0<arkub>\u00a0has joined #xwiki  \n16:11\u00a0<@cjdelisle>\u00a0from agent1 I just did ssh 91.121.34.179 and it wants a passwd, what am i missing?  \n16:11\u00a0<+tmortagne>\u00a0that's weird  \n16:11\u00a0<+tmortagne>\u00a0are you sure it's the right IP ?  \n16:11\u00a0<+tmortagne>\u00a0let me retry i'm pretty sure I did that  \n16:11\u00a0<@cjdelisle>\u00a0nope, i just grapped it from the hudson info page  \n16:12\u00a0<+tmortagne>\u00a0or maybe it was from jenkins master  \n16:12\u00a0<+tmortagne>\u00a0works well for me  \n16:12\u00a0<@cjdelisle>\u00a0did I mess up the ip addr?  \n16:12\u00a0<+tmortagne>\u00a0doing ssh agent-2.maven.xwiki.org  \n16:12\u00a0<+tmortagne>\u00a0checking the IP  \n16:13\u00a0<@cjdelisle>\u00a0yea it was the ip  \n16:13\u00a0<+tmortagne>\u00a091.121.132.56  \n16:13\u00a0<+tmortagne>\u00a0that's the IP I have  \n16:13\u00a0<@cjdelisle>\u00a0I probably misread and tried to log in to the master  \n16:13\u00a0<+tmortagne>\u00a0for agent2  \n16:13\u00a0<+tmortagne>\u00a0when pinging form agent1  \n16:14\u00a0<vmassol>\u00a0tmortagne: \"jenkins is now fully based on java6/maven3\" great!  \n16:15\u00a0<+tmortagne>\u00a0vmassol: yea now I have to modify all 3.0/2.7 root pom for maven3 deploy with scp since they don't use 3.1 commons root pom  \n16:15\u00a0<+tmortagne>\u00a0forgot about that  \n16:15\u00a0<vmassol>\u00a0ahah  \n16:16\u00a0<@cjdelisle>\u00a0wheee performance tuning time  \n16:17\u00a0<vmassol>\u00a0sdumitriu: shall I commit my change to make the packager work?  \n16:19\u00a0<vmassol>\u00a0done  \n16:20\u00a0<vmassol>\u00a0however I've only fixed that error I found. I haven't checked for other potential errors. I'll let you do this :)  \n16:21\u00a0<@cjdelisle>\u00a0I gather we are not going to be ready for release for a while  \n16:21\u00a0<vmassol>\u00a0we need to stop committing stuff and fix build + tests  \n16:21\u00a0<vmassol>\u00a0from now on  \n16:21\u00a0<vmassol>\u00a0in order to release 3.1M2  \n16:22\u00a0<@cjdelisle>\u00a0If we want a release for monday then it makes sense to propose a \"new feature lock\" today  \n16:22\u00a0<@cjdelisle>\u00a0http://hudson.xwiki.org/job/xwiki-platform/149/console <-- crap  \n16:22\u00a0<vmassol>\u00a0yes I'll do it  \n16:24\u00a0<vmassol>\u00a0has quit  \n16:25\u00a0<vmassol>\u00a0has joined #xwiki  \n16:30\u00a0<@cjdelisle>\u00a024801 ? \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0S \u00a0\u00a0\u00a0\u00a0\u00a00:00 /usr/bin git clone -o origin git://github.com/xwiki/xwiki-platform.git /home/hudsonagent/hudson\\_root/workspace/xwiki-platform  \n16:31\u00a0<@cjdelisle>\u00a0I'm trying to understand why that works at all  \n16:31\u00a0<@cjdelisle>\u00a0/usr/bin git?!  \n16:35\u00a0<@cjdelisle>\u00a0I'm going to change \"path to git\" from \"git\" to \"/usr/bin/git\" since I really think \"/usr/bin git\" is wrong.  \n16:36\u00a0<@cjdelisle>\u00a0make sense?  \n16:36\u00a0<+tmortagne>\u00a0\"/usr/bin git\" indeed seems weird  \n16:36\u00a0<@cjdelisle>\u00a0I'm confused that it ever has/would work  \n16:37\u00a0<@cjdelisle>\u00a0I can see there is no such executable /usr/bin\\ git  \n16:37\u00a0<+tmortagne>\u00a0I have one  \n16:37\u00a0<+tmortagne>\u00a0where are you looking ?  \n16:37\u00a0<+tmortagne>\u00a0sorry i'm not looking in the right server :)  \n16:38\u00a0<@cjdelisle>\u00a0agent 1  \n16:38\u00a0<+tmortagne>\u00a0still have one  \n16:38\u00a0<+tmortagne>\u00a0in agent2  \n16:38\u00a0<@cjdelisle>\u00a0ohhhh that explains everything  \n16:38\u00a0<+tmortagne>\u00a0in aagent1 too  \n16:38\u00a0<+tmortagne>\u00a0agent1  \n16:39\u00a0<+tmortagne>\u00a0ha you mean really with a white space  \n16:39\u00a0<+tmortagne>\u00a0of course this does not exists  \n16:39\u00a0<+tmortagne>\u00a0but anyway I thin it execute the default git  \n16:39\u00a0<+tmortagne>\u00a0I doubt it really escape \u00a0the white space  \n16:39\u00a0<@cjdelisle>\u00a0I was very confused because it seemed to work sometimes  \n16:39\u00a0<+tmortagne>\u00a0well it should work  \n16:40\u00a0<+tmortagne>\u00a0/usr/bin is just useless  \n16:40\u00a0<@cjdelisle>\u00a0I'm also going to kill http://hudson.xwiki.org/job/xwiki-platform/149/console it is not happening  \n16:40\u00a0<+tmortagne>\u00a0actually no that should not work since you would get a \"-bash: /usr/bin: is a directory\"  \n16:41\u00a0<@cjdelisle>\u00a0I still have a hung git clone process on agent1, that might be holding some locks, I'm killing it  \n16:41\u00a0<@cjdelisle>\u00a0\\*an old one  \n16:42\u00a0<@cjdelisle>\u00a0ahh, it died on it's own  \n16:46\u00a0<@cjdelisle>\u00a0I'll probably have to wait until tonight to start playing with threads since I need to really own an agent while increasing the thread count and likely stopping the build when I hit the limit  \n16:47\u00a0<+tmortagne>\u00a0guys i'm currently renaming branched according to http://markmail.org/message/44k3rorx6vz5nzaq  \n16:48\u00a0<vmassol>\u00a0reading  \n16:49\u00a0<vmassol>\u00a0tmortagne: my preference goes to 1  \n16:49\u00a0<vmassol>\u00a0I'll reply  \n16:49\u00a0<+tmortagne>\u00a0vmassol: a bit late...  \n16:49\u00a0<vmassol>\u00a0I don't understand why \"stable\"  \n16:49\u00a0<vmassol>\u00a0one day stable is 3.0 another day it's sometthing else  \n16:50\u00a0<+tmortagne>\u00a0because all the branches are about the same project there is no need to repeat it  \n16:50\u00a0<vmassol>\u00a0repeat what?  \n16:50\u00a0<vmassol>\u00a0xwiki-enterprise?  \n16:50\u00a0<+tmortagne>\u00a0I don't unstand what you mean  \n16:50\u00a0<+tmortagne>\u00a0the proposal is not nameing it stable  \n16:50\u00a0<vmassol>\u00a0ah?  \n16:50\u00a0<+tmortagne>\u00a0but stable-3.0.x  \n16:51\u00a0<+tmortagne>\u00a0I don't understand where you seen stable  \n16:51\u00a0<vmassol>\u00a0your suggestion impllies that we need to change our tags too  \n16:51\u00a0<vmassol>\u00a0stable-3.0.x cotnains stable  \n16:51\u00a0<vmassol>\u00a0right now I was more in favor of continuning the established rule  \n16:51\u00a0<+tmortagne>\u00a0yes since it's a stable branch, like you have feature branches  \n16:51\u00a0<+tmortagne>\u00a0there was no established rule  \n16:52\u00a0<vmassol>\u00a0it's: xwiki-enterprise-<version>  \n16:52\u00a0<vmassol>\u00a0(for xe)  \n16:52\u00a0<vmassol>\u00a0if we think xwiki-enterprise is too much then we need to change our tags too  \n16:52\u00a0<+tmortagne>\u00a0that's svn style and that's because you are in a repository with multiple projects  \n16:53\u00a0<+tmortagne>\u00a0we don't switch from tags to tags all the time  \n16:53\u00a0<+tmortagne>\u00a0IMO it doe snot have to be the same rule  \n16:53\u00a0<+tmortagne>\u00a0that's two different things  \n16:53\u00a0<vmassol>\u00a0they're very related  \n16:54\u00a0<vmassol>\u00a0one thing we haven't agreed with  \n16:54\u00a0<vmassol>\u00a0is our git development style  \n16:54\u00a0<vmassol>\u00a0feature branch, stable branch, etc  \n16:54\u00a0<vmassol>\u00a0there were dsicussion but I don't recall an agreement  \n16:54\u00a0<vmassol>\u00a0was there one?  \n16:54\u00a0<+tmortagne>\u00a0don't remember  \n16:54\u00a0<vmassol>\u00a0sergiu proposed something  \n16:54\u00a0<vmassol>\u00a0fabio proposed something else  \n16:54\u00a0<vmassol>\u00a0anca replied to that suggesting an alternative  \n16:55\u00a0<vmassol>\u00a0we should reach an agreement, document it  \n16:55\u00a0<vmassol>\u00a0\"#XWiki is not a wiki, it's hell.\" <\u2014 nice quote  \n16:56\u00a0<vmassol>\u00a0(sarcasm)  \n16:56\u00a0<+tmortagne>\u00a0it's always good to ear...  \n16:57\u00a0<vmassol>\u00a0tmortagne: anyway do the rename as you see fit, I'm coming late and we can always change later  \n16:57\u00a0<vmassol>\u00a0(it's not a lot of work right?)  \n16:57\u00a0<jamesxu>\u00a0has quit  \n16:57\u00a0<+tmortagne>\u00a0already done for commons/rendering/platform  \n16:58\u00a0<@cjdelisle>\u00a0did anyone figure out what was causing git to fail to clone platform?  \n16:58\u00a0<@cjdelisle>\u00a0because it's stil failing  \n16:58\u00a0<+tmortagne>\u00a0hmm there is something weird  \n16:58\u00a0<+tmortagne>\u00a0crap  \n17:03\u00a0<+sburjan>\u00a0vmassol: he wants to talk to you (the twitter guy) :)  \n17:03\u00a0<vmassol>\u00a0I know  \n17:03\u00a0<vmassol>\u00a0I've given him the location or our IRC + mailing list  \n17:03\u00a0<vmassol>\u00a0let's hope he contacts us  \n17:03\u00a0<+tmortagne>\u00a0sdumitriu, cjdelisle: need git guru help, I did the exact same thing for commons/rendering/platform for renaming branch but I have a weird result in platform  \n17:04\u00a0<@cjdelisle>\u00a0I'm cloning platform right now to see if I can repeat what agent1 is having  \n17:04\u00a0<+tmortagne>\u00a0git checkout \u00a0-b xwiki-2.7  \n17:04\u00a0<+tmortagne>\u00a0git branch -m xwiki-2.7 stable-2.7.x  \n17:04\u00a0<+tmortagne>\u00a0git push origin :xwiki-2.7  \n17:04\u00a0<+tmortagne>\u00a0git push origin stable-2.7.x  \n17:05\u00a0<+tmortagne>\u00a0worked perfectly for commons and rendering  \n17:05\u00a0<+tmortagne>\u00a0but when i look at platform stable branches looks exactly like master  \n17:05\u00a0<+tmortagne>\u00a0did not checked before the rename so i don't know if there was the issue before actually  \n17:05\u00a0<@cjdelisle>\u00a0did you try git branch in the middle of the process just to verify you're on the right branch?  \n17:06\u00a0<+tmortagne>\u00a0what do you mean ?  \n17:06\u00a0<+tmortagne>\u00a0I don't need to be in any specific branches for theses commands  \n17:06\u00a0<@cjdelisle>\u00a0git checkout \u00a0-b xwiki-2.7  \n17:06\u00a0<@cjdelisle>\u00a0git branch  \n17:06\u00a0<@cjdelisle>\u00a0(look and make sure it's on the right branch)  \n17:06\u00a0<@cjdelisle>\u00a0repeat  \n17:06\u00a0<+tmortagne>\u00a0it's a bit late now  \n17:07\u00a0<@cjdelisle>\u00a0well it looks like you're going to need to do it again unless sdumitriu has some words of wisdom  \n17:08\u00a0<+tmortagne>\u00a0cjdelisle: sure, speaking of which if you could restore the former branches or tel me how I can do  \n17:08\u00a0<@cjdelisle>\u00a0run git branch on your local box  \n17:08\u00a0<@cjdelisle>\u00a0does it show xwiki-2.7?  \n17:09\u00a0<@sdumitriu>\u00a0tmortagne: Hold on  \n17:09\u00a0<@sdumitriu>\u00a0I'll try to fix platform  \n17:09\u00a0<+tmortagne>\u00a0cjdelisle: I just checkouted to master so no it does not  \n17:10\u00a0<@sdumitriu>\u00a0tmortagne: Could you try to upgrade git on the agents?  \n17:10\u00a0<+tmortagne>\u00a0sdumitriu: ok thanks, any idea what could be the issue ? so that I don't repeat it, what i don't understand is that it worked well for other repositories  \n17:10\u00a0<@cjdelisle>\u00a0hudsonagent@ks365275:~$ git --version  \n17:10\u00a0<@cjdelisle>\u00a0git version 1.5.6.5  \n17:10\u00a0<@cjdelisle>\u00a0same version I'm running  \n17:10\u00a0<+tmortagne>\u00a0sdumitriu: i don't have root access  \n17:11\u00a0<@sdumitriu>\u00a0tmortagne: Then how did you upgrade java?  \n17:11\u00a0<+tmortagne>\u00a0hudson agent were not using debian packages  \n17:11\u00a0<+tmortagne>\u00a0I did the same for java  \n17:11\u00a0<@sdumitriu>\u00a0# git --version  \n17:11\u00a0<@sdumitriu>\u00a0git version 1.7.3.4  \n17:11\u00a0<+tmortagne>\u00a01.7.4.1 I win :)  \n17:12\u00a0<@cjdelisle>\u00a0I just did a clone on local and it worked fine.  \n17:12\u00a0<+tmortagne>\u00a0s/java/java 6/  \n17:12\u00a0<@cjdelisle>\u00a0(running the same git version as the agents)  \n17:16\u00a0<@cjdelisle>\u00a0it inits an empty repo and then fails to check it out  \n17:17\u00a0<@sdumitriu>\u00a0tmortagne: Your error was in the first step: git checkout \u00a0-b xwiki-2.7  \n17:18\u00a0<+tmortagne>\u00a0sdumitriu: how else to I get a local branch or xwiki-2.7 branch ?  \n17:18\u00a0<@sdumitriu>\u00a0This doesn't checkout the 2.7 branch, it creates a new branch named xwiki-2.7, but tracking the same thing as the current HEAD  \n17:18\u00a0<+tmortagne>\u00a0s/or/of/  \n17:19\u00a0<@sdumitriu>\u00a0It should have been:  \n17:19\u00a0<@sdumitriu>\u00a0git checkout -b stable-2.7.x origin/xwiki-2.7  \n17:19\u00a0<@sdumitriu>\u00a0Where there any commits on the 2.7 and 3.0 branches today?  \n17:20\u00a0<vmassol>\u00a0I think mflorea did some commits  \n17:20\u00a0<@sdumitriu>\u00a0I'll check on github  \n17:21\u00a0<+mflorea>\u00a0no, no commits on my side  \n17:22\u00a0<+tmortagne>\u00a0sdumitriu: ok, that's weird I'm sure I never did \"git checkout -b stable-2.7.x origin/xwiki-2.7\" but I think there is a surtcut for this without the -b and I mixed  \n17:22\u00a0<@sdumitriu>\u00a0OK, last one was from me, it's safe  \n17:22\u00a0<mflorea>\u00a0has quit  \n17:22\u00a0<vmassol>\u00a0hmm I saw some commit sfrom marius about releasing  \n17:22\u00a0<+tmortagne>\u00a0don't understand why I used it since i did not for commons and rendering...  \n17:22\u00a0<vmassol>\u00a0ah must have been tmortagne playing with branches ;)  \n17:24\u00a0<vmassol>\u00a0why do we get these mails btw? Isn't it possible to simply rename a branch without replaying the history?  \n17:24\u00a0<@sdumitriu>\u00a0Fixed 2.7.x  \n17:25\u00a0<+tmortagne>\u00a0vmassol: could not find any rename actually, only copy  \n17:25\u00a0<vmassol>\u00a0this the mail I got for ex: http://pastebin.com/aBH6sZv9  \n17:25\u00a0<@sdumitriu>\u00a0Fixed 3.0.x  \n17:26\u00a0<vmassol>\u00a0tmortagne: ok, strange they don't have this  \n17:26\u00a0<vmassol>\u00a0it's a pain  \n17:26\u00a0<+tmortagne>\u00a0yep I actually even expect to have a nice rename on github directly  \n17:27\u00a0<@sdumitriu>\u00a0tmortagne: Want me to do the other repos as well?  \n17:27\u00a0<+tmortagne>\u00a0which repos ?  \n17:27\u00a0<@sdumitriu>\u00a0I did exactly this:  \n17:27\u00a0<@sdumitriu>\u00a0git checkout -b stable-3.0.x origin/xwiki-3.0  \n17:27\u00a0<@sdumitriu>\u00a0git push origin --force stable-3.0.x:stable-3.0.x  \n17:27\u00a0<@sdumitriu>\u00a0Did you finish all of them?  \n17:28\u00a0<+tmortagne>\u00a0commons and rendering are done  \n17:28\u00a0<+tmortagne>\u00a0need to do enteprise/manager  \n17:28\u00a0<+tmortagne>\u00a0will do  \n17:30\u00a0<+tmortagne>\u00a0anyway thanks a lot for the rescue :)  \n17:30\u00a0<+tmortagne>\u00a0(as usual)  \n17:35\u00a0<@cjdelisle>\u00a0looks like agent1 is still on hava1.5  \n17:35\u00a0<@cjdelisle>\u00a0\\*java  \n17:35\u00a0<@cjdelisle>\u00a0http://hudson.xwiki.org/computer/agent-1/configure  \n17:37\u00a0<+tmortagne>\u00a0ok done, did not break anything this time  \n17:37\u00a0<@cjdelisle>\u00a0upgrading with fingers crossed.  \n17:37\u00a0<+tmortagne>\u00a0fixing maven deploy on scp in 30/2.7 branches now  \n17:38\u00a0<+tmortagne>\u00a0cjdelisle: I don't see how it could be on java 5  \n17:38\u00a0<+tmortagne>\u00a0I upgraded it  \n17:38\u00a0<@cjdelisle>\u00a0Node Properties  \n17:38\u00a0<@cjdelisle>\u00a0List of tool locations  \n17:39\u00a0<@cjdelisle>\u00a0Home: /home/hudsonagent/jdk1.5.0\\_15  \n17:39\u00a0<@cjdelisle>\u00a0http://hudson.xwiki.org/computer/agent-1/configure <-- here  \n17:39\u00a0<+tmortagne>\u00a0that's weirs I was sure I did change this  \n17:39\u00a0<@sdumitriu>\u00a0tmortagne: Hard to change on the 2.7 branch  \n17:39\u00a0<+tmortagne>\u00a0or maybe since there was a \"java\" link I expect the one who did the install did it properly...  \n17:39\u00a0<@sdumitriu>\u00a0The pom isn't there anymore  \n17:40\u00a0<+tmortagne>\u00a0cjdelisle: fixing  \n17:40\u00a0<@sdumitriu>\u00a0Weird:  \n17:40\u00a0<@sdumitriu>\u00a0hudsonagent@ks365275:~/releases/xwiki-trunks/xwiki-platform$ java -version  \n17:40\u00a0<@sdumitriu>\u00a0java version \"1.5.0\\_17\"  \n17:40\u00a0<@sdumitriu>\u00a0hudsonagent@ks365275:~/releases/xwiki-trunks/xwiki-platform$ mvn -version  \n17:40\u00a0<@sdumitriu>\u00a0Apache Maven 3.0.3 (r1075438; 2011-02-28 18:31:09+0100)  \n17:40\u00a0<@sdumitriu>\u00a0Java version: 1.6.0\\_25, vendor: Sun Microsystems Inc.  \n17:41\u00a0<@sdumitriu>\u00a0Maven uses the right version  \n17:41\u00a0<+tmortagne>\u00a0sdumitriu: root pom is not there yes butt I'm about to directly change each repository pom  \n17:41\u00a0<@sdumitriu>\u00a0But it would be better to stick to 1.5 while we release 2.7.2  \n17:41\u00a0<+tmortagne>\u00a0for release yes  \n17:41\u00a0<@sdumitriu>\u00a0tmortagne: OK, I'll let you fix the poms  \n17:41\u00a0<@cjdelisle>\u00a0I just fixed it  \n17:42\u00a0<+tmortagne>\u00a0cjdelisle: well I saved :)  \n17:42\u00a0<+tmortagne>\u00a0what you used is wrong  \n17:42\u00a0<+tmortagne>\u00a0there is a java link as I said just for that  \n17:43\u00a0<+tmortagne>\u00a0otherwise we will have the same issue next time  \n17:43\u00a0<+tmortagne>\u00a0fixed agent2 too  \n17:43\u00a0<@cjdelisle>\u00a0oh i see  \n17:43\u00a0<@cjdelisle>\u00a0now I'm wondering why the maven link is also called JDK  \n17:44\u00a0<+tmortagne>\u00a0and I expected the configuration was already usingit actually  \n17:44\u00a0<@cjdelisle>\u00a0tool name: JDK  \n17:44\u00a0<@cjdelisle>\u00a0see that?  \n17:44\u00a0<+tmortagne>\u00a0looking  \n17:44\u00a0<@cjdelisle>\u00a0I'm pretty sure that wants to be [maven] for the maven entry  \n17:44\u00a0<+tmortagne>\u00a0I don't see it  \n17:44\u00a0<+tmortagne>\u00a0where should I look ?  \n17:45\u00a0<@cjdelisle>\u00a0http://hudson.xwiki.org/computer/agent-1/configure  \n17:45\u00a0<@cjdelisle>\u00a0List of tool locations  \n17:45\u00a0<+tmortagne>\u00a0ha in the list box indeed  \n17:45\u00a0<+tmortagne>\u00a0indeed that's weird  \n17:45\u00a0<+tmortagne>\u00a0looks like it's not really used then but better put the right one  \n17:45\u00a0<+tmortagne>\u00a0are you fixing it ?  \n17:46\u00a0<@cjdelisle>\u00a0nope  \n17:46\u00a0<+tmortagne>\u00a0sdumitriu: the result you get is probably because on debian when you execute java it does not take into account JAVA\\_HOME but maven do  \n17:46\u00a0<+tmortagne>\u00a0cjdelisle: ok doing it  \n17:48\u00a0<+tmortagne>\u00a0cjdelisle: btw we don't have git in there  \n17:48\u00a0<+tmortagne>\u00a0does not seems that usefull...  \n17:48\u00a0<@cjdelisle>\u00a0http://hudson.xwiki.org/configure uses java1.5 but if both slaves are overriding it then it should be okay  \n17:48\u00a0<@cjdelisle>\u00a0we should update it though  \n17:48\u00a0<+tmortagne>\u00a0it's probably useless when you don't need to target the excat location to execute the tool  \n17:49\u00a0<@cjdelisle>\u00a0yea  \n17:49\u00a0<+tmortagne>\u00a0cjdelisle: yep fixing it  \n17:51\u00a0<barbadosas>\u00a0has joined #xwiki  \n17:52\u00a0<barbadosas>\u00a0hi there  \n17:54\u00a0<barbadosas>\u00a0could you share some thoughts what could be wrong. i have few JS scripts and they are in the JSExtension object. they all get included succsesfully. The last one is with a funcion. if i call the function i know that it gets started because i put an alert(\"it started\"); but after it goes the code and after that nothing gets done  \n17:55\u00a0<barbadosas>\u00a0even if i put another alert after that custom code, it doesnt get executed  \n17:55\u00a0<@cjdelisle>\u00a0sdumitriu: do you know for sure why the clone operation is jamming on agent1 or are you guessing?  \n17:55\u00a0<barbadosas>\u00a0the code is for the Downloadify object if you heard about it  \n17:57\u00a0<evalica1>\u00a0has quit  \n17:57\u00a0<@sdumitriu>\u00a0cjdelisle: No idea  \n17:57\u00a0<@sdumitriu>\u00a0Sometimes it works, sometimes it doesn;t  \n17:57\u00a0<@sdumitriu>\u00a0The proc is at 0  \n17:58\u00a0<@sdumitriu>\u00a0I can't install nettop to see what's going on in the network  \n17:58\u00a0<sburjan>\u00a0has quit  \n17:58\u00a0<@sdumitriu>\u00a0Or any other network tool  \n17:58\u00a0<@cjdelisle>\u00a0yea, I'm kind of lost without tcpdump  \n17:58\u00a0<@sdumitriu>\u00a0barbadosas: Are you sure you don't have a JS error someplace?  \n17:58\u00a0<@sdumitriu>\u00a0Check the error console  \n18:02\u00a0<barbadosas>\u00a0hmm  \n18:02\u00a0<barbadosas>\u00a0it doest say anything  \n18:02\u00a0<barbadosas>\u00a0only an error for the nightfall theme  \n18:02\u00a0<barbadosas>\u00a0:)  \n18:06\u00a0<mflorea>\u00a0has joined #xwiki  \n18:08\u00a0<barbadosas>\u00a0i just tried that code in a default server  \n18:08\u00a0<barbadosas>\u00a0it works  \n18:11\u00a0<barbadosas>\u00a0http://g22.ktu.lt/~marius/code.js this is the code  \n18:13\u00a0<@sdumitriu>\u00a0Where did you put that code?  \n18:13\u00a0<@sdumitriu>\u00a0Is it in an extension as well?  \n18:13\u00a0<@sdumitriu>\u00a0Or inline?  \n18:14\u00a0<barbadosas>\u00a0yes  \n18:14\u00a0<barbadosas>\u00a0extension  \n18:14\u00a0<barbadosas>\u00a0i made an extension object  \n18:14\u00a0<barbadosas>\u00a0and put few extensions in it  \n18:14\u00a0<@sdumitriu>\u00a0You should wrap it in this:  \n18:14\u00a0<@sdumitriu>\u00a0document.observe('dom:loaded', function(){  \n18:14\u00a0<@sdumitriu>\u00a0\u00a0\u00a0Downloadify.create [...] });  \n18:14\u00a0<@sdumitriu>\u00a0});  \n18:15\u00a0<barbadosas>\u00a0can second extension of the same object call a function in the first extension of the same object?  \n18:17\u00a0<@sdumitriu>\u00a0Depends how you wrote the code, but most likely yes  \n18:25\u00a0<barbadosas>\u00a0hmm  \n18:25\u00a0<barbadosas>\u00a0the observe didnt help :/  \n18:47\u00a0<tmortagne>\u00a0has quit  \n18:47\u00a0<@sdumitriu>\u00a0This is so awesome: http://lwn.net/Articles/443200/  \n18:47\u00a0<@sdumitriu>\u00a0Running Linux inside the browser  \n18:50\u00a0<lucaa1>\u00a0cjdelisle: are you still there? I'm looking at XE-903  \n18:50\u00a0<@cjdelisle>\u00a0yea  \n18:51\u00a0<lucaa1>\u00a0I tested it on a 3.0 I downloaded from xwiki.org, and I cannot reproduce it  \n18:51\u00a0<@cjdelisle>\u00a0hmm  \n18:51\u00a0<lucaa1>\u00a0is there a special case?  \n18:51\u00a0<lucaa1>\u00a0it was the case, at one point  \n18:51\u00a0<@cjdelisle>\u00a0No, maybe it's my version of firefox  \n18:51\u00a0<lucaa1>\u00a0but I fixed it, with another commit (I need to find the issue)  \n18:51\u00a0<lucaa1>\u00a0it's not ff  \n18:51\u00a0<lucaa1>\u00a0there was an issue with that  \n18:51\u00a0<lucaa1>\u00a0but not on 3.0  \n18:52\u00a0<lucaa1>\u00a0or maybe on 3.0 but in different conditions  \n18:52\u00a0<@cjdelisle>\u00a0hang on, I'll restart it and check my version, maybe I have an absurdly old version of trunk  \n18:52\u00a0<lucaa1>\u00a0well in any case, if it reproduces on trunk, it  \n18:52\u00a0<lucaa1>\u00a0it's not 3.0, it's 3.1M1  \n18:58\u00a0<lucaa1>\u00a0also, I think it might have affected the 3.0 snapshot at one point, but was fixed by reverting my commit  \n18:58\u00a0<lucaa1>\u00a0(that also made the tests fail)  \n18:58\u00a0<lucaa1>\u00a0before 3.0  \n18:59\u00a0<@cjdelisle>\u00a0ok that might have been it  \n18:59\u00a0<lucaa1>\u00a0so, I will close it as cannot reproduce, since it cannot be reproduced on 3.0  \n18:59\u00a0<@cjdelisle>\u00a0ok  \n19:02\u00a0<jvdrean2>\u00a0has quit  \n19:22\u00a0<Chami>\u00a0has joined #xwiki  \n19:23\u00a0<Chami>\u00a0sdumitriu: hi  \n19:33\u00a0<lucaa1>\u00a0has quit  \n19:33\u00a0<arkub>\u00a0has quit  \n19:45\u00a0<mflorea>\u00a0has quit  \n20:23\u00a0<@sdumitriu>\u00a0Hi Chami  \n20:24\u00a0<Chami>\u00a0sdumitriu: I managed to set up some break points using eclipse and check the issue  \n20:25\u00a0<Chami>\u00a0sdumitriu: when we type \"C++\" search method's keywords arguement receives it as \"C \u00a0\"  \n20:25\u00a0<Chami>\u00a0has quit  \n20:26\u00a0<Chami>\u00a0has joined #xwiki  \n20:26\u00a0<Chami>\u00a0sdumitriu: sorry disconnected  \n20:27\u00a0<@sdumitriu>\u00a0So, where does that argument come from?  \n20:27\u00a0<@sdumitriu>\u00a0You have to go up the stacktrace and trace that value  \n20:27\u00a0<Chami>\u00a0sdumitriu: how can we find it  \n20:28\u00a0<Chami>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-server/src/main/java/org/xwiki/rest/resources/wikis/WikiSearchResource.java  \n20:28\u00a0<Chami>\u00a0break point added to this class  \n20:28\u00a0<Chami>\u00a0this class receives search keyword as \"C \u00a0\"  \n20:29\u00a0<Chami>\u00a0so search keyword converted before this class is called  \n20:31\u00a0<Chami>\u00a0sdumitriu: sorry I don't know how to use stacktrace  \n20:38\u00a0<@sdumitriu>\u00a0OK, I started the debugger myself  \n20:39\u00a0<@sdumitriu>\u00a0So, when you start the debugger, and you try to search, Eclipse should stop and switch to the debug perspective  \n20:39\u00a0<@sdumitriu>\u00a0Then, in the top left area should be a list of threads  \n20:41\u00a0<@sdumitriu>\u00a0And one of the threads should be highlighted, with a list of method names beneath it  \n20:41\u00a0<@sdumitriu>\u00a0Looking like:  \n20:41\u00a0<@sdumitriu>\u00a0WikiSearchResource.search(String, String, List<String>, Integer) line: 48   \n20:41\u00a0<@sdumitriu>\u00a0NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]   \n20:41\u00a0<@sdumitriu>\u00a0NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39   \n20:41\u00a0<@sdumitriu>\u00a0...  \n20:41\u00a0<@sdumitriu>\u00a0That is the stack trace  \n20:42\u00a0<@sdumitriu>\u00a0And allows you to see which methods were invoked recursively until the current point was reached  \n20:43\u00a0<Chami>\u00a0yep  \n20:43\u00a0<Chami>\u00a0I got it  \n20:44\u00a0<@sdumitriu>\u00a0You should skip the native classes (NativeMethodAccessorImpl, Method)  \n20:44\u00a0<@sdumitriu>\u00a0ResourceMethod(AbstractMethodWrapper).internalInvoke(ResourceObject) line: 164 is interesting  \n20:44\u00a0<@sdumitriu>\u00a0Here the argument is already \"C \u00a0\"  \n20:46\u00a0<Chami>\u00a0sdumitriu: is there any way to search where \"C++\" is in  \n21:16\u00a0<barbadosas>\u00a0has quit  \n21:19\u00a0<lpereira>\u00a0has joined #xwiki  \n21:45\u00a0<JSeymour>\u00a0cjdelisle: The doc mentions WEB-INF/hibernate.cfg.xml, but I have two of them: One under .../generated/xml/... and another under .../applications/... \u00a0Which do I need to edit?  \n21:46\u00a0<@cjdelisle>\u00a0did you download and install a .war file?  \n21:46\u00a0<JSeymour>\u00a0Yes  \n21:46\u00a0<@cjdelisle>\u00a0you have to unzip the file (it's really a .zip file)  \n21:47\u00a0<@cjdelisle>\u00a0inside of that there is WEB-INF/hibernate  \n21:47\u00a0<JSeymour>\u00a0Glassfish did that during the install. \u00a0I have the files  \n21:47\u00a0<JSeymour>\u00a0But there are two of them. \u00a0Identical.  \n21:48\u00a0<JSeymour>\u00a0$ /usr/local/share/glassfish/>find . -name hibernate.cfg.xml -print  \n21:48\u00a0<JSeymour>\u00a0./domains/domain1/generated/xml/j2ee-modules/xwiki-enterprise-web-2.7.1/WEB-INF/hibernate.cfg.xml  \n21:48\u00a0<JSeymour>\u00a0./domains/domain1/applications/j2ee-modules/xwiki-enterprise-web-2.7.1/WEB-INF/hibernate.cfg.xml  \n21:48\u00a0<@cjdelisle>\u00a0Then I really don't know, that's a question about how glassfish works.  \n21:48\u00a0<@cjdelisle>\u00a0If it were me, I'd try /applications/ then see what happens.  \n21:48\u00a0<JSeymour>\u00a0Ah. \u00a0I'll just do each, then. \u00a0How do I get XWiki to see the change?  \n21:48\u00a0<@cjdelisle>\u00a0you can always set it back.  \n21:48\u00a0<JSeymour>\u00a0\\*nod\\*  \n21:49\u00a0<@cjdelisle>\u00a0xwiki should look at the file when it first starts up  \n21:49\u00a0<@cjdelisle>\u00a0so you will need to restart the container.  \n21:50\u00a0<JSeymour>\u00a0Dontja just love n00bs? :)  \n21:51\u00a0<@cjdelisle>\u00a0ahh, you're no problem. I get annoyed when people want the commands fed to them  \n21:51\u00a0<@cjdelisle>\u00a0type...  \n21:51\u00a0<JSeymour>\u00a0D'ya suppose \"Disable\" then \"Enable\" restarts the container?  \n21:51\u00a0<@cjdelisle>\u00a0echo 'reboot' > /etc/rc.local  \n21:52\u00a0<@cjdelisle>\u00a0sounds right  \n21:52\u00a0<JSeymour>\u00a0lol  \n21:52\u00a0<@cjdelisle>\u00a0yea it's kind of odd  \n21:52\u00a0<JSeymour>\u00a0@reboot comment  \n21:52\u00a0<@cjdelisle>\u00a0hehe  \n21:53\u00a0<JSeymour>\u00a0I still have the exception, so I'll try it w/the other file  \n21:57\u00a0<JSeymour>\u00a0\"The requested service is not currently available\" kind of implies that \"Disable\" stops it, I should think?  \n21:58\u00a0<JSeymour>\u00a0Hmph. \u00a0Still getting that same exception. \u00a0To the Cloud! \u00a0er... logs...  \n21:58\u00a0<abusenius>\u00a0has joined #xwiki  \n21:58\u00a0<@cjdelisle>\u00a0maybe /etc/init.d/glassfish restart?  \n21:59\u00a0<JSeymour>\u00a0I don't actually have the init.d script in place yet. \u00a0Oddly enough: They don't include one. \u00a0You have to roll your own.  \n21:59\u00a0<JSeymour>\u00a0Sun did some odd things for a \"unix company,\" sometimes.  \n22:01\u00a0<@cjdelisle>\u00a0Sun was big on solaris  \n22:01\u00a0<@cjdelisle>\u00a0they probably have all kinds of support for that stack  \n22:02\u00a0<JSeymour>\u00a0That's what I'm running  \n22:03\u00a0<JSeymour>\u00a0Seems odd to have to stop the entire app server just to restart one app.  \n22:04\u00a0<@cjdelisle>\u00a0I've been wishing for years that they would fix java so it did shared libraries better  \n22:05\u00a0<@cjdelisle>\u00a0java shared hosting doesn't exist because every vm eats up 500M of memory  \n22:05\u00a0<JSeymour>\u00a0Well, it's still trying to use the HSDB (?) driver, so I guess I'll try restarting GF.  \n22:06\u00a0<@cjdelisle>\u00a0are you using mysql?  \n22:06\u00a0<JSeymour>\u00a0pgsql  \n22:06\u00a0<@cjdelisle>\u00a0good man  \n22:06\u00a0<@cjdelisle>\u00a0did you drop the jdbc driver into the /lib/ dir?  \n22:07\u00a0<@cjdelisle>\u00a0which one... idk  \n22:07\u00a0<JSeymour>\u00a0It's symlinked into the JDK dir  \n22:07\u00a0<@cjdelisle>\u00a0ok, you'll see a \"could not load class\" exception if that's the issue  \n22:07\u00a0<JSeymour>\u00a0\\*nod\\*  \n22:08\u00a0<JSeymour>\u00a0It's Java 5, btw. \u00a0Latest I can run on this Sparc Sol8 box.  \n22:09\u00a0<@cjdelisle>\u00a0haha we supported java5 until today so everything should still work  \n22:09\u00a0<JSeymour>\u00a0:)  \n22:10\u00a0<JSeymour>\u00a0I chose the bits I chose \\*because\\* they supported the stuff I had or wanted.  \n22:10\u00a0<JSeymour>\u00a0And because of the pretty colours on their home pages :)  \n22:12\u00a0<@cjdelisle>\u00a0Yea, I'm not a UI guy but the UI people are forever amazing me.  \n22:12\u00a0<JSeymour>\u00a0I \\*can\\* do UI stuff, but I'm not very good, or very fast, at it.  \n22:13\u00a0<Chami>\u00a0has quit  \n22:14\u00a0<JSeymour>\u00a0After this restart, it still may not work, but it should be not working in new and wonderous ways  \n22:18\u00a0<JSeymour>\u00a0Getting closer: Cannot load JDBC driver class 'org.postgresql.Driver' at...  \n22:18\u00a0<barbadosas>\u00a0has joined #xwiki  \n22:18\u00a0<barbadosas>\u00a0sdumitriu: sorry to bother you again. the issues that i had with JS, can it be because the code is calling a swf to appear?  \n22:19\u00a0<barbadosas>\u00a0can it have some error with xwiki  \n22:19\u00a0<barbadosas>\u00a0?  \n22:24\u00a0<JSeymour>\u00a0wtf?  \n22:24\u00a0<JSeymour>\u00a0Grrr...  \n22:27\u00a0<JSeymour>\u00a0I lied. \u00a0I'd neglected the symlink I earlier said I'd done.  \n22:28\u00a0<@cjdelisle>\u00a0but are you to the point of \"failed to load class\"?  \n22:28\u00a0<Chami>\u00a0has joined #xwiki  \n22:28\u00a0<Chami>\u00a0has left #xwiki  \n22:30\u00a0<JSeymour>\u00a0Yeah  \n22:30\u00a0<@cjdelisle>\u00a0cool then once you have the jdbc you should be running  \n22:35\u00a0<JSeymour>\u00a0Still no joy. \u00a0Wonder what it didn't like now?  \n22:37\u00a0<JSeymour>\u00a0Closer: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user \"xwiki\") at \u00a0:)  \n22:38\u00a0<@cjdelisle>\u00a0what's your permissions conf look likre  \n22:38\u00a0<@cjdelisle>\u00a0?  \n22:38\u00a0<@cjdelisle>\u00a0if you set local to trust then everything works great :/  \n22:39\u00a0<JSeymour>\u00a0Except GF is currently running as me, and, no, I don't do local trust.  \n22:39\u00a0<JSeymour>\u00a0I'm a paranoid SOB ;)  \n22:39\u00a0<@cjdelisle>\u00a0for production, you're smart  \n22:39\u00a0<@cjdelisle>\u00a0\"running as me\"  \n22:40\u00a0<@cjdelisle>\u00a0firefox \u00a014487 10.1 \u00a05.1 1336664 848632 ? \u00a0\u00a0\u00a0\u00a0\u00a0Sl \u00a0\u00a0May16 210:55 /home/firefox/firefox/firefox-bin  \n22:40\u00a0<@cjdelisle>\u00a0(ps -aux)  \n22:41\u00a0<@cjdelisle>\u00a0it's a tcp connection so it'll be different than the psql socket connection where it can use ident  \n22:41\u00a0<JSeymour>\u00a0\\*sigh\\* Got two letters xposed in the pw :/  \n22:43\u00a0<JSeymour>\u00a0Yeah, I'm currently running GF as \"me.\" \u00a0Makes it easier to move things around, make changes, etc. during this familiarization phase. \u00a0As soon as I make a certain amount of progress, I'll create GF-specific UID/GID and run it that way.  \n22:44\u00a0<JSeymour>\u00a0It's on an inside server on a trusted LAN and nobody knows it's there, so it's pretty safe :)  \n22:44\u00a0<@cjdelisle>\u00a0yea, my security is silly. root password is password but su and sudo is only available to my user, most internet apps run as their own users etc.  \n22:46\u00a0<JSeymour>\u00a0The only differences between my network at home, the one at work and our Internet presence is degree. \u00a0Mostly I practice the same security everywhere.  \n22:46\u00a0<JSeymour>\u00a0I'm pretty much anally retentive about network security :p  \n22:46\u00a0<@cjdelisle>\u00a0I'm also setting up a vps on my desktop to irc from :)  \n22:47\u00a0<@cjdelisle>\u00a0that's so I can irc from a no default route box  \n22:47\u00a0<JSeymour>\u00a0Interesting  \n22:48\u00a0<JSeymour>\u00a0Lessee what it does now...  \n22:49\u00a0<JSeymour>\u00a0It might actually be doing something, cuz the server load is high and staying high. \u00a0(This is a relatively old server, and not very fast by today's standards. \u00a0Downright slow, in fact.)  \n22:49\u00a0<JSeymour>\u00a0IT'S AH-LIVE! \\o/  \n22:50\u00a0<JSeymour>\u00a0Notice: The requested document could not be found. \u00a0You can edit this page to create it.  \n22:50\u00a0<JSeymour>\u00a0:)  \n22:50\u00a0<@cjdelisle>\u00a0nice, now you just click upper left dropdown menu [administor] (you need to un-noscript it to get the dropdown menus)  \n22:50\u00a0<@cjdelisle>\u00a0then you can import the .xar file into the database and get the pretty colors and all that  \n22:51\u00a0<JSeymour>\u00a0Prolly need to log in, first?  \n22:51\u00a0<@cjdelisle>\u00a0nope, noone to login as yet  \n22:51\u00a0<@cjdelisle>\u00a0there are no users  \n22:51\u00a0<JSeymour>\u00a0Ah  \n22:51\u00a0<@cjdelisle>\u00a0bootstrap stuff requires that guest has admin permission until it is denied by inserting the default pages  \n22:51\u00a0<JSeymour>\u00a02nd from left menu  \n22:52\u00a0<@cjdelisle>\u00a0it would be \"administor wiki\"  \n22:52\u00a0<JSeymour>\u00a0It gave me the \"import/upload\" dialog, so I guess that was it  \n22:52\u00a0<vmassol>\u00a0has quit  \n22:53\u00a0<JSeymour>\u00a0I guess it's done?  \n22:53\u00a0<@cjdelisle>\u00a0yes, just import the pages and then the import creates the admin user and bans the guest from doing things like importing  \n22:55\u00a0<JSeymour>\u00a0Working...  \n22:56\u00a0<Denis>\u00a0has quit  \n22:58\u00a0<JSeymour>\u00a0Import succeessful, looks like...  \n22:59\u00a0<barbadosas>\u00a0has quit  \n22:59\u00a0<@cjdelisle>\u00a0now you have to login in order to edit anything. \u00a0Admin:admin  \n22:59\u00a0<JSeymour>\u00a0\\*nod\\*  \n23:00\u00a0<JSeymour>\u00a0Oh look: Pretty colours :)  \n23:01\u00a0<JSeymour>\u00a0We have success! \u00a0Thanks for the bit of hand-holding, cj :)  \n23:01\u00a0<@cjdelisle>\u00a0no pb  \n23:02\u00a0<JSeymour>\u00a0Quick Q: This thing will support multiple blogs, I assume?  \n23:02\u00a0<@cjdelisle>\u00a0I don't actually know  \n23:02\u00a0<@cjdelisle>\u00a0sdumitriu: multiple blogs in one wiki, supported?  \n23:20\u00a0<JSeymour>\u00a0Google sez: Yes?  \n23:21\u00a0<JSeymour>\u00a0But it's best done with XWiki Workspaces, rather than XWiki Enterprise  \n23:22\u00a0<@cjdelisle>\u00a0Workspaces is EOL'd but if it works then it works.  \n23:22\u00a0<JSeymour>\u00a0Really rather not \\*start\\* w/something that's already EOL'd  \n23:24\u00a0<@cjdelisle>\u00a0Workspaces is an alternative to Enterprise which is what you have installed. What I'm saying is if Blog can do multiple blogs in Workspaces then it can do multiple blogs in Enterprise.  \n23:24\u00a0<JSeymour>\u00a0\\*nod\\*  \n23:25\u00a0<JSeymour>\u00a0This thread is three years old. \u00a0I hate it when that happens.  \n23:25\u00a0<@sdumitriu>\u00a0cjdelisle: Multiple blogs, Yes  \n23:26\u00a0<JSeymour>\u00a0There he is :)  \n23:26\u00a0<@sdumitriu>\u00a0Workspaces: Big NO-NO  \n23:26\u00a0<JSeymour>\u00a0\\*nod\\*  \n23:26\u00a0<@cjdelisle>\u00a0Workspaces is EOL'd like DOS is EOL'd not like java5 ;)  \n23:26\u00a0<JSeymour>\u00a0lol  \n23:27\u00a0<JSeymour>\u00a0Is there some magic I gotta invoke to get multiple blogs?  \n23:28\u00a0<@sdumitriu>\u00a0JSeymour: This might help: /xwiki/bin/view/Blog/Management  \n23:28\u00a0<JSeymour>\u00a0It's in the built-in help?  \n23:29\u00a0<JSeymour>\u00a0(Wherever that went to...)  \n23:30\u00a0<JSeymour>\u00a0Ah  \n23:30\u00a0<JSeymour>\u00a0\"somebody\" logs back off...  \n23:31\u00a0<JSeymour>\u00a0Y'all may find this hard to believe, but I've a \\*lot\\* to learn :p  \n23:31\u00a0<@sdumitriu>\u00a0That's supposed to be part of the URL  \n23:31\u00a0<@sdumitriu>\u00a0Prepend the hostname of your wiki  \n23:31\u00a0<JSeymour>\u00a0Yeah, I figured that out :)  \n23:31\u00a0<@sdumitriu>\u00a0/xwiki/bin/view/Blog/Management  \n23:32\u00a0<JSeymour>\u00a0That's why I had to log out. \u00a0I was logged-in as user \"somebody\" (test user I created). \u00a0I appended \"Management\" to where I was and got told \"You can't do this.\"  \n23:36\u00a0<JSeymour>\u00a0sdumitriu: Ah, I see it. \u00a0Thanks. \u00a0I'll have to read up (ISTR an \"admin guide\" or such-like, somewhere) to find out what a \"Space\" is, but the rest seems pretty straight-forward. \u00a0BICBW ;)  \n23:39\u00a0<lpereira>\u00a0has quit  \n23:39\u00a0<@sdumitriu>\u00a0http://platform.xwiki.org/xwiki/bin/view/Features/Spaces  \n23:40\u00a0<JSeymour>\u00a0Tnx, sd  \n23:40\u00a0<JSeymour>\u00a0\"Directory\" :)  \n23:41\u00a0<JSeymour>\u00a0I'm liking this, so far.  \n23:49\u00a0<+sburjan`>\u00a0http://www.xwiki.org/xwiki/bin/view/Main/%26%2327979%3B%26%2335797%3B%26%2320013%3B%26%2325991%3B%26%2323383%3B%26%2331526%3B2  \n23:50\u00a0<+sburjan`>\u00a0this should be deleted  \n23:51\u00a0<@cjdelisle>\u00a0is it a script?  \n23:51\u00a0<+sburjan`>\u00a0it seems to be created by a user who was deleted  \n23:52\u00a0<@cjdelisle>\u00a0just extended characters  \n23:52\u00a0<@cjdelisle>\u00a0it looked like an XSS attempt  \n23:52\u00a0<+sburjan`>\u00a0possibly  \n23:53\u00a0<@cjdelisle>\u00a0binned  \n23:54\u00a0<@cjdelisle>\u00a0and it was not an XSS attempt, I don't think anything like that works since a long time ago anyway  \n23:55\u00a0<+sburjan`>\u00a0http://www.xwiki.org/xwiki/bin/view/XWiki/444307267  \n23:55\u00a0<+sburjan`>\u00a0stil don't understand  \n23:55\u00a0<+sburjan`>\u00a0might this number from the URL be the UTF-8 Unicode of some chinese chars ?  \n23:56\u00a0<+sburjan`>\u00a0Profile of &#29579; &#26195;&#38451;  \n23:56\u00a0<+sburjan`>\u00a0looks like ASCII form  \n23:59\u00a0<+Enygma`>\u00a0this is odd... it seems that the object editor considers that all the classes properties are deprecated (removed) if the class of an object is from another wiki.  \n\n"}