{"id": "dev:IRC.xwikiArchive20110831", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110831", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:03\u00a0<RenJuan>\u00a0I think I hate groovy which is unfortunate since I'll have to use it.  \n00:14\u00a0<RenJuan>\u00a0hate was maybe a little strong, more like despise  \n00:44\u00a0<cjdelisl1>\u00a0has quit  \n00:44\u00a0<SvenDowideit>\u00a0has quit  \n00:51\u00a0<pturcotte>\u00a0has joined #xwiki  \n00:54\u00a0<cjdelisl1>\u00a0has joined #xwiki  \n00:54\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n01:03\u00a0<cjdelisl1>\u00a0has quit  \n01:03\u00a0<SvenDowideit>\u00a0has quit  \n01:05\u00a0<cjdelisl1>\u00a0has joined #xwiki  \n01:05\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n01:05\u00a0<sburjan`>\u00a0has quit  \n03:06\u00a0<DrLou>\u00a0has quit  \n03:09\u00a0<DrLou>\u00a0has joined #xwiki  \n03:21\u00a0<DrLou>\u00a0has quit  \n05:03\u00a0<@sdumitriu>\u00a0Hey RenJuan  \n05:03\u00a0<@sdumitriu>\u00a0Groovy is very groovy  \n05:04\u00a0<@sdumitriu>\u00a0But it takes some time to get used to it and discover its features  \n05:08\u00a0<sdumitriu>\u00a0has quit  \n05:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:48\u00a0<cjdelisl1>\u00a0http://www.akkadia.org/drepper/cpumemory.pdf  \n07:01\u00a0<Denis1>\u00a0has joined #xwiki  \n07:01\u00a0<sdumitriu>\u00a0has quit  \n07:02\u00a0<sdumitriu>\u00a0has joined #xwiki  \n07:03\u00a0<Denis>\u00a0has quit  \n07:45\u00a0<sdumitriu>\u00a0has quit  \n08:34\u00a0<mflorea>\u00a0has joined #xwiki  \n08:36\u00a0<vmassol>\u00a0has joined #xwiki  \n08:49\u00a0<+mflorea>\u00a0cjdelisl1: how do you check if a given document (not the current one) has programming rights? I see that $someDoc.hasProgrammingRights() is checking the context document, not someDoc.  \n08:50\u00a0<+mflorea>\u00a0ok, I see there is a method in the XWikiRightsService which takes the document as parameter.  \n09:33\u00a0<arkub>\u00a0has joined #xwiki  \n09:45\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:52\u00a0<evalica>\u00a0has joined #xwiki  \n09:59\u00a0<Denis1>\u00a0is now known as <Denis>  \n10:00\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:18\u00a0<pturcotte>\u00a0has quit  \n10:19\u00a0<pturcotte>\u00a0has joined #xwiki  \n10:29\u00a0<kwoot>\u00a0has joined #xwiki  \n10:29\u00a0<kwoot>\u00a0\u00a0/msg NickServ identify geheim  \n10:31\u00a0<kwoot>\u00a0think I found a small bug: in the dutch version of viewing the history of an attachment (page: xwiki/bin/viewattachrev/Projecten/20110830\\_EVS\\_stap1/4c-FrontendHTML.png) it says \"De beschikbare versies van het bestand'$ attachment.filename' zijn:\". Me thinks the space should be moved. But how can I edit this page?  \n10:35\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:50\u00a0<jvdrean>\u00a0has quit  \n10:58\u00a0<vmassol>\u00a0has quit  \n10:59\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:00\u00a0<vmassol>\u00a0has joined #xwiki  \n11:13\u00a0<kwoot>\u00a0so where can I find the translated dutch language strings in an xwiki installation? are they in some lib or jar?  \n11:15\u00a0<vmassol>\u00a0kwoot: on http://l10n.xwiki.org  \n11:15\u00a0<vmassol>\u00a0sorry you mean in your download....  \n11:16\u00a0<vmassol>\u00a0it's in the xwiki-\\*-oldcore\\*.jar file in WEB-INF/lib  \n11:16\u00a0<vmassol>\u00a0in /ApplicationResources\\_\\*.properties  \n11:16\u00a0<vmassol>\u00a0see here:  \n11:17\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/InternationalizingApplications  \n11:17\u00a0<cjdelisl1>\u00a0You can change it for yourself by opening up \\*-oldcore\\*.jar, you can change it for everyone (in the next release) by going to l10n.xwiki.org and you might consider changing your nickserv password since this channel is logged.  \n11:17\u00a0<vmassol>\u00a0cjdelisl1: a better idea is to modify them in the wiki IMO  \n11:18\u00a0<vmassol>\u00a0(rather than editing the properties file)  \n11:18\u00a0<vmassol>\u00a0but yes the best by far is contributing in l10n.xwiki.org  \n11:19\u00a0<kwoot>\u00a0damn, password shown. damn, damn, damn. :-)  \n11:21\u00a0<kwoot>\u00a0ok. changed in i10n.  \n11:21\u00a0<vmassol>\u00a0great  \n11:21\u00a0<vmassol>\u00a0it'll be in the next release  \n11:22\u00a0<vmassol>\u00a0tmortagne: is there a cache on l10n because I don't see kwoot's change on the home page?  \n11:23\u00a0<vmassol>\u00a0kwoot: what's your name btw?  \n11:23\u00a0<+tmortagne>\u00a0vmassol: there is a cache but it's cleaned when any modification is done  \n11:24\u00a0<vmassol>\u00a0kwoot: are you sure you saved your change because I don't see it on the home page of l10n? tmortagne, any idea?  \n11:24\u00a0<vmassol>\u00a0checking AS  \n11:24\u00a0<kwoot>\u00a0Now it shows correctly at: http://l10n.xwiki.org/xwiki/bin/view/XE/XEXWikiCoreResources\\_51534983\\_availableversionsattachment\\_nl  \n11:25\u00a0<kwoot>\u00a0My IRL name is Jeroen Baten  \n11:25\u00a0<+mflorea>\u00a0guys, do you know the reason why $someDoc.hasProgrammingRights() checks the current doc instead of someDoc (the problem is in Api#hasProgrammingRights). There is a method in XWikiRightsService that takes the doc as parameter but it's not used.. What's insane is that I need PR to check if a specific doc (not the current one) needs PR..  \n11:25\u00a0<vmassol>\u00a0indeed so it's an issue with l10n, something for tmortagne ;)  \n11:26\u00a0<vmassol>\u00a0btw tmortagne any idea why we can't filter in the LT of the home page, that's strange?  \n11:26\u00a0<+tmortagne>\u00a0no time for this right now, maybe someone put a rendering cache on home page  \n11:26\u00a0<vmassol>\u00a0hecking  \n11:27\u00a0<vmassol>\u00a0the wiki is very slow too  \n11:29\u00a0<kwoot>\u00a0irc password has been changed :-)  \n11:29\u00a0<+tmortagne>\u00a0that's because the cache has been reinitialized after the modification  \n11:29\u00a0<+Denis>\u00a0mflorea: Hi, do you remember the WYSIWYG issue for which I sent to you some samples (in june if I well remember), I found today a similar issue, but it was event weird since the corrupted content also contains the text of a Blog article, and some image buttons from a Blog interface (edit, delete this article), but in XWiki syntax!  \n11:30\u00a0<vmassol>\u00a0ok no time to check more either but someone will need to fix something at some point  \n11:30\u00a0<+mflorea>\u00a0Denis: I remember vaguely the problem  \n11:32\u00a0<+Denis>\u00a0mflorea: any clue on how we could investigate that further ?  \n11:33\u00a0<RenJuan>\u00a0sdmitriu, (should you read the log) yeah, Roo and Grails gave me the smiley face.  \n11:34\u00a0<+mflorea>\u00a0Denis: no, and unfortunately I'm very busy right now.. :(  \n11:37\u00a0<cjdelisl1>\u00a0There seems to be something wrong with the build. When I try to build with the synchronized changes, the new build doesn't make it to enterprise.  \n11:37\u00a0<cjdelisl1>\u00a0I checked the versions of the jars and they are significantly older than the latest versions.  \n11:38\u00a0<cjdelisl1>\u00a0rm -rf'ing ~/.m2/repository/\\* doesn't help, old versions are re-downloaded.  \n11:43\u00a0<cjdelisl1>\u00a0I tried setting nexus.xwiki.org to 127.0.0.1 in my hosts file but there seems to be an (apparently unrelated) problem building xwiki-commons-xml, it can't find net.sourceforge.htmlcleaner:htmlcleaner:jar:2.1 and if I'm not mistaken, xwiki should build without nexus running.  \n11:45\u00a0<jvelociter>\u00a0has joined #xwiki  \n12:08\u00a0<+Denis>\u00a0mflorea: un post sur xpage=wysiwyginput \u00e7a repr\u00e9sente quoi ?  \n12:09\u00a0<+Denis>\u00a0mflorea: a post on xpage=wysiwyginput, it means what exactly ?  \n12:16\u00a0<+mflorea>\u00a0Denis: wysiwyginput.vm is the template used for the WYSIWYG editor content. When you edit the content of a page or an object property a plain HTML text area is generated, which contains the wiki syntax. The WYSIWYG editor makes a request with xpage=wysiwyginput to convert the wiki syntax taken from the plain text area to HTML. The same request is also made when you switch from Source tab to WYSIWYG tab.  \n12:17\u00a0<+Denis>\u00a0ok  \n12:17\u00a0<+mflorea>\u00a0and the same request (with different params) is made when you refresh the macros (from the Macro menu)  \n12:17\u00a0<+Denis>\u00a0I have track the log, and the user seems to have never save the corrupted document, only edit, preview and cancel  \n12:18\u00a0<+Denis>\u00a0the only post are for the above and the preview  \n12:18\u00a0<+mflorea>\u00a0but they don't save the content  \n12:19\u00a0<+Denis>\u00a0she have also edited inline and cancel the Blog article just before editing the corrupted document  \n12:20\u00a0<+Denis>\u00a0I still have to speak with her to understand their intend and what she have seen  \n12:20\u00a0<+mflorea>\u00a0I see, but since a different page was loaded, I don't see how the blog post edit/cancel could have interfere with the wiki page editing  \n12:22\u00a0<+Denis>\u00a0sure, maybe she have copy/paste it  \n12:23\u00a0<+Denis>\u00a0but the most mysterious is that I do not see any save action  \n12:24\u00a0<+Denis>\u00a0and that again what have been saved contains WYSIWYG placeholders  \n12:24\u00a0<+mflorea>\u00a0wait, afaik the edit form is submitted to preview action, and there is a servlet filter which check the action\\_ request param and forwards/redirects to the proper action  \n12:25\u00a0<+mflorea>\u00a0c.x.x.web.ActionFilter  \n12:26\u00a0<+mflorea>\u00a0and it forwards the request (so server side)  \n12:27\u00a0<+mflorea>\u00a0so I think that's why you don't see the post to save action  \n12:28\u00a0<+Denis>\u00a0but I have a preview followed by a cancel  \n12:28\u00a0<+Denis>\u00a0the cancel is ajax=1 however  \n12:30\u00a0<+mflorea>\u00a0when I click Save & Continue from within WYSIWYG I see a POST http://localhost:8080/xwiki/bin/preview/Sandbox/FF in the FB console  \n12:30\u00a0<+mflorea>\u00a0so maybe your user did a Save & Continue and then a Cancel  \n12:30\u00a0<+Denis>\u00a0mmm  \n12:31\u00a0<+Denis>\u00a0what previous has to do with save ?  \n12:33\u00a0<+mflorea>\u00a0the main reason is that the edit form needs to work with JS disabled, so we can't change the form action based on the button being clicked. The solution was to use the same URL/action for all buttons, and use a servlet filter to forward the request to the proper xwiki action based on the buttons that was clicked  \n12:33\u00a0<+mflorea>\u00a0form buttons have action\\_\\* name  \n12:34\u00a0<+Denis>\u00a0something I cannot check in the logs, this seems to me really an issue in itself  \n12:34\u00a0<+mflorea>\u00a0and ActionFilter checks which buttons was clicked (i.e. which action\\_XYZ param is present on the request) and forwards the request to te appropriate action  \n12:35\u00a0<+mflorea>\u00a0yes, the request forward is done server side, by the servlet container  \n12:35\u00a0<+mflorea>\u00a0it won't appear in the logs  \n12:36\u00a0<+Denis>\u00a0yes this is why I say it is a issue: not being able to track a save action in the log  \n12:40\u00a0<+Denis>\u00a0so we could imagine that she have pasted some html from the Blog article (with some interface), which have been converted back to XWiki syntax \u00a0on save ?  \n12:41\u00a0<+mflorea>\u00a0yes, it's possible  \n12:44\u00a0<+Denis>\u00a0this still does not explains why we get some org.xwiki.gwt.dom.client.Element#placeholder' saved as well  \n12:45\u00a0<+Denis>\u00a0but there is a clue, pasting some html  \n12:46\u00a0<+Denis>\u00a0mflorea: I propose to open a JIRA with these ideas, WDYT ?  \n12:46\u00a0<+Denis>\u00a0(so you can check this when you have more time)  \n12:59\u00a0<+mflorea>\u00a0Denis: go ahead, but note that I won't have time too soon, I'm busy with http://dev.xwiki.org/xwiki/bin/view/Design/ApplicationWithinMinutes  \n13:04\u00a0<+Denis>\u00a0ok, I will do so when I have the story from the end user  \n13:24\u00a0<mflorea>\u00a0has quit  \n13:27\u00a0<DrLou>\u00a0has joined #xwiki  \n13:54\u00a0<+jvelociter>\u00a0I guys. Can you take some time and vote on the mail named \"[VOTE] New bridge APIs\" ? I would like to close it soon if possible  \n13:54\u00a0<+jvelociter>\u00a0thanks in advance  \n14:01\u00a0<pturcotte>\u00a0has quit  \n14:11\u00a0<lucaa>\u00a0has joined #xwiki  \n14:11\u00a0<kwoot>\u00a0has quit  \n14:12\u00a0<cjdelisl1>\u00a0vmassol: It looks like we have a problem with publishing commons to central, we are using htmlcleaner v2.1 and the only version in central is 2.2. I can have a quick look at the code and see if it looks like upgrading is going to be an issue.  \n14:12\u00a0<cjdelisl1>\u00a0http://mvnrepository.com/artifact/net.sourceforge.htmlcleaner/htmlcleaner  \n14:12\u00a0<vmassol>\u00a0cjdelisl1: otp now but using the latest is good  \n14:12\u00a0<vmassol>\u00a0you can check with tmortagne too who knows well this  \n14:13\u00a0<+tmortagne>\u00a0not htmlcleaner actually  \n14:13\u00a0<+tmortagne>\u00a0that's the only part I don't know well in rendering in general I think :)  \n14:13\u00a0<mflorea>\u00a0has joined #xwiki  \n14:13\u00a0<cjdelisl1>\u00a0heh, I'm looking at it now, it doesn't look like there's much to worry about  \n14:14\u00a0<+tmortagne>\u00a0it's painful when they remove stuff from central...  \n14:14\u00a0<+tmortagne>\u00a0not the first time it happen  \n14:15\u00a0<cjdelisl1>\u00a0ahh I see  \n14:16\u00a0<cjdelisl1>\u00a0I need to learn these commons apis better so I don't accidently reinvent them  \n14:31\u00a0<pturcotte>\u00a0has joined #xwiki  \n14:39\u00a0<vmassol>\u00a0tmortagne: it's frobidden to remove anythng from central  \n14:39\u00a0<vmassol>\u00a0I'm surprised it happened because it's really some strong rule  \n14:39\u00a0<+tmortagne>\u00a0vmassol: maybe but I still remember we already had this issue with other dependencies  \n14:40\u00a0<vmassol>\u00a0I don't remember  \n14:40\u00a0<vmassol>\u00a0checking  \n14:41\u00a0<vmassol>\u00a0but cool they have a 2.2  \n14:41\u00a0<vmassol>\u00a0cjdelisl1: our unit tests should be good enough to make the upgrade smooth  \n14:41\u00a0<vmassol>\u00a0I'm actually surprised we're not using 2.2 since it's been out since dec 2010  \n14:42\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XRENDERING-46  \n14:48\u00a0<vmassol>\u00a0cjdelisl1: are you sure htmlcleaner was on central before?  \n14:49\u00a0<vmassol>\u00a0I see we have all versions in our externals repo: http://maven.xwiki.org/externals/net/sourceforge/htmlcleaner/htmlcleaner/  \n14:50\u00a0<cjdelisl1>\u00a0I don't know, all I know is that I tried to build without nexus and it failed.  \n14:50\u00a0<vmassol>\u00a0ok so it wasn't on central before  \n14:50\u00a0<vmassol>\u00a0and it's never been removed from there  \n14:50\u00a0<vmassol>\u00a0I was surprised since it's a very strong rule and I've never seen it happen  \n14:51\u00a0<vmassol>\u00a0now you're right  \n14:51\u00a0<vmassol>\u00a0that we need to either publish 2.1 on central (easy to do)  \n14:51\u00a0<vmassol>\u00a0or upgrade to 2.2 (would be best unless we consider 2.2 is faulty in which case we should report it to them)  \n14:51\u00a0<vmassol>\u00a0cjdelisl1: xwiki has never built without specifying the xwiki remote repo  \n14:52\u00a0<vmassol>\u00a0\\*repos  \n14:52\u00a0<vmassol>\u00a0we have a lot of externals in our repo  \n14:52\u00a0<cjdelisl1>\u00a0ok then I guess my properties.xml is wrong since the only thing I blocked was nexus.  \n14:52\u00a0<vmassol>\u00a0settings.xml  \n14:52\u00a0<cjdelisl1>\u00a0ahh yes.  \n14:53\u00a0<vmassol>\u00a0nexus is \\*replacing\\* our old defintition  \n14:53\u00a0<vmassol>\u00a0seehttp://dev.xwiki.org/xwiki/bin/view/Community/Building#HInstallingMaven  \n14:53\u00a0<+tmortagne>\u00a0cjdelisl1: nexus is a proxy with several \u00a0repositories behind it  \n14:53\u00a0<vmassol>\u00a0\"To build master after 16 August 2011:\"  \n14:53\u00a0<vmassol>\u00a0and  \n14:53\u00a0<vmassol>\u00a0\"To build XWiki for master before 16 August 2011 or older branches/tags:\"  \n14:53\u00a0<vmassol>\u00a0basically we used to specify 3 remote repos before in our settings.xml  \n14:54\u00a0<vmassol>\u00a0(xwiki externals, xwiki snapshots and xwiki releases\u00e0  \n14:54\u00a0<vmassol>\u00a0and have our remote repos specified in the pom.xml files  \n14:54\u00a0<vmassol>\u00a0while now we specify only 2 repos: nexus releases and nexus snapshjots  \n14:54\u00a0<vmassol>\u00a0and nothing else in our pom.xml  \n14:54\u00a0<vmassol>\u00a0and nexus proxies all remote repos  \n14:54\u00a0<cjdelisl1>\u00a0Ahh. I'll just comment out the snapshots repo to keep trying to understand what's going on with it not picking up new changes.  \n14:55\u00a0<vmassol>\u00a0RenJuan: I don't think anyone did that  \n14:55\u00a0<RenJuan>\u00a0vmassol, acknowledged  \n15:09\u00a0<silviar>\u00a0has joined #xwiki  \n15:15\u00a0<lucaa>\u00a0has quit  \n15:15\u00a0<lucaa>\u00a0has joined #xwiki  \n15:25\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:27\u00a0<jvdrean>\u00a0has quit  \n15:27\u00a0<sdumitriu>\u00a0has quit  \n15:28\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:29\u00a0<jvdrean>\u00a0has joined #xwiki  \n15:38\u00a0<sdumitriu>\u00a0has quit  \n15:40\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:56\u00a0<+mflorea>\u00a0cjdelisl1: how would you drop permissions from Java code? The code is in api.Document, but I don't like creating an api.Document just to be able to call this method. What about changing the contentAuthor temporary (to some value that ensures no programming rigts, e.g. XWiki.XWikiGuest or maybe the empty/null string)?  \n15:56\u00a0<sdumitriu>\u00a0has quit  \n15:58\u00a0<cjdelisl1>\u00a0You're talking about doc.dropPermissions (the new one) as opposed to xcontext.dropPermissions()?  \n15:58\u00a0<+mflorea>\u00a0yes  \n15:59\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:00\u00a0<cjdelisl1>\u00a0It could be static since it has nothing to do with the actual document (that's just the best way I could demonstrate an exaplination)  \n16:00\u00a0<sdumitriu>\u00a0has quit  \n16:00\u00a0<+mflorea>\u00a0static is not good because it couldn't be called from scripts  \n16:00\u00a0<cjdelisl1>\u00a0indeed.  \n16:01\u00a0<+mflorea>\u00a0then, what about the content author change?  \n16:01\u00a0<+mflorea>\u00a0i.e  \n16:02\u00a0<+mflorea>\u00a0doc.setContentAuthor(authorWithoutPR);  \n16:02\u00a0<+mflorea>\u00a0doc.getRenderedContent(...)  \n16:02\u00a0<+mflorea>\u00a0doc.setContentAuthor(previousAuthor);  \n16:02\u00a0<cjdelisl1>\u00a0What it does is get the ExecutionContext and put the value of System.identityHashCode of the execution context in the execution context under the key XWikiConstant.DROPPED\\_PERMISSIONS  \n16:03\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:03\u00a0<cjdelisl1>\u00a0That is a good method since getRenderedContent() should be switching contexts and after that bug is fixed, it will break you if you just call dropPermissions()  \n16:04\u00a0<+mflorea>\u00a0ok, so in my case, since I'm writing java code, it's best to change the user while rendering the content, and then restore it  \n16:04\u00a0<+mflorea>\u00a0note that I can do the same to give PR, i.e. if I want to render with PR in the context of a doc that doesn't have PR  \n16:05\u00a0<+mflorea>\u00a0doc.setContentAuthor(userThatHasPR)  \n16:05\u00a0<cjdelisl1>\u00a0Yup  \n16:05\u00a0<cjdelisl1>\u00a0as long as XWikiContext#dropPermissions() hasn't been called first.  \n16:05\u00a0<+mflorea>\u00a0yes  \n16:06\u00a0<cjdelisl1>\u00a0The only way around that is to remove the key from the XWikiContext  \n16:06\u00a0<cjdelisl1>\u00a0and no known security vulnerabilities can break that.  \n16:06\u00a0<cjdelisl1>\u00a0:)  \n16:06\u00a0<+mflorea>\u00a0the only issue I see is if somewhere on the code that tests for PR the doc is loaded from database/cache instead of using the \"this\" one  \n16:07\u00a0<+mflorea>\u00a0because only the \"this\" one has the contentAuthor changed  \n16:07\u00a0<cjdelisl1>\u00a0hmm indeed  \n16:07\u00a0<cjdelisl1>\u00a0and poisoning the cache is bad  \n16:07\u00a0<+mflorea>\u00a0I've tested and it works, for now  \n16:08\u00a0<cjdelisl1>\u00a0if you control the code you could drop the XWikiContext into the VelocityContext and with that you own everything anyway.  \n16:08\u00a0<+mflorea>\u00a0I don't need the velocity context because I'm doing all the logic in Java  \n16:09\u00a0<cjdelisl1>\u00a0what are you using PR for?  \n16:10\u00a0<sdumitriu>\u00a0has quit  \n16:10\u00a0<+jvelociter>\u00a0sorry I've created a repo in XWiki by mistake  \n16:10\u00a0<+jvelociter>\u00a0(wrong github context)  \n16:10\u00a0<+jvelociter>\u00a0I've deleted it  \n16:11\u00a0<cjdelisl1>\u00a0ooo what was it? :)  \n16:11\u00a0<+mflorea>\u00a0I have to apply a sheet to a document. If the sheet doesn't have PR but the doc has then I have to drop permissions while rendering the sheet. The other use case is when the sheet has PR and the doc doesn't. In this case I'd like to render the sheet with PR in the context of the doc.  \n16:11\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:12\u00a0<+mflorea>\u00a0I'm doing this in a ScriptService/component  \n16:12\u00a0<cjdelisl1>\u00a0Depending on what you need PR for, I would recommend at least taking a look at parseGroovyFromPage which can bypass every form of dropPermissions() even the xcontext one.  \n16:13\u00a0<sdumitriu>\u00a0has quit  \n16:49\u00a0<RenJuan>\u00a0there is this though: http://grails.org/plugin/xwiki-rendering, not a full blown pkg but still  \n16:50\u00a0<RenJuan>\u00a0o i c, it never was actually done  \n16:52\u00a0<vmassol>\u00a0now that you mention it I remember that Luis Arias did something  \n16:52\u00a0<RenJuan>\u00a0wait, it was it's just the link that goes nowhere  \n16:52\u00a0<vmassol>\u00a0it was done  \n16:52\u00a0<RenJuan>\u00a0yeah, I'm looking at it now  \n16:54\u00a0<RenJuan>\u00a0s/it was//  \n16:58\u00a0<cjdelisl1>\u00a0ya know what would be cool would be compiling the rendering engine to javascript with gwt so that we can just throw the page content at the browser and be like: render that  \n17:14\u00a0<RenJuan>\u00a0so yeah it does appear to be a complete i/f, not current with 3.1 or later but that can be addressed  \n17:53\u00a0<evalica>\u00a0has quit  \n17:54\u00a0<vmassol>\u00a0silviar: thanks for the sankore ref ;)  \n17:54\u00a0<vmassol>\u00a0fixing titlerf  \n17:55\u00a0<vmassol>\u00a0hmm  \n17:56\u00a0<Enygma`>\u00a0has quit  \n17:58\u00a0<silviar>\u00a0vmassol: yw  \n17:58\u00a0<vmassol>\u00a0trying to remove dup title  \n17:58\u00a0<vmassol>\u00a0that's hard  \n17:58\u00a0<vmassol>\u00a0:)  \n17:59\u00a0<silviar>\u00a0was about to add the space in the title, but you were faster :) going to remove the white space around the image  \n17:59\u00a0<vmassol>\u00a0space?  \n18:00\u00a0<silviar>\u00a0not the technical meaning, the actual space between the two words in \"Plan\u00e8teSankor\u00e9\"  \n18:01\u00a0<silviar>\u00a0as for the image, it has the white margins which i think make the content less visible  \n18:05\u00a0<vmassol>\u00a0ok I know why title is duplicated.....  \n18:05\u00a0<vmassol>\u00a0silviar: I'm going to remove accents for now  \n18:05\u00a0<silviar>\u00a0ok  \n18:06\u00a0<vmassol>\u00a0yep that's the issue  \n18:06\u00a0<vmassol>\u00a0the problem is title deduplication doesn't work fine. I can fix that in the code I think (but for next release)  \n18:08\u00a0<silviar>\u00a0@vmassol ok. Also image fixed  \n18:15\u00a0<silviar>\u00a0has quit  \n18:55\u00a0<arkub>\u00a0has quit  \n19:10\u00a0<+mflorea>\u00a0vmassol: This is the second time I see ui-tests hanging at UserProfileTest#testChangePasswordWithoutEnteringPasswords(). There's an issue with the alert probably.  \n19:11\u00a0<lpereira>\u00a0has joined #xwiki  \n19:24\u00a0<mflorea>\u00a0has quit  \n19:46\u00a0<tmortagne>\u00a0has quit  \n19:53\u00a0<cjdelisl1>\u00a01 page load (plus images,js,etc) = 2852 synchronization blocks entered.  \n20:14\u00a0<lucaa>\u00a0has quit  \n20:36\u00a0<jvelociter>\u00a0has quit  \n20:36\u00a0<jvelociter>\u00a0has joined #xwiki  \n21:49\u00a0<vmassol>\u00a0has quit  \n21:50\u00a0<mflorea>\u00a0has joined #xwiki  \n22:25\u00a0<lucaa>\u00a0has joined #xwiki  \n22:43\u00a0<pturcotte>\u00a0has quit  \n22:48\u00a0<lucaa>\u00a0has quit  \n23:49\u00a0<mflorea>\u00a0has quit  \n\n"}