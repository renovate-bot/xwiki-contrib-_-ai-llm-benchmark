{"id": "dev:IRC.xwikiArchive20151130", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151130", "title": "IRC Archive for channel #xwiki on 30 November 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<tillo>\u00a0has quit  \n01:50\u00a0<lynxt>\u00a0has joined #xwiki  \n01:52\u00a0<tillo>\u00a0has joined #xwiki  \n02:53\u00a0<martinus\\_\\_>\u00a0has quit  \n03:16\u00a0<sdumitriu>\u00a0has quit  \n04:48\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n04:55\u00a0<lynxt>\u00a0has quit  \n04:56\u00a0<tillo>\u00a0has quit  \n05:18\u00a0<lynxt>\u00a0has joined #xwiki  \n05:23\u00a0<tillo>\u00a0has joined #xwiki  \n06:03\u00a0<Denis2>\u00a0has quit  \n06:09\u00a0<Denis>\u00a0has joined #xwiki  \n06:55\u00a0<martinus\\_\\_>\u00a0has quit  \n08:25\u00a0<cjd>\u00a0has quit  \n09:12\u00a0<cjd>\u00a0has joined #xwiki  \n09:17\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n09:23\u00a0<vmassol>\u00a0has joined #xwiki  \n09:40\u00a0<vmassol>\u00a0good morning everyone  \n09:40\u00a0<vmassol>\u00a0today is the 7.4M1 release  \n09:40\u00a0<vmassol>\u00a0I'm starting now  \n09:55\u00a0<Slashman>\u00a0has joined #xwiki  \n10:04\u00a0<vmassol>\u00a0importing translations...  \n10:36\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:36\u00a0<vmassol>\u00a0starting the maven build in 5mn  \n10:36\u00a0<vmassol>\u00a0tmortagne: ok?  \n10:40\u00a0<vmassol>\u00a0starting  \n10:41\u00a0<tmortagne>\u00a0vmassol: I guess you are talking about 7.4M1 ?  \n10:41\u00a0<vmassol>\u00a0yes  \n10:43\u00a0<vmassol>\u00a0(build in progress)  \n10:46\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:35\u00a0<vmassol>\u00a0maven build done  \n12:05\u00a0<Slashman>\u00a0has quit  \n12:06\u00a0<Slashman>\u00a0has joined #xwiki  \n12:34\u00a0<tmortagne>\u00a0has quit  \n12:37\u00a0<D-Spair>\u00a0has quit  \n12:44\u00a0<D-Spair>\u00a0has joined #xwiki  \n14:08\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:14\u00a0<ekarlso>\u00a0has joined #xwiki  \n14:14\u00a0<ekarlso>\u00a0hey guys  \n14:14\u00a0<ekarlso>\u00a0should xwiki work with mariadb 10.x ?  \n14:17\u00a0<cjd>\u00a0ekarlso: I don't think it's officially tested but since maria is a fork of mysql, I see no reason why it should not work  \n14:17\u00a0<cjd>\u00a0XWiki SAS uses mysql in production  \n14:25\u00a0<ekarlso>\u00a0cjd: i've tried it using the mariadb.jar from the mariadb site but installation fails  \n14:25\u00a0<ekarlso>\u00a0cjd: wanna assist ?  \n14:26\u00a0<cjd>\u00a0I don't know mariadb jdbc connector so unfortunately you're on your own  \n14:26\u00a0<cjd>\u00a0but you can help and document your findings on xwiki.org installation/administration pages for others  \n14:26\u00a0<ekarlso>\u00a0sigh :(  \n14:27\u00a0<ekarlso>\u00a0cjd: should it work with the mysql.jar ?  \n14:28\u00a0<cjd>\u00a0Guide for MySQL: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMySQL  \n14:39\u00a0<tmortagne>\u00a0has joined #xwiki  \n14:39\u00a0<Inge->\u00a0I would like for e.g. postgresql to become a first class citizen :)  \n14:42\u00a0<cjd>\u00a0Everything should be working fine in postgres, subwikis for postgres were fixed about 1 year ago  \n14:42\u00a0<cjd>\u00a0maybe 2  \n14:43\u00a0<vmassol>\u00a0Inge-: WDYM by first-class citizen?  \n14:43\u00a0<vmassol>\u00a0what should we change in the xwiki.org to make it happen in your opinion? (for me it is a first class citizen already as mentioned in the supported DBs)  \n14:43\u00a0<vmassol>\u00a0(see http://dev.xwiki.org/xwiki/bin/view/Community/DatabaseSupportStrategy )  \n14:44\u00a0<vmassol>\u00a0first-class = supported = fix when bugs are found (which is what we do)  \n14:44\u00a0<cjd>\u00a0There will always be 1 database which has some edge over the others because it is what XWiki SAS runs all of it's stuff on so you can't beat the ridiculous amount of testing that results.  \n14:45\u00a0<cjd>\u00a0But as vmassol says, there is nothing that is Known Not To Work in postgres so I'd say it is first class.  \n14:45\u00a0<vmassol>\u00a0cjd: we shouldn't mix the open source project and xwiki sas and other companies  \n14:46\u00a0<vmassol>\u00a0right now there's only one DB tested by the open source project in its automated tests on jenkins  \n14:46\u00a0<vmassol>\u00a0it'ds HSQLDB  \n14:46\u00a0<vmassol>\u00a0so postgresql and mysql are at the same level  \n14:46\u00a0<cjd>\u00a0Fair enough, if any company runs and supports hundreds of production wikis on top of a database, that adds something for that database.  \n14:47\u00a0<vmassol>\u00a0yes what's interesting is this:  \n14:47\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ActiveInstalls/  \n14:47\u00a0<vmassol>\u00a0this shows mysql is used in 54% of active installs of xwiki  \n14:47\u00a0<vmassol>\u00a0and pgsql is marginal  \n14:48\u00a0<cjd>\u00a0err  \n14:48\u00a0<vmassol>\u00a0(and IMO xwiki sas is marginal in those stats)  \n14:48\u00a0<vmassol>\u00a0not relally marginal for pgsql  \n14:48\u00a0<cjd>\u00a0Are you reading the same page as me? \u00a0I see Postgres -> 19% (281 wikis)  \n14:48\u00a0<vmassol>\u00a0I think the graph says 19%  \n14:48\u00a0<cjd>\u00a0for me that's not marginal  \n14:49\u00a0<vmassol>\u00a0it's not  \n14:49\u00a0<Inge->\u00a0This might have changed since I first set up xwiki some years back - but back then I got the \"the best supported DB is MySql - so if you want minimal issues and better Q/A in here - go for MySql\" <-- at least that was my conclusion after discussing it in here :)  \n14:49\u00a0<cjd>\u00a0third largest database actually  \n14:49\u00a0<vmassol>\u00a0yes  \n14:49\u00a0<cjd>\u00a0You probably discussed it with me, because I always say \"all of the supported databases work but if you want an easy life, use what is most popular\"  \n14:50\u00a0<ekarlso>\u00a0hmmm  \n14:50\u00a0<ekarlso>\u00a0is there a way to speedup xwiki  \n14:50\u00a0<vmassol>\u00a0no  \n14:50\u00a0<ekarlso>\u00a0we have our xwiki instance behind a webgateway (only 1 public ip)  \n14:50\u00a0<vmassol>\u00a0not a single way :)  \n14:50\u00a0<vmassol>\u00a0but plenty  \n14:50\u00a0<cjd>\u00a0ekarlso: install on Java 8, adds +30%  \n14:50\u00a0<vmassol>\u00a0;)  \n14:50\u00a0<D-Spair>\u00a0has quit  \n14:50\u00a0<vmassol>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances  \n14:50\u00a0<ekarlso>\u00a0loading a page takes like 5 seconds  \n14:51\u00a0<cjd>\u00a0Yeah, you'll need to look at the performance page, that is clearly wrong behavior  \n14:52\u00a0<ekarlso>\u00a0cjd: can I have a ACL on a page structure ?  \n14:52\u00a0<vmassol>\u00a0ekarlso: good standard times are 200-300 ms  \n14:53\u00a0<vmassol>\u00a0(for a page like the sandbox one)  \n14:53\u00a0<cjd>\u00a0permissions are on a per-page basis  \n14:53\u00a0<ekarlso>\u00a0cjd: so you cant set a permission on a top structure  \n14:53\u00a0<ekarlso>\u00a0and it applies downwards ?  \n14:53\u00a0<ekarlso>\u00a0http://pastebin.com/wg2N0mRc < I think my install is broken :(  \n14:54\u00a0<ekarlso>\u00a0to say the least  \n14:54\u00a0<vmassol>\u00a0ekarlso: see http://platform.xwiki.org/xwiki/bin/view/Features/RightsManagement  \n14:54\u00a0<vmassol>\u00a0(and yes you can)  \n14:54\u00a0<ekarlso>\u00a0anyone got a clue on ^?  \n14:54\u00a0<ekarlso>\u00a0going to the administration page for a page  \n14:56\u00a0<tmortagne>\u00a0ekarlso: you should definitely look at http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances which contain lots of stuff, one thing you could try first is http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances#HPerformancetree  \n14:56\u00a0<tmortagne>\u00a0it will tell you where all that time was spent, might give you a clue of what exactly you should improve  \n14:56\u00a0<ekarlso>\u00a0I would like to know why my install blows up like that though :(  \n14:57\u00a0<tmortagne>\u00a0ekarlso: any custom authenticator ?  \n14:57\u00a0<ekarlso>\u00a0tmortagne: ldap only  \n14:57\u00a0<ekarlso>\u00a0tmortagne: but I login fine and it shows my user  \n14:58\u00a0<tmortagne>\u00a0sometime some authenticator is not properly using the session you you end up authenticating the user at each http request  \n14:58\u00a0<tmortagne>\u00a0unless you end up using a new session at each request for some reason  \n14:59\u00a0<ekarlso>\u00a0tmortagne: how do I debug ?  \n15:01\u00a0<tmortagne>\u00a0first you should try the link I suggested to you to see a detailed tree of where the times went during the page execution, then you can enable LDAP debug log to see if it's redoing the whole auth at each request (see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication#HEnableLDAPdebuglog)  \n15:01\u00a0<tmortagne>\u00a0(or you simply put back default auth to see if it's better)  \n15:02\u00a0<vmassol>\u00a0hmm I think we're missing NS doc in http://platform.xwiki.org/xwiki/bin/view/Features/RightsManagement  \n15:40\u00a0<woshilapin>\u00a0has quit  \n15:40\u00a0<woshilapin>\u00a0has joined #xwiki  \n15:42\u00a0<tmortagne>\u00a0has quit  \n15:47\u00a0<Slashman>\u00a0has quit  \n15:52\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:56\u00a0<tmortagne>\u00a0has quit  \n16:18\u00a0<Pbas>\u00a0has joined #xwiki  \n16:22\u00a0<Pbas>\u00a0has quit  \n16:26\u00a0<Pbas>\u00a0has joined #xwiki  \n16:33\u00a0<Slashman>\u00a0has joined #xwiki  \n16:37\u00a0<Slashman>\u00a0has quit  \n16:38\u00a0<Slashman>\u00a0has joined #xwiki  \n16:39\u00a0<D-Spair>\u00a0has joined #xwiki  \n16:45\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:50\u00a0<martinus\\_\\_>\u00a0has quit  \n16:53\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n16:58\u00a0<D-Spair>\u00a0has quit  \n17:04\u00a0<D-Spair>\u00a0has joined #xwiki  \n17:23\u00a0<vmassol>\u00a0has quit  \n17:23\u00a0<vmassol1>\u00a0has joined #xwiki  \n17:52\u00a0<abusenius>\u00a0has joined #xwiki  \n18:08\u00a0<woshilapin>\u00a0has quit  \n18:18\u00a0<ekarlso>\u00a0hmmm, 1681 ms for rendering the template, isnt that bad ?  \n18:19\u00a0<vmassol1>\u00a0it is  \n18:19\u00a0<vmassol1>\u00a0Sandbox.WebHome should take around 300ms to be fully rendered  \n18:19\u00a0<ekarlso>\u00a0how do I improve ?  \n18:19\u00a0<vmassol1>\u00a0I already answered that :)  \n18:19\u00a0<vmassol1>\u00a0perf guide  \n18:20\u00a0<vmassol1>\u00a0there'es nothing else  \n18:21\u00a0<ekarlso>\u00a0render the template endpage takes 1460 ms  \n18:21\u00a0<ekarlso>\u00a0whats done in that ?  \n18:24\u00a0<ekarlso>\u00a0vmassol1: is singlecore too little for a xwiki ?  \n18:27\u00a0<ekarlso>\u00a0doesnt xwiki come with indexes by default ?  \n18:28\u00a0<vmassol1>\u00a0ekarlso: it's all documented in the perf guide  \n18:29\u00a0<vmassol1>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances#HDatabaseIndexes  \n18:29\u00a0<vmassol1>\u00a0which leads to http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Database+Administration  \n18:32\u00a0<cjd>\u00a0has quit  \n18:36\u00a0<Dr\\_Cain\\_>\u00a0is now known as <Dr\\_Cain>  \n18:37\u00a0<ekarlso>\u00a0vmassol1: SEVERE: IOException while loading persisted sessions: java.io.EOFException  \n18:37\u00a0<ekarlso>\u00a0hmmms  \n18:38\u00a0<ekarlso>\u00a0if you enable caching after not having it enabled do I need to do something special ?  \n18:54\u00a0<tmortagne>\u00a0has quit  \n19:11\u00a0<cjd>\u00a0has joined #xwiki  \n19:13\u00a0<ekarlso>\u00a0SEVERE: IOException while loading persisted sessions: java.io.EOFException < seen that cjd ?  \n19:26\u00a0<vmassol1>\u00a0has quit  \n19:41\u00a0<D-Spair>\u00a0has quit  \n19:42\u00a0<D-Spair>\u00a0has joined #xwiki  \n19:51\u00a0<D-Spair>\u00a0has quit  \n19:56\u00a0<D-Spair>\u00a0has joined #xwiki  \n20:23\u00a0<tillo>\u00a0has quit  \n20:24\u00a0<tillo>\u00a0has joined #xwiki  \n20:59\u00a0<woshilapin>\u00a0has joined #xwiki  \n21:12\u00a0<sdumitriu>\u00a0has quit  \n21:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n21:33\u00a0<sdumitriu1>\u00a0has quit  \n21:34\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n21:53\u00a0<Slashman>\u00a0has quit  \n23:25\u00a0<lynxt>\u00a0has quit  \n23:28\u00a0<lynxt>\u00a0has joined #xwiki\n"}