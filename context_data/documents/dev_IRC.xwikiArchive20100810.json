{"id": "dev:IRC.xwikiArchive20100810", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100810", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\njbrBridge left at 00:17 (\\*.net \\*.split  \njbrBridge joined #xwiki at 00:18  \nsburjan` joined #xwiki at 00:26  \nflorinciu left at 01:23 (Read error: Connection reset by peer  \nboscop left at 01:25 (Ping timeout: 265 seconds  \ntsziklay left at 02:38 (Quit: ChatZilla 0.9.86 [Firefox 3.6.8/20100722155716]  \nabusenius left at 02:41 (Read error: Operation timed out  \nvenkatna joined #xwiki at 05:04  \nvenkatna\\_ joined #xwiki at 05:06  \nvenkatna\\_\\_ joined #xwiki at 05:06  \nsdumitriu left at 05:15 (Ping timeout: 265 seconds  \nflorinciu joined #xwiki at 07:26  \nevalica joined #xwiki at 08:36  \nvmassol joined #xwiki at 08:37  \nboscop joined #xwiki at 08:40  \nSiX-P4cK joined #xwiki at 08:41  \nlucaa left at 09:04 (Ping timeout: 252 seconds  \nsburjan joined #xwiki at 09:04  \narkub joined #xwiki at 09:31  \nboscop left #xwiki at 09:35  \nlucaa joined #xwiki at 09:39  \njvelo joined #xwiki at 09:41  \nflorinciu1 joined #xwiki at 09:46  \nasrfel joined #xwiki at 09:48  \nKermitTheFragger joined #xwiki at 10:13  \nabusenius joined #xwiki at 10:22  \nnuvolari - (10:22): Hi everyone, I'm trying to create an XWiki space for an external company, but the group that has access to that space should be redirected to the relating space. Is that possible?  \nnuvolari - (10:24): I don't want them to see the \"You are not allowed to view this document or perform this action.\" text :P  \nvenkatna\\_\\_ left at 10:27 (Quit: Ex-Chat  \nvenkatna\\_ left at 10:27 (Quit: Ex-Chat  \nvenkatesh joined #xwiki at 10:28  \nvenkatesh left at 10:28 (Remote host closed the connection  \nvenkatesh joined #xwiki at 10:29  \nflorinciu1 left at 10:30 (Quit: Leaving.  \nnuvolari - (10:53): :> the more I play with xwiki, the more I love it  \nflorinciu1 joined #xwiki at 10:58  \nsdumitriu joined #xwiki at 11:00  \nSiX-P4cK left at 11:08 (Ping timeout: 252 seconds  \nqwebirc74711 joined #xwiki at 11:28  \nqwebirc74711 is now known as SiX-P4cK (d5f6ffbb@gateway/web/freenode/ip.213.246.255.187  \nSiX-P4cK - (11:29): hi  \nSiX-P4cK - (11:29): someone for a little hql request help plz?  \njvelo - (11:59): hi SiX-P4cK  \njvelo - (11:59): what do you want to do ?  \nSiX-P4cK - (12:33): hi  \nSiX-P4cK - (12:34): i d'like to add a propery in a class, with a group of users  \nSiX-P4cK - (12:35): i have a group1 with a few user and group2 with other users  \nSiX-P4cK - (12:35): i have add a Database List property  \nSiX-P4cK - (12:37): i want a selectbox with only users of the group1 in choice  \nSiX-P4cK - (12:38): i don't found the relationship between user and group  \nflorinciu left at 12:55 (\\*.net \\*.split  \nflorinciu joined #xwiki at 12:56  \nvmassol left at 13:01 (Quit: Leaving.  \njvelo left at 13:21 (Ping timeout: 240 seconds  \njvelo joined #xwiki at 13:21  \nvenkatesh left at 13:22 (Excess Flood  \nvenkatna left at 13:23 (Excess Flood  \nvmassol joined #xwiki at 13:23  \nvenkatna joined #xwiki at 13:23  \nvenkatesh joined #xwiki at 13:23  \ncjdelisle - (13:41): nuvolari: Maybe add a test to the access denied .vm file which calls $response.sendRedirect if the user is in that group?  \ncjdelisle - (13:47): it is called just that: accessdenied.vm  \ncjdelisle - (13:48): SiX-P4cK: what's the application for this need? If I understand more, I might be able to recommend an easier way.  \nSiX-P4cK - (13:48): hello :D  \nSiX-P4cK - (13:49): i need to add a property in a class for choose one user xwiki  \nSiX-P4cK - (13:49): but i want reduce the list at one group of user  \nSiX-P4cK - (13:49): not all users list  \ncjdelisle - (13:50): sure. So somebody is going to be choosing a user from a list, what will that look like?  \nSiX-P4cK - (13:51): yes a select box  \ncjdelisle - (13:51): eg: user goes to admin page, selects a number (or one?) of users from a list of options and then clicks ok.  \ncjdelisle - (13:51): something like that.  \ncjdelisle - (13:51): ?  \nSiX-P4cK - (13:53): it's not in admin  \nSiX-P4cK - (13:53): i have create a class with template and sheet  \ncjdelisle - (13:53): the user who selects from the list is not?  \nSiX-P4cK - (13:53): no  \ncjdelisle - (13:54): Ok, so you are creating what amounts to a group class but the members of that group are chosen from another group.  \ncjdelisle - (13:54): correct?  \nSiX-P4cK - (13:55): i don't make group class, i use xwiki group  \ncjdelisle - (13:55): So you are creating a new class sheet for xwikiGroup?  \ncjdelisle - (13:56): I think I know what to do but I'm not sure because I don't know what your intent is. Maybe you can fill me in on what this user list is for?  \nSiX-P4cK - (13:57): no i create a class Production and one property of this class is productor  \nSiX-P4cK - (13:57): productor is a user xwiki and i select one in a select box with all suer of xwiki for now  \nSiX-P4cK - (13:57): but i have group in my xwiki  \nSiX-P4cK - (13:58): i want limit thie list in the selectbox to a group of user, not show all users of wiki  \ncjdelisle - (13:59): And you will be creating a new Production object using a class sheet?  \nSiX-P4cK - (13:59): already done  \ncjdelisle - (13:59): Are you looking at the class sheet code?  \nSiX-P4cK - (14:00): just limit the the selectbox  \nSiX-P4cK - (14:00): i know it's in the class property definition  \ncjdelisle - (14:00): It looks like you have 2 options, You can add hql to the database list (I think...) or you can do this with script inside of the class sheet.  \nSiX-P4cK - (14:00): somethink like that: http://dev.xwiki.org/xwiki/bin/view/Drafts/DatabaseListProperties  \ncjdelisle - (14:00): If I were doing this, I would use script in the class sheer.  \ncjdelisle - (14:02): Ok, what is the what is the limitation on the users that allows them to be in that list? are they members of a given group?  \nSiX-P4cK - (14:02): yes  \ncjdelisle - (14:02): what is the name of that group? XWiki.Producers?  \nSiX-P4cK - (14:02): i want show only user in the group \"productorGroup\"  \nSiX-P4cK - (14:02): yeah ^^  \ncjdelisle - (14:03): XWiki.ProducersGroup?  \nSiX-P4cK - (14:03): ok  \nvenkatesh left at 14:03 (Read error: Operation timed out  \nvenkatna left at 14:04 (Ping timeout: 240 seconds  \nSiX-P4cK - (14:05): property in my class Production: Productor (Productor : Database List)  \nSiX-P4cK - (14:07): if in \"XWiki Class Name\" option i put XWiki.XwikiUsers and first\\_name in \"Id Field Name\"  \nSiX-P4cK - (14:07): it's show my all xwiki users  \ncjdelisle - (14:07): writing the query........  \nSiX-P4cK - (14:08): ok i have try too  \nSiX-P4cK - (14:08): but in Class XWikiUsers or XWikiGroups i don't find relationship  \ncjdelisle - (14:11): select doc.fullName, doc.title from XWikiDocument as doc, XWikiObject as usr, XWikiObject as grp where doc.space = 'XWiki' and usr.name = doc.fullName and usr.className = 'XWiki.XWikiUsers' and grp.className = 'XWiki.XWikiGroups' and grp.name = 'XWiki.ProducersGroup' and grp.member = usr.name  \ncjdelisle - (14:11): Try that.  \ncjdelisle - (14:11): XWiki.ProducersGroup might be wrong, if so correct it.  \nSiX-P4cK - (14:11): i have read this before but doesn't help me: http://platform.xwiki.org/xwiki/bin/view/DevGuide/velocityHqlExamples  \nSiX-P4cK - (14:11): ok i try thx  \nSiX-P4cK - (14:14): don't work  \nSiX-P4cK - (14:15): i don't undersand this: XWikiObject as usr, XWikiObject as grp  \ncjdelisle - (14:15): I didn't say I had debugged it :)  \nSiX-P4cK - (14:15): why 2 alias for same object?  \ncjdelisle - (14:16): different objects of the same type.  \nSiX-P4cK - (14:17): it's not like sql / ejbql :(  \ncjdelisle - (14:18): It has some weirdness to it. It translates to sql though.  \ncjdelisle - (14:23): Wrapped Exception: could not execute query  \ncjdelisle - (14:23): argh, trail has gone cold.  \ncjdelisle - (14:24): haha, not. I have my trusty postgres console log.  \nSiX-P4cK - (14:26): you install xwiki on postgres database?  \ncjdelisle - (14:27): yea, it's the best.  \nSiX-P4cK - (14:28): i ha dto install on DB2 :(  \ncjdelisle - (14:28): still no subwikis in postgres (wiki farm) due to my lazyness not rewriting the db driver...  \nSiX-P4cK - (14:28): but defenitly not my choise  \ncjdelisle - (14:29): bd2? that's ibm right?  \nSiX-P4cK - (14:29): yes  \nSiX-P4cK - (14:30): i prefere oracle  \nSiX-P4cK - (14:30): but ibm have a few cool stuff  \nSiX-P4cK - (14:30): like dynamic table  \ncjdelisle - (14:30): meh, oracle is 'unbreakable'  \nSiX-P4cK - (14:31): nothing is unbreakable  \nSiX-P4cK - (14:31): juste question of time and money  \ncjdelisle - (14:32): select doc.fullName, doc.title from XWikiDocument as doc, StringProperty as mbr, BaseObject as usr, BaseObject as grp where doc.space = 'XWiki' and usr.name = doc.fullName and usr.className = 'XWiki.XWikiUsers' and grp.className = 'XWiki.XWikiGroups' and grp.name = 'XWiki.XWikiAdminGroup' and grp.id = mbr.id and mbr.value = usr.name  \ncjdelisle - (14:32): replace XWiki.XWikiAdminGroup with your group name...  \ncjdelisle - (14:33): got hung up because for some reason hql thought mbr was a ListProperty and the database was like uh no.  \ncjdelisle - (14:33): So had to force it to be a StringProperty instead of using BaseProperty...  \ncjdelisle - (14:34): bbiab  \nSiX-P4cK - (14:35): ok thx  \nvmassol left at 14:55 (Quit: Leaving.  \nsdumitriu - (14:56): cjdelisle: Awake?  \nsburjan left at 14:57 (Read error: Connection reset by peer  \nsburjan\\_ joined #xwiki at 14:57  \nEnygma` joined #xwiki at 14:58  \nvmassol joined #xwiki at 15:01  \nvmassol left at 15:01 (Client Quit  \nevalica left at 15:16 (Quit: Leaving.  \nEnygma` left at 15:22 (Ping timeout: 264 seconds  \nSiX-P4cK - (15:27): cjdelisle: i have it: SELECT usr.name FROM BaseObject usr, BaseObject grp, StringProperty mbr WHERE usr.className='XWiki.XWikiUsers' AND grp.name = 'XWiki.ProductorGroup' AND grp.id = mbr.id AND mbr.value = usr.nam  \nSiX-P4cK - (15:27): yeah  \nSiX-P4cK - (15:27): thx  \nSiX-P4cK - (15:28): can't do it without your help for the stringproperty  \nEnygma` joined #xwiki at 15:29  \ncjdelisle - (15:36): sdumitriu: yes awake, was getting coffee...  \nSiX-P4cK - (15:39): ejoy it ^^  \nSiX-P4cK - (15:39): \\*enjoy  \nSiX-P4cK - (15:45): ah question again :D  \ncjdelisle - (15:46): yea?  \nSiX-P4cK - (15:46): hql request \"SELECT usr.name FROM BaseObject usr,...\" result: XWiki.user1, XWiki.user2,...  \nSiX-P4cK - (15:46): how display first name and last name  \ncjdelisle - (15:48): select doc.fullName, doc.title from XWikiDocument as doc, BaseObject as usr \u00a0\u00a0\u00a0....... \u00a0\u00a0\u00a0\u00a0\u00a0and doc.fullName = usr.name  \ncjdelisle - (15:48): doc.title will be the first+last name if I recall.  \nSiX-P4cK - (15:48): ok i will try  \ncjdelisle - (15:49): exactly what I said earlier: select doc.fullName, doc.title from XWikiDocument as doc, StringProperty as mbr, BaseObject as usr, BaseObject as grp where doc.space = 'XWiki' and usr.name = doc.fullName and usr.className = 'XWiki.XWikiUsers' and grp.className = 'XWiki.XWikiGroups' and grp.name = 'XWiki.XWikiAdminGroup' and grp.id = mbr.id and mbr.value = usr.name  \nSiX-P4cK - (15:55): doc.title don't work  \nSiX-P4cK - (15:56): \"select doc.fullName from...\" show XWiki.Admin  \nSiX-P4cK - (15:58): \"select doc.fullName, doc.title from..\" show a empty record  \ncjdelisle - (15:58): humpf  \ncjdelisle - (15:59): looking again...  \nSiX-P4cK - (15:59): select obj.name from BaseObject obj where obj.className='XWiki.XWikiUsers'  \nSiX-P4cK - (16:00): it's in sample  \nSiX-P4cK - (16:00): no. same return XWiki.user1, XWiki.user2  \ncjdelisle - (16:01): hmm right.  \nSiX-P4cK - (16:04): it's fucking hard develop in browser: no autocomplete, no warning nothing  \ncjdelisle - (16:05): ide man?  \nSiX-P4cK - (16:05): usualy i develop java/web in eclipse  \nSiX-P4cK - (16:06): my boss see xwiki java wiki ok you can develop on it  \nSiX-P4cK - (16:06): really not the same...  \ncjdelisle - (16:07): You can write java code into xwiki, the page has to be saved by an administrator though.  \nSiX-P4cK - (16:07): except it's run on jboss and use DB2  \ncjdelisle - (16:08): Technically it's called groovy but (almost) any valid java code is valid groovy code.  \nSiX-P4cK - (16:08): i prefere velocity  \ncjdelisle - (16:08): no autocomplete in velocityville.  \nSiX-P4cK - (16:09): i want learn new thing  \nSiX-P4cK - (16:09): i know  \ncjdelisle - (16:09): what's your opperating system? linux?  \nSiX-P4cK - (16:09): both  \ncjdelisle - (16:09): do you ever use gedit?  \nSiX-P4cK - (16:10): yes  \nSiX-P4cK - (16:10): and vim  \ncjdelisle - (16:10): I have a nice velocity syntax highlighter for gedit.  \nSiX-P4cK - (16:10): and vi ^^  \ncjdelisle - (16:10): \"select firstName.value, doc.fullName from XWikiDocument as doc, StringProperty as firstName, StringProperty as mbr, BaseObject as usr, BaseObject as grp where doc.space = 'XWiki' and usr.name = doc.fullName and usr.className = 'XWiki.XWikiUsers' and grp.className = 'XWiki.XWikiGroups' and grp.name = 'XWiki.XWikiAdminGroup' and grp.id = mbr.id and mbr.value = usr.name and firstName.name = 'first\\_name' and firstName.id = usr.id\"  \nSiX-P4cK - (16:10): waw  \nSiX-P4cK - (16:11): big request for simple ask i think  \ncjdelisle - (16:11): XWiki has a dynamic database schema so everything is in a different table.  \njvelo - (16:11): would be interesting to support XWQL for DB lists queries, BTW  \ncjdelisle - (16:12): It's what allows you to define new classes any time you want.  \njvelo - (16:12): would make such requests much simpler  \ncjdelisle - (16:12): err do we support XWQL at all?  \njvelo - (16:12): yes, I think we decided it was the new way of writing queries, since 2.4  \njvelo - (16:13): It has an annoying bug, though  \nlucaa1 joined #xwiki at 16:13  \njvelo - (16:13): it does not \"distinct\" on document names by default  \ncjdelisle - (16:13): I've seen XWQL questions go unanswered on the list so I think \"support\" is too strong a word.  \njvelo - (16:14): I force myself to use it as much as possible  \njvelo - (16:14): I guess it's just a question of time  \ncjdelisle - (16:14): \"force myself\" <-- sign of a bad standard.  \njvelo - (16:14): well read \"try to get out of the HQL habit\"  \njvelo - (16:15): XWQL is way nicer  \nlucaa left at 16:15 (Ping timeout: 260 seconds  \ncjdelisle - (16:15): Well #1 it has no documentation at all. #2 the error messages are all like \"you fail it\".  \njvelo - (16:15): it's like quitting smocking, it does not always work on day 1 :)  \njvelo - (16:15): #1 not true  \njvelo - (16:16): see http://platform.xwiki.org/xwiki/bin/view/DevGuide/QueryGuide  \njvelo - (16:16): Vincent compiled a nice table with XWQL samples  \njvelo - (16:17): #2 not completely true either, though I agree it could be better  \ncjdelisle - (16:17): A page of examples is not really comparable to http://docs.jboss.org/hibernate/core/3.3/reference/en/html/queryhql.html  \ncjdelisle - (16:18): I tried attacking XWQL and I found that the error messages were all the same, something about \"failed to parse\".  \nSiX-P4cK - (16:18): In simple sql: \"SELECT u.firstname, u.lastname FROM user u WHERE u.id in (SELECT g.users FROM GROUP g WHERE g.name='ProductorGroup')\"  \ncjdelisle - (16:21): SiX-P4cK: does that query actually work?  \nSiX-P4cK - (16:22): not yet  \nSiX-P4cK - (16:22): i try to correct it  \ncjdelisle - (16:23): why are you running raw sql?  \njvelo - (16:23): caleb : there is JPQL reference  \njvelo - (16:23): http://download.oracle.com/docs/cd/E11035\\_01/kodo41/full/html/ejb3\\_langref.html  \njvelo - (16:23): for me it's just the same amount of documentation  \njvelo - (16:24): XWiki HQL queries are even harder for the newbie in my opinion  \njvelo - (16:24): you need more indeed knowledge of the XWIki model and storage before you can write real queries  \njvelo - (16:24): like the whole \", BaseObject as obj\" is just obscur  \njvelo - (16:25): (not really documented\\_  \njvelo - (16:25): )  \nSiX-P4cK - (16:25): i stronly agree  \ncjdelisle - (16:25): If XWQL really conforms to that standard then I guess that is acceptable documentation.  \nSiX-P4cK - (16:25): i know fine sql and ejbql  \nSiX-P4cK - (16:25): and here i swim  \njvelo - (16:25): cjdelisle, XWQL is a superset of JPQL afaik  \ncjdelisle - (16:26): It seems to be lacking in any real spec sheet though.  \ncjdelisle - (16:27): My last gripe is that it has not been implemented in anything other than HQL. Until I see it implemented in JCR, I have no proof that it actually can be ported.  \ncjdelisle - (16:30): 'last gripe' haha just kidding. \u00a0\u00a0I also think new query languages add to the problem rather than the solution. IMO the solution is to use language embedded queries, that way it is impossible to write queries which are susceptible to sql injection.  \ncjdelisle - (16:32): YAY the python bug is fixed!!!!  \nSiX-P4cK - (16:32): good job ;)  \ncjdelisle - (16:33): haha, not me, it was the jython devs :)  \nSiX-P4cK - (16:35): it's run on jvm  \nSiX-P4cK - (16:35): :(  \ncjdelisle - (16:36): I'd like to add some stats to the xwikibot. uptime? average page load time? maybe add a way to start logging into the channel?  \nsburjan\\_ - (16:36): maybe !seen too :P  \ncjdelisle - (16:37): It would be really cool to have authentication so I can run velocity code from irc if i'm authenticated.  \nsburjan\\_ - (16:37): cjdelisle, \u00a0: what jython bug ? I've heard about something  \ncjdelisle - (16:38): and I'd like to be able to say [[DevGuide.Scripting]] and have the bot output the link.  \ncjdelisle - (16:38): sburjan\\_: http://platform.xwiki.org/xwiki/bin/view/DevGuide/Scripting#HPythonSpecificInformation  \nsdumitriu - (16:40): :)  \nsburjan\\_ - (16:43): :))  \nlucaa1 left at 16:45 (Read error: Connection reset by peer  \nlucaa joined #xwiki at 16:49  \nSiX-P4cK - (16:51): \"SELECT firstname.value, FROM..\" return me firstname  \nSiX-P4cK - (16:51): \"SELECT lastname.value FROM..\" return lastname  \nSiX-P4cK - (16:51): \"SELECT firstname.value, lastname.value FROM...\" return object  \nSiX-P4cK - (16:51): pffff  \ncjdelisle - (16:52): that object is a list.  \ncjdelisle - (16:53): list.get(0) list.get(1) \u00a0:)  \nSiX-P4cK - (16:53): ok return list of object to be exact  \ncjdelisle - (16:53): no need to cast, velocity does optimistic casting.  \ncjdelisle - (16:53): the objects in the list are String.  \nSiX-P4cK - (16:54): no  \nSiX-P4cK - (16:56): http://pastebin.com/LMhExdeY  \nlucaa - (17:01): guys we didn't change the dep to commons-net in the end?  \nsburjan\\_ - (17:05): sdumitriu, changed it now  \nlucaa - (17:05): also I noticed that the \u00a0xwiki-core-parent pom depends on the 33 version of xwiki pom... is this normal? shouldn't it be the 34-SNAP ?  \nlucaa - (17:07): ah it's done  \nlucaa - (17:07): didn't check recently. Thanks sdumitriu  \nasrfel left at 17:09 (Quit: Leaving.  \nflorinciu1 left at 17:21 (Quit: Leaving.  \ncjdelisle - (17:25): SiX-P4cK: http://pastebin.com/iPVF0GrS  \ncjdelisle - (17:26): out of curiosity !search scripting guide  \ncjdelisle - (17:27): !search platform:DevGuide.Scripting  \ncjdelisle - (17:27): that could be fixed...  \nSiX-P4cK - (17:32): cjdelisle: thx i have found that like you but it's doesn't work for a Hibernate Query of a class property  \nsburjan\\_ left at 17:42 (Ping timeout: 240 seconds  \nlucaa left at 17:42 (Ping timeout: 264 seconds  \njvelo left at 17:45 (Ping timeout: 240 seconds  \ncjdelisle - (17:45): SiX-P4cK: \"select firstName.value || ' ' || lastName.value, doc.fullName from XWikiDocument as doc, StringProperty as firstName, StringProperty as lastName, StringProperty as mbr, BaseObject as usr, BaseObject as grp where doc.space = 'XWiki' and usr.name = doc.fullName and usr.className = 'XWiki.XWikiUsers' and grp.className = 'XWiki.XWikiGroups' and grp.name = 'XWiki.XWikiAdminGroup' and grp.id = mbr.id and mbr.value = usr.n  \ncjdelisle - (17:45): ame and firstName.name = 'first\\_name' and firstName.id = usr.id and lastName.name = 'last\\_name' and lastName.id = usr.id\"  \ncjdelisle - (17:46): did you get all that? it ends with a double quote (\")  \njvelo joined #xwiki at 17:48  \ncjdelisle - (17:52): !jira password  \ncjdelisle - (17:52): hmm misread...  \ncjdelisle - (17:53): nope, guess I didn't.  \ncjdelisle - (17:58): crap. the scrypt protected passwords are longer than 255 chars.  \nsdumitriu - (17:59): That's not good  \ncjdelisle - (18:00): maybe add a new PasswordProperty class which extends bigString?  \nsdumitriu - (18:01): Well, normally 255-long fields is a good target  \nsdumitriu - (18:01): Since databases are optimized for this kind of columns  \ncjdelisle - (18:03): defaultDerivedKeyLength = 64 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a016 should be fine for this application. Not sure what I was thinking.  \ncjdelisle - (18:05): 16 bytes of salt, 16 bytes of derived key, a few ints for parameters + the cost of java serialization. Not sure if it will be small enough.  \ncjdelisle - (18:05): + base64.  \ncjdelisle - (18:05): \"databases are optimized for this kind of columns\" password lookups shouldn't be common.  \ncjdelisle - (18:07): in fact if password lookups are common, then there is another problem because password validation is specifically designed to be difficult.  \njvelo - (18:12): guys, any idea why we use an absolute URL for lock and cancel AJAX requests ?  \njvelo - (18:12): looks like a bug to me  \njvelo - (18:12): sdumitriu, ?  \nsdumitriu - (18:13): +1  \nsdumitriu - (18:13): Are you sure?  \njvelo - (18:13): I'm sure its external yes. It uses XwikiDocument#getExternalURL  \ncjdelisle - (18:15): switched to 16 byte derived key, went from 757 char to 693. Most of the cost seems to be in the java serialization framework.  \ncjdelisle - (18:18): Serializing the password hash along with the function which generated it (with salt and parameters) is central to the upgradability factor. You can write anything which implements PasswordVerificationFunction and it's automatically compatible.  \ncjdelisle - (18:20): java serialization appears to be very wasteful.  \nabusenius - (18:23): you could try to zip it afterwards :)  \nsburjan joined #xwiki at 18:24  \nsburjan is now known as sorinello ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \ncjdelisle - (18:26): 256 chars? not sure if that will be enough. It'd be much more effective with multiple serialized passwords, there is a lot in common.  \ncjdelisle - (18:27): If we were to move PasswordClass to a big string, it would require another database migration.  \ncjdelisle - (18:29): There are a number of other things which should be migrated as well.  \nsburjan` left at 18:33 (Quit: Peace and Protection 4.22  \nsorinello - (18:36): .  \nsorinello left at 18:36 (  \nsburjan` joined #xwiki at 18:37  \nabusenius - (18:39): maybe zip is not that bad idea afterwards, compression to 50% is doable  \nabusenius - (18:40): I bet the serialization is mostly 0s  \ncjdelisle - (18:40): It's mostly info about the class and stuff: http://download-llnw.oracle.com/javase/6/docs/platform/serialization/spec/protocol.html  \narkub left at 18:42 (Quit: Leaving  \nabusenius - (18:47): hm, looks like using short class and variable names will help a lot :)  \nabusenius - (18:48): but even if it fits, it will not be very upgradable  \ncjdelisle - (18:50): I think the best thing to do is look at how best to do a database migration.  \nvmassol joined #xwiki at 19:04  \nabusenius left at 19:06 (Ping timeout: 264 seconds  \nEnygma` left at 19:08 (Ping timeout: 260 seconds  \nKermitTheFragger left at 19:11 (Quit: Leaving  \nvmassol left at 19:50 (Quit: Leaving.  \nabusenius joined #xwiki at 19:54  \nvmassol joined #xwiki at 20:03  \nlucaa joined #xwiki at 20:07  \njvelo left at 20:10 (Ping timeout: 276 seconds  \njvelo joined #xwiki at 20:13  \nlucaa left at 21:06 (Ping timeout: 260 seconds  \njvelo left at 21:10 (Ping timeout: 276 seconds  \njvelo joined #xwiki at 21:13  \nlucaa joined #xwiki at 21:26  \ncjdelisle - (22:02): xwikibot does a database commit for each line said into irc.  \nvmassol left at 22:04 (Quit: Leaving.  \ntsziklay joined #xwiki at 22:11  \nDragosRusu joined #xwiki at 22:14  \nlucaa left at 22:45 (Ping timeout: 245 seconds  \nSvenDowideit left at 22:54 (Excess Flood  \nSvenDowideit joined #xwiki at 22:55  \nlucaa joined #xwiki at 23:05  \n\n"}