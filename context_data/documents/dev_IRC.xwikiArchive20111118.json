{"id": "dev:IRC.xwikiArchive20111118", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111118", "title": "IRC Archive for channel #xwiki on 18 November 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:36\u00a0<jvdrean>\u00a0has quit  \n01:19\u00a0<jvdrean>\u00a0has joined #xwiki  \n01:26\u00a0<jvdrean>\u00a0has quit  \n04:50\u00a0<Enygma`>\u00a0has quit  \n05:18\u00a0<sburjan`>\u00a0has quit  \n05:20\u00a0<Denis>\u00a0has quit  \n05:20\u00a0<Denis>\u00a0has joined #xwiki  \n06:00\u00a0<Denis2>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n07:15\u00a0<tekzilla>\u00a0has quit  \n07:17\u00a0<tekzilla>\u00a0has joined #xwiki  \n07:25\u00a0<mflorea>\u00a0has joined #xwiki  \n07:29\u00a0<Denis2>\u00a0has quit  \n07:29\u00a0<Denis>\u00a0has joined #xwiki  \n07:45\u00a0<vmassol>\u00a0has joined #xwiki  \n08:28\u00a0<rrodriguez\\_>\u00a0has quit  \n08:55\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:12\u00a0<vmassol>\u00a0good morning  \n09:16\u00a0<SvenDowideit>\u00a0has quit  \n09:17\u00a0<vmassol>\u00a0tmortagne: should we spend some time today trying to find the issue with xwiki.org update to 3.3?  \n09:18\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n09:18\u00a0<+tmortagne>\u00a0vmassol: I would like to finish some work on EM before the release this morning but I planned to try to reproduce the issue locally this afternoon so that we have something to work on but we could try to put it back on xwiki.org to see if all was l10n fault  \n09:20\u00a0<vmassol>\u00a0tmortagne: ok for doing it this afternoon, sdumitriu said he's willing to help too  \n09:21\u00a0<+tmortagne>\u00a0ok so indeed he will probably be more available latter  \n09:36\u00a0<vmassol>\u00a0yes the html version of the watchlist is back :)  \n10:29\u00a0<+mflorea>\u00a0sdumitriu: ping  \n10:30\u00a0<+mflorea>\u00a0tmortagne: ping  \n10:32\u00a0<+mflorea>\u00a0vmassol: ping  \n10:32\u00a0<vmassol>\u00a0mflorea: yes?  \n10:32\u00a0<+mflorea>\u00a0question:  \n10:33\u00a0<+mflorea>\u00a0is $doc.getDisplayTitle() renders the title as XHTML, do you agree that the user/dev must wrap it in HTML macro in order for the title to be properly displayed?  \n10:34\u00a0<+mflorea>\u00a0e.g. I have a title like this \"Foo<em>Bar\"  \n10:34\u00a0<vmassol>\u00a0this method is usually called from a template so there's no need to wrap it  \n10:34\u00a0<+mflorea>\u00a0sure  \n10:34\u00a0<vmassol>\u00a0but didn't we deprecated it?  \n10:34\u00a0<vmassol>\u00a0checking  \n10:34\u00a0<+mflorea>\u00a0but if someone calls it from the page content the it needs to wrap it in HTML macro  \n10:35\u00a0<+mflorea>\u00a0nop, it's not deprecated  \n10:35\u00a0<vmassol>\u00a0because it's not the right method anymore AFAIR  \n10:35\u00a0<vmassol>\u00a0(my machine is awfully slow right now)  \n10:36\u00a0<+mflorea>\u00a0there are also getPlainTitle() and getRenderedTitle(outputSyntax)  \n10:38\u00a0<vmassol>\u00a0yep actually all it does is:  \n10:38\u00a0<vmassol>\u00a0return this.doc.getRenderedTitle(Syntax.XHTML\\_1\\_0, getXWikiContext());  \n10:38\u00a0<+mflorea>\u00a0yes  \n10:38\u00a0<vmassol>\u00a0so it should be deprecated actually  \n10:38\u00a0<vmassol>\u00a0hmm not for velocity  \n10:39\u00a0<vmassol>\u00a0let me check something  \n10:39\u00a0<vmassol>\u00a0ah yes  \n10:39\u00a0<vmassol>\u00a0it should  \n10:39\u00a0<vmassol>\u00a0we have \u00a0public String getRenderedTitle(String syntaxId)  \n10:39\u00a0<+mflorea>\u00a0yep  \n10:40\u00a0<vmassol>\u00a0in nay case back to your question  \n10:40\u00a0<vmassol>\u00a0if you call getDisplayTitle you get XHTML  \n10:40\u00a0<vmassol>\u00a0so yes it has to be wrapped in html macro if used in a page  \n10:40\u00a0<+mflorea>\u00a0yep, so you have to wrap it in HTML macro  \n10:40\u00a0<vmassol>\u00a0but on our side we shouldn't use that  \n10:40\u00a0<+mflorea>\u00a0ok  \n10:40\u00a0<+mflorea>\u00a0well, titlevars.vm is still using it  \n10:40\u00a0<vmassol>\u00a0we shouldn't use the html macro anywhere  \n10:40\u00a0<vmassol>\u00a0since we want to make it optional  \n10:40\u00a0<vmassol>\u00a0and be able for users to not have it at all  \n10:42\u00a0<+mflorea>\u00a0I'll replace $doc.displayTitle with $doc.getRenderedTitle('xhtml/1.0') in titlevars.vm  \n10:42\u00a0<vmassol>\u00a0trying to find the jira issue for that  \n10:42\u00a0<vmassol>\u00a0in vm it's not an issue  \n10:42\u00a0<vmassol>\u00a0since it's not using the html macro  \n10:42\u00a0<vmassol>\u00a0but yes  \n10:42\u00a0<vmassol>\u00a0if we deprecate it better to start not using it  \n10:42\u00a0<vmassol>\u00a0:)  \n10:42\u00a0<+mflorea>\u00a0yep  \n10:43\u00a0<vmassol>\u00a0XRENDERING-27  \n10:55\u00a0<vmassol>\u00a0I have the feeling it's XE that's slowing down my machine\u2026 need to verify that  \n11:08\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r9f6d864\u000f \u000f/ (4 files in 3 dirs):\u000f XWIKI-7160: Characters '<' and '>' are badly displayed in page title - http://git.io/4TkPpA  \n11:09\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f stable-3.2.x\u000f \\* r1da5a70\u000f \u000f/ (4 files in 3 dirs):\u000f XWIKI-7160: Characters '<' and '>' are badly displayed in page title ...  \n11:22\u00a0<vmassol>\u00a0ok page created  \n11:22\u00a0<vmassol>\u00a0for ex:  \n11:22\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/ExtensionCode/ExtensionDocumentationRedirect?id=org.xwiki.rendering:xwiki-rendering-macro-comment  \n11:22\u00a0<sburjan>\u00a0has joined #xwiki  \n11:22\u00a0<vmassol>\u00a0now need to set up the apache rule  \n11:30\u00a0<vmassol>\u00a0guys  \n11:30\u00a0<vmassol>\u00a0I'm creating the jira request for infra to add the apache rewrite  \n11:31\u00a0<vmassol>\u00a0do you have a prefrence for the url (see my email)?  \n11:31\u00a0<vmassol>\u00a0http://xwiki.org/documentation, http://xwiki.org/doc, http://xwiki.org/module, etc  \n11:31\u00a0<vmassol>\u00a0http://doc.xwiki.org  \n11:32\u00a0<vmassol>\u00a0the advnatage of doc.xwiki.org is that we can handle it ourselves  \n11:32\u00a0<vmassol>\u00a0(but it requires a wiki...)  \n11:34\u00a0<vmassol>\u00a0hmm actually we could edit this page: http://www.xwiki.org/xwiki/bin/view/Main/ThisWikiDoesNotExist and do something specific\u2026. only issue is that the name of the asked wiki is not passed in param  \n11:34\u00a0<vmassol>\u00a0we should probably do that  \n11:36\u00a0<vmassol>\u00a0hmm wait  \n11:36\u00a0<vmassol>\u00a0checking something  \n11:36\u00a0<vmassol>\u00a0we do have global redirect  \n11:41\u00a0<vmassol>\u00a0hmm there's another solution  \n11:41\u00a0<vmassol>\u00a0which is to use: http://extensions.xwiki.org?id=  \n11:42\u00a0<vmassol>\u00a0this looks the best to me actually  \n11:42\u00a0<vmassol>\u00a0and the easiest to implement  \n11:44\u00a0<vmassol>\u00a0ok doing that  \n11:48\u00a0<vmassol>\u00a0cool: http://extensions.xwiki.org/?id=org.xwiki.rendering:xwiki-rendering-macro-comment  \n11:50\u00a0<vmassol>\u00a0mail sent  \n11:50\u00a0<vmassol>\u00a0please reply quickly if you don't agree  \n11:57\u00a0<+mflorea>\u00a0vmassol: is there a way to reload the current page from a UI test?  \n11:59\u00a0<+mflorea>\u00a0I could use getDriver().get(getDriver().getCurrentURL()) but I don't like it  \n12:01\u00a0<vmassol>\u00a0otp  \n12:03\u00a0<vmassol>\u00a0mflorea: yes there is  \n12:03\u00a0<vmassol>\u00a0driver.refresh() or something like this  \n12:03\u00a0<vmassol>\u00a0we use that in a few places I think  \n12:03\u00a0<vmassol>\u00a0sel2?  \n12:03\u00a0<+mflorea>\u00a0yes, but I don't see any method like this  \n12:04\u00a0<vmassol>\u00a0let me check  \n12:05\u00a0<vmassol>\u00a0http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.Navigation.html  \n12:06\u00a0<vmassol>\u00a0getDriver().navigate().refresh()  \n12:06\u00a0<+mflorea>\u00a0ok, thanks!  \n12:06\u00a0<vmassol>\u00a0hmm not like this  \n12:06\u00a0<vmassol>\u00a0should work though  \n12:07\u00a0<vmassol>\u00a0oh I know  \n12:07\u00a0<vmassol>\u00a0forget taht  \n12:07\u00a0<vmassol>\u00a0is it ok?  \n12:08\u00a0<vmassol>\u00a0it's mentioned here too: http://seleniumhq.org/docs/03\\_webdriver.html  \n12:08\u00a0<+mflorea>\u00a0yes  \n12:08\u00a0<vmassol>\u00a0ok cool  \n13:01\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f master\u000f \\* re7e661c\u000f \u000f/ (3 files in 2 dirs):\u000f XWIKI-7121: WYSIWYG Editor administration section doesn't save changes ...  \n13:02\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r327267a\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/actionbuttons/actionButtons.js :\u000f XWIKI-7121: WYSIWYG Editor administration section doesn't save changes - http://git.io/BvRkQA  \n13:02\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f stable-3.2.x\u000f \\* r60f4183\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/actionbuttons/actionButtons.js :\u000f XWIKI-7121: WYSIWYG Editor administration section doesn't save changes ...  \n13:03\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f stable-3.1.x\u000f \\* rb02d532\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/actionbuttons/actionButtons.js :\u000f XWIKI-7121: WYSIWYG Editor administration section doesn't save changes ...  \n13:05\u00a0<evalica>\u00a0has joined #xwiki  \n13:06\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:07\u00a0<mflorea>\u00a0has quit  \n13:12\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* r15a739d\u000f \u000f/ (4 files in 4 dirs):\u000f XCOMMONS-61: Provide valid website URLs in XWiki Maven POMs - http://git.io/rEuGpw  \n13:39\u00a0<vmassol>\u00a0ohoh spam  \n13:39\u00a0<vmassol>\u00a0removing  \n13:39\u00a0<+Denis>\u00a0vmassol: have you see my notice about test-ui hanging forever ? it seems this happen after selenium upgrade  \n13:40\u00a0<vmassol>\u00a0Denis: nope haven't checked, you can put back 2.11.0 if you want to verify it works with 2.11.0  \n13:40\u00a0<vmassol>\u00a0does it hang locally for you too?  \n13:40\u00a0<vmassol>\u00a0I can verify locally , what test is it?  \n13:41\u00a0<+Denis>\u00a0vmassol: \u00a0o.x.t.u.a.UserProfileTest  \n13:41\u00a0<+Denis>\u00a0sorry I am unable to run that locally  \n14:25\u00a0<mflorea>\u00a0has joined #xwiki  \n14:34\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* ra464e3a\u000f \u000f/ (35 files in 13 dirs):\u000f XWIKI-7158: Several security holes in the extension script service API ...  \n14:39\u00a0<+mflorea>\u00a0vmassol: ConfigurationSource#getProperty(propertyName, defaultValue) throws NullPointerException is defaultValue is null because CommonsConfigurationSource calls defaultValue.getClass(). The Javadoc doesn't specify that the passed defaultValue must not be null. So which one is wrong, the javadoc or the implementation?  \n14:40\u00a0<+mflorea>\u00a0IMO, getProperty(name) should be equivalent to getProperty(name, null)  \n14:40\u00a0<+mflorea>\u00a0right now this isn't the case  \n14:41\u00a0<vmassol>\u00a0mflorea: would need to look at the code, I don't know out of my head  \n15:22\u00a0<jvdrean>\u00a0has joined #xwiki  \n15:31\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r3ab02c6\u000f \u000f/ xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-default/src/test/java/org/xwiki/component/annotation/ComponentAnnotationLoaderTest.java :\u000f Fix test - http://git.io/vwkFdQ  \n16:09\u00a0<jvdrean>\u00a0has quit  \n16:20\u00a0<+Denis>\u00a0vmassol: have you been able to check localy  \n16:20\u00a0<vmassol>\u00a0no  \n16:20\u00a0<+Denis>\u00a0would you mind if I revert your commit ?  \n16:20\u00a0<vmassol>\u00a0go ahead, but reopen the jira issue  \n16:20\u00a0<+Denis>\u00a0ok  \n16:23\u00a0<CIA-102>\u00a0Denis Gervalle\u000f master\u000f \\* reebee1c\u000f \u000f/ xwiki-enterprise-test/pom.xml :\u000f Revert \"XE-1046: Upgrade to Selenium 2.12.0\" ...  \n16:50\u00a0<+Denis>\u00a0vmassol: it does not hang anymore  \n16:50\u00a0<vmassol>\u00a0I'll check locally  \n17:24\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* r85dd3e7\u000f \u000f/ (2 files in 2 dirs):\u000f Slightly better information for debugging - http://git.io/kIa8lw  \n17:33\u00a0<Denis>\u00a0has quit  \n18:05\u00a0<abusenius>\u00a0has joined #xwiki  \n18:31\u00a0<tmortagne>\u00a0has quit  \n18:49\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r3b78001\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/repository/internal/DefaultCoreExtensionScanner.java :\u000f XWIKI-7162: Core artifacts with classifiers are not listed nor resolved ...  \n19:03\u00a0<vmassol>\u00a0ok i can reprodcue the hang up with 2.12.0  \n19:04\u00a0<vmassol>\u00a0mflorea: what should i do to verify if 2.12.0 fixes the issue I had on mac?  \n19:04\u00a0<vmassol>\u00a0they mentioned something about contenteditable in the RN  \n19:06\u00a0<+mflorea>\u00a0I was watching that issue, but I don't think it's related. You can simply try to run the test locally. Is was always failing for you locally  \n19:06\u00a0<vmassol>\u00a0it hangs on profileEditPage.setUserAbout(USER\\_ABOUT);  \n19:06\u00a0<vmassol>\u00a0digging  \n19:08\u00a0<vmassol>\u00a0it fail on \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0getDriver().findElement(By.xpath(\"//body/div\")).sendKeys(keysToSend);  \n19:11\u00a0<vmassol>\u00a0if I comment out the script execution, it still fails but doesn't hang, it simply times out  \n19:13\u00a0<lucaa>\u00a0has joined #xwiki  \n19:16\u00a0<evalica>\u00a0has quit  \n19:17\u00a0<evalica>\u00a0has joined #xwiki  \n19:17\u00a0<vmassol>\u00a0mflorea: I don't know enough to debug this unfortunately  \n19:18\u00a0<+mflorea>\u00a0vmassol: how does it fail on sendkeys? it doesn't find the element or what?  \n19:18\u00a0<vmassol>\u00a0I'e put a breakpoint before the findElement  \n19:18\u00a0<vmassol>\u00a0and if I print the page source I have:  \n19:18\u00a0<vmassol>\u00a0<body contenteditable=\"false\" class=\"main\" id=\"body\"><div contenteditable=\"true\" style=\"min-height: 20px;\"></div></body></html>  \n19:19\u00a0<vmassol>\u00a0is this correct?  \n19:19\u00a0<vmassol>\u00a0(I got it with getDriver().getPageSource())  \n19:19\u00a0<vmassol>\u00a0getDriver().findElement(By.xpath(\"//body/div\")) seems to return fine  \n19:19\u00a0<vmassol>\u00a0so it seems it's the sendKeys() that hangs  \n19:19\u00a0<Enygma`>\u00a0has quit  \n19:20\u00a0<vmassol>\u00a0(they must have changed something because now this fails on unix too on Jenkins (with 2.12.0) )  \n19:21\u00a0<evalica>\u00a0has quit  \n19:27\u00a0<vmassol>\u00a0still hanging after 5 minutes, killing  \n19:31\u00a0<vmassol>\u00a0ahah seems there's a 2.13.0 out but not on maven central yet  \n19:31\u00a0<vmassol>\u00a0mflorea: I can see this in the RN:  \n19:31\u00a0<vmassol>\u00a0\u00a0\\* Fixed typing into content editable elements with Firefox (2.12 regression)  \n19:31\u00a0<vmassol>\u00a0must be it  \n19:31\u00a0<vmassol>\u00a0:)  \n19:32\u00a0<vmassol>\u00a0I'll uprgade hwen it's avail  \n19:33\u00a0<+mflorea>\u00a0:) wow, they are releasing very fast  \n19:33\u00a0<vmassol>\u00a0yep  \n19:33\u00a0<vmassol>\u00a0hehe: The amount of time a test can remain hanging is now capped (to 3 hours).  \n19:33\u00a0<vmassol>\u00a0:)  \n19:33\u00a0<vmassol>\u00a0that's still quite some time ;)  \n19:34\u00a0<+mflorea>\u00a0strange that is hangs on linux too, I'll debug this, but now I have to go  \n19:34\u00a0<vmassol>\u00a0no need to debug really, it's their bug  \n19:35\u00a0<+mflorea>\u00a0ah, you said it's on 2.12  \n19:35\u00a0<+mflorea>\u00a0well, let's see how 2.13 behaves once it is published in maven central  \n19:36\u00a0<+mflorea>\u00a0tty  \n20:17\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* rca50ca4\u000f \u000f/ xwiki-enterprise-test/pom.xml :\u000f XE-1046: Upgrade to Selenium 2.13.0 - http://git.io/8dsRpA  \n20:29\u00a0<vmassol>\u00a0has quit  \n20:45\u00a0<rrodriguez>\u00a0has joined #xwiki  \n20:48\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r49b4195\u000f \u000f/ (11 files in 7 dirs):\u000f XWIKI-7165: Add user URL in the Extension API - http://git.io/N4Z\\_yQ  \n21:11\u00a0<lucaa>\u00a0has quit  \n21:18\u00a0<evalica>\u00a0has joined #xwiki  \n21:23\u00a0<evalica>\u00a0has quit  \n22:50\u00a0<rrodriguez>\u00a0has quit  \n22:55\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:18\u00a0<mflorea>\u00a0has quit  \n23:34\u00a0<abusenius>\u00a0has quit  \n23:55\u00a0<pgmjsd>\u00a0has quit  \n\n"}