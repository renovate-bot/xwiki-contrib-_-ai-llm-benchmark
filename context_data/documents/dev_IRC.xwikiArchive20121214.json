{"id": "dev:IRC.xwikiArchive20121214", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121214", "title": "IRC Archive for channel #xwiki on 14 December 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<jvdrean>\u00a0has joined #xwiki  \n00:20\u00a0<vmassol>\u00a0has joined #xwiki  \n00:24\u00a0<vmassol>\u00a0has quit  \n01:02\u00a0<polx>\u00a0has quit  \n01:20\u00a0<vmassol>\u00a0has joined #xwiki  \n01:23\u00a0<jvdrean>\u00a0has quit  \n01:24\u00a0<vmassol>\u00a0has quit  \n01:39\u00a0<SvenDowideit>\u00a0has quit  \n01:39\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n02:50\u00a0<cjd>\u00a0has quit  \n02:50\u00a0<cjd>\u00a0has joined #xwiki  \n02:53\u00a0<cjd>\u00a0has quit  \n03:11\u00a0<cjd>\u00a0has joined #xwiki  \n03:14\u00a0<cjd>\u00a0has quit  \n03:16\u00a0<cjd>\u00a0has joined #xwiki  \n03:29\u00a0<tekzilla>\u00a0has quit  \n03:30\u00a0<huhongbo>\u00a0has joined #xwiki  \n03:30\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:30\u00a0<cjd>\u00a0has quit  \n03:31\u00a0<cjd>\u00a0has joined #xwiki  \n03:33\u00a0<cjd>\u00a0has quit  \n03:36\u00a0<cjd>\u00a0has joined #xwiki  \n03:45\u00a0<cjd>\u00a0has quit  \n03:53\u00a0<cjd>\u00a0has joined #xwiki  \n04:17\u00a0<cjd>\u00a0none of the extensions on e.x.o seem to be showing up  \n04:17\u00a0<cjd>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/File+Manager+Application  \n04:17\u00a0<cjd>\u00a0blank page  \n04:20\u00a0<cjd>\u00a0The worst part is, the content of the page is empty so IMO blank page is correct behavior.  \n04:21\u00a0<cjd>\u00a0I understand there was a change to do some magic and make content appear out of nowhere but that's not happening and I can't debug it because I have no idea where the magic comes from.  \n04:21\u00a0<vmassol>\u00a0has joined #xwiki  \n04:26\u00a0<vmassol>\u00a0has quit  \n05:22\u00a0<vmassol>\u00a0has joined #xwiki  \n05:27\u00a0<vmassol>\u00a0has quit  \n05:38\u00a0<huhongbo>\u00a0has quit  \n06:23\u00a0<vmassol>\u00a0has joined #xwiki  \n06:27\u00a0<vmassol>\u00a0has quit  \n06:36\u00a0<polx>\u00a0has joined #xwiki  \n07:24\u00a0<vmassol>\u00a0has joined #xwiki  \n08:11\u00a0<mflorea>\u00a0has joined #xwiki  \n08:40\u00a0<mrvanes>\u00a0has joined #xwiki  \n09:12\u00a0<msmeria>\u00a0has joined #xwiki  \n09:23\u00a0<vmassol>\u00a0creating branches for 4.4M1 test stabilization now  \n09:23\u00a0<vmassol>\u00a0good morning everyone  \n09:24\u00a0<cjd>\u00a0good morning  \n09:24\u00a0<cjd>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/File+Manager+Application <-- something's broken, no content in any of the pages  \n09:24\u00a0<vmassol>\u00a0sburjan`: hi  \n09:24\u00a0<vmassol>\u00a0cjd: indeed, weird, we've seen this before  \n09:25\u00a0<cjd>\u00a0mflorea: did you work on the magical templating implementation?  \n09:25\u00a0<vmassol>\u00a0it must be the same for all extensions no? checking  \n09:25\u00a0<cjd>\u00a0yes  \n09:25\u00a0<vmassol>\u00a0then it's the sheet  \n09:25\u00a0<cjd>\u00a0I don't like this magical sheet idea, I look at the content and there's no content so it's \"correct\"  \n09:25\u00a0<mflorea>\u00a0cjd: \"templating\"?  \n09:25\u00a0<cjd>\u00a0err sheet  \n09:25\u00a0<mflorea>\u00a0cjd: it is called separation of content and view  \n09:26\u00a0<vmassol>\u00a0xwiki is magic  \n09:26\u00a0<mflorea>\u00a0yeah, it can be called anything :)  \n09:26\u00a0<vmassol>\u00a0:)  \n09:26\u00a0<mflorea>\u00a0anywya, what's the problem?  \n09:27\u00a0<cjd>\u00a0mflorea: nothing shows up here: http://extensions.xwiki.org/xwiki/bin/view/Extension/File+Manager+Application  \n09:27\u00a0<mflorea>\u00a0it's really not that complicated  \n09:27\u00a0<vmassol>\u00a0cjd: the only thing missing is the ability to have an edit sheet button in edit mode  \n09:27\u00a0<cjd>\u00a0but if you don't know the secret, there's no way in  \n09:27\u00a0<mflorea>\u00a0cjd: it means that you page is not an extension  \n09:28\u00a0<cjd>\u00a0all pages on extensions.x.o do the same  \n09:28\u00a0<mflorea>\u00a0extesnion have a sheet associated. and in order to view the extension sheet you need to make the page and extenstion  \n09:28\u00a0<vmassol>\u00a0but here I think we have a bug and I'm sure a restart will fix it  \n09:28\u00a0<vmassol>\u00a0I'm restazrting xwiki  \n09:28\u00a0<mflorea>\u00a0let me check  \n09:28\u00a0<mflorea>\u00a0I don't understand why a restart would fix the problem  \n09:28\u00a0<sburjan`>\u00a0vmassol: hi :)  \n09:28\u00a0<cjd>\u00a0white sheet syndrome :)  \n09:29\u00a0<sburjan`>\u00a0:))  \n09:31\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:31\u00a0<mflorea>\u00a0cjd: yes, the plan is to add that link in edit mode  \n09:31\u00a0<sburjan`>\u00a0vmassol: but I won't finish today with all these, don't expect miracles  \n09:32\u00a0<vmassol>\u00a0I trust you! You can do miracles I'm sure :)  \n09:32\u00a0<vmassol>\u00a0especially at this time of the year  \n09:32\u00a0<vmassol>\u00a0sburjan`: don't talk to edy!!  \n09:32\u00a0<vmassol>\u00a0the goal is to do as a user would do :)  \n09:32\u00a0<vmassol>\u00a0it should be easy for a user to do  \n09:32\u00a0<vmassol>\u00a0it's also documented  \n09:33\u00a0<sburjan`>\u00a0vmassol: ok :)  \n09:33\u00a0<vmassol>\u00a0ok so not creating branches just yet  \n09:34\u00a0<vmassol>\u00a0I'll start by finishing my automated jenkins job creation task  \n09:34\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XCOMMONS-87  \n09:34\u00a0<vmassol>\u00a0cjd: fixed for xwiki.org  \n09:34\u00a0<vmassol>\u00a0we definitely have a nasty bug  \n09:36\u00a0<msmeria86>\u00a0has joined #xwiki  \n09:36\u00a0<msmeria>\u00a0has quit  \n09:36\u00a0<cjd>\u00a0oh I can confirm that xwikibot installs with the EM  \n09:36\u00a0<cjd>\u00a0\\o/  \n09:37\u00a0<cjd>\u00a0everyone who worked on the EM should pat themselves on the back, I know how much effort went into making that happen  \n09:38\u00a0<vmassol>\u00a0cjd: yeah! :)  \n09:38\u00a0<vmassol>\u00a0now I just need to finish fixing it or rather fixing xwiki  \n09:38\u00a0<vmassol>\u00a0(since xwiki doesn't seem to support well too many saves on the same doc)  \n09:39\u00a0<cjd>\u00a0as far as fixing the bot, expect to see patches from me since I'm now a user  \n09:39\u00a0<vmassol>\u00a0but not now...  \n09:39\u00a0<vmassol>\u00a0ah great  \n09:39\u00a0<vmassol>\u00a0:)  \n09:39\u00a0<vmassol>\u00a0the thing that would really help  \n09:39\u00a0<cjd>\u00a0cjdns darknet-only wiki :)  \n09:39\u00a0<vmassol>\u00a0is understanding why quick saves to the same doc causes duplicate key issue  \n09:39\u00a0<vmassol>\u00a0and fix it  \n09:40\u00a0<cjd>\u00a0ahh  \n09:40\u00a0<cjd>\u00a0dupe key in hibernate?  \n09:40\u00a0<vmassol>\u00a0yes  \n09:40\u00a0<vmassol>\u00a0I think we need a lock per doc  \n09:40\u00a0<vmassol>\u00a0a synchronized per doc  \n09:40\u00a0<vmassol>\u00a0in hibernate store  \n09:40\u00a0<vmassol>\u00a0I wanted to do it but haven't found the time yet  \n09:41\u00a0<cjd>\u00a0nah, there should be a way without locking  \n09:41\u00a0<vmassol>\u00a0I don't see how  \n09:41\u00a0<vmassol>\u00a0you must have all the hib stuff atomic  \n09:41\u00a0<vmassol>\u00a0and this isn't possible  \n09:41\u00a0<cjd>\u00a0the bot is a single thread right?  \n09:41\u00a0<vmassol>\u00a0yes  \n09:41\u00a0<vmassol>\u00a0each listener is a thread  \n09:41\u00a0<cjd>\u00a0so it's tripping on it's own feet  \n09:41\u00a0<vmassol>\u00a0the logging listener is thus 1 thread  \n09:41\u00a0<vmassol>\u00a0but it sends quick saves in a row  \n09:42\u00a0<vmassol>\u00a0and my guess is that sometimes the first save has not finished  \n09:42\u00a0<vmassol>\u00a0when the second one kicks in  \n09:42\u00a0<cjd>\u00a0hmm  \n09:42\u00a0<vmassol>\u00a0demonstration:  \n09:42\u00a0<vmassol>\u00a0b  \n09:42\u00a0<vmassol>\u00a0d  \n09:42\u00a0<vmassol>\u00a0f  \n09:42\u00a0<vmassol>\u00a0g  \n09:42\u00a0<vmassol>\u00a0gh  \n09:42\u00a0<vmassol>\u00a0h  \n09:42\u00a0<vmassol>\u00a0g  \n09:42\u00a0<vmassol>\u00a0f  \n09:42\u00a0<vmassol>\u00a0see :)  \n09:42\u00a0<cjd>\u00a0I caused it on mine and was thinking about investigating  \n09:42\u00a0<vmassol>\u00a0ah cool I couldn't reproduce locally  \n09:43\u00a0<cjd>\u00a0but it's not simple to route out such issues  \n09:43\u00a0<cjd>\u00a0interesting  \n09:43\u00a0<vmassol>\u00a0I think a sync per doc is required  \n09:43\u00a0<vmassol>\u00a0anyway I'll leave it to you for now  \n09:43\u00a0<vmassol>\u00a0since I really need to work on test stabilization  \n09:43\u00a0<cjd>\u00a0fewer threads and fewer locks make performance better  \n09:43\u00a0<vmassol>\u00a0thats why  \n09:43\u00a0<vmassol>\u00a0I don't say a global lock  \n09:43\u00a0<vmassol>\u00a0and only a per doc lock  \n09:44\u00a0<cjd>\u00a0well the first thing to do is understand the pathology  \n09:45\u00a0<cjd>\u00a0if it doesn't happen on mac, probably specific to linux's way of locking  \n09:46\u00a0<vmassol>\u00a0no  \n09:46\u00a0<vmassol>\u00a0I doubt it's related to mac  \n09:46\u00a0<vmassol>\u00a0it's just that my machine is very fast  \n09:46\u00a0<vmassol>\u00a0IMO  \n09:46\u00a0<vmassol>\u00a0I tried manually only, with a script I guess I could reproduce it easily  \n09:47\u00a0<cjd>\u00a0when you deal with multiple threads, issues come from the kernel architecture and even the processor and ram  \n09:48\u00a0<cjd>\u00a0re the ImpossibleToDeadlockLock which was impossible to deadlock on my machine and on the CI but deadlocked reliably on AndreasJonsson's  \n09:53\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:04\u00a0<mflorea>\u00a0vmassol: the failing WYSIWYG test is caused by a regression of the fullscreen editing feature. Must be some recent change. Checking if it's present on 4.3 branch.  \n10:08\u00a0<vmassol>\u00a0ok  \n10:42\u00a0<msmeria86>\u00a0has quit  \n11:09\u00a0<sburjan`>\u00a0has quit  \n11:17\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:25\u00a0<msmeria>\u00a0has joined #xwiki  \n11:27\u00a0<sburjan>\u00a0has joined #xwiki  \n11:31\u00a0<evalica>\u00a0has joined #xwiki  \n12:00\u00a0<mflorea1>\u00a0has joined #xwiki  \n12:01\u00a0<mflorea>\u00a0has quit  \n12:22\u00a0<Denis1>\u00a0has joined #xwiki  \n12:23\u00a0<Denis1>\u00a0is now known as <Denis>  \n12:31\u00a0<tekzilla>\u00a0has quit  \n12:31\u00a0<tekzilla>\u00a0has joined #xwiki  \n12:34\u00a0<polx>\u00a0has quit  \n12:35\u00a0<polx>\u00a0has joined #xwiki  \n12:44\u00a0<mflorea1>\u00a0has quit  \n13:20\u00a0<mflorea>\u00a0has joined #xwiki  \n15:02\u00a0<SvenDowideit>\u00a0has quit  \n15:07\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n15:17\u00a0<Enygma`>\u00a0has quit  \n15:17\u00a0<evalica>\u00a0has quit  \n15:18\u00a0<mflorea>\u00a0has quit  \n15:18\u00a0<msmeria>\u00a0has quit  \n15:18\u00a0<sburjan>\u00a0has quit  \n15:18\u00a0<evalica>\u00a0has joined #xwiki  \n15:18\u00a0<msmeria>\u00a0has joined #xwiki  \n15:19\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:19\u00a0<mflorea>\u00a0has joined #xwiki  \n15:20\u00a0<sburjan>\u00a0has joined #xwiki  \n15:29\u00a0<SvenDowideit>\u00a0has quit  \n15:31\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n15:45\u00a0<SvenDowideit>\u00a0has quit  \n15:50\u00a0<vmassol>\u00a0has quit  \n16:20\u00a0<vmassol>\u00a0has joined #xwiki  \n16:29\u00a0<vmassol>\u00a0has quit  \n16:35\u00a0<polx>\u00a0has quit  \n16:40\u00a0<jvelo>\u00a0has quit  \n16:47\u00a0<msmeria>\u00a0has quit  \n16:56\u00a0<vmassol>\u00a0has joined #xwiki  \n17:01\u00a0<vmassol>\u00a0has quit  \n17:12\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n17:37\u00a0<SvenDowideit>\u00a0has quit  \n17:40\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n17:52\u00a0<SvenDowideit>\u00a0has quit  \n17:57\u00a0<vmassol>\u00a0has joined #xwiki  \n18:02\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n18:02\u00a0<vmassol>\u00a0has quit  \n18:07\u00a0<abusenius>\u00a0has joined #xwiki  \n18:24\u00a0<SvenDowideit>\u00a0has quit  \n18:25\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n18:28\u00a0<sdumitriu>\u00a0has quit  \n18:35\u00a0<polx>\u00a0has joined #xwiki  \n18:40\u00a0<vmassol>\u00a0has joined #xwiki  \n18:41\u00a0<polx>\u00a0has quit  \n18:42\u00a0<polx>\u00a0has joined #xwiki  \n18:44\u00a0<vmassol>\u00a0has quit  \n19:05\u00a0<jvdrean>\u00a0has quit  \n19:21\u00a0<evalica>\u00a0has quit  \n19:28\u00a0<Enygma`>\u00a0has quit  \n19:37\u00a0<sburjan>\u00a0has quit  \n19:38\u00a0<mflorea>\u00a0has quit  \n19:40\u00a0<SvenDowideit>\u00a0has quit  \n19:41\u00a0<vmassol>\u00a0has joined #xwiki  \n19:42\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n19:51\u00a0<vmassol>\u00a0has quit  \n19:52\u00a0<sdumitriu1>\u00a0has quit  \n19:56\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:29\u00a0<sburjan`>\u00a0has joined #xwiki  \n20:41\u00a0<vmassol>\u00a0has joined #xwiki  \n20:46\u00a0<vmassol>\u00a0has quit  \n21:42\u00a0<vmassol>\u00a0has joined #xwiki  \n21:46\u00a0<vmassol>\u00a0has quit  \n21:49\u00a0<SvenDowideit>\u00a0has quit  \n21:49\u00a0<Inge->\u00a0has quit  \n21:54\u00a0<jvelo>\u00a0has joined #xwiki  \n22:10\u00a0<mrvanes>\u00a0has quit  \n22:20\u00a0<Denis>\u00a0has quit  \n22:43\u00a0<vmassol>\u00a0has joined #xwiki  \n22:47\u00a0<vmassol>\u00a0has quit  \n22:50\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n22:50\u00a0<Inge->\u00a0has joined #xwiki  \n23:43\u00a0<vmassol>\u00a0has joined #xwiki  \n23:45\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n23:48\u00a0<vmassol>\u00a0has quit\n"}