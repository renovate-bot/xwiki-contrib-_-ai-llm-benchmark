{"id": "dev:IRC.xwikiArchive20160415", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160415", "title": "IRC Archive for channel #xwiki on 15 April 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<lynxt>\u00a0has quit  \n00:05\u00a0<lynxt>\u00a0has joined #xwiki  \n00:44\u00a0<abusenius>\u00a0has joined #xwiki  \n01:02\u00a0<abusenius>\u00a0has quit  \n05:26\u00a0<M-cjd>\u00a0has quit  \n05:26\u00a0<M-cjd>\u00a0has joined #xwiki  \n05:32\u00a0<Aranjedeath>\u00a0has quit  \n05:45\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n06:29\u00a0<mflorea>\u00a0has joined #xwiki  \n07:11\u00a0<msmeria>\u00a0has joined #xwiki  \n07:21\u00a0<evalica>\u00a0has joined #xwiki  \n07:28\u00a0<Aranjedeath>\u00a0has quit  \n07:28\u00a0<woshilapin>\u00a0has quit  \n07:28\u00a0<woshilapin>\u00a0has joined #xwiki  \n07:28\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n08:05\u00a0<mflorea>\u00a0has quit  \n08:12\u00a0<vmassol>\u00a0has joined #xwiki  \n08:46\u00a0<phancox>\u00a0has joined #xwiki  \n08:46\u00a0<phancox>\u00a0Hi, anyone working with XWiki version 8.0 on Chrome browser?  \n08:51\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:52\u00a0<vmassol>\u00a0phancox: good morning, yup I'm on chrome  \n08:58\u00a0<msmeria1>\u00a0has joined #xwiki  \n08:59\u00a0<phancox>\u00a0I can't use the cog or menu controls in the dashboard. \u00a0Firefox is OK  \n08:59\u00a0<phancox>\u00a0Menu appears momentarily the disappears after about half a second  \n08:59\u00a0<msmeria>\u00a0has quit  \n08:59\u00a0<vmassol>\u00a0phancox: have you forced-refresh your cache?  \n09:00\u00a0<vmassol>\u00a0phancox: when you edit the dashboard?  \n09:00\u00a0<phancox>\u00a0just did control-F5 with no change  \n09:02\u00a0<vmassol>\u00a0testing on my 8.1-SNAPSHOT instance. It's when you edit the dashboard?  \n09:02\u00a0<vmassol>\u00a0what cog?  \n09:03\u00a0<vmassol>\u00a0there's no cog in the dashboard that I can see  \n09:03\u00a0<phancox>\u00a0hold on a sec just doing a complete cache clear first  \n09:04\u00a0<KermitTheFragger>\u00a0has quit  \n09:04\u00a0<Aranjedeath>\u00a0has quit  \n09:04\u00a0<phancox>\u00a0Nup still there  \n09:04\u00a0<phancox>\u00a0On the top of the dasboard there's an edit pencil followed by \"plus\" then the cog  \n09:05\u00a0<phancox>\u00a0Both the cog and the three dots menu have this problem  \n09:05\u00a0<vmassol>\u00a0that's not related to the dashboard!  \n09:05\u00a0<vmassol>\u00a0you have this on every page  \n09:05\u00a0<vmassol>\u00a0it's the content menu  \n09:05\u00a0<vmassol>\u00a0:)  \n09:05\u00a0<vmassol>\u00a0why do you mention dashboard?  \n09:05\u00a0<vmassol>\u00a0it works on other pages?  \n09:05\u00a0<phancox>\u00a0sorry only just started with verion 8.0 and the UI has changed a bit  \n09:06\u00a0<phancox>\u00a0The dashboard is the only page I've gotten to so far  \n09:06\u00a0<vmassol>\u00a0(yes it changed in 7.2+ actually)  \n09:06\u00a0<phancox>\u00a0I;ve come from 7.0.1  \n09:06\u00a0<vmassol>\u00a0can you try othe pages?  \n09:06\u00a0<vmassol>\u00a0it should be the same issue  \n09:06\u00a0<phancox>\u00a0Same issue on User Directory  \n09:06\u00a0<vmassol>\u00a0so this has been tested countless times on chrome  \n09:07\u00a0<vmassol>\u00a0and there's no known issue  \n09:07\u00a0<vmassol>\u00a0usually the only issue is cache  \n09:07\u00a0<vmassol>\u00a0maybe you have some chrome plugins that are causing the problem?  \n09:07\u00a0<vmassol>\u00a0try incognito mode  \n09:07\u00a0<vmassol>\u00a0to see if it works there  \n09:07\u00a0<phancox>\u00a0OK so version 8.0 as published should be fine?  \n09:07\u00a0<vmassol>\u00a0yes  \n09:08\u00a0<phancox>\u00a0Thanks. \u00a0Hleps to have confirmation before I get stuck into sorting it out ere  \n09:08\u00a0<phancox>\u00a0appreciate you help  \n09:08\u00a0<phancox>\u00a0Glad I should be able to fix it rather than waiting for it to be fixed  \n09:08\u00a0<vmassol>\u00a0:)  \n09:09\u00a0<phancox>\u00a0Cheers  \n09:09\u00a0<vmassol>\u00a0np, bye  \n09:10\u00a0<phancox>\u00a0BTW also fails when incognito  \n09:10\u00a0<vmassol>\u00a0maybe related to your version of chrome  \n09:11\u00a0<vmassol>\u00a0fyi I'm on Version 46.0.2490.71 (64-bit)  \n09:11\u00a0<vmassol>\u00a0(mac)  \n09:11\u00a0<phancox>\u00a0When I went to look it decide to update. \u00a0Hopefully that will be it  \n09:12\u00a0<phancox>\u00a0Was 49.0.2623.112 m (64-bit) on windows 10  \n09:12\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:12\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n09:12\u00a0<phancox>\u00a0Nuo still no go  \n09:13\u00a0<phancox>\u00a0I'll start with an empty chrome and see if that helps  \n09:13\u00a0<vmassol>\u00a0k  \n09:13\u00a0<vmassol>\u00a0let us know  \n09:14\u00a0<phancox>\u00a0I'm now on 50.0.2661.75 m (64-bit) are mac versions different are are you running an old version?  \n09:14\u00a0<vmassol>\u00a0it says up to date for me  \n09:18\u00a0<mflorea>\u00a0has joined #xwiki  \n09:21\u00a0<Pbas>\u00a0Good morning folks, \u00a0FYI myxwiki.org is down.  \n09:21\u00a0<vmassol>\u00a0hi Pbas, yup got 40 failing to restart emails from yesterday night...  \n09:22\u00a0<vmassol>\u00a0the restart is having some problem  \n09:22\u00a0<vmassol>\u00a0we'll fix it  \n09:22\u00a0<Pbas>\u00a0ha ok thxs for the info  \n09:22\u00a0<lkrejci>\u00a0has joined #xwiki  \n09:23\u00a0<Pbas>\u00a0to restart emails?  \n09:23\u00a0<vmassol>\u00a0we're using xinit  \n09:23\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Xinit  \n09:23\u00a0<Pbas>\u00a0good to know :-)  \n09:25\u00a0<woshilapin>\u00a0has quit  \n09:26\u00a0<Pbas>\u00a0Then when myxwiki.org is down it is not necessary that I tell you?  \n09:26\u00a0<Pbas>\u00a0you already know  \n09:26\u00a0<vmassol>\u00a0you can but we get alerts :)  \n09:27\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:27\u00a0<mflorea>\u00a0has quit  \n09:28\u00a0<mflorea>\u00a0has joined #xwiki  \n09:29\u00a0<Pbas>\u00a0Have you got a sympa list to receive alerts (or it is probably confidentiel because email content)?  \n09:29\u00a0<Pbas>\u00a0or a simple html page?  \n09:29\u00a0<Pbas>\u00a0update by a cron  \n09:29\u00a0<Pbas>\u00a0\\* updated  \n09:30\u00a0<vmassol>\u00a0btw gid you get a nice UI saying that the site is down or not?  \n09:31\u00a0<Pbas>\u00a0gid?  \n09:31\u00a0<Pbas>\u00a0ha did  \n09:32\u00a0<Pbas>\u00a0yes we have a team to check our xwiki  \n09:32\u00a0<Pbas>\u00a0they use a tool (I can't remember the name)  \n09:33\u00a0<Pbas>\u00a0ha nagios  \n09:33\u00a0<vmassol>\u00a0yes we have that too: nagios, cacti, etc  \n09:33\u00a0<acotiuga>\u00a0has joined #xwiki  \n09:34\u00a0<Pbas>\u00a0to avoid to annoy I wanted to know if you have a page to indicate xwiki is down  \n09:34\u00a0<Pbas>\u00a0and you know it  \n09:35\u00a0<vmassol>\u00a0we have pages but they're internal  \n09:35\u00a0<phancox>\u00a0has quit  \n09:35\u00a0<Pbas>\u00a0ok I understand ty  \n09:41\u00a0<pascal\\_>\u00a0hi  \n10:02\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:04\u00a0<vmassol>\u00a0Pbas: fixed for myxwiki.org  \n10:04\u00a0<vmassol>\u00a0I've raised http://jira.xwiki.org/browse/XE-1549 fyi  \n10:05\u00a0<Pbas>\u00a0cool ty :)  \n10:10\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:11\u00a0<acotiuga>\u00a0Hello!  \n10:11\u00a0<acotiuga>\u00a0Could anyone take a look at any of PRs that I created: https://github.com/xwiki/xwiki-platform/pulls/acotiuga ?  \n10:13\u00a0<evalica1>\u00a0has joined #xwiki  \n10:14\u00a0<evalica>\u00a0has quit  \n10:15\u00a0<lkrejci>\u00a0has quit  \n10:15\u00a0<woshilapin>\u00a0has quit  \n10:17\u00a0<vmassol>\u00a0anyone remembers if we had a syntax guide for xwiki/1.0?  \n10:20\u00a0<vmassol>\u00a0mflorea and all: I'd like to progress on the tmp resource handler. Marius, could you check my replies from yestrday?  \n10:20\u00a0<vmassol>\u00a0thanks  \n10:20\u00a0<lkrejci>\u00a0has joined #xwiki  \n10:20\u00a0<vmassol>\u00a0Enygma`: would be interested to get your feedback too  \n10:21\u00a0<lucaa>\u00a0has joined #xwiki  \n10:25\u00a0<Enygma`>\u00a0vmassol: will read  \n10:29\u00a0<Pbas>\u00a0@vmassol: here? http://lod.springer.com/wiki/bin/view/XWiki/XWikiSyntax?syntax=1.0  \n10:31\u00a0<vmassol>\u00a0or here: http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiSyntax?syntax=1.0  \n10:31\u00a0<vmassol>\u00a0thanks  \n10:31\u00a0<Pbas>\u00a0ha yes, smart  \n10:32\u00a0<vmassol>\u00a0I think we need some place where we can see ref docs for all syntaxes  \n10:32\u00a0<ansuz>\u00a0syntax.xwiki.org?  \n10:32\u00a0<vmassol>\u00a0ClemensR: too bad the help app only lists the currently avail syntaxes  \n10:32\u00a0<vmassol>\u00a0we already have rendering.xwiki.org ansuz  \n10:33\u00a0<ansuz>\u00a0perfect :D  \n10:33\u00a0<vmassol>\u00a0however the links are wrong now for xwiki/2.1, xwiki/1.0  \n10:33\u00a0<vmassol>\u00a0etc  \n10:34\u00a0<vmassol>\u00a0the help app has not been installed or upgraded on that wiki, I can do that but still the help app only lists the current syntaxes for the wiki  \n10:34\u00a0<vmassol>\u00a0instead of all syntaxes  \n10:34\u00a0<vmassol>\u00a0that should be good enough actually  \n10:35\u00a0<vmassol>\u00a0since I can pass the query string in the link  \n10:35\u00a0<vmassol>\u00a0fixing  \n10:37\u00a0<Pbas>\u00a0you have your doc here with xwiki version on url: https://network.xwiki.com/xwiki/bin/view/DocXE27Fr/SyntaxesXWiki  \n10:40\u00a0<Slashman>\u00a0has joined #xwiki  \n10:44\u00a0<pascal\\_>\u00a0i get very slow cpu perfs on the wiki, anyone may give me a hint ?  \n10:44\u00a0<M-mouhb>\u00a0has quit  \n10:45\u00a0<pascal\\_>\u00a0cpu peak to 100% per core per page rendered  \n10:45\u00a0<Slashman>\u00a0has quit  \n10:45\u00a0<pascal\\_>\u00a0andf debug=true show very long time for compute or execute code  \n10:45\u00a0<lucaa>\u00a0has quit  \n10:45\u00a0<lkrejci>\u00a0has joined #xwiki  \n10:45\u00a0<lucaa>\u00a0has joined #xwiki  \n10:46\u00a0<M-cjd>\u00a0has quit  \n10:47\u00a0<Pbas>\u00a0Hi you can read this doc: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances#HMemory  \n10:47\u00a0<vmassol>\u00a0ok the links on http://rendering.xwiki.org/xwiki/bin/view/Main/#HSupportedSyntaxes are now fixed  \n10:47\u00a0<Pbas>\u00a0my first xwiki I didn't give enough memory to run  \n10:47\u00a0<pascal\\_>\u00a0it has 6GB for 10 users  \n10:48\u00a0<vmassol>\u00a0@Pbas: yes I can and it's instantaneous  \n10:48\u00a0<pascal\\_>\u00a0should be moooor than enought  \n10:48\u00a0<vmassol>\u00a0oh wait  \n10:48\u00a0<vmassol>\u00a0misread :)  \n10:48\u00a0<vmassol>\u00a0forget what I said  \n10:48\u00a0<Pbas>\u00a0np  \n10:48\u00a0<vmassol>\u00a0Pbas is right, that's the page that should help you  \n10:49\u00a0<vmassol>\u00a0you should get like 100-200ms page loads  \n10:49\u00a0<vmassol>\u00a0(not just memory)  \n10:50\u00a0<M-mouhb>\u00a0has joined #xwiki  \n10:51\u00a0<M-cjd>\u00a0has joined #xwiki  \n10:52\u00a0<vmassol>\u00a0mflorea: replied again  \n10:53\u00a0<pascal\\_>\u00a0i ve been throught this page over and over  \n10:53\u00a0<vmassol>\u00a0pascal\\_: you can use ?debug=true in the URL  \n10:53\u00a0<vmassol>\u00a0and check at the bottom of the page the timiings and what takes long  \n10:54\u00a0<vmassol>\u00a0do you have a custom skin for example?  \n10:54\u00a0<pascal\\_>\u00a0yes thats \u00a0what i did  \n10:54\u00a0<vmassol>\u00a0so what takes long?  \n10:54\u00a0<vmassol>\u00a0have you verified the DB indexes too?  \n10:54\u00a0<pascal\\_>\u00a0execute and compute steps  \n10:54\u00a0<pascal\\_>\u00a0i think it s \u00a0the page rendering  \n10:55\u00a0<pascal\\_>\u00a0not always , but \u00a0\u00a0most of the time  \n10:55\u00a0<pascal\\_>\u00a0i render to html5 , maybe i should switch to xhtml1  \n10:56\u00a0<pascal\\_>\u00a0search engine is built in solr \u00a0instance  \n10:56\u00a0<pascal\\_>\u00a0skin is XWiki.DefaultSkin  \n10:56\u00a0<pascal\\_>\u00a0base skin flamingo  \n10:57\u00a0<vmassol>\u00a0what you could do is install javamelody  \n10:57\u00a0<vmassol>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Monitoring#HJavaMelody  \n10:57\u00a0<vmassol>\u00a0and you'll be able to see the detail at the level of the db  \n10:57\u00a0<vmassol>\u00a0ie what requests take long, etc  \n11:01\u00a0<vmassol>\u00a0any custom panels that could take long to render?  \n11:01\u00a0<pascal\\_>\u00a0there s no custom panel  \n11:01\u00a0<pascal\\_>\u00a0i just realised that on the same tomcat instance , there s a \u00a0wiki which is fast  \n11:01\u00a0<pascal\\_>\u00a0, i ll try to get adminr ight , and see the differences, but at first sight , it s not the same theme  \n11:02\u00a0<vmassol>\u00a0anyway you should install javamelody, it's the best tool  \n11:03\u00a0<Pbas>\u00a0Is javamelody lower perf ?  \n11:03\u00a0<Pbas>\u00a0or is it only to debug perf?  \n11:03\u00a0<pascal\\_>\u00a0i just can t spend too much time debugging this, at one point the boss will get bored and will want to switch to saas sharepoint  \n11:04\u00a0<pascal\\_>\u00a0it s \u00a0too debug , but it s \u00a0too \u00a0low level  \n11:16\u00a0<vmassol>\u00a0pascal\\_: if you want saas then you get xwiki in saas too :)  \n11:16\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/Hosted/  \n11:16\u00a0<vmassol>\u00a0just know that there's no issue with perf in xwiki  \n11:17\u00a0<vmassol>\u00a0I know users having millions of docs with hundreds of thousands of users and it scales well with good perfs  \n11:17\u00a0<vmassol>\u00a0:)  \n11:20\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:21\u00a0<vmassol>\u00a0mflorea: wdyt of my last mail with the resolver/seralizer for URLs? Seems easy enough and can be useful elsewhere too  \n11:22\u00a0<vmassol>\u00a0(I'd need it in the reference URL scheme too anyway)  \n11:24\u00a0<Pbas>\u00a0Is someone know if javamelody lower perf \u00a0or it is only to debug purpose?  \n11:25\u00a0<vmassol>\u00a0pascal\\_: you're asking if javamelody affects perfs?  \n11:25\u00a0<Pbas>\u00a0yep  \n11:25\u00a0<vmassol>\u00a0not much, xwiki.org, myxwiki.org are all running it  \n11:25\u00a0<vmassol>\u00a0it's meant to be used in prod if that's your question  \n11:26\u00a0<Pbas>\u00a0thxs you well understand me  \n11:26\u00a0<vmassol>\u00a0at xwiki sas we use everywhere, it's a must have for us  \n11:26\u00a0<pascal\\_>\u00a0i switched from flamingo to colibro skin and it seems pages loads faster  \n11:27\u00a0<Pbas>\u00a0perfect I will use it then thxs  \n11:27\u00a0<vmassol>\u00a0pascal\\_: you shouldn't do that  \n11:27\u00a0<vmassol>\u00a0colbiri is deprecated now  \n11:27\u00a0<vmassol>\u00a0\\*colibri  \n11:27\u00a0<vmassol>\u00a0pascal\\_: did you see my messages above?  \n11:28\u00a0<vmassol>\u00a0(and also the ones I sent you privately)  \n11:28\u00a0<pascal\\_>\u00a0abourt javamelody ?  \n11:28\u00a0<vmassol>\u00a0nope  \n11:28\u00a0<vmassol>\u00a0about saas  \n11:28\u00a0<pascal\\_>\u00a0haaa yes  \n11:28\u00a0<pascal\\_>\u00a0boss wont \u00a0take it that way  \n11:28\u00a0<pascal\\_>\u00a0he just want us to go everything MS  \n11:28\u00a0<vmassol>\u00a0haha  \n11:29\u00a0<pascal\\_>\u00a0rendertemplate view is at 99%  \n11:29\u00a0<vmassol>\u00a0have you installed javamelody?  \n11:29\u00a0<vmassol>\u00a0takes about 3 mn  \n11:29\u00a0<pascal\\_>\u00a01600ms  \n11:29\u00a0<vmassol>\u00a0got to go back to my code, will continue to reply but more slowly  \n11:29\u00a0<pascal\\_>\u00a0nes recommended theme is flamingo so ?  \n11:54\u00a0<pascal\\_>\u00a0is there a simple way to know if rendercahce is working ?  \n12:04\u00a0<M-cjd>\u00a0has quit  \n12:06\u00a0<vmassol>\u00a0pascal\\_: what is rendercache?  \n12:09\u00a0<M-cjd>\u00a0has joined #xwiki  \n12:11\u00a0<pascal\\_>\u00a0\u00a0core.renderingcache.enabled=true  \n12:13\u00a0<vmassol>\u00a0pascal\\_: you really shoudl't need this at all  \n12:13\u00a0<vmassol>\u00a0even without this you'll get 100-200ms per page load  \n12:13\u00a0<pascal\\_>\u00a0haa  \n12:13\u00a0<vmassol>\u00a0if you use this you'll just hide the real problem you have  \n12:14\u00a0<vmassol>\u00a0this is for exterme cases when you have pages doing lots and lots of lenghty computations  \n12:14\u00a0<vmassol>\u00a0and you want to cache the results  \n12:14\u00a0<vmassol>\u00a0(btw you should probably just use the cache macro for those cases)  \n12:15\u00a0<pascal\\_>\u00a0maybe it s my java version wich is slow  \n12:15\u00a0<vmassol>\u00a0I don't think so  \n12:16\u00a0<vmassol>\u00a0have you installed javamelody?  \n12:16\u00a0<pascal\\_>\u00a0ok , ok , doing now  \n12:16\u00a0<vmassol>\u00a0:)  \n12:16\u00a0<vmassol>\u00a0(fyi it's lunch time here, I'll be back after)  \n12:40\u00a0<lucaa>\u00a0has quit  \n12:41\u00a0<Slashman>\u00a0has joined #xwiki  \n12:57\u00a0<Denis1>\u00a0has quit  \n13:51\u00a0<rstandy>\u00a0has joined #xwiki  \n14:13\u00a0<pascal\\_>\u00a0vmassol, ok , javamelody installed, no more additional info opn why it s \u00a0slow  \n14:14\u00a0<pascal\\_>\u00a0it s not the db  \n14:14\u00a0<pascal\\_>\u00a0db is 2ms  \n14:14\u00a0<pascal\\_>\u00a0it s not the memory , 2gb out of 6gb  \n14:14\u00a0<vmassol>\u00a0pascal\\_: so you followed a query and checked all the queries executed for a given request?  \n14:14\u00a0<vmassol>\u00a0I mean  \n14:15\u00a0<pascal\\_>\u00a0jmelody does it for me .. i guess  \n14:15\u00a0<vmassol>\u00a0\u2014> so you followed a http request and checked all the DB queries executed for that request?  \n14:15\u00a0<vmassol>\u00a0yes it lists all the DB queries for a given http request  \n14:15\u00a0<pascal\\_>\u00a0jmelody has sql statistics  \n14:15\u00a0<vmassol>\u00a0you need to click on \"see details\"  \n14:16\u00a0<pascal\\_>\u00a0i saw  \n14:16\u00a0<pascal\\_>\u00a0there are a \u00a0few queries at > 200ms , but not a lot, they totalize maybe 50 hits  \n14:17\u00a0<vmassol>\u00a0just checed it's on \"Statistics http - 1 day\"  \n14:17\u00a0<vmassol>\u00a0(Details link)  \n14:18\u00a0<vmassol>\u00a0also in system information on the main page what do you read on memory  \n14:18\u00a0<pascal\\_>\u00a0on http statitiics , it s \u00a025%red \u00a025% yellow \u00a050% green  \n14:18\u00a0<vmassol>\u00a0for ex for xwiki.org I get:  \n14:18\u00a0<vmassol>\u00a0Java memory used:  \n14:18\u00a0<vmassol>\u00a0pascal\\_: check a single http request and check the details  \n14:18\u00a0<vmassol>\u00a0oops  \n14:18\u00a0<vmassol>\u00a0pbad paste  \n14:18\u00a0<vmassol>\u00a0Java memory used: 907 Mb / 1,315 Mb  \n14:18\u00a0<vmassol>\u00a0BTW 6GB is way too much  \n14:19\u00a0<pascal\\_>\u00a0java memory used: 2,224 Mb / 6,110 Mb  \n14:19\u00a0<vmassol>\u00a0you'll slow down a lot the JVM  \n14:19\u00a0<vmassol>\u00a0that's the first thing to fix  \n14:19\u00a0<vmassol>\u00a0you shouldn't give more than 2MB  \n14:19\u00a0<vmassol>\u00a0max  \n14:19\u00a0<vmassol>\u00a0as indicated on http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Performances#HMemory  \n14:19\u00a0<vmassol>\u00a0otherwise you'll incur a lot of unnecessary GCs  \n14:20\u00a0<pascal\\_>\u00a0it s fine as long as garbage collecvtor doesn t trigger , and right now it doesnt  \n14:20\u00a0<vmassol>\u00a0an 2.2MB used is also not normal  \n14:20\u00a0<vmassol>\u00a0at all  \n14:20\u00a0<vmassol>\u00a0XWiki doesn't use more than 1MB  \n14:20\u00a0<vmassol>\u00a0unless you've configured the doc cache to a huge value  \n14:20\u00a0<pascal\\_>\u00a0100  \n14:21\u00a0<vmassol>\u00a0that's ok, with that value xwiki shouldn't eat more than 600MB of memory  \n14:21\u00a0<pascal\\_>\u00a02Gb xmx and no cache is what it was last week  \n14:21\u00a0<pascal\\_>\u00a0and performance was same or worst than today  \n14:21\u00a0<vmassol>\u00a0no cache?  \n14:21\u00a0<vmassol>\u00a0there are about 20 caches in xwiki  \n14:21\u00a0<vmassol>\u00a0so no cache doesn't mean much ;)  \n14:22\u00a0<vmassol>\u00a0if you mean no doc cache then it cannot work for sure  \n14:22\u00a0<vmassol>\u00a0this is the most important cache  \n14:22\u00a0<vmassol>\u00a0500-1000 is a good value for a medium size wiki  \n14:22\u00a0<vmassol>\u00a0even large size actually  \n14:22\u00a0<vmassol>\u00a0we have 500 on xwiki.iorg I think  \n14:23\u00a0<vmassol>\u00a0what I pasted above was from xwiki.org  \n14:23\u00a0<vmassol>\u00a0(Java memory used: 907 Mb / 1,315 Mb )  \n14:23\u00a0<vmassol>\u00a0kind of high ATM actually ;)  \n14:24\u00a0<vmassol>\u00a0I'd suggest you go back with the defaults, maybe you're done some wrong tuning somewhere, iit's hard to help you without knowing all you did on your instance  \n14:25\u00a0<vmassol>\u00a0forget renderingcache  \n14:25\u00a0<vmassol>\u00a0as I said you shouldn't use that  \n14:25\u00a0<vmassol>\u00a0what I can tell you is that 2.2MB is really too high  \n14:27\u00a0<pascal\\_>\u00a0haaa  \n14:28\u00a0<pascal\\_>\u00a0we have elmbeded solr, lucene, can it be the cause ?  \n14:28\u00a0<pascal\\_>\u00a0embeded  \n14:28\u00a0<vmassol>\u00a0it could if you have really a lot of docs  \n14:28\u00a0<vmassol>\u00a0ie a large wiki  \n14:28\u00a0<vmassol>\u00a0for xwiki.org for ex we have separated solr from xwiki  \n14:29\u00a0<vmassol>\u00a0it was taking a lot of memory indeed  \n14:29\u00a0<mflorea>\u00a0has quit  \n14:29\u00a0<ClemensR>\u00a0has quit  \n14:29\u00a0<vmassol>\u00a0(but there are lots of docs on xwiki.org)  \n14:29\u00a0<vmassol>\u00a0(tens of thousands)  \n14:29\u00a0<vmassol>\u00a0so yes that would be a good thing to try out on your side indeed  \n14:30\u00a0<ClemensR>\u00a0has joined #xwiki  \n14:30\u00a0<pascal\\_>\u00a0hummm nwo that i think of it , one of the wiki has correct perfs  \n14:31\u00a0<lkrejci>\u00a0has quit  \n14:31\u00a0<pascal\\_>\u00a0it s set on lucene, 8000 \u00a0indexed documents  \n14:31\u00a0<vmassol>\u00a0lucene or solr  \n14:31\u00a0<vmassol>\u00a0we index a lot more with solr  \n14:32\u00a0<pascal\\_>\u00a0it says lucene  \n14:32\u00a0<vmassol>\u00a0lucene is old now and deprecated since a long time  \n14:32\u00a0<vmassol>\u00a0(solr uses lucene under the hood)  \n14:32\u00a0<pascal\\_>\u00a0and the bad performing is solr  \n14:32\u00a0<mflorea>\u00a0has joined #xwiki  \n14:32\u00a0<vmassol>\u00a0xwiki offers several search providers  \n14:32\u00a0<vmassol>\u00a0database, lucene, solr  \n14:32\u00a0<vmassol>\u00a0the recommended one is solr  \n14:32\u00a0<vmassol>\u00a0(the default)  \n14:32\u00a0<vmassol>\u00a0since XWiki 6.x I think  \n14:33\u00a0<rstandy>\u00a0has quit  \n14:34\u00a0<lkrejci>\u00a0has joined #xwiki  \n14:48\u00a0<rstandy>\u00a0has joined #xwiki  \n14:57\u00a0<rstandy>\u00a0has quit  \n15:05\u00a0<msmeria1>\u00a0has quit  \n15:14\u00a0<Slashman>\u00a0has quit  \n15:14\u00a0<Slashman>\u00a0has joined #xwiki  \n15:48\u00a0<woshilapin>\u00a0Hi devs, I have some weird question about Velocity  \n15:48\u00a0<woshilapin>\u00a0I'm having an Java object  \n15:48\u00a0<woshilapin>\u00a0And I'd like to have a .vm file where I inject this object  \n15:49\u00a0<woshilapin>\u00a0Final goal is to get the HTML result of it  \n15:49\u00a0<woshilapin>\u00a0But, I'm using #panelheder #panelfooter so if possible, I'd like to have XWiki context available  \n15:49\u00a0<woshilapin>\u00a0Will it be possible just by getting a new VelocityContext instance?  \n15:52\u00a0<woshilapin>\u00a0mmm, I guess I should inject the one from XWiki  \n15:53\u00a0<woshilapin>\u00a0(note that it's only the #panelheader and #panelfooter so I could also do it without XWiki context since these 2 macros are pretty simple I believe)  \n15:58\u00a0<vmassol>\u00a0\"And I'd like to have a .vm file where I inject this object\" you mean bind your object in the velocity context I guess. There's a VelocityContextInitliazer component for this  \n15:59\u00a0<vmassol>\u00a0usually the best practice is through a script service though...  \n16:01\u00a0<lkrejci>\u00a0has quit  \n16:02\u00a0<lkrejci>\u00a0has joined #xwiki  \n16:07\u00a0<woshilapin>\u00a0Through a ScriptService?  \n16:07\u00a0<woshilapin>\u00a0My problem is the following  \n16:08\u00a0<woshilapin>\u00a0I actually have a panel that is getting this Java object through a service  \n16:08\u00a0<woshilapin>\u00a0but  \n16:08\u00a0<woshilapin>\u00a0this panel is refreshed only when page refresh  \n16:08\u00a0<woshilapin>\u00a0But my server also receives events and I'd like to trigger some refresh of the panel but without refreshing the page (because there is also an iframe in it)  \n16:09\u00a0<woshilapin>\u00a0The only way I came out with for the server to ask the client to refresh is websocket  \n16:09\u00a0<woshilapin>\u00a0So here I am  \n16:09\u00a0<woshilapin>\u00a0I have this Velocity code that can display the panel  \n16:10\u00a0<woshilapin>\u00a0And I have a Java Object that I can send through WebSocket to some javascript code  \n16:10\u00a0<woshilapin>\u00a0But then javascript is receiving XML, that it would have to render... the same way that the velocity code is already doing  \n16:11\u00a0<woshilapin>\u00a0So I was thinking doing the rendering before and sending HTML through websocket  \n16:11\u00a0<woshilapin>\u00a0(instead of Jax-B XML generated from the Java object)  \n16:11\u00a0<vmassol>\u00a0FTR we'd like to do this too in the future: http://jira.xwiki.org/browse/XWIKI-10911  \n16:12\u00a0<woshilapin>\u00a0:-)  \n16:12\u00a0<vmassol>\u00a0so you're looking for a JS rendering api?  \n16:12\u00a0<vmassol>\u00a0so yes better is to do that server side  \n16:12\u00a0<vmassol>\u00a0and return the syntax asked  \n16:12\u00a0<vmassol>\u00a0(not HTML though)  \n16:12\u00a0<vmassol>\u00a0what the client requires  \n16:13\u00a0<woshilapin>\u00a0mmm, no especially, I'm looking into a way of reusing my Velocity code in order to send the rendered content to Javascript (which will just inject in the DOM)  \n16:13\u00a0<vmassol>\u00a0actually it can be html  \n16:13\u00a0<vmassol>\u00a0not sure what's your question and what is the problem :)  \n16:13\u00a0<mflorea>\u00a0has quit  \n16:14\u00a0<woshilapin>\u00a0I just wonder how I can render a .vm file on server, using the already existing VelocityContext that XWiki has  \n16:14\u00a0<woshilapin>\u00a0I'll take a look into the VelocityContextInitializer  \n16:14\u00a0<vmassol>\u00a0so you want something magic that copies the velocity in a request  \n16:14\u00a0<lkrejci>\u00a0has quit  \n16:14\u00a0<vmassol>\u00a0on the server that velocity is rendered  \n16:14\u00a0<lkrejci>\u00a0has quit  \n16:14\u00a0<vmassol>\u00a0and returned as html to the client side  \n16:14\u00a0<vmassol>\u00a0:)  \n16:15\u00a0<mflorea>\u00a0has joined #xwiki  \n16:15\u00a0<vmassol>\u00a0the problem is that you can't pass the xwiki context  \n16:15\u00a0<vmassol>\u00a0so that won't work  \n16:15\u00a0<vmassol>\u00a0but you can make it work with restrictions  \n16:15\u00a0<vmassol>\u00a0\\*restrictions  \n16:15\u00a0<vmassol>\u00a0ie known avail bindings  \n16:18\u00a0<woshilapin>\u00a0I'll try to make it work without XWiki context first and then I'll see if I can do better  \n16:19\u00a0<woshilapin>\u00a0Maybe I'll discover during the process what really is my question and objective O\\_o  \n16:19\u00a0<woshilapin>\u00a0(hey, it's Friday after all!)  \n16:21\u00a0<vmassol>\u00a0gl  \n16:24\u00a0<Bugendolf>\u00a0has quit  \n16:38\u00a0<acotiuga>\u00a0has quit  \n16:42\u00a0<Pbas>\u00a0has quit  \n17:09\u00a0<evalica1>\u00a0has quit  \n17:13\u00a0<Trefex\\_>\u00a0has joined #xwiki  \n17:13\u00a0<Trefex>\u00a0has quit  \n17:15\u00a0<vmassol>\u00a0Enygma`: checking just in case: your commit re \"The User profile page still manually includes the sheet\" won't cause any conflict issue during upgrades with EM, right?  \n17:16\u00a0<vmassol>\u00a0(haven't reviewed the commit)  \n17:17\u00a0<KermitTheFragger>\u00a0has quit  \n17:19\u00a0<ClemensR1>\u00a0has joined #xwiki  \n17:21\u00a0<Enygma`>\u00a0vmassol: should not affect anything  \n17:21\u00a0<vmassol>\u00a0k cool  \n17:21\u00a0<Enygma`>\u00a0it`s a wiki page or code pushed on existing pages  \n17:21\u00a0<Enygma`>\u00a0just the content of a new user page, when it`s created, no longer has the manual include  \n17:22\u00a0<vmassol>\u00a0ah yes indeed, it doesn't change existing user profile pages  \n17:25\u00a0<ClemensR>\u00a0has quit  \n17:25\u00a0<M-vmassol>\u00a0has quit  \n17:25\u00a0<fcharton>\u00a0has quit  \n17:27\u00a0<M-vmassol>\u00a0has joined #xwiki  \n17:30\u00a0<fcharton>\u00a0has joined #xwiki  \n17:44\u00a0<lkrejci>\u00a0has quit  \n17:45\u00a0<lkrejci>\u00a0has joined #xwiki  \n18:03\u00a0<mflorea>\u00a0has quit  \n18:13\u00a0<D-Spair>\u00a0has quit  \n18:14\u00a0<woshilapin>\u00a0has quit  \n18:15\u00a0<D-Spair>\u00a0has joined #xwiki  \n18:22\u00a0<fcharton>\u00a0has quit  \n18:22\u00a0<fcharton>\u00a0has joined #xwiki  \n18:22\u00a0<ClemensR1>\u00a0has quit  \n18:23\u00a0<lkrejci>\u00a0has quit  \n18:33\u00a0<Daemoen>\u00a0\u00a0morning folks  \n18:33\u00a0<vmassol>\u00a0sandstorm io question? :)  \n18:33\u00a0<vmassol>\u00a0good morning  \n18:45\u00a0<Enygma`>\u00a0has quit  \n18:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n19:08\u00a0<Slashman>\u00a0has quit  \n19:25\u00a0<M-mouhb1>\u00a0has joined #xwiki  \n19:25\u00a0<M-vmassol1>\u00a0has joined #xwiki  \n19:27\u00a0<M-vmassol>\u00a0has quit  \n19:27\u00a0<M-cjd>\u00a0has quit  \n19:46\u00a0<M-cjd>\u00a0has joined #xwiki  \n20:58\u00a0<Chuguniy>\u00a0has joined #xwiki  \n21:22\u00a0<D-Spair>\u00a0has quit  \n21:24\u00a0<abusenius>\u00a0has joined #xwiki  \n21:28\u00a0<D-Spair>\u00a0has joined #xwiki  \n22:10\u00a0<woshilapin>\u00a0has quit  \n22:23\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n22:23\u00a0<abusenius>\u00a0has quit  \n22:47\u00a0<vmassol>\u00a0has quit  \n23:11\u00a0<Aranjedeath>\u00a0has quit  \n23:13\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n23:39\u00a0<woshilapin>\u00a0has joined #xwiki  \n23:50\u00a0<D-Spair>\u00a0has quit  \n23:55\u00a0<D-Spair>\u00a0has joined #xwiki\n"}