{"id": "dev:IRC.xwikiArchive20140128", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140128", "title": "IRC Archive for channel #xwiki on 28 January 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has joined #xwiki  \n00:09\u00a0<vrachieru>\u00a0has joined #xwiki  \n00:13\u00a0<vrachieru>\u00a0has quit  \n00:58\u00a0<lucaa>\u00a0has quit  \n01:09\u00a0<vmassol>\u00a0has quit  \n01:34\u00a0<vmassol>\u00a0has joined #xwiki  \n02:10\u00a0<the\\_codebot>\u00a0has quit  \n04:30\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis1>\u00a0has quit  \n07:40\u00a0<Denis1>\u00a0has joined #xwiki  \n08:03\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:13\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:21\u00a0<msmeria>\u00a0has joined #xwiki  \n08:29\u00a0<evalica>\u00a0has joined #xwiki  \n08:30\u00a0<vrachieru>\u00a0has quit  \n09:17\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:17\u00a0<sburjan>\u00a0has joined #xwiki  \n09:25\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:50\u00a0<Denis1>\u00a0has quit  \n09:51\u00a0<sdumitriu>\u00a0has quit  \n09:52\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:57\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:59\u00a0<Denis1>\u00a0has joined #xwiki  \n09:59\u00a0<gdelhumeau>\u00a0hi Denis1  \n10:00\u00a0<gdelhumeau>\u00a0could you please look at XWIKI-9916  \n10:13\u00a0<Denis1>\u00a0is now known as <Denis>  \n10:21\u00a0<mflorea>\u00a0has joined #xwiki  \n10:26\u00a0<lucaa>\u00a0has joined #xwiki  \n10:29\u00a0<tmortagne>\u00a0vmassol: you forgot to move 5.2 branch to 5.2.3-SNAPSHOT after the release  \n10:29\u00a0<tmortagne>\u00a05.2.45-SNAPSHOT  \n10:29\u00a0<tmortagne>\u00a05.2.4-SNAPSHOT  \n10:29\u00a0<vmassol>\u00a0ah again  \n10:29\u00a0<vmassol>\u00a0grrrr  \n10:29\u00a0<vmassol>\u00a0the script is misleading  \n10:30\u00a0<vmassol>\u00a0it changes to 5.2.4-SNAPSHOT but discard the temporary branch  \n10:30\u00a0<vmassol>\u00a0I always forget  \n10:30\u00a0<vmassol>\u00a0thanks, fixing  \n10:30\u00a0<tmortagne>\u00a0we should stop doing the release is a branch IMO  \n10:31\u00a0<tmortagne>\u00a0it's not like it was helping securing much the release  \n10:41\u00a0<Guest4824>\u00a0has quit  \n10:42\u00a0<vmassol>\u00a04 build failures in platofrm  \n10:42\u00a0<vmassol>\u00a0we need to fix those asap  \n10:42\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/lastBuild/testReport/  \n10:42\u00a0<vmassol>\u00a0we need to fix the build more generally today so that we can release RC1  \n10:53\u00a0<mstaicu>\u00a0has joined #xwiki  \n10:56\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n11:07\u00a0<cjd>\u00a0has joined #xwiki  \n11:07\u00a0<cjd>\u00a0is now known as <Guest12321>  \n11:13\u00a0<polx>\u00a0has joined #xwiki  \n11:20\u00a0<Inge->\u00a0has joined #xwiki  \n11:33\u00a0<tmortagne>\u00a0looking at ImportTest failing integration tests  \n11:34\u00a0<vmassol>\u00a0XWIKI-9941 looks like a blocker to me  \n11:34\u00a0<gdelhumeau>\u00a0I don't understand why there is a failing integration test for the wiki module  \n11:34\u00a0<tmortagne>\u00a0vmassol: this issues is fixed already  \n11:34\u00a0<vmassol>\u00a0ah dup  \n11:35\u00a0<vmassol>\u00a0cool  \n11:35\u00a0<vmassol>\u00a0could be good to have an image in our ImportTest actually  \n11:35\u00a0<polx>\u00a0has quit  \n11:37\u00a0<polx>\u00a0has joined #xwiki  \n11:45\u00a0<frankbutt>\u00a0has joined #xwiki  \n11:45\u00a0<frankbutt>\u00a0has left #xwiki  \n11:48\u00a0<msmeria>\u00a0hello tmortagne  \n11:48\u00a0<msmeria>\u00a0shouldn't XWIKI-9932 be fixed in the latest snapshot ?  \n11:49\u00a0<msmeria>\u00a0I get http://hastebin.com/cuvudilabi.avrasm when I click on an uploaded XAR  \n11:56\u00a0<gdelhumeau>\u00a0vmassol: I do not reproduce http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-wiki-test-tests/4912/testReport/org.xwiki.wiki.test.ui/WikiTest/createWikiFromTemplate/  \n11:56\u00a0<gdelhumeau>\u00a0vmassol: could it be related to a new version of selenium/firefox ?  \n11:56\u00a0<vmassol>\u00a0then it means it's flickering and the test needs to be improved  \n11:56\u00a0<gdelhumeau>\u00a0because nothing has changed in this ui, then there should be no regression  \n11:56\u00a0<vmassol>\u00a0no you're using the same version of selenium  \n11:56\u00a0<vmassol>\u00a0and FF used is 20.x AFAIK on agents  \n11:57\u00a0<gdelhumeau>\u00a0I also aove have FF20 on my machine  \n11:57\u00a0<vmassol>\u00a0the issue is a flicker  \n11:57\u00a0<vmassol>\u00a0ie it depends on the speed of execution and various aspects  \n11:57\u00a0<gdelhumeau>\u00a0ok, then I put a thread.sleep  \n11:57\u00a0<vmassol>\u00a0usually it menas it's missing some wait on element somewhere  \n11:57\u00a0<vmassol>\u00a0never never ever use a sleep  \n11:58\u00a0<vmassol>\u00a0that's a very bad practice  \n11:58\u00a0<gdelhumeau>\u00a0ok  \n11:58\u00a0<vmassol>\u00a0causing tests to take longer than needed  \n11:58\u00a0<vmassol>\u00a0the speed will depend on the machine  \n11:58\u00a0<gdelhumeau>\u00a0the code is http://hastebin.com/qetebehema.avrasm  \n11:58\u00a0<gdelhumeau>\u00a0I wait until a button is enabled  \n11:58\u00a0<mstaicu>\u00a0has quit  \n11:58\u00a0<gdelhumeau>\u00a0the error say \"the element is not visible\"  \n11:59\u00a0<gdelhumeau>\u00a0well  \n12:00\u00a0<vmassol>\u00a0yep  \n12:00\u00a0<vmassol>\u00a0that happens for 2 possible reasons  \n12:00\u00a0<vmassol>\u00a01) the element is outside of the visible window on screen  \n12:00\u00a0<vmassol>\u00a02) the element is not there because it's added by some JS that hasn't executed yet  \n12:00\u00a0<vmassol>\u00a0the usual solution is to analyse the JS and do a wait on the element to be visible  \n12:01\u00a0<gdelhumeau>\u00a0I will use isDisplayed()  \n12:01\u00a0<gdelhumeau>\u00a0instead of isEnabled  \n12:08\u00a0<gdelhumeau>\u00a0I have commited it, wait & see  \n12:15\u00a0<mstaicu>\u00a0has joined #xwiki  \n12:20\u00a0<mflorea>\u00a0has quit  \n12:21\u00a0<mstaicu>\u00a0has quit  \n12:24\u00a0<polx>\u00a0has quit  \n12:25\u00a0<mflorea>\u00a0has joined #xwiki  \n12:39\u00a0<gdelhumeau>\u00a0Same, I am unable to reproduce http://ci.xwiki.org/job/xwiki-platform-5.3.x/lastBuild/org.xwiki.platform$xwiki-platform-wysiwyg-test-tests/testReport/org.xwiki.wysiwyg.test.ui/EditWYSIWYGTest/testUploadImageAfterPreview/  \n12:40\u00a0<mstaicu>\u00a0has joined #xwiki  \n12:42\u00a0<gdelhumeau>\u00a0and http://ci.xwiki.org/job/xwiki-platform/lastBuild/org.xwiki.platform$xwiki-platform-wiki-test-tests/testReport/org.xwiki.wiki.test.ui/WikiTest/createWikiFromTemplate/ seems to say that waitUntilPageIsLoaded() does not work  \n12:45\u00a0<gdelhumeau>\u00a0unable to reproduce it again  \n13:17\u00a0<vmassol>\u00a0gdelhumeau: btw did you check the screenshots from the ci?  \n13:17\u00a0<vmassol>\u00a0(that can help identifying the problem sometimes)  \n13:18\u00a0<vmassol>\u00a0you can also take an agent offline to reproduce the problem on it if need be  \n13:18\u00a0<vmassol>\u00a0then you can use the @Intermittent annotation locally to run a tests \u00a0multiple times to help in reproducing flickers  \n13:19\u00a0<polx>\u00a0has joined #xwiki  \n13:23\u00a0<tmortagne>\u00a0msmeria: what package are you importing ? according to http://hastebin.com/cuvudilabi.avrasm you have an invalid XML in that package  \n13:23\u00a0<tmortagne>\u00a0and does not have anything to do with XWIKI-9932 since the issue in XWIKI-9932 is that the import does nothing  \n13:24\u00a0<msmeria>\u00a0tmortagne: I was importing the xar for http://extensions.xwiki.org/xwiki/bin/view/Extension/Meeting+Application  \n13:26\u00a0<tmortagne>\u00a0msmeria: ok, I will try to reproduce  \n13:27\u00a0<msmeria>\u00a0tmortagne: thanks!  \n13:27\u00a0<tmortagne>\u00a0you enabled xwiki.action.import.xar.usewikistream, right ?  \n13:27\u00a0<msmeria>\u00a0right :)  \n13:29\u00a0<polx>\u00a0has quit  \n13:43\u00a0<tmortagne>\u00a0msmeria: I think I found something, what application server/database were you using ?  \n13:44\u00a0<msmeria>\u00a0tmortagne: jetty/hsqldb  \n13:44\u00a0<tmortagne>\u00a0ok  \n14:18\u00a0<polx>\u00a0has joined #xwiki  \n14:18\u00a0<Guest12321>\u00a0has quit  \n14:21\u00a0<cjd>\u00a0has joined #xwiki  \n14:21\u00a0<cjd>\u00a0is now known as <Guest63918>  \n14:29\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:35\u00a0<tmortagne>\u00a0msmeria: seems ok with XWIKI-9942  \n14:35\u00a0<tmortagne>\u00a0thanks for the report  \n14:36\u00a0<msmeria>\u00a0tmortagne: glad I could help  \n14:51\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n15:13\u00a0<GuillaumeF>\u00a0has quit  \n15:15\u00a0<GuillaumeF1>\u00a0has joined #xwiki  \n15:27\u00a0<Guest63918>\u00a0has quit  \n15:28\u00a0<evalica>\u00a0has quit  \n15:59\u00a0<andreeapopescu>\u00a0has quit  \n16:22\u00a0<sburjan>\u00a0vmassol: ping  \n16:23\u00a0<vmassol>\u00a0yes?  \n16:24\u00a0<sburjan>\u00a0I have a question. When we build a module, or when we build the whole platform, how did you do to run \\_all\\_ tests ? I am mostly talking about ui-tests. Does the surefire plugin take care of running all @Test classes in the classpath ?  \n16:25\u00a0<sburjan>\u00a0I am unable to find anywhewre in the code where we define our Suites, and the list of classes that belong to each suite  \n16:31\u00a0<tmortagne>\u00a0sburjan: this is a dynamic suite controlled by @RunWith(PageObjectSuite.class) in org.xwiki.test.ui.AllTests  \n16:32\u00a0<tmortagne>\u00a0which in practice initialize some stuff and execute everything with @Test  \n16:33\u00a0<sburjan>\u00a0yes, and looking in the PageObjectSuite.class I can't find any enum of Classes which have tests, this is why I don't understand  \n16:33\u00a0<tmortagne>\u00a0the part you are interrested with is org.junit.extensions.cpsuite.ClasspathSuite which is extended by PageObjectSuite  \n16:33\u00a0<vmassol>\u00a0they're found dynamically  \n16:33\u00a0<tmortagne>\u00a0sburjan: \"execute everything with @Test\"  \n16:33\u00a0<vmassol>\u00a0sburjan: see http://johanneslink.net/projects/cpsuite.jsp  \n16:34\u00a0<sburjan>\u00a0thanks tmortagne and vmassol  \n16:34\u00a0<sburjan>\u00a0ah ok, we it's an external library which helps us. Ok, I understand :)  \n16:37\u00a0<msmeria>\u00a0has quit  \n17:16\u00a0<vmassol>\u00a0again problem on platform build: http://jira.codehaus.org/browse/MNG-5542  \n17:34\u00a0<polx>\u00a0has quit  \n17:37\u00a0<ClemensR>\u00a0has quit  \n17:42\u00a0<polx>\u00a0has joined #xwiki  \n17:42\u00a0<vmassol>\u00a0guys when can we release 5.4RC1? Any blocker remaining?  \n17:43\u00a0<vmassol>\u00a0releasing tomorrow would be great, is that possible?  \n17:43\u00a0<tmortagne>\u00a0vmassol: XWIKI-9945  \n17:44\u00a0<gdelhumeau>\u00a0http://jira.xwiki.org/issues/?jql=fixVersion%20in%20%28%225.4-rc-1%22%29%20and%20resolution%20in%20%28%22Unresolved%22%29  \n17:44\u00a0<tmortagne>\u00a0XWIKI-9919 is supposedly fixed by other issues, currently validating it  \n17:44\u00a0<vmassol>\u00a0gdelhumeau: so you solved the security issue in the end about the xwikiserverclass?  \n17:44\u00a0<woshilapin>\u00a0has quit  \n17:44\u00a0<vmassol>\u00a0ah yes  \n17:44\u00a0<gdelhumeau>\u00a0Denis did  \n17:44\u00a0<vmassol>\u00a0I've seen Denis' commit  \n17:45\u00a0<vmassol>\u00a0(was away most of the day on other stuff)  \n17:45\u00a0<vmassol>\u00a0cool tmortagne  \n17:45\u00a0<vmassol>\u00a0mflorea: I guess you're on XWIKI-9945 ?  \n17:46\u00a0<mflorea>\u00a0yep  \n17:46\u00a0<tmortagne>\u00a0I can now confirm that XWIKI-9919 is fixed  \n17:46\u00a0<tmortagne>\u00a0closing it  \n17:46\u00a0<vmassol>\u00a0ok cool, so hopefully we can start the release tomorrow afternoon. We would need to fix the build in the morning though  \n17:46\u00a0<vmassol>\u00a0yeepee tmortagne  \n17:46\u00a0<vmassol>\u00a0:)  \n17:47\u00a0<vmassol>\u00a0seems you guys closed a lot of issues today!  \n17:47\u00a0<tmortagne>\u00a0also fixed the import UI test I think  \n17:47\u00a0<tmortagne>\u00a0tests  \n17:47\u00a0<tmortagne>\u00a0the 3 remaining failing tests on platform  \n17:47\u00a0<vmassol>\u00a0ah?  \n17:47\u00a0<vmassol>\u00a0some real error?  \n17:47\u00a0<tmortagne>\u00a0yep  \n17:47\u00a0<vmassol>\u00a0cool  \n17:47\u00a0<vmassol>\u00a0nice that our tests were useful ;)  \n17:48\u00a0<tmortagne>\u00a0waiting a new build to see if that's the only thing but the UI did not change in theory so any failing test in this region is a real bug  \n17:48\u00a0<lucaa>\u00a0has quit  \n17:54\u00a0<mstaicu>\u00a0has quit  \n17:54\u00a0<lucaa>\u00a0has joined #xwiki  \n17:58\u00a0<polx>\u00a0has quit  \n18:12\u00a0<gdelhumeau>\u00a0has quit  \n18:14\u00a0<sburjan>\u00a0has quit  \n18:20\u00a0<tmortagne>\u00a0vmassol: I confirm the 3 import failing tests are fixed according to jenkins (I think the remaining WYSIWYG failing test is a flicker)  \n18:26\u00a0<KermitTheFragger>\u00a0has quit  \n18:27\u00a0<vmassol>\u00a0cool! :)  \n18:31\u00a0<tmortagne>\u00a0has quit  \n18:35\u00a0<mflorea>\u00a0vmassol: I found the problem and I have a fix for http://jira.xwiki.org/browse/XWIKI-9945 . I need to go home now, but I'll commit in 1h  \n18:35\u00a0<vmassol>\u00a0mflorea: great!  \n18:35\u00a0<mflorea>\u00a0has quit  \n18:37\u00a0<polx>\u00a0has joined #xwiki  \n19:13\u00a0<GuillaumeF1>\u00a0has quit  \n19:25\u00a0<the\\_codebot>\u00a0has joined #xwiki  \n19:36\u00a0<lucaa>\u00a0has quit  \n19:56\u00a0<the\\_codebot>\u00a0has quit  \n19:57\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n20:06\u00a0<andreeapopescu\\_>\u00a0has joined #xwiki  \n20:08\u00a0<andreeapopescu>\u00a0has quit  \n20:08\u00a0<andreeapopescu\\_>\u00a0is now known as <andreeapopescu>  \n20:16\u00a0<mflorea>\u00a0has joined #xwiki  \n20:28\u00a0<andreeapopescu>\u00a0has left #xwiki  \n20:54\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n21:15\u00a0<xwikiorg\\_guest\\_4>\u00a0has joined #xwiki  \n21:17\u00a0<xwikiorg\\_guest\\_4>\u00a0Bonsoir  \n21:18\u00a0<vmassol>\u00a0hello  \n21:18\u00a0<xwikiorg\\_guest\\_4>\u00a0C'est PAG ;)  \n21:18\u00a0<vmassol>\u00a0hi PAG! :)  \n21:18\u00a0<xwikiorg\\_guest\\_4>\u00a0Bon le dernier snapshot est up sur ma machine.  \n21:18\u00a0<xwikiorg\\_guest\\_4>\u00a0Je proc\u00e8de comment pour l'import?  \n21:18\u00a0<vmassol>\u00a0better write in English so that others can follow/help  \n21:19\u00a0<vmassol>\u00a0have you installed the extension as mentioned by thomas in the email?  \n21:19\u00a0<vmassol>\u00a0(the confluence importer extension that is)  \n21:19\u00a0<xwikiorg\\_guest\\_4>\u00a0Ok so latest snapshot is up and running on my machine.  \n21:19\u00a0<xwikiorg\\_guest\\_4>\u00a0Nope hadn't seen that mail.  \n21:19\u00a0<vmassol>\u00a0you need to install 2 extensions actually  \n21:19\u00a0<xwikiorg\\_guest\\_4>\u00a0will look it up.  \n21:19\u00a0<vmassol>\u00a0the confluence importer is not an extension bundled by default  \n21:20\u00a0<xwikiorg\\_guest\\_4>\u00a0Didn't get the mail.  \n21:20\u00a0<xwikiorg\\_guest\\_4>\u00a0Ok can you forward me the email or tell me quickly how to do that?  \n21:20\u00a0<vmassol>\u00a0yep  \n21:20\u00a0<vmassol>\u00a0done  \n21:21\u00a0<vmassol>\u00a0try to follow the instructions from the email and I'll help you if you cannot succeed  \n21:22\u00a0<vmassol>\u00a0first step is to configure your wiki to find snapshots extensions (by default only final extensions are configured but since you need a snapshot version you need to do this)  \n21:22\u00a0<xwikiorg\\_guest\\_4>\u00a0'kay  \n21:23\u00a0<xwikiorg\\_guest\\_4>\u00a0I'll follow the howto, and I'll try to ask questions tonight or tomorrow morning.  \n21:23\u00a0<xwikiorg\\_guest\\_4>\u00a0Cheers.  \n21:23\u00a0<vmassol>\u00a0ok  \n21:25\u00a0<Denis>\u00a0has quit  \n21:28\u00a0<abusenius>\u00a0has joined #xwiki  \n21:30\u00a0<xwikiorg\\_guest\\_4>\u00a0Hey I've followed the howto from Thomas, and I get to the point where it tells me extensions are going to be installed though I'm unsure if they are or not.  \n21:32\u00a0<xwikiorg\\_guest\\_4>\u00a0Ok got it\u2026 I guess I'm tired\u2026 'continue' did the trick ;)  \n21:37\u00a0<xwikiorg\\_guest\\_4>\u00a0Sadly Confluence import failed.  \n21:38\u00a0<xwikiorg\\_guest\\_4>\u00a0It failed to read package with a NullpointerException  \n21:38\u00a0<xwikiorg\\_guest\\_4>\u00a0at java.io.FileInputStream.(FileInputStream.java:134)  \n21:38\u00a0<xwikiorg\\_guest\\_4>\u00a0\u00a0\u00a0\u00a0\u00a0at org.xwiki.wikistream.confluence.xml.internal.ConfluenceXMLPackage.createTree(ConfluenceXMLPackage.java:313)  \n21:39\u00a0<xwikiorg\\_guest\\_4>\u00a0How can I give you more context?  \n21:39\u00a0<xwikiorg\\_guest\\_4>\u00a0I pointed it to the Confluence zip export or directly to the entities.xml with an equivalent result.  \n21:42\u00a0<xwikiorg\\_guest\\_4>\u00a0Our Confluence instance is really Old (2.10.1)  \n21:45\u00a0<Emenems>\u00a0has quit  \n21:51\u00a0<Emenems>\u00a0has joined #xwiki  \n22:00\u00a0<vmassol>\u00a0back ,reading  \n22:00\u00a0<sburjan`>\u00a0has joined #xwiki  \n22:01\u00a0<vmassol>\u00a0ok xwikiorg\\_guest\\_4 I won't be able to help you on the specifics of the confluence import. Thomas is the best person for that. Could you gist or pastebin the full stack trace you have and send us the link here  \n22:01\u00a0<vmassol>\u00a0I'll make sure thomas sees it tomorrow  \n22:26\u00a0<vmassol>\u00a0has quit  \n22:27\u00a0<vmassol>\u00a0has joined #xwiki  \n22:32\u00a0<vmassol>\u00a0has quit  \n22:53\u00a0<xwikiorg\\_guest\\_4>\u00a0https://gist.github.com/zepag/8677271  \n22:57\u00a0<xwikiorg\\_guest\\_4>\u00a0has left #xwiki  \n22:58\u00a0<vmassol>\u00a0has joined #xwiki  \n23:16\u00a0<cjd>\u00a0has joined #xwiki  \n23:16\u00a0<cjd>\u00a0is now known as <Guest91930>  \n23:18\u00a0<Guest91930>\u00a0has quit  \n23:18\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:18\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:18\u00a0<cjd\\_>\u00a0has quit  \n23:19\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:19\u00a0<cjd\\_>\u00a0has quit  \n23:20\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:20\u00a0<cjd\\_>\u00a0has quit  \n23:21\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:21\u00a0<cjd\\_>\u00a0sorry for constantly reconnecting.. fixing DH/blowfish SASL authentication  \n23:21\u00a0<cjd\\_>\u00a0has quit  \n23:22\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:50\u00a0<polx>\u00a0has quit  \n23:52\u00a0<cjd\\_>\u00a0is now known as <cjd>\n"}