{"id": "dev:IRC.xwikiArchive20140227", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140227", "title": "IRC Archive for channel #xwiki on 27 February 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n01:04\u00a0<Sidali>\u00a0has quit  \n01:04\u00a0<Sidali>\u00a0has joined #xwiki  \n01:20\u00a0<Sidali>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:01\u00a0<Denis>\u00a0has quit  \n06:47\u00a0<polx>\u00a0has joined #xwiki  \n06:57\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n07:01\u00a0<risherry>\u00a0has joined #xwiki  \n07:09\u00a0<polx>\u00a0has quit  \n07:27\u00a0<polx>\u00a0has joined #xwiki  \n07:47\u00a0<polx>\u00a0has quit  \n07:48\u00a0<UCC>\u00a0has joined #xwiki  \n07:52\u00a0<polx>\u00a0has joined #xwiki  \n08:02\u00a0<msmeria>\u00a0has joined #xwiki  \n08:07\u00a0<polx>\u00a0has quit  \n08:07\u00a0<polx>\u00a0has joined #xwiki  \n08:15\u00a0<mflorea>\u00a0has joined #xwiki  \n08:25\u00a0<vmassol>\u00a0has joined #xwiki  \n08:27\u00a0<vmassol>\u00a0ah yes today is BFD  \n08:43\u00a0<polx>\u00a0has quit  \n08:44\u00a0<UCC>\u00a0has quit  \n08:48\u00a0<risherry>\u00a0has quit  \n09:24\u00a0<cjd>\u00a0has quit  \n09:29\u00a0<polx>\u00a0has joined #xwiki  \n09:36\u00a0<Sidali>\u00a0has joined #xwiki  \n09:43\u00a0<Denis>\u00a0has joined #xwiki  \n09:48\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:51\u00a0<DarkKnightCZ>\u00a0vmassol: hi, don't you know if tmortagne will be here today? i've some issues with distribution wizard  \n09:57\u00a0<polx>\u00a0has quit  \n09:59\u00a0<polx>\u00a0has joined #xwiki  \n10:06\u00a0<polx>\u00a0has quit  \n10:07\u00a0<polx>\u00a0has joined #xwiki  \n10:14\u00a0<polx>\u00a0has quit  \n10:20\u00a0<vmassol>\u00a0DarkKnightCZ: I hope he'll b here but I have no visibility so far (his wife had a baby 3 days ago)  \n10:22\u00a0<DarkKnightCZ>\u00a0yep, saw that post :) i guess there isn't anybody else who could tell me what could cause \"misbehaving\" of distribution wizard (i guess i could call it \"looping\")  \n10:23\u00a0<sburjan`>\u00a0has joined #xwiki  \n10:26\u00a0<sburjan>\u00a0has quit  \n10:26\u00a0<sburjan`>\u00a0is now known as <sburjan>  \n10:29\u00a0<polx>\u00a0has joined #xwiki  \n10:35\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:53\u00a0<risherry>\u00a0has joined #xwiki  \n10:57\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:58\u00a0<polx>\u00a0has quit  \n10:59\u00a0<spu7nic>\u00a0has joined #xwiki  \n10:59\u00a0<spu7nic>\u00a0Hello ;)  \n11:00\u00a0<spu7nic>\u00a0Can anyone give me a hint concerning custom mappings?  \n11:01\u00a0<gdelhumeau>\u00a0maybe :)  \n11:01\u00a0<spu7nic>\u00a0When I try the example from the documentation creating an object (db is postgres) I just receive an error \" java.lang.Long cannot be cast to java.lang.Integer  \n11:01\u00a0<spu7nic>\u00a0\"  \n11:03\u00a0<spu7nic>\u00a0<id name=\"id\" type=\"integer\" unsaved-value=\"undefined\">  \n11:03\u00a0<spu7nic>\u00a0\u00a0\u00a0<generator class=\"assigned\" />  \n11:04\u00a0<spu7nic>\u00a0I also tried long  \n11:05\u00a0<gdelhumeau>\u00a0I only experienced MySQL  \n11:07\u00a0<polx>\u00a0has joined #xwiki  \n11:15\u00a0<evalica>\u00a0has joined #xwiki  \n11:15\u00a0<risherry>\u00a0has quit  \n11:18\u00a0<DarkKnightCZ>\u00a0spu7nic: this should be hibernate-specific error... what is your object specs?  \n11:21\u00a0<spu7nic>\u00a0<class>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<customMapping>internal</customMapping>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<defaultEditSheet/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<defaultWeb/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<nameField/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<validationScript/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<Gesamtpreis>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>Gesamtpreis</name>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>5</number>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<numberType>float</numberType>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>Gesamtpreis</prettyName>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationRegExp/>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.NumberClass</classType>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0</Gesamtpreis>  \n11:21\u00a0<spu7nic>\u00a0\u00a0\u00a0<Jahr>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>Jahr</name>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>8</number>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<numberType>integer</numberType>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>Jahr</prettyName>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<size>30</size>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationRegExp/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.NumberClass</classType>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0</Jahr>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0<Monat>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>Monat</name>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>7</number>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<numberType>integer</numberType>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<size>30</size>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.NumberClass</classType>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0</Monat>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0<PT>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:22\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>PT</name>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>4</number>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<numberType>integer</numberType>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>PT</prettyName>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationRegExp/>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.NumberClass</classType>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0</PT>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0<Person>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>Person</name>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>3</number>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<picker>0</picker>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>Person</prettyName>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<size>30</size>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.StringClass</classType>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0</Person>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0<ProjektID>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>ProjektID</name>  \n11:23\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>6</number>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<picker>0</picker>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>ProjektID</prettyName>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<size>30</size>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationRegExp/>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0</ProjektID>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0<Team>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<customDisplay/>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<disabled>0</disabled>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<name>Team</name>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<number>2</number>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<picker>0</picker>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<prettyName>Team</prettyName>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<size>30</size>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<unmodifiable>0</unmodifiable>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationMessage/>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<validationRegExp/>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<classType>com.xpn.xwiki.objects.classes.StringClass</classType>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0</Team>  \n11:24\u00a0<spu7nic>\u00a0<hibernate-mapping>  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0<class entity-name=\"DeutscheBahn.ProjektForecastEntryClass\" table=\"forecast\\_mapped\">  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<id name=\"id\" type=\"integer\" unsaved-value=\"undefined\">  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<column name=\"XWO\\_ID\" not-null=\"true\" />  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<generator class=\"assigned\" />  \n11:24\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0</id>  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"Team\" type=\"text\" column=\"team\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"Person\" type=\"text\" column=\"person\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"PT\" type=\"integer\" column=\"pt\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"ProjektID\" type=\"text\" column=\"projektid\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"Monat\" type=\"integer\" column=\"monat\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"Jahr\" type=\"integer\" column=\"jahr\" />  \n11:25\u00a0<spu7nic>\u00a0\u00a0\u00a0</class>  \n11:25\u00a0<spu7nic>\u00a0</hibernate-mapping>  \n11:25\u00a0<spu7nic>\u00a0The entity-name is \"Space.ProjektForecastEntryClass\" >)  \n11:26\u00a0<DarkKnightCZ>\u00a0spu7nic: jesus, next time use pastebin or something :)  \n11:26\u00a0<mflorea>\u00a0vmassol: Would you have time to look into \"[WARNING] Rule violated for bundle XWiki Platform - Rendering - Macro - Script: instructions covered ratio is 0.54, but expected minimum is 0.55\"? Otherwise I can reduce the value.  \n11:27\u00a0<mflorea>\u00a0(asking because you did the last change there :) )  \n11:29\u00a0<vmassol>\u00a0I'll adjust the value, not sure why my change reduced it though, it should have increased it actually  \n11:29\u00a0<vmassol>\u00a0(at least that's what I thought)  \n11:29\u00a0<mflorea>\u00a0ok, thanks  \n11:29\u00a0<vmassol>\u00a0thanks for letting me know  \n11:29\u00a0<vmassol>\u00a0and sorry about that  \n11:30\u00a0<mflorea>\u00a0np  \n11:31\u00a0<vmassol>\u00a0I know why  \n11:31\u00a0<vmassol>\u00a0the coverage has slightly increased actually  \n11:31\u00a0<vmassol>\u00a0but it's tested in other modules  \n11:31\u00a0<vmassol>\u00a0and hence not counted for the script macro module  \n11:31\u00a0<vmassol>\u00a0anyway...  \n11:33\u00a0<DarkKnightCZ>\u00a0spu7nic: what if you set type=\"integer\" instead of numberType?  \n11:34\u00a0<DarkKnightCZ>\u00a0oh, nevermind, wrong xml :)  \n11:34\u00a0<spu7nic>\u00a0I thought so :)  \n11:34\u00a0<DarkKnightCZ>\u00a0so setting \u00a0<property name=\"PT\" type=\"long\" column=\"pt\" /> throws the same error?  \n11:35\u00a0<DarkKnightCZ>\u00a0(same thing for Monat and Jahr)  \n11:35\u00a0<spu7nic>\u00a0I also tried it with just two text properties, the issue seems to be related to the id property  \n11:36\u00a0<spu7nic>\u00a0When I switched to a long key, i received a different exception / the id was set to a huge nagive numeric value like -698412312567412565  \n11:37\u00a0<DarkKnightCZ>\u00a0yep, well according to https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/resources/xwiki.hbm.xml , you should use long type for id, what is the exception? (afaik the id should be valid, it just isn't autoincrement)  \n11:45\u00a0<gdelhumeau>\u00a0xwiki-platform-tools/xwiki-platform-tool-standards-validator does not compile!  \n11:45\u00a0<gdelhumeau>\u00a0in stable-5.4.x  \n11:45\u00a0<gdelhumeau>\u00a0at home  \n11:55\u00a0<vmassol>\u00a0has quit  \n11:56\u00a0<gdelhumeau>\u00a0Guys, I have started a release yesterdau that have failed  \n11:56\u00a0<gdelhumeau>\u00a0and I am unable to build xwiki-platfrom-search-lucene-api  \n11:57\u00a0<gdelhumeau>\u00a0on the agent a1-1  \n11:57\u00a0<gdelhumeau>\u00a0I have an infinite \u00a0number of:  \n11:57\u00a0<gdelhumeau>\u00a011:56:12.219 [main] ERROR c.x.x.p.lucene.internal.IndexUpdater - Failed to clean index  \n11:57\u00a0<gdelhumeau>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.apache.lucene.index.SegmentInfos.read(SegmentInfos.java:290) ~[lucene-core-4.0.0.jar:4.0.0 1394950 - rmuir - 2012-10-06 03:00:40]  \n11:57\u00a0<gdelhumeau>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.apache.lucene.index.IndexFileDeleter.<init>(IndexFileDeleter.java:171) ~[lucene-core-4.0.0.jar:4.0.0 1394950 - rmuir - 2012-10-06 03:00:40]  \n11:57\u00a0<gdelhumeau>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:670) ~[lucene-core-4.0.0.jar:4.0.0 1394950 - rmuir - 2012-10-06 03:00:40]  \n12:01\u00a0<gdelhumeau>\u00a0mflorea?  \n12:04\u00a0<vmassol>\u00a0has joined #xwiki  \n12:32\u00a0<ClemensR>\u00a0has joined #xwiki  \n12:33\u00a0<mflorea>\u00a0gdelhumeau: I just fixed it  \n12:34\u00a0<mflorea>\u00a0http://git.io/mnZn2g  \n12:42\u00a0<gdelhumeau>\u00a0ok thanks ;)  \n13:03\u00a0<Sidali\\_>\u00a0has joined #xwiki  \n13:04\u00a0<UCC>\u00a0has joined #xwiki  \n13:05\u00a0<Sidali>\u00a0has quit  \n13:05\u00a0<Sidali\\_>\u00a0is now known as <Sidali>  \n13:15\u00a0<Slashman>\u00a0has joined #xwiki  \n13:30\u00a0<vmassol>\u00a0evalica: do you remember the link to the proposal for having feature presets in the user profile, like a developer preset ?  \n13:32\u00a0<vmassol>\u00a0I couldn't find it on design.xwiki.org  \n13:32\u00a0<vmassol>\u00a0btw there's a search issue on design.xwiki.org, it returns empty results  \n13:33\u00a0<vmassol>\u00a0(http://design.xwiki.org/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Search)  \n13:33\u00a0<vmassol>\u00a0(shows 53199 items to index)  \n13:38\u00a0<msmeria>\u00a0has quit  \n13:45\u00a0<vmassol>\u00a0hmm  \n13:45\u00a0<vmassol>\u00a0I've just build paltform-panels on \u00a0master (nothing else)  \n13:45\u00a0<vmassol>\u00a0and I got a non working XE (in the func tests)  \n13:46\u00a0<vmassol>\u00a0https://gist.githubusercontent.com/vmassol/9249371/raw/a7f9bd2b0db6cff855a3bd631e4f8e27373a0d82/gistfile1.txt  \n13:46\u00a0<vmassol>\u00a0(when calling the home page)  \n13:47\u00a0<vmassol>\u00a0gdelhumeau: I see you've fixed some deprecation calls, could it be related?  \n13:47\u00a0<vmassol>\u00a0checking  \n13:47\u00a0<evalica>\u00a0vmassol: http://design.xwiki.org/xwiki/bin/view/Improvements/UserRoles ?  \n13:47\u00a0<vmassol>\u00a0yes exactly  \n13:47\u00a0<vmassol>\u00a0thanks evalica  \n13:48\u00a0<evalica>\u00a0I don't know what's the problem with the search on design.x.o - I usually use the livetable and that works  \n13:49\u00a0<DarkKnightCZ>\u00a0what in distribution wizard could null the extension/action/ jobs? (distribution wizard is failing due to empty status.xmls)  \n13:54\u00a0<vmassol>\u00a0yes that's it  \n13:54\u00a0<vmassol>\u00a0gdelhumeau: ping  \n13:54\u00a0<vmassol>\u00a0this.docBridge.getCurrentUser() returns \"XWiki.XWikiGuest\"  \n13:54\u00a0<vmassol>\u00a0but  \n13:55\u00a0<vmassol>\u00a0returns null  \n13:55\u00a0<vmassol>\u00a0hence the problem  \n13:55\u00a0<vmassol>\u00a0see your change in DefaultCSRFToken  \n13:55\u00a0<vmassol>\u00a0(otp)  \n13:56\u00a0<ClemensR>\u00a0DarkKnightCZ: can happen if there is OoM or the like, but should not happen otherwise. \u00a0stopping server, removing the empty status.xml and starting again might fix it  \n13:57\u00a0<DarkKnightCZ>\u00a0ClemensR: yep, that's the solution, but it happens randomly (mostly after upgrading one subwiki), so for wiki which has 20 subwikis it's really anoying... but that's not the worst part, it happens also for extensions update  \n13:58\u00a0<DarkKnightCZ>\u00a0so if you have to restart xwiki after every single extension upgrade, it's impossible to update xwiki in realtime  \n13:58\u00a0<msmeria>\u00a0has joined #xwiki  \n13:58\u00a0<ClemensR>\u00a0I know what you are talking about with the 20+ subwikis, same problem here :)  \n13:59\u00a0<ClemensR>\u00a0there is nothing in the catalina.out or whatever stdout you have when this happens ?  \n14:00\u00a0<ClemensR>\u00a0ah, I remember the xwiki log is redirected to be shown in the brwoser (and written into status.xml) instead of the normal log  \n14:00\u00a0<DarkKnightCZ>\u00a0yep, it's for jobs, but in stdout is this - http://pastebin.com/5eTW4rfJ  \n14:01\u00a0<ClemensR>\u00a0if there is an error when writing status.xml, and it is not send to the extension manager, then it is lost :( \u00a0... maybe should be solved differetnly for errors  \n14:01\u00a0<DarkKnightCZ>\u00a0which just implies that it cannot load job status, so it stops (and every N seconds ajax request)  \n14:01\u00a0<ClemensR>\u00a0now looking at pastrebin  \n14:01\u00a0<gdelhumeau>\u00a0vmassol: back  \n14:02\u00a0<ClemensR>\u00a0failing to \u00a0load the data should be no problem ... I thought  \n14:03\u00a0<DarkKnightCZ>\u00a0yep, the status.xml is empty, but what could cause that is mystery for me (tmortagne would know, but he has different things to do now :) )  \n14:03\u00a0<ClemensR>\u00a0ok, so the \"cannot load status\" spams the log file, but this is only \\*after\\* \u00a0the actual error occured  \n14:04\u00a0<gdelhumeau>\u00a0When getUserReference() returns null, then it is considered as GuestUser  \n14:04\u00a0<ClemensR>\u00a0so the actual error message is probably lost between the hundreds of \"cannot load\"  \n14:04\u00a0<gdelhumeau>\u00a0But here, we need getUserReference() to have the key of a hashmap  \n14:05\u00a0<gdelhumeau>\u00a0and \"null\" can't be a valid key for a hasmap  \n14:05\u00a0<DarkKnightCZ>\u00a0ClemensR: yep, going through the logs :)  \n14:05\u00a0<ClemensR>\u00a0DarkKnightCZ: \u00a0good luck :)  \n14:06\u00a0<UCC>\u00a0has quit  \n14:13\u00a0<DarkKnightCZ>\u00a0ClemensR: nope, no error message in stdout, first message that occurs (at the initiation address -> version and interface id as param) is the \"failed to load job status\"  \n14:13\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:14\u00a0<ClemensR>\u00a0meh, then the error got swallowed ... can you remember what is the last thing visible in the Admin UI when this happens ?  \n14:16\u00a0<DarkKnightCZ>\u00a0it happens during the distribution wizard, right after typing previous version and previous UI ID (org.xwiki.enterprise:xwiki-enterprise-ui:5.1 -> 5.4.1), then there blinks the progress icon in the middle and it gets stuck at the loading progress icon on the left (instead of that puzzle piece))  \n14:20\u00a0<msmeria1>\u00a0has quit  \n14:22\u00a0<ClemensR>\u00a0ah, and there is no error message displayed in the browser yet ...  \n14:23\u00a0<DarkKnightCZ>\u00a0nope, and the response from Distribution is just that html (no error messages, empty progress tab)  \n14:26\u00a0<ClemensR>\u00a0ah, I thought it happened when updating an extension, too  \n14:27\u00a0<ClemensR>\u00a0there is a somewhat better chance of spotting the problem there  \n14:27\u00a0<DarkKnightCZ>\u00a0yep, it happens too, i was testing it now on first step in distribution wizard  \n14:30\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:33\u00a0<gdelhumeau>\u00a0.......  \n14:33\u00a0<gdelhumeau>\u00a0when I am in agent 1-1  \n14:33\u00a0<gdelhumeau>\u00a0I am disconnected during the build  \n14:34\u00a0<gdelhumeau>\u00a0twice  \n14:34\u00a0<mflorea>\u00a0arrr, that might have been me, sorry :(  \n14:35\u00a0<mflorea>\u00a0I'm playing with Jenkins and I might have killed the wrong process  \n14:35\u00a0<mflorea>\u00a0I'll be more careful  \n14:36\u00a0<mflorea>\u00a0gdelhumeau: sorry again  \n14:36\u00a0<gdelhumeau>\u00a0ok, I did not understand  \n14:36\u00a0<gdelhumeau>\u00a0I would like to install \"screen\"  \n14:36\u00a0<gdelhumeau>\u00a0so I might be able to get back to my previous session  \n14:39\u00a0<DarkKnightCZ>\u00a0ClemensR: no data for extension updater in stdout  \n14:40\u00a0<DarkKnightCZ>\u00a0and previous successfully update extension job status is blank  \n14:40\u00a0<DarkKnightCZ>\u00a0\\*updated  \n14:40\u00a0<ClemensR>\u00a0ah, this is blank, too  \n14:42\u00a0<DarkKnightCZ>\u00a0but it probably doesn't fail on that, because even if i don't delete it and restart xwiki, i can update another extension  \n14:42\u00a0<Slashman>\u00a0has quit  \n14:47\u00a0<msmeria>\u00a0has joined #xwiki  \n14:59\u00a0<andreeapopescu>\u00a0has quit  \n15:01\u00a0<spu7nic>\u00a0has quit  \n15:03\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:04\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n15:04\u00a0<msmeria>\u00a0has quit  \n15:06\u00a0<msmeria1>\u00a0has quit  \n15:11\u00a0<msmeria>\u00a0has joined #xwiki  \n15:13\u00a0<ClemensR>\u00a0DarkKnightCZ: \u00a0the status.xml for installed extensions are never empty for me. are they reliably empty for you?  \n15:14\u00a0<KermitTheFragger>\u00a0has quit  \n15:17\u00a0<DarkKnightCZ>\u00a0ClemensR: yes, the last one that is upgraded has empty status.xml file, previous ones are okay, so there could be problem with generation (but nothing occurs in logs)  \n15:17\u00a0<ClemensR>\u00a0ah, strange, only the last one  \n15:17\u00a0<DarkKnightCZ>\u00a0yep  \n15:18\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:18\u00a0<ClemensR>\u00a0this sounds like some problem with flushing ... but sure this should be a bit more reproducible  \n15:18\u00a0<ClemensR>\u00a0anyway, that is a hint at least  \n15:19\u00a0<DarkKnightCZ>\u00a0yep... if it helps, it's update from 5.1  \n15:20\u00a0<msmeria>\u00a0has quit  \n15:38\u00a0<cjd>\u00a0has joined #xwiki  \n15:40\u00a0<evalica>\u00a0has quit  \n16:03\u00a0<polx\\_>\u00a0has joined #xwiki  \n16:03\u00a0<polx\\_>\u00a0is now known as <polx>  \n16:27\u00a0<msmeria1>\u00a0has quit  \n16:37\u00a0<DarkKnightCZ>\u00a0ClemensR: going to test it tomorrow on different versions of xwiki if it works somewhere (i see there are some fixes involving distribution wizard in 5.4.2)  \n16:37\u00a0<ClemensR>\u00a0DarkKnightCZ: ah, yes, there has been some fixes. let us know if it helps  \n16:43\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n17:24\u00a0<sburjan>\u00a0has quit  \n17:27\u00a0<cjd>\u00a0has quit  \n17:27\u00a0<Slashman>\u00a0has joined #xwiki  \n17:42\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n17:57\u00a0<GuillaumeF>\u00a0has quit  \n18:01\u00a0<sburjan>\u00a0has joined #xwiki  \n18:06\u00a0<cjd>\u00a0has joined #xwiki  \n18:07\u00a0<Sidali\\_>\u00a0has joined #xwiki  \n18:07\u00a0<Sidali>\u00a0has quit  \n18:07\u00a0<Sidali\\_>\u00a0is now known as <Sidali>  \n18:08\u00a0<woshilapin>\u00a0has quit  \n18:12\u00a0<UCC>\u00a0has joined #xwiki  \n18:17\u00a0<Sidali>\u00a0has quit  \n18:35\u00a0<polx>\u00a0has quit  \n18:37\u00a0<vmassol>\u00a0has quit  \n18:38\u00a0<polx>\u00a0has joined #xwiki  \n18:40\u00a0<polx>\u00a0has quit  \n18:44\u00a0<vmassol>\u00a0has joined #xwiki  \n18:55\u00a0<mflorea>\u00a0has quit  \n19:04\u00a0<vmassol>\u00a0gdelhumeau: sorry I didn't follow, was the csrf issue fixed in the end on master?  \n19:04\u00a0<vmassol>\u00a0(I'm stuck ATM on my tests since XE doesn't work)  \n19:07\u00a0<gdelhumeau>\u00a0I have commited a fix  \n19:07\u00a0<vmassol>\u00a0ok thanks  \n19:07\u00a0<vmassol>\u00a0rebuilding  \n19:08\u00a0<gdelhumeau>\u00a0https://github.com/xwiki/xwiki-platform/commit/bd007f28ee8c079d481c49455cebbf0b15cc1a2b  \n19:09\u00a0<gdelhumeau>\u00a0if it still does not work, please revert https://github.com/xwiki/xwiki-platform/commit/77ebad8c6390dc4389d2de690ab50a3cb548abb0 and https://github.com/xwiki/xwiki-platform/commit/bd007f28ee8c079d481c49455cebbf0b15cc1a2b  \n19:09\u00a0<gdelhumeau>\u00a0I wanted to see the result on jenkins  \n19:09\u00a0<gdelhumeau>\u00a0but...  \n19:09\u00a0<vmassol>\u00a0getNewToken() might be a better name, wdyt? (rather than newToken())  \n19:10\u00a0<vmassol>\u00a0I'll let you revert actually if it doesn't work  \n19:10\u00a0<gdelhumeau>\u00a0yep you are right  \n19:10\u00a0<vmassol>\u00a0you didn't test it? :)  \n19:10\u00a0<gdelhumeau>\u00a0not the panel test  \n19:10\u00a0<vmassol>\u00a0what is strange is that nobody noticed this  \n19:10\u00a0<vmassol>\u00a0it's been a week alrady  \n19:10\u00a0<vmassol>\u00a0that XE is broken I guess  \n19:11\u00a0<vmassol>\u00a0hmm doesn't work  \n19:11\u00a0<vmassol>\u00a0analyzing  \n19:12\u00a0<vmassol>\u00a0hmm I might not have your fix  \n19:16\u00a0<gdelhumeau>\u00a0works for me  \n19:17\u00a0<gdelhumeau>\u00a0I will be on Bielorussia next week  \n19:17\u00a0<vmassol>\u00a0nice :)  \n19:17\u00a0<gdelhumeau>\u00a0good evening!  \n19:17\u00a0<vmassol>\u00a0have a good trip!  \n19:17\u00a0<gdelhumeau>\u00a0thanks !  \n19:18\u00a0<gdelhumeau>\u00a0has quit  \n19:19\u00a0<ClemensR>\u00a0I have to admit I did not notice the problem because I did not full rebuild since last week .... and jenkins seemingly did not do either  \n19:28\u00a0<ClemensR>\u00a0has quit  \n19:28\u00a0<Slashman>\u00a0has quit  \n19:46\u00a0<vmassol>\u00a0fixing other issue in the build that I caused last week\u2026 ooops :(  \n20:44\u00a0<cjd>\u00a0has quit  \n20:55\u00a0<polx>\u00a0has joined #xwiki  \n21:03\u00a0<polx>\u00a0has quit  \n21:04\u00a0<polx\\_>\u00a0has joined #xwiki  \n21:05\u00a0<polx\\_>\u00a0has quit  \n21:07\u00a0<cjd>\u00a0has joined #xwiki  \n21:43\u00a0<polx>\u00a0has joined #xwiki  \n21:57\u00a0<andreeapopescu>\u00a0has quit  \n22:17\u00a0<polx>\u00a0has quit  \n22:48\u00a0<polx>\u00a0has joined #xwiki  \n22:52\u00a0<UCC>\u00a0has quit  \n23:16\u00a0<polx\\_>\u00a0has joined #xwiki  \n23:21\u00a0<polx>\u00a0has quit  \n23:39\u00a0<polx>\u00a0has joined #xwiki  \n23:44\u00a0<polx>\u00a0has quit  \n23:54\u00a0<polx>\u00a0has joined #xwiki\n"}