{"id": "dev:IRC.xwikiArchive20120428", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120428", "title": "IRC Archive for channel #xwiki on 28 April 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:08\u00a0<abusenius>\u00a0has quit  \n00:23\u00a0<pgmjsd>\u00a0has quit  \n07:02\u00a0<Denis1>\u00a0has joined #xwiki  \n07:05\u00a0<Denis>\u00a0has quit  \n08:49\u00a0<vmassol>\u00a0good morning  \n08:50\u00a0<vmassol>\u00a0I'm puzzled  \n08:50\u00a0<vmassol>\u00a0I moved stuff around yesterday in the rendering module  \n08:50\u00a0<vmassol>\u00a0and I see this in the commit I did: https://github.com/xwiki/xwiki-rendering/commit/8cdefb9a5fa2e16cc8af098134862019b1cb4fde#diff-8  \n08:51\u00a0<vmassol>\u00a0of course I've never (voluntarily) removed the dots  \n08:51\u00a0<vmassol>\u00a0so it be my IDE that did when I moved stuff but that beats me why it would do such thing....  \n08:52\u00a0<vmassol>\u00a0fixing anyway\u2026.  \n08:52\u00a0<vmassol>\u00a0I hope there are no other quirkies like this...  \n08:57\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r08beb33\u000f https://github.com/xwiki/xwiki-rendering/commit/08beb33826978967765909043b4e8b14f2149821 \u000f/ xwiki-rendering-syntaxes/xwiki-rendering-syntax-xwiki20/src/main/java/org/xwiki/rendering/internal/renderer/xwiki20/XWikiSyntaxChainingRenderer.java :\u000f XRENDERING-191: Have one Maven module per syntax ...  \n08:57\u00a0<vmassol>\u00a0lucky that we have good unit tests in the rendering module  \n10:23\u00a0<polx>\u00a0has joined #xwiki  \n11:53\u00a0<jomo>\u00a0has joined #xwiki  \n11:57\u00a0<jomo>\u00a0Hi Can anyone explain this error message? Got it when tried install extension. http://pastebin.com/7wG3tmD3  \n12:14\u00a0<vmassol>\u00a0jomo: hi  \n12:14\u00a0<vmassol>\u00a0the error seems to be:  \n12:14\u00a0<vmassol>\u00a0Caused by: class java.io.IOException: File 'data/extension/repository/jvelociter%3Agoogle-document-viewer-macro/1.0/jvelociter%3Agoogle-document-viewer-macro-1.0.xar' could not be created  \n12:14\u00a0<vmassol>\u00a0seems there's a special char in the name of the extension  \n12:15\u00a0<vmassol>\u00a0and your OS might now support it  \n12:15\u00a0<vmassol>\u00a0what OS are you on?  \n12:15\u00a0<vmassol>\u00a0(so this looks like a bug)  \n12:17\u00a0<vmassol>\u00a0would be great if you could report this issue with the full stack trace \u00a0on our issue tracker: http://jira.xwiki.org/browse/XCOMMONS  \n12:17\u00a0<vmassol>\u00a0the developer working on the extension manager is offline right now  \n12:18\u00a0<jomo>\u00a0sry was afk - os: Freebsd xwiki is installed following this guide: http://dev.xwiki.org/xwiki/bin/view/Drafts/BSD\\_Install The base install seems works ok.  \n12:18\u00a0<vmassol>\u00a0could you check if you're allowed to create a dir with the % char?  \n12:18\u00a0<vmassol>\u00a0(the % char in the name, that is)  \n12:18\u00a0<jomo>\u00a0men in the shell?  \n12:18\u00a0<jomo>\u00a0mean  \n12:18\u00a0<vmassol>\u00a0in your terminal  \n12:19\u00a0<vmassol>\u00a0cd /tmp  \n12:19\u00a0<jomo>\u00a0ok going to check  \n12:19\u00a0<vmassol>\u00a0touch somethin%3Awhatever  \n12:19\u00a0<vmassol>\u00a0for ex  \n12:19\u00a0<vmassol>\u00a0or mkdir for a dir  \n12:19\u00a0<jomo>\u00a0-rw-r--r-- \u00a0\u00a01 clt \u00a0\u00a0wheel \u00a0\u00a0\u00a00 28 apr 12:18 abc%def  \n12:20\u00a0<vmassol>\u00a0ok so next verification is permissions  \n12:20\u00a0<vmassol>\u00a0can you verify the user used to start xwiki  \n12:20\u00a0<vmassol>\u00a0has write access to the dir:  \n12:20\u00a0<vmassol>\u00a0data/extension/repository/jvelociter%3Agoogle-document-viewer-macro/1.0/jvelociter%3Agoogle-document-viewer-macro-1.0.xar  \n12:20\u00a0<vmassol>\u00a0where data/ is relative to where xwiki was started from  \n12:20\u00a0<vmassol>\u00a0you should use an absolute path btw  \n12:21\u00a0<vmassol>\u00a0to prevent permissions errors  \n12:21\u00a0<jomo>\u00a0huh - ok - this will be take more time - i need remember where i'm installed xwiki 3 weeks ago.. ;) will come back \u00a0;)  \n12:22\u00a0<vmassol>\u00a0if you check your xwiki.properties file  \n12:22\u00a0<vmassol>\u00a0you'll see:  \n12:22\u00a0<vmassol>\u00a0https://gist.github.com/2517741  \n12:23\u00a0<vmassol>\u00a0jomo: btw is the stack trace you've pasted the full stack trace?  \n12:23\u00a0<vmassol>\u00a0it seems to be missing the root cause  \n12:24\u00a0<jomo>\u00a0yes  \n12:24\u00a0<jomo>\u00a0327 lines  \n12:24\u00a0<vmassol>\u00a0yeah....  \n12:25\u00a0<vmassol>\u00a0I'll check our cdoe to see if we hide the real reason  \n12:25\u00a0<jomo>\u00a0so i found the /usr/local/apache-tomcat-7.0/webapps/xwiki/WEB-INF/xwiki.properties  \n12:25\u00a0<vmassol>\u00a0now you need to find you data/ dir  \n12:26\u00a0<vmassol>\u00a0it's going to be relative from where you've staretd tomcat  \n12:26\u00a0<jomo>\u00a0i have the environment.permanentDirectory=data  \n12:26\u00a0<vmassol>\u00a0and you should modify your xwiki.properties file to point to it in an absolute manner  \n12:26\u00a0<vmassol>\u00a0you can move it wherever you wish to  \n12:26\u00a0<vmassol>\u00a0but make sure permissions are correct  \n12:26\u00a0<vmassol>\u00a0IMO that's your issue  \n12:27\u00a0<vmassol>\u00a0gtg, bbiab  \n12:28\u00a0<jomo>\u00a0ok - thanx a lot - unfortunately im totally newbie with tomcat and java-based servers\u2026 ;(  \n12:33\u00a0<abusenius>\u00a0has joined #xwiki  \n12:38\u00a0<jomo>\u00a0vmassol: YOURE a GOD! thanx a lot. I'm changed the suggested line to absolute path, restart tomacat a installing works! Thanx a LOT!  \n13:25\u00a0<vmassol>\u00a0jomo: cool :)  \n13:25\u00a0<vmassol>\u00a0I'll add some checks in our code so that this doesn't happen in the future  \n13:26\u00a0<vmassol>\u00a0BTW the Extension Manage is still new and experimental in 3.5. It has been much improved in 4.0 and is still being heavily improved in 4.1.  \n13:31\u00a0<jomo>\u00a0the last \"stable\" is 3.5 now? right?  \n13:31\u00a0<vmassol>\u00a0jomo: : correct although we're releasing a 3.5.1 very soon (in the coming 2-3 days)  \n13:32\u00a0<vmassol>\u00a0but don't be deterred by latest  \n13:32\u00a0<vmassol>\u00a0:)  \n13:32\u00a0<jomo>\u00a0;) ;)  \n13:32\u00a0<vmassol>\u00a04.0 is going to be released in the coming 3-4 days too  \n13:32\u00a0<vmassol>\u00a0but you could try 4.0-rc-1  \n13:32\u00a0<vmassol>\u00a0that's the latest release  \n13:34\u00a0<jomo>\u00a0because my tomcat/java knowledge is extremelly limited, probably will wait for \"stable\" one ;) I'm currently moving from Foswiki to xwiki - because xwiki feeling is \"more polished\" for end-users\u2026 ;)  \n13:34\u00a0<vmassol>\u00a0ah that's cool feedback  \n13:35\u00a0<vmassol>\u00a0I'd love to hear about stuff that you might prefer in foswiki  \n13:35\u00a0<vmassol>\u00a0it would be useful feedback  \n13:40\u00a0<jomo>\u00a0im using FW because i know perl ;), so i was able write my own extensions and/or soo.. Runs under apache (or PLACK) - for me confortable environment. But have some problem with it (and don't want blame foswiki - it is really powerful wiki). For end-users (read: secretary, non-it-project managers and so on) seems xwiki more \"polished\" ;)  \n13:41\u00a0<vmassol>\u00a0ok, I hope you'll like xwiki  \n13:41\u00a0<vmassol>\u00a0let us know if you have some issue as you've done  \n13:41\u00a0<vmassol>\u00a0or if you have some suggestion for improving it  \n13:41\u00a0<vmassol>\u00a0thanks jomo  \n13:42\u00a0<jomo>\u00a0sure will - thanx a lot for your help :)  \n13:46\u00a0<vmassol>\u00a0np  \n14:45\u00a0<qwebirc93328>\u00a0has joined #xwiki  \n14:45\u00a0<qwebirc93328>\u00a0Hello all!  \n14:46\u00a0<qwebirc93328>\u00a0I'm coming back about my installation of LibreOffce 3.5 with XWiki 3.5: I keep getting the \"officeHome must exist and be a directory\" error even with adding the \"-Doffice.home\" argument to start\\_xwiki.bat. What am I missing?  \n14:50\u00a0<polx>\u00a0has quit  \n14:51\u00a0<polx>\u00a0has joined #xwiki  \n14:52\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r8af3e9c\u000f https://github.com/xwiki/xwiki-commons/commit/8af3e9c5608d46928e226396fd980b53397b299c \u000f/ (2 files in 2 dirs):\u000f [Misc] Removed compilation warning + added tests (now 100% of coverage) - http://git.io/HYNGOQ  \n15:04\u00a0<qwebirc93328>\u00a0Still no luck, and Jod not showing the content of its officeHome variable does not help troubleshooting the problem. Can I switch the jobconverter jar freely with the original one, or is the -xwiki-20110822 suffix means it's not compatible anymore?  \n15:41\u00a0<vmassol>\u00a0has quit  \n15:55\u00a0<qwebirc93328>\u00a0Ok, no quotes for the xwiki.properties file, then... :p  \n15:55\u00a0<qwebirc93328>\u00a0Still not working as the process ends with status 128.  \n16:15\u00a0<qwebirc93328>\u00a0Installed LibreOffice 3.4 and no error. 3.4 it will be, then!  \n16:15\u00a0<qwebirc93328>\u00a0Thanks for you help!  \n16:15\u00a0<qwebirc93328>\u00a0has quit  \n17:31\u00a0<vmassol>\u00a0has joined #xwiki  \n17:45\u00a0<rrodriguez>\u00a0has joined #xwiki  \n18:09\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:11\u00a0<vmassol>\u00a0hello  \n18:11\u00a0<vmassol>\u00a0anyone has any clue why platform-4.0 was triggered by platform (master)? http://ci.xwiki.org/view/Platform/job/xwiki-platform-4.0/29/  \n18:11\u00a0<rrodriguez\\_\\_>\u00a0has joined #xwiki  \n18:11\u00a0<rrodriguez>\u00a0has quit  \n18:11\u00a0<rrodriguez\\_\\_>\u00a0is now known as <rrodriguez>  \n18:11\u00a0<rrodriguez\\_>\u00a0has quit  \n18:14\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:14\u00a0<rrodriguez>\u00a0has quit  \n18:15\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n18:20\u00a0<@sdumitriu>\u00a0vmassol: Status update: I've managed to spot the problem with Postgres and I almost have a fix  \n18:20\u00a0<@sdumitriu>\u00a0But there's going to be some data loss, since 3.5 didn't have the right mapping file, so some data was written incorrectly  \n18:21\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:21\u00a0<@sdumitriu>\u00a0http://jira.xwiki.org/browse/XWIKI-7539  \n18:25\u00a0<rrodriguez>\u00a0has quit  \n18:25\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n18:25\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:28\u00a0<vmassol>\u00a0sdumitriu: data loss\u2026. ouch  \n18:29\u00a0<rrodriguez>\u00a0has quit  \n18:29\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n18:30\u00a0<CIA-74>\u00a0Vincent Massol\u000f cts\u000f \\* r4c1eadb\u000f https://github.com/xwiki/xwiki-rendering/commit/4c1eadb5b8bd31616b7ad6e32043fdc776860285 \u000f/ (6 files in 6 dirs):\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n18:32\u00a0<@sdumitriu>\u00a0vmassol: 3.5 was never supporting postgres, so migrating from 3.5 to 3.5.1 is not something that many people should do  \n18:32\u00a0<vmassol>\u00a0not quite true  \n18:32\u00a0<@sdumitriu>\u00a0Anyway, it's just some history that gets broken, and only for non-ASCII chars  \n18:32\u00a0<vmassol>\u00a0prior to 3.2 we were supproting postgres  \n18:33\u00a0<vmassol>\u00a0we added some regressions when we upgraded hibernate and modified HBM file AFAIK  \n18:33\u00a0<@sdumitriu>\u00a0Right  \n18:33\u00a0<vmassol>\u00a0so we have people who move from say 3.0 to 3.5  \n18:33\u00a0<vmassol>\u00a0(since 3.5 is the latest stable right now)  \n18:34\u00a0<@sdumitriu>\u00a0That won't work, since that kind of migration doesn't work yet  \n18:34\u00a0<@sdumitriu>\u00a0They'll get broken attachments  \n18:34\u00a0<vmassol>\u00a0yes this is what they get  \n18:34\u00a0<vmassol>\u00a0then they're going to uprgade to 3.5.1 when we release it  \n18:35\u00a0<vmassol>\u00a0and AFAIU they'll have lost some history for non ascii pages?  \n18:35\u00a0<@sdumitriu>\u00a0If they didn't create any new history while on 3.5, nothing is lost  \n18:35\u00a0<vmassol>\u00a0ok  \n18:35\u00a0<@sdumitriu>\u00a0The older history will still work  \n18:35\u00a0<vmassol>\u00a0they'll have created some for sure  \n18:35\u00a0<vmassol>\u00a0so we need to hurry  \n18:35\u00a0<vmassol>\u00a0to release 3.5.1  \n18:35\u00a0<@sdumitriu>\u00a0Yep, doing a final test now to see if all is OK  \n18:36\u00a0<vmassol>\u00a0we really need to explain in big letters in the Relase notes and ANN email all the problems  \n18:36\u00a0<vmassol>\u00a0and hwat they might have lost  \n18:49\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:51\u00a0<rrodriguez>\u00a0has quit  \n18:51\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n18:52\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n18:53\u00a0<rrodriguez>\u00a0has quit  \n18:53\u00a0<rrodriguez>\u00a0has joined #xwiki  \n18:55\u00a0<rrodriguez>\u00a0has quit  \n18:55\u00a0<rrodriguez\\_\\_>\u00a0has joined #xwiki  \n18:56\u00a0<rrodriguez\\_>\u00a0has quit  \n19:01\u00a0<rrodriguez>\u00a0has joined #xwiki  \n19:03\u00a0<rrodriguez\\_\\_>\u00a0has quit  \n19:08\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n19:10\u00a0<rrodriguez\\_\\_>\u00a0has joined #xwiki  \n19:10\u00a0<rrodriguez>\u00a0has quit  \n19:10\u00a0<rrodriguez\\_\\_>\u00a0is now known as <rrodriguez>  \n19:10\u00a0<rrodriguez\\_>\u00a0has quit  \n19:17\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n19:18\u00a0<rrodriguez>\u00a0has quit  \n19:18\u00a0<rrodriguez\\_\\_>\u00a0has joined #xwiki  \n19:21\u00a0<rrodriguez\\_>\u00a0has quit  \n19:27\u00a0<vmassol>\u00a0has quit  \n19:30\u00a0<mflorea>\u00a0has joined #xwiki  \n19:44\u00a0<rrodriguez>\u00a0has joined #xwiki  \n19:44\u00a0<rrodriguez\\_\\_>\u00a0has quit  \n20:06\u00a0<rrodriguez>\u00a0has quit  \n20:28\u00a0<rrodriguez>\u00a0has joined #xwiki  \n20:33\u00a0<rrodriguez>\u00a0has quit  \n20:35\u00a0<rrodriguez>\u00a0has joined #xwiki  \n20:48\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n20:50\u00a0<rrodriguez>\u00a0has quit  \n20:53\u00a0<rrodriguez\\_>\u00a0has quit  \n21:45\u00a0<rrodriguez>\u00a0has joined #xwiki  \n21:57\u00a0<Shaddox>\u00a0has joined #xwiki  \n22:13\u00a0<vmassol>\u00a0has joined #xwiki  \n22:38\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n22:41\u00a0<rrodriguez>\u00a0has quit  \n22:41\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n22:47\u00a0<@sdumitriu>\u00a0vmassol: PostgreSQL migration works very well, I have to go eat something and then I'll commit it  \n22:47\u00a0<@sdumitriu>\u00a0After that I can start the release  \n22:47\u00a0<vmassol>\u00a0sdumitriu: great!  \n23:30\u00a0<CIA-74>\u00a0Vincent Massol\u000f cts\u000f \\* r9eb073f\u000f https://github.com/xwiki/xwiki-rendering/commit/9eb073f52d2d6b2b04612af65a583b94fd605be3 \u000f/ pom.xml :\u000f XRENDERING-187: Implement a Rendering Compatibility Test Suite ...  \n23:31\u00a0<vmassol>\u00a0has quit  \n23:38\u00a0<rrodriguez>\u00a0has quit  \n23:46\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:59\u00a0<mflorea>\u00a0has quit  \n\n"}