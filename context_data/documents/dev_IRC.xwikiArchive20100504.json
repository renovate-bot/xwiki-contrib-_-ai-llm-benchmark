{"id": "dev:IRC.xwikiArchive20100504", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100504", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu left at 00:29 (Read error: Connection reset by peer  \nanamarias left at 00:52 (Quit: anamarias  \njvelociter left at 00:58 (Quit: jvelociter  \nabusenius left at 01:00 (Ping timeout: 264 seconds  \njvdrean left at 01:01 (Quit: Leaving.  \nsdumitriu left at 01:48 (Quit: Leaving.  \nnpm left at 01:56 (Quit: Leaving.  \nnpm joined #xwiki at 02:10  \nxipe left at 06:25 (\\*.net \\*.split  \nxipe joined #xwiki at 06:27  \nDenis left at 07:02 (Read error: Connection reset by peer  \nDenis joined #xwiki at 07:10  \nvmassol joined #xwiki at 07:50  \nflorinciu joined #xwiki at 07:56  \nlucaa joined #xwiki at 08:10  \nkibahop joined #xwiki at 08:15  \nplunden joined #xwiki at 08:16  \nplunden left #xwiki at 08:17  \nplunden joined #xwiki at 08:18  \nlucaa1 joined #xwiki at 08:19  \nlucaa left at 08:19 (Ping timeout: 264 seconds  \nplunden left #xwiki at 08:19  \nplunden joined #xwiki at 08:19  \nmflorea joined #xwiki at 08:26  \nannacondan joined #xwiki at 08:34  \nlucaa1 left at 08:37 (Quit: Leaving.  \nkibahop left #xwiki at 09:13  \nabusenius joined #xwiki at 09:13  \nabusenius left at 09:21 (Ping timeout: 265 seconds  \nEnygma` joined #xwiki at 09:26  \narkub joined #xwiki at 09:30  \nmflorea left at 09:34 (Quit: Leaving.  \nflorinciu left at 09:39 (Quit: Leaving.  \nsilviar joined #xwiki at 09:39  \nanamarias joined #xwiki at 09:46  \nflorinciu joined #xwiki at 09:51  \nevalica joined #xwiki at 09:55  \nflorinciu left at 09:56 (Read error: Connection reset by peer  \nabusenius joined #xwiki at 10:00  \nKermitTheFragger joined #xwiki at 10:02  \nglerouge joined #xwiki at 10:06  \nflorinciu joined #xwiki at 10:08  \nvmassol - (10:10): good morning everyone  \nvmassol - (10:10): fwiw the build is working now\u2026 was failing yesterday for me\u2026 must have been some module not built on hudson or something like that  \njvdrean joined #xwiki at 10:13  \nmflorea joined #xwiki at 10:19  \njvdrean - (10:23): Hi all. vmassol wdyt about adding the jar plugin to xwiki-enterprise-test-ui build (I'd like to be able to use it as a dependency)  \nvmassol - (10:24): hi jvdrean  \nvmassol - (10:24): you want to package our selenium2 test framework in a jar (ie. framework package + elements package)?  \njvdrean - (10:25): yes  \nvmassol - (10:25): you want to reuse this to write func tests for xecs, is that it?  \njvdrean - (10:25): indeed :)  \nvmassol - (10:25): makes sense  \nvmassol - (10:26): +1 from me  \nsdumitriu joined #xwiki at 10:33  \njvelociter joined #xwiki at 10:40  \nannacondan left at 11:07 (Quit: annacondan  \nflorinciu left at 11:14 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 11:18  \njvelociter - (11:19): Hi guys. XE 2.3 appears as not released in JIRA  \nvmassol - (11:20): maybe jvdrean forgot to release it?  \nvmassol - (11:20): just checked, looks released to me  \njvelociter - (11:21): XE, not XWiki  \nvmassol - (11:21): yes XE  \njvelociter - (11:21): hmm. I can't find a fix for 2.3.1  \nvmassol - (11:21): that's simply because 2.3.1 wasnt created  \nvmassol - (11:21): I'm doing it  \njvelociter - (11:21): right, I talked too fast  \njvelociter - (11:21): thanks  \nvmassol - (11:21): done  \nvmassol - (11:23): hmm I spoke too fast this morning, the build of platform on trunk is failing again for me now  \njvelociter - (11:23): thanks vincent  \nvmassol - (11:23): http://pastebin.org/200673  \nvmassol - (11:23): if someone has any idea...  \nrstavro joined #xwiki at 11:28  \nCalebJamesDeLisl - (11:41): I've been getting that error on and off for a long time. I just compile again and it always works.  \nannacondan joined #xwiki at 12:01  \nannacondan left at 12:02 (Client Quit  \njvdrean left at 12:12 (Quit: Leaving.  \nmariusbutuc joined #xwiki at 12:32  \nlucaa joined #xwiki at 12:34  \ngvallarelli joined #xwiki at 12:37  \ngvallarelli - (12:38): Hi XWikiers!  \njvelociter - (12:38): hello gvallarelli  \nsdumitriu - (12:38): Hi gvallarelli  \njvdrean joined #xwiki at 12:42  \njvdrean left at 12:49 (Quit: Leaving.  \nannacondan joined #xwiki at 12:59  \nflorinciu left at 13:18 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 13:39  \njvdrean joined #xwiki at 13:41  \ntmortagne joined #xwiki at 13:52  \nrstavro left at 13:57 (  \nannacondan left at 14:13 (Quit: annacondan  \ndegro joined #xwiki at 14:31  \ndegro - (14:31): Hey, Caleb  \ndegro - (14:32): and everybody  \ndegro - (14:33): could anybody here provide me with some basic guidance around the usage of ConfigurableClass ?  \ntmortagne - (14:34): degro: did you looked at http://code.xwiki.org/xwiki/bin/view/Applications/AdministrationApplication ?  \ndegro - (14:36): I don't know how much help this would be for me, my goal is building a configurable application  \ndegro - (14:36): so from looking at the ConfigurableClass, I supposed that's what it's meant for  \ndegro - (14:37): oh.  \ndegro - (14:37): there it is, the ConfigurableClass  \ntmortagne - (14:37): degro: this page contains the documentation ConfigurableClass  \ndegro - (14:37): I didn't scroll down to the bottom :)  \ntmortagne - (14:37): since that's an adlin app feature  \ntmortagne - (14:37): s/adlin/admin/  \ndegro - (14:39): thanks a lot, thomas, this is of great help :)  \ntmortagne - (14:40): you'r welcome, I asked the same question yesterday ;)  \nannacondan joined #xwiki at 14:47  \njfx left at 14:48 (Quit: WeeChat 0.3.0  \nflorinciu left at 14:51 (Read error: Connection reset by peer  \nevalica left at 14:59 (Quit: Leaving.  \nEnygma` left at 15:00 (Quit: Leaving.  \nvmassol - (15:16): jvdrean: you need to explcitiely specify which files to include in the test jar  \njvdrean - (15:17): vmassol: do you have an example ? actually I copied what was done in selenium-tests  \nvmassol - (15:18): yes  \nvmassol - (15:18): hold on  \nvmassol - (15:19): if the selenium-tests copies all the files it's wrong btw  \nvmassol - (15:19): jvdrean: for ex: http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/pom.xml  \nvmassol - (15:20): look for maven-jar-plugin  \nvmassol - (15:20): otheriwise here: http://maven.apache.org/plugins/maven-jar-plugin/test-jar-mojo.html  \njvdrean - (15:27): vmassol: ok I guess this becomes important because of the annotations used to get all the tests  \nvmassol - (15:28): well it's cleaner  \nvmassol - (15:28): since you don't need to package the tests  \nvmassol - (15:28): just the framework  \nannacondan - (15:30): hi  \nsdumitriu - (15:32): Hi annacondan  \nannacondan - (15:33): Are any xwiki people going to http://www.wikisym.org/  \nsdumitriu - (15:34): I don't know, maybe vmassol knows  \nannacondan - (15:35): If so, it would be nice to meet in person  \nannacondan left at 15:46 (Quit: annacondan  \nannacondan joined #xwiki at 16:23  \nmflorea - (16:35): tmortagne: I'm serializing an attachment reference and I don't get the \"attach:\" prefix. Is this right?  \ntmortagne - (16:36): WDYM by \"serializing\" ?  \nmflorea - (16:38): tmortagne: I have an EntityReference of type EntityType.ATTACHMENT and I use the \\_compact\\_ EntityReferenceSerializer<String> to serialize this attachment reference. I get Space.Page@fileName, without the \"attach:\" prefix.  \ntmortagne - (16:38): mflorea: attach has nothing to do with references  \ntmortagne - (16:38): that's xwiki/2.0 syntax  \ntmortagne - (16:39): Space.Page@fileName is the refgerence of the attachement you asked for  \ntmortagne - (16:39): reference syntax doe snot contains the type of the reference  \ntmortagne - (16:39): you have to know it when you parse  \nmflorea - (16:40): ok, then how do I get attach:Space.Page@fileName from an attachment reference. I don't want to hard-code the attach prefix  \nmariusbutuc left #xwiki at 16:40  \nmflorea - (16:40): the prefix is needed when generating a link  \nmflorea - (16:40): a link to an attacmhent  \nmflorea - (16:41): vmassol: you told me that you exposed some API to escape a link on the server side, maybe that helps  \ntmortagne - (16:42): mflorea: let me look at something  \nmflorea - (16:42): I need a syntax-independent way to generate the \"reference\" that must present on the startlink comment  \nmflorea - (16:44): e.g. <!--startwikilink:attach:Space.Page@fileName--> which leads to [[label>>attach:Space.Page@fileName]]  \nmflorea - (16:45): actually it doesn't have to be syntax independent  \nmflorea - (16:47): So, I have an entity reference and I want to generate the string to replace XXX in <!--startwikilink:XXX-->. When the entity reference type is document, I just serialize the entity reference. When the entity reference type is attachment, I need to prefix the serialized reference with \"attach:\", but I don't want to hard-code this.  \nmflorea - (16:49): ideally I would need a method like getLinkReference(EntityReference targetReference, EntityReference baseReference)  \ntmortagne - (16:49): mflorea: currently only way id to had-code i think  \ntmortagne - (16:49): s/id/is/  \nmflorea - (16:51): ok, I see, it's fine for the moment because there I can create links only to documents and attachments, but if we're going to extend this for objects and other entities, then I would need an API  \ntmortagne - (16:52): mflorea: sure but that's really not planned to have such links anytime soon AFAIK  \ndegro left at 16:52 (Quit: Leaving  \nmflorea - (16:52): yes  \nplunden left #xwiki at 16:54  \nlucaa left #xwiki at 16:55  \nannacondan left at 17:10 (Quit: annacondan  \nsilviar left at 17:17 (Quit: Leaving.  \nmflorea - (17:19): vmassol: can you give a link (http://svn.xwiki.org/svnroot/xwiki/) to the API I need to use to escape a link reference. Also, I'll like to know if the way I get the link reference is the correct.  \nvmassol - (17:19): mflorea: I'll check but if thomas hasn't found not sure I can find  \nvmassol - (17:19): looking now  \nannacondan joined #xwiki at 17:20  \nvmassol - (17:20): (I don't recall if I 've written a serializer for that or not)  \nmflorea - (17:21): vmassol: I'm referring to something else. When we discussed about special characters in page names, you had a used case where the page name has # in its name, which is a special URL character. You said that you have some code on the rendering module that escaped such URL special characters and you made it public, but I don't know where is it.  \nvmassol - (17:22): yes  \nvmassol - (17:22): DefaultLinkReferenceSerializer  \nvmassol - (17:22): role = LinkReferenceSerializer.class, hint = default  \nbbc581 joined #xwiki at 17:22  \nmflorea - (17:23): great  \nmflorea - (17:23): where is the source code?  \nvmassol - (17:24): http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-rendering/xwiki-rendering-api/src/main/java/org/xwiki/rendering/internal/renderer/DefaultLinkReferenceSerializer.java  \nmflorea - (17:24): thanks  \nvmassol - (17:24): http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-rendering/xwiki-rendering-api/src/main/java/org/xwiki/rendering/renderer/LinkReferenceSerializer.java  \nannacondan left at 17:25 (Quit: annacondan  \nglerouge left at 17:28 (Quit: Leaving.  \nmflorea - (17:33): vmassol: I need a way to parse a link reference. Is there a LinkReferenceParser?  \nvmassol - (17:34): yes hold on  \nvmassol - (17:35): org.xwiki.rendering.parser.LinkParser  \nvmassol - (17:35): (that's the role)  \nmflorea - (17:35): ok, thanks  \nvmassol - (17:35): if you want the xwiki/2.0 parser it's:  \nvmassol - (17:35): @Component(\"xwiki/2.0\")  \nvmassol - (17:35): public class XWikiLinkParser extends AbstractLinkParser  \nvmassol - (17:35): normally there's a parser per syntax  \nvmassol - (17:36): but for the moment we have a generic parser for all syntaxes (except for the xwiki/2.0 one)  \nvmassol - (17:36): @Component  \nvmassol - (17:36): public class GenericLinkParser extends AbstractLinkParser  \nvmassol - (17:36): for the serializer we should have syntax-speciifc ones too  \nvmassol - (17:36): so \"default\" hint is actually not correct\u2026 we'll need to fix that at some point  \nvmassol - (17:37): it should be xwiki/2.0 ideally  \nmflorea - (17:37): hmm, but it parses a \"rowLink\". I don't have the link syntax, I just have the serialized link reference  \nvmassol - (17:37): reference is not a link reference  \nvmassol - (17:37): it's different  \nvmassol - (17:37): wait  \nvmassol - (17:37): if you have \u00a0a link ref as a string, what's the pb?  \nmflorea - (17:39): So, I have a serialized entity reference. I use the LinkReferenceSerializer to escape URL special characters. Now, when I want to edit the link, I want to parse the escaped link reference. I need something to revert what LinkReferenceSerializer did, so that I can get the entity reference  \nvmassol - (17:39): entity ref != link ref  \nmflorea - (17:39): I know  \nmflorea - (17:39): but  \nvmassol - (17:40): I don't understand why the serializer + parser won't work  \nvmassol - (17:41): link ref = entity ref + more  \nvmassol - (17:41): so indeed an entity ref is a link ref  \nvmassol - (17:41): but not the opposite  \nvmassol - (17:41): (note: this might not be true in the future)  \nvmassol - (17:42): semantically you need to construct a link ref and not an entity ref  \nvmassol - (17:42): for example for a link to a doc ref, it would be: \"doc:<entity ref>\" in the future  \nmflorea - (17:42): Create link: entity ref ---serialize---> string entity ref ---createLinkObject---> Link object with reference set ---serialize---> string link reference ---createTheLink---> end.  \nmflorea - (17:42): Edit link: string link reference ---parseLinkReference---> string entity ref ---parse---> entity ref  \nvmassol - (17:43): (although we'll probably support without the \"doc:\" part too)  \nvmassol - (17:43): but anyway yu'll want to support anchors and query string at some point too probbaly  \nvmassol - (17:43): + link to URLs, link to attachment, etc  \nmflorea - (17:43): create link is fine. for edit link I need a way to get the entity ref from a link ref  \nvmassol - (17:43): ok  \nvmassol - (17:45): I don't think we have this now, let me check  \nvmassol - (17:45): I think we're removing the prefix manually  \nmflorea - (17:45): I can remove the prefix manually too, but there is the escape too, e.g. for #  \nvmassol - (17:46): the escape is handled by the parser/serializer  \nmflorea - (17:46): but the parser doesn't accept as input a link reference  \nvmassol - (17:46): for ex I see this in our code:  \nvmassol - (17:46): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Attachment attachment = this.attachmentParser.parse(link.getReference().substring(ATTACH.length()));  \nvmassol - (17:46): we'll need to improve this at some point  \nvmassol - (17:46): re the parser  \nnpm left at 17:47 (Quit: Leaving.  \nvmassol - (17:47): I don't understand  \nmflorea - (17:47): is attachmentParser a LinkParser  \nvmassol - (17:47): forget my example  \nvmassol - (17:47): it was to show somethingh else  \nmflorea - (17:47): becase LinkParser#paser needs a \"rawLink\"  \nvmassol - (17:47): and?  \nmflorea - (17:48): I have a link reference  \nvmassol - (17:48): and why is a link ref not a raw link?  \nmflorea - (17:48): I don't know :)  \nmflorea - (17:48): are they the same?  \nvmassol - (17:48): yes  \nmflorea - (17:48): ok :)  \nvmassol - (17:48): (or I'm missing something)  \nmflorea - (17:48): I though rowLink = [[label>>linkRef]]  \nvmassol - (17:49): nope  \nmflorea - (17:49): @param rawLink the string representation of the link to parser  \nmflorea - (17:49): s/parser/parse  \nvmassol - (17:49): should have been linkReference instead  \nvmassol - (17:49): I'll fix it  \nmflorea - (17:50): ok, in this case I can use the LinkParser  \nvmassol - (17:50): hmm  \nvmassol - (17:50): wait  \nvmassol - (17:50): checking something  \nvmassol - (17:50): you're right actually  \nvmassol - (17:50): I've checked the tests  \nvmassol - (17:51): wait  \nvmassol - (17:51): looking at the wrong code  \nvmassol - (17:51): :)  \nmflorea - (17:51): :)  \nvmassol - (17:51): (we have 2 LinkParser impl)  \nnpm joined #xwiki at 17:52  \ngvallarelli - (17:52): goodbye  \ngvallarelli left at 17:53 (Quit: Leaving.  \ntmortagne - (18:00): there is no reason to have code parsing [[label>>linkRef]] since that is done in wikimodel parser  \nvmassol - (18:01): sorry mflorea, one of my son is sick and I had to attend him  \nvmassol - (18:01): back now  \nvmassol - (18:01): cehcking  \nmflorea - (18:01): np  \nvmassol - (18:01): yes thomas is right  \nmflorea - (18:02): ok, then I'll try the LinkParser, with default hint? or xwiki/2.0?  \nvmassol - (18:03): xwiki/2.0  \nvmassol - (18:03): well  \nvmassol - (18:03): if the syntax is 2.0 then xwiki/2.0  \ntmortagne - (18:03): LinkParser is not a component  \nvmassol - (18:03): otherwise default hint  \nvmassol - (18:03): it is  \nvmassol - (18:03): \u00a0(a component)  \ntmortagne - (18:04): was looking at the wrong LinkParser  \nmflorea - (18:04): :)  \nvmassol - (18:04): hehe  \ntmortagne - (18:04): there is one in xwiki/1.0 rendering packages  \nmflorea - (18:04): thanks guys, back to work  \ntmortagne - (18:06): mflorea: difference between xwiki/1.0 and default is that xwiki/2.0 supports \"mailto\", \"image\", \"attach\" when standard only support \"mailto\" as URI prefix  \nvmassol - (18:06): tmortagne: we need to fix the hint for the link serializer  \ntmortagne - (18:06): s/xwiki/1.0/xwiki/2.0/  \nvmassol - (18:06): link ref serializer that is  \nvmassol - (18:07): hmm  \ntmortagne - (18:07): vmassol: i did not followed, what is the issue with the hint ?  \nvmassol - (18:08): normally we need to have one \u00a0serializer per syntax  \nvmassol - (18:08): right now there's only 1 impl with a default hint  \ntmortagne - (18:08): DefaultLinkReferenceSerializer is not really about xwiki/2.0 syntax, that's partly why we choose \\ for escaping instead of ~  \nvmassol - (18:09): hmm wondering how we handle image: and attach:  \ntmortagne - (18:09): it's just that we use the default implementation in xwiki/2.0 syntax, not the opposite  \nannacondan joined #xwiki at 18:14  \nmflorea left at 18:27 (Quit: Leaving.  \nKermitTheFragger left at 18:39 (Quit: Leaving  \njvdrean left at 18:46 (Quit: Leaving.  \nabusenius left at 19:01 (Ping timeout: 252 seconds  \nbbc581 left #xwiki at 19:13  \nvmassol - (19:42): tmortagne: do you think my fix for the chart macro is ok?  \nvmassol - (19:42): (I've used a paragrpah when the macro is standalone)  \nvmassol - (19:42): should we use a div instead?  \nvmassol - (19:42): (just wondering now)  \nvmassol - (19:43): div would mean GroupBlock....  \nvmassol - (19:43): probably make more sense to use a paragrpah block  \nvmassol - (19:43): wdyt?  \narkub left at 19:45 (Quit: Leaving  \nsdumitriu - (19:48): Paragraphs are mostly for text  \nglerouge joined #xwiki at 19:48  \nvmassol - (19:52): yes and a link is text  \nvmassol - (19:52): a link is found inside para normally so I think it's fine  \nglerouge left at 19:53 (Client Quit  \nvmassol - (19:53): sdumitriu: what other block would you use?  \nvmassol - (19:53): GroupBlock?  \nsdumitriu - (19:53): What link?  \nvmassol - (19:53): (sounds a bit strange semantically)  \nvmassol - (19:53): the image macro generates a link  \nvmassol - (19:54): oops s/image/chart/  \nsdumitriu - (19:54): OK for the p then  \njvdrean joined #xwiki at 20:02  \nvmassol - (20:10): grrr i should have run the maven build\u2026 checkstyle error...  \nvmassol - (20:23): if you have any idea on how to reduce the fan out complexity from 21 to 20 let me know\u2026 I'm a bit stuck...  \nvmassol - (20:23): on ChartMacro.java class  \njvdrean left at 20:28 (Quit: Leaving.  \nsdumitriu left at 20:34 (Ping timeout: 265 seconds  \njvelociter left at 20:47 (Quit: jvelociter  \nabusenius joined #xwiki at 20:51  \nsdumitriu joined #xwiki at 20:55  \ntmortagne - (21:10): vmassol: para makes more sense than group for a link indeed  \nvmassol - (21:31): tmortagne: ok thanks, now I just need to find a way to solve the fan out...  \ntmortagne - (21:40): vmassol: yes best constraint ever :)  \ntmortagne left at 21:40 (Quit: Leaving.  \nCalebJamesDeLisl left at 21:48 (Quit: thunderstorm  \njvdrean joined #xwiki at 21:49  \nvmassol left at 22:47 (Quit: Leaving.  \nsdumitriu - (22:51): abusenius: I'll make http://jira.xwiki.org/jira/browse/XWIKI-5156 public, it' not a real security hole  \nsdumitriu - (22:51): OK with that?  \nsdumitriu - (22:52): I mean it's not a security issue by itself, just a mild attack preventer  \nabusenius - (22:52): ok  \nannacondan left at 23:32 (Quit: annacondan  \nsdumitriu - (23:32): abusenius: You could add XWIKI-5156 to the list  \nsdumitriu - (23:33): Ah, it was there already, you just removed it  \nabusenius - (23:33): yes, its not open any more  \nsdumitriu - (23:34): Right  \nsdumitriu - (23:34): Then it should be added in the public security page?  \nabusenius - (23:36): you mean make a list of fixed security bugs there?  \nsdumitriu - (23:38): Yes  \nsdumitriu - (23:39): Actually this one should warn about the generic problem, and document how to turn HttpOnly for JSESSIONID in some containers  \nabusenius - (23:40): ok, that is a good idea  \nabusenius - (23:41): but otherwise putting all fixed bugs there is not helpful, the list will just grow over the time  \nsdumitriu - (23:41): Right  \n\n"}