{"id": "dev:IRC.xwikiArchive20100328", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100328", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu - (00:06): Hi nickless  \nnickless - (00:06): hi  \nsdumitriu - (00:06): Some feedback on XABLOG-99  \nsdumitriu - (00:07): I didn't include the replace(+, %20) code  \nsdumitriu - (00:07): I fixed in in the JSX, by doing the correct reverse operation (replace(+, ' '))  \nsdumitriu - (00:08): I went through all the code and introduced escapetool.xml or .url where needed  \nsdumitriu - (00:08): (there were other places as well)  \nnickless - (00:09): I see  \nsdumitriu - (00:09): One thing that still didn't work is selecting the proper parent when inserting a new subcategory under a category having '  \nsdumitriu - (00:09): Since an invalid selector was obtained  \nnickless - (00:09): actually, I looked at the differences between my patch with svn patch just a minute ago :)  \nsdumitriu - (00:10): \"option[value='\" + (category id, which could have ') + \"']\"  \nnickless - (00:10): aha  \nvmassol left at 00:10 (Quit: Leaving.  \nsdumitriu - (00:10): And I think that's all  \nnickless - (00:12): thanks  \nnickless - (00:12): you must have spent quite some time looking through the code  \nsdumitriu - (00:12): Well, thank you!  \nsdumitriu - (00:12): Yes  \nlucaa left at 00:23 (Ping timeout: 260 seconds  \nlucaa joined #xwiki at 00:23  \nanamarias left at 00:24 (Quit: anamarias  \nlucaa left at 00:40 (Ping timeout: 258 seconds  \nlucaa joined #xwiki at 00:41  \nlucaa left at 01:10 (Quit: Leaving.  \nsdumitriu left at 01:47 (Ping timeout: 246 seconds  \nxipe left at 03:37 (Ping timeout: 245 seconds  \nnickless left at 03:37 (Ping timeout: 252 seconds  \nmarta1 left at 03:40 (Quit: Leaving.  \nxipe joined #xwiki at 03:47  \nbbc581 joined #xwiki at 05:49  \nDV joined #xwiki at 06:08  \nDV left at 07:02 (Read error: Connection reset by peer  \nDV joined #xwiki at 07:02  \nDV left at 07:26 (Ping timeout: 240 seconds  \nDV joined #xwiki at 07:27  \nDV left at 07:33 (Ping timeout: 276 seconds  \nDV joined #xwiki at 07:34  \nDV left at 07:44 (Ping timeout: 264 seconds  \nmflorea joined #xwiki at 08:31  \nvmassol joined #xwiki at 09:00  \nmarta1 joined #xwiki at 09:59  \nDV joined #xwiki at 10:16  \nDV left at 10:32 (Ping timeout: 276 seconds  \nvmassol - (10:34): hmm the build requires more memory than before  \nvmassol - (10:34): I cannot build platform anymore with my memory settings  \nvmassol - (10:34): ie with MAVEN\\_OPTS=-Xmx1024m  \nvmassol - (10:34): that's a lot already  \nDV joined #xwiki at 10:36  \nDV left at 10:51 (Ping timeout: 246 seconds  \nDV joined #xwiki at 10:53  \nDV left at 10:53 (Read error: Connection reset by peer  \nDV joined #xwiki at 10:54  \nanamarias joined #xwiki at 11:06  \nlucaa joined #xwiki at 11:07  \nDV left at 11:08 (Read error: Connection reset by peer  \nDV joined #xwiki at 11:08  \nDV left at 11:13 (Read error: Connection reset by peer  \nlucaa left at 12:02 (Ping timeout: 258 seconds  \nDenis joined #xwiki at 12:02  \nlucaa joined #xwiki at 12:02  \nDV joined #xwiki at 12:03  \nlucaa - (12:08): guys, I'm going through the documentation and I can't see the difference between XWiki.webapppath and XWiki.contextPath (in js), meaning XWiki.getWebAppPath() and HttpServletRequest,getContextPath()  \nlucaa - (12:08): I mean, they should be all the time, right? is there a situation when they're not equal?  \nlucaa - (12:11): \\*they should be equal all the time  \nmflorea left at 12:24 (Quit: Leaving.  \nlucaa left at 13:09 (Quit: Leaving.  \nnickless joined #xwiki at 13:16  \nsdumitriu joined #xwiki at 13:52  \nlucaa joined #xwiki at 14:10  \nlucaa - (14:36): ping vmassol  \nvmassol - (14:36): lucaa: pong (but playing with my kids at the same time ;))  \nsdumitriu - (14:39): Playing ping-pong?  \nlucaa - (14:39): multitasking vmassol: I'm looking at http://hudson.xwiki.org/view/Platform/job/xwiki-platform-core/modules and see that annotations build is not failing on hudson  \nlucaa - (14:40): re the test failing yday on your machine  \nvmassol - (14:40): yes seen that too, I don't know why it was failing for me  \nvmassol - (14:40): it was failing from IDEA  \nvmassol - (14:40): from the command line, I just have an OOM FTM  \nvmassol - (14:40): (need to increase my memory)  \nvmassol - (14:40): (but that's not normal)  \nlucaa - (14:40): oh, ok  \nlucaa - (14:40): what's not normal?  \nlucaa - (14:40): that it's failing from IDEA?  \nvmassol - (14:41): requiring more than 1GB to build platform  \nlucaa - (14:41): :)  \nvmassol - (14:41): (from command line)  \nlucaa - (14:41): you can build only the annotations  \nvmassol - (14:41): I want to build the whole platform  \nvmassol - (14:41): I should be able to do that  \nlucaa - (14:41): well, maybe you need to increase some memory  \nvmassol - (14:42): yes but that's the part that is not normal and not ok  \nvmassol - (14:42): we cannot require users to allocate more than 1GB just to build xwiki  \nvmassol - (14:42): that's way too much  \nlucaa - (14:42): hm...  \nvmassol - (14:42): something is amiss  \nlucaa - (14:43): I have this: lucaa@pig:$ echo $MAVEN\\_OPTS  \nlucaa - (14:43): -Xmx200M  \nlucaa - (14:43): and I can build platform perfectly fine  \nvmassol - (14:43): have you build the whole platform lately?  \nvmassol - (14:43): s/build/built/  \nlucaa - (14:43): exacept that it takes forever  \nlucaa - (14:43): yes  \nlucaa - (14:43): when I commited annos  \nvmassol - (14:43): that's a long time ago  \nvmassol - (14:43): it used to be fine for me too  \nlucaa - (14:43): like a week ago?  \nvmassol - (14:43): yes that's a long time ago  \nlucaa - (14:44): ooh... kk...  \nlucaa - (14:44): depends how you measure time :)  \nlucaa - (14:44): I'll start a build now  \nlucaa - (14:44): we'll see how it ends  \nvmassol - (14:45): I'm using Apache Maven 3.0-alpha-5 \u00a0maybe it has some impac  \nvmassol - (14:45): ok  \nlucaa - (14:45): I'm using a normal maven 2.2.smth  \nlucaa - (14:46): whole platform or only core?  \nlucaa - (14:49): also, I got the latest snapshot and I have a macro error on the main page saying:  \nlucaa - (14:49): org.xwiki.rendering.macro.MacroExecutionException: When using the HTML macro inline, you can only use inline HTML content. Block HTML content (such as tables) cannot be displayed. Try leaving an empty line before and after the HTML macro.  \nlucaa - (14:49): (in the recent changes panel)  \nvmassol - (14:49): whole platform  \nlucaa - (14:49): also a lot of these in the annotations forms (which are more painful for me )  \nsdumitriu - (14:50): +1  \nlucaa - (14:50): Is this a bug? or a feature and we should re-write the scripts?  \nsdumitriu - (14:50): Could be some bugfix in rendering  \nlucaa - (14:51): it was there also in a previous snapshot from 26 03 (this one is from 27)  \nsdumitriu - (14:51): Yes, I too first noticed on 26th  \nsdumitriu - (14:54): lucaa, anamarias, vmassol, Denis, you must vote for the new logo  \nsdumitriu - (14:54): CalebJamesDeLisl: You should also decide on a positive vote  \nlucaa - (14:54): vote closes on monday?  \nCalebJamesDeLisl - (14:54): Ahh I almost got out of it by making comments :)  \nsdumitriu - (14:54): If I say yes, will you vote? :D  \nlucaa - (14:54): sdumitriu: yes, I will make a hurried bad decision  \nlucaa - (15:16): sdumitriu: do you know the dif between contextPath and webAppPath? (re my question earlier today)  \nsdumitriu - (15:16): What question?  \nlucaa - (15:17): (01:08:47 PM) lucaa: guys, I'm going through the documentation and I can't see the difference between XWiki.webapppath and XWiki.contextPath (in js), meaning XWiki.getWebAppPath() and HttpServletRequest,getContextPath()  \nlucaa - (15:17): (01:09:20 PM) lucaa: I mean, they should be equal all the time, right? is there a situation when they're not equal?  \nsdumitriu - (15:18): Let me check  \nlucaa - (15:19): all I mean is, I want to build the REST service url (xwiki/rest) and I don't know which one to use. I see in xwikiexplorer.js (the tree thingy) contextPath + '/rest' is used...  \nsdumitriu - (15:20): contextPath should be used  \nsdumitriu - (15:20): webapppath is a bit broken  \nsdumitriu - (15:20): While CP is /xwiki, WAP is xwiki/  \nsdumitriu - (15:20): The difference is that WAP can be hard-coded and enforced in xwiki.cfg  \nlucaa - (15:21): but if WAP is hardcoded and enforced, for that wiki, the CP will be the same, right?  \nlucaa - (15:21): or not?  \nsdumitriu - (15:21): Most of the times yes  \nlucaa - (15:21): the same as the WAP  \nsdumitriu - (15:21): Some strange setups could break this rule  \nsdumitriu - (15:21): Like a container where the same application can be accessed through two different context paths  \nlucaa - (15:22): ok, but rest service will \\_always\\_ run at contextpath / rest, right?  \nsdumitriu - (15:22): Example: the app used to be at /xwiki-1.9, but later the admin realised that it was a mistake and moves it to /xwiki  \nsdumitriu - (15:22): And in order to keep backwards compatilibity with bookmarks, /xwiki-1.9 works too  \nbbc581 left at 15:23 (Remote host closed the connection  \nsdumitriu - (15:23): But is automatically changed to /xwiki if webAppPath is enforced in xwiki.cfg  \nsdumitriu - (15:23): But this is stupid, an apache httpd redirect would be much easier  \nsdumitriu - (15:24): So, I'd say that it's 99.999% safe to assume that contextPath is correct  \nlucaa - (15:24): but if the app is accessible by both paths, then it shouldn't matter which one I use, right?  \nsdumitriu - (15:24): Yes  \nlucaa - (15:25): ok then, I'll use the context path  \nlucaa - (15:25): although I would prefer something which doesn't depend on the request  \nlucaa - (15:25): or... I don't really care... let me thing  \nlucaa - (15:25): think  \nsdumitriu - (15:25): All code that doesn't use an URL factory is wrong  \nsdumitriu - (15:26): But the URL factory is not quite ready  \nsdumitriu - (15:26): We need to finish the xwiki-url module  \nlucaa - (15:26): so is there any way to get the REST url clean?  \nsdumitriu - (15:26): Nope  \nlucaa - (15:26): ok then  \ntmortagne joined #xwiki at 15:28  \ntmortagne left at 15:33 (Client Quit  \ntmortagne joined #xwiki at 15:38  \nlucaa - (16:21): vmassol: my platform build is successful (took 81 mins -- oh my -- but it's ok)  \nvmassol - (16:23): strange it just fails now with no error, at the same location as before( I had put 2GB of ram)  \nvmassol - (16:24): sdumitriu: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-webstandards/689/testReport/  \nvmassol - (16:25): and http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-selenium/689/testReport/  \nnpm1 joined #xwiki at 16:40  \nDV left at 16:41 (Read error: Connection reset by peer  \nnpm left at 16:42 (Ping timeout: 276 seconds  \nlucaa left at 16:59 (Quit: Leaving.  \nsdumitriu - (17:23): vmassol: I think this is the same rendering change that generates the error on the homepage, too  \nsdumitriu - (17:23): There are too many paragraphs generated  \nsdumitriu - (17:27): Maybe XWIKI-5050  \nsdumitriu - (17:27): Or XWIKI-5046  \ntmortagne - (17:30): XWIKI-5046 is a regression fixed not a change  \nsdumitriu - (17:30): So probably 5050  \ntmortagne - (17:30): 5050 can produce more paragraph indeed if that's the issue here  \nsdumitriu - (17:32): Yes, that's the issue  \ntmortagne - (17:32): checking the contents  \nbbc581 joined #xwiki at 17:34  \nmflorea joined #xwiki at 17:43  \nDenis left at 18:11 (Quit: Leaving.  \nsdumitriu left at 18:11 (Ping timeout: 240 seconds  \nbbc581 left #xwiki at 18:18  \nDV joined #xwiki at 18:23  \nmflorea left at 18:41 (\\*.net \\*.split  \nanamarias left at 18:41 (\\*.net \\*.split  \nmarta1 left at 18:41 (\\*.net \\*.split  \nnpm1 left at 18:41 (\\*.net \\*.split  \nnickless left at 18:41 (\\*.net \\*.split  \nmflorea joined #xwiki at 18:44  \nnpm1 joined #xwiki at 18:44  \nnickless joined #xwiki at 18:44  \nanamarias joined #xwiki at 18:44  \nmarta1 joined #xwiki at 18:44  \nnickless left at 18:47 (Ping timeout: 264 seconds  \nCalebJamesDeLisl left at 18:50 (Ping timeout: 258 seconds  \nCalebJamesDeLisl joined #xwiki at 18:51  \nvmassol left at 19:01 (\\*.net \\*.split  \nCalebJamesDeLisl left at 19:03 (Ping timeout: 264 seconds  \nCalebJamesDeLisl joined #xwiki at 19:03  \nDV left at 19:09 (Read error: Connection reset by peer  \nvmassol joined #xwiki at 19:09  \nDV joined #xwiki at 19:09  \nbbc581 joined #xwiki at 20:19  \nnickless joined #xwiki at 20:29  \nsdumitriu joined #xwiki at 20:44  \nlucaa joined #xwiki at 21:12  \nmflorea left at 21:27 (Quit: Leaving.  \nDV left at 21:27 (Read error: Connection reset by peer  \nDV joined #xwiki at 21:28  \nlucaa - (22:06): hi CalebJamesDeLisl  \nlucaa - (22:06): I have a few questions about ConfigurableClass  \nCalebJamesDeLisl - (22:59): hello lucaa, ask away...  \nlucaa - (23:00): well, first of all I'm not very sure how I was supposed to use it  \nlucaa - (23:00): I have this page which is already handling configuration of the annotations app  \nlucaa - (23:00): AnnotationCode.AnnotationConfig  \nlucaa - (23:01): and, to use the configurable class, I just did an {{include document=\"AnnotationCode.AnnotationConfig\" /}} in the codeToExecute field  \nlucaa - (23:01): it works well, except that some things are not displayed from my page  \nCalebJamesDeLisl - (23:01): Hmm, maybe it depends on $doc?  \nlucaa - (23:01): (you can checkout now and have a look at what I'm saying, I just committed)  \nlucaa - (23:02): no, it's some headings and an explanation  \nlucaa - (23:02): I see you're using #evaluate() with that code...  \nCalebJamesDeLisl - (23:05): searching for Configurable in email from r27691, not showing up...  \nlucaa - (23:05): 27691  \nlucaa - (23:05): sorry  \nlucaa - (23:05): 27978  \nCalebJamesDeLisl - (23:05): ahh found it.  \nlucaa - (23:05): actually  \nlucaa - (23:06): right, codeToExecute should only be velocity  \nlucaa - (23:06): not wiki syntax  \nlucaa - (23:06): I'm actually seriously wondering how come it works with and include...  \nCalebJamesDeLisl - (23:07): Because velocity is eval'd then printed out to the document where wikimodel picks it up.  \nlucaa - (23:07): ok, cool  \nlucaa - (23:07): but then, why aren't the headings displayed?  \nlucaa - (23:07): & all the rest  \nCalebJamesDeLisl - (23:08): I know titles can be munged but I'm not sure why the rest.  \nCalebJamesDeLisl - (23:08): Anyway it's a heading not a title...  \nCalebJamesDeLisl - (23:09): I would try #includeForm just to see what happened.  \nCalebJamesDeLisl - (23:10): brb coffee...  \nlucaa - (23:11): interesting enough, it's the same  \nlucaa - (23:12): and second question would be if I can i18n the title of the section  \nlucaa - (23:13): I tried to put a msg.get but it didn't work  \nlucaa - (23:14): third question would be if there is a way to actually do this right: just include another configuration document in the administration panel, instead of defining section by section heading by heading  \nCalebJamesDeLisl - (23:14): $msg might be a context issue, does $msg print SomeObject@a1b2c3d4...  \nlucaa - (23:15): no, it doesn't it's just $msg  \nCalebJamesDeLisl - (23:16): Hmm, it's using the wrong context.  \nlucaa - (23:16): wait  \nlucaa - (23:16): or I need to just provide translation for the section title I'm putting?  \nCalebJamesDeLisl - (23:16): \"Section by section\", you mean to override a page like Registration in full?  \nlucaa - (23:17): in the ConfigurableClass ?  \nlucaa - (23:17): I mean adding the fields I want to edit in one or more Configurable Class objects  \nvmassol - (23:18): tmortagne: does it mean xwiki users using XE 2.3 will need to upgrade all their pages ? (re the \"bad usage of xwiki/2.0 macros\")  \nCalebJamesDeLisl - (23:18): Not sure what you mean, can you elaborate?  \ntmortagne - (23:18): vmassol: at least the wrong pages yes  \nvmassol - (23:18): tmortagne: there seems to be a lot  \ntmortagne - (23:19): there is a lot but very far from all, maybe something like 20 or 25  \nvmassol - (23:20): what happens if they don't upgrade? the page is not rendered correctly?  \nlucaa - (23:21): CalebJamesDeLisl: well, right now I have this form for annotations confuguration, which is nicely scripted in a document (which takes the values from an object of type AnnotationConfig etc), with headings to separate various groups of configuration, etc. One can just access this page and it can configure the annotations. If I would want to add an administration section that would do nothing but display this page and allow users to set things in it, what would be   \ntmortagne - (23:22): vmassol: it depends of the page some will not be properly rendered  \ntmortagne - (23:23): what happen exactly is that sopme macros will be inline instead of standalone  \nCalebJamesDeLisl - (23:23): I would approach it by adding a single Configurable object and using codeToExecute but something seems to be wrong.  \nlucaa - (23:24): yes, I did the same, but it doesn't really work as I want: my nice headings to separate groups of config are missing and also some sections where i was displaying explanations for what the settings mean are missing...  \nlucaa - (23:24): however the form is all there, and save button works  \nlucaa - (23:24): which makes a (suboptimal) solution  \ntmortagne - (23:24): vmassol: i have to go, good night, i will see tomorrow if there is still wrong pages  \nvmassol - (23:24): tmortagne: ok thanks  \ntmortagne left at 23:26 (Quit: Leaving.  \nCalebJamesDeLisl - (23:26): I just svn upped, building now.  \nCalebJamesDeLisl - (23:26): Is that Xmx1024m issue still happening?  \nlucaa - (23:27): CalebJamesDeLisl: which issue?  \nvmassol - (23:27): I still haven't been able to build platfor but then I haven't tried to solve it either  \nvmassol - (23:27): I'll try to find the reason it fails tomorrow  \nCalebJamesDeLisl - (23:27): -Pdev?  \nlucaa - (23:27): vmassol: it works for me  \nlucaa - (23:28): Apache Maven 2.2.1 (r801777; 2009-08-06 22:16:01+0300)  \nlucaa - (23:28): Java version: 1.6.0\\_16  \nlucaa - (23:28): Java home: /usr/lib/jvm/java-6-sun-1.6.0.16/jre  \nvmassol left at 23:52 (Quit: Leaving.  \n\n"}