{"id": "dev:IRC.xwikiArchive20110630", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110630", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n10:46\u00a0<sburjan>\u00a0has joined #xwiki  \n10:51\u00a0<vmassol>\u00a0has quit  \n10:53\u00a0<vmassol>\u00a0has joined #xwiki  \n10:58\u00a0<vmassol>\u00a0mflorea: the build is stuck  \n10:58\u00a0<vmassol>\u00a0I'll restart it  \n10:59\u00a0<vmassol>\u00a0can someone summarize for me the work done on the build while I was away?  \n10:59\u00a0<+mflorea>\u00a0I know, I'm on it actually. I'll improve the logging to be able to understand why it hangs on CI  \n11:00\u00a0<+mflorea>\u00a0what do you mean by \"work\"?  \n11:00\u00a0<vmassol>\u00a0to make it work  \n11:00\u00a0<vmassol>\u00a0I know why it hangs  \n11:00\u00a0<+mflorea>\u00a0why?  \n11:00\u00a0<vmassol>\u00a0just run it locally you'll see  \n11:00\u00a0<vmassol>\u00a0it's because of findElements  \n11:00\u00a0<+mflorea>\u00a0no timeout?  \n11:00\u00a0<vmassol>\u00a0I thought I fixed all places on last Monday  \n11:00\u00a0<vmassol>\u00a0in any case  \n11:01\u00a0<vmassol>\u00a0just try to build it locally  \n11:01\u00a0<vmassol>\u00a0and we need to fix test by test until it works  \n11:01\u00a0<vmassol>\u00a0I'd love to continue what I did  \n11:01\u00a0<vmassol>\u00a0but I'm going to be short on time today  \n11:01\u00a0<+mflorea>\u00a0I'll do it  \n11:01\u00a0<vmassol>\u00a0it's really easy to fix  \n11:01\u00a0<vmassol>\u00a0and I can help  \n11:01\u00a0<vmassol>\u00a0(to explain stuff)  \n11:03\u00a0<+mflorea>\u00a0the problem was that neither me nor Thomas knew about this problem  \n11:04\u00a0<+tmortagne>\u00a0mostly were not able to see where it was hanging on ci.xwiki.org  \n11:04\u00a0<+tmortagne>\u00a0not hard to tell why  \n11:04\u00a0<vmassol>\u00a0I explained it several times here on irc before I left....  \n11:04\u00a0<+tmortagne>\u00a0s/not/so/  \n11:04\u00a0<+mflorea>\u00a0I missed it  \n11:04\u00a0<vmassol>\u00a0anyway  \n11:04\u00a0<+mflorea>\u00a0anyway, we need better logging  \n11:04\u00a0<+mflorea>\u00a0and I'll handle that too  \n11:04\u00a0<vmassol>\u00a0it's not logging  \n11:04\u00a0<vmassol>\u00a0it's just that test reporting is done at the end  \n11:05\u00a0<vmassol>\u00a0there might be some tuning possible of the surefire plugin  \n11:06\u00a0<vmassol>\u00a0hmm or maybe it's a jenkins issue  \n11:06\u00a0<vmassol>\u00a0when I run the tests locally in my IDE I get the reporting right  \n11:06\u00a0<+mflorea>\u00a0what reporting?  \n11:06\u00a0<vmassol>\u00a0ok I know  \n11:06\u00a0<vmassol>\u00a0I think  \n11:07\u00a0<vmassol>\u00a0it's because we one test suite AllTests  \n11:07\u00a0<vmassol>\u00a0and all results are generated in one file  \n11:07\u00a0<+mflorea>\u00a0and it is written at the end  \n11:07\u00a0<vmassol>\u00a0reporitng = see what test executes and the result  \n11:07\u00a0<vmassol>\u00a0in any case  \n11:08\u00a0<+mflorea>\u00a0wait, and how would you know the order?  \n11:08\u00a0<+mflorea>\u00a0ah, at least by the date where they were written  \n11:08\u00a0<vmassol>\u00a0I don't understand  \n11:09\u00a0<+mflorea>\u00a0you'll see a bunch of reports but you need to know which test was the last one executed, for instance when it hangs  \n11:09\u00a0<vmassol>\u00a0yes the \"problem\" is that jenkins relies on files  \n11:10\u00a0<vmassol>\u00a0while in my IDE it's a specific IDE test runner that executes the test  \n11:10\u00a0<vmassol>\u00a0and thus it can print when a test starts, etc  \n11:10\u00a0<+mflorea>\u00a0I see  \n11:11\u00a0<vmassol>\u00a0there's a http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#forkedProcessTimeoutInSeconds  \n11:11\u00a0<vmassol>\u00a0property  \n11:11\u00a0<vmassol>\u00a0I don't recall if we fork the tests  \n11:12\u00a0<vmassol>\u00a0I think we do (should be \"once\" I think)  \n11:13\u00a0<vmassol>\u00a0maybe http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#reportFormat can help too  \n11:13\u00a0<+mflorea>\u00a0so you don't think logging the WebDriver events (similar to the selenium 1 commands) is useful for reading CI logs?  \n11:14\u00a0<vmassol>\u00a0I've never found it useful for sel1 personally  \n11:14\u00a0<vmassol>\u00a0especially since it's easy to run locally on sel2  \n11:14\u00a0<vmassol>\u00a0all we need I think is: 1) know which test is failing 2) get a screenshot/source for hard to reproduce failing tests  \n11:14\u00a0<vmassol>\u00a0(+ the stack trace of course)  \n11:15\u00a0<vmassol>\u00a0the stack trace tells us exactly where the problem is  \n11:15\u00a0<vmassol>\u00a0we should check the value of http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#useFile too  \n11:15\u00a0<+mflorea>\u00a0well, sometimes where you debug flickering tests it may help to know the \"execution path\" on CI  \n11:15\u00a0<vmassol>\u00a0you know it  \n11:15\u00a0<vmassol>\u00a0by looking at the stack trace  \n11:16\u00a0<vmassol>\u00a0it's not like we were doing multithreaded tests  \n11:16\u00a0<+mflorea>\u00a0:)  \n11:17\u00a0<+mflorea>\u00a0ok, I'll look at the surefire config params and test them locally to see if I get a better report.  \n11:17\u00a0<vmassol>\u00a0if you tell me where it hangs I can probably fix it very quickly  \n11:18\u00a0<+mflorea>\u00a0ok  \n11:18\u00a0<vmassol>\u00a0btw fyi on Monday I was working on fixing a flicker but I haven't finished  \n11:18\u00a0<vmassol>\u00a0was in AddRemoveTagTes  \n11:21\u00a0<+mflorea>\u00a0btw, selenium 2.0rc2 doesn't work with FF5 :( rc3 maybe work, but it's not on maven repo  \n11:22\u00a0<vmassol>\u00a0yes it's rc3  \n11:22\u00a0<vmassol>\u00a0rc2 is not supposed to work with FF5  \n11:22\u00a0<vmassol>\u00a0btw mflorea have you tested rc2 on FF4?  \n11:22\u00a0<+mflorea>\u00a0yes, it worked fine  \n11:22\u00a0<vmassol>\u00a0cool  \n11:23\u00a0<vmassol>\u00a0http://seleniumhq.wordpress.com/2011/06/27/selenium-2-0rc3-the-next-ones-the-big-one-release/  \n11:23\u00a0<vmassol>\u00a0mflorea: http://seleniumhq.org/download/maven.html  \n11:24\u00a0<vmassol>\u00a0I'm going to rerun all tests with rc3 locally to see if it works  \n11:49\u00a0<vmassol>\u00a0mflorea: I'm fixing code to make it work with rc3  \n12:11\u00a0<vmassol>\u00a0fixed now running to see if it works...  \n12:14\u00a0<abusenius>\u00a0has joined #xwiki  \n12:19\u00a0<jvdrean>\u00a0has quit  \n12:38\u00a0<abusenius>\u00a0has quit  \n12:42\u00a0<jvdrean>\u00a0has joined #xwiki  \n12:44\u00a0<vmassol>\u00a0guys is it normal that when we add a new object to a page it's shown in collapsed mode?  \n12:45\u00a0<vmassol>\u00a0(a functional test is failing in RC3 becasue the form field is not visible, I can click on the new object \"header\" to expand it but I wanted to be sure it's a \"normal\" behavior)  \n12:50\u00a0<vmassol>\u00a0nevermind I see someone forced a click to show them but it's not working anymore on rc3, looking at it  \n12:52\u00a0<vmassol>\u00a0fixed  \n13:22\u00a0<+mflorea>\u00a0vmassol: I haven't found a way to force surefire to generate the report while tests are being run. What about using TestListener and logging the test names as they are executed?  \n13:23\u00a0<DrLou>\u00a0has joined #xwiki  \n13:27\u00a0<+mflorea>\u00a0I see that in xwiki-enterprise-test-selenium XWikiTestSuite and AbstractXWikiTestCase are logging the test name and the current test score.  \n13:29\u00a0<mflorea>\u00a0has quit  \n13:35\u00a0<vmassol>\u00a0got all tests working on sel2 rc3 (committed and pushed)  \n13:35\u00a0<vmassol>\u00a0so if it hangs on jenkins now then I don't understand  \n13:37\u00a0<vmassol>\u00a0hmm actually I still have one test failing, looking at it  \n13:43\u00a0<+sburjan>\u00a0vmassol: do you know if Bromine works for Se2 ?  \n13:44\u00a0<vmassol>\u00a0never used it  \n13:44\u00a0<+sburjan>\u00a0has interesting features  \n13:49\u00a0<jvelociter>\u00a0has quit  \n13:49\u00a0<jvelociter>\u00a0has joined #xwiki  \n14:08\u00a0<abusenius>\u00a0has joined #xwiki  \n14:32\u00a0<mflorea>\u00a0has joined #xwiki  \n14:39\u00a0<abusenius>\u00a0has quit  \n14:53\u00a0<jvdrean>\u00a0has quit  \n14:53\u00a0<jvdrean>\u00a0has joined #xwiki  \n15:19\u00a0<+Enygma`>\u00a0Does anyone know if the template viewheader.vm is still used in XWiki? It seems to be referenced in the XWikiSkins class but it looks more like a leftover from older versions of XWiki. Any backwards compatibility reasons why we keep it?  \n15:23\u00a0<+tmortagne>\u00a0someone has any idea why in http://l10n.xwiki.org/xwiki/bin/view/L10NCode/L10NExistingTranslationsPanel the panel is working when displayed in the page and not in the real panel location ? Also it's working well when in another action \u00a0than view like delete for example  \n15:26\u00a0<+tmortagne>\u00a0(upgrading l10n to 3.1)  \n15:27\u00a0<+tmortagne>\u00a0also works well when in inline edit  \n15:27\u00a0<+tmortagne>\u00a0basically it's working with anything else than view it seems except when displayed in the page which should not make any difference  \n15:31\u00a0<+tmortagne>\u00a0funny it also seems to work in some specific spaces  \n15:32\u00a0<+sburjan>\u00a0tmortagne: re yesterday's bug on Rights. How can I test it ? which JAR should I replace ?  \n15:32\u00a0<+tmortagne>\u00a0I guess you can test with last snapshot of 3.2 or 3.1  \n15:33\u00a0<+tmortagne>\u00a0it's in oldcore  \n15:33\u00a0<+sburjan>\u00a0ok. so replacing the jar on a 3.1 XEM will not work ? (backport)  \n15:34\u00a0<+tmortagne>\u00a0why not ?  \n15:34\u00a0<+tmortagne>\u00a0as I told you you can test with 3.1 snapshot  \n15:34\u00a0<+Enygma`>\u00a0tmortagne: Re the panel issue... One possibility is that a velocity variable, being global, is overriden by another panel or by the content of pages. In edit mode, I assume there's less stuff that can interfere. This in one very annoying thing about panels.  \n15:36\u00a0<+tmortagne>\u00a0Enygma`: both spaces have the exact same panels in my last test  \n15:36\u00a0<+tmortagne>\u00a0in one it's working in view and in the other not  \n15:36\u00a0<+Enygma`>\u00a0yes, but what about page content?  \n15:36\u00a0<+tmortagne>\u00a0as far as I can see looks like it's working well when the space WebHome as 2.0 syntax and not when it's 1.0 syntax but maybe it's a coincidence  \n15:37\u00a0<+tmortagne>\u00a0which does not really make sense since the panel itself is 1.0 and it not supposed to be executed in the space webhome context so I guess it's not the issue  \n15:38\u00a0<+Enygma`>\u00a0you could try on 2 empty pages, each in one of the spaces you are trying  \n15:38\u00a0<+tmortagne>\u00a0bith spaces don't have any preferences (was thinking about a custom skin)  \n15:38\u00a0<+tmortagne>\u00a0yep, was keeping that for the end :)  \n15:39\u00a0<+tmortagne>\u00a0I have the same beahavior with unexisting page  \n15:39\u00a0<+tmortagne>\u00a0so it's really not related to the current document  \n15:41\u00a0<+tmortagne>\u00a0hmm actually there is some preferences, right preferences  \n15:41\u00a0<+tmortagne>\u00a0but it's only to restrict edit to admin  \n15:42\u00a0<+tmortagne>\u00a0appart from this it's the same  \n15:42\u00a0<+tmortagne>\u00a0will try to convert to 2.0 syntax the one that does not work...  \n15:43\u00a0<+Enygma`>\u00a0yes, try with a 2.0 empty page in the space that does not work  \n15:43\u00a0<+tmortagne>\u00a0was talking about the webhome of the space  \n15:43\u00a0<+tmortagne>\u00a0since that's the only difference between the two spaces  \n15:44\u00a0<+tmortagne>\u00a0I trying with unexisting page already should not make much difference with empty page  \n15:44\u00a0<+Enygma`>\u00a0the empty page would have a syntax specified, while the empty page I`m not sure how it`s handled.  \n15:44\u00a0<+Enygma`>\u00a0but anyway, maybe it's pointless  \n15:45\u00a0<abusenius>\u00a0has joined #xwiki  \n15:45\u00a0<+tmortagne>\u00a0the default syntax in a XWikiDocument object is 2.0  \n15:45\u00a0<+tmortagne>\u00a0ok so it has nothing to do with the space webhome according to my test it still does not work when the webhome is 2.0  \n15:46\u00a0<+Enygma`>\u00a0well, then see if the content of the panel is to blame...  \n15:46\u00a0<+Enygma`>\u00a0try commeting stuff out  \n15:46\u00a0<+Enygma`>\u00a0and maybe leaving static text  \n15:48\u00a0<+Enygma`>\u00a0the panel header does show up so it's not a problem with rights on the actual panel page or space  \n15:48\u00a0<+tmortagne>\u00a0yea but this panels is not even looking at context action...  \n15:48\u00a0<+Enygma`>\u00a0I know, but maybe something called by it is looking at the context  \n15:49\u00a0<+tmortagne>\u00a0sure I guess I will find the wrong line eventually but that's pretty weird  \n15:49\u00a0<+tmortagne>\u00a0let debug  \n15:53\u00a0<+tmortagne>\u00a0the weirdest thing being http://l10n.xwiki.org/xwiki/bin/view/L10NCode/L10NExistingTranslationsPanel which are both supposed to be executed in pretty much the same context  \n15:55\u00a0<+tmortagne>\u00a0looks like the issue is at groovy level  \n16:09\u00a0<+tmortagne>\u00a0Enygma`: here it is:  \n16:09\u00a0<+tmortagne>\u00a0$xwiki.search(\"select distinct doc.space from XWikiDocument doc, BaseObject as obj where doc.fullName=obj.name and obj.className='L10NCode.L10NApplicationClass'\")  \n16:09\u00a0<+tmortagne>\u00a0does not get the same result in panels and in page when viewing http://l10n.xwiki.org/xwiki/bin/view/L10NCode/L10NExistingTranslationsPanel  \n16:09\u00a0<+tmortagne>\u00a0sounds like a programming right issue but I'm the last author of the page...  \n16:11\u00a0<+Enygma`>\u00a0the view action works only if you specify a diferent viewer... for example: http://l10n.xwiki.org/xwiki/bin/view/L10NCode/L10NExistingTranslationsPanel?viewer=code  \n16:12\u00a0<+Enygma`>\u00a0same for  \n16:12\u00a0<+Enygma`>\u00a0http://l10n.xwiki.org/xwiki/bin/view/L10N/?viewer=code  \n16:14\u00a0<+Enygma`>\u00a0maybe there is a variable collision with the view.vm template? or more precisely, content viewer and all it's included vms  \n16:15\u00a0<+tmortagne>\u00a0Enygma`: the issue is not in velocity so whatever variable difference that should not be en issue for XWiki#search  \n16:15\u00a0<+Enygma`>\u00a0yes, you did mention that earlier...  \n16:15\u00a0<+tmortagne>\u00a0only thing I can thing of is panels not having programming rights for \u00a0some reason  \n16:16\u00a0<+Enygma`>\u00a0and only in the content viewer mode  \n16:16\u00a0<+tmortagne>\u00a0but that's not that simple since it's only in specific viewer as you said  \n16:17\u00a0<+Enygma`>\u00a0creating a new panel with the same content but diferent page name has the same effect?  \n16:18\u00a0<+tmortagne>\u00a0did not tried bu the panel page itself should have programming right, I can always try but I have the same issue with another panel (best contributors which is doing a search too)  \n16:22\u00a0<+tmortagne>\u00a0the other one include a page which list contributors  \n16:22\u00a0<+tmortagne>\u00a0so the code is not directly in the panel but it's the same since it's using #includeInContext  \n16:26\u00a0<+tmortagne>\u00a0Enygma`: I found a $xcontext.dropPermissions() in contentview.vm just after printing the page content...  \n16:27\u00a0<+tmortagne>\u00a0don't remember having voted something to forbid programming rigth to panels  \n16:27\u00a0<+Enygma`>\u00a0I was suspecting dropPrtmissions() but in this context :)  \n16:27\u00a0<+Enygma`>\u00a0it sux if we can`d to PR in panels  \n16:27\u00a0<+tmortagne>\u00a0yes  \n16:27\u00a0<+Enygma`>\u00a0let me try locally  \n16:28\u00a0<+tmortagne>\u00a0cjdelisle: any idea if it's done on purpose ? or are panels just been forgottent when adding this ?  \n16:28\u00a0<@cjdelisle>\u00a0It is because before that the panels were executed in the same context as the page and it was a horrific security hole.  \n16:29\u00a0<+Enygma`>\u00a0yep, that must be it  \n16:29\u00a0<@cjdelisle>\u00a0I judged that panels and comments should not need PR when I added the line.  \n16:29\u00a0<+tmortagne>\u00a0I agree for comments  \n16:29\u00a0<+tmortagne>\u00a0but panels are a bit more advanced...  \n16:30\u00a0<@cjdelisle>\u00a0oh yea  \n16:30\u00a0<+Enygma`>\u00a0and admins need to add panels, not normal users, right?  \n16:30\u00a0<@cjdelisle>\u00a0also they never had it to begin with unless you happened to be on a page with pr at the rime.  \n16:30\u00a0<@cjdelisle>\u00a0\\*time  \n16:31\u00a0<+tmortagne>\u00a0we could display panels in their own context, i.e. with panel doc as sdoc  \n16:32\u00a0<@cjdelisle>\u00a0IIRC it is not trivial.  \n16:33\u00a0<+tmortagne>\u00a0panels are not displayed in velocity, it's using a java API for that AFAIK so that would be pretty easy  \n16:34\u00a0<@cjdelisle>\u00a0IIRC changing the context doc will change behavior which was considered undesirable at the time.  \n16:34\u00a0<+tmortagne>\u00a0cjdelisle: i'm not proposing to change the context doc but to change the secure context doc  \n16:35\u00a0<+tmortagne>\u00a0which is used but only one thing: testing PR  \n16:38\u00a0<@cjdelisle>\u00a0-0, PR panels is a new feature, oldcore security is ridiculously complex, dropPermissions() is the closest thing to a security guarantee. OTOH it may not be an issue since xwiki isn't used for security sensitive applications.  \n16:39\u00a0<+tmortagne>\u00a0no the closest thing to a security guarantee is to stop doing script in XWiki...  \n16:40\u00a0<+tmortagne>\u00a0cjdelisle: also that's done on pupose then you forgot a lot of places since as I said already panels have programming right in all other viewers and actions that print panels  \n16:40\u00a0<+Enygma`>\u00a0(same PR issue with panels in 3.0, just tested locally)  \n16:41\u00a0<+Enygma`>\u00a0yes, dropPermissions() just in content viewer is not necessarily a security improvement.  \n16:42\u00a0<@cjdelisle>\u00a0dropPermissions() was broken before 3.0, if you can find a way to get PR after calling dropPermissions() post-3.0 I want to know about it.  \n16:43\u00a0<+Enygma`>\u00a0wdym exactly?  \n16:45\u00a0<@cjdelisle>\u00a0after 3.0 there should be no way to get PR in the same request after drop has been called.  \n16:45\u00a0<+Enygma`>\u00a0yes, but that was not the issue AFAIK.  \n16:46\u00a0<+Enygma`>\u00a0the idea was that dropPermissions is called only for content viewer, while all the other viewers, and actions don`t call it  \n16:49\u00a0<+tmortagne>\u00a0lets find again a workaround for an arbitrary limitation then...  \n16:50\u00a0<+Enygma`>\u00a0tmortagne: I guess the workaround would be to include in the panel the xpage=plain of a diferent page that has PR for sure.  \n16:51\u00a0<+tmortagne>\u00a0Enygma`: include macro with context=new will do fine like I did for extension manager admin UI  \n16:51\u00a0<+tmortagne>\u00a0but it's a pity since I need to pass some information about the current translated application  \n16:51\u00a0<+Enygma`>\u00a0well, yes... but if the PR page needs some parameters that were obtained before from the context. You need to pass them to the PR page  \n16:51\u00a0<+Enygma`>\u00a0yes  \n16:52\u00a0<+Enygma`>\u00a0maybe an ugly hack would be to open an URL to the page and include the output in the panel? (just like you do with JS, but done with velocity instead)  \n16:53\u00a0<+tmortagne>\u00a0let be try that only in last resort :)  \n16:53\u00a0<+Enygma`>\u00a0:D  \n16:54\u00a0<+Enygma`>\u00a0hm... we really need to enhance include context=\"new\" to accept parameters that should be set to the new context  \n16:54\u00a0<+Enygma`>\u00a0would make life easier :)  \n16:55\u00a0<+tmortagne>\u00a0what's really wrong about it is that it I need this in search in a groovy class but dropPermission is breaking even that...  \n16:55\u00a0<+tmortagne>\u00a0Enygma`: yea  \n16:56\u00a0<+Enygma`>\u00a0hm... ok, the context is new, but what about the request?  \n16:56\u00a0<+tmortagne>\u00a0I think I will actually try to access private field instead  \n16:56\u00a0<+tmortagne>\u00a0from groovy  \n16:56\u00a0<+Enygma`>\u00a0don`t you need PR for groovy?  \n16:56\u00a0<+tmortagne>\u00a0yes but not with parseGroovyFroPage  \n16:57\u00a0<+tmortagne>\u00a0it's kind of the old way of providing script service ;)  \n16:57\u00a0<+Enygma`>\u00a0what about my previous question? Is the request shared in a context=\"new\" import?  \n16:57\u00a0<+tmortagne>\u00a0the request yes I think  \n16:58\u00a0<+tmortagne>\u00a0yes I could parse it  \n16:58\u00a0<+Enygma`>\u00a0then couldn`t you pass some parameters using the shared request?  \n16:58\u00a0<+tmortagne>\u00a0actually I already have all I need in the existing request  \n16:58\u00a0<+tmortagne>\u00a0I just want to know the current space  \n16:58\u00a0<+tmortagne>\u00a0but I don't like \u00a0having to parse an URL  \n16:59\u00a0<+Enygma`>\u00a0can`t you just make $request.getParameter(...) ? why parse the URL?  \n17:00\u00a0<+tmortagne>\u00a0the space is not in the parameters  \n17:00\u00a0<+tmortagne>\u00a0and you don't have enough right to modify it without PR  \n17:00\u00a0<+Enygma`>\u00a0and you can`t modify a request from the calling panel, right?  \n17:00\u00a0<+tmortagne>\u00a0I think I will go with the \u00a0getting protected API using reflection which will make my groovy methods quicker anyway if it does not check rights all the time  \n17:01\u00a0<+tmortagne>\u00a0then I should push jvelociter to have wiki components ;)  \n17:02\u00a0<+tmortagne>\u00a0which would be the cleanest solution, a L10N script service  \n17:02\u00a0<+jvelociter>\u00a0yeah I should give wiki components some love..  \n17:03\u00a0<+jvelociter>\u00a0from what I recall there weren't much left to have a first version working  \n17:03\u00a0<+tmortagne>\u00a0jvelociter: was mostly about initialization  \n17:03\u00a0<+tmortagne>\u00a0since there is not even telling that the wiki is ready  \n17:04\u00a0<+tmortagne>\u00a0I think you sent a mail about that but I don't remember the result  \n17:04\u00a0<+jvelociter>\u00a0though the problem with wiki components is the lack of IDE... If XEclipse could have a xwiki/2.0 for xobjects I would be the happiest man  \n17:04\u00a0<+jvelociter>\u00a0s/xwiki/2.0/xwiki/2.0 editor/  \n17:05\u00a0<+tmortagne>\u00a0yep  \n17:07\u00a0<+tmortagne>\u00a0I could write a component in groovy an register it by hand each time the wiki is restarted like the IRC bot but I really don't like it  \n17:17\u00a0<sburjan>\u00a0has quit  \n17:18\u00a0<webgraphics>\u00a0has joined #xwiki  \n17:21\u00a0<webgraphics>\u00a0hello, I was here a few weeks ago, about the REST with SSO using AppServerTrustedKerberosAuthServiceImpl not quite working right. I've added details to this jira entry http://jira.xwiki.org/jira/browse/XWIKI-6596 (namely, tried upgrading to 3.2 snapshot from the 28th . Is there anything more I can add to it?  \n17:21\u00a0<+mflorea>\u00a0tmortagne: what's the proper way to get a logger now, outside of a component. I tried with:  \n17:21\u00a0<+mflorea>\u00a0private final Logger logger = LoggerFactory.getLogger(AbstractTest.class);  \n17:21\u00a0<+mflorea>\u00a0where AbstractTest is from a org.xwiki.\\* package, which I see that has INFO level and I log info messages, but they don't appear on the console.  \n17:22\u00a0<+tmortagne>\u00a0mflorea: now you are supposed to used standard slf4j way  \n17:22\u00a0<+mflorea>\u00a0Logger is of course from org.slf4j  \n17:22\u00a0<+tmortagne>\u00a0using static factory provided by slf4j  \n17:22\u00a0<+tmortagne>\u00a0protected static final Logger LOGGER = LoggerFactory.getLogger(XWiki.class);  \n17:23\u00a0<+mflorea>\u00a0well, isn't this exactly what I did?  \n17:23\u00a0<+tmortagne>\u00a0that's what is used in all old code and it seems to work  \n17:23\u00a0<+tmortagne>\u00a0mflorea: just just read you first line  \n17:23\u00a0<+tmortagne>\u00a0s/just/yes/  \n17:23\u00a0<+tmortagne>\u00a0but I can't tell you why it's not working only in your case  \n17:24\u00a0<+tmortagne>\u00a0mflorea: how are you testing ?  \n17:24\u00a0<+mflorea>\u00a0I'm logging from a test and I'm running the tests  \n17:24\u00a0<+mflorea>\u00a0well, not exactly from a test, but during tests anyway  \n17:25\u00a0<+tmortagne>\u00a0mflorea: I think we don't see log slf4j bugs in some condition in unit test  \n17:25\u00a0<+tmortagne>\u00a0because of a bug of the version we use with log4j configuration located in jar  \n17:25\u00a0<+tmortagne>\u00a0supposed to be fixed in the next version  \n17:25\u00a0<+mflorea>\u00a0hmm  \n17:25\u00a0<+tmortagne>\u00a0replace all the log4j by slf4j  \n17:26\u00a0<+tmortagne>\u00a0reflex :)  \n17:28\u00a0<+tmortagne>\u00a0cjdelisle: XWIKI-6760  \n17:31\u00a0<Enygma`>\u00a0has quit  \n17:32\u00a0<evalica>\u00a0has quit  \n17:33\u00a0<+tmortagne>\u00a0one panel fixed  \n17:36\u00a0<@cjdelisle>\u00a0do you have an example?  \n17:37\u00a0<+tmortagne>\u00a0cjdelisle: I gave lots of example in previous message as well as Enygma  \n17:38\u00a0<+tmortagne>\u00a0let me get the viewer tried by Enygma  \n17:38\u00a0<+tmortagne>\u00a0cjdelisle: try ?viewer=code  \n17:38\u00a0<+tmortagne>\u00a0basically anything that is not using the template where you added the dropPermission will do  \n17:39\u00a0<+tmortagne>\u00a0which mean any action/viewer not displaying the rendered content but still rendering panels  \n17:41\u00a0<+tmortagne>\u00a0l10n panels fixed, will play with livetable now to speed up l10n rendering  \n17:42\u00a0<@cjdelisle>\u00a0mm indeed  \n17:43\u00a0<@cjdelisle>\u00a0It would be possible to trace all of the paths through the templates and block them but that will be a big project.  \n17:44\u00a0<+tmortagne>\u00a0cjdelisle: isn't there a common template displaying panels ?  \n17:44\u00a0<+tmortagne>\u00a0there is one for comments I think  \n17:44\u00a0<+tmortagne>\u00a0so you can put your drom in the comments template at least for them  \n17:45\u00a0<+tmortagne>\u00a0since they have the exact same issue I guess  \n17:45\u00a0<+tmortagne>\u00a0and it's a lot more important for comments  \n17:47\u00a0<@cjdelisle>\u00a0it is done in comments, I can add it to panels and it will be 80% safe  \n17:47\u00a0<vmassol>\u00a0stopping jobs again  \n17:48\u00a0<webgraphics>\u00a0afk for a bit i'll be back in about 15 minutes  \n17:49\u00a0<+tmortagne>\u00a0cjdelisle: indeed I see in comments  \n17:49\u00a0<vmassol>\u00a0got to go, bb tomorrow  \n17:49\u00a0<vmassol>\u00a0has quit  \n17:57\u00a0<webgraphics>\u00a0back!  \n18:17\u00a0<abusenius>\u00a0has quit  \n18:19\u00a0<webgraphics>\u00a0about the SSO and REST thing...is there any way I can work out a time to work with a developer and test packages on my environment, or should I just hang tight, and wait for a change to the REST related classes?  \n18:39\u00a0<webgraphics>\u00a0has quit  \n18:56\u00a0<tekzilla>\u00a0has quit  \n18:58\u00a0<tekzilla>\u00a0has joined #xwiki  \n19:03\u00a0<abusenius>\u00a0has joined #xwiki  \n19:20\u00a0<arkub>\u00a0has quit  \n19:24\u00a0<jvdrean>\u00a0has quit  \n19:33\u00a0<tmortagne>\u00a0has quit  \n20:30\u00a0<mflorea>\u00a0has quit  \n20:46\u00a0<+abusenius>\u00a0can somebody please ban those spammers on notification list?  \n20:50\u00a0<jvdrean>\u00a0has joined #xwiki  \n20:51\u00a0<Spazholio>\u00a0When using the Office Importer, is it only possible to import a doc to the root page of a space? \u00a0I'm trying to import it to the child of a document, but the auto-fill isn't populating and I guess I'm using the wrong syntax. \u00a0As an example, I'm trying to import to: <space>.<level1doc>.<level2doc> where <level2> doc doesn't exist yet, but is to be created by the Office Importer.  \n21:08\u00a0<pgmjsd>\u00a0has quit  \n21:53\u00a0<pgmjsd>\u00a0has joined #xwiki  \n21:57\u00a0<mflorea>\u00a0has joined #xwiki  \n23:35\u00a0<mflorea>\u00a0has quit  \n\n"}