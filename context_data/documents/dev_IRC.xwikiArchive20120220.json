{"id": "dev:IRC.xwikiArchive20120220", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120220", "title": "IRC Archive for channel #xwiki on 20 February 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:16\u00a0<SvenDowideit>\u00a0has quit  \n00:16\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n00:29\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:34\u00a0<jvdrean>\u00a0has quit  \n00:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:35\u00a0<jvdrean>\u00a0has quit  \n00:36\u00a0<SvenDowideit>\u00a0has quit  \n00:41\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n00:44\u00a0<SvenDowideit>\u00a0has quit  \n00:45\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n01:40\u00a0<rrodriguez>\u00a0has quit  \n02:35\u00a0<cjd>\u00a0has quit  \n02:38\u00a0<Guest83825>\u00a0has joined #xwiki  \n02:38\u00a0<Guest83825>\u00a0has quit  \n03:02\u00a0<DrLou>\u00a0has quit  \n03:19\u00a0<cjd>\u00a0has joined #xwiki  \n04:10\u00a0<cjd>\u00a0has quit  \n04:48\u00a0<npm>\u00a0has quit  \n04:48\u00a0<npm>\u00a0has joined #xwiki  \n04:52\u00a0<DrLou>\u00a0has joined #xwiki  \n04:53\u00a0<DrLou>\u00a0has quit  \n05:39\u00a0<cjd>\u00a0has joined #xwiki  \n05:58\u00a0<Denis>\u00a0has quit  \n05:58\u00a0<Denis>\u00a0has joined #xwiki  \n07:21\u00a0<rrodriguez>\u00a0has joined #xwiki  \n07:42\u00a0<mflorea>\u00a0has joined #xwiki  \n08:10\u00a0<vmassol>\u00a0has joined #xwiki  \n08:45\u00a0<rrodriguez>\u00a0has quit  \n08:53\u00a0<sburjan`>\u00a0has quit  \n08:53\u00a0<sburjan`>\u00a0has joined #xwiki  \n09:20\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:41\u00a0<sdumitriu>\u00a0has quit  \n09:47\u00a0<+tmortagne>\u00a0vmassol: Hi  \n09:47\u00a0<+tmortagne>\u00a0any idea what could cause http://ci.xwiki.org/job/xwiki-enterprise-test-extension/org.xwiki.enterprise$xwiki-enterprise-test-extension/362/testReport/org.apache.maven.surefire.junit4/JUnit4Provider/org\\_xwiki\\_test\\_ui\\_AllTests/ this error is new to me  \n09:47\u00a0<+tmortagne>\u00a0Caused by: java.lang.RuntimeException: Unsupported browser name []  \n09:47\u00a0<+tmortagne>\u00a0is browser need to be set somewhere now and has been forgotten here ?  \n09:57\u00a0<vmassol>\u00a0tmortagne: good morning, checking  \n10:00\u00a0<vmassol>\u00a0hmm this means that the browsername passed is a white space, need to find out why  \n10:04\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:04\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:11\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r07c42ad\u000f https://github.com/xwiki/xwiki-platform/commit/07c42ad5234cd5b4c3fd99672bb169b341f2776f \u000f/ (9 files in 3 dirs):\u000f XWIKI-7549: Install state of an extension located in a subfolder of the ...  \n10:11\u00a0<CIA-120>\u00a0tmortagne\u000f stable-3.5.x\u000f \\* r835401c\u000f https://github.com/xwiki/xwiki-platform/commit/835401c5168d1de2a36da1a96ea305970dfbd4be \u000f/ (9 files in 3 dirs):\u000f XWIKI-7549: Install state of an extension located in a subfolder of the ...  \n10:12\u00a0<vmassol>\u00a0tmortagne: I'm debugging it  \n10:12\u00a0<sburjan>\u00a0has joined #xwiki  \n10:13\u00a0<+tmortagne>\u00a0vmassol: ok  \n10:13\u00a0<vmassol>\u00a0if ${browser} isn't defined I'm not sure what's used, I'm checking that  \n10:14\u00a0<vmassol>\u00a0my code does: \u00a0\u00a0\u00a0\u00a0private static final String BROWSER\\_NAME\\_SYSTEM\\_PROPERTY = System.getProperty(\"browser\", \"\\*firefox\");  \n10:14\u00a0<+sburjan>\u00a0it defaults to FF  \n10:14\u00a0<vmassol>\u00a0but I think the problem is that the \"browser\" prop is defined  \n10:14\u00a0<vmassol>\u00a0sburjan: nope  \n10:14\u00a0<+sburjan>\u00a0doesn't work defaulting to ff ?  \n10:14\u00a0<vmassol>\u00a0sburjan: you're confusing what we want to have and what's happening I think :)  \n10:15\u00a0<+sburjan>\u00a0I never tested if defaulting to FF actually works ;)  \n10:16\u00a0<vmassol>\u00a0acutally I don't even need to debug, the answer is obvious, it's an empty string or whitespace  \n10:16\u00a0<vmassol>\u00a0I'll change the code  \n10:17\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:18\u00a0<vmassol>\u00a0hmm actually the correct solution is to define the profiles  \n10:18\u00a0<vmassol>\u00a0I'll do that  \n10:18\u00a0<+sburjan>\u00a0did we have some problems with this on jenkins ?  \n10:18\u00a0<vmassol>\u00a0and we need to find a wayt o share those profiles somehow  \n10:18\u00a0<+tmortagne>\u00a0sburjan: (09:49:54 AM) tmortagne: any idea what could cause http://ci.xwiki.org/job/xwiki-enterprise-test-extension/org.xwiki.enterprise$xwiki-enterprise-test-extension/362/testReport/org.apache.maven.surefire.junit4/JUnit4Provider/org\\_xwiki\\_test\\_ui\\_AllTests/ this error is new to me  \n10:19\u00a0<+sburjan>\u00a0ok. didn't saw what you wrote .. I was in the bus  \n10:20\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r6e1489e\u000f https://github.com/xwiki/xwiki-enterprise/commit/6e1489eaf86dbbae6743f1ad8a8368a00522a05b \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/pom.xml :\u000f [Misc] Adding missing profiles which meant the browser system property wasn't defined ...  \n10:22\u00a0<florinciu>\u00a0has joined #xwiki  \n10:22\u00a0<+sburjan>\u00a0Rookie question, but how come this profiles are't/can't be inherited for a parent pom ?  \n10:22\u00a0<vmassol>\u00a0ask google!  \n10:23\u00a0<vmassol>\u00a0:)  \n10:23\u00a0<vmassol>\u00a0or better, ask the maven guys  \n10:23\u00a0<+sburjan>\u00a0afaik we already do inheritance  \n10:23\u00a0<+sburjan>\u00a0for other stuff  \n10:23\u00a0<vmassol>\u00a0they probably had a good reason  \n10:23\u00a0<vmassol>\u00a0actually I think it's even documented  \n10:23\u00a0<florinciu>\u00a0has quit  \n10:24\u00a0<vmassol>\u00a0guy today is 3.5 final release day  \n10:24\u00a0<vmassol>\u00a0s/guy/guys/  \n10:24\u00a0<florinciu>\u00a0has joined #xwiki  \n10:24\u00a0<vmassol>\u00a0mflorea: you're releasing today?  \n10:25\u00a0<florinciu>\u00a0has left #xwiki  \n10:25\u00a0<+mflorea>\u00a0vmassol: sure, but there is one blocker XWIKI-7549  \n10:25\u00a0<vmassol>\u00a0AFAICS all tests are passing for 3.5, right?  \n10:25\u00a0<+mflorea>\u00a0yes  \n10:26\u00a0<florinciu>\u00a0has joined #xwiki  \n10:27\u00a0<vmassol>\u00a0mflorea: this one has been fixed by thomas  \n10:27\u00a0<vmassol>\u00a0hope it's been tested enough though....  \n10:28\u00a0<+sburjan>\u00a0is he bot stuck ?  \n10:28\u00a0<+sburjan>\u00a0XWIKI-7549  \n10:28\u00a0<+mflorea>\u00a0oh, I don't know why I saw it as open.. anyway, this means we're good. I want to commit some tests to AppWithinMinute that I have locally for some time, and then I'll proceed with the release  \n10:28\u00a0<vmassol>\u00a0jira.xwiki.org/browse/XWIKI-7549  \n10:33\u00a0<djdirks>\u00a0is now known as <joris>  \n10:35\u00a0<+sburjan>\u00a0yes vmassol, you are right. Profiles are not inherited. Period  \n10:35\u00a0<vmassol>\u00a0I'm fixing that now  \n10:36\u00a0<+sburjan>\u00a0curious how ;)  \n10:45\u00a0<+florinciu>\u00a0Hi  \n10:45\u00a0<+florinciu>\u00a0Is there a known performance issue with the activity stream on 3.4?  \n10:45\u00a0<vmassol>\u00a0hi florinciu  \n10:45\u00a0<vmassol>\u00a0yes there is  \n10:45\u00a0<+florinciu>\u00a0is there a fix for it?  \n10:46\u00a0<+florinciu>\u00a0I'm trying to pitch XWiki as a collaboration tool in my team..the loading time of the home page doesn't help :(  \n10:46\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-7520  \n10:47\u00a0<vmassol>\u00a0indeed this is a good point  \n10:47\u00a0<vmassol>\u00a0we need to decide if we roll back this commit from jerome for 3.5 final  \n10:47\u00a0<vmassol>\u00a0I had asked jerome to look at it before 3.5 final but he hasn't apparenerly :(  \n10:47\u00a0<vmassol>\u00a0I'll ping him now  \n10:48\u00a0<vmassol>\u00a0IMO we should rollback  \n10:52\u00a0<+florinciu>\u00a0ok I see. thanks for the info  \n10:52\u00a0<+florinciu>\u00a0I guess I'll remove the AS from the homepage and try to put something else in place  \n10:55\u00a0<vmassol>\u00a0mflorea, tmortagne, others: what do we do? Do we need a vote? I don't think so since this is an importabt regression introduced and a lazy commit and according to our bylaws we can ask to revert any change not explicitly voted for  \n10:55\u00a0<vmassol>\u00a0first, do you agree that we should remove it for 3.5 final?  \n10:56\u00a0<vmassol>\u00a0s/remove/rollback/  \n10:57\u00a0<evalica>\u00a0has joined #xwiki  \n10:57\u00a0<+mflorea>\u00a0reading issue description to understand the problem..  \n10:57\u00a0<+tmortagne>\u00a0vmassol: reading  \n11:01\u00a0<+tmortagne>\u00a0the speed difference is indeed impressive...  \n11:01\u00a0<vmassol>\u00a0has quit  \n11:02\u00a0<+sburjan>\u00a0and this happens only on MySQL ? because I don't see perf issues on hsqldb build  \n11:02\u00a0<vmassol>\u00a0has joined #xwiki  \n11:02\u00a0<+tmortagne>\u00a0but removing something in 3.5 that has been introduced in 3.2 is a bit tough  \n11:02\u00a0<+tmortagne>\u00a0now I agree that we don't have much time for 3.5  \n11:02\u00a0<vmassol>\u00a0well there isn't much choice  \n11:02\u00a0<vmassol>\u00a0on one hand you have a non working software  \n11:02\u00a0<vmassol>\u00a0OTOH you remove one not so large feature  \n11:03\u00a0<+tmortagne>\u00a0I did not really seen what was feature was yet :)  \n11:03\u00a0<+tmortagne>\u00a0ok to remove it for me  \n11:04\u00a0<vmassol>\u00a0FTR I've left a message on jerome's voicemail too  \n11:09\u00a0<vmassol>\u00a0ok I've spoken with jerome  \n11:09\u00a0<+florinciu>\u00a0sburjan: yes. I also saw the issue only on my production machine and not when I first tested with hsqldb. maybe the issue is not that severe on the test distribution.  \n11:09\u00a0<vmassol>\u00a0he's ok to rollback too  \n11:09\u00a0<vmassol>\u00a0what we could do is:  \n11:09\u00a0<vmassol>\u00a0- rollback for 3.5 final  \n11:09\u00a0<vmassol>\u00a0- put it back in 3.5.1 if someones fixes the issue  \n11:09\u00a0<vmassol>\u00a0- ofc we need to document this in the RN for 3.5 since it means we remove an exsiting feature  \n11:10\u00a0<+sburjan>\u00a0does this break backward compatibility ?  \n11:10\u00a0<+tmortagne>\u00a0probably, removing something always break backward compatibility  \n11:10\u00a0<vmassol>\u00a0it's not used by us directly though  \n11:11\u00a0<vmassol>\u00a0(at least jerome doesn't think so)  \n11:11\u00a0<vmassol>\u00a0jerome had an external need when he added it  \n11:13\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r0956a6a\u000f https://github.com/xwiki/xwiki-enterprise/commit/0956a6aafc278b7ae54d171399d8479aff9319a6 \u000f/ (7 files in 7 dirs):\u000f [Misc] Put browser profile definitions in the test top level POM but continue defining default browser in children POM since profiles aren't inherited in Maven - http://git.io/XG8zTQ  \n11:13\u00a0<vmassol>\u00a0sburjan: check that commit  \n11:14\u00a0<+sburjan>\u00a0checking .. are you sure it works ?  \n11:14\u00a0<lucaa>\u00a0has joined #xwiki  \n11:14\u00a0<vmassol>\u00a0sburjan: if you can test it too that would be good, it seems to work for me  \n11:14\u00a0<+sburjan>\u00a0I will test after I finish with M1 and final.  \n11:16\u00a0<+sburjan>\u00a0afaik we already had this in xwiki-enterprise-test/pom.xml and didn't worked, you had to specify the profiles in ui-tests and selenium-tests. what triggers now the inheritance ?  \n11:16\u00a0<vmassol>\u00a0there's no inheritance  \n11:16\u00a0<vmassol>\u00a0profiles are not inherited perdio  \n11:16\u00a0<vmassol>\u00a0:)  \n11:16\u00a0<+sburjan>\u00a0oh, you felt the ff profile definition there  \n11:16\u00a0<+sburjan>\u00a0\\*left  \n11:17\u00a0<+sburjan>\u00a0ok, I understand  \n11:17\u00a0<vmassol>\u00a0but you can trigger parent profiles when building children poms  \n11:17\u00a0<+sburjan>\u00a0may I ask how ?  \n11:18\u00a0<vmassol>\u00a0errr  \n11:18\u00a0<vmassol>\u00a0by using profiles  \n11:19\u00a0<+sburjan>\u00a0i know that, but if there is no inheritance, and no profile defined for chrome in ui-tests, how can I trigger it from the parent pom. This is what I don't understand  \n11:19\u00a0<vmassol>\u00a0using profiles  \n11:19\u00a0<vmassol>\u00a0stadnard maven  \n11:19\u00a0<vmassol>\u00a0-P<myprofiles>  \n11:19\u00a0<vmassol>\u00a0how else would you trigger a prpofile?  \n11:20\u00a0<vmassol>\u00a0I think you should read up on profiles  \n11:20\u00a0<+sburjan>\u00a0ok.  \n11:20\u00a0<vmassol>\u00a0this is good read: http://maven.apache.org/guides/introduction/introduction-to-profiles.html  \n11:20\u00a0<vmassol>\u00a0(note that I already explained this to you when I saw you IRL last time ;))  \n11:21\u00a0<+sburjan>\u00a0yes, and made sense since we declared our profiles in the ui-tests pom :)  \n11:22\u00a0<+sburjan>\u00a0I'll have to read the URL you gave me, maybe I can understand  \n11:22\u00a0<vmassol>\u00a0mflorea: so wdyt about XWIKI-7520  \n11:23\u00a0<vmassol>\u00a0BTW we have 2 subchoices for rolling it back: full rollback or only partial: \"I found this came from http://jira.xwiki.org/browse/XWIKI-6839 and that by removing the <map> mapping from activitystream.hbm.xml the previous speed was recovered.\"  \n11:23\u00a0<vmassol>\u00a0we could do the partial rollback and explain how to put the feature back in the Rlease notes  \n11:24\u00a0<vmassol>\u00a0(by adding some lines to activitystream.hbm.xml)  \n11:24\u00a0<vmassol>\u00a0partial = just remove the <map> from activitystream.hbm.xml  \n11:27\u00a0<vmassol>\u00a0ok I'm going to perform the partial rollback now on both master and 3.5 branch + create a new issue to put it back  \n11:27\u00a0<vmassol>\u00a0shout quickly if you don't agree  \n11:27\u00a0<vmassol>\u00a0:)  \n11:34\u00a0<CIA-120>\u00a0Ecaterina Moraru (Valica)\u000f stable-3.5.x\u000f \\* r77d68eb\u000f https://github.com/xwiki/xwiki-platform/commit/77d68ebd5d1446184269dee37ddf56e4c643cbc6 \u000f/ xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/resources/org/xwiki/gwt/wysiwyg/public/stylesheets/toolbar.css :\u000f XWIKI-7532 - UI Issue on WYSIWYG Editor when editing Application Class ...  \n11:36\u00a0<vmassol>\u00a0evalica and everyone: please don't commit on 3.5 without discussing it  \n11:36\u00a0<vmassol>\u00a0today is release day  \n11:36\u00a0<vmassol>\u00a0since otherwise it means your changes won't be tested  \n11:36\u00a0<+mflorea>\u00a0vmassol: I'm fine with partial rollback. I agree with Jerome this is a nice feature and we should find the real problem  \n11:37\u00a0<vmassol>\u00a0and this introduces the \u00a0risk of introducing a regression/problem  \n11:37\u00a0<vmassol>\u00a0mflorea: ok doing it  \n11:37\u00a0<+mflorea>\u00a0vmassol: evalica discussed it with me  \n11:38\u00a0<vmassol>\u00a0please discuss here then  \n11:38\u00a0<vmassol>\u00a0:)  \n11:45\u00a0<+evalica>\u00a0vmassol: it was a cherry pick  \n11:47\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r63db8fd\u000f https://github.com/xwiki/xwiki-platform/commit/63db8fd7b7f4f46b6bd7a7aea8074ab3e6539051 \u000f/ xwiki-platform-core/xwiki-platform-activitystream/src/main/resources/activitystream.hbm.xml :\u000f XWIKI-7520: Activity Stream performance regression - http://git.io/C\\_SX1A  \n11:48\u00a0<CIA-120>\u00a0Vincent Massol\u000f stable-3.5.x\u000f \\* rcb7343a\u000f https://github.com/xwiki/xwiki-platform/commit/cb7343a3d20129e783ac40b14049c8a056827135 \u000f/ xwiki-platform-core/xwiki-platform-activitystream/src/main/resources/activitystream.hbm.xml :\u000f XWIKI-7520: Activity Stream performance regression - http://git.io/TkdwzQ  \n11:50\u00a0<vmassol>\u00a0sburjan: would be great if you could test with this change in your build  \n11:50\u00a0<vmassol>\u00a0(test 3.5 I mean)  \n11:52\u00a0<+sburjan>\u00a0I guess I have to test on a MySQL build, right ?  \n11:52\u00a0<vmassol>\u00a0why?  \n11:52\u00a0<vmassol>\u00a0you do test on various DBs right?  \n11:53\u00a0<vmassol>\u00a0it's always important to test on various DBs  \n11:53\u00a0<+sburjan>\u00a0I can't test in 2 days 4 browsers and 3 db's  \n11:53\u00a0<+sburjan>\u00a0I haven't got the time to test on other db's  \n11:54\u00a0<+sburjan>\u00a0but I did not see any perf issue on AS using hsqldb  \n11:54\u00a0<+sburjan>\u00a0this is why I am asking if I need a mysql install to compare the difference  \n11:57\u00a0<vmassol>\u00a0the perf issue should be on all DBs  \n11:57\u00a0<vmassol>\u00a0see http://jira.xwiki.org/browse/XWIKI-7520  \n11:58\u00a0<vmassol>\u00a0sburjan: you could check on oracle  \n11:58\u00a0<vmassol>\u00a0since on oracle it takes a lot of time  \n11:58\u00a0<vmassol>\u00a0maybe the difference is more visible  \n11:58\u00a0<vmassol>\u00a0so ideally you should compare home page load with 3.5M1 and 3.5SNAPSHOT (after my change has been built) and compare  \n11:58\u00a0<+sburjan>\u00a0ok. I'll check M1 vs final .. and see if there is any diference when using activity entries=\"5\"  \n11:59\u00a0<vmassol>\u00a0make sure you have some activity in the stream first  \n11:59\u00a0<vmassol>\u00a0don't change the home page  \n11:59\u00a0<+sburjan>\u00a0ofc  \n11:59\u00a0<vmassol>\u00a0just make some activity in the wiki  \n11:59\u00a0<+sburjan>\u00a0ok  \n11:59\u00a0<vmassol>\u00a0mflorea: I'd like to add the note in the RN for 3.5. Could you prepare the 3.5 RN page or let me know how I should prepare it  \n12:02\u00a0<+sburjan>\u00a0which is the best way to see if the build containing your commit has been built ? because each commit triggers a new build, right ?  \n12:02\u00a0<vmassol>\u00a0yes  \n12:02\u00a0<vmassol>\u00a0you can see it in jeknins  \n12:03\u00a0<vmassol>\u00a0for ex: http://ci.xwiki.org/job/xwiki-platform-3.5/9/  \n12:03\u00a0<vmassol>\u00a0see \"changes\"  \n12:03\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform-3.5/9/changes#detail0  \n12:03\u00a0<vmassol>\u00a0hmm http://ci.xwiki.org/job/xwiki-manager-test-selenium/1330/console is stuck again  \n12:04\u00a0<vmassol>\u00a0mflorea: btw are jenkins jobs triggered when there are changes to 3.5 branch?  \n12:05\u00a0<+sburjan>\u00a0ok, so it is still building with tmortagne 's fix of EM .. yours must be in the queue  \n12:05\u00a0<vmassol>\u00a0yes except I don't see it in the queue  \n12:05\u00a0<vmassol>\u00a0I'll force it  \n12:05\u00a0<+sburjan>\u00a0me neither .. and I'm confused :|  \n12:06\u00a0<vmassol>\u00a0seems github did a push though: http://ci.xwiki.org/view/Platform/job/xwiki-platform-3.5/GitHubPollLog/?  \n12:06\u00a0<vmassol>\u00a0(but not for my commit It hink)  \n12:06\u00a0<vmassol>\u00a0ok I've added a build in the queue for platform 3.5  \n12:07\u00a0<+mflorea>\u00a0vmassol: it should trigger. We discussed about this Friday. It's strange because I'm pretty sure it used to be triggered by other commits.  \n12:08\u00a0<vmassol>\u00a0yes that's why I'm asking because on Friday it didn't trigger  \n12:08\u00a0<+mflorea>\u00a0but how is it possible that Thomas' commit triggered a build and yours not..  \n12:09\u00a0<+mflorea>\u00a0or maybe tmortagne forced the build too  \n12:09\u00a0<vmassol>\u00a0well it just says: \"Started on 20 f?vr. 2012 11:34:15\"  \n12:09\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Platform/job/xwiki-platform-3.5/GitHubPollLog/?  \n12:09\u00a0<vmassol>\u00a0check on master  \n12:09\u00a0<vmassol>\u00a0checking  \n12:09\u00a0<vmassol>\u00a0hmm  \n12:09\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Platform/job/xwiki-platform/GitHubPollLog/?  \n12:09\u00a0<vmassol>\u00a0a lot more information  \n12:11\u00a0<+mflorea>\u00a0indeed  \n12:12\u00a0<vmassol>\u00a0going for lunch, bbl  \n12:13\u00a0<+mflorea>\u00a0xwiki-platform and xwiki-platform-3.5 have the same config, expect the git branch, master vs. stable-3.5.x so it should work fine for all commits  \n12:14\u00a0<CIA-120>\u00a0tmortagne\u000f stable-3.5.x\u000f \\* r94999c5\u000f https://github.com/xwiki/xwiki-platform/commit/94999c54e59425ab3a3d08676e5c6b013d3362eb \u000f/ (2 files in 2 dirs):\u000f XWIKI-7547: Version parsing error when loading core Extension at startup ...  \n12:14\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r419d191\u000f https://github.com/xwiki/xwiki-platform/commit/419d1914964867155f4ef8cb15c134ced56d7a36 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7547: Version parsing error when loading core Extension at startup - http://git.io/mV8QPg  \n12:15\u00a0<+tmortagne>\u00a0I did not forced any build today  \n12:16\u00a0<+tmortagne>\u00a0mflorea: I would like to fix XWIKI-7544 before 3.5, the fix itself should be easy but what's long is to setup what I need to test it  \n12:17\u00a0<+mflorea>\u00a0tmortagne: np, I have to commit some functional tests for awm  \n12:18\u00a0<+mflorea>\u00a0so I'm not starting the release right away  \n12:24\u00a0<mflorea>\u00a0has quit  \n12:29\u00a0<CIA-120>\u00a0Eduard Moraru\u000f feature-annotations-merged-with-comments\u000f \\* r13f9fff\u000f https://github.com/xwiki/xwiki-platform/commit/13f9ffff5a3711115f985c7f6fdc21d78ac5a553 \u000f/ (4 files in 3 dirs):\u000f XWIKI-7540: Merge Annotations with Comments. ...  \n12:45\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r793bf2f\u000f https://github.com/xwiki/xwiki-platform/commit/793bf2fb2b014547cf87f9b45de20642ec68219b \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/version/internal/DefaultVersion.java :\u000f XWIKI-7547: Version parsing error when loading core Extension at startup ...  \n12:45\u00a0<CIA-120>\u00a0tmortagne\u000f stable-3.5.x\u000f \\* r5f7d7e2\u000f https://github.com/xwiki/xwiki-platform/commit/5f7d7e214f7d1acabfb72060b4b7b964e782f248 \u000f/ :\u000f XWIKI-7547: Version parsing error when loading core Extension at startup ...  \n12:48\u00a0<jvdrean>\u00a0has quit  \n13:00\u00a0<+sburjan>\u00a0I think I found a blocker  \n13:04\u00a0<jvdrean>\u00a0has joined #xwiki  \n13:05\u00a0<+sburjan>\u00a0when I create a space using the default space dashboard, the creator of the document is blank  \n13:06\u00a0<+sburjan>\u00a0I will report it as a blocker  \n13:18\u00a0<+tmortagne>\u00a0sburjan: yep it's not very nice, should be the context user  \n13:18\u00a0<+sburjan>\u00a0reported it  \n13:19\u00a0<+sburjan>\u00a0I wonder how I didn't catch this on 3.4 .. because 3.4 is also affected  \n13:22\u00a0<+tmortagne>\u00a0ok  \n13:37\u00a0<mflorea>\u00a0has joined #xwiki  \n13:48\u00a0<+mflorea>\u00a0tmortagne: enterprise build stuck when installing xwiki-enterprise-installer-debian-common . http://ci.xwiki.org/job/xwiki-enterprise/8594/console  \n13:48\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n13:49\u00a0<+tmortagne>\u00a0mflorea: ok that's weird since it's not doing much, will look at it  \n13:50\u00a0<+mflorea>\u00a0the build was triggered by vmassol's commit, I think, but that commits was related to functional tests so I don't see how it could affect xwiki-enterprise-installer-debian-common  \n13:51\u00a0<+tmortagne>\u00a0yep and maven-install plugin is just supposed to put the file in the local repository  \n13:51\u00a0<+tmortagne>\u00a0i don't see how it could get stuck whatever the project  \n13:59\u00a0<gdelhumeau>\u00a0has quit  \n14:14\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n14:27\u00a0<+sburjan>\u00a0there is something odd on maven, because I don't see any newer snapshots for 3.5  \n14:27\u00a0<+sburjan>\u00a0http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/3.5-SNAPSHOT/  \n14:27\u00a0<+sburjan>\u00a0the last one is from 16 February .. am I in the wrong place ?  \n14:28\u00a0<+tmortagne>\u00a0maybe none has been built \u00a0by jenkins since  \n14:29\u00a0<+tmortagne>\u00a0http://ci.xwiki.org/view/Enterprise/job/xwiki-enterprise-3.5/  \n14:29\u00a0<+tmortagne>\u00a0sburjan:  \n14:29\u00a0<+tmortagne>\u00a0last built Feb 16  \n14:29\u00a0<+tmortagne>\u00a0one is pending  \n14:29\u00a0<+tmortagne>\u00a0should start as soon as platform is done  \n14:29\u00a0<+sburjan>\u00a0interesting.. I thought a commit in platform will trigger a build of enterprise too  \n14:30\u00a0<+tmortagne>\u00a0it is  \n14:30\u00a0<+tmortagne>\u00a0but enterprise will not build if any of its dependencies is building  \n14:30\u00a0<+tmortagne>\u00a0so it was probably stuck waiting for several builds of platform  \n14:31\u00a0<+sburjan>\u00a0i see  \n14:39\u00a0<+Enygma`>\u00a0hi Denis  \n14:39\u00a0<+Enygma`>\u00a0I need to implement a DB migration and I was wondering if you have 2 minutes to explain a bit how the DB versions work and how should I use them  \n14:40\u00a0<vmassol>\u00a0would be great to have some docs on this maybe\u2026 :)  \n14:44\u00a0<+Denis>\u00a0Enygma`: Hi, feel free to ask, there has been a vote: http://markmail.org/thread/c4itpnnul32v7zf5  \n14:49\u00a0<+Enygma`>\u00a0Denis: so I should specify the XWikiDBVersion for 4.0 to 40000, right?  \n14:49\u00a0<+Denis>\u00a0vmassol: well, documentation is always good, it is a matter of time and the security module will be a priority in comparison; I have commented in the javadoc as much as possible, and there is a very complete example with the id migration I have recently commit (maybe a little complex however).  \n14:49\u00a0<+Enygma`>\u00a0and if someone else needs to do a DB migration too, the next version for 4.0 would be 40.001  \n14:50\u00a0<+Denis>\u00a0right  \n14:50\u00a0<+Denis>\u00a040000 is taken alread  \n14:50\u00a0<+Denis>\u00a0y  \n14:50\u00a0<+Denis>\u00a040000 is the id migration  \n14:50\u00a0<vmassol>\u00a0Denis: it depends how many times you want to answer questions about it :)  \n14:51\u00a0<+Denis>\u00a0vmassol: there should not be much, since the early begin, there have been less than ten migrations  \n14:51\u00a0<vmassol>\u00a0it's already costing you more than if it were documented...  \n14:51\u00a0<vmassol>\u00a0anyway :)  \n14:52\u00a0<vmassol>\u00a0since you spent so much time on it I think you should think about docuetnign it  \n14:52\u00a0<vmassol>\u00a0actually it coul dhave been nice to make a separate module for it  \n14:52\u00a0<+Denis>\u00a0I would, if I could, as I said, the new security component is first on my list  \n14:52\u00a0<+Enygma`>\u00a0Denis: and what about shouldExecute(XWikiDBVersion startupVersion) ? From what I understand, I need to check the given startupVersion to see if the DB is at the version that I want it to be before my migration is applied, right?  \n14:52\u00a0<vmassol>\u00a0I don't know how much links with oldcore we have  \n14:52\u00a0<vmassol>\u00a0I thought migration was first  \n14:52\u00a0<vmassol>\u00a0ont he list  \n14:53\u00a0<vmassol>\u00a0since you've done it before  \n14:53\u00a0<+Denis>\u00a0Enygma`: no, do not implement if you need a simple migration  \n14:53\u00a0<vmassol>\u00a0right now it's in oldcore, does it mena it's throwaway code?  \n14:53\u00a0<+Denis>\u00a0vmassol: but the security module need much more explanation  \n14:53\u00a0<vmassol>\u00a0I think the only link should be the storage  \n14:54\u00a0<vmassol>\u00a0so it should be pretty well compartimented and could be reusable even when we change the storage quite easily  \n14:54\u00a0<vmassol>\u00a0but you'll have a cyclic dep  \n14:54\u00a0<vmassol>\u00a0....  \n14:54\u00a0<vmassol>\u00a0ATM  \n14:55\u00a0<vmassol>\u00a0the prereq is probably a storage module  \n14:55\u00a0<+Enygma`>\u00a0Denis: ah, getVersion() specifies on which DB version my migration needs to be applied, and not what is the new version defined by the changes of my migration.  \n14:56\u00a0<+Denis>\u00a0Enygma`: getVersion() give the new version you are migrating the DB to  \n14:56\u00a0<+Denis>\u00a0migration are applied in order appropriatly  \n14:58\u00a0<+Denis>\u00a0shouldExecute could be use to remove your migration from the list of needed migration in special case; it has been used for migration that fix migration, and that are only needed when the initial migration has been used in buggy state  \n14:58\u00a0<+Denis>\u00a0hope you never need it !  \n14:59\u00a0<+Enygma`>\u00a0Denis: hm... ok, I think I`ve got it :)  \n14:59\u00a0<+Enygma`>\u00a0thanks  \n15:00\u00a0<+Denis>\u00a0vmassol: there is some weird issue in the migration system due to the multiplicity of the stores, and the link between them  \n15:00\u00a0<+Denis>\u00a0currently the migration system see the store as a whole, and is dependant of the kind of store  \n15:01\u00a0<+Denis>\u00a0this is not good when we mix different kind of store (hibernate, filesystem,...)  \n15:02\u00a0<+Denis>\u00a0so, there is more to do in that field, and my migration system is currently good from an hibernate POV (most of the migration we have done up to now)  \n15:02\u00a0<vmassol>\u00a0ok...  \n15:02\u00a0<+Denis>\u00a0I have not fully review it, from what it was before  \n15:02\u00a0<+Denis>\u00a0just improvement currently, and more component sugar  \n15:03\u00a0<+Denis>\u00a0while, the security component is more a full rewrite and expected to last longer  \n15:03\u00a0<vmassol>\u00a0it's going to be in oldcore too?  \n15:03\u00a0<+Denis>\u00a0no, it's fully independant and use a bridge, read the mail !  \n15:04\u00a0<vmassol>\u00a0(yeah I need to read that mail...)  \n15:05\u00a0<+sburjan>\u00a0this seems stuck: http://ci.xwiki.org/job/xwiki-platform-3.5/12/  \n15:08\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r14fd395\u000f https://github.com/xwiki/xwiki-platform/commit/14fd395e58dfbf3b0d05bbd94086afc856fd366a \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/web/CreateAction.java :\u000f XWIKI-7558: Creating a space using Space Dashboard Template will result in a page with blank creator ...  \n15:08\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rae09194\u000f https://github.com/xwiki/xwiki-platform/commit/ae09194f83b9fe1f75778e0a2501a6cc37c4b060 \u000f/ (3 files):\u000f [misc] Preview class fields with custom display before they are added/saved to the class ...  \n15:08\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r24b18c7\u000f https://github.com/xwiki/xwiki-platform/commit/24b18c7c64805d237eaa1fcf11824eb1e21d6fa7 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/web/CreateAction.java :\u000f XWIKI-7558: Creating a space using Space Dashboard Template will result in a page with blank creator ...  \n15:08\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* rdbc1a79\u000f https://github.com/xwiki/xwiki-platform/commit/dbc1a79a39ad6257eab01ee661f34c2c62946876 \u000f/ (3 files):\u000f [misc] Preview class fields with custom display before they are added/saved to the class ...  \n15:13\u00a0<florinciu>\u00a0has quit  \n15:14\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r007ccfa\u000f https://github.com/xwiki/xwiki-enterprise/commit/007ccfa6898367700d7afd35bb5ffddc72925160 \u000f/ (6 files in 2 dirs):\u000f Add functional tests for Date field (AppWithinMinutes/ClassEditor) ...  \n15:14\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r5da298e\u000f https://github.com/xwiki/xwiki-enterprise/commit/5da298eb139155829e6acaf97a7815c4a38efba5 \u000f/ (6 files in 2 dirs):\u000f Add functional tests for Date field (AppWithinMinutes/ClassEditor) - http://git.io/5JZBkg  \n15:58\u00a0<jvelo>\u00a0has joined #xwiki  \n16:01\u00a0<CIA-120>\u00a0tmortagne\u000f stable-3.5.x\u000f \\* r136d113\u000f https://github.com/xwiki/xwiki-platform/commit/136d113cea46c2f35fe358f713d72c114fe36e7a \u000f/ (5 files in 5 dirs):\u000f XWIKI-7544: Add support for standard proxy settings in Extension Manager(cherry picked from commit afba250409f3d185289d9526c07629b44c9fca19) - http://git.io/jTMb6g  \n16:02\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* rd481874\u000f https://github.com/xwiki/xwiki-platform/commit/d48187411b3a4fdd141eb2435bacf69bb7f7044a \u000f/ (5 files in 5 dirs):\u000f XWIKI-7544: Add support for standard proxy settings in Extension Manager - http://git.io/OyWH2Q  \n16:09\u00a0<+mflorea>\u00a0vmassol: you should comment on XWIKI-7555 I remember you forced the current behavior intentionaly, by adding an object of EditModeClass to Main.WebHome  \n16:11\u00a0<vmassol>\u00a0mflorea: yep it's intentional  \n16:11\u00a0<vmassol>\u00a0I almost commtned on it this morning  \n16:13\u00a0<vmassol>\u00a0mflorea: why is there a need for EditModeClass in home?  \n16:13\u00a0<vmassol>\u00a0it only does an include  \n16:14\u00a0<vmassol>\u00a0maybe it's a leftover  \n16:16\u00a0<+mflorea>\u00a0to force edit mode instead of inline. If you don't have this object then getDefaultEditMode detects the include macro and defaults to inline if the included macro doesn't have a EditModeClass object (like in this case I think)  \n16:16\u00a0<+mflorea>\u00a0s/included macro/included document  \n16:16\u00a0<vmassol>\u00a0ok  \n16:18\u00a0<+mflorea>\u00a0yep, I just tested, if you remove it then it goes to inline mode  \n16:24\u00a0<+sburjan>\u00a0I see an odd behavior. If a Admin finishes editing a Page Rights page, and after that a normal user edits it, the user will still see the document being locked by the Admin. How is the current implementation, how xwiki know that Admin has left that page ?  \n16:24\u00a0<+sburjan>\u00a0so it can unlock the page  \n16:24\u00a0<+tmortagne>\u00a0sburjan: a lock is saved in the database for a document when someone start editing it  \n16:25\u00a0<+tmortagne>\u00a0the lock is removed when saving or canceling  \n16:25\u00a0<+tmortagne>\u00a0when you edit XWiki check if there is a lock saved for the document  \n16:25\u00a0<+tmortagne>\u00a0also if you don't save or cancel the lock is lost after some time  \n16:25\u00a0<+tmortagne>\u00a0don't remember exactly how much time  \n16:26\u00a0<+sburjan>\u00a0ok..  \n16:26\u00a0<+tmortagne>\u00a0probably something like 30 min  \n16:26\u00a0<+sburjan>\u00a0still not very nice IMO  \n16:27\u00a0<+tmortagne>\u00a0sure but it's not that easy to avoid collisions without some complex system  \n16:27\u00a0<vmassol>\u00a0tmortagne: sburjan means something else  \n16:28\u00a0<vmassol>\u00a0sburjan: can you explain what you mean by \"If a Admin finishes editing a Page Rights page, \"  \n16:30\u00a0<+sburjan>\u00a0use case: vmassol denies comment rights for user sburjan \u00a0on a page. tmortagne comes and wants to deny \u00a0view page for the \\_same\\_ page as vmassol \u00a0denies comment rights. tmortagne will see the page locked, even if vmassol has set the permission, and navigated away from the page  \n16:30\u00a0<vmassol>\u00a0\"vmassol denies comment rights for user sburjan \u00a0on a page. \" how?  \n16:30\u00a0<+tmortagne>\u00a0the issue if that the rights UI does not \"finish\" anything  \n16:30\u00a0<+tmortagne>\u00a0so it never remove the lock explicitely  \n16:31\u00a0<vmassol>\u00a0yep  \n16:31\u00a0<+sburjan>\u00a0go to page, Edit Rights  \n16:31\u00a0<+sburjan>\u00a0Edit -> Access Rights  \n16:31\u00a0<+tmortagne>\u00a0one of the reason why I never liked this save when you click thing  \n16:31\u00a0<vmassol>\u00a0and this is a bug for me  \n16:31\u00a0<vmassol>\u00a0it's a major pita and generates unnecessary revs  \n16:32\u00a0<+sburjan>\u00a0I think this is a very old behavior I guess, right from the start, right ?  \n16:32\u00a0<vmassol>\u00a0no  \n16:33\u00a0<+sburjan>\u00a0but there is not much to do about it .. except putting a save button on the right edit page, I don't know. Should I report it ?  \n16:33\u00a0<vmassol>\u00a0you can report it indeed, there might already be an issue though  \n16:33\u00a0<+tmortagne>\u00a0pretty sure there is something about it already  \n16:34\u00a0<+tmortagne>\u00a0no this particular use case but about the way right UI is working in general  \n16:34\u00a0<vmassol>\u00a0but it's a good reminder of something we could work on in 4.X  \n16:34\u00a0<vmassol>\u00a0since it's about usability  \n16:34\u00a0<vmassol>\u00a0it wouldn't do any harm in reporting it again IMO  \n16:35\u00a0<+sburjan>\u00a0ok, reporting again. I also found a really critical issue Andreas is working on .. so I won't report it again  \n16:43\u00a0<+sburjan>\u00a0done  \n16:44\u00a0<jvelo>\u00a0has quit  \n16:45\u00a0<+sburjan>\u00a0vmassol: downloading latest snapshot to check AS slowness  \n16:46\u00a0<vmassol>\u00a0ok  \n16:47\u00a0<+sburjan>\u00a0gonna run in parallel a 3.5M1 and latest 3.5 SNAPSHOT on oracle .. let's hope I see a speed difference  \n16:55\u00a0<+mflorea>\u00a0guys, any pending commits for 3.5?  \n16:55\u00a0<vmassol>\u00a0not from me  \n16:55\u00a0<+mflorea>\u00a0tmortagne?  \n16:55\u00a0<+tmortagne>\u00a0mflorea: nothing blocker  \n16:55\u00a0<+mflorea>\u00a0ok, I'll wait for CI to finish building 3.5 and start the release  \n16:56\u00a0<vmassol>\u00a0cool, let's hope sburjan finds a speed difference  \n16:56\u00a0<+mflorea>\u00a0I'll repare the release notes in the mean time  \n16:56\u00a0<+sburjan>\u00a0just give me 5 minutes, unpacking zip's  \n16:56\u00a0<+mflorea>\u00a0s/repare/prepare  \n17:02\u00a0<nIMBVS>\u00a0has joined #xwiki  \n17:03\u00a0<nIMBVS>\u00a0hi. after enabling filesystem store for attachments and using it for some time, some of my attachments stopped working  \n17:04\u00a0<nIMBVS>\u00a0I didn't find a pattern for them not working anymore...  \n17:04\u00a0<vmassol>\u00a0a good question for cjd if he's avail\u2026 ;)  \n17:05\u00a0<+sburjan>\u00a0ok, I have at least one odd issue. I am not able to start xwiki with custom port on windows  \n17:05\u00a0<+sburjan>\u00a0let me investigate  \n17:06\u00a0<nIMBVS>\u00a0but when I access the attachments I get \"Error. The attachment does not exist\"  \n17:06\u00a0<nIMBVS>\u00a0but I can find the file on the filesystem. it's there...  \n17:06\u00a0<+mflorea>\u00a0guys, do we move http://jira.xwiki.org/browse/XWIKI-7513 to 4.0M1?  \n17:06\u00a0<+mflorea>\u00a0it is marked as blocker  \n17:06\u00a0<nIMBVS>\u00a0nothing in catalina.out  \n17:07\u00a0<nIMBVS>\u00a0can you advise how to enable some logging for attachments?  \n17:10\u00a0<+sburjan>\u00a0vmassol: I have a question. I am not using the default xwiki database name, and it seems it doesn't start if the db name isn't xwiki. Do we have somewhere hardcoded xwiki database for oracle ? I am running XE, not XEM  \n17:13\u00a0<vmassol>\u00a0you must use xwiki  \n17:13\u00a0<vmassol>\u00a0and on oracle db == user  \n17:14\u00a0<vmassol>\u00a0use the default db name and you'll be fine  \n17:14\u00a0<+sburjan>\u00a0yes.. but I didn't knew we had a restriction on db name ... don't like it  \n17:14\u00a0<vmassol>\u00a0change it  \n17:14\u00a0<vmassol>\u00a0fix it  \n17:14\u00a0<+sburjan>\u00a0I wanted to have both running in parallel ... so I can measure timings  \n17:15\u00a0<vmassol>\u00a0that's bad  \n17:15\u00a0<vmassol>\u00a0it's really the worse of things to do  \n17:15\u00a0<vmassol>\u00a0running in // will defniitely mess up your times  \n17:15\u00a0<vmassol>\u00a0very bad  \n17:15\u00a0<vmassol>\u00a0just time it one after another  \n17:15\u00a0<+sburjan>\u00a0okay.. so all for the best running them separately  \n17:15\u00a0<+mflorea>\u00a0ok, I'll move XWIKI-7513 to 4.0M1 since there is a workaround provided in the comments  \n17:21\u00a0<vmassol>\u00a0mflorea: hmm  \n17:21\u00a0<vmassol>\u00a0just seen about 7513  \n17:21\u00a0<+tmortagne>\u00a0issue with XWIKI-7513 is that it's a regression  \n17:21\u00a0<vmassol>\u00a0it's a blocker  \n17:21\u00a0<vmassol>\u00a0and a regression  \n17:22\u00a0<vmassol>\u00a0I don't see how we could release without it  \n17:22\u00a0<+tmortagne>\u00a0we released 3.4  \n17:22\u00a0<vmassol>\u00a0because we didn't notice it  \n17:22\u00a0<vmassol>\u00a0which means 3.4 is a broken release  \n17:22\u00a0<vmassol>\u00a0I don't see this as good :)  \n17:22\u00a0<vmassol>\u00a03.5 is supposed to be the last release  \n17:23\u00a0<vmassol>\u00a0of the 3.x cycle  \n17:23\u00a0<vmassol>\u00a0it would be better if it worked  \n17:24\u00a0<vmassol>\u00a0are we using REST upload of attachments in XE?  \n17:25\u00a0<vmassol>\u00a0this is caused by the move to restlet 2.0 right?  \n17:25\u00a0<+tmortagne>\u00a0in XE we always set the mime type when dealing with REST whatever we do  \n17:25\u00a0<+sburjan>\u00a0vmassol: yes, I see some slowness on 3.5M1 .. just by importing the xar which already fills a lot of AS data  \n17:25\u00a0<+tmortagne>\u00a0yes  \n17:25\u00a0<+tmortagne>\u00a0I think  \n17:25\u00a0<vmassol>\u00a0seems jerome is pretty unlucky in his commits ;)  \n17:25\u00a0<+mflorea>\u00a0:)  \n17:26\u00a0<+tmortagne>\u00a0yea  \n17:26\u00a0<vmassol>\u00a0if I remember well we arleady rolled back once the move to restlet 2.0  \n17:26\u00a0<+tmortagne>\u00a0yes  \n17:26\u00a0<+tmortagne>\u00a0but now it's going to be harder  \n17:26\u00a0<+sburjan>\u00a0just pray I don't see the same slowness on SNAPSHOT too.. this would make unlucky too. Installing firebug so I can measure times more accurately  \n17:27\u00a0<+tmortagne>\u00a0(and IMO we should not revert for this)  \n17:28\u00a0<vmassol>\u00a0yes reverting seems a bit too excessive here  \n17:28\u00a0<vmassol>\u00a0if we set the mime type internally then no feature of XE is broken then  \n17:28\u00a0<vmassol>\u00a0it's only external code which might be broken  \n17:28\u00a0<+mflorea>\u00a0maybe setting the content type is a best practice  \n17:29\u00a0<+tmortagne>\u00a0and kind of crappy code since it's not that nice to upload something without indicating the mime type  \n17:29\u00a0<vmassol>\u00a0yes maybe in which case we wouldn't have a rgression  \n17:29\u00a0<+mflorea>\u00a0i.e. maybe the behavior or restlet 2.0 is intentional  \n17:29\u00a0<+tmortagne>\u00a0but restlet guys did not answer to my message so i don't know if it's on purpose on not  \n17:30\u00a0<+tmortagne>\u00a0it does not look intentional in the code, at least there is nothing explaining it's ok it behave like this  \n17:30\u00a0<vmassol>\u00a0I'm with jerome  \n17:31\u00a0<+tmortagne>\u00a0it get the mime type and compare it without really expecting null it seems  \n\n"}