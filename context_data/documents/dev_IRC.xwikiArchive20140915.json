{"id": "dev:IRC.xwikiArchive20140915", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140915", "title": "IRC Archive for channel #xwiki on 15 September 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Slashman>\u00a0has quit  \n01:46\u00a0<Slashman>\u00a0has joined #xwiki  \n02:09\u00a0<tillo\\_>\u00a0has joined #xwiki  \n02:13\u00a0<tillo>\u00a0has quit  \n02:13\u00a0<tillo\\_>\u00a0is now known as <tillo>  \n02:16\u00a0<Slashman>\u00a0has quit  \n06:52\u00a0<tillo\\_>\u00a0has joined #xwiki  \n06:52\u00a0<tillo>\u00a0has quit  \n06:52\u00a0<tillo\\_>\u00a0is now known as <tillo>  \n07:06\u00a0<mflorea>\u00a0has joined #xwiki  \n07:07\u00a0<msmeria>\u00a0has joined #xwiki  \n07:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:27\u00a0<\\_\\_CJD\\_\\_>\u00a0has joined #xwiki  \n07:34\u00a0<mflorea>\u00a0has quit  \n07:44\u00a0<\\_\\_CJD\\_\\_>\u00a0has quit  \n07:53\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:05\u00a0<Denis>\u00a0has joined #xwiki  \n08:09\u00a0<Denis>\u00a0has quit  \n08:21\u00a0<vmassol>\u00a0has joined #xwiki  \n08:24\u00a0<ClemensR>\u00a0has joined #xwiki  \n08:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:45\u00a0<cjd>\u00a0has joined #xwiki  \n08:54\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:56\u00a0<vmassol>\u00a0good morning  \n08:57\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform\\_Sonar/8/console has been running for over 8 hours\u2026 doesn't look normal but no error. It may be just low memory. This job requires a lot of memory for sure.  \n08:57\u00a0<vmassol>\u00a0let's see if it finishes....  \n08:58\u00a0<cjd>\u00a0gm vm  \n08:58\u00a0<vmassol>\u00a0so today is supposed to be the 6.2 final release  \n08:58\u00a0<vmassol>\u00a0let's see what blockers remain (and there are several functional tests not passing)  \n08:59\u00a0<vmassol>\u00a0hmm 4  \n08:59\u00a0<vmassol>\u00a0http://jira.xwiki.org/issues/?filter=13191&jql=category%20in%20(%22Top%20Level%20Projects%22)%20AND%20fixVersion%20in%20(%226.2-milestone-1%22%2C%20%226.2-milestone-2%22%2C%20%226.2-rc-1%22%2C%20%226.2%22)%20AND%20resolution%20in%20(Unresolved)  \n09:02\u00a0<Pbas>\u00a0has joined #xwiki  \n09:04\u00a0<tmortagne>\u00a0vmassol: I don't think XWIKI-10686 is valid anymore  \n09:04\u00a0<cjd>\u00a0I've cannot-reproduce'd it  \n09:04\u00a0<vmassol>\u00a0that's cool then, can it be tested?  \n09:04\u00a0<vmassol>\u00a0ok  \n09:04\u00a0<vmassol>\u00a0you could before?  \n09:04\u00a0<cjd>\u00a0nope :)  \n09:05\u00a0<vmassol>\u00a0he so it's not foolproof  \n09:05\u00a0<cjd>\u00a0It seems like maybe a screwed up wiki because I do a fair amount of app installation  \n09:05\u00a0<tmortagne>\u00a0the title of XWIKI-10686 never really been true AFAIK but there was another issue with the extension Andreea tested  \n09:06\u00a0<tmortagne>\u00a0XCOMMONS-644  \n09:06\u00a0<vmassol>\u00a0ok  \n09:06\u00a0<vmassol>\u00a0cjd: feel free to close it if you think it's either fixed or invalid  \n09:06\u00a0<tmortagne>\u00a0was doing such a mess that I guess Andreea tough the issue was XWIKI-10686  \n09:07\u00a0<tmortagne>\u00a0I was waiting for a comment from her but will close it  \n09:16\u00a0<DarkKnightCZ>\u00a0anybody has an idea, what could be the problem with office viewer when on one node it fails for some reason (with OO it fails, with LO doesn't but it doesn't show any slides), but on other node it works without any problems? Tomcat 7/RHEL 6, folders have same permissions, no related files seems missing or modified (checked with rsync -n and diff), selinux is disabled  \n09:26\u00a0<Denis>\u00a0has joined #xwiki  \n09:29\u00a0<woshilapin>\u00a0has quit  \n09:33\u00a0<DarkKnightCZ>\u00a0hmm, so apparently deleting temp was enough  \n09:34\u00a0<vmassol>\u00a0guys, http://jira.xwiki.org/browse/XWIKI-11003 seems like a blocker for 6.2 for me, wdyt?  \n09:38\u00a0<tmortagne>\u00a0yes, pretty serious regression if I understood well  \n09:38\u00a0<vmassol>\u00a0ok marking it blocker for 6.2 final  \n09:38\u00a0<vmassol>\u00a0I'm on the RTF one right now, if someone else can have a look that would be great  \n09:43\u00a0<mflorea>\u00a0has joined #xwiki  \n09:44\u00a0<tmortagne>\u00a0vmassol: trying to reproduce  \n09:44\u00a0<vmassol>\u00a0k  \n09:59\u00a0<lucaa>\u00a0has joined #xwiki  \n10:01\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:07\u00a0<tmortagne>\u00a0msmeria: did you tried XWIKI-11003 with an older version of libreoffice/openoffice (like 3.x) ?  \n10:08\u00a0<msmeria>\u00a0tmortagne: no, I didn't  \n10:09\u00a0<tmortagne>\u00a0as far as I can libreoffice 4  \n10:09\u00a0<tmortagne>\u00a0as far as I can libreoffice 4.3 directly put the image in the html  \n10:09\u00a0<tmortagne>\u00a0I don't think that was the case before  \n10:09\u00a0<tmortagne>\u00a0we probably then have an issue to convert such html properly  \n10:09\u00a0<tmortagne>\u00a0debugging it  \n10:10\u00a0<tmortagne>\u00a0so I wanted to check if it used to work well with older version of OO that don't inline images  \n10:14\u00a0<evalica>\u00a0has joined #xwiki  \n10:20\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:30\u00a0<Enygma`>\u00a0Hi devs. Today is the release day for 6.2 final. Your help on fixing failing tests is more than welcomed!  \n10:32\u00a0<vmassol>\u00a0Enygma`: yep, we should all help for the release  \n10:32\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:33\u00a0<vmassol>\u00a0I'm finishing testing XWIKI-11018 with an office server  \n10:43\u00a0<tmortagne>\u00a0mflorea: how does the WYSIWYG support inlined images from rendering point of view ? does it do something special before giving it to the xhtml parser ? looks like the issue with XWIKI-11003 is inlined images  \n10:47\u00a0<Enygma`>\u00a0was about to ask about that issue, since it`s marked as blocker  \n10:48\u00a0<tmortagne>\u00a0I don't think it's a regression on our side technically but the fact that recent version of LibreOffice now inline image means that we really need to support it  \n10:48\u00a0<Enygma`>\u00a0so at this point it`s a compatibility issue  \n10:49\u00a0<tmortagne>\u00a0pretty much yes  \n10:49\u00a0<tmortagne>\u00a0not sure since when exactly they started inline image  \n10:49\u00a0<tmortagne>\u00a0maybe it's configurable some way  \n10:50\u00a0<Enygma`>\u00a0I guess we need to update our documentation to state that we support LibreOffice up to version X and create a new issue for becoming compatible with versions >X  \n10:51\u00a0<tmortagne>\u00a0no need to create new issue, that's XWIKI-11003  \n10:52\u00a0<tmortagne>\u00a0msmeria: do you remember the last LibreOffice/OpenOffice version you tested that with which it was working well ?  \n10:52\u00a0<tmortagne>\u00a0s/that//  \n10:53\u00a0<tmortagne>\u00a0same issue with 4.2 it seems  \n10:53\u00a0<msmeria>\u00a0tmortagne: sorry, I don't remember  \n10:53\u00a0<msmeria>\u00a0I'll download a 3.x version and test with it  \n10:54\u00a0<tmortagne>\u00a0seems to be forced embedded since 4.2  \n10:56\u00a0<Enygma`>\u00a0I`ll just push the issue for 6.3-m1 for now  \n10:57\u00a0<vmassol>\u00a0hmmm make sure its in the RN  \n10:57\u00a0<vmassol>\u00a0that it'll work only with version up to X for OO/LO  \n10:57\u00a0<tmortagne>\u00a0vmassol: it's not really related to any version of XWiki  \n10:57\u00a0<Enygma`>\u00a0release notes of XWiki?  \n10:57\u00a0<vmassol>\u00a0yes RN of XWiki  \n10:57\u00a0<tmortagne>\u00a0except maybe the one we released when LibreOffice started embedding images  \n10:57\u00a0<Enygma`>\u00a0for 6.2 final?  \n10:57\u00a0<vmassol>\u00a0\"that it'll work only with version up to X for OO/LO\"  \n10:58\u00a0<vmassol>\u00a0yes  \n10:58\u00a0<tmortagne>\u00a0it's not only 6.2  \n10:58\u00a0<vmassol>\u00a0add it to all past release notes if you prefer  \n10:58\u00a0<vmassol>\u00a0but it MUST be in 6.2 at least  \n10:58\u00a0<vmassol>\u00a0(5.4.5 would be nice too)  \n10:59\u00a0<vmassol>\u00a0and on the office import extension page obviously  \n10:59\u00a0<vmassol>\u00a0(it has to be in both places since we bundle the office import by default)  \n11:00\u00a0<tmortagne>\u00a0for office import page we need to find the exact LibreOffice version when it started  \n11:00\u00a0<vmassol>\u00a0yes  \n11:00\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n11:01\u00a0<vmassol>\u00a0Enygma`: you moved http://jira.xwiki.org/browse/XE-1412  \n11:01\u00a0<vmassol>\u00a0are we sure it's not important?  \n11:01\u00a0<vmassol>\u00a0(I haven't fully read/understood, hence why I ask)  \n11:08\u00a0<mflorea>\u00a0tmortagne: the office server generates some HTML and a list of 'artifacts' (binary) that represent the images found in the office document. The office importer creates attachments from the artifacts and adjusts the paths in the HTML to point to attached images.  \n11:08\u00a0<Enygma`>\u00a0vmassol: did not look like much to me  \n11:08\u00a0<tmortagne>\u00a0mflorea: I know how office import works  \n11:08\u00a0<tmortagne>\u00a0but here it's not external image anymore  \n11:08\u00a0<tmortagne>\u00a0LibreOffice 4.3 embbed base 64 images  \n11:09\u00a0<tmortagne>\u00a0my question was about WYSIWYG, not office import  \n11:09\u00a0<tmortagne>\u00a0see skype  \n11:11\u00a0<mflorea>\u00a0you still have an IMG tag in the HTML even if the image is embedded. The office server won't produce artifacts, but the IMG tag is there and the rendering can handle it http://jira.xwiki.org/browse/XRENDERING-278  \n11:11\u00a0<tmortagne>\u00a0mflorea: it does not handle it  \n11:11\u00a0<mflorea>\u00a0as for the WYSIWYG editor, it doesn't do and it doesn't have to do anything special. IMG tags are rendered by the browser  \n11:11\u00a0<tmortagne>\u00a0otherwise we would not have the issue  \n11:11\u00a0<mflorea>\u00a0the issue is elsewhere  \n11:12\u00a0<tmortagne>\u00a0the html is correct after html cleaner execution when looking in debug  \n11:12\u00a0<mflorea>\u00a0could be in the code that adjust the image URL  \n11:12\u00a0<mflorea>\u00a0the image URL uses the data scheme in this case  \n11:15\u00a0<mflorea>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-office/xwiki-platform-office-importer/src/main/java/org/xwiki/officeimporter/internal/filter/ImageFilter.java  \n11:16\u00a0<tmortagne>\u00a0i'm on it yes, looking at it  \n11:17\u00a0<tmortagne>\u00a0did not expected something after htmlcleaner  \n11:17\u00a0<tmortagne>\u00a0s/did/was/  \n11:20\u00a0<ClemensR>\u00a0about the failing tests: I think I understand the failure of ClassEditorTest.testInvalidFieldName, though I cannot reproduce it locally. seems to be a timing problem, test not waiting for an ajax call to finish  \n11:27\u00a0<ClemensR>\u00a0nah, forget it, its something different, and I do not understand in :-/  \n11:35\u00a0<vmassol>\u00a0too bad! :)  \n11:36\u00a0<vmassol>\u00a0btw to reproduce, using the @Intermittent annotation helps  \n11:49\u00a0<ClemensR>\u00a0ah, but I can fail \\*all\\* tests in ClassEditorTest by just making the browser window very small  \n12:00\u00a0<DarkKnightCZ>\u00a0has quit  \n12:08\u00a0<vmassol>\u00a0ClemensR: btw did you check the generated images from the agent when the test fails?  \n12:08\u00a0<ClemensR>\u00a0no, I did not know there any any images  \n12:09\u00a0<vmassol>\u00a0for ex  \n12:10\u00a0<vmassol>\u00a0for http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.appwithinminutes/ClassEditorTest/testFieldNameAutoGeneration/  \n12:10\u00a0<vmassol>\u00a0you'll see the message:  \n12:10\u00a0<vmassol>\u00a011:43:00.720 [main] INFO \u00a0org.xwiki.test.ui.TestDebugger - Screenshot for failing test [ClassEditorTest-testFieldNameAutoGeneration] saved at [/home/hudsonagent/jenkins\\_root/workspace/xwiki-enterprise-test-ui/xwiki-enterprise-test/xwiki-enterprise-test-ui/target/screenshots/ClassEditorTest-testFieldNameAutoGeneration.png].  \n12:10\u00a0<vmassol>\u00a0so you can go to:  \n12:10\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-ui/ws/xwiki-enterprise-test/xwiki-enterprise-test-ui/target/screenshots/  \n12:11\u00a0<vmassol>\u00a0and you'll see the screenshots for failed tests  \n12:11\u00a0<vmassol>\u00a0this allows to see what was on screen when the test failed  \n12:13\u00a0<ClemensR>\u00a0vmassol: ah, ok, thanks, got it! seems small browser window is not the solution, then  \n12:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n12:18\u00a0<DarkKnightCZ>\u00a0has quit  \n12:20\u00a0<lucaa>\u00a0has quit  \n12:22\u00a0<Enygma`>\u00a0any ideas about all these connection issues on http://ci.xwiki.org/job/xwiki-enterprise-test-escaping-6.2.x/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-escaping/testReport/xwiki-enterprise-web-6.2-SNAPSHOT/war/ArchiveSuite\\_2/  \n12:22\u00a0<Enygma`>\u00a0?  \n12:23\u00a0<vmassol>\u00a0forgot to merge \u00a0on 6.2.x branch\u2026 doign it  \n12:30\u00a0<Slashman>\u00a0has joined #xwiki  \n12:34\u00a0<vmassol>\u00a0going for lunch, bbl  \n12:39\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n12:55\u00a0<Denis>\u00a0has quit  \n13:02\u00a0<Enygma`>\u00a0FYI: Selenium 2.43.1 is available http://selenium-release.storage.googleapis.com/index.html?path=2.43/  \n13:03\u00a0<Slashman>\u00a0has quit  \n13:06\u00a0<Enygma`>\u00a0https://code.google.com/p/selenium/source/browse/java/CHANGELOG  \n13:16\u00a0<Denis>\u00a0has joined #xwiki  \n13:18\u00a0<Enygma`>\u00a0\u00a0\\* Updating Native events to support Firefox 24, 31 and 32  \n13:26\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:26\u00a0<vmassol>\u00a0has quit  \n13:29\u00a0<Enygma`>\u00a0aha... just ran the wysiwyg tests on a firefox 28.0 and the tests are no longer failing. At least for this test: http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg-6.2.x/8/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/testReport/org.xwiki.test.wysiwyg/StandardFeaturesTest/testItalics/  \n13:29\u00a0<Enygma`>\u00a0it was a problem of sending CTRL+A (select all) in the wysiwyg frame  \n13:30\u00a0<Enygma`>\u00a0on firefox 27.0.1 (which we use on agents) it's not working (because we`ve recently upgraded selenium to 2.42.2, but did not upgrade firefox)  \n13:32\u00a0<Enygma`>\u00a0so what we could do is to upgrade to Selenium 2.43.1 and upgrade our firefox version on the agents to Firefox 32  \n13:37\u00a0<Enygma`>\u00a0either that or just upgrade our firefox on agents to Firefox 28  \n13:37\u00a0<Enygma`>\u00a0any particular reason why we should not go for the Selenium 2.43.1 + Firefox 32 combo?  \n13:52\u00a0<vmassol1>\u00a0no reason except that there might be a small risk of other tests failing but it's worth trying  \n13:52\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n13:53\u00a0<Enygma`>\u00a0doing it now  \n14:21\u00a0<Slashman>\u00a0has joined #xwiki  \n14:22\u00a0<ClemensR>\u00a0about the failing AppWithMinutes tests: I can get them running if I explicitly set a certain browser window size (and can make then fail reliably if I set the window size smaller).  \n14:22\u00a0<vmassol>\u00a0ClemensR: AFAIK mflorea did someone wrt the screen size  \n14:22\u00a0<vmassol>\u00a0the browser windows takes the full screen if I remember correctly  \n14:23\u00a0<vmassol>\u00a0and the font size is real small (at least on my mac)  \n14:23\u00a0<ClemensR>\u00a0not sure if I should commit a hack like that. problem seems to be caused by the same selenium bug as the \"scroll to home\" part ....  \n14:23\u00a0<ClemensR>\u00a0ah, ok, then on jenkins it seems the \"full sceeen\" is very small  \n14:23\u00a0<vmassol>\u00a0ClemensR: maybe it's fixed by the upgrade to 2.43.1\u2026.  \n14:23\u00a0<vmassol>\u00a0hmm  \n14:23\u00a0<vmassol>\u00a0let me check what resolution we're setting  \n14:24\u00a0<ClemensR>\u00a0ah, there is the commit coming :) \u00a0... yes, I will wait to see what the upgtade does anyway  \n14:24\u00a0<vmassol>\u00a0we use 1280x800  \n14:24\u00a0<ClemensR>\u00a0s/upgtade/selenium upgrade/  \n14:24\u00a0<vmassol>\u00a0full command line is: vncserver :$DISPLAY\\_NUMBER -nolisten tcp -geometry 1280x800 -depth 24 -fp catalogue:/etc/X11/fontpath.d  \n14:27\u00a0<DarkKnightCZ>\u00a0mflorea: about that PR, oh yes, i see it's caused by html5+css3 features (i thought extensions.xwiki was without these modifications), so indeed setting different box-sizing would be better  \n14:27\u00a0<ClemensR>\u00a0yup, both test failures reproducible with 1280x800 screen size  \n14:28\u00a0<mflorea>\u00a0DarkKnightCZ: good, then if you can make a new PR that sets the box-sizing on the gallery container I'd be happy to apply it  \n14:28\u00a0<DarkKnightCZ>\u00a0yup, i'm on it  \n14:28\u00a0<mflorea>\u00a0thanks  \n14:28\u00a0<DarkKnightCZ>\u00a0no problem  \n14:32\u00a0<vmassol>\u00a0[Fun Fact] hey, the flavor concepts dates back to 2007: http://markmail.org/message/oxharyge3uhakjmt  \n14:32\u00a0<vmassol>\u00a0ClemensR: ok interesting, what's the problem? Some elements not visible? scrolling outside of the visible window?  \n14:34\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n14:34\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:41\u00a0<Enygma`>\u00a0vmassol: \"fun\"? :D  \n14:41\u00a0<vmassol>\u00a0s/fun/interesting  \n14:41\u00a0<vmassol>\u00a0:)  \n14:46\u00a0<ClemensR>\u00a0vmassol: \u00a0actually the field palette drag&drop section is visible (and usable) all the time in the browser, but selenium seems not to use it. I have no idea why, it is just that a slightly bigger screen (e.g. 1280x900) makes the problem go away.  \n14:47\u00a0<ClemensR>\u00a0additionally the two failing test succeed even with \"small\" window size if I manually intervene to help the test - so it is not broken in the browser. no good idea what is going on :-/  \n14:48\u00a0<Enygma`>\u00a0ClemensR: what firefox version are you using?  \n14:49\u00a0<ClemensR>\u00a0for running the tests it is the firefox-27.0.1  \n14:50\u00a0<Enygma`>\u00a0I know I had problems running tests in the awm class editor with the D&D, but using firefox 27 fixed it  \n14:50\u00a0<ClemensR>\u00a0the \"officially\" 32.0 did not work with selenium version XWiki used so far  \n14:50\u00a0<Enygma`>\u00a032 should work after the commit I`ve just pushed  \n14:51\u00a0<ClemensR>\u00a0yes, me pulling the change right now  \n14:51\u00a0<DarkKnightCZ>\u00a0mflorea: https://github.com/DarkKnightCZ/xwiki-platform/commit/e592d1301c671fc1929b752d325497d26f868a6c , good enough? :) tested in chromium, IE 8, 9... in IE 9 it works without problems, in IE8 it doesn't work, but it's broken anyways (there is no addEventListener yet)  \n14:54\u00a0<mflorea>\u00a0DarkKnightCZ: I was thinking more to set the box-sizing from css, from gallery.css precisely. WDYT?  \n14:55\u00a0<DarkKnightCZ>\u00a0oh yeah, that might be better  \n14:55\u00a0<mflorea>\u00a0the width and height are variable, but the box-sizing is constant, so it can be set from css  \n14:55\u00a0<DarkKnightCZ>\u00a0yup  \n14:55\u00a0<msmeria>\u00a0has quit  \n14:56\u00a0<andreeapopescu>\u00a0has left #xwiki  \n15:02\u00a0<DarkKnightCZ>\u00a0mflorea: ^  \n15:04\u00a0<ClemensR>\u00a0updating to the new selenium lib and firefox-32.0 fixes the failing awm tests .... but both is needed. running the new selenium with firefox-27.0 still fails  \n15:04\u00a0<ClemensR>\u00a0in any case no need for the ugly window.setSize() fix :)  \n15:05\u00a0<vmassol>\u00a0oh we can remove it?  \n15:06\u00a0<mflorea>\u00a0DarkKnightCZ: perfect, merged, thanks!  \n15:06\u00a0<DarkKnightCZ>\u00a0no problem  \n15:06\u00a0<ClemensR>\u00a0vmassol: I did not commit it, it is just locally ;)  \n15:08\u00a0<ClemensR>\u00a0but there is a \"press home button before adding fields\" patch in the org.xwiki.appwithinminutes.test.po.ApplicationClassEditPage \u00a0which possibly could be scrapped, too (have not tried if that is the case)  \n15:11\u00a0<vmassol>\u00a0ClemensR: ah thought you were referring about the workaround mflorea did  \n15:11\u00a0<vmassol>\u00a0this one: driver.manage().window().maximize();  \n15:11\u00a0<vmassol>\u00a0in WebDriverFactory  \n15:13\u00a0<ClemensR>\u00a0ah, no, sorry .... but that seems to be useful to make things reproducible - at least if one has a 1280x800 screen ;)  \n15:14\u00a0<ClemensR>\u00a0anyone looking at XWIKI-11025 ? otherwise I might have a look  \n15:14\u00a0<vmassol>\u00a0all yours :)  \n15:18\u00a0<ClemensR>\u00a0ah, it is no fixVersion : 6.2 so I do not need to to hurry with a fix ;) \u00a0... but I try anyway  \n15:19\u00a0<vmassol>\u00a0ok, there's no fixversion possibly because it's very new!!  \n15:19\u00a0<vmassol>\u00a0created 27mn ago  \n15:19\u00a0<vmassol>\u00a0just discovering it on my sife  \n15:19\u00a0<vmassol>\u00a0\\*side  \n15:19\u00a0<vmassol>\u00a0but yes I think it's ok to have 6.2 without it but it should go in 6.2.1 if it doesn't make it  \n15:20\u00a0<vmassol>\u00a0(for 6.2)  \n15:20\u00a0<vmassol>\u00a0if you can fix it quickly then great  \n15:21\u00a0<vmassol>\u00a0mflorea: you set 6.2  \n15:21\u00a0<vmassol>\u00a0(for the PR merge)  \n15:21\u00a0<vmassol>\u00a0ah my bad  \n15:21\u00a0<mflorea>\u00a0and?  \n15:21\u00a0<vmassol>\u00a0again I misread  \n15:21\u00a0<vmassol>\u00a0:)  \n15:21\u00a0<mflorea>\u00a0oky :)  \n15:22\u00a0<lucaa>\u00a0has joined #xwiki  \n15:31\u00a0<DarkKnightCZ>\u00a0has quit  \n15:42\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:47\u00a0<lucaa>\u00a0has quit  \n15:48\u00a0<vmassol>\u00a0ClemensR: I guess you've seen Edy's comment at https://github.com/xwiki/xwiki-platform/commit/bc954f2b24b21f3c624e0bfea2f3fd1b2ff55a15#commitcomment-7784893  \n15:48\u00a0<ClemensR>\u00a0no, missed that, thanks  \n15:49\u00a0<vmassol>\u00a0(he commente 2mn ago only ;))  \n15:53\u00a0<Enygma`>\u00a0funny that nobody noticed the failing test \\*since february this year\\* :)  \n15:53\u00a0<ClemensR>\u00a0anyway, I guess it is wanted for 6.2, so good to push :) \u00a0\u00a0... trouble is that this request.qs in question should be already url-escaped  \n15:53\u00a0<ClemensR>\u00a0did this really fail back then ? er, nevermind, let me see what I can do about that  \n15:54\u00a0<Enygma`>\u00a0as far as I can see, that line was not touched since  \n15:54\u00a0<Enygma`>\u00a0so the test is \\*probably\\* failing since then  \n15:54\u00a0<Enygma`>\u00a0can`t really tell since jenkins was unreliable  \n15:54\u00a0<Enygma`>\u00a0and there were other weird problems with the test infrastructure  \n15:56\u00a0<Enygma`>\u00a0ok, ClemensR waiting for your fix, thanks.  \n16:00\u00a0<lucaa>\u00a0has joined #xwiki  \n16:01\u00a0<Enygma`>\u00a0vmassol: any idea about http://ci.xwiki.org/job/xwiki-enterprise-test-escaping/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-escaping/testReport/xwiki-enterprise-ui-mainwiki-all-6.3-SNAPSHOT/xar/ArchiveSuite/ ?  \n16:01\u00a0<Enygma`>\u00a0it seems to be failing constantly  \n16:02\u00a0<Enygma`>\u00a0I don`t fully understand the mechanics of the escaping test, specially at which point is this failure happening so that I would try to reproduce it locally  \n16:02\u00a0<vmassol>\u00a0usually you get \"Caused by: java.net.SocketTimeoutException: Read timed out\" when the page doesn't return anything  \n16:02\u00a0<vmassol>\u00a0but looking at the url it doesn't seem likely: http://127.0.0.1:8080/xwiki/bin/edit/Main/WebHome?language=en  \n16:03\u00a0<vmassol>\u00a0it should be easy to debug  \n16:03\u00a0<vmassol>\u00a0I'm on something else ATM  \n16:03\u00a0<vmassol>\u00a0trying to fix the start/stop scripts which have some errors  \n16:03\u00a0<Enygma`>\u00a0ok  \n16:17\u00a0<lucaa>\u00a0has quit  \n16:17\u00a0<lucaa>\u00a0has joined #xwiki  \n16:53\u00a0<vmassol>\u00a0gdelhumeau: fun I was going to create http://jira.xwiki.org/browse/XWIKI-11027 in a few minutes\u2026 ;)  \n16:54\u00a0<vmassol>\u00a0I suggest to wait for 6.3M1/6.2.1 though  \n16:54\u00a0<gdelhumeau>\u00a0that was my idea  \n16:54\u00a0<vmassol>\u00a0k  \n16:55\u00a0<gdelhumeau>\u00a0and indeed, if we do it in 6.3, we should do it in 6.2.x too because if not, it would be more difficult to make backports  \n16:55\u00a0<gdelhumeau>\u00a0backports on VMs  \n17:05\u00a0<vmassol>\u00a0ok back to checking ci  \n17:05\u00a0<vmassol>\u00a0still a lot of failing tests....  \n17:06\u00a0<Enygma`>\u00a0ClemensR: Fixing the escaping issue myself  \n17:07\u00a0<ClemensR>\u00a0ah, ok, I have tio admit that if I just url-escape it, the \"qs\"-feature gets broken  \n17:07\u00a0<ClemensR>\u00a0so if you have an ide how to fix it, that would be great  \n17:09\u00a0<Enygma`>\u00a0ClemensR: so the fix is not just URL escaping the thing  \n17:09\u00a0<Enygma`>\u00a0?  \n17:09\u00a0<Enygma`>\u00a0that was my first impression.  \n17:10\u00a0<ClemensR>\u00a0I don't think so. If you just escape it, then pages who need parameters will not get exported properly (that is the idea of the request.qs, though it is somewhat doubtful \u00a0if there is any good use case)  \n17:11\u00a0<ClemensR>\u00a0e.g. try to search for something and then try to pdf-export the result page \u00a0(that might be a halfway valid use case)  \n17:20\u00a0<woshilapin>\u00a0Hi xwikiers, can I have a hint on the 'hint' parameter of $services.model.resolveDocument() please?  \n17:21\u00a0<woshilapin>\u00a0\"default\", \"compact\", \"local\" are the possibilities? (looking at the documentation of $services.model.serialize but not sure it the same)  \n17:25\u00a0<vmassol>\u00a0woshilapin: check the model module on e.x.o  \n17:25\u00a0<vmassol>\u00a0(I hope there's doc there ;))  \n17:26\u00a0<woshilapin>\u00a0I looked here http://platform.xwiki.org/xwiki/bin/view/SRD/Navigation?xpage=embed at first  \n17:26\u00a0<vmassol>\u00a0yep: http://extensions.xwiki.org/xwiki/bin/view/Extension/Model+Module#HResolvingaReference  \n17:26\u00a0<woshilapin>\u00a0And documentation in SRD doesn't help much  \n17:27\u00a0<woshilapin>\u00a0OK, thanks for the hint ;-)  \n17:30\u00a0<vmassol>\u00a0so nobody is look at the 34 failing wysiwyg tests: http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg-6.2.x/ ?  \n17:32\u00a0<vmassol>\u00a0Enygma`: have all functional tests been executed already with the new selenium?  \n17:32\u00a0<vmassol>\u00a0(are we running latest FF on slaves ATM?)  \n17:33\u00a0<ClemensR>\u00a0I thought/hoped that the wysiwyg tests might be fixed with the selenium update ?  \n17:34\u00a0<Enygma`>\u00a0vmassol: still waiting for some  \n17:34\u00a0<vmassol>\u00a0ClemensR: hmm they look like real errors, no?  \n17:35\u00a0<ClemensR>\u00a0(last run from 12:09 - that is before the selenium lib update)  \n17:35\u00a0<ClemensR>\u00a0(01:29:18 PM) Enygma`: aha... just ran the wysiwyg tests on a firefox 28.0 and the tests are no longer failing.  \n17:35\u00a0<vmassol>\u00a0oh missed that one  \n17:35\u00a0<Enygma`>\u00a0vmassol: http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg-6.2.x/ is an old build  \n17:35\u00a0<ClemensR>\u00a0thats where I hoped it got fixed - but maybe not on ci, which is still having 27.0 \u00a0?  \n17:36\u00a0<Enygma`>\u00a0still waiting  \n17:36\u00a0<vmassol>\u00a0Enygma`: so agents are on a recent FF version now?  \n17:36\u00a0<Enygma`>\u00a0yes, I`ve updated the firefox version on agents  \n17:36\u00a0<Enygma`>\u00a0to 32.0.1  \n17:36\u00a0<vmassol>\u00a0ok  \n17:36\u00a0<Enygma`>\u00a0this though... http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/testReport/org.xwiki.test.selenium.framework/XWikiSeleniumTestSetup/WYSIWYG\\_Selenium\\_Tests/  \n17:37\u00a0<vmassol>\u00a0argh\u2026 we still have this one :(  \n17:37\u00a0<vmassol>\u00a0I dreamed it would automagically be fixed with my modified start/stop scripts  \n17:37\u00a0<vmassol>\u00a0no luck...  \n17:37\u00a0<Enygma`>\u00a0did not see it lately though  \n17:37\u00a0<Enygma`>\u00a0wonder if it`s related with the selenium upgrade  \n17:37\u00a0<vmassol>\u00a0could be  \n17:38\u00a0<vmassol>\u00a0so  \n17:38\u00a0<vmassol>\u00a0we had it before  \n17:38\u00a0<vmassol>\u00a0then I updated seleniul  \n17:38\u00a0<vmassol>\u00a0I think I remember that was the reason for why I upgraded selenium  \n17:38\u00a0<vmassol>\u00a0it disappeared  \n17:38\u00a0<vmassol>\u00a0and now it seems it's back  \n17:38\u00a0<Enygma`>\u00a0it did not disappear AFAIR, if happened less/disappeared with your script modifications, AFAIR  \n17:40\u00a0<vmassol>\u00a0from what I see  \n17:40\u00a0<Enygma`>\u00a0yaiks! on agent3-3 there are 4 Xtightvnc instances  \n17:40\u00a0<vmassol>\u00a0xwiki is not even started/stopped when the problem happens  \n17:40\u00a0<vmassol>\u00a0seems to happen before  \n17:40\u00a0<vmassol>\u00a0strange  \n17:40\u00a0<Enygma`>\u00a0so that there is the problem  \n17:40\u00a0<vmassol>\u00a0so firefox didn't stop correctly duing a previous run on that agent  \n17:40\u00a0<vmassol>\u00a0\\*during  \n17:41\u00a0<Enygma`>\u00a0looks like it  \n17:41\u00a0<vmassol>\u00a0actually we chan check it  \n17:41\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/29/console  \n17:41\u00a0<vmassol>\u00a0I did a ps before the job  \n17:41\u00a0<vmassol>\u00a0s/did/take  \n17:42\u00a0<vmassol>\u00a0several vncserver remain but that should be ok...  \n17:43\u00a0<vmassol>\u00a0so no firefox process leftover  \n17:43\u00a0<vmassol>\u00a0and more importantly  \n17:43\u00a0<vmassol>\u00a0no port 7054 already bound  \n17:43\u00a0<vmassol>\u00a0(see the netstat output)  \n17:44\u00a0<mflorea>\u00a0tmortagne: there's a problem with the extension importer/updater script. It keeps messing the File Manager doc page, http://extensions.xwiki.org/xwiki/bin/view/Extension/File+Manager+Application  \n17:44\u00a0<Enygma`>\u00a0yes, noticed  \n17:44\u00a0<Enygma`>\u00a0still not 100% sure though  \n17:44\u00a0<Enygma`>\u00a0I did make sure to test the selenium 2.43.1 with firefox 32.0.1 locally and they work together  \n17:45\u00a0<mflorea>\u00a0the last version is wrong and the last update has removed some of the versions (2.0M1 and 2.0M2) including their release notes  \n17:47\u00a0<Enygma`>\u00a0crap http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg-6.2.x/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/testReport/org.xwiki.test.wysiwyg.framework/WysiwygTestSetup/WYSIWYG\\_Selenium\\_Tests/  \n17:47\u00a0<Enygma`>\u00a0yet another annoying thing  \n17:49\u00a0<ClemensR>\u00a0any chance the updated firefox does not start properly on ci? or it might need to be started manually for the first time (checking plugins for compatibility or whatever?) ... \u00a0just wildly guessing  \n17:51\u00a0<Enygma`>\u00a0killing master triggered builds to get some free agents for the 6.2 jobs  \n17:56\u00a0<ClemensR>\u00a0Enygma`: about the escaping issue : I left a comment at the code; basically I can either fix the test by breaking a feature, or do something completely ridiculous to fix both. \u00a0... I would like to do neither of them, but that would mean \"fixing\" $escapetool..html \u00a0to escape ' -> &39#; \u00a0-- not really a small change :(  \n18:02\u00a0<vmassol>\u00a0reading https://code.google.com/p/selenium/issues/detail?id=7272  \n18:02\u00a0<vmassol>\u00a0for the guy upgrading to 2.42.1 fixed the issue  \n18:02\u00a0<vmassol>\u00a0I think that's the therad I found  \n18:03\u00a0<vmassol>\u00a0when I decided to upgrade  \n18:03\u00a0<momomomomo>\u00a0has joined #xwiki  \n18:03\u00a0<vmassol>\u00a0\"On further investigation it is not fixed :( but it does seem a lot less frequent, and better on FF 29.0.1, but that could well be a coincidence...\"  \n18:04\u00a0<vmassol>\u00a0\"WORKAROUND #1: If you have a WebDriverFactory like I do, place the synchronized directive in the method header. That way only one browser on ANY node will start a time. This has resolved the issue for me so far.  \n18:04\u00a0<vmassol>\u00a0\"  \n18:04\u00a0<vmassol>\u00a0hmm AFAIK we're only starting one at a time...  \n18:05\u00a0<evalica>\u00a0has quit  \n18:05\u00a0<vmassol>\u00a0apaprently they say it's fixed in 2.43.1 which we have now  \n18:07\u00a0<vmassol>\u00a0hmm  \n18:07\u00a0<vmassol>\u00a0are we sure we had the latest selenium when http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/29/console executed?  \n18:07\u00a0<woshilapin>\u00a0has quit  \n18:08\u00a0<vmassol>\u00a0ah yes  \n18:08\u00a0<vmassol>\u00a0\"Build info: version: '2.43.1', \"  \n18:08\u00a0<mflorea>\u00a0has quit  \n18:09\u00a0<gdelhumeau>\u00a0I have to go  \n18:09\u00a0<gdelhumeau>\u00a0bback in 1h  \n18:10\u00a0<cjd>\u00a0has quit  \n18:12\u00a0<ClemensR>\u00a0but maybe another build has been left over from previous run with an older selenium verison, hogging the port ?  \n18:12\u00a0<vmassol>\u00a0ClemensR: then why don't we see it in both ps and netstat?  \n18:13\u00a0<vmassol>\u00a0see top of http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/29/console  \n18:13\u00a0<ClemensR>\u00a0ok, I has just desperately trying to find an explanation ;) ... did not notice the other checks  \n18:14\u00a0<vmassol>\u00a0hmm I wonder who's run cpp on that machine ;)  \n18:14\u00a0<Enygma`>\u00a0ClemensR: as Marius is suggesting, probably the solution is to parse \"qs\" in pdfoptions.vm and individually escape the values for each forwarded parameter  \n18:15\u00a0<Enygma`>\u00a0gtg  \n18:15\u00a0<Enygma`>\u00a0continuing tomorrow  \n18:16\u00a0<Enygma`>\u00a0has quit  \n18:16\u00a0<ClemensR>\u00a0ah, I missed Marius suggestion. yes, maybe that is a solution, though doing it in velicity ... well, I give it a try  \n18:16\u00a0<ClemensR>\u00a0ah, ok, tommorrow  \n18:26\u00a0<tmortagne>\u00a0has quit  \n18:34\u00a0<FUF\\_>\u00a0is now known as <FUF>  \n18:36\u00a0<vmassol>\u00a0FYI some feedback about DW and speed here: http://www.xwiki.org/xwiki/bin/view/Main/DownloadFormFeedback (top comment)  \n18:55\u00a0<sburjan>\u00a0has joined #xwiki  \n18:56\u00a0<momomomomo>\u00a0has quit  \n18:56\u00a0<KermitTheFragger>\u00a0has quit  \n19:15\u00a0<gdelhumeau>\u00a0back  \n19:19\u00a0<ClemensR>\u00a0hope the escape tests are fixed with my last commit; will check tomorrow. of course everybody feel free to revert that commit if it breaks something  \n19:25\u00a0<Slashman>\u00a0has quit  \n19:31\u00a0<ClemensR>\u00a0has quit  \n19:31\u00a0<lucaa>\u00a0has quit  \n19:43\u00a0<lucaa>\u00a0has joined #xwiki  \n19:44\u00a0<abusenius>\u00a0has joined #xwiki  \n19:57\u00a0<Denis>\u00a0has quit  \n20:01\u00a0<lucaa>\u00a0has quit  \n20:05\u00a0<momomomomo>\u00a0has joined #xwiki  \n20:16\u00a0<gdelhumeau>\u00a0has quit  \n20:19\u00a0<Denis>\u00a0has joined #xwiki  \n20:46\u00a0<vmassol>\u00a0has quit  \n21:10\u00a0<benoitc\\_>\u00a0is now known as <benoitc>  \n21:10\u00a0<benoitc>\u00a0has quit  \n21:30\u00a0<mflorea>\u00a0has joined #xwiki  \n22:52\u00a0<mflorea>\u00a0has quit  \n23:00\u00a0<momomomomo>\u00a0has quit  \n23:23\u00a0<momomomomo>\u00a0has joined #xwiki  \n23:25\u00a0<vmassol>\u00a0has joined #xwiki  \n23:38\u00a0<Denis>\u00a0has quit  \n23:49\u00a0<abusenius>\u00a0has quit  \n23:50\u00a0<vmassol>\u00a0hmm seems we have a problem with http://ci.xwiki.org/job/xwiki-platform\\_Sonar/8/console \u2026. started 23 hours ago ;)  \n23:50\u00a0<vmassol>\u00a0has quit\n"}