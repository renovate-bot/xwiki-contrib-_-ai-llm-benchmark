{"id": "dev:IRC.xwikiArchive20120629", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120629", "title": "IRC Archive for channel #xwiki on 29 June 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:08\u00a0<polx>\u00a0has quit  \n00:16\u00a0<evalica>\u00a0has quit  \n01:05\u00a0<pgmjsd>\u00a0has quit  \n01:08\u00a0<jvelo>\u00a0has quit  \n01:15\u00a0<abusenius>\u00a0has quit  \n01:27\u00a0<jvdrean>\u00a0has quit  \n02:03\u00a0<Enygma`>\u00a0has quit  \n02:32\u00a0<tekzilla>\u00a0has quit  \n02:33\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:22\u00a0<mookins>\u00a0has joined #xwiki  \n03:23\u00a0<mookins>\u00a0DOes anyone know where I can get more information on modify objects on documents with Groovy scripts? I am having a real hard time converting code in Velocity as scripts into a Groovy component (making a Sequence generator)  \n03:24\u00a0<mookins>\u00a0Also does anyone know where I can get the source code for xwiki-core-uin.jar which is http://extensions.xwiki.org/xwiki/bin/view/Extension/Unique+Identification+Number+Plugin?viewer=history&xpage=popup I cannot find it anywhere.  \n03:44\u00a0<@sdumitriu>\u00a0Hi mookins  \n03:45\u00a0<@sdumitriu>\u00a0I can't find the sources anywhere  \n03:45\u00a0<@sdumitriu>\u00a0You should leave a comment on the page  \n03:45\u00a0<@sdumitriu>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Unique+Identification+Number+Module#Comments  \n03:45\u00a0<@sdumitriu>\u00a0And ask for the sources  \n03:46\u00a0<@sdumitriu>\u00a0As for modifying objects from Groovy, the APIs should be the same  \n03:46\u00a0<vdox2\\_>\u00a0has joined #xwiki  \n03:47\u00a0<mookins>\u00a0I am finding I have to add a context to every function call  \n03:48\u00a0<mookins>\u00a0which isn't documented as far as I can tell (I am using 4.0.0) and when I use newObject(String className) it is returning XWiki.DocumentBindingSheet  \n03:48\u00a0<mookins>\u00a0however the objects are still showing up when i go to Edit >> Objects alongside manually creating objects  \n03:48\u00a0<vdox2>\u00a0has quit  \n03:48\u00a0<mookins>\u00a0re: the website, where do I register to be able to leave comments? I can only see a login lik  \n04:17\u00a0<@sdumitriu>\u00a0mookins: If you need the context, then you're not using the proper API  \n04:17\u00a0<@sdumitriu>\u00a0If you go through the xcontext and xwiki variables that are already present in the context when running the script, you should remain in the com.xpn.xwiki.api package  \n04:18\u00a0<@sdumitriu>\u00a0If you need to pass a context, then you're out of the .api package and into com.xpn.xwiki.document  \n04:18\u00a0<mookins>\u00a0Yeah that is the link that the API guide takes you to  \n04:18\u00a0<@sdumitriu>\u00a0Which has the internal, protected classes  \n04:18\u00a0<@sdumitriu>\u00a0Now, if you want to stick to the public API, find out where exactly did you get out of the API in the first place  \n04:19\u00a0<@sdumitriu>\u00a0If you want to stay in the protected space, then the JavaDoc isn't published for that, but you can still look at the sources to see the existing JavaDoc, or the Java code itself  \n04:20\u00a0<mookins>\u00a0No worries, so I am have stepped out somewhere, thank you :)  \n04:20\u00a0<@sdumitriu>\u00a0Sources are at https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/doc/XWikiDocument.java  \n04:20\u00a0<mookins>\u00a0I was following http://extensions.xwiki.org/xwiki/bin/view/Extension/Create+a+component+using+Groovy so I guess that its use of the ExecutionContext is not recommended?  \n04:21\u00a0<@sdumitriu>\u00a0It is, but then you don't have a javadoc  \n04:22\u00a0<@sdumitriu>\u00a0That is the new way of doing code, we're slowly moving away from the monolithical com.xpn.xwiki package into smaller components  \n04:22\u00a0<@sdumitriu>\u00a0But unfortunately the data model and the storage are still working in the old way  \n04:23\u00a0<@sdumitriu>\u00a0So if you're a big data model+storage user, stick to the old way  \n04:23\u00a0<mookins>\u00a0Can you recommend a groovy or java component I can look at to help get me started then, that is in the new style  \n04:24\u00a0<@sdumitriu>\u00a0The new way of accessing the model from components is through https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-bridge/src/main/java/org/xwiki/bridge/DocumentAccessBridge.java  \n04:24\u00a0<@sdumitriu>\u00a0But not all the methods from the old API are available yet  \n04:33\u00a0<mookins>\u00a0No worries I will have a look at that, thanks  \n04:34\u00a0<mookins>\u00a0Is it worthwhile moving to 4.1 over 4.0.1 in terms of progress on this front?  \n04:34\u00a0<mookins>\u00a0and will the eventual componentising of the storage model mean it will be easier to implement more advanced backends/  \n04:35\u00a0<mookins>\u00a0e.g., key-value  \n04:58\u00a0<D-Spair>\u00a0is now known as <DSpair\\_AFK>  \n05:44\u00a0<mookins>\u00a0has quit  \n06:17\u00a0<ries>\u00a0has quit  \n06:56\u00a0<polx>\u00a0has joined #xwiki  \n07:04\u00a0<Denis2>\u00a0has joined #xwiki  \n07:06\u00a0<Denis>\u00a0has quit  \n07:40\u00a0<ssavi>\u00a0sdumitriu: Hi  \n07:48\u00a0<ssavi>\u00a0sdumitriu: documentReference.getContent() \u00a0is returning the content in XWiki syntax.  \n07:48\u00a0<ssavi>\u00a0Is it possible to convert it to text/plain syntax  \n07:54\u00a0<ssavi>\u00a0has quit  \n07:55\u00a0<ssavi>\u00a0has joined #xwiki  \n08:15\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:25\u00a0<@sdumitriu>\u00a0ssavi: Yes, but you must manually render it  \n08:26\u00a0<ssavi>\u00a0I'm quite lost here. Could you point me how? Any component available?  \n08:27\u00a0<@sdumitriu>\u00a0Using a org.xwiki.rendering.parser.Parser to parse the content into an XDOM, and then a org.xwiki.rendering.renderer.BlockRenderer and a org.xwiki.rendering.renderer.printer.WikiPrinter to render that XDOM  \n08:27\u00a0<@sdumitriu>\u00a0You can look at what org.xwiki.rendering.internal.scripting.RenderingScriptService is doing  \n08:28\u00a0<+tmortagne>\u00a0see http://rendering.xwiki.org/  \n08:31\u00a0<ssavi>\u00a0Thanks a lot. Will have a look at it :)  \n08:32\u00a0<ssavi>\u00a0I faced one more issue while extracting the url of the attachments ..  \n08:32\u00a0<tmortagne>\u00a0has quit  \n08:33\u00a0<ssavi>\u00a0used this method : getAttachmentURL(AttachmentReference , boolean)  \n08:33\u00a0<ssavi>\u00a0gave true as boolean value ..  \n08:33\u00a0<ssavi>\u00a0but it is returning the relative url..  \n08:33\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:34\u00a0<ssavi>\u00a0something like this .. \u00a0/xwiki/bin/download/SolrSpace.Amazon/com/sample.pdf  \n08:35\u00a0<@sdumitriu>\u00a0That looks like a bug  \n08:35\u00a0<ssavi>\u00a0Could you please tell me how to get the full URL  \n08:35\u00a0<@sdumitriu>\u00a0Well, you can't at the moment  \n08:35\u00a0<@sdumitriu>\u00a0Report a bug  \n08:35\u00a0<@sdumitriu>\u00a0But why do you need a full URL?  \n08:36\u00a0<ssavi>\u00a0I was extracting the content of the attachments using contentStreamUpdateRequest..  \n08:37\u00a0<ssavi>\u00a0Solr cell will extract the metadata and I can configure to the index fields i want to map in solrconfig  \n08:38\u00a0<ssavi>\u00a0so no need of forming solrInputDocument from my side ..  \n08:57\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* ra85a85a\u000f https://github.com/xwiki/xwiki-platform/commit/a85a85a934e273e673303cff458d84ea293cb9bd \u000f/ (7 files in 7 dirs):\u000f XWIKI-7979: Move platform applications test pages objects to platform - http://git.io/e5NKEg  \n09:15\u00a0<vmassol>\u00a0has joined #xwiki  \n09:19\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:34\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r025345f\u000f https://github.com/xwiki/xwiki-platform/commit/025345f12b48f438e598b6bd9d39f3f09058b065 \u000f/ (7 files):\u000f XWIKI-7986: Failed to deploy on JBoss AS7 with Taglib errors - http://git.io/PsAGWQ  \n09:35\u00a0<vmassol>\u00a0good morning eveyrone  \n09:35\u00a0<vmassol>\u00a0I've just removed struts taglib defs on 4.2M1 since I don't us using them, let me know if you can think of an issue...  \n09:36\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* re9ad26b\u000f https://github.com/xwiki/xwiki-platform/commit/e9ad26b89f4391932eb7fb834dd37ec853a49a26 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f Fix wiki syntax. - http://git.io/zjTSSw  \n09:40\u00a0<polx\\_>\u00a0has joined #xwiki  \n09:42\u00a0<polx>\u00a0has quit  \n09:42\u00a0<polx\\_>\u00a0is now known as <polx>  \n10:14\u00a0<sburjan>\u00a0has joined #xwiki  \n10:29\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* rced3ee3\u000f https://github.com/xwiki/xwiki-commons/commit/ced3ee3e28734c77d5065dbe8de72bbe68a2bacd \u000f/ pom.xml :\u000f XCOMMONS-204: Upgrade to reflections 0.9.8 - http://git.io/F\\_rs8A  \n10:37\u00a0<+sburjan>\u00a0Good morning. I just want to point out this before we release 4.1.3: http://jira.xwiki.org/browse/XWIKI-7988  \n10:38\u00a0<vmassol>\u00a0sburjan: if it's a vlocker you should set a fix for to 4.1.3 and mark it blocker  \n10:38\u00a0<vmassol>\u00a0didn't even know we could delete a range  \n10:39\u00a0<+sburjan>\u00a0well doesn't looks so serious to mark it as a blocker... but a second opinion is always welcomed  \n10:39\u00a0<+sburjan>\u00a0vmassol: :)  \n10:39\u00a0<vmassol>\u00a0first  \n10:39\u00a0<vmassol>\u00a0we need to know if it's a regression or not  \n10:39\u00a0<+sburjan>\u00a0but I can put it fixfor 4.1.3  \n10:39\u00a0<vmassol>\u00a0sburjan: I thought you wanted to mark it as blocker  \n10:39\u00a0<vmassol>\u00a0but you're actually asking  \n10:39\u00a0<+sburjan>\u00a0yes, I'm asking.  \n10:40\u00a0<vmassol>\u00a0so let's figure it out together  \n10:40\u00a0<+sburjan>\u00a0ok  \n10:40\u00a0<vmassol>\u00a0so is it a regression?  \n10:40\u00a0<+sburjan>\u00a0let me check a 4.0  \n10:40\u00a0<vmassol>\u00a0or earlier  \n10:40\u00a0<vmassol>\u00a0try 3.5.x  \n10:40\u00a0<+sburjan>\u00a0ok  \n10:40\u00a0<+sburjan>\u00a0just as sec  \n10:42\u00a0<+sburjan>\u00a0cannot reproduce on 4.0  \n10:42\u00a0<vmassol>\u00a0so can you mark as regression and blocker and fix for 4.1.3 + comment that it works on 4.0?  \n10:43\u00a0<+sburjan>\u00a0yep, doing  \n10:43\u00a0<vmassol>\u00a0now we need to find a dev who can check this out  \n10:43\u00a0<+sburjan>\u00a0no no.. I mean it works on 4.0  \n10:43\u00a0<vmassol>\u00a0any volunteer?  \n10:43\u00a0<vmassol>\u00a0no what?  \n10:43\u00a0<+sburjan>\u00a0I am unable to delete history range on 4.0  \n10:43\u00a0<+sburjan>\u00a0so it's only in 4.1, 4.1.1, etc  \n10:43\u00a0<vmassol>\u00a0unable?  \n10:43\u00a0<vmassol>\u00a0it hought you said it works on 4.0  \n10:43\u00a0<+sburjan>\u00a0able .. I confused you  \n10:44\u00a0<+sburjan>\u00a0it works  \n10:44\u00a0<+sburjan>\u00a0it doesn't work in 4.1.2  \n10:44\u00a0<vmassol>\u00a0so why do you say \"no no\"  \n10:44\u00a0<vmassol>\u00a0?  \n10:44\u00a0<+sburjan>\u00a0because I was thinking you understoon the oposite :)  \n10:44\u00a0<vmassol>\u00a0nope, that's why I asked you to mark it as blocker  \n10:44\u00a0<vmassol>\u00a0because it's a regression  \n10:45\u00a0<+sburjan>\u00a0ok, doing  \n10:46\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r140e81b\u000f https://github.com/xwiki/xwiki-platform/commit/140e81bec9c5493d63b764b4b8a5680e61fbaad1 \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/WEB-INF/jboss-deployment-structure.xml :\u000f XWIKI-7987: Failed to deploy on JBoss AS7 with SLF4J class cast exception - http://git.io/emuHkA  \n10:46\u00a0<+sburjan>\u00a0vmassol: I don't have enough rights to set the FixFor field  \n10:51\u00a0<+tmortagne>\u00a0sburjan: done  \n10:51\u00a0<vmassol>\u00a0me too  \n10:51\u00a0<vmassol>\u00a0nice it merged both  \n10:52\u00a0<+tmortagne>\u00a0yep  \n10:52\u00a0<+sburjan>\u00a0I've aadded a new comment, seems to be happening on other WebHomes also, so this is indeed a unpleasant issue  \n10:55\u00a0<vmassol>\u00a0so is there any dev who could work on http://jira.xwiki.org/browse/XWIKI-7988 ?  \n10:58\u00a0<+sburjan>\u00a0vmassol, tmortagne : thanks for helping sorting out this issue  \n10:59\u00a0<vmassol>\u00a0np but it's not sorted out yet ;)  \n10:59\u00a0<+sburjan>\u00a0at least you confirmed it's a blocker ;)  \n10:59\u00a0<+tmortagne>\u00a0sburjan: well glad you found it now, would not be nice to release a 4.1.4 for this  \n11:01\u00a0<+sburjan>\u00a0it would be uber cool to have some automated tests after we fix this  \n11:01\u00a0<vmassol>\u00a0definitely yes  \n11:01\u00a0<vmassol>\u00a0that's how errors should be fixed: create test, show it fails, fix error, make test pass  \n11:02\u00a0<vmassol>\u00a0so it's not after, it's before ,)  \n11:02\u00a0<+sburjan>\u00a0Marius wrote some diff/history tests already, so the PO's should be already there  \n11:02\u00a0<vmassol>\u00a0;)  \n11:02\u00a0<vmassol>\u00a0yep  \n11:02\u00a0<+sburjan>\u00a0yes, you're TDD style :)  \n11:02\u00a0<+tmortagne>\u00a0yep I think the required PO are here or at least most of it  \n11:03\u00a0<vmassol>\u00a0it's the only way to guarantee that your test works  \n11:03\u00a0<vmassol>\u00a0(you need to make it fail when the error is not fixed)  \n11:06\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:06\u00a0<evalica>\u00a0has joined #xwiki  \n11:08\u00a0<+tmortagne>\u00a0sburjan, vmassol: wan't reproduce XWIKI-7988 on last 4.2 build  \n11:09\u00a0<+tmortagne>\u00a0created 4 version on Test.History pas and deleted a range between second and third version  \n11:09\u00a0<+tmortagne>\u00a0s/pas/page/  \n11:10\u00a0<+sburjan>\u00a0try with a WebHome page  \n11:10\u00a0<+sburjan>\u00a0Marius was able to reproduce it yesterday, and he was on a 4.2 snap  \n11:10\u00a0<+tmortagne>\u00a0trying on Main.WebHome  \n11:10\u00a0<+tmortagne>\u00a0could you try what I tried ?  \n11:11\u00a0<+sburjan>\u00a0yes  \n11:13\u00a0<+sburjan>\u00a0hmm.. Test.WebHome passes, Test.History passes, but Main.WebHome still fails  \n11:14\u00a0<+sburjan>\u00a0so it seems to be related with existing WebHome pages, not the new ones you create  \n11:15\u00a0<+sburjan>\u00a0try to reproduce it on Main.WebHome  \n11:15\u00a0<vmassol>\u00a0bb in 15mn  \n11:15\u00a0<+tmortagne>\u00a0sburjan: I can indeed reprroduce on Main.WebHome  \n11:16\u00a0<+tmortagne>\u00a0so it's specific to this page or to all WebHome pages  \n11:16\u00a0<+tmortagne>\u00a0ha missread what you said so only Main.ebHome  \n11:16\u00a0<+tmortagne>\u00a0an importer bug then  \n11:16\u00a0<+tmortagne>\u00a0probably  \n11:17\u00a0<+tmortagne>\u00a0since that's the only difference  \n11:17\u00a0<+tmortagne>\u00a0sburjan: can you reproduce on an existing page which is not a WebHome ?  \n11:18\u00a0<+tmortagne>\u00a0weird thing is that I don't get anything in the log when it fail  \n11:19\u00a0<+tmortagne>\u00a0I can reproduce on Main.AllDocs  \n11:19\u00a0<+sburjan>\u00a0I am able to reproduce on Sandbox/TestPage1, which is not a WebHome page ..  \n11:19\u00a0<+sburjan>\u00a0I am officially confused  \n11:20\u00a0<+sburjan>\u00a0also reproduced on Blog/BlogIntroduction  \n11:22\u00a0<+sburjan>\u00a0seems that I can reproduce with every page that comes with XE  \n11:27\u00a0<ssavi>\u00a0has quit  \n11:27\u00a0<ssavi>\u00a0has joined #xwiki  \n11:37\u00a0<+sburjan>\u00a0tmortagne: might be, but if you delete individual versions it works  \n11:42\u00a0<+tmortagne>\u00a0sburjan: just teste with a page installed with EM and it works well  \n11:42\u00a0<+tmortagne>\u00a0(EM has its how importer)  \n11:44\u00a0<+sburjan>\u00a0yes, tried Jira Macro and seems you are right, I didn't had the issue  \n11:45\u00a0<+tmortagne>\u00a0node that the way pages are imported to create the jetty/hsqldb database is a pile  \n11:45\u00a0<+tmortagne>\u00a0we should try to import some xar with standard importer  \n11:45\u00a0<+tmortagne>\u00a0and check  \n11:46\u00a0<+tmortagne>\u00a0s/pile/pile of hacks/  \n11:46\u00a0<+tmortagne>\u00a0so see if it's an importer bug or packager maven plugin bug  \n11:47\u00a0<+sburjan>\u00a0can you check that ? because I have to go for 20 minutes  \n11:48\u00a0<+tmortagne>\u00a0doing a quick test, note that I'm not working this afternoon so I won't be able to do much much until Monday  \n11:51\u00a0<+tmortagne>\u00a0sburjan: seems to be a packager bug...  \n11:56\u00a0<+tmortagne>\u00a0added my findings to the issue  \n12:09\u00a0<+sburjan>\u00a0tmortagne: odd thing is that on 4.0 it works .. jetty+hsqldb  \n12:10\u00a0<+tmortagne>\u00a0probably a side effect of something else, doing an import trigger a lot of things  \n12:11\u00a0<+tmortagne>\u00a0and the packager just emulate a XWiki runtime so it maybe be missing some init required by some new stuff I don't know  \n12:11\u00a0<polx>\u00a0has quit  \n12:51\u00a0<+sburjan>\u00a0tmortagne: fails on MySQL also ..  \n12:51\u00a0<+sburjan>\u00a0:(  \n12:52\u00a0<+tmortagne>\u00a0sburjan: what do you mean ?  \n12:52\u00a0<+tmortagne>\u00a0you imported a xar and you reproduce it on its pages ?  \n12:52\u00a0<+sburjan>\u00a0I have a jetty + MySQL instance, and I imported the XAR. And it still fails deleting the history range  \n12:52\u00a0<+sburjan>\u00a0yes  \n12:52\u00a0<+tmortagne>\u00a0well I tried it too  \n12:52\u00a0<+tmortagne>\u00a0imported admin tool  \n12:52\u00a0<+tmortagne>\u00a0and I can't reproduce  \n12:52\u00a0<+tmortagne>\u00a0on Admin.WebHome  \n12:53\u00a0<+tmortagne>\u00a0tried with all importer modes  \n12:53\u00a0<+tmortagne>\u00a0which one did you tried ?  \n12:53\u00a0<+sburjan>\u00a0I used the import menu fomr Admin App ... uploaded the xar, imported the xar, and tested Main.WebHome  \n12:54\u00a0<+sburjan>\u00a0so it's not just the jetty+hsqldb bundle which fails  \n12:57\u00a0<tmortagne>\u00a0has quit  \n13:05\u00a0<ssavi>\u00a0has quit  \n13:55\u00a0<mflorea>\u00a0has joined #xwiki  \n14:13\u00a0<cjd>\u00a0has quit  \n14:15\u00a0<cjd>\u00a0has joined #xwiki  \n14:36\u00a0<vmassol>\u00a0pfew that was a nice investigation: http://jira.xwiki.org/browse/XWIKI-7984 ;)  \n14:57\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r72319dc\u000f https://github.com/xwiki/xwiki-platform/commit/72319dc82060224e7f55eada9c6a07b7d5c67b5f \u000f/ (5 files):\u000f XWIKI-7983: Add test page objects for the Extension Manager UI - http://git.io/HC13ng  \n15:00\u00a0<vdox2\\_>\u00a0is now known as <vdox2>  \n15:01\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r96b9040\u000f https://github.com/xwiki/xwiki-enterprise/commit/96b90408920bcae32d6d334554d7a9d14af1d663 \u000f/ (2 files in 2 dirs):\u000f XE-1204: Add functional tests for Extension Manager - http://git.io/iAH35w  \n15:04\u00a0<vmassol>\u00a0guys it seems that on the import page we send a form with more than 512 fields. (see http://jira.xwiki.org/browse/XWIKI-7989)  \n15:04\u00a0<vmassol>\u00a0add an input field for each space/document/version  \n15:05\u00a0<vmassol>\u00a0in importinline.vm  \n15:05\u00a0<vmassol>\u00a0(even 2)  \n15:05\u00a0<vmassol>\u00a0since we have quite a lot of docs now in the default XE XAR it's more than 512 fields in total  \n15:06\u00a0<vmassol>\u00a0Tomcat in JBoss complains, but they have a param I can configure  \n15:06\u00a0<vmassol>\u00a0now I'm wondering if our approach is the right one  \n15:06\u00a0<vmassol>\u00a0since I'm not an HTML expert I'm bringing this subject here  \n15:06\u00a0<DSpair\\_AFK>\u00a0is now known as <D-Spair>  \n15:06\u00a0<vmassol>\u00a0any idea?  \n15:22\u00a0<jvdrean>\u00a0has quit  \n15:22\u00a0<jvdrean>\u00a0has joined #xwiki  \n15:39\u00a0<@sdumitriu>\u00a0evalica: Could you look at http://markmail.org/message/6wbv4qy4hjxdrbie and say what you think?  \n15:49\u00a0<vmassol>\u00a0sdumitriu: writing a renderer is really hard in practice\u2026 writing a failing renderer is easy though :)  \n15:49\u00a0<vmassol>\u00a0s/failing/incomplete  \n15:50\u00a0<vmassol>\u00a0with thomas we wanted to offer some tooling to help more but we've never been able to spend the time to do so  \n15:54\u00a0<+evalica>\u00a0sdumitriu: k - i'll have a look  \n15:54\u00a0<+sburjan>\u00a0vmassol, mflorea sdumitriu: could you reply to the e-mail I've send monday on devlist \"Improved supported database testing and testing results\" ? I am more interested in the 1) point  \n15:55\u00a0<vmassol>\u00a0sburjan: doing it now  \n15:56\u00a0<+sburjan>\u00a0thanks  \n16:03\u00a0<vmassol>\u00a0done  \n16:38\u00a0<CIA-114>\u00a0Eduard Moraru\u000f master\u000f \\* rdc46c19\u000f https://github.com/xwiki/xwiki-platform/commit/dc46c19137475d283d1b9fc3ceb5cb86c18eda01 \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/io/internal/migration/hibernate/R40001XWIKI7540DataMigration.java :\u000f XWIKI-7981: R40001XWIKI7540DataMigration fails on duplicate entry - http://git.io/xDLZGA  \n16:39\u00a0<CIA-114>\u00a0Eduard Moraru\u000f stable-4.1.x\u000f \\* r102b971\u000f https://github.com/xwiki/xwiki-platform/commit/102b971e61f35e744141f11a8cc79886ff7c06b2 \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/io/internal/migration/hibernate/R40001XWIKI7540DataMigration.java :\u000f XWIKI-7981: R40001XWIKI7540DataMigration fails on duplicate entry - http://git.io/xsxxIQ  \n16:41\u00a0<CIA-114>\u00a0Eduard Moraru\u000f stable-4.0.x\u000f \\* rc43732b\u000f https://github.com/xwiki/xwiki-platform/commit/c43732b443846f708fef3a0b6ff75505d02df3a5 \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/io/internal/migration/hibernate/R40001XWIKI7540DataMigration.java :\u000f XWIKI-7981: R40001XWIKI7540DataMigration fails on duplicate entry - http://git.io/DGoZAA  \n16:44\u00a0<vmassol>\u00a0hmm I wonder why this macro is not installable with the EM  \n16:56\u00a0<pgmjsd>\u00a0has joined #xwiki  \n16:56\u00a0<+sburjan>\u00a0If I create a new page, how long should it take for to be indexed by lucene ?  \n16:56\u00a0<vmassol>\u00a0not long  \n16:56\u00a0<vmassol>\u00a0:)  \n16:57\u00a0<+sburjan>\u00a0because I create a page with SearchPage .. and I search for Search \u00a0... nothing found.. but if I write for SearchPage the page is found  \n16:57\u00a0<+sburjan>\u00a0and it looks odd for me ... I know lucene searches in the content too, but page titles should be found also  \n16:58\u00a0<+sburjan>\u00a0at least that would make sense  \n16:58\u00a0<+sburjan>\u00a0should I report this ?  \n16:59\u00a0<vmassol>\u00a0actually by efault it's 30 seconds: \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0indexingInterval = 1000 \\* (int) context.getWiki().ParamAsLong(PROP\\_INDEXING\\_INTERVAL, 30);  \n17:00\u00a0<vmassol>\u00a0no  \n17:00\u00a0<+sburjan>\u00a0Search Suggest feature finds it  \n17:00\u00a0<vmassol>\u00a0s/no//  \n17:00\u00a0<+sburjan>\u00a0but classic search doesn't  \n17:01\u00a0<+sburjan>\u00a0and it has been indexed, because I see 0 in Number of elements in indexing queue  \n17:01\u00a0<vmassol>\u00a0actually it's no 30 sec  \n17:02\u00a0<vmassol>\u00a0hmm I can't undertand the algorithm  \n17:02\u00a0<vmassol>\u00a0doesn't make sense  \n17:02\u00a0<vmassol>\u00a0:)  \n17:02\u00a0<+sburjan>\u00a0impossible :)  \n17:02\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0int sleepInterval = Math.min(EXIT\\_INTERVAL, this.indexingTimer);  \n17:02\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.indexingTimer -= sleepInterval;  \n17:02\u00a0<vmassol>\u00a0Thread.sleep(sleepInterval);  \n17:03\u00a0<vmassol>\u00a0and initially indexingTime = 30000  \n17:03\u00a0<vmassol>\u00a0that's teh code in an ifniinte loop for the thread  \n17:04\u00a0<vmassol>\u00a0and EXIT\\_INTERVAL is 3000  \n17:04\u00a0<vmassol>\u00a0so first run: sleepInterval = min (3000, 30000) = 3000  \n17:04\u00a0<vmassol>\u00a0then second run: min (3000, 30000-3000) = 3000  \n17:05\u00a0<vmassol>\u00a0then next one: min (3000, 30000-3000-3000) = 3000  \n17:05\u00a0<vmassol>\u00a0but at some point it'll be negative  \n17:06\u00a0<+sburjan>\u00a0either way, if Search Suggest finds it and classic search finds it only if I enter the \\_full\\_ page name. Searching for \"searchpag\" still doesn't find it. I have to type \"searchpage\". This is very odd  \n17:07\u00a0<+sburjan>\u00a0I know we discussed a lot about result weighting ... but it's not normal for this to not find the page at all, even if it would be at the end of the list  \n17:07\u00a0<evalica>\u00a0has quit  \n17:08\u00a0<+sburjan>\u00a0if you have a local instance you could try to reproduce .. maybe it's me doing something wrong  \n17:11\u00a0<Enygma`>\u00a0has quit  \n17:17\u00a0<sdumitriu>\u00a0has quit  \n17:26\u00a0<+sburjan>\u00a0vmassol: should I report this ? It looks pretty serious  \n17:29\u00a0<vmassol>\u00a0that's \"normal\"  \n17:29\u00a0<vmassol>\u00a0and it's already been reported 10 times  \n17:29\u00a0<vmassol>\u00a0it's even documented  \n17:29\u00a0<vmassol>\u00a0hold on  \n17:30\u00a0<vmassol>\u00a0see http://extensions.xwiki.org/xwiki/bin/view/Extension/Search+Application+Query+Syntax  \n17:30\u00a0<vmassol>\u00a0btw that's one of the reason we'd like to use solr or such an extension  \n17:31\u00a0<vmassol>\u00a0you need to use \"searchpage\\*\"  \n17:31\u00a0<+sburjan>\u00a0yes, it works with \\* .. thanks  \n17:32\u00a0<+sburjan>\u00a0but this is very very bad for simple users. But I'm sure you know this better than me  \n17:32\u00a0<vmassol>\u00a0we all agree  \n17:32\u00a0<+sburjan>\u00a0going home, have a nice weekend vmassol  \n17:32\u00a0<vmassol>\u00a0(that it's bad)  \n17:32\u00a0<vmassol>\u00a0thanks, u2  \n17:32\u00a0<sburjan>\u00a0has quit  \n17:33\u00a0<mflorea>\u00a0has quit  \n18:01\u00a0<pgmjsd>\u00a0has quit  \n18:19\u00a0<jvdrean>\u00a0has quit  \n18:29\u00a0<jvdrean>\u00a0has joined #xwiki  \n18:30\u00a0<jvdrean>\u00a0has quit  \n19:13\u00a0<pgmjsd>\u00a0has joined #xwiki  \n19:17\u00a0<ssavi>\u00a0has joined #xwiki  \n19:18\u00a0<CIA-114>\u00a0Denis Gervalle\u000f master\u000f \\* r19734d0\u000f https://github.com/xwiki/xwiki-platform/commit/19734d0d3c506eb76cbf815ee69e87cddc623070 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/migration/hibernate/R40000XWIKI6990DataMigration.java :\u000f XWIKI-7992: Improve performance of R40000XWIKI6990 for migrating large wikis and wiki farm - http://git.io/16HtFg  \n19:20\u00a0<CIA-114>\u00a0Denis Gervalle\u000f stable-4.1.x\u000f \\* r4abe214\u000f https://github.com/xwiki/xwiki-platform/commit/4abe214ff78e1f4d725f3c101fcae5758a2cf6a4 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/migration/hibernate/R40000XWIKI6990DataMigration.java :\u000f XWIKI-7992: Improve performance of R40000XWIKI6990 for migrating large wikis and wiki farm - http://git.io/0xiYig  \n19:53\u00a0<abusenius>\u00a0has joined #xwiki  \n21:52\u00a0<ssavi>\u00a0has left #xwiki  \n23:55\u00a0<abusenius>\u00a0has quit  \n\n"}