{"id": "dev:IRC.xwikiArchive20150805", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150805", "title": "IRC Archive for channel #xwiki on 05 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:46\u00a0<vmassol>\u00a0has quit  \n01:10\u00a0<tmortagne>\u00a0has joined #xwiki  \n01:22\u00a0<tmortagne>\u00a0has quit  \n01:33\u00a0<cjd>\u00a0has joined #xwiki  \n01:34\u00a0<cjd>\u00a0is now known as <Guest94410>  \n04:58\u00a0<vmassol>\u00a0has joined #xwiki  \n04:59\u00a0<vmassol>\u00a0has quit  \n05:00\u00a0<vmassol>\u00a0has joined #xwiki  \n05:08\u00a0<vmassol>\u00a0has quit  \n06:50\u00a0<mflorea>\u00a0has joined #xwiki  \n07:01\u00a0<mflorea>\u00a0has quit  \n07:24\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:41\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:58\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:16\u00a0<Slashman>\u00a0has joined #xwiki  \n09:26\u00a0<vmassol>\u00a0has joined #xwiki  \n10:02\u00a0<Ramona2>\u00a0has joined #xwiki  \n10:32\u00a0<vmassol>\u00a0good morning everyone  \n10:33\u00a0<vmassol>\u00a0Marius will arrive a bit late today FYI  \n10:33\u00a0<vmassol>\u00a0(he warned me)  \n10:33\u00a0<vmassol>\u00a0so today is supposed to be the release day for 7.2M2 but we're not ready  \n10:33\u00a0<vmassol>\u00a0oh nice: slack integration :)  \n11:02\u00a0<mflorea>\u00a0has joined #xwiki  \n11:26\u00a0<tmortagne>\u00a0[WARN] Restarting xwiki.org in 10 minutes  \n11:26\u00a0<vmassol>\u00a0@all: sent a mail about the 7.2M2 release  \n11:47\u00a0<Ramona2>\u00a0has quit  \n12:29\u00a0<vmassol>\u00a0mflorea: any idea why we don't always call waitUntilPageIsLoaded in the constructor for WYSIWYGEditPage?  \n12:30\u00a0<vmassol>\u00a0(right now the test itself has to do it in 2 steps and call waitUntilPageIsLoaded() which is not ideal  \n12:30\u00a0<vmassol>\u00a0)  \n12:31\u00a0<mflorea>\u00a0there may be some tests that need to perform some action before the editor is loaded. For instance, I thin that there are some tests that check that you can switch to Source mode before \u00a0the editor is loaded.  \n12:31\u00a0<Ramona2>\u00a0has joined #xwiki  \n12:31\u00a0<vmassol>\u00a0sure that's ok we can have a constructor with a boolean :)  \n12:32\u00a0<vmassol>\u00a0(for the special cases)  \n12:32\u00a0<vmassol>\u00a0btw the wait is failing on my mac, trying to figure out why  \n12:33\u00a0<mflorea>\u00a0ok, I'm fine with calling wait in the constructor but we need to review the tests  \n12:33\u00a0<vmassol>\u00a0actually waitToLoad() seems to be waiting for the source tab to be present  \n12:33\u00a0<vmassol>\u00a0not only  \n12:35\u00a0<vmassol>\u00a0ah forget that  \n12:35\u00a0<vmassol>\u00a0it's failjg because I'm not in a wysiwyg editor ;)  \n12:38\u00a0<woshilapin>\u00a0has quit  \n13:06\u00a0<vmassol>\u00a0mflorea, tmortagne: I think we need to modify all our test framework APIs to use DocumentReference instead of passing spaces and pages  \n13:06\u00a0<vmassol>\u00a0\\*functional test fwk  \n13:27\u00a0<vmassol>\u00a0either that or we use serialized String references  \n13:34\u00a0<woshilapin>\u00a0has joined #xwiki  \n13:46\u00a0<mflorea>\u00a0vmassol: big +1  \n13:46\u00a0<Trefex>\u00a0has joined #xwiki  \n13:54\u00a0<tmortagne>\u00a0vmassol: will make things more clear  \n14:18\u00a0<vmassol>\u00a0what do you prefer:  \n14:18\u00a0<vmassol>\u00a01) getUtil().deletePage(new DocumentReference(\"xwiki\",  \n14:18\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0Arrays.asList(getTestClassName(), TEMPLATE\\_NAME + \"Instance\"), \"WebHome\"));  \n14:18\u00a0<vmassol>\u00a0or  \n14:18\u00a0<vmassol>\u00a02) getUtil().deletePage(getTestClassName() + \".\" + TEMPLATE\\_NAME + \"Instance\" + \".WebHome\");  \n14:18\u00a0<vmassol>\u00a0the second one seems more readable no?  \n14:19\u00a0<vmassol>\u00a0we can have both though  \n14:19\u00a0<vmassol>\u00a0or  \n14:19\u00a0<vmassol>\u00a03) getUtil().deletePage(getUtil().resolveReference(getTestClassName() + \".\" + TEMPLATE\\_NAME + \"Instance\" + \".WebHome\"));  \n14:24\u00a0<vmassol>\u00a0I think 1) + 3) is the best, as otherwise it's going to be complex to have to double all APIs  \n14:57\u00a0<vmassol>\u00a0mflorea: could you check the mail I sent this morning about the release date?  \n15:11\u00a0<mflorea>\u00a0vmassol: answered  \n15:11\u00a0<vmassol>\u00a0thx  \n15:12\u00a0<vmassol>\u00a0ok so we're trying to shoot for tomorrow  \n15:12\u00a0<mflorea>\u00a0yes  \n15:14\u00a0<vmassol>\u00a0I got drawn into a rabbit hole on my side\u2026 trying to get out but not sure I'll succeed\u2026 I need to set a limit; if I don't get out in 1 hour time, I need to drop all my work and go back to just fixing the func test in enterprise (I'm still trying to move the CreatePageTest to platform)  \n16:08\u00a0<xwikiorg\\_guest\\_8>\u00a0has joined #xwiki  \n16:08\u00a0<xwikiorg\\_guest\\_8>\u00a0why does search suggest doesnot show any suggestions in xwiki?  \n16:09\u00a0<xwikiorg\\_guest\\_8>\u00a0but when I hit enter it shows results  \n16:09\u00a0<vmassol>\u00a0probably saved with a user not having PR  \n16:09\u00a0<xwikiorg\\_guest\\_8>\u00a0what is PR and how to enable it  \n16:11\u00a0<vmassol>\u00a0mflorea should know better, I think there's a page for search suggest and it needs to be saved with a user having Programming Rights (PR)  \n16:12\u00a0<xwikiorg\\_guest\\_8>\u00a0I am the Admin of that wiki so dont I have PR by default  \n16:14\u00a0<mflorea>\u00a0xwikiorg\\_guest\\_8: search suggest and search page (and what you get after you press enter) are not quite the same. The first does a \\*targeted\\* search (i.e. it looks for specified information, matching only some specific fields, which you can configure from the corresponding administration section), while the search page does a \\*generic\\* search, looking everywhere (in all the fields).  \n16:15\u00a0<vmassol>\u00a0mflorea: this screams for a FAQ entry :)  \n16:19\u00a0<xwikiorg\\_guest\\_8>\u00a0I get it and why it is shoiwing no result, I have a sames setup in my local machine and my server, but the search results are showing up in search suggest of the local but not in the server  \n16:27\u00a0<vmassol>\u00a0xwikiorg\\_guest\\_8: you get it or you don't get it?  \n16:27\u00a0<vmassol>\u00a0ie you need more help or you're ok?  \n16:30\u00a0<xwikiorg\\_guest\\_8>\u00a0i need more help!  \n16:30\u00a0<xwikiorg\\_guest\\_8>\u00a0I gave PR to a group and still no results are showing up  \n16:31\u00a0<mflorea>\u00a0PR is not checked against current user but against the author of the page that contains the script/code  \n16:31\u00a0<vmassol>\u00a0mflorea: is there a page to resave with PR for search suggest?  \n16:33\u00a0<Trefex>\u00a0has quit  \n16:33\u00a0<xwikiorg\\_guest\\_8>\u00a0okay  \n16:34\u00a0<xwikiorg\\_guest\\_8>\u00a0in the main wiki I \u00a0am getting suggestions thanks for your help  \n16:34\u00a0<xwikiorg\\_guest\\_8>\u00a0what should I do if I need the same search suggest in my sub wiki's\\  \n16:36\u00a0<mflorea>\u00a0check if you have the XWiki.SearchSuggestConfig page present in your subwiki  \n16:37\u00a0<Trefex>\u00a0has joined #xwiki  \n16:38\u00a0<xwikiorg\\_guest\\_8>\u00a0I have that page  \n16:38\u00a0<xwikiorg\\_guest\\_8>\u00a0and it is activated  \n16:38\u00a0<mflorea>\u00a0and the list of sources is not empty?  \n16:38\u00a0<mflorea>\u00a0for Solr  \n16:39\u00a0<xwikiorg\\_guest\\_8>\u00a0no its not empty  \n16:41\u00a0<mflorea>\u00a0what browser are you using?  \n16:41\u00a0<xwikiorg\\_guest\\_8>\u00a0chrome and also firefox  \n16:43\u00a0<mflorea>\u00a0ok, in Firefox, open the dev tools (right click + Inspect Element anywhere on the page), select the network tab, reload the page, clear the network tab (bottom right corner), then type something in the search suggest. Are there any requests made? You should see requests made to XWiki.SuggestLuceneService  \n16:47\u00a0<mflorea>\u00a0XWiki.SuggestSolrService actually  \n16:53\u00a0<xwikiorg\\_guest\\_8>\u00a0no  \n17:00\u00a0<Ramona2>\u00a0has quit  \n17:05\u00a0<mflorea>\u00a0vmassol, tmortagne: I have an issue with serializing/resolving relative nested doc ref  \n17:05\u00a0<mflorea>\u00a0https://gist.github.com/mflorea/9a23c31c2c82070e4509  \n17:06\u00a0<mflorea>\u00a0is this a problem with the compact serializer?  \n17:07\u00a0<tmortagne>\u00a0not exactly, they don't behave exactly the same way  \n17:08\u00a0<vmassol>\u00a0I'm not sure what resolving a space name when the base ref has several spaces would mean  \n17:08\u00a0<tmortagne>\u00a0compact is supposed to compare with the reference you give it which is what it's doing, maybe we should tell it to only compare full types and not just the references elements  \n17:09\u00a0<tmortagne>\u00a0resolveDocument cannot really behave any other way  \n17:09\u00a0<mflorea>\u00a0then the question is how can I resolve a relative ref that was serialized with the compact serializer?  \n17:09\u00a0<tmortagne>\u00a0it's only supposed to fill the blank  \n17:09\u00a0<tmortagne>\u00a0and there is a space  \n17:09\u00a0<mflorea>\u00a0I don't think there is a \"compact\" resolver  \n17:10\u00a0<tmortagne>\u00a0what you want could not be called compact since it does not have anything to do with that  \n17:10\u00a0<mflorea>\u00a0or maybe the compact serializer should prefix with . the relative reference if the first type is not complete  \n17:10\u00a0<tmortagne>\u00a0what you want is concatenate two reference in practice here  \n17:11\u00a0<Ramona1>\u00a0has joined #xwiki  \n17:11\u00a0<tmortagne>\u00a0given your use case you should use relative resolver and add your base reference as parent  \n17:11\u00a0<xwikiorg\\_guest\\_8>\u00a0has quit  \n17:12\u00a0<tmortagne>\u00a0now we could imagine some resolver that do all that, just need to find a name for it  \n17:12\u00a0<xwikiorg\\_guest\\_9>\u00a0has joined #xwiki  \n17:12\u00a0<mflorea>\u00a0well, the script I linked is just to show the problem. My use case is this:  \n17:12\u00a0<xwikiorg\\_guest\\_9>\u00a0+mflorea  \n17:12\u00a0<xwikiorg\\_guest\\_9>\u00a0regarding the search suggest thing  \n17:13\u00a0<xwikiorg\\_guest\\_9>\u00a0when I enabled network option in developer menu  \n17:13\u00a0<xwikiorg\\_guest\\_9>\u00a0no more search results are showing up  \n17:13\u00a0<mflorea>\u00a0the WYSIWYG editor uses the compact serializer when generating the links. So if you select A.B.C.WebHome from the tree and the current page is A.WebHome then the editor will generate [[label>>B.C.WebHome]] which doesn't work  \n17:14\u00a0<mflorea>\u00a0because the rendering uses a standard resolver  \n17:15\u00a0<tmortagne>\u00a0maybe we should modify the compact serializer to be based on the type and not on the reference element since that's what any non nested space code will expect  \n17:16\u00a0<tmortagne>\u00a0then we can introduce a \"relative\" serializer which is based on each reference element separately and which put . in front of the reference in case it's relative to another space  \n17:16\u00a0<tmortagne>\u00a0sounds like the safest thing to do IMO  \n17:18\u00a0<tmortagne>\u00a0so make \"compact\" type based and \"relative\" reference based  \n17:18\u00a0<vmassol>\u00a0+1 for \"fixing\" compact  \n17:18\u00a0<tmortagne>\u00a0but \"relative\" would be for later, from what I understood we don't need it yet, it's just an idea  \n17:19\u00a0<tmortagne>\u00a0(just to say that the current \"compact\" behavior could be moved to another serializer with a name that make sense)  \n17:20\u00a0<mflorea>\u00a0yes, the only downside is that we'll have lots of links to nested docs where the full nested space hierarchy is specified, which means more work during rename  \n17:20\u00a0<KermitTheFragger>\u00a0has quit  \n17:21\u00a0<tmortagne>\u00a0what link should support is yet another discussion  \n17:21\u00a0<mflorea>\u00a0yes  \n17:21\u00a0<tmortagne>\u00a0are you taking care of CompactStringEntityReferenceSerializer or do you want me to look at it ?  \n17:23\u00a0<mflorea>\u00a0if you have time then go ahead, I still need to work on plugging the refactoring API (this was just something I noticed while changing the editor to use the nested doc tree and trying to create a link)  \n17:24\u00a0<tmortagne>\u00a0ok will do, I'm done with 7.2M2 work on my side  \n17:24\u00a0<mflorea>\u00a0great, thanks  \n17:33\u00a0<xwikiorg\\_guest\\_9>\u00a0has quit  \n17:34\u00a0<xwikiorg\\_guest\\_1>\u00a0has joined #xwiki  \n17:35\u00a0<xwikiorg\\_guest\\_1>\u00a0Hi, There is no response from xwiki search suggest and no results shown  \n17:38\u00a0<vmassol>\u00a0mflorea: (asking again) is there a page to resave with PR for search suggest?  \n17:39\u00a0<mflorea>\u00a0XWiki.SuggestSolrService, but if there is no AJAX request made to this page then it won't have any difference  \n17:40\u00a0<xwikiorg\\_guest\\_1>\u00a0I think no Ajax request are made  \n17:40\u00a0<vmassol>\u00a0what page is doing the ajax requests?  \n17:41\u00a0<mflorea>\u00a0the current page  \n17:41\u00a0<mflorea>\u00a0when you type in the search suggest input  \n17:41\u00a0<vmassol>\u00a0ok so in searchsuggest.js  \n17:41\u00a0<mflorea>\u00a0searchSuggest.js  \n17:41\u00a0<mflorea>\u00a0yes  \n17:42\u00a0<xwikiorg\\_guest\\_1>\u00a0I am in firefox dev tools networks tab and when I type a query in search suggest search box  \n17:42\u00a0<xwikiorg\\_guest\\_1>\u00a0no requests are made  \n17:43\u00a0<vmassol>\u00a0what version of XWiki are you using btw?  \n17:43\u00a0<xwikiorg\\_guest\\_1>\u00a07.2 milestone 1  \n17:43\u00a0<mflorea>\u00a0you can open the Debugger tab from Firefox dev tools and look for searchSuggest.js, select it and search for \"var sources = [\" in its content. If you have \"var sources = [];\" then it means no sources are found, for some reason. Otherwise, if there are source, it means the problem is elsewhere  \n17:43\u00a0<mflorea>\u00a0arrr  \n17:44\u00a0<mflorea>\u00a0it doesn't work on 7.2M1 due to nested spaces  \n17:44\u00a0<mflorea>\u00a07.2M1 is a development version, and with the work on nested spaces/docs, it is far from stable  \n17:45\u00a0<xwikiorg\\_guest\\_1>\u00a0okay then which is the stable version  \n17:45\u00a0<vmassol>\u00a0just added explanations about this  \n17:45\u00a0<mflorea>\u00a0yes, better use 7.1.x  \n17:45\u00a0<vmassol>\u00a07.1.1  \n17:46\u00a0<xwikiorg\\_guest\\_1>\u00a0upgraded from 6.2.3 to 7.2 \u00a0a few days ago  \n17:46\u00a0<Ramona1>\u00a0has quit  \n17:46\u00a0<vmassol>\u00a0no  \n17:46\u00a0<vmassol>\u00a07.2 doesn't exist  \n17:46\u00a0<xwikiorg\\_guest\\_1>\u00a0ie 7.2 milestone 1  \n17:47\u00a0<vmassol>\u00a0you upgraded to 7.2M1 :)  \n17:47\u00a0<xwikiorg\\_guest\\_1>\u00a0I am sorry  \n17:47\u00a0<vmassol>\u00a0usually we're pretty stable in milestones  \n17:47\u00a0<vmassol>\u00a0but this is an exception since we introduced a very complex feature  \n17:47\u00a0<vmassol>\u00a0(nested spaces)  \n17:47\u00a0<vmassol>\u00a0sorry about that  \n17:48\u00a0<xwikiorg\\_guest\\_1>\u00a0regarding nested spaces I had an problem that I discussed earlier here  \n17:48\u00a0<xwikiorg\\_guest\\_1>\u00a0like if each pages can have spaces then what is the use of pages  \n17:48\u00a0<xwikiorg\\_guest\\_1>\u00a0if each spaces can have spaces that makes sense  \n17:48\u00a0<vmassol>\u00a0it's the other way around  \n17:49\u00a0<vmassol>\u00a0each page can have children so we're abandoning the notion of spaces  \n17:49\u00a0<vmassol>\u00a0(from the UI POV)  \n17:49\u00a0<xwikiorg\\_guest\\_1>\u00a0i get it  \n17:49\u00a0<vmassol>\u00a0it's explained here:  \n17:49\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki72M1#HNestedDocuments  \n17:51\u00a0<xwikiorg\\_guest\\_1>\u00a0while navigating by spaces view or in a document tree child pages shows up outside along the parent pages make it \u00a0tough  \n17:52\u00a0<vmassol>\u00a0I don't understand what you mean  \n17:53\u00a0<xwikiorg\\_guest\\_1>\u00a0okay its explained in the release notes link you sent me.  \n17:53\u00a0<xwikiorg\\_guest\\_1>\u00a0thanks  \n18:01\u00a0<woshilapin>\u00a0has quit  \n18:29\u00a0<xwikiorg\\_guest\\_1>\u00a0has quit  \n18:49\u00a0<Trefex>\u00a0has quit  \n18:52\u00a0<Slashman>\u00a0has quit  \n19:05\u00a0<Slashman>\u00a0has joined #xwiki  \n19:34\u00a0<tmortagne>\u00a0has quit  \n19:36\u00a0<abusenius>\u00a0has joined #xwiki  \n20:07\u00a0<xwikiorg\\_guest\\_6>\u00a0has joined #xwiki  \n20:07\u00a0<xwikiorg\\_guest\\_6>\u00a0:q!  \n20:07\u00a0<xwikiorg\\_guest\\_6>\u00a0Hi, the xwiki is not starting up  \n20:08\u00a0<xwikiorg\\_guest\\_6>\u00a0it shows http 500 and It has lock file with code 5567  \n20:29\u00a0<xwikiorg\\_guest\\_6>\u00a0has quit  \n20:29\u00a0<Guest94410>\u00a0has quit  \n20:33\u00a0<Guest94410>\u00a0has joined #xwiki  \n20:45\u00a0<Guest94410>\u00a0has quit  \n20:45\u00a0<Guest94410>\u00a0has joined #xwiki  \n20:56\u00a0<Guest94410>\u00a0has quit  \n21:02\u00a0<Guest94410>\u00a0has joined #xwiki  \n21:32\u00a0<Slashman>\u00a0has quit  \n21:44\u00a0<mflorea>\u00a0has quit  \n22:21\u00a0<woshilapin>\u00a0has joined #xwiki  \n22:44\u00a0<vmassol>\u00a0has quit  \n23:03\u00a0<woshilapin>\u00a0has quit\n"}