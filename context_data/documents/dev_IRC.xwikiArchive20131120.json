{"id": "dev:IRC.xwikiArchive20131120", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20131120", "title": "IRC Archive for channel #xwiki on 20 November 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n01:50\u00a0<vmassol>\u00a0has joined #xwiki  \n01:54\u00a0<vmassol>\u00a0has quit  \n02:50\u00a0<vmassol>\u00a0has joined #xwiki  \n02:55\u00a0<vmassol>\u00a0has quit  \n03:51\u00a0<vmassol>\u00a0has joined #xwiki  \n03:56\u00a0<vmassol>\u00a0has quit  \n04:48\u00a0<sdumitriu>\u00a0has quit  \n04:52\u00a0<vmassol>\u00a0has joined #xwiki  \n04:57\u00a0<vmassol>\u00a0has quit  \n05:17\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:53\u00a0<vmassol>\u00a0has joined #xwiki  \n05:57\u00a0<vmassol>\u00a0has quit  \n06:53\u00a0<vmassol>\u00a0has joined #xwiki  \n06:58\u00a0<vmassol>\u00a0has quit  \n07:54\u00a0<vmassol>\u00a0has joined #xwiki  \n07:59\u00a0<vmassol>\u00a0has quit  \n08:10\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:17\u00a0<vmassol>\u00a0has joined #xwiki  \n08:24\u00a0<vmassol>\u00a0has quit  \n08:29\u00a0<tmortagne>\u00a0has quit  \n08:32\u00a0<Kaisen>\u00a0has joined #xwiki  \n08:35\u00a0<Kaisen>\u00a0Good morning  \n08:56\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:19\u00a0<sburjan>\u00a0has joined #xwiki  \n09:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:27\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:27\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:40\u00a0<vmassol>\u00a0has joined #xwiki  \n09:40\u00a0<cjd>\u00a0has joined #xwiki  \n09:51\u00a0<msmeria>\u00a0has joined #xwiki  \n09:52\u00a0<mflorea>\u00a0has joined #xwiki  \n10:19\u00a0<lucaa>\u00a0has joined #xwiki  \n10:31\u00a0<vmassol>\u00a0good morning  \n10:31\u00a0<vmassol>\u00a0today is RC1 release day  \n10:31\u00a0<vmassol>\u00a0:)  \n10:40\u00a0<Slashman>\u00a0has joined #xwiki  \n10:54\u00a0<cjd>\u00a0Hi guys, I'm going to go ahead and create a little application on extensions.xwiki.org for pulling WebViewers in and making them into XWiki applications. Once it's up I'll protect it so that only people with admin right can access it. Any objections?  \n10:55\u00a0<cjd>\u00a0\\*into extensions  \n11:06\u00a0<chalx>\u00a0has joined #xwiki  \n11:24\u00a0<sburjan>\u00a0vmassol: I don't find 5.2.2-SNAPSHOT  \n11:29\u00a0<vmassol>\u00a0it's called 5.2-SNAPSHOT  \n11:29\u00a0<vmassol>\u00a0ah no  \n11:29\u00a0<vmassol>\u00a0wait  \n11:29\u00a0<vmassol>\u00a0we don't build it  \n11:29\u00a0<vmassol>\u00a0that's why  \n11:30\u00a0<vmassol>\u00a0you need to get enterprise sources and build them  \n11:33\u00a0<tmortagne>\u00a0vmassol: you forgot to move from 5.2.1-SNAPSHOT to 5.2.2-SNAPSHOT in the branch after the release  \n11:33\u00a0<tmortagne>\u00a0see https://github.com/xwiki/xwiki-platform/blob/stable-5.2.x/pom.xml  \n11:33\u00a0<vmassol>\u00a0tmortagne: indeed  \n11:34\u00a0<vmassol>\u00a0in a meeting now  \n11:34\u00a0<vmassol>\u00a0will fix this afternoon  \n11:34\u00a0<tmortagne>\u00a0we do build that branch  \n11:34\u00a0<vmassol>\u00a0unless someone beats me :)  \n11:51\u00a0<msmeria1>\u00a0has joined #xwiki  \n11:52\u00a0<msmeria>\u00a0has quit  \n12:18\u00a0<chalx>\u00a0has quit  \n12:51\u00a0<chalx>\u00a0has joined #xwiki  \n12:58\u00a0<chalx>\u00a0has quit  \n13:00\u00a0<chalx>\u00a0has joined #xwiki  \n13:08\u00a0<gdelhumeau>\u00a0I have a problem  \n13:09\u00a0<gdelhumeau>\u00a0in TestUtils, we have getURL() and gotoPage(), etc  \n13:09\u00a0<gdelhumeau>\u00a0but there is no support for multiwiki  \n13:09\u00a0<gdelhumeau>\u00a0getURL takes space and page name only  \n13:09\u00a0<gdelhumeau>\u00a0I'm affraid I have to modify them all  \n13:19\u00a0<cjd>\u00a0could add another signature  \n13:19\u00a0<cjd>\u00a0or run a refactoring script over the codebase (I understand there are zillions of these for java)  \n14:11\u00a0<sburjan>\u00a0vmassol: could you fix the 5.2.2-SNAP build ?  \n14:12\u00a0<sburjan>\u00a0ATM I have followed Marius' advice and downloaded 5.2.1-SNAP, which is the same  \n14:12\u00a0<sburjan>\u00a0but I am having issues installing the FAQ application  \n14:12\u00a0<sburjan>\u00a0I get a: Dependency [org.xwiki.platform:xwiki-platform-rendering-macro-include-5.2.1] is not compatible with core extension [org.xwiki.platform:xwiki-platform-rendering-macro-include-5.2.1-SNAPSHOT]  \n14:14\u00a0<vmassol>\u00a0indeed  \n14:14\u00a0<vmassol>\u00a0fixing now  \n14:32\u00a0<sburjan>\u00a0cjd: ping  \n14:33\u00a0<sburjan>\u00a0I have an issue with FS Attachments porter.  \n14:38\u00a0<cjd>\u00a0sburjan: pong  \n14:38\u00a0<cjd>\u00a0what's up?  \n14:38\u00a0<sburjan>\u00a0cjd: I am testing if your http://extensions.xwiki.org/xwiki/bin/view/Extension/Filesystem+Attachment+Porter script works on a 5.2.2 -SNAPversion  \n14:39\u00a0<sburjan>\u00a0basically I want to validate http://jira.xwiki.org/browse/XWIKI-9657  \n14:43\u00a0<cjd>\u00a0ok  \n14:43\u00a0<cjd>\u00a0probably the easiest thing to do is fire up a .zip xwiki instance and then switch on FS attachments and run the script  \n14:45\u00a0<sburjan>\u00a0cjd: the problem is that the script does not work. I had to read the comments and put the main method to public instead of private. IMO this is very bad for end-users, they have to read information in 7 places in order to make it work.  \n14:46\u00a0<cjd>\u00a0ok  \n14:46\u00a0<cjd>\u00a0let me change that  \n14:46\u00a0<cjd>\u00a0I have no idea why what used to work now doesn't WRT private methods  \n14:46\u00a0<sburjan>\u00a0this is strictly from an end-user POV, which is importat IMO  \n14:46\u00a0<cjd>\u00a0perhaps groovy had a breaking change  \n14:46\u00a0<cjd>\u00a0yeah, +1 needs to be fixed  \n14:46\u00a0<cjd>\u00a0thanks for bring it up  \n14:46\u00a0<sburjan>\u00a0I'm having my end-user hat right now :)  \n14:49\u00a0<cjd>\u00a0I'll have to grab a copy of xwiki to my vm to validate the change  \n14:49\u00a0<sburjan>\u00a0cjd: you can even have 2 different version of the script if you're afraid that older wiki will not support your new version. Just don't make the users have to read the comments in order to make it work, it's simply annoying IMO  \n14:50\u00a0<vmassol>\u00a0mflorea: is 5.3M2 released fully?  \n14:50\u00a0<sburjan>\u00a0basically it introduces another step in the setup process, leaving XWiki is a geeky product where you have to modifiy in a lot of places. It descourages users to use it  \n14:51\u00a0<cjd>\u00a0nah, I meant validate it against the newest version  \n14:51\u00a0<cjd>\u00a0what version are you running?  \n14:51\u00a0<mflorea>\u00a0vmassol: jira and maven only  \n14:51\u00a0<sburjan>\u00a05.2.1-SNAP which ATM is actually 5.2.2-SNAP  \n14:51\u00a0<vmassol>\u00a0you're finishing now?  \n14:51\u00a0<vmassol>\u00a0(mflorea)  \n14:51\u00a0<mflorea>\u00a0yes  \n14:51\u00a0<vmassol>\u00a0ok  \n14:52\u00a0<sburjan>\u00a0cjd: http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/5.2.1-SNAPSHOT/  \n14:52\u00a0<sburjan>\u00a0this is what I am testing on  \n14:53\u00a0<cjd>\u00a0thank  \n14:53\u00a0<cjd>\u00a0s  \n15:03\u00a0<tmortagne>\u00a0sburjan: I'm surprised lucaa reported XE-1347, I tough you were doing this kind of migration tests  \n15:04\u00a0<sburjan>\u00a0tmortagne: I am. I always got a lot of conflicts which you told me they were normal, so I assumed it's known  \n15:05\u00a0<tmortagne>\u00a0sburjan: no I never told you that  \n15:05\u00a0<tmortagne>\u00a0conflict are normal when EM does not know previous version  \n15:05\u00a0<tmortagne>\u00a0but upgrading a standard version to a standard version should not produce tons on conflict  \n15:05\u00a0<tmortagne>\u00a0it never been normal  \n15:06\u00a0<sburjan>\u00a0I'm clicking a lot on the \"Continue\" button since the beginning  \n15:06\u00a0<tmortagne>\u00a0as you can see in the issue lucaa indicate the version of the currently installed XAR to the DW  \n15:08\u00a0<tmortagne>\u00a0sburjan: I perfectly remember fixing conflict like this that you reported and would have certainly never told you that it's normal to get tons of conflicts when upgrading a standard version to another  \n15:10\u00a0<sburjan>\u00a0I'll test tomorrow as part of the M2 tests  \n15:11\u00a0<cjd>\u00a0mflorea: did you land that attachment patch in 5.2-SNAP ?  \n15:11\u00a0<cjd>\u00a0because I'm still hitting the NPE  \n15:15\u00a0<mflorea>\u00a0cjd: the issue is fixed in 5.2.2 annd 5.3-milestone-2. So the latest snapshot from stable-5.2.x should have it  \n15:16\u00a0<mflorea>\u00a0the commits tab for XWIKI-9657 proves it  \n15:18\u00a0<cjd>\u00a0yeah, I'm not understanding why I'm still getting null attachments  \n15:18\u00a0<cjd>\u00a0or null versions  \n15:21\u00a0<mflorea>\u00a0You should try with 5.3 too, I must admit I tested with 5.3, and then cherry-picked the fix on 5.2.x, but it should work the same.  \n15:23\u00a0<cjd>\u00a0I don't see why it wouldn't  \n15:23\u00a0<cjd>\u00a0I'm going to poke at it with groovy  \n15:24\u00a0<cjd>\u00a0this is kind of absurd that we've been working on a bug which is almost as trivial as a typo for almost a month :(  \n15:24\u00a0<cjd>\u00a0build times kill  \n15:24\u00a0<cjd>\u00a0s/we/you/ (thanks again for your help with this)  \n15:24\u00a0<sburjan>\u00a0cjd: I was able to port my attachments to FS using your script (I hat do put main method as public)  \n15:24\u00a0<cjd>\u00a0o\\_O  \n15:24\u00a0<cjd>\u00a0I just flipped them to public and I hit an error  \n15:25\u00a0<sburjan>\u00a0cjd: i actually removed the private word, didn't added \"public\" explicitly  \n15:25\u00a0<cjd>\u00a0that makes it package private which should have largely the same effect  \n15:33\u00a0<msmeria1>\u00a0has quit  \n15:48\u00a0<cjd>\u00a0mflorea: https://ezcrypt.it/h47n#j96bVFzSd6vaguXfMlbvT4Ih  \n15:48\u00a0<cjd>\u00a0I tested with that code on 5.2-SNAP and it's giving me null  \n15:48\u00a0<cjd>\u00a0I can't explain why  \n15:48\u00a0<cjd>\u00a0now I'll try 5.3  \n15:50\u00a0<mflorea>\u00a0ok, sburjan it worked for you on 5.3M2? can you test on the latest 5.2.x snapshot also?  \n15:50\u00a0<sburjan>\u00a0mflorea: I was testing on the latest 5.2.1-SNAP, which is 5.2.2-SNAP  \n15:51\u00a0<cjd>\u00a0sburjan: said it worked for him on 5.2-SNAP which is really odd  \n15:51\u00a0<mflorea>\u00a0ok, so it works for you and it doesn't work for cjd :(  \n15:51\u00a0<sburjan>\u00a0so it should work for cjd  \n15:51\u00a0<mflorea>\u00a0can you try the snippet cjd linked above?  \n15:51\u00a0<ekarlso>\u00a0has quit  \n15:51\u00a0<mflorea>\u00a0https://ezcrypt.it/h47n#j96bVFzSd6vaguXfMlbvT4Ih  \n15:52\u00a0<cjd>\u00a0anyway I'll slip that groovy into a test so next person who messes with my attachments breaks the build <evilgrin>  \n15:52\u00a0<mflorea>\u00a0:)  \n15:52\u00a0<ekarlso>\u00a0has joined #xwiki  \n15:52\u00a0<sburjan>\u00a0mflorea: trying now. The idea is that I already ran cjd's porter and I see my attachments in the file system  \n15:52\u00a0<ekarlso>\u00a0has quit  \n15:52\u00a0<sburjan>\u00a0hope I can run the snippet  \n15:52\u00a0<cjd>\u00a0I didn't check the filesystem, I just saw tons of stack traces in the window  \n15:53\u00a0<sburjan>\u00a0cjd: I get  \n15:53\u00a0<cjd>\u00a0it could have saved somethig (shouldn't though)  \n15:53\u00a0<sburjan>\u00a0[1.1]  \n15:53\u00a0<sburjan>\u00a0null  \n15:53\u00a0<cjd>\u00a0yeah  \n15:53\u00a0<cjd>\u00a0that \"null\" == BUG  \n15:53\u00a0<ekarlso>\u00a0has joined #xwiki  \n15:54\u00a0<sburjan>\u00a0then I can't explain how it worked for me :) Not that I was using your porter script from http://extensions.xwiki.org/xwiki/bin/view/Extension/Filesystem+Attachment+Porter .I have downloaded it (2.1 version) and pit it in a page and run it. Only thing I modified was to remove the \"private\" word in front of main  \n15:54\u00a0<sburjan>\u00a0\\*/not/note  \n15:55\u00a0<cjd>\u00a0hrm  \n15:55\u00a0<cjd>\u00a0I bet there's a naming collision in groovy  \n15:55\u00a0<cjd>\u00a0once I had a function in C called init() and I could not for the life of me understand why this test failed every time on ONE GUY'S SYSTEM  \n15:55\u00a0<cjd>\u00a0then I figured out eventually the OS was hooking the init() function and calling it  \n15:56\u00a0<cjd>\u00a0and that was an internal function which my code was supposed to call and not his  \n15:56\u00a0<sburjan>\u00a0I can give you access to my wiki if you want.. maybe it helps debugging  \n15:57\u00a0<cjd>\u00a0\\*shrug\\* the returning of \"null\" is wrong always  \n15:57\u00a0<cjd>\u00a0so we need to fix this  \n16:00\u00a0<sburjan>\u00a0cjd: I recommend starting from scratch with the 5.2.2-SNAPSHOT build  \n16:00\u00a0<cjd>\u00a0oh I just started up a 5.3  \n16:00\u00a0<cjd>\u00a0that one is from scratch  \n16:01\u00a0<cjd>\u00a0if that one (somehow) works, I'll see if I might have b0rked something in the 5.2.x by enabling FS attachments  \n16:01\u00a0<cjd>\u00a0unlikely because I don't create bugs  \n16:02\u00a0<sburjan>\u00a0let me try on a 5.3 M2  \n16:02\u00a0<sburjan>\u00a0same steps as I did for 5.2.1-SNAP  \n16:02\u00a0<cjd>\u00a0ahh  \n16:02\u00a0<cjd>\u00a0it passes  \n16:02\u00a0<cjd>\u00a0now I'll try a \"new\" version of 5.2  \n16:03\u00a0<sburjan>\u00a0what did you do ?  \n16:05\u00a0<cjd>\u00a0ran the test script  \n16:06\u00a0<cjd>\u00a0ok brand new version of 5.2.x == failed  \n16:06\u00a0<cjd>\u00a0https://ezcrypt.it/i47n#8Rp0phQvV5CKNIe6sIC4WyyR  \n16:06\u00a0<cjd>\u00a0easier to understand version  \n16:10\u00a0<sburjan>\u00a0I get FAILED also :)  \n16:11\u00a0<sburjan>\u00a0but I don't understand how it worked for me  \n16:13\u00a0<sburjan>\u00a0vmassol: http://ci.xwiki.org/job/xwiki-platform-5.2.x/58/ is this stuck ? running for more than 1h  \n16:14\u00a0<vmassol>\u00a0not stuck  \n16:14\u00a0<vmassol>\u00a0it's moving  \n16:14\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform-5.2.x/58/console  \n16:16\u00a0<gdelhumeau>\u00a0guys I need your opinion for http://jira.xwiki.org/browse/XWIKI-9697  \n16:19\u00a0<sburjan>\u00a0cjd: It's pretty important to nail the issue down since a lot of people are starting to use FS Attachments  \n16:48\u00a0<j-simard>\u00a0has quit  \n16:52\u00a0<vmassol>\u00a0guys FTR I'm going to port http://jira.xwiki.org/browse/XWIKI-9674 to 5.2.2  \n16:53\u00a0<vmassol>\u00a0the goal is to be on the safe side  \n16:53\u00a0<vmassol>\u00a0for 5.2.2  \n17:01\u00a0<sburjan>\u00a0+1  \n17:01\u00a0<sburjan>\u00a0has quit  \n17:02\u00a0<chalx>\u00a0has quit  \n17:16\u00a0<evalica>\u00a0has quit  \n17:36\u00a0<gdelhumeau>\u00a0has quit  \n17:36\u00a0<cjd>\u00a0well I can't find the issue which is causing the attachment porter to fail  \n17:37\u00a0<cjd>\u00a0I'll just add another workaround and hope that things improve in the future :(  \n17:39\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n17:40\u00a0<gdelhumeau>\u00a0laptop crashed  \n17:47\u00a0<tmortagne>\u00a0has quit  \n17:49\u00a0<cjd>\u00a0sburjan`: http://extensions.xwiki.org/xwiki/bin/view/Extension/Filesystem+Attachment+Porter  \n17:49\u00a0<cjd>\u00a0sorry, you're off work, anyway something to play with tomorrow :)  \n17:55\u00a0<cjd>\u00a0sdumitriu: wasn't there at one time a way to get internationalized versions of class property pretty names?  \n17:57\u00a0<sdumitriu>\u00a0cjd: I think there is  \n17:57\u00a0<sdumitriu>\u00a0XWiki.ClassName\\_propertyName might be the key  \n17:57\u00a0<cjd>\u00a0hmm  \n17:57\u00a0<cjd>\u00a0IIRC it was broken at some point, I didn't know if you might know the keywords to search for the issue  \n17:58\u00a0<cjd>\u00a0j-simard is looking for it  \n18:01\u00a0<sburjan`>\u00a0cjd: what was the issue you were hitting ?  \n18:01\u00a0<cjd>\u00a0re internationalized versions of class property pretty names?  \n18:02\u00a0<cjd>\u00a0I just thought it was reported back in the 2.x times and never fixed.. but I appear to be mistaken  \n18:02\u00a0<cjd>\u00a0re the attachment porter, I published another workaround version :|  \n18:03\u00a0<j-simard>\u00a0has joined #xwiki  \n18:03\u00a0<cjd>\u00a0has quit  \n18:07\u00a0<mflorea>\u00a0has quit  \n18:09\u00a0<j-simard>\u00a0sdumitriu: Thanks for the help, but I was already doing this  \n18:11\u00a0<sdumitriu>\u00a0I can't see any code that does localization in the current version...  \n18:13\u00a0<sdumitriu>\u00a0Oh, I see  \n18:13\u00a0<gdelhumeau>\u00a0is it possible to merge https://github.com/xwiki/xwiki-platform/pull/208 for tomorow ? sburjan` will make tests about it  \n18:13\u00a0<sdumitriu>\u00a0It is possible from Java by calling com.xpn.xwiki.objects.classes.PropertyClass.getTranslatedPrettyName(XWikiContext)  \n18:14\u00a0<sdumitriu>\u00a0And from Velocity using getTranslatedPrettyName as well  \n18:23\u00a0<Kaisen>\u00a0has quit  \n18:34\u00a0<KermitTheFragger>\u00a0has quit  \n18:44\u00a0<sburjan`>\u00a0has quit  \n18:46\u00a0<sburjan`>\u00a0has joined #xwiki  \n18:51\u00a0<vmassol>\u00a0has quit  \n19:12\u00a0<lucaa>\u00a0has quit  \n19:16\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n19:25\u00a0<xwikibot>\u00a0has joined #xwiki  \n19:27\u00a0<Slashman>\u00a0has quit  \n19:57\u00a0<abusenius>\u00a0has joined #xwiki  \n20:03\u00a0<gdelhumeau>\u00a0has quit  \n20:11\u00a0<sdumitriu>\u00a0has quit  \n20:12\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:25\u00a0<cjd>\u00a0has joined #xwiki  \n20:58\u00a0<cjd>\u00a0has quit  \n21:12\u00a0<vmassol>\u00a0has joined #xwiki  \n21:30\u00a0<vmassol>\u00a0has quit  \n22:09\u00a0<andrewmcveigh|wo>\u00a0has quit  \n22:11\u00a0<vmassol>\u00a0has joined #xwiki  \n22:28\u00a0<j-simard>\u00a0has quit  \n22:35\u00a0<cjd>\u00a0has joined #xwiki  \n22:37\u00a0<vmassol>\u00a0has quit  \n22:43\u00a0<cjd>\u00a0has quit  \n23:09\u00a0<vmassol>\u00a0has joined #xwiki  \n23:15\u00a0<ekarlso>\u00a0has quit  \n23:17\u00a0<ekarlso>\u00a0has joined #xwiki  \n23:19\u00a0<cjd\\_>\u00a0has joined #xwiki  \n23:20\u00a0<sdumitriu1>\u00a0has quit  \n23:26\u00a0<cjd\\_>\u00a0has quit  \n23:45\u00a0<abusenius>\u00a0has quit\n"}