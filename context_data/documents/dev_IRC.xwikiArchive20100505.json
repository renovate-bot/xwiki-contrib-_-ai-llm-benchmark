{"id": "dev:IRC.xwikiArchive20100505", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100505", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\njvdrean left at 00:46 (Quit: Leaving.  \nanamarias left at 00:48 (Quit: anamarias  \nsdumitriu left at 00:56 (Ping timeout: 240 seconds  \nsdumitriu joined #xwiki at 00:57  \nabusenius - (00:59): sdumitriu, what happens in your implementation of httponly flag if the container adds it automatically for all cookies?  \nsdumitriu - (01:00): Nothing bad  \nabusenius - (01:00): is it added twice?  \nsdumitriu - (01:00): It's a flag, the fact that it's present triggers behavior on the browser  \nsdumitriu - (01:01): Normally it shouldn't since the container should add this flag only when calling response.addCookie  \nsdumitriu - (01:01): So, only a really crappy implementation should end up adding it twice  \nsdumitriu - (01:01): Now, I'm not a big fan of my fix  \nabusenius - (01:02): might be a good idea to test it anyway, who knows how buggy they are  \nsdumitriu - (01:02): And as soon as we'll move to a modern servlet spec, we should revert it and use the proper cookie.setHttpOnly  \nabusenius - (01:02): true  \nsdumitriu - (01:02): (we're still using 2.4)  \nabusenius - (01:05): there is also a \"Secure\" flag, that should be set for HTTPS connections, I forgot about it  \nabusenius - (01:05): with it, cookies are not sent over HTTP, I'm not sure however what happens if it is set, and only HTTP is used  \nsdumitriu - (01:06): They don't get used at all  \nsdumitriu - (01:06): I though about it, and I think that it's better to require HTTPS-only from the server settings  \nabusenius - (01:06): is it difficult to find out whether HTTPS is in use when setting cookies?  \nsdumitriu - (01:07): No, it should be simple if we have the request object  \nsdumitriu - (01:07): I think there's an isSecure method or something like that  \nsdumitriu - (01:07): But there are infrastructure settings that break it  \nsdumitriu - (01:08): Like:  \nsdumitriu - (01:08): Client<-SSL->Apache httpd fronted<-no SSL->Tomcat  \nabusenius - (01:08): ok, so this also goes to admin guide  \nsdumitriu - (01:08): There's an Apache setting to forward the isSecure flag, but it's easy to miss it  \nabusenius - (01:09): this should be explained too, its also an important flag  \nabusenius - (01:10): otherwise the cookie monster might come and eat all your cookies :)  \nsdumitriu - (01:11): :)  \nflorinciu joined #xwiki at 01:12  \nabusenius - (01:21): good night  \nsdumitriu - (01:22): Good night  \nabusenius left at 01:26 (Ping timeout: 252 seconds  \nbbc581 joined #xwiki at 01:48  \nbbc581 left at 01:54 (Remote host closed the connection  \nflorinciu left at 03:11 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 03:12  \nflorinciu left at 03:39 (Read error: Connection reset by peer  \nCalebJamesDeLisl joined #xwiki at 06:40  \nDenis left at 07:05 (Ping timeout: 276 seconds  \nDenis joined #xwiki at 07:10  \nnpm left at 07:18 (Quit: Leaving.  \nmflorea joined #xwiki at 07:20  \nnpm joined #xwiki at 07:23  \nkibahop joined #xwiki at 07:55  \nSvenDowideit joined #xwiki at 08:13  \nplunden joined #xwiki at 08:15  \nanamarias joined #xwiki at 08:48  \nannacondan joined #xwiki at 09:03  \ntmortagne joined #xwiki at 09:08  \nEnygma` joined #xwiki at 09:32  \nevalica joined #xwiki at 09:32  \nsilviar joined #xwiki at 09:41  \narkub joined #xwiki at 09:44  \nCalebJamesDeLisl - (09:44): XAADMINISTRATION-125 \\_should\\_ be fixed. I debugged it in IE7 in painfully slow emulation. Haven't gotten to installing 8 or 6.  \nvmassol joined #xwiki at 09:46  \nCalebJamesDeLisl - (09:47): So feel free to reopen if it's not fixed...  \njvdrean joined #xwiki at 09:56  \nflorinciu joined #xwiki at 10:10  \nvmassol - (10:29): so who can upgrade xwiki.org to 2.3 today?  \nvmassol - (10:29): :)  \nabusenius joined #xwiki at 10:36  \nmflorea left at 10:46 (\\*.net \\*.split  \nDenis left at 10:46 (\\*.net \\*.split  \nmflorea joined #xwiki at 10:47  \nDenis joined #xwiki at 10:47  \nCalebJamesDeLisl - (10:59): abusenius: I appreciate your efforts on the security front.  \nCalebJamesDeLisl - (10:59): I have been trying to think of ways to fix the bugs which we don't know about.  \nCalebJamesDeLisl - (11:00): The US fatherland security people tested a bunch of open software and found an average of 1 security bug per 1000 lines of code.  \nvmassol - (11:01): knowing that xwiki is 1M lines of code (http://www.ohloh.net/p/xwiki) that would mean 1000 security bugs ;)  \nCalebJamesDeLisl - (11:02): And it will grow so without sandboxing our situation is sure to regress.  \nvmassol - (11:02): (if we were average only)  \nabusenius - (11:02): CalebJamesDeLisl, \u00a0I'm doing an internship at xwiki right now, there is more to come :)  \nabusenius - (11:02): IMO we should first fix bugs we know about  \nvmassol - (11:02): good plan! :)  \nabusenius - (11:02): they are devastating enough  \nCalebJamesDeLisl - (11:03): Have you seen this? http://www.youtube.com/watch?v=eL5o4PFuxTY  \nabusenius - (11:04): I think yes, sounds very familiar  \nCalebJamesDeLisl - (11:04): IMO \u00a0when faced with a bug we should fix it by isolating the code where it lives because then we are achieving 2 ends at once.  \nCalebJamesDeLisl - (11:05): Also if we are careful we can fix many bugs at once.  \nabusenius - (11:06): ah, no this one is new, I probably saw some another talk by the sme guy  \njvelociter joined #xwiki at 11:06  \nCalebJamesDeLisl - (11:06): I was thinking that an example of this would be to implement a script filter in the rendering engine. This way a multitude of script injection routes are thwarted at once.  \nvmassol - (11:07): you mean as a transformation CalebJamesDeLisl?  \nCalebJamesDeLisl - (11:08): Yes, transformation. I forget the names.  \nvmassol - (11:09): hmm that's looks hard  \nvmassol - (11:09): since it would need to run before the macro transformation executes  \nvmassol - (11:09): thus you'll need to do parsing  \nvmassol - (11:09): what would you want to filter out ?  \nvmassol - (11:09): (as an exqmple)  \nCalebJamesDeLisl - (11:10): {{html}} <script> </script> {{/html}}  \nCalebJamesDeLisl - (11:10): to start with.  \nvmassol - (11:10): isn't it better to have a custom sceurity manager?  \nabusenius - (11:10): it might be quite complicated to decide where this is legitimate and where not  \nvmassol - (11:11): ah you're talking about html not java apid  \nvmassol - (11:11): apis  \nvmassol - (11:11): for html  \nvmassol - (11:11): the goal is to make it optional  \nvmassol - (11:11): we even have an issue for that  \nvmassol - (11:11): we also talked about having some filters for the html macro itself  \nCalebJamesDeLisl - (11:11): {{javascript}} some javascript {{/javascript}} should be the only way to run script.  \nCalebJamesDeLisl - (11:12): But the html macro isn't the only code which needs to be filtered.  \nvmassol - (11:12): http://jira.xwiki.org/jira/browse/XWIKI-3953  \nabusenius - (11:12): then you'll need to parse HTML and only accept a safe subset of it  \nCalebJamesDeLisl - (11:13): One idea is <div class=\"noscript\"> \u00a0user content \u00a0</div> \u00a0all script inside is filtered.  \nCalebJamesDeLisl - (11:14): (should have been in the html standard... aargh.)  \nCalebJamesDeLisl - (11:15): But <style>background:url(javascript:alert(\"HI\");)</style> gets executed by IE.  \nabusenius - (11:16): I would prefer a safe wiki syntax for everybody and optional HTML for trusted users  \nCalebJamesDeLisl - (11:16): How trusted?  \nabusenius - (11:16): wiki admin should decide whom he trusts  \nCalebJamesDeLisl - (11:17): Like PR or just subwiki admin trusts?  \nabusenius - (11:18): probably like pr, one can gain everything using xss  \nabusenius - (11:18): (assuming there is a very powerful user)  \nabusenius - (11:20): what would be nice for example, is a way for admin to review html code or script some user wrote and allow them  \nabusenius - (11:21): so nobody can write something that is going to be executed right away, only after admin explicitly allows it  \nvmassol - (11:21): abusenius: yep agreed, first step is to make the html macro optional  \nvmassol - (11:22): btw is this issue in your list?  \nvmassol - (11:22): XWIKI-3953  \nabusenius - (11:22): I think so  \nCalebJamesDeLisl - (11:22): find ./ -name '\\*.xml' -exec grep '{{html}}' {} \\; -print | sed -n -e 's/\\(^\\.\\/.\\*$\\)/\\1/p' | wc  \nCalebJamesDeLisl - (11:22): 21 pages in XE use the html macro :(  \nabusenius - (11:23): vmassol: yes  \nvmassol - (11:23): yes we need to fix that by adding specific macros  \nvmassol - (11:23): for example for adding a form  \nvmassol - (11:23): we can also remove a lot of htm macro if we fix this issue:  \nvmassol - (11:24): http://jira.xwiki.org/jira/browse/XWIKI-3611  \nCalebJamesDeLisl - (11:24): Yup, I've had to hack around that more than once.  \nabusenius - (11:24): we should also remove wys to inject html and javascript from xwiki syntax  \nCalebJamesDeLisl - (11:26): Seems like quite an undertaking.  \nCalebJamesDeLisl - (11:27): Another advantage of the filter idea is it's useful as a checkstyle.  \nvmassol - (11:30): CalebJamesDeLisl: re html validation, it should be done with a specific parser and we already have a notion of cleaning filter  \nvmassol - (11:31): we could decide that to use clean=false you need PR or seomthing like that  \nvmassol - (11:31): and then add some htmlcleaner filters to remove potentially dangerous html  \nCalebJamesDeLisl - (11:32): This works if syntax2.0 is perfect.  \nvmassol - (11:32): this is very easy to do since those filters provide you access to the HTML DOM already  \nvmassol - (11:32): for syntax 1.0 it's easy to turn it off  \nvmassol - (11:32): (it's a one liner configuration option)  \nCalebJamesDeLisl - (11:33): But we still have to rely on syntax2.0 to produce clean output and my idea of security is relying on as little code as possible.  \nvmassol - (11:34): first the htmlcleaner is not related to syntax 2.0  \nvmassol - (11:34): then I don't understand what you mean  \nCalebJamesDeLisl - (11:34): htmlcleaner only works on things in the html macro right?  \nvmassol - (11:34): yes I'm only talking about html macro  \nvmassol - (11:35): since for script macros the mechanisl is different  \nvmassol - (11:35): and a custom security manager sounds better for scripts  \nCalebJamesDeLisl - (11:35): But what happens if the syntax 2.0 renderer is abused, then the script (javascript) bypasses the html cleaner.  \nvmassol - (11:36): err?  \nvmassol - (11:36): the filter apply before rendering  \nvmassol - (11:36): so if the content is not in the XDOM the renderer won't be able to render what's not there  \nCalebJamesDeLisl - (11:37): But only to things in the html macro correct?  \nCalebJamesDeLisl - (11:37): (are filtered)  \nvmassol - (11:37): I don't understand  \nCalebJamesDeLisl - (11:38): You say there is a filter but doesn't it only apply to things in the html macro?  \nvmassol - (11:38): then notion of html filter is used in the html macro yes  \nvmassol - (11:38): s/then/the/  \nCalebJamesDeLisl - (11:39): My thinking is that everything should be filtered, then we need not trust that there is no way to make the renderer produce script.  \nmflorea left at 11:39 (Quit: Leaving.  \nvmassol - (11:39): btw we only have 174K lines of code reported by sonar: http://nemo.sonarsource.org/project/index/178313  \nvmassol - (11:39): compared to the 1M reported by ohloh, quite a diff ;)  \nCalebJamesDeLisl - (11:39): Count the libraries...  \nvmassol - (11:40): using the same technology to filter various thing is a very bad idea IMO  \nvmassol - (11:40): - not performant  \nvmassol - (11:40): - can easily be abused  \nvmassol - (11:40): - unmaintanble  \nCalebJamesDeLisl - (11:41): easily be abused?  \nvmassol - (11:41): of course  \nvmassol - (11:41): imagine you implement this as a transformation  \nvmassol - (11:41): to filter all things  \nvmassol - (11:41): then someone finds a way to replace that transformation  \nvmassol - (11:41): all your filters are suddenly abused  \nCalebJamesDeLisl - (11:41): replace the transformation?  \nvmassol - (11:42): (and anyway it's not doable to do it in \u00a0transformation, that's point \"not performant\" ;))  \nCalebJamesDeLisl - (11:42): I just imagine something like the apache server pushing everything though sed.  \nvmassol - (11:42): yes it can be replaced at runtime  \nvmassol - (11:42): yuck  \nvmassol - (11:42): that's:  \nvmassol - (11:43): - not performant  \nvmassol - (11:43): - unmaintanble  \nCalebJamesDeLisl - (11:43): I know, not sed but that's the idea.  \nvmassol - (11:43): the idea is not performant and unmaintanble  \nvmassol - (11:43): (if I undertsand correctly wha you mean)  \nCalebJamesDeLisl - (11:43): What makes it unmaintainable?  \nvmassol - (11:44): because it's code dupliction at the extreme  \nvmassol - (11:44): anyway I think we should stop here  \nvmassol - (11:44): since this will lead nowhere \u00a0right now  \nCalebJamesDeLisl - (11:44): Ok. Nice chat ;)  \nvmassol - (11:45): we know already  \nvmassol - (11:45): a lot of things that we should do and we even know how to do them  \nvmassol - (11:45): we just need to tackle things one by one  \nvmassol - (11:45): like the issue I mentioned XWIKI-3611  \nvmassol - (11:46): to not use the html macro anywhere in our default XE  \nvmassol - (11:46): and thus turn it off by default for ex  \nvmassol - (11:46): that's for the html domain  \nCalebJamesDeLisl - (11:47): re performance: \u00a0(to drag this up again...) \u00a0\u00a0java checks every array get or put before executing it. \u00a0not performant but saves a lot of headaches. \u00a0\u00a0Ok done now.  \nvmassol - (11:47): by not perf  \nvmassol - (11:47): I meant  \nvmassol - (11:47): if you need to parser everything  \nvmassol - (11:47): s/parser/parse/  \nvmassol - (11:47): you're dead  \nvmassol - (11:47): perf wise  \nvmassol - (11:47): it'll never ever work  \nvmassol - (11:48): end of story  \nvmassol - (11:48): :)  \nvmassol - (11:48): the reason I'm confident is because that's what we used to do  \nvmassol - (11:48): so the only perf solution  \nvmassol - (11:48): is to act at the level of the already parsed AST  \nCalebJamesDeLisl - (11:49): I'm more interested in the core end (security manager, class loader) and POLA anyway.  \nCalebJamesDeLisl - (11:51): I think if the classloader refuses to load classes if it's for Class.forName then code can only load classes which are imported in java code.  \nvmassol - (11:52): one first step re scripts is to make the velocity macro a real jsr 223 script  \nCalebJamesDeLisl - (11:53): What are the benefits?  \nvmassol - (11:53): I haven't checked velocity 1.7  \nvmassol - (11:53): maybe they did some work in this area  \nvmassol - (11:53): (although I doubt it)  \nvmassol - (11:53): benefit = need to implement only one way to secure all scripts  \nvmassol - (11:53): instead of 2 ways  \nvmassol - (11:54): single way = less potential attack vectors  \nCalebJamesDeLisl - (11:54): I would put the scripts and the core code under a single security manager.  \nvmassol - (11:54): that won't work  \nvmassol - (11:55): the needs are very different  \nvmassol - (11:55): core code is safe code  \nCalebJamesDeLisl - (11:55): What does core need that can't be given to script?  \nvmassol - (11:55): script are unsafe code  \nannacondan left at 11:55 (Quit: annacondan  \nvmassol - (11:56): for ex checks to access privileged apis  \nvmassol - (11:56): these should not be done in safe code  \nvmassol - (11:57): then right now we use a lot of things in safe code such as : thread creation, file access, refelction on private members, etc  \nCalebJamesDeLisl - (11:57): I don't like all of that checking anyway. IMO the objects with dangerous methods should only be available to trusted code.  \nCalebJamesDeLisl - (11:58): \"reflection on private members\" I think only code which absolutely needs this should get it.  \ndegro joined #xwiki at 11:58  \nCalebJamesDeLisl - (11:59): There is no security with private reflection.  \nCalebJamesDeLisl - (12:00): You can load random, reflect Unsafe and using Unsafe and System.identityHashCode you can directly modify anything in the system, load native code, pwnd.  \nKermitTheFragger joined #xwiki at 12:00  \nflorinciu left at 12:10 (Read error: Connection reset by peer  \ntmortagne - (12:17): CalebJamesDeLisl: dirst beneif of making velocity be JSR223 is to have only one ScriptContext for all scripts to properly communicate with each other instead of the particular case we have right now with velocity  \ntmortagne - (12:17): s/dirst/first/  \ntmortagne - (12:17): s/beneif/benefit/  \nCalebJamesDeLisl - (12:17): Very good point. I noticed you invited me to join a web site, what's the benefit of membership?  \ntmortagne - (12:18): CalebJamesDeLisl: i just listed committers of XWiki in ohloh and seen you did not had user attached to the committer id  \nCalebJamesDeLisl - (12:19): I see. (I'm the join nothing guy if you hadn't noticed.)  \ntmortagne - (12:20): CalebJamesDeLisl: i did by reflex actually, did the same for asiri ;)  \ntmortagne - (12:21): ohloh is a facebook like website it's just here to put a person behind committs of important opensource projects  \ntmortagne - (12:21): not  \ntmortagne - (12:21): is not  \ntmortagne - (12:21): sorry  \ntmortagne - (12:21): \"ohloh is not a facebook like website\"  \ntmortagne - (12:22): now i scared you :)  \nCalebJamesDeLisl - (12:22): Is there a reason for me to join (I don't care that my name is there.)  \ntmortagne - (12:23): CalebJamesDeLisl: not really no, as you want, it's just your where the only one comitter with asiri to not be in ohloh  \ntmortagne - (12:24): it was more a kind of \"did you know about this ?\" than \"you have to join it\"  \nvmassol - (12:24): well it's good for the project  \nvmassol - (12:24): but you do as you want caleb  \nCalebJamesDeLisl - (12:24): I can't get out of my head how to make a fast XSS filter implemented as a servlet filter to implement policies like all script must be in the head and no using onclick=, because you said I can't.  \nCalebJamesDeLisl - (12:25): I have a 1 track mind.  \njvdrean left at 12:27 (Quit: Leaving.  \nvmassol - (12:38): CalebJamesDeLisl: is it normal that the captcha plugin is listed by default in XEM 2.3?  \nvmassol - (12:38): (in xwiki.cfg)  \nCalebJamesDeLisl - (12:39): No, that shouldn't be there. Let me look.  \nvmassol - (12:39): I haven't checked but I guess it's in the xem pom.xml  \nmflorea joined #xwiki at 12:40  \ntmortagne - (12:47): vmassol: indeed it's in XEM pom.xml, looks like it has not been synchronized with XE plugins list  \ntmortagne - (12:47): fixing this  \nCalebJamesDeLisl - (12:51): I was sure I had made this change because I remember getting blocked from changing the workspaces pom.  \nCalebJamesDeLisl - (12:58): Hmm, I dropped the ball on that.  \nmariusbutuc joined #xwiki at 13:47  \narkub left at 13:50 (Ping timeout: 252 seconds  \nDenis left at 14:00 (Ping timeout: 276 seconds  \nflorinciu joined #xwiki at 14:02  \nxwikibot joined #xwiki at 15:56  \nvmassol - (15:56): could someone with html/css/js skills look at http://www.xwiki.org/xwiki/bin/view/Main/News and find why it's offset?  \nvmassol - (15:57): dev.xwiki.org done  \nsdumitriu joined #xwiki at 15:58  \nvmassol - (15:58): starting code.xwiki.org now  \nkibahop left #xwiki at 16:01  \nvmassol - (16:02): sdumitriu: any idea why the deleted \\* tabs don't work on xwiki.org?  \nvmassol - (16:03): code.xwiki.org migrated  \nvmassol - (16:03): hmm http://www.xwiki.org/xwiki/bin/view/Main/News has changed\u2026 has someone changed somrthing?  \nvmassol - (16:05): starting enterprise.xwiki.org  \nvmassol - (16:09): starting eclipse.xwiki.org  \ntmortagne - (16:13): manager done  \nvmassol - (16:13): xeclipse done  \nvmassol - (16:14): tmortagne: manager doesn't for for AllDcos  \nvmassol - (16:14): have you imported AllDocs?  \nvmassol - (16:14): and Livetable\\*  \nvmassol - (16:14): ?  \ntmortagne - (16:14): i imported AllDocs  \nvmassol - (16:14): ? Main.WebSearch  \nvmassol - (16:14): ? Main.LuceneSearch  \nvmassol - (16:14): ? XWiki.LiveTableResults\\*  \ntmortagne - (16:14): i imported release note  \nvmassol - (16:16): tmortagne: there are 2 sections in the RN  \nvmassol - (16:16): General Notes and Migration Notes  \nvmassol - (16:16): they both have a list of pages  \nvmassol - (16:16): (except the sandbox which we don't want)  \ntmortagne - (16:17): did not seen General Notes  \nvmassol - (16:17): starting watch now  \ntmortagne - (16:19): done  \nvmassol - (16:19): watch done  \nvmassol - (16:19): tmortagne: you forgot AllAttachmentResults wth PR  \nvmassol - (16:19): doing it  \nvmassol - (16:20): ok working now  \nvmassol - (16:21): (except for the dleeted tabs but I don't know why these don't work)  \nvmassol - (16:21): starting contrib  \nvmassol - (16:24): contrib done  \nvmassol - (16:25): starting platform  \njvelociter - (16:25): it seems somthing has change regarding the right for guest to see the xwiki org skin from subwikis  \njvelociter - (16:26): (it does not work any longer)  \njvelociter - (16:26): for now I'm going to apply the \"wiki-\" prefix for wiki class on <body> directly on the filesystem  \njvelociter - (16:26): until we find a proper solution  \njvelociter - (16:27): (which could be to have the prefix in XE, too)  \nvmassol - (16:27): done sorry for the spam ;)  \nvmassol - (16:27): (was doing some clean up)  \ntmortagne - (16:28): jvelociter: i may have an idea of what can be the issue with guest tested from a subwiki, checking something  \njvelociter - (16:29): tmortagne: ok  \nvmassol - (16:30): startig xoffice  \nvmassol - (16:32): jvelociter: do you have the warning on http://platform.xwiki.org/xwiki/bin/view/Main/AllDocs ?  \nvmassol - (16:32): I can't get rid of it even when cleating my cache  \njvelociter - (16:33): yes, I have it too  \njvelociter - (16:33): let me see  \njvelociter - (16:33): (it works for other wikis ?)  \nvmassol - (16:33): maybe I forgot to import something  \nvmassol - (16:33): yes  \njvelociter - (16:34): ah no, I don't have it any longer  \nvmassol - (16:34): so who changes the news page on xwiki.org?  \nvmassol - (16:34): s/changes/changed/  \nvmassol - (16:37): so I guess it must be me\u2026 somehow\u2026 I did change RecentChanges  \nvmassol - (16:37): checking  \nvmassol - (16:39): ah forgot workspaces, doing it now  \nnpm left at 16:41 (\\*.net \\*.split  \njvelociter - (16:42): vmassol: it looks like unwanted new lines in the code  \nvmassol - (16:42): news is good again, strange  \nvmassol - (16:43): jvelociter: what are you referring to?  \nplunden left at 16:43 (Remote host closed the connection  \njvelociter - (16:43): to the whitespage under the \"Blog\" heading on the news page  \nplunden joined #xwiki at 16:43  \nplunden left #xwiki at 16:43  \nvmassol - (16:44): in which page jvelociter?  \njvelociter - (16:44): http://www.xwiki.org/xwiki/bin/view/Main/News  \nvmassol - (16:44): ah yes blog home  \njvelociter - (16:44): well I don't know where the new lines come from  \nvmassol - (16:44): http://www.xwiki.org/xwiki/bin/view/Blog/  \nvmassol - (16:44): sdumitriu: have the blog app changed between 2.2.1 and 2.3?  \nvmassol - (16:44): s/have/has/  \nvmassol - (16:45): (do i need to upgrade pages?)  \njvelociter - (16:45): maybe on BlogSheet  \nsdumitriu - (16:45): No  \nvmassol - (16:45): sdumitriu: I see in blog sheet:  \nvmassol - (16:45): {{include document=\"Blog.BlogCode\"/}}  \nvmassol - (16:45): {{velocity filter=\"none\"}}  \nvmassol - (16:45): {{html clean=\"false\" wiki=\"true\"}}  \nvmassol - (16:45): ##  \nvmassol - (16:45): ##  \nvmassol - (16:45): ##  \nvmassol - (16:45): #showBlogInfo($doc)  \nvmassol - (16:45): #if($context.action != 'inline')  \nvmassol - (16:45): \u00a0\u00a0#printBlog($doc)  \nvmassol - (16:45): #end  \nvmassol - (16:45): {{/html}}  \nvmassol - (16:45): {{/velocity}}  \nvmassol - (16:46): there are 3 velocity comments  \nvmassol - (16:46): do you know why?  \nsdumitriu - (16:46): ## ## ##?  \nvmassol - (16:46): yes  \nsdumitriu - (16:46): Just padding  \nvmassol - (16:46): dunno if that's the cause but it looks strange  \nvmassol - (16:46): padding for what?  \nsdumitriu - (16:46): Code  \nsdumitriu - (16:47): That should not affect anything at all, in the end those lines don't appear in the result  \nvmassol - (16:47): yep  \nsdumitriu - (16:49): Hm, the HttpOnly fix broke logout in IE8  \nsdumitriu - (16:49): I can't logout anymore  \nnpm joined #xwiki at 16:50  \ntmortagne - (16:51): jvelociter: FYI there is indeed a bug with $xwiki.hasAccessLevel('view', 'XWiki.XWikiGuest', 'xwiki:Main.WebHome') executed from a subwiki, i'm creating a jira issue and fixing it (found a fix)  \nvmassol - (16:52): jvelociter: ping me when you're ready for working on playground  \njvelociter - (16:52): vmassol: I am now  \ntmortagne - (16:52): the issue is that in that case right is check on user \"currentwiki:XWiki.XWikiGuest\" instead of having a special handling for guest user  \nvmassol - (16:53): jvelociter: so how do we proceed?  \nvmassol - (16:53): we need to reload from the template  \nvmassol - (16:53): then I do the import  \njvelociter - (16:53): vmassol: how can I help you ?  \njvelociter - (16:54): ok  \nvmassol - (16:54): then we save as the new template  \njvelociter - (16:55): vmassol: \u00a0should we be in read-only mode to do that ?  \nvmassol - (16:55): jvelociter: can we do that only for the playground wiki?  \nvmassol - (16:55): otherwise we can just change the rights  \nvmassol - (16:55): and reset them  \njvelociter - (16:55): I don't think so  \njvelociter - (16:55): anyway the import is not too long  \njvelociter - (16:56): I'm ready. let me know when I can fire it  \nvmassol - (16:56): fire!  \njvelociter - (16:56): started  \njvelociter - (16:56): and.. done  \njvelociter - (16:59): tmortagne: opk, cool  \nevalica left at 16:59 (Quit: Leaving.  \nEnygma` left at 16:59 (Quit: Leaving.  \nvmassol - (17:00): jvelociter: ready  \nvmassol - (17:00): you can backup  \ntmortagne - (17:00): jvelociter: XWIKI-5166  \njvelociter - (17:00): ok  \nvmassol - (17:00): sdumitriu: I noticed the blog has a pb on http://playground.xwiki.org/xwiki/bin/view/Blog/  \nvmassol - (17:01): you sure there's no page to import?  \nvmassol - (17:01): jvelociter: wait one sec  \nvmassol - (17:01): I'll try to import the blog app  \njvelociter - (17:01): ok, done  \njvelociter - (17:01): nvmd I can redo it  \njvelociter - (17:01): ping me again  \nvmassol - (17:02): jvelociter: ok can you do it again?  \nvmassol - (17:02): it's fixed  \nvmassol - (17:02): to the blog app need to be reimported  \nvmassol - (17:02): not sure which pages exactly though  \nvmassol - (17:02): actually jvelociter wait  \nvmassol - (17:02): I'll do a full import  \nvmassol - (17:04): jvelociter: done  \nvmassol - (17:04): can you backup?  \njvelociter - (17:05): done  \nvmassol - (17:05): cool  \njvelociter - (17:05): do you want to test a cleanup ?  \nvmassol - (17:05): yes ok  \nvmassol - (17:05): go  \njvelociter - (17:05): you have a change you can see?  \nvmassol - (17:06): yep  \njvelociter - (17:06): s/see/watch being clean/  \nvmassol - (17:06): go  \njvelociter - (17:06): OK, done  \nvmassol - (17:06): worked  \njvelociter - (17:06): cool  \njvelociter - (17:06): the cron is in place  \nvmassol - (17:08): ok news issue fixed  \nvmassol - (17:08): I need to upgrade the RN  \nvmassol - (17:08): update  \nvmassol - (17:11): ok\u2026 let's relax a bit now\u2026 pfeww\u2026 what a rush :)  \nvmassol - (17:11): anything left to do on xwiki.org?  \nvmassol - (17:11): anything amiss?  \nvmassol - (17:12): btw these orange lines are quite ugly in the skin....  \nCiprian left #xwiki at 17:13  \nvmassol - (17:13): hmm found a pb  \nvmassol - (17:13): seems we don't have the icons for the filtered table  \nvmassol - (17:13): for ex: http://code.xwiki.org/xwiki/bin/view/Macros/  \nvmassol - (17:14): jvdrean: do you remember if there's something to do to have them?  \nvmassol - (17:14): tmortagne: you haven't added a test\u2026 is it hard to add? :)  \ntmortagne - (17:15): vmassol: that's what i'm currently doing  \nvmassol - (17:15): hmm would b ebest to do it the other way around  \nvmassol - (17:15): write test first, make sure it fails  \nvmassol - (17:15): then fix  \nvmassol - (17:15): :)  \ntmortagne - (17:15): sure sure  \nvmassol - (17:16): hey we need to get better at testing in the xwiki project!  \nvmassol - (17:16): so let's all remind the others when they're not adding etsts  \nvmassol - (17:16): :)  \nvmassol - (17:16): no code hsould be committed without tests unless it's really too hard to add a test (and that's valid only for old code modification)  \ntmortagne - (17:16): it was a critical test i wanted to fix as soon as possible O:-)  \nvmassol - (17:16): yeah yeah  \nvmassol - (17:16): :)  \nvmassol - (17:17): it's not released anyway ;)  \nvmassol - (17:17): (I mean the fix)  \nsilviar left at 17:19 (Quit: Leaving.  \nvmassol - (17:20): ouhhhhhhh\u2026. don't look at this or you'll have bad dreams tonight. http://code.google.com/p/regexml/ ;)  \nCalebJamesDeLisl - (17:24): Configuration for gtksourceview looks like that.  \nCalebJamesDeLisl - (17:30): gtksourceview is a lot nicer than pygments, imagine that except in json.  \nvmassol - (17:31): tmortagne: wow the tests is a lot more complex than the fix ;)  \nvmassol - (17:32): (I know it's not your fault)  \ntmortagne - (17:32): vmassol: yeah i'm glad enough to have found a way to test this mess :)  \njvelociter - (18:06): vmassol: I'll work a little on the XAR diff app tonight and tomorrow. (I have to provide a diff as developer documentation). I have a question, why did you chose to use google-diff-match-patch for diffing versus what we use in XWiki ?  \nvmassol - (18:10): jvelociter: cool  \nvmassol - (18:11): re the reason I don't remember  \nvmassol - (18:11): the google diff project looked like what I needed  \nvmassol - (18:11): I guess it would have been more complex to reuse the xwiki code and I didn't know it  \nvmassol - (18:11): (not sure though, I don't remember the reason fully - I'm guessing)  \nvmassol - (18:12): but yes we need a proper module to do that in xwiki  \nvmassol - (18:12): what I did was a 2 hours POC for my own need  \nvmassol - (18:12): it wasn't meant to be something designed to be reused as part of the xwiki platform  \njvelociter - (18:14): I'm not going to spend too much time either, but I need a bit more than what it does. I need to be able to list pages that have been added, and pages that have been deleted, too  \nvmassol - (18:14): ok  \narkub left at 18:19 (Ping timeout: 252 seconds  \njvelociter - (18:20): but to be honest we could use it already for ourselves, to list pages changes along with release notes  \nvmassol - (18:21): yes that's the reason I started it  \nvmassol - (18:21): otp  \njvelociter - (18:21): it's basic but it works enough to serve that purpose  \njvelociter - (18:21): (I mean, we don't need to have it integrated in XWiki platform to start using it for ourselves)  \nvmassol - (18:21): yes  \narkub joined #xwiki at 18:34  \njvdrean left at 18:49 (Quit: Leaving.  \nKermitTheFragger left at 19:00 (Quit: Leaving  \narkub left at 19:07 (Ping timeout: 252 seconds  \nmflorea left at 19:08 (Quit: Leaving.  \nabusenius left at 19:10 (Ping timeout: 276 seconds  \nkibahop joined #xwiki at 19:28  \nkibahop left #xwiki at 19:36  \nabusenius joined #xwiki at 20:08  \nmariusbutuc left at 20:13 (Quit: Leaving.  \ntmortagne left at 20:17 (Quit: Leaving.  \nannacondan left at 21:22 (Quit: annacondan  \nmflorea joined #xwiki at 21:57  \nabusenius - (22:27): the problem with notifications on private pages is probably still unfixed, could somebody please put the workaround back to XWiki/WatchListMessage ?  \nabusenius - (22:27): sdumitriu, vmassol?  \nabusenius - (22:29): or was it untouched?  \nabusenius - (22:29): ah, sorry, I looked at dev.xwiki.org, sorry for the noise  \nvmassol - (22:30): abusenius: I don't know what sergiu did  \nabusenius - (22:32): it seems to be still there, last revision http://www.xwiki.org/xwiki/bin/view/XWiki/WatchListMessage?viewer=changes  \nvmassol - (22:34): hm the diff UI looks broken...  \nvmassol - (22:34): (but that's another pb)  \nvmassol - (22:35): seems it's rendered when it shouldn't not be  \nvmassol - (22:35): but yes it's still there  \nabusenius - (22:36): oh, indeed, looks strange  \nvmassol - (22:38): our diff sucks....  \nvmassol - (22:48): argh\u2026 yet another location we forgot: http://jira.xwiki.org/jira/browse/XE-658  \nvmassol - (22:48): :(  \nvmassol left at 23:14 (Quit: Leaving.  \n\n"}