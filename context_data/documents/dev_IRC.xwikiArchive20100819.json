{"id": "dev:IRC.xwikiArchive20100819", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100819", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\ncjdelisle - (00:02): http://tinycoke.com/\\_6ru5vjFEzkjU/screenshot-3.png that's the test frozen at the point where it should now be multi-select  \nsdumitriu - (00:11): abusenius: Just one tip for future escape fixes, I prefer to escape the variables each time they are used in the output instead of escaping them when reading from the request  \nsdumitriu - (00:12): Since a variable might be used at some point in a non-xml-output way  \nabusenius - (00:12): how about renaming the variable to escapedSomething?  \nsdumitriu - (00:12): Some things are safe, like:  \nsdumitriu - (00:12): - \u00a0\u00a0\u00a0\u00a0\u00a0#set($language = $request.language)  \nsdumitriu - (00:12): + \u00a0\u00a0\u00a0\u00a0\u00a0#set($language = \"$!{escapetool.xml($request.language)}\")  \nabusenius - (00:13): I prefer escaping once and for all, otherwise somebody will forget it on the next change  \nsdumitriu - (00:13): Yes, renaming it will reduce the risk of accidentally using it when it's supposed to be unescaped  \nabusenius - (00:14): I allready had this discussion about those 2 lines with tmortagne today ))  \nsdumitriu - (00:14): Hehe  \nsdumitriu - (00:14): Missed it  \ncjdelisle - (00:15): On the one hand having 'language' be exactly what was posted might be 'cleaner' but it makes it so easy to miss a spot then... pwnd.  \ncjdelisle - (00:17): committed the test for XWIKI-299  \nevalica left at 00:40 (Quit: Leaving.  \nbblfish joined #xwiki at 00:41  \ncjdelisle - (01:36): !who  \njbrBridge - (01:36): \\* members: ritsu.and.mio  \nabusenius left at 02:07 (Ping timeout: 240 seconds  \njvelociter left at 02:32 (Ping timeout: 252 seconds  \nsdumitriu left at 03:03 (Ping timeout: 245 seconds  \nbblfish left at 03:15 (Quit: Leaving.  \nbblfish joined #xwiki at 03:20  \nvenkatesh joined #xwiki at 04:46  \nvenkatesh left at 06:43 (Ping timeout: 240 seconds  \nvenkatesh joined #xwiki at 07:02  \nsylviarusu joined #xwiki at 08:37  \nasrfel joined #xwiki at 08:47  \nkibahop joined #xwiki at 08:51  \nkibahop left #xwiki at 08:51  \ntmortagne joined #xwiki at 08:55  \nvenkatesh left at 09:06 (Ping timeout: 265 seconds  \nvenkatesh joined #xwiki at 09:18  \nsburjan joined #xwiki at 09:20  \nbblfish1 joined #xwiki at 09:22  \nbblfish left at 09:22 (Read error: Connection reset by peer  \nsdumitriu joined #xwiki at 09:32  \nsburjan - (09:41): hello sdumitriu  \ncjdelisle - (09:44): Good morning all XWIKI-5419  \nsburjan - (09:44): good morning cjdelisle  \narkub joined #xwiki at 09:45  \nKermitTheFragger joined #xwiki at 09:48  \njvelociter joined #xwiki at 09:48  \nsylviarusu - (09:52): sburjan: hi  \nsburjan - (09:52): hello sylviarusu :)  \nsylviarusu - (09:52): can you please fix the image on this page? http://platform.xwiki.org/xwiki/bin/view/Features/PageEditing#HFullScreenMode  \nsylviarusu - (09:52): the panel in the screenshot doesn't show up correctly  \nsburjan - (09:53): okay. which version should I use for screenshot ? 2.4 final ?  \nsylviarusu - (09:53): yes  \nsburjan - (09:53): okay  \nsylviarusu - (09:53): thanks  \nsburjan - (09:53): yw  \nnpm left at 10:02 (\\*.net \\*.split  \njbrBridge left at 10:02 (\\*.net \\*.split  \nbblfish1 left at 10:02 (\\*.net \\*.split  \ntmortagne left at 10:02 (\\*.net \\*.split  \nsburjan` left at 10:02 (\\*.net \\*.split  \nKermitTheFragger left at 10:02 (\\*.net \\*.split  \nxipe left at 10:02 (\\*.net \\*.split  \nztane left at 10:02 (\\*.net \\*.split  \nSvenDowideit left at 10:02 (\\*.net \\*.split  \nvenkatesh left at 10:02 (\\*.net \\*.split  \ncjdelisle left at 10:02 (\\*.net \\*.split  \njbrBridge joined #xwiki at 10:03  \nsburjan - (10:06): sylviarusu, : can you tell me if it is okay now ?  \nsylviarusu - (10:09): sburjan: looks good  \nsburjan - (10:09): okay  \nsylviarusu - (10:15): sburjan: can you also please add printscreens of the improved objects & classes editors to that same page? Details here: http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise24#HObjectsandclasseseditorimprovements  \nsburjan - (10:15): okay  \nvenkatesh joined #xwiki at 10:16  \nsylviarusu left at 10:20 (Quit: Leaving.  \nEnygma` joined #xwiki at 10:40  \nsylviarusu joined #xwiki at 10:48  \ncjdelisle joined #xwiki at 10:51  \ncjdelisle left at 11:08 (\\*.net \\*.split  \nEnygma` left at 11:08 (\\*.net \\*.split  \nDragosRusu left at 11:08 (\\*.net \\*.split  \nsylviarusu left at 11:08 (\\*.net \\*.split  \nvenkatesh left at 11:08 (\\*.net \\*.split  \nproyvind left at 11:08 (\\*.net \\*.split  \nnuvolari left at 11:08 (\\*.net \\*.split  \narkub left at 11:08 (\\*.net \\*.split  \nsburjan left at 11:08 (\\*.net \\*.split  \njbrBridge left at 11:09 (\\*.net \\*.split  \njvelociter left at 11:09 (\\*.net \\*.split  \nasrfel left at 11:09 (\\*.net \\*.split  \nnuvolari joined #xwiki at 11:13  \nproyvind joined #xwiki at 11:13  \nasrfel joined #xwiki at 11:13  \nsburjan joined #xwiki at 11:13  \narkub joined #xwiki at 11:13  \njvelociter joined #xwiki at 11:13  \njbrBridge joined #xwiki at 11:13  \nvenkatesh joined #xwiki at 11:13  \nsylviarusu joined #xwiki at 11:13  \ncjdelisle` joined #xwiki at 11:13  \nEnygma` joined #xwiki at 11:13  \nDragosRusu joined #xwiki at 11:13  \ncjdelisle` left at 11:16 (\\*.net \\*.split  \nsylviarusu left at 11:16 (\\*.net \\*.split  \nvenkatesh left at 11:16 (\\*.net \\*.split  \nproyvind left at 11:16 (\\*.net \\*.split  \nnuvolari left at 11:16 (\\*.net \\*.split  \narkub left at 11:16 (\\*.net \\*.split  \nsburjan left at 11:16 (\\*.net \\*.split  \njbrBridge left at 11:16 (\\*.net \\*.split  \njvelociter left at 11:16 (\\*.net \\*.split  \nasrfel left at 11:16 (\\*.net \\*.split  \ncjdelisle` joined #xwiki at 11:17  \nsylviarusu joined #xwiki at 11:17  \nvenkatesh joined #xwiki at 11:17  \njbrBridge joined #xwiki at 11:17  \njvelociter joined #xwiki at 11:17  \narkub joined #xwiki at 11:17  \nsburjan joined #xwiki at 11:17  \nasrfel joined #xwiki at 11:17  \nproyvind joined #xwiki at 11:17  \nnuvolari joined #xwiki at 11:17  \nlucaa joined #xwiki at 11:18  \nfmancinelli joined #xwiki at 11:18  \nbblfish1 joined #xwiki at 11:18  \ntmortagne joined #xwiki at 11:18  \nsburjan` joined #xwiki at 11:18  \nztane joined #xwiki at 11:18  \nKermitTheFragger joined #xwiki at 11:19  \nxipe joined #xwiki at 11:19  \nabusenius joined #xwiki at 11:19  \nnpm joined #xwiki at 11:19  \nSvenDowideit joined #xwiki at 11:20  \n12WABJZ2O joined #xwiki at 11:20  \nlucaa left at 11:21 (Ping timeout: 281 seconds  \nproyvind\\_ joined #xwiki at 11:22  \n12WABJZ2O - (11:22): hi.  \n12WABJZ2O is now known as kapoof (4e22ed48@gateway/web/freenode/session  \npenyaskito joined #xwiki at 11:22  \ncjdelisle` left at 11:22 (\\*.net \\*.split  \npenyaskito left at 11:22 (\\*.net \\*.split  \nsylviarusu left at 11:22 (\\*.net \\*.split  \nvenkatesh left at 11:22 (\\*.net \\*.split  \nproyvind left at 11:22 (\\*.net \\*.split  \nnuvolari left at 11:22 (\\*.net \\*.split  \narkub left at 11:22 (\\*.net \\*.split  \nsburjan left at 11:22 (\\*.net \\*.split  \nproyvind\\_ left at 11:23 (\\*.net \\*.split  \njbrBridge left at 11:23 (\\*.net \\*.split  \njvelociter left at 11:23 (\\*.net \\*.split  \nasrfel left at 11:23 (\\*.net \\*.split  \nkapoof - (11:23): hi. my xwiki server rashed recently and i have the suspicion this log message has something to do with it. : Error loading attachment content when deleting attachment UrlaubsubersichtWiki.bmp of doc Main.Urlaubsplaner .  \nkapoof - (11:23): i also found this bug request: http://jira.xwiki.org/jira/browse/XWIKI-4495?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#issue-tabs  \nkapoof - (11:23): has it been fixed`?  \nkapoof - (11:23): but still, that doenst explain why the server crashed, does it?  \nlucaa joined #xwiki at 11:24  \nkapoof - (11:31): also found the following quote on the xwiki page: \"Note that attachments are currently very memory intensive and if you manipulate large attachments you'll need a lot more heap memory (roughly 30 times the size of your attachment). We're working on fixing this.\"  \nkapoof - (11:34): what do you mean with manipulating attachments? thought you can only upload and delete them  \npenyaskito joined #xwiki at 11:35  \nproyvind\\_ joined #xwiki at 11:35  \ncjdelisle` joined #xwiki at 11:35  \nsylviarusu joined #xwiki at 11:35  \nvenkatesh joined #xwiki at 11:35  \njbrBridge joined #xwiki at 11:35  \njvelociter joined #xwiki at 11:35  \narkub joined #xwiki at 11:35  \nsburjan joined #xwiki at 11:35  \nasrfel joined #xwiki at 11:35  \nnuvolari joined #xwiki at 11:35  \nkapoof left at 11:36 (Changing host  \nkapoof joined #xwiki at 11:36  \nabusenius - (11:36): kapoof: manipulating = upload or delete  \nabusenius - (11:36): was there an OutOfMEmory error in the log?  \nkapoof - (11:37): there was something in the catalina.out about OutOfMemory. but this was three days before the error \"Error loading attachment content when deleting attachment....\" \u00a0(in xwiki.log) \u00a0which is the last output before the crash  \nabusenius - (11:40): can you post more of the log somewhere?  \nkapoof - (11:41): sure  \nkapoof - (11:41): wait a sec  \nkapoof - (11:44): from the catalina.out: http://pastie.org/pastes/1101719 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0xwiki.log: http://pastie.org/1101817  \nkapoof - (11:44): abusenius:  \nkapoof - (11:44): the out of memory error occured on the 6th  \nkapoof - (11:44): but on the 9th the system was still runing....  \nkapoof - (11:45): the next entry in the xwiki.log is from one week later, when our sysadmin returned from vacation and restarted the server  \nkapoof - (11:45): :)  \ncjdelisle` - (11:46): If the OutOfMemoryError happened that far back, I doubt it has anything to do with the problem.  \ntmortagne - (11:47): the \"A fatal error has been detected by the Java Runtime Environment: \" is definitely a crash of Java and it says it's because of a \"java.lang.OutOfMemoryError\"  \nabusenius - (11:47): I guess /tmp/hs\\_err\\_pid7661.log is not there any more  \nabusenius - (11:47): (there is probably a correct date)  \ntmortagne - (11:47): ( in http://pastie.org/pastes/1101719 )  \nabusenius - (11:48): btw, kapoof, how big was this bmp file?  \nbblfish1 left at 11:50 (Quit: Leaving.  \nbblfish joined #xwiki at 11:51  \nbblfish left at 11:52 (Client Quit  \ncjdelisle` - (11:53): XWIKI-299  \nkapoof - (11:53): ah ok. i just looked in the pid.log, and the outofmemory error happened when the xwiki installation crashed  \nkapoof - (11:53): dont know exactly, but i could not have been more than 10mb  \nkapoof - (11:54): didnt change the default limit  \ntmortagne - (11:54): 10mb is alreaddy pretty big with default configuration i think  \nkapoof - (11:54): and i just uploaded numerous file each 10MB \u00a0big, there was no problem  \ncjdelisle` - (11:59): is this on a vps where swapping isn't allowed?  \nkapoof - (11:59): vps?  \nkapoof - (12:00): but no, swapping is allowd  \ncjdelisle` - (12:00): ok, that answers the question. Some services disable swapping and limit your ram usage.  \nkapoof - (12:04): http://www.xwiki.org/xwiki/bin/view/FAQ/Howtoincreasethemaximumattachmentsize \u00a0: how can i edit the XWikiPreferences Class. If i open it, the admin menu shows, but i cant edit the attributes  \nkapoof - (12:04): ah ok. nevermind  \nkapoof - (12:05): upload\\_maxsize is set to 5 in the Preferences. but he says i can upload files up to 10mb  \nkapoof - (12:08): also, i thought i have to set it in bytes. not megabytes  \nEnygma` left at 12:12 (Ping timeout: 276 seconds  \nkapoof - (12:15): i just changed the upload\\_maxsize param to 1 instead of five, but i still can upload 10mb attachments :/  \ntmortagne - (12:17): your issue seems related too the memory allocated to Java and not to upload\\_maxsize  \ntmortagne - (12:17): s/too/to/  \nkapoof - (12:18): yeah but if i reduce the xwiki attachment size the xwiki memory consumption will be lowered  \nkapoof - (12:18): i already extended the java heap size  \ncjdelisle` - (12:19): I don't think it's -Xmx heap size. \u00a0\u00a0I think it's the amount of ram + swap space on the machine.  \ntmortagne - (12:20): yes maybe, not enouth -Xmx would have made Java slow but not crash it probably  \ncjdelisle` - (12:20): If it's a linux box, I think there's also a setting for how much memory each user can have. The Tomcat user might need to have permission to use more.  \nkapoof - (12:21): i will look into that  \ncjdelisle` left #xwiki at 12:21  \nkapoof - (12:21): and the thing with max. attachment size? any1 knows how to change that  \ncjdelisle joined #xwiki at 12:21  \ncjdelisle - (12:22): You can change ipload\\_maxsize (I think it is in bytes) but you will hit a pretty solid wall around 30MB  \nkapoof - (12:24): i wanted to reduce it. in the documentation there is also written its in bytes. but the value i found when looking upload\\_maxsize up was: 5; i know changed it to 1, saved - and i could still upload 10mb files  \ncjdelisle - (12:24): 1 byte is not very much data. about 1/10,000,000 of 10Mb  \nkapoof - (12:26): i know. but the value which was there for the whole time was 5.  \nkapoof - (12:26): 5 byte upload limit while i was able to upload files with 10mb  \nkapoof - (12:26): that doenst sound right?!  \ntmortagne left at 12:26 (Quit: Leaving.  \nbblfish joined #xwiki at 12:28  \nkapoof - (12:29): changed the value from 5 to 1048576 (1MB in bytes) but still no effect. still able to upload 10mb files  \nkapoof - (12:33): ah i was wrong. it was the size of the field. the actual value is around 30mb. which still doesnt explain why i cant upload files larger than 10mb when the limit is set to 30  \ncjdelisle - (12:36): As said, there are other limits, it uses lots of ram. On my computer over ~50M things start to fail.  \ncjdelisle - (12:36): The message you see is generic, no matter what breaks you get the same message.  \nbblfish1 joined #xwiki at 12:56  \ncjdelisle - (12:57): maybe it's a good idea for the escaping test to warn about instances of &#[0-9]\\*; found in files.  \ncjdelisle - (12:58): or more correctly: \u00a0&amp;#[0-9]\\*;  \nbblfish left at 13:00 (Ping timeout: 252 seconds  \nabusenius - (13:05): cjdelisle: why?  \ncjdelisle - (13:05): Easier than reviewing all of the escapes ;)  \ncjdelisle - (13:06): I'm going to get some coffee. We can talk about it later.  \nabusenius - (13:06): ok  \nkapoof left at 13:09 (Quit: Page closed  \nvenkatesh left at 13:21 (Ping timeout: 252 seconds  \nsylviarusu left at 13:25 (Quit: Leaving.  \nvenkatesh joined #xwiki at 13:39  \nlucaa left at 13:40 (Ping timeout: 276 seconds  \nlucaa joined #xwiki at 13:43  \narkub left at 13:44 (Ping timeout: 258 seconds  \nbblfish1 left at 13:52 (Ping timeout: 272 seconds  \nbblfish joined #xwiki at 13:58  \nasrfel left at 14:16 (Read error: Connection reset by peer  \nasrfel joined #xwiki at 14:16  \nsylviarusu joined #xwiki at 14:20  \nsylviarusu left at 14:37 (Quit: Leaving.  \nsilviar joined #xwiki at 14:38  \nlucaa left at 14:39 (Quit: Leaving.  \nvenkatesh left at 15:25 (Ping timeout: 265 seconds  \nabusenius - (15:43): sdumitriu: ping (reminder jira rights)  \nsdumitriu - (15:43): Thanks  \nsdumitriu - (15:45): Try now  \nsilviar left at 15:46 (Quit: Leaving.  \nabusenius - (15:47): hm, don't see any difference  \nsdumitriu - (15:48): Can you close other people's issues?  \nabusenius - (15:49): there is still no button for closing  \nsburjan left at 16:05 (Ping timeout: 258 seconds  \nabusenius - (16:07): I need some help with events & observation manager, does someone know how it works?  \nabusenius - (16:08): I need to know if 2 different events sent by the same thread will be handled in the same thread if there is one listener  \nflorinciu joined #xwiki at 16:33  \nlucaa joined #xwiki at 16:47  \nbblfish left at 17:06 (Quit: Leaving.  \nasrfel left at 17:06 (Quit: Leaving.  \nlucaa1 joined #xwiki at 17:38  \nlucaa left at 17:39 (Ping timeout: 252 seconds  \nfmancinelli left at 18:11 (Ping timeout: 272 seconds  \nlucaa1 left at 18:23 (Read error: Connection reset by peer  \nabusenius left at 18:24 (Ping timeout: 246 seconds  \nlucaa joined #xwiki at 18:26  \nKermitTheFragger left at 19:38 (Quit: Leaving  \nabusenius joined #xwiki at 19:52  \nfmancinelli joined #xwiki at 20:54  \nproyvind\\_ left at 21:20 (Changing host  \nproyvind\\_ joined #xwiki at 21:20  \nproyvind\\_ is now known as proyvind (peroyvind@mandriva/developer/assembly/proyvind  \nflorinciu left at 22:28 (Quit: Leaving.  \nfmancinelli left at 23:34 (Ping timeout: 258 seconds  \nlucaa left at 23:47 (Ping timeout: 252 seconds  \nlucaa joined #xwiki at 23:50  \n\n"}