{"id": "dev:IRC.xwikiArchive20150817", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150817", "title": "IRC Archive for channel #xwiki on 17 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<OSIMasson>\u00a0has joined #xwiki  \n02:09\u00a0<OSIMasson>\u00a0has quit  \n04:12\u00a0<cpe\\_>\u00a0has joined #xwiki  \n04:16\u00a0<cpe>\u00a0has quit  \n04:16\u00a0<cpe\\_>\u00a0is now known as <cpe>  \n07:09\u00a0<msmeria>\u00a0has joined #xwiki  \n08:07\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:00\u00a0<woshilapin>\u00a0has quit  \n09:02\u00a0<polx>\u00a0has joined #xwiki  \n09:04\u00a0<polx>\u00a0Hello XWiki experts, I'm trying to save funky characters into my XWiki 7.1.1 and seem to fail. My DB \u00a0is properly created but the funky characters (notably the greek lambda) gets converted into question marks). How can I debug that? (storage MySQL, DB with default character set utf8 collate utf8\\_bin, connection in hibernate with ?useUnicode=true&amp;charsetEncoding=utf-8. What else??  \n09:07\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:07\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:12\u00a0<tmortagne>\u00a0polx: could be on tomcat or whatever is in front of tomcat side  \n09:12\u00a0<tmortagne>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Encoding  \n09:17\u00a0<Slashman>\u00a0has joined #xwiki  \n09:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:52\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:53\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n09:57\u00a0<gdelhumeau>\u00a0has quit  \n10:01\u00a0<Trefex>\u00a0has joined #xwiki  \n10:08\u00a0<polx>\u00a0tmortagne: this is the default jetty of xwiki. I even tried changing \"encoding\" in webdefault.xml to have it all utf-8 but nothing was changed. This is getting really crazy.  \n10:10\u00a0<tmortagne>\u00a0the default should be fine indeed  \n10:10\u00a0<tmortagne>\u00a0(that's what is used for automated tests)  \n10:10\u00a0<tmortagne>\u00a0is it ok when you use hsqldb setup ?  \n10:11\u00a0<tmortagne>\u00a0(to be sure it's not something between you and jetty)  \n10:13\u00a0<polx>\u00a0I guess I can try it indeed. Doing.  \n10:16\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:19\u00a0<Pbas>\u00a0has joined #xwiki  \n10:24\u00a0<evalica>\u00a0has joined #xwiki  \n10:31\u00a0<msmeria>\u00a0has quit  \n10:32\u00a0<msmeria>\u00a0has joined #xwiki  \n10:45\u00a0<ClemensR>\u00a0has joined #xwiki  \n10:47\u00a0<polx>\u00a0tmortagne: with HSSQL it just works. So it's the DB.  \n10:47\u00a0<tmortagne>\u00a0ok  \n10:48\u00a0<polx>\u00a0How can I adjust? The table has b een created with the default charset. and the charset is set in parameter.  \n10:50\u00a0<tmortagne>\u00a0you sure really sure the default charset was utf8 when you created the database ?  \n10:50\u00a0<tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Admin+Tools+Application extension have some check for this I think  \n10:50\u00a0<tmortagne>\u00a0you can install it with extension manager  \n10:58\u00a0<polx>\u00a0tmortagne: Found it. The error was charsetEncoding=utf-8 instead of characterEncoding=utf-8. With the latter it works. I'll edit the MySQL admin page.  \n11:01\u00a0<polx>\u00a0Confirmed working with arabic too.  \n11:01\u00a0<tmortagne>\u00a0indeed I have characterEncoding, not sure why it's wrong in MySQL admin page since MySQL is what we use the most in production  \n11:02\u00a0<tmortagne>\u00a0polx: where did you see charsetEncoding exactly ?  \n11:02\u00a0<tmortagne>\u00a0don't see it in http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMySQL  \n11:28\u00a0<martin-h>\u00a0has quit  \n11:29\u00a0<martin-h>\u00a0has joined #xwiki  \n13:06\u00a0<Ramona2>\u00a0has joined #xwiki  \n13:30\u00a0<Ramona2>\u00a0has quit  \n13:30\u00a0<cpe>\u00a0has quit  \n13:31\u00a0<Ramona2>\u00a0has joined #xwiki  \n13:38\u00a0<Ramona2>\u00a0has quit  \n14:01\u00a0<Ramona2>\u00a0has joined #xwiki  \n14:18\u00a0<polx>\u00a0tmortagne: adjustment done. Thanks for your help.  \n14:18\u00a0<polx>\u00a0maybe it makes sense to change the default hibernate\u2026 need a jira issue?  \n14:21\u00a0<tmortagne>\u00a0the default mysql (the build time generated mysql setup) is actually on https://github.com/xwiki/xwiki-enterprise/blob/master/pom.xml#L333 and is ok but if you are talking about the example in https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/hibernate.cfg.xml.vm improving it won't harm sure  \n14:23\u00a0<Ramona2>\u00a0has quit  \n14:58\u00a0<Slashman>\u00a0hello, I have very problematic issue since the update from 7.0.1 to 7.1.1: when I add an attachment to a wiki page, it is added to the \"undefined\" page in the current space  \n14:58\u00a0<Slashman>\u00a0the display of attachment on every page is wrong  \n14:59\u00a0<Slashman>\u00a0it shows only pages that are also \"undefined\"  \n14:59\u00a0<msmeria>\u00a0has quit  \n15:01\u00a0<tmortagne>\u00a0Slashman: looks ok on xwiki.org also on 7.1.1 and it's the first time I see this issue reported, I don't have much idea of what could cause that  \n15:01\u00a0<tmortagne>\u00a0try cleaning your browser cache maybe since there is some js involved I think when uploading attachment  \n15:02\u00a0<tmortagne>\u00a0you should also probable check if you have some js error or something in whatever debug tool your browser have  \n15:02\u00a0<tmortagne>\u00a0in FF that would be Shift+Ctrl+K I think  \n15:03\u00a0<tmortagne>\u00a0s/probable/probably/  \n15:03\u00a0<Slashman>\u00a0tmortagne: the issue is global for every users here, also the wysiwig doesn't work anymore (it never start, we have only the wheel)  \n15:04\u00a0<tmortagne>\u00a0hmm maybe some javascript file is missing or something on your server for some reason  \n15:04\u00a0<tmortagne>\u00a0try checking the console or network tab to see if your browser fail to download some resources  \n15:04\u00a0<Slashman>\u00a0there was some issue during update with extension not updated :/  \n15:05\u00a0<Slashman>\u00a0but when I try to update them, the button \"update\" does nothing... I really don't know what to do now  \n15:05\u00a0<tmortagne>\u00a0looks like you have a general javascipt issue  \n15:06\u00a0<tmortagne>\u00a0as I said you should check in your browser if it fail to download some web resources  \n15:06\u00a0<tmortagne>\u00a0Shift+Ctrl+Q and refresh in Firefox, I have no idea in other browsers  \n15:07\u00a0<Slashman>\u00a0it tries to load \"bin/lock/XWiki/XWikiPreferences?ajax=1&action=undefined&\"  \n15:07\u00a0<tmortagne>\u00a0Slashman: is there anything special about your setup like XWiki used as root application ?  \n15:07\u00a0<Slashman>\u00a0which returns \"No Content\"  \n15:07\u00a0<tmortagne>\u00a0there is a bug in 7.1.1 when XWiki is used as root app  \n15:07\u00a0<Slashman>\u00a0Xwiki is root indeed  \n15:08\u00a0<tmortagne>\u00a0that must be it then  \n15:08\u00a0<tmortagne>\u00a0let me find you the issue  \n15:08\u00a0<tmortagne>\u00a0http://jira.xwiki.org/browse/XWIKI-12342  \n15:10\u00a0<tmortagne>\u00a0Slashman: while waiting for 7.1.2 final release you can replace xwiki-platform-url-container jar with the one on http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki-platform-url-container/7.1.2-SNAPSHOT/  \n15:10\u00a0<Slashman>\u00a0tmortagne: thanks! will do that  \n15:25\u00a0<Slashman>\u00a0tmortagne: I replaced /usr/lib/xwiki/WEB-INF/lib/xwiki-platform-url-container-7.1.1.jar by the latest snapshot but it didn't solve the issue, do I need to clear some cache on the server or something ?  \n15:25\u00a0<tmortagne>\u00a0Slashman: did you restarted tomcat ?  \n15:25\u00a0<Slashman>\u00a0sure  \n15:27\u00a0<tmortagne>\u00a0could you paste the HTML source of the page you get on pastebin or something  \n15:27\u00a0<Slashman>\u00a0any page in particular ?  \n15:27\u00a0<tmortagne>\u00a0not really  \n15:31\u00a0<Slashman>\u00a0tmortagne: sandbox page : http://apaste.info/nN8  \n15:31\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:32\u00a0<tmortagne>\u00a0the URLs you get in the <head> seems ok so at least what is described in http://jira.xwiki.org/browse/XWIKI-12342 seems ok  \n15:32\u00a0<tmortagne>\u00a0you should check again if the browser fail to load some resource  \n15:33\u00a0<Slashman>\u00a0I don't see any \"undefined\" now  \n15:33\u00a0<tmortagne>\u00a0so what issue do you get exactly now ?  \n15:34\u00a0<Slashman>\u00a0same, the wysiwig doesn't work, cannot update extension  \n15:34\u00a0<Slashman>\u00a0looking for the attachment now  \n15:35\u00a0<Slashman>\u00a0same problem with attachment  \n15:35\u00a0<tmortagne>\u00a0clear the browser cache  \n15:35\u00a0<tmortagne>\u00a0maybe you have some resource with wrong URL in the cache  \n15:36\u00a0<Slashman>\u00a0same thing  \n15:38\u00a0<Slashman>\u00a0oh, I still have some \"undefined\"  \n15:38\u00a0<Slashman>\u00a0didn't see it at first, it changed place  \n15:38\u00a0<Slashman>\u00a0\u00a0/bin/lock/XWiki/XWikiPreferences?ajax=1&action=undefined&  \n15:39\u00a0<Slashman>\u00a0if I remove the root and add /xwiki, it should work, right ?  \n15:39\u00a0<tmortagne>\u00a0Slashman: 7.1.1 works fine as /xwiki AFAIK yes  \n15:40\u00a0<tmortagne>\u00a0but would be nice to find exactly what is the issue to fix it  \n15:40\u00a0<tmortagne>\u00a0could you look at the network tab or whatever is the equivalent in the browser you have  \n15:40\u00a0<Slashman>\u00a0I just want to try with the xwiki context to see if it works with the context  \n15:43\u00a0<Slashman>\u00a0doesn't work with /xwiki as context  \n15:45\u00a0<Slashman>\u00a0I'm lost... maybe the update failed on many level because of the root context  \n15:46\u00a0<Slashman>\u00a0it's basically unusable now since we cannot add attachment nor use wysiwig :'(  \n15:46\u00a0<Slashman>\u00a0can I force an update to the same version somehow ?  \n15:48\u00a0<Slashman>\u00a0I'm using debian package if this help  \n15:50\u00a0<tmortagne>\u00a0Slashman: I get you can use --reinstall  \n15:51\u00a0<tmortagne>\u00a0or uninstall ad then install it  \n15:51\u00a0<tmortagne>\u00a0(uninstall don't touch data)  \n15:52\u00a0<tmortagne>\u00a0to uninstall/install you need to uninstall xwiki-enterprise-common  \n15:52\u00a0<tmortagne>\u00a0and then whatever top level package you use  \n15:53\u00a0<Slashman>\u00a0trying \"aptitude reinstall xwiki-enterprise-common xwiki-enterprise-pgsql-common xwiki-enterprise-tomcat7-common xwiki-enterprise-tomcat7-pgsql\"  \n15:54\u00a0<Slashman>\u00a0is there any way to restart the update wizard ?  \n15:54\u00a0<Slashman>\u00a0damn it, reinstall did work  \n15:54\u00a0<tmortagne>\u00a0that would not help much since you have the new data already  \n15:55\u00a0<Slashman>\u00a0with xwiki context, reinstall worked  \n15:55\u00a0<tmortagne>\u00a0(restart update wizard I mean)  \n15:55\u00a0<tmortagne>\u00a0ok  \n15:55\u00a0<tmortagne>\u00a0try putting xwiki as root with 7.1.2 snapshot jar now maybe  \n15:55\u00a0<Slashman>\u00a0updating extension first  \n16:00\u00a0<Slashman>\u00a0all extension were successfully updated, trying to replace the jar by the new one now  \n16:01\u00a0<Slashman>\u00a0the xwikibot can be bothersome sometime ^^  \n16:02\u00a0<Slashman>\u00a0tmortagne: the issue is still here with the latest jar  \n16:03\u00a0<Slashman>\u00a0I used this one: the xwikibot can be bothersome sometime ^^  \n16:03\u00a0<tmortagne>\u00a0Slashman: I think it's a different issue than the one described in the jira issue, would be great if you could report it with the maximum details  \n16:03\u00a0<Slashman>\u00a0I used this one: xwiki-platform-url-container-7.1.2-20150817.123119-25.jar  \n16:04\u00a0<Slashman>\u00a0I don't know exactly how to describe it but I'll try  \n16:04\u00a0<Slashman>\u00a0it seems that the wiki simply doesn't work as ROOT context  \n16:05\u00a0<tmortagne>\u00a0Slashman: just indicate how to reproduce it, that's the most import part  \n16:05\u00a0<Slashman>\u00a0surely this should be easy to reproduce? I have the issue on 2 differents wikis  \n16:05\u00a0<Slashman>\u00a0ok  \n16:05\u00a0<tmortagne>\u00a0if we have enough information to reproduce it's usually easy to fix  \n16:05\u00a0<\\_cjd\\_>\u00a0has joined #xwiki  \n16:09\u00a0<\\_init\\_cjd>\u00a0has joined #xwiki  \n16:10\u00a0<\\_cjd\\_>\u00a0has quit  \n16:10\u00a0<tmortagne>\u00a0Slashman: don't forget to indicate that it's not a duplicate of XWIKI-12342 since you use the snapshot jar  \n16:10\u00a0<tmortagne>\u00a0(I'm probably not the first one that will have time to look at it since i will have to go soon)  \n16:18\u00a0<\\_init\\_cjd>\u00a0is now known as <cjd>  \n16:28\u00a0<OSIMasson>\u00a0has quit  \n16:28\u00a0<Slashman>\u00a0tmortagne: is there an issue with jira? I cannot create the issue  \n16:29\u00a0<tmortagne>\u00a0not that I know, do you get an error ?  \n16:30\u00a0<tmortagne>\u00a0at least I see the create issue button on my side and I just created a few version and before that  \n16:30\u00a0<tmortagne>\u00a0s/and before that/and created some before that/  \n16:31\u00a0<Slashman>\u00a0no, the windows does not close when I hit \"create\"  \n16:31\u00a0<tmortagne>\u00a0Slashman: I just got notification for new issue you created  \n16:31\u00a0<Slashman>\u00a0it created 2 issues sorry  \n16:31\u00a0<tmortagne>\u00a0http://jira.xwiki.org/browse/XWIKI-12404  \n16:31\u00a0<Slashman>\u00a0could you close duplicate the first one? the second one has more details  \n16:31\u00a0<tmortagne>\u00a0removing the second one  \n16:32\u00a0<Slashman>\u00a0hm, ok, I'll add the details about the duplicate in the first one then  \n16:33\u00a0<tmortagne>\u00a0ha sorry, deleted it before seeing your message  \n16:33\u00a0<tmortagne>\u00a0looks like you also created http://jira.xwiki.org/browse/XE-1495  \n16:33\u00a0<Slashman>\u00a0rofl, sorry  \n16:34\u00a0<tmortagne>\u00a0deleting it ?  \n16:34\u00a0<Slashman>\u00a0you can keep one of them, I added the info to the comment on the first one  \n16:35\u00a0<Slashman>\u00a0I also did a lot of typo, but well, if something is unclear, I guess you can ask me  \n16:35\u00a0<Slashman>\u00a0seems like your jira is a bit slow I think  \n16:36\u00a0<Slashman>\u00a0or I add a big spike on my end  \n16:36\u00a0<Slashman>\u00a0s/add/had/  \n16:36\u00a0<tmortagne>\u00a0deleting the XE one  \n16:36\u00a0<tmortagne>\u00a0seems clear to me  \n16:37\u00a0<tmortagne>\u00a0actually you added the snapshot comment to XE-1495  \n16:37\u00a0<tmortagne>\u00a0keeping this one  \n16:37\u00a0<Slashman>\u00a0ok, thanks :)  \n16:38\u00a0<tmortagne>\u00a0thanks for the report, looks like we were pretty bad with root app on 7.1.x...  \n16:39\u00a0<Slashman>\u00a0I guess we'll use the wiki with the xwiki context for the internal one  \n16:40\u00a0<Slashman>\u00a0the real issue is that I updated an other one before spotting it, and this one is used by customer for documentation  \n16:41\u00a0<tmortagne>\u00a0Slashman: you can probably use some URL rewritting on apache side in the meantime  \n16:41\u00a0<Slashman>\u00a0tmortagne: I guess you're right  \n16:51\u00a0<Slashman>\u00a0tmortagne: do you have any idea of a rewrite rule for apache 2.2? my previous rule was simply \"ProxyPass / ajp://localhost:8009/\"  \n16:52\u00a0<tmortagne>\u00a0Slashman: really not an expert on apache setup sorry  \n16:52\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:52\u00a0<Slashman>\u00a0tmortagne: okay, no prob, I'll look some more  \n16:56\u00a0<cjd>\u00a0has quit  \n17:06\u00a0<martin-h>\u00a0has quit  \n17:09\u00a0<martin-h>\u00a0has joined #xwiki  \n17:15\u00a0<polx>\u00a0has quit  \n17:19\u00a0<iphar>\u00a0has joined #xwiki  \n17:19\u00a0<iphar>\u00a0hello, what is the syntax to make a comment in the code for xwiki ver 1.6.13286 ?  \n17:20\u00a0<iphar>\u00a0yes our company are dinosaurs that like to use out of date stuff and doesn't like change :)  \n17:21\u00a0<iphar>\u00a0and <!-- --> is ok but I can't quite recall the standard xwiki way..  \n17:22\u00a0<ClemensR>\u00a0there is the {{comment}} macro, but I am not sure if this was already there in 1.6, \u00a0that was before my time ;)  \n17:22\u00a0<ClemensR>\u00a0if this uses xwiki/1.0 syntax, maybe velocity comments (two ##) might work  \n17:22\u00a0<polx>\u00a0has joined #xwiki  \n17:23\u00a0<cjd>\u00a0has joined #xwiki  \n17:24\u00a0<iphar>\u00a0ok, let me try.. the reason I ask is because when I try a comment within a comment I get crap displayed that I dont' want  \n17:24\u00a0<tmortagne>\u00a0yes you can use velocity comment as suggested by ClemensR  \n17:25\u00a0<ClemensR>\u00a0nested HTML comments are not supported, (by HTML, not an XWiki issue)  \n17:25\u00a0<tmortagne>\u00a0yes better use Velocity comment since it won't end up in the result at all  \n17:26\u00a0<gsmeria>\u00a0has left #xwiki  \n17:26\u00a0<tmortagne>\u00a0iphar: see http://velocity.apache.org/engine/devel/user-guide.html#Comments for more details  \n17:27\u00a0<iphar>\u00a0thanks guys, it does work; same issue with nested comments :/  \n17:27\u00a0<iphar>\u00a0thanks tmortagne !  \n17:27\u00a0<iphar>\u00a0I will try #\\* and \\*#  \n17:27\u00a0<iphar>\u00a0I think this will allow nested comments  \n17:28\u00a0<tmortagne>\u00a0not sure what you mean by nested comment but you can have comment in the middle of a line with #\\* \\*# syntax  \n17:28\u00a0<iphar>\u00a0oh yes, works like a charm  \n17:28\u00a0<iphar>\u00a0lets call them inception comments.. comment within a comment  \n17:29\u00a0<iphar>\u00a0{{Some text #\\* comment within a comment \\*# }}  \n17:29\u00a0<iphar>\u00a0if I use {{Comment {{inception}} }} then I get {{inception}} displayed but not with #\\* and \\*#  \n17:50\u00a0<tmortagne>\u00a0iphar: forget about {{something}}, ClemensR was talking about the actual {{comment}} macro which is a 2.0 syntax you don't have (basically you only have xwiki/1.0 syntax in your version)  \n17:57\u00a0<tmortagne>\u00a0[ANN] XWiki 7.1.2 released  \n17:59\u00a0<KermitTheFragger>\u00a0has quit  \n18:01\u00a0<ClemensR>\u00a0yow ! :)  \n18:02\u00a0<tmortagne>\u00a0has quit  \n18:19\u00a0<woshilapin>\u00a0has quit  \n18:28\u00a0<cjd>\u00a0has quit  \n18:41\u00a0<Trefex>\u00a0has quit  \n18:41\u00a0<gdelhumeau\\_>\u00a0has quit  \n18:43\u00a0<ClemensR>\u00a0has left #xwiki  \n18:50\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n18:53\u00a0<iphar>\u00a0clear :)  \n19:07\u00a0<woshilapin>\u00a0has joined #xwiki  \n20:17\u00a0<evalica>\u00a0has quit  \n21:19\u00a0<polx>\u00a0has quit  \n21:26\u00a0<Enygma`>\u00a0has quit  \n21:36\u00a0<OSIMasson>\u00a0has quit  \n21:43\u00a0<polx>\u00a0has joined #xwiki  \n21:57\u00a0<cpe>\u00a0has joined #xwiki  \n22:02\u00a0<polx>\u00a0has quit  \n22:16\u00a0<woshilapin>\u00a0has quit  \n22:19\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:28\u00a0<woshilapin>\u00a0has joined #xwiki  \n22:34\u00a0<OSIMasson>\u00a0has quit  \n22:37\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:43\u00a0<Slashman>\u00a0has quit  \n22:46\u00a0<OSIMasson>\u00a0has quit  \n22:55\u00a0<polx>\u00a0has joined #xwiki  \n23:09\u00a0<[d\\_\\_d]>\u00a0has quit  \n23:09\u00a0<OSIMasson>\u00a0has joined #xwiki  \n23:11\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki  \n23:58\u00a0<OSIMasson>\u00a0has quit\n"}