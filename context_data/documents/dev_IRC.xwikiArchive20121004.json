{"id": "dev:IRC.xwikiArchive20121004", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121004", "title": "IRC Archive for channel #xwiki on 04 October 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:14\u00a0<vmassol>\u00a0has joined #xwiki  \n00:24\u00a0<coud4>\u00a0has quit  \n00:25\u00a0<vmassol>\u00a0has quit  \n00:52\u00a0<vmassol>\u00a0has joined #xwiki  \n00:53\u00a0<abusenius>\u00a0has quit  \n01:03\u00a0<vmassol>\u00a0has quit  \n01:30\u00a0<vmassol>\u00a0has joined #xwiki  \n01:40\u00a0<vmassol>\u00a0has quit  \n02:07\u00a0<vmassol>\u00a0has joined #xwiki  \n02:19\u00a0<vmassol>\u00a0has quit  \n02:45\u00a0<vmassol>\u00a0has joined #xwiki  \n02:56\u00a0<vmassol>\u00a0has quit  \n03:23\u00a0<vmassol>\u00a0has joined #xwiki  \n03:35\u00a0<vmassol>\u00a0has quit  \n04:01\u00a0<vmassol>\u00a0has joined #xwiki  \n04:13\u00a0<vmassol>\u00a0has quit  \n04:40\u00a0<vmassol>\u00a0has joined #xwiki  \n04:51\u00a0<tekzilla>\u00a0has quit  \n04:52\u00a0<vmassol>\u00a0has quit  \n04:53\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:05\u00a0<eshan>\u00a0has joined #xwiki  \n05:06\u00a0<eshan>\u00a0has quit  \n05:08\u00a0<eshan>\u00a0has joined #xwiki  \n05:18\u00a0<vmassol>\u00a0has joined #xwiki  \n05:29\u00a0<vmassol>\u00a0has quit  \n05:56\u00a0<vmassol>\u00a0has joined #xwiki  \n06:08\u00a0<vmassol>\u00a0has quit  \n06:32\u00a0<eshan>\u00a0has left #xwiki  \n06:34\u00a0<vmassol>\u00a0has joined #xwiki  \n06:45\u00a0<vmassol>\u00a0has quit  \n07:07\u00a0<polx>\u00a0has joined #xwiki  \n07:09\u00a0<mflorea>\u00a0has joined #xwiki  \n07:15\u00a0<vmassol>\u00a0has joined #xwiki  \n07:22\u00a0<xwikibot>\u00a0has joined #xwiki  \n07:23\u00a0<vmassol>\u00a0has quit  \n07:47\u00a0<mflorea>\u00a0has quit  \n07:50\u00a0<polx>\u00a0has quit  \n07:50\u00a0<vmassol>\u00a0has joined #xwiki  \n08:00\u00a0<vmassol>\u00a0has quit  \n08:02\u00a0<polx>\u00a0has joined #xwiki  \n08:06\u00a0<vmassol>\u00a0has joined #xwiki  \n08:09\u00a0<mrvanes>\u00a0has joined #xwiki  \n08:23\u00a0<mflorea>\u00a0has joined #xwiki  \n08:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:35\u00a0<coud4>\u00a0has joined #xwiki  \n08:35\u00a0<coud4>\u00a0has quit  \n09:21\u00a0<jvelo>\u00a0has joined #xwiki  \n09:25\u00a0<vmassol>\u00a0good morning  \n09:25\u00a0<vmassol>\u00a0bug fixing day! :)  \n09:25\u00a0<vmassol>\u00a0let's try to make a dent  \n09:25\u00a0<vmassol>\u00a0tip: triaging is a quick low hanging fruit\u2026.  \n09:26\u00a0<vmassol>\u00a0(don't forget to label the issues you close)  \n09:26\u00a0<vmassol>\u00a0jvelo: you have not labelled some bugs you close today ;)  \n09:26\u00a0<vmassol>\u00a0(it's up to you but if you want to be counted in the total tally...)  \n09:27\u00a0<jvelo>\u00a0vmassol: well I was not fixing bugs, just cleaning old issues assigned to me  \n09:27\u00a0<jvelo>\u00a0so that would be cheating  \n09:27\u00a0<jvelo>\u00a0:  \n09:27\u00a0<jvelo>\u00a0:)  \n09:28\u00a0<vmassol>\u00a0as you want, I'm fine with this kind of cheating  \n09:28\u00a0<vmassol>\u00a0of course creating new issues today and closing them today as won't fix would be cheating :)  \n09:28\u00a0<jvelo>\u00a0hehe. I'll try to fix an actual bug, though :)  \n09:29\u00a0<vmassol>\u00a0here's the filter to follow our progress: http://jira.xwiki.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=resolved+%3E%3D+%222012%2F10%2F03%22+AND+resolved+%3C%3D+%222012%2F10%2F05%22+AND+%28keywords+~+bugfixingday+OR+labels+in+%28bugfixingday%29%29+ORDER+BY+resolution+ASC%2C+assignee+ASC  \n09:30\u00a0<vmassol>\u00a0jvelo: for me the goal is to get the green bar over the read bar on http://jira.xwiki.org/secure/Dashboard.jspa#Created-vs-Resolved-Chart/10470  \n09:30\u00a0<jvelo>\u00a0OK  \n09:31\u00a0<vmassol>\u00a0ofc closing valid issues as won't fix is not an option ;)  \n09:31\u00a0<+tmortagne>\u00a0+1 for the green bar  \n09:31\u00a0<+tmortagne>\u00a0cleanning issue is important too  \n09:33\u00a0<vmassol>\u00a0the day should be renamed to \"JIRA Catchup Day\" ;)  \n09:34\u00a0<+tmortagne>\u00a0kind of  \n09:34\u00a0<+tmortagne>\u00a0it's not like we were fixing bugs only during bugfixingday  \n09:34\u00a0<vmassol>\u00a0cjd = Catchup JIRA Day = Caleb\u2026. come on cjd, it's your day!  \n09:36\u00a0<jvelo>\u00a0sburjan`: hi  \n09:36\u00a0<jvelo>\u00a0sburjan`: would you have the opportunity to test XWIKI-5848 (IE8 bug) some time ?  \n09:37\u00a0<jvelo>\u00a0I think it does not reproduce - though it would be good to be sure  \n09:38\u00a0<+sburjan`>\u00a0jvelo: please remind me when I'm at the office. I am heading there now.  \n09:38\u00a0<jvelo>\u00a0ok  \n09:38\u00a0<+sburjan`>\u00a0you'll see me with the other nickname  \n10:21\u00a0<sburjan>\u00a0has joined #xwiki  \n10:28\u00a0<+tmortagne>\u00a0vmassol: is bufixingday label on XWIKI-8276 cheating ? :)  \n10:28\u00a0<vmassol>\u00a0I was wondering yesterday about that but no it's ok  \n10:29\u00a0<vmassol>\u00a0the goal is to do the maximum so picking low hanging fruits is the best strategy  \n10:29\u00a0<vmassol>\u00a0(don't know if this is one was low hanging or not)  \n10:29\u00a0<+tmortagne>\u00a0ok lets start the real bugfixingday now  \n10:29\u00a0<vmassol>\u00a0ok :)  \n10:29\u00a0<+sburjan>\u00a0good luck :)  \n10:29\u00a0<+sburjan>\u00a0may the best win :D  \n10:29\u00a0<vmassol>\u00a0sburjan: you can aprticipate  \n10:30\u00a0<+sburjan>\u00a0how ?  \n10:30\u00a0<+tmortagne>\u00a0sburjan: cleanup  \n10:30\u00a0<+tmortagne>\u00a0confirm some old bugs  \n10:30\u00a0<+sburjan>\u00a0ok  \n10:30\u00a0<vmassol>\u00a0and even code fix like test fixes for IE8/9  \n10:34\u00a0<+sburjan>\u00a0just a question. which is the dashboard name you're using for JIRA ? because I have a custom one I don't need anymore and want to switch to the default dashboard  \n10:35\u00a0<vmassol>\u00a0the default is teh system one  \n10:35\u00a0<+sburjan>\u00a0thanks  \n10:38\u00a0<jvelo>\u00a0sburjan: ping for testing XWIKI-5848 :)  \n10:39\u00a0<+sburjan>\u00a0thanks jvelo . I'll come back with an answer :)  \n10:44\u00a0<vmassol>\u00a0sburjan: you can also help during the BFD by not creating new issues! :)  \n10:44\u00a0<+sburjan>\u00a0vmassol: I'll try not too. I wanted to test multi tenancy/XEM on Oracle today, but I'll leave it for tomorrow :)  \n10:44\u00a0<+sburjan>\u00a0\\*not to  \n10:45\u00a0<vmassol>\u00a0:)  \n11:00\u00a0<vmassol>\u00a07 issues so far!  \n11:02\u00a0<vmassol>\u00a0our last BFD had 40 issues in total, wow, let's try to beat it: http://www.xwiki.org/xwiki/bin/view/Blog/BugFixingDayFebruary2011  \n11:02\u00a0<vmassol>\u00a018 triaged, 22 real, sergiu must have cheated by keeping fixed bugs and committing them all during the BFD! ;)  \n11:02\u00a0<vmassol>\u00a0(14 in a day sounds a lot)  \n11:02\u00a0<vmassol>\u00a0(yeah I'm jealous)  \n11:07\u00a0<vmassol>\u00a0mflorea: you don't want to fix http://jira.xwiki.org/jira/browse/XWIKI-291 it's one of the oldest bug  \n11:07\u00a0<vmassol>\u00a0?  \n11:07\u00a0<+sburjan>\u00a0jvelo: commented on the issue.  \n11:08\u00a0<+mflorea>\u00a0vmassol: that's not for bug fixing day  \n11:08\u00a0<vmassol>\u00a0wdym?  \n11:09\u00a0<vmassol>\u00a0it's complex?  \n11:09\u00a0<+mflorea>\u00a0yes, it implies refactoring  \n11:10\u00a0<vmassol>\u00a0just broke the build, fixing  \n11:11\u00a0<jvelo>\u00a0sburjan: thx  \n12:07\u00a0<Slashman>\u00a0has joined #xwiki  \n12:09\u00a0<Slashman>\u00a0hello, I'm struggling with the xwiki ldap authentication... I have successfully connected our ldpa to xwiki and account can be used to login (I used the extension LDAP Application) but I have several issues:  \n12:10\u00a0<Slashman>\u00a01/ I cannot set a filter, in my case, I have a LDAP attribute to seee if the account is closed, active or whatever, I need to have this filter to prevent access to deactivated users  \n12:11\u00a0<Slashman>\u00a02/ I can't figure out how to import the group from LDAP to xwiki... I don't know if xwiki waits for a groupOfNames, a posixGroup or whatever  \n12:13\u00a0<Slashman>\u00a03/ unrelated but still an issue, I have activated the multilanguage support but I can't find hwo to set my language on my profile, I'm stuck with the default language  \n12:22\u00a0<polx>\u00a0has quit  \n12:33\u00a0<jvelo>\u00a0Slashman: for 1/ you can use user field mapping to map your property to the \"active\" state of a wiki user  \n12:34\u00a0<jvelo>\u00a0this way when marked inactive the user will effectively not be authorized  \n12:34\u00a0<jvelo>\u00a0(he will have an account though, just unauthorized)  \n12:34\u00a0<jvelo>\u00a0for 2/ you need to setup group mappings  \n12:36\u00a0<Slashman>\u00a0jvelo: I have set up up group mapping  \n12:36\u00a0<Slashman>\u00a0but it doesn't work, the documentation doesn't tell me what type of group I should use  \n12:37\u00a0<Slashman>\u00a0I also don't know if I have to create the group before in xwiki or if it will be created automatically  \n12:42\u00a0<Slashman>\u00a0jvelo: 2 different type of group : http://pastebin.com/JGLzGtQK (groupofname and posixgroup)  \n12:42\u00a0<jvelo>\u00a0Slashman: it will be created automatically if it does not exist  \n12:42\u00a0<Slashman>\u00a0jvelo: okay then it doesn't work with either group  \n12:44\u00a0<jvelo>\u00a0their is a property to say which fields are LDAP group  \n12:44\u00a0<jvelo>\u00a0by default it's this : # xwiki.authentication.ldap.group\\_classes=group,groupOfNames,groupOfUniqueNames,dynamicGroup,dynamicGroupAux,groupWiseDistributionList  \n12:44\u00a0<jvelo>\u00a0c.f. http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication  \n12:44\u00a0<jvelo>\u00a0(and corresponding member field for this classes : # xwiki.authentication.ldap.group\\_memberfields=member,uniqueMember)  \n12:46\u00a0<Slashman>\u00a0I saw that part but I don't understand the relation bewteen the extension \"LDAP Application\" and the file \"xwiki.cfg\", seems like the parameters in the file get overridden by the parameters in the extension... also make me wonder: do I need the extension at all???  \n12:47\u00a0<Slashman>\u00a0if can avoid the extension, I would prefer to configure everything in the xwiki.cfg file  \n12:55\u00a0<mflorea>\u00a0has quit  \n13:01\u00a0<cdop>\u00a0has joined #xwiki  \n13:08\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:10\u00a0<vmassol>\u00a0restarting myxwkki  \n13:23\u00a0<Denis>\u00a0has joined #xwiki  \n13:30\u00a0<evalica>\u00a0has joined #xwiki  \n13:31\u00a0<+sburjan>\u00a0too bad we didn't committhese. they look cool. http://jira.xwiki.org/browse/XWIKI-5872 nice job evalica, didn't knew about this issue  \n13:40\u00a0<+sburjan>\u00a0can someone close http://jira.xwiki.org/browse/XWIKI-7208 for me please ? I don't have the rights to close issues :)  \n13:42\u00a0<polx>\u00a0has joined #xwiki  \n13:43\u00a0<polx>\u00a0has quit  \n13:44\u00a0<polx>\u00a0has joined #xwiki  \n13:46\u00a0<+tmortagne>\u00a0Slashman: the extension is just a visual helper  \n13:47\u00a0<+tmortagne>\u00a0yes you can do everything at xwiki.cfg level  \n13:48\u00a0<polx>\u00a0has quit  \n13:49\u00a0<polx>\u00a0has joined #xwiki  \n13:52\u00a0<polx>\u00a0has quit  \n13:55\u00a0<Slashman>\u00a0tmortagne: okay thx, I've removed it, but I still can't figure out why the group sync doesn't work  \n13:56\u00a0<+tmortagne>\u00a0Slashman: you should make sure you don't have some mapping left in XWikiPreferences page (that's where the extension save it's configuration)  \n13:56\u00a0<Slashman>\u00a0how can I access this page?  \n13:57\u00a0<Slashman>\u00a0I ahev removed the extension  \n13:57\u00a0<+tmortagne>\u00a0/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n13:57\u00a0<+tmortagne>\u00a0you should find a XWiki.XWikiPreferences object in there with LDAP properties at the end  \n13:58\u00a0<+tmortagne>\u00a0if it's empty, generally the best way to understand what's happenning is to enable debug log  \n13:58\u00a0<+tmortagne>\u00a0or even if it's not empty :)  \n13:58\u00a0<+tmortagne>\u00a0see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication#HEnableLDAPdebuglog  \n13:59\u00a0<+tmortagne>\u00a0you will get a detailed step by step informations of everything the authenticator is doing and so every issue it find  \n13:59\u00a0<cdop>\u00a0i got ldap under m$ activedirectory running just 2 days ago  \n13:59\u00a0<cdop>\u00a0very good idea is to use lilith to see whats going on  \n14:00\u00a0<cdop>\u00a0(though it took me more time to get lilith compiling than the ldap itself ;-))  \n14:00\u00a0<+tmortagne>\u00a0cdop: lilith ?  \n14:00\u00a0<Slashman>\u00a0tmortagne: indeed I have all the parameters set by the ldap extension here  \n14:00\u00a0<cdop>\u00a0tmortagne: lilith is an eventviewer  \n14:01\u00a0<Slashman>\u00a0XWikiPreferences 0: $tdoc.getRenderedTitle(\"plain/1.0\") ($doc.fullName) - XWiki have everything  \n14:01\u00a0<cdop>\u00a0xwiki sends its logging messages to lilith and lilith will display it nicely  \n14:01\u00a0<cdop>\u00a0bbl  \n14:02\u00a0<+tmortagne>\u00a0cdop: sounds nice  \n14:02\u00a0<vmassol>\u00a0tmortagne: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Logging#HAnalyzinglogswithLilith  \n14:02\u00a0<Slashman>\u00a0tmortagne: just to be clear about how I should do it: do I have to remove all parameters in the object ?  \n14:02\u00a0<+tmortagne>\u00a0vmassol: ok did not seen it  \n14:02\u00a0<+tmortagne>\u00a0Slashman: no  \n14:02\u00a0<+tmortagne>\u00a0you have to make sure they are empty  \n14:02\u00a0<+tmortagne>\u00a0it's perfectly normal you have them  \n14:03\u00a0<+tmortagne>\u00a0but they should simply have no value  \n14:06\u00a0<Slashman>\u00a0tmortagne: okay, everything is empty, I'm restarting tomcat, just in case  \n14:07\u00a0<Slashman>\u00a0tmortagne: okay it's working with file based LDAP auth  \n14:07\u00a0<+tmortagne>\u00a0Slashman: group sync ?  \n14:08\u00a0<Slashman>\u00a0tmortagne: unfortunately, still not working  \n14:08\u00a0<+tmortagne>\u00a0Slashman: ok then the best is to put your configuration in pastbin and while we are looking at it enable debug log to really understand what's going on  \n14:08\u00a0<Slashman>\u00a0tmortagne: I'll try to debug it, but you already helped me a lot, thank you :)  \n14:09\u00a0<Slashman>\u00a0I'll try to figure it out first  \n14:09\u00a0<+tmortagne>\u00a0you'r welcome, it's not always easy with LDAP auth  \n14:10\u00a0<Slashman>\u00a0I still think an LDAP filter would be a nice addition to verify if the user is allowed to use xwiki  \n14:10\u00a0<+tmortagne>\u00a0Slashman: well there is  \n14:11\u00a0<+tmortagne>\u00a0that's xwiki.authentication.ldap.user\\_group  \n14:11\u00a0<+tmortagne>\u00a0and the opposite xwiki.authentication.ldap.exclude\\_group  \n14:12\u00a0<Slashman>\u00a0yeah, but that via group membership, I basically have an attribute named \"service\" with the name of all services available to the user in my current LDAP, for example, bugzilla access is allowed when the user is found with \"(&(uid=username)(service=bugzilla))  \n14:13\u00a0<Slashman>\u00a0same for openvpn, and so on, here I cannot create a new value with service=xwiki, I'll have to creat a group  \n14:13\u00a0<+tmortagne>\u00a0Slashman: eveywhere you have \"group\" in the configuration it's not only simple group actually  \n14:13\u00a0<+tmortagne>\u00a0XWiki auth support 3 kinds of grou?  \n14:14\u00a0<+tmortagne>\u00a0\\* simple group entry containing the list of members  \n14:14\u00a0<+tmortagne>\u00a0\\* organization unit with sub entries being the members  \n14:14\u00a0<+tmortagne>\u00a0\\* result of a LDAP search  \n14:14\u00a0<+tmortagne>\u00a0xwiki.authentication.ldap.exclude\\_group=(&(uid=username)(service=bugzilla))  \n14:14\u00a0<+tmortagne>\u00a0sorry not this one  \n14:14\u00a0<+tmortagne>\u00a0xwiki.authentication.ldap.user\\_group=(&(uid=username)(service=bugzilla))  \n14:14\u00a0<+tmortagne>\u00a0that should no it  \n14:15\u00a0<+tmortagne>\u00a0s/no:do/  \n14:15\u00a0<+tmortagne>\u00a0see xwiki.authentication.ldap.group\\_mapping property documentation  \n14:15\u00a0<Slashman>\u00a0okay, with {0} for uid I believe  \n14:16\u00a0<vmassol>\u00a0has quit  \n14:16\u00a0<+tmortagne>\u00a0not sure what you mean  \n14:16\u00a0<Slashman>\u00a0xwiki.authentication.ldap.user\\_group=(&(uid={0})(service=xwiki))  \n14:16\u00a0<+tmortagne>\u00a0hmm  \n14:16\u00a0<+tmortagne>\u00a0that's not supported no  \n14:17\u00a0<+tmortagne>\u00a0but service=xwiki should be enough  \n14:17\u00a0<Slashman>\u00a0xwiki.authentication.ldap.user\\_group=(service=xwiki)  \n14:17\u00a0<Slashman>\u00a0yeah  \n14:19\u00a0<+sburjan>\u00a0tmortagne: could you \u00a0close http://jira.xwiki.org/browse/XWIKI-7208 for me please ? I don't have the rights to close issues :)  \n14:20\u00a0<+tmortagne>\u00a0sburjan: close as what ?  \n14:20\u00a0<+tmortagne>\u00a0ok did not seen the duplicate  \n14:21\u00a0<Slashman>\u00a0I can't find more documentation than on http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication for the \"xwiki.authentication.ldap.group\\_mapping\" property, which is very thin, am I looking at the wrong place ? I tried to search that on the whole documentation but much luck here  \n14:21\u00a0<+tmortagne>\u00a0sburjan: done  \n14:21\u00a0<+tmortagne>\u00a0Slashman: look at xwiki.cfg file itself  \n14:21\u00a0<+tmortagne>\u00a0actually it's the same  \n14:22\u00a0<+tmortagne>\u00a0Slashman: you also have http://platform.xwiki.org/xwiki/bin/view/AdminGuide/LDAPAuthenticationUseCases which have lots of example  \n14:22\u00a0<+tmortagne>\u00a0to be updated if your use case is not there ;)  \n14:23\u00a0<Slashman>\u00a0already looked here :p  \n14:23\u00a0<Slashman>\u00a0I'll put my case once it works  \n14:23\u00a0<vmassol>\u00a0has joined #xwiki  \n14:23\u00a0<+tmortagne>\u00a0what do you want to know that is not in the doc ?  \n14:24\u00a0<Slashman>\u00a0well, \"xwiki.authentication.ldap.user\\_group\" with a filter as parameter is not indicated in the doc  \n14:25\u00a0<Slashman>\u00a0#-# Only members of the following group will be verified in the LDAP  \n14:25\u00a0<Slashman>\u00a0#-# otherwise only users that are found after searching starting from the base\\_DN  \n14:25\u00a0<Slashman>\u00a0# xwiki.authentication.ldap.user\\_group=cn=developers,ou=groups,o=MegaNova,c=US  \n14:25\u00a0<+tmortagne>\u00a0actually it's true for anywhere you have group  \n14:25\u00a0<+tmortagne>\u00a0the detail is on xwiki.authentication.ldap.group\\_mapping property  \n14:25\u00a0<Slashman>\u00a0can't find this detail  \n14:26\u00a0<Slashman>\u00a0is this in the code?  \n14:26\u00a0<+tmortagne>\u00a0you have  \n14:26\u00a0<+tmortagne>\u00a0#-# [Since 1.3M2, XWikiLDAPAuthServiceImpl]  \n14:26\u00a0<+tmortagne>\u00a0#-# Maps XWiki groups to LDAP groups, separator is \"|\". The following kind of groups are supported:  \n14:26\u00a0<+tmortagne>\u00a0#-# \\* LDAP static groups (users/subgroups are listed statically in the group object)  \n14:26\u00a0<+tmortagne>\u00a0#-# \\* [Since 3.3M1] LDAP organization units (users/subgroups are sub object of the provided organization unit)  \n14:26\u00a0<+tmortagne>\u00a0#-# \\* [Since 3.3M1] LDAP filter (users/groups are object found in a search with the provided filter),  \n14:26\u00a0<+tmortagne>\u00a0#-# \u00a0\u00a0| character in the filter need to be escaped with backslash (\\).  \n14:26\u00a0<+tmortagne>\u00a0#-#  \n14:26\u00a0<+tmortagne>\u00a0#-# Here is an example:  \n14:26\u00a0<+tmortagne>\u00a0# xwiki.authentication.ldap.group\\_mapping=XWiki.XWikiAdminGroup=cn=AdminRole,ou=groups,o=domain,c=com|\\  \n14:26\u00a0<+tmortagne>\u00a0# \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0XWiki.LDAPUsers=ou=groups,o=domain,c=com|\\  \n14:26\u00a0<+tmortagne>\u00a0# \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0XWiki.Organisation=(cn=testers)  \n14:26\u00a0<+tmortagne>\u00a0in xwiki.cfg  \n14:26\u00a0<+tmortagne>\u00a0the documentation of the xwiki.authentication.ldap.group\\_mapping property  \n14:27\u00a0<+tmortagne>\u00a0I will put a general group related doc in the beginning of the section  \n14:27\u00a0<Slashman>\u00a0how I see  \n14:27\u00a0<Slashman>\u00a0it's bellow, my bad :'(  \n14:27\u00a0<Slashman>\u00a0there are 2 set of parameters  \n14:28\u00a0<+tmortagne>\u00a0you mean the two boxes in http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication ?  \n14:28\u00a0<+tmortagne>\u00a0the first one is just what's needed to indicate you want to use this authenticator  \n14:29\u00a0<Slashman>\u00a0damn I'm lost  \n14:29\u00a0<+tmortagne>\u00a0note that xwiki.cfg file istself is generally more up to date than http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication page so better look there (in this case it just happen that I updated the page two days ago ;))  \n14:30\u00a0<Slashman>\u00a0yeah I know the feeling, my comments are more up-to-date than my doc :p  \n14:39\u00a0<mflorea>\u00a0has joined #xwiki  \n14:40\u00a0<Slashman>\u00a0tmortagne: do I have to restart tomcat to apply the change in the config file?  \n14:41\u00a0<+tmortagne>\u00a0Slashman: yes  \n14:41\u00a0<+tmortagne>\u00a0it's loaded at startup  \n14:45\u00a0<Slashman>\u00a0ok I tried with xwiki.authentication.ldap.user\\_group=\"(objectclass=posixAccount)\" and I cannot log in with my user, which has this objectclass  \n14:45\u00a0<Slashman>\u00a0when I remove the line, I can log in  \n14:49\u00a0<+tmortagne>\u00a0Slashman: best is that you enable debug log that should tell you what it did and what it find in the group  \n14:56\u00a0<Slashman>\u00a0tmortagne: looking at the debug, there is definitively something wrong, I'll put it on a pastebin  \n15:00\u00a0<Slashman>\u00a0tmortagne: the log, when trying to sync the group : http://pastebin.com/A1Y2WtmL | the current conf parameters for LDAP : http://pastebin.com/3pBYuHBJ  \n15:00\u00a0<Slashman>\u00a0the field mapping works  \n15:01\u00a0<+tmortagne>\u00a0Slashman: you don't have more in the log ?  \n15:01\u00a0<Slashman>\u00a0the posix group is the same as the last pastebin: http://pastebin.com/JGLzGtQK  \n15:01\u00a0<Slashman>\u00a0tmortagne: everything else worked, but I'll give you the whole log, one sec  \n15:02\u00a0<+tmortagne>\u00a0Slashman: what you have in http://pastebin.com/A1Y2WtmL is happening after the filter  \n15:02\u00a0<+tmortagne>\u00a0that's group membershhip sync log  \n15:03\u00a0<+tmortagne>\u00a0or do you want me to look at a group membership issue you have too ?  \n15:03\u00a0<Slashman>\u00a0tmortagne: the whole log http://pastebin.com/CQ7HFDJx  \n15:05\u00a0<+tmortagne>\u00a0looks like cn=sysadmin,ou=groups,dc=example,dc=com contain uid and not full DN of members, in that case it will try to find them  \n15:05\u00a0<Slashman>\u00a0tmortagne: it does contains uid, it's a posixGroup  \n15:05\u00a0<+tmortagne>\u00a0Slashman: from LDAP auth POV it's just a LDAP entry :)  \n15:06\u00a0<Slashman>\u00a0tmortagne: meaning it must be a full dn ?  \n15:06\u00a0<+tmortagne>\u00a0Slashman: you did not put the filter in your last auth ?  \n15:06\u00a0<+tmortagne>\u00a0I don't see anything related to it in the log  \n15:06\u00a0<Slashman>\u00a0tmortagne: with filter, I couldn't auth  \n15:06\u00a0<+tmortagne>\u00a0Slashman: no uid is suported too  \n15:06\u00a0<Slashman>\u00a0tmortagne: I did activate the trace after  \n15:07\u00a0<cdop>\u00a0has quit  \n15:07\u00a0<Slashman>\u00a0let me try with the filter and debug  \n15:07\u00a0<+tmortagne>\u00a0Slashman: if you produce a debug log of wheen you fail to authenticate we could understand why it does not work  \n15:08\u00a0<Slashman>\u00a0tmortagne: sure, it just that some people are using the wiki to \"test\" it, meaning it's almost in production ^^  \n15:08\u00a0<+tmortagne>\u00a0ok  \n15:08\u00a0<Slashman>\u00a0tmortagne: so I have to be quick when doing tests that prevent to log in  \n15:08\u00a0<+tmortagne>\u00a0looks like there is indeed something weird when resolving members of cn=sysadmin,ou=groups,dc=example,dc=com  \n15:09\u00a0<+tmortagne>\u00a0looks like there is some missing debug log in there  \n15:09\u00a0<+tmortagne>\u00a0looking at the source  \n15:11\u00a0<+tmortagne>\u00a0yep there is some missing log in there that would have been useful here  \n15:11\u00a0<+tmortagne>\u00a0adding some stufff here and there  \n15:12\u00a0<+tmortagne>\u00a0Slashman: what version of XWiki is that ?  \n15:12\u00a0<vmassol>\u00a0guys I'm fixing the jira filters to remove retired projects, ok?  \n15:13\u00a0<Slashman>\u00a0tmortagne: log with the filter : http://pastebin.com/689vGYc9  \n15:13\u00a0<+sburjan>\u00a0vmassol: +1  \n15:13\u00a0<+evalica>\u00a0vmassol: \u00a0+1 :)  \n15:13\u00a0<Slashman>\u00a0tmortagne: XWiki Enterprise 4.1.4  \n15:16\u00a0<vmassol>\u00a0I'm proposing to keep only the projects in the \"Top level projects\" category  \n15:22\u00a0<Enygma`>\u00a0has quit  \n15:23\u00a0<vmassol>\u00a0done  \n15:26\u00a0<+tmortagne>\u00a0Slashman: I think I know  \n15:26\u00a0<+tmortagne>\u00a0what did you put as filter ?  \n15:26\u00a0<+tmortagne>\u00a0from the log it seems to be \"(objectclass=posixAccount)\"  \n15:27\u00a0<+tmortagne>\u00a0and not (objectclass=posixAccount)  \n15:27\u00a0<+tmortagne>\u00a0\"(objectclass=posixAccount)\" being invalid syntax it does not search it  \n15:27\u00a0<+tmortagne>\u00a0adding a debug log printing an explicit error about that  \n15:29\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:30\u00a0<+tmortagne>\u00a0Slashman: I have a .class for you to get more log if you want to try it  \n15:31\u00a0<Slashman>\u00a0tmortagne: ok, trying without \"  \n15:32\u00a0<Slashman>\u00a0tmortagne: if you tell me where I should put it, I'll gladly use it  \n15:34\u00a0<+tmortagne>\u00a0did you get it ?  \n15:34\u00a0<Slashman>\u00a0yep  \n15:34\u00a0<+tmortagne>\u00a0in WEB-INF you have a classes folder  \n15:34\u00a0<+tmortagne>\u00a0in there you need to create com/xpn/xwiki/user/impl/LDAP and put the file in there  \n15:34\u00a0<+tmortagne>\u00a0and then restart  \n15:34\u00a0<Slashman>\u00a0ok, one sec I'm trying without the \" first  \n15:35\u00a0<+tmortagne>\u00a0it will overwrite the standard authenticator with some more logs  \n15:35\u00a0<vmassol>\u00a0we're starting to make a dent: http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=10000#Created-vs-Resolved-Chart/10470  \n15:35\u00a0<Slashman>\u00a0tmortagne: working without the \"\" !!!  \n15:35\u00a0<Slashman>\u00a0hell yeah :)  \n15:36\u00a0<+tmortagne>\u00a0Slashman: yea it's pretty literal when reading the configuration :)  \n15:36\u00a0<Slashman>\u00a0old habit of using \" when doing ldapsearch  \n15:37\u00a0<Slashman>\u00a0transfering your class to the server...  \n15:41\u00a0<vmassol>\u00a0found a nicer JSQL: category = \"Top Level Projects\"  \n15:42\u00a0<vmassol>\u00a0even better: category = 10000  \n15:44\u00a0<Slashman>\u00a0tmortagne: hm, I think the class is not loaded, I don't have more logs... I installed the class in \"/etc/xwiki/classes/com/xpn/xwiki/user/impl/LDAP\" since this appears to be the good place for an install done on debian, following the wiki and the packaging  \n15:45\u00a0<+tmortagne>\u00a0Slashman: Ha no  \n15:45\u00a0<+tmortagne>\u00a0not in etc  \n15:45\u00a0<+tmortagne>\u00a0you are using the debian package ?  \n15:45\u00a0<Slashman>\u00a0yeah  \n15:46\u00a0<Slashman>\u00a0/usr/lib/xwiki/WEB-INF/classes is a symbolic link to /etc/xwiki/classes  \n15:46\u00a0<+tmortagne>\u00a0/usr/lib/xwiki/WEB-INF/  \n15:46\u00a0<+tmortagne>\u00a0hmm  \n15:46\u00a0<+tmortagne>\u00a0that's weird then  \n15:47\u00a0<+tmortagne>\u00a0the log I added is in group resolution  \n15:48\u00a0<+tmortagne>\u00a0you don't have something like \"[{}] is a valid DN, lets try to get corresponding entry.\" ?  \n15:49\u00a0<Slashman>\u00a0\"Pattern not found: is a valid DN, lets try to get corresponding entry\" in catalina.out  \n15:50\u00a0<Slashman>\u00a0nothing to in logback.xml ?  \n15:50\u00a0<+tmortagne>\u00a0no, I just added more debug log  \n15:50\u00a0<+tmortagne>\u00a0and you already enabled it  \n15:50\u00a0<Slashman>\u00a0yeah  \n15:51\u00a0<+tmortagne>\u00a0the thing you copy pasted is weird  \n15:51\u00a0<+tmortagne>\u00a0I don't see how you ends up with that  \n15:51\u00a0<+tmortagne>\u00a0when do you get this log ?  \n15:51\u00a0<Slashman>\u00a0when I'm logging myself on the wiki  \n15:52\u00a0<+tmortagne>\u00a0so it seems related but you should not get something that look like this  \n15:52\u00a0<+tmortagne>\u00a0could you copy the complete log to pastebin  \n15:53\u00a0<Slashman>\u00a0I think you had almost everything, but I'll redo it, just be aware that I have removed the \"xwiki.authentication.ldap.user\\_group\" line for now, because I need to change the attribute  \n15:54\u00a0<Slashman>\u00a0damn, I have to restart tomcat because I have cache entry :p  \n15:59\u00a0<Slashman>\u00a0tmortagne: complete log, starting tomcat then performing logging: http://pastebin.com/gwSaiAze  \n16:01\u00a0<+tmortagne>\u00a0so indeed to don't seems to have the new log  \n16:02\u00a0<+tmortagne>\u00a0you sure tomcat has the right to read the file ?  \n16:03\u00a0<+tmortagne>\u00a0(and folders)  \n16:03\u00a0<Slashman>\u00a0he's the owner  \n16:03\u00a0<Slashman>\u00a0but I hink I may have found the issue  \n16:04\u00a0<Slashman>\u00a0maybe the user viewonly can't access the attribute \"memberuid\"  \n16:04\u00a0<Slashman>\u00a0I'll check that  \n16:04\u00a0<+tmortagne>\u00a0indeed sometime users don't have enough right to take care of group membership sync themself  \n16:05\u00a0<+tmortagne>\u00a0note that you can bind with an \"admin user\" to the LDAP server for use case like this  \n16:05\u00a0<Slashman>\u00a0that's it...  \n16:05\u00a0<+tmortagne>\u00a0ok  \n16:05\u00a0<Slashman>\u00a0I'll ad some right to this user  \n16:05\u00a0<Slashman>\u00a0I'm very sorry, I didn't think about that  \n16:06\u00a0<Slashman>\u00a0tying with an admin user  \n16:10\u00a0<Slashman>\u00a0tmortagne: it's working  \n16:10\u00a0<+tmortagne>\u00a0Slashman: great :)  \n16:10\u00a0<Slashman>\u00a0tmortagne: damn this ldap rights, I'll kill the guys who did that :p  \n16:11\u00a0<+tmortagne>\u00a0:)  \n16:12\u00a0<Slashman>\u00a0tmortagne: I'll update http://platform.xwiki.org/xwiki/bin/view/AdminGuide/LDAPAuthenticationUseCases with my case  \n16:12\u00a0<+tmortagne>\u00a0what's a pity is that the server return an empty result instead of an error for case like this  \n16:12\u00a0<Slashman>\u00a0may be useful for somebody else  \n16:12\u00a0<+tmortagne>\u00a0Slashman: cool  \n16:13\u00a0<Slashman>\u00a0tmortagne: I think the server is doing everything right, the result of the query is null  \n16:13\u00a0<Slashman>\u00a0tmortagne: for the user I was using, there was no memberuid attribute at all  \n16:14\u00a0<+tmortagne>\u00a0ok  \n16:15\u00a0<polx>\u00a0has joined #xwiki  \n16:35\u00a0<Slashman>\u00a0tmortagne: seems like I can't register on platform.xwiki.org to update http://platform.xwiki.org/xwiki/bin/view/AdminGuide/LDAPAuthenticationUseCases ?  \n16:35\u00a0<Slashman>\u00a0tmortagne: intended?  \n16:36\u00a0<+tmortagne>\u00a0Slashman: we need to make it more clear: the registere is actually on www.xwiki.org (i.e. the root wiki)  \n16:36\u00a0<+tmortagne>\u00a0then you can go to any subwiki like platform.xwiki.org  \n16:36\u00a0<Slashman>\u00a0okay, thx again!  \n16:37\u00a0<+tmortagne>\u00a0vmassol: we really need to find something about this register issue on xwiki.org subwikis  \n16:37\u00a0<vmassol>\u00a0yep  \n16:37\u00a0<vmassol>\u00a0as a quick hack we can override the skin to add the link to the main wiki  \n16:39\u00a0<+tmortagne>\u00a0yes  \n16:40\u00a0<Slashman>\u00a0that's me ^^  \n16:41\u00a0<+tmortagne>\u00a0ok :)  \n16:46\u00a0<vmassol>\u00a0AndreasJonsson: I haven't seen your commit re the XHTML parser but you closed the issue. Maybe you didn't push?  \n16:48\u00a0<+AndreasJonsson>\u00a0vmassol: I didn't notice that my push was rejected. \u00a0Now its pushed.  \n16:49\u00a0<vmassol>\u00a0ok, let's see what tmortagne thinks about it  \n16:50\u00a0<+tmortagne>\u00a0I don't like too much making xhtml parser support invalid stuff  \n16:50\u00a0<vmassol>\u00a0yeah same here which is why I didn't commti anything for this....  \n16:50\u00a0<+tmortagne>\u00a0now it has never really been designed to be used as source syntax  \n16:50\u00a0<vmassol>\u00a0the commit is pretty complex  \n16:51\u00a0<+tmortagne>\u00a0if we are really talking only about empty content maybe a better fix would be to assume that it's useless to parse an empty content  \n16:51\u00a0<vmassol>\u00a0btw AndreasJonsson it doesn't work with html/4.01 either for other reasons AFAIR  \n16:51\u00a0<vmassol>\u00a0tmortagne: +1  \n16:51\u00a0<+tmortagne>\u00a0not sue it's true for all syntax but at least it is for the one we have right now  \n16:51\u00a0<vmassol>\u00a0AndreasJonsson: I really don't think we should change the parser  \n16:53\u00a0<+tmortagne>\u00a0as a side note the XWikiDocument source display is really not designed to work with syntax that can fail right now  \n16:53\u00a0<+tmortagne>\u00a0s/syntax/parser/  \n16:54\u00a0<+tmortagne>\u00a0which is a different issue  \n16:55\u00a0<+AndreasJonsson>\u00a0vmassol: \u00a0I agree. \u00a0I'm fine with reverting.  \n16:55\u00a0<+AndreasJonsson>\u00a0There are two more general problems that should be solved: handling undefined content, and handling parse errors more gracefully.  \n16:57\u00a0<+tmortagne>\u00a0vmassol: changing the register link mean overwriting a pretty big .vm which is not very nice for upgrade  \n16:57\u00a0<vmassol>\u00a0any jboss expert here? been fighting with datasources for a few hours now  \n16:58\u00a0<vmassol>\u00a0tmortagne: I know but that should be ok provided you add it to the update notes  \n16:59\u00a0<vmassol>\u00a0xwiki.org seems pretty slow...  \n16:59\u00a0<vmassol>\u00a0tmortagne: http://www.xwiki.org/xwiki/bin/view/XWiki/Migrations  \n17:00\u00a0<vmassol>\u00a0which reminds us that we really need to upgrade xwiki.org to 4.2 now  \n17:06\u00a0<vmassol>\u00a0groovy 2.0.5 released: http://docs.codehaus.org/display/GROOVY/Download  \n17:06\u00a0<+tmortagne>\u00a0vmassol: done  \n17:06\u00a0<+tmortagne>\u00a0updatiing upgrade process  \n17:06\u00a0<vmassol>\u00a0http://jira.codehaus.org/browse/GROOVY-4975 could be interesting for us  \n17:06\u00a0<vmassol>\u00a0tmortagne: very cool  \n17:06\u00a0<+tmortagne>\u00a0vmassol: we need to wait XWiki 5.0 for groovy 2 IMO  \n17:07\u00a0<vmassol>\u00a0don't know  \n17:08\u00a0<+tmortagne>\u00a0there is some breaking change and even if it's a few the little \"surprise\" with Velocity 1.7 upgrade in a minor version was not very nice  \n17:13\u00a0<vmassol>\u00a0yeah got jboss AS 7.1 working with Data source  \n17:13\u00a0<vmassol>\u00a0wow was complex  \n17:13\u00a0<vmassol>\u00a0now documenting it  \n17:13\u00a0<+tmortagne>\u00a0AndreasJonsson: I don't understand your last commit in xwiki.cfg.vm ? is it a mistake ?  \n17:13\u00a0<+tmortagne>\u00a0it is very wrong IMO  \n17:14\u00a0<vmassol>\u00a0indeed https://github.com/xwiki/xwiki-platform/commit/3f1ae337270311dd5e7673e99fabec8f3987e8b5 is very wrong ;) looks like a commit done by mistake  \n17:15\u00a0<+AndreasJonsson>\u00a0tmortagne: Yes, I only changed sharedinline.vm  \n17:17\u00a0<+AndreasJonsson>\u00a0That commit should not have been on the master branch...  \n17:24\u00a0<Denis>\u00a0has quit  \n17:40\u00a0<vmassol>\u00a033 issues so far: http://jira.xwiki.org/secure/IssueNavigator.jspa?mode=hide&requestId=11803  \n17:40\u00a0<vmassol>\u00a0nice slope: http://jira.xwiki.org/secure/Dashboard.jspa#Created-vs-Resolved-Chart/10470 ;)  \n17:41\u00a0<vmassol>\u00a0still 86 bugs short to become even....  \n17:45\u00a0<tmortagne>\u00a0has quit  \n17:50\u00a0<+evalica>\u00a0vmassol: there are 41 issues fixed today. Sergiu, JV and Jerome should add the bugfixingday label in order to be counted. Query: \"status = Closed AND resolved >= 2012-10-04\"  \n17:50\u00a0<vmassol>\u00a0only for bug fixes  \n17:51\u00a0<+evalica>\u00a0\u2026. :| should be called issuefixingday  \n17:51\u00a0<vmassol>\u00a0the goal is to reduce http://jira.xwiki.org/secure/Dashboard.jspa#Created-vs-Resolved-Chart/10470  \n17:51\u00a0<vmassol>\u00a0well it's more important to fix bugs than issues  \n17:51\u00a0<vmassol>\u00a0the goal is not implement the maximum of things in one day  \n17:52\u00a0<vmassol>\u00a0\\*not to  \n17:53\u00a0<vmassol>\u00a0it's ok that the # of created issues vs \u00a0# of implemented issue diverge  \n17:53\u00a0<vmassol>\u00a0it just means xwiki is popular  \n17:53\u00a0<vmassol>\u00a0(one explanation)  \n17:53\u00a0<vmassol>\u00a0however that the # of bugs created vs # of fixed bugs diverge is an issue  \n17:53\u00a0<vmassol>\u00a0that's what we're trying to fix  \n17:53\u00a0<vmassol>\u00a0;)  \n17:54\u00a0<+evalica>\u00a0k :)  \n17:54\u00a0<vmassol>\u00a0(because it means that quality is not improving)  \n18:15\u00a0<vmassol>\u00a0has quit  \n18:19\u00a0<+AndreasJonsson>\u00a0I can close XWIKI-8264, if we keep the implementation for XWIKI-6804.  \n18:40\u00a0<vmassol>\u00a0has joined #xwiki  \n18:49\u00a0<Denis>\u00a0has joined #xwiki  \n18:50\u00a0<sburjan>\u00a0has quit  \n18:59\u00a0<mrvanes>\u00a0has quit  \n19:03\u00a0<mrvanes>\u00a0has joined #xwiki  \n19:22\u00a0<mflorea>\u00a0has quit  \n19:23\u00a0<vmassol>\u00a0has quit  \n19:24\u00a0<evalica>\u00a0has quit  \n19:25\u00a0<vmassol>\u00a0has joined #xwiki  \n19:28\u00a0<Enygma`>\u00a0has quit  \n19:31\u00a0<Slashman>\u00a0has quit  \n19:36\u00a0<abusenius>\u00a0has joined #xwiki  \n19:36\u00a0<vmassol>\u00a0has quit  \n19:37\u00a0<jvelo>\u00a0has quit  \n19:45\u00a0<vmassol>\u00a0has joined #xwiki  \n19:59\u00a0<vmassol>\u00a0has quit  \n20:29\u00a0<Denis>\u00a0has quit  \n20:29\u00a0<vmassol>\u00a0has joined #xwiki  \n20:41\u00a0<vmassol>\u00a0has quit  \n20:51\u00a0<mrvanes>\u00a0has quit  \n21:08\u00a0<vmassol>\u00a0has joined #xwiki  \n21:20\u00a0<vmassol>\u00a0has quit  \n21:36\u00a0<AndreasJonsson>\u00a0has quit  \n21:42\u00a0<AndreasJonsson>\u00a0has joined #xwiki  \n21:47\u00a0<vmassol>\u00a0has joined #xwiki  \n21:52\u00a0<jvelo>\u00a0has joined #xwiki  \n21:58\u00a0<vmassol>\u00a0has quit  \n22:26\u00a0<vmassol>\u00a0has joined #xwiki  \n22:48\u00a0<vmassol>\u00a0has quit  \n23:09\u00a0<abusenius>\u00a0has quit  \n\n"}