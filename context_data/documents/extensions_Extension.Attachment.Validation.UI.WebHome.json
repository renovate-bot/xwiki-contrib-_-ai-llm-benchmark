{"id": "extensions:Extension.Attachment.Validation.UI.WebHome", "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/", "title": "Attachment Validation Application", "collection": ["Eval", "Eval-Small", "Eval-Large"], "mimetype": "text/markdown", "language": "en", "content": "\n\n\n|  |  |\n| --- | --- |\n| cog | **User Interface for the attachments validation** |\n\n\n\n|  |  |\n| --- | --- |\n| Type | XAR |\n| Category | Application |\n| Developed by | [XWiki Development Team](https://xwiki.org/xwiki/bin/view/XWiki/XWikiTeam) |\n| Active Installs | 0 |\n| Rating | \n\n\n\n\n* \n* [1](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/ \"Poor\")\n* [2](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/ \"Satisfactory\")\n* [3](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/ \"Good\")\n* [4](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/ \"Very good\")\n* [5](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/ \"Excellent\")\n\n\n\n0\u00a0Votes\n\n\n |\n| License | GNU Lesser General Public License 2.1 |\n\n\n\n|  |  |\n| --- | --- |\n| Bundled With | XWiki Standard |\n| Compatibility | 14.10RC1+ |\n\n**Installable with the Extension Manager**\n\n[Download v16.3.1](https://extensions.xwiki.org/xwiki/rest/repository/extensions/org.xwiki.platform%3Axwiki-platform-attachment-validation-ui/versions/16.3.1/file?rid=maven-xwiki)[Sources](https://github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-attachment/xwiki-platform-attachment-validation/xwiki-platform-attachment-validation-ui/)[Issues](https://jira.xwiki.org/browse/XWIKI)\n\nTable of contents\n\n* [Description](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HDescription)\n* [Administration](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HAdministration)\n\t+ [xwiki.properties](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#Hxwiki.properties)\n\t+ [Administration UI](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HAdministrationUI)\n* [Javascript](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HJavascript)\n* [Prerequisites & Installation Instructions](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HPrerequisites26InstallationInstructions)\n* [Dependencies](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HDependencies)\n# Description\n\nThe Attachment Validation Application provides the UI and Configuration of the attachment validation extension.  \nThis extension also provides the client-side validations for the size and mime type attachment validations.\n\nRelated pages:\n\n* [Attachment Validation API](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/API/)\n\n# Administration\n\nThe mimetype allowed/blocked on a space can be configured.\n\n## xwiki.properties\n\n\u00a0\u00a0  \nxwiki.properties allow to configure the default mimetype restrictions at farm level.\n\n#-# [Since 14.10RC1]  \n#-# Define the list of allowed attachment mimetypes. By default, this list is empty, but you can specify a\u00a0  \n#-# comma-separated list of allowed mimetypes. Note that a joker (\\*) can be used to accept any media type. Once this  \n#-# list is not empty, any attachment with an unlisted mimetype will be rejected.  \n#-# For instance, if you want to only accept plain text and any kind of images, you can set the list to:  \n#-# text/plain,image/\\*  \n# attachment.upload.allowList=  \n  \n#-# [Since 14.10RC1]  \n#-# Define the list of blocked attachment mimetypes. By default, this list is empty, but you can specify a\u00a0  \n#-# comma-separated list of blocked mimetypes. Note that a joker (\\*) can be used to accept any media type. Once this\u00a0  \n#-# list is not empty, any attachment matching one of the listed mimetype will be rejected.  \n#-# For instance, if you want to reject plain text and any kind of images, you can set the list to:  \n#-# text/plain,image/\\*  \n#-#  \n# attachment.upload.blockList=## Administration UI\n\n[![attachment_restriction_admin.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/Attachment/Validation/UI/WebHome/attachment_restriction_admin.png?width=960&rev=1.1)](https://extensions.xwiki.org/xwiki/bin/download/Extension/Attachment/Validation/UI/WebHome/attachment_restriction_admin.png?rev=1.1)\n\nThe mimetype restrictions can also be configured at wiki or space level through the administration UI, by visiting the Attachments Restriction section of the administration.\n\n# Javascript\n\nAn new event is triggered when an attachment is uploaded: xwiki:actions:beforeUpload. An object with a single file key is passed along the event, giving access to the file that must be validated.  \nA listener can mark the attachment as invalid by calling event.preventDefault().\n\nThe example below is a validator that always block the upload of any attachment, and display an error message after each upload.\n\n$(document).on('xwiki:actions:beforeUpload', function (event, data) {  \n \u00a0new XWiki.widgets.Notification(\"Upload nothing\", \"error\");  \n\u00a0\u00a0event.preventDefault();  \n})# Prerequisites & Installation Instructions\n\nWe recommend using the [Extension Manager](http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Manager+Application) to install this extension (Make sure that the text \"Installable with the Extension Manager\" is displayed at the top right location on this page to know if this extension can be installed with the Extension Manager). Note that installing Extensions when being offline is currently not supported and you'd need to use some [complex manual method](https://xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Installation/#HOthermethods).\n\nYou can also use the following manual method, which is useful if this extension cannot be installed with the Extension Manager or if you're using an old version of XWiki that doesn't have the Extension Manager:\n\n1. Log in the wiki with a user having Administration rights\n2. Go to the Administration page and select the Import category\n3. Follow the on-screen instructions to upload the downloaded XAR\n4. Click on the uploaded XAR and follow the instructions\n5. You'll also need to install all [dependent Extensions](https://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment/Validation/UI/#HDependencies) that are not already installed in your wiki\n\n# Dependencies\n\nDependencies for this extension (org.xwiki.platform:xwiki-platform-attachment-validation-ui 16.3.1):\n\n* org.xwiki.platform:xwiki-platform-attachment-validation-default 16.3.1\n\n\n"}