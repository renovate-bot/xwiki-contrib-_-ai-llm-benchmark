{"id": "dev:IRC.xwikiArchive20130719", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130719", "title": "IRC Archive for channel #xwiki on 19 July 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<jrgill>\u00a0has left #xwiki  \n00:58\u00a0<polx>\u00a0has quit  \n00:59\u00a0<abusenius>\u00a0has quit  \n01:53\u00a0<sdumitriu>\u00a0has quit  \n01:55\u00a0<sdumitriu>\u00a0has joined #xwiki  \n01:56\u00a0<sdumitriu1>\u00a0has quit  \n02:14\u00a0<xwikibot>\u00a0has joined #xwiki  \n05:44\u00a0<xwikibot>\u00a0has joined #xwiki  \n08:01\u00a0<sburjan>\u00a0has joined #xwiki  \n08:03\u00a0<mflorea>\u00a0has joined #xwiki  \n08:05\u00a0<msmeria>\u00a0has joined #xwiki  \n08:16\u00a0<vmassol>\u00a0has joined #xwiki  \n08:18\u00a0<evalica>\u00a0has joined #xwiki  \n08:26\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n08:28\u00a0<polx>\u00a0has joined #xwiki  \n08:30\u00a0<sburjan>\u00a0has quit  \n08:31\u00a0<msmeria>\u00a0has quit  \n08:32\u00a0<mflorea>\u00a0has quit  \n08:33\u00a0<msmeria>\u00a0has joined #xwiki  \n08:33\u00a0<gdelhumeau>\u00a0has quit  \n08:42\u00a0<msmeria>\u00a0has quit  \n08:45\u00a0<msmeria>\u00a0has joined #xwiki  \n08:45\u00a0<sburjan>\u00a0has joined #xwiki  \n08:47\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n08:48\u00a0<mflorea>\u00a0has joined #xwiki  \n08:57\u00a0<vmassol>\u00a0has quit  \n08:58\u00a0<msmeria>\u00a0has quit  \n08:59\u00a0<vmassol>\u00a0has joined #xwiki  \n08:59\u00a0<evalica1>\u00a0has joined #xwiki  \n09:00\u00a0<evalica>\u00a0has quit  \n09:02\u00a0<gdelhumeau>\u00a0has quit  \n09:03\u00a0<sburjan>\u00a0has quit  \n09:06\u00a0<mflorea>\u00a0has quit  \n09:08\u00a0<vmassol>\u00a0has quit  \n09:16\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:17\u00a0<sburjan>\u00a0has joined #xwiki  \n09:17\u00a0<vmassol>\u00a0has joined #xwiki  \n09:20\u00a0<evalica>\u00a0has joined #xwiki  \n09:20\u00a0<vmassol>\u00a0has quit  \n09:21\u00a0<vmassol>\u00a0has joined #xwiki  \n09:22\u00a0<sburjan>\u00a0has quit  \n09:22\u00a0<gdelhumeau>\u00a0has quit  \n09:23\u00a0<mflorea>\u00a0has joined #xwiki  \n09:24\u00a0<evalica>\u00a0has quit  \n09:25\u00a0<vmassol>\u00a0has quit  \n09:34\u00a0<mflorea>\u00a0has quit  \n09:37\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:37\u00a0<evalica>\u00a0has joined #xwiki  \n09:37\u00a0<vmassol1>\u00a0has joined #xwiki  \n09:38\u00a0<mflorea>\u00a0has joined #xwiki  \n09:40\u00a0<evalica1>\u00a0has joined #xwiki  \n09:43\u00a0<evalica>\u00a0has quit  \n09:44\u00a0<mflorea>\u00a0has quit  \n09:45\u00a0<gdelhumeau>\u00a0has quit  \n10:05\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:24\u00a0<mflorea>\u00a0has joined #xwiki  \n10:31\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:39\u00a0<gdelhumeau>\u00a0has quit  \n10:44\u00a0<sburjan>\u00a0has joined #xwiki  \n10:44\u00a0<msmeria>\u00a0has joined #xwiki  \n10:48\u00a0<mflorea>\u00a0has quit  \n10:48\u00a0<mflorea>\u00a0has joined #xwiki  \n10:52\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:56\u00a0<camil7>\u00a0has joined #xwiki  \n11:24\u00a0<xwikibot>\u00a0has joined #xwiki  \n11:25\u00a0<gdelhumeau>\u00a0cjd: according to http://extensions.xwiki.org/xwiki/bin/view/Extension/Filesystem+Attachment+Porter it's http://main.xwiki.org/xwiki/bin/view/XWiki/cjdelisle  \n11:26\u00a0<vmassol1>\u00a0gdelhumeau: I've replied to caleb privately  \n11:26\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n11:26\u00a0<gdelhumeau>\u00a0vmassol: I was trying to answer fasterthan you!  \n11:26\u00a0<vmassol>\u00a0nice try :)  \n11:27\u00a0<gdelhumeau>\u00a0but I had skoll on xwiki.org  \n11:27\u00a0<vmassol>\u00a0hehe  \n11:27\u00a0<vmassol>\u00a0I engineered that  \n11:27\u00a0<vmassol>\u00a0:)  \n11:27\u00a0<vmassol>\u00a0(by taking a heap dump)  \n11:27\u00a0<gdelhumeau>\u00a0:)  \n11:41\u00a0<evalica1>\u00a0has quit  \n11:44\u00a0<Slashman>\u00a0has joined #xwiki  \n11:45\u00a0<msmeria>\u00a0has quit  \n12:36\u00a0<msmeria>\u00a0has joined #xwiki  \n12:37\u00a0<evalica>\u00a0has joined #xwiki  \n12:46\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:02\u00a0<vmassol>\u00a0has quit  \n13:06\u00a0<vmassol>\u00a0has joined #xwiki  \n13:07\u00a0<gdelhumeau>\u00a0has quit  \n13:07\u00a0<evalica>\u00a0has quit  \n13:07\u00a0<sburjan>\u00a0has quit  \n13:07\u00a0<msmeria>\u00a0has quit  \n13:08\u00a0<vmassol1>\u00a0has quit  \n13:13\u00a0<evalica>\u00a0has joined #xwiki  \n13:19\u00a0<sburjan>\u00a0has joined #xwiki  \n13:22\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n13:23\u00a0<mflorea>\u00a0has joined #xwiki  \n13:23\u00a0<msmeria>\u00a0has joined #xwiki  \n13:25\u00a0<sburjan>\u00a0has quit  \n13:34\u00a0<Slashman>\u00a0has quit  \n13:37\u00a0<sburjan>\u00a0has joined #xwiki  \n13:47\u00a0<vmassol>\u00a0cjd: I'm tryng to make sense of the heap dump from xwiki.org  \n13:47\u00a0<vmassol>\u00a0what I've found so far  \n13:47\u00a0<vmassol>\u00a0at the top level the tomcat threads are using about 70MB each and I dive in them  \n13:48\u00a0<vmassol>\u00a0it's used in ThreadLocalMap and in there  \n13:48\u00a0<vmassol>\u00a0there are lots of entries (like 512)  \n13:48\u00a0<vmassol>\u00a0each taking from 300k to 2MB  \n13:48\u00a0<vmassol>\u00a0and in there  \n13:49\u00a0<vmassol>\u00a0lots of python stuff in almost all thread locals  \n13:49\u00a0<cjd>\u00a0yuck  \n13:49\u00a0<vmassol>\u00a0in our JSR 232 binding  \n13:49\u00a0<vmassol>\u00a0(SimpleBinding objects)  \n13:50\u00a0<sburjan>\u00a0has quit  \n13:56\u00a0<cjd>\u00a0\"http://main.xwiki.org/xwiki/bin/register/XWiki/?do=register\" daemon prio=10 tid=0x00007ff3658b5000 nid=0xff7 runnable [0x00007ff35a08d000]  \n13:56\u00a0<cjd>\u00a0o\\_O  \n13:56\u00a0<Slashman>\u00a0has joined #xwiki  \n13:57\u00a0<vmassol>\u00a0actually  \n13:58\u00a0<vmassol>\u00a0it's 18353 ThreadLocalMap entries in a single thread  \n13:58\u00a0<vmassol>\u00a0or rather in each thread  \n13:59\u00a0<vmassol>\u00a0and those 18K entries are using a lot of memory in python bindings  \n13:59\u00a0<vmassol>\u00a0we seem to have a big issue with pythong somewhere  \n13:59\u00a0<vmassol>\u00a0\\*python  \n14:00\u00a0<vmassol>\u00a0seems to be creating threadlocal entries and not cleaning them  \n14:00\u00a0<vmassol>\u00a0or something like that  \n14:02\u00a0<sburjan>\u00a0has joined #xwiki  \n14:05\u00a0<msmeria>\u00a0has quit  \n14:07\u00a0<msmeria>\u00a0has joined #xwiki  \n14:07\u00a0<gdelhumeau>\u00a0has quit  \n14:15\u00a0<vmassol>\u00a0cjd: the problem could be in https://github.com/xwiki/xwiki-platform/commit/5c9c21efe4ffa4ace3e7088ffb48e2da455eaaa3  \n14:16\u00a0<Enygma`>\u00a0has quit  \n14:17\u00a0<Enygma`>\u00a0has joined #xwiki  \n14:25\u00a0<msmeria>\u00a0has quit  \n14:25\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n14:28\u00a0<Enygma`1>\u00a0has joined #xwiki  \n14:29\u00a0<Enygma`>\u00a0has quit  \n14:40\u00a0<gdelhumeau>\u00a0has quit  \n14:43\u00a0<msmeria>\u00a0has joined #xwiki  \n14:54\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:08\u00a0<xwikibot>\u00a0has joined #xwiki  \n15:09\u00a0<xwikibot>\u00a0has joined #xwiki  \n15:12\u00a0<xwikibot>\u00a0has joined #xwiki  \n15:14\u00a0<msmeria>\u00a0has quit  \n15:16\u00a0<msmeria>\u00a0has joined #xwiki  \n15:18\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:23\u00a0<gdelhumeau>\u00a0has quit  \n15:41\u00a0<cjd>\u00a0has quit  \n15:45\u00a0<vmassol>\u00a0has quit  \n15:45\u00a0<cjd>\u00a0has joined #xwiki  \n15:45\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:46\u00a0<vmassol>\u00a0has joined #xwiki  \n15:47\u00a0<mflorea>\u00a0has quit  \n15:47\u00a0<msmeria>\u00a0has quit  \n15:47\u00a0<evalica>\u00a0has quit  \n15:48\u00a0<sburjan>\u00a0has quit  \n15:53\u00a0<evalica>\u00a0has joined #xwiki  \n16:01\u00a0<sburjan>\u00a0has joined #xwiki  \n16:02\u00a0<mflorea>\u00a0has joined #xwiki  \n16:06\u00a0<kstuart>\u00a0has joined #xwiki  \n16:07\u00a0<sburjan>\u00a0has quit  \n16:14\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:19\u00a0<sburjan>\u00a0has joined #xwiki  \n16:25\u00a0<mflorea>\u00a0has quit  \n16:39\u00a0<mflorea>\u00a0has joined #xwiki  \n16:41\u00a0<vmassol>\u00a0has quit  \n16:43\u00a0<vmassol>\u00a0has joined #xwiki  \n16:54\u00a0<evalica>\u00a0has quit  \n16:55\u00a0<vmassol>\u00a0has quit  \n16:56\u00a0<mflorea>\u00a0has quit  \n16:59\u00a0<sburjan>\u00a0has quit  \n17:03\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:05\u00a0<cjd>\u00a0has quit  \n17:12\u00a0<sburjan>\u00a0has joined #xwiki  \n17:18\u00a0<sburjan>\u00a0has quit  \n17:19\u00a0<sburjan>\u00a0has joined #xwiki  \n17:32\u00a0<kstuart>\u00a0has quit  \n17:34\u00a0<Mariah>\u00a0hello?  \n17:43\u00a0<KermitTheFragger>\u00a0has quit  \n17:52\u00a0<polx>\u00a0has quit  \n18:10\u00a0<Slashman>\u00a0has quit  \n19:17\u00a0<abusenius>\u00a0has joined #xwiki  \n19:50\u00a0<camil7>\u00a0has quit  \n20:51\u00a0<cjd>\u00a0has joined #xwiki  \n20:55\u00a0<cjd>\u00a0has quit  \n21:03\u00a0<mflorea>\u00a0has joined #xwiki  \n21:04\u00a0<sdumitriu>\u00a0has quit  \n21:05\u00a0<sdumitriu>\u00a0has joined #xwiki  \n21:32\u00a0<msmeria>\u00a0has joined #xwiki  \n21:32\u00a0<mflorea>\u00a0has quit  \n21:33\u00a0<sburjan>\u00a0has quit  \n21:33\u00a0<msmeria1>\u00a0has quit  \n21:45\u00a0<sburjan>\u00a0has joined #xwiki  \n21:46\u00a0<mflorea>\u00a0has joined #xwiki  \n21:49\u00a0<msmeria>\u00a0has quit  \n21:49\u00a0<msmeria1>\u00a0has joined #xwiki  \n21:50\u00a0<vmassol>\u00a0has joined #xwiki  \n22:00\u00a0<vmassol>\u00a0has quit  \n22:07\u00a0<vmassol>\u00a0has joined #xwiki  \n22:24\u00a0<vmassol>\u00a0has quit  \n22:43\u00a0<msmeria>\u00a0has joined #xwiki  \n22:46\u00a0<msmeria1>\u00a0has quit  \n23:20\u00a0<Enygma`1>\u00a0has quit  \n23:27\u00a0<msmeria1>\u00a0has joined #xwiki  \n23:28\u00a0<mflorea1>\u00a0has joined #xwiki  \n23:28\u00a0<msmeria>\u00a0has quit  \n23:28\u00a0<mflorea>\u00a0has quit  \n23:29\u00a0<sburjan>\u00a0has quit  \n23:32\u00a0<mflorea1>\u00a0has quit\n"}