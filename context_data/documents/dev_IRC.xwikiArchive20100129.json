{"id": "dev:IRC.xwikiArchive20100129", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100129", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nplunden1 left at 00:57 (barjavel.freenode.net irc.freenode.net  \nplunden joined #xwiki at 00:58  \nnpm left at 01:13 (\"Leaving.\"  \nvmassol - (01:17): ok time to bed  \nvmassol - (01:17): sd  \nvmassol - (01:17): sdumitriu: if you can give me some hints for fixing http://jira.xwiki.org/jira/browse/XWIKI-4807 tomorrow that would be great  \nvmassol - (01:18): (I haven't searched the code yet though)  \nvmassol - (01:18): I'll look tomorrow but in case you know how to fix it please comment in jira  \nvmassol - (01:18): thks  \nvmassol - (01:18): nn  \nvmassol left at 01:19 (Client Quit  \nflaviusolaru left at 01:35 (\"Leaving.\"  \nCalebJamesDeLisl joined #xwiki at 01:47  \nnpm joined #xwiki at 02:03  \nflorinciu left at 03:07 (Read error: 104 (Connection reset by peer)  \nbbc581 left at 03:46 (Read error: 104 (Connection reset by peer)  \ng-ram joined #xwiki at 04:47  \ng-ram - (04:47): anybody awake?  \nCalebJamesDeLisl - (05:13): I am now :)  \nSvenDowiu joined #xwiki at 06:22  \nSvenDowideit left at 06:39 (Read error: 101 (Network is unreachable)  \nSvenDowideit joined #xwiki at 06:40  \nSvenDowiu left at 06:50 (Read error: 101 (Network is unreachable)  \nkibahop left at 07:15 (\"Leaving.\"  \nmflorea joined #xwiki at 07:48  \nkibahop joined #xwiki at 07:52  \nplunden left at 07:53 (\"Leaving.\"  \nnpm left at 08:39 (Read error: 60 (Operation timed out)  \nvmassol joined #xwiki at 08:48  \nvmassol - (08:58): CalebJamesDeLisl: good morning!  \nCalebJamesDeLisl - (08:58): Good morning.  \nvmassol - (08:58): good morning everyone  \nCalebJamesDeLisl - (08:58): I just made a database in postgres from a groovy script :D  \nvmassol - (08:59): wdym by \"made\"? :)  \nvmassol - (08:59): CalebJamesDeLisl: if I may, a little detail: when a jira issue is closed and released, if you commit against it, it won't appear in the new release notes for the version in development  \nvmassol - (08:59): (e.g. XAADMINISTRATION-77)  \nvmassol - (09:00): (that issue was released in XE 2.2M2)  \nCalebJamesDeLisl - (09:00): What do you suggest I do in such situations? New issue?  \nvmassol - (09:00): yes new  \nvmassol - (09:00): affects = 2.2M2  \nvmassol - (09:00): fix for = 2.2RC1  \nvmassol - (09:00): (in this case)  \nvmassol - (09:01): everything with a fix for of 2.2RC1 will appear in the release notes  \nvmassol - (09:01): (release notes of XE 2.2RC1 that is)  \nCalebJamesDeLisl - (09:02): I had fixed a test and made an issue for the fix, Thomas said I should not make a new issue.  \nvmassol - (09:02): that was different  \nvmassol - (09:02): he said that when the issue was NOT released yet  \nvmassol - (09:02): and he was right  \nvmassol - (09:02): let me say it differntly  \nvmassol - (09:02): if the issue isn't released and you create a new one  \nvmassol - (09:02): what affects do you put?  \nvmassol - (09:02): (affects field)  \nvmassol - (09:03): you'll have to put the same release in both affects and fix for  \nvmassol - (09:03): s/release/version/  \nvmassol - (09:03): which won't make sense for anyone looking at the release notes since they'd never have seen that problem  \nvmassol - (09:03): (  \nvmassol - (09:03): since it has never been released)  \nvmassol - (09:04): for the record everyone has problem with this initially :)  \nvmassol - (09:04): but it's very logical in the end  \nvmassol - (09:05): if you think of it from the POV of release notes  \nvmassol - (09:05): and since we use jira mainly for release notes  \nCalebJamesDeLisl - (09:05): This was XPWATCHLIST-97 which references something old.  \nvmassol - (09:05): it's best to have the most clean possible release notes  \nvmassol - (09:05): the new registration was done in 2.2M1 right?  \nCalebJamesDeLisl - (09:06): Yes. I understand that.  \nvmassol - (09:06): so XPWATCHLIST-97 probably had an affacts of XE 2.2M1   \nvmassol - (09:06): and it was probbaly fixed in 2.2M2 (haven't checked)  \nvmassol - (09:07): if it was fixed in 2.2M1 then it was a mistake since it could not have been a problem in 2.1.x  \nvmassol - (09:07): so the issue should never have been created  \nvmassol - (09:07): (again i haven't checked)  \nvmassol - (09:07): ouch  \nvmassol - (09:07): big problem  \nvmassol - (09:07): http://jira.xwiki.org/jira/browse/XPWATCHLIST-97  \nvmassol - (09:07): the mandatory fields are not set  \nvmassol - (09:07): that's the wrose  \nvmassol - (09:07): worse  \nvmassol - (09:07): all fields are mandatory  \nvmassol - (09:08): the 3 fields  \nvmassol - (09:08): can you set them?  \nCalebJamesDeLisl - (09:08): Sure.  \nvmassol - (09:08): the only time when we don't set the fix for voluntarily  \nvmassol - (09:08): is for issues closed as won't fix, duiplicate, etc  \nvmassol - (09:09): because we don't want the in the release notes  \nvmassol - (09:09): since they're not valid issues to show to users  \nvmassol - (09:09): btw  \nvmassol - (09:10): selenium tests are not in XPWATCHLIST jira project  \nvmassol - (09:10): but in XE jira project  \nvmassol - (09:10): there's in enterprise/ directory  \nvmassol - (09:10): everything in enterprise/ dir is in XE jira project  \nvmassol - (09:10): :)  \nCalebJamesDeLisl - (09:10): Ok. I can move it.  \nvmassol - (09:11): sorry for all these rules :)  \nvmassol - (09:11): I know you don't like rules in general! :)  \nCalebJamesDeLisl - (09:11): I completely understand.  \nCalebJamesDeLisl - (09:11): Not in general, just when I can't understand them.  \nvmassol - (09:11): ah ok  \nvmassol - (09:11): that's good  \nCalebJamesDeLisl - (09:11): Now one question. Suppose I fix some tiny little bug (say a test) in something old.  \nvmassol - (09:12): you don't need an issue  \nCalebJamesDeLisl - (09:12): Create and close a bug report or don't?  \nCalebJamesDeLisl - (09:12): Reference nothing?  \nvmassol - (09:12): the reason  \nvmassol - (09:12): release notes are for users  \nvmassol - (09:12): and users don't need to see something internal that doesn't affect them directly  \nvmassol - (09:12): that said  \nvmassol - (09:12): we've also introduced a special component in jira  \nvmassol - (09:12): it's called \"build, infra and tests\"  \nvmassol - (09:13): that we use for these cases when we feel like creating an issue  \nvmassol - (09:13): and we voluntarily exclude issues from this component in the release notes  \nCalebJamesDeLisl - (09:13): Ok.  \nvmassol - (09:13): so let's say this case is a grey area  \nvmassol - (09:13): you can create an issue if you want  \nvmassol - (09:13): nobody should complain if the change is relatively small and there are no issue created  \nvmassol - (09:14): if you're doing a full refactoring of the test fwk OTOH this might require an issue  \nCalebJamesDeLisl - (09:14): I always figure I'd rather be scolded for too much bureaucracy than too little :)  \nvmassol - (09:14): if only to document for others what you're doing  \nvmassol - (09:14): hehe  \nCalebJamesDeLisl - (09:15): Thanks for clearing that up, I am in agreement about being transparent and easy to follow.  \nvmassol - (09:15): btw something hard  \nCalebJamesDeLisl - (09:15): Eventually I will get it...  \nvmassol - (09:15): is to know in what XE version a given application/plugin jira project correspond to  \nvmassol - (09:15): this can be found either in the pom files or in the release plan i the wiki:  \nvmassol - (09:15): http://dev.xwiki.org/xwiki/bin/view/Community/ReleasePlans  \nvmassol - (09:16): for watchlist 1.23  \nvmassol - (09:16): s/for/for ex/  \nvmassol - (09:16): I see it wans't released in XE 2.2M2  \nvmassol - (09:17): and that  \nvmassol - (09:17): 1.24 was released in XE 2.2M1  \nvmassol - (09:17): so 1.23 was before 2.2M1  \nCalebJamesDeLisl - (09:17): Oops.  \nvmassol - (09:17): etc  \nCalebJamesDeLisl - (09:17): I thought I could rely on jira to give me the latest released, next versions.  \nvmassol - (09:18): that's our problem of separating release cycles  \nvmassol - (09:18): for different modules  \nvmassol - (09:19): we've always wondered if we should always release them all at once (ie same cycle) or not  \nvmassol - (09:19): but we always ended thinking it could be useful to release a given application (for ex) at a different time than XE (for ex)  \nCalebJamesDeLisl - (09:22): Wait, you say watchlist 1.24 was released in XE 2.2M1  \nCalebJamesDeLisl - (09:23): I don't see 1.24 on the release plans page.  \nCalebJamesDeLisl - (09:23): It's in /plugins/ and that's version 20...  \nxenon75 joined #xwiki at 09:25  \nvmassol - (09:27): it's here:  \nvmassol - (09:28): http://dev.xwiki.org/xwiki/bin/view/Community/ReleasePlansArchives  \nvmassol - (09:28): (you have to click on the archive link at the top of the RP page)  \nvmassol - (09:28): obivously the RP pages can have errors  \nvmassol - (09:28): and the pom.xml files are always right  \nvmassol - (09:29): so let's check the pom.xm for XE 2.2M1  \nvmassol - (09:29): http://svn.xwiki.org/svnroot/xwiki/enterprise/tags/xwiki-enterprise-2.2-milestone-1/pom.xml  \nvmassol - (09:29): and it says  \nvmassol - (09:29): http://svn.xwiki.org/svnroot/xwiki/enterprise/tags/xwiki-enterprise-2.2-milestone-1/pom.xml  \nvmassol - (09:29): oops  \nvmassol - (09:29): \u00a0\u00a0<platform.watchlist.version>1.24</platform.watchlist.version>  \nvmassol - (09:30): so indeed XE 2.2M1 was released with the watchlist app/plugin in version 1.24  \nxenon75 left at 09:30 (Client Quit  \nCalebJamesDeLisl - (09:33): I had it correct after all.  \nCalebJamesDeLisl - (09:33): BTW: just created and closed an issue for dropping the ball on registration security.  \nvmassol - (09:34): CalebJamesDeLisl: hmmm how can XAADMINISTRATION-79 affects 1.23?  \nvmassol - (09:35): oh wait  \nvmassol - (09:35): I'm ixing admin app and watchlsit app  \nvmassol - (09:35): :)  \nvmassol - (09:35): s/ixing/mixing/  \nCalebJamesDeLisl - (09:35): So it is confusing after all :)  \nvmassol - (09:35): you're correct  \nvmassol - (09:35): oh yes handling multiple release cycles is very confusig  \nvmassol - (09:35): :)  \nCalebJamesDeLisl - (09:36): Anyway, fun stuff: I think I can now create virtual wikis with postgres as the database.  \nvmassol - (09:36): ah that would be awesome  \nvmassol - (09:37): even better would to be able to do that with derby  \nvmassol - (09:37): wait  \nvmassol - (09:37): wasn't postgres already supported in XEM?  \nCalebJamesDeLisl - (09:37): You can't create a new database but you can if you create the database manually.  \nvmassol - (09:38): one thing we've been wanting to do for a long time, is move from Jetty/HSQLDB as our default packaging to Jetty/Derby  \nvmassol - (09:38): (to have a DB that is more production ready but still embeddable)  \nvmassol - (09:38): and another thing we've been wanting is to add support to HSQLDB or Derby for XEM  \nCalebJamesDeLisl - (09:39): Maybe I'll be able to apply the same trickery to Derby.  \nvmassol - (09:39): so that we can write automated XEM functional tests  \nvmassol - (09:39): which we don't have now and are sorely missing  \nCalebJamesDeLisl - (09:39): The problem is postgres refuses to create a new database inside of a transaction.  \nvmassol - (09:39): I see  \nCalebJamesDeLisl - (09:39): And hibernate refuses to let you out of the transaction.  \nCalebJamesDeLisl - (09:40): The solution is pretty funny.  \nCalebJamesDeLisl - (09:40): stmt.execute(\"ROLLBACK; CREATE DATABASE xwikithree ENCODING = 'UNICODE' TABLESPACE = pg\\_default;\")  \nvmassol - (09:40): hey :)  \nvmassol - (09:40): are you sure you cannot tell hibernate not to start a tx?  \nvmassol - (09:40): (would be better)  \nvmassol - (09:40): (less \"hackish\")  \nCalebJamesDeLisl - (09:41): I have been looking around, nothing I could find.  \nCalebJamesDeLisl - (09:41): I know it's awful.  \nCalebJamesDeLisl - (09:42): There can be no communication with a database outside of a database transaction.  \nCalebJamesDeLisl - (09:42): https://www.hibernate.org/42.html  \nflorinciu joined #xwiki at 10:10  \nflorinciu left at 10:29 (Read error: 104 (Connection reset by peer)  \nKermitTheFragger joined #xwiki at 10:30  \nmflorea left at 10:33 (\"Leaving.\"  \nnpm joined #xwiki at 10:33  \nlucaa left at 11:13 (\"Leaving.\"  \nflorinciu joined #xwiki at 11:34  \nCalebJamesDeLisl - (11:46): I would like to add a boolean field to the XWikiPreferences class called registration\\_anonymous\\_requireCaptcha and reference it in the registration application, does that sound like the right approach?  \nvmassol - (11:51): CalebJamesDeLisl: yes it's the right approach + you should add an option in one of the admin pages  \nvmassol - (11:51): regarding the name you have to be careful  \nvmassol - (11:51): the xwiki-configuration module will automatically look in xwikipreferences  \nvmassol - (11:51): but it has to be same name as the config property you're looking up  \nvmassol - (11:52): you should check AllConfigurationSource  \nCalebJamesDeLisl - (11:53): I knew that it did that but I wasn't thinking about the possibility of collision, thanks.  \nvmassol - (11:53): CalebJamesDeLisl: just know that I don't think we've done this yet  \nvmassol - (11:54): so we need to agree on either:  \nvmassol - (11:54): 1) keeping the dot notation for properties in XWikiPreferences and co  \nvmassol - (11:54): 2) introducing a mapping between xwiki.properties files and properties in XWikiPreferences and co  \nvmassol - (11:54): (1) is already implemented)  \nCalebJamesDeLisl - (11:55): I see a problem having to do with free names (document^object.property) and the .  \nvmassol - (11:55): I think using dots in property names will cause problems  \nCalebJamesDeLisl - (11:55): Yea that :)  \nvmassol - (11:55): since they might appear as XML tags in the XML format  \nvmassol - (11:55): and this is invalid AFAIR  \nCalebJamesDeLisl - (11:55): Yes. I think it's best though to define captcha.enabled in the config file and registration\\_anonymous\\_requireCaptcha in the preferences because registration is an application and captcha is hard code.  \nvmassol - (11:56): I'd prefer  \nvmassol - (11:56): something more automated like:  \nvmassol - (11:56): captchaEnabled in the preferences  \nvmassol - (11:56): ie remove dot and capitalize  \nCalebJamesDeLisl - (11:56): mapping to captcha.enabled?  \nvmassol - (11:57): this would make it easy to implement in a generic manner  \nCalebJamesDeLisl - (11:57): Or changing the standard in xwiki.properties?  \nvmassol - (11:57): I'm talking about AbstractDocumentConfigurationSource  \nvmassol - (11:57): no change for xwiki.properties  \nCalebJamesDeLisl - (11:58): so adding some logic to remove the . in the XWikiPreferences version?  \nvmassol - (11:58): this would be about introducing a new rule for naming config properties in XWikiPreferences  \nvmassol - (11:58): this needs a mail and a vote  \nvmassol - (11:58): CalebJamesDeLisl: yes  \nvmassol - (11:59): an automated mapping implemented in AbstractDocumentConfigurationSource  \nvmassol - (11:59): OR  \nCalebJamesDeLisl - (11:59): Is the name registration\\_anonymous\\_requireCaptcha good for now?  \nvmassol - (11:59): have an internal generic name in java code  \nvmassol - (11:59): and have AbstractDocumentConfigurationSource and XWikiPropertiesConfigurationSource do their automated mapping  \nvmassol - (12:00): ie internally in java code when we request a property we request it independently of its representation  \nvmassol - (12:00): and it's up to AbstractDocumentConfigurationSource and XWikiPropertiesConfigurationSource to generate a represnetation  \nvmassol - (12:00): CalebJamesDeLisl: no it's not  \nvmassol - (12:00): it won't work  \nvmassol - (12:01): (at least not without some hacks in your code)  \nCalebJamesDeLisl - (12:01): Can you think of a name that would?  \nvmassol - (12:01): you don't understad  \nvmassol - (12:01): let me reexplain  \nvmassol - (12:01): we have a single api: ConfigurationSource  \nCalebJamesDeLisl - (12:01): I was just planning on getting it in velocity with $xwiki.Param()  \nvmassol - (12:01): yes that's the hack I mentioned  \nvmassol - (12:02): you'd need to try both location manually  \nvmassol - (12:02): ie first XWikiPreferences and then xwiki.properties  \nvmassol - (12:02): that's a possibility for now  \nvmassol - (12:02): depends what is your timeframe  \nvmassol - (12:03): for implementing the Admin UI for captchas  \nCalebJamesDeLisl - (12:03): It makes no sense to me that an application should have a key in the .properties file.  \nCalebJamesDeLisl - (12:03): This is for captchas only on the registration page.  \nvmassol - (12:03): so you don't think that configuring captchas on or off should be allowed to be done in the config file?  \nvmassol - (12:04): (as it is now)  \nvmassol - (12:04): actually it's not the problme  \nvmassol - (12:04): problem  \nvmassol - (12:04): we shouldn't care from where it's configurable, this is the role of the configuration module  \nvmassol - (12:05): if tomorrow we have a new ocnfiguration source  \nvmassol - (12:05): for e  \nvmassol - (12:05): for ex  \nvmassol - (12:05): a JMX configuration source  \nvmassol - (12:05): I want all existing properties to be accessible from it  \narkub joined #xwiki at 12:06  \nCalebJamesDeLisl - (12:06): How am I to get a property which pertains only to the registration app if configurationSource is unavailable to velocity?  \nvmassol - (12:06): without changing a line   \nvmassol - (12:06): you're not allowed to get any configuration from velocity  \nmflorea joined #xwiki at 12:06  \nvmassol - (12:07): each module must have a configuration component or service to return it  \nvmassol - (12:07): s/from velocity/from velocity directly/  \nCalebJamesDeLisl - (12:07): So each time there is a new implementation of captcha, the captcha configuration component must be updated?  \nCalebJamesDeLisl - (12:08): (by implementation I mean use in an application)  \nvmassol - (12:08): yes unless you make it generic  \nvmassol - (12:08): ie  \nvmassol - (12:08): captcha.implementation \u00a0= image|sound|whatever  \nvmassol - (12:08): or something like this  \nvmassol - (12:09): but if you add a new config property  \nvmassol - (12:09): then yes the config component must be updated  \nvmassol - (12:09): basically the only piece of code  \nvmassol - (12:09): allowed to get access to config data is the config component  \nvmassol - (12:09): it's a central place  \nCalebJamesDeLisl - (12:09): How about turning on and off LiveValidation for example, how would that be configured since it only touches the registration app.  \nCalebJamesDeLisl - (12:09): ?  \nvmassol - (12:10): the registration app like any other app can have configuration properties  \nCalebJamesDeLisl - (12:11): Ok so they must be in the application itself, not in XWikiPreferences.  \nvmassol - (12:11): We have a configuration chain that goes : properties file > wiki > space > user  \nvmassol - (12:11): we can add  \nvmassol - (12:11): new configuration source  \nvmassol - (12:11): for application - specific holder of config data  \nvmassol - (12:12): we have not done this yet  \nvmassol - (12:12): but we need to define it indeed  \nCalebJamesDeLisl - (12:12): So each application (velocity) needs a configuration (java)?  \nCalebJamesDeLisl - (12:12): Or one config for all velocity apps?  \nvmassol - (12:13): good point  \nvmassol - (12:13): if an app has no java code  \nvmassol - (12:13): then it would be too cumbersome to force it  \nvmassol - (12:13): wait  \nvmassol - (12:13): there's no need  \nvmassol - (12:14): in this case I think apps that need to get access to other app's config data will just use the proper config source  \nvmassol - (12:14): directly  \nvmassol - (12:14): that's the important part, ie that everything goes through a config source  \nvmassol - (12:15): AbstractDocumentConfigurationSource is almost a generic config source   \nvmassol - (12:15): but we're missing a little bit to finish it  \nvmassol - (12:15): we need to finish it  \nvmassol - (12:15): back to your need  \nvmassol - (12:16): what's your timeframe for the Admin page?  \nvmassol - (12:16): do you plan to do this for RC1 (which is slightly late but probably acceptable)?  \nvmassol - (12:16): (RC1 is supposed to be only bug fix normally)  \nvmassol - (12:17): (or minor improvements)  \nvmassol - (12:17): but this shouldn't cause any regression  \nvmassol - (12:17): so it should be pretty safe  \nCalebJamesDeLisl - (12:17): As soon as possible.  \nvmassol - (12:17): thus if you want to do this in RC1 then yes you'll need to do it with manual chaining  \nvmassol - (12:18): 1) check in xwikipreferences first  \nvmassol - (12:18): 2) if not found, check in xwiki.properties   \nvmassol - (12:18): (which means for now using different property names)  \nCalebJamesDeLisl - (12:18): Again, why would an application (xar) want to read a configuration file?  \nvmassol - (12:19): it's not an application  \nvmassol - (12:19): configs are done and set by users  \nvmassol - (12:19): and an admin user might want to define the fact that we have captchas in the properties file  \nvmassol - (12:19): why not?  \nvmassol - (12:20): this is how we do everyhing right now  \nvmassol - (12:20): all properties can be set in the properties file  \nvmassol - (12:20): and can be overriden in pages  \nvmassol - (12:20): overridden  \nCalebJamesDeLisl - (12:20): captchas (the module) is already defined in the properties file. I am concerned with the Registration app.  \nvmassol - (12:21): I don't understand  \nvmassol - (12:21): what does the captcha.enable property means?  \nvmassol - (12:21): why would a module decide to be available or not thrugh a config property?  \nvmassol - (12:22): (I'm probably missing something)  \nCalebJamesDeLisl - (12:22): Disable captchas globally.  \nvmassol - (12:22): that doesn'\"t mean anyrthing  \nvmassol - (12:22): it's not up to the module to decide this  \nvmassol - (12:22): the module just offers a service  \nEnygma` joined #xwiki at 12:23  \nvmassol - (12:23): you use it or you don't  \nCalebJamesDeLisl - (12:23): Okay so then the module shouldn't participate in configuration and everything is gotten via velocity.  \nvmassol - (12:23): it can participate  \nvmassol - (12:24): for example in defining what implementation to use for ex (even though that is also subject to debate)  \nSvenDowiu joined #xwiki at 12:24  \nvmassol - (12:24): since all captchas impl should be avilaalbe  \nvmassol - (12:24): and it's the user of captchas that should deicde which impl they want to use  \nCalebJamesDeLisl - (12:25): I don't understand why thet means the captcha module needs a configuration.  \nvmassol - (12:25): no the opposite :)  \nvmassol - (12:25): I was answering to this:  \nvmassol - (12:25): \"even though that is also subject to debate\"  \nvmassol - (12:25): should have put (...) around  \nCalebJamesDeLisl - (12:25): Okay.  \nvmassol - (12:26): CalebJamesDeLisl: since this is complex I'd suggest  \nvmassol - (12:26): to gather at least one more opinion  \nvmassol - (12:26): thomas' opinion would be great actually  \nvmassol - (12:26): I don't know why he's not online though  \nCalebJamesDeLisl - (12:26): I can put it in an email.  \nvmassol - (12:27): would be great actually  \nvmassol - (12:27): since we talked about lots of various things  \nvmassol - (12:27): :)  \nvmassol - (12:27): there are 2 timeframes to be deicded:  \nCalebJamesDeLisl - (12:27): Ok, Thanks for taking the time.  \nvmassol - (12:27): - what to do right now  \nvmassol - (12:27): - what to do in the near future  \ng-ram left at 12:38 (  \nlucaa joined #xwiki at 12:42  \nSvenDowideit left at 12:44 (Success  \nSvenDowiu is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nlucaa left at 13:05 (\"Leaving.\"  \nlucaa joined #xwiki at 13:05  \nflaviusolaru joined #xwiki at 13:12  \nCalebJamesDeLisl - (13:12): I'm going to bed.  \nlucaa - (13:12): good night CalebJamesDeLisl  \nCalebJamesDeLisl left at 13:13 (\"Good night.\"  \nlucaa left at 13:31 (\"Leaving.\"  \nlucaa joined #xwiki at 13:31  \nmflorea - (13:56): sdumitriu: re http://jira.xwiki.org/jira/browse/XWIKI-4665 can you give me some pointers on how to disable such shortcut keys in edit mode? Thanks.  \nsdumitriu - (13:57): Disable what?  \nmflorea - (13:58): xwiki specific shortcut keys like Meta+G for the edited document. Right now if you press Meta+G while the caret is in the rich text area, the Dialog apears in the rich text area, for the edited document.  \nsdumitriu - (13:58): Just tried it  \nsdumitriu - (13:59): Indeed, the dialog appears in the wrong document  \nmflorea - (13:59): because the target of the event is in the edited document  \nsdumitriu - (14:00): So, what exactly do you want to do? Disable all shortcuts in edit mode? Disable specific ones?  \nsdumitriu - (14:01): For this one it would be simple to fix it  \nsdumitriu - (14:01): (as in use the right document)  \nmflorea - (14:01): we either disable them in edit mode, or look for something like http://msdn.microsoft.com/en-us/library/ms533771%28VS.85%29.aspx and display the dialog in the outer-most window  \nmflorea - (14:02): https://developer.mozilla.org/en/DOM/window.frameElement  \nmflorea - (14:02): if window.frameElement == null then it's a top level window  \nsdumitriu - (14:03): I think that window.top should be enough  \nsdumitriu - (14:03): https://developer.mozilla.org/en/DOM/window.top  \nmflorea - (14:03): right  \nsdumitriu - (14:04): It's always valid  \nsdumitriu - (14:04): And I think it works in all browsers  \nmflorea - (14:04): IE has it too http://msdn.microsoft.com/en-us/library/ms534687%28VS.85%29.aspx  \nsdumitriu - (14:06): Do you remember why scripts are used in the edited document?  \nmflorea - (14:06): now, the root \"problem\" is that I include the javascript.vm in the edited document.  \nsdumitriu - (14:06): Yes, this. Why?  \nmflorea - (14:07): http://svn.xwiki.org/svnroot/xwiki/platform/web/trunk/standard/src/main/webapp/templates/wysiwyginput.vm  \nmflorea - (14:08): well, there might be cases when a macro, for instance, uses JS to generate its output, and in order to view the result as in view mode, I include the javascript.vm which includes the jsextension placeholders (just an example)  \nsdumitriu - (14:09): Hm...  \nsdumitriu - (14:09): Yes, this was the reason why they should be there  \nmflorea - (14:09): \"disabling\" JS would reduce the WYSIWYG I guess  \nsdumitriu - (14:09): I think there was a vote  \nsdumitriu - (14:09): Did everyone agree with this?  \nmflorea - (14:09): yes, but I don't think we reached a conclusion  \nsdumitriu - (14:10): Because right now I don't like it  \nsdumitriu - (14:10): Since the JS might add content that the user would be tempted to change  \nsdumitriu - (14:10): And be surprised that his changes aren't saved  \nmflorea - (14:11): the idea is that a macro can generate JS inline, so not importing the javascript.vm won't prevent that macro to alter the DOM in a bad way, or to catch DOM events.  \nsdumitriu - (14:11): Like, what if I want to remove the Edit Section image from one header?  \nsdumitriu - (14:11): I delete it, but it will still be there  \nmflorea - (14:11): the image is not displayed in edit mode  \nmflorea - (14:11): but I see your point  \nsdumitriu - (14:12): Hm, then including the JS does not even make it more WYSIWYG since extensions disable themselves in edit mode  \nmflorea - (14:12): and, as I said, not including javascriot.vm doesn't mean JS is disabled. it just reduces the \"problem\" a bit. I can't blocj inline JS  \nmflorea - (14:13): yes, that's true, some of the extensions/macros generate a different output in wysiwyg mode  \nsdumitriu - (14:13): But we're all responsible adults, and we don't use inline js, right?  \nmflorea - (14:14): I can trust Java macros, but anyone should be able to write a wiki macro that outputs {{html}}<script>...  \nmflorea - (14:14): but in that, the author is responsible  \nmflorea - (14:14): we can establish some good practices  \nmflorea - (14:15): (in the same way, the wiki macro author can generate bad HTML and mess the WYSIWYG)  \nvmassol - (14:27): mflorea: this is going to be fixed  \nvmassol - (14:27): (at the level of the rendering)  \nmflorea - (14:27): cool  \nvmassol - (14:28): (we have an issue for it)  \nvmassol - (14:49): just tried toucan again and.... lo and behold... I like it a lot. I think I even prefer it to the Colibri skin. Much lighter and better for viewing pages. Of course there are stuff to fix like the striped background but the rest is quite nice actually.  \nvmassol - (14:50): that was a FWIW  \nvmassol - (14:51): I've also tested the confluence look and the skin is also quite nice and not overloaded (similar to toucan for the top of the page)  \nvmassol - (14:52): I don't like the fact that we're going towards more and more overload  \nvmassol - (14:52): I also noticed that the Toucan skin is broken in severla places now  \nvmassol - (14:52): that's a pity  \nvmassol - (14:53): I'm not convinced that we should just support one skin  \nsdumitriu - (15:01): Report stuff that's broken somewhere  \nsdumitriu - (15:01): It shouldn't be broken  \nmflorea - (15:08): sdumitriu: I sent a vote re JavaScript inclusion in WYSIWYG edit mode  \nvmassol - (15:17): sdumitriu: http://jira.xwiki.org/jira/browse/XSTOUCAN-139  \nsdumitriu - (15:18): vmassol: Screenshot?  \nvmassol - (15:18): ok attaching  \nvmassol - (15:19): done  \nvmassol - (15:22): hmmm is http://jira.xwiki.org/jira/browse/XE-357 valid? Shouldn't there always be a default editor set?  \njvelo joined #xwiki at 15:28  \nsdumitriu - (15:31): Ah, I've seen XSTOUCAN-139  \nvmassol - (15:33): wdym? you know what the pb is? or you've noticed it too? or?  \nsdumitriu - (15:33): I've noticed it too  \nsdumitriu - (15:33): But I couldn't remember if it was always like this or no  \nsdumitriu - (15:34): Ah, I think I know  \nsdumitriu - (15:35): Could be XWIKI-4759  \nsdumitriu - (15:35): Does it work well in 22M2?  \nvmassol - (15:35): no idea, I've tested on trunk  \nvmassol - (15:35): I can test in 2.1.1  \nsdumitriu - (15:36): Hm, wait  \nsdumitriu - (15:38): large panel $expanded EditModes  \nsdumitriu - (15:38): $expanded is not found  \nsdumitriu - (15:38): I think I fixed it just for view mode  \nvmassol - (15:39): sdumitriu: fyi the pb isn't there in 2.1.1  \nsdumitriu - (15:40): Yep, that's the problem  \nsdumitriu - (15:40): Fixing it now  \nvmassol - (15:40): ok cool  \nvmassol - (15:42): btw sergiu some panels also have their headers broken in toucan skin in the panel wizard  \nvmassol - (15:42): don't know if this will fix it or not  \nvmassol - (15:43): (sdumitriu)  \nvmassol - (15:43): I mean this: http://tinycoke.com/\\_6r7nqWTTk5XSI/screen\\_shot\\_2010-01-29\\_at\\_3.43.19\\_pm.png  \nkibahop left #xwiki at 16:03  \nsdumitriu - (16:11): vmassol: OK, I know what's wrong there, too  \nsdumitriu - (16:11): The list has a margin  \nsdumitriu - (16:11): Which pushes the panel content down  \nsdumitriu - (16:12): Probably we override this margin somewhere, but the selector is incorrect, targeting only the panel columns  \nsdumitriu - (16:12): I'll check  \nvmassol - (16:12): ok   \nvmassol - (16:29): hmmm  \nvmassol - (16:29): s/hmmm//  \nlucaa left at 16:36 (\"Leaving.\"  \nlucaa joined #xwiki at 16:36  \nsdumitriu - (17:15): Do these mass users accomplish anything?  \nsdumitriu - (17:15): They never do anything  \nsdumitriu - (17:16): I think it would really be a good idea to block register requests with the same username fname and lname  \nvmassol - (17:20): once we upgrade to XE 2.2 on xwiki.org  \nvmassol - (17:20): we'll be able to define all the validations we want easily  \nvmassol - (17:21): but yes if you want to do it now, feel free it's fine with me  \nvmassol - (17:21): not sure it'll help though  \nvmassol - (17:21): they'll just use different fname and lname  \nvmassol - (17:22): one suggestion was to include a mandatory field called \"Reason to request edit access\"  \nsdumitriu - (17:23): That won't work  \nflaviusolaru1 joined #xwiki at 17:23  \nvmassol - (17:23): and force it not to be empty  \nvmassol - (17:23): it might not work if they know what to put  \nsdumitriu - (17:23): \"they'll just use different fname and lname\" => I doubt \"they\" will bother, since I doubt it's something done specially for www.xwiki.org  \nvmassol - (17:24): well if these are humans there's no way to prevent them  \nsdumitriu - (17:24): But this was about a server filter, not a registration app condition  \nvmassol - (17:24): except ask several questions and maual validation  \nsdumitriu - (17:24): Something salecss should handle  \nvmassol - (17:24): I don't know but we need to try stuff indeed  \nvmassol - (17:25): the first one for me is to understand why people register on xwiki.org  \nvmassol - (17:25): (apart from spam users)  \nvmassol - (17:26): the only positive point is that it allows to check our scalability ;)  \nlucaa left at 17:26 (\"Leaving.\"  \nvmassol - (17:26): sdumitriu: if these are not humans then captchas should help  \nlucaa joined #xwiki at 17:26  \nflaviusolaru left at 17:27 (Read error: 60 (Operation timed out)  \nvmassol - (17:37): quick poll:  \nmflorea - (17:37): sdumitriu: is the template document (when the query string specifies it) saved in a velocity variable (like $Xdoc)? otherwise I can get it myself.  \nvmassol - (17:38): would you be ok to make \"Wiki Dashboard\" link in Quick Links point to Dashboard instead of WebHome?  \nvmassol - (17:38): (that's http://jira.xwiki.org/jira/browse/XAPANELS-94 )  \nmflorea - (17:39): +1, the only difference I see is the Welcome message.  \nvmassol - (17:40): yes and having a quick link to go to the home (there's the logo but don't know if it's \"visible\" enough)  \nvmassol - (17:40): I'm close to +1 myself  \nvmassol - (17:41): initially the link title was \"Welcome\" I think and then the dashboard was introduced  \nmflorea - (17:41): I think it's quite known that the logo leads to the home page  \nvmassol - (17:41): maybe known but it's still a different paradigm  \nvmassol - (17:41): than the quick links  \nmflorea - (17:41): yes  \nvmassol - (17:41): which are supposed to provide quick links to known places  \nvmassol - (17:42): and the home page is probably one of those  \nvmassol - (17:42): I don't know. I'm hesitating  \nvmassol - (17:42): we could have both but the different is too minimal then  \nvmassol - (17:43): in any case the quick links is editable so the user can change it  \nmflorea - (17:43): it is. now, the Quick links panel can be customized. The users can add the home page if they need to  \nvmassol - (17:43): the question is what would the user expect by default  \nmflorea - (17:43): :)  \nmflorea - (17:43): exactly  \nsdumitriu - (17:43): mflorea: Commented  \nvmassol - (17:43): if we keep the name \"Wiki Dashboard\" then Dashboard is best  \nmflorea - (17:43): I'm +1 for listing only the dashboard  \nvmassol - (17:43): ok me too  \nvmassol - (17:44): does this need a vote ?  \nsdumitriu - (17:44): vmassol: +1  \nvmassol - (17:44): ok doing it  \nvmassol - (17:44): will rollback if someone doesn't agree  \nvmassol - (17:52): anyone interested in fixing http://jira.xwiki.org/jira/browse/XE-539 before 2.2RC1?  \nsdumitriu - (17:53): Yes, me, but it's hard  \nsdumitriu - (17:53): That's why I was looking into the Query component  \nvmassol - (17:55): 78 bug issues more to close and we'll be even for the past 360 days.... :)  \nvmassol - (17:56): ah no  \nvmassol - (17:56): non bugs  \nvmassol - (17:56): for bugs it's more  \nvmassol - (17:56): 200 for bugs  \ng-ram joined #xwiki at 17:57  \nbbc581 joined #xwiki at 17:58  \nEnygma` left at 17:58 (\"Leaving.\"  \nSvenDowiu joined #xwiki at 18:06  \nKermitTheFragger left at 18:09 (\"Leaving\"  \nSvenDowiv joined #xwiki at 18:12  \narkub left at 18:15 (Client Quit  \narkub joined #xwiki at 18:19  \nSvenDowideit left at 18:23 (Read error: 101 (Network is unreachable)  \nSvenDowiv is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nmflorea left at 18:24 (\"Leaving.\"  \nSvenDowiu left at 18:25 (Read error: 101 (Network is unreachable)  \nflorinciu left at 18:37 (Read error: 104 (Connection reset by peer)  \nbbc581 left #xwiki at 18:40  \nlucaa left at 18:40 (\"Leaving.\"  \nlucaa joined #xwiki at 18:40  \njvelo - (18:51): sdumitriu, re XE-539 is programming for .getPropertyClass() really needed ?  \nsdumitriu - (18:52): Yes  \njvelo - (18:52): programming right check I mean  \njvelo - (18:52): what is the \"threat\" ?  \nsdumitriu - (18:52): It's an API returning a non-API  \nsdumitriu - (18:53): We always require PR, no matter how important or small the class is  \njvelo - (18:53): ok  \njvelo - (18:53): I see  \nsdumitriu - (18:53): But maybe the functioanlity needed should be in the API  \njvelo - (18:53): maybe it'sd a matter of a public API missing then  \njvelo - (18:53): yes  \nsdumitriu left at 19:25 (Read error: 110 (Connection timed out)  \nlucaa left at 19:28 (\"Leaving.\"  \nlucaa joined #xwiki at 19:28  \nEnygma` joined #xwiki at 19:47  \nlucaa left #xwiki at 19:52  \nEnygma` left at 19:53 (\"Leaving.\"  \nflorinciu joined #xwiki at 20:08  \nflorinciu left at 20:08 (Client Quit  \nsdumitriu joined #xwiki at 20:28  \nflaviusolaru1 left at 21:09 (Read error: 104 (Connection reset by peer)  \nflorinciu joined #xwiki at 21:11  \nvmassol - (21:52): sdumitriu: what do we use from velocity to simulate passing a null? A non-initialized var?  \nvmassol - (21:53): I think I've found a way not to need it  \nsdumitriu - (21:55): $utill.null works, too  \nvmassol - (21:56): ok thanks  \nvmassol - (21:56): found a better way in the end  \nvmassol - (21:57): sdumitriu: fyi I'm adding a new entry in the copy combo box for languages  \nvmassol - (21:57): to copy the default content + all translations  \nvmassol - (22:00): since right now there's no way to make a real copy of a doc if you have a translation for that doc  \nvmassol - (22:02): sdumitriu: btw I couldn't find a copy method to copy only the default language without translations, do you know if it exists?  \nsdumitriu - (22:04): I can't remember  \nvmassol - (22:39): restarting hudson  \nflorinciu left at 22:50 (Read error: 104 (Connection reset by peer)  \nvmassol - (22:51): done rebuilding  \nCalebJamesDeLisl joined #xwiki at 22:57  \nnpm left at 23:13 (Read error: 104 (Connection reset by peer)  \ng-ram left at 23:16 (Read error: 110 (Connection timed out)  \njvelo left at 23:36 (Remote closed the connection  \nvmassol left at 23:40 (Client Quit  \ng-ram joined #xwiki at 23:45  \ng-ram left at 23:47 (Read error: 104 (Connection reset by peer)  \ng-ram joined #xwiki at 23:47  \n\n"}