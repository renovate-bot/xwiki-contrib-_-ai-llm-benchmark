{"id": "dev:IRC.xwikiArchive20120823", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120823", "title": "IRC Archive for channel #xwiki on 23 August 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n01:27\u00a0<sdumitriu>\u00a0has quit  \n01:33\u00a0<jvdrean>\u00a0has joined #xwiki  \n01:34\u00a0<ssavi>\u00a0has quit  \n02:02\u00a0<jvdrean>\u00a0has quit  \n02:24\u00a0<ssavi>\u00a0has joined #xwiki  \n02:29\u00a0<tekzilla>\u00a0has quit  \n02:31\u00a0<tekzilla>\u00a0has joined #xwiki  \n04:05\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:32\u00a0<ssavi>\u00a0has quit  \n06:04\u00a0<ssavi>\u00a0has joined #xwiki  \n06:38\u00a0<npm\\_>\u00a0has quit  \n06:46\u00a0<mflorea>\u00a0has joined #xwiki  \n06:47\u00a0<npm\\_>\u00a0has joined #xwiki  \n06:59\u00a0<coud>\u00a0has joined #xwiki  \n07:38\u00a0<mflorea>\u00a0has quit  \n07:56\u00a0<mflorea>\u00a0has joined #xwiki  \n08:22\u00a0<vmassol>\u00a0has joined #xwiki  \n09:33\u00a0<vmassol>\u00a0good morning  \n09:34\u00a0<vmassol>\u00a0reminder: 4.2M3 is on Monday  \n09:34\u00a0<vmassol>\u00a0so 2 more days before the week end  \n09:35\u00a0<Inge->\u00a0What is an example of a beautifully styled xwiki?  \n09:35\u00a0<vmassol>\u00a0Inge-: taste and colors are very personal :)  \n09:35\u00a0<vmassol>\u00a0it depends completely what you want to use xwiki for too  \n09:36\u00a0<vmassol>\u00a0web site, intranet, etc  \n09:36\u00a0<vmassol>\u00a0you can find refernces here:  \n09:36\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/References/WebHome  \n09:36\u00a0<vmassol>\u00a0pick the one you list most!  \n09:38\u00a0<vmassol>\u00a0for a web site, I'd say a good example if http://xwiki.com ;)  \n09:39\u00a0<Inge->\u00a0This is a decent example: https://ec.europa.eu/employment\\_social/anticipedia/xwiki/bin/view/Main/  \n10:11\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:18\u00a0<sdumitriu>\u00a0has quit  \n10:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n10:52\u00a0<coud>\u00a0has quit  \n11:16\u00a0<coud>\u00a0has joined #xwiki  \n11:18\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* rd7cc672\u000f https://github.com/xwiki/xwiki-platform/commit/d7cc672457b52277a566f9f6df67367b95a7a7fa \u000f/ xwiki-platform-core/xwiki-platform-repository/xwiki-platform-repository-server-ui/src/main/resources/ExtensionCode/ExtensionSheet.xml :\u000f XWIKI-8155: License information is printed on the same line as Features information when there are Features listed - http://git.io/tPWdgw  \n11:48\u00a0<mflorea>\u00a0has quit  \n12:10\u00a0<ssavi>\u00a0has quit  \n12:47\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* rcad3670\u000f https://github.com/xwiki/xwiki-platform/commit/cad36701c5eb420ff1e5f32815ed70c5939659b7 \u000f/ xwiki-platform-core/xwiki-platform-ircbot/xwiki-platform-ircbot-api/src/main/java/org/xwiki/ircbot/internal/DocumentModifiedEventListener.java :\u000f [Misc] Refactoring - http://git.io/EqU2ig  \n13:18\u00a0<mflorea>\u00a0has joined #xwiki  \n15:36\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r8858d13\u000f https://github.com/xwiki/xwiki-platform/commit/8858d1346aadf67e1f74f770e5da08cffb0b241d \u000f/ (5 files in 3 dirs):\u000f XWIKI-8158: Don't notify about documents changes when a XAR import is in progress - http://git.io/aFeQxw  \n15:36\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r2bfc227\u000f https://github.com/xwiki/xwiki-platform/commit/2bfc227eb360af37a14719e8437504cffe975e85 \u000f/ xwiki-platform-core/xwiki-platform-ircbot/xwiki-platform-ircbot-api/pom.xml :\u000f [Misc] Fail the build if unit test TPC is beyond the current TPC value for the IRC Bot API - http://git.io/czHnEQ  \n15:50\u00a0<vmassol>\u00a0mflorea: hi, I'd like to have your opinion on some strange things I'm seeing with the EM UI  \n15:51\u00a0<+mflorea>\u00a0hi vmassol, what strange things?  \n15:51\u00a0<vmassol>\u00a0I've built XE 4.2SNAPSHOT and I've tried to install the IRCBot UI extension on it, and I get http://www.evernote.com/shard/s119/sh/c1e2b6aa-db84-4799-9d44-a75dae14722c/96ce24a26e0cceb7384495426738d72a  \n15:51\u00a0<vmassol>\u00a02 issues:  \n15:51\u00a0<vmassol>\u00a01) the messages in red  \n15:51\u00a0<vmassol>\u00a02) the conflict reported with no difference  \n15:52\u00a0<vmassol>\u00a0I've seen those lookup exceptions several times when installing other extensions too  \n15:52\u00a0<vmassol>\u00a0ah cool I can now click on them. I have:  \n15:52\u00a0<+mflorea>\u00a0re 1) you already reported the issue on jira I think  \n15:52\u00a0<vmassol>\u00a0Caused by: class org.xwiki.component.manager.ComponentLookupException: Can't find descriptor for the component [role = [interface org.xwiki.model.reference.EntityReferenceSerializer] hint = [default]]  \n15:53\u00a0<vmassol>\u00a0I have the full stack trace now  \n15:54\u00a0<vmassol>\u00a0mflorea: can't find any open issues in http://jira.xwiki.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+XWIKI+AND+component+%3D+%22Extension+Manager%22+AND+status+%3D+Open+ORDER+BY+priority+DESC&mode=hide  \n15:54\u00a0<vmassol>\u00a0creating a new one for 1)  \n15:54\u00a0<vmassol>\u00a0WDYT about 2)?  \n15:54\u00a0<+mflorea>\u00a0I was looking there too, but I remember I saw something related to 1 on jira  \n15:56\u00a0<+mflorea>\u00a0ah, I saw the red message in the screenshow from http://jira.xwiki.org/browse/XWIKI-8144  \n15:57\u00a0<+mflorea>\u00a0and http://jira.xwiki.org/browse/XWIKI-8143  \n15:57\u00a0<+mflorea>\u00a0but they are not related, so yes, you should report an issue. I can't tell why you get those message, I would need to investigate.  \n15:58\u00a0<vmassol>\u00a0ok I've created http://jira.xwiki.org/browse/XWIKI-8159 for 1)  \n15:59\u00a0<+mflorea>\u00a0re 2, first of all I don't understand why you have XWiki.ClassSheetBinding in the extension XAR  \n15:59\u00a0<vmassol>\u00a0it's because it's a dep  \n15:59\u00a0<+mflorea>\u00a0ah  \n15:59\u00a0<+mflorea>\u00a0right  \n15:59\u00a0<vmassol>\u00a0and my wiki is a standalone wiki, not installed with the EM  \n15:59\u00a0<vmassol>\u00a0but  \n15:59\u00a0<vmassol>\u00a0I don't understand why we get a conflict  \n16:00\u00a0<+mflorea>\u00a0so yes, you get a conflict because it cannot do a 3-way merge  \n16:00\u00a0<+mflorea>\u00a0because there is not \"previous\" version.  \n16:00\u00a0<vmassol>\u00a0but it should auto resolve it no as there's no differednce  \n16:00\u00a0<+mflorea>\u00a0there is only current and new  \n16:00\u00a0<vmassol>\u00a0?  \n16:00\u00a0<vmassol>\u00a0AFAIR we're not supposed to get conflicts for all pages, are we?  \n16:01\u00a0<vmassol>\u00a0also  \n16:01\u00a0<+mflorea>\u00a0I'm sure it can be improved, but the technical explanation is this: it cannot do a 3-way merge if it doesn't have all 3 versions (previous, current and new)  \n16:01\u00a0<vmassol>\u00a0do you have any idea why EM tries to install the dep since it already has it?  \n16:01\u00a0<vmassol>\u00a0is it becuase it's SNAPSHOTN  \n16:01\u00a0<vmassol>\u00a0?  \n16:01\u00a0<+mflorea>\u00a0in other words, 3-way merge is possible if the existing page was installed with an extension  \n16:02\u00a0<vmassol>\u00a0(ie we have special handling for SNAPSHOt)  \n16:02\u00a0<+mflorea>\u00a0why do you say it has it?  \n16:02\u00a0<+mflorea>\u00a0it has the pages  \n16:02\u00a0<vmassol>\u00a0indeed  \n16:02\u00a0<vmassol>\u00a0good point  \n16:02\u00a0<+mflorea>\u00a0I don't think Thomas worked on installing the default apps  \n16:02\u00a0<vmassol>\u00a0re the merge I thought thomas had explained that we wouldn't get a conflict for all pages so I was surprised  \n16:02\u00a0<+mflorea>\u00a0it's a work in progress though  \n16:03\u00a0<vmassol>\u00a0we better not since it's going to make it just impossible to upgrade an existing install\u2026.  \n16:04\u00a0<+mflorea>\u00a0I agree that we should avoid the conflict UI when there are no changes, even if we don't have all 3 versions.  \n16:05\u00a0<+mflorea>\u00a0but generally, if the existing page was not installed with an extension, then automatic merge is not possible, even if the change is really minor  \n16:07\u00a0<vmassol>\u00a0hmm re 1) I'm pretty sure I had raised it actually\u2026 if I stop and restart XE I get a whole load of stack traces and that rings a bell  \n16:07\u00a0<+mflorea>\u00a0i.e. we can avoid the case for no change, but you may still get a lot of fake conflicts just because the author is different (and the rest is the same)  \n16:09\u00a0<vmassol>\u00a0yep  \n16:11\u00a0<+mflorea>\u00a0hmm, we can ask the user which is the \"previous\" version, defaulting to the version of the war (since most of the time the UI is sync with the war)  \n16:26\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r8307647\u000f https://github.com/xwiki/xwiki-platform/commit/83076477f9ddd7c8f0aac28c078d4592661f7590 \u000f/ (2 files in 2 dirs):\u000f XWIKI-8158: Don't notify about documents changes when a XAR import is in progress - http://git.io/d2VoIA  \n16:33\u00a0<vmassol>\u00a0hmm do you also see the image bigger than the other ones at http://extensions.xwiki.org/xwiki/bin/view/Extension/IRC+Bot+Application#HWikiActivitynotification ?  \n16:33\u00a0<vmassol>\u00a0(the second image in this section)  \n16:34\u00a0<vmassol>\u00a0must be sometihng to with my retina display  \n16:34\u00a0<vmassol>\u00a0need to find a way to save small screenshots now, glurps  \n16:34\u00a0<vmassol>\u00a0will try with skitch  \n16:35\u00a0<vmassol>\u00a0same  \n16:38\u00a0<+mflorea>\u00a0yes, same here, the second image is bigger  \n16:39\u00a0<vmassol>\u00a0ok found some post about it, http://blog.lanceli.com/2012/08/downscale-screenshot-at-hight-resolution-on-retina-mackbook-pro.html  \n16:39\u00a0<+mflorea>\u00a0the image is huge, so it's not a CSS/HTML issue  \n16:40\u00a0<vmassol>\u00a0it's just that the retina display has a lot of pixels  \n16:40\u00a0<vmassol>\u00a0with a high dpi  \n16:40\u00a0<+mflorea>\u00a0ok  \n16:40\u00a0<vmassol>\u00a0so for me it appears small on my screen  \n16:40\u00a0<vmassol>\u00a0but it actually has a lot of pixels  \n16:40\u00a0<vmassol>\u00a0so I cannot easily take screenshots anymore....  \n16:41\u00a0<vmassol>\u00a0(or they'll appear huge)  \n16:41\u00a0<+mflorea>\u00a0you have to resize them afterwards  \n16:42\u00a0<vmassol>\u00a0so I guess the images I've just attached to jira must be quite large too  \n16:46\u00a0<vmassol>\u00a0ok done  \n16:46\u00a0<vmassol>\u00a0I had to resize by dividing the size by 2  \n16:47\u00a0<vmassol>\u00a0I'll need to find a convenient way because that's going to be a pain  \n16:47\u00a0<vmassol>\u00a0btw all the screenshots on that page are displayed very blurry for me  \n16:48\u00a0<vmassol>\u00a0not sure if you can see the blur on https://www.evernote.com/shard/s119/sh/353629be-7dfd-47c7-840e-a0f2ae5b3896/180058abc263b27bb0555e62d4d8aca4/res/26b0b54e-f066-4e7b-888b-0c936ec879d3/IRC\\_Bot\\_Application\\_%28Extension.IRC\\_Bot\\_Application%29\\_-\\_XWiki-20120823-164320.png.jpg  \n16:49\u00a0<vmassol>\u00a0can you see the difference of quality between the text and the imagesN  \n16:49\u00a0<vmassol>\u00a0s/N/?/  \n17:27\u00a0<+mflorea>\u00a0vmassol: yes, the text in the images is blurred, compared with the text before/after the images  \n17:28\u00a0<mflorea>\u00a0has quit  \n18:18\u00a0<+jvdrean>\u00a0vmassol: is there a cache for macros transformations ?  \n18:18\u00a0<vmassol>\u00a0no  \n18:18\u00a0<vmassol>\u00a0not sure what you mean exactly but no  \n18:18\u00a0<vmassol>\u00a0well we have the rendered cache  \n18:19\u00a0<+jvdrean>\u00a0so if I call macroTransformation.transform(xdom, transformationContext); twice in a row there's no reason things go differently the second time  \n18:19\u00a0<vmassol>\u00a0which caches the result of rendering a page  \n18:19\u00a0<+jvdrean>\u00a0with the same xdom and context  \n18:19\u00a0<vmassol>\u00a0jvdrean: indeed no reason except for other caches like the document cache  \n18:20\u00a0<vmassol>\u00a0(if your transformation gets a document for ex)  \n18:20\u00a0<vmassol>\u00a0Macro tx can do anything  \n18:20\u00a0<vmassol>\u00a0so it really depends on what your macros are doing  \n18:21\u00a0<+jvdrean>\u00a0my xdom contains  \n18:21\u00a0<+jvdrean>\u00a0{{velocity}}$context.method.output.returnValue(\"select doc.fullName from XWikiDocument doc where doc.space = 'Main'\"){{/velocity}}  \n18:23\u00a0<+jvdrean>\u00a0for some reason this gets executed once in my code, then on subsequent calls I can see that #returnValue() is never called  \n18:24\u00a0<+jvdrean>\u00a0investigating, I wanted to make sure I wasn't missing something obvious  \n18:24\u00a0<vmassol>\u00a0ok, I don't see any reason the velocity macro wouldn't get executed twice  \n18:37\u00a0<ssavi>\u00a0has joined #xwiki  \n18:38\u00a0<ssavi\\_>\u00a0has joined #xwiki  \n18:38\u00a0<ssavi>\u00a0has quit  \n18:38\u00a0<ssavi\\_>\u00a0is now known as <ssavi>  \n18:39\u00a0<ssavi\\_>\u00a0has joined #xwiki  \n18:39\u00a0<ssavi>\u00a0has quit  \n18:39\u00a0<ssavi\\_>\u00a0is now known as <ssavi>  \n19:15\u00a0<ssavi\\_>\u00a0has joined #xwiki  \n19:15\u00a0<ssavi>\u00a0has quit  \n19:15\u00a0<ssavi\\_>\u00a0is now known as <ssavi>  \n19:20\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* r2d8fc6f\u000f https://github.com/xwiki/xwiki-commons/commit/2d8fc6f7a8a31d38daafa70e540d0f96f7f956ad \u000f/ xwiki-commons-core/xwiki-commons-test/src/main/java/org/xwiki/test/AbstractMockingComponentTestCase.java :\u000f XCOMMONS-243 : Collections (List, Map) of components dependencies are automatically mocked - http://git.io/dW7SLQ  \n19:29\u00a0<vmassol>\u00a0has quit  \n19:40\u00a0<jvdrean>\u00a0has left #xwiki  \n19:53\u00a0<sdumitriu>\u00a0has quit  \n19:54\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:03\u00a0<ssavi>\u00a0has quit  \n20:11\u00a0<vmassol>\u00a0has joined #xwiki  \n21:17\u00a0<jvdrean>\u00a0has joined #xwiki  \n21:21\u00a0<mflorea>\u00a0has joined #xwiki  \n21:25\u00a0<mflorea>\u00a0has quit  \n21:36\u00a0<vmassol>\u00a0has quit  \n21:40\u00a0<vmassol>\u00a0has joined #xwiki  \n22:21\u00a0<jvdrean>\u00a0has quit  \n23:18\u00a0<sdumitriu>\u00a0has quit  \n23:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:21\u00a0<coud>\u00a0has quit  \n\n"}