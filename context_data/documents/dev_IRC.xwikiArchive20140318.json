{"id": "dev:IRC.xwikiArchive20140318", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140318", "title": "IRC Archive for channel #xwiki on 18 March 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<OSIMasson>\u00a0has quit  \n00:41\u00a0<OSIMasson>\u00a0has joined #xwiki  \n00:47\u00a0<OSIMasson>\u00a0has quit  \n00:48\u00a0<OSIMasson>\u00a0has joined #xwiki  \n00:56\u00a0<abusenius\\_>\u00a0has quit  \n01:31\u00a0<OSIMasson>\u00a0has quit  \n01:54\u00a0<benoitc>\u00a0has quit  \n01:57\u00a0<benoitc\\_>\u00a0has joined #xwiki  \n02:10\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:11\u00a0<benoitc\\_>\u00a0has quit  \n02:15\u00a0<benoitc\\_>\u00a0has joined #xwiki  \n02:39\u00a0<OSIMasson>\u00a0has quit  \n03:13\u00a0<polx>\u00a0has quit  \n03:32\u00a0<polx>\u00a0has joined #xwiki  \n03:51\u00a0<polx\\_>\u00a0has joined #xwiki  \n03:53\u00a0<polx>\u00a0has quit  \n03:53\u00a0<polx\\_>\u00a0is now known as <polx>  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:37\u00a0<polx\\_>\u00a0has joined #xwiki  \n04:40\u00a0<polx>\u00a0has quit  \n04:40\u00a0<polx\\_>\u00a0is now known as <polx>  \n06:04\u00a0<Denis>\u00a0has quit  \n06:33\u00a0<UCC>\u00a0has joined #xwiki  \n06:33\u00a0<unknown\\_>\u00a0has joined #xwiki  \n07:04\u00a0<mflorea>\u00a0has joined #xwiki  \n07:20\u00a0<evalica>\u00a0has joined #xwiki  \n07:25\u00a0<polx>\u00a0has quit  \n07:26\u00a0<polx>\u00a0has joined #xwiki  \n07:32\u00a0<polx>\u00a0has quit  \n07:35\u00a0<tmortagne>\u00a0has joined #xwiki  \n07:38\u00a0<sdumitriu>\u00a0is now known as <sdumitriu\\_[Away]>  \n07:59\u00a0<polx>\u00a0has joined #xwiki  \n08:02\u00a0<vmassol>\u00a0has joined #xwiki  \n08:11\u00a0<msmeria>\u00a0has joined #xwiki  \n08:34\u00a0<benoitc\\_>\u00a0is now known as <benoitc>  \n08:35\u00a0<benoitc>\u00a0has quit  \n08:47\u00a0<cjd>\u00a0has joined #xwiki  \n08:47\u00a0<polx>\u00a0has quit  \n08:52\u00a0<polx>\u00a0has joined #xwiki  \n08:53\u00a0<mflorea>\u00a0has quit  \n09:07\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:10\u00a0<evalica>\u00a0has quit  \n09:10\u00a0<evalica1>\u00a0has joined #xwiki  \n09:19\u00a0<polx>\u00a0has quit  \n09:19\u00a0<Denis>\u00a0has joined #xwiki  \n09:20\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n09:20\u00a0<polx>\u00a0has joined #xwiki  \n09:28\u00a0<polx>\u00a0has quit  \n09:39\u00a0<silverdrop>\u00a0has joined #xwiki  \n09:45\u00a0<polx>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0has quit  \n09:45\u00a0<vmassol>\u00a0has joined #xwiki  \n09:48\u00a0<polx\\_>\u00a0has joined #xwiki  \n09:49\u00a0<vmassol>\u00a0has quit  \n09:50\u00a0<fcharton>\u00a0has quit  \n09:50\u00a0<polx>\u00a0has quit  \n09:50\u00a0<polx\\_>\u00a0is now known as <polx>  \n09:50\u00a0<fcharton>\u00a0has joined #xwiki  \n09:51\u00a0<vmassol>\u00a0has joined #xwiki  \n09:53\u00a0<mflorea>\u00a0has joined #xwiki  \n09:54\u00a0<vmassol>\u00a0mflorea: good morning  \n09:54\u00a0<mflorea>\u00a0vmassol: Hi  \n09:54\u00a0<vmassol>\u00a0(for ex to configure it to use a single remote solr instance)  \n09:55\u00a0<vmassol>\u00a0I'm being asked what is our recommendation for search in a xwiki cluster  \n09:55\u00a0<vmassol>\u00a0shared drive (like NFS) or remote SOLR instance? I'd say remote SOLR instance  \n09:55\u00a0<mflorea>\u00a0I don't think there is, but if you look in xwiki.properties there is some config to run a remote Solr instance instead of the default embedded one  \n09:55\u00a0<vmassol>\u00a0I wanted to point them to our doc  \n09:56\u00a0<vmassol>\u00a0ok too bad, thanks  \n09:56\u00a0<mflorea>\u00a0np  \n09:58\u00a0<tmortagne>\u00a0the difficulty is to properly setup the remote instance  \n09:58\u00a0<vmassol>\u00a0have we tried it?  \n09:58\u00a0<tmortagne>\u00a0since it has to contains the right configuration, it's not any SOLR insatnce  \n09:58\u00a0<tmortagne>\u00a0instance  \n09:59\u00a0<tmortagne>\u00a0we should maybe release some zip or something like this with configuration in it  \n09:59\u00a0<tmortagne>\u00a0right now I think you have to extract it from solr module jar  \n10:00\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:00\u00a0<vmassol>\u00a0we have a component called RemoteSolrInstance in the solr module  \n10:00\u00a0<vmassol>\u00a0(solr-api)  \n10:00\u00a0<vmassol>\u00a0not sure I understand what you mean by \"extracting\" it  \n10:01\u00a0<vmassol>\u00a0I see this in the code:  \n10:01\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0/\\*\\*  \n10:01\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* The name of the attachment containing the zipped configuration files.  \n10:01\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0public static final String CONFIGURATION\\_ZIP\\_FILE\\_NAME = \"conf.zip\";  \n10:01\u00a0<tmortagne>\u00a0vmassol: the configuration is in xwiki-platform-search-solr-api module resources  \n10:01\u00a0<vmassol>\u00a0apparenrtly it's being looked in XWiki.SolrSearchAdmin  \n10:02\u00a0<vmassol>\u00a0ah  \n10:02\u00a0<vmassol>\u00a0it's automatically attached if not htere  \n10:03\u00a0<vmassol>\u00a0being looked for in the solr home directory  \n10:03\u00a0<vmassol>\u00a0(the zip)  \n10:03\u00a0<tmortagne>\u00a0it's possible the admin page allow you to download a configuration package yes, forgot about it  \n10:03\u00a0<vmassol>\u00a0hmm generateAndAttachConfigurationZipIfNotExist doesn't seem to \u00a0be called from java  \n10:03\u00a0<tmortagne>\u00a0now I'm not so sure the solr home directory is properly initialized if the configured instance is the remote one  \n10:03\u00a0<vmassol>\u00a0maybe from a page  \n10:04\u00a0<vmassol>\u00a0hmm it's not  \n10:04\u00a0<vmassol>\u00a0actually it's commented out  \n10:04\u00a0<vmassol>\u00a0in initialize()  \n10:04\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// will always fail  \n10:04\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// this.generateAndAttachConfigurationZipIfNotExist();  \n10:05\u00a0<tmortagne>\u00a0I don't really see the point in attaching this zip, it should be generated and put in the response on demand IMO  \n10:08\u00a0<polx>\u00a0has quit  \n10:11\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:12\u00a0<polx>\u00a0has joined #xwiki  \n10:24\u00a0<woshilapin>\u00a0Hi devs, is it possible to create a hql/xwql query that get all documents that have NOT an object A (for example, XWiki.XWikiRights) ?  \n10:24\u00a0<gdelhumeau>\u00a0woshilapin: the only I know to do this  \n10:25\u00a0<gdelhumeau>\u00a0is to do SELECT doc.fullName FROM Document doc WHERE doc.fullName NOT IN (SELECT doc2.fullName FROM Document doc2, doc.object(...) ...)  \n10:25\u00a0<gdelhumeau>\u00a0which is not very nice in my opinion  \n10:26\u00a0<woshilapin>\u00a0OK, indeed  \n10:27\u00a0<woshilapin>\u00a0But thinking of it, I don't know if I have other obvious choices...  \n10:27\u00a0<woshilapin>\u00a0Thanks  \n10:28\u00a0<vmassol>\u00a0woshilapin: in general it's better to change the way your code is designed to always look for positives (and not use negatives) ;)  \n10:29\u00a0<woshilapin>\u00a0I could also request for all documents and filter them in Velocity, but I don't know the effect in term of performances; what is the best?  \n10:29\u00a0<cjd>\u00a0don't pull all documents out of the db D:  \n10:29\u00a0<woshilapin>\u00a0(it's really ALL documents except hidden documents)  \n10:30\u00a0<cjd>\u00a0I think gd's query is about the best you'll find  \n10:30\u00a0<vmassol>\u00a0the best is to not do this  \n10:30\u00a0<vmassol>\u00a0:)  \n10:31\u00a0<vmassol>\u00a0usually it's a design issue  \n10:31\u00a0<vmassol>\u00a0and there are ways to do things differently in a more performant way  \n10:31\u00a0<cjd>\u00a0assuming vmassol's answer is not reasonable in this case  \n10:33\u00a0<polx>\u00a0has quit  \n10:33\u00a0<polx>\u00a0has joined #xwiki  \n10:34\u00a0<cjd>\u00a0I usually try to just answer the question as it was asked because questioning the design is often a matter of \"you're doing it wrong, rewrite yur app\" which isn't helpful. That said, sometimes what someone asks and what they actually want are two different things so my answers are not always the most helpful :)  \n10:36\u00a0<woshilapin>\u00a0My simple question is: \"how to get all viewable documents for a user?\" considering only information in the document (is there, or not, XWiki.XWikiRights object)  \n10:36\u00a0<woshilapin>\u00a0I don't care what's in the space or wiki rights (so I don't care of rights inheritance)  \n10:41\u00a0<vmassol>\u00a0this is a question asked frequently but I don't have the answer, I remember some code to do this and I'm sure others have done it.  \n10:42\u00a0<cjd>\u00a0doing rights checks in sql is horrific  \n10:43\u00a0<vmassol>\u00a0and rights are cached now  \n10:43\u00a0<vmassol>\u00a0with the new auth module  \n10:43\u00a0<cjd>\u00a0yes and that is faster than a rights check in sql  \n10:43\u00a0<vmassol>\u00a0so there may be more efficient ways of doing this  \n10:43\u00a0<cjd>\u00a0doing it in sql is a few pages of query and it will basically take out locks on every row in the entire database  \n10:45\u00a0<vmassol>\u00a0gdelhumeau: it's fine to take decisions. This is in our bylaws (lazy commit). I'd just like to make sure we all agree about it because we'll have to support the consequences together.  \n10:53\u00a0<vmassol>\u00a0note: I discussed offline with jean (woshilapin)  \n11:27\u00a0<tmortagne>\u00a0has quit  \n11:58\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:18\u00a0<polx>\u00a0has quit  \n12:38\u00a0<polx>\u00a0has joined #xwiki  \n12:52\u00a0<polx>\u00a0has quit  \n13:07\u00a0<gdelhumeau>\u00a0vmassol: after some discussions with evalica1, the conclusion is \"I should not modify colibri anymore because it is too old and a lot of users have customizations and will be lost if I split template file\"  \n13:08\u00a0<gdelhumeau>\u00a0So I will revert the changes made in /templates and in /colibri  \n13:08\u00a0<evalica1>\u00a0is now known as <evalica>  \n13:08\u00a0<gdelhumeau>\u00a0but I will have even more code duplication between the base skin and flamingo  \n13:08\u00a0<gdelhumeau>\u00a0that will make harder to support the both skins in the future  \n13:09\u00a0<gdelhumeau>\u00a0which is ok if we really want to drop colibri in 7.x (which will make upgrade much more harder...)  \n13:10\u00a0<gdelhumeau>\u00a0do you think we need a vote about the idea of dropping of colibri in 7.x?  \n13:10\u00a0<evalica>\u00a0gdelhumeau: maybe is good if you make some notes somewhere on documentation and on Flamingo proposal of what templates you've split and in what files - in order to know where to make the modifications when supporting both skins  \n13:11\u00a0<evalica>\u00a0IMO is kind of too early to make this kind of vote \u00a0(of dropping Colibri) - usually we make it after we have the new skin, people are using it and like it and we don't want to invest anymore in the old one  \n13:11\u00a0<gdelhumeau>\u00a0yes  \n13:11\u00a0<gdelhumeau>\u00a0but a vote about the idea of it  \n13:12\u00a0<evalica>\u00a0well\u2026 is kind of normal to drop an old skin in favor of a new one. So IMO the idea is kind of agreed by default. We applied this strategy for albastros -> toucan -> colibri  \n13:19\u00a0<OSIMasson>\u00a0has joined #xwiki  \n13:33\u00a0<polx>\u00a0has joined #xwiki  \n13:33\u00a0<polx>\u00a0has quit  \n13:36\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:36\u00a0<vmassol>\u00a0has quit  \n13:41\u00a0<polx>\u00a0has joined #xwiki  \n13:48\u00a0<polx>\u00a0has quit  \n13:52\u00a0<polx>\u00a0has joined #xwiki  \n13:55\u00a0<polx>\u00a0has quit  \n13:56\u00a0<polx>\u00a0has joined #xwiki  \n14:03\u00a0<evalica>\u00a0has quit  \n14:05\u00a0<polx\\_>\u00a0has joined #xwiki  \n14:06\u00a0<polx>\u00a0has quit  \n14:06\u00a0<polx\\_>\u00a0is now known as <polx>  \n14:18\u00a0<UCC>\u00a0has quit  \n14:19\u00a0<unknown\\_>\u00a0has quit  \n14:19\u00a0<Denis>\u00a0has quit  \n14:20\u00a0<Denis>\u00a0has joined #xwiki  \n14:27\u00a0<polx>\u00a0has quit  \n14:34\u00a0<polx>\u00a0has joined #xwiki  \n14:43\u00a0<polx>\u00a0has quit  \n14:45\u00a0<polx>\u00a0has joined #xwiki  \n15:19\u00a0<vmassol>\u00a0has joined #xwiki  \n15:21\u00a0<vmassol1>\u00a0has quit  \n15:22\u00a0<andreeapopescu>\u00a0has quit  \n15:29\u00a0<vmassol>\u00a0tmortagne: can I import an extension with a long descprtion now on e.x.o?  \n15:30\u00a0<tmortagne>\u00a0vmassol: I did not upgraded xwiki.org  \n15:30\u00a0<vmassol>\u00a0hmm ok so it's going to fail  \n15:31\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:39\u00a0<polx>\u00a0has quit  \n15:43\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n15:44\u00a0<sdumitriu>\u00a0has quit  \n15:47\u00a0<sdumitriu1>\u00a0has quit  \n15:49\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n15:52\u00a0<gdelhumeau>\u00a0has quit  \n15:55\u00a0<msmeria>\u00a0has quit  \n16:06\u00a0<polx>\u00a0has joined #xwiki  \n16:06\u00a0<cjd>\u00a0has quit  \n16:25\u00a0<tmortagne>\u00a0has quit  \n16:25\u00a0<cjd>\u00a0has joined #xwiki  \n16:46\u00a0<silverdrop>\u00a0has quit  \n16:47\u00a0<silverdrop>\u00a0has joined #xwiki  \n16:52\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:09\u00a0<KermitTheFragger>\u00a0has quit  \n17:30\u00a0<D-Spair>\u00a0vmassol: \u00a0Would you be so kind as to assign XWIKI-10026 to me and I will try to get it implemented and send over a pull request in the next week or two..  \n17:34\u00a0<vmassol>\u00a0D-Spair: cool, I'd do it but there's no D-Spair in jira :)  \n17:34\u00a0<vmassol>\u00a0I have no idea who you are  \n17:34\u00a0<vmassol>\u00a0since you're hiding  \n17:34\u00a0<vmassol>\u00a0:)  \n17:35\u00a0<D-Spair>\u00a0vmassol: \u00a0Sorry! I'll send over my ID in a sec  \n17:36\u00a0<D-Spair>\u00a0Not hiding! Just forgot to pass along the relevant information...  \n17:36\u00a0<D-Spair>\u00a0vmassol: \u00a0Thanks!  \n17:36\u00a0<D-Spair>\u00a0BBL  \n17:47\u00a0<Denis>\u00a0has quit  \n17:49\u00a0<vmassol>\u00a0so you're Deven Phillips!  \n17:50\u00a0<vmassol>\u00a0would be nice to set up your irc id accordingly so that we can match your emails/jiras and your questions on irc  \n17:50\u00a0<vmassol>\u00a0(D-Spair)  \n17:50\u00a0<cjd>\u00a0irc has a /whois command which displays the name as it is configured  \n17:50\u00a0<cjd>\u00a0ofc for me it comes up as \"ircname \u00a0: See Jay Dee\" but that's not important xD  \n17:51\u00a0<vmassol>\u00a0sure and I can also do some detective work to find it out, why make it hard to find?  \n17:51\u00a0<vmassol>\u00a0if you need help, it's my opinion that you should make it as simple as possible for people to help you out  \n17:51\u00a0<tmortagne>\u00a0it's actually indicated as \"Real name\" for D-Spair, I guess depending on the IRC client you can display the real name  \n17:52\u00a0<vmassol>\u00a0indeed my client just displays D-Spair  \n17:52\u00a0<vmassol>\u00a0maybe there's an option to display real names  \n17:53\u00a0<vmassol>\u00a0(using adium)  \n17:54\u00a0<cjd>\u00a0I use irssi so I'm used to having to type somethign if I want to see anything :)  \n17:57\u00a0<silverdrop>\u00a0has quit  \n18:27\u00a0<woshilapin>\u00a0has quit  \n19:18\u00a0<unknown\\_>\u00a0has joined #xwiki  \n19:23\u00a0<polx>\u00a0has quit  \n19:27\u00a0<tmortagne>\u00a0has quit  \n19:34\u00a0<UCC>\u00a0has joined #xwiki  \n19:38\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:51\u00a0<gdelhumeau\\_>\u00a0has quit  \n20:20\u00a0<cjd>\u00a0has quit  \n20:49\u00a0<polx>\u00a0has joined #xwiki  \n21:01\u00a0<sdumitriu\\_[Away]>\u00a0is now known as <sdumitriu>  \n21:14\u00a0<Denis>\u00a0has joined #xwiki  \n22:02\u00a0<UCC>\u00a0has quit  \n22:02\u00a0<unknown\\_>\u00a0has quit  \n22:41\u00a0<polx>\u00a0has quit  \n22:57\u00a0<Denis>\u00a0has quit  \n23:33\u00a0<D-Spair>\u00a0has quit  \n23:38\u00a0<D-Spair>\u00a0has joined #xwiki  \n23:44\u00a0<vmassol>\u00a0has quit  \n23:57\u00a0<silverdrop>\u00a0has joined #xwiki\n"}