{"id": "dev:IRC.xwikiArchive20120401", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120401", "title": "IRC Archive for channel #xwiki on 01 April 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:00\u00a0<vmassol>\u00a0waiting for you sdumitriu, i don't want to do any mistake....  \n00:04\u00a0<vmassol>\u00a0trying something  \n00:12\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r22c0c04\u000f https://github.com/xwiki/xwiki-commons/commit/22c0c04209ddbb0f5808b54e04e9f07a9f2a0fce \u000f/ (89 files in 52 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin - http://git.io/AiJLiw  \n00:12\u00a0<vmassol>\u00a0hopefully it's o  \n00:12\u00a0<vmassol>\u00a0k  \n00:13\u00a0<vmassol>\u00a0sburjan`: this is what I was working on :)  \n00:14\u00a0<vmassol>\u00a0now we have hundreds of build errors to fix I guess.....  \n00:14\u00a0<+sburjan`>\u00a0so basically we make sure all the xar's we create to be at version 1, etc ?  \n00:15\u00a0<+sburjan`>\u00a0didn't we already released xar's like this ?  \n00:16\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r3edd739\u000f https://github.com/xwiki/xwiki-platform/commit/3edd739630d08b15d90f6b17bb2096bcdd96e2f0 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7571: Rewrite the IRC Bot Application to Improve its maintenance and stability - http://git.io/g-1aYw  \n00:17\u00a0<vmassol>\u00a0sburjan`: it's about verifying various things  \n00:17\u00a0<vmassol>\u00a0see XCOMMONS-145  \n00:18\u00a0<+sburjan`>\u00a0yes, not many details for me  \n00:18\u00a0<vmassol>\u00a0?  \n00:18\u00a0<+sburjan`>\u00a0because afaik we already release all our xar's as version 1.0  \n00:18\u00a0<vmassol>\u00a0no  \n00:18\u00a0<+sburjan`>\u00a0and as creatos with Admin  \n00:18\u00a0<vmassol>\u00a0no  \n00:18\u00a0<vmassol>\u00a0we release with version 1.1  \n00:18\u00a0<+sburjan`>\u00a0well at least in our XE xar  \n00:18\u00a0<+sburjan`>\u00a0hmmm  \n00:19\u00a0<vmassol>\u00a0and creators should be xwiki:XWiki.Admin  \n00:19\u00a0<vmassol>\u00a0this to \\*\\*ensure\\*\\* that we have correct XARs  \n00:19\u00a0<+sburjan`>\u00a0so we're enforcing some sort of xar consistency here ?  \n00:19\u00a0<vmassol>\u00a0see the jira issue  \n00:19\u00a0<vmassol>\u00a0it's all mentioned ther  \n00:20\u00a0<+sburjan`>\u00a0I guess this will fail if someone commits or changes a xar with a version > 1.0  \n00:20\u00a0<+sburjan`>\u00a0I mean if it commits to an xml, which will build a xar  \n00:20\u00a0<+sburjan`>\u00a0yes, it's cool  \n00:20\u00a0<+sburjan`>\u00a0dunno why I thought we already had this :)  \n00:21\u00a0<vmassol>\u00a0we had already one check  \n00:21\u00a0<vmassol>\u00a0but elsewhere  \n00:21\u00a0<vmassol>\u00a0the orphan check  \n00:21\u00a0<vmassol>\u00a0which I now need to remove  \n00:21\u00a0<+sburjan`>\u00a0it's 1st of april, I hope you'ew not joking here :)  \n00:22\u00a0<vmassol>\u00a0:)  \n00:22\u00a0<vmassol>\u00a0nn  \n00:22\u00a0<vmassol>\u00a0has quit  \n01:54\u00a0<ssavi>\u00a0has quit  \n02:27\u00a0<ssavi>\u00a0has joined #xwiki  \n02:29\u00a0<ssavi>\u00a0has quit  \n03:06\u00a0<ssavi>\u00a0has joined #xwiki  \n05:07\u00a0<ssavi>\u00a0has quit  \n05:19\u00a0<ssavi>\u00a0has joined #xwiki  \n05:35\u00a0<ssavi>\u00a0has left #xwiki  \n08:59\u00a0<vmassol>\u00a0has joined #xwiki  \n09:14\u00a0<vmassol>\u00a0killing ci job which is stuck  \n09:39\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r6259616\u000f https://github.com/xwiki/xwiki-platform/commit/625961687f7ca9f10b5ec2a3634e3dac3e2773d2 \u000f/ (13 files):\u000f [Misc] Fix wrong authors - http://git.io/eNRcFA  \n09:48\u00a0<esnellman1>\u00a0has quit  \n10:08\u00a0<faryshta>\u00a0has quit  \n10:22\u00a0<faryshta>\u00a0has joined #xwiki  \n10:59\u00a0<ash3003>\u00a0has quit  \n11:55\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rd9c6d25\u000f https://github.com/xwiki/xwiki-commons/commit/d9c6d25ceee8fe5d6dd81fa3575792c9f84ce2ec \u000f/ (7 files in 7 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n13:01\u00a0<jvdrean>\u00a0has joined #xwiki  \n13:02\u00a0<jvdrean>\u00a0has quit  \n13:07\u00a0<abusenius>\u00a0has joined #xwiki  \n13:30\u00a0<faryshta>\u00a0has quit  \n14:58\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r869de00\u000f https://github.com/xwiki/xwiki-commons/commit/869de0068ca98993ac943a3391594f3e16180e59 \u000f/ (3 files in 3 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n15:03\u00a0<+sburjan`>\u00a0vmassol: was this thing in the Roadmap ? the one about verification of XAR plugins ?  \n15:03\u00a0<vmassol>\u00a0sdumitriu: hellono  \n15:03\u00a0<vmassol>\u00a0oops  \n15:03\u00a0<+sburjan`>\u00a0or how cone you decided to work on 1st of april on it ?  \n15:03\u00a0<vmassol>\u00a0s/sdumitriu: hellono/no/  \n15:03\u00a0<+sburjan`>\u00a0in a sunday :)  \n15:03\u00a0<+sburjan`>\u00a0is it mandatory for the release or something ?  \n15:03\u00a0<vmassol>\u00a0because I've been working for several months  \n15:04\u00a0<vmassol>\u00a0on splitting functional tests in their own modules in platform  \n15:04\u00a0<vmassol>\u00a0I'm just continuing this strategy  \n15:04\u00a0<+sburjan`>\u00a0I see  \n15:05\u00a0<+sburjan`>\u00a0not sure I 100% follow, how is this related to XAR verification ?  \n15:24\u00a0<vmassol>\u00a0we currently check orphaned as part of functional tests  \n15:30\u00a0<+sburjan`>\u00a0ok  \n15:43\u00a0<vmassol>\u00a0sdumitriu: ping  \n17:06\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:08\u00a0<@sdumitriu>\u00a0vmassol: Pong  \n17:09\u00a0<vmassol>\u00a0sdumitriu: I'm creating a xar:format mojo  \n17:09\u00a0<vmassol>\u00a0are you ok that we pretty print the XML? It seems better to me  \n17:10\u00a0<vmassol>\u00a0the format fixes the version, authors fields  \n17:10\u00a0<@sdumitriu>\u00a0Yes, but take care with the text content  \n17:10\u00a0<vmassol>\u00a0yes it's ok  \n17:10\u00a0<vmassol>\u00a0I've checked it  \n17:10\u00a0<@sdumitriu>\u00a0We don't want to indent velocity code  \n17:10\u00a0<vmassol>\u00a0yep  \n17:10\u00a0<vmassol>\u00a0it's untouched  \n17:10\u00a0<vmassol>\u00a0I have one issue though  \n17:10\u00a0<vmassol>\u00a0with encoding  \n17:11\u00a0<vmassol>\u00a0and i can't figure the issue  \n17:11\u00a0<vmassol>\u00a0basically when I write back the XML file I get garbagged chars even though I use UTF8  \n17:11\u00a0<vmassol>\u00a0I'm running this on the applicationmanager ui xar files  \n17:11\u00a0<vmassol>\u00a0(there are some translations there)  \n17:13\u00a0<vmassol>\u00a0for example: http://www.evernote.com/shard/s119/sh/3ee4e8d9-5a44-4cda-af95-ac3bb2c33f4a/d15469eb1414c3342696472f2f0955a4  \n17:14\u00a0<abusenius>\u00a0has quit  \n17:14\u00a0<vmassol>\u00a0any idea?  \n17:18\u00a0<@sdumitriu>\u00a0Can you pastebin the code you use?  \n17:18\u00a0<vmassol>\u00a0yep, hold on  \n17:18\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-commons/commit/3f79364078f538396cdca126ba6dd07c709ed0e9#diff-3  \n17:18\u00a0<vmassol>\u00a0(check the format() method)  \n17:19\u00a0<@sdumitriu>\u00a0Can you try to print the content after reading the document? It might not be a write problem, but a read one  \n17:20\u00a0<vmassol>\u00a0yes it could be, but the read should be ok too since the XML specified the encoding  \n17:20\u00a0<@sdumitriu>\u00a0Although AFAIK the XML header should tell the reader which encoding to use  \n17:20\u00a0<vmassol>\u00a0yep exactly  \n17:20\u00a0<@sdumitriu>\u00a0Why format.setExpandEmptyElements(true); ?  \n17:20\u00a0<vmassol>\u00a0just to keep it as it is now  \n17:21\u00a0<vmassol>\u00a0didn't think much about it yet  \n17:21\u00a0<vmassol>\u00a0that's easy to change...  \n17:29\u00a0<vmassol>\u00a0sdumitriu: I've checked and the read is ok  \n17:33\u00a0<@sdumitriu>\u00a0So the code is committed, I can try locally, right?  \n17:33\u00a0<vmassol>\u00a0yes  \n17:38\u00a0<CIA-120>\u00a0Sergiu Dumitriu\u000f master\u000f \\* re87930c\u000f https://github.com/xwiki/xwiki-commons/commit/e87930cd39828100e5ddc0f31cbe35264b170c5a \u000f/ (12 files in 10 dirs):\u000f [misc] Fixed deprecated annotations, method calls - http://git.io/gJZItQ  \n17:45\u00a0<vmassol>\u00a0sdumitriu: re lookupComponent I need to reply  \n17:45\u00a0<vmassol>\u00a0thomas asked about the api  \n17:45\u00a0<vmassol>\u00a0and we need to rpovide feedback  \n17:45\u00a0<vmassol>\u00a0personally I don't like it too much  \n17:45\u00a0<vmassol>\u00a0it's too long for my taste  \n17:45\u00a0<vmassol>\u00a0lookup() was ok  \n17:45\u00a0<vmassol>\u00a0I'd prefer something like resolve()  \n17:45\u00a0<vmassol>\u00a0(since lookup is now for backward compat)  \n17:46\u00a0<vmassol>\u00a0anyway we need to be sure about the new api before 4.0 is final  \n17:46\u00a0<vmassol>\u00a0(this is why I haven't modified lots of places yet)  \n17:46\u00a0<vmassol>\u00a0I'll reply to thomas' mail today or tomorrow  \n17:54\u00a0<vmassol>\u00a0sdumitriu: going to try with a FileOutputStream instead  \n17:55\u00a0<vmassol>\u00a0ok that works  \n17:55\u00a0<vmassol>\u00a0:)  \n17:55\u00a0<vmassol>\u00a0committing  \n17:56\u00a0<vmassol>\u00a0sdumitriu: do you prefer if I remove format.setExpandEmptyElement(true)?  \n18:10\u00a0<@sdumitriu>\u00a0vmassol: Yes  \n18:10\u00a0<vmassol>\u00a0ok doing it  \n18:10\u00a0<@sdumitriu>\u00a0It gets smaller files  \n18:10\u00a0<vmassol>\u00a0finishing functional test now  \n18:17\u00a0<jvelo>\u00a0has joined #xwiki  \n18:22\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r7ac320a\u000f https://github.com/xwiki/xwiki-commons/commit/7ac320a2961786ccbcc17ed246492973242cc0dc \u000f/ (5 files in 4 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n18:22\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rb59df27\u000f https://github.com/xwiki/xwiki-commons/commit/b59df27a52d9d9104b9f867dbf538fa9fdba5f08 \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n18:25\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r8bcded9\u000f https://github.com/xwiki/xwiki-platform/commit/8bcded9e9074422fe192719c6d7d34f3fbe58cc3 \u000f/ (50 files in 7 dirs):\u000f [Misc] Fix wrong authors, versions and format nicely the XAR XML files - http://git.io/IVKp9g  \n18:28\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r087e321\u000f https://github.com/xwiki/xwiki-platform/commit/087e321d6311d796ed98c870c072cc422323c2a5 \u000f/ (18 files):\u000f [Misc] Format nicely the XAR XML files - http://git.io/sGsP2w  \n18:33\u00a0<abusenius>\u00a0has joined #xwiki  \n18:33\u00a0<vmassol>\u00a0bbl  \n18:33\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rf53770e\u000f https://github.com/xwiki/xwiki-platform/commit/f53770ec78e052fd5040d4281d2cbae66e1d243a \u000f/ (5 files):\u000f [Misc] Fix wrong authors, versions and format nicely the XAR XML files - http://git.io/fst2kQ  \n19:15\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* ra49a2b5\u000f https://github.com/xwiki/xwiki-commons/commit/a49a2b532d24c321a01ecfa4e1182a89a15ed310 \u000f/ (5 files in 4 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n19:21\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r3c0ab5a\u000f https://github.com/xwiki/xwiki-commons/commit/3c0ab5ad8c0191c0858ea3f2cc1a38cf50120ae3 \u000f/ (5 files in 4 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n19:31\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rae9ec55\u000f https://github.com/xwiki/xwiki-commons/commit/ae9ec55f3cd48a35779532941dc36bfc8b5c0552 \u000f/ (4 files in 4 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n19:49\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r923b775\u000f https://github.com/xwiki/xwiki-commons/commit/923b77513547eae23f232c9e3467e79df482c89d \u000f/ (5 files in 4 dirs):\u000f XCOMMONS-145: Add new Verify Mojo in XAR plugin ...  \n19:49\u00a0<ssavi>\u00a0has joined #xwiki  \n19:50\u00a0<vmassol>\u00a0sdumitriu: ok, I've finished implementing all the checks you had suggested in http://markmail.org/message/h5tjfqkbv6x4dtnk ;)  \n19:50\u00a0<@sdumitriu>\u00a0Ah,. nice  \n19:51\u00a0<vmassol>\u00a0ah need to update the format mojo to finish the work  \n19:57\u00a0<vmassol>\u00a0just need to find how to set an element to be empty and still generate an empty element when serialized\u2026 ;)  \n19:59\u00a0<vmassol>\u00a0not easy  \n19:59\u00a0<vmassol>\u00a0when serializing a node they check for null: \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if ((text != null) && (text.length() > 0)) {  \n19:59\u00a0<vmassol>\u00a0so I need to pass null but  \n20:00\u00a0<vmassol>\u00a0passing null fails  \n20:00\u00a0<vmassol>\u00a0;)  \n20:02\u00a0<vmassol>\u00a0I think i know how to do it  \n20:03\u00a0<ssavi>\u00a0hi  \n20:04\u00a0<ssavi>\u00a0I am working with solr component and I programmatically want to read all the pages and its content. Can you point me to some existing material on that?  \n21:20\u00a0<ssavi>\u00a0has left #xwiki  \n21:35\u00a0<jvelociter>\u00a0has joined #xwiki  \n21:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n21:36\u00a0<jvelo>\u00a0has quit  \n21:49\u00a0<jvelociter>\u00a0has quit  \n22:04\u00a0<jvelociter>\u00a0has joined #xwiki  \n22:14\u00a0<mflorea>\u00a0has joined #xwiki  \n22:15\u00a0<ssavi>\u00a0has joined #xwiki  \n22:15\u00a0<mflorea>\u00a0has quit  \n22:31\u00a0<jvelociter>\u00a0has quit  \n22:46\u00a0<jvelociter>\u00a0has joined #xwiki  \n23:25\u00a0<vmassol>\u00a0has quit  \n23:31\u00a0<ssavi>\u00a0has quit  \n23:33\u00a0<abusenius>\u00a0has quit  \n23:36\u00a0<vmassol>\u00a0has joined #xwiki  \n23:42\u00a0<jvelociter>\u00a0has quit  \n23:47\u00a0<jvelociter>\u00a0has joined #xwiki  \n\n"}