{"id": "dev:IRC.xwikiArchive20101014", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101014", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu - (00:00): K  \nsburjan\\_ joined #xwiki at 00:01  \nbblfish joined #xwiki at 00:02  \nsburjan` left at 00:04 (Ping timeout: 265 seconds  \nsburjan\\_ is now known as sburjan` ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nbblfish left at 00:08 (Quit: Leaving.  \nbblfish joined #xwiki at 00:45  \nbblfish left at 00:54 (Ping timeout: 240 seconds  \nsburjan\\_ joined #xwiki at 01:36  \nlucaa left at 01:36 (Ping timeout: 250 seconds  \nsburjan` left at 01:36 (Ping timeout: 276 seconds  \nsburjan\\_ is now known as sburjan` ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nevalica joined #xwiki at 02:00  \nevalica left at 02:17 (Read error: Connection reset by peer  \nsdumitriu left at 02:59 (Quit: Leaving.  \nabusenius left at 04:30 (Quit: Konversation terminated!  \nBaur joined #xwiki at 05:19  \nvenkatesh joined #xwiki at 06:19  \nvenkatesh left at 06:20 (Client Quit  \nvenkatesh joined #xwiki at 06:20  \nBaur - (06:29): ping  \nBaur - (06:30): cjdelisle ping  \nBaur - (06:38): hello  \nBaur - (06:38): anybody is here?  \nDenis left at 07:01 (Read error: Connection reset by peer  \nBaur - (07:07): {{velocity}}$xwiki.jsx.use(\"XWiki.SomeJSfile\") {{/velocity}} does not work  \nBaur - (07:08): JS script is not called  \nBaur - (07:08): any idea?  \nDenis joined #xwiki at 07:14  \nBaur - (07:14): ?  \ngsauthier left at 07:20 (Ping timeout: 272 seconds  \nBaur - (07:31): xipe ping  \nBaur - (07:31): npm ping  \nrrodriguez joined #xwiki at 07:44  \nasrfel joined #xwiki at 08:34  \nmflorea joined #xwiki at 08:52  \nsilviar joined #xwiki at 08:55  \nsilviar left at 08:57 (Client Quit  \nsilviar joined #xwiki at 09:01  \nrrodriguez left at 09:08 (Quit: rrodriguez  \nvmassol joined #xwiki at 09:08  \nvmassol left at 09:09 (Client Quit  \nvmassol joined #xwiki at 09:09  \nvmassol1 joined #xwiki at 09:12  \nvmassol left at 09:14 (Ping timeout: 252 seconds  \nsburjan\\_ joined #xwiki at 09:27  \nasrfel left at 09:27 (Read error: Connection reset by peer  \nsburjan` left at 09:31 (Ping timeout: 264 seconds  \nsburjan\\_ is now known as sburjan` ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nasrfel joined #xwiki at 09:31  \narkub joined #xwiki at 09:31  \nasrfel left at 09:31 (Client Quit  \nasrfel joined #xwiki at 09:32  \nrrodriguez joined #xwiki at 09:33  \nsburjan joined #xwiki at 09:34  \nrrodriguez left at 09:34 (Client Quit  \nvmassol1 - (09:36): good morning guys  \nvmassol1 - (09:37): we need to finish fixing quickly those failing tests  \nvmassol1 - (09:37): there are even more than yesterday :(  \nvmassol1 - (09:37): http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/72/testReport/  \nvmassol1 - (09:38): sburjan: could you fix this one: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-ui/72/testReport/org.xwiki.it.ui/UserProfileTest/EditProfile/ ?  \nsburjan - (09:40): vmassol1: I will try. But I ran that test on 3 different machines, without a failure. It fails only on Hudson. i guess it's a flickering  \nvmassol1 - (09:40): flickering must be fixed at all cost  \nflorinciu joined #xwiki at 09:40  \nvmassol1 - (09:41): (it's usually not too hard to fix since it means some ajax and a missing wait in the test)  \nsburjan - (09:41): I know .. I am investigating now  \nvmassol1 - (09:42): we'\"re really really bad at functional testing, we need to improve. I'll send a mail with a proposal later on  \nsburjan - (09:42): although It will be a blind fix .. because it happens only on hudson  \nsburjan - (09:42): okay .. trying to fix that test  \nvmassol1 - (09:42): it takes us over 3 weeks to stabilize a release that's definitely not normal  \nvmassol1 - (09:43): and we systematically slip by one week even though we have planned 2 weeks for stabilization so something is dead wrong  \nvmassol1 - (09:43): we should stabilize in less than 2 days  \nsburjan - (09:44): yes ..  \nbblfish joined #xwiki at 09:46  \nsilviar left at 09:52 (Quit: Leaving.  \nsburjan - (09:53): Hop I will be able to catch the flickering .. I am a little nervous about this  \nsburjan - (09:53): never did this before ... especially not blindly  \nsburjan - (09:54): vmassol1: ui-tests on hudson are launched using mvn surefire:test or mvn clean install ?  \nsburjan - (09:54): because on my personal machine, I get different results when running these 2 commands  \nsburjan - (09:54): and it seems odd  \nvmassol1 - (09:56): you should not call surefire:test  \nBaur left at 09:56 (\\*.net \\*.split  \nnpm left at 09:56 (\\*.net \\*.split  \nvmassol1 - (09:56): you can call mvn test but this won't run integration tests, the phase runs after  \nsilviar joined #xwiki at 09:59  \nvmassol1 - (09:59): mflorea: fyi there's a warning in the gwt dom project build: [WARNING] You should not declare gwt-dev as a project dependency. This may introduce complex dependency conflicts  \ntmortagne joined #xwiki at 09:59  \nmflorea left at 10:00 (Ping timeout: 264 seconds  \njvdrean joined #xwiki at 10:05  \nasrfel left at 10:06 (\\*.net \\*.split  \narkub left at 10:06 (\\*.net \\*.split  \nDenis left at 10:06 (\\*.net \\*.split  \nDragosRusu left at 10:06 (\\*.net \\*.split  \ncjdelisle left at 10:06 (\\*.net \\*.split  \nsburjan` left at 10:06 (\\*.net \\*.split  \nnuvolari left at 10:06 (\\*.net \\*.split  \nsburjan left at 10:06 (\\*.net \\*.split  \nvenkatesh left at 10:06 (\\*.net \\*.split  \nsburjan joined #xwiki at 10:11  \nsburjan - (10:11): god damn splits  \nsdumitriu joined #xwiki at 10:12  \nsdumitriu - (10:15): Hi guys  \nsdumitriu - (10:15): Starting the release  \nvmassol1 - (10:15): good morning sdumitriu  \nmflorea joined #xwiki at 10:16  \nvmassol1 - (10:16): sdumitriu: you sure? there are some failing tests, isn't that a pb?  \nsdumitriu - (10:16): Let me check  \nsburjan - (10:17): although I see that mvn clean install runs the tests with surefire  \nvmassol1 - (10:17): sburjan: you need to read up on maven phases  \nvmassol1 - (10:17): let me get you the url  \nvmassol1 - (10:17): here: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html  \nsburjan - (10:18): thanks.  \nvmassol1 - (10:21): sburjan: when you call mvn install it'll run all the phases that come before the install phase and hence all the plugins that have mojos bound to those phases will get executed too, whereas if you run mvn surefire:test only the test mojo of the surefire plugin will execute, nothing else  \nvmassol1 - (10:22): (when you choose a projet's packaging - ie <packaging> in the POM) then you get automatically a mapping between phases and mojos)  \nsburjan - (10:23): I understand  \nsburjan - (10:24): thanks you ... now I understand  \nsburjan - (10:24): \\*thanks  \nsburjan - (10:24): \\*thank  \ntmortagne1 joined #xwiki at 10:26  \nsburjan - (10:27): I run mvn clean install from enterprise/trunk .. done ... run mvn clean install from ui-tests .. ran all the tests. I still got different results as hudson . And my failing tests that fails on hudson, passes on local machine. I will have to try to fix this  \ntmortagne left at 10:28 (Ping timeout: 240 seconds  \nevalica joined #xwiki at 10:31  \nsdumitriu - (10:33): These work locally: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-ui/72/testReport/  \nsdumitriu - (10:34): This failed because of this log message: INFO: \u00a0seeing JVM BUG(s) - cancelling interestOps==0  \nsdumitriu - (10:34): http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-webstandards/72/testReport/  \nsburjan - (10:36): so they pass on you local machine too ?  \nsburjan - (10:36): I am interested in UserProfileTest  \nsdumitriu - (10:36): Yes, they pass  \nsburjan - (10:37): so what can I do so UserProfileTest to pass on Hudson too ?  \nvmassol1 - (10:37): find why they don't pass and fix it :)  \nsburjan - (10:38): sad part is that I can't reproduce locally :)  \nvmassol1 - (10:38): look at the error  \nvmassol1 - (10:38): read the test code  \nvmassol1 - (10:38): deduce how the error can happen  \nlucaa joined #xwiki at 10:39  \nvmassol1 - (10:42): fyi I've generated a clover report for the whole platform and the TPC is 28%. Now adding functional tests to see how it improves  \nsburjan - (10:43): fingers crossed  \nsburjan - (10:43): :)  \nvmassol1 - (10:43): so this means our unit tests only cover 28%  \nvmassol1 - (10:43): that's quite low  \nmflorea - (10:49): sdumitriu: the content edit menu is displayed above the WYSIWYG editor dialogs, probably a big z-index. Should we fix this on the WYSIWYG stylesheet or in the XE skin?  \nsdumitriu - (10:50): WYSIWYG  \nmflorea - (10:50): ok, I'll fix it  \nsdumitriu - (10:51): sburjan: I think that this line fails: getDriver().switchTo().frame(2);  \nsdumitriu - (10:51): In ProfileEditPage#setUserAddress  \nsburjan - (10:54): I will try to fix this so I won't have to use that  \nDragosRusu joined #xwiki at 10:59  \nnuvolari joined #xwiki at 10:59  \ncjdelisle joined #xwiki at 10:59  \nvenkatesh joined #xwiki at 10:59  \narkub joined #xwiki at 10:59  \nasrfel joined #xwiki at 10:59  \nEnygma` joined #xwiki at 10:59  \nBaur joined #xwiki at 10:59  \nnpm joined #xwiki at 10:59  \nBaur - (11:20): ping  \nBaur - (11:20): \u00a0$escapetool.xml(${pdoc.getRenderedTitle('plain/1.0')}) \u00bb $escapetool.xml(${pdoc.getRenderedTitle('plain/1.0')}) \u00bb ???? ???????? Onlinebank  \nBaur - (11:21): for some reason breadcrumbs does not appera correct  \ncjdelisle - (11:21): are you getting things like &#123;  \ncjdelisle - (11:22): ?  \nBaur - (11:24): nope, for some reason if take away for unregistered user to have right for viewing and commenting for XWIKI page  \nBaur - (11:24): the breadcrumb shows incorrectly  \nBaur - (11:24): I returned rights to what it was before  \nBaur - (11:24): and it is ok now  \nBaur - (11:25): i guess it is a bug  \ncjdelisle - (11:25): gueses need view access on the XWiki space, that's all I can think of.  \ncjdelisle - (11:25): \\*guests  \nBaur - (11:25): i \u00a0can not give that access right for unregistered users  \nBaur - (11:25): cause they can change things later  \ncjdelisle - (11:26): just view, not edit.  \nBaur - (11:26): well from xwiki space they can have access to any other page, right?  \ncjdelisle - (11:28): No. giving guests permission to view in XWiki space only means they can view in the XWiki space.  \ntmortagne1 - (11:28): Baur: XWiki space is just one space among others, when you can view it there is no reason you can view anything else  \nBaur - (11:32): well, when i say xwiki space i mean main space, and it contains things like sections and recent changes, and unregistered user can go to any space through the link, right?  \ntmortagne1 - (11:34): main space is Main (which doe snot contains recent changed but a page which shows recent changes) not XWiki and anyway clicking on a link does not give you any right to that link target  \nBaur - (11:37): ok, here is what i did  \nBaur - (11:37): when i type localhost:8080  \nBaur - (11:37): i go directly to my blog space  \nBaur - (11:37): there are some information for unregistered users  \nBaur - (11:38): so, if I click XWIKI link whis is located at the top left corner  \nBaur - (11:38): i get to the Main space  \nBaur - (11:38): where I can see sections and recent changes  \nBaur - (11:39): these links give me access to the pages where recent changes were made  \nBaur - (11:39): so there i can make changes to that pages  \nBaur - (11:39): and this is not good  \ncjdelisle - (11:42): ``these links give me access to the pages'' The links don't give you the access (although that's an interesting concept) \u00a0The links only point to the pages and if you didn't have access, you would get an access denied message.  \ntmortagne1 - (11:42): Baur: if you want to deny right for guess you need to do it in the admin, just hide links is useless  \ntmortagne1 - (11:43): anyone can go directly to the page typing the URL  \nBaur - (11:43): so you are saying that i have to adjust access rights in =every space and page  \ntmortagne1 - (11:44): not in every pages  \ntmortagne1 - (11:44): page rights inherit from space rights which inherits from wiki rights  \ntmortagne1 - (11:45): so just remove view right of guest at wiki level and set it for spaces you want to make public  \ntmortagne1 - (11:45): like Blog and XWiki here if i understood well  \nBaur - (11:46): the idea is that the unregistered users should have rights to view and comment on the Blog space or page, except that they should not have right to access any other space or page  \nBaur - (11:46): that is what i wanted to have  \nsdumitriu - (11:46): Then change the parent  \ntmortagne1 - (11:48): Baur: that's exatly what i just explained to you: remove any guest right at wiki level in the admin and give him view and comment right in Blocg space  \ntmortagne1 - (11:48): s/Blocg/Blog/  \ntmortagne1 - (11:48): and maybe XWiki space for technical reason i did not followed your dicussion with cjdelisle  \nsdumitriu - (11:48): Hm, actually the breadcrumbs should be OK  \nsdumitriu - (11:48): What version are you using?  \nBaur - (11:49): ok, when i remove view right from xwiki main space, the breadcrumb on the Blog space is dispayed incorrectly  \nBaur - (11:49): wait a minute lemme show you  \nBaur - (11:49): \u00a0$escapetool.xml(${pdoc.getRenderedTitle('plain/1.0')}) \u00bb $escapetool.xml(${pdoc.getRenderedTitle('plain/1.0')}) \u00bb ???? ???????? Onlinebank  \nsdumitriu - (11:50): Yes, seen that  \nBaur - (11:50): the breadcrumb is displaied this way  \nsdumitriu - (11:50): But it should be fixed  \nBaur - (11:50): that is what I am saying , it is kind of bug or error  \nBaur - (11:50): that is all I wanned to say  \nBaur - (11:50): :D  \nsdumitriu - (11:50): XWIKI-5362  \nsdumitriu - (11:51): It was fixed for 2.5M1  \nBaur - (11:51): well I am using 2.4.3 version  \nBaur - (11:54): so should I import this 2.5M1 version or what  \nsdumitriu - (11:54): You can use this file: https://svn.xwiki.org/svnroot/xwiki/platform/web/trunk/standard/src/main/webapp/templates/hierarchy.vm  \nBaur - (11:55): shoudl I just copy and paste this code to hierarchy.vm file?  \nsdumitriu - (11:55): Yes  \nBaur - (11:56): ok  \nBaur - (11:57): now it shows only this: \u00a0Main.WebHome \u00bb ???? ???????? Onlinebank  \nsdumitriu - (11:58): Just remove the parent from Blog.WebHome  \nvenkatesh left at 11:58 (Ping timeout: 240 seconds  \nBaur - (11:58): i guess there shoul be something different from Main.WebHome  \nfmancinelli joined #xwiki at 11:59  \ncjdelisle - (12:01): A lot of tests seem to be flickering now which didn't in the past.  \nDenis joined #xwiki at 12:01  \nBaur - (12:05): how can i remove parent from Blog.WebHome  \nsdumitriu - (12:07): Edit it  \nsdumitriu - (12:07): There should be a Parent field in the right panel  \nsdumitriu - (12:07): Delete the value from there  \nsdumitriu - (12:07): Save  \ncjdelisle - (12:36): -Xmx1024 just uploaded and downloaded xwiki-enterprise-web-2.5-SNAPSHOT.war (98MB) \u00a0I'd say my efforts paid off.  \ncjdelisle - (12:37): One more trick up my sleeve which I haven't compiled yet.  \nrstavro joined #xwiki at 12:37  \nvmassol1 - (12:39): ui-tests brings TPC from 23% to 38.6%  \ncjdelisle - (12:39): I'm surprised, I expected ui-tests would bring it up more.  \nvmassol1 - (12:39): (I have 7 test failures btw in ui-tests)  \nvmassol1 - (12:39): ui-tests is quite light  \nvmassol1 - (12:39): now I'll run selenium-tests  \ncjdelisle - (12:40): I would have thought anything which runs the wiki will run through a vast majority of all the code.  \ncjdelisle - (12:40): This means there is code which rarely runs. Possibly a place for optimization.  \nvmassol1 - (12:41): I'll publish the full report once I'm done  \nvmassol1 - (12:41): and we can then start analyzinf it  \nvmassol1 - (12:42): the good news is that I'm now able to run clover on all  \nsburjan - (12:42): 7 fails ? Now hudson reports only one.  \nvmassol1 - (12:42): I'll document that  \ncjdelisle - (12:42): Does it list the names or code lines of the statements which run vs the statements which don't?  \nvmassol1 - (12:42): yes  \ncjdelisle - (12:43): The ones which run (if there are that few) should be our #1 target for speed optimization.  \ncjdelisle - (12:43): yay!  \nvmassol1 - (12:43): cjdelisle: you can check http://dev.xwiki.org/xwiki/bin/download/Community/Testing/xwiki-rendering-clover-20101012.zip/index.html to familiarize yourself with the report  \ncjdelisle - (12:43): thanks  \nvmassol1 - (12:44): it's also interesting to see test code that does not run  \nsburjan - (12:45): I am doing this already :) Installed clover plugin on my eclipse  \nvmassol1 - (12:45): sburjan: and you're able to generate the full TPC for it all? what value do you get?  \nsdumitriu - (12:45): vmassol1: So you don't want me to release the root pom, nor the tools, right?  \nsburjan - (12:45): haven't ran it against all ui-tests  \nvmassol1 - (12:46): sdumitriu: correct  \nsburjan - (12:46): I'll check soon and report  \nsburjan - (12:46): (in a meeting atm)  \nlucaa left at 12:48 (Ping timeout: 252 seconds  \ncjdelisle - (12:48): Those reports look great for a lot of uses. I am really interested in ui-tests + selenium1 tests vs code in xwiki-core.  \ncjdelisle - (12:48): I'm betting a lot of what drags us down is old code which should be deprecated and retired.  \ncjdelisle - (12:49): bbiab c0ffee  \nmflorea - (12:50): sdumitriu: regarding the content edit menu bar, it scrolls with the page even it edit mode. It looks strange if WYSIWYG editor dialogs are above it when the page is scrolled..  \nsdumitriu - (12:52): Yes  \nmflorea - (12:52): hmm, I guess it's ok after all  \nsdumitriu - (12:54): Releasing core  \nmflorea - (12:55): sdumitriu: I still have to commit the fix for the z-index issue but it's in platform/web  \nsdumitriu - (12:55): I know  \nBaur left at 13:00 (Ping timeout: 265 seconds  \nsburjan left at 13:07 (Read error: Connection reset by peer  \nsburjan joined #xwiki at 13:07  \nmflorea - (13:09): sdumitriu: I committed my change. It's not good that the z-index is specified in Java code but I preferred to keep the change minimal before a RC release. I'll refactor that class later.  \nsdumitriu - (13:09): K  \nsdumitriu - (13:09): Thanks  \nmflorea left at 13:10 (Quit: Leaving.  \nsdumitriu - (13:10): (I spotted the problem two nights ago, but forgot about it)  \nvmassol1 left at 13:11 (Ping timeout: 252 seconds  \nBaur joined #xwiki at 13:16  \nvmassol joined #xwiki at 13:16  \nBaur - (13:17): I want to modify login page, mainly I want to remove quicklinks panel  \nBaur - (13:17): how can i do that?  \nbblfish left at 13:17 (Quit: Leaving.  \nDenis left at 13:31 (Quit: Leaving.  \nsilviar left at 13:31 (Quit: Leaving.  \nDenis joined #xwiki at 13:31  \nBaur - (13:35): ping  \nsilviar joined #xwiki at 13:38  \nsdumitriu - (13:39): There are several ways  \nabusenius joined #xwiki at 13:43  \nBaur - (13:54): I tried to modify startpage.vm file  \nBaur - (13:54): but no success  \nsdumitriu - (13:55): What did you do?  \nStulle joined #xwiki at 13:55  \nStulle - (13:55): hi  \nsdumitriu - (13:55): Hi Stulle  \nStulle - (13:56): i am trying to run a private XWiki, however, on opening the site i get a login screen with a greyish colorset  \nStulle - (13:56): although it should be colibri with default color theme  \nStulle - (13:56): am i doing something wrong or is there a bug?  \nsdumitriu - (13:56): The skin is configured in a wiki document  \nsdumitriu - (13:57): If the wiki is completely private, then it's not possible to read the skin document before being logged in  \nStulle - (13:57): oh, good to know  \nsdumitriu - (13:57): It is a kind of bug  \nStulle - (13:57): so what can i do to work around it?  \nStulle - (13:57): is there a way to reload the proper skin/color theme upon logging in?  \nsdumitriu - (13:57): How did you make the wiki private?  \nStulle - (13:58): on thw rights page  \nStulle - (13:58): i set the three lower checkmarks  \nlucaa joined #xwiki at 13:58  \nStulle - (13:59): any suggestions?  \nsdumitriu - (13:59): Two options  \nsdumitriu - (13:59): Change templates/colorThemeInit.vm to use different defaults  \nsdumitriu - (14:00): Or, uncheck those options and instead deny access rights to guest, and allow view on the default color theme document  \nmflorea joined #xwiki at 14:00  \ntmortagne1 - (14:01): what's weird is that right issues with skin is supposed to be fixed according to XWIKI-4378  \nsdumitriu - (14:02): tmortagne1: It's a different problem  \nStulle - (14:02): the latter sounds good to me. however, how would i block guests without those options?  \nsdumitriu - (14:02): colorThemeInit tries to open the ColorThemes.Default document  \ntmortagne1 - (14:02): ok so it's the right skin but not the right color theme ?  \nStulle - (14:02): indeed  \nrstavro left at 14:02 (Quit: Page closed  \nsdumitriu - (14:02): Stulle: From the administration, Rights, swich to Users (initially it's displayng Groups), and set the rights for Unauthenticated Users  \nBaur left at 14:03 (Quit: Page closed  \nStulle - (14:03): ahhh, got it  \nStulle - (14:03): hold on, gonna check  \nabusenius left at 14:04 (Ping timeout: 272 seconds  \nStulle - (14:07): that did the trick!  \nStulle - (14:07): thanks a bunch!!!  \nStulle - (14:07): should i still report this somehow?  \nStulle - (14:08): or this could possibly be FAQ content... like somebody else is bound to run into this at some point  \nabusenius joined #xwiki at 14:08  \nvenkatesh joined #xwiki at 14:08  \narkub left at 14:28 (Ping timeout: 276 seconds  \nStulle - (14:35): well, thanks again. see you around  \nvenkatesh left at 14:36 (Ping timeout: 240 seconds  \nStulle left at 14:40 (Ping timeout: 265 seconds  \nflorinciu left at 14:43 (Quit: Leaving.  \nsburjan - (15:11): did someone fixed the last ui-test failing ?  \nsburjan - (15:15): odd... on #74 0 failues  \nsburjan - (15:15): \\*failures  \nsburjan - (15:23): oh, still building  \nsilviar left at 15:25 (Read error: Connection reset by peer  \nsilviar joined #xwiki at 15:25  \nlucaa left at 15:29 (Ping timeout: 265 seconds  \narkub joined #xwiki at 15:39  \ntmortagne1 - (15:43): sdumitriu: can I commit things on core trunk already ?  \nsdumitriu - (15:43): Yes  \nsdumitriu - (15:44): Trunk is still 2.5  \ntmortagne1 - (15:44): ok good, that way i will not need to merge it in 3 branches ;)  \ntmortagne1 - (15:44): when do you plan to create the branch ?  \nsdumitriu - (15:45): After the enterprise release  \nsdumitriu - (15:45): I'll do all the branches at once  \ntmortagne1 - (15:45): ok  \nabusenius left at 16:12 (Ping timeout: 272 seconds  \nasrfel left at 16:33 (Quit: Leaving.  \nsburjan left at 16:49 (Read error: Operation timed out  \nvmassol - (16:55): selenium-tests brings TPC to 40.5% (over the 38.6 by ui-tests)  \ntmortagne1 - (16:56): selenium-tests+ui-tests or selenium-tests alone ? (sorry if it's obvious with over i'm not sure how to understand it ;))  \nvmassol - (16:57): platform + ui-tests +selenium-tests = 40.5%  \nvmassol - (16:57): running other tests now  \nsilviar left at 16:58 (Quit: Leaving.  \nvmassol - (17:02): (the clover database weight 50MB, takes 10 minutes to generate the report now)  \nvmassol - (17:02): (and growing)  \nvmassol - (17:07): cjdelisle: shouldn't the invitationmanager plugin be retired now?  \ntmortagne1 - (17:08): vmassol: ok  \nvmassol - (17:10): tmortagne1: note that for some reason I'm not sure I understand the gwt module client classes are listed too so it's possible they're dragging us down a bit. I have excluded them from cloverification so I don't understand why they're listed  \ntmortagne1 - (17:10): indeed if clover expect them to be executed it's not nice for the %  \nvmassol - (17:14): now up to 41.9% with rest-tests  \nsdumitriu - (17:16): cjdelisle: You shouldn't have reused XAINVITATION-12, since it was released already  \nvmassol - (17:17): sdumitriu: btw I hope you're releasing from a branch?  \nsdumitriu - (17:17): No  \nsdumitriu - (17:17): The branch will be made after the release  \nvmassol - (17:17): why not? It's the first step in the release process  \nvmassol - (17:18): there's a reason for that  \nvmassol - (17:18): http://dev.xwiki.org/xwiki/bin/view/Community/ReleaseProcess  \nvmassol - (17:18): so now it means we have stuff committed for 2.5 that are not for 2.5 :(  \ntmortagne1 - (17:19): vmassol: like what ? you mean the clover things ?  \nsdumitriu - (17:19): Hm, I haven't seen release branches in a very long time  \nvmassol - (17:20): sdumitriu: that means release manager are not following the process which isn't good at all  \nvmassol - (17:20): it's there for a purpose  \nvmassol - (17:20): if RM wants to change the process fine but it needs to be discussed  \nvmassol - (17:21): tmortagne1: like all the commits that have happened since sergiu release core + all that could happen  \nvmassol - (17:21): s/release core/released core/  \ntmortagne1 - (17:22): vmassol: as far as i remember we never created branch just for a release and usually people ask when they can commit things when someone is releasing  \nvmassol - (17:22): that's not true  \nvmassol - (17:22): I always did  \nvmassol - (17:22): and it's a best practice everywhere I know  \nvmassol - (17:22): actually I've never seen anyone doing it the other way around  \nsdumitriu - (17:22): That's a partial truth  \nvmassol - (17:23): (unless he made a mistake ;))  \nvmassol - (17:23): in any case  \nsdumitriu - (17:23): A best practice is to do the branch very early and prepare the release for days  \nsdumitriu - (17:23): Creating a branch for 30 minutes is not a good practice  \nvmassol - (17:23): sdumitriu: not really, except for RC  \nvmassol - (17:24): 30 minutes?  \nvmassol - (17:24): it'll live on for several months  \nvmassol - (17:24): till 2.5 is phased out  \nvmassol - (17:24): BUT  \nsdumitriu - (17:24): ?  \ntmortagne1 - (17:24): vmassol: \"I always did\" means a very long time ago and AFAIK jvdrean never did as well as me  \nvmassol - (17:24): yes that'\"sq wrong  \nsdumitriu - (17:25): What branch are you talking about?  \nvmassol - (17:25): I don't understand why we take the pain to document things  \nvmassol - (17:25): if people just do whatever they want  \nsdumitriu - (17:25): The 2.5 branch, or a small branch just for doing the release?  \nvmassol - (17:25): guys if you don't agree with something please discuss it  \nvmassol - (17:25): and then modify the doc  \nvmassol - (17:26): in any case we now have stuff \u00a0in svn that says 2.5\\* when they shouldn't  \nvmassol - (17:26): and that's bad  \nvmassol - (17:26): sdumitriu: there's very little activity on a branch  \ntmortagne1 - (17:26): vmassol: again what things ? i'm pretty sure everything took care like always  \nsdumitriu - (17:26): What things?  \ntmortagne1 - (17:27): s/everything/everyone/  \nlucaa joined #xwiki at 17:27  \nvmassol - (17:27): just hoping for the best has never been called a& strategy  \nvmassol - (17:28): BUT what I don't understand is why you're not creating a branch when the release process clearly says to create one  \nsdumitriu - (17:28): Vincent, please tell me what kind of branch  \nsdumitriu - (17:28): Like, if I release an application, do I make a branch for it?  \nvmassol - (17:29): sdumitriu: what's important is to get out of trunk  \nsdumitriu - (17:30): OK, I'm releasing the extensions application  \nsdumitriu - (17:30): Do I make a branch for it?  \nsdumitriu - (17:31): What's it going to be named?  \nsdumitriu - (17:31): What happens with the branch after the release?  \nvmassol - (17:31): and especially for platform/core + web and enterprise/ (where majority of commits happen) but yes normally we should do it for all releases including apps. Since we have a lot of apps it could be a pain though for apps and we currently don't maintain branches for them  \nvmassol - (17:32): but yes this shows we need to fine tune the branching process even more  \ncjdelisle - (17:32): I suppose the InvitationManager plugin can indeed be retired, I'll send a proposal.  \nsdumitriu - (17:32): Well, I'm -1 on that  \nvmassol - (17:33): you don't want to retire the invitationmanager ?  \nsdumitriu - (17:33): What good is having these branches, as well as their equivalent tags:  \nsdumitriu - (17:33): xwiki-core-2.5-milestone-1  \nsdumitriu - (17:33): xwiki-core-2.5-milestone-2  \nsdumitriu - (17:33): xwiki-core-2.5-rc-1  \nsdumitriu - (17:33): xwiki-core-2.5 (or -final, so that it doesn't conflict with the 2.5 maintainance branch)  \nsdumitriu - (17:33): xwiki-core-2.5.1  \nvmassol - (17:33): (or ?1 on fine tuning the bracning process?)  \nsdumitriu - (17:33): Will we ever make changes on the xwiki-core-rc-1 branch?  \nvmassol - (17:34): I don't think we need to create that branch  \nsdumitriu - (17:34): And do we release xwiki-core-rc-1.1 ?  \nvmassol - (17:34): but we do need to create a ?2.5 branch  \nsdumitriu - (17:34): Yes  \nsdumitriu - (17:34): Agreed  \ntmortagne1 - (17:34): vmassol: looks like you added this rule in version 26.3 (2009/01/27) which means around XE 1.7.1 so that's probably why, i did not know since then there was this rule  \nsdumitriu - (17:34): But you said that we always create a branch  \nvmassol - (17:35): yes that's why I said we need to fine tune the process  \ntmortagne1 - (17:35): i don't read the releaseprocess page before \u00a0each release, you should have discuss it with jvdrean and me and warn us  \nsdumitriu - (17:35): Do we branch before the first milestone?  \nvmassol - (17:35): all I want to avoid is locking devs for long time + avoid potential commits in the wrong location  \nvmassol - (17:35): + really make sure that RC is clean  \nvmassol - (17:35): since it's a RC  \nsdumitriu - (17:36): If it's not a release-only branch, then we also lock the dev branch, which is as important as the trunk  \nvmassol - (17:36): now we can discuss the process to achieve this if we agree about those obecjtives  \nflorinciu joined #xwiki at 17:36  \nvmassol - (17:37): tmortagne1: honestly I don't recall but I may have discussed it on the list  \nvmassol - (17:37): (I don't usually add stuff without discussing them but it can happen)  \nvmassol - (17:38): sdumitriu: dev branch = stable branch?  \nsdumitriu - (17:38): dev branch = the current definition of branches, like xwiki-core-2.4  \nsdumitriu - (17:39): It's not \"stable\"  \nsdumitriu - (17:39): People commit to branches  \nvmassol - (17:39): sdumitriu: I'm not suggesting that we develop new stuff elsewhere than on trunk  \njvdrean - (17:40): (reading), I don't remember a discussion about creating a branch before each module release  \njvdrean - (17:40): indeed it's in the release process (which I don't read entirely when I do a release)  \nvmassol - (17:41): jvdrean: sdumitriu has good points in that the strategy needs to be refined  \nvmassol - (17:42): to find a good balance between tedious work and control  \nvmassol - (17:42): is creating a branch complex and long?  \nvmassol - (17:42): from svn POV it should be real quick and easy  \nvmassol - (17:43): (and not even disk costly since it should maintain refs)  \nabusenius joined #xwiki at 17:43  \nsdumitriu - (17:44): SVN branches are not easy  \nsdumitriu - (17:44): We really should move togit  \nsdumitriu - (17:44): to git  \nvmassol - (17:44): svn branches are very easy  \nvmassol - (17:44): it's just a copy  \nvmassol - (17:44): (pointer copy)  \nvmassol - (17:44): what's hard is merge but that's not needed here  \ntmortagne1 - (17:44): creating a branch dureing a release means:  \ntmortagne1 - (17:44): - creating the branch  \ntmortagne1 - (17:44): - checkout it  \ntmortagne1 - (17:44): - then do the release on the branch  \ntmortagne1 - (17:44): for each module  \ntmortagne1 - (17:45): it's easy yes from server POV  \nsdumitriu - (17:46): Performing the release takes about 12G of disk space locally  \njvdrean - (17:46): nice :)  \nsdumitriu - (17:47): Since each integration test uses a zip and an uncompressed version of the distribution  \nvmassol - (17:47): ok we need to think more about this and make a proposal.  \nvmassol - (17:47): one of them could be to move to git. I'm just worried about tools integration but maybe the support is acceptable now in IDEs?  \nvmassol - (17:47): and even with git we would need a strategy  \njvdrean - (17:48): I don't see the point of the strategy thomas described above  \nvmassol - (17:48): jvdrean: do you agree with the objectives I listed?  \njvdrean - (17:48): the timespan between branching and release would be a minute, or vmassol do you think about creating branches for all the modules to release, and then start the release ?  \nvmassol - (17:49): \"all I want to avoid is locking devs for long time + avoid potential commits in the wrong location  \nvmassol - (17:49): + really make sure that RC is clean\"  \nsdumitriu - (17:49): The locking timespan for applications is a few seconds  \nvmassol - (17:51): sdumitriu: maybe the branching rule should only be for RC  \nvmassol - (17:51): ?  \ntmortagne1 - (17:51): it's not that big either even for core actually if we are only talking about release:prepare since the perform is done on a clean tag  \ncjdelisle - (17:51): Just read over the release process. My first reaction is that it's so complicated that it's a virtual guarantee that something will go wrong.  \njvdrean - (17:51): vmassol: difficult not to agree with that, now I think our current non-strategy works quite well, developers are warned that a release is in progress, they must hold their commits  \nvmassol - (17:51): jvdrean: for RC you're going to ado a branch anyway  \ntmortagne1 - (17:51): vmassol: note that for RC we usually created the branch before releasing it  \nvmassol - (17:51): so why not start by doing it?  \ntmortagne1 - (17:52): sdumitriu did it the other way this time but it's not critical either (it's possible i made the mistake too)  \njvdrean - (17:52): yes branching before doing the release for core/web/enterprise is the way to go, that's what we usually do  \nsdumitriu - (17:53): Applications released  \nsdumitriu - (17:53): Waiting for the web modules to be uploaded  \nvmassol - (17:53): ok so maybe we can modify the branching rule for now by stating that the branch is created for RC? wdyt?  \nvmassol - (17:54): tmortagne1: you committed stuff on trunk too right?  \nvmassol - (17:54): (for blockquote)  \ntmortagne1 - (17:54): vmassol: after asking sdumitriu if he finished svn release of core already  \nvmassol - (17:54): in principle this means we''re now forced to do a RC2  \nsdumitriu - (17:54): Why?  \ntmortagne1 - (17:54): so it's not going to be in the RC1  \nsdumitriu - (17:55): vmassol: There's no rule that there should be no commits between the RC and the final  \ntmortagne1 - (17:55): vmassol: that's not a new feature or something that's a bugfix  \nvmassol - (17:55): yes ther is  \nsdumitriu - (17:55): We've always included small fixes  \ntmortagne1 - (17:55): the point of RC is to fix bugs  \nvmassol - (17:55): no  \nvmassol - (17:55): we only started to do that quite late actually  \nvmassol - (17:56): I don't remember doing it when I was RM  \nvmassol - (17:56): oterhwise you can't guarantee  \nvmassol - (17:56): but  \nvmassol - (17:56): in any case it's a bad practice  \nvmassol - (17:56): normally the final is just a promotion of a RC  \nvmassol - (17:56): ie a rename  \nvmassol - (17:56): (it's not a re-release)  \nvmassol - (17:57): oterhwise it's a RC in disguise :)  \ncjdelisle - (17:57): +1  \nvmassol - (17:58): the only issue we have for doing this  \nvmassol - (17:58): (apart from setting up nexus)  \nsdumitriu - (17:58): +1 as well, but we're not doing this  \nsdumitriu - (17:58): http://jira.xwiki.org/jira/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+XWIKI+AND+fixVersion+in+%28%222.4%22%2C+%222.3%22%2C+%222.2%22%2C+%222.1%22%2C+%222.0%22%2C+%221.9%22%2C+%221.8%22%29  \nvmassol - (17:58): is that we have the version in version.properties  \nvmassol - (17:58): sdumitriu: I know we've been lax  \nvmassol - (17:58): but there's a difference between having been lax and establishing it as an implicit rule  \nvmassol - (17:59): if we agree we must fight it  \nvmassol - (17:59): not make it the norm  \nvmassol - (17:59): re version.propreties I think jason told me you could run some scripts in the promotion step  \nvmassol - (18:01): ok let's talk about all this after the release  \nvmassol - (18:01): I think I'd like to do the next release  \nvmassol - (18:01): since I haven't done any for a long time  \nvmassol - (18:01): and I need to practice again  \nvmassol - (18:01): I also would like to take the time to improve the process  \nvmassol - (18:02): (set up nexus, etc)  \nvmassol - (18:02): let's talk about it on the list  \nlucaa left at 18:02 (Ping timeout: 265 seconds  \nvmassol - (18:02): sorry for the disruption sergiu  \nfmancinelli left at 18:03 (Ping timeout: 250 seconds  \nvmassol - (18:03): I \u00a0guess I was just angry about myself for committing something that I didn't want to go on 2.5 and that I redirected my internal anger on you for not following the process that I thought we were following\u2026. something like that :)  \nvmassol - (18:04): in any case I apologize  \nvmassol - (18:04): and let's take time to discuss this on the list instead  \nsdumitriu - (18:06): web released  \ntmortagne1 left at 18:16 (Quit: Leaving.  \nlpereira joined #xwiki at 18:41  \njvdrean left at 18:51 (Quit: Leaving.  \nlucaa joined #xwiki at 18:53  \nfmancinelli joined #xwiki at 18:57  \nvmassol left at 18:57 (Ping timeout: 260 seconds  \nvmassol joined #xwiki at 18:58  \nsburjan` joined #xwiki at 19:14  \narkub left at 19:25 (Quit: Leaving  \nmflorea left at 19:53 (Quit: Leaving.  \nvmassol - (20:45): I tried to run the wysiwyg tests locally....  \nvmassol - (20:45): result:  \nvmassol - (20:45): Tests run: 274, Failures: 2, Errors: 131, Skipped: 0  \nvmassol - (20:45): :)  \nvmassol - (20:46): I'll retry without screen saver/lock screen to see if that's the problem (would be bad)  \nevalica left at 20:46 (Quit: Leaving.  \ncjdelisle - (20:49): A lot of webdriver tests fail if you force the ff window not to pop up. I think it causes the onfocus event not to be triggered.  \nvmassol - (20:52): could the screen saver cause that?  \ncjdelisle - (20:54): I imagine it would interrupt the screensaver. If I run tests, the window periodically pops up and if I put it in a different workspace to prevent it popping up, tests fail.  \nflorinciu1 joined #xwiki at 21:04  \nfmancinelli left at 21:50 (Ping timeout: 276 seconds  \nfmancinelli joined #xwiki at 21:52  \nmflorea joined #xwiki at 21:58  \nlpereira left at 22:46 (Quit: Leaving.  \nfmancinelli left at 23:00 (Ping timeout: 264 seconds  \nmflorea left at 23:04 (Quit: Leaving.  \nflorinciu1 left at 23:04 (Read error: Connection reset by peer  \nflorinciu left at 23:05 (Quit: Leaving.  \njvdrean joined #xwiki at 23:11  \nvmassol - (23:39): not better\u2026.  \nvmassol - (23:39): Tests run: 274, Failures: 2, Errors: 130, Skipped: 0  \nvmassol - (23:40): anyway bed time\u2026.  \nvmassol - (23:40): nn  \ncjdelisle - (23:40): gnight  \nvmassol left at 23:42 (Quit: Leaving.  \n\n"}