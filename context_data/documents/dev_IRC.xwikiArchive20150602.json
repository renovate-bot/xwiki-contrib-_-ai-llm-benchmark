{"id": "dev:IRC.xwikiArchive20150602", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150602", "title": "IRC Archive for channel #xwiki on 02 June 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n09:20\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:21\u00a0<msmeria>\u00a0has quit  \n09:35\u00a0<cjd>\u00a0has joined #xwiki  \n09:38\u00a0<Bugendolf>\u00a0has quit  \n09:44\u00a0<Bugendolf>\u00a0has joined #xwiki  \n09:47\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:49\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:06\u00a0<woshilapin>\u00a0Hi devs, can I modify all the properties of an xwiki.cfg in my build like xwikiCfgSuperadminPassword? \u00a0If yes, where can I find the name of these properties?  \n10:11\u00a0<woshilapin>\u00a0OK, I think I found it and I guess the answer is no  \n10:12\u00a0<woshilapin>\u00a0I found a file xwiki.cfg.vm in which $xwikiCfgSuperadminPassword is used  \n10:13\u00a0<woshilapin>\u00a0However, nothing for the property xwiki.store.attachment.hint for example  \n10:14\u00a0<woshilapin>\u00a0Is there a way to modify this value in my build  \n10:14\u00a0<woshilapin>\u00a0Is there a way to modify this value in my build?  \n10:15\u00a0<cjd>\u00a0If you modify it in the vm (to something like $blahblahExpandMeBasedOnBuildTimeVariables) then it will work  \n10:15\u00a0<cjd>\u00a0but you have to modify the vm...  \n10:16\u00a0<tmortagne>\u00a0woshilapin: the standard xwiki.cfg.vm is not designed to be able to change anything no (that's probably something we should improve)  \n10:17\u00a0<Bugendol1>\u00a0has joined #xwiki  \n10:17\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:17\u00a0<tmortagne>\u00a0now in your build you can probably find some plugin to modify the generated xwiki.cfg file before packaging it  \n10:19\u00a0<tmortagne>\u00a0I can find reference to a Properties Maven Plugin but all the link lead to the dead codehaus farm, will have to find it's new home  \n10:20\u00a0<tmortagne>\u00a0there is several in http://search.maven.org/#search|ga|1|properties-maven-plugin but you will have to find its documentation  \n10:20\u00a0<Denis2>\u00a0is now known as <Denis>  \n10:24\u00a0<woshilapin>\u00a0tmortagne: OK, thanks, I'll take a look at it then  \n10:27\u00a0<Slashman>\u00a0has joined #xwiki  \n10:37\u00a0<Trefex>\u00a0has joined #xwiki  \n11:15\u00a0<evalica>\u00a0has joined #xwiki  \n11:27\u00a0<gsmeria>\u00a0has quit  \n11:28\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:02\u00a0<Trefex>\u00a0hi all  \n12:03\u00a0<Trefex>\u00a0is it possible to change the default wiki shown when you login ?  \n12:04\u00a0<vmassol>\u00a0Trefex: you'll need to change the login link  \n12:04\u00a0<vmassol>\u00a0to use the xredirect param  \n12:04\u00a0<Trefex>\u00a0vmassol: any doc?  \n12:05\u00a0<vmassol>\u00a0not sure, found this quickly: http://lists.xwiki.org/pipermail/users/2010-October/018088.html  \n12:06\u00a0<vmassol>\u00a0right now when I log out on myxwiki.org I see that the login link is:  \n12:06\u00a0<vmassol>\u00a0http://myxwiki.org/xwiki/bin/login/XWiki/XWikiLogin?xredirect=%2Fxwiki%2Fbin%2Fview%2FMain%2FWebHome  \n12:06\u00a0<vmassol>\u00a0so by default it redirects to Main.WebHome  \n12:07\u00a0<Trefex>\u00a0i see, well or i make a list of wikis on the main home  \n12:07\u00a0<Trefex>\u00a0which points users to the correct one  \n12:08\u00a0<vmassol>\u00a0actually in menuview.vm I see:  \n12:08\u00a0<vmassol>\u00a0#set ($loginurl = $xwiki.getURL('XWiki.XWikiLogin', 'login', \"xredirect=$escapetool.url($xwiki.relativeRequestURL)\"))  \n12:09\u00a0<tmortagne>\u00a0when you login you are supposed to come back where you were  \n12:09\u00a0<tmortagne>\u00a0it leads to Main.WebHome only if you fo directy to login  \n12:09\u00a0<vmassol>\u00a0so you'd need to change that line if you want to always log in onto a specfic page  \n12:10\u00a0<tmortagne>\u00a0s/fo/go/  \n12:10\u00a0<vmassol>\u00a0another option is to put some script on Main.WebHome to redirect to another place  \n12:11\u00a0<tmortagne>\u00a0you want all wikis to login from main wiki or something like this ?  \n12:11\u00a0<vmassol>\u00a0see http://extensions.xwiki.org/xwiki/bin/view/Extension/Redirect  \n12:12\u00a0<tmortagne>\u00a0note that you can login a main wiki user in a subwiki, if the user is not found in the current wiki it's searched in the main wiki, you don't need to actually be in the main wiki for this  \n12:12\u00a0<tmortagne>\u00a0what is your need exactly ?  \n12:20\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:27\u00a0<Trefex>\u00a0has quit  \n12:48\u00a0<msmeria>\u00a0has joined #xwiki  \n12:51\u00a0<msmeria1>\u00a0has quit  \n13:39\u00a0<Pbas>\u00a0has quit  \n13:59\u00a0<Trefex>\u00a0has joined #xwiki  \n14:01\u00a0<vmassol>\u00a0has quit  \n14:01\u00a0<vmassol>\u00a0has joined #xwiki  \n14:04\u00a0<Pbas>\u00a0has joined #xwiki  \n14:45\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:47\u00a0<msmeria>\u00a0has quit  \n14:50\u00a0<gsmeria>\u00a0has quit  \n14:54\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:02\u00a0<msmeria1>\u00a0has quit  \n15:41\u00a0<Trefex>\u00a0tmortagne: what's a subwiki ?  \n15:42\u00a0<Trefex>\u00a0tmortagne: when i click on \"Add Wiki\" does it create a full wiki or a subwiki ?  \n15:42\u00a0<vmassol>\u00a0Trefex: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Virtualization  \n15:42\u00a0<gdelhumeau>\u00a0has quit  \n15:42\u00a0<vmassol>\u00a0it's the same Trefex  \n15:42\u00a0<vmassol>\u00a0wiki == subwiki  \n15:42\u00a0<tmortagne>\u00a0subwiki are just all the wiki that are not the main one, the one you get when you have only one  \n15:42\u00a0<Trefex>\u00a0ah great ok  \n15:43\u00a0<Trefex>\u00a0it's nice to have those, as you can setup different wikis for different groups  \n15:43\u00a0<Trefex>\u00a0pretty useful  \n15:43\u00a0<vmassol>\u00a0yup  \n15:52\u00a0<Enygma`>\u00a0Hi  \n15:52\u00a0<Enygma`>\u00a0I keep getting build failures while building locally  \n15:52\u00a0<Enygma`>\u00a0[ERROR] Failed to execute goal org.apache.maven.plugins:maven-remote-resources-plugin:1.4:process (xwiki-license-resources) on project xwiki-platform-watchlist-api: Resources archive cannot be found. Could not find artifact org.xwiki.commons:xwiki-commons-tool-license-resources:jar:7.1-SNAPSHOT  \n15:53\u00a0<Enygma`>\u00a0happens a couple of times a day  \n15:53\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:53\u00a0<Enygma`>\u00a0simply re-running the build makes it go away  \n15:53\u00a0<Enygma`>\u00a0anybody else experiencing this?  \n15:54\u00a0<Enygma`>\u00a0all related to the org.apache.maven.plugins:maven-remote-resources-plugin:1.4:process plugin goal and to the xwiki-license-resources resource  \n15:54\u00a0<Enygma`>\u00a0every time the same thing  \n15:54\u00a0<Enygma`>\u00a0it's a bit annoying  \n15:54\u00a0<Enygma`>\u00a0Maven 3.2.3  \n15:56\u00a0<tmortagne>\u00a0you get than when building what ?  \n15:56\u00a0<tmortagne>\u00a0I'm still using 3.0.5  \n15:56\u00a0<tmortagne>\u00a0(like jenkins)  \n15:56\u00a0<Enygma`>\u00a0can happen on pretty much anything  \n15:56\u00a0<tmortagne>\u00a0how often ?  \n15:56\u00a0<Enygma`>\u00a0just the remote-resources-plugin fails to download the licenses artefact  \n15:56\u00a0<Enygma`>\u00a0a couple of times a day  \n15:57\u00a0<Enygma`>\u00a0or at least once a day  \n15:57\u00a0<tmortagne>\u00a0ok, I don't remember getting that myself or on a jenkins build  \n15:57\u00a0<Enygma`>\u00a0so I just need to rerun the build and the artifact is perfectly downloaded the next time and the build works  \n15:57\u00a0<tmortagne>\u00a0sounds like maven bug if the artifact is valid when you retry  \n15:58\u00a0<tmortagne>\u00a0or network issue  \n15:58\u00a0<Enygma`>\u00a0I`ve almost developed a habit of expecting it to fail and restarting it :)  \n15:59\u00a0<Enygma`>\u00a0at the office I can understand, since my wireless card has issues with that router/AP... but at home my wireless works perfectly... so I too am blaming some maven bug :/  \n15:59\u00a0<tmortagne>\u00a0does it happen more often if you remove it from your local repository, since SNAPSHOT are kept 24h it's normal you get that only once a day  \n15:59\u00a0<tmortagne>\u00a0?  \n15:59\u00a0<Enygma`>\u00a0so you want me to delete the local repo version and see if I can trigger it?  \n16:00\u00a0<tmortagne>\u00a0yep maybe you can reproduce it more often and try to debug it if you force it to download it each time  \n16:00\u00a0<KermitTheFragger>\u00a0has quit  \n16:00\u00a0<Enygma`>\u00a0trying  \n16:00\u00a0<tmortagne>\u00a0like checking what exactly it downloaded that is so bad  \n16:01\u00a0<tmortagne>\u00a0and if you can reproduce it often then you can try other version of maven to see if it's a maven bug  \n16:01\u00a0<tmortagne>\u00a0like 3.0.5  \n16:02\u00a0<Enygma`>\u00a0the funny thing is that the logs seem to say that it was downloaded successfully, while the build fails: http://hastebin.com/zimufekuke.rb  \n16:05\u00a0<vmassol>\u00a0@Enygma`I get this too  \n16:05\u00a0<vmassol>\u00a0I think I analyzed it in the past already  \n16:05\u00a0<vmassol>\u00a0(otp btw)  \n16:05\u00a0<vmassol>\u00a0and I created a jira issue  \n16:06\u00a0<ClemensR>\u00a0has joined #xwiki  \n16:09\u00a0<Enygma`>\u00a0tmortagne, vmassol: yes, I am able to reproduce it by deleting ~/.m2/repository/org/xwiki/commons/xwiki-commons-tool-license-resources/7.1-SNAPSHOT/  \n16:09\u00a0<vmassol>\u00a0yep  \n16:09\u00a0<vmassol>\u00a0I was able to reproduce too by doing that when it happens  \n16:09\u00a0<Enygma`>\u00a0so it downloads, but it fails and the second time when it is already there, it passes  \n16:09\u00a0<vmassol>\u00a0and you can see that when it fails the artrifact is correctly downloaded  \n16:09\u00a0<vmassol>\u00a0yep exactly  \n16:09\u00a0<tmortagne>\u00a0so what it download is good ?  \n16:09\u00a0<Enygma`>\u00a0so it's a maven issue or a maven plugin issue?  \n16:09\u00a0<Enygma`>\u00a0tmortagne: yes  \n16:10\u00a0<Enygma`>\u00a0it`s reused the second time  \n16:10\u00a0<tmortagne>\u00a0ok so definitely a maven bug then  \n16:10\u00a0<vmassol>\u00a0would need to find the issue, it was some maven limitation if I remmeber corredtly and they closed the issue as won't fix  \n16:10\u00a0<vmassol>\u00a0(but I may be mixing with some other issue)  \n16:10\u00a0<tmortagne>\u00a0maven plugin used should be the same whatever the version of maven but could be an incompatibility of some kind  \n16:11\u00a0<tmortagne>\u00a0in the meantime I guess you should use 3.0.5  \n16:12\u00a0<Enygma`>\u00a0actually, the second time it does not reuse the previously downloaded artifact. It re-downloads it but now it works: http://hastebin.com/fusiquzeki.rb  \n16:12\u00a0<Enygma`>\u00a0ok, at least I have a better idea of what is going on :)  \n16:21\u00a0<Trefex>\u00a0has quit  \n16:40\u00a0<Trefex>\u00a0has joined #xwiki  \n17:04\u00a0<vmassol>\u00a0FTR found the issue with sonar  \n17:05\u00a0<vmassol>\u00a0it's a bug in the sonar checkstyle plugin  \n17:07\u00a0<vmassol>\u00a0I've reported it to the sonar team  \n17:11\u00a0<vmassol>\u00a0downgrading to version 2.2  \n17:19\u00a0<Trefex>\u00a0has quit  \n17:44\u00a0<Trefex>\u00a0has joined #xwiki  \n17:54\u00a0<OSIMasson>\u00a0has joined #xwiki  \n17:55\u00a0<vmassol>\u00a0ok fixed the checkstyle issue  \n17:55\u00a0<vmassol>\u00a0now the problem is with jacoco  \n17:55\u00a0<vmassol>\u00a0http://jira.sonarsource.com/browse/SONARJAVA-1091  \n17:58\u00a0<vmassol>\u00a0so we need to wait for a sonarqube upgrade  \n17:58\u00a0<vmassol>\u00a0...  \n17:59\u00a0<vmassol>\u00a0we have the latest version and it uses java-jacoco-3.3.jar, or we can patch it once java-jacoco-3.4.jar is out (planned for the 5th of June)  \n18:00\u00a0<vmassol>\u00a0or  \n18:00\u00a0<vmassol>\u00a0we downgarde the jacoco version  \n18:01\u00a0<vmassol>\u00a0tmortagne: this was caused by the upgrade you did of jacoco  \n18:01\u00a0<vmassol>\u00a0see http://stackoverflow.com/questions/30459260/jacoco-sonarqube-incompatible-version-1007  \n18:01\u00a0<vmassol>\u00a0\"Most likely that's caused by latest jacoco-maven-plugin update. Everything was working on 0.7.4.201502262128 but today we switched to 0.7.5.201505241946 which resulted in this error.\"  \n18:01\u00a0<vmassol>\u00a0so we could downgrade jacoco unless you had a strong reason to upgrade  \n18:01\u00a0<vmassol>\u00a0WDYT?  \n18:04\u00a0<tmortagne>\u00a0vmassol: no strong reason no  \n18:04\u00a0<vmassol>\u00a0either we wait 4-5 days or we downgrade  \n18:08\u00a0<ClemensR>\u00a0has quit  \n18:11\u00a0<Trefex>\u00a0has quit  \n18:27\u00a0<woshilapin>\u00a0has quit  \n18:28\u00a0<gdelhumeau>\u00a0has quit  \n18:46\u00a0<mflorea>\u00a0has quit  \n19:00\u00a0<OSIMasson>\u00a0has quit  \n19:03\u00a0<OSIMasson>\u00a0has joined #xwiki  \n19:07\u00a0<tmortagne>\u00a0has quit  \n19:36\u00a0<OSIMasson>\u00a0has quit  \n19:41\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n19:42\u00a0<gsmeria>\u00a0has quit  \n19:47\u00a0<OSIMasson>\u00a0has joined #xwiki  \n19:53\u00a0<OSIMasson>\u00a0has quit  \n20:01\u00a0<gsmeria>\u00a0has joined #xwiki  \n20:29\u00a0<Enygma`>\u00a0has quit  \n20:31\u00a0<OSIMasson>\u00a0has joined #xwiki  \n20:33\u00a0<vmassol>\u00a0has quit  \n20:38\u00a0<cjd>\u00a0has quit  \n20:49\u00a0<vmassol>\u00a0has joined #xwiki  \n21:07\u00a0<vmassol>\u00a0has quit  \n21:12\u00a0<Slashman>\u00a0has quit  \n21:26\u00a0<cjd>\u00a0has joined #xwiki  \n21:29\u00a0<OSIMasson>\u00a0has quit  \n21:55\u00a0<gsmeria>\u00a0has quit  \n22:49\u00a0<gsmeria>\u00a0has joined #xwiki  \n23:03\u00a0<evalica>\u00a0has quit  \n23:18\u00a0<gsmeria>\u00a0has quit\n"}