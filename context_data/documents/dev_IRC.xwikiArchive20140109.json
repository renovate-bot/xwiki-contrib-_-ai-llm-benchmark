{"id": "dev:IRC.xwikiArchive20140109", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140109", "title": "IRC Archive for channel #xwiki on 09 January 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:49\u00a0<Kebir>\u00a0has quit  \n00:53\u00a0<polx>\u00a0has joined #xwiki  \n01:04\u00a0<Kebir>\u00a0has joined #xwiki  \n01:11\u00a0<polx>\u00a0has quit  \n02:29\u00a0<vmassol1>\u00a0has quit  \n03:16\u00a0<spawn57>\u00a0hi, I'm having trouble with the xwiki wysiwyg config. \u00a0I made a typo when in the menu bar section and hit saved. \u00a0Now I can't remove it because the widget disappeared --> http://i.imgur.com/FnVd6sE.png  \n03:18\u00a0<Kebir>\u00a0has quit  \n03:24\u00a0<vmassol>\u00a0has joined #xwiki  \n03:29\u00a0<vmassol>\u00a0has quit  \n04:25\u00a0<vmassol>\u00a0has joined #xwiki  \n04:29\u00a0<vmassol>\u00a0has quit  \n04:30\u00a0<Denis1>\u00a0has joined #xwiki  \n05:26\u00a0<vmassol>\u00a0has joined #xwiki  \n05:31\u00a0<vmassol>\u00a0has quit  \n06:04\u00a0<Denis1>\u00a0has quit  \n06:27\u00a0<vmassol>\u00a0has joined #xwiki  \n06:31\u00a0<vmassol>\u00a0has quit  \n07:20\u00a0<evalica>\u00a0has joined #xwiki  \n07:27\u00a0<vmassol>\u00a0has joined #xwiki  \n07:32\u00a0<vmassol>\u00a0has quit  \n08:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:24\u00a0<mflorea>\u00a0has joined #xwiki  \n08:28\u00a0<vmassol>\u00a0has joined #xwiki  \n08:31\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:32\u00a0<vmassol>\u00a0has quit  \n08:35\u00a0<UCC>\u00a0has joined #xwiki  \n08:37\u00a0<hamster1299>\u00a0has joined #xwiki  \n08:37\u00a0<hamster1299>\u00a0hello  \n08:42\u00a0<hamster1299>\u00a0I can't seem to get the #startfloatingbox() macro to work  \n08:42\u00a0<hamster1299>\u00a0And i did wrap it in velocity and html tags  \n08:42\u00a0<evalica>\u00a0has quit  \n08:47\u00a0<cjd>\u00a0has joined #xwiki  \n08:51\u00a0<xwikinewb>\u00a0hamster1299: I went with the newer way, using {{box cssClass=\"floatinginfobox\" title=\"\\*\\*Contents\\*\\*\"}}Test-text{{/box}} instead of nested wrappings.  \n08:56\u00a0<sburjan>\u00a0has joined #xwiki  \n09:05\u00a0<hamster1299>\u00a0xwikinewb: And did that work for multiline content?  \n09:05\u00a0<lucaa>\u00a0has joined #xwiki  \n09:05\u00a0<hamster1299>\u00a0xwikinewb: i.e content spanning multiple lines  \n09:08\u00a0<xwikinewb>\u00a0yep  \n09:09\u00a0<msmeria>\u00a0has joined #xwiki  \n09:12\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:29\u00a0<vmassol>\u00a0has joined #xwiki  \n09:33\u00a0<vmassol>\u00a0has quit  \n09:39\u00a0<lucaa>\u00a0has quit  \n09:43\u00a0<Kebir>\u00a0has joined #xwiki  \n09:52\u00a0<vmassol>\u00a0has joined #xwiki  \n09:55\u00a0<Denis1>\u00a0has joined #xwiki  \n09:56\u00a0<lucaa>\u00a0has joined #xwiki  \n10:01\u00a0<msmeria>\u00a0vmassol: good morning  \n10:01\u00a0<evalica>\u00a0has joined #xwiki  \n10:02\u00a0<msmeria>\u00a0regarding XWIKI-9851: I didn't find the 2 keys on l10n and neither on my ApplicationResources.properties file  \n10:02\u00a0<msmeria>\u00a0on 5.4m1 that is  \n10:02\u00a0<evalica>\u00a0has quit  \n10:04\u00a0<tmortagne>\u00a0msmeria: according to the commits tab it's in xwiki-platform-wiki-default jar  \n10:04\u00a0<tmortagne>\u00a0but vmassol forgot to add the resource to l10n wiki I guess  \n10:05\u00a0<tmortagne>\u00a0doing it  \n10:05\u00a0<vmassol>\u00a0indeed I forgot  \n10:05\u00a0<vmassol>\u00a0thanks tmortagne  \n10:06\u00a0<msmeria>\u00a0yes, I found the keys in that jar  \n10:06\u00a0<msmeria>\u00a0thanks tmortagne  \n10:09\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:13\u00a0<Denis1>\u00a0is now known as <Denis>  \n10:21\u00a0<zenzla2>\u00a0has joined #xwiki  \n10:24\u00a0<zenzla>\u00a0has quit  \n10:28\u00a0<zenzla2>\u00a0has quit  \n10:28\u00a0<mflorea>\u00a0tmortagne: Hi, I have an issue with XAR export + xar:format. It seems the XAR export doesn't include the 'minorEdit' element anymore and this causes a NPE in FormatMojo which expects it (to set it to false).  \n10:29\u00a0<zenzla>\u00a0has joined #xwiki  \n10:30\u00a0<tmortagne>\u00a0mflorea: it should include it, checking  \n10:32\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:35\u00a0<hamster1299>\u00a0has left #xwiki  \n10:38\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n10:39\u00a0<gdelhumeau>\u00a0has quit  \n10:42\u00a0<tmortagne>\u00a0mflorea: should be ok now  \n10:42\u00a0<tmortagne>\u00a0hidden field has the same issue  \n10:42\u00a0<mflorea>\u00a0ok, thanks  \n10:44\u00a0<tmortagne>\u00a0s/has/had/  \n10:51\u00a0<vmassol>\u00a0tmortagne: did you share the jira filter for http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=11990 ?  \n10:51\u00a0<vmassol>\u00a0I don't see the widgets  \n10:52\u00a0<vmassol>\u00a0\"Invalid project or filter\"  \n10:52\u00a0<tmortagne>\u00a0maybe not, checking  \n10:52\u00a0<tmortagne>\u00a0should be ok now  \n10:53\u00a0<vmassol>\u00a0yep works, thanks  \n10:55\u00a0<vmassol>\u00a0tmortagne: shouldn't http://jira.xwiki.org/browse/XWIKI-8108 be documented?  \n10:55\u00a0<vmassol>\u00a0like redo screenshots for the module on exo  \n10:56\u00a0<vmassol>\u00a0I'm checking because there isn't much in the RN but there are quie a few improvements/new features  \n10:56\u00a0<vmassol>\u00a0I think we need to improve the RN  \n10:57\u00a0<vmassol>\u00a0possibly with one-liners in the Misc section  \n10:57\u00a0<vmassol>\u00a0basically everything that's an improvmeent need to be in the RN  \n10:58\u00a0<vmassol>\u00a0for ex http://jira.xwiki.org/browse/XWIKI-9120 could be a one liner in the Misc section IMO  \n10:58\u00a0<vmassol>\u00a0same for \"Don't show Extension Features information by default\"  \n10:58\u00a0<vmassol>\u00a0etc  \n10:58\u00a0<vmassol>\u00a0wdyt?  \n10:58\u00a0<vmassol>\u00a0right now it seems we're \"cheating\" a bit  \n11:00\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:01\u00a0<vmassol>\u00a0tmortagne: also you changed several issues's fixfor from 5.4M1 to 5.3 is that normal? (just checking)  \n11:03\u00a0<tmortagne>\u00a0vmassol: I did not changed them  \n11:03\u00a0<tmortagne>\u00a0I actually removed the 5.4M1  \n11:03\u00a0<tmortagne>\u00a0they were already fixedfox 5.3  \n11:03\u00a0<vmassol>\u00a0ok  \n11:03\u00a0<vmassol>\u00a0got it  \n11:09\u00a0<tmortagne>\u00a0vmassol: not containing hidden and minoredit field is not a blocker from technical point of view, importer always supported it  \n11:10\u00a0<vmassol>\u00a0it's not a regression?  \n11:11\u00a0<vmassol>\u00a0what am I missing?  \n11:11\u00a0<tmortagne>\u00a0it's a useless optimization, does not make it a regression, I just decided that it was ok to not optimize it after all instead of fixing the xar plugin  \n11:12\u00a0<vmassol>\u00a0(tmortagne: Hi, I have an issue with XAR export + xar:format. It seems the XAR export doesn't include the 'minorEdit' element anymore and this causes a NPE in FormatMojo which expects it (to set it to false).\"  \n11:12\u00a0<vmassol>\u00a0I call this a regression since it \u00a0was working before and it was not anymore  \n11:12\u00a0<tmortagne>\u00a0there is no spec saying that minoredit field is mandatory in a XAR  \n11:12\u00a0<tmortagne>\u00a0the XAR plugin is not badly written  \n11:12\u00a0<tmortagne>\u00a0s/not/just/  \n11:13\u00a0<vmassol>\u00a0hmm  \n11:13\u00a0<vmassol>\u00a0changing the format of the XAR is pretty importnat IMO  \n11:13\u00a0<vmassol>\u00a0because it's supposed to be a spec  \n11:13\u00a0<tmortagne>\u00a0I did not changed it...  \n11:13\u00a0<vmassol>\u00a0and anyone could have used the minorEdit element  \n11:13\u00a0<vmassol>\u00a0like the XAR plugin  \n11:13\u00a0<vmassol>\u00a0and if you remove it they will fail  \n11:13\u00a0<vmassol>\u00a0as happened for the XAR plugin  \n11:13\u00a0<tmortagne>\u00a0again not having that field always worked in importer  \n11:14\u00a0<vmassol>\u00a0that doesn't make it right  \n11:14\u00a0<vmassol>\u00a0again  \n11:14\u00a0<vmassol>\u00a0any tool could have used it  \n11:14\u00a0<vmassol>\u00a0it's part of our defactor spec  \n11:14\u00a0<vmassol>\u00a0defacto  \n11:14\u00a0<vmassol>\u00a0(defacto because we've not published it)  \n11:14\u00a0<vmassol>\u00a0anyway you fixed it, which is the important part :)  \n11:15\u00a0<tmortagne>\u00a0one random XML is not a defacto spec, the defacto spec is the reference implementation...  \n11:22\u00a0<vmassol>\u00a0yes but you changed it  \n11:22\u00a0<vmassol>\u00a0since we're now uising wiki stream and it's causing this change of spec  \n11:22\u00a0<vmassol>\u00a0(s/it's/was)  \n11:22\u00a0<Slashman>\u00a0has joined #xwiki  \n11:27\u00a0<andreeapopescu>\u00a0has quit  \n11:37\u00a0<tmortagne>\u00a0vmassol: again the old reference implementation does support very well minoredit field being optional so all references implementations does support it, I never talked about wikistream  \n11:37\u00a0<gdelhumeau\\_>\u00a0guys, I have a commit on my git repo  \n11:37\u00a0<gdelhumeau\\_>\u00a0that \u00a0have pushed  \n11:37\u00a0<gdelhumeau\\_>\u00a0but I can't see it on github  \n11:37\u00a0<vmassol>\u00a0pushed to where?  \n11:37\u00a0<vmassol>\u00a0check where you pushed it maybe  \n11:37\u00a0<gdelhumeau\\_>\u00a0git clone [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection):xwiki/xwiki-enterprise.git \u00a0\u00a0and then git push  \n11:38\u00a0<vmassol>\u00a0I always do: git push origin master  \n11:38\u00a0<vmassol>\u00a0if you don't specify it, I don't know where it goes  \n11:38\u00a0<vmassol>\u00a0maybe you've some config in your .gitconfig  \n11:38\u00a0<gdelhumeau\\_>\u00a0git push origin master  \n11:38\u00a0<gdelhumeau\\_>\u00a0Everything up-to-date  \n11:38\u00a0<gdelhumeau\\_>\u00a0and it used to work  \n11:39\u00a0<tmortagne>\u00a0you don't need to specify it, when you push it push everything  \n11:39\u00a0<tmortagne>\u00a0pus alone just mean all branches  \n11:39\u00a0<vmassol>\u00a0(that depends on the version of git you use)  \n11:39\u00a0<gdelhumeau\\_>\u00a0can you see commit 05c36f31bce3495585476b687fedea08625da2ec in your repo ?  \n11:39\u00a0<tmortagne>\u00a0vmassol: whatever version it's going to put at least the current branch  \n11:39\u00a0<tmortagne>\u00a0s/put/push/  \n11:40\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-enterprise/commit/05c36f31bce3495585476b687fedea08625da2ec  \n11:43\u00a0<vmassol>\u00a0you're probbaly in a tree with the parent not linked to the right place  \n11:43\u00a0<tmortagne>\u00a0looks like you did committed it but in a branch that does not exist anymore so it's lost from https://github.com/xwiki/xwiki-enterprise/network point of view  \n11:43\u00a0<vmassol>\u00a0or something like this  \n11:43\u00a0<ClemensR>\u00a0what is the output of \"git branch\" \u00a0locally ?  \n11:43\u00a0<ClemensR>\u00a0maybe it is the dreaded \"detached head\" state ....  \n11:44\u00a0<tmortagne>\u00a0yep would be a local branch or detached head  \n11:48\u00a0<risherry>\u00a0has joined #xwiki  \n11:48\u00a0<risherry>\u00a0has quit  \n11:48\u00a0<risherry>\u00a0has joined #xwiki  \n11:48\u00a0<risherry>\u00a0has quit  \n11:52\u00a0<gdelhumeau\\_>\u00a0tmortagne: how can I fix that?  \n11:52\u00a0<tmortagne>\u00a0gdelhumeau\\_: depends of the \"that\" :)  \n11:52\u00a0<tmortagne>\u00a0what git branch says ?  \n11:52\u00a0<gdelhumeau\\_>\u00a0this commit should be on master  \n11:52\u00a0<tmortagne>\u00a0does not seems to be  \n11:52\u00a0<gdelhumeau\\_>\u00a0xwiki-enterprise$ git branch  \n11:53\u00a0<ClemensR>\u00a0I think you can \"git checkout master\" \u00a0and then \"git cherry-pick 05c36f31bce3495585476b687fedea08625da2ec\" to bring the commit on the master  \n11:53\u00a0<tmortagne>\u00a0and do you see your commit with \"git log\"  \n11:53\u00a0<tmortagne>\u00a0?  \n11:53\u00a0<gdelhumeau\\_>\u00a0because it means 5.3M1 does not have XWikiAdminGroup  \n11:53\u00a0<gdelhumeau\\_>\u00a0gdelhumeau@pongo:~/dev/xwiki/xwiki-enterprise$ git log  \n11:53\u00a0<gdelhumeau\\_>\u00a0commit 05c36f31bce3495585476b687fedea08625da2ec  \n11:53\u00a0<gdelhumeau\\_>\u00a0\u00a0\u00a0\u00a0\u00a0XWIKI-9780: The user XWiki.Admin appears in a subwiki's \"Existing users\" list.  \n11:53\u00a0<gdelhumeau\\_>\u00a0\u00a0\u00a0\u00a0\u00a0  \n11:53\u00a0<gdelhumeau\\_>\u00a0\u00a0\u00a0\u00a0\u00a0\\* Moving AdminGroup and AllGroup to xwiki-enterprise-ui-admin-user.  \n11:53\u00a0<gdelhumeau\\_>\u00a0commit 41a0323506fa454bcde7493e85ab12a2d8554c54  \n11:53\u00a0<gdelhumeau\\_>\u00a0Author: Denis Gervalle <[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)>  \n11:53\u00a0<vmassol>\u00a0s/5.3M1/5.4M1  \n11:54\u00a0<vmassol>\u00a0if 5.4M1 doesn't have it I don't see how the functional tests could have passed  \n11:54\u00a0<tmortagne>\u00a0so git log does not have it right (not super easy to read in IRC :)) ?  \n11:54\u00a0<vmassol>\u00a0since it means the Admin user wouldn't have admin permissions  \n11:54\u00a0<tmortagne>\u00a0vmassol: you changed most test to work on superadmin os was it onlt on platform ?  \n11:54\u00a0<vmassol>\u00a0just platform  \n11:54\u00a0<vmassol>\u00a0not enterprise  \n11:55\u00a0<tmortagne>\u00a0gdelhumeau\\_: you can use the cherry pick command indicated by ClemensR you get back your commit in master  \n11:55\u00a0<tmortagne>\u00a0now I would be surprised to that no test fail without any xwikiadmin and probably even more important xwikiallgroup groups  \n11:55\u00a0<tmortagne>\u00a0did you checked 5.4M1 ?  \n11:56\u00a0<vmassol>\u00a0we need to know if 5.4M1 is broken because if it is, we need to do something  \n11:56\u00a0<vmassol>\u00a0tmortagne: when you released yesterday, I checked CI and it seemed to not have any error for master  \n11:56\u00a0<vmassol>\u00a0so that's strange  \n11:56\u00a0<tmortagne>\u00a0I checked CI before releasing obviously  \n11:57\u00a0<vmassol>\u00a0downloading 5.4M1 now  \n11:59\u00a0<gdelhumeau\\_>\u00a0ClemensR: gdelhumeau@pongo:~/dev/xwiki/xwiki-enterprise$ git checkout master  \n11:59\u00a0<gdelhumeau\\_>\u00a0Already on 'master'  \n11:59\u00a0<tmortagne>\u00a0gdelhumeau\\_: that's what git branch was saying already  \n12:00\u00a0<tmortagne>\u00a0do the cherry pich now  \n12:00\u00a0<tmortagne>\u00a0pick  \n12:00\u00a0<tmortagne>\u00a0(I have to go, back in 1 or 2h)  \n12:01\u00a0<gdelhumeau\\_>\u00a0git cherry-pick 05c36f31bce3495585476b687fedea08625da2ec  \n12:01\u00a0<gdelhumeau\\_>\u00a0# On branch master  \n12:01\u00a0<gdelhumeau\\_>\u00a0The previous cherry-pick is now empty, possibly due to conflict resolution.  \n12:01\u00a0<gdelhumeau\\_>\u00a0If you wish to commit it anyway, use:  \n12:01\u00a0<gdelhumeau\\_>\u00a0\u00a0\u00a0\u00a0\u00a0git commit --allow-empty  \n12:04\u00a0<mflorea>\u00a0tmortagne: there is another problem now, sorry for not testing right away. The 'comment' field is missing and FormatMojo expect it in order to remove its content.  \n12:04\u00a0<mflorea>\u00a0'comment' is the version summary  \n12:05\u00a0<mflorea>\u00a0FormatMojo line 93  \n12:06\u00a0<evalica>\u00a0has joined #xwiki  \n12:07\u00a0<mflorea>\u00a0IMO (to comment on what vmassol has said), I think the FormatMojo should be more robust.  \n12:07\u00a0<ClemensR>\u00a0gdelhumeau\\_ : \u00a0does \"git log master..origin/master\" \u00a0show any commits ?  \n12:07\u00a0<vmassol>\u00a0mflorea: it could ofc but OTOH it's good that it's showing \"regressions\" too  \n12:07\u00a0<mflorea>\u00a0yes  \n12:07\u00a0<gdelhumeau\\_>\u00a0ClemensR: no  \n12:08\u00a0<vmassol>\u00a0because other tools written by other people could use that  \n12:09\u00a0<gdelhumeau\\_>\u00a0maybe it is only the github UI which is not sync: https://github.com/xwiki/xwiki-enterprise/tree/master/xwiki-enterprise-ui/xwiki-enterprise-ui-admin-user/src/main/resources/XWiki  \n12:09\u00a0<ClemensR>\u00a0gdelhumeau\\_: this is going to be wonderful strange, because it looks like your master has departed from the \"main master\" \u00a0since 12 Dec 2013 or so  \n12:09\u00a0<ClemensR>\u00a0I cannot see your commit either locally  \n12:13\u00a0<gdelhumeau\\_\\_>\u00a0has joined #xwiki  \n12:14\u00a0<gdelhumeau\\_>\u00a0has quit  \n12:14\u00a0<ClemensR>\u00a0gdelhumeau\\_\\_: not sure if you got my last line ... just want to confirm that it is not just the git UI  \n12:14\u00a0<zenzla2>\u00a0has joined #xwiki  \n12:14\u00a0<gdelhumeau\\_\\_>\u00a0ok...  \n12:14\u00a0<gdelhumeau\\_\\_>\u00a0bad  \n12:15\u00a0<ClemensR>\u00a0one option would be to make a new git clone in a separate directory and check if you can see your commit there  \n12:15\u00a0<ClemensR>\u00a0and if not, then git cherry-pick it there  \n12:17\u00a0<ClemensR>\u00a0and use the new git repo instead of your current one, because it looks like something bad happened to it ... not a very elegant solution, but the alternative is to really understand git  \n12:17\u00a0<zenzla>\u00a0has quit  \n12:17\u00a0<ClemensR>\u00a0I prefer more simple approaches, my life is too short to grok git ;)  \n12:19\u00a0<gdelhumeau\\_\\_>\u00a0:)  \n12:25\u00a0<andreeapopescu\\_>\u00a0has joined #xwiki  \n12:26\u00a0<gdelhumeau\\_\\_>\u00a0ok, soemthing went wrong in my repo...  \n12:26\u00a0<gdelhumeau\\_\\_>\u00a0thanks ClemensR you fixed the pb  \n12:26\u00a0<gdelhumeau\\_\\_>\u00a0but I guess 5.4M1 is concerned then...  \n12:26\u00a0<ClemensR>\u00a0ah, phew, glad to hear it is fixed as I have no idea what was really going on  \n12:27\u00a0<ClemensR>\u00a0yes, but not many people install milestones ... but it would be better if it did not miss any groups at all  \n12:30\u00a0<vmassol>\u00a0gdelhumeau\\_\\_: I can confirm 5.4M1 is missing the 2 groups  \n12:30\u00a0<vmassol>\u00a0the reason the tests work is that strangely this doesn't affect the Admin user permissions  \n12:31\u00a0<vmassol>\u00a0we need to analyse this  \n12:31\u00a0<gdelhumeau\\_\\_>\u00a0actually, it is a problem if you start from an empty wiki and then you use the DW  \n12:32\u00a0<gdelhumeau\\_\\_>\u00a0but, when you use an xwiki jetty distribution, it seems that it deson't affect  \n12:32\u00a0<vmassol>\u00a0what I mean is that it's not normal that there's no functional test to prove the problem  \n12:32\u00a0<gdelhumeau\\_\\_>\u00a0is now known as <gdelhumeau>  \n12:32\u00a0<vmassol>\u00a0but first we need to check why it works  \n12:33\u00a0<vmassol>\u00a0and fix the issue if there's one  \n12:33\u00a0<vmassol>\u00a0it shouldn't work IMO  \n12:39\u00a0<UCC>\u00a0has quit  \n13:04\u00a0<mflorea>\u00a0has quit  \n13:17\u00a0<gdelhumeau>\u00a0everything is broken on ci.xwiki.org  \n13:31\u00a0<gdelhumeau>\u00a0I'll be back in 1h30  \n13:31\u00a0<gdelhumeau>\u00a0has quit  \n13:32\u00a0<zenzla2>\u00a0has quit  \n13:34\u00a0<sburjan>\u00a0@devs: ping. If I comment on a page as Guest, is it normal to have superadmin as the Last Modified Author ?  \n13:35\u00a0<vmassol>\u00a0sburjan: hi. No it's not normal.  \n13:35\u00a0<sburjan>\u00a0ok, creating an issue  \n13:36\u00a0<vmassol>\u00a0I think this happened because in the past null meant no user had been set and thus we considered it the system user (ie superadmin). But recently we've changed the code so that null means guest user too  \n13:37\u00a0<vmassol>\u00a0recently == 6 months - 1 year  \n13:37\u00a0<sburjan>\u00a0vmassol: investigating, might be a false alarm  \n13:39\u00a0<sburjan>\u00a0ok, superadmin comes from the DW instalation, not from my comment. False alarm  \n13:39\u00a0<vmassol>\u00a0ok cool  \n13:39\u00a0<sburjan>\u00a0but I had to refresh the page to see Unknown User because adding a comment does not refresh the page :)  \n13:39\u00a0<vmassol>\u00a0ideally we would need some system user but for lack of one we use superadmin ATM  \n13:40\u00a0<ClemensR>\u00a0just give \"superadmin\" the default display name \"System User\" :)  \n13:40\u00a0<vmassol>\u00a0that's not the problem ClemensR :)  \n13:40\u00a0<vmassol>\u00a0they're not the same thing  \n13:41\u00a0<vmassol>\u00a0superadmin is a user that you can use by setting up its passord in xwiki.cfg  \n13:41\u00a0<vmassol>\u00a0system is a user that should be used by changes performed by the xwiki code  \n13:42\u00a0<ClemensR>\u00a0yes, it is not the same thing, I could just not resist to point out \u00a0\"quick win\" (which of course might cause more probelms later on)  \n13:42\u00a0<vmassol>\u00a0otherwise you can't differentiate both  \n13:42\u00a0<vmassol>\u00a0ok :)  \n13:43\u00a0<vmassol>\u00a0hmmm  \n13:43\u00a0<vmassol>\u00a0ERROR: Publisher hudson.tasks.test.AggregatedTestResultPublisher aborted due to exception  \n13:43\u00a0<vmassol>\u00a0http://stacktrace.jenkins-ci.org/search?query=java.lang.NullPointerException  \n13:43\u00a0<vmassol>\u00a0I updated jeknins yesterday noght  \n13:44\u00a0<vmassol>\u00a0this might be the reason for these ci issues  \n13:44\u00a0<vmassol>\u00a0ah I see there's an update  \n13:44\u00a0<vmassol>\u00a0applying  \n13:44\u00a0<vmassol>\u00a0for plugins  \n13:46\u00a0<evalica>\u00a0has quit  \n13:52\u00a0<mflorea>\u00a0has joined #xwiki  \n13:53\u00a0<zenzla>\u00a0has joined #xwiki  \n13:57\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:57\u00a0<vmassol>\u00a0has quit  \n13:58\u00a0<vmassol1>\u00a0restarting jenkins  \n14:07\u00a0<vmassol1>\u00a0ok triggering build now  \n14:07\u00a0<vmassol1>\u00a0hopefully it should work  \n14:13\u00a0<Denis>\u00a0vmassol1: do we intend to release an M2 or the issue found this morning will be only fix in RC1 ?  \n14:14\u00a0<vmassol1>\u00a0I don't know  \n14:14\u00a0<vmassol1>\u00a0there's a workaround  \n14:14\u00a0<vmassol1>\u00a0which is why I'm not sure  \n14:14\u00a0<vmassol1>\u00a0it depends on the various opinions  \n14:14\u00a0<Denis>\u00a0just file another quite annoying issue, see XWIKI-9862  \n14:15\u00a0<vmassol1>\u00a0also there are still a lot stuff in the roadmap that have not been committed on solr search + EM/DW  \n14:15\u00a0<vmassol1>\u00a0so a M2 might not be a bad idea but it's going to be hard to preserve the deadlines with a M2  \n14:16\u00a0<vmassol1>\u00a0mflorea: regarding http://jira.xwiki.org/browse/XWIKI-9533 this was done in 5.4RC1?  \n14:16\u00a0<vmassol1>\u00a0(the faceting)  \n14:16\u00a0<vmassol1>\u00a0I doub it...  \n14:16\u00a0<vmassol1>\u00a0\\*doubt  \n14:16\u00a0<vmassol1>\u00a0so IMO the fixfor is wrong  \n14:16\u00a0<Denis>\u00a0who is the DW UI expert ?  \n14:16\u00a0<vmassol1>\u00a0Denis: mflorea is  \n14:17\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n14:17\u00a0<Denis>\u00a0mflorea: is it expected that skipping step1 of DW go to step2 ?  \n14:17\u00a0<mflorea>\u00a0vmassol: I'm preparing my commits :) it's going to be fixed in a few minutes, the fix for is right, 5.4RC1  \n14:17\u00a0<vmassol>\u00a0ok  \n14:18\u00a0<vmassol>\u00a0the comment seems strange then mflorea  \n14:18\u00a0<mflorea>\u00a0vmassol: why?  \n14:18\u00a0<vmassol>\u00a0or maybe you 're going to commit some stuff related to faceting in a few minutes too  \n14:19\u00a0<vmassol>\u00a0because \"faceting'\" was coded a long time ago  \n14:19\u00a0<vmassol>\u00a0so when you say \"I added support for multiple selection when faceting.\"  \n14:19\u00a0<vmassol>\u00a0it means the fix was done a long time ago  \n14:19\u00a0<vmassol>\u00a0along with faceting  \n14:19\u00a0<mflorea>\u00a0no, \"when faceting\" means \"when the user performs faceting\"  \n14:20\u00a0<mflorea>\u00a0it's pretty clear to me  \n14:20\u00a0<vmassol>\u00a0ah\u2026. not clear at all  \n14:20\u00a0<mflorea>\u00a0faceting is a verb  \n14:20\u00a0<mflorea>\u00a0when faceting = when you do faceting  \n14:20\u00a0<vmassol>\u00a0sure but the issue is not for you mflorea :)  \n14:20\u00a0<vmassol>\u00a0anyway  \n14:20\u00a0<cjd>\u00a0^^you're on our roadmap  \n14:20\u00a0<vmassol>\u00a0next time please close after you commit  \n14:21\u00a0<vmassol>\u00a0mflorea: \u00a0don't chage if you don't want ot be understood, no issue  \n14:21\u00a0<Denis>\u00a0vmassol: this is really bad to have BFD a release day, we have no luck to win, I am creating issue faster than closing it, don't you ?  \n14:22\u00a0<mflorea>\u00a0Denis: what do you mean by step 1? the welcome step or the main wiki ui step?  \n14:22\u00a0<vmassol>\u00a0Denis: today is not a release day  \n14:22\u00a0<Denis>\u00a0mflorea: the main wiki ui step  \n14:22\u00a0<vmassol>\u00a0BFD are always Thursdays  \n14:22\u00a0<vmassol>\u00a0grr stop it bot!  \n14:23\u00a0<vmassol>\u00a0I guess I'll have to really debug and fix this issue soon now....  \n14:23\u00a0<Denis>\u00a0vmassol: the release arrive this morning, you should have announce a BCD  \n14:23\u00a0<vmassol>\u00a0again  \n14:23\u00a0<vmassol>\u00a0BFD are always on Thursdays  \n14:23\u00a0<mflorea>\u00a0Denis: then it's the normal behavior. Only the actions from the welcome step have global effect. The rest are affecting only the current step. You can skip single step in DW  \n14:23\u00a0<vmassol>\u00a0and the release day is not on thursday  \n14:23\u00a0<Denis>\u00a0but it happen to  \n14:24\u00a0<vmassol>\u00a0that thomas startd yesterday today and finished today doesn't change anything  \n14:24\u00a0<vmassol>\u00a0s/today//  \n14:24\u00a0<vmassol>\u00a0we're not going to skip a BFD because of that  \n14:24\u00a0<vmassol>\u00a0I also don't understand your point  \n14:24\u00a0<vmassol>\u00a0that you create issues today or tomorrow what does ti change?  \n14:24\u00a0<Denis>\u00a0my remark is about the fact that our results are poor currently, and this will not improve it  \n14:25\u00a0<Denis>\u00a0you put a count in your announce and you will probably have again to note that more bug were created at the end of day  \n14:25\u00a0<vmassol>\u00a0and what does it change to modify a BFD date?  \n14:25\u00a0<vmassol>\u00a0I din't see how delaying a BFD would improve this  \n14:26\u00a0<Denis>\u00a0founding issue is as well important  \n14:26\u00a0<vmassol>\u00a0no you don't understand  \n14:26\u00a0<vmassol>\u00a0that's the only thing important for the perfrmance of a BFD  \n14:26\u00a0<Denis>\u00a0and today I will surely found more than solve it, it is poor for the mood :)  \n14:26\u00a0<vmassol>\u00a0no  \n14:26\u00a0<vmassol>\u00a0we will announce as usual how many bugs were closed  \n14:26\u00a0<vmassol>\u00a0actually it's the opposite  \n14:27\u00a0<vmassol>\u00a0creating bugs on a BFD increases the likelihood that you will fix them otday  \n14:27\u00a0<vmassol>\u00a0as was shown this exact morning by thomas  \n14:27\u00a0<Denis>\u00a0mflorea: why the step2 is not skipable than ?  \n14:28\u00a0<vmassol>\u00a0and by guillaumeD too  \n14:28\u00a0<vmassol>\u00a0BTW guillaume made a mistake  \n14:28\u00a0<vmassol>\u00a0he forgot to create a jira issue  \n14:28\u00a0<mflorea>\u00a0Denis: what buttons do you get on step 2?  \n14:28\u00a0<vmassol>\u00a0I'll ping him  \n14:28\u00a0<Denis>\u00a0great than, maybe we need a BCD/BFD then ;)  \n14:28\u00a0<Denis>\u00a0mflorea: continue  \n14:28\u00a0<vmassol>\u00a0but it's cheating really  \n14:29\u00a0<vmassol>\u00a0grrrr  \n14:29\u00a0<vmassol>\u00a0jeknins issue not fixed  \n14:29\u00a0<Denis>\u00a0mflorea: step2 ask me which wiki I want to update, and I cannot postpone my answer  \n14:31\u00a0<mflorea>\u00a0Denis: it's by design, I didn't though you need to skip/cancel, since you just have to choose one of the options, and especially because you can continue with the default selected option  \n14:31\u00a0<Denis>\u00a0mflorea: why does it ask, I am in a new installation with a single wiki ?  \n14:32\u00a0<vmassol>\u00a0I think tmortagne has also raised this and he wanted to change the test logic  \n14:32\u00a0<sdumitriu>\u00a0has quit  \n14:32\u00a0<vmassol>\u00a0there might even be a jira issue already  \n14:32\u00a0<Denis>\u00a0mflorea: anyway, I am puzzled by the fact that I cannot get rid of the DW without answering anything  \n14:32\u00a0<mflorea>\u00a0re UI, I normally don't display the Skip/Cancel when the Continue button is present, and in this case the Continue buttons is present because you can continue with the default option  \n14:33\u00a0<sdumitriu>\u00a0has joined #xwiki  \n14:33\u00a0<Denis>\u00a0vmassol: this really a curious question, and in particular when you have just skip step 1  \n14:34\u00a0<vmassol>\u00a0yep I agree  \n14:34\u00a0<vmassol>\u00a0(from a user pov)  \n14:34\u00a0<Denis>\u00a0mflorea: until I engage really in step1, I have the feeling that skip should behave like the welcome screen  \n14:35\u00a0<mflorea>\u00a0then you won't be able to skip single steps  \n14:35\u00a0<Denis>\u00a0mflorea: until I engage, means do something concrete in step one  \n14:36\u00a0<mflorea>\u00a0you already engaged by clicking Continue on the welcome step, so you agreed to start the install/upgrade  \n14:40\u00a0<Denis>\u00a0mflorea: ok, I get the idea, than the welcome screen should be improved  \n14:40\u00a0<mflorea>\u00a0I agree  \n14:40\u00a0<Denis>\u00a0add a explicit question at the end of it  \n14:41\u00a0<Denis>\u00a0something like \"Do you want to\u2026?\u00e9  \n14:41\u00a0<mflorea>\u00a0I'm not sure about that. But we definitely need to improve the label of the action buttons  \n14:41\u00a0<Denis>\u00a0this is another matter  \n14:42\u00a0<mflorea>\u00a0the question could be asked when Skip/Cancel is clicked, but for continue I don't think it's needed  \n14:42\u00a0<mflorea>\u00a0Continue is the expected action  \n14:42\u00a0<Denis>\u00a0my point is that currently the question you answer implicitly on the welcome screen is hidden in the small text  \n14:42\u00a0<mflorea>\u00a0I don't think we need to ask the user if he's sure  \n14:42\u00a0<ClemensR>\u00a0I remember I have started a discussion about the labels some time ago. I did not even manage to create an issue from the outcome ...  \n14:43\u00a0<Denis>\u00a0mflorea: I am not saying to add a confirmation, but to end the text of the welcome screen by a question  \n14:43\u00a0<mflorea>\u00a0I see  \n14:43\u00a0<Denis>\u00a0because you implicitly ask, and you need currently to read the small text to be conscious of that  \n14:44\u00a0<Denis>\u00a0poeple do not read text, only titles !  \n14:44\u00a0<Denis>\u00a0so a question in bold text at the bottom would clarify a lot the intended action  \n14:45\u00a0<Denis>\u00a0and of cource \"Cancel\" and \"Skip\" are not clear, I need to read the tooltips each time I use them  \n14:46\u00a0<vmassol>\u00a0ok going to rollback ci  \n14:47\u00a0<mflorea>\u00a0the latest proposal is to use Later instead of \"Skip\" and something else for Cancel, but I don't remember. Caty knows, but she's not only atm'  \n14:47\u00a0<Denis>\u00a0vmassol: you said that Admin does not seems impacted by the missing group, this is false  \n14:47\u00a0<vmassol>\u00a0Denis: I can still go to administration page  \n14:47\u00a0<vmassol>\u00a0for example  \n14:48\u00a0<Denis>\u00a0vmassol: I am unable to terminate the DW  \n14:48\u00a0<vmassol>\u00a0even though there's no admin group and the admin user has no specific right setting  \n14:48\u00a0<tmortagne>\u00a0back  \n14:48\u00a0<vmassol>\u00a0Denis: I tested a hsqldb zip version  \n14:48\u00a0<tmortagne>\u00a0sorry for the delay, looks like there is a lot of stuf to read  \n14:48\u00a0<vmassol>\u00a0and GD already mentioend the DW is impacted  \n14:48\u00a0<Denis>\u00a0vmassol: I am on mysql test  \n14:48\u00a0<Denis>\u00a0it breaks during UI install, when it ask for permission  \n14:49\u00a0<vmassol>\u00a0what I don't understand ATM  \n14:49\u00a0<vmassol>\u00a0is why I can go to admin witht eh Admin user  \n14:49\u00a0<Denis>\u00a0loggin in with admin does not allow to continue  \n14:49\u00a0<tmortagne>\u00a0vmassol: null never meant superadmin  \n14:49\u00a0<zenzla2>\u00a0has joined #xwiki  \n14:49\u00a0<vmassol>\u00a0tmortagne: I'm not so sure about that  \n14:50\u00a0<Denis>\u00a0vmassol: I cannot access the admin in my partial setup  \n14:50\u00a0<Denis>\u00a0so your issue seems to be HSQL db specific  \n14:51\u00a0<vmassol>\u00a0sburjan confirmed it's not an issue  \n14:51\u00a0<vmassol>\u00a0I don't think so  \n14:51\u00a0<vmassol>\u00a0there's nothing specific to HSQLDB about permissions aFAIK  \n14:51\u00a0<tmortagne>\u00a0vmassol: superadmin is and always been \"superadmin\" (XWiki.superadmin is matched too I thnk)  \n14:52\u00a0<zenzla>\u00a0has quit  \n14:52\u00a0<Denis>\u00a0vmassol: you are right, with HSQLDB, I have the same behavior you have  \n14:52\u00a0<tmortagne>\u00a0just looks at right code and you won't see any test on null for isSuperAdmin on whatever version in history  \n14:53\u00a0<vmassol>\u00a0I never mentioned rights code  \n14:53\u00a0<vmassol>\u00a0I'm taking about the user displayed or used when the context user was null and we created page modification in our code  \n14:54\u00a0<vmassol>\u00a0I seemed to remember we were checking for null and using superadmin but I may be wrong  \n14:54\u00a0<vmassol>\u00a0in any case sburjan confirmed it's not an issue again  \n14:54\u00a0<vmassol>\u00a0the issue for me is more the separation of superadmin vs system user  \n14:54\u00a0<vmassol>\u00a0but we don't have to fix this now  \n14:55\u00a0<Denis>\u00a0tmortagne: why DW ask a multiwiki question on a new install which obviously has a single wiki ?  \n14:55\u00a0<tmortagne>\u00a0Denis: no idea what you are talking about  \n14:57\u00a0<Denis>\u00a0tmortagne: step2 of DW, do you want to upgrade all wiki or only main wiki  \n14:57\u00a0<vmassol>\u00a0Denis: hehe  \n14:57\u00a0<vmassol>\u00a0you're asking the same questions I asked  \n14:58\u00a0<Denis>\u00a0this is stupid and the second thing a new user see and cannot understand  \n14:58\u00a0<vmassol>\u00a0AFAIR I was told it was my fault and that I didn't understand properly when I riased the issue so glad someone else raises it too ;)  \n14:58\u00a0<tmortagne>\u00a0Denis: XE is mulitwiki, the fact that is currently have only one wiki is not relevant  \n14:59\u00a0<Denis>\u00a0tmortagne: why asking something about upgrading things that does not exists  \n15:00\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:01\u00a0<Denis>\u00a0tmortagne: just to be clear, I am a new user, I start XWiki for the first time, you ask me first to setup a UI (once XWIKI-9847 solved), than you ask me what upgrade mode I want. I do not even know if I will ever upgrade, how do you expect me to take the right decision ?  \n15:02\u00a0<tmortagne>\u00a0this is a general option related to the wall farm no matter what is the number of wikis right now (you could have more later) and it's not really related only the the current upgrade  \n15:02\u00a0<mrflibbl1>\u00a0has quit  \n15:02\u00a0<Denis>\u00a0as a new user, I do not understand anything about your question, I am just worried, which is bad for my first impression  \n15:03\u00a0<Denis>\u00a0even worse, I cannot skip that question  \n15:05\u00a0<tmortagne>\u00a0skipping that question would not really make any sense since that property has to contain something, skipping would do exactly the same thing than continue without touching anything which is to keep the default  \n15:05\u00a0<UCC>\u00a0has joined #xwiki  \n15:06\u00a0<Denis>\u00a0you cannot ask a question that a lambda user cannot answer now, and that is useless until the next time the DW will be triggered  \n15:06\u00a0<Denis>\u00a0why do you ask ?  \n15:07\u00a0<Denis>\u00a0what would be the outcome if I answer A or B ?  \n15:08\u00a0<vmassol>\u00a0another issue indeed si that I don't think you can change the answer to that question in the future  \n15:08\u00a0<vmassol>\u00a0so it might be better put in the admin section maybe  \n15:08\u00a0<tmortagne>\u00a0vmassol: it's asked at each upgrade  \n15:08\u00a0<vmassol>\u00a0ok, thought it was saved  \n15:08\u00a0<tmortagne>\u00a0it is  \n15:08\u00a0<vmassol>\u00a0(and not asked)  \n15:08\u00a0<vmassol>\u00a0(again)  \n15:09\u00a0<Denis>\u00a0tmortagne: why do you save it ? why do you ask it the first time ?  \n15:09\u00a0<vmassol>\u00a0then why ask it when number of wikis == 1?  \n15:10\u00a0<tmortagne>\u00a0Denis: again this option is not only about the current main wiki upgrade, it control the behavior of the DW for the subwikis, if you create a new wiki later DW will always be enabled by default (and you will see it only if there is something to do like with the main one) unless you don't enable wiki per wiki DW  \n15:11\u00a0<tmortagne>\u00a0the DW is not only about upgrades it's also used for installs  \n15:12\u00a0<zenzla>\u00a0has joined #xwiki  \n15:13\u00a0<zenzla2>\u00a0has quit  \n15:14\u00a0<evalica>\u00a0has joined #xwiki  \n15:16\u00a0<Denis>\u00a0tmortagne: what do you do if I skip the DW ?  \n15:17\u00a0<tmortagne>\u00a0Denis: about the DW mode ?  \n15:18\u00a0<Denis>\u00a0tmortagne: yes, what do you do if I never go to step2 by skipping the DW straight away at the welcome screen ?  \n15:18\u00a0<tmortagne>\u00a0as I said what you get displayed in the default value  \n15:19\u00a0<tmortagne>\u00a0whatever you do there will always be something, either the last thing choosen or the default  \n15:19\u00a0<tmortagne>\u00a0like for any configuration  \n15:19\u00a0<tmortagne>\u00a0since that's what it is in practice, a configuration  \n15:20\u00a0<tmortagne>\u00a0the UI just ask you a confirmation  \n15:21\u00a0<Denis>\u00a0so, you means that the default is to trigger the DW in subwiki for subwikis, and that on the other hand we have choosen the \"workspace\" mode of subwikis as a default. This seems inconsistent, isn't it ?  \n15:23\u00a0<tmortagne>\u00a0the default is to have the DW on each wikis and what is set as configuration at startup, if the UI does not display the current configuration then it has a bug  \n15:26\u00a0<Denis>\u00a0no, I just say that the default behavior for subwiki is to promote the \"workspace\" idea (no local user) opposed to the farm behavior, and in the \"workspace\" behavior, the wikis should be upgraded globally. And the default answer (you get by skipping or not answering since you do not even understand the question) is to upgrade the wikis individually. Isn't that inconsistent ?  \n15:26\u00a0<cjd>\u00a0what should I call the host and port conf parameters for the websocket extension?  \n15:26\u00a0<cjd>\u00a0websocket.host=0.0.0.0  \n15:26\u00a0<cjd>\u00a0websocket.port=8081  \n15:27\u00a0<cjd>\u00a0seems like it should have some kind of prefix but nothing makes much sense  \n15:27\u00a0<cjd>\u00a0extension.websocket.host --> yeah, everything will eventually be an extension, that's not sane  \n15:27\u00a0<cjd>\u00a0contrib.websocket.host --> right, until some day someone decides to make it not contrib anymore  \n15:28\u00a0<cjd>\u00a0xwiki.websocket.host --> I don't think I need to explain why that one looks silly  \n15:28\u00a0<vmassol>\u00a0cjd: there's a guideline for this, let me fish it out  \n15:28\u00a0<cjd>\u00a0cjd.websocket.host :D  \n15:28\u00a0<Denis>\u00a0:D  \n15:29\u00a0<tmortagne>\u00a0Denis: you are talking about something new introduce in 5.3 and I doubt gdelhumeau really tough about the DW when he wrote the UI, I'm not even sure the objective goal was to promote at all cost the workspace idea  \n15:29\u00a0<tmortagne>\u00a0I don't remember such a discussion on the list  \n15:29\u00a0<vmassol>\u00a0cjd: strange cannot find it on dev.xwiki.org, but I've found http://lists.xwiki.org/pipermail/devs/2009-August/038428.html  \n15:30\u00a0<gdelhumeau>\u00a0has quit  \n15:30\u00a0<Denis>\u00a0I am just refering to the fact that we merge XE and XEM and that XEM was the \"workspace\" behavior  \n15:31\u00a0<tmortagne>\u00a0default DW mode is the what was the only mode at first and what is the most complete, there hasn't been any more discussion or though about it  \n15:32\u00a0<cjd>\u00a0cool  \n15:32\u00a0<cjd>\u00a0websocket.host it is :)  \n15:32\u00a0<vmassol>\u00a0there might have been other mails after that though  \n15:32\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:32\u00a0<cjd>\u00a0I'm glad that we're not doing the old \u00a0com.xpn.xwiki.i.like.to.make.you.type.....  \n15:32\u00a0<gdelhumeau>\u00a0when I try tu upgrade a 5.2.2 to 5.4m1, after DW I eventually have an empty wiki  \n15:32\u00a0<gdelhumeau>\u00a0I just delete data/solr and replace the webapp  \n15:33\u00a0<gdelhumeau>\u00a0with the jetty/hsqldb version  \n15:33\u00a0<vmassol>\u00a0I'm going to add this to your doc and send an email to mention it  \n15:34\u00a0<Denis>\u00a0tmortagne: the question of step2 is about \"Upgrade mode\", seems this is not true, you just said above that it determine where the DW is triggered on a new wiki creation, this really different, no ?  \n15:34\u00a0<cjd>\u00a031337 isn't being used much anymore since BO is long gone  \n15:35\u00a0<tmortagne>\u00a0Denis: The UI is not complete yes and I did not said it was perfect  \n15:37\u00a0<cjd>\u00a08093 isn't much used, I'll put that as the default  \n15:38\u00a0<Denis>\u00a0tmortagne: well, IMO, there is 2 issues, the step2 is not properly phased, and could not be answered up front by a new user. Couldn't the answer to it be postponed to the creation of the first subwiki ? and based on the fact that the user create a \"no local user\" or not subwiki, it will be easier to advice him for the right answer.  \n15:39\u00a0<Denis>\u00a0tmortagne: of course, for an existing multi-wiki that gets upgraded for the first time, with a DW, we may keep that question in the DW  \n15:40\u00a0<UCC>\u00a0has quit  \n15:41\u00a0<tmortagne>\u00a0seems a bit complex to add that to the \"create new wiki\" UI as it is, maybe the best is to test the number of wikis as you want and to put that option in the admin if you want to change it outside of the DW  \n15:42\u00a0<Denis>\u00a0tmortagne: the answer to that question is mainly know when you start creating a subwiki, or when you already have subwikis  \n15:44\u00a0<Denis>\u00a0tmortagne: adding a way to change the answer in the admin, is a good option, but it is really exceptional to need to, unless you have answer it wrong initially, which should not happen if you ask at the right time with the right text and advices  \n15:44\u00a0<tmortagne>\u00a0Denis: except that in the context of the standard create new wiki UI it's not really relevant because right now the DW is forced whatever the option you choose and gdelhumeau plan to remove the need to the DW completely in this process  \n15:44\u00a0<tmortagne>\u00a0so asking the question in this UI is not going to be understood much more  \n15:44\u00a0<Denis>\u00a0oups  \n15:44\u00a0<tmortagne>\u00a0the outside of main wiki DW use case it's quite advanced  \n15:44\u00a0<Denis>\u00a0I though I had understood why you were asking  \n15:46\u00a0<Denis>\u00a0from what you just said, I do not understand again why you ask when there is only 1 wiki ?  \n15:46\u00a0<tmortagne>\u00a0the standard wiki creation force to enabled the DW (mostly because gdelhumeau did not had time to deal with the wiki UI without the DW) just for the creation  \n15:46\u00a0<tmortagne>\u00a0what I said is still true  \n15:46\u00a0<tmortagne>\u00a0if you don't go trough this UI to create your wiki  \n15:47\u00a0<Denis>\u00a0how?  \n15:47\u00a0<tmortagne>\u00a0by creating a wiki using some script  \n15:48\u00a0<tmortagne>\u00a0it's pretty easy  \n15:48\u00a0<Denis>\u00a0well  \n15:48\u00a0<tmortagne>\u00a0or some alternative wiki management application  \n15:48\u00a0<tmortagne>\u00a0or any application that create special wiki for some reason  \n15:48\u00a0<Denis>\u00a0than never asking unless there is more than one wiki on an upgrade setup is really enough  \n15:49\u00a0<Denis>\u00a0defaulting to the opposite of the current default  \n15:49\u00a0<Denis>\u00a0and putting a way to change that default in the admin UI  \n15:49\u00a0<tmortagne>\u00a0I already proposed to not ask when there is only one wiki as for the default it's another discussion, probably more for the list  \n15:50\u00a0<Denis>\u00a0the current default is clearly inconsistant  \n15:50\u00a0<Denis>\u00a0if we do not have time, I would even be for never having a question and to put that in the config file  \n15:51\u00a0<Denis>\u00a0the only users that really needs to change the default (to have per wiki update) are farm administrator, and those are obviously advanced user  \n15:53\u00a0<Denis>\u00a0annoying tons of simple users for that special case is really bad, and increase complexity for not much benefit  \n15:54\u00a0<tmortagne>\u00a0Denis: you are annoyed by this option mostly because you are not a simple user, most of simple users used to Windows installers click on continue when they have the chance ;)  \n15:55\u00a0<Denis>\u00a0and choose the wrong answer!  \n15:55\u00a0<tmortagne>\u00a0it's not the wrong answer  \n15:55\u00a0<Denis>\u00a0surely it is, the default behavior for subwiki is to use them as workspace, there is more than a year that we promote this opposed to the farm  \n15:58\u00a0<Denis>\u00a0btw, the only situation I see for using you current default is the myxwiki farm, a very rare situation in practice IMO  \n15:58\u00a0<tmortagne>\u00a0having workspaces does not means that everything is managed by one single person  \n15:59\u00a0<tmortagne>\u00a0it's not because you don't have local users that you don't have an organization where each workspace is managed by its owner, this is two completely different things  \n15:59\u00a0<Denis>\u00a0ok, great than the feature is not appropriate  \n16:00\u00a0<Denis>\u00a0this is not a global settings  \n16:00\u00a0<Denis>\u00a0this is clearly a per wiki settings  \n16:00\u00a0<tmortagne>\u00a0this is what we have currently, you can propose a new feature to have this configuration per wiki  \n16:01\u00a0<tmortagne>\u00a0but the main uses cases I think is to have one or the other for all wikis so the global option is not as useless as you think  \n16:02\u00a0<Denis>\u00a0having in a subwiki a checkbox in the admin, saying I want to take care of the upgrade of that subwiki independently \u00a0would be far clearer and appropriate  \n16:02\u00a0<Denis>\u00a0your global question is mainly link to the migration issue  \n16:03\u00a0<tmortagne>\u00a0it's simply the default value of what you want to put at each wiki level  \n16:04\u00a0<Denis>\u00a0the default is not check, since it is opt-in of a local admin to do the work  \n16:04\u00a0<Denis>\u00a0and the question could be the default during a migration from the old situation (no DW managed) to the new  \n16:05\u00a0<Denis>\u00a0but for new setup, there is no real need to have a different default  \n16:06\u00a0<Denis>\u00a0except again maybe for the myxwiki farm, which is IMO an exception  \n16:07\u00a0<Denis>\u00a0anyway, asking that in the DW is wrong  \n16:07\u00a0<Denis>\u00a0(for a new setup)  \n16:26\u00a0<andreeapopescu\\_>\u00a0has quit  \n16:32\u00a0<darien>\u00a0has joined #xwiki  \n16:38\u00a0<sburjan>\u00a0vmassol: ping  \n16:48\u00a0<darien>\u00a0has quit  \n17:05\u00a0<msmeria>\u00a0has quit  \n17:06\u00a0<vmassol>\u00a0yes sburjan?  \n17:06\u00a0<sburjan>\u00a0vmassol: I found my answer, sorry for the noise  \n17:09\u00a0<sburjan>\u00a0has quit  \n17:10\u00a0<zenzla2>\u00a0has joined #xwiki  \n17:11\u00a0<zenzla>\u00a0has quit  \n17:43\u00a0<cjd>\u00a0vmassol: random thought, @Component is redundant because you already know it's a component from components.txt  \n17:43\u00a0<cjd>\u00a0why not just switch to only using @Named or nothing at all if it's default?  \n17:44\u00a0<vmassol>\u00a0cjd: i know  \n17:44\u00a0<vmassol>\u00a0and @Component is optional AFAIK but it's a best practice to use it  \n17:44\u00a0<vmassol>\u00a0makes it more clear  \n17:44\u00a0<vmassol>\u00a0so that you don't have to get the components.txt to know it's a component  \n17:44\u00a0<lucaa>\u00a0has quit  \n17:45\u00a0<cjd>\u00a0or switch to @Named(\"default\") ?  \n17:45\u00a0<tmortagne>\u00a0vmassol: not sure it's optional actually  \n17:45\u00a0<cjd>\u00a0it's a little annoying to have +2 lines of code and +1 import per class  \n17:46\u00a0<vmassol>\u00a0@Named is different  \n17:46\u00a0<vmassol>\u00a0@Named is definitely optional  \n17:46\u00a0<vmassol>\u00a0but this may have changed  \n17:46\u00a0<tmortagne>\u00a0I did not changed it for sure :)  \n17:46\u00a0<vmassol>\u00a0+2?  \n17:47\u00a0<cjd>\u00a0import org.xwiki.component.annotation.Component;  \n17:47\u00a0<vmassol>\u00a0i don't think it's a big deal cjd for the benefit it brings  \n17:47\u00a0<cjd>\u00a0+1 line  \n17:47\u00a0<vmassol>\u00a0that's import  \n17:47\u00a0<cjd>\u00a0my text editor counts it as a line  \n17:47\u00a0<vmassol>\u00a0total is 2 lines, not 3  \n17:47\u00a0<cjd>\u00a0ahh right, I was miscounting  \n17:47\u00a0<vmassol>\u00a0anyway more lines is not the issue  \n17:47\u00a0<cjd>\u00a0uhh  \n17:48\u00a0<vmassol>\u00a0adding javadoc adds more line  \n17:48\u00a0<vmassol>\u00a0because it may count for the fan out  \n17:48\u00a0<cjd>\u00a0at some point, more lines is very bad, I agree though that +1 line per file is not the worst thing :)  \n17:48\u00a0<vmassol>\u00a0(not sure, would need to refresh my memory)  \n17:49\u00a0<vmassol>\u00a0@cjd: can you confirm it's optional?  \n17:49\u00a0<vmassol>\u00a0(just for my peace of mind)  \n17:49\u00a0<vmassol>\u00a0:)  \n17:49\u00a0<cjd>\u00a0well if you scrapped @Named and @Component then it's potentially 4 lines including 2 imports... but as you point out, having no way to see that it's a component is kind of nasty  \n17:49\u00a0<cjd>\u00a0yeah, give me a minute  \n17:49\u00a0<vmassol>\u00a0@Named is optional  \n17:49\u00a0<vmassol>\u00a0and should only be used when you need to qualify an impl  \n17:49\u00a0<mrflibble>\u00a0has joined #xwiki  \n17:50\u00a0<cjd>\u00a0well if we wanted to have a way to say \"hey guys, this is a component\" we might remove the @Component and recommend instead the use of @Named(\"default\")  \n17:50\u00a0<vmassol>\u00a0no this is not the semantic of @Named  \n17:50\u00a0<vmassol>\u00a0again please check the spec if you want to see that  \n17:50\u00a0<cjd>\u00a0meh  \n17:50\u00a0<vmassol>\u00a0(for yourself)  \n17:50\u00a0<cjd>\u00a0I just want fewer lines of code :)  \n17:50\u00a0<vmassol>\u00a0@Named is not from us  \n17:51\u00a0<vmassol>\u00a0@Component is  \n17:51\u00a0<cjd>\u00a0yeah that's what I like about @Named  \n17:51\u00a0<cjd>\u00a0the fact that you often need it anyway if you're going to @Inject things  \n17:51\u00a0<vmassol>\u00a0not really  \n17:51\u00a0<vmassol>\u00a0most times you don't need it  \n17:52\u00a0<vmassol>\u00a0most module have only a single impl for components  \n17:54\u00a0<cjd>\u00a0weird  \n17:55\u00a0<cjd>\u00a0it doesn't report any errors but it's not really working  \n17:56\u00a0<vmassol>\u00a0anyone remembers if we have a jira issue about renaming user page not working. I remember the issue but I can't find the jira for it  \n17:56\u00a0<vmassol>\u00a0all I see is http://jira.xwiki.org/browse/XWIKI-4290# which is slightly different IMO  \n17:57\u00a0<tmortagne>\u00a0that's the only one I remember  \n17:57\u00a0<tmortagne>\u00a0there may be discussion on the mailing list on this subject  \n17:57\u00a0<vmassol>\u00a0this one is about the guy not wanting to be able to rename a page  \n17:58\u00a0<tmortagne>\u00a0or make it work  \n17:58\u00a0<vmassol>\u00a0which IMO is different from making it work fine by updating the groups  \n17:58\u00a0<vmassol>\u00a0I'd close this one as won't fix while the other one is something to fix IMO  \n17:58\u00a0<tmortagne>\u00a0you can't really close this one until the other is fixed IMO  \n17:59\u00a0<vmassol>\u00a0BTW don't we already have a listener for XWikiUsers tmortagne?  \n17:59\u00a0<tmortagne>\u00a0there is no such thing as rename event  \n17:59\u00a0<vmassol>\u00a0I know, see my comment for 4290 ;)  \n17:59\u00a0<tmortagne>\u00a0all the listener know is that a user has been deleted so it cleans it  \n17:59\u00a0<vmassol>\u00a0ok  \n18:00\u00a0<vmassol>\u00a0it doesn't know how to update groups then  \n18:00\u00a0<tmortagne>\u00a0it's not the problem  \n18:00\u00a0<tmortagne>\u00a0it does not know that a user has been renamed  \n18:01\u00a0<tmortagne>\u00a0it does update the groups since it removed the deleted user from them  \n18:01\u00a0<vmassol>\u00a0so it shouldb't pretty simple to fix  \n18:01\u00a0<vmassol>\u00a0hmm  \n18:01\u00a0<tmortagne>\u00a0again how do you know a user has been renamed ?  \n18:01\u00a0<vmassol>\u00a0indeed the problem is that without an atomic rename  \n18:02\u00a0<vmassol>\u00a0it's hard to know it's a rename  \n18:02\u00a0<vmassol>\u00a0but  \n18:02\u00a0<vmassol>\u00a0copy coudl create the new user  \n18:02\u00a0<vmassol>\u00a0and delete could remove it  \n18:02\u00a0<vmassol>\u00a0it = the old one  \n18:02\u00a0<vmassol>\u00a0dleete is already handled  \n18:02\u00a0<vmassol>\u00a0so we just need to handle coy  \n18:02\u00a0<vmassol>\u00a0copy  \n18:02\u00a0<tmortagne>\u00a0there is no copy event either  \n18:02\u00a0<vmassol>\u00a0there's one  \n18:03\u00a0<vmassol>\u00a0it's the new page event  \n18:03\u00a0<vmassol>\u00a0document created  \n18:03\u00a0<tmortagne>\u00a0this is not a copy  \n18:03\u00a0<tmortagne>\u00a0this is... a new document  \n18:03\u00a0<vmassol>\u00a0a rename is: create + delete  \n18:03\u00a0<tmortagne>\u00a0there is no reason this new document is a copy from listener point of view  \n18:03\u00a0<tmortagne>\u00a0it's exactly the same issue than with rename  \n18:04\u00a0<vmassol>\u00a0from the listener POV it's a new doc creation with a xwiki user  \n18:04\u00a0<vmassol>\u00a0so it could register it  \n18:05\u00a0<tmortagne>\u00a0and ?  \n18:05\u00a0<tmortagne>\u00a0how could it know the old user groups and rights ?  \n18:05\u00a0<vmassol>\u00a0(provided the right permission is there ofc)  \n18:05\u00a0<tmortagne>\u00a0all it can do is putting this user in XWikiAllGroups  \n18:05\u00a0<tmortagne>\u00a0at best  \n18:05\u00a0<vmassol>\u00a0why would it care?  \n18:06\u00a0<cjd>\u00a0vmassol: it looks like @Component is not really needed  \n18:06\u00a0<tmortagne>\u00a0just pitting the user in XWikiAllGroups is close to useless, if you loose all user's groups and rights you still have the issue  \n18:07\u00a0<tmortagne>\u00a0it's still not a proper rename  \n18:07\u00a0<vmassol>\u00a0so you're sayin gthat the fact that a user is in a group doesn't appear in the xobjetcs in the user document?  \n18:07\u00a0<cjd>\u00a0so that's perfect, now I can save some LoC :)  \n18:07\u00a0<tmortagne>\u00a0of course it does not  \n18:07\u00a0<tmortagne>\u00a0group contains their members, it's not the opposite  \n18:08\u00a0<tmortagne>\u00a0and same thing for the rights  \n18:08\u00a0<ClemensR>\u00a0the problem seems to be that one cannot figure out that the \"newly created user is \"the same\" as the one which is deleted by the rename ?  \n18:08\u00a0<vmassol>\u00a0we need a rename right anyway  \n18:08\u00a0<vmassol>\u00a0so we'll need to implement it rather sooner than later  \n18:09\u00a0<tmortagne>\u00a0all the listener care is to get a rename event  \n18:09\u00a0<tmortagne>\u00a0the fact that it's an atomic process it's not very important  \n18:09\u00a0<vmassol>\u00a0yep  \n18:11\u00a0<tmortagne>\u00a0and the best would be a RenamingEvent/RenamedEvent couple so that it know that the DeletedEvent is actually a child of RenamingEvent  \n18:11\u00a0<ClemensR>\u00a0the short term brute force solution would be to forbid renaming (or even copying) users .... but I guess the issue is not so urgent that something like that is required  \n18:14\u00a0<lucaa>\u00a0has joined #xwiki  \n18:22\u00a0<woshilapin>\u00a0has quit  \n18:23\u00a0<cjd>\u00a0has quit  \n18:28\u00a0<sburjan`>\u00a0has quit  \n18:28\u00a0<sburjan`>\u00a0has joined #xwiki  \n18:31\u00a0<vmassol>\u00a0anyone against http://jira.xwiki.org/browse/XE-1352 ?  \n18:35\u00a0<evalica>\u00a0has quit  \n18:41\u00a0<KermitTheFragger>\u00a0has quit  \n18:46\u00a0<tmortagne>\u00a0has quit  \n18:48\u00a0<risherry>\u00a0has joined #xwiki  \n18:49\u00a0<risherry>\u00a0has quit  \n19:08\u00a0<svstudio>\u00a0has joined #xwiki  \n19:10\u00a0<zenzla>\u00a0has joined #xwiki  \n19:13\u00a0<svstudio>\u00a0has quit  \n19:14\u00a0<zenzla2>\u00a0has quit  \n19:19\u00a0<zenzla>\u00a0has quit  \n19:21\u00a0<zenzla>\u00a0has joined #xwiki  \n19:28\u00a0<Slashman>\u00a0has quit  \n19:30\u00a0<Kebir>\u00a0has quit  \n19:41\u00a0<Denis>\u00a0vmassol: even if the XWiki.XWikiAdminGroup is missing the XWiki.Admin user keep its admin privileges by its ownership of the wiki, defined in the XWikiServerXwiki document, and installed by default on a HSQLDB database.  \n19:46\u00a0<mflorea>\u00a0has quit  \n19:53\u00a0<ClemensR>\u00a0has quit  \n19:54\u00a0<lucaa>\u00a0has quit  \n20:00\u00a0<gdelhumeau>\u00a0has quit  \n20:05\u00a0<abusenius>\u00a0has joined #xwiki  \n20:07\u00a0<Kebir>\u00a0has joined #xwiki  \n20:48\u00a0<zenzla>\u00a0has quit  \n20:55\u00a0<zenzla>\u00a0has joined #xwiki  \n21:22\u00a0<Denis>\u00a0has quit  \n21:24\u00a0<zenzla>\u00a0has quit  \n21:24\u00a0<zenzla>\u00a0has joined #xwiki  \n21:36\u00a0<Kebir>\u00a0has quit  \n23:11\u00a0<abusenius>\u00a0has quit  \n23:41\u00a0<vmassol>\u00a0has quit  \n23:41\u00a0<Kebir>\u00a0has joined #xwiki  \n23:49\u00a0<vmassol>\u00a0has joined #xwiki  \n23:50\u00a0<vmassol>\u00a0has quit\n"}