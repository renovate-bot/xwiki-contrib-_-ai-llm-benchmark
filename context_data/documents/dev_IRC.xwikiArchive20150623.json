{"id": "dev:IRC.xwikiArchive20150623", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150623", "title": "IRC Archive for channel #xwiki on 23 June 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sdumitriu1>\u00a0has joined #xwiki  \n01:14\u00a0<abusenius>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:08\u00a0<msmeria>\u00a0has joined #xwiki  \n07:09\u00a0<msmeria1>\u00a0has joined #xwiki  \n07:12\u00a0<cjd>\u00a0has quit  \n07:12\u00a0<mflorea>\u00a0has joined #xwiki  \n07:13\u00a0<msmeria>\u00a0has quit  \n07:42\u00a0<cjd>\u00a0has joined #xwiki  \n08:09\u00a0<cjd>\u00a0has quit  \n08:10\u00a0<msmeria>\u00a0has joined #xwiki  \n08:11\u00a0<msmeria1>\u00a0has quit  \n08:12\u00a0<vmassol>\u00a0has joined #xwiki  \n08:32\u00a0<woshilapin>\u00a0has quit  \n08:40\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:47\u00a0<Denis1>\u00a0is now known as <Denis>  \n08:53\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:58\u00a0<cjd>\u00a0has joined #xwiki  \n08:59\u00a0<tmortagne>\u00a0has quit  \n09:05\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:29\u00a0<gsmeria>\u00a0has quit  \n09:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:32\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:05\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:25\u00a0<gsmeria>\u00a0has quit  \n10:26\u00a0<evalica>\u00a0has joined #xwiki  \n10:26\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:33\u00a0<vmassol>\u00a0FYI the official jenkins docker image: https://registry.hub.docker.com/\\_/jenkins/  \n10:44\u00a0<vmassol>\u00a0we have 27 color themes, not bad :)  \n10:45\u00a0<gdelhumeau>\u00a0and bootswatch Themes contains 16 themes actually :)  \n10:46\u00a0<vmassol>\u00a0indeed  \n10:47\u00a0<vmassol>\u00a0gdelhumeau: regarding http://jira.xwiki.org/browse/XWIKI-12204 it's not a bug IMO but more an imrpovemebnt  \n10:47\u00a0<vmassol>\u00a0to support NS..  \n10:47\u00a0<vmassol>\u00a0so far i have created only improvement issues for NS  \n10:47\u00a0<vmassol>\u00a0and it seems more logical  \n10:48\u00a0<vmassol>\u00a0you shouldn't put 7.2M1 as affects IMO  \n10:48\u00a0<vmassol>\u00a0you should create an improvement and set affects = 7.1  \n10:49\u00a0<gdelhumeau>\u00a0ok then I change all my issues to make them improvements  \n10:49\u00a0<vmassol>\u00a0\"Add support for Nested Spaces in Class Sheets\" or something like that  \n10:49\u00a0<vmassol>\u00a0WDYT?  \n10:49\u00a0<gdelhumeau>\u00a0I'm doing it :)  \n10:49\u00a0<vmassol>\u00a0ok  \n10:53\u00a0<tmortagne>\u00a0actually XWIKI-12204 is an improvement right now since we don't yet have a release with nested space support but it will be a bug as soon as we do ;)  \n10:54\u00a0<vmassol>\u00a0tmortagne: yup :)  \n10:56\u00a0<Slashman>\u00a0has joined #xwiki  \n11:12\u00a0<gsmeria>\u00a0has joined #xwiki  \n11:27\u00a0<gdelhumeau>\u00a0Hmm it seems XWikiDocument.getSpace() and Document.getSpace() does not return the same thing  \n11:27\u00a0<gdelhumeau>\u00a0it's confusing!  \n11:28\u00a0<gdelhumeau>\u00a0for Document#getSpace() it's:  \n11:28\u00a0<gdelhumeau>\u00a0return this.doc.getDocumentReference().getLastSpaceReference().getName();  \n11:29\u00a0<gdelhumeau>\u00a0so if I understand correctly, it returns the name of the space without the parent?  \n11:29\u00a0<gdelhumeau>\u00a0so Space1.Space2.Hello -> Space2  \n11:29\u00a0<gdelhumeau>\u00a0?  \n11:33\u00a0<gdelhumeau>\u00a0is it something we want to keep?  \n11:33\u00a0<tmortagne>\u00a0gdelhumeau: I just did not know Document#getSpace wasn't based on XWikiDocument#getSpace  \n11:33\u00a0<tmortagne>\u00a0fixing it  \n11:33\u00a0<gdelhumeau>\u00a0ok good  \n11:33\u00a0<gdelhumeau>\u00a0is it deprecated too?  \n11:33\u00a0<tmortagne>\u00a0does not make much sense to not use the work done for XWikiDocument#getSpace already  \n11:35\u00a0<tmortagne>\u00a0I guess it's kind of deprecated, it's just bad nobody wanted to end up fixing all the warnings...  \n12:20\u00a0<cjd>\u00a0has quit  \n12:28\u00a0<gdelhumeau>\u00a0I can't create a jira issue  \n12:31\u00a0<tmortagne>\u00a0gdelhumeau: actually you did  \n12:31\u00a0<tmortagne>\u00a03 times :)  \n12:31\u00a0<gdelhumeau>\u00a0grr  \n12:31\u00a0<gdelhumeau>\u00a0tested with 2 browsers  \n12:32\u00a0<gdelhumeau>\u00a0but my jira client does not tell me neither  \n12:32\u00a0<tmortagne>\u00a0no 4  \n12:32\u00a0<tmortagne>\u00a0times  \n12:32\u00a0<tmortagne>\u00a012232 -> 12235  \n12:32\u00a0<gdelhumeau>\u00a0I can't see them!  \n12:33\u00a0<gdelhumeau>\u00a0in the activity stream neither  \n12:33\u00a0<tmortagne>\u00a0ha 2 new issues  \n12:33\u00a0<tmortagne>\u00a0so it's 12232 -> 12237 now  \n12:33\u00a0<gdelhumeau>\u00a0I can only see it when I mauanny tip the URL  \n12:34\u00a0<tmortagne>\u00a0indeed they are not listed in http://jira.xwiki.org/secure/ViewProfile.jspa?name=gdelhumeau  \n12:34\u00a0<tmortagne>\u00a0but I received mails about them  \n12:35\u00a0<gdelhumeau>\u00a0I can't finish any action with my browser  \n12:35\u00a0<gdelhumeau>\u00a0I have tio refresh the page  \n12:35\u00a0<gdelhumeau>\u00a0even for changing stuff like assignee  \n12:36\u00a0<tmortagne>\u00a0ha I tough you were using jira client  \n12:36\u00a0<tmortagne>\u00a0let me try  \n12:37\u00a0<tmortagne>\u00a0still running...  \n12:37\u00a0<tmortagne>\u00a0looks like we have a general issue  \n12:37\u00a0<tmortagne>\u00a0I'm about to get a timeout  \n12:38\u00a0<tmortagne>\u00a0looks like the action is applied but the redirect fail  \n12:39\u00a0<tmortagne>\u00a0moving to infra chat  \n13:06\u00a0<cjd>\u00a0has joined #xwiki  \n14:00\u00a0<\\_cjd>\u00a0has joined #xwiki  \n14:00\u00a0<cjd>\u00a0has quit  \n14:38\u00a0<msmeria>\u00a0has quit  \n14:39\u00a0<msmeria>\u00a0has joined #xwiki  \n14:54\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:56\u00a0<msmeria>\u00a0has quit  \n15:04\u00a0<msmeria1>\u00a0has quit  \n15:05\u00a0<gsmeria>\u00a0has quit  \n15:09\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:14\u00a0<OSIMasson>\u00a0has quit  \n15:59\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:00\u00a0<gdelhumeau>\u00a0Denis: you should fix your issue on the 7.1.x branch too  \n16:01\u00a0<Denis>\u00a0gdelhumeau: you're right, my mistake  \n16:10\u00a0<gsmeria>\u00a0has quit  \n16:33\u00a0<johey\\_>\u00a0has joined #xwiki  \n16:34\u00a0<johey\\_>\u00a0Just installed xwiki via the debian repos. It works fine, however I would like to change the web path from /xwiki to /. How can I do that?  \n16:36\u00a0<johey\\_>\u00a0I tried changing /etc/tomcat7/Catalina/localhost/xwiki.xml but that did not help.  \n16:36\u00a0<johey\\_>\u00a0(I restarted tomcat7 afterwards)  \n16:36\u00a0<gdelhumeau>\u00a0maybe ln -s /xwiki /ROOT  \n16:37\u00a0<johey\\_>\u00a0is now known as <johey>  \n16:37\u00a0<gdelhumeau>\u00a0some infos there: http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs  \n16:38\u00a0<johey>\u00a0Thanks! This looks promising.  \n16:42\u00a0<tmortagne>\u00a0johey: looks like http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationViaAPT#HXWikiasrootwebapp  \n16:42\u00a0<tmortagne>\u00a0at least this was written by someone using the same package as you  \n16:42\u00a0<johey>\u00a0Ah, even better. :)  \n16:42\u00a0<tmortagne>\u00a0(and you get the warning related to issue you might have with this)  \n16:44\u00a0<lucaa>\u00a0has joined #xwiki  \n16:50\u00a0<eromano>\u00a0has joined #xwiki  \n16:51\u00a0<eromano>\u00a0Hi again. Is there a way, in link syntax (for anchors to a heading) easily refer to \"current page\" and \"current space\"?  \n16:51\u00a0<vmassol>\u00a0yes  \n16:52\u00a0<vmassol>\u00a0eromano: [[label>>||anchor=\"\u2026\"]] in XWiki Syntax 2.1  \n16:52\u00a0<vmassol>\u00a0and in XWiki Syntax 2.0: [[label>>#<anchorhere>]]  \n16:53\u00a0<eromano>\u00a0Thanks!  \n17:09\u00a0<gsmeria>\u00a0has joined #xwiki  \n17:11\u00a0<vmassol>\u00a0eromano: http://jira.xwiki.org/browse/XWIKI-12241  \n17:24\u00a0<KermitTheFragger>\u00a0has quit  \n18:13\u00a0<woshilapin>\u00a0has quit  \n18:15\u00a0<Pbas>\u00a0Hello with new API mail sender @ http://extensions.xwiki.org/xwiki/bin/view/Extension/Mail+Sender+API I can add UTF-8 charset instruction in email header like this: #set ($discard = $message.addPart(\"text/plain ; charset=utf-8\", $ContMessage)) but I didn't manage with an XWiki.Mail object :-( Do you have a way to add charset?  \n18:17\u00a0<vmassol>\u00a0hi Pbas  \n18:17\u00a0<Pbas>\u00a0hi  \n18:17\u00a0<vmassol>\u00a0I need to check this use case but $message.addPart(\"text/plain ; charset=utf-8\", \u2026) is not really correct  \n18:18\u00a0<vmassol>\u00a0there's an api to add headers  \n18:18\u00a0<vmassol>\u00a0\\*mail headers  \n18:19\u00a0<Pbas>\u00a0Yes I must indicate UTF-8 charset in my email header  \n18:20\u00a0<Pbas>\u00a0To display correct accents, my mail must have something like this \"Content-Type: text/plain; charset=UTF-8\" I think  \n18:21\u00a0<vmassol>\u00a0btw Pbas  \n18:21\u00a0<vmassol>\u00a0just checked the code and we use UTF8 by default, it's not even configurable ATM  \n18:21\u00a0<vmassol>\u00a0bodyPart.setContent(content, \"text/plain; charset=\" + StandardCharsets.UTF\\_8.name());  \n18:22\u00a0<Pbas>\u00a0On 7.0.1 my mail header didn't contain charset instruction.  \n18:22\u00a0<vmassol>\u00a0you'll need to past your full example  \n18:24\u00a0<Pbas>\u00a0here?  \n18:24\u00a0<vmassol>\u00a0here \u00a0(but using pastebin or gist or ..) or on the list  \n18:25\u00a0<Pbas>\u00a0I use this example: http://extensions.xwiki.org/xwiki/bin/view/Extension/Mail+Sender+API#HExample3:SendaTemplateemail  \n18:25\u00a0<Pbas>\u00a0second one  \n18:27\u00a0<Pbas>\u00a0Here: http://pastebin.com/7ceBGmAQ  \n18:28\u00a0<vmassol>\u00a0indeed I can reproduce on a simple text message  \n18:28\u00a0<vmassol>\u00a0I get https://gist.githubusercontent.com/vmassol/65ab233cd25d3e4699bc/raw/1b2ed0b0940339a2eece28972f0170c8b4fc48f9/gistfile1.txt  \n18:28\u00a0<vmassol>\u00a0wait  \n18:28\u00a0<vmassol>\u00a0my bad  \n18:30\u00a0<Pbas>\u00a0Do you find some surprises?  \n18:30\u00a0<vmassol>\u00a0Ok I can reproduce  \n18:31\u00a0<vmassol>\u00a0ok found why  \n18:32\u00a0<Pbas>\u00a0impressive \u00a0(like usually) :)  \n18:32\u00a0<vmassol>\u00a0we need to fix something you can work around it  \n18:32\u00a0<vmassol>\u00a0s/yu/but you/  \n18:33\u00a0<vmassol>\u00a0you can set a parameter named \"mimetype\"  \n18:33\u00a0<vmassol>\u00a0testing on a simple text message for now  \n18:35\u00a0<vmassol>\u00a0yep works  \n18:35\u00a0<vmassol>\u00a0now testing for the template use case  \n18:36\u00a0<Pbas>\u00a0For simple text mail I used #set ($discard = $message.addPart(\"text/plain ; charset=utf-8\", $ContMessage))  \n18:37\u00a0<Pbas>\u00a0to make it work.  \n18:37\u00a0<vmassol>\u00a0again this is not correct  \n18:37\u00a0<vmassol>\u00a0it works by luck :)  \n18:38\u00a0<Pbas>\u00a0Yes I understand :-)  \n18:38\u00a0<vmassol>\u00a0you should use this:  \n18:39\u00a0<vmassol>\u00a0irc://irc.freenode.net:6667/#set\u00a0($discard = $message.addPart(\"text/plain\", $ContMessage, {\"mimetype', \"text/plain ; charset=utf-8\"}))  \n18:39\u00a0<vmassol>\u00a0{\"mimetype' : \"text/plain ; charset=utf-8\"}  \n18:40\u00a0<Pbas>\u00a0yes thxs but is it working with template?  \n18:40\u00a0<vmassol>\u00a0well after I fix the bug you won't need to do anything more than:  \n18:40\u00a0<vmassol>\u00a0#set ($discard = $message.addPart(\"text/plain\", $ContMessage))  \n18:40\u00a0<vmassol>\u00a0still checking for template  \n18:42\u00a0<vmassol>\u00a0no it won't work for the template, not for the html part  \n18:42\u00a0<vmassol>\u00a0(it'll work for the text part though)  \n18:42\u00a0<vmassol>\u00a0could you create a jira issue Pbas?  \n18:42\u00a0<Pbas>\u00a0sure  \n18:44\u00a0<Pbas>\u00a0Can I add a cc mail method (without tempalte)?  \n18:44\u00a0<Pbas>\u00a0with $services.mailsender.createMessage(from, to, subject)  \n18:49\u00a0<tmortagne>\u00a0has quit  \n18:53\u00a0<vmassol>\u00a0yes  \n18:54\u00a0<Pbas>\u00a0=> http://jira.xwiki.org/browse/XWIKI-12244  \n18:55\u00a0<vmassol>\u00a0thanks  \n18:55\u00a0<Pbas>\u00a0btw on 7.0.1 my mails aren't logged in my database anymoer with #set ($mailResult = $services.mailsender.send([$message], 'database'))  \n18:55\u00a0<Pbas>\u00a0but I'm not sure about this  \n18:55\u00a0<vmassol>\u00a0they are  \n18:55\u00a0<vmassol>\u00a0by default sucess mails are not stored  \n18:55\u00a0<vmassol>\u00a0you can configure that  \n18:55\u00a0<Pbas>\u00a0because it seems I have too much mails  \n18:55\u00a0<Pbas>\u00a0ha ik  \n18:56\u00a0<vmassol>\u00a0in the mail admin ui  \n18:56\u00a0<Pbas>\u00a0I will find that in doc then  \n18:56\u00a0<Pbas>\u00a0found it: Effacer les statuts de succ\u00e8s ?  \n18:57\u00a0<vmassol>\u00a0yes  \n18:57\u00a0<Pbas>\u00a0Stocker ou pas les statuts des mails envoy\u00e9s avec succ\u00e8s.  \n18:57\u00a0<mflorea>\u00a0has quit  \n18:57\u00a0<Pbas>\u00a0mmm I think we must fix french translation isn't it?  \n18:58\u00a0<Pbas>\u00a0\"ou pas\" is too much, no?  \n18:59\u00a0<vmassol>\u00a0sure doesn't sound very nice  \n18:59\u00a0<vmassol>\u00a0you can propose something better on l10n.xwiki.org  \n18:59\u00a0<Pbas>\u00a0Ok I didn't annoyed you anymore. Thxs I will working on mail tommorow  \n18:59\u00a0<vmassol>\u00a0don't know who did this!  \n18:59\u00a0<vmassol>\u00a0cool  \n18:59\u00a0<Pbas>\u00a0Ok I will check that tommorrow  \n19:01\u00a0<Pbas>\u00a0good end of afternoons (I don't know if we tell that in english ... anyways)  \n19:02\u00a0<vmassol>\u00a0thanks for reporting and good evening  \n19:03\u00a0<Pbas>\u00a0ha yes: good evening :-D np  \n19:04\u00a0<vmassol>\u00a0Pbas: ok fixed, committing in a few minutes  \n19:05\u00a0<vmassol>\u00a0ok I need to add one more test, will take a bit longer as I have to leave for my pingpong training in 5mn ;)  \n19:05\u00a0<Pbas>\u00a0I wonder why I create a jira ticket with you ... ;-)  \n19:05\u00a0<Pbas>\u00a0with you iron arms?  \n19:05\u00a0<vmassol>\u00a0:)  \n19:07\u00a0<Pbas>\u00a0... and me I going back to home to swim a little bit on swimming pool :P  \n19:07\u00a0<vmassol>\u00a0nice  \n19:07\u00a0<vmassol>\u00a0:)  \n19:08\u00a0<vmassol>\u00a0ok ready to commit  \n19:08\u00a0<vmassol>\u00a0Pbas: if you can test my commit that would be nice  \n19:08\u00a0<vmassol>\u00a0:)  \n19:08\u00a0<Pbas>\u00a0on 7.0.1 ?  \n19:09\u00a0<vmassol>\u00a0Pbas: if you want  \n19:10\u00a0<Pbas>\u00a0... if I know how to do it  \n19:10\u00a0<vmassol>\u00a0you just need to download the new xwiki-platform-mail-default-\\*.jar JAR and replace yours  \n19:10\u00a0<Pbas>\u00a0it is java code  \n19:10\u00a0<vmassol>\u00a0make sure you remove yours  \n19:10\u00a0<vmassol>\u00a0in WEB-INF/lib  \n19:10\u00a0<vmassol>\u00a0and make sure you restart your wiki  \n19:10\u00a0<Pbas>\u00a0Can I do it on 7.0.1 version?  \n19:10\u00a0<vmassol>\u00a0hmm  \n19:11\u00a0<vmassol>\u00a0there might have been changes  \n19:11\u00a0<Pbas>\u00a0I can try  \n19:11\u00a0<vmassol>\u00a0you can try and see if it works  \n19:11\u00a0<vmassol>\u00a0you may need to also replace the xwiki-platform-mail-api-\\*.jar JAR  \n19:12\u00a0<vmassol>\u00a0the name is actually xwiki-platform-mail-send-\\*.jar  \n19:12\u00a0<vmassol>\u00a0\\*names  \n19:13\u00a0<Pbas>\u00a0./WEB-INF/lib/xwiki-platform-mail-send-api-7.0.1.jar this one?  \n19:13\u00a0<vmassol>\u00a0both  \n19:13\u00a0<vmassol>\u00a0-api and -default  \n19:14\u00a0<Pbas>\u00a0didn't have this jar xwiki-platform-mail-default\\*  \n19:14\u00a0<gdelhumeau>\u00a0has quit  \n19:15\u00a0<vmassol>\u00a0hmmm  \n19:15\u00a0<vmassol>\u00a0xwiki-platform-mail-send-default-\\*  \n19:15\u00a0<Pbas>\u00a0./WEB-INF/lib/xwiki-platform-mail-send-default-7.0.1.jar got it!  \n19:15\u00a0<vmassol>\u00a0gtg  \n19:16\u00a0<Pbas>\u00a0where can I download your jar? on https://github.com/xwiki/ ?  \n19:17\u00a0<vmassol>\u00a0http://maven.xwiki.org/snapshots/org/xwiki/platform/  \n19:18\u00a0<vmassol>\u00a0(once it's been built by jenkins)  \n19:18\u00a0<vmassol>\u00a0being built now: http://ci.xwiki.org/job/xwiki-platform/1502/  \n19:18\u00a0<vmassol>\u00a0wrong link  \n19:19\u00a0<vmassol>\u00a0it's in the queue ATM  \n19:19\u00a0<vmassol>\u00a0bye  \n19:20\u00a0<Pbas>\u00a0ok I will check tomorrow then. bye  \n19:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:28\u00a0<gsmeria>\u00a0has quit  \n19:33\u00a0<evalica>\u00a0has quit  \n19:38\u00a0<Enygma`>\u00a0has quit  \n19:56\u00a0<abusenius>\u00a0has joined #xwiki  \n20:03\u00a0<\\_cjd>\u00a0has quit  \n20:03\u00a0<lucaa>\u00a0has quit  \n20:26\u00a0<amrita>\u00a0has joined #xwiki  \n20:33\u00a0<amrita>\u00a0can you please let me know where can I find detailed XWiki Architecture diagram?  \n20:39\u00a0<sbaloul>\u00a0has joined #xwiki  \n20:41\u00a0<johey>\u00a0Suddenly I cannot open the editor. The page loads fine but when clicking Edit all that happens is the spinner starts spinning.  \n20:41\u00a0<tmortagne>\u00a0has quit  \n20:41\u00a0<johey>\u00a0Why can this be? Looking with Firefox' network analyser, all files loads.  \n20:42\u00a0<johey>\u00a0Tried with different browsers on different machines.  \n20:43\u00a0<johey>\u00a0Analyzing more, it's the main textarea that has visibility: hidden.  \n20:53\u00a0<johey>\u00a0No, wait. This looks strange. Some files aren't actually loaded. For instance: <script type=\"text/javascript\" src=\"//webjars/requirejs/2.1.15/require.min.js?r=1\"></script>  \n21:08\u00a0<sbaloul>\u00a0has quit  \n21:56\u00a0<amrita>\u00a0Is there any detailed architecture diagram for xwiki?  \n22:02\u00a0<amrita>\u00a0has quit  \n22:05\u00a0<amrita>\u00a0has joined #xwiki  \n22:17\u00a0<eromano>\u00a0has quit  \n22:44\u00a0<OSIMasson>\u00a0has quit\n"}