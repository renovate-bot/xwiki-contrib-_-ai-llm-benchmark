{"id": "dev:IRC.xwikiArchive20100130", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100130", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\ng-ram left at 00:38 (  \narkub left at 02:28 (Read error: 113 (No route to host)  \nnpm joined #xwiki at 06:08  \nxwiki-bridge left at 06:10 (  \nxwiki-bridge joined #xwiki at 06:10  \nsdumitriu left at 06:23 (Read error: 110 (Connection timed out)  \nnpm left at 06:44 (\"Leaving.\"  \nmflorea joined #xwiki at 08:46  \nflorinciu joined #xwiki at 09:01  \nnpm joined #xwiki at 09:14  \nxwikibot joined #xwiki at 09:32  \nxwiki-bridge joined #xwiki at 09:33  \nmflorea joined #xwiki at 09:33  \nflorinciu joined #xwiki at 09:34  \nxipe joined #xwiki at 09:41  \nvmassol joined #xwiki at 09:54  \nCalebJamesDeLisl joined #xwiki at 10:12  \nSvenDowideit joined #xwiki at 10:16  \nCalebJamesDeLisl - (10:23): I am curious why the old rendering system is still used for syntax 1.0, was the new 1.0 renderer unable to clone the functionality?  \nnpm joined #xwiki at 10:36  \nvmassol - (10:39): CalebJamesDeLisl: hi  \nvmassol - (10:39): there are 2 reasons  \nCalebJamesDeLisl - (10:40): Good morning.  \nvmassol - (10:40): Reason1: there's no other way to ensure we preserve backward compatibility  \nvmassol - (10:41): Reason2: the xwiki/1.0 parser is actually an emulator, it converts syntax 1.0 with regexes into syntax 2.0 and then use the 2.0 parser. It's far from perfect and there would be a long way till it has the exact same features as the 1.0 rendering  \nvmassol - (10:41): (we'd need to reinclude support for 1.0 macro runtime and such)  \nCalebJamesDeLisl - (10:42): I see.  \nvmassol - (10:42): note that it's impossible to write a proper parser for 1.0 syntax  \nvmassol - (10:42): since 1.0 syntax doesn't have a valid grammar  \nvmassol - (10:43): all that said  \nvmassol - (10:43): at some point we'll drop support for 1.0 syntax  \nvmassol - (10:43): or make it an optional module   \nvmassol - (10:43): so that we can clean up our code and remove it from there  \nvmassol - (10:44): then users who still want 1.0 syntax can use the emulation mode or install the backward compat module  \nvmassol - (10:44): in order to do see we still need to move all templates to 2.0 rendering  \nvmassol - (10:44): brb  \nCalebJamesDeLisl - (10:49): I suppose you saw my email about configuration for velocity applications. I am in favor of putting the config in the application itself and includeForm the application configs into the admin sheet.  \nSvenDowideit left at 10:50 (\\*.net \\*.split  \nSvenDowideit joined #xwiki at 10:50  \narkub joined #xwiki at 10:51  \narkub left at 10:52 (Remote host closed the connection  \nSvenDowideit left at 10:59 (\\*.net \\*.split  \nSvenDowideit joined #xwiki at 10:59  \nflaviusolaru joined #xwiki at 11:54  \nlucaa joined #xwiki at 12:34  \nnuvo2 joined #xwiki at 13:44  \nnuvo2 is now known as nuvolari ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nnuvolari left at 13:45 (Changing host  \nnuvolari joined #xwiki at 13:45  \nA-Kaser joined #xwiki at 13:46  \nsdumitriu joined #xwiki at 15:22  \nflorinciu left at 16:40 (Read error: Connection reset by peer  \nsdumitriu - (16:55): vmassol: Bug in import  \nsdumitriu - (16:55): I noticed that during the import all documents that don't have a parent set get a default value of XWiki.WebHome. This is a change introduced by the new model. Since in the XML the parent is empty, and setParent now uses a document reference, parsing the empty reference results in XWiki.WebHome as the target document. (Setting an empty parent from the web editor works, since there's a special check for empty in setParent(String))  \nsdumitriu - (16:55): Is this really what we want? I think it's wrong, since the import should not decide that the page needs a parent.  \nsdumitriu - (16:55): So, the problem is that XWikiDocument#fromXML should have this:  \nsdumitriu - (16:55): String parent = getElement(docel, \"parent\");  \nsdumitriu - (16:55): - \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (parent != null) {  \nsdumitriu - (16:55): + \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (!StringUtils.isEmpty(parent)) {  \nsdumitriu - (16:55): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0setParentReference(this.currentMixedDocumentReferenceResolver.resolve(parent));  \nsdumitriu - (16:55): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \nsdumitriu - (16:55): OK to fix it?  \nvmassol - (17:12): reading  \nvmassol - (17:13): sdumitriu: sounds good  \nChanServ left at 17:13 (shutting down  \nvmassol - (17:14): good catch  \nvmassol - (17:14): I'm leaving in a few minutes, can I let you make the change?  \nsdumitriu - (17:15): Yeo  \nsdumitriu - (17:15): Yep  \nsdumitriu - (17:16): Already committed to the local repo  \nsdumitriu - (17:16): Just waiting for a push  \nvmassol left at 17:20 (Quit: vmassol  \nflaviusolaru1 joined #xwiki at 18:42  \nflaviusolaru left at 18:45 (Ping timeout: 258 seconds  \nflaviusolaru joined #xwiki at 19:29  \nflaviusolaru1 left at 19:30 (Ping timeout: 256 seconds  \nA-Kaser left at 19:59 (Quit: \"Soyons r\u00e9alistes, exigeons l'impossible.\" Ch\u00e9 Guevara  \nflaviusolaru left at 20:20 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 20:32  \nCalebJamesDeLisl left at 20:46 (Quit: CalebJamesDeLisl  \nmflorea left at 21:39 (Quit: Leaving.  \nsdumitriu left at 22:19 (Quit: Leaving.  \nsdumitriu joined #xwiki at 22:19  \nflorinciu left at 23:52 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 23:52  \nflorinciu left at 23:55 (\\*.net \\*.split  \nnuvolari left at 23:55 (\\*.net \\*.split  \nsdumitriu left at 23:55 (\\*.net \\*.split  \nxipe left at 23:55 (\\*.net \\*.split  \nlucaa left at 23:55 (\\*.net \\*.split  \nSvenDowideit left at 23:56 (\\*.net \\*.split  \nnpm left at 23:56 (\\*.net \\*.split  \nflorinciu joined #xwiki at 23:59  \nlucaa joined #xwiki at 23:59  \nnpm joined #xwiki at 23:59  \nSvenDowideit joined #xwiki at 23:59  \n\n"}