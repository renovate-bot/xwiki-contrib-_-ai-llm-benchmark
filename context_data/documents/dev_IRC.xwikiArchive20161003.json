{"id": "dev:IRC.xwikiArchive20161003", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20161003", "title": "IRC Archive for channel #xwiki on 03 October 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis1>\u00a0has joined #xwiki  \n00:06\u00a0<Denis>\u00a0has quit  \n02:46\u00a0<boubou>\u00a0has quit  \n02:54\u00a0<boubou>\u00a0has joined #xwiki  \n03:11\u00a0<jonesmeier>\u00a0has quit  \n03:12\u00a0<jonesmeier>\u00a0has joined #xwiki  \n07:57\u00a0<msmeria>\u00a0has joined #xwiki  \n08:11\u00a0<xwikiorg\\_guest\\_2>\u00a0hi there, I messed up my default Global rights of wikiallusergroup and everybody is able to administer wiki, what are the defaults?  \n08:23\u00a0<vmassol>\u00a0has joined #xwiki  \n08:43\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:02\u00a0<xwikiorg\\_guest\\_2>\u00a0is it possible for xwikiallgroup rights to affect users that are not in that group?  \n09:04\u00a0<xwikiorg\\_guest\\_2>\u00a0If I take out programming right in xwikiallgroup my administration right goes off in the admin user, and it's not in xwikiallgroup  \n09:05\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:21\u00a0<Pbas>\u00a0vmassol : about your nice \"Custom Release Notes\": I have no idea now, I need some data to test. :-) But about ui: \"with screenshot\" or \"Without Screenshots\" must be enabled when page is loaded  \n09:22\u00a0<vmassol>\u00a0Hi Pbas  \n09:22\u00a0<Pbas>\u00a0good morning  \n09:22\u00a0<vmassol>\u00a0there are data on xwiki.org  \n09:23\u00a0<vmassol>\u00a0actually if you installed it locally I'm also providing a demo app with content :)  \n09:23\u00a0<vmassol>\u00a0\"\"with screenshot\" or \"Without Screenshots\" must be enabled when page is loaded\" not sure what you mean  \n09:23\u00a0<vmassol>\u00a0it's not selected voluntarily  \n09:23\u00a0<Pbas>\u00a0versions field, is it xwiki version?  \n09:23\u00a0<vmassol>\u00a0(by default)  \n09:24\u00a0<vmassol>\u00a0here http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ ?  \n09:24\u00a0<vmassol>\u00a0yes those are xwiki versions  \n09:24\u00a0<Pbas>\u00a0I mean it is radio button and when the page is loaded, no one is enabled  \n09:24\u00a0<Pbas>\u00a0You must enabled one by default IMO  \n09:24\u00a0<vmassol>\u00a0I don't underdtsnad  \n09:24\u00a0<vmassol>\u00a0I've just tried it and it works fine  \n09:25\u00a0<vmassol>\u00a0when I don't fill any field and click \"generate\"  \n09:25\u00a0<vmassol>\u00a0I get  \n09:25\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/Code/Report?action=report&displayer=grid&products=&versions=&categories=&audience=&importance=  \n09:25\u00a0<vmassol>\u00a0which shows BOTH  \n09:25\u00a0<vmassol>\u00a0changes with screenshots  \n09:25\u00a0<vmassol>\u00a0AND  \n09:25\u00a0<vmassol>\u00a0changes without scnreeshots  \n09:26\u00a0<vmassol>\u00a0now, I need to change the input indeed  \n09:26\u00a0<vmassol>\u00a0since once you click a radio you cannot unselect it  \n09:26\u00a0<Pbas>\u00a0It it is \"xwiki versions\" then a list will be welcome  \n09:26\u00a0<vmassol>\u00a0and I need 3 states  \n09:26\u00a0<vmassol>\u00a0it's autocomplete  \n09:26\u00a0<vmassol>\u00a0:)  \n09:26\u00a0<Pbas>\u00a0About radio button: I tested with konqueror and chromium  \n09:27\u00a0<vmassol>\u00a0I'll fix the radio buttons  \n09:27\u00a0<Pbas>\u00a0thxs with ff same problem  \n09:28\u00a0<Pbas>\u00a0Waht's Audience?  \n09:28\u00a0<Pbas>\u00a0Maybe a tooltip will be welcome for fields?  \n09:28\u00a0<Pbas>\u00a0with bootstrap  \n09:29\u00a0<vmassol>\u00a0ok I understand the problem  \n09:29\u00a0<vmassol>\u00a0if you go to :  \n09:29\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/Data/  \n09:29\u00a0<vmassol>\u00a0you'll better understand I think  \n09:29\u00a0<vmassol>\u00a0hmm I called it Tagrte in the LT ;)  \n09:30\u00a0<vmassol>\u00a0\\*Target  \n09:30\u00a0<vmassol>\u00a0need to fix this  \n09:30\u00a0<Pbas>\u00a0yes, I understand better with /Data page  \n09:32\u00a0<vmassol>\u00a0I guess I could either  \n09:32\u00a0<vmassol>\u00a01) link to that page instead of shwing the form  \n09:32\u00a0<vmassol>\u00a02) or show the changes LT on the home  \n09:34\u00a0<Pbas>\u00a0Personaly, I prefere actual page  \n09:34\u00a0<vmassol>\u00a0option 1?  \n09:34\u00a0<Pbas>\u00a0but my first impression is: \"what I suppose to file in this different field\"  \n09:35\u00a0<Pbas>\u00a0I like LT on ReleaseNotes page  \n09:35\u00a0<vmassol>\u00a0so option 2 I guess  \n09:35\u00a0<vmassol>\u00a0:)  \n09:35\u00a0<Pbas>\u00a0yes  \n09:36\u00a0<Pbas>\u00a0but it is my first impression : when I discovere your page  \n09:36\u00a0<vmassol>\u00a0yes that's good feedback  \n09:37\u00a0<vmassol>\u00a0tmortagne: would be nice to check why some extension pages are modified every night  \n09:37\u00a0<vmassol>\u00a0the watchlist report changes but without showing any diff  \n09:37\u00a0<vmassol>\u00a0and I highly doubt that those extensions were modified over teh week end  \n09:37\u00a0<tmortagne>\u00a0vmassol: yes I saw, It's the first item in my TODO list  \n09:37\u00a0<vmassol>\u00a0k cool  \n09:38\u00a0<tmortagne>\u00a0\"without showing any diff\" is not exactly true, it's listing stuff about objects  \n09:38\u00a0<vmassol>\u00a0we need to improve the diff too  \n09:38\u00a0<vmassol>\u00a0it's not showing a diff  \n09:38\u00a0<tmortagne>\u00a0it's not a diff but it indicate something changed  \n09:38\u00a0<vmassol>\u00a0basically it's impossible to understand what's been modified  \n09:39\u00a0<vmassol>\u00a0from a user POV it's not correct  \n09:39\u00a0<vmassol>\u00a0because it says for example  \n09:39\u00a0<vmassol>\u00a0\"description:\"  \n09:39\u00a0<vmassol>\u00a0and then nothing below  \n09:39\u00a0<vmassol>\u00a0which is not correct from a user pov  \n09:40\u00a0<vmassol>\u00a0all I'm saying is that we have 2 places to check/fix:  \n09:40\u00a0<vmassol>\u00a01) the extension scheduler job  \n09:40\u00a0<vmassol>\u00a02) improve the diff  \n09:41\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:49\u00a0<tmortagne>\u00a0about the diff we already have an issue about it, first thing is to use the new diff in watchlist since it's still using it's own old diff AFAIK  \n09:59\u00a0<evalica>\u00a0has joined #xwiki  \n10:00\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:06\u00a0<DarkKnightCZ>\u00a0has quit  \n10:24\u00a0<Slashman>\u00a0has joined #xwiki  \n10:25\u00a0<Trefex\\_>\u00a0has quit  \n10:25\u00a0<Trefex>\u00a0has joined #xwiki  \n10:49\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n10:56\u00a0<mflorea>\u00a0has joined #xwiki  \n11:07\u00a0<vmassol>\u00a0ok I need to fix the release app :)  \n12:15\u00a0<DarkKnightCZ>\u00a0has quit  \n12:35\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:26\u00a0<vmassol>\u00a0Pbas: what do you call the annotation editor?  \n13:27\u00a0<Pbas>\u00a0It is the menu to add an annotation  \n13:27\u00a0<vmassol>\u00a0what menu?  \n13:27\u00a0<vmassol>\u00a0a menu is not an editor  \n13:27\u00a0<Pbas>\u00a0here: https://snag.gy/3dxoIK.jpg  \n13:28\u00a0<vmassol>\u00a0yes this is wiki syntax  \n13:28\u00a0<vmassol>\u00a0always been  \n13:28\u00a0<Pbas>\u00a0What I mean it: annotation doesn't work when FSKeditor is default editor  \n13:28\u00a0<vmassol>\u00a0what doesn't work?  \n13:28\u00a0<vmassol>\u00a0this is not controlled by the config  \n13:28\u00a0<Pbas>\u00a0Like my screenshot (and confirm with other user on xwiki list)  \n13:28\u00a0<vmassol>\u00a0as I said it's always been a plain text textarea  \n13:29\u00a0<vmassol>\u00a0so maybe you'd like an improvement  \n13:29\u00a0<Pbas>\u00a0when I add an annotaion: HTML code is in the input field  \n13:29\u00a0<vmassol>\u00a0always?  \n13:29\u00a0<vmassol>\u00a0let me try it locally  \n13:29\u00a0<vmassol>\u00a0that's different  \n13:29\u00a0<vmassol>\u00a0(not related to editor)  \n13:29\u00a0<Pbas>\u00a0excpet if I use text editor in user pref  \n13:30\u00a0<vmassol>\u00a0hmm  \n13:30\u00a0<Pbas>\u00a0I didn't mange to reproduce the problem on jetty package  \n13:30\u00a0<vmassol>\u00a0ok I'll check the code  \n13:30\u00a0<vmassol>\u00a0but AFAIR it's always been plain text  \n13:30\u00a0<Pbas>\u00a0bu on my upgraded xwiki I have this problem  \n13:30\u00a0<vmassol>\u00a0works fine for me indeed  \n13:31\u00a0<Pbas>\u00a0on xwiki list Mario encoutered same problem  \n13:32\u00a0<vmassol>\u00a0could you create a jira issue?  \n13:33\u00a0<Pbas>\u00a0sure  \n13:33\u00a0<vmassol>\u00a0ah it's easy to reproduce  \n13:33\u00a0<vmassol>\u00a0on playground  \n13:33\u00a0<vmassol>\u00a0for ex on http://playground.xwiki.org/xwiki/bin/view/Sandbox/  \n13:33\u00a0<Pbas>\u00a0ha cool :-)  \n13:35\u00a0<vmassol>\u00a0indeed it doesn't reproduce on hsqldb/jetty for 8.2.1  \n13:36\u00a0<vmassol>\u00a0could be related to the upgrade then  \n13:36\u00a0<Pbas>\u00a0yep  \n13:36\u00a0<vmassol>\u00a0trying an upgrade locally  \n13:36\u00a0<Pbas>\u00a0probably JS bug introduce with GCKEditor  \n13:38\u00a0<vmassol>\u00a0I don't understand why you keep mentioning the relation with CKEditor :)  \n13:39\u00a0<vmassol>\u00a0I don't see it on my side  \n13:39\u00a0<Pbas>\u00a0becasue annotation workin well if I deactivate wysiwig editor in user pref  \n13:39\u00a0<vmassol>\u00a0\u00a0I think that's what I have on xwiki.org for my user  \n13:39\u00a0<vmassol>\u00a0and I still got the issue  \n13:39\u00a0<vmassol>\u00a0checking  \n13:40\u00a0<vmassol>\u00a0hmm no I don't force the editor  \n13:40\u00a0<vmassol>\u00a0trying no  \n13:40\u00a0<vmassol>\u00a0\\*now  \n13:40\u00a0<vmassol>\u00a0indeed :)  \n13:41\u00a0<Pbas>\u00a0me neither I don't understand the relation  \n13:41\u00a0<Pbas>\u00a0except JS code  \n13:41\u00a0<vmassol>\u00a0so mus thave been caused by some refactoring mflorea did  \n13:41\u00a0<vmassol>\u00a0\\*must  \n13:41\u00a0<vmassol>\u00a0(when he introduced the changes aroudn wysiwyg editors)  \n13:42\u00a0<vmassol>\u00a0finishing my upgrade test now  \n13:42\u00a0<vmassol>\u00a0\u00a0s/must have/could have  \n13:45\u00a0<Pbas>\u00a0Here you are: http://jira.xwiki.org/browse/XWIKI-13757 :-)  \n13:45\u00a0<vmassol>\u00a0thanks  \n13:46\u00a0<Pbas>\u00a0no, thxs to you  \n13:46\u00a0<vmassol>\u00a0duplicate already?  \n13:46\u00a0<vmassol>\u00a0mflorea: ok what issue?  \n13:46\u00a0<vmassol>\u00a0s/ok/of  \n13:46\u00a0<mflorea>\u00a0linked  \n13:46\u00a0<Pbas>\u00a0ho crap! I'm to slow  \n13:46\u00a0<vmassol>\u00a0hmmm  \n13:47\u00a0<vmassol>\u00a0you say it's fixed in 8.2.1 mflorea  \n13:47\u00a0<vmassol>\u00a0but I can rpreproduce on playground.xwiki.org  \n13:47\u00a0<vmassol>\u00a0which is 8.2.1  \n13:47\u00a0<vmassol>\u00a0(FTR I don't have any spinner)  \n13:47\u00a0<Pbas>\u00a0Yes I have one  \n13:48\u00a0<Pbas>\u00a0but on 8.2.1  \n13:48\u00a0<vmassol>\u00a0ah yes  \n13:48\u00a0<vmassol>\u00a0htere's one but you can still edit  \n13:49\u00a0<vmassol>\u00a0mflorea: could it have been fixed for 8.2.2 and not 8.2.1?  \n13:49\u00a0<mflorea>\u00a0you can reproduce on 8.4 too if you set the wrong value editor meta prop of the annotation text area prop  \n13:50\u00a0<vmassol>\u00a0ok so it's not fixed yet, right?  \n13:50\u00a0<vmassol>\u00a0we still need an issue and fix it  \n13:50\u00a0<vmassol>\u00a0because on xwiki.org it's still thre  \n13:50\u00a0<vmassol>\u00a0(and xwiki.org is on 8.2.1)  \n13:53\u00a0<vmassol>\u00a0hmm 8.2.1 was released on 29 july according to http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/#|t=plans&p=1&l=15&s=releaseDate&d=desc&version=8.2.1  \n13:53\u00a0<vmassol>\u00a0and I see marius''s fix on the 8.2.x branch was on the 28 july  \n13:53\u00a0<vmassol>\u00a0so it should have been in 8.2.1  \n13:53\u00a0<vmassol>\u00a0now we need to understand why xwiki.org not working then  \n13:53\u00a0<vmassol>\u00a0mflorea: ?  \n13:55\u00a0<mflorea>\u00a0I fixed it for the clean install, you fix it for upgrades with http://jira.xwiki.org/browse/XWIKI-13647  \n13:55\u00a0<mflorea>\u00a0https://github.com/xwiki/xwiki-platform/commit/dc2ae27469957d9d93d01005f9f9a66450892c6c  \n13:56\u00a0<vmassol>\u00a0ah ok I understand  \n13:56\u00a0<vmassol>\u00a0I guess I need to backport this to 8.2.x branch now for 8.2.2  \n13:56\u00a0<vmassol>\u00a0commenting on the issue  \n13:59\u00a0<vmassol>\u00a0doing the backport now  \n14:00\u00a0<acotiuga>\u00a0has joined #xwiki  \n14:01\u00a0<vmassol>\u00a0done  \n14:02\u00a0<Pbas>\u00a0Can I fix my 8.2.1 version?  \n14:02\u00a0<vmassol>\u00a0hold on  \n14:02\u00a0<vmassol>\u00a0I'm working on that  \n14:02\u00a0<vmassol>\u00a0:)  \n14:02\u00a0<Pbas>\u00a0oups sorry :-)  \n14:06\u00a0<DarkKnightCZ>\u00a0has quit  \n14:10\u00a0<xwikiorg\\_guest\\_2>\u00a0has quit  \n14:12\u00a0<vmassol>\u00a0Pbas: tested and documented at http://jira.xwiki.org/browse/XWIKI-13757?focusedCommentId=92815&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-92815  \n14:13\u00a0<Pbas>\u00a0delete and recreate! wow magic  \n14:13\u00a0<Pbas>\u00a0ty  \n14:14\u00a0<vmassol>\u00a0for all subwikis\u2026.  \n14:14\u00a0<vmassol>\u00a0now we need to do that on xwiki.org and restart....  \n14:19\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:19\u00a0<Pbas>\u00a0just applied: it's work :)  \n14:26\u00a0<DarkKnightCZ>\u00a0has quit  \n15:09\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n15:28\u00a0<DarkKnightCZ>\u00a0has quit  \n15:33\u00a0<tmortagne>\u00a0restarting xwiki.org in10 minutes  \n15:48\u00a0<vmassol>\u00a0restarting in 1mn  \n15:55\u00a0<vmassol>\u00a0test  \n15:56\u00a0<vmassol>\u00a0seems to be back to normal  \n15:56\u00a0<vmassol>\u00a0not sure what those errors are, it seems they only when the wiki is first accessed  \n15:56\u00a0<vmassol>\u00a0and then they go away  \n16:03\u00a0<vmassol>\u00a0FTR the error in catalina.out: https://gist.githubusercontent.com/vmassol/45f529fb9cb6eec006a279d567d46c36/raw/28372b55c0274063429b7f0412c070b514d4c9f0/gistfile1.txt  \n16:35\u00a0<tmortagne>\u00a0restarting xwiki.org in 10 minutes  \n16:37\u00a0<vmassol>\u00a0again :)  \n16:47\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:48\u00a0<vmassol>\u00a0hmmm hard to understand the consequences\u2026 it may cause impl of XWikiURLFactory to fail...  \n16:52\u00a0<vmassol>\u00a0this is a more general problem for any listener listening to doc changes  \n16:53\u00a0<vmassol>\u00a0since for mandatory classes the wiki is not fully initialized yet  \n16:53\u00a0<vmassol>\u00a0so those listeners could fail because of that  \n16:55\u00a0<vmassol>\u00a0tmortagne: I'd be curious to know what you think about this  \n16:57\u00a0<tmortagne>\u00a0vmassol: I think that we need a proper component to create URLs instead of some mojo in the context  \n16:58\u00a0<vmassol>\u00a0yes but it's not just that  \n16:58\u00a0<vmassol>\u00a0for example prepareDocuments() has not been called yet  \n16:58\u00a0<tmortagne>\u00a0vmassol: why do we you need prepareDocument to create an URL?  \n16:59\u00a0<vmassol>\u00a0I'm talking about listeners in general  \n16:59\u00a0<vmassol>\u00a0(not the irc bot one)  \n16:59\u00a0<vmassol>\u00a0ie listeners that will get triggered when a madantory doc is saved  \n17:00\u00a0<tmortagne>\u00a0I'm talking about how to create URL in general in listener or not  \n17:00\u00a0<vmassol>\u00a0yes and we know what we want to do for this already, nothing new  \n17:01\u00a0<tmortagne>\u00a0i.e. we should have a component that does not depend on a context to be fully there to create URLs  \n17:01\u00a0<vmassol>\u00a0sure, I already said I agree to this  \n17:01\u00a0<tmortagne>\u00a0that's fixing your issue with listeners  \n17:01\u00a0<vmassol>\u00a0no  \n17:01\u00a0<vmassol>\u00a0it's only fixinf the issue with createing a URL  \n17:02\u00a0<vmassol>\u00a0there remains all the other cases that could be caused by the init not being finished for that wiki  \n17:03\u00a0<tmortagne>\u00a0vmassol: IMO it's a case by case, you cannot really fine a magical solution which allow a listener do do anything. When the database is not fully initialized, it's not fully ready.  \n17:03\u00a0<tmortagne>\u00a0s/fine/find/  \n17:04\u00a0<vmassol>\u00a0one easy but not nice solution would be to not call listeners for mandatory class updates at startup  \n17:04\u00a0<vmassol>\u00a0ie only call listeners when the init is finished  \n17:04\u00a0<vmassol>\u00a0now it would prevent listenrs like the irc bot to report a change on a page which is not nice  \n17:05\u00a0<vmassol>\u00a0maybe there are not so many use cases, I dn't know  \n17:06\u00a0<vmassol>\u00a0we just found one with the urlfactory which I'm going to protect against in the ircbot listener but all listeners code that listen to docs and generate urls will fail unless they have some protection too  \n17:06\u00a0<vmassol>\u00a0(actually the ircbot already had a general protection but I'm going to improve it)  \n17:06\u00a0<vmassol>\u00a0anyway, I don't see a good generic answer right now  \n17:07\u00a0<vmassol>\u00a0since blocking listeners before init is finished is not that nice  \n17:09\u00a0<vmassol>\u00a0for example any call to xcontext.getXWiki() will fail  \n17:10\u00a0<acotiuga>\u00a0has quit  \n17:11\u00a0<vmassol>\u00a0actually it won't  \n17:11\u00a0<vmassol>\u00a0(just checked the code)  \n17:11\u00a0<vmassol>\u00a0hmm depends  \n17:12\u00a0<vmassol>\u00a0yes for the main wiki it should fail  \n17:23\u00a0<vmassol>\u00a0big commit :)  \n17:23\u00a0<vmassol>\u00a0nice mflorea  \n17:23\u00a0<vmassol>\u00a0now let's hope it won't fail somewhere when you're away!  \n17:24\u00a0<mflorea>\u00a0it didn't break anything on master so I hope it won't break anything on 7.4.x, I'll check as soon as the build finishes on CI  \n17:26\u00a0<mflorea>\u00a0vmassol: I can look at the xwiki.org watchlist diff in the mean time  \n17:27\u00a0<vmassol>\u00a0hey, you're on steroids! :)  \n17:27\u00a0<mflorea>\u00a0:)  \n17:27\u00a0<vmassol>\u00a0(that would be nice for the watchlist diff)  \n17:27\u00a0<vmassol>\u00a0(unless tmortagne is on it)  \n17:28\u00a0<tmortagne>\u00a0I'm on nothing in particular right now, debugging failure in ci.xwiki.org  \n17:29\u00a0<mflorea>\u00a0I'm only planning to look at the strange diff that you have reported, do you remember which page was involved?  \n17:33\u00a0<tmortagne>\u00a0mflorea: see mail \"XWiki updates, 11 pages have been modified since 2016/10/02\" on notification mailing list  \n17:33\u00a0<vmassol>\u00a0mflorea: there are 2 topics  \n17:34\u00a0<vmassol>\u00a0topic 1: the first watchlist mail after thomas fixed it (not counting his test)  \n17:34\u00a0<vmassol>\u00a0topic 2: the d\"empty\" diffs  \n17:34\u00a0<tmortagne>\u00a0but in this specific case the issue the weird diff is probably been caused by the extension updater ending up with a XWikiDocument modified in the context but not saved  \n17:36\u00a0<vmassol>\u00a0mflorea: I think it's this one: http://markmail.org/message/ea3lpegaxkcvqvdw  \n17:37\u00a0<vmassol>\u00a0(but the html version)  \n17:46\u00a0<mflorea>\u00a0vmassol: re topic 2, if by empty diff you mean the fact that the watchlist mail contains only \"On 2016/10/02, the page has been modified by Admin\" without the actual change then it is because there is not change between those versions. You can reproduce this easily locally. Create a page then save it again without any change. Compare the versions and you'll see \"No changes\"  \n17:47\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:47\u00a0<mflorea>\u00a0there are two issues here: (1) those pages are saved without any change (probably http://jira.xwiki.org/browse/XWIKI-13756 ) and (2) the watchlist list should display \"No changes\" when there are no changes  \n17:51\u00a0<vmassol>\u00a0mflorea: my issue with the \"empty\" notifs  \n17:51\u00a0<vmassol>\u00a0is that the watchlist displays the name of the property followed by a colon and then nothing below  \n17:51\u00a0<vmassol>\u00a0for example:  \n17:52\u00a0<mflorea>\u00a0ok, as in http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/?viewer=changes&rev1=29.24&rev2=29.29  \n17:52\u00a0<vmassol>\u00a0nopr  \n17:52\u00a0<vmassol>\u00a0nope  \n17:52\u00a0<vmassol>\u00a0this is ok  \n17:52\u00a0<mflorea>\u00a0there's a ? after the property name  \n17:52\u00a0<mflorea>\u00a0look at Compatibility and Description  \n17:53\u00a0<mflorea>\u00a0sorry, info icon not ?  \n17:53\u00a0<vmassol>\u00a0yes maybe it's the same  \n17:53\u00a0<vmassol>\u00a0excet that in the url you gave  \n17:53\u00a0<vmassol>\u00a0it's at least not putting \":\" without anything and providing an icon with a hover message  \n17:53\u00a0<mflorea>\u00a0sure, but \u00a0the watchlist has its own code for displaying the diff  \n17:54\u00a0<vmassol>\u00a0sure  \n17:54\u00a0<vmassol>\u00a0I'm just raising the issue from a user pov  \n17:54\u00a0<vmassol>\u00a0ie from a usability pov  \n17:55\u00a0<vmassol>\u00a0mflorea: https://www.evernote.com/l/AHdalWDG3BJF1r\\_2FwMWHf8DECaaF0xxLnU  \n17:55\u00a0<vmassol>\u00a0(this is what I meant)  \n17:55\u00a0<vmassol>\u00a0I don't know if in this case it's becuase of line ending changes or somethinf else though  \n17:56\u00a0<mflorea>\u00a0yes  \n17:56\u00a0<mflorea>\u00a0it's the same  \n17:57\u00a0<mflorea>\u00a0IMO the watchlist diff display should be improved to (1) not show the page at all if there are no changes and (2) not show the property if there are not significant changes (not just line endings)  \n17:57\u00a0<vmassol>\u00a0it's still interesting to know if a page has been modified  \n17:57\u00a0<vmassol>\u00a0because it'll change the author  \n17:58\u00a0<vmassol>\u00a0and that could break stuff  \n17:58\u00a0<vmassol>\u00a0so as a wiki gardener of xwiki.org, I'd still like to see all the saves  \n17:58\u00a0<mflorea>\u00a0indeed, that's a use case where this info is useful  \n17:59\u00a0<mflorea>\u00a0so then it should display \"No changes\", like in the dedicated diff view  \n18:01\u00a0<vmassol>\u00a0and if the change is only in line endings it should say so too  \n18:01\u00a0<mflorea>\u00a0is there a way to view the watchlist diff without sending the mail, i.e. a web-view, a URL with some parameters to specify the date  \n18:01\u00a0<vmassol>\u00a0s/only//  \n18:01\u00a0<vmassol>\u00a0not that I know of  \n18:02\u00a0<vmassol>\u00a0I don't think there's one  \n18:02\u00a0<vmassol>\u00a0Enygma` should know better probably  \n18:02\u00a0<mflorea>\u00a0that would be nice for debugging but also as a feature, in case you loose the mail (you delete it)  \n18:02\u00a0<mflorea>\u00a0it's basically a way to view the changes across multiple pages  \n18:03\u00a0<mflorea>\u00a0between some specified dates  \n18:03\u00a0<vmassol>\u00a0indeed  \n18:15\u00a0<Enygma`>\u00a0vmassol, mflorea: nope, we don`t have that. It would have to have the date and the user (since each user watched different pages) and there`s always the risk of the watchlist changing so you can`t really show the watchlist for an older date unless either 1) the watchlist did not change (i.e. list of watched pages) or 2) you store the user`s entire watchlist in the request (which is not nice or feasible) or 3) you store each computed watchlist, for each interva  \n18:22\u00a0<sorinello>\u00a0has quit  \n18:28\u00a0<sorinello>\u00a0has joined #xwiki  \n18:33\u00a0<vmassol>\u00a0tmortagne: another problem: the current author seems not set yet when listener executes for mandatory classes\u2026  \n18:34\u00a0<tmortagne>\u00a0vmassol: I guess the authenticator is called later  \n18:34\u00a0<vmassol>\u00a0I think it's chckAccess()  \n18:34\u00a0<tmortagne>\u00a0(which make sense, it needs a database fully ready usually)  \n18:34\u00a0<vmassol>\u00a0hmm maybe not  \n18:34\u00a0<tmortagne>\u00a0yes checkAccess is what calls the authenticator  \n18:35\u00a0<vmassol>\u00a0so the ircbot gets null and thinks it's the guest user :)  \n18:35\u00a0<tmortagne>\u00a0why do you need the current user ?  \n18:35\u00a0<vmassol>\u00a0\"commons:XWiki.XWikiComments was created by Guest - ...\"  \n18:35\u00a0<tmortagne>\u00a0you should use the document author  \n18:36\u00a0<tmortagne>\u00a0those classes were not created by the current user anyway  \n18:36\u00a0<vmassol>\u00a0yes indeed, not sure why I have the current user, I don't remember  \n18:36\u00a0<vmassol>\u00a0maybe there were some dcos without author before (seems unlikely)  \n18:37\u00a0<vmassol>\u00a0fixing  \n18:46\u00a0<mflorea>\u00a0has quit  \n18:49\u00a0<gdelhumeau>\u00a0has quit  \n18:59\u00a0<vmassol>\u00a0maybe an issue is when deleting doc and the author is not set  \n18:59\u00a0<vmassol>\u00a0in this case we may need to use the context author  \n18:59\u00a0<vmassol>\u00a0(tmortagne)  \n19:01\u00a0<vmassol>\u00a0I think that's why I was using the context author at the time  \n19:01\u00a0<vmassol>\u00a0so I'll need to have 2 strategies depending on the actin  \n19:04\u00a0<tmortagne>\u00a0vmassol: for deleted document sure but only for those  \n19:04\u00a0<vmassol>\u00a0yep  \n19:04\u00a0<tmortagne>\u00a0but even for those it might not always be accurate  \n19:04\u00a0<tmortagne>\u00a0just don't have any other information  \n19:04\u00a0<vmassol>\u00a0yep  \n19:04\u00a0<vmassol>\u00a0but that's the best we can do I guess  \n19:27\u00a0<evalica>\u00a0has quit  \n19:29\u00a0<Enygma`>\u00a0has quit  \n19:36\u00a0<tmortagne>\u00a0has quit  \n19:38\u00a0<Slashman>\u00a0has quit  \n19:40\u00a0<Slashman>\u00a0has joined #xwiki  \n21:20\u00a0<Chuguniy>\u00a0has joined #xwiki  \n21:58\u00a0<Slashman>\u00a0has quit  \n22:03\u00a0<xwikibot>\u00a0has joined #xwiki  \n22:18\u00a0<vmassol>\u00a0has quit  \n22:28\u00a0<Chuguniy>\u00a0has quit  \n22:34\u00a0<barretto>\u00a0has joined #xwiki  \n22:37\u00a0<barretto>\u00a0hi guys! I have a question which concerns how to use the #xwikiSelect using $options that are generated programatically. I've already understood that it uses a JSON in order to render options correctly. I'm trying to generate a JSON using $json.generate but I get nothing.  \n22:38\u00a0<barretto>\u00a0For example, trying to get a simple JSON like  \n22:38\u00a0<barretto>\u00a0#set($mymap = $contents.getEmptyMap()) #set($dummy = $mymap.put('name','Name 1')) #set($myjson = $json.generate($mymap)) \u00a0$myjson  \n22:38\u00a0<barretto>\u00a0doesnt print anything  \n22:52\u00a0<DarkKnightCZ>\u00a0has quit  \n23:22\u00a0<barretto>\u00a0i've managed to assemble a JSON the hardway. It seems $json and $context weren't available so I've used something like #set($all = []) #set($mymap = {}) #set($opts = []) #set($opt = {}) and then $opt.put('name','name 1')) #set($dummy = $opts.add($opt)) #set($dummy = $mymap.put('options',$opts)) #set ($dummy = $all.add($mymap))  \n23:36\u00a0<barretto>\u00a0well, next question is: I have a page which contains multiple objects of the same class. By default, the first object is shown. I've managed to create a xwiki select that shows the objects attached to that page. Now, I need to read the selected object so I can render the correct information (maybe using $doc.use). I'm thinkg about using JQuery to listen to select update events and then change the current displayed object (although\u00a0\n"}