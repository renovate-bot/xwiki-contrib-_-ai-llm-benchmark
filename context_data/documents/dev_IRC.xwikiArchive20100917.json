{"id": "dev:IRC.xwikiArchive20100917", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100917", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\njvdrean joined #xwiki at 00:14  \njvdrean left at 00:14 (Client Quit  \nbblfish joined #xwiki at 00:24  \nphancox joined #xwiki at 00:28  \nfmancinelli left at 00:31 (Ping timeout: 276 seconds  \nbblfish left at 00:53 (Quit: Leaving.  \nbblfish joined #xwiki at 00:54  \nbblfish left at 00:58 (Ping timeout: 245 seconds  \nMartinCleaver left at 03:09 (Quit: MartinCleaver  \nabusenius left at 04:08 (Ping timeout: 265 seconds  \nsdumitriu left at 05:27 (Ping timeout: 240 seconds  \nvenkatesh joined #xwiki at 06:09  \nvenkatesh left at 06:09 (Client Quit  \nvenkatesh joined #xwiki at 06:10  \nmflorea joined #xwiki at 07:16  \nvmassol joined #xwiki at 07:20  \nvmassol left at 07:29 (Quit: Leaving.  \nasrfel joined #xwiki at 08:07  \nflorinciu joined #xwiki at 08:12  \nsilviar joined #xwiki at 08:24  \ntmortagne joined #xwiki at 08:26  \ndtrog joined #xwiki at 08:42  \nsdumitriu joined #xwiki at 08:55  \nlpereira joined #xwiki at 09:14  \nsilviar left at 09:20 (Quit: Leaving.  \nsilviar joined #xwiki at 09:24  \nsburjan joined #xwiki at 09:27  \nlucaa joined #xwiki at 09:46  \nsburjan - (09:52): cjdelisle, : ping  \nlucaa left at 09:55 (Ping timeout: 240 seconds  \nlucaa joined #xwiki at 10:00  \nsburjan - (10:01): sdumitriu, : ping  \ndtrog left at 10:01 (Quit: dtrog  \ndtrog joined #xwiki at 10:05  \ntmortagne - (10:07): cjdelisle: looks like you broke some tests on core with XWIKI-5503  \ntmortagne - (10:08): see http://hudson.xwiki.org/job/xwiki-platform-core/com.xpn.xwiki.platform$xwiki-core/6366/testReport/  \ncjdelisle - (10:08): ahh thankyou.  \ncjdelisle - (10:08): I'll be awayish today, got the new computer running and next is put on the OS.  \nsburjan - (10:10): okay :) good luck  \njvdrean joined #xwiki at 10:21  \njvdrean left at 10:22 (Client Quit  \njvdrean joined #xwiki at 10:26  \nfmancinelli joined #xwiki at 10:30  \njvdrean left at 10:31 (Client Quit  \nkwoot joined #xwiki at 10:47  \nkwoot - (10:48): simple question but I don't succeed; how can I display the current username in a pagelink so I can redirect them to their own personal page?  \njvdrean joined #xwiki at 10:49  \ncjdelisle - (10:51): kwoot: You can get the user's name here http://maven.xwiki.org/site/xwiki-core-parent/xwiki-core/apidocs/com/xpn/xwiki/api/Context.html  \ncjdelisle - (10:51): and you can format it with this http://maven.xwiki.org/site/xwiki-core-parent/xwiki-core/apidocs/com/xpn/xwiki/api/XWiki.html  \nkwoot - (10:53): Well, yes. You are probable right (if I was a programmer) :-) Unfortunately I am currently looking for a velocity solution. But I don apreciate your effort.  \nkwoot - (10:53): DO apreciate, DO! :-)  \nsdumitriu - (10:54): That is almost velocity  \nsdumitriu - (10:54): The object is $context, and any method in there can be called  \nsdumitriu - (10:55): So $context.getUser()  \nsdumitriu - (10:55): For the second class, the object is $xwiki  \nztane left at 10:55 (Ping timeout: 240 seconds  \nsdumitriu - (10:56): And the formatting method is getUserName  \nsdumitriu - (10:56): So, $xwiki.getUserName($context.getUser())  \nkwoot - (10:57): Thank you so much. See, I am really new at Java, and I want to start Java programming by extending xwiki. But it'll take me some time to learn all the stuff I need to learn.  \nkwoot - (10:57): For the moment I'll concentrate on using xwiki to get to know it.  \ncjdelisle - (10:58): You might find this helpful, all of these functions are available to you in velocity http://platform.xwiki.org/xwiki/bin/view/DevGuide/Scripting  \nztane joined #xwiki at 10:59  \ncjdelisle - (11:02): debian ssh based install is pretty nice.  \nkwoot - (11:02): Thanks! Added this link to our howto macro page.  \ncjdelisle - (11:02): That has lots of links to the actual javadoc \"from the horse's mouth\" so to speak ;)  \nsburjan - (11:03): cjdelisle, : I found an inconsistency that you could fix when you will have the time. We'll talk monday or tomorrow when you finish with your computer  \ncjdelisle - (11:04): The computer will not be all touched up for at least a week ;) hipervisor and guest operating system. security security security...  \ncjdelisle - (11:04): Right now though it's shreading a partition so I have time to talk.  \nsburjan - (11:04): okay.  \nsburjan - (11:06): did you wrote some class that injects Applications settings into \"administer Wiki\" page ?  \ncjdelisle - (11:06): XWiki.Configurable?  \nsburjan - (11:06): I'm refering to ConfigurationClass  \ncjdelisle - (11:07): Yup that's it. Renamed at the last minute, still remember it as Configurable.  \nsburjan - (11:07): it creates a very small inconsistency in the Page DOM  \nsburjan - (11:07): try parsing with xpather the following expressions :  \nsburjan - (11:07): 1.//ul[@id='admin-icons']/li/a/span/img this would be the correct one  \nsburjan - (11:08): 2.//ul[@id='admin-icons']/li/a/img => this lists only Annotations, Search and Invitation  \nsburjan - (11:08): the span misses  \nsburjan - (11:08): everything works, it's just the DOM that's not consistent  \nsburjan - (11:08): I guess the fix should be very easy  \ncjdelisle - (11:08): I see, so it's not producing html exactly like it's predicessor.  \nsburjan - (11:08): yes  \nsburjan - (11:09): we can't parse \\*all\\* in the same way, uniformly, with the same expression  \ncjdelisle - (11:09): sure, that makes sense.  \ncjdelisle - (11:09): Do you have a timeframe when this needs to be done for? I have to mop up some tests I broke with dropPermissions  \nsburjan - (11:10): no hurry, I just wanted you to confirm, it doesn't break functionality.  \nsburjan - (11:10): so fix it anytime you want and have time  \nsburjan - (11:10): as long as you'll fix it some day :P  \ncjdelisle - (11:10): I trust you are correct. Please remember to bug me if I forget.  \nsburjan - (11:11): this is too minor to be reported on JIRA  \ncjdelisle - (11:11): In other news: ssi-eeb motherboards actually do fit in e-atx towers, you just have to drill 3 more holes in the tower :)  \nsburjan - (11:11): you're drilling holes in your pc-case ? :)  \ntmortagne - (11:12): sburjan: you could tag it as trivial on jira, if it should be fixed it should be on jira ;)  \ncjdelisle - (11:12): I have pictures of the tap sticking out of the hole.  \ntmortagne - (11:12): best way to not forget about it  \ncjdelisle - (11:12): +1  \nsburjan - (11:14): but first someone should confirm .. so in my noobness I won't file a inexisting issue  \nabusenius joined #xwiki at 11:15  \ncjdelisle - (11:15): no file it and if it's not real then we close as won't fix.  \ntmortagne - (11:15): cjdelisle: can always close it as won't fix or something  \nsburjan - (11:15): yeah  \nsburjan - (11:15): but don'teven know where to report this .. under what category  \ncjdelisle - (11:15): I have a couple of issues which I filed then discovered were no good and closed them.  \ncjdelisle - (11:16): XAADMINISTRATION  \nsburjan - (11:16): well this is god at least for consistency.  \nsburjan - (11:16): okay  \ncjdelisle - (11:16): (administration application)  \nsburjan - (11:16): I'll reporti it, and remind you to look on it on monday cjdelisle  \ncjdelisle - (11:17): Good policy.  \nsdumitriu - (11:17): sburjan: Yes, it's reproduced  \nsburjan - (11:17): and official news : the latest snapshot spits arund 5000 lines in console of stuff when I refresh  \nsburjan - (11:17): sdumitriu, : okay, I'll report  \ncjdelisle - (11:18): IMO need for mocking is a sign the dependency graph is a mess.  \nsdumitriu - (11:18): cjdelisle: ++  \nsburjan - (11:18): and any operation .. navigating, refreshing, spits a lot of things in console.  \nsburjan - (11:18): re-downloaded twice today's snapshot  \nsdumitriu - (11:18): sburjan: That's because the log4j.properties is somehow wrong  \nztane\\_\\_ joined #xwiki at 11:23  \nsburjan - (11:25): XAADMINISTRATION-168  \nsilviar left at 11:53 (Quit: Leaving.  \nlpereira left at 11:54 (Quit: Leaving.  \ndtrog left at 12:05 (Quit: dtrog  \nvenkatesh left at 12:05 (Ping timeout: 240 seconds  \nlpereira joined #xwiki at 12:10  \nflorinciu left at 12:17 (Read error: Connection reset by peer  \nabusenius left at 12:28 (Ping timeout: 265 seconds  \nflaviusolaru joined #xwiki at 12:30  \nmflorea left at 12:34 (Quit: Leaving.  \nvmassol joined #xwiki at 12:51  \nvmassol left at 12:51 (Client Quit  \ndtrog joined #xwiki at 13:21  \nvenkatesh joined #xwiki at 13:23  \nmflorea joined #xwiki at 13:37  \nvmassol joined #xwiki at 13:48  \nflaviusolaru left at 13:50 (Quit: Leaving.  \nvmassol left at 13:59 (Quit: Leaving.  \nabusenius joined #xwiki at 14:03  \nvenkatesh left at 14:07 (Ping timeout: 240 seconds  \nvmassol joined #xwiki at 14:11  \nvmassol left at 14:15 (Client Quit  \nflaviusolaru joined #xwiki at 14:17  \nphancox left at 14:19 (Quit: Leaving.  \nvenkatesh joined #xwiki at 14:21  \nsilviar joined #xwiki at 14:23  \nasrfel left at 14:24 (Quit: Leaving.  \nsburjan - (14:27): anyone with strong javascript skills around ?  \nkwoot - (14:29): This very likely simple thing is driving me nuts. I want to have a page that lists all the spaces (this is easy). I want all spacenames to be links (easy).  \nkwoot - (14:29): I want to view all pages within a space (easy) . I want to see a page with all the pages in a space when I click on the space name. This is HARD!!!  \nkwoot - (14:30): Well, it probably is not hard but I don't get it to work. What am I missing here?  \ncjdelisle - (14:30): You're looking to have one page (script) which provides all of these features?  \nkwoot - (14:31): oh, that would be nice, but two pages is fine too.  \ncjdelisle - (14:31): You can put it into a url parameter.  \nkwoot - (14:31): one page with the space list, and from there you click on a space and get a list of all pages in that space. That is basically what I need.  \nkwoot - (14:32): I tried a url parameter but I don't get it to work. So would #foreach($space in $xwiki.spaces) \u00a0\\* $space -> [[SpacePageList SpaceName=$space]] #end work?  \ncjdelisle - (14:32): The link says [[${spaceName}>>Scripts.SpaceIndexScript?space=$space]]  \nkwoot - (14:32): ok. I will use this example. Thank !!!  \ncjdelisle - (14:33): You know how to get the parameter in the other script?  \nsdumitriu - (14:34): sburjan: I'll be available soon  \ndtrog\\_ joined #xwiki at 14:34  \nsburjan - (14:34): sdumitriu, : okay, ping me whenavailable  \nkwoot - (14:35): No, I just missed that one :-)  \ndtrog\\_ left at 14:36 (Client Quit  \nkwoot - (14:36): I have a macro that extracts the parameter from the context, but how do I get the param from the url?  \ncjdelisle - (14:37): $request.getParameter('space')  \ndtrog left at 14:37 (Ping timeout: 245 seconds  \nkwoot - (14:37): Great. trying.....  \ntmortagne - (14:39): or $request.space  \nkwoot - (14:39): Okay. I'm almost there. My first page source is: #foreach($space in $xwiki.spaces) \u00a0\\* [[${space}>>Main.OverzichtSpace?space=$space]] #end  \nkwoot - (14:40): My second page source is {{SpacePageList SpaceName=\"$request.getParameter('space')\"/}}  \nkwoot - (14:40): And this page also has a macro object with macro parameter that does work.  \nkwoot - (14:40): But I am still missing something here.  \ncjdelisle - (14:40): Is that inside of a {{velocity}} macro?  \ncjdelisle - (14:41): re \"or $request.space\": that's less typing but what happens when you have a parameter called 'header'?  \nkwoot - (14:43): In the second page I added this: {{velocity}} Doing: $request.getParameter('space') {{/velocity}} and it shows the param content.  \nkwoot - (14:43): the line below that says {{SpacePageList SpaceName=\"$request.getParameter('space')\"/}} but does not give me a pagelist.  \nEnygma` joined #xwiki at 14:44  \ncjdelisle - (14:44): try {{velocity}}{{SpacePageList SpaceName=\"$request.getParameter('space')\"/}}{{/velocity}}  \nsdumitriu - (14:44): sburjan: Ping  \nkwoot - (14:46): Yes, this gives me a pagelist output.  \nkwoot - (14:46): Thanks! Thanks!  \ncjdelisle - (14:46): no pb.  \nsburjan - (14:46): sdumitriu, : pong  \nsburjan - (14:47): sdumitriu, : do you have time for a call ?  \nsdumitriu - (14:47): OK, let's try  \nflorinciu joined #xwiki at 14:47  \nkwoot - (14:48): Ok cjdelisle, this works (sort of). No matter what parameter I send, I end up with the Main pagelist. So I will do some debugging there :-)  \nkwoot - (14:48): But the biggest problem is solved now. Again, thank you very much.  \ncjdelisle - (14:48): even if ?space=XWiki  \nkwoot - (14:49): Stranegely enough yes. But Main is not hardcoded into the macro. Wait, I'll show you:  \nkwoot - (14:49): macro code: {{velocity}} #set($web=($xcontext.macro.params.SpaceName)) Macro is doing $web ##set($web = $doc.web) #set($authorslist = $util.getArrayList()) #foreach($page in $xwiki.getSpaceDocsName($web)) \u00a0\u00a0#set($user=$context.user) \u00a0\u00a0#foreach($subdoc in $xwiki.getSpaceDocsName(\"$doc.web\")) \u00a0\u00a0\u00a0\u00a0#set($author = $xwiki.getDocument(\"${doc.web}.${subdoc}\").getCreator()) \u00a0\u00a0\u00a0\u00a0- [[${doc.web}.${subdoc}>>${doc.web}.${subdoc}]] \u00a0\u00a0#end \u00a0\u00a0#panelfoote  \nkwoot - (14:50): I got this from the CodeSnippets page.  \ncjdelisle - (14:51): add a line to that snippet which contains just $web  \ncjdelisle - (14:51): If it always prints \"Main\" then something is wrong with the input of the parameter.  \nkwoot - (14:52): No, $web does contain the space I want.  \ncjdelisle - (14:53): then the problem is with #set($web=($xcontext.macro.params.SpaceName))  \nkwoot - (14:54): If I click on \"Blog\" and put $web in the bulletlist it prints Blog on every line.  \ncjdelisle - (14:55): I don't know much about macros, and even less about that snippet.  \ncjdelisle - (14:55): What I'd do is copy the code from that snippet and replace #set($web=($xcontext.macro.params.SpaceName)) with your own code for setting the space name.  \nkwoot - (14:55): Well, you did help me a lot so far. So thanks for that at least.  \nkwoot - (14:58): Found a bug. working on it...  \nMartinCleaver joined #xwiki at 15:00  \ntmortagne1 joined #xwiki at 15:02  \ntmortagne left at 15:04 (Ping timeout: 276 seconds  \nkwoot - (15:10): Ok. Got it working. My mistake was having velocity in the pagelist wiki code that called a macro object on the same page. So I got everything twice. Also adjusted the loop.  \nkwoot - (15:11): Is there a way to get the number of pages in a space so I can hint at the first page about the size of a space?  \nvenkatesh left at 15:16 (Remote host closed the connection  \nvenkatesh joined #xwiki at 15:17  \nvenkatesh left at 15:19 (Client Quit  \nvenkatesh joined #xwiki at 15:19  \ncjdelisle - (15:26): something like countDocuments?  \nkwoot - (15:30): Yep. That would be nice. I found $xwiki.countDocuments(\"where doc.syntaxId='$syntax.toIdString()'\") but how do I rewrite this to do only a space?  \narkub joined #xwiki at 15:30  \nkwoot - (15:30): would that be where doc.space='Main' or something?  \nkwoot - (15:33): yep. got it working. Nice!  \nkwoot - (15:34): No I don't want to sound ungratefull, but you know the one about giving a fish and learn how to fish. Is there a place that provides object and method information that I could use?  \ncjdelisle - (15:35): Try the scripting page I linked to earlier, do you know how to read javadoc?  \nkwoot - (15:38): Actually. I recognize it as javadoc, I can read english, but javadoc is still abeast to me. Guess I'll just have to suck it up and dig in :-)  \ncjdelisle - (15:40): It's one of those things, when you see how it works, everything becomes very easy.  \nkwoot - (15:40): But as an example: If I wanted to find the countDocuments. Where would I find that?  \ncjdelisle - (15:41): at the scripting page there's a bunch of links to the bindings, click the xwiki one.  \ncjdelisle - (15:42): http://platform.xwiki.org/xwiki/bin/view/DevGuide/Scripting#HBindings  \ncjdelisle - (15:42): then click \u00a0The XWiki object: xwiki  \nkwoot - (15:44): ok. got it. will start to use.  \ncjdelisle - (15:45): Lots of goodies in there, also in doc, xcontext, request, and response too.  \nkwoot - (15:47): ok. stored this snippet in Gnote. have to go now. Thanks for your help. Much appreciated.  \nkwoot - (15:47): have a nice weekend.  \nDrPoO left at 15:48 (Remote host closed the connection  \ncjdelisle - (15:51): you too.  \nkwoot left at 15:51 (Ping timeout: 252 seconds  \nsburjan left at 16:07 (Quit: Ex-Chat  \nvenkatesh left at 16:07 (Quit: Ex-Chat  \nlucaa - (16:57): guys, I would like to discuss with you about the idea of having default wiki macros in the default enterprise  \nlucaa - (16:58): afaik the author needs to have programming rights for the macro to be usable by others than the macro author  \nlucaa - (16:58): also, afaik we're trying to not have pages that require programming rights in the default enterprise  \nvenkatesh joined #xwiki at 16:58  \nlucaa - (16:59): I would need this to be able to implement the Main.Dashboard page as a dashboard with gadgets  \nlucaa - (17:01): any opinions?  \nlpereira left at 17:02 (Quit: Leaving.  \nflaviusolaru left at 17:02 (Quit: Leaving.  \njvdrean - (17:03): lucaa: what do you need exactly ? having macros in the default enterprise won't resolve the PR problem right ?  \nlucaa - (17:03): well, i would like to implement the Main.Dashboard as a dashboard with gadgets  \nlucaa - (17:04): and since gadgets are macros, the components of the Main.Dashboard (spaces, recent changes, tag cloud) should be macros  \nlucaa - (17:04): now, they could be java macros, but the problem is that they will be harder to modify  \nlucaa - (17:04): which I don't like, in general  \nlucaa - (17:05): another solution is to use the {{include }} macros and leave them as pages...  \nlucaa - (17:05): but  \nlucaa - (17:05): in this case  \nlucaa - (17:05): they won't be configurable using macro parameters  \nlucaa - (17:06): the good part though, is that anyone with edit rights would be able to change them  \nvenkatesh left at 17:43 (Ping timeout: 240 seconds  \nsilviar left at 17:51 (Quit: Leaving.  \nsilviar1 joined #xwiki at 17:51  \nsilviar1 left at 17:51 (Client Quit  \nsilviar joined #xwiki at 17:51  \nsilviar left at 17:52 (Client Quit  \nvenkatesh joined #xwiki at 17:56  \nvenkatesh left at 18:05 (Ping timeout: 240 seconds  \nlpereira joined #xwiki at 18:18  \nfmancinelli left at 18:23 (Ping timeout: 240 seconds  \nEnygma` left at 18:37 (Ping timeout: 272 seconds  \nabusenius left at 18:40 (Ping timeout: 255 seconds  \nvmassol joined #xwiki at 18:46  \njvdrean left at 18:52 (Quit: Leaving.  \nlucaa left at 19:06 (Ping timeout: 252 seconds  \nflorinciu left at 19:07 (Ping timeout: 276 seconds  \nvmassol left at 19:08 (Quit: Leaving.  \nproyvind\\_ left at 19:24 (Changing host  \nproyvind\\_ joined #xwiki at 19:24  \nproyvind\\_ is now known as proyvind (peroyvind@mandriva/developer/assembly/proyvind  \nmflorea left at 19:24 (Quit: Leaving.  \nvenkatesh joined #xwiki at 19:27  \nvenkatesh left at 19:30 (Client Quit  \narkub left at 19:33 (Quit: Leaving  \njvdrean joined #xwiki at 19:43  \njvdrean left #xwiki at 19:43  \nlucaa joined #xwiki at 19:52  \nabusenius joined #xwiki at 19:54  \nvenkatna joined #xwiki at 19:58  \nvenkatna left at 20:01 (Client Quit  \nsburjan` left at 20:03 (Ping timeout: 265 seconds  \nlpereira left at 20:07 (Quit: Leaving.  \nvenkatna joined #xwiki at 20:09  \nvenkatna left at 20:11 (Client Quit  \nmflorea joined #xwiki at 20:16  \nlucaa left at 21:02 (Ping timeout: 272 seconds  \ntmortagne1 left at 21:27 (Quit: Leaving.  \nmflorea left at 22:26 (Quit: Leaving.  \nMartinCleaver left at 22:58 (Quit: MartinCleaver  \n\n"}