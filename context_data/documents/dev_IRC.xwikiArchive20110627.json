{"id": "dev:IRC.xwikiArchive20110627", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110627", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n10:55\u00a0<xwikibot>\u00a0has joined #xwiki  \n10:56\u00a0<vmassol>\u00a0ok got an error  \n10:56\u00a0<+tmortagne>\u00a0vmassol: there is no such thing as selenium test for clustering yet  \n10:56\u00a0<@sdumitriu>\u00a0Mine succeeded  \n10:56\u00a0<vmassol>\u00a0ok  \n10:56\u00a0<vmassol>\u00a0(tmortagne)  \n11:00\u00a0<abusenius>\u00a0has joined #xwiki  \n11:03\u00a0<JonasBausch>\u00a0has joined #xwiki  \n11:04\u00a0<JonasBausch>\u00a0Is there somebody who can help me with some rights issues?  \n11:05\u00a0<@sdumitriu>\u00a0Hi JonasBausch  \n11:05\u00a0<@sdumitriu>\u00a0I can try  \n11:05\u00a0<JonasBausch>\u00a0haven't you just answered my email?  \n11:05\u00a0<JonasBausch>\u00a0ah no, sorry  \n11:05\u00a0<JonasBausch>\u00a0wasn't you  \n11:05\u00a0<JonasBausch>\u00a0well, my problem is:  \n11:06\u00a0<JonasBausch>\u00a0i want to make a space called \"thought archive\" where a logged-in user can jot down ideas  \n11:06\u00a0<JonasBausch>\u00a0the application works, but i only want the individual user to see his individual thoughts  \n11:07\u00a0<JonasBausch>\u00a0at the moment, everybody can see every thought from every user  \n11:07\u00a0<JonasBausch>\u00a0or: only the admin can see the \"thoughtArchive\"-space and nobody else  \n11:07\u00a0<JonasBausch>\u00a0I'm getting crazy with this  \n11:08\u00a0<+tmortagne>\u00a0JonasBausch: did you do what I told you in the mail ?  \n11:08\u00a0<JonasBausch>\u00a0yes, i did  \n11:08\u00a0<JonasBausch>\u00a0still have the same problem  \n11:08\u00a0<+tmortagne>\u00a0which is exactly what ?  \n11:09\u00a0<+tmortagne>\u00a0the hasAccesLevel does not work as expected ?  \n11:09\u00a0<+tmortagne>\u00a0what is your new code ? you can put it on http://pastebin.com/  \n11:09\u00a0<JonasBausch>\u00a0yes, i have a testaccount, and he shuold not be able to see the thoughts created by the admin  \n11:10\u00a0<JonasBausch>\u00a0pastebin is blocked by our proxy in the office  \n11:10\u00a0<+tmortagne>\u00a0nice...  \n11:10\u00a0<+tmortagne>\u00a0then put it here since it's not too big  \n11:10\u00a0<JonasBausch>\u00a0no it isnt  \n11:10\u00a0<JonasBausch>\u00a0{{velocity}} \u00a0\u00a0#set($sql = \", BaseObject as obj where obj.name = doc.fullName and obj.className = 'Thoughts.ThoughtClass' and obj.name <> 'Thoughts.ThoughtTemplate'\") \u00a0\u00a0#set($results = $xwiki.searchDocuments($sql)) \u00a0\u00a0#if($results.empty) \u00a0\u00a0\u00a0\u00a0No Thought has been created yet! \u00a0\u00a0#else \u00a0\u00a0\u00a0\u00a0#foreach ($item in $results) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0#set($thought = $xwiki.getDocument($item)) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* [[${thought.display(\"Thought\").replace(\"<p>\", \"\").replace(\"<  \n11:11\u00a0<+tmortagne>\u00a0well not easy to read that way :)  \n11:11\u00a0<JonasBausch>\u00a0i know  \n11:11\u00a0<JonasBausch>\u00a0but i can't switch off the security policy in my office  \n11:11\u00a0<siert>\u00a0has joined #xwiki  \n11:12\u00a0<+tmortagne>\u00a0JonasBausch: well you don't have hasAccessLevel at all anymore  \n11:12\u00a0<siert>\u00a0hello... one of my users created a space //xwiki.onvz with the name local/xwiki/bin/view/IT+Applicatiebeheer/Howto  \n11:12\u00a0<+tmortagne>\u00a0so you want to test only view ?  \n11:12\u00a0<@sdumitriu>\u00a0JonasBausch: You could write a Groovy listener that sets rights dynamically  \n11:12\u00a0<siert>\u00a0is it possible to delete that space? from out of xwiki I only get 404  \n11:12\u00a0<siert>\u00a0(source document name: //xwiki.onvz.local/xwiki/bin/view/IT+Applicatiebeheer/Howto)  \n11:12\u00a0<+tmortagne>\u00a0sdumitriu: he does not want to set rights, he just want to filter result based on users rights  \n11:12\u00a0<@sdumitriu>\u00a0siert: Best way is to delete it from a script  \n11:13\u00a0<siert>\u00a0this way it won't work: https://xwiki.onvz.local/xwiki/bin/delete/%2F%2Fxwiki.onvz/local%2Fxwiki%2Fbin%2Fview%2FIT%2BApplicatiebeheer%2FHowto  \n11:13\u00a0<siert>\u00a0sdumitriu: is there an example somewhere?  \n11:13\u00a0<JonasBausch>\u00a0I'll check that hasAccessLevel  \n11:13\u00a0<JonasBausch>\u00a0just one second  \n11:13\u00a0<+tmortagne>\u00a0JonasBausch: in you code you \u00a0are not filtering anything but you will get a bad link if even the user does not have view right on some document  \n11:14\u00a0<@cjdelisle>\u00a0siert: try {{velocity}}$xwiki.getDocument(\"where doc.space like '%/%'\"){{/velocity}}  \n11:14\u00a0<+tmortagne>\u00a0JonasBausch: \u00a0because getDocument will return null  \n11:14\u00a0<+tmortagne>\u00a0(as I told you)  \n11:14\u00a0<+tmortagne>\u00a0so what right do you really want to check ?  \n11:14\u00a0<@cjdelisle>\u00a0siert: paste that into some empty page and view it, if the documents shown are all documents that you want to delete (they probably are...)  \n11:15\u00a0<+tmortagne>\u00a0basically what is your logical rule on which you want to filter the result  \n11:15\u00a0<+tmortagne>\u00a0when context user is creator of the document ? when he has view right ? edit right ?  \n11:16\u00a0<+tmortagne>\u00a0last author of the document ?  \n11:16\u00a0<JonasBausch>\u00a0alright, for instance: i log in as JonasBausch, i have no thoughts created, i create a few, then log out, and another user logs in, he only sees his thoughts, not mine  \n11:17\u00a0<+tmortagne>\u00a0yes but what define it as \"his\" thoughts ?  \n11:17\u00a0<+tmortagne>\u00a0he is the creator of the document ?  \n11:17\u00a0<JonasBausch>\u00a0yes  \n11:17\u00a0<+tmortagne>\u00a0then you should modify your SQL query to limit to creator of the document being the context user  \n11:18\u00a0<@sdumitriu>\u00a0cjdelisle: Your example is bad, missing a search  \n11:18\u00a0<@cjdelisle>\u00a0indeed, I broke it  \n11:18\u00a0<@cjdelisle>\u00a0siert: I meant to say run {{velocity}}$xwiki.searchDocuments(\"where doc.space like '%/%'\"){{/velocity}}  \n11:18\u00a0<JonasBausch>\u00a0ok, how can i do that  \n11:19\u00a0<+tmortagne>\u00a0JonasBausch: see http://platform.xwiki.org/xwiki/bin/view/DevGuide/QueryGuide (If you don't already knows it)  \n11:19\u00a0<JonasBausch>\u00a0(I'm sorry for asking stupid questions, but I'm not very familiar with programming at all)  \n11:19\u00a0<+tmortagne>\u00a0also you are using HQL in your code it seems, you should use XWQL istead which is way easier to read  \n11:19\u00a0<+tmortagne>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/QueryGuide will give you very good examples  \n11:20\u00a0<JonasBausch>\u00a0ok, i'll try and let you know if it works  \n11:20\u00a0<+tmortagne>\u00a0JonasBausch: the creator of the document is doc.creator field  \n11:22\u00a0<JonasBausch>\u00a0well, it works, but the documents are still listed in the navigation-panel  \n11:22\u00a0<JonasBausch>\u00a0i think the problem is a bit more highlevel  \n11:23\u00a0<+tmortagne>\u00a0JonasBausch: i'm not sure what you really want  \n11:23\u00a0<+tmortagne>\u00a0it's not just about your own code ?  \n11:24\u00a0<JonasBausch>\u00a0i have the navigation panel on the left with all spaces listed, and still as not being the creator of the \"thoughts\" i can see them there  \n11:25\u00a0<JonasBausch>\u00a0the whole thoughtarchive has to be private and individual for every registered user in my wiki  \n11:25\u00a0<+tmortagne>\u00a0i'm not sure what navigation panel you are talking about but if it's the very old panel we removed long ago because it was too expensive when viewing a page then it display everything the current user has view right AFAIK  \n11:26\u00a0<+tmortagne>\u00a0if you don't want something to appear in here then the user should not have view right on it  \n11:26\u00a0<+tmortagne>\u00a0so when you create a though you need to make sure only the user creating this document has view eight on it  \n11:26\u00a0<+tmortagne>\u00a0right  \n11:27\u00a0<JonasBausch>\u00a0ok, and how can i do that?  \n11:27\u00a0<+tmortagne>\u00a0which mean put some right object properly configured in it  \n11:27\u00a0<JonasBausch>\u00a0ok, i'll try  \n11:28\u00a0<+tmortagne>\u00a0JonasBausch: just give view/edit right to the user creating the document and nobody else will have it automatically  \n11:28\u00a0<JonasBausch>\u00a0sure, but how?  \n11:28\u00a0<JonasBausch>\u00a0by programming or just by clicking in the users/rights section of the document  \n11:29\u00a0<+tmortagne>\u00a0I don't how how your application is done but as I told you you need to add a right object in the document you create  \n11:29\u00a0<+tmortagne>\u00a0as you want  \n11:29\u00a0<+tmortagne>\u00a0by hand it's even simplier  \n11:29\u00a0<+tmortagne>\u00a0you have UI  \n11:29\u00a0<+tmortagne>\u00a0but I guess you want to do that automatically in your application  \n11:29\u00a0<+tmortagne>\u00a0otherwise it will be a pain  \n11:30\u00a0<+tmortagne>\u00a0JonasBausch: what you could do is using the document right setup UI and see what is the result  \n11:30\u00a0<+tmortagne>\u00a0in object editor  \n11:30\u00a0<JonasBausch>\u00a0yes, it has to be automatically, because this wiki will be used by medics  \n11:30\u00a0<+tmortagne>\u00a0then you will know what you need to do programmtically  \n11:32\u00a0<JonasBausch>\u00a0alright, I'll give it a try  \n11:32\u00a0<JonasBausch>\u00a0but thanks a lot for helping me  \n11:33\u00a0<+tmortagne>\u00a0JonasBausch: you'r welcome, i'm searching some more links about rights for you  \n11:33\u00a0<JonasBausch>\u00a0but another thing, you just said, that navigation panel is old  \n11:33\u00a0<JonasBausch>\u00a0which one to use now?  \n11:34\u00a0<+tmortagne>\u00a0none  \n11:34\u00a0<+tmortagne>\u00a0there is a separated page  \n11:34\u00a0<+tmortagne>\u00a0with a livetable I told you about  \n11:34\u00a0<+tmortagne>\u00a0document index that is  \n11:34\u00a0<JonasBausch>\u00a0ah i remember  \n11:35\u00a0<+tmortagne>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Access+Rights here are some more detailed information about xwiki rights  \n11:35\u00a0<+tmortagne>\u00a0i think there is example of how to set rights programmatically \u00a0on extensions.xxwiki.org  \n11:36\u00a0<+tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Setting+Rights  \n11:36\u00a0<+tmortagne>\u00a0here it is  \n11:36\u00a0<+tmortagne>\u00a0you should have everything you need now ;)  \n11:37\u00a0<JonasBausch>\u00a0Thank you very much  \n11:37\u00a0<JonasBausch>\u00a0I hope I get it know  \n11:37\u00a0<JonasBausch>\u00a0Its's pretty hard for me to understand the whole xwiki-system  \n11:38\u00a0<+tmortagne>\u00a0yep you can't understand it all at once  \n11:40\u00a0<@sdumitriu>\u00a0I'm not sure there's anybody that can say they understand the \\*whole\\* xwiki  \n11:41\u00a0<+tmortagne>\u00a0yep  \n11:43\u00a0<JonasBausch>\u00a0If i dont see any progress at the end of the week, I'll try to build a standalone application in Java for our purpose, that's much easier than understanding such a complex system  \n11:44\u00a0<JonasBausch>\u00a0but thank you guys for the fast reply  \n11:44\u00a0<+tmortagne>\u00a0JonasBausch: you don't have to master the whole XWiki system to use it either  \n11:46\u00a0<JonasBausch>\u00a0Well, I'll give it a try, I hope I can ask you some more questions by time  \n11:46\u00a0<JonasBausch>\u00a0have a nice day  \n11:47\u00a0<+tmortagne>\u00a0you too  \n11:49\u00a0<JonasBausch>\u00a0has quit  \n11:59\u00a0<florinciu>\u00a0has quit  \n12:02\u00a0<sdumitriu>\u00a0has quit  \n12:06\u00a0<florinciu>\u00a0has joined #xwiki  \n12:10\u00a0<florinciu>\u00a0has quit  \n12:15\u00a0<vmassol>\u00a0btw all tests are passing for me locally now  \n12:15\u00a0<vmassol>\u00a0:)  \n12:16\u00a0<vmassol>\u00a0(for ui tests)  \n12:16\u00a0<vmassol>\u00a0(I committed an hour ago)  \n12:16\u00a0<+tmortagne>\u00a0vmassol: cool  \n12:16\u00a0<vmassol>\u00a0so far I haven't been able to make them fail again locally  \n12:16\u00a0<vmassol>\u00a0I'm now going to review them a bit more for performance  \n12:16\u00a0<vmassol>\u00a0since I may have caused some delays  \n12:16\u00a0<vmassol>\u00a0total time 1072 seconds locally  \n12:16\u00a0<+tmortagne>\u00a0note that \u00a0I'm working in fixed all configurations issue with M2Eclipse 1.0  \n12:17\u00a0<+tmortagne>\u00a0s/fixed/fixing/  \n12:17\u00a0<vmassol>\u00a017 mn  \n12:19\u00a0<+tmortagne>\u00a0done for oldcore, taking care of jaxb plugin now  \n12:23\u00a0<+tmortagne>\u00a0jaxb plugin skipped in commons, if someone find other non supported plugins there is an example of how to skip it in xwiki-commons pom.xml (better if you associate a issue link with it)  \n12:23\u00a0<+tmortagne>\u00a0hmm I need to skip xar plugin I think  \n12:30\u00a0<+tmortagne>\u00a0no no need to add xar plugin since it's not execusting during an \"interresting\" phase  \n12:41\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:45\u00a0<abusenius>\u00a0has quit  \n13:14\u00a0<mflorea>\u00a0has quit  \n13:28\u00a0<pulasthi>\u00a0has left #xwiki  \n13:33\u00a0<tmortagne>\u00a0has quit  \n13:37\u00a0<tmortagne>\u00a0has joined #xwiki  \n13:37\u00a0<evalica>\u00a0has joined #xwiki  \n13:41\u00a0<tmortagne1>\u00a0has joined #xwiki  \n13:44\u00a0<tmortagne>\u00a0has quit  \n13:45\u00a0<tmortagne>\u00a0has joined #xwiki  \n13:45\u00a0<tmortagne1>\u00a0has quit  \n13:51\u00a0<mflorea>\u00a0has joined #xwiki  \n13:59\u00a0<abusenius>\u00a0has joined #xwiki  \n14:17\u00a0<+tmortagne>\u00a0nice user name  \n15:21\u00a0<+abusenius>\u00a0hi @all, does anybody know why  \n15:21\u00a0<+abusenius>\u00a0this http://jira.xwiki.org/jira/browse/XE-953  \n15:21\u00a0<+abusenius>\u00a0http://jira.xwiki.org/jira/browse/XE-909  \n15:21\u00a0<+abusenius>\u00a0and http://jira.xwiki.org/jira/browse/XECLIPSE-151  \n15:21\u00a0<+abusenius>\u00a0are marked \"confidential\" ?  \n15:21\u00a0<@cjdelisle>\u00a0you're striking out today  \n15:21\u00a0<@sdumitriu>\u00a0Checking  \n15:23\u00a0<+abusenius>\u00a0also, how about subscribing security mailing list to this filter: http://jira.xwiki.org/jira/secure/IssueNavigator.jspa?mode=hide&requestId=10941  \n15:23\u00a0<+abusenius>\u00a0it shows recently (2 days) updated/created confidential issues  \n15:23\u00a0<+abusenius>\u00a0otherwise nobody notices them  \n15:27\u00a0<@sdumitriu>\u00a0abusenius: The last two are from an XWiki SAs client, he probably created them in the wrong place  \n15:27\u00a0<@sdumitriu>\u00a0The first one (XE-953) should be unmarked, since it's not security-related  \n15:30\u00a0<+abusenius>\u00a0XE-953  \n15:30\u00a0<+abusenius>\u00a0nice  \n15:32\u00a0<+abusenius>\u00a0sdumitriu: what about the other two? do you know where they should go?  \n15:32\u00a0<@sdumitriu>\u00a0Asking the SAS support team to look into them  \n15:32\u00a0<+abusenius>\u00a0k  \n15:50\u00a0<sdumitriu>\u00a0has quit  \n16:09\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:24\u00a0<abusenius>\u00a0has quit  \n16:56\u00a0<sdumitriu>\u00a0has quit  \n17:19\u00a0<arkub>\u00a0has joined #xwiki  \n17:23\u00a0<Chami1>\u00a0has joined #xwiki  \n17:25\u00a0<Chami1>\u00a0tmortagne: hi  \n17:28\u00a0<evalica>\u00a0has quit  \n17:32\u00a0<Enygma`>\u00a0has quit  \n17:40\u00a0<abusenius>\u00a0has joined #xwiki  \n17:41\u00a0<\\_MrUser\\_>\u00a0has joined #xwiki  \n17:42\u00a0<\\_MrUser\\_>\u00a0Hi. i have a auth failure using the rest api. The config uses multiple wiki instances. this request ends in a 401: /xwiki/rest/wikis/intranet/spaces/Sandbox/pages/WebHome/  \n17:43\u00a0<\\_MrUser\\_>\u00a0Seams to ocour on xwiki 3.0 too  \n17:44\u00a0<\\_MrUser\\_>\u00a0admin user does not get this error  \n17:46\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:00\u00a0<@sdumitriu>\u00a0abusenius: I deleted the two issues  \n18:03\u00a0<+tmortagne>\u00a0Chami1: sorry i'm on the phone right now but you can ask any question you have here even if I can't answer myself  \n18:08\u00a0<Chami1>\u00a0currently I'm working on making android tree-style navigator to load dynamically from xwiki  \n18:13\u00a0<Chami1>\u00a0so this class will convert basic ExpandableListView into 3-level expandable list view. Here I planned to pass domain of xwiki using constructor and get data through xwiki-android-rest.  \n18:13\u00a0<Chami1>\u00a0is it ok with your requirements as mentioned in mailing list?  \n18:15\u00a0<sdumitriu>\u00a0has quit  \n18:22\u00a0<+tmortagne>\u00a0Chami1: what is \"domain of xwiki\" ? you mean configuration to access XWiki ?  \n18:29\u00a0<arkub>\u00a0has quit  \n18:47\u00a0<mflorea>\u00a0has quit  \n18:50\u00a0<tekzilla>\u00a0has quit  \n18:54\u00a0<Chami1>\u00a0tmortagne: yeah, like \"localhost:8080\" or \"xwiki.org\"  \n18:55\u00a0<+tmortagne>\u00a0Chami1: you need to give more that just that, there is at least user and password and maybe more later so it should be a Configuration object with the URL among other things and not just it  \n18:55\u00a0<tekzilla>\u00a0has joined #xwiki  \n18:55\u00a0<+tmortagne>\u00a0anyway ok to give in the constructor  \n18:56\u00a0<+tmortagne>\u00a0it's a details IMO can always change later  \n18:56\u00a0<Chami1>\u00a0ok  \n18:56\u00a0<+tmortagne>\u00a0for now what's important is the general concept of providing an UI element which is working on its own  \n18:57\u00a0<+tmortagne>\u00a0in the future what would be nice is that all required information to access XWiki are registered in an android account and application use that account to acces connect to XWiki  \n18:58\u00a0<+tmortagne>\u00a0like you have google account for example  \n18:59\u00a0<+tmortagne>\u00a0but anyway right now what's important is to make the library working and as complete and clean as possible  \n19:01\u00a0<Chami1>\u00a0yeah, time is so tight to do all these things. so I have to be more focused on the major features  \n19:01\u00a0<Chami1>\u00a0:)  \n19:01\u00a0<sburjan>\u00a0has quit  \n19:01\u00a0<+tmortagne>\u00a0Chami1: what's the most important is that what you do is the easy to use for an android developer, that should be your main focus when choosing a design path  \n19:03\u00a0<+tmortagne>\u00a0in this case constructor taking a XWikiConfiguration object is easy enough so it's ok for now  \n19:04\u00a0<+tmortagne>\u00a0the result does not have to be perfect in all aspects but it should fit the main goal: developer should like to use your library :)  \n19:04\u00a0<+tmortagne>\u00a0I have to go now  \n19:05\u00a0<Chami1>\u00a0tmortagne: ok, bye. thank you for informing me  \n19:52\u00a0<qwebirc90155>\u00a0has joined #xwiki  \n19:54\u00a0<qwebirc90155>\u00a0Hello All, Im trying to find a way to include default data inside a TextArea Property. \u00a0I would expect its a simple line in the Custom Display field but i havent found a solution yet. \u00a0Any help is greatly appreciated!  \n19:54\u00a0<qwebirc90155>\u00a0let me also include, Default Data that can be edited.  \n19:57\u00a0<tmortagne>\u00a0has quit  \n20:30\u00a0<Chami1>\u00a0has left #xwiki  \n21:12\u00a0<qwebirc90155>\u00a0has quit  \n21:36\u00a0<xipe>\u00a0has quit  \n21:39\u00a0<xipe>\u00a0has joined #xwiki  \n22:21\u00a0<mflorea>\u00a0has joined #xwiki  \n22:36\u00a0<vmassol>\u00a0has quit  \n23:42\u00a0<mflorea>\u00a0has quit  \n23:43\u00a0<abusenius>\u00a0has quit  \n23:44\u00a0<abusenius>\u00a0has joined #xwiki  \n23:49\u00a0<abusenius>\u00a0has quit  \n23:50\u00a0<abusenius>\u00a0has joined #xwiki  \n\n"}