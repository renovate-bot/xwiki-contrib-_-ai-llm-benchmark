{"id": "dev:IRC.xwikiArchive20120928", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120928", "title": "IRC Archive for channel #xwiki on 28 September 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:20\u00a0<vmassol>\u00a0has joined #xwiki  \n00:30\u00a0<vmassol>\u00a0has quit  \n00:31\u00a0<abusenius>\u00a0has quit  \n00:46\u00a0<jvelo>\u00a0has joined #xwiki  \n00:55\u00a0<vmassol>\u00a0has joined #xwiki  \n01:06\u00a0<vmassol>\u00a0has quit  \n01:24\u00a0<Denis>\u00a0has quit  \n01:31\u00a0<vmassol>\u00a0has joined #xwiki  \n01:42\u00a0<vmassol>\u00a0has quit  \n02:01\u00a0<SvenDowideit>\u00a0has quit  \n02:01\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n02:07\u00a0<vmassol>\u00a0has joined #xwiki  \n02:19\u00a0<vmassol>\u00a0has quit  \n02:43\u00a0<vmassol>\u00a0has joined #xwiki  \n02:53\u00a0<vmassol>\u00a0has quit  \n03:18\u00a0<vmassol>\u00a0has joined #xwiki  \n03:29\u00a0<vmassol>\u00a0has quit  \n03:54\u00a0<vmassol>\u00a0has joined #xwiki  \n04:04\u00a0<vmassol>\u00a0has quit  \n04:31\u00a0<vmassol>\u00a0has joined #xwiki  \n04:41\u00a0<vmassol>\u00a0has quit  \n04:43\u00a0<tekzilla>\u00a0has quit  \n04:45\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:06\u00a0<vmassol>\u00a0has joined #xwiki  \n05:19\u00a0<vmassol>\u00a0has quit  \n05:43\u00a0<vmassol>\u00a0has joined #xwiki  \n05:55\u00a0<vmassol>\u00a0has quit  \n06:19\u00a0<vmassol>\u00a0has joined #xwiki  \n06:29\u00a0<vmassol>\u00a0has quit  \n06:55\u00a0<vmassol>\u00a0has joined #xwiki  \n07:07\u00a0<vmassol>\u00a0has quit  \n07:14\u00a0<mflorea>\u00a0has joined #xwiki  \n07:25\u00a0<SvenDowideit>\u00a0has quit  \n07:28\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n07:31\u00a0<vmassol>\u00a0has joined #xwiki  \n07:33\u00a0<jvelo>\u00a0has quit  \n07:42\u00a0<vmassol>\u00a0has quit  \n08:05\u00a0<vmassol>\u00a0has joined #xwiki  \n08:20\u00a0<Denis>\u00a0has joined #xwiki  \n08:28\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:45\u00a0<jvelo>\u00a0has joined #xwiki  \n08:47\u00a0<coud4>\u00a0has joined #xwiki  \n09:20\u00a0<mflorea>\u00a0has quit  \n09:34\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:39\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:46\u00a0<evalica>\u00a0has joined #xwiki  \n09:47\u00a0<+Enygma`>\u00a0jvelo: so what was your problem regarding clirr yesterday? You`ve built it in another order than xwiki-commons, xwiki-rendering, xwiki-platform ?  \n09:49\u00a0<mflorea>\u00a0has joined #xwiki  \n10:01\u00a0<jvelo>\u00a0Enygma`: no  \n10:01\u00a0<jvelo>\u00a0I built it in that order  \n10:01\u00a0<jvelo>\u00a0lots of issues building platform  \n10:01\u00a0<jvelo>\u00a0s/building/running the clirr check/  \n10:02\u00a0<jvelo>\u00a0I ended up actually building commons  \n10:02\u00a0<jvelo>\u00a0(after I've mixed manually some issues)  \n10:02\u00a0<jvelo>\u00a0don't know if that made it work or not  \n10:03\u00a0<vmassol>\u00a0jvelo: can you tell me how to reproduce the problems locally so that I have a look?  \n10:03\u00a0<+Enygma`>\u00a0jvelo: if you lookt at Jenkins you will also see lots of ClassNotFound issues or dependencies issues for building platform or commons  \n10:04\u00a0<+Enygma`>\u00a0maybe there`s a problem with the repos or something  \n10:07\u00a0<jvdrean1>\u00a0has joined #xwiki  \n10:07\u00a0<jvelo>\u00a0vmassol: you have to follow this : http://dev.xwiki.org/xwiki/bin/view/ReleasePlans/ReleasePlanHelp#HManually-1  \n10:08\u00a0<vmassol>\u00a0gtg bb in 30mn, I'll try  \n10:08\u00a0<jvelo>\u00a0for me this went well for commons, but not for platform  \n10:09\u00a0<jvelo>\u00a0Enygma`: I see  \n10:09\u00a0<jvelo>\u00a0that's odd  \n10:10\u00a0<jvelo>\u00a0sburjan: when do you perform manual test for a release ?  \n10:11\u00a0<jvdrean>\u00a0has quit  \n10:12\u00a0<jvelo>\u00a0(c.f. http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki42#HTestReport )  \n10:15\u00a0<cjd>\u00a0has quit  \n10:21\u00a0<+sburjan>\u00a0jvelo: between RC1 and Final  \n10:21\u00a0<+sburjan>\u00a0let me fix that  \n10:21\u00a0<jvelo>\u00a0sburjan: OK it's just one for the RC/final  \n10:22\u00a0<+sburjan>\u00a0the one wth RC1 is for final  \n10:27\u00a0<+sburjan>\u00a0jvelo: done  \n10:33\u00a0<+mflorea>\u00a0tmortagne: is there a way to load/initialize singleton components lazilly? I'm currently using the EmbeddableComponentManager and calling initialize throws exceptions because some components specified in components.txt cannot be initialized, but I'm not going to use them.  \n10:34\u00a0<+tmortagne>\u00a0they are loaded/initialized lazily  \n10:35\u00a0<+tmortagne>\u00a0EmbeddableComponentManager does not initialize anything at startup  \n10:35\u00a0<+mflorea>\u00a0hmm, then why do I get exceptions when I call initialize() ?  \n10:35\u00a0<+tmortagne>\u00a0except observation manager which it's using itself to \u00a0send event  \n10:35\u00a0<+tmortagne>\u00a0you probably have a listener which produce this  \n10:35\u00a0<+tmortagne>\u00a0generally that's the issue  \n10:36\u00a0<+tmortagne>\u00a0observation manager trigger all listeners  \n10:36\u00a0<+tmortagne>\u00a0and some listener trigger other things, etc.  \n10:36\u00a0<+mflorea>\u00a0hmm, I don't think I have a listener, because I haven't initialized the OM  \n10:36\u00a0<+tmortagne>\u00a0not you  \n10:36\u00a0<+mflorea>\u00a0let me show you the stack trace  \n10:36\u00a0<+tmortagne>\u00a0EmbeddableComponentManager use OM  \n10:36\u00a0<+tmortagne>\u00a0to send event about component it registered  \n10:37\u00a0<+tmortagne>\u00a0but that's the only component initialized  \n10:37\u00a0<+tmortagne>\u00a0but it's initialized after everything is registered  \n10:38\u00a0<+mflorea>\u00a0http://pastebin.com/XrjfSLpS  \n10:38\u00a0<+mflorea>\u00a0note that the only thing I do is:  \n10:38\u00a0<+mflorea>\u00a0componentManager = new EmbeddableComponentManager();  \n10:38\u00a0<+mflorea>\u00a0componentManager.initialize(this.getClass().getClassLoader());  \n10:39\u00a0<+mflorea>\u00a0I'm not inside XWiki  \n10:39\u00a0<+mflorea>\u00a0I'm trying to create a demo war for WYSIWYG + XWiki Rendering  \n10:40\u00a0<+tmortagne>\u00a0mflorea: your stack trace does not have anything to do with a component  \n10:41\u00a0<+tmortagne>\u00a0it's telling you that it can't parse one of the class from component.txt  \n10:41\u00a0<+tmortagne>\u00a0because it reference a class that does not exists  \n10:41\u00a0<+tmortagne>\u00a0it does not initialize it  \n10:41\u00a0<+tmortagne>\u00a0it just read the class to extract the component descriptor from it  \n10:42\u00a0<+mflorea>\u00a0so it loads the class right?  \n10:42\u00a0<+mflorea>\u00a0I mean, it tries to load the class  \n10:42\u00a0<+tmortagne>\u00a0only the class  \n10:42\u00a0<+tmortagne>\u00a0it doe snot create an instance  \n10:42\u00a0<+mflorea>\u00a0ok, even if I don't need the class  \n10:42\u00a0<+tmortagne>\u00a0you do need the class  \n10:42\u00a0<+tmortagne>\u00a0because it's listed as a component to register  \n10:43\u00a0<+tmortagne>\u00a0it has to find it's role, dependencies etc. to properly register it  \n10:43\u00a0<+mflorea>\u00a0sure, but my lazy loading I mean, use this class only if needed  \n10:43\u00a0<+tmortagne>\u00a0mflorea: it's not that simple  \n10:43\u00a0<eshan>\u00a0has joined #xwiki  \n10:43\u00a0<+tmortagne>\u00a0if you don'ty knoww the role how are you going to load this component ?  \n10:43\u00a0<+tmortagne>\u00a0you have to find the role at startup to put the component in a map  \n10:43\u00a0<+mflorea>\u00a0hmm, right, I see  \n10:44\u00a0<+mflorea>\u00a0ok, I have to rethink my plan :) thanks  \n10:45\u00a0<+tmortagne>\u00a0it's really that important to not have the commons-context jar in your classpath ?  \n10:46\u00a0<+tmortagne>\u00a0you probably need to separate the WYSIWYG server module in two  \n10:47\u00a0<+tmortagne>\u00a0one without any context concept and one with it  \n10:47\u00a0<+mflorea>\u00a0I'm trying to keep WEB-INF/lib small, it already has 30 something deps, coming from xwiki-commons-component-default, xwiki-rendering-syntax-xwiki21 and xwiki-commons-xml  \n10:47\u00a0<+tmortagne>\u00a0like we have a rendering-xwiki module on platform side to add stuff we do'nt want in base rendeing  \n10:47\u00a0<+mflorea>\u00a0yes, that is the clean solution, but for now I'll just overwrite that class in my war, in WEB-INF/classes  \n10:47\u00a0<+tmortagne>\u00a0that's a good thing to do anyway to move the WYSIWYG to rendering  \n10:48\u00a0<+tmortagne>\u00a0or to it's own repo  \n10:49\u00a0<+mflorea>\u00a0there are a couple of refactorings that could be done on the WYSIWYG module, but I just want to make a quick demo for now :)  \n10:49\u00a0<+tmortagne>\u00a0ok  \n11:01\u00a0<+Enygma`>\u00a0xwiki-platform is failing because of a clirr error: http://ci.xwiki.org/job/xwiki-platform/2616/consoleFull  \n11:02\u00a0<+Enygma`>\u00a0this commit https://github.com/xwiki/xwiki-platform/commit/9d00d822615840f1b27c753091b8c75aca9d58ed has been pushed between 4.2RC1 and 4.2Final but only on the master branch, so it is not present in 4.2Final  \n11:03\u00a0<+mflorea>\u00a0[ERROR] com.xpn.xwiki.plugin.mailsender.MailSender: Method 'public int sendMessageFromTemplate(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.util.Map)' has been removed  \n11:03\u00a0<+mflorea>\u00a0I guess Sergiu reverted the commit only from master  \n11:03\u00a0<+Enygma`>\u00a0yes, that method was added before 4.2RC1 and then removed before 4.2Final  \n11:03\u00a0<+Enygma`>\u00a0right...  \n11:04\u00a0<+Enygma`>\u00a0so we either go ahead and add an exception for it, or, if jvelo is not yet done with the release, we could re-release xwiki-platform with the commit included  \n11:04\u00a0<+mflorea>\u00a0or add the method to master again, if it's useful  \n11:05\u00a0<+Enygma`>\u00a0right, as in revert this recent commit  \n11:06\u00a0<jvelo>\u00a0has quit  \n12:37\u00a0<mflorea>\u00a0has quit  \n12:48\u00a0<npm\\_>\u00a0has quit  \n12:49\u00a0<npm\\_>\u00a0has joined #xwiki  \n13:40\u00a0<mflorea>\u00a0has joined #xwiki  \n14:16\u00a0<eshan>\u00a0has quit  \n15:41\u00a0<jvelo>\u00a0has joined #xwiki  \n16:15\u00a0<jvelo>\u00a0has quit  \n16:37\u00a0<vmassol>\u00a0has quit  \n16:39\u00a0<vmassol>\u00a0has joined #xwiki  \n17:00\u00a0<jvelo>\u00a0has joined #xwiki  \n17:03\u00a0<jvelo>\u00a0Hi guys. FYI I'll finish the 4.2 release tonight (ANN, blog, etc.) as I am spending the day in trains  \n17:07\u00a0<jvelo>\u00a0has quit  \n17:11\u00a0<vmassol>\u00a0ok  \n17:19\u00a0<jvelo>\u00a0has joined #xwiki  \n17:24\u00a0<evalica>\u00a0has quit  \n17:25\u00a0<Denis>\u00a0has quit  \n17:29\u00a0<Enygma`>\u00a0has quit  \n17:29\u00a0<jvelo>\u00a0has quit  \n17:34\u00a0<tmortagne>\u00a0has quit  \n18:16\u00a0<jvelo>\u00a0has joined #xwiki  \n18:33\u00a0<jvelo>\u00a0has quit  \n18:54\u00a0<mflorea>\u00a0has quit  \n19:08\u00a0<abusenius>\u00a0has joined #xwiki  \n19:39\u00a0<jvdrean1>\u00a0has quit  \n20:29\u00a0<polx>\u00a0has joined #xwiki  \n20:41\u00a0<polx>\u00a0Hello XWiki experts, I just found out that start and stop of a cache is equivalent to flushCache. Is that right?  \n20:41\u00a0<polx>\u00a0(over JMX I mean)  \n20:44\u00a0<vmassol>\u00a0has quit  \n20:47\u00a0<vmassol>\u00a0has joined #xwiki  \n21:33\u00a0<coud4>\u00a0has quit  \n21:53\u00a0<polx>\u00a0has quit  \n21:54\u00a0<polx>\u00a0has joined #xwiki  \n21:54\u00a0<jvelo>\u00a0has joined #xwiki  \n21:54\u00a0<jvelo>\u00a0has quit  \n22:30\u00a0<polx>\u00a0has quit  \n22:49\u00a0<vmassol>\u00a0has quit  \n23:08\u00a0<polx>\u00a0has joined #xwiki  \n23:20\u00a0<vmassol>\u00a0has joined #xwiki  \n23:24\u00a0<vmassol>\u00a0has quit  \n23:46\u00a0<abusenius>\u00a0has quit  \n23:50\u00a0<vmassol>\u00a0has joined #xwiki  \n23:59\u00a0<vmassol>\u00a0has quit  \n\n"}