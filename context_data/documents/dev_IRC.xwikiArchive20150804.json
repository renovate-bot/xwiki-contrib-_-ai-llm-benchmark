{"id": "dev:IRC.xwikiArchive20150804", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150804", "title": "IRC Archive for channel #xwiki on 04 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<tmortagne>\u00a0has joined #xwiki  \n00:19\u00a0<tmortagne>\u00a0has quit  \n00:47\u00a0<abusenius>\u00a0has quit  \n04:25\u00a0<Ramona1>\u00a0has joined #xwiki  \n06:00\u00a0<Ramona1>\u00a0has quit  \n06:36\u00a0<woshilapin>\u00a0has joined #xwiki  \n07:19\u00a0<mflorea>\u00a0has joined #xwiki  \n07:39\u00a0<mflorea>\u00a0has quit  \n08:43\u00a0<abusenius>\u00a0has joined #xwiki  \n08:48\u00a0<woshilap1n>\u00a0has joined #xwiki  \n08:51\u00a0<woshilapin>\u00a0has quit  \n09:01\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:17\u00a0<abusenius>\u00a0has quit  \n09:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:23\u00a0<mflorea>\u00a0has joined #xwiki  \n09:26\u00a0<Slashman>\u00a0has joined #xwiki  \n09:26\u00a0<martin-h>\u00a0has joined #xwiki  \n10:23\u00a0<mflorea>\u00a0vmassol: I don't see any signature of getUtil().createPage to allow me to create a nested document in a functional test. We don't have any selenium test that creates a nested doc? Or maybe I'm looking in the wrong place?  \n10:23\u00a0<vmassol>\u00a0we probably don't have, which shows how much we're behind in testing Nested SpaceS/Documents...  \n10:24\u00a0<vmassol>\u00a0I don't think any of the devs have added func tests :(  \n10:24\u00a0<vmassol>\u00a0(for nested docs)  \n10:24\u00a0<mflorea>\u00a0ok, I'll add it then. I need it to create a nested doc hierarchy for testing the tree  \n10:24\u00a0<vmassol>\u00a0thx  \n10:26\u00a0<mflorea>\u00a0there is already a getURL() signature that gets list of spaces  \n10:30\u00a0<vmassol>\u00a0not really mflorea  \n10:30\u00a0<vmassol>\u00a0the getURL signature I added recently was not for ND  \n10:30\u00a0<mflorea>\u00a0ah  \n10:30\u00a0<mflorea>\u00a0right  \n10:30\u00a0<mflorea>\u00a0that array contains the space and the page  \n10:30\u00a0<vmassol>\u00a0it's to be able to construct any type of URLs but yes it can be used for ND  \n10:31\u00a0<vmassol>\u00a0I used it for that actually :) here:  \n10:31\u00a0<vmassol>\u00a0\u00a0// Verify that accessing /view/A/B goes to A.B.WebHome (Nested Documents URL shortcut feature)  \n10:31\u00a0<vmassol>\u00a0getUtil().gotoPage(getUtil().getURL(\"view\", new String[] {\"view\", \"A\", \"B\"}, null));  \n10:31\u00a0<vmassol>\u00a0oops, 2 views, bug  \n10:31\u00a0<mflorea>\u00a0:)  \n10:31\u00a0<vmassol>\u00a0it's a local bug  \n10:32\u00a0<vmassol>\u00a0haven(t committed it yet, I'm changing the signature  \n10:32\u00a0<vmassol>\u00a0for getURL  \n10:32\u00a0<vmassol>\u00a0to: public String getURL(String action, String[] path, String queryString)  \n10:33\u00a0<vmassol>\u00a0committing now so that it's done  \n10:34\u00a0<mflorea>\u00a0ok, I'll do a git pull  \n10:35\u00a0<lynxt>\u00a0has quit  \n10:35\u00a0<meatcar>\u00a0has quit  \n10:37\u00a0<lynxt>\u00a0has joined #xwiki  \n10:37\u00a0<meatcar>\u00a0has joined #xwiki  \n10:48\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:49\u00a0<woshilap1n>\u00a0has quit  \n11:14\u00a0<vmassol>\u00a0mflorea: question for the documentTree macro  \n11:14\u00a0<vmassol>\u00a0I'm testing it  \n11:14\u00a0<vmassol>\u00a0it's using both the parent/child + ND by default?  \n11:14\u00a0<vmassol>\u00a0ah no forget that  \n11:15\u00a0<vmassol>\u00a0(got tricked by the fact that docs in a single space are NestedDocuments by default ;))  \n11:16\u00a0<Ramona2>\u00a0has joined #xwiki  \n11:21\u00a0<mflorea>\u00a0vmassol: only ND by default. Note that we may want to improve the title of the default docs, for instance \"XWiki Space\"  \n11:21\u00a0<vmassol>\u00a0indeed  \n11:21\u00a0<vmassol>\u00a0looks good so far :)  \n11:21\u00a0<vmassol>\u00a0haven't tried search yet  \n11:22\u00a0<mflorea>\u00a0great, the search should work fine for top level (Space.Page) docs and attachments  \n11:22\u00a0<vmassol>\u00a0ok it's not implemented yet for NS/ND  \n11:22\u00a0<mflorea>\u00a0but it fails to find nested docs (at least 2 levels of space)  \n11:22\u00a0<vmassol>\u00a0k  \n11:22\u00a0<mflorea>\u00a0I'm fixing this  \n11:22\u00a0<vmassol>\u00a0k  \n11:23\u00a0<mflorea>\u00a0(on Solr side)  \n11:23\u00a0<vmassol>\u00a0one thing a bit weird  \n11:24\u00a0<vmassol>\u00a0in NS mode, I see the WebHome twice  \n11:24\u00a0<vmassol>\u00a0once at the node level and once at the leaf level  \n11:25\u00a0<mflorea>\u00a0that's normal, you see the space and the pages as separate entities  \n11:25\u00a0<vmassol>\u00a0https://www.evernote.com/l/AHc4bRxiRflLe5Lc1lRvdejFGv1BGE0V4Aw  \n11:25\u00a0<vmassol>\u00a0yes but for Webhome we could hide them  \n11:25\u00a0<mflorea>\u00a0I know, it's done on purpose  \n11:25\u00a0<vmassol>\u00a0since they're accessible by the node  \n11:26\u00a0<vmassol>\u00a0hey I was surprised to see my nested pages in the parentchild mode :)  \n11:26\u00a0<mflorea>\u00a0it's more work and I'm not sure we need the NS mode that much  \n11:27\u00a0<vmassol>\u00a0we can dsicuss it later indeed  \n11:27\u00a0<mflorea>\u00a0yep  \n11:27\u00a0<vmassol>\u00a0regarding {{documentTree hierarchyMode=\"parentchild\" /}}  \n11:27\u00a0<vmassol>\u00a0hwo come I see my nested docs? :)  \n11:27\u00a0<vmassol>\u00a0ah I know  \n11:27\u00a0<vmassol>\u00a0we're still setting the parent  \n11:27\u00a0<vmassol>\u00a0I've pinged Edy about that  \n11:27\u00a0<mflorea>\u00a0probably  \n11:28\u00a0<vmassol>\u00a0we(ll need to decide if that's what we want or not  \n11:28\u00a0<mflorea>\u00a0note that we even require the parent field for default docs  \n11:28\u00a0<vmassol>\u00a0yes we need to decide globally if we continue setting the parents or not  \n11:28\u00a0<vmassol>\u00a0sending an email  \n11:28\u00a0<mflorea>\u00a0they will still appear in the tree even without the parent, but at the root  \n11:29\u00a0<mflorea>\u00a0orphan docs appears at the root of the parentchild tree  \n11:35\u00a0<vmassol>\u00a0mail sent  \n11:36\u00a0<Pbas>\u00a0has left #xwiki  \n11:37\u00a0<woshilap1n>\u00a0has joined #xwiki  \n11:39\u00a0<woshilapin>\u00a0has quit  \n11:42\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:43\u00a0<woshilap1n>\u00a0has quit  \n11:54\u00a0<woshilap1n>\u00a0has joined #xwiki  \n11:56\u00a0<Ramona2>\u00a0has quit  \n11:58\u00a0<woshilapin>\u00a0has quit  \n12:04\u00a0<vmassol>\u00a0hmm I wonder how someone was able to change the language for playground to chinese...  \n12:04\u00a0<woshilapin>\u00a0has joined #xwiki  \n12:05\u00a0<vmassol>\u00a0seems we have some permission issue  \n12:06\u00a0<vmassol>\u00a0hmm indeed eveyrone is given admin rights!  \n12:08\u00a0<woshilap1n>\u00a0has quit  \n12:16\u00a0<Ramona2>\u00a0has joined #xwiki  \n12:45\u00a0<woshilapin>\u00a0has quit  \n12:48\u00a0<Trefex>\u00a0has joined #xwiki  \n12:56\u00a0<Trefex1>\u00a0has joined #xwiki  \n13:00\u00a0<Trefex>\u00a0has quit  \n13:16\u00a0<woshilapin>\u00a0has joined #xwiki  \n13:39\u00a0<vmassol>\u00a0hmm we still have these failures: http://ci.xwiki.org/job/xwiki-commons\\_Sonar/org.xwiki.commons$xwiki-commons-crypto-pkix/364/testReport/  \n13:39\u00a0<vmassol>\u00a0I wonder why...  \n13:40\u00a0<vmassol>\u00a0apparently it's only when using the sonar build  \n13:50\u00a0<Ramona2>\u00a0has quit  \n13:50\u00a0<Ramona2>\u00a0has joined #xwiki  \n13:51\u00a0<vmassol>\u00a0actually I can reproduce locally  \n13:54\u00a0<Ramona2>\u00a0has quit  \n14:06\u00a0<vmassol>\u00a0mflorea, tmortagne: does the DefaultCMSSignedDataTest also fail for you in your IDE?  \n14:08\u00a0<Slashman>\u00a0has quit  \n14:09\u00a0<mflorea>\u00a0vmassol: which module?  \n14:09\u00a0<vmassol>\u00a0crypto-pkix  \n14:09\u00a0<mflorea>\u00a0let me try  \n14:10\u00a0<vmassol>\u00a0mflorea: just downloaded a XE built and I get somr SOLR error at startup  \n14:10\u00a0<mflorea>\u00a0I didn't commit anything on Solr  \n14:11\u00a0<vmassol>\u00a0https://gist.githubusercontent.com/vmassol/e236503acbb8abfc5fc0/raw/b176911de5c6b703fd0fb04e994b5168e19f4713/gistfile1.txt  \n14:11\u00a0<mflorea>\u00a0yet  \n14:11\u00a0<vmassol>\u00a0the download from yesterday or this morning was working fine  \n14:11\u00a0<vmassol>\u00a0my download was xwiki-enterprise-jetty-hsqldb-7.2-20150804.102658-187.zip  \n14:11\u00a0<vmassol>\u00a0ie from 10:26 this morning  \n14:12\u00a0<vmassol>\u00a0just tried again and same error, it's not a fluke  \n14:13\u00a0<mflorea>\u00a0Caused by: java.io.IOException: Can't find resource 'solrconfig.xml' in classpath or '/Users/vmassol/Desktop/xwiki-enterprise-jetty-hsqldb-7.2-SNAPSHOT/data/solr/collection1/conf'  \n14:14\u00a0<vmassol>\u00a0this the download I took: http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/7.2-SNAPSHOT/xwiki-enterprise-jetty-hsqldb-7.2-20150804.102658-187.zip  \n14:14\u00a0<vmassol>\u00a0(it's our latest one)  \n14:19\u00a0<vmassol>\u00a0there's no solrconfig.xml in it  \n14:22\u00a0<mflorea>\u00a0works for me, Are you sure you didn't unzip this version over another one?  \n14:22\u00a0<vmassol>\u00a0I'm sure, let me unzip again  \n14:23\u00a0<vmassol>\u00a0you have solrconfig.xml file?  \n14:23\u00a0<vmassol>\u00a0\\*have a  \n14:23\u00a0<vmassol>\u00a0I unzipped again and I still don't have one...  \n14:24\u00a0<mflorea>\u00a0sure, it's normal to not have one after unzip, it is created when XWiki is started  \n14:24\u00a0<mflorea>\u00a0the data/solr folder is created at start up, if it doesn't exist  \n14:24\u00a0<vmassol>\u00a0I thought you were saying above that it was the reason it was failing  \n14:24\u00a0<vmassol>\u00a0(to not have a solrconfig.xml)  \n14:25\u00a0<mflorea>\u00a0it was the reason after the restart, i.e. the start up should have created it and it seems it wasn't created in your case for some reason  \n14:25\u00a0<vmassol>\u00a0ok I've unzipped again and started and no more error  \n14:25\u00a0<vmassol>\u00a0strange  \n14:25\u00a0<mflorea>\u00a0it is created in my case  \n14:25\u00a0<vmassol>\u00a0I hope its not a fluke  \n14:26\u00a0<mflorea>\u00a0crypto-pkix fails for me on console  \n14:26\u00a0<vmassol>\u00a0thanks for testing, let's see if it happens again  \n14:26\u00a0<vmassol>\u00a0ok so there really is a problem  \n14:26\u00a0<vmassol>\u00a0I wonder why now  \n14:26\u00a0<vmassol>\u00a0too bad Denis is on holidays  \n14:26\u00a0<mflorea>\u00a0same with -U, Tests run: 24, Failures: 6, Errors: 0, Skipped: 0  \n14:26\u00a0<vmassol>\u00a0yep  \n14:29\u00a0<tmortagne>\u00a0vmassol: most of DefaultCMSSignedDataTest is failing for me too  \n14:29\u00a0<tmortagne>\u00a0only one test passing  \n14:29\u00a0<vmassol>\u00a0yes I have only 1 passing here  \n14:30\u00a0<vmassol>\u00a0if anyone has an idea :)  \n14:38\u00a0<Slashman>\u00a0has joined #xwiki  \n15:50\u00a0<abusenius>\u00a0has joined #xwiki  \n16:28\u00a0<Ramona2>\u00a0has joined #xwiki  \n17:20\u00a0<Ramona2>\u00a0has quit  \n17:26\u00a0<cjd>\u00a0has quit  \n17:28\u00a0<cjd>\u00a0has joined #xwiki  \n17:46\u00a0<woshilap1n>\u00a0has joined #xwiki  \n17:49\u00a0<woshilapin>\u00a0has quit  \n18:08\u00a0<KermitTheFragger>\u00a0has quit  \n18:19\u00a0<abusenius>\u00a0has quit  \n18:21\u00a0<Trefex1>\u00a0has quit  \n18:38\u00a0<mflorea>\u00a0has quit  \n19:15\u00a0<abusenius>\u00a0has joined #xwiki  \n19:18\u00a0<tmortagne>\u00a0has quit  \n19:47\u00a0<woshilap1n>\u00a0has quit  \n20:53\u00a0<Ramona1>\u00a0has joined #xwiki  \n21:34\u00a0<Ramona1>\u00a0has quit  \n21:53\u00a0<cjd>\u00a0has quit  \n22:23\u00a0<Slashman>\u00a0has quit  \n23:11\u00a0<woshilapin>\u00a0has joined #xwiki  \n23:48\u00a0<woshilapin>\u00a0has quit\n"}