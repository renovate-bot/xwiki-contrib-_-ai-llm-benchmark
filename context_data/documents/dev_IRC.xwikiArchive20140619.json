{"id": "dev:IRC.xwikiArchive20140619", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140619", "title": "IRC Archive for channel #xwiki on 19 June 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Lyes1>\u00a0has quit  \n01:59\u00a0<sburjan>\u00a0has quit  \n04:24\u00a0<benoitc>\u00a0has quit  \n04:27\u00a0<benoitc>\u00a0has joined #xwiki  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n06:52\u00a0<mflorea>\u00a0has joined #xwiki  \n07:18\u00a0<Lyes>\u00a0has joined #xwiki  \n07:31\u00a0<msmeria>\u00a0has joined #xwiki  \n07:34\u00a0<vmassol>\u00a0has joined #xwiki  \n08:00\u00a0<evalica>\u00a0has joined #xwiki  \n08:11\u00a0<vmassol>\u00a0Denis1: good morning  \n08:12\u00a0<vmassol>\u00a0(forget it, I wanted to ask a question but it was stupid ;))  \n08:27\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:33\u00a0<mflorea>\u00a0has quit  \n08:40\u00a0<lucaa>\u00a0has joined #xwiki  \n08:48\u00a0<Denis1>\u00a0is now known as <Denis>  \n08:49\u00a0<lucaa>\u00a0has quit  \n08:49\u00a0<tmortagne>\u00a0Hi vmassol  \n08:49\u00a0<tmortagne>\u00a0BFD today or is it something else ? I don't remember ?  \n08:49\u00a0<Denis>\u00a0vmassol: good morning, no question is stupid, answers could be :)  \n08:51\u00a0<vmassol>\u00a0tmortagne: indeed, however I won't have time to handle it. I think we should do BFD, we are 20 bugs behind  \n08:51\u00a0<tmortagne>\u00a0ok sending the mail  \n08:51\u00a0<vmassol>\u00a0I'm taking 1/2 day off between today and tomorrow, I won't be avail between 11:30 and 14:00 today  \n08:52\u00a0<vmassol>\u00a0(I need a few hours here and there to prepare the last details of a surprise anniversary for the 40 years of my wife ;))  \n08:53\u00a0<vmassol>\u00a0(if I need more I'll take 1 day between today and tomorrow, not sure yet)  \n08:53\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:57\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:07\u00a0<cjd>\u00a0has joined #xwiki  \n09:09\u00a0<vmassol>\u00a0tmortagne: we now need the HTML macro for a minimal XWiki runtime?  \n09:09\u00a0<vmassol>\u00a0not very nice IMO  \n09:10\u00a0<vmassol>\u00a0see https://www.evernote.com/shard/s119/sh/4f5d2533-298b-4cc2-a07e-559f5a88be4e/921029241126d82854abac113b88d01c  \n09:10\u00a0<tmortagne>\u00a0vmassol: html macro always been used by XWikiDocument#display APIs  \n09:10\u00a0<vmassol>\u00a0it was working fine before without it for sure  \n09:11\u00a0<vmassol>\u00a0I've written func tests with out  \n09:11\u00a0<vmassol>\u00a0without it  \n09:11\u00a0<tmortagne>\u00a0not everything no  \n09:11\u00a0<vmassol>\u00a0well there are 2 problems here  \n09:11\u00a0<tmortagne>\u00a0again XWikiDocument#display produces html macro  \n09:11\u00a0<vmassol>\u00a01) it's not been added to the default packaging  \n09:11\u00a0<vmassol>\u00a02) this is not going in the right direction  \n09:11\u00a0<vmassol>\u00a0(default pacakging == the packager plugin  \n09:11\u00a0<vmassol>\u00a0)  \n09:12\u00a0<vmassol>\u00a0the goal is to remove the need for the html macro by deprecating #display as you know of course  \n09:12\u00a0<vmassol>\u00a0so I don't see the plint  \n09:12\u00a0<vmassol>\u00a0point  \n09:12\u00a0<vmassol>\u00a0there are func tests that don't require to call 1display  \n09:13\u00a0<vmassol>\u00a0#display  \n09:13\u00a0<vmassol>\u00a0now if you make it mandatory for the init screen it makes it wrose  \n09:13\u00a0<vmassol>\u00a0worse  \n09:14\u00a0<vmassol>\u00a0ATM all func tests that require the HTML macro add a dependency on it  \n09:14\u00a0<vmassol>\u00a0because they didn't have it by default before  \n09:14\u00a0<vmassol>\u00a0(which was good)  \n09:15\u00a0<mflorea>\u00a0has joined #xwiki  \n09:17\u00a0<tmortagne>\u00a0vmassol: not having html macro does not prevent XWiki to work, it just display an error in the init screen  \n09:17\u00a0<tmortagne>\u00a0this is not an issue for any test  \n09:17\u00a0<vmassol>\u00a0it's not about the test  \n09:18\u00a0<vmassol>\u00a0it's about being able to construct a \u00a0minimal runtime from the platform  \n09:18\u00a0<vmassol>\u00a0so no it's not good  \n09:18\u00a0<tmortagne>\u00a0if you have another way to include html in a wiki content sure  \n09:19\u00a0<vmassol>\u00a0well first this shouldb't be in a wiki page  \n09:19\u00a0<vmassol>\u00a0since it should work with an empty wiki  \n09:19\u00a0<vmassol>\u00a0(empty db)  \n09:19\u00a0<tmortagne>\u00a0it's not a page...  \n09:19\u00a0<tmortagne>\u00a0of course it's not, that would never wok  \n09:19\u00a0<vmassol>\u00a0then you don't need the html macro  \n09:19\u00a0<vmassol>\u00a0html macro is for wiki content  \n09:19\u00a0<tmortagne>\u00a0how do you epet to load a wiki page when XWiki is not initialize ?  \n09:20\u00a0<tmortagne>\u00a0it is wiki content as in wiki syntax  \n09:20\u00a0<vmassol>\u00a0I haven't checked your code on how you do it, but if you use a template you don't need the html macro  \n09:20\u00a0<vmassol>\u00a0why do you need it?  \n09:21\u00a0<tmortagne>\u00a0in this case, parse template is totally unusable without XWiki instance and anyway the goal at some point is to move template to wiki content like this one  \n09:21\u00a0<tmortagne>\u00a0so I don't really see your point  \n09:33\u00a0<vmassol>\u00a0you know very well the point, the point is to reduce our dependency on the html macro, we have several jira issues about this  \n09:34\u00a0<vmassol>\u00a0the other point is that you forgot to change the packager plugin  \n09:34\u00a0<vmassol>\u00a0and all func tests as a result  \n09:34\u00a0<vmassol>\u00a0if we really need html macro for xwiki to work then it needs to be in the packager plugin  \n09:34\u00a0<vmassol>\u00a0and all deps to to the htlm macro in func tests are not needed anymore  \n09:58\u00a0<lucaa>\u00a0has joined #xwiki  \n10:08\u00a0<vmassol>\u00a0actually I don't think we should remove the deps on the html macro in func tests, that's a good thing to have.  \n10:08\u00a0<vmassol>\u00a0there are various possibilities  \n10:09\u00a0<vmassol>\u00a0one of them is to have a template for the init part, which allows the user to customize the UI or add other stuff, like for other templates  \n10:10\u00a0<vmassol>\u00a0another one is to make this init ui optional and not have it packaged by the packager plugin by default (I think the first option might be better though)  \n10:11\u00a0<vmassol>\u00a0I think we also floated the idea of having 2 html macros in the past; one \"internal\" one not usable in wiki pages and another one which could be used internally in templates for example  \n10:25\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:59\u00a0<lucaa>\u00a0has quit  \n11:07\u00a0<lucaa>\u00a0has joined #xwiki  \n11:18\u00a0<lucaa>\u00a0has quit  \n11:27\u00a0<lucaa>\u00a0has joined #xwiki  \n11:39\u00a0<Slashman>\u00a0has joined #xwiki  \n13:45\u00a0<msmeria>\u00a0has quit  \n13:48\u00a0<msmeria>\u00a0has joined #xwiki  \n14:04\u00a0<Slashman>\u00a0has quit  \n14:05\u00a0<Slashman>\u00a0has joined #xwiki  \n14:15\u00a0<msmeria>\u00a0has quit  \n15:27\u00a0<ClemensR>\u00a0anyonew minds if I merge https://github.com/xwiki/xwiki-platform/pull/286 \u00a0(I have checked that it works locally)  \n15:27\u00a0<gdelhumeau>\u00a0sorry ClemensR ...  \n15:27\u00a0<gdelhumeau>\u00a0I just did...  \n15:28\u00a0<gdelhumeau>\u00a0so at least we both agree to merge it :)  \n15:28\u00a0<ClemensR>\u00a0ah ok, failed to refresh :)  \n15:28\u00a0<ClemensR>\u00a0good, me up to the next task :)  \n15:29\u00a0<gdelhumeau>\u00a0meet PascalB in the BFD: http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=12390 :)  \n15:30\u00a0<gdelhumeau>\u00a0(btw the title of the dashboard is wrong: wrong date)  \n15:34\u00a0<vmassol>\u00a0ok cheating a bit on my side\u2026 I fixed a bug on the mail api  \n15:35\u00a0<gdelhumeau>\u00a0cheating!  \n15:35\u00a0<gdelhumeau>\u00a0I don't put the bugfixingday label in issues related to Flamingo, because I would have closed them anyway  \n15:36\u00a0<gdelhumeau>\u00a0(even with no BFD)  \n15:50\u00a0<tmortagne>\u00a0vmassol: \"Rule violated for bundle XWiki Platform - Mail - Send - Default Implementation: instructions covered ratio is 0.78, but expected minimum is 0.80\" bad luck :)  \n15:51\u00a0<vmassol>\u00a0ah yes  \n15:51\u00a0<vmassol>\u00a0thanks  \n15:52\u00a0<vmassol>\u00a0I've actually increased the TPC  \n15:52\u00a0<vmassol>\u00a0but in a functional test  \n15:52\u00a0<tmortagne>\u00a0that's what they all say :)  \n15:52\u00a0<vmassol>\u00a0hehe  \n15:52\u00a0<vmassol>\u00a0I hesitated a lot  \n15:53\u00a0<vmassol>\u00a0(before deciding on having a func tests for this module since normally other features using this module are going to test it too indirectly....)  \n15:53\u00a0<vmassol>\u00a0(other features == watchlist, invitation, etc)  \n15:53\u00a0<vmassol>\u00a0(but they're not migrated yet to the new mail api)  \n15:57\u00a0<vmassol>\u00a0tmortagne: thanks for https://github.com/xwiki/xwiki-platform/commit/d23616958360fc4303f76840d5afecea9ffbe99a how did you do it in the end?  \n15:58\u00a0<tmortagne>\u00a0by extending features of WikiTemplateRenderer, if you don't indicate a syntax it means it's velocity content and then you can choose the syntax to put in the raw block (here I put xhtml/1.0)  \n15:59\u00a0<tmortagne>\u00a0so the init template is now something like a velocity macro that would generate a html rawblock  \n16:00\u00a0<vmassol>\u00a0ok I don't know this part of the code (WikiTemplateRenderer), will need to read a bit to fully understand :) Thanks  \n16:04\u00a0<tmortagne>\u00a0lets call this class internal experiment for the future wiki based templates  \n16:04\u00a0<tmortagne>\u00a0it makes distribution steps and init life a lot easier than the standard .vm template framework  \n16:05\u00a0<vmassol>\u00a0ok  \n16:05\u00a0<vmassol>\u00a0re wiki-based template we'll need to sort out performances  \n16:05\u00a0<vmassol>\u00a0I'm worried a bit about that  \n16:06\u00a0<vmassol>\u00a0and caching requires even more memory  \n16:10\u00a0<tmortagne>\u00a0vmassol: are you sure XWIKI-10456 was on 6.0.1 ?  \n16:11\u00a0<vmassol>\u00a0checking  \n16:11\u00a0<tmortagne>\u00a0looks like something caused by my first commit for XWIKI-10401  \n16:12\u00a0<vmassol>\u00a0I can retest quickly on 6.0  \n16:12\u00a0<vmassol>\u00a0i have a 6.0 download  \n16:14\u00a0<vmassol>\u00a0tmortagne: indeed, I cannot reproduce on 6.0  \n16:14\u00a0<vmassol>\u00a0downloding 6.0.1  \n16:14\u00a0<vmassol>\u00a0will take some time  \n16:15\u00a0<tmortagne>\u00a0pretty sure it's XWIKI-10401, gdelhumeau the same bug to me but as something new in 6.1-SNAPSHOT  \n16:15\u00a0<tmortagne>\u00a0\\*reported  \n16:16\u00a0<vmassol>\u00a0ok  \n16:16\u00a0<vmassol>\u00a0you can close it and get the reward and I'll reopen later on when I test 6.0.1 but I think you're right  \n16:16\u00a0<tmortagne>\u00a0ok  \n16:41\u00a0<ClemensR>\u00a0has left #xwiki  \n16:44\u00a0<woshilapin>\u00a0Hi, is there a way to get the PropertyClass from an instance of an object in Velocity  \n16:44\u00a0<woshilapin>\u00a0I know that $obj.xWikiClass.properties is giving me all the PropertyClass  \n16:44\u00a0<woshilapin>\u00a0And $obj.getProperty('myprop') is giving me a Property  \n16:44\u00a0<woshilapin>\u00a0but don't find how to get a simple PropertyClass (without listing all of them)  \n16:47\u00a0<tmortagne>\u00a0$obj.xWikiClass.myprop (or $obj.xWikiClass.get(\"myprop\")) is supposed to give you the PropertyClass for the property \"myprop\" from what I can see in the API  \n16:52\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:53\u00a0<woshilapin>\u00a0tmortagne: Thanks, indeed, I missed it  \n17:05\u00a0<evalica>\u00a0has quit  \n17:14\u00a0<KermitTheFragger>\u00a0has quit  \n17:21\u00a0<vmassol>\u00a0tmortagne: I confirm it's ok in 6.0.1  \n17:21\u00a0<tmortagne>\u00a0vmassol: ok  \n17:34\u00a0<lucaa>\u00a0has quit  \n17:40\u00a0<lucaa>\u00a0has joined #xwiki  \n18:07\u00a0<vmassol>\u00a0fixing functional tests for mail sender api  \n18:10\u00a0<tmortagne>\u00a0has quit  \n18:10\u00a0<woshilapin>\u00a0has quit  \n18:15\u00a0<cjd>\u00a0has quit  \n18:46\u00a0<Lyes>\u00a0http://ci.xwiki.org/job/xwiki-platform\\_Quality\\_Checks/2277/  \n18:47\u00a0<Lyes>\u00a0Build # 2277 - Still Failing  \n18:48\u00a0<vmassol>\u00a0Lyes: http://ci.xwiki.org/job/xwiki-platform\\_Quality\\_Checks/2277/console  \n18:49\u00a0<vmassol>\u00a0that's your commit it seems :)  \n18:49\u00a0<Lyes>\u00a0yes  \n19:00\u00a0<vmassol>\u00a0Lyes: I've fixed your bugs...  \n19:01\u00a0<vmassol>\u00a0you should execute the functional tests next time before committing ;) (and I should test your PR before applying it!)  \n19:01\u00a0<vmassol>\u00a0(I was lazy)  \n19:02\u00a0<vmassol>\u00a0Lyes: please update the functional test with your latest change now, in order to test it  \n19:02\u00a0<Lyes>\u00a0ok  \n19:02\u00a0<vmassol>\u00a0and also don't forget to add support for languages!  \n19:03\u00a0<vmassol>\u00a0(in mail templates)  \n19:07\u00a0<vmassol>\u00a0(Lyes)  \n19:08\u00a0<Lyes>\u00a0yes  \n19:08\u00a0<sburjan>\u00a0has joined #xwiki  \n19:12\u00a0<mflorea>\u00a0has quit  \n19:26\u00a0<Slashman>\u00a0has quit  \n19:29\u00a0<gdelhumeau>\u00a0has quit  \n19:42\u00a0<Lyes>\u00a0has quit  \n20:08\u00a0<sburjan>\u00a0has quit  \n20:08\u00a0<Denis>\u00a0has quit  \n20:08\u00a0<vmassol>\u00a0has quit  \n20:08\u00a0<sdumitriu1>\u00a0has quit  \n20:08\u00a0<Inge->\u00a0has quit  \n20:10\u00a0<sburjan>\u00a0has joined #xwiki  \n20:10\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n20:14\u00a0<sburjan>\u00a0has quit  \n20:14\u00a0<Denis>\u00a0has quit  \n20:14\u00a0<vmassol>\u00a0has quit  \n20:14\u00a0<sdumitriu1>\u00a0has quit  \n20:14\u00a0<Inge->\u00a0has quit  \n20:16\u00a0<Denis>\u00a0has joined #xwiki  \n20:16\u00a0<Inge->\u00a0has joined #xwiki  \n20:33\u00a0<sburjan>\u00a0has quit  \n20:33\u00a0<sburjan`>\u00a0has joined #xwiki  \n20:33\u00a0<sburjan`>\u00a0is now known as <sburjan>  \n20:38\u00a0<Lyes>\u00a0has joined #xwiki  \n21:00\u00a0<lucaa>\u00a0has quit  \n21:31\u00a0<OSIMasson>\u00a0has quit  \n21:33\u00a0<vmassol>\u00a0has quit  \n21:33\u00a0<Lyes>\u00a0has quit  \n21:57\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:11\u00a0<Lyes>\u00a0has joined #xwiki  \n22:25\u00a0<Lyes>\u00a0has quit  \n22:27\u00a0<Lyes>\u00a0has joined #xwiki  \n22:28\u00a0<Lyes>\u00a0has quit  \n22:51\u00a0<bouquetf>\u00a0has quit  \n22:53\u00a0<bouquetf>\u00a0has joined #xwiki  \n23:50\u00a0<lucaa>\u00a0has joined #xwiki\n"}