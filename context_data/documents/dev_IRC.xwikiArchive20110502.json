{"id": "dev:IRC.xwikiArchive20110502", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110502", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:07\u00a0<polx>\u00a0has quit  \n02:24\u00a0<jvdrean>\u00a0has quit  \n03:11\u00a0<mar3lis>\u00a0has quit  \n04:41\u00a0<venkatesh>\u00a0has joined #xwiki  \n04:42\u00a0<venkatesh>\u00a0has quit  \n04:49\u00a0<DrLou>\u00a0has quit  \n04:57\u00a0<DrLou>\u00a0has joined #xwiki  \n05:01\u00a0<venkatesh>\u00a0has joined #xwiki  \n05:06\u00a0<DrLou>\u00a0has quit  \n07:41\u00a0<mflorea>\u00a0has joined #xwiki  \n08:11\u00a0<Chami1>\u00a0has joined #xwiki  \n08:16\u00a0<vmassol>\u00a0has joined #xwiki  \n08:27\u00a0<Denis>\u00a0has joined #xwiki  \n08:36\u00a0<bbc581>\u00a0has quit  \n08:37\u00a0<bbc581>\u00a0has joined #xwiki  \n09:10\u00a0<arkub>\u00a0has joined #xwiki  \n09:11\u00a0<cjdelisle>\u00a0has quit  \n09:13\u00a0<cjdelisle>\u00a0has joined #xwiki  \n09:23\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:23\u00a0<@sdumitriu>\u00a0cjdelisle: Did you disable building all the branches from jenkins?  \n09:25\u00a0<@cjdelisle>\u00a0yes and I added the M1 jobs  \n09:30\u00a0<@cjdelisle>\u00a0rebuilding platform since the problem seems to be a flicker  \n09:35\u00a0<@cjdelisle>\u00a0Where do I download the translations from l10n?  \n09:39\u00a0<sburjan>\u00a0has joined #xwiki  \n09:39\u00a0<@sdumitriu>\u00a0http://l10n.xwiki.org/xwiki/bin/view/XE/  \n09:40\u00a0<@sdumitriu>\u00a0There are links to download \"Get as Application Resource pack\"  \n09:40\u00a0<@sdumitriu>\u00a0In the table  \n09:40\u00a0<@cjdelisle>\u00a0thanks  \n09:40\u00a0<@sdumitriu>\u00a0If you don't see them, decrease font size, or increase window width  \n09:40\u00a0<bbc581>\u00a0has quit  \n09:45\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:50\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:19\u00a0<Chami1>\u00a0has quit  \n10:19\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:27\u00a0<pulasthi>\u00a0has joined #xwiki  \n10:28\u00a0<pulasthi>\u00a0has left #xwiki  \n10:42\u00a0<lucaa>\u00a0has quit  \n10:50\u00a0<vmassol>\u00a0found that on github you can also notify a developer by using his id in a comment for ex  \n10:51\u00a0<vmassol>\u00a0(by prefixing with '@')  \n10:53\u00a0<+sburjan>\u00a0what's with the 3.1M1-SNAPSHOT dir on maven ?  \n10:53\u00a0<@sdumitriu>\u00a0The builds for the upcoming release  \n10:54\u00a0<@cjdelisle>\u00a0http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/3.1M1-SNAPSHOT/  \n10:54\u00a0<+sburjan>\u00a0well this is new.. at least for me  \n10:55\u00a0<+tmortagne>\u00a0yep this is  \n10:55\u00a0<+sburjan>\u00a0did we change the release procedure ?  \n10:55\u00a0<+sburjan>\u00a0let me check the mailing list  \n10:56\u00a0<sburjan`>\u00a0has quit  \n10:58\u00a0<@cjdelisle>\u00a0heh more like an informal change which was decided on irc  \n10:59\u00a0<+sburjan>\u00a0so which one is trunk atm ?  \n11:00\u00a0<@cjdelisle>\u00a0trunk is 3.1-SNAPSHOT but since that is not going to be released for a few more weeks and M1 is going to be released today, it makes sense to test M1  \n11:02\u00a0<+tmortagne>\u00a0sburjan: trunk is still the same but if what you want to validate what will be release then use 3.1M1-SNAPSHOT  \n11:03\u00a0<@cjdelisle>\u00a0Are all of the translations for wysiwyg here? http://l10n.xwiki.org/xwiki/bin/view/Wysiwyg/  \n11:03\u00a0<+tmortagne>\u00a0since trunk could contains others unstable things not planned for M1 which is why this branch has been created (to not block trunk)  \n11:03\u00a0<@cjdelisle>\u00a0Or are there others hiding somewhere else?  \n11:03\u00a0<+tmortagne>\u00a0cjdelisle: they are all here  \n11:03\u00a0<@cjdelisle>\u00a0thanks  \n11:05\u00a0<arkub>\u00a0has quit  \n11:21\u00a0<arkub>\u00a0has joined #xwiki  \n11:23\u00a0<@cjdelisle>\u00a0If I'm going to do any releasing on jira I'm going to have to have permission  \n11:25\u00a0<+tmortagne>\u00a0cjdelisle: looking  \n11:25\u00a0<lucaa>\u00a0has joined #xwiki  \n11:26\u00a0<+tmortagne>\u00a0cjdelisle: should be ok now  \n11:26\u00a0<+tmortagne>\u00a0(you are admin)  \n11:27\u00a0<@cjdelisle>\u00a0thanks  \n11:30\u00a0<evalica>\u00a0has joined #xwiki  \n11:31\u00a0<@cjdelisle>\u00a0Is manager not released in milestones?  \n11:31\u00a0<@sdumitriu>\u00a0Nope  \n11:31\u00a0<@sdumitriu>\u00a0That was the practice so far  \n11:31\u00a0<@sdumitriu>\u00a0We could change it, since it's easier to release it  \n11:31\u00a0<@cjdelisle>\u00a0I had planned on releasing it but then I didn't know.  \n11:32\u00a0<@sdumitriu>\u00a0I'm +0 for releasing XEM  \n11:32\u00a0<@cjdelisle>\u00a0Makes no difference to me, I'll let you guys decide  \n11:32\u00a0<@sdumitriu>\u00a0There's no - to it, just that it takes some more time  \n11:32\u00a0<+tmortagne>\u00a0yep since it's pretty easy now i would say +1 for release manager  \n11:33\u00a0<+tmortagne>\u00a0especially since it make no difference to you ;)  \n11:33\u00a0<@sdumitriu>\u00a0And it would be good to make a practice release before the final needs to be released  \n11:33\u00a0<@cjdelisle>\u00a0So I should add 3.1M1 and 3.1M2 versions to XEM then right?  \n11:34\u00a0<@cjdelisle>\u00a0(jira)  \n11:34\u00a0<+tmortagne>\u00a0cjdelisle: yep  \n11:38\u00a0<@cjdelisle>\u00a0My plan is to stop hudson from building M1, commit new version numbers, release from here, and let maven push the versions to the repo. Sound right?  \n11:39\u00a0<@sdumitriu>\u00a0What?  \n11:39\u00a0<@sdumitriu>\u00a0Why would you do that?  \n11:39\u00a0<@cjdelisle>\u00a0... to release?  \n11:39\u00a0<@sdumitriu>\u00a0mvn release:prepare will change the version numbers automatically  \n11:39\u00a0<abusenius>\u00a0has joined #xwiki  \n11:39\u00a0<@sdumitriu>\u00a0mvn release:perform will upload to the repository  \n11:40\u00a0<@cjdelisle>\u00a0Yes I was planning to use release:perform to do the push.  \n11:40\u00a0<@sdumitriu>\u00a0There's no need to change numbers manually  \n11:40\u00a0<@sdumitriu>\u00a0And you can't do release:perform without release:prepare  \n11:41\u00a0<@cjdelisle>\u00a0Is maven going to commit the changed versions to git?  \n11:42\u00a0<@sdumitriu>\u00a0Yes  \n11:42\u00a0<@cjdelisle>\u00a0Ok so I do have to stop hudson.  \n11:43\u00a0<@cjdelisle>\u00a0I'll see what I can do re release:prepare because it will try to change version numbers of the trunk which is wrong  \n11:44\u00a0<@sdumitriu>\u00a0Why would it?  \n11:44\u00a0<@sdumitriu>\u00a0It will push to the M1 branch  \n11:47\u00a0<+tmortagne>\u00a0cjdelisle: you haver to make sure the <scm> informations are right before using maven  \n11:47\u00a0<+tmortagne>\u00a0then it will not touch master branch  \n11:47\u00a0<+tmortagne>\u00a0I can look at it  \n11:48\u00a0<@sdumitriu>\u00a0I think it will push to the currently tracking branch  \n11:48\u00a0<+tmortagne>\u00a0one more reason to use maven branch instead of branch youself ;)  \n11:48\u00a0<@sdumitriu>\u00a0We'll see  \n11:50\u00a0<@cjdelisle>\u00a0haha -DpushChanges=false  \n11:50\u00a0<@cjdelisle>\u00a0that'll let me review the mess it makes before it pushes it  \n11:50\u00a0<+tmortagne>\u00a0cjdelisle: you don't need that, there is an option to do a virtual prepare  \n11:50\u00a0<+tmortagne>\u00a0dryRun  \n11:51\u00a0<+tmortagne>\u00a0see http://dev.xwiki.org/xwiki/bin/view/Community/ReleaseProcess  \n11:52\u00a0<@cjdelisle>\u00a0I know about dry run. I don't trust maven.  \n11:53\u00a0<mflorea>\u00a0has quit  \n11:55\u00a0<+tmortagne>\u00a0about git branched \"Since version 1.3, we assume that the name of the branch in the \u00a0upstream repo is the same as the name of the current local branch. So \u00a0whenever you invoke a maven-scm action which has to access the upstream \u00a0repository, e.g. start a release, you should be on that very branch. \" ( http://maven.apache.org/scm/git.html )  \n11:55\u00a0<+tmortagne>\u00a0cjdelisle: I don't see the point and anyway the worst it can do is to change all version in the pom which is not very hard to cancle  \n11:55\u00a0<+tmortagne>\u00a0cancel  \n12:04\u00a0<@cjdelisle>\u00a0On as a side note, sometime I'd like to get ssh on one of the hudson executors, I want to try increasing thread counts but I really need to be watching top while it runs so I can stop it if it starts swap thrashing  \n12:06\u00a0<@sdumitriu>\u00a0cjdelisle: You'll need SSH on the executor to perform the release  \n12:06\u00a0<@sdumitriu>\u00a0It's in the release process  \n12:06\u00a0<@sdumitriu>\u00a0http://dev.xwiki.org/xwiki/bin/view/Community/ReleaseProcess  \n12:06\u00a0<@cjdelisle>\u00a0I can't release from this box?  \n12:07\u00a0<@sdumitriu>\u00a0You can, but it's better from the executor  \n12:07\u00a0<@sdumitriu>\u00a0It's the standard release machine  \n12:07\u00a0<@cjdelisle>\u00a0ahh right java5, ok sold  \n12:07\u00a0<@sdumitriu>\u00a0Do you have JDK 1.5?  \n12:07\u00a0<@cjdelisle>\u00a0yes...ish  \n12:08\u00a0<@sdumitriu>\u00a0I have the one from IBM  \n12:08\u00a0<@sdumitriu>\u00a0Since the Sun one is no longer in the official gentoo repository  \n12:09\u00a0<+sburjan>\u00a0how come ?  \n12:10\u00a0<@sdumitriu>\u00a0Well, 1.5 is dead-ish  \n12:12\u00a0<@cjdelisle>\u00a0got it, thanks  \n12:19\u00a0<@cjdelisle>\u00a0now how is this hudson agent going to commit anything to github?  \n12:34\u00a0<jvdrean1>\u00a0has joined #xwiki  \n12:35\u00a0<@sdumitriu>\u00a0cjdelisle: add the hudsonagent public key to your github account, copy your .gitconfig to the machine, checkout, release  \n12:36\u00a0<jvdrean>\u00a0has quit  \n12:42\u00a0<@cjdelisle>\u00a0Make a directory for 3.1 and 3.1M1 inside of it or a 3.1M1 top level dir?  \n12:43\u00a0<@sdumitriu>\u00a0TLD  \n12:43\u00a0<@sdumitriu>\u00a0Actually it should be a global git-trunks  \n12:43\u00a0<@sdumitriu>\u00a0To replace the current trunks  \n12:44\u00a0<@cjdelisle>\u00a0releases/xwiki-trunks/  \n12:44\u00a0<@cjdelisle>\u00a0like that?  \n12:44\u00a0<@sdumitriu>\u00a0Yes  \n12:53\u00a0<arkub>\u00a0has quit  \n12:55\u00a0<arkub>\u00a0has joined #xwiki  \n13:00\u00a0<@cjdelisle>\u00a0Is it important to stop the hudson executor? It doesn't seen like it would be, I don't think it's maxing out the machine.  \n13:02\u00a0<@sdumitriu>\u00a0It's not about maxing out  \n13:03\u00a0<@cjdelisle>\u00a0oh concurrency in the .m2/repo dir?  \n13:03\u00a0<@sdumitriu>\u00a0Yes  \n13:03\u00a0<@sdumitriu>\u00a0Sometimes the local repo gets in a conflict state, since the release build tries to read something that the agent is writing  \n13:03\u00a0<@cjdelisle>\u00a0k, am I on agent 1 or 2?  \n13:03\u00a0<@sdumitriu>\u00a0I think  \n13:03\u00a0<@sdumitriu>\u00a01  \n13:03\u00a0<@cjdelisle>\u00a0Ok, stopping  \n13:03\u00a0<@sdumitriu>\u00a0Also, sometimes something is killing the Java process  \n13:04\u00a0<@sdumitriu>\u00a0I don't know what and why  \n13:04\u00a0<@sdumitriu>\u00a0Just that the build sometimes ends with \"Killed\"  \n13:04\u00a0<@cjdelisle>\u00a0monster  \n13:04\u00a0<@cjdelisle>\u00a0\"disconnect\", \"mark temporarily offline\" ?  \n13:05\u00a0<@sdumitriu>\u00a0mark  \n13:12\u00a0<DrLou>\u00a0has joined #xwiki  \n13:15\u00a0<abusenius>\u00a0has quit  \n13:20\u00a0<mflorea>\u00a0has joined #xwiki  \n13:27\u00a0<vmassol>\u00a0cjdelisle: working on fixing org.xwiki.test.ui.SectionTest  \n13:28\u00a0<vmassol>\u00a0cjdelisle: the verison is wrong  \n13:28\u00a0<vmassol>\u00a0it's 3.1-milestone-1  \n13:28\u00a0<vmassol>\u00a0not 3.1M1  \n13:29\u00a0<vmassol>\u00a0(I mentioned that a few days ago already but it must have been lost in the flow ;))  \n13:32\u00a0<@cjdelisle>\u00a0oh then I broke it because I just did release:perform with version 3.1M1  \n13:32\u00a0<@cjdelisle>\u00a0err release:prepare  \n13:32\u00a0<vmassol>\u00a0you can still revert  \n13:32\u00a0<vmassol>\u00a0release:rollback  \n13:33\u00a0<@cjdelisle>\u00a0-DreleaseVersion=3.1-milestone-1  \n13:37\u00a0<@sdumitriu>\u00a0Or you can really forget the release, with git reset --hard <version before the release> && git push --force origin xwiki-3.1M1:xwiki-3.1M1  \n13:37\u00a0<@cjdelisle>\u00a0yea but that is D:  \n13:37\u00a0<vmassol>\u00a0better use maven  \n13:37\u00a0<@cjdelisle>\u00a0I did  \n13:37\u00a0<@sdumitriu>\u00a0Not nice, but it can hide the mistakes :D  \n13:37\u00a0<vmassol>\u00a0since you don't know what it does with your local repo for ex  \n13:37\u00a0<vmassol>\u00a0might do stuff  \n13:38\u00a0<vmassol>\u00a0(or it could)  \n13:38\u00a0<vmassol>\u00a0although I don't think it does  \n13:38\u00a0<vmassol>\u00a0I'm pretty sure it doesn't actually  \n13:38\u00a0<vmassol>\u00a0:)  \n13:38\u00a0<vmassol>\u00a0it's release:perform that would do that  \n13:39\u00a0<vmassol>\u00a0hmm hoverOverMenu() seems wrong  \n13:39\u00a0<vmassol>\u00a0it does this:  \n13:40\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0WebElement spaceMenuDiv = getDriver().findElement(By.id(menuId));  \n13:40\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0executeScript(\"showsubmenu(arguments[0])\", spaceMenuDiv);  \n13:40\u00a0<vmassol>\u00a0but it doesn't wait for the menu entry to be visible  \n13:40\u00a0<vmassol>\u00a0I'll fix it  \n13:41\u00a0<tmortagne1>\u00a0has joined #xwiki  \n13:43\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:43\u00a0<tmortagne>\u00a0has quit  \n13:43\u00a0<Enygma`>\u00a0has quit  \n13:43\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:44\u00a0<vmassol>\u00a0has quit  \n13:47\u00a0<bbc581>\u00a0has joined #xwiki  \n13:55\u00a0<evalica>\u00a0has quit  \n13:55\u00a0<mflorea>\u00a0has quit  \n13:56\u00a0<mflorea>\u00a0has joined #xwiki  \n13:56\u00a0<evalica>\u00a0has joined #xwiki  \n13:58\u00a0<@sdumitriu>\u00a0cjdelisle: Change the git username as well  \n13:58\u00a0<@sdumitriu>\u00a0You're not Jenkins  \n13:58\u00a0<Enygma`1>\u00a0has joined #xwiki  \n13:58\u00a0<Enygma`>\u00a0has quit  \n13:59\u00a0<@cjdelisle>\u00a0I have to fix the SCM URL, it won't let me release otherwise  \n14:02\u00a0<tmortagne1>\u00a0cjdelisle: actually as the thing I copy/pasted indicate git is working with current branch so the scm just contains the repository I think  \n14:03\u00a0<tmortagne1>\u00a0see http://maven.apache.org/scm/git.html#Working\\_with\\_branches  \n14:03\u00a0<tmortagne1>\u00a0so you should just need to make sure you did the right checkout before starting the release  \n14:07\u00a0<@cjdelisle>\u00a0hmm well I am sure I am on the xwiki-3.1M1 branch  \n14:09\u00a0<@sdumitriu>\u00a0And what's the problem?  \n14:09\u00a0<@sdumitriu>\u00a0The previous commits were on the right branch  \n14:10\u00a0<@sdumitriu>\u00a0https://github.com/xwiki/xwiki-platform/tree/xwiki-3.1M1  \n14:13\u00a0<@cjdelisle>\u00a0\"No SCM URL was provided to perform the release from\"  \n14:17\u00a0<@sdumitriu>\u00a0Make sure you're in the right directory  \n14:18\u00a0<@cjdelisle>\u00a0I wonder if it's because the dir is named commons and not xwiki-commons like the repo  \n14:23\u00a0<@cjdelisle>\u00a0hmm that should be it  \n14:25\u00a0<@cjdelisle>\u00a0http://maven.xwiki.org/releases/org/xwiki/commons/xwiki-commons-component-api/3.1-milestone-1/  \n14:25\u00a0<@cjdelisle>\u00a0yay I is a winnar  \n14:26\u00a0<@cjdelisle>\u00a0oh I can release from the local repo so that means anyone can commit anywhere and it won't mess up the release itself.  \n14:28\u00a0<venkatesh>\u00a0has quit  \n14:29\u00a0<@sdumitriu>\u00a0And the root: http://maven.xwiki.org/releases/org/xwiki/commons/xwiki-commons/3.1-milestone-1/  \n14:29\u00a0<@sdumitriu>\u00a0cjdelisle: I don't understand your last remark  \n14:29\u00a0<@sdumitriu>\u00a0\"I can release from the local repo\"  \n14:30\u00a0<@cjdelisle>\u00a0mvn release:prepare -DpushChanges=false -DreleaseVersion=3.1-milestone-1 -DdevelopmentVersion=3.1-SNAPSHOT -DautoVersionSubmodules=true  \n14:31\u00a0<@sdumitriu>\u00a0You should push changes  \n14:31\u00a0<@cjdelisle>\u00a0mvn release:perform -DpushChanges=false -DlocalCheckout  \n14:32\u00a0<@cjdelisle>\u00a0when it blows up half way through perform I can just reset HEAD~2  \n14:32\u00a0<@cjdelisle>\u00a0I do push. Manually  \n14:34\u00a0<@sdumitriu>\u00a0K  \n14:35\u00a0<venkatesh>\u00a0has joined #xwiki  \n14:41\u00a0<sburjan>\u00a0has quit  \n14:42\u00a0<sburjan>\u00a0has joined #xwiki  \n14:46\u00a0<@cjdelisle>\u00a0How have we in the past dealt with:  \n14:46\u00a0<@cjdelisle>\u00a0There are still some remaining snapshot dependencies.  \n14:46\u00a0<@cjdelisle>\u00a0: Do you want to resolve them now? (yes/no) no: :  \n14:46\u00a0<@cjdelisle>\u00a0Can I provide a command line flag to have them all handled automaticly?  \n14:47\u00a0<tmortagne1>\u00a0what snapshot dependencies you have ? you should not have any since you are supposed to resolve the one in the root pom before releasing  \n14:47\u00a0<tmortagne1>\u00a0if you have others then it's a bug  \n14:48\u00a0<@cjdelisle>\u00a0Dependency 'org.xwiki.commons:xwiki-commons-component-api' is a snapshot (3.1M1-SNAPSHOT)  \n14:49\u00a0<tmortagne1>\u00a0as a dependency to what ?  \n14:50\u00a0<@cjdelisle>\u00a0rendering  \n14:50\u00a0<tmortagne1>\u00a0as I said you are supposed to set the proper version in the root pom of the project you are releasing  \n14:50\u00a0<@sdumitriu>\u00a0Manual commit  \n14:50\u00a0<@cjdelisle>\u00a0I see  \n14:50\u00a0<tmortagne1>\u00a0so you need to modify commons.version  \n14:51\u00a0<tmortagne1>\u00a0the \"${project.version}\" was more a temporary thing for snapshot  \n14:52\u00a0<tmortagne1>\u00a0but it's not really correct since the version is not really project.version, it just happen to be the same in some conditions  \n14:53\u00a0<@cjdelisle>\u00a0They're not depending on ${project.version}  \n14:54\u00a0<@cjdelisle>\u00a0find ./ -name 'pom.xml' -exec grep 'SNAPSHOT' {} \\; | wc -l  \n14:54\u00a0<@cjdelisle>\u00a0298  \n14:54\u00a0<@cjdelisle>\u00a0So I suppose that needs to be fixed as well  \n14:58\u00a0<@cjdelisle>\u00a0hmm no nevermind  \n15:03\u00a0<venkatesh>\u00a0has quit  \n15:27\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n15:30\u00a0<@cjdelisle>\u00a0Ok I see now. I have to edit all the root poms when releasing to change the version number and version of the parent.  \n15:31\u00a0<@cjdelisle>\u00a0I didn't get it because I was thinking maven took away all the manual stuff  \n15:33\u00a0<vmassol>\u00a0note that this can be automated with the versions maven plugin but I haven't tried it yet  \n15:33\u00a0<vmassol>\u00a0http://mojo.codehaus.org/versions-maven-plugin/  \n15:33\u00a0<vmassol>\u00a0(cjdelisle)  \n15:34\u00a0<vmassol>\u00a0for ex: http://mojo.codehaus.org/versions-maven-plugin/update-parent-mojo.html  \n15:34\u00a0<vmassol>\u00a0http://mojo.codehaus.org/versions-maven-plugin/examples/update-parent.html  \n15:35\u00a0<@cjdelisle>\u00a0yup, just got done trying mvn versions:use-releases  \n15:36\u00a0<vmassol>\u00a0cool, it worked fine?  \n15:37\u00a0<@cjdelisle>\u00a0not yet, still tinkering...  \n15:40\u00a0<tmortagne1>\u00a0cjdelisle: not that's it's in the release process ;) (\"Resolve all SNAPSHOT dependencies. The Release plugin \u00a0will not let you release the module if it has SNAPSHOT dependencies.\")  \n15:40\u00a0<vmassol>\u00a0hmmm agent1 is offline  \n15:40\u00a0<vmassol>\u00a0http://ci.xwiki.org/  \n15:41\u00a0<vmassol>\u00a0any idea why?  \n15:41\u00a0<vmassol>\u00a0\"Disconnected by CalebJamesDeLisle : 3.1M1 release\"  \n15:41\u00a0<tmortagne1>\u00a0vmassol: release  \n15:41\u00a0<vmassol>\u00a0why is that a problem?  \n15:41\u00a0<vmassol>\u00a0I wanted it to run enterprise tests on trunk  \n15:42\u00a0<tmortagne1>\u00a0we always disconnect it when releasing otherwise you have several expensive maven build at the same time  \n15:42\u00a0<tmortagne1>\u00a0we do the release for the agent1  \n15:42\u00a0<tmortagne1>\u00a0it's not a source issue  \n15:42\u00a0<vmassol>\u00a0it's to prevent false positives?  \n15:42\u00a0<vmassol>\u00a0(which shouldn't happen btw)  \n15:42\u00a0<tmortagne1>\u00a0no  \n15:42\u00a0<tmortagne1>\u00a0it's because it's a pain  \n15:43\u00a0<tmortagne1>\u00a0to release during a test build  \n15:43\u00a0<vmassol>\u00a0why, I don't understand?  \n15:43\u00a0<tmortagne1>\u00a0it's takeing pratty much all the CPU of the computer  \n15:43\u00a0<vmassol>\u00a0oh same machine?  \n15:43\u00a0<tmortagne1>\u00a0again we do the release on the agent itself  \n15:43\u00a0<vmassol>\u00a0ok I see, so that's the issue  \n15:43\u00a0<@cjdelisle>\u00a0I asked about that and sdumitriu said it was actually a concurrency issue in ~/.m2/repo  \n15:43\u00a0<vmassol>\u00a0I'm not sure about the concurrency issue  \n15:44\u00a0<vmassol>\u00a0but possibly  \n15:44\u00a0<tmortagne1>\u00a0I don't think for the concurrency issue since maven is supposed to take care of that but that's not the most painful reason  \n15:44\u00a0<vmassol>\u00a0so basically even thogh we have branches  \n15:44\u00a0<vmassol>\u00a0devs who commit stuff don't get them tested fully ;)  \n15:44\u00a0<vmassol>\u00a0(during a release)  \n15:45\u00a0<tmortagne1>\u00a0it's just during the release build itself which is not very long  \n15:45\u00a0<tmortagne1>\u00a0and only for integration tests  \n15:45\u00a0<vmassol>\u00a0ok  \n15:45\u00a0<vmassol>\u00a0cjdelisle: when do you think it'll be back?  \n15:45\u00a0<vmassol>\u00a0in 1-2 hours or more?  \n15:46\u00a0<vmassol>\u00a0(just to schedule my work)  \n15:46\u00a0<@cjdelisle>\u00a0I wouldn't expect it in 1-2 hours. Hope but don't expect.  \n15:46\u00a0<vmassol>\u00a0ok I'll stop working on fixing tests FTM  \n15:47\u00a0<@cjdelisle>\u00a0btw:  \n15:47\u00a0<@cjdelisle>\u00a0mvn versions:set -DnewVersion=3.1-milestone-1  \n15:47\u00a0<@cjdelisle>\u00a0seems to work  \n15:47\u00a0<@cjdelisle>\u00a0creats a lot of garbage backups because it thinks it's git  \n15:47\u00a0<vmassol>\u00a0that sets everything no?  \n15:47\u00a0<vmassol>\u00a0not just parents  \n15:48\u00a0<@cjdelisle>\u00a0hmm it only sets parents  \n15:48\u00a0<@cjdelisle>\u00a0is that correct?  \n15:48\u00a0<vmassol>\u00a0http://mojo.codehaus.org/versions-maven-plugin/examples/set.html  \n15:48\u00a0<mbryant>\u00a0has joined #xwiki  \n15:48\u00a0<newbie>\u00a0has joined #xwiki  \n15:48\u00a0<vmassol>\u00a0it says it updtaes them all AFAIU  \n15:48\u00a0<newbie>\u00a0has quit  \n15:49\u00a0<@cjdelisle>\u00a0I'm looking at git diff HEAD and I can say for sure that it sets all parents and the root.  \n15:49\u00a0<vmassol>\u00a0yes but not only  \n15:49\u00a0<vmassol>\u00a0it's also going to change deps  \n15:49\u00a0<vmassol>\u00a0(again I haven't used it but that's what I understand from the link I pasted above)  \n15:49\u00a0<tmortagne1>\u00a0vmassol: the deps are in a proparty in the root pom  \n15:50\u00a0<tmortagne1>\u00a0so it's probably no seing it  \n15:50\u00a0<vmassol>\u00a0yes that's just pure luck  \n15:50\u00a0<vmassol>\u00a0:)  \n15:50\u00a0<vmassol>\u00a0if you run it on a pom which has explciit versions it'll change them  \n15:50\u00a0<@cjdelisle>\u00a0http://pastebay.com/122063  \n15:51\u00a0<vmassol>\u00a0cjdelisle: yes but you're lucky  \n15:51\u00a0<@cjdelisle>\u00a0it doesn't set the parent of the root though  \n15:51\u00a0<tmortagne1>\u00a0that's correct, there is nothing else to change than parent here  \n15:51\u00a0<vmassol>\u00a0just don't expect it to only change the parents  \n15:51\u00a0<tmortagne1>\u00a0s/parent/parents/  \n15:51\u00a0<vmassol>\u00a0it's working because you eitgher don't have deps specified or because their versions are set using properties  \n15:52\u00a0<@cjdelisle>\u00a0From reading it what I got was that it changed the version of the root and only the root.  \n15:52\u00a0<@cjdelisle>\u00a0IE wherever you execute it is where it sets the version  \n15:52\u00a0<@cjdelisle>\u00a0but it updates parents so that the change is not wrong  \n15:53\u00a0<@cjdelisle>\u00a0but if there are multiple layers then everything fails  \n15:55\u00a0<vmassol>\u00a0cjdelisle: cehck http://mojo.codehaus.org/versions-maven-plugin/examples/set.html  \n15:55\u00a0<vmassol>\u00a0it has examples  \n15:56\u00a0<vmassol>\u00a0anyway the correct goal is http://mojo.codehaus.org/versions-maven-plugin/examples/update-parent.html for updating the parents  \n15:58\u00a0<@cjdelisle>\u00a0I see, if that recurses over generations of parent/child then it will eork  \n15:58\u00a0<vmassol>\u00a0it probably works in a reactor indeed  \n15:59\u00a0<vmassol>\u00a0(ie gets exectued on all projects in a reactor build)  \n16:03\u00a0<@cjdelisle>\u00a0hmm nope, non-recursive  \n16:09\u00a0<@cjdelisle>\u00a0looks like sedfu is the best solution.  \n16:10\u00a0<@cjdelisle>\u00a0http://jira.codehaus.org/browse/MRELEASE-449  \n16:12\u00a0<@cjdelisle>\u00a0What is the danger of modifying everything and not just the parents?  \n16:14\u00a0<tmortagne1>\u00a0cjdelisle: I think vmassol meant that it was even modifying version of external dependencies  \n16:14\u00a0<tmortagne1>\u00a0but seems weird that such a goal even exist  \n16:16\u00a0<@cjdelisle>\u00a0It should be in the release plugin since the release plugin sets the version.  \n16:17\u00a0<@cjdelisle>\u00a0There is no way I can see to set all parents recursively, it's probably because it makes no sense and would produce an unbuildable project.  \n16:18\u00a0<@cjdelisle>\u00a0I have not found a way to set parents \\_and\\_ versions recursively either.  \n16:21\u00a0<vmassol>\u00a0not external  \n16:21\u00a0<vmassol>\u00a0but ours  \n16:21\u00a0<@cjdelisle>\u00a0[INFO] You don't have a SNAPSHOT project in the reactor projects list.  \n16:21\u00a0<vmassol>\u00a0it just means release:prepare won't modify them which is maybe ok  \n16:21\u00a0<@cjdelisle>\u00a0I see the problem now  \n16:22\u00a0<@cjdelisle>\u00a0wheee multiline sed  \n16:32\u00a0<abusenius>\u00a0has joined #xwiki  \n16:44\u00a0<lucaa>\u00a0has quit  \n16:58\u00a0<sburjan>\u00a0has quit  \n16:59\u00a0<lucaa>\u00a0has joined #xwiki  \n17:01\u00a0<@cjdelisle>\u00a0I don't know if there is any clean way to do compound releases.  \n17:01\u00a0<@cjdelisle>\u00a0IE release a module with submodules  \n17:02\u00a0<@cjdelisle>\u00a0If I modify all of the version fields then there is nothing to release (no SNAPSHOT)  \n17:03\u00a0<@cjdelisle>\u00a0If I modify all of the parent version fields then it fails to lookup the parent because it's trying to release the parent and child simultaniously  \n17:04\u00a0<tmortagne1>\u00a0you mean release commons and rendering at the same time for example ?  \n17:05\u00a0<@cjdelisle>\u00a0No I mean release rendering/ and rendering/xwiki-rendering-macros/ at the same time  \n17:06\u00a0<@cjdelisle>\u00a0iterating over every subdirectory is what I want to avoid  \n17:06\u00a0<tmortagne1>\u00a0cjdelisle: that's exactly what you are supposed to do and that doe snot require anything special  \n17:06\u00a0<tmortagne1>\u00a0you are not supposed to release spearately each submodule...  \n17:07\u00a0<@cjdelisle>\u00a0Right but when dependencies are all against ${project.version} the project version has to be updated before it is released then there is nothign to release.  \n17:08\u00a0<tmortagne1>\u00a0no it's not  \n17:08\u00a0<tmortagne1>\u00a0don't mix external and internal dependencie  \n17:08\u00a0<tmortagne1>\u00a0as I already said you only have one things to change: the commons version property and \u00a0nothing else  \n17:08\u00a0<@sdumitriu>\u00a0$project.version should stay at 3.1-SNAPSHOT before starting the release  \n17:09\u00a0<tmortagne1>\u00a0you have to keep $project.version for internal dependencies  \n17:09\u00a0<@sdumitriu>\u00a0release:prepare will update that one, and it does it pretty well  \n17:10\u00a0<@cjdelisle>\u00a0ahh I see, I can change this <commons.core.version>${project.version}</commons.core.version>  \n17:11\u00a0<tmortagne1>\u00a0otherwise doing a release would be a real pain..  \n17:12\u00a0<@sdumitriu>\u00a0Yes, that's the only one you have to change  \n17:12\u00a0<@sdumitriu>\u00a0Replace ${project.version} with 3.1-milestone-1  \n17:12\u00a0<@sdumitriu>\u00a0release  \n17:12\u00a0<@sdumitriu>\u00a0Then change back  \n17:12\u00a0<@cjdelisle>\u00a0How about the parent of the root, does that need to change?  \n17:12\u00a0<tmortagne1>\u00a0yep  \n17:12\u00a0<@cjdelisle>\u00a0k  \n17:12\u00a0<tmortagne1>\u00a0any external  \n17:29\u00a0<evalica>\u00a0has quit  \n17:31\u00a0<@cjdelisle>\u00a0It would make sense to have commons.core.version be set to ${parent.version} wouldn't it? Then there would be one place to make a change.  \n17:32\u00a0<mar3lis>\u00a0has joined #xwiki  \n17:33\u00a0<mar3lis>\u00a0hey guys, don't want to be a spamer, but yesterday i posted a question but it probably was too late at nigth  \n17:33\u00a0<mar3lis>\u00a0http://xwiki.475771.n2.nabble.com/Add-a-user-on-a-User-List-property-td2258743.html#a2274368  \n17:33\u00a0<mar3lis>\u00a0do you know the answer to this threat?  \n17:34\u00a0<tmortagne1>\u00a0cjdelisle: make sense  \n17:35\u00a0<vmassol>\u00a0it's debatable  \n17:35\u00a0<vmassol>\u00a0it's kind of a coincidence  \n17:35\u00a0<vmassol>\u00a03.0M1 for commons is not the same 3.0M1 for platform  \n17:36\u00a0<vmassol>\u00a0but anyway it's a small detail  \n17:36\u00a0<tmortagne1>\u00a0vmassol: that's not what cjdelisle is saying  \n17:36\u00a0<vmassol>\u00a0we used to use project.version and changed it in a few places  \n17:36\u00a0<vmassol>\u00a0oh ok  \n17:36\u00a0<vmassol>\u00a0sorry  \n17:36\u00a0<tmortagne1>\u00a0parent.version is root pom (so commons) version  \n17:36\u00a0<vmassol>\u00a0I read project.version  \n17:37\u00a0<vmassol>\u00a0are you planning to use properites in parent declaration?  \n17:37\u00a0<tmortagne1>\u00a0project.version does not work with release plugin anyway  \n17:37\u00a0<@cjdelisle>\u00a0IMO project.version or parent.version are both equally bad but parent.version makes life so easy and it's not like we're using it everywhere, it's one place where commons.version is defined.  \n17:37\u00a0<vmassol>\u00a0(becuase I remember some gotchas with that - don't remember exactly though would need to google it)  \n17:37\u00a0<tmortagne1>\u00a0cjdelisle: they are not, rendering version does not have to be the same as commons version technically  \n17:37\u00a0<@sdumitriu>\u00a0Hi mar3lis, sorry for ignoring you, we're all a bit busy at the moment  \n17:37\u00a0<mar3lis>\u00a0no prob  \n17:38\u00a0<mar3lis>\u00a0i can wait  \n17:38\u00a0<mar3lis>\u00a0:)  \n17:38\u00a0<@sdumitriu>\u00a0mar3lis: Patience is key when dealing with open source communities :)  \n17:38\u00a0<mar3lis>\u00a0hehe  \n17:38\u00a0<mar3lis>\u00a0yep :)  \n17:56\u00a0<@cjdelisle>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-tools/xwiki-platform-tool-packager-plugin/pom.xml#L56  \n17:56\u00a0<@cjdelisle>\u00a0wild assumption that this needs to change to commons.core.version  \n17:57\u00a0<tmortagne1>\u00a0cjdelisle: yep it has been forgotten  \n17:58\u00a0<mflorea1>\u00a0has joined #xwiki  \n17:58\u00a0<sdumitriu>\u00a0has quit  \n17:58\u00a0<Enygma`>\u00a0has joined #xwiki  \n17:58\u00a0<mflorea>\u00a0has quit  \n17:58\u00a0<tmortagne1>\u00a0cjdelisle: you did not need to do the 3.1-SNAPSHOT -> 3.1-milestone-1 that's release plugin job  \n17:58\u00a0<Enygma`1>\u00a0has quit  \n17:58\u00a0<evalica>\u00a0has joined #xwiki  \n17:59\u00a0<@cjdelisle>\u00a0Where did I do that?  \n17:59\u00a0<tmortagne1>\u00a0just seen a github commit  \n17:59\u00a0<tmortagne1>\u00a0https://github.com/xwiki/xwiki-rendering/commit/df5eb5c10995889265a096c4fed0168fae487131  \n17:59\u00a0<tmortagne1>\u00a0several actually but that's one of the\u00f9  \n18:00\u00a0<tmortagne1>\u00a0them  \n18:00\u00a0<tmortagne1>\u00a0but maybe you reverted in another commit actually i did not cheked all of them  \n18:00\u00a0<@cjdelisle>\u00a0That perticular one was because the parent is not changed.  \n18:01\u00a0<tmortagne1>\u00a0ha sorry indeed i missread  \n18:01\u00a0<@cjdelisle>\u00a0There are commits mixed in which are generated by the plugin, they also have my name on them  \n18:02\u00a0<tmortagne1>\u00a0yes https://github.com/xwiki/xwiki-rendering/commit/a8a00ffe3304e6bdd3a53a0ca0d47cfe1178b228 is from release plugin so this one is ok  \n18:02\u00a0<tmortagne1>\u00a0so sorry about that  \n18:03\u00a0<@cjdelisle>\u00a0if we change all of those core.commons.version numbers to reference off of ${parent.version} then we can use mvn versions:set-parent for everything  \n18:03\u00a0<tmortagne1>\u00a0(s/so sorry/so, sorry/ I'm not that sorry ;))  \n18:03\u00a0<@cjdelisle>\u00a0hehe  \n18:06\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:06\u00a0<tmortagne1>\u00a0hmm btw \"core.commons.version\" should be \"commons.version\" since there is no separation between commons core and tools anymore  \n18:06\u00a0<@sdumitriu>\u00a0mar3lis: I just answered the mail thread  \n18:07\u00a0<tmortagne1>\u00a0another thing we forgot inthe refactoring  \n18:07\u00a0<tmortagne1>\u00a0platform have the right one  \n18:08\u00a0<@cjdelisle>\u00a0release:perparing platform and going to get something to eat.  \n18:08\u00a0<tmortagne1>\u00a0so the mistake is only in rendering  \n18:08\u00a0<tmortagne1>\u00a0will fix it after your release  \n18:08\u00a0<tmortagne1>\u00a0ha I can fix it on master actually  \n18:09\u00a0<@cjdelisle>\u00a0you can fix it wherever you want but if this release is not broken then I intend to delete the M1 branch  \n18:09\u00a0<@cjdelisle>\u00a0be back  \n18:16\u00a0<mar3lis>\u00a0sdumitriu: thank you  \n18:18\u00a0<vmassol>\u00a0tmortagne1: why did you replace xwiki-commons by commons/?  \n18:18\u00a0<vmassol>\u00a0-\u00a0\u00a0\u00a0\u00a0<relativePath>../xwiki-commons/xwiki-commons-pom</relativePath>  \n18:18\u00a0<vmassol>\u00a0\u00a0  \n18:18\u00a0<vmassol>\u00a031  \n18:18\u00a0<vmassol>\u00a0+\u00a0\u00a0\u00a0\u00a0<relativePath>../commons/xwiki-commons-pom</relativePath>  \n18:18\u00a0<vmassol>\u00a0I had done this on purpose  \n18:18\u00a0<tmortagne1>\u00a0vmassol: because of https://github.com/xwiki/xwiki-trunks  \n18:19\u00a0<vmassol>\u00a0xwiki-trunks is wrong  \n18:19\u00a0<vmassol>\u00a0it needs to be fixed  \n18:19\u00a0<tmortagne1>\u00a0then it should be fixed  \n18:21\u00a0<vmassol>\u00a0personally I don't use xwiki-trunks and I don't really see the need for it but that's another discussion  \n18:22\u00a0<tmortagne1>\u00a0don't use it either but since it exists I took it as the official reference  \n18:22\u00a0<tmortagne1>\u00a0(just reverted my modification)  \n18:22\u00a0<vmassol>\u00a0(ok thanks)  \n18:24\u00a0<vmassol>\u00a0sdumitriu: trying to fix http://ci.xwiki.org/job/xwiki-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-ui/591/testReport/org.xwiki.test.ui/EditObjectsTest/testEmptyGroupObjects/  \n18:24\u00a0<vmassol>\u00a0the object editor does'n't display objects in js right?  \n18:24\u00a0<vmassol>\u00a0(when viewed, not when adding new objecets)  \n18:28\u00a0<@cjdelisle>\u00a0I have to say, this release process is awesome.  \n18:31\u00a0<@sdumitriu>\u00a0vmassol: WDYM doesn't display objects?  \n18:31\u00a0<@cjdelisle>\u00a0What does that relitive path do? Is something going to break because it is misalligned with trunks?  \n18:32\u00a0<@sdumitriu>\u00a0Nope  \n18:32\u00a0<tmortagne1>\u00a0cjdelisle: no it's just here to speed up things, maven use it to try getting the pom using it before downloading  \n18:32\u00a0<@sdumitriu>\u00a0Depends how the users checkout the sources  \n18:33\u00a0<evalica>\u00a0has quit  \n18:33\u00a0<tmortagne1>\u00a0vmassol: just forbidden js and I do have the object listed  \n18:33\u00a0<@cjdelisle>\u00a0Ok, I saw it and changed it because I thought it was causing the build to break.  \n18:34\u00a0<vmassol>\u00a0sdumitriu: I was wondering if the page was first rendered and then objects added in js (when js is enabled)  \n18:34\u00a0<vmassol>\u00a0probably not, but that would explain a potential test error....  \n18:34\u00a0<vmassol>\u00a0I just want to eliminate this possibility  \n18:34\u00a0<@sdumitriu>\u00a0No, JS just handles the collapse/expand  \n18:35\u00a0<vmassol>\u00a0(and the add apparently)  \n18:35\u00a0<vmassol>\u00a0ok  \n18:37\u00a0<tmortagne1>\u00a0ha not very nice if it's impossible to add object without js  \n18:37\u00a0<Enygma`>\u00a0has quit  \n18:38\u00a0<tmortagne1>\u00a0vmassol: the add kind of work for me  \n18:38\u00a0<vmassol>\u00a0tmortagne1: I never said it was broken!  \n18:39\u00a0<vmassol>\u00a0(all I said is that when js is enabled it uses js to not have to reload the page to displayed added objects)  \n18:39\u00a0<tmortagne1>\u00a0I understood \"and the add apparently\" following \"JS just handles the collapse/expand\"  \n18:39\u00a0<tmortagne1>\u00a0was not that detailed :)  \n18:40\u00a0<vmassol>\u00a0you cannot read in my mind? :)  \n18:40\u00a0<tmortagne1>\u00a0but there is still a bug with add since you are redirected to wiki editor after clicking on the button  \n18:40\u00a0<tmortagne1>\u00a0creating a jira issue  \n18:40\u00a0<vmassol>\u00a0ok  \n18:41\u00a0<vmassol>\u00a0right now I'm triyng to find out what could cause an xobject not to be displayed when this code executes  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ObjectEditPage oep = vp.editObjects();  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0oep.addObject(\"XWiki.XWikiGroups\");  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0vp = oep.clickSaveAndView();  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0oep = vp.editObjects();  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(1, oep.getObjectsOfClass(\"XWiki.XWikiGroups\").size());  \n18:41\u00a0<vmassol>\u00a0getObjectsOfClass starts with:  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0List<WebElement> titles = getDriver().findElement(By.id(\"xclass\\_\" + className))  \n18:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0.findElements(By.className(\"xobject-title\"));  \n18:41\u00a0<vmassol>\u00a0and findElement fails to find the web element on jenkins apparently  \n18:43\u00a0<vmassol>\u00a0hmmm editObjects() does this:  \n18:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clickContentMenuEditSubMenuEntry(\"tmEditObject\");  \n18:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return new ObjectEditPage();  \n18:43\u00a0<vmassol>\u00a0which calls:  \n18:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0hoverOverMenu(\"tmEdit\");  \n18:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0getDriver().findElement(By.xpath(\"//a[@id='\" + id + \"']\")).click();  \n18:44\u00a0<vmassol>\u00a0I've now made hoverOverMenu wait  \n18:44\u00a0<vmassol>\u00a0but if it was not watining it would have cause an issue with the click() so that's not the problem  \n18:44\u00a0<vmassol>\u00a0click() is a waiting api I guess so that shouldn't the issue either  \n18:45\u00a0<vmassol>\u00a0we'd need to display the content when the find fails to debug it  \n18:45\u00a0<vmassol>\u00a0maybe we should have an api to not use findelement and instead use our api which logs the content when it fails....  \n19:00\u00a0<mar3lis>\u00a0sdumitriu: so as i understood, i have to add a value to the DBList property and not the User list?  \n19:05\u00a0<tmortagne1>\u00a0a shame we have to answer something like that, we really need to get this userlist property improved  \n19:07\u00a0<arkub>\u00a0has quit  \n19:11\u00a0<mar3lis>\u00a0tmortagne1: so can you answer that? :)  \n19:11\u00a0<tmortagne1>\u00a0mar3lis: basically userlist property is not really a list behind the scene  \n19:11\u00a0<sdumitriu>\u00a0has quit  \n19:12\u00a0<tmortagne1>\u00a0so if you want a real list from storage POV you should use static list property  \n19:12\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:12\u00a0<tmortagne1>\u00a0(until userlist is improved when someone finally get nuts about it)  \n19:14\u00a0<mar3lis>\u00a0ok, thanks  \n19:20\u00a0<vmassol>\u00a0cool selenium gurus pointed me to EventFiringWebDriver\u2026 will try that to provide debugging support  \n19:21\u00a0<@cjdelisle>\u00a0is XWIKI-6571 finished?  \n19:21\u00a0<tmortagne1>\u00a0does not seems to be committed  \n19:21\u00a0<tmortagne1>\u00a0according to jira at leasst  \n19:21\u00a0<tmortagne1>\u00a0least  \n19:21\u00a0<@cjdelisle>\u00a0ok, removing fix for version then  \n19:22\u00a0<sdumitriu>\u00a0has quit  \n19:26\u00a0<@cjdelisle>\u00a0hmm second page has a bunch of stuff that's unresolved and fix for 3.1M1  \n19:26\u00a0<tmortagne1>\u00a0cjdelisle: just move them to next version, if something is fixed it's supposed to be closed  \n19:27\u00a0<tmortagne1>\u00a0usually it's stuff planned for 3.1 in general  \n19:27\u00a0<@cjdelisle>\u00a0I don't like this business of kicking the can along to the next version every release.  \n19:27\u00a0<tmortagne1>\u00a0not specifically on 3.1M1  \n19:27\u00a0<tmortagne1>\u00a0it's not that  \n19:27\u00a0<tmortagne1>\u00a0it's stuff planned for 3.1 branch so you can  \n19:28\u00a0<tmortagne1>\u00a0when going to 3.2 it's another matter  \n19:30\u00a0<@cjdelisle>\u00a0take for instance XWIKI-913 which was opened in february of 07  \n19:30\u00a0<@cjdelisle>\u00a0Do you really think it's going to get done in the 3.1 frame?  \n19:32\u00a0<@cjdelisle>\u00a0If you insist I'll change them all to M2 but I think it takes away from jira's credibility.  \n19:34\u00a0<@cjdelisle>\u00a0hrmf, another thing to automate  \n19:41\u00a0<mar3lis>\u00a0when i select multiple values from a dblist in inline mode, ir normal view the values ar shown one beside the other, is there a way to display them one under another?  \n19:41\u00a0<mar3lis>\u00a0does it have to do something with custom dislpay?  \n19:43\u00a0<Chami1>\u00a0has joined #xwiki  \n19:48\u00a0<tmortagne1>\u00a0cjdelisle: this issue should not even have fix for 3.1M1 in the first place  \n19:49\u00a0<tmortagne1>\u00a0what i'm saying is that this has nothing to do with the release  \n19:49\u00a0<@cjdelisle>\u00a0That's the problem, they all are set to fix for the next release but they drag along until the \"fix for\" becomes flat out absurd.  \n19:49\u00a0<tmortagne1>\u00a0that's supposed to be fixed when we do the plan for 3.2  \n19:49\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:54\u00a0<mflorea1>\u00a0has quit  \n19:58\u00a0<sburjan`>\u00a0has joined #xwiki  \n19:58\u00a0<tmortagne1>\u00a0has quit  \n20:09\u00a0<@cjdelisle>\u00a0hmm looks like -Darguments=\"-N\" nolonger makes sense when releasing enterprise.  \n20:09\u00a0<@cjdelisle>\u00a0So I just pushed a pom file to the maven repo, can I just perform the release again and clobber it?  \n20:11\u00a0<@sdumitriu>\u00a0Where was that, prepare or perform?  \n20:11\u00a0<@sdumitriu>\u00a0Yes, you can re-run perform, it will override what's on maven  \n20:12\u00a0<@cjdelisle>\u00a0cool  \n20:12\u00a0<Chami1>\u00a0has quit  \n20:12\u00a0<@cjdelisle>\u00a0removing -N since it only pushes one little .pom with it.  \n20:13\u00a0<@sdumitriu>\u00a0Was that in the process?  \n20:13\u00a0<@cjdelisle>\u00a0yes  \n20:13\u00a0<@sdumitriu>\u00a0-N was for top level poms on apps and plugins, IIRC  \n20:13\u00a0<@sdumitriu>\u00a0But not for enterprise  \n20:13\u00a0<@cjdelisle>\u00a0\"For enterprise and manager: mvn release:prepare -Pci,hsqldb,mysql,pgsql,derby,jetty,glassfish -Darguments=\"-N\" \"  \n20:14\u00a0<@sdumitriu>\u00a0Just on prepare  \n20:14\u00a0<@sdumitriu>\u00a0And that was supposed to skip the test build before pushing the changed poms  \n20:16\u00a0<@sdumitriu>\u00a0The process during release:prepare is:  \n20:16\u00a0<@cjdelisle>\u00a0so I'm supposed to use that for prepare but not for perform, ok.  \n20:16\u00a0<@sdumitriu>\u00a0- change the poms to the released version  \n20:16\u00a0<@sdumitriu>\u00a0- do a forked build, for which -Darguments applies  \n20:16\u00a0<@sdumitriu>\u00a0- commit the poms  \n20:16\u00a0<@sdumitriu>\u00a0- change them to the next version  \n20:16\u00a0<@sdumitriu>\u00a0- commit again  \n20:16\u00a0<@sdumitriu>\u00a0+ push when using git  \n20:17\u00a0<@cjdelisle>\u00a0of course I'm on a branch which will soon be dead so getting it back into chape is not critical  \n20:17\u00a0<@sdumitriu>\u00a0And there was a bug with the process, since the inner build inherited the outer profiles, which caused multiple profiles to be activated (mysql+hsql+phsql+jetty+glassfish) which ended up as invalid hibernate settings  \n20:17\u00a0<@sdumitriu>\u00a0So the -N is needed for prepare  \n20:18\u00a0<@cjdelisle>\u00a0hmm  \n20:20\u00a0<@sdumitriu>\u00a0Cool, tags were pushed: https://github.com/xwiki/xwiki-commons/tree/xwiki-commons-3.1-milestone-1  \n20:20\u00a0<@cjdelisle>\u00a0I had to git push --tags  \n20:21\u00a0<@sdumitriu>\u00a0Manually?  \n20:21\u00a0<@cjdelisle>\u00a0yup  \n20:21\u00a0<@cjdelisle>\u00a0ofc I pushed everything manually  \n20:21\u00a0<@sdumitriu>\u00a0Ah, you didn't let it push  \n20:21\u00a0<@cjdelisle>\u00a0you'll never know how many times I ran release:prepare ;)  \n20:21\u00a0<@sdumitriu>\u00a0:D  \n20:23\u00a0<@cjdelisle>\u00a0I've been setting it back to 3.1-SNAPSHOT after finishing but at least for enterprise I intend to manually set it to 3.1-milestone-1 so that the tests will pick it up and go start testing the release.  \n20:23\u00a0<@cjdelisle>\u00a0I know I know, abusing the branch...  \n20:25\u00a0<sdumitriu>\u00a0has quit  \n20:34\u00a0<evalica>\u00a0has joined #xwiki  \n20:39\u00a0<evalica>\u00a0has quit  \n20:41\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:43\u00a0<@cjdelisle>\u00a0any idea what to do about this? It's blocking the enterprise release  \n20:43\u00a0<@cjdelisle>\u00a0http://www.pastebay.com/122091  \n20:43\u00a0<@cjdelisle>\u00a0xwiki-enterprise-database-hsqldb/target/maven-shared-archive-resources/hibernate.cfg.xml  \n20:43\u00a0<@cjdelisle>\u00a0is pulling in derby by default  \n20:44\u00a0<@sdumitriu>\u00a0What command are you using to build?  \n20:44\u00a0<@cjdelisle>\u00a0mvn release:prepare -DpushChanges=false -DlocalCheckout=true -DreleaseVersion=3.1-milestone-1 -DautoVersionSubmodules=true -Pci,hsqldb,mysql,pgsql,derby,jetty,glassfish -Darguments=\"-N\"  \n20:44\u00a0<@cjdelisle>\u00a0mvn release:perform -DpushChanges=false -DlocalCheckout=true -Pci,hsqldb,mysql,pgsql,derby,jetty,glassfish  \n20:45\u00a0<@cjdelisle>\u00a0it's all because of \"-DpushChanges=false -DlocalCheckout=true\" those right?  \n20:45\u00a0<@sdumitriu>\u00a0Perform should only have -Pci,hsqldb,jetty  \n20:45\u00a0<@sdumitriu>\u00a0\"For enterprise: mvn release:perform -Pci,hsqldb,jetty -Darguments='-Pci,hsqldb,jetty -DskipTests' -DskipTests\"  \n20:45\u00a0<@cjdelisle>\u00a0ahh, my fault for not RTFMing carefully enough  \n20:45\u00a0<@sdumitriu>\u00a0:)  \n20:46\u00a0<@cjdelisle>\u00a0you have to pass them twice? ad -D\\* and -Darguments=\"-D\\*\"  \n20:48\u00a0<@sdumitriu>\u00a0Yes  \n20:48\u00a0<@sdumitriu>\u00a0It builds twice  \n20:48\u00a0<@cjdelisle>\u00a0running it now  \n20:48\u00a0<@cjdelisle>\u00a0thanks for the help  \n20:49\u00a0<@cjdelisle>\u00a0same commands for manager?  \n20:50\u00a0<@sdumitriu>\u00a0The process during release:perform is:  \n20:50\u00a0<@sdumitriu>\u00a0- checkout the sources from the tag  \n20:50\u00a0<@sdumitriu>\u00a0- do a forked build, for which -Darguments applies, to test that the build is successful  \n20:50\u00a0<@sdumitriu>\u00a0- do a new build, uploading the produced jars/wars/zips to the repository  \n20:50\u00a0<@sdumitriu>\u00a0- cleanup  \n20:51\u00a0<@sdumitriu>\u00a0No, not the same for manager  \n20:51\u00a0<@sdumitriu>\u00a0RTFM :)  \n20:51\u00a0<@sdumitriu>\u00a0\"For manager: mvn release:perform -Pmysql -Darguments='-Pmysql'\"  \n20:51\u00a0<@cjdelisle>\u00a0oh right  \n20:52\u00a0<@sdumitriu>\u00a0XEM is built with mysql, since the way we use hsqldb doesn't support virtual wikis  \n20:52\u00a0<@sdumitriu>\u00a0Something to fix in the future  \n20:52\u00a0<@cjdelisle>\u00a0I'll take the commands that worked and put them somewhere on the release page so people like me can spot blocks of commands and copy-paste them  \n21:39\u00a0<lucaa>\u00a0has quit  \n21:55\u00a0<mar3lis>\u00a0if i have a static list with some values, how can i display in another page the name of the value  \n21:56\u00a0<mar3lis>\u00a0like value1= The first value  \n21:56\u00a0<mar3lis>\u00a0how to display the The first value  \n21:56\u00a0<mar3lis>\u00a0#set($prop = $obj.getProperty('a').value displays only the value)  \n21:56\u00a0<mar3lis>\u00a0#set($prop = $obj.getProperty('a').value)  \n21:57\u00a0<@cjdelisle>\u00a0then prop.get(0)  \n21:57\u00a0<@cjdelisle>\u00a0$prop.get(0)  \n21:57\u00a0<@cjdelisle>\u00a0the value is the list  \n21:58\u00a0<mar3lis>\u00a0hm doesnt seem to work  \n22:00\u00a0<mar3lis>\u00a0it still shows the value  \n22:01\u00a0<mar3lis>\u00a0and not the \"name\"  \n22:02\u00a0<@cjdelisle>\u00a0what is the value?  \n22:02\u00a0<mar3lis>\u00a0vienas  \n22:02\u00a0<mar3lis>\u00a0and the \"name\" is Vienas  \n22:02\u00a0<mar3lis>\u00a0with capital V  \n22:02\u00a0<mar3lis>\u00a0vienas=Vienas | du=Du | trys=Trys  \n22:02\u00a0<@cjdelisle>\u00a0oh so you need to lookup values given keys?  \n22:03\u00a0<mar3lis>\u00a0yes  \n22:03\u00a0<@cjdelisle>\u00a0you could establish one list for keys and one list for values  \n22:03\u00a0<@cjdelisle>\u00a0unfortunately we do not support storing maps at the moment  \n22:04\u00a0<mar3lis>\u00a0so its not possible at the moment?  \n22:05\u00a0<@cjdelisle>\u00a0it's possible, you just need to use 2 lists to do it.  \n22:06\u00a0<mar3lis>\u00a0ok  \n22:06\u00a0<mar3lis>\u00a0i stll have trouble with adding values to the properties  \n22:07\u00a0<mar3lis>\u00a0if the values in the DBlist are from hibernate query  \n22:07\u00a0<@cjdelisle>\u00a0if you know exactly how many entries you will have then then you can define custom objects but if it's an expanding map then you will need to use a pair of lists  \n22:07\u00a0<mar3lis>\u00a0can i add one more value to those ones programicly?  \n22:08\u00a0<@cjdelisle>\u00a0it's complex and has few use cases  \n22:08\u00a0<@cjdelisle>\u00a0static list does everything you're looking for (load, store, add names, remove names)  \n22:09\u00a0<mar3lis>\u00a0ok then how to add values to a static list? :)  \n22:09\u00a0<mar3lis>\u00a0and after that, how to remove a value from a static list  \n22:09\u00a0<mar3lis>\u00a0programicly  \n22:11\u00a0<+Denis>\u00a0euh, why not using translations for your maps ?  \n22:13\u00a0<+Denis>\u00a0we usually use keys in storage, and then we use a translation bundles for names  \n22:14\u00a0<mar3lis>\u00a0hmmmm  \n22:14\u00a0<+Denis>\u00a0if your list is expansable, using DBlist is for me the way to go, since you can easily get all XObjects of a given XClass in a list  \n22:15\u00a0<+Denis>\u00a0s/expansable/expendable/  \n22:16\u00a0<mar3lis>\u00a0i'm not sure i understand the concept of this method  \n22:16\u00a0<+Denis>\u00a0if your list is static or almost static, use static list of course  \n22:17\u00a0<+Denis>\u00a0it is obviously easier  \n22:18\u00a0<mar3lis>\u00a0well for my project the list wont be static  \n22:18\u00a0<mar3lis>\u00a0it will be a list of registered users  \n22:18\u00a0<@cjdelisle>\u00a0static list is a misnomer, you can add values to and resize a static list  \n22:18\u00a0<@cjdelisle>\u00a0what makes it static is that it is not generated on the fly when you ask for it  \n22:19\u00a0<@cjdelisle>\u00a0IE generated from a database query  \n22:21\u00a0<mar3lis>\u00a0i got confused  \n22:21\u00a0<+Denis>\u00a0sorry, on the phone, please stay tune :)  \n22:22\u00a0<mar3lis>\u00a0ok :)  \n22:23\u00a0<ihalip\\_>\u00a0has joined #xwiki  \n22:26\u00a0<+Denis>\u00a0well, too choose between staticlist or dblist, you should consider two things, does I need to expand the list often, and does I need to have other information than the \"name\" linked with each item of the list  \n22:27\u00a0<+Denis>\u00a0you can expand both  \n22:28\u00a0<+Denis>\u00a0static list are just describe in the class definition as a pipe or comma separated list of values  \n22:28\u00a0<+Denis>\u00a0you can free add, and even remove values from it  \n22:28\u00a0<+Denis>\u00a0data records store these values, so the list can be reorganized  \n22:29\u00a0<+Denis>\u00a0if you need to display a pretty names for items in a static list (opposed to values), you may use a translation bundles  \n22:30\u00a0<+Denis>\u00a0but, you if you are talking about a list of users, do you means a list of registered users in the current wiki ?  \n22:31\u00a0<mar3lis>\u00a0users from current wiki registered to a lecture  \n22:32\u00a0<mar3lis>\u00a0there will be few documents with object that have info about lectures  \n22:32\u00a0<+Denis>\u00a0you means, any user could be part of the list, or just a subset ?  \n22:32\u00a0<mar3lis>\u00a0any xwiki user could register to the lecture  \n22:32\u00a0<mar3lis>\u00a0and more than one lecture  \n22:33\u00a0<mar3lis>\u00a0and i need ti display the list of users registered to the current lecture  \n22:33\u00a0<mar3lis>\u00a0and display a list of lectures, that that user is registered to  \n22:34\u00a0<mar3lis>\u00a0and ofcourse the ability for the user to register to the list and remove him self from the list  \n22:34\u00a0<+Denis>\u00a0if you are storing the information on the lectures, you should simply choose a 'List of users' type of field in the definition of your Xclass  \n22:35\u00a0<+Denis>\u00a0this will list all available users, and store xwiki user name in the fields  \n22:35\u00a0<mar3lis>\u00a0but i found it difficult to add users programicly to that list  \n22:36\u00a0<+Denis>\u00a0if you plan to store the list of lecture in the user object, you will probably need a dblist field, which is based on a query of all the available lectures  \n22:38\u00a0<mar3lis>\u00a0that was my first idea with the user list in the lecture info object, but as i said i found it difficult to add user programicly to that list  \n22:40\u00a0<+Denis>\u00a0either way, you will have to manage a multiple select list  \n22:41\u00a0<+Denis>\u00a0this is stored internally as a pipe or coma separated list of values, where values would be xwiki user names in this case  \n22:41\u00a0<+Denis>\u00a0in fact you may choose the separator freely  \n22:41\u00a0<+Denis>\u00a0but I recommande pipes  \n22:42\u00a0<mar3lis>\u00a0what are pipes? :D  \n22:42\u00a0<+Denis>\u00a0|  \n22:42\u00a0<mar3lis>\u00a0sook  \n22:42\u00a0<+Denis>\u00a0so this may looks like \"XWiki.User1|XWiki.User2|XWiki.User3\"  \n22:44\u00a0<+Denis>\u00a0just define the separator in the \"Multiselect separators (for editing)\" to \"|\"  \n22:47\u00a0<mar3lis>\u00a0has quit  \n22:51\u00a0<lucaa>\u00a0has joined #xwiki  \n22:51\u00a0<mar3lis>\u00a0has joined #xwiki  \n22:52\u00a0<mar3lis>\u00a0damn i lost connection or smth like that  \n22:52\u00a0<mar3lis>\u00a0what was your last message Denis ?  \n23:00\u00a0<mar3lis>\u00a0so how do you add a value and remove a value if needed programicly from a list?  \n23:11\u00a0<@cjdelisle>\u00a0I think you can just get the value then call add on the value then set it to the new value  \n23:12\u00a0<@cjdelisle>\u00a0you might try looking up examples in the extensions wiki.  \n23:14\u00a0<abusenius>\u00a0has quit  \n23:16\u00a0<vmassol>\u00a0has quit  \n23:20\u00a0<mar3lis>\u00a0hm  \n23:20\u00a0<mar3lis>\u00a0nothing on the extensios  \n23:20\u00a0<mar3lis>\u00a0so i should make a string  \n23:21\u00a0<mar3lis>\u00a0of all the values from the list and then add another value that i need and then set the value to the property?  \n23:22\u00a0<@cjdelisle>\u00a0put the value into the list and set the list as the propery I think  \n23:22\u00a0<@cjdelisle>\u00a0I have to finish up some release stuff so I can't help today  \n23:25\u00a0<mar3lis>\u00a0ok i understand  \n23:25\u00a0<mar3lis>\u00a0thank you  \n\n"}