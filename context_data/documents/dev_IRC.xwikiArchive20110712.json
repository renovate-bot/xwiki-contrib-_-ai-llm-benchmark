{"id": "dev:IRC.xwikiArchive20110712", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110712", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:10\u00a0<mflorea>\u00a0has quit  \n00:22\u00a0<abusenius>\u00a0has joined #xwiki  \n00:41\u00a0<asyd>\u00a0has quit  \n00:42\u00a0<asyd>\u00a0has joined #xwiki  \n00:56\u00a0<asyd>\u00a0has quit  \n00:56\u00a0<asyd>\u00a0has joined #xwiki  \n01:00\u00a0<vmassol>\u00a0has joined #xwiki  \n01:13\u00a0<vmassol>\u00a0has quit  \n01:22\u00a0<asyd>\u00a0has quit  \n01:29\u00a0<asyd>\u00a0has joined #xwiki  \n01:45\u00a0<jvdrean1>\u00a0has quit  \n01:55\u00a0<asyd>\u00a0has quit  \n01:59\u00a0<DrLou>\u00a0has quit  \n02:01\u00a0<asyd>\u00a0has joined #xwiki  \n02:16\u00a0<abusenius>\u00a0has quit  \n07:28\u00a0<mflorea>\u00a0has joined #xwiki  \n07:33\u00a0<jamesxu\\_\\_>\u00a0has joined #xwiki  \n07:34\u00a0<jamesxu>\u00a0has joined #xwiki  \n08:15\u00a0<jvelociter>\u00a0has joined #xwiki  \n08:29\u00a0<vmassol>\u00a0has joined #xwiki  \n08:42\u00a0<cjdelisle>\u00a0has quit  \n08:46\u00a0<cjdelisle>\u00a0has joined #xwiki  \n09:18\u00a0<arkub>\u00a0has joined #xwiki  \n09:21\u00a0<arkub>\u00a0has quit  \n09:26\u00a0<arkub>\u00a0has joined #xwiki  \n09:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:35\u00a0<jamesxu\\_\\_>\u00a0\u00a0/names  \n09:35\u00a0<jamesxu\\_\\_>\u00a0has quit  \n09:35\u00a0<jamesxu>\u00a0has quit  \n09:51\u00a0<vmassol>\u00a0good morning guys!  \n09:52\u00a0<vmassol>\u00a0(back from holidays)  \n09:52\u00a0<vmassol>\u00a0so first question: who's the build manager on duty this week? :)  \n09:52\u00a0<vmassol>\u00a0sdumitriu: hi. Do you know what could have caused http://ci.xwiki.org/job/xwiki-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-webstandards/823/testReport/ ? (on the blog app)  \n09:52\u00a0<vmassol>\u00a0(note: haven't finished unpiling my mails yet)  \n09:53\u00a0<vmassol>\u00a0tmortagne:is that because we failed to stop XE? http://ci.xwiki.org/job/xwiki-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-cluster/823/testReport/  \n09:54\u00a0<vmassol>\u00a0ui-tests on master seem pretty stable, that's nice :)  \n09:56\u00a0<+tmortagne>\u00a0vmassol: no idea why it's stuck, did not had much time to look  \n09:58\u00a0<+tmortagne>\u00a0asked several time who wanted to be build manager but it does not seems to interest anyone  \n10:11\u00a0<+tmortagne>\u00a0vmassol: was your automatic wait for element done only on master or 3.1 branch too ?  \n10:13\u00a0<+tmortagne>\u00a0not sure why you say master is stable, it has been stuck quite often and we had to stop \u00a0them (that's the grey icons on http://ci.xwiki.org/job/xwiki-enterprise-tests/)  \n10:18\u00a0<+tmortagne>\u00a0vmassol: http://ci.xwiki.org/job/xwiki-enterprise-tests-3.1/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/303/testReport/junit/org.xwiki.test.wysiwyg/TabsTest/testSwitchToSourceWithHTMLChangesAndWait/ looks like selenium bug, isn't it ?  \n10:25\u00a0<jvelociter>\u00a0has quit  \n10:25\u00a0<sburjan>\u00a0has joined #xwiki  \n10:26\u00a0<+tmortagne>\u00a0vmassol: the \"org.xwiki.observation.remote.RemoteEventException: Channel [tcp] already started\" is weird, that supposed to happen only if startChannel is called several \u00a0times  \n10:27\u00a0<+tmortagne>\u00a0in the same instance  \n10:27\u00a0<+tmortagne>\u00a0it should not be related to the environment  \n10:28\u00a0<+tmortagne>\u00a0I know, it's actually a recursion issue  \n10:29\u00a0<+tmortagne>\u00a0remote observation log something \u00a0during it initialization which is producing a event which then call observation remote for initialization  \n10:30\u00a0<+tmortagne>\u00a0we probably have the same issue for any component logging something in initialize()  \n10:30\u00a0<+tmortagne>\u00a0I think that should be supported better at EmbeddableComponentManager level  \n10:31\u00a0<+tmortagne>\u00a0we already have that issue when some listener want to use ObservationManager, it can't even get it in it's initialize method  \n10:32\u00a0<+tmortagne>\u00a0the component instance should be added to the list of component instances before calling initialize()  \n10:43\u00a0<vmassol>\u00a0tmortagne: re automatic wait, only on master, not on 3.1 branch  \n10:43\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:44\u00a0<vmassol>\u00a0tmortagne: re stable, I said that because builds #823, #819 and #820 didn't show any ui tests failures  \n10:45\u00a0<+tmortagne>\u00a0yep but seems it get stuck randomly  \n10:45\u00a0<vmassol>\u00a0re http://ci.xwiki.org/job/xwiki-enterprise-tests-3.1/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/303/testReport/junit/org.xwiki.test.wysiwyg/TabsTest/testSwitchToSourceWithHTMLChangesAndWait/ I think mflorea was looking into it before I left for holidays  \n10:46\u00a0<+tmortagne>\u00a0does not seems to happen all the time  \n10:47\u00a0<vmassol>\u00a0could be a wait issue, like trying to assert the content when the body is not yet loaded or something like that  \n10:47\u00a0<+mflorea>\u00a0I changed the order of the tests to see if they interfere and indeed, now, the next test fails. I have to run both, this one and the previous one in the class, to see what happens  \n10:47\u00a0<vmassol>\u00a0ok  \n10:47\u00a0<vmassol>\u00a0going to disconnect for 3 mn, bb just after  \n10:48\u00a0<vmassol>\u00a0has quit  \n10:50\u00a0<vmassol>\u00a0has joined #xwiki  \n10:55\u00a0<vmassol>\u00a0tmortagne: I think XE-981 should be closed as won't fix  \n10:56\u00a0<+tmortagne>\u00a0vmassol: yes, was going to do it  \n10:56\u00a0<vmassol>\u00a0ok  \n10:56\u00a0<+tmortagne>\u00a0(was writing a comment first)  \n11:39\u00a0<evalica>\u00a0has joined #xwiki  \n11:42\u00a0<abusenius>\u00a0has joined #xwiki  \n11:44\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:23\u00a0<jvelociter>\u00a0has joined #xwiki  \n12:30\u00a0<abusenius>\u00a0has quit  \n12:53\u00a0<intertesto>\u00a0has joined #xwiki  \n13:05\u00a0<DrLou>\u00a0has joined #xwiki  \n13:22\u00a0<mflorea>\u00a0has quit  \n13:26\u00a0<vmassol>\u00a0jvdrean: is our current treeview in alldocs reusable? Is there any doc explaining how to use it?  \n13:26\u00a0<+tmortagne>\u00a0vmassol: you mean as treeview of document ? or just as base treeview ?  \n13:27\u00a0<vmassol>\u00a0I mean http://myxwiki.org/xwiki/bin/view/Main/AllDocs?view=tree  \n13:27\u00a0<+tmortagne>\u00a0I know what your are refering to  \n13:27\u00a0<+tmortagne>\u00a0but asking what part you want to reuse  \n13:28\u00a0<vmassol>\u00a0treeview of documents to get started since that's probably the easiest  \n13:28\u00a0<+tmortagne>\u00a0since the treeview itself is a SmartClient element AFAIK  \n13:28\u00a0<vmassol>\u00a0not exactly AFAIR  \n13:28\u00a0<vmassol>\u00a0jvdrean recoded a lot of it  \n13:29\u00a0<vmassol>\u00a0I don't think it's documented  \n13:29\u00a0<vmassol>\u00a0but this can serve as an example: http://myxwiki.org/xwiki/bin/view/XWiki/Treeview?viewer=code  \n14:06\u00a0<mflorea>\u00a0has joined #xwiki  \n14:07\u00a0<vmassol>\u00a0evalica: hi. I see you've added some screenshots to http://jira.xwiki.org/jira/browse/XWIKI-6509  \n14:08\u00a0<vmassol>\u00a0this issue was about the Create Panel which we don't use anymore  \n14:08\u00a0<vmassol>\u00a0should we rename the jira issue?  \n14:09\u00a0<jvdrean>\u00a0has left #xwiki  \n14:09\u00a0<vmassol>\u00a0I'll rename it  \n14:10\u00a0<+evalica>\u00a0the layout was exactly the same for the input  \n14:10\u00a0<+evalica>\u00a0and is quite a problem that in toucan we don't have the action menu  \n14:10\u00a0<+evalica>\u00a0so the creation process needs to be made  \n14:11\u00a0<+evalica>\u00a0from the \"create\" panel still  \n14:11\u00a0<+evalica>\u00a0so that improvement can be added to the panel too  \n14:11\u00a0<abusenius>\u00a0has joined #xwiki  \n14:11\u00a0<+evalica>\u00a0but yes - the screenshots are from the menus - but reused them to show the interaction  \n14:11\u00a0<vmassol>\u00a0ok I see but you're not suggesting we only make this change for the create panel and not in the create page template right?  \n14:11\u00a0<+evalica>\u00a0yes - should be improved both ways  \n14:20\u00a0<asyd>\u00a0has quit  \n14:36\u00a0<abusenius>\u00a0has quit  \n14:40\u00a0<cmarcoin>\u00a0has joined #xwiki  \n14:40\u00a0<vmassol>\u00a0sburjan: regarding the \"fix HTTPS support\" for the 3.2 release  \n14:40\u00a0<vmassol>\u00a0do we have any logged jira issue?  \n14:41\u00a0<vmassol>\u00a0I see http://jira.xwiki.org/jira/browse/XWIKI-6690  \n14:41\u00a0<vmassol>\u00a0any other?  \n14:41\u00a0<vmassol>\u00a0actually I've found some others  \n14:41\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-4489  \n14:42\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-5771  \n14:45\u00a0<cmarcoin>\u00a0has quit  \n14:45\u00a0<cmarcoin>\u00a0has joined #xwiki  \n14:48\u00a0<cmarcoin>\u00a0has left #xwiki  \n14:59\u00a0<+sburjan>\u00a0vmassol: yes, that was the only one I reported  \n14:59\u00a0<vmassol>\u00a0ok  \n15:02\u00a0<+tmortagne>\u00a0vmassol: FYI it looks like logback is actually using MessageFormat behind the scene, but I still modified the code since {} sound better when you have the parameters in the same order than the message string. Will use that more with MessageFormatter itself I think  \n15:02\u00a0<vmassol>\u00a0tmortagne: you broke the build ;)  \n15:02\u00a0<vmassol>\u00a0([INFO] --- clirr-maven-plugin:2.3:check (clirr-check) @ xwiki-platform-search-lucene ---  \n15:02\u00a0<vmassol>\u00a0[ERROR] com.xpn.xwiki.plugin.lucene.IndexRebuilder: Method 'protected int addTranslationsOfDocument(com.xpn.xwiki.doc.XWikiDocument, com.xpn.xwiki.XWikiContext)' has been removed  \n15:03\u00a0<vmassol>\u00a0tmortagne: their FAQ explciitly say that {0}\u00a0will not work  \n15:03\u00a0<+tmortagne>\u00a0vmassol: yep was waiting for things like that  \n15:03\u00a0<+tmortagne>\u00a0hmm  \n15:03\u00a0<vmassol>\u00a0see http://www.slf4j.org/faq.html#logging\\_performance  \n15:03\u00a0<+tmortagne>\u00a0ha I know they actually have their own MessageFormatter I tough it was the standard one  \n15:04\u00a0<vmassol>\u00a0section entitled \"Better yet, use parameterized messages\"  \n15:04\u00a0<+tmortagne>\u00a0I was looking at the code  \n15:04\u00a0<vmassol>\u00a0actally section \"Escaping the \"{}\" pair\"  \n15:04\u00a0<vmassol>\u00a0\"SLF4J only cares about the formatting anchor, that is the '{' character immediately followed by '}'. Thus, in case your message contains the '{' or the '}' character, you do not have to do anything special unless the '}' character immediately follows '}'. For example,\"  \n15:04\u00a0<\\_melvin\\_>\u00a0has joined #xwiki  \n15:05\u00a0<abusenius>\u00a0has joined #xwiki  \n15:07\u00a0<+tmortagne>\u00a0so they made their own message format instead of the JVM one for performance when handling escaping :)  \n15:08\u00a0<vmassol>\u00a0ok  \n15:09\u00a0<+tmortagne>\u00a0which mean I need to take care of that in LogEvent  \n15:10\u00a0<+tmortagne>\u00a0currently LogEvent does not really depends on slf4j but that message format is changing that  \n15:22\u00a0<+evalica>\u00a0is someone playing with http://platform.xwiki.org ?  \n15:23\u00a0<\\_melvin\\_>\u00a0Hi. i have a rest Auth failure by inserting an attachment with wysiwyg editor. I have installed \"xwiki-manager-jetty-mysql-3.1\" and created 1 url based \u00a0wiki named \"test\" with templatexe.  \n15:23\u00a0<+tmortagne>\u00a0I guess descriptor for this wiki has been either removed or we have a cache issue  \n15:23\u00a0<+evalica>\u00a0returns http://www.xwiki.org/xwiki/bin/view/Main/ThisWikiDoesNotExist  \n15:23\u00a0<+tmortagne>\u00a0checking  \n15:23\u00a0<+evalica>\u00a0I was editing a page like 3 minutes ago  \n15:24\u00a0<+evalica>\u00a0and the preview was working - now is not working any more :) I didn't broke anything  \n15:24\u00a0<\\_melvin\\_>\u00a0the url is like: http://trox-wiki:9080/xwiki/rest/wikis/test/spaces/Main/pages/TagsRss/attachments?undefined=null&r=669543  \n15:25\u00a0<\\_melvin\\_>\u00a0the error is like this: <h3>The request requires user authentication</h3>  \n15:26\u00a0<\\_melvin\\_>\u00a0this only occurs if the user is not within the admin group  \n15:26\u00a0<+tmortagne>\u00a0evalica: that's it, no descriptor on http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerPlatform now I have no idea how this page disappeared  \n15:26\u00a0<vmassol>\u00a0hmm it was working an hour ago  \n15:27\u00a0<+evalica>\u00a0it was working 10 minutes ago  \n15:27\u00a0<vmassol>\u00a0so I'd say some cache issue, can we flush the cache ?  \n15:27\u00a0<+tmortagne>\u00a0no the first time this happen on xwiki.org if I remember well  \n15:27\u00a0<+tmortagne>\u00a0s/no/not/  \n15:27\u00a0<@sdumitriu>\u00a0Flushed  \n15:27\u00a0<@sdumitriu>\u00a0Working again  \n15:28\u00a0<+evalica>\u00a0thanks :)  \n15:28\u00a0<@sdumitriu>\u00a0\\_melvin\\_: Are you using the standard authentication, or do you have something custom?  \n15:29\u00a0<\\_melvin\\_>\u00a0no. its the standard standalone version with jetty included  \n15:29\u00a0<\\_melvin\\_>\u00a0i only changed the db\\_prefix and enabled xwiki.virtual.usepath  \n15:31\u00a0<\\_melvin\\_>\u00a0maybe it has something to to with the templatexe?  \n15:32\u00a0<\\_melvin\\_>\u00a0if i create an empty wiki, i don't have the wysiwyg option to insert \u00a0an attachment  \n15:33\u00a0<@sdumitriu>\u00a0Hm, there's this undefined=null in the request which is wrong  \n15:35\u00a0<\\_melvin\\_>\u00a0here is a screenshot: http://imageshack.us/photo/my-images/844/editingwysiwygforsandbo.png/  \n15:36\u00a0<\\_melvin\\_>\u00a0this is as admin: http://imageshack.us/photo/my-images/59/editingwysiwygforsandbo.png/  \n15:37\u00a0<\\_melvin\\_>\u00a0and thsi is as user: http://imageshack.us/photo/my-images/808/editingwysiwygforsandbo.png/  \n15:38\u00a0<\\_melvin\\_>\u00a0i followed this uide: http://manager.xwiki.org/xwiki/bin/view/AdminGuide/Installation  \n15:39\u00a0<\\_melvin\\_>\u00a0i tryed different versions from xwiki between 2.7 and 3.1  \n15:56\u00a0<\\_melvin\\_>\u00a0sdumitriu, it seams, the user hast to exists in the \"main\" xwiki to to access the rest api.  \n15:56\u00a0<@sdumitriu>\u00a0Right  \n15:57\u00a0<\\_melvin\\_>\u00a0but the the virtualwiki base user management makes no sense  \n15:58\u00a0<+tmortagne>\u00a0\\_melvin\\_: what version are you using ?  \n15:58\u00a0<\\_melvin\\_>\u00a0i created the user in both wiki. if i login the user into /xwiki the user is also logged in into /xwiki/wiki/test. but i don't see any pages.  \n15:58\u00a0<\\_melvin\\_>\u00a0at this time 3.0  \n15:58\u00a0<+tmortagne>\u00a0I remember fixing some time ago a bug in REST that made it always auth on main wiki instead of the right wiki  \n15:58\u00a0<+tmortagne>\u00a0let me find the issue  \n15:59\u00a0<\\_melvin\\_>\u00a0is there a virtual wiki based rest api like?  \n16:00\u00a0<+tmortagne>\u00a0\\_melvin\\_: you have the wiki provided in the REST URL with /wikis/test/  \n16:00\u00a0<\\_melvin\\_>\u00a0\u00a0if i login the user into /xwiki/wiki/test first am alos logged in into /xwiki but can't access any data. So maybe that is the reason why the rest request failed?  \n16:01\u00a0<qwebirc53206>\u00a0has joined #xwiki  \n16:01\u00a0<+tmortagne>\u00a0\\_melvin\\_: sure but you are trying to access test wiki data inthe rest URL, right ?  \n16:01\u00a0<+tmortagne>\u00a0no main wiki  \n16:02\u00a0<\\_melvin\\_>\u00a0right. the wysiwyg editor tryes to get all attachments by using the rest api  \n16:02\u00a0<cmarcoin>\u00a0has joined #xwiki  \n16:02\u00a0<\\_melvin\\_>\u00a0i thougt maybe the request goes not through the virtual wiki  \n16:03\u00a0<qwebirc53206>\u00a0has quit  \n16:05\u00a0<\\_melvin\\_>\u00a0can you reproduce the problem?  \n16:05\u00a0<qwebirc71174>\u00a0has joined #xwiki  \n16:06\u00a0<\\_melvin\\_>\u00a0i can see thatz not all requests to the rest api are failing  \n16:06\u00a0<\\_melvin\\_>\u00a0http code 200: http://trox-wiki:9080/xwiki/rest/wikis/test/spaces/Sandbox/pages?parentId=test%3ASandbox.WebHome&r=993215  \n16:06\u00a0<qwebirc71174>\u00a0has quit  \n16:07\u00a0<\\_melvin\\_>\u00a0http Code 401: http://trox-wiki:9080/xwiki/rest/wikis/test/spaces/Sandbox/pages/TestPage1  \n16:12\u00a0<+tmortagne>\u00a0I tough it was for rest but maybe it actually was for XMLRPC so its possible REST have the exact same issue (always authenticate on the main wiki instead of the requested wiki4)  \n16:12\u00a0<\\_melvin\\_>\u00a0ok  \n16:13\u00a0<\\_melvin\\_>\u00a0this would explain why i have to login to the main wiki to use the rest api on the virtual wiki  \n16:13\u00a0<+tmortagne>\u00a0jvelociter: any idea ? you worked on REST auth recently to refactor it for Restlet 2.0, maybe you remember some details on how the authentication is working  \n16:14\u00a0<+jvelociter>\u00a0hi  \n16:14\u00a0<+tmortagne>\u00a0\\_melvin\\_: would be great if you could create an issue on jira.xwiki.org with all the details  \n16:14\u00a0<+jvelociter>\u00a0reading  \n16:14\u00a0<+tmortagne>\u00a0should not be to hard to fix if that's the issue I guess  \n16:15\u00a0<+jvelociter>\u00a0I don't have all the code in mind but yes that would not surprise me it authenticates only against main wiki  \n16:15\u00a0<\\_melvin\\_>\u00a0i'm asking myself why no one else has this problem? does nobody insert attachments from other sites?  \n16:15\u00a0<+tmortagne>\u00a0hmm unless REST authentication is not really aware of the current resource  \n16:15\u00a0<+jvelociter>\u00a0true  \n16:16\u00a0<+jvelociter>\u00a0and not sure it will be easy to make it aware of it  \n16:16\u00a0<+tmortagne>\u00a0\\_melvin\\_: I think it weird too since that should make annotations unusable on a subwiki with subwiki users  \n16:16\u00a0<+jvelociter>\u00a0I'm not sure the resource is loaded yet  \n16:17\u00a0<@sdumitriu>\u00a0Maybe the fact that the wiki does not use different domain names for wikis is a problem?  \n16:18\u00a0<+tmortagne>\u00a0sdumitriu: that's the problem here yes but RETS has it's own wiki information in URLs so it shoul still work  \n16:18\u00a0<+tmortagne>\u00a0plus that make any REST based UI like annotation unusable in path based multiwiki  \n16:19\u00a0<@sdumitriu>\u00a0Right, it should work as an internal implementation detail of the REST APIs  \n16:19\u00a0<+tmortagne>\u00a0s/RETS/REST/  \n16:20\u00a0<\\_melvin\\_>\u00a0is there any way how i can debug this using log4j?  \n16:20\u00a0<+tmortagne>\u00a0\\_melvin\\_: I don't think so no  \n16:20\u00a0<+tmortagne>\u00a0but as far as I can see in the code that's the issue  \n16:21\u00a0<+tmortagne>\u00a0if you were using domain based multiwiki the bug would be \"hidden\"  \n16:22\u00a0<+tmortagne>\u00a0since the XWiki context would be on wiki corresponding to domain name before REST module tries to authenticate  \n16:22\u00a0<\\_melvin\\_>\u00a0Ok. but there is no way for me to use domain based sub wikis  \n16:23\u00a0<\\_melvin\\_>\u00a0so the only way is to seperate the wikis?  \n16:24\u00a0<\\_melvin\\_>\u00a0is there a easy way to \"split\" the sub wikis into real ones?  \n16:24\u00a0<+tmortagne>\u00a0what database engine are you using ? MySQL ?  \n16:24\u00a0<\\_melvin\\_>\u00a0yes  \n16:24\u00a0<+tmortagne>\u00a0each wiki has its own database then  \n16:24\u00a0<sburjan>\u00a0has quit  \n16:25\u00a0<\\_melvin\\_>\u00a0yes. i used a db prefix  \n16:25\u00a0<+tmortagne>\u00a0just use this database with a non virtual wiki and it should work as it is  \n16:25\u00a0<\\_melvin\\_>\u00a0so i just need to double the application and change the xwiki.cfg?  \n16:26\u00a0<+tmortagne>\u00a0and hibernate configuration to target the right database  \n16:26\u00a0<+tmortagne>\u00a0or you use a XE distribution and don't have to touch xwiki.cfg  \n16:27\u00a0<+tmortagne>\u00a0you can't force all user to be on main wiki ?  \n16:27\u00a0<+tmortagne>\u00a0s/user/users/  \n16:27\u00a0<\\_melvin\\_>\u00a0the user backend i ldap in production. so it might be possible  \n16:28\u00a0<+tmortagne>\u00a0in that case yes it should be easy  \n16:28\u00a0<\\_melvin\\_>\u00a0i createt my test user \"e7test\" in the main wiki as user. but it doesn't worked  \n16:28\u00a0<+tmortagne>\u00a0we often do that  \n16:29\u00a0<\\_melvin\\_>\u00a0for me it seams that it only works if i login into the main wiki and then go to the sub wiki  \n16:29\u00a0<+tmortagne>\u00a0it's actually even cleaner to put all user on main wiki when you use LDAP auth otherwise you will have all your users duplicated everywhere and it will be a pain  \n16:29\u00a0<\\_melvin\\_>\u00a0otherwise the admin user \"Admin\" also fail to make the rest request  \n16:30\u00a0<+tmortagne>\u00a0Admn user exist on subwiki if you used standard XE xar  \n16:30\u00a0<+tmortagne>\u00a0you can check where the user aactually is by looking at its profile page link  \n16:31\u00a0<\\_melvin\\_>\u00a0ok  \n16:31\u00a0<+tmortagne>\u00a0\\_melvin\\_: when you have a user on main wiki and enter the farm starting with a subwiki you have REST auth issue ?  \n16:31\u00a0<\\_melvin\\_>\u00a0so if i create the user only on the main wiki i can use him to login on the sub wiki?  \n16:31\u00a0<+tmortagne>\u00a0yes  \n16:32\u00a0<+tmortagne>\u00a0user from main wiki can login everywhere  \n16:32\u00a0<@sdumitriu>\u00a0vmassol: The XHTML validity check errors for the panels are somewhat \"normal\"  \n16:32\u00a0<+tmortagne>\u00a0but by default they will not have much right on sub wikis  \n16:32\u00a0<@sdumitriu>\u00a0They are new regressions caused by the switch to the 2.0 syntax  \n16:33\u00a0<+tmortagne>\u00a0\\_melvin\\_: you need to give rights for main wiki AllGroup group on sub wikis  \n16:33\u00a0<vmassol>\u00a0sdumitriu: ok, can you fix them asap?  \n16:33\u00a0<@sdumitriu>\u00a0No  \n16:33\u00a0<vmassol>\u00a0(build must work at all times)  \n16:33\u00a0<@sdumitriu>\u00a0It's a rendering problem  \n16:34\u00a0<@sdumitriu>\u00a0The headings are now generated using wiki markup  \n16:34\u00a0<vmassol>\u00a0then we should revert your change  \n16:34\u00a0<vmassol>\u00a0till we fix the problem  \n16:34\u00a0<@sdumitriu>\u00a0The rendering engine should not generate the same ID twice  \n16:34\u00a0<vmassol>\u00a0as it's breaking the build  \n16:34\u00a0<\\_melvin\\_>\u00a0ok  \n16:34\u00a0<@sdumitriu>\u00a0I wouldn't revert it  \n16:34\u00a0<vmassol>\u00a0unless someone can fix this \"rendering issue\" now  \n16:34\u00a0<\\_melvin\\_>\u00a0does it work with groupmapping?  \n16:34\u00a0<@sdumitriu>\u00a0It's a minor problem  \n16:34\u00a0<vmassol>\u00a0build failing isNOT a minoir problem  \n16:34\u00a0<@sdumitriu>\u00a0We should disable the tests instead, if we want the build to succeed  \n16:35\u00a0<vmassol>\u00a0if we say that xhtml validatiy is not important  \n16:35\u00a0<vmassol>\u00a0then we might as well not run these tests  \n16:35\u00a0<+tmortagne>\u00a0\\_melvin\\_: LDAP group mapping would b done on main wiki, then you give the right you want for the LDAP groups on subwikis  \n16:35\u00a0<vmassol>\u00a0(at least this specific test)  \n16:36\u00a0<vmassol>\u00a0(can we do that?)  \n16:36\u00a0<\\_melvin\\_>\u00a0i made a video to show the problem  \n16:36\u00a0<vmassol>\u00a0who's the build manager of last week?  \n16:36\u00a0<vmassol>\u00a0he should have contiued to be the build manager or hand it to someone else  \n16:37\u00a0<\\_melvin\\_>\u00a0can i paste it somewhere?  \n16:37\u00a0<+tmortagne>\u00a0\\_melvin\\_: attach it on a jira issue  \n16:37\u00a0<+tmortagne>\u00a0that's the best place to report issue and provide details  \n16:38\u00a0<\\_melvin\\_>\u00a0tmortagne, so if i change to \"global\" user management the rest api should work as expected?  \n16:38\u00a0<+tmortagne>\u00a0\\_melvin\\_: if the issue is that REST always authenticate on main wiki it should be ok yes I guess  \n16:39\u00a0<\\_melvin\\_>\u00a0or is it simpler to \"split\" the subwikis and jion then together after fixing the problem?  \n16:39\u00a0<\\_melvin\\_>\u00a0whats happend to the privileges after splitting the wikis?  \n16:40\u00a0<+tmortagne>\u00a0\\_melvin\\_: it's easier to handle groups and right when they are shared on the main wiki and it's really easy to do  \n16:41\u00a0<+tmortagne>\u00a0\\_melvin\\_: if you split each wiki has its own users/groups/rights  \n16:42\u00a0<\\_melvin\\_>\u00a0ok. so i'll have to figure out how i change the rights  \n16:42\u00a0<+tmortagne>\u00a0\\_melvin\\_: what is the issue with rights ?  \n16:43\u00a0<+tmortagne>\u00a0it's just that you don't know where to setup right or a specific issue with right in general ?  \n16:43\u00a0<\\_melvin\\_>\u00a0i never tried to use the user/groups on the main wiki  \n16:44\u00a0<+tmortagne>\u00a0when you are on a subwiki you can switch from local or global (comming from main wiki) users/groups in the right management UI  \n16:44\u00a0<@sdumitriu>\u00a0vmassol: OTP at the moment  \n16:44\u00a0<@sdumitriu>\u00a0I don't think that XHTML validity is not important  \n16:45\u00a0<\\_melvin\\_>\u00a0does the user appear on the subwiki after the change?  \n16:46\u00a0<@sdumitriu>\u00a0But the alternatives are not that nice  \n16:46\u00a0<+tmortagne>\u00a0\\_melvin\\_: what change are you talking about ?  \n16:47\u00a0<\\_melvin\\_>\u00a0i change user and groups from \"local\" to \"global\"  \n16:47\u00a0<\\_melvin\\_>\u00a0i can login with the global user but don't have access to any page  \n16:47\u00a0<+tmortagne>\u00a0\\_melvin\\_: I'm just talking about the right management UI here  \n16:47\u00a0<+mflorea>\u00a0abusenius, Denis, Enygma`, jvelociter we need a Build Manager for the next week, interested?  \n16:47\u00a0<vmassol>\u00a0ok I'm taking the Build Manager role for this week (although I'm quite busy catching up after my holidays).  \n16:47\u00a0<+tmortagne>\u00a0\\_melvin\\_: \u00a0it's not a configuration to make subwiki use users from main wikis  \n16:48\u00a0<+jvelociter>\u00a0I could take it for this week too actually  \n16:48\u00a0<+tmortagne>\u00a0\\_melvin\\_: as I said you need to give some right to main wiki AllGroup group  \n16:48\u00a0<\\_melvin\\_>\u00a0and i changed the rights from local to global to  \n16:48\u00a0<vmassol>\u00a0jvelociter: ah ok, I'll leave it to you then  \n16:48\u00a0<+jvelociter>\u00a0because after that it's going to be harder for me (for the coming weeks this summer)  \n16:48\u00a0<+tmortagne>\u00a0\\_melvin\\_: \u00a0go the the right management UI in you subwiki  \n16:48\u00a0<vmassol>\u00a0(but I can help you if you have questions)  \n16:48\u00a0<+jvelociter>\u00a0ok thanks  \n16:49\u00a0<+tmortagne>\u00a0\\_melvin\\_: again this switch does not do anything  \n16:49\u00a0<+tmortagne>\u00a0it's just a display  \n16:49\u00a0<\\_melvin\\_>\u00a0now it seams to work. its just that simple?  \n16:49\u00a0<+tmortagne>\u00a0to let you give rights to local or global users/group  \n16:49\u00a0<+tmortagne>\u00a0yes it is  \n16:50\u00a0<+tmortagne>\u00a0you can actually use users from any wiki in any other wiki in XWiki platform  \n16:50\u00a0<\\_melvin\\_>\u00a0ok. so the only thing that matters is the privilege  \n16:50\u00a0<\\_melvin\\_>\u00a0i understand  \n16:50\u00a0<+tmortagne>\u00a0to make it simplier the UI just list main wiki and local wiki  \n16:50\u00a0<vmassol>\u00a0I rephrased the process: \"At the end of the Week the Build Manager must find the next Build Manager and hand over his duty. If he doesn't find anyone else, he remains the Build Manager. Note that for fairness the oldest Build Managers on the http://dev.xwiki.org/xwiki/bin/view/Community/BuildManagerRoster need to accept to be the next Build Manager.\"  \n16:50\u00a0<vmassol>\u00a0(so that we always have a BM)  \n16:51\u00a0<\\_melvin\\_>\u00a0so if i use the ldap backend in production. these user are global, right?  \n16:51\u00a0<vmassol>\u00a0(on http://dev.xwiki.org/xwiki/bin/view/Community/DevelopmentPractices)  \n16:51\u00a0<+tmortagne>\u00a0\\_melvin\\_: not by default no, let me find you the doc  \n16:52\u00a0<\\_melvin\\_>\u00a0thx  \n16:52\u00a0<+tmortagne>\u00a0\\_melvin\\_: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/LDAPAuthenticationUseCases#HI27minmultiwikienvironmentandIwantmyLDAPuserstoregisteredonlyonmainwiki  \n16:52\u00a0<+tmortagne>\u00a0here it is  \n16:52\u00a0<\\_melvin\\_>\u00a0thx a lot  \n16:53\u00a0<+tmortagne>\u00a0plus http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP+Tools  \n16:53\u00a0<\\_melvin\\_>\u00a0i'll check it out. and write the bug report  \n16:54\u00a0<+tmortagne>\u00a0\\_melvin\\_: thanks  \n16:55\u00a0<\\_melvin\\_>\u00a0no, thx you  \n17:00\u00a0<evalica>\u00a0has quit  \n17:06\u00a0<Enygma`>\u00a0has quit  \n17:17\u00a0<vmassol>\u00a0jvelociter: nice new acronym : Q&D ;)  \n17:20\u00a0<vmassol>\u00a0jvelociter: why don't you render in XWiki syntax ?  \n17:22\u00a0<+tmortagne>\u00a0there is actually even better than that  \n17:23\u00a0<+tmortagne>\u00a0you should not even render in anything  \n17:23\u00a0<vmassol>\u00a0ah right  \n17:23\u00a0<+tmortagne>\u00a0you can directly return the Blocks  \n17:23\u00a0<+tmortagne>\u00a0just use the groovy return  \n17:24\u00a0<+tmortagne>\u00a0that's support for any JSR 223 based macro  \n17:25\u00a0<+jvelociter>\u00a0right  \n17:26\u00a0<+jvelociter>\u00a0actually I want to store it in xwiki/2.0 syntax in my use case  \n17:41\u00a0<\\_melvin\\_>\u00a0tmortagne, so if i get it right. if i configure the ldap backend in the xwiki.cfg - the user are global. if i use ldap parameters in xwikiprefernces or create user in subwiki, the uzsers are local?  \n17:47\u00a0<\\_melvin\\_>\u00a0tmortagne, if i login with a ldap user, this user will be created as a local User. where can i change the subwiki to use global users only?  \n18:03\u00a0<+tmortagne>\u00a0\\_melvin\\_: xwiki.cfg define the LDAP default configuration for all wikis it's not about main wiki  \n18:03\u00a0<+tmortagne>\u00a0you have to disable LDAP in xwiki.cfg and enable it in main wiki XWikiPreferences as said in the link I gave you  \n18:03\u00a0<+tmortagne>\u00a0xwiki.cfg alone is not enough  \n18:04\u00a0<+tmortagne>\u00a0either that or enable it in xwiki.cfg and disable it in all wikis but it's generally painful since you have to remember that when you create a new wiki  \n18:15\u00a0<tmortagne>\u00a0has quit  \n18:16\u00a0<arkub>\u00a0has quit  \n18:19\u00a0<mflorea1>\u00a0has joined #xwiki  \n18:19\u00a0<mflorea>\u00a0has quit  \n18:24\u00a0<abusenius>\u00a0has quit  \n19:04\u00a0<\\_melvin\\_>\u00a0tmortage: i found the doku about the object editor and the ldap config, I think i understand the config now. So i will change to disable ldap in xwiki.cfg and configure it in the main wiki.  \n19:04\u00a0<\\_melvin\\_>\u00a0thx  \n19:12\u00a0<cmarcoin>\u00a0has quit  \n19:20\u00a0<intertesto>\u00a0has quit  \n19:21\u00a0<abusenius>\u00a0has joined #xwiki  \n19:30\u00a0<mflorea1>\u00a0has quit  \n20:03\u00a0<Spazholio>\u00a0Is it possible to import a PDF into Xwiki, or only office documents?  \n20:04\u00a0<@cjdelisle>\u00a0AFAIK only office documents. If you can import the PDF into openoffice then you're in luck.  \n20:13\u00a0<Spazholio>\u00a0Hmm. \u00a0Ok, thanks.  \n20:13\u00a0<npm>\u00a0has quit  \n20:17\u00a0<npm>\u00a0has joined #xwiki  \n22:29\u00a0<cmarcoin>\u00a0has joined #xwiki  \n22:50\u00a0<jvelociter>\u00a0has quit  \n23:09\u00a0<cmarcoin>\u00a0has quit  \n23:22\u00a0<cmarcoin>\u00a0has joined #xwiki  \n\n"}