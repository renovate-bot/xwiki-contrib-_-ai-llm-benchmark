{"id": "dev:IRC.xwikiArchive20100614", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100614", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu joined #xwiki at 00:04  \nflorinciu left at 00:35 (Read error: Connection reset by peer  \nabusenius left at 00:51 (Quit: Konversation terminated!  \nlucaa left at 01:29 (Ping timeout: 258 seconds  \nsdumitriu left at 03:17 (Ping timeout: 240 seconds  \nmflorea joined #xwiki at 06:25  \nnuvolari left at 07:21 (Excess Flood  \nnuvolari joined #xwiki at 07:22  \nnuvolari left at 07:24 (Changing host  \nnuvolari joined #xwiki at 07:24  \nkibahop joined #xwiki at 08:00  \nvmassol joined #xwiki at 08:16  \nsburjan joined #xwiki at 08:26  \nplunden joined #xwiki at 08:30  \nvmassol left at 08:50 (Quit: Leaving.  \nvmassol joined #xwiki at 08:53  \nvmassol1 joined #xwiki at 08:53  \nvmassol left at 08:58 (Ping timeout: 265 seconds  \nvmassol joined #xwiki at 09:14  \nvmassol1 left at 09:14 (Read error: Connection reset by peer  \nSvenDowideit left at 09:15 (Ping timeout: 264 seconds  \nSvenDowideit joined #xwiki at 09:18  \nSvenDowideit\\_ joined #xwiki at 09:22  \nSvenDowideit left at 09:23 (Ping timeout: 258 seconds  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nEnygma` joined #xwiki at 09:26  \nsilviar joined #xwiki at 09:27  \nlucaa joined #xwiki at 09:28  \nmflorea left at 09:33 (Quit: Leaving.  \narkub joined #xwiki at 09:33  \nevalica joined #xwiki at 09:43  \nflorinciu joined #xwiki at 09:52  \nsburjan - (09:52): hello guys. Question.  \nsburjan - (09:53): when I try to import an Office Document, I get an error saying \"This feature requires an active openoffice server which we could not locate, please contact your administrator to resolve this issue. \"  \nsburjan - (09:54): Is this normal ?  \nvmassol - (09:54): hi sburjan  \nvmassol - (09:54): yes it's normal  \nsburjan - (09:54): okay  \ntmortagne joined #xwiki at 10:04  \nevalica1 joined #xwiki at 10:11  \nsdumitriu joined #xwiki at 10:12  \nDenis joined #xwiki at 10:13  \nevalica left at 10:13 (Ping timeout: 272 seconds  \nKermitTheFragger joined #xwiki at 10:18  \nabusenius joined #xwiki at 10:23  \njvdrean joined #xwiki at 10:30  \nCalebJamesDeLisl - (10:36): Good morning. It's too bad we can't flip the order of the 1.0 renderers because IMO 5272 is a blocker.  \nevalica1 is now known as evalica ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nmflorea joined #xwiki at 10:40  \nabusenius - (10:42): CalebJamesDeLisl: why do you think it is worse than 5223?  \nabusenius - (10:42): the result is the same :)  \nCalebJamesDeLisl - (10:42): In 5223 you are restricted, (no <>\"&)  \nCalebJamesDeLisl - (10:43): Not a good excuse though. They are related, I'd like to fix them both at the same time.  \nabusenius - (10:44): well, unless you want to do arithmetic its fine  \nabusenius - (10:44): \" is not a problem  \nCalebJamesDeLisl - (10:44): These are both runious which is why I think it's worth it to break backward compatibility.  \nCalebJamesDeLisl - (10:44): \\*ruinous  \nabusenius - (10:45): I agree, those things should have never been allowed  \nCalebJamesDeLisl - (10:46): vmassol: What say you to adding a config param for breaking 1.0 renderer compatibility?  \nvmassol - (10:46): I don't understand why you want to touch the 1.0 rendernig engine, it shouldn't be touched  \nvmassol - (10:46): it's read only basically  \nvmassol - (10:46): and only there for backward compat  \nvmassol - (10:46): so we shoudn't touch it as much as possible  \nvmassol - (10:47): it's deprecated if you prefer  \nCalebJamesDeLisl - (10:47): To plug a \\_big\\_ hole.  \nvmassol - (10:47): the rendering 1.0 \\*IS\\* a big hole by itself  \nvmassol - (10:47): this is why we wrote the 2.0 one  \nCalebJamesDeLisl - (10:47): Well, XSS is not good but this hole is really bad.  \nabusenius - (10:47): there is no difference whether some insecure code is deprecated or not, as long as its is accessible, it can be exploitet  \nCalebJamesDeLisl - (10:48): see: 5272 and the list of documents.  \nvmassol - (10:48): well we do allow not making the 1.0 syntax avail  \nvmassol - (10:48): it's a config option  \nCalebJamesDeLisl - (10:49): Not sure that each of those has the hole but I can see that some do.  \nvmassol - (10:49): if you define a new config param you'll need to hav eit off by default so it won't help  \nabusenius - (10:49): this one should be on  \nCalebJamesDeLisl - (10:49): Why off by default? New installations won't need this.  \nvmassol - (10:49): then you break backward compat and you're going to hurt a lot of people  \nabusenius - (10:50): IMO there is no point in trying to make new code secure if there are still tons of old security holes kept for backward compatibility with old exploits  \nCalebJamesDeLisl - (10:50): Meaning upgrades?  \nvmassol - (10:50): hmm you're right, if people are caeful  \nvmassol - (10:50): they won't merge it  \nvmassol - (10:50): \\*careful  \nvmassol - (10:50): so it means off by default  \nCalebJamesDeLisl - (10:50): IMO people should merge it and only revert if there is a problem.  \nvmassol - (10:50): ie when it doesn't exist it's off  \nvmassol - (10:51): CalebJamesDeLisl: people won't know about it  \nCalebJamesDeLisl - (10:51): Also we are going to have to put out a bulletin for this IMO.  \nvmassol - (10:51): anywya needs to be discussed on the security list not here  \nabusenius - (10:51): true  \nCalebJamesDeLisl - (10:52): Well I'll send a proposal there.  \nsburjan left at 10:59 (Read error: Connection reset by peer  \nsburjan\\_ joined #xwiki at 10:59  \njvelo joined #xwiki at 11:20  \nCalebJamesDeLisl - (11:28): Anyone (vmassol?) have a problem with me applying Alex's \"no nested scripts\" patch? http://jira.xwiki.org/jira/browse/XWIKI-5223  \nvmassol - (11:29): I can have a quick look to see if I spot anything wrong  \nvmassol - (11:30): tmortagne will want to review it too I'm sure  \nvmassol - (11:30): I can already see some things that need to be fixed before applying it  \nvmassol - (11:30): like:`  \nvmassol - (11:30): -.expect|event/1.0  \nvmassol - (11:30): +.# Skipped, since nested scripts are not allowed any more, but it is hard to match the error trace here  \nvmassol - (11:31): I don't like it FTM  \nvmassol - (11:31): wait I mis-read something  \nvmassol - (11:31): so I remove that last statement  \nvmassol - (11:31): ;)  \nvmassol - (11:31): stillr eading  \nvmassol - (11:32): thought alex had introduced the notion of script in abstractblock\u2026. ;)  \nCalebJamesDeLisl - (11:32): But you have no problem with the basic idea that scripts shouldn't be nested?  \nvmassol - (11:32): ah yes he has  \nvmassol - (11:32): \u00a0\u00a0\u00a0currentBlock.setIsScript(true);  \nvmassol - (11:32): I don't like that part FTM (I'd need to understand it better)  \nvmassol - (11:33): CalebJamesDeLisl: I have no idea, haven't thought about it  \nvmassol - (11:33): I don't like that the checks are done internally as a general rule  \nvmassol - (11:33): I would have thought about some external rules  \nvmassol - (11:33): applied to an xdom  \ntmortagne - (11:33): i'm still not 100% sure about and and having script noting at AbstractBlock level is bad for sure  \nvmassol - (11:33): if someone wants nested scripts he won't be able not to run the filter  \nvmassol - (11:34): I'm ?1 to apply it as is  \nvmassol - (11:34): (after a quick review)  \nvmassol - (11:34): it adds the notion of scripts in several places  \nvmassol - (11:34): which shouldn't be aware of that  \nCalebJamesDeLisl - (11:35): -1 to the concept of blocking script in script?  \nvmassol - (11:35): (MAcroMaarkerBlock for ex)  \ntmortagne - (11:35): i don't even understand why he needs that  \nvmassol - (11:36): CalebJamesDeLisl: no, ?1 to hard code stuff and especially in places that shouldn't know about it  \ntmortagne - (11:36): also the patch contains lot's of code unrelated to the nested script blocking thing  \nvmassol - (11:36): (we need to keep an extensible implementation)  \nabusenius - (11:37): the reason why I added isScript is that I didn't wanted to hardcode \"groovy\" \"velocity\" etc  \ntmortagne - (11:37): abusenius: you don't need that  \nabusenius - (11:37): how do I distinguish between script and not script?  \ntmortagne - (11:37): just get the macro component and check if it's a ScriptMacro  \nabusenius - (11:38): but it ist the script macro, its a macro block that was added after macro execution  \nabusenius - (11:38): s/ist/isnt/  \nvmassol - (11:39): could it be that you want generic markers?  \ntmortagne - (11:39): and ? you know the macro id and all macros have corresponding components  \ntmortagne - (11:39): just get the component based on it  \nvmassol - (11:39): (haven't really thought about your algo though)  \nabusenius - (11:40): vmassol, well I wanted to distinguish differen macro types  \nabusenius - (11:40): but I need to look at the way tmortagne is suggesting  \nvmassol - (11:40): ok  \ntmortagne - (11:40): for now there is only an abstract for script macro i think but we can introduce a interface to be cleaner  \ntmortagne - (11:41): i need to open Eclipse but that's the second time it crashes...  \nabusenius - (11:42): vmassol: re skipped tests, I could find an easy way to match arbitrary error trace in unit test, I wrote functional tests instead  \nabusenius - (11:42): (for those 2)  \nvmassol - (11:43): abusenius: what I meant is that skipping tests is not a solution  \nvmassol - (11:43): either the tests are removed for some reason or they are executed  \nvmassol - (11:43): skipping is like commenting out code  \nabusenius - (11:44): well, it was meant as a temporary measure  \nvmassol - (11:44): sure  \nvmassol - (11:44): but I was responding to caleb  \nvmassol - (11:45): that it needs to be fixed before applying the patch  \ntmortagne - (11:45): abusenius: checked, there is only AbstractScriptMacro but you can introduce a ScriptMacro interface (it was not needed before and check the type based on an abstract is not nice) in the same package (it's a public package)  \nCalebJamesDeLisl - (11:45): Hmm how about ScriptMacroMarkerBlock extends MacroMarkerBlock then just check what type of class it is?  \ntmortagne - (11:46): CalebJamesDeLisl: the MacroBlock is generated by the generic macro transformation  \ntmortagne - (11:46): it doe snot know anything about scripts  \ntmortagne - (11:46): s/MacroBlock/MacroMarkerBlock/  \nCalebJamesDeLisl - (11:46): Ok. I'm not very well versed in the renderer.  \nabusenius - (11:50): tmortagne: ok, I'll update the patch accordingly  \nEnygma`1 joined #xwiki at 11:53  \nmflorea1 joined #xwiki at 11:53  \ntmortagne - (11:54): abusenius, CalebJamesDeLisl: btw after some tough i'm ok with this blocking nested script things in theses use case since if you really need that for a valid use case you can use other ways like special macro or programatically which are less easy but it's maybe better to let only users that knows what they do support this  \nevalica1 joined #xwiki at 11:54  \nflorinciu1 joined #xwiki at 11:54  \nlucaa1 joined #xwiki at 11:55  \nsilviar1 joined #xwiki at 11:55  \nsilviar1 left #xwiki at 11:55  \nlucaa left at 11:56 (Ping timeout: 240 seconds  \nsilviar left at 11:56 (Ping timeout: 240 seconds  \nEnygma` left at 11:56 (Ping timeout: 240 seconds  \nmflorea left at 11:56 (Ping timeout: 264 seconds  \nflorinciu left at 11:56 (Ping timeout: 252 seconds  \nevalica left at 11:56 (Ping timeout: 265 seconds  \nvmassol - (11:57): tmortagne: you mean putting the check by default in AbstractScript instead of doing it in a filter (in a Tx for ex)?  \nsburjan\\_ left at 11:57 (Ping timeout: 240 seconds  \nvmassol - (11:57): why couldn't it be done in a Tx btw?  \nmflorea joined #xwiki at 11:57  \nvmassol - (11:57): (it was meant for this kind of use cases)  \nCalebJamesDeLisl - (11:58): Tx? Transformation?  \nevalica joined #xwiki at 11:58  \nvmassol - (11:58): yes  \nCalebJamesDeLisl - (11:58): I asked the same, it's because you can hide a macro inside of an html macro.  \nEnygma`1 left at 11:58 (Ping timeout: 276 seconds  \nCalebJamesDeLisl - (11:59): {{velocity}} {{html wiki=true}} {{velocity}} ....  \nlucaa1 left at 11:59 (Ping timeout: 240 seconds  \nCalebJamesDeLisl - (11:59): {{html}} is a black box as I understand it.  \nflorinciu1 left at 11:59 (Ping timeout: 276 seconds  \nvmassol - (11:59): yes macro content is a black box right now  \nvmassol - (11:59): but  \nevalica1 left at 12:00 (Ping timeout: 264 seconds  \nvmassol - (12:00): hmm thinking...  \nmflorea1 left at 12:00 (Ping timeout: 252 seconds  \nCalebJamesDeLisl - (12:00): Maybe evaluate all inner content recursively and blow up if it finds another script macro?  \nCalebJamesDeLisl - (12:00): Sure would be easier.  \nvmassol - (12:01): I need to understand what you're doing first. When you say froboding scripts inside scripts , wdym?  \nvmassol - (12:01): {{velocity}}{{groovy}}\u2026{{/groovy}}{{/velocity}} is valid for ex  \nvmassol - (12:01): or do you mean <script> as in HTML?  \nCalebJamesDeLisl - (12:01): No I mean {{velocity}}{{groovy}} ...  \nvmassol - (12:02): hmm that solves use cases. What is wrong with it?  \nCalebJamesDeLisl - (12:02): http://jira.xwiki.org/jira/browse/XWIKI-5223  \nabusenius - (12:03): the problem is that the content of {{groovy}} is generated using velocity  \nvmassol - (12:03): yesthat's the point :)  \nCalebJamesDeLisl - (12:03): Are there use cases where that's the only answer?  \nabusenius - (12:03): well, you can actually generate the {{groovy}} tags  \ntmortagne - (12:04): vmassol: (11:37:57 AM) <moi>: just get the macro component and check if it's a ScriptMacro  \nabusenius - (12:04): so as soon as you have any kind of injection  \nabusenius - (12:04): youre dead  \nabusenius - (12:05): a better solution IMO is to first parse xwiki completely and then evaluate scripts  \nCalebJamesDeLisl - (12:05): It's a particular pain because our current best practices don't address this vector.  \nvmassol - (12:05): I don't like it  \nvmassol - (12:05): as a general rule  \nabusenius - (12:05): so that we know which macros were there and which were injected  \nvmassol - (12:05): maybe for nested scripts inside velocity but generally I'm not sure  \nvmassol - (12:05): (even for velocity I'm not sure)  \nabusenius - (12:06): I don't see any reason why people should be able to generate scripts with other scripts  \nabusenius - (12:06): if there are strange use cases - too bad  \nvmassol - (12:06): that's called scripting languages  \nvmassol - (12:06): :)  \nvmassol - (12:06): there are lots of uises cases for that  \nCalebJamesDeLisl - (12:06): Such as?  \nvmassol - (12:07): any use case where you want o generate anotehr script  \nCalebJamesDeLisl - (12:07): :D Example?  \nabusenius - (12:07): you shouldnt want it :)  \nvmassol - (12:07): for example in the class wizard  \ntmortagne - (12:07): vmassol: actually that's not really scripting thing, in script you generally call some eval method to do that, you don't print the script to execute later  \nabusenius - (12:08): you can workaround it, make a script that take parameters  \nvmassol - (12:08): I need to read the jira issue to understand the need. So far I've only been commenting from the POV of the use cases  \nvmassol - (12:09): it's a lot to read  \nCalebJamesDeLisl - (12:09): 5223 is what started it.  \ntmortagne - (12:09): i think the main point is that abusenius and CalebJamesDeLisl think it's too difficult to properly protect a script when it's manipulating user datas  \nvmassol - (12:09): since you're several to understand the problem it seems I'll let you handle it (I need to finish coding something first). I just want to make sure we hardcode the minimum in the rendering  \nsburjan\\_ joined #xwiki at 12:10  \nCalebJamesDeLisl - (12:10): Hmm, I have some stuff which will break. I will need to fix it but I think that for the best.  \nvmassol - (12:10): (harcoding logic that is)  \ntmortagne - (12:10): (which would make user able to inject a new script in its datas)  \nvmassol - (12:10): tmortagne: yes I gathered that  \ntmortagne - (12:10): i don't think there is much more  \nvmassol - (12:10): but it shouldnb't be done at the detriment of valid use cases so we need to be sure there are no valid use cases  \nvmassol - (12:10): because if you listen to security guys  \nvmassol - (12:11): they'll tell you you shouldn't put any script in pages  \nvmassol - (12:11): becuase it's a security hole  \nvmassol - (12:11): :)  \nvmassol - (12:11): so you end up with a tool that is worthless  \nvmassol - (12:11): ;)  \nabusenius - (12:11): well, they are right :)  \ntmortagne - (12:11): vmassol: i already say it was kinf of ok for me because there is ways to support it  \ntmortagne - (12:11): but when you use theses ways you know what you do basically  \ntmortagne - (12:12): so you don't permit user to inject script by mistake  \nvmassol - (12:12): I remember I used that strategy in 1.0  \nvmassol - (12:12): when I had to dynamically generate the XML for a mindmap  \nvmassol - (12:12): it was very handy  \nvmassol - (12:12): if I had to do it programmatically I wouldn't have done it  \nCalebJamesDeLisl - (12:13): vmassol: I believe in principled security systems where there are lots features and functions while some are blocked (such as pointers in java)  \nCalebJamesDeLisl - (12:13): No features == no security because nobody uses it.  \nvmassol - (12:13): note to all: I'm not against it  \nvmassol - (12:13): just saying we have to be careful and not hardcode it if we can  \nvmassol - (12:13): not hardcode = follow generic rendernig architecture  \nCalebJamesDeLisl - (12:14): Maybe another \"safe or dead\" config param?  \nvmassol - (12:14): right now that's: parser, tx, renderer. If we need something more we need to add it  \nvmassol - (12:14): no param please :)  \nvmassol - (12:14): I'm talking java api here anyway  \ntmortagne - (12:14): vmassol: with the solution I gave to abusenius the only code added is in AbstractScriptMacro  \nabusenius - (12:15): why are you agains parsing xwiki macros first?  \nvmassol - (12:15): me?  \ntmortagne - (12:15): abusenius: WDYM ?  \nabusenius - (12:15): well, everyone, nobody seems to like the idea  \nabusenius - (12:15): parse xwiki - parse scripts - execute scripts  \nCalebJamesDeLisl - (12:16): Scripts which generate xwiki2 content?  \nabusenius - (12:16): so we first build a tree of xwiki macros (I know the generic parser now does it differently)  \ntmortagne - (12:16): abusenius: \u00a0what is the difference with now ?  \nvmassol - (12:16): maybe some notion of ProxyBlock  \nvmassol - (12:16): that a TX would add around MacroBlock when they are scripts  \nvmassol - (12:16): so that ProxyBlock would do some checks  \ntmortagne - (12:16): abusenius: finding nested macros is impossible  \nabusenius - (12:17): tmortagne, now each macro is first evaluated, then parsed again  \nabusenius - (12:17): why?  \nvmassol - (12:17): (at exeuction)  \ntmortagne - (12:17): abusenius: what ?  \nvmassol - (12:17): I like that actually  \nvmassol - (12:17): wdyt?  \ntmortagne - (12:17): only scrip macrio sare parsed  \nabusenius - (12:17): tmortagne: why impossible?  \ntmortagne - (12:17): because the produce wiki syntax  \ntmortagne - (12:17): so this is perfecty normal  \ntmortagne - (12:18): you can't parse something that doe snot already exists...  \nabusenius - (12:18): well, if the parser cant find it, it should not be alowed  \nCalebJamesDeLisl - (12:18): I think what abusenius is suggesting is see a macro, parse and render recursively until there are no macros left.  \ntmortagne - (12:18): abusenius: it's impossible because you can't support every posible syntaxes in the parser  \nabusenius - (12:18): normal use cases like nested groovy in velocity will be easy  \nabusenius - (12:18): and you shouldnt  \ntmortagne - (12:18): {{velocity}}  \ntmortagne - (12:18): {{include/}}  \ntmortagne - (12:18): {{/velocity}}  \ntmortagne - (12:18): is not some velocity with a macro inside  \nvmassol - (12:18): (the idea would be similar to the secure uberspector done in velocity but with a TX for script macros)  \ntmortagne - (12:19): it's \u00a0a vlocity content  \ntmortagne - (12:19): and only that  \nabusenius - (12:19): it is not as nice as it is done now, where macros are completely independent extensions, but is much safer  \ntmortagne - (12:19): it just happen that in the end this script macro produce a xwiuki/2.0 content containing some macro in it  \nabusenius - (12:20): IMO exactly this \"feature\" is very very bad  \nCalebJamesDeLisl - (12:20): {{velocity}}{{include/}} Ut oh. The current patch will break these.  \nabusenius - (12:20): CalebJamesDeLisl: no  \nCalebJamesDeLisl - (12:20): Include resets it?  \nabusenius - (12:21): yes, but it doesnt fix the problem with includes  \ntmortagne - (12:21): CalebJamesDeLisl: indeed that will not work  \nCalebJamesDeLisl - (12:21): problem with includes?  \ntmortagne - (12:21): so this is one use case  \nabusenius - (12:21): include vs. pr  \ntmortagne - (12:22): unless you specifically test for include in AbstractScriptMAcro  \nvmassol - (12:22): TX: macroblock(\"velocity\") \u2014> macroblock(\"proxyscript\", param: language=\"velocity\")  \ntmortagne - (12:22): which make include macro pretty hardcoded  \nabusenius - (12:22): thats another reason why I wanted to distinguish macro types...  \nabusenius - (12:23): smth like: nestable - not nestable - reset nesting  \ntmortagne left at 12:23 (Quit: Leaving.  \nCalebJamesDeLisl - (12:24): he didn't like that idea ^^  \nvmassol - (12:24): :)  \nCalebJamesDeLisl - (12:25): Ok, an alternative for the moment would be to make escapetool.xml escape {  \nCalebJamesDeLisl - (12:26): Since it looks like we're going to have to add the concept of \"can nest\", \"cannot nest\" and \"reset nesting\".  \nabusenius - (12:28): btw the problem with {{include }} will remain in both cases  \nvmassol - (12:29): lunch time  \narkub left at 12:34 (Ping timeout: 258 seconds  \nCalebJamesDeLisl - (12:56): \"// included documents intercept the chain of nested script macros with XWiki syntax\" \u00a0K.  \nCalebJamesDeLisl - (12:57): Really ought to be more generic though.  \ntmortagne joined #xwiki at 13:01  \nxwikibot joined #xwiki at 13:52  \nmariusbutuc joined #xwiki at 13:59  \nmariusbutuc left #xwiki at 13:59  \nsilviar joined #xwiki at 14:06  \nCalebJamesDeLisl - (14:07): abusenius: Are you working on the nested macro patch?  \nabusenius - (14:10): yes  \nabusenius - (14:11): (was away for a lunch tough)  \nCalebJamesDeLisl - (14:11): Ok. Ping me when you have some changes. I'll look at having a patch for the 1.0 renderer.  \nabusenius - (14:12): ok  \nvmassol - (14:23): hehe  \nvmassol - (14:23): at last we're identified as a rendering engine:  \nvmassol - (14:23): http://kvoges.wordpress.com/2010/06/14/which-java-wiki-engine-should-one-use-within-an-opensource-application-xwiki-vs-wikitext-mylyn/  \nvmassol - (14:23): :)  \nlucaa joined #xwiki at 14:38  \njvelo - (14:38): cool  \nCalebJamesDeLisl - (14:42): :) That's really our strong point.  \nCalebJamesDeLisl - (14:43): One day (when I'm old and gray) I'll write a BBcode parser. That would be cool.  \nlucaa left at 14:43 (Quit: Leaving.  \nlucaa joined #xwiki at 14:43  \njvelo left at 14:59 (Read error: Connection reset by peer  \nsburjan\\_ left at 15:00 (Ping timeout: 240 seconds  \njvelo joined #xwiki at 15:03  \nabusenius - (15:07): now it exeeds max fan-out complexity -\\_-  \nlucaa - (15:08): hi guys  \nlucaa - (15:08): where is xwiki initializing the plugins?  \nlucaa - (15:09): the ones configured int xwiki.cfg  \nvmassol - (15:09): XWiki.java  \nvmassol - (15:09): (I think)  \nvmassol - (15:09): checking  \nlucaa - (15:10): xwiki.java has 5000 lines of code :)  \nvmassol - (15:10): preparePlugins  \nvmassol - (15:10): in XWiki.java  \nvmassol - (15:10): line 1127  \nlucaa - (15:11): ok. thanks  \nflorinciu joined #xwiki at 15:13  \nvmassol - (15:21): tmortagne and all: wdy about removing all our remote repo definitions in our pom.xml and instead configuring our nexus instance to proxy them? It would have several benefits but one of them is speed and caching  \nvmassol - (15:22): (for ex rtight now the jboss remote repo isn't answering so it's a pain to wait for the timeout)  \njvelo - (15:22): +1  \nvmassol - (15:23): the definition of remote repos shouldn't be in the pom.xml as a best practice  \nvmassol - (15:23): ok I'll try to configure this  \ntmortagne - (15:23): sounds good (when you don't have nexus you don't have much choice ;))  \nvmassol - (15:23): I've noticed the pb while in Algeria where the internet connection wasn't good  \nvmassol - (15:23): tmortagne: you edit your settigns.xml  \ntmortagne - (15:24): then it's a pain for users  \ntmortagne - (15:24): to build  \nvmassol - (15:24): well they need to do that nayway  \nvmassol - (15:24): anyway  \nvmassol - (15:24): to add the xwiki remote repo  \nvmassol - (15:24): and it's the maven way  \ntmortagne - (15:24): yep but these repo are used by every single maven module of Xwiki  \nvmassol - (15:24): did you know that projects that have repos defined in pom.xml are not allowed to be put in the central repo  \nvmassol - (15:24): ?  \ntmortagne - (15:25): vmassol: makes sense since they are supposed to have all there dependencies in the central repo  \ntmortagne - (15:25): but when we depends on something that is not on central repo anyway event if we don't put the repo in the pom it's not valid eiother  \nabusenius - (15:32): hmm, I need to split AbstractScriptMacro because max class fan-out check fails, is it ok to extract a AbstractNotNestableMacro superclass?  \nabusenius - (15:32): tmortagne?  \ntmortagne - (15:33): abusenius: you mean extends a AbstractNotNestableMacro in AbstractScriptMacro ?  \nabusenius - (15:33): yes  \nabusenius - (15:34): and AbstractNotNestableMacro extends AbstractMacro  \ntmortagne - (15:34): how AbstractNotNestableMacro knows what parent macro it's supposed to filter ?  \ntmortagne - (15:34): could be usefiull to have AbstractNotNestableMacro for other use case if it's clean and not not contains anything about script  \ntmortagne - (15:34): so yes that would make sense  \nabusenius - (15:35): it would just have the method to check for nested macros  \nabusenius - (15:35): use MAcroManager to get the macro by id  \ntmortagne - (15:35): now maybe you need a component instead of an abstract  \ntmortagne - (15:36): if it's only tool methods in it  \nabusenius - (15:36): hm  \nabusenius - (15:36): well, this would also work I guess  \nmariusbutuc joined #xwiki at 15:46  \nsburjan joined #xwiki at 16:14  \nplunden left #xwiki at 16:39  \nflorinciu left at 16:45 (Quit: Leaving.  \nabusenius - (16:53): tmortagne, why a component and not just an internal util class? its not very useful elsewhere  \nevalica left at 16:54 (Quit: Leaving.  \ntmortagne - (16:55): abusenius: you choose :)  \nabusenius - (16:59): I choose to keep it simple :)  \nabusenius - (17:01): added updated patch to XWIKI-5223  \nabusenius - (17:02): CalebJamesDeLisl: ping  \nCalebJamesDeLisl - (17:02): Ok, looking...  \nCalebJamesDeLisl - (17:06): Maybe we should have a \"public\" issue for this a comment containing 5223 won't help lay code readers.  \nCalebJamesDeLisl - (17:07): Is this code tested?  \nabusenius - (17:08): probably, afair Sergiu was talking about adding a public version of issues some time ago  \nabusenius - (17:08): yes  \nabusenius - (17:08): there are even tests :)  \nCalebJamesDeLisl - (17:09): AFAIK @Requirement doesn't work when the class is instantiated with \"new\"  \nabusenius - (17:10): where does this happen?  \nCalebJamesDeLisl - (17:11): MacroUtils  \nCalebJamesDeLisl - (17:11): private ScriptMacroUtils scriptUtils = new ScriptMacroUtils();  \nabusenius - (17:11): (rerunning tests)  \ntmortagne - (17:11): yep no way @Requirement would work if not initialized by component manager  \nabusenius - (17:12): strange, it worked somehow last time I checked  \nabusenius - (17:12): maybe I again forgot to build something  \nCalebJamesDeLisl - (17:15): XWIKI-5275  \nCalebJamesDeLisl - (17:17): I like that design much better.  \nCalebJamesDeLisl - (17:18): :D  \nCalebJamesDeLisl - (17:19): Do you have an old computer kicking around?  \nabusenius - (17:19): and huge RAM disk please  \nabusenius - (17:19): no, its a core 2 duo actually  \nCalebJamesDeLisl - (17:20): Was going to say if you have an old computer which isn't doing anything you can set up a network, ssh in to it and compile there.  \nabusenius - (17:21): well, this wouldnt be much faster  \nabusenius - (17:21): actually even slower  \nCalebJamesDeLisl - (17:21): Did you do the test trick?  \nabusenius - (17:22): still recompiling  \nCalebJamesDeLisl - (17:23): In xwiki-core/pom.xml:  \nCalebJamesDeLisl - (17:23): - \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<forkMode>pertest</forkMode>  \nCalebJamesDeLisl - (17:23): + \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<argLine>-Xmx1024m</argLine>  \nCalebJamesDeLisl - (17:23): That speeds it up a couple of minutes.  \nabusenius - (17:25): my slow disk might be the cause (laptop)  \nCalebJamesDeLisl - (17:25): Disk shouldn't be any slower than others, is it solid state?  \nabusenius - (17:26): no  \nabusenius - (17:26): hm, ok NP exception  \nabusenius - (17:26): well its 5400  \nCalebJamesDeLisl - (17:27): All my disks are 5400 but their big.  \nmariusbutuc left #xwiki at 17:27  \nCalebJamesDeLisl - (17:28): You could instantiate ScriptMacroUtils with the dependency.  \ntmortagne - (17:28): or make it an internal component  \ntmortagne - (17:28): (O:-))  \nCalebJamesDeLisl - (17:29): There's a concept of internal components without public api?  \ntmortagne - (17:29): yep, just put the api in internal :)  \ntmortagne - (17:29): or you can alos have no api i think  \ntmortagne - (17:30): have the ^componenet and ^componenetRole in teh same place  \ntmortagne - (17:30): that should work  \nCalebJamesDeLisl - (17:30): That sounds like the best solution for this.  \ntmortagne - (17:30): i don't think @componentRole has to be an interface  \nabusenius - (17:34): trying...  \nsilviar left at 17:35 (Read error: Connection reset by peer  \nvmassol - (17:36): tmortagne: hmm I can't find \u00a0org.jboss.cache:jbosscache-core:jar:3.2.4.GA in remote repos. It's supposed to be in the jboss one I guess but I can't find it there. Any idea? http://repository.jboss.org/maven2/org/jboss/  \ntmortagne - (17:36): vmassol: yep it's supposed to be in jboss repository i think  \ntmortagne - (17:36): checking  \nvmassol - (17:36): http://repository.jboss.org/maven2/org/jboss/cache/jbosscache-core/  \nvmassol - (17:37): there are other versions but not this one  \ntmortagne - (17:41): vmassol: https://repository.jboss.org/nexus/content/groups/public/org/jboss/cache/jbosscache-core/3.2.4.GA/  \ntmortagne - (17:41): looks like that's not the sames repos after all  \njvelo - (17:41): tmortagne, can you check your m2 repos size ?  \nvmassol - (17:41): tmortagne: indeed  \njvelo - (17:41): (so we get an idea what we would need for nexus)  \ntmortagne - (17:42): https://repository.jboss.org/nexus/content/groups/public/ is the one documented on jbosscache website  \ntmortagne - (17:42): make me found theree is a 3.2.5 :)  \nvmassol - (17:42): I switched nexus to this one but it's still not working maybe it needs some time  \nvmassol - (17:42): yes saw that too  \nvmassol - (17:42): :)  \ntmortagne - (17:43): it's working well for me  \ntmortagne - (17:43): or i don't understand what you mean by it's not working  \nvmassol - (17:43): you're using the nexus as youre remote repo?  \nvmassol - (17:43): xwiki nexus  \nvmassol - (17:43): arf  \ntmortagne - (17:43): in the xwiki cache pom.xml yes  \nvmassol - (17:43): my bad, I put a wrong url  \ntmortagne - (17:44): i'm using what JBoss cache tell me to use actually  \nvmassol - (17:44): ok we're not talking about thr same thing  \nvmassol - (17:44): son't worry  \nvmassol - (17:44): s/son't/don't/  \nabusenius - (17:55): mixing Component and ComponentRole doesnt seem to work  \nabusenius - (18:05): ok, should work now ^^  \nCalebJamesDeLisl - (18:12): Looks good from here. Lunch time though.  \nvmassol - (18:13): sburjan: for copy you need to add a warning explaining that it currently requires PR  \nvmassol - (18:13): and link to the jira issue  \nsburjan - (18:13): PR ?  \nsburjan - (18:14): rights ?  \nvmassol - (18:14): http://jira.xwiki.org/jira/browse/XSCOLIBRI-209 and http://jira.xwiki.org/jira/browse/XWIKI-5081  \nvmassol - (18:14): PR = programming rights  \nsburjan - (18:14): okay.. I'll mention that  \nvmassol - (18:15): re Print it's in the Action menu for colibri  \nsburjan - (18:15): I don;t know exactly how or what PR is  \nsburjan - (18:15): just give me 5 minute  \nsburjan - (18:15): i hase still more 5 images to upload  \nvmassol - (18:15): IMO you should split Print section into 2: Print + Exports  \nvmassol - (18:15): ok  \nvmassol - (18:15): np  \nsburjan - (18:15): and the .. i'll tell when to take a looke  \nvmassol - (18:15): I'll read later  \nvmassol - (18:15): :)  \nvmassol - (18:16): thanks  \nsburjan - (18:16): okay.. so Print for Toucan and Explort for Colibri ?  \nvmassol - (18:16): for export yes  \nsburjan - (18:16): okay  \nvmassol - (18:16): for print no  \nsburjan - (18:16): stored  \njvelo - (18:16): Hi CalebJamesDeLisl  \nmflorea left at 18:17 (Quit: Leaving.  \njvelo - (18:18): ping me when you are back, I'd like to discuss couple of things re the invitation app  \ntmortagne - (18:18): vmassol: you have a non passing test, see http://hudson.xwiki.org/job/xwiki-platform-core/org.xwiki.platform$xwiki-core-velocity/6115/testReport/org.xwiki.velocity.internal.jmx/JMXVelocityEngineTest/testGetTemplates/  \nvmassol - (18:18): checking thanks  \nvmassol - (18:19): initially I thoguht it was because the mgmt module wasn't built  \nvmassol - (18:19): but it seems it's not for that reason  \ntmortagne left at 18:25 (Quit: Leaving.  \nsburjan - (18:33): vmassol : done with images  \nsburjan - (18:33): now moving to content  \nvmassol - (18:34): sburjan: \"Simply click on the link to resolve the error.\". It's not really an error. It's a wanted link  \nsburjan - (18:35): \"Simply click on the link to add one:  \nsburjan - (18:35): \"Simply click on the link to add one\"  \nvmassol - (18:35): to create the page  \nsburjan - (18:35): \"Simply click on the link to create the non-existing page\"  \nvmassol - (18:36): \"Simply click on the link to create the page.\"  \nvmassol - (18:36): I'll let you do the text  \nvmassol - (18:36): and I can review after  \nvmassol - (18:36): thanks  \nsburjan - (18:39): I didn't understand pretty well  \nsburjan - (18:39): when you said about spliting PRINT and EXPORT  \nvmassol - (18:39): they are 2 differnet features  \nvmassol - (18:39): right?  \nsburjan - (18:39): in Colibri it's called Export, in Toucan it's callen Print  \nsburjan - (18:39): nop  \nsburjan - (18:39): same action  \nvmassol - (18:39): no  \nvmassol - (18:40): think from a user point of view  \nvmassol - (18:40): printing is different from exporting  \nsburjan - (18:40): well they both export  \nsburjan - (18:40): even if in toucan it's written Print  \nvmassol - (18:40): grrrr  \nvmassol - (18:40): toucan was wrong  \nvmassol - (18:40): that's why it was fixed in colibri  \nvmassol - (18:40): :)  \nsburjan - (18:40): so what can I do :)  \nsburjan - (18:41): do you want the change the text from Toucan tfrom Print to Export ?  \nvmassol - (18:41): for printing:  \nvmassol - (18:41): let me start again  \nvmassol - (18:41): we need 2 sections  \nvmassol - (18:41): one for printing  \nvmassol - (18:41): one for exporting  \nvmassol - (18:41): same as we have sections for editing, renaming, etc  \nvmassol - (18:41): in the printing section you explain how to print using both skins  \nvmassol - (18:42): in the exporting section you explain how to export using both skins  \nsburjan - (18:42): you're refering more exactly to the Prin Preview Feature from both skins ?  \nsburjan - (18:42): \\*Print  \nvmassol - (18:42): I'm referrring to printing and exporting  \nvmassol - (18:43): for the printing part, yes I'm referring to print preview  \nsburjan - (18:43): okay, I see  \nsburjan - (18:43): in Toucan Export and Print are under the same menu, under Colibri they are not. and I will make 2 categories, describing for both skins  \nvmassol - (18:43): in toucan for the print feature, there are 2 actions:  \nvmassol - (18:43): - print  \nvmassol - (18:43): - print preview  \nvmassol - (18:43): in colibri for the print feautre, there's one action  \nvmassol - (18:43): - print preview  \nvmassol - (18:44): I'm not sure why we removed the print action in colibr, you'd need to ask sdumitriu  \nsburjan - (18:45): I will  \nsdumitriu - (18:45): Print as in print to a real printer?  \nvmassol - (18:45): yes, as in opens the print dialog box of the browser  \nsburjan - (18:45): I can't find normal print in toucan  \nsburjan - (18:45): only Print Preview  \nsburjan - (18:45): same as in Colibri  \nvmassol - (18:46): sburjan: http://platform.xwiki.org/xwiki/bin/download/Features/DocumentLifecycle/PrintToucan.PNG  \nvmassol - (18:46): ? Print: Calls you're browser's Print feature to print the current page  \nvmassol - (18:46): ? Print Preview: Generates a page which is formatted so that it can be easily printed using your browser's Print feature.  \nsburjan - (18:46): that's Print Preview  \nvmassol - (18:46): there are 2 links  \nvmassol - (18:46): check the image  \nsburjan - (18:46): but NOT user friendly to have to click on the parent button to print and on the child (Print Preview) button to preview  \njvdrean left at 18:47 (Quit: Leaving.  \nsburjan - (18:47): it's not intuitive  \nsburjan - (18:47): IMO  \nvmassol - (18:47): you've lost me  \nsburjan - (18:47): on the link you gave me  \nsburjan - (18:48): you have next options: Print Preview, \u00a0Exportas PDF, Export as RTF, Export as HTML, Export as XAR  \nsburjan - (18:48): true ?  \nsburjan - (18:49): and in order to actually PRINT the page, you have to click the PRINT button (the category button), aka the Father button of the menu  \nvmassol - (18:49): no  \nvmassol - (18:49): I see \"Print\", \"Print preview\", etc  \nsburjan - (18:49): I don't see Print  \nKermitTheFragger left at 18:50 (Quit: Leaving  \nCalebJamesDeLisl - (18:50): jvelo: Back  \nsburjan - (18:50): I see Prind .. and that is a drop-down menu. If I click on that, the Print Windows appears  \nsburjan - (18:51): it's not too suggestive to have them separated (one being parent, and previwes as child)  \nvmassol - (18:51): wait  \nsburjan - (18:51): do you understand what am I saying ?  \nvmassol - (18:51): I'm talking about sub menu items  \nsburjan - (18:51): i don;t have a mic.. if I had I would had skyped you  \nvmassol - (18:51): not the top level menu itself  \nsburjan - (18:51): yes.. i have NO Print submenu, ONLY Print Preview  \nvmassol - (18:52): there are 6 sub menu items  \nvmassol - (18:52): http://platform.xwiki.org/xwiki/bin/download/Features/DocumentLifecycle/PrintToucan.PNG  \nsburjan - (18:52): I have only 5  \nsburjan - (18:52): Yes .. only 5  \nvmassol - (18:52): we need someone else to look at that image :)  \nsburjan - (18:52): wail  \nsburjan - (18:53): I'll create a JPEG screenshot of what I see  \njvelo - (18:53): CalebJamesDeLisl, cool. I've downloaded latest snapshot of XE to test the invitation app  \njvelo - (18:54): my first remark is that the i18n resources appear missing  \nvmassol - (18:54): sburjan: I've tested in real and the latest toucan doesn't have the print menu item as shown on the image  \nCalebJamesDeLisl - (18:54): jvelo: They are in a document bundle.  \njvelo - (18:55): ok. it means we need to add them automatically in XWiki.Preferences, or move them to xwiki-core resources.properties  \nCalebJamesDeLisl - (18:55): But now that you mention it, development seems to have slowed down enough that I can put them into the hard coded .properties file  \njvelo - (18:55): yep  \nvmassol - (18:55): sburjan: so the toucan image is not up to date anyway  \nvmassol - (18:56): but in any case in toucan there are print actions: printing for real and print preview  \nvmassol - (18:56): while in colibri there's only one  \njvelo - (18:56): besides that, I find it odd that nowhere in the Invitation.WebHome UI you explain what the application is about  \nCalebJamesDeLisl - (18:56): You can get them by putting Invitation.InvitationDocumentBundle into XWikiPreferences  \nsburjan - (18:57): vmassol : the picture you are seeing, It's created using LATEST snapshot from today ... 20 minutes ago  \njvelo - (18:57): like a 1-line on top of the form that says \"Use this to invite your friends or coworkers to use this wiki, etc etc.\"  \nabusenius left at 18:57 (Ping timeout: 252 seconds  \nsburjan - (18:57): XWiki Enterprise 2.4-SNAPSHOT.29458  \nvmassol - (18:57): sburjan: then it's a cache issue  \nCalebJamesDeLisl - (18:57): Ok, that makes sense. Maybe we should put it to a UI specialist.  \nvmassol - (18:57): yes it is  \nvmassol - (18:58): seems like you replaced the old image with a new one  \nsburjan - (18:58): yeas.. the new one is taken usingthe latest version  \njvelo - (18:58): BTW how does it work when guest is not allow to register ?  \nsburjan - (18:58): i cleared the cache of my browser, and It looks the same as before  \njvelo - (18:58): you can still invite people ?  \njvelo - (18:59): can you \"deactivate\" the UI?  \nCalebJamesDeLisl - (18:59): jvelo: Yup, there's a test to prove it :)  \nCalebJamesDeLisl - (18:59): deactivate?  \njvelo - (18:59): who can send invitations?  \njvelo - (18:59): all users or only admins?  \nCalebJamesDeLisl - (19:00): Anyone who had view access on Invitation.WebHome (registered users)  \njvelo - (19:00): ok  \njvelo - (19:00): maybe it could be an Admin feature as a default setting (I don't know - \u00a0just asking)  \njvelo - (19:01): why is the SMTP settings duplicated from the general one BTW?  \nsburjan - (19:01): vmassol : i'll talk to sdumitriu when he will be around  \nCalebJamesDeLisl - (19:02): jvelo: Because 1. you might want to send through a different server, different username, etc. 2. xpmail7  \njvelo - (19:03): ok. maybe we could provide a link from one to another, so that pple know there's more  \nvmassol - (19:03): CalebJamesDeLisl: so if the settings is not set it uses the default ones?  \nCalebJamesDeLisl - (19:03): Correct. I need to document this better.  \njvelo - (19:04): CalebJamesDeLisl, I have a display issue on FF / ubuntu in the Invitation section of the Administration section  \njvelo - (19:05): I'm uploading a screenshot  \nCalebJamesDeLisl - (19:05): What is it?  \njvelo - (19:05): labels are not aligned with their inputs, at some point in the form  \nsburjan - (19:05): I'm going out .. see ya tomorrow. vmassol .. don't be angry, we'll clarify the situation tomorrow  \nvmassol - (19:06): np  \nCalebJamesDeLisl - (19:06): Ok, I have been working on the alignment issue. It's an administration app issue.  \njvelo - (19:06): CalebJamesDeLisl, last thing for now:) It could be nice to intercept the clicks on links on the preview email  \njvelo - (19:07): (in JS)  \njvelo - (19:07): right now when you click the accept link, you land on an error page  \njvelo - (19:07): ok, cool  \njvelo - (19:07): no need for my screenshot then  \nCalebJamesDeLisl - (19:07): Ahh, I will pretty up a lot of things when I start js.  \nCalebJamesDeLisl - (19:07): For now it works in IE! (because it has no js) ;)  \nCalebJamesDeLisl - (19:08): jvelo: Feel free to report issues on the XAINVITATION project.  \njvelo - (19:08): hehe  \njvelo - (19:09): OK.  \nCalebJamesDeLisl - (19:11): Anyone have any comments on this: http://jira.xwiki.org/jira/secure/attachment/17394/XWIKI-5223-forbid-nested-scripts-fix-updated-working.patch  \njvelo - (19:17): got to go for now. bbl  \nCalebJamesDeLisl - (19:17): see ya.  \nvmassol1 joined #xwiki at 19:18  \nlucaa left at 19:19 (Ping timeout: 265 seconds  \nvmassol left at 19:20 (Ping timeout: 240 seconds  \nabusenius joined #xwiki at 19:21  \nsburjan left at 19:24 (Ping timeout: 248 seconds  \nCalebJamesDeLisl - (19:27): I have a piece which allows us to set the order of the 1.0 renderers.  \nCalebJamesDeLisl - (19:27): xwiki.render.renderingorder=macromapping, groovy, velocity, plugin, wiki, wikiwiki  \nCalebJamesDeLisl - (19:27): Like that in the .cfg file.  \njvelo left at 19:29 (Ping timeout: 276 seconds  \narkub left at 19:48 (Ping timeout: 258 seconds  \nabusenius - (20:54): CalebJamesDeLisl: have tried to look whether this patch breaks something in the default installation of XE?  \nCalebJamesDeLisl - (20:54): Have I?  \nabusenius - (20:55): yes :)  \nCalebJamesDeLisl - (20:55): The syntax 1 patch?  \nabusenius - (20:55): yes  \nCalebJamesDeLisl - (20:55): I haven't but I don't think it will.  \nCalebJamesDeLisl - (20:55): The list of docs in syntax1 is pretty small and that's a very odd use case.  \nCalebJamesDeLisl - (20:58): There is a code snippet which it will break but whoever wrote that was an idiot http://code.xwiki.org/xwiki/bin/view/Snippets/ReplaceWordsWithLinksSnippet  \nabusenius - (21:00): only applications/workstream/src/main/resources/Workstream/Service.xml seems to contain <%  \nCalebJamesDeLisl - (21:00): hey good thinking.  \nabusenius - (21:00): grep rules :)  \nCalebJamesDeLisl - (21:02): find -exec grep.  \nabusenius - (21:02): is there any other way to use groovy in syntax 1?  \nCalebJamesDeLisl - (21:02): Nope. that was a good idea making the groovy char an xml entity.  \nCalebJamesDeLisl - (21:02): find ./wiki/ -name '\\*.xml' -exec grep '&lt;%' {} \\; -print  \nabusenius - (21:02): nope, fgrep '&lt;%' ((\\*~target)/)#\\*  \nabusenius - (21:02): zsh rules too  \nCalebJamesDeLisl - (21:03): in enterprise, the only thing that shows up is XWikiSyntax which is snytax2  \nCalebJamesDeLisl - (21:04): Hah, same for manager. Looks like where good.  \nCalebJamesDeLisl - (21:04): \\*we're  \nCalebJamesDeLisl - (21:05): What's better about zsh than bash?  \nabusenius - (21:07): everything :)  \nabusenius - (21:07): it has e.g. interactive mode  \nabusenius - (21:07): for completion  \nCalebJamesDeLisl - (21:08): like hitting tab?  \nabusenius - (21:08): so if you type say /<TAB> you dont just see what directories are there, you can go throudh them with arrows or tab  \nabusenius - (21:08): yes  \nabusenius - (21:09): same for command line arguments etc.  \nabusenius - (21:09): kill -9 firefo<TAB>  \nabusenius - (21:09): transforms firefox into its pid  \nCalebJamesDeLisl - (21:09): ok that's nice.  \nabusenius - (21:10): also extended globbing, like \\*\\*/\\*(#q.) for all files in all subdirectories  \nabusenius - (21:10): (just files)  \nabusenius - (21:10): #q/ are directores, #q@ symlinks  \nabusenius - (21:10): and it doesnt look into hidded dirs like .svn  \nabusenius - (21:11): \\*hidden  \nabusenius - (21:11): and everything is configurable  \nCalebJamesDeLisl - (21:11): I've been just discovering the ridiculous things you can do with `  \nabusenius - (21:11): I have current git branch displayed in prompt :)  \nCalebJamesDeLisl - (21:12): I have to get back to playing with git soon.  \nabusenius - (21:12): and part of the path that is in repository highlighted in the right prompt  \nCalebJamesDeLisl - (21:12): Sounds like emacs.  \nabusenius - (21:12): yea, or vim  \nabusenius - (21:13): I have vim mode in command line, you press escape and can use vim shortcuts  \nabusenius - (21:13): something like this is also possible in bash, but more limited  \nabusenius - (21:13): (and emacs mode works too)  \nCalebJamesDeLisl - (21:14): Well emacs has a shell of it's own.  \nabusenius - (21:14): its an operating system :)  \nCalebJamesDeLisl - (21:14): http://24.media.tumblr.com/3REj7E7az6jdx5ssrgpEzH8L\\_500.jpg  \nCalebJamesDeLisl - (21:15): I always thought that described emacs well.  \nabusenius - (21:15): :D  \nabusenius - (21:15): do you know this: http://xkcd.com/378/ ?  \nabusenius - (21:16): the've implemented this feature in emacs :)  \nCalebJamesDeLisl - (21:16): yup. I like this one http://xkcd.com/404/  \nabusenius - (21:17): xkcd is cool :)  \nCalebJamesDeLisl - (21:17): meh, it's ok.  \nabusenius left at 21:18 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 21:18  \nCalebJamesDeLisl - (21:19): Nice reboot time.  \nabusenius - (21:21): no, my connection lives its own life  \nCalebJamesDeLisl - (21:22): Hmm that didn't look like a connection drop. Wifi?  \nabusenius - (21:22): yes  \nabusenius - (21:22): reconnects from time to time for no particular reson  \nCalebJamesDeLisl - (21:23): Did you hear about the latest wifi hack? You set up a router with internet access, people connect to it, sniff their data, MITM etc.  \nCalebJamesDeLisl - (21:24): It works great because windows, mac, ubuntu will connect to any wifi they find.  \nCalebJamesDeLisl - (21:25): Supposedly it works with security because nobody was thinking about authenticating the router.  \nabusenius - (21:25): hm, sounds more like social ingenering  \nabusenius - (21:26): if you find a free open wifi it doesnt mean you should do online banking over it :)  \nCalebJamesDeLisl - (21:28): Actually MITM is (sort of) blocked by the CA's \u00a0\u00a0sort of...  \nCalebJamesDeLisl - (21:29): The other attack though is if it's a windows box, check the infamous port 443.  \nCalebJamesDeLisl - (21:29): and attach PDF ruin to every webpage they load.  \nabusenius - (21:29): have you heard of a \"cookie monster\" attack?  \nCalebJamesDeLisl - (21:29): hah, nope.  \nabusenius - (21:30): its cool, if somebody is browsing over https and cookies doesnt have secure flag set  \nabusenius - (21:31): you can inject a fake image on http://bank.com/ and the browser will send cookies in plaintext  \nabusenius - (21:31): (into some other http responce)  \nabusenius - (21:32): then sniff cookies, impersonate  \nCalebJamesDeLisl - (21:32): I thought cookies would fail for domain if it was https instead of http.  \nCalebJamesDeLisl - (21:33): \"inject a fake image\" messing with dns?  \nabusenius - (21:33): seems to work for some reason  \nabusenius - (21:34): no, if youre in the same network, just answer faster than the server  \nCalebJamesDeLisl - (21:36): So you're answering a call to http://bank.com?  \nCalebJamesDeLisl - (21:36): The browser must then make a call to http:// and not https://  \nabusenius - (21:37): e.g. https://bank.com/ in one tab and google in another  \nCalebJamesDeLisl - (21:38): do you read rsnake's blog?  \nabusenius - (21:38): you inject http://bank into google responce, browser will try to load it - boom  \nabusenius - (21:39): no  \nabusenius - (21:39): hm, looks interesting  \nCalebJamesDeLisl - (21:45): Ok, got it, you're adding <img> tags to the http site which pull (nonexistant) images from the bank in http mode.  \nabusenius - (21:48): exactly  \nCalebJamesDeLisl - (21:48): Still you need to be in their network.  \nCalebJamesDeLisl - (21:49): The Kaminsky attack doesn't really work because everyone's looking for it and everyone pretty much knows that .org is not hosted on somebody's dsl line.  \nCalebJamesDeLisl - (21:50): And the cool kids use opendns.  \nabusenius - (21:51): yes, but many people do online banking over free unencrypted wifi  \nCalebJamesDeLisl - (21:54): Well, you can also attack their software and get their info that way.  \nCalebJamesDeLisl - (21:55): the ancient pdf buffer overflow comes to mind but there must be other stuff you can do to a browser.  \nCalebJamesDeLisl - (21:57): Something I've never figured out is what do people do with stolen bank information?  \nabusenius - (21:58): I guess fraud  \nabusenius - (21:58): buying something on the wrong name  \nabusenius - (21:59): or send a fake bill, with correct data it will look very convincing  \nCalebJamesDeLisl - (22:00): You never hear about anybody losing money and not getting it back though.  \nCalebJamesDeLisl - (22:00): I'm convinced they hold it for ransom in exchange for fat checks from the bank which had an unencrypted database ;)  \nabusenius - (22:01): probably :)  \nabusenius - (22:01): there was a nice talk about stuff like that on FOSDEM  \nCalebJamesDeLisl - (22:01): So look for banks which hired do-nothing security managers with high pay and low hours.  \nabusenius - (22:03): http://fosdem.org/2010/schedule/events/eviloninternet  \nCalebJamesDeLisl - (22:13): Hmm, interesting. We have to worry about the site getting hit and turned into phishing pages.  \nlucaa joined #xwiki at 22:35  \nvmassol1 left at 22:50 (Quit: Leaving.  \nmflorea joined #xwiki at 22:53  \nflorinciu joined #xwiki at 22:53  \nmflorea left at 23:25 (Quit: Leaving.  \nFreud\\_ joined #xwiki at 23:41  \nFreud\\_ - (23:44): is $doc.getSpace and $doc.GetName variables from Xwiki core or a plugin? And if it's from core, is there a similar variable go $doc.GetUrl or someplace I can find these variables?  \nFreud\\_ - (23:45): I found them within the SendPageByEmail application, but i'd like to modify it to send only the link...  \nflorinciu left at 23:50 (Read error: Connection reset by peer  \nCalebJamesDeLisl - (23:51): Freud\\_: Have a look at: http://platform.xwiki.org/xwiki/bin/view/DevGuide/Scripting  \nCalebJamesDeLisl - (23:51): $doc is a binding to the current document.  \nCalebJamesDeLisl - (23:52): Document is part of the core.  \nFreud\\_ - (23:58): cool  \n\n"}