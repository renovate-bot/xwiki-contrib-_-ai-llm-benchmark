{"id": "dev:IRC.xwikiArchive20160823", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160823", "title": "IRC Archive for channel #xwiki on 23 August 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<jonesmeier>\u00a0has quit  \n03:22\u00a0<jonesmeier>\u00a0has joined #xwiki  \n03:23\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n05:42\u00a0<mflorea>\u00a0has joined #xwiki  \n06:00\u00a0<Craeckie[m]>\u00a0has quit  \n06:00\u00a0<M-jsimard>\u00a0has quit  \n06:00\u00a0<M-vmassol>\u00a0has quit  \n06:00\u00a0<blabla2[m]>\u00a0has quit  \n06:00\u00a0<M-yflory>\u00a0has quit  \n06:26\u00a0<Chris[m]>\u00a0has joined #xwiki  \n06:33\u00a0<xwikiorg\\_guest\\_9>\u00a0has joined #xwiki  \n07:04\u00a0<msmeria>\u00a0has joined #xwiki  \n07:34\u00a0<jihad[m]>\u00a0has joined #xwiki  \n07:34\u00a0<M-cjd>\u00a0has joined #xwiki  \n07:34\u00a0<M-jsimard>\u00a0has joined #xwiki  \n07:34\u00a0<M-yflory>\u00a0has joined #xwiki  \n07:34\u00a0<M-mouhb>\u00a0has joined #xwiki  \n07:34\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n07:34\u00a0<M-vmassol>\u00a0has joined #xwiki  \n07:35\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n07:58\u00a0<xwikiorg\\_guest\\_9>\u00a0Why is there a prefix xwiki: in this? It is not used everywhere: AuthService.xml: \u00a0\u00a0\u00a0def cookieTools = context.getWiki().parseGroovyFromPage(\"xwiki:GoogleApps.CookieAuthenticationPersistenceStoreTools\", context)  \n08:58\u00a0<xwikiorg\\_guest\\_9>\u00a0How does document.save() differ from document.saveWithProgrammingRights() ?  \n09:10\u00a0<mflorea>\u00a0has quit  \n09:33\u00a0<mflorea>\u00a0has joined #xwiki  \n09:36\u00a0<vmassol>\u00a0has joined #xwiki  \n09:54\u00a0<Slashman>\u00a0has joined #xwiki  \n09:59\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:00\u00a0<evalica>\u00a0has joined #xwiki  \n10:02\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:03\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:10\u00a0<acotiuga>\u00a0has joined #xwiki  \n10:20\u00a0<vmassol>\u00a0mflorea: question for you  \n10:20\u00a0<vmassol>\u00a0I've ran XE and the code has updated an xclass property's textarea defintion  \n10:21\u00a0<vmassol>\u00a0I see the new revision  \n10:21\u00a0<vmassol>\u00a0but the diff is empty  \n10:21\u00a0<vmassol>\u00a0is that a known issue?  \n10:21\u00a0<vmassol>\u00a0(it says \"no changes\")  \n10:21\u00a0<vmassol>\u00a0I guess that's because we don't show changes to the xclass definition?  \n10:21\u00a0<vmassol>\u00a0do we have a jira issue for this?  \n10:22\u00a0<vmassol>\u00a0(it's a bit of a problem that we say \"no changes\" IMO)  \n10:22\u00a0<vmassol>\u00a0hmm wait  \n10:22\u00a0<vmassol>\u00a0I had 3 changed pages  \n10:22\u00a0<vmassol>\u00a0it worked on another page  \n10:23\u00a0<vmassol>\u00a0I can see the difference  \n10:23\u00a0<vmassol>\u00a0I'll debug  \n10:23\u00a0<vmassol>\u00a0I think  \n10:23\u00a0<vmassol>\u00a0maybe some properties are shown but not all  \n10:23\u00a0<vmassol>\u00a0editor seems to be shown in the diff  \n10:23\u00a0<vmassol>\u00a0but maybe the pretty name change or the col or row are not  \n10:24\u00a0<vmassol>\u00a0no  \n10:24\u00a0<vmassol>\u00a0row and cols are shown too  \n10:25\u00a0<helge>\u00a0has joined #xwiki  \n10:25\u00a0<mflorea>\u00a0we do show the changes to the xclass, https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-web/src/main/webapp/templates/diff\\_macros.vm#L613  \n10:26\u00a0<helge>\u00a0vmassol: Hi, just wanted to get back to you regarding the image scaling  \n10:27\u00a0<helge>\u00a0my issue was that the thumbnail macro does not scale images to the value set in xwiki.properties  \n10:27\u00a0<helge>\u00a0I think it was in older versions, but not shure  \n10:28\u00a0<helge>\u00a0I guess I just have to resize my images before I upload them to xwiki  \n10:28\u00a0<helge>\u00a0no big deal, thank you for your time anyway!  \n10:29\u00a0<vmassol>\u00a0helge: that's not the role of this macro  \n10:29\u00a0<vmassol>\u00a0the goal of this macro is simply to generate the wiki syntax for image  \n10:29\u00a0<vmassol>\u00a0[[image:\u2026||width=\u2026]]  \n10:29\u00a0<vmassol>\u00a0then it's the syntax renderer that rends it  \n10:29\u00a0<vmassol>\u00a0using the config in xwiki.properties  \n10:30\u00a0<vmassol>\u00a0so if you pass any width, it generates [[image:\u2026]] ie the full image  \n10:30\u00a0<vmassol>\u00a0(the full image but honoring xwiki.properties)  \n10:31\u00a0<vmassol>\u00a0I'd need to check it again to see what it does precisely (I read it quickly)  \n10:33\u00a0<vmassol>\u00a0mflorea: yes, so I need to find out why the scheduler job class has been saved without any change  \n10:35\u00a0<helge>\u00a0vmassol: note, the ||with=... of the thumbnail macro relates to the small thumbnail of the image, not to the full blown view of it.  \n10:36\u00a0<vmassol>\u00a0mflorea: very interesting, I get a new save of the scheudler job xclass page at each startup, debugging  \n10:37\u00a0<vmassol>\u00a0helge: I'll check again after I'm done with what I'm doing ATM  \n10:39\u00a0<vmassol>\u00a0ok found the problem for the scheduler class  \n11:36\u00a0<gdelhumeau>\u00a0do you know whay we have 3 disconnected agents?  \n11:39\u00a0<vmassol>\u00a0gdelhumeau: I've asked the admins (see skype chat)  \n12:36\u00a0<msmeria1>\u00a0has joined #xwiki  \n12:37\u00a0<msmeria>\u00a0has quit  \n13:01\u00a0<xwikiorg\\_guest\\_9>\u00a0has quit  \n13:15\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:16\u00a0<DarkKnightCZ>\u00a0Hi, can someone take a look at PR #402 ? I've found out it hasn't been merged yet (+ found one typo) and I've verified it's still applicable for 8.2.1, thanks  \n14:19\u00a0<lkrejci\\_>\u00a0has joined #xwiki  \n14:41\u00a0<gdelhumeau>\u00a0Please hold your commits now  \n14:41\u00a0<gdelhumeau>\u00a0unless some of you really have something important to do, but you should say me first :)  \n14:46\u00a0<lkrejci\\_>\u00a0has quit  \n14:46\u00a0<lkrejci>\u00a0has joined #xwiki  \n14:46\u00a0<lkrejci\\_>\u00a0has joined #xwiki  \n15:07\u00a0<lkrejci-brb>\u00a0has joined #xwiki  \n15:10\u00a0<vmassol>\u00a0nice lukas is sending a PR for revapi :)  \n15:10\u00a0<vmassol>\u00a0I'm applying it  \n15:11\u00a0<lkrejci-bbl>\u00a0has joined #xwiki  \n15:11\u00a0<lkrejci-bbl>\u00a0has quit  \n15:12\u00a0<gdelhumeau>\u00a0These commits were needed?  \n15:13\u00a0<lkrejci\\_>\u00a0has quit  \n15:13\u00a0<vmassol>\u00a0yes for backward compat  \n15:13\u00a0<vmassol>\u00a0I'm removing the ignore  \n15:13\u00a0<lkrejci-brb>\u00a0has quit  \n15:13\u00a0<lkrejci>\u00a0has quit  \n15:15\u00a0<DarkKnightCZ>\u00a0has quit  \n15:18\u00a0<msmeria1>\u00a0has quit  \n15:25\u00a0<gdelhumeau>\u00a0has quit  \n15:27\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:47\u00a0<gdelhumeau>\u00a0has quit  \n15:59\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:09\u00a0<gdelhumeau>\u00a0has quit  \n16:13\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:13\u00a0<flashdel>\u00a0has quit  \n16:52\u00a0<hakin>\u00a0has quit  \n16:52\u00a0<xavier\\_\\_>\u00a0has quit  \n16:53\u00a0<xavier\\_\\_>\u00a0has joined #xwiki  \n16:54\u00a0<hakin>\u00a0has joined #xwiki  \n17:10\u00a0<tmortagne>\u00a0has quit  \n17:10\u00a0<tmortagne1>\u00a0has joined #xwiki  \n17:11\u00a0<acotiuga>\u00a0has quit  \n17:14\u00a0<tmortagne1>\u00a0has quit  \n17:23\u00a0<vmassol>\u00a0helge: just a quick word to let you know that I'm not forgetting you but we're late for our 8.3M1 release. I should be able to test again the thumbnail macro later tonight  \n17:23\u00a0<vmassol>\u00a0we're late for our 8.3M1 release, and I've had to fix urgently a few things\u2026 :)  \n17:23\u00a0<vmassol>\u00a0brb  \n17:26\u00a0<lkrejci-bbl>\u00a0is now known as <lkrejci>  \n17:31\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n17:33\u00a0<helge>\u00a0vmassol: shure, it's a minor issue anyway. I appreciate your time  \n17:40\u00a0<vmassol>\u00a0mflorea: I have a problem with the documentTree macro  \n17:40\u00a0<vmassol>\u00a0(on master)  \n17:40\u00a0<vmassol>\u00a0I'm putting the following (on the main page or sandbox home):  \n17:40\u00a0<vmassol>\u00a0{{velocity}}  \n17:40\u00a0<vmassol>\u00a0{{documentTree root=\"document:$doc.documentReference\" /}}  \n17:41\u00a0<vmassol>\u00a0and it doesn't display anything. Check js console now  \n17:41\u00a0<vmassol>\u00a0indeed there's a bug  \n17:41\u00a0<vmassol>\u00a0loading tree.js  \n17:41\u00a0<vmassol>\u00a0hmm  \n17:41\u00a0<vmassol>\u00a0I see  \n17:42\u00a0<vmassol>\u00a0GET http://localhost:8080/xwiki/bin/view/Main/tree.js  \n17:42\u00a0<vmassol>\u00a0of course this doesn't exist....  \n17:42\u00a0<mflorea>\u00a0not good  \n17:44\u00a0<vmassol>\u00a0does anyone reproduce?  \n17:44\u00a0<vmassol>\u00a0(on master)  \n17:44\u00a0<mflorea>\u00a0works for me on a 8.3-SNAPSHOT from this morning, so it must be something recent  \n17:44\u00a0<vmassol>\u00a0could be my build for some reason  \n17:44\u00a0<vmassol>\u00a0I'll rebuild  \n17:45\u00a0<lkrejci>\u00a0has quit  \n17:45\u00a0<lkrejci>\u00a0has joined #xwiki  \n17:51\u00a0<vmassol>\u00a0mflorea: same problem  \n17:51\u00a0<vmassol>\u00a0I've built enterprise  \n17:52\u00a0<vmassol>\u00a0now downloading latest snapshot from ci  \n17:52\u00a0<vmassol>\u00a0your snapshjot is the one from 12:45?  \n17:53\u00a0<vmassol>\u00a0there's none after that  \n17:53\u00a0<vmassol>\u00a0http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/8.3-SNAPSHOT/xwiki-enterprise-jetty-hsqldb-8.3-20160823.104538-75.zip  \n17:56\u00a0<mflorea>\u00a0I'm checking with the latest snapshot now  \n17:59\u00a0<mflorea>\u00a0works for me, I put the code in the top of the Sandbox.WebHome page  \n18:02\u00a0<vmassol>\u00a0I don't know what's the problem\u2026.  \n18:06\u00a0<mflorea>\u00a0do you reproduce on the latest snapshot?  \n18:06\u00a0<vmassol>\u00a0mflorea: just downlaoded the latest snapshot and I have the same problem  \n18:06\u00a0<vmassol>\u00a0testing with another browser now  \n18:06\u00a0<vmassol>\u00a0yes works with FF  \n18:06\u00a0<vmassol>\u00a0either because it's FF or because of some cache problem (but I had cleaned my cahce on chrome)  \n18:07\u00a0<vmassol>\u00a0could you try on chrome just to be sure?  \n18:07\u00a0<mflorea>\u00a0let me try with Chrome  \n18:07\u00a0<vmassol>\u00a0thx  \n18:10\u00a0<mflorea>\u00a0it must be a timing issue, because it doesn't fail all the time. And when it fails I get \"Cannot read property 'settings' of null\" in exporter.js  \n18:10\u00a0<mflorea>\u00a0is this the js added by GD for the multipage export?  \n18:10\u00a0<mflorea>\u00a0maybe it has a problem on Chorome  \n18:10\u00a0<vmassol>\u00a0I got this js error too  \n18:10\u00a0<vmassol>\u00a0but not always  \n18:11\u00a0<vmassol>\u00a0but for the documenttree macro I get the tree.js error all the time  \n18:11\u00a0<mflorea>\u00a0I only get this error  \n18:11\u00a0<mflorea>\u00a0exporter.js  \n18:11\u00a0<mflorea>\u00a0I need to leave unfortunately  \n18:11\u00a0<mflorea>\u00a0I'll check later  \n18:11\u00a0<vmassol>\u00a0gdelhumeau: ?  \n18:11\u00a0<mflorea>\u00a0ttyl  \n18:11\u00a0<vmassol>\u00a0could you check this?  \n18:15\u00a0<lkrejci>\u00a0has quit  \n18:15\u00a0<lkrejci>\u00a0has joined #xwiki  \n18:16\u00a0<mflorea>\u00a0has quit  \n18:17\u00a0<lkrejci>\u00a0has left #xwiki  \n18:18\u00a0<evalica>\u00a0has quit  \n18:24\u00a0<Enygma`>\u00a0has quit  \n18:24\u00a0<gdelhumeau>\u00a0vmassol: sorry, I was focus on an other issue  \n18:25\u00a0<vmassol>\u00a0see also on skype for more details  \n18:25\u00a0<vmassol>\u00a0seems we have some improtant issue on chrome  \n18:25\u00a0<vmassol>\u00a0for the export and causing problems for the documenttree potentially  \n18:44\u00a0<vmassol>\u00a0helge: you there?  \n18:44\u00a0<vmassol>\u00a0I've tested the thumbnail macro (and checked its source code)  \n18:45\u00a0<vmassol>\u00a0so if you don't specify any width or height, it generates the following markup:  \n18:45\u00a0<vmassol>\u00a0[[[[image:test.jpg]]>>attach:test.jpg]]  \n18:45\u00a0<vmassol>\u00a0the [[image:]] syntax obeys the rendering configuration that you've set up in xwiki.properties  \n18:45\u00a0<vmassol>\u00a0now attach: will generate a URL of the type:  \n18:45\u00a0<vmassol>\u00a0http://localhost:8080/xwiki/bin/download/Main/test/WebHome/test.jpg  \n18:46\u00a0<vmassol>\u00a0and the download action has never supported the rendering configuration  \n18:46\u00a0<vmassol>\u00a0so that URL will generate a full size image  \n18:46\u00a0<vmassol>\u00a0in conclusion, I don't think that any behavior has changed  \n18:46\u00a0<vmassol>\u00a0(I'm pretty sure of it actually :))  \n18:47\u00a0<vmassol>\u00a0to achieve what you want, the thumbnail macro would need to be written differently  \n18:48\u00a0<vmassol>\u00a0(i.e. not by generating an \"attach:\" url)  \n18:49\u00a0<vmassol>\u00a0BTW I 've also found that we have a jira issue for creating a thumbnail module, see http://jira.xwiki.org/browse/XWIKI-6855  \n18:49\u00a0<vmassol>\u00a0(but nobody is working on it ATM)  \n19:12\u00a0<sdumitriu1>\u00a0Is it normal that the example at http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/#HGenericLDAPconfiguration is all commented out? Shouldn't the authclass line be uncommented?  \n19:13\u00a0<vmassol>\u00a0indeed doesn't look normal  \n19:14\u00a0<vmassol>\u00a0even # xwiki.authentication.ldap=1 should be commented out  \n19:14\u00a0<vmassol>\u00a0I know what happened  \n19:14\u00a0<vmassol>\u00a0thomas just copied it from the xwiki.proeprties.vm file  \n19:14\u00a0<vmassol>\u00a0and by default they're commented out  \n19:15\u00a0<vmassol>\u00a0but now \u00a0they need to be uncommented  \n19:15\u00a0<vmassol>\u00a0sdumitriu: you're doing it?  \n19:15\u00a0<sdumitriu1>\u00a0The comments seems to be wrong as well, the default for xwiki.authentication.ldap is 0 in the code  \n19:15\u00a0<sdumitriu1>\u00a0I will  \n19:15\u00a0<vmassol>\u00a0k cool  \n19:15\u00a0<vmassol>\u00a0thx  \n19:15\u00a0<sdumitriu1>\u00a0Also, only one of them needs to be uncommented actually  \n19:15\u00a0<vmassol>\u00a0ok you kniw better :)  \n19:16\u00a0<vmassol>\u00a0(never used the ldap authenticator)  \n19:16\u00a0<vmassol>\u00a0\\*know  \n19:16\u00a0<vmassol>\u00a0s/xwiki.properties.vm/xwiki.cfg.vm/ (above)  \n19:18\u00a0<sdumitriu1>\u00a0Hm, and the configuration actually just moved out of the default  \n19:18\u00a0<vmassol>\u00a0yep that's what I was saying  \n19:18\u00a0<vmassol>\u00a0(what I meant rather)  \n19:19\u00a0<vmassol>\u00a0thomas has extracted LDAP into an extension module  \n19:19\u00a0<vmassol>\u00a0it's now optional  \n19:25\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n19:26\u00a0<helge>\u00a0vmassol: ok, many thanks for checking and explaining. I thought I had seen a different behavior before, but my wiki contents have also changed a lot. Maybe I just had smaller images :)  \n19:27\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n19:38\u00a0<DarkKnightCZ>\u00a0has quit  \n19:39\u00a0<Slashman>\u00a0has quit  \n19:58\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n20:17\u00a0<vmassol>\u00a0has quit  \n21:02\u00a0<DarkKnightCZ>\u00a0has quit  \n21:17\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n21:32\u00a0<helge>\u00a0has quit  \n21:36\u00a0<DarkKnightCZ>\u00a0has quit  \n23:26\u00a0<DaveVector[m]>\u00a0has joined #xwiki  \n23:28\u00a0<DaveVector[m]>\u00a0has left #xwiki  \n23:42\u00a0<gdelhumeau>\u00a0has quit\n"}