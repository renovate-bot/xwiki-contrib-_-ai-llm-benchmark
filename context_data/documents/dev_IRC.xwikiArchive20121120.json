{"id": "dev:IRC.xwikiArchive20121120", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121120", "title": "IRC Archive for channel #xwiki on 20 November 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n15:05\u00a0<vmassol>\u00a0test  \n15:05\u00a0<vmassol>\u00a0ok log created now  \n15:05\u00a0<vmassol>\u00a0I wonder what was wrong  \n15:05\u00a0<vmassol>\u00a0XWIKI-8258  \n15:05\u00a0<vmassol>\u00a0ok it's working again  \n15:07\u00a0<vmassol>\u00a03 issues remaining on http://jira.xwiki.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=Project+in+%28%22XWiki+Commons%22%2C+%22XWiki+Rendering%22%2C+%22XWiki+Platform%22%2C+%22XWiki+Enterprise%22%2C+%22XWiki+Enterprise+Manager%22%29+and+fixVersion+in+%28%224.3-milestone-1%22%2C+%224.3-milestone-2%22%2C+%224.3-rc-1%22%2C+%224.3%22%29+and+resolution+in+%28Unresolved%29  \n15:08\u00a0<vmassol>\u00a0sburjan: I didn't get this one http://jira.xwiki.org/browse/XWIKI-8259  \n15:08\u00a0<vmassol>\u00a0I'll close it for now  \n15:08\u00a0<vmassol>\u00a0as cannot reproduce  \n15:09\u00a0<sburjan>\u00a0ok  \n15:10\u00a0<vmassol>\u00a0losing http://jira.xwiki.org/browse/XWIKI-8299 as duplicate it's the same problem  \n15:11\u00a0<vmassol>\u00a0so that leaves http://jira.xwiki.org/browse/XWIKI-8461  \n15:12\u00a0<vmassol>\u00a0jvdrean1: did you look at it yesterday?  \n15:12\u00a0<vmassol>\u00a0(I remember seeing some message from you)  \n15:13\u00a0<qwebirc93871>\u00a0has joined #xwiki  \n15:13\u00a0<jvdrean1>\u00a0vmassol: I didn't (yet), it's very likely to be because the original XWikiPreferences document is left untouched  \n15:13\u00a0<qwebirc93871>\u00a0hello.  \n15:15\u00a0<silviar>\u00a0has joined #xwiki  \n15:18\u00a0<vmassol>\u00a0sburjan: can you explain what you mean by \"repeat the same steps for 4.3 RC1\"  \n15:18\u00a0<vmassol>\u00a0what you do is not correct IMO  \n15:18\u00a0<vmassol>\u00a0you're messing up the permanent directories I think  \n15:19\u00a0<qwebirc93871>\u00a0I got a strange behaviour from xwiki. I wanted to transform a XE into an XEM. I installed all the plugins and applications as described in the documentation, and everything works fine until I switch the virtual setting within the xwiki.cfg into 1.  \n15:19\u00a0<qwebirc93871>\u00a0After that operation, I can't access the wiki anymore. I tried on \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*/xwiki/wiki/xwiki/ which doesn't give a response, and as soon as I try to open a specific page within a space, it tells me: A problem occurred while trying to process your request. Please contact the webmaster if this happens again.  \n15:25\u00a0<qwebirc93871>\u00a0Do I try to access my wiki the false way?  \n15:27\u00a0<vmassol>\u00a0tmortagne: btw shouldn't we update the XEM documentation to explain how to transform a XE into a XEM using the EM?  \n15:27\u00a0<vmassol>\u00a0(I didn't check, maybe it's already explained)  \n15:28\u00a0<tmortagne>\u00a0vmassol: yes, depends what we want to put in it, it's already deprecated since it was not talking about workspaces  \n15:29\u00a0<vmassol>\u00a0sburjan: ping, see above  \n15:30\u00a0<tmortagne>\u00a0will add a section about installing XE from XEM using EM in http://manager.xwiki.org/xwiki/bin/view/AdminGuide/Installation  \n15:31\u00a0<tmortagne>\u00a0as for the manual section I don't know if workspace require special things  \n15:31\u00a0<tmortagne>\u00a0the EM one is easy, just install XEM UI :)  \n15:39\u00a0<sburjan>\u00a0vmassol: reading. are you talking about XWIKI-8461 ?  \n15:39\u00a0<vmassol>\u00a0yes  \n15:40\u00a0<vmassol>\u00a0I need to know what you mean by:  \n15:40\u00a0<vmassol>\u00a0clicking the \"Continue\" button to solve merging conflicts\"  \n15:40\u00a0<vmassol>\u00a0does it mean you kept all the new versions or the old ones in the merge select box?  \n15:40\u00a0<sburjan>\u00a0I keep the new ones  \n15:40\u00a0<sburjan>\u00a0let me update the issue with this information  \n15:40\u00a0<vmassol>\u00a0you sure you did that for XWikiPreferences?  \n15:41\u00a0<vmassol>\u00a0(when you got a conflict on it)  \n15:41\u00a0<sburjan>\u00a0I am sure I clicked the continue button with the default dropdown selected, yes  \n15:42\u00a0<vmassol>\u00a0ok so we need to test an upgrade from 4.1.x to 4.3 for ex  \n15:42\u00a0<vmassol>\u00a0since we made a xwikiprefrences change in 4.2  \n15:42\u00a0<vmassol>\u00a0ok thanks  \n15:42\u00a0<sburjan>\u00a0well I was testing from a 2.7.2  \n15:42\u00a0<sburjan>\u00a0vmassol: np  \n15:42\u00a0<vmassol>\u00a0I know but it seems that xwikipreferences didn't get updated  \n15:43\u00a0<vmassol>\u00a0since it didn't contain the new application panels  \n15:43\u00a0<vmassol>\u00a0you coud have checked that btw  \n15:43\u00a0<vmassol>\u00a0ie verified by editing xwikiprefernces what was the panels list  \n15:44\u00a0<sburjan>\u00a0true  \n15:49\u00a0<tmortagne>\u00a0vmassol: two new sections actually  \n15:50\u00a0<vmassol>\u00a0\"and set the right the domain name\"  \n15:50\u00a0<vmassol>\u00a0typo  \n15:51\u00a0<vmassol>\u00a0\"and set the right domain name\"  \n15:51\u00a0<vmassol>\u00a0?  \n15:51\u00a0<vmassol>\u00a0you forgot to mention to restart the instance  \n16:01\u00a0<sburjan>\u00a0vmassol: so are you able to reproduce XWIKI-8461 ?  \n16:03\u00a0<vmassol>\u00a0seems we have a regression in our poms somewhere  \n16:03\u00a0<vmassol>\u00a0since the perm dir is not set anymore with a hsqldb/jetty distribution  \n16:04\u00a0<vmassol>\u00a0seems someone made some change to the pom  \n16:05\u00a0<Enygma`>\u00a0guys, I get quite a lot of exceptions while starting XEM-jetty-mysqld 4.3-SNAPSHOT http://pastebin.com/7Bj1xGwu  \n16:05\u00a0<Enygma`>\u00a0it`s an empty db right now  \n16:06\u00a0<sburjan>\u00a0vmassol: please note that I deleted the data dir that came with the jetty+hsqldb package in order to trigger the DW  \n16:06\u00a0<vmassol>\u00a0sburjan: please mention eveyrthing in the issue  \n16:06\u00a0<sburjan>\u00a0ok  \n16:08\u00a0<sburjan>\u00a0done  \n16:10\u00a0<tmortagne>\u00a0Enygma`: there was something about WorkspaceManager.Install and XemManager.Install in http://manager.xwiki.org/xwiki/bin/view/AdminGuide/Installation, I kept them but I'm wondering if its really needed to call them explicitly  \n16:10\u00a0<tmortagne>\u00a0it was not added by you  \n16:13\u00a0<Enygma`>\u00a0tmortagne: right now, WorkspaceManager.Install also registers translations on access. You also get a notification in the homepage of XEM-ui if you haven`t yet installed a workspace template, but when installing just the workspace extension, you will not get that warning. In any case, you have to install a workspace template, or the new workspace creation will not work  \n16:13\u00a0<Enygma`>\u00a0so XemManager.Install is not required at all, but WorkspaceManager.Install is  \n16:14\u00a0<tmortagne>\u00a0in this case we install XEM UI so none is really required, right ?  \n16:14\u00a0<tmortagne>\u00a0hmm unless the user don't overwrite the home page  \n16:15\u00a0<tmortagne>\u00a0(working on instruction to convert XE to XEM)  \n16:15\u00a0<Enygma`>\u00a0if you install XEM-ui, you will \\*see\\* that you have to access the Install page, yes, but you might keep it in the doc so that the admin also \\*knows\\* that he has to access the Install page :)  \n16:16\u00a0<tmortagne>\u00a0yep will keep the WorkspaceManager.Install one then  \n16:17\u00a0<vmassol>\u00a0sorry false alarm  \n16:18\u00a0<tdelafosse>\u00a0has joined #xwiki  \n16:18\u00a0<qwebirc93871>\u00a0has quit  \n16:21\u00a0<jvdrean1>\u00a0I'm trying to reproduce XWIKI-8461 but it seems I'm stuck during the distribution wizard :  \n16:21\u00a0<jvdrean1>\u00a0https://www.evernote.com/shard/s122/sh/c9d22cde-23c9-4cd4-83b8-488c7aa10eb1/b8a8542c158546a48592b69226607c55  \n16:22\u00a0<jvdrean1>\u00a0does anyone seen that before ? (mflorea, tmortagne)  \n16:23\u00a0<tmortagne>\u00a0looks like a bug with the code supposed to display you a conflict  \n16:23\u00a0<tmortagne>\u00a0did you had any conflict before that ?  \n16:24\u00a0<tmortagne>\u00a0hmm actually it's even before that  \n16:24\u00a0<tmortagne>\u00a0I'm not sure actually  \n16:24\u00a0<tmortagne>\u00a0checking extension.vm anyway  \n16:24\u00a0<tmortagne>\u00a0to see if that macro exists  \n16:25\u00a0<mflorea>\u00a0yes, it exists  \n16:27\u00a0<mflorea>\u00a0jvdrean1, tmortagne: this might be caused by the fact the the macros from XWiki.ExtensionManagerMacros are taken into account instead of those from extension.vm  \n16:27\u00a0<tmortagne>\u00a0mflorea: why would the distribution wizard load ExtensionManagerMacros ?  \n16:27\u00a0<tmortagne>\u00a0s/load/include/  \n16:28\u00a0<mflorea>\u00a0indeed, no reason, it includes only extension.vm  \n16:29\u00a0<tmortagne>\u00a0jvdrean1: were does this build come from ?  \n16:29\u00a0<tmortagne>\u00a0could you check if you have extension.vm on your side with the macro in it  \n16:29\u00a0<vmassol>\u00a0jv is using 4.3rc1  \n16:30\u00a0<tmortagne>\u00a0ok  \n16:30\u00a0<jvdrean1>\u00a0I'm deploying a freshly downloaded xwiki-enterprise-web-4.3-rc-1 into a xwiki-enterprise-jetty-hsqldb-4.1.4 distrib  \n16:30\u00a0<jvdrean1>\u00a0(the 4.1.4 distrib is also fresh, just downloaded it, started it, stopped it)  \n16:32\u00a0<tmortagne>\u00a0hope we did not get back the bug about macro from a page polluting everything else  \n16:32\u00a0<vmassol>\u00a0sburjan: can you explain what you mean by \"\u00a0repeat\u00a0the\u00a0same\u00a0steps\u00a0for\u00a04.3\u00a0RC1\"  \n16:32\u00a0<vmassol>\u00a0(in the jira issue)  \n16:32\u00a0<sburjan>\u00a0detailing in the jira issue  \n16:32\u00a0<vmassol>\u00a0what you should do sburjan is only copy the wbeapp and not the rest  \n16:32\u00a0<sburjan>\u00a0I thought I was clear  \n16:33\u00a0<vmassol>\u00a0so there's no need to delete anything  \n16:33\u00a0<tmortagne>\u00a0jvdrean1: could you try to delete ExtensionManagerMacros (and restart probably) just to be sure it not coming from it  \n16:34\u00a0<tmortagne>\u00a0if it's working without the page we have a serious context/velocity macro issue  \n16:34\u00a0<sburjan>\u00a0vmassol: this is how I usually test. And because the default jetty+hsqldb package has data/extension and data/job in the zip, I have to delete them in order to trigger the DW  \n16:34\u00a0<jvdrean1>\u00a0tmortagne: I'm trying again, this time with a 4.3-SNAPSHOT wa  \n16:34\u00a0<vmassol>\u00a0no  \n16:34\u00a0<jvdrean1>\u00a0war  \n16:34\u00a0<vmassol>\u00a0sburjan: definitely not  \n16:34\u00a0<vmassol>\u00a0you should never remove your perm dir  \n16:34\u00a0<vmassol>\u00a0when you upgrade  \n16:35\u00a0<tmortagne>\u00a0jvdrean1: ok but I doubt there is much difference on this side  \n16:35\u00a0<vmassol>\u00a0as its name implies it's supposd to be \\*\\*permanent\\*\\* :)  \n16:36\u00a0<sburjan>\u00a0vmassol: I remove the permdir that comes from the archive. you're saying that my testing method is not good \u00a0? :)  \n16:36\u00a0<vmassol>\u00a0I'm asking you to explain what you're doing  \n16:36\u00a0<vmassol>\u00a0in the jira issue  \n16:36\u00a0<sburjan>\u00a0ok  \n16:36\u00a0<sburjan>\u00a0doing now  \n16:36\u00a0<vmassol>\u00a0right now it's imppossible ot know what you're doing  \n16:36\u00a0<jvdrean1>\u00a0We couldn't find any extension with id 'org.xwiki.enterprise:xwiki-enterprise-ui' and version '4.3-SNAPSHOT'. Make sure you have the right extension repositories configured.  \n16:36\u00a0<jvdrean1>\u00a0damn :)  \n16:36\u00a0<vmassol>\u00a0nomrla  \n16:37\u00a0<vmassol>\u00a0you need the snapshot repo  \n16:38\u00a0<jvdrean1>\u00a0ok added  \n16:39\u00a0<tmortagne>\u00a0we could maybe try to put \u00a0the snapshot repository when building a snapshot in maven some way, not sure it worth it  \n16:39\u00a0<sburjan>\u00a0vmassol: updated. if my method is not good, then I will re-test tomorrow using another method. (copying the webapp from the archive)  \n16:41\u00a0<vmassol>\u00a0sburjan: it still is not clear  \n16:41\u00a0<vmassol>\u00a0best would be for you to put your shell logs  \n16:41\u00a0<vmassol>\u00a0:)  \n16:41\u00a0<vmassol>\u00a0you put a lof unnecesary details  \n16:41\u00a0<vmassol>\u00a0but miss the important ones  \n16:41\u00a0<vmassol>\u00a0;)  \n16:41\u00a0<vmassol>\u00a0for example: \"unpack the 4.3-RC1 archive\"  \n16:41\u00a0<vmassol>\u00a0that's not precise  \n16:41\u00a0<vmassol>\u00a0you didn't say if you unpack over the previous version or in a new directory  \n16:42\u00a0<sburjan>\u00a0in a new directory, it would have mentioned if I was doing an upacking over the previous  \n16:42\u00a0<sburjan>\u00a0modifying  \n16:42\u00a0<vmassol>\u00a0so why did you say you use a 2.7.2 version  \n16:43\u00a0<vmassol>\u00a0this is useless since youre move eveyrthing  \n16:43\u00a0<vmassol>\u00a0your test is wrong  \n16:43\u00a0<vmassol>\u00a0this is not an upgrade you're doing  \n16:43\u00a0<vmassol>\u00a0you're doing something strange which is half between  \n16:43\u00a0<vmassol>\u00a0database is old one but perm dir is empty  \n16:43\u00a0<sburjan>\u00a0well I setup another wiki instance and point it to the 2.7.2 database. What is so strange about this ?  \n16:44\u00a0<vmassol>\u00a0the perm dir MUST NEVER BE REMOVED  \n16:44\u00a0<sburjan>\u00a0ok  \n16:44\u00a0<vmassol>\u00a0the old one of course  \n16:44\u00a0<vmassol>\u00a0the new one should not even exist  \n16:44\u00a0<vmassol>\u00a0this is not the way to upgrade  \n16:44\u00a0<vmassol>\u00a0you must get only the war  \n16:44\u00a0<vmassol>\u00a0not the rest  \n16:44\u00a0<sburjan>\u00a0well if you use the jetty+hsqldb package IT DOES  \n16:44\u00a0<sburjan>\u00a0and I guess that's normal  \n16:45\u00a0<vmassol>\u00a0this is NOT an upgrade  \n16:45\u00a0<vmassol>\u00a0you're taking a full new version  \n16:45\u00a0<vmassol>\u00a0an upgrade means  \n16:45\u00a0<vmassol>\u00a0changing only the WAR  \n16:45\u00a0<vmassol>\u00a0and restarting the wiki  \n16:46\u00a0<vmassol>\u00a0is it clear? :)  \n16:46\u00a0<sburjan>\u00a0yes ! :)  \n16:46\u00a0<sburjan>\u00a0this is how I was doing it until now :)  \n16:46\u00a0<sburjan>\u00a0(not your way)  \n16:46\u00a0<vmassol>\u00a0oteherwise you just loose all the metadata in the perm dir  \n16:46\u00a0<sburjan>\u00a0I see  \n16:46\u00a0<vmassol>\u00a0so you'll always have to merge all the pages for example  \n16:46\u00a0<vmassol>\u00a0(there might be other issues)  \n16:47\u00a0<sburjan>\u00a0and how do you perform an upgrade when you're using jetty+hsqldb packages ?  \n16:47\u00a0<vmassol>\u00a0as I said  \n16:47\u00a0<vmassol>\u00a0you just get the war  \n16:47\u00a0<tmortagne>\u00a0sburjan: either you get the war or you copy the data dir  \n16:48\u00a0<tmortagne>\u00a0in the new jetty distrib  \n16:48\u00a0<sburjan>\u00a0I see  \n16:48\u00a0<sburjan>\u00a0are we still releasing tomorrow ? :)  \n16:48\u00a0<tmortagne>\u00a0which is probably the easiest  \n16:48\u00a0<vmassol>\u00a0sburjan: yes tomorrow if we can stabilize the tests and if the last issue is closed  \n16:48\u00a0<tmortagne>\u00a0but anyway in 2.7.1 there not not much in the permanent dir  \n16:48\u00a0<sburjan>\u00a0because I'd like to retest the oracle bugs tomorrow morning  \n16:49\u00a0<vmassol>\u00a0tmortagne: yes I know that in 2.7.2 there isn't much but I'd just like sorin to use the right way for the future ;)  \n16:49\u00a0<tmortagne>\u00a0sure  \n16:49\u00a0<tmortagne>\u00a0in the future it's going to be a nightmare if doing upgrade like this  \n16:50\u00a0<sburjan>\u00a0like this = my twisted way or the right way (the Vincent way) ? :)  \n16:51\u00a0<tmortagne>\u00a0like this= not keeping permanent dir  \n16:52\u00a0<jvdrean1>\u00a0tmortagne: with 4.3-SNAPSHOT I don't get the unexecuted velocity macro  \n16:52\u00a0<jvdrean1>\u00a0everything goes smoothly  \n16:52\u00a0<tmortagne>\u00a0very weird  \n16:53\u00a0<tmortagne>\u00a0hope we don't have some issue in release  \n16:58\u00a0<sburjan>\u00a0vmassol: in this case, the way Denis wrote the migration script is also broken, because seems he \"migrate\" the same way as I did ...  \n16:59\u00a0<vmassol>\u00a0might be, I don't know, I haven't seen his \"scritp\"  \n17:00\u00a0<sburjan>\u00a0I know ;)  \n17:00\u00a0<vmassol>\u00a0bbiab  \n17:03\u00a0<jvdrean1>\u00a0sburjan: reproduced  \n17:04\u00a0<Denis>\u00a0sburjan, vmassol: the script does not really manage the permanent directory, there have been lots of changes recently, and this was difficult to implement cleanly  \n17:04\u00a0<sburjan>\u00a0jvdrean1: what are you talking about ?  \n17:06\u00a0<jvdrean1>\u00a0sburjan: XWIKI-8461  \n17:07\u00a0<jvdrean>\u00a0has joined #xwiki  \n17:08\u00a0<silviar1>\u00a0has joined #xwiki  \n17:08\u00a0<silviar>\u00a0has quit  \n17:10\u00a0<jvdrean1>\u00a0has quit  \n17:14\u00a0<sburjan>\u00a0jvdrean: cool.  \n17:22\u00a0<jvdrean>\u00a0sburjan, tmortagne: so, I  \n17:22\u00a0<jvdrean>\u00a0I'm not prompted about a merge in XWikiPreferences  \n17:23\u00a0<jvdrean>\u00a0but the addition to the rightPanels property (Panels.Applications) are not imported  \n17:25\u00a0<tmortagne>\u00a0what addition ? new class property ? object modifications ?  \n17:25\u00a0<tmortagne>\u00a0i.e what is missing technically  \n17:26\u00a0<tmortagne>\u00a0the value of the rightPanels property is not properly merged ?  \n17:27\u00a0<jvdrean>\u00a0the value of the rightPanels property has been modified between 4.1.4 and 4.3.x  \n17:27\u00a0<jvdrean>\u00a0\"Panels.QuickLinks,Panels.RecentModifications\" -> \"Panels.Applications,Panels.QuickLinks,Panels.RecentModifications\"  \n17:27\u00a0<tmortagne>\u00a0is this a list property ?  \n17:28\u00a0<jvdrean>\u00a0string property  \n17:28\u00a0<jvdrean>\u00a0the log says  \n17:28\u00a0<jvdrean>\u00a0Importing document [http://localhost:8080/xwiki/bin/view/XWiki/XWikiPreferences] in language []...  \n17:28\u00a0<jvdrean>\u00a0Successfully imported document [http://localhost:8080/xwiki/bin/view/XWiki/XWikiPreferences] in language []  \n17:28\u00a0<tmortagne>\u00a0large or simple string ?  \n17:28\u00a0<jvdrean>\u00a0I'd say simple  \n17:28\u00a0<tmortagne>\u00a0might be a bug in the property merging code  \n17:28\u00a0<jvdrean>\u00a0(from the top of my head)  \n17:29\u00a0<tmortagne>\u00a0will trying to reproduce the same use case in a unit test  \n17:29\u00a0<tmortagne>\u00a0s/trying/try/  \n17:32\u00a0<vmassol>\u00a0killing stuck job  \n17:32\u00a0<msmeria>\u00a0has quit  \n17:33\u00a0<sburjan>\u00a0guys, going home, I will re-test tomorrow beforewe start the release  \n17:34\u00a0<sburjan>\u00a0see you tomorrow, have a nice evening  \n17:35\u00a0<sburjan>\u00a0has quit  \n17:38\u00a0<silviar1>\u00a0has left #xwiki  \n17:59\u00a0<tmortagne>\u00a0jvdrean: bug in BaseCollection#merge as far as I can see, just reproduced it in a unit test  \n17:59\u00a0<tmortagne>\u00a0creating a related jira issue and fixing it  \n18:00\u00a0<vmassol>\u00a0fyi I've just downgraded jenkins to 1.480.1  \n18:01\u00a0<vmassol>\u00a0and triggered a commons 4.3 build  \n18:01\u00a0<vmassol>\u00a01.480.1 is the LTS  \n18:01\u00a0<vmassol>\u00a0fun, it started http://ci.xwiki.org/job/xwiki-platform/2937/ by itself  \n18:02\u00a0<vmassol>\u00a0ah yes Enygma` committed on master  \n18:03\u00a0<Enygma`>\u00a0:)  \n18:04\u00a0<Enygma`>\u00a0vmassol: any idea about those stack traces that show up in the console when starting XWiki?  \n18:04\u00a0<vmassol>\u00a0I didn't notice any  \n18:05\u00a0<Enygma`>\u00a0\"(05:05:43 PM) Enygma`: guys, I get quite a lot of exceptions while starting XEM-jetty-mysqld 4.3-SNAPSHOT http://pastebin.com/7Bj1xGwu\"  \n18:05\u00a0<vmassol>\u00a0java.sql.SQLException: Can't create/write to file '/tmp/ibij2FLd' (  \n18:05\u00a0<vmassol>\u00a0so I'd guess that you haven't set your perm dir  \n18:06\u00a0<vmassol>\u00a0and that by default it's writing to /tmp/... and your user doesn't have permission there  \n18:06\u00a0<vmassol>\u00a0ah no it's mysql  \n18:06\u00a0<vmassol>\u00a0but same reason  \n18:06\u00a0<vmassol>\u00a0so bad mysql setup  \n18:07\u00a0<vmassol>\u00a0I'd say that it has nothing to do with xwiki itself  \n18:07\u00a0<vmassol>\u00a0yeah rendering 4.3 has been triggered automaitcally )  \n18:07\u00a0<vmassol>\u00a0:)  \n18:07\u00a0<vmassol>\u00a0so we're back on track with our jenkins  \n18:08\u00a0<Enygma`>\u00a0vmassol: did you also launch manually platform, enterprise and manager jobs?  \n18:08\u00a0<vmassol>\u00a0nope  \n18:08\u00a0<vmassol>\u00a0ATM there are only 2 jobs running  \n18:08\u00a0<vmassol>\u00a0no enterpruse and manager jobs  \n18:08\u00a0<Enygma`>\u00a0ok, then we`ll have to check after rendering finishes  \n18:09\u00a0<vmassol>\u00a0it'\"s going to work  \n18:09\u00a0<vmassol>\u00a0rendering was triggered after commons  \n18:09\u00a0<vmassol>\u00a0I'm confident  \n18:09\u00a0<Enygma`>\u00a0because you`ve manually triggered rendering before that, today  \n18:09\u00a0<vmassol>\u00a0btw no more blocking on jenkins pages too  \n18:09\u00a0<vmassol>\u00a0:)  \n18:09\u00a0<vmassol>\u00a0we'll see...  \n18:09\u00a0<Enygma`>\u00a0ah, because of the upgrade?  \n18:09\u00a0<vmassol>\u00a0I'm still confident  \n18:09\u00a0<vmassol>\u00a0no  \n18:09\u00a0<vmassol>\u00a0because of the downgrade  \n18:10\u00a0<vmassol>\u00a0;)  \n18:10\u00a0<Enygma`>\u00a0:P aha  \n18:12\u00a0<Enygma`>\u00a0vmassol: you were right about the mysql thing. I`ve restarted my mysqld service and now I get no errors. It was probably running while I have updated it and it was in a bad state.  \n18:12\u00a0<vmassol>\u00a0ok cool  \n18:13\u00a0<Enygma`>\u00a0ha, platform-4.3 started  \n18:15\u00a0<vmassol>\u00a0Enygma`: I trigged that one manually earlier today  \n18:15\u00a0<vmassol>\u00a0but not enterprise 4.3  \n18:15\u00a0<vmassol>\u00a0(if your theory is valid enteprrise 4.3 shouldn't start)  \n18:15\u00a0<Enygma`>\u00a0ok, we`ll find out in about 55 minutes :)  \n18:58\u00a0<mflorea>\u00a0has quit  \n18:58\u00a0<evalica>\u00a0has quit  \n19:03\u00a0<Enygma`>\u00a0has quit  \n19:04\u00a0<sburjan`>\u00a0vmassol: so for example if I use tomcat as container when upgrading, replacing the xwiki webapp is not eought ? Do I also have to move the data dir from the old instance ?  \n19:07\u00a0<coud>\u00a0has joined #xwiki  \n19:09\u00a0<vmassol>\u00a0no no  \n19:09\u00a0<jvdrean>\u00a0has quit  \n19:09\u00a0<vmassol>\u00a0again  \n19:09\u00a0<vmassol>\u00a0you just need to replace the war  \n19:09\u00a0<sburjan`>\u00a0ok  \n19:09\u00a0<sburjan`>\u00a0I'll test tomorrow  \n19:10\u00a0<sburjan`>\u00a0but since 2.7.2 does not have any metadata, upgrading with DW will still require a lot of clicks :)  \n19:10\u00a0<sburjan`>\u00a0aka permdir  \n19:10\u00a0<sburjan`>\u00a0so I guess when upgrading from 2.7.2 that's normal  \n19:10\u00a0<vmassol>\u00a0yes  \n19:10\u00a0<vmassol>\u00a0till marius implements the UI for asking teh question  \n19:11\u00a0<vmassol>\u00a0about what version you have already  \n19:11\u00a0<vmassol>\u00a0planned for 4.4  \n19:13\u00a0<sburjan`>\u00a0I see that the data/extension/repository dir contains some xar's. But thise xar's are already in the database, right ?  \n19:13\u00a0<sburjan`>\u00a0(just trying to figure out how this works)  \n19:14\u00a0<sburjan`>\u00a0that's the local cache I guess  \n19:14\u00a0<vmassol>\u00a0bbl  \n19:15\u00a0<tdelafosse>\u00a0has quit  \n19:19\u00a0<coud>\u00a0has quit  \n19:20\u00a0<coud>\u00a0has joined #xwiki  \n19:20\u00a0<sdumitriu>\u00a0has quit  \n19:24\u00a0<Slashman>\u00a0has quit  \n19:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:27\u00a0<sdumitriu>\u00a0has quit  \n19:31\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:49\u00a0<cjd>\u00a0Hi vmassol, I wanted to bounce something off of you.. Since there was some tentitive agreement about servlets as components, I have started on some experimental code. I noticed that if we're going to have a meaningful servlet router, we need to register filters too. My question is does it make sense to have a FilterServlet which wraps a regular servlet and allows filters to be added?  \n19:50\u00a0<vmassol>\u00a0it's not just filters, it's also servlet context listeners and in general all servlet api objecrs  \n19:50\u00a0<vmassol>\u00a0objects  \n19:50\u00a0<tmortagne>\u00a0I think XWIKI-8461 is now fixed but I have to go so if someone has the time to test it that would be great, otherwise will be for tomorrow  \n19:51\u00a0<tmortagne>\u00a0good night guys  \n19:51\u00a0<cjd>\u00a0There's a danger that we get carried away and rewrite tomcat. I want to implement enough to express ourselves well and not have blatent holes but implementing the entire servlet spec might be too much.  \n19:51\u00a0<cjd>\u00a0gn tmortagne  \n19:51\u00a0<tmortagne>\u00a0has quit  \n19:55\u00a0<vmassol>\u00a0cjd: you have an immediate need for filters?  \n19:55\u00a0<vmassol>\u00a0we still need a RM for tomorrow btw  \n19:56\u00a0<cjd>\u00a0I don't have a need but I feel that it's good citizenship to port over the existing servlets to components and many of them do rely on filters.  \n19:56\u00a0<cjd>\u00a0Perhaps I am mistaken and this should be included only as experimental API for now.  \n19:57\u00a0<cjd>\u00a0Also it's a good test of new API to make it work with what we have now.  \n20:01\u00a0<cjd>\u00a0So my thinking is define a FilterServlet interface with prefilter() postfilter() and service() methods.. This is quite a departure from the standard which is why I wanted some advice on the idea.  \n20:05\u00a0<vmassol1>\u00a0has joined #xwiki  \n20:05\u00a0<vmassol>\u00a0has quit  \n20:12\u00a0<coud>\u00a0has quit  \n20:14\u00a0<coud>\u00a0has joined #xwiki  \n20:16\u00a0<coud>\u00a0has quit  \n20:17\u00a0<coud>\u00a0has joined #xwiki  \n20:23\u00a0<coud>\u00a0has quit  \n20:24\u00a0<coud>\u00a0has joined #xwiki  \n20:25\u00a0<jvelo>\u00a0has joined #xwiki  \n20:37\u00a0<coud>\u00a0has quit  \n20:38\u00a0<coud>\u00a0has joined #xwiki  \n20:41\u00a0<coud>\u00a0has quit  \n20:41\u00a0<coud>\u00a0has joined #xwiki  \n20:46\u00a0<coud>\u00a0has quit  \n20:47\u00a0<coud>\u00a0has joined #xwiki  \n20:47\u00a0<coud>\u00a0Hi. I'm stuck with using HQL over REST. I'm trying to get all pages of the given class. I tried http://localhost:8080/xwiki/rest/wikis/xwiki/query?q=&type=hql&classname=Blog.BlogPostClass to get all BlogPostClass instances but it gives me all objects not only Blog posts.  \n20:48\u00a0<coud>\u00a0(sorry if the post was send twice, I lost connection)  \n21:06\u00a0<cjd>\u00a0coud: try http://localhost:8080/xwiki/rest/wikis/xwiki/query?q=&type=hql&q=WHERE+obj.classname=Blog.BlogPostClass  \n21:06\u00a0<cjd>\u00a0I'm not entirely sure on that query but it looks like it's expecting a parameter called 'q'  \n21:06\u00a0<cjd>\u00a0err  \n21:07\u00a0<cjd>\u00a0you have q=  \n21:07\u00a0<cjd>\u00a0try http://localhost:8080/xwiki/rest/wikis/xwiki/query?type=hql&q=WHERE+obj.classname=Blog.BlogPostClass  \n21:07\u00a0<cjd>\u00a0something like that  \n21:11\u00a0<jvelo>\u00a0has quit  \n21:11\u00a0<coud>\u00a0cjd it throws exception:  \n21:11\u00a0<coud>\u00a0Wrapped Exception: Invalid path: 'obj.classname' [select distinct doc.fullName, doc.space, doc.name, doc.language from com.xpn.xwiki.doc.XWikiDocument as doc WHERE obj.classname=Blog.BlogPostClass]  \n21:16\u00a0<cjd>\u00a0ahh  \n21:17\u00a0<cjd>\u00a0try http://localhost:8080/xwiki/rest/wikis/xwiki/query?type=hql&q=,+BaseObject+AS+obj+WHERE+obj.name=doc.fullName+and+obj.classname=Blog.BlogPostClass  \n21:17\u00a0<cjd>\u00a0nice of it to be so friendly about it's error messages, the REST code is highly modular which makes following the execution impossible for me.  \n21:18\u00a0<coud>\u00a0Wrapped Exception: could not resolve property: classname of: com.xpn.xwiki.objects.BaseObject [select distinct doc.fullName, doc.space, doc.name, doc.language from com.xpn.xwiki.doc.XWikiDocument as doc , com.xpn.xwiki.objects.BaseObject AS obj WHERE obj.name=doc.fullName and obj.classname=Blog.BlogPostClass]  \n21:23\u00a0<coud>\u00a0has quit  \n21:23\u00a0<coud>\u00a0has joined #xwiki  \n21:25\u00a0<cjd>\u00a0ok now the only thing left is for me to remember what the class name is called :)  \n21:27\u00a0<cjd>\u00a0try className  \n21:27\u00a0<coud>\u00a0I think it's really called \"className\" - looking at http://platform.xwiki.org/xwiki/bin/view/DevGuide/velocityHqlExamples  \n21:27\u00a0<cjd>\u00a0give it a try, I just checked the BaseCollection API doc and that seems to be it  \n21:28\u00a0<cjd>\u00a0everyone else reads documentation, I read code :)  \n21:29\u00a0<coud>\u00a0you were right - now the exception is different :)  \n21:29\u00a0<coud>\u00a0Wrapped Exception: Invalid path: 'Blog.BlogPostClass' [select distinct doc.fullName, doc.space, doc.name, doc.language from com.xpn.xwiki.doc.XWikiDocument as doc , com.xpn.xwiki.objects.BaseObject AS obj WHERE obj.name=doc.fullName and obj.className=Blog.BlogPostClass]  \n21:30\u00a0<cjd>\u00a0ahh, need ''  \n21:30\u00a0<coud>\u00a0yes!  \n21:30\u00a0<coud>\u00a0cjd thank you very much!  \n21:32\u00a0<cjd>\u00a0sure thing  \n21:39\u00a0<coud>\u00a0has quit  \n21:40\u00a0<coud>\u00a0has joined #xwiki  \n21:42\u00a0<coud>\u00a0has quit  \n21:43\u00a0<coud>\u00a0has joined #xwiki  \n21:47\u00a0<coud>\u00a0has quit  \n21:48\u00a0<coud>\u00a0has joined #xwiki  \n21:57\u00a0<coud>\u00a0has quit  \n21:57\u00a0<coud>\u00a0has joined #xwiki  \n22:06\u00a0<coud>\u00a0has quit  \n22:07\u00a0<coud>\u00a0has joined #xwiki  \n22:10\u00a0<coud>\u00a0has quit  \n22:10\u00a0<coud>\u00a0has joined #xwiki  \n22:22\u00a0<jvdrean>\u00a0has joined #xwiki  \n22:25\u00a0<coud>\u00a0has quit  \n22:26\u00a0<coud>\u00a0has joined #xwiki  \n22:28\u00a0<mrvanes>\u00a0has quit  \n22:31\u00a0<coud>\u00a0has quit  \n22:32\u00a0<coud>\u00a0has joined #xwiki  \n22:36\u00a0<vmassol1>\u00a0has quit  \n22:37\u00a0<abusenius>\u00a0has joined #xwiki  \n22:38\u00a0<jvdrean>\u00a0has quit  \n22:43\u00a0<coud>\u00a0has quit  \n22:44\u00a0<coud>\u00a0has joined #xwiki  \n22:46\u00a0<coud>\u00a0has quit  \n22:47\u00a0<coud>\u00a0has joined #xwiki  \n23:04\u00a0<coud>\u00a0has quit  \n23:06\u00a0<vmassol>\u00a0has joined #xwiki  \n23:11\u00a0<vmassol>\u00a0has quit  \n23:11\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:14\u00a0<abusenius>\u00a0has quit\n"}