{"id": "dev:IRC.xwikiArchive20150317", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150317", "title": "IRC Archive for channel #xwiki on 17 March 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n06:16\u00a0<mflorea>\u00a0has joined #xwiki  \n06:20\u00a0<D-Spair>\u00a0has quit  \n07:14\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:57\u00a0<vmassol>\u00a0has joined #xwiki  \n07:59\u00a0<DarkKnightCZ1>\u00a0has joined #xwiki  \n08:02\u00a0<DarkKnightCZ>\u00a0has quit  \n08:15\u00a0<msmeria>\u00a0has joined #xwiki  \n08:28\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:30\u00a0<vmassol>\u00a0has quit  \n08:31\u00a0<msmeria1>\u00a0has joined #xwiki  \n08:31\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:31\u00a0<msmeria>\u00a0has quit  \n08:34\u00a0<DarkKnightCZ1>\u00a0has quit  \n08:36\u00a0<DarkKnightCZ>\u00a0has quit  \n08:46\u00a0<vmassol>\u00a0has joined #xwiki  \n08:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:49\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:52\u00a0<vmassol>\u00a0has quit  \n08:53\u00a0<cjd>\u00a0has quit  \n09:05\u00a0<gsmeria>\u00a0has joined #xwiki  \n09:26\u00a0<Trefex>\u00a0has joined #xwiki  \n09:26\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:29\u00a0<DarkKnightCZ>\u00a0Hi, is it possible to fetch object values instead of document using XWQL?  \n09:31\u00a0<tmortagne>\u00a0DarkKnightCZ: yes XWQL support detailed select clause but you need programming right to be allowed to use it  \n09:31\u00a0<tmortagne>\u00a0there is several examples in http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module  \n09:32\u00a0<DarkKnightCZ>\u00a0tmortagne: yup, found that now, thanks  \n09:40\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:44\u00a0<cjd>\u00a0has joined #xwiki  \n09:44\u00a0<woshilapin>\u00a0Hi commiters, I receive a mail from Sonar with a broken build, I hope it's not due to my commit yesterday evening  \n09:46\u00a0<tmortagne>\u00a0woshilapin: I doubt your commit could break anything  \n09:47\u00a0<woshilapin>\u00a0It seems you're not worry about the broken build, does it happen often?  \n09:48\u00a0<tmortagne>\u00a0in this particular case I don't worry because it's expected, platform is failing since yesterday it's just that the sonar build is done only once a day  \n09:48\u00a0<tmortagne>\u00a0your commit was just one of the changes so jenkins sent you a mail  \n09:54\u00a0<woshilapin>\u00a0tmortagne: OK, thanks for the information  \n10:01\u00a0<lucaa>\u00a0has joined #xwiki  \n10:08\u00a0<vmassol>\u00a0has joined #xwiki  \n10:36\u00a0<msmeria>\u00a0has joined #xwiki  \n10:40\u00a0<msmeria1>\u00a0has quit  \n10:43\u00a0<vmassol>\u00a0tmortagne: good morning. I hope you can push the release today! :)  \n10:43\u00a0<vmassol1>\u00a0has joined #xwiki  \n10:44\u00a0<tmortagne>\u00a0me too but there is still some blocker issues and I'm currently working on stabilizing jenkins  \n10:47\u00a0<vmassol>\u00a0has quit  \n10:48\u00a0<lucaa>\u00a0has quit  \n10:57\u00a0<D-Spair>\u00a0has joined #xwiki  \n10:58\u00a0<lucaa>\u00a0has joined #xwiki  \n11:11\u00a0<lucaa1>\u00a0has joined #xwiki  \n11:12\u00a0<lucaa2>\u00a0has joined #xwiki  \n11:15\u00a0<lucaa1>\u00a0has quit  \n11:16\u00a0<lucaa2>\u00a0has quit  \n11:20\u00a0<evalica>\u00a0has joined #xwiki  \n11:21\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:24\u00a0<lucaa>\u00a0has quit  \n11:31\u00a0<lucaa>\u00a0has joined #xwiki  \n11:53\u00a0<Slashman>\u00a0has joined #xwiki  \n11:59\u00a0<DarkKnightCZ1>\u00a0has joined #xwiki  \n12:01\u00a0<DarkKnightCZ>\u00a0has quit  \n12:14\u00a0<KermitTheFragger>\u00a0has quit  \n12:22\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n12:42\u00a0<lucaa1>\u00a0has joined #xwiki  \n12:48\u00a0<msmeria>\u00a0has quit  \n12:57\u00a0<DarkKnightCZ1>\u00a0has quit  \n12:58\u00a0<msmeria>\u00a0has joined #xwiki  \n13:09\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:09\u00a0<msmeria>\u00a0has quit  \n13:09\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:53\u00a0<msmeria>\u00a0has joined #xwiki  \n13:53\u00a0<gsmeria>\u00a0has quit  \n13:54\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:56\u00a0<msmeria1>\u00a0has quit  \n13:58\u00a0<gsmeria>\u00a0has quit  \n13:58\u00a0<gsmeria1>\u00a0has joined #xwiki  \n14:01\u00a0<Slashman\\_>\u00a0has joined #xwiki  \n14:04\u00a0<Slashman>\u00a0has quit  \n15:23\u00a0<DarkKnightCZ>\u00a0has quit  \n15:47\u00a0<Denis1>\u00a0is now known as <Denis>  \n16:20\u00a0<gsmeria1>\u00a0has quit  \n16:32\u00a0<msmeria>\u00a0has quit  \n17:08\u00a0<cjd>\u00a0sdumitriu: what was the thing with users suddenly changing session, becoming logged out, becoming logged in as a different user, etc when using tomcat?  \n17:09\u00a0<sdumitriu>\u00a0We still don't know exactly  \n17:10\u00a0<sdumitriu>\u00a0The probable cause was Tomcat reusing JSESSIONID  \n17:10\u00a0<sdumitriu>\u00a0Or mixing sessions  \n17:10\u00a0<KermitTheFragger>\u00a0has quit  \n17:10\u00a0<sdumitriu>\u00a0Why, is it happening again?  \n17:11\u00a0<sdumitriu>\u00a0The problem was that for performance we cache the authentication result in the session  \n17:11\u00a0<cjd>\u00a0I was just asking about it because someone wrote some code which set attributes in the session red flags went off in my head  \n17:11\u00a0<sdumitriu>\u00a0So if we do have a user in the session, assume that it was successfully authenticated recently  \n17:11\u00a0<cjd>\u00a0my memory was the patch didn't fix the issue, just made the new sessions relogin with the right credentials  \n17:12\u00a0<sdumitriu>\u00a0And since someone got someone else's JSESSIONID, then the automaticaly got the authentication as wel  \n17:12\u00a0<sdumitriu>\u00a0l  \n17:12\u00a0<sdumitriu>\u00a0Yes, the solution was to check that at least the username sent in the cookie is the same as the one in the session  \n17:13\u00a0<cjd>\u00a0ok so my instinct was correct  \n17:57\u00a0<aftrumpet>\u00a0Does anyone know if attachments with spaces is still a known issue or if there's a fix for it?  \n18:08\u00a0<lucaa1>\u00a0has quit  \n18:13\u00a0<evalica>\u00a0has quit  \n18:14\u00a0<evalica>\u00a0has joined #xwiki  \n18:16\u00a0<cjd>\u00a0has quit  \n18:25\u00a0<lucaa1>\u00a0has joined #xwiki  \n18:27\u00a0<tmortagne>\u00a0has quit  \n18:42\u00a0<gdelhumeau>\u00a0has quit  \n18:58\u00a0<evalica>\u00a0has quit  \n19:07\u00a0<cjd>\u00a0has joined #xwiki  \n19:08\u00a0<sdumitriu>\u00a0aftrumpet: There shouldn't be an issue with spaces in attachment names  \n19:08\u00a0<sdumitriu>\u00a0Any char should be supported  \n19:11\u00a0<Enygma`>\u00a0has quit  \n19:13\u00a0<aftrumpet>\u00a0sdumitriu: Do you think there's a chance something would be changed in a migration to a newer version?  \n19:13\u00a0<sdumitriu>\u00a0What do you mean?  \n19:13\u00a0<aftrumpet>\u00a0Attachments with spaces aren't working for me on a migrated version and I'm not sure why  \n19:14\u00a0<aftrumpet>\u00a0I mean, I updated an installation from version 4 to 5.  \n19:14\u00a0<aftrumpet>\u00a0\\*3 to 5  \n19:14\u00a0<sdumitriu>\u00a0When you say they don't work, how exactly?  \n19:17\u00a0<aftrumpet>\u00a0When I try to download an attachment with spaces, I get a resource not found error.  \n19:18\u00a0<aftrumpet>\u00a0Upon changing all of the spaces to '+', the attachment downloads.  \n19:18\u00a0<aftrumpet>\u00a0But the problem is, the attachments are naturally linked with spaces in the URLs.  \n19:18\u00a0<sdumitriu>\u00a0Where they spaces initially, or %20?  \n19:19\u00a0<aftrumpet>\u00a0Spaces  \n19:19\u00a0<sdumitriu>\u00a0They should not be linked with spaces...  \n19:19\u00a0<aftrumpet>\u00a0But how do I stop XWiki from linking them with spaces?  \n19:19\u00a0<sdumitriu>\u00a0But sometimes the browser shows the decoded URL  \n19:19\u00a0<sdumitriu>\u00a0From the original document, right click on the attachment link and use copy link location  \n19:20\u00a0<sdumitriu>\u00a0Paste it somewhere, does it have spaces or %20?  \n19:20\u00a0<aftrumpet>\u00a0Okay, so it's actually %20.  \n19:20\u00a0<sdumitriu>\u00a0It might be an issue with the way the frontend/container is set up  \n19:21\u00a0<Trefex>\u00a0has quit  \n19:22\u00a0<sdumitriu>\u00a0As you can see, this works: http://playground.xwiki.org/xwiki/bin/download/Sandbox/WebHome/%C8%99ome%20logo.png  \n19:23\u00a0<sdumitriu>\u00a0And there's no code inside XWiki that should reject %20  \n19:23\u00a0<sdumitriu>\u00a0So, what is your setup? Tomcat+httpd?  \n19:24\u00a0<aftrumpet>\u00a0Tomcat, MySQL for database  \n19:49\u00a0<Slashman\\_>\u00a0has quit  \n20:19\u00a0<vmassol1>\u00a0has quit  \n20:35\u00a0<mflorea>\u00a0has quit  \n21:27\u00a0<lucaa>\u00a0has quit  \n21:27\u00a0<lucaa1>\u00a0has quit  \n21:38\u00a0<vmassol>\u00a0has joined #xwiki  \n22:11\u00a0<martin-h>\u00a0has quit  \n22:17\u00a0<martin-h>\u00a0has joined #xwiki  \n22:27\u00a0<vmassol>\u00a0has quit\n"}