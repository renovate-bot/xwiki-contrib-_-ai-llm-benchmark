{"id": "dev:IRC.xwikiArchive20160907", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160907", "title": "IRC Archive for channel #xwiki on 07 September 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n04:07\u00a0<xwikiorg\\_guest\\_2>\u00a0has quit  \n06:49\u00a0<mflorea>\u00a0has joined #xwiki  \n07:30\u00a0<msmeria>\u00a0has joined #xwiki  \n08:06\u00a0<tmortagne>\u00a0has quit  \n09:09\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:18\u00a0<martinus\\_\\_>\u00a0hi there, I'm looking for a way to alter xwiki.section.edit per wiki, without restart : is it possible ?  \n09:22\u00a0<acotiuga>\u00a0has joined #xwiki  \n09:25\u00a0<ClemensR>\u00a0hm, it looks like the value is read directly from the property file ...  \n09:33\u00a0<vmassol>\u00a0has joined #xwiki  \n09:42\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:53\u00a0<mflorea>\u00a0has quit  \n09:53\u00a0<Slashman>\u00a0has joined #xwiki  \n10:07\u00a0<sorinello>\u00a0has quit  \n10:08\u00a0<sorinello>\u00a0has joined #xwiki  \n10:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:13\u00a0<mflorea>\u00a0has joined #xwiki  \n10:37\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:38\u00a0<evalica>\u00a0has joined #xwiki  \n10:59\u00a0<ansuz>\u00a0has joined #xwiki  \n11:00\u00a0<ansuz>\u00a0has left #xwiki  \n11:01\u00a0<ansuz>\u00a0has joined #xwiki  \n11:01\u00a0<ansuz>\u00a0has left #xwiki  \n11:42\u00a0<Pbas>\u00a0Hello, my activity feed is broken again after xwiki upgrade on http://coc.myxwiki.org/xwiki/bin/view/Main/. Could you fix it plz? it is PR problem  \n12:25\u00a0<evalica>\u00a0has quit  \n12:43\u00a0<edvorg>\u00a0has joined #xwiki  \n12:43\u00a0<edvorg->\u00a0has joined #xwiki  \n12:43\u00a0<edvorg>\u00a0has joined #xwiki  \n12:43\u00a0<edvorg>\u00a0has quit  \n12:43\u00a0<edvorg->\u00a0has quit  \n13:44\u00a0<edvorg>\u00a0has joined #xwiki  \n13:45\u00a0<edvorg>\u00a0has quit  \n13:45\u00a0<edvorg>\u00a0has joined #xwiki  \n13:46\u00a0<edvorg>\u00a0has quit  \n14:04\u00a0<evalica>\u00a0has joined #xwiki  \n14:15\u00a0<tmortagne>\u00a0mflorea: platform build failed with Caused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact org.xwiki.platform:xwiki-platform-index-tree-api:jar:7.4.5-SNAPSHOT in xwiki-snapshots  \n14:15\u00a0<tmortagne>\u00a07.4.x and 8.2.x branches  \n14:23\u00a0<edvorg>\u00a0has joined #xwiki  \n14:28\u00a0<mflorea>\u00a0tmortagne: thanks, should be fine now  \n14:46\u00a0<tmortagne>\u00a0mflorea: java8 vs java7, see http://ci.xwiki.org/job/xwiki-platform-7.4.x/335/console  \n14:46\u00a0<mflorea>\u00a0I'll check  \n14:48\u00a0<vmassol>\u00a0tmortagne: you're the next RM. Would you be ok to release 7.4.5 this Friday for example?  \n14:48\u00a0<tmortagne>\u00a0I'm fine with any release  \n14:49\u00a0<vmassol>\u00a0:)  \n14:49\u00a0<vmassol>\u00a0cool  \n14:51\u00a0<tmortagne>\u00a0mflorea: usually it's about explicitly indicating the type instead of letting Java guess it (since Java 8 and Java 7 don't guess the same thing)  \n14:51\u00a0<mflorea>\u00a0ok  \n15:02\u00a0<msmeria>\u00a0has quit  \n15:10\u00a0<mflorea>\u00a0tmortagne: I'm trying to release from my local machine to externals repo on nexus.xwiki.org. I'm using https://github.com/xwiki/jodconverter/blob/jodconverter-core-3.1-xwiki/jodconverter-core/pom.xml#L68 . I added a server config in settings.xml for nexus.xwiki.org similar to maven.xwiki.org (using ssh) but it doesn't seem to work. I see that the settings.xml from agent 1 is using user/pass.  \n15:13\u00a0<tmortagne>\u00a0mflorea: looking  \n15:15\u00a0<tmortagne>\u00a0so your pom looks right, I'm using the same thing to deploy on external  \n15:15\u00a0<mflorea>\u00a0I could probably deploy directly to maven.xwiki.org, but I think it's better to go though nexus.xwiki.org  \n15:16\u00a0<tmortagne>\u00a0actually in case of externals it's supposed to be both  \n15:16\u00a0<tmortagne>\u00a0we deploy on nexus.xwiki.org which save directly on maven.xwiki.org  \n15:17\u00a0<tmortagne>\u00a0you are just missing nexus credential in settings.xml probably  \n15:17\u00a0<tmortagne>\u00a0otherwise you can't publish on it  \n15:17\u00a0<mflorea>\u00a0ok, but do you use the ssh key for nexus.xwiki.org or user/pass?  \n15:17\u00a0<mflorea>\u00a0in your settings.xml  \n15:18\u00a0<tmortagne>\u00a0no ssh, I'm using nexus too  \n15:18\u00a0<mflorea>\u00a0ok, let me try that  \n15:18\u00a0<tmortagne>\u00a0looks like I stole the credentials from agent1 :)  \n15:19\u00a0<tmortagne>\u00a0not sure why  \n15:19\u00a0<tmortagne>\u00a0it should probably work with my user/pass too  \n15:21\u00a0<mflorea>\u00a0cool, it works fine with my user/pass  \n15:21\u00a0<mflorea>\u00a0thanks  \n15:23\u00a0<tmortagne>\u00a0ok will put mine instead of agent1 then  \n15:49\u00a0<vmassol>\u00a0mflorea: ^^^ that's correct right?  \n15:49\u00a0<vmassol>\u00a0default is current user not global for the menu app  \n15:49\u00a0<vmassol>\u00a0right?  \n16:01\u00a0<mflorea>\u00a0vmassol: yes, I think so  \n16:06\u00a0<mflorea>\u00a0I confirm https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-menu/xwiki-platform-menu-ui/src/main/resources/Menu/MenuTemplate.xml#L155  \n16:17\u00a0<vmassol>\u00a0mf@  \n16:17\u00a0<vmassol>\u00a0oops  \n16:17\u00a0<vmassol>\u00a0mflorea: I think it would be better to be \"wiki\"  \n16:17\u00a0<vmassol>\u00a0just got a user (Olivier Seres) who didn't understand why when he was logging out the menu was disappearing  \n16:18\u00a0<vmassol>\u00a0I saw him even set view permissions for the guest user on the menu page :)  \n16:18\u00a0<vmassol>\u00a0in general I think our practice is to use \"wiki\" as the default  \n16:18\u00a0<mflorea>\u00a0definitely not a good idea, wiki requires admin right, and any user can create a menu  \n16:19\u00a0<vmassol>\u00a0so we need a way to let user understand that only they will see it  \n16:19\u00a0<vmassol>\u00a0it's a very very untypical use case  \n16:19\u00a0<vmassol>\u00a0I'd say 0.01%  \n16:19\u00a0<vmassol>\u00a0in general when you create a menu it's for everyone to see it  \n16:19\u00a0<vmassol>\u00a0(I acutally don't know anyone creating menus for themselves only)  \n16:19\u00a0<vmassol>\u00a0do you?  \n16:19\u00a0<vmassol>\u00a0:)  \n16:20\u00a0<acotiuga>\u00a0has quit  \n16:20\u00a0<Chris[m]>\u00a0has quit  \n16:21\u00a0<mflorea>\u00a0vmassol: that's not the issue, the issue is that if we put wiki then the user will get an error.  \n16:21\u00a0<vmassol>\u00a0yes I understand that but I've also explained the other issue  \n16:22\u00a0<vmassol>\u00a0which is even worse  \n16:22\u00a0<vmassol>\u00a0potentially worse  \n16:22\u00a0<vmassol>\u00a0at least if they get an error that they need to be admin they'll understand that they need to ask an admin  \n16:22\u00a0<mflorea>\u00a0I don't agree  \n16:22\u00a0<vmassol>\u00a0whereas if they create a menu they won't know it's actually not working and is not usable  \n16:22\u00a0<vmassol>\u00a0and that they need to call an admin to make it wirk  \n16:22\u00a0<vmassol>\u00a0\\*work  \n16:22\u00a0<vmassol>\u00a0they'll see it as a bug  \n16:22\u00a0<vmassol>\u00a0as was the case for Olivier Seres  \n16:23\u00a0<mflorea>\u00a0you have the option when you edit the menu  \n16:23\u00a0<vmassol>\u00a0it'll \\*seem\\* to work  \n16:23\u00a0<vmassol>\u00a0current user is always a bad choice  \n16:23\u00a0<mflorea>\u00a0I don't agree  \n16:23\u00a0<vmassol>\u00a0since it never corresponds to a real case  \n16:23\u00a0<tmortagne>\u00a0mflorea: about XWIKI-13468 I usually try to have the same code on all branches working with both java 7 and 8 to not make fixing bug and cherry-pick later a pain  \n16:23\u00a0<vmassol>\u00a0OTOH we could have validation if theuser is not admin  \n16:24\u00a0<tmortagne>\u00a0(but I'm probably not going to be the one having to deal with it in this case so your choice ;))  \n16:24\u00a0<vmassol>\u00a0anyway I'm raising the problem that I jus saw with my eyes with Olivier\u2026  \n16:25\u00a0<vmassol>\u00a0what I'm sure is that we have a problem and we should improve it somehow  \n16:25\u00a0<mflorea>\u00a0as you wish, but for me this is not a bug, you have the option when you create the menu  \n16:25\u00a0<vmassol>\u00a0I don't care about bugs  \n16:26\u00a0<vmassol>\u00a0(in this talk)  \n16:26\u00a0<vmassol>\u00a0I care about user experience  \n16:26\u00a0<vmassol>\u00a0you can call it improvement  \n16:27\u00a0<gdelhumeau>\u00a0I agree the current situation is counter-intuitive  \n16:27\u00a0<mflorea>\u00a0seeing an error after you save the menu is not an improvement  \n16:28\u00a0<vmassol>\u00a0validation on save could help, at least a warning  \n16:29\u00a0<vmassol>\u00a0another option is to not require admin permissions for adding menu  \n16:29\u00a0<vmassol>\u00a0\\*menus  \n16:29\u00a0<vmassol>\u00a0(for the wiki scope)  \n16:29\u00a0<mflorea>\u00a0you mean using wiki level as default and then telling the user \"you are not allowed\". The user will say \"why did you put this value if it doesn't work for me\"  \n16:29\u00a0<vmassol>\u00a0since we're saying it's supposed to be done by users  \n16:30\u00a0<mflorea>\u00a0a menu is visible by anyone, I don't think it's a good idea to let anyone with edit rights create a wiki-level menu  \n16:30\u00a0<vmassol>\u00a0then we're implicitly sayinf that it's an admin feature :)  \n16:30\u00a0<mflorea>\u00a0a wiki-level menu is visible ...  \n16:31\u00a0<mflorea>\u00a0I meant wiki-level menu  \n16:31\u00a0<vmassol>\u00a0so first it shouldn't be visible by users who are not users in the app bar  \n16:31\u00a0<vmassol>\u00a0\\*not admins  \n16:31\u00a0<mflorea>\u00a0no  \n16:32\u00a0<mflorea>\u00a0the menus that a user creates with the menu app can be used in a panel, other anywhere else, using the menu macro, it's not an admin feature  \n16:32\u00a0<mflorea>\u00a0s/other/or  \n16:32\u00a0<vmassol>\u00a0ok so you're saying there are 2 parts  \n16:33\u00a0<vmassol>\u00a0- part 1: be able to create menu but they're not activated. Target: simple Users can create them  \n16:33\u00a0<vmassol>\u00a0- part 2: activate (ie reuse the created menus) to have them displayed (horizontal menu, panels, etc)  \n16:33\u00a0<vmassol>\u00a0and part 2 is for admins  \n16:34\u00a0<vmassol>\u00a0right now the menu app seems to mix the 2 parts in one, causing the problem  \n16:34\u00a0<mflorea>\u00a0not quite, we have user-level UIX, so why not let simple users have their own panels/menus  \n16:34\u00a0<vmassol>\u00a0this is NOT the main use case  \n16:34\u00a0<vmassol>\u00a0again I've never seen anyone write a menu for himself  \n16:34\u00a0<mflorea>\u00a0yes, but why preventing it?  \n16:35\u00a0<vmassol>\u00a0the main use case is to write menus for everyone  \n16:35\u00a0<vmassol>\u00a0so we need to have the defalut match the main use case  \n16:35\u00a0<vmassol>\u00a0it's just irrational to target an almost non existent use case by default  \n16:35\u00a0<vmassol>\u00a0I'm not saying we shouldn't make it possible but it shouldn't be the default  \n16:35\u00a0<mflorea>\u00a0if it were non existent then we should have implemeted the user-level UIX  \n16:36\u00a0<mflorea>\u00a0s/should/wound't  \n16:36\u00a0<vmassol>\u00a0we did it just becuzase we could and because we thought that it's nice when you develop an extension to test it yourself before making it visible to ezveryone  \n16:36\u00a0<vmassol>\u00a0but this is for devs  \n16:36\u00a0<mflorea>\u00a0I find user-level UIX quite a nice feature  \n16:36\u00a0<vmassol>\u00a0but I've never seen anyone use it ;)  \n16:37\u00a0<vmassol>\u00a0(includng myself)  \n16:37\u00a0<vmassol>\u00a0it's so easy in xwiki to just edit and save and fix problem and repeat  \n16:37\u00a0<vmassol>\u00a0that people just do that and don't go through \"staging\"  \n16:38\u00a0<mflorea>\u00a0this is not staging for me, this is the ability to customize the wiki for myself, as a user, e.g. to have user-level color them, user level-UIX  \n16:38\u00a0<vmassol>\u00a0in any case it's not the main use case for sure  \n16:38\u00a0<mflorea>\u00a0I didn't say it's the main use case  \n16:38\u00a0<mflorea>\u00a0I just said I wouldn't prevent/hide it  \n16:38\u00a0<vmassol>\u00a0ok so you agree that we're not addressing the main use case by default  \n16:39\u00a0<vmassol>\u00a0cool  \n16:39\u00a0<vmassol>\u00a0:)  \n16:39\u00a0<vmassol>\u00a0the problem with xwiki is that by default we shouldn't show all its power  \n16:40\u00a0<vmassol>\u00a0for example the scheduler app is only visible to admins but you could argue that for some cases you would want your users to be able to view the jobs listing  \n16:40\u00a0<vmassol>\u00a0we have to take some decision to make xwiki simple to use  \n16:40\u00a0<vmassol>\u00a0and if someone want to customize their wiki to allow anyone to view the schexuler app in the app bar they still can  \n16:41\u00a0<gdelhumeau>\u00a0mflorea: if the user has the ADMIN right, then select the \"wiki\" scope by default. Otherwise, let it as it is. Isn't a progress?  \n16:42\u00a0<Enygma`>\u00a0has joined #xwiki  \n16:42\u00a0<mflorea>\u00a0gdelhumeau: sure, but it won't fix vmassol's issue: in his case the user didn't had admin right  \n16:42\u00a0<mflorea>\u00a0afaiu  \n16:42\u00a0<mflorea>\u00a0maybe he was an admin  \n16:45\u00a0<mflorea>\u00a0vmassol: was Olivier an admin user?  \n16:47\u00a0<tmortagne>\u00a0gdelhumeau: that's the logic we have for APPWM AFAIK  \n16:51\u00a0<mflorea>\u00a0tmortagne: thanks for the tip, I cherry-picked the changes for the Java 7  \n16:52\u00a0<vmassol>\u00a0mflorea:  \n16:52\u00a0<vmassol>\u00a0back  \n16:52\u00a0<vmassol>\u00a0I've talked to olivier to suggest gdelhumeau's idea  \n16:52\u00a0<vmassol>\u00a0so first he was an admin so it would have worked for him  \n16:52\u00a0<vmassol>\u00a0so I think it's already an improvmeent  \n16:52\u00a0<vmassol>\u00a0what we could also do  \n16:54\u00a0<vmassol>\u00a0is in the view sheet for the menu i.e what you see after you save the menu, have a little warning that \"Only the user Olivier Seres will view this menu. To let other log in as an admin user or ask an admin, edit the menu and change the scope to \"Wiki\"  \n16:54\u00a0<vmassol>\u00a0as an {{info}}  \n16:55\u00a0<vmassol>\u00a0but maybe it's not easy because the same sheet is used when displaying the menu in a page or in a panel ?  \n16:55\u00a0<vmassol>\u00a0anyway as a first step I think Guillaume's idea is good and simple  \n17:19\u00a0<mflorea>\u00a0vmassol: have you tried a recent snapshot of XWiki? We had the discussion about the order in the tree panel.  \n17:19\u00a0<mflorea>\u00a0after my changes  \n17:25\u00a0<mflorea>\u00a0I checked the XWiki.WebHome page and its title is $services.localization.render('xe.xwiki.space') which is translated as \"XWiki\". I checked some of the more exotic languages that we support, like Chinese, and \"XWiki\" is not translated. I'm not even sure it makes sense to translated it, since it's a proper noun  \n18:02\u00a0<vmassol>\u00a0mflorea: (sorry was in meeting) not tried yet, I'll do this tomorrow  \n18:03\u00a0<vmassol>\u00a0(as I have to travel back home soon, I'm in paris)  \n18:03\u00a0<mflorea>\u00a0ok, thanks  \n18:03\u00a0<vmassol>\u00a0(ping me if I forget ;))  \n18:04\u00a0<mflorea>\u00a0sure :)  \n18:05\u00a0<vmassol>\u00a0gdelhumeau: I'm curious: why application-xwikilimits instead of application-limits  \n18:05\u00a0<vmassol>\u00a0(since extensions are all about xwiki)  \n18:05\u00a0<vmassol>\u00a0(and we generally don't state xwiki)  \n18:05\u00a0<gdelhumeau>\u00a0because the limits concern... the whole XWiki instance  \n18:06\u00a0<vmassol>\u00a0not sure I understand the point :)  \n18:07\u00a0<vmassol>\u00a0but I don't want to give you more work so if you confident it's ok then I'm good  \n18:08\u00a0<vmassol>\u00a0application-creation-limits could have been an option (since it's about limits on creations: creation of users, creation of wikis, etc), application-limits would be even more generic. xwiki-restrictions is another option.  \n18:08\u00a0<vmassol>\u00a0or  \n18:09\u00a0<vmassol>\u00a0application-restrictions I mean  \n18:09\u00a0<vmassol>\u00a0or application-thresholds  \n18:09\u00a0<vmassol>\u00a0anyway  \n18:09\u00a0<vmassol>\u00a0:)  \n18:09\u00a0<vmassol>\u00a0not a big deal  \n18:09\u00a0<vmassol>\u00a0was more curious than anything  \n18:11\u00a0<vmassol>\u00a0it's already good that it's contrib!  \n18:13\u00a0<gdelhumeau>\u00a0I've taken the name from an other repository, as you said  \n18:13\u00a0<gdelhumeau>\u00a0I've nothing against renaming it application-restrictions or application-limits  \n18:17\u00a0<vmassol>\u00a0has quit  \n18:27\u00a0<mflorea>\u00a0has quit  \n18:45\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n18:54\u00a0<ClemensR>\u00a0[ANN] starting Workflow Publication Application - Release 1.7  \n18:57\u00a0<tmortagne>\u00a0has quit  \n19:06\u00a0<evalica>\u00a0has quit  \n19:12\u00a0<Enygma`>\u00a0has quit  \n19:31\u00a0<ClemensR>\u00a0Release done. I will send mail to users-list tomorrow. Same for bugging Jira-admins to create a new version ;)  \n19:33\u00a0<edvorg>\u00a0has quit  \n19:36\u00a0<xwikiorg\\_guest\\_1>\u00a0has joined #xwiki  \n19:37\u00a0<xwikiorg\\_guest\\_1>\u00a0Hello everyone, I have a quick question: Is it possible to prevent a document save from within a DocumentCreatingEvent() ?  \n19:44\u00a0<ClemensR>\u00a0Event listnener are not designed for that. Exceptions from event listeners are caught and ignored. Otherwise malfunctioning plugins could make the wiki unuseable  \n19:45\u00a0<ClemensR>\u00a0if you want to prevent document creation in some locations, a better place is to fiddle with the permissions, usually  \n19:46\u00a0<ClemensR>\u00a0ah, wait  \n19:47\u00a0<ClemensR>\u00a0the \"DocumentCreatingEvent\" is actually cancelabel, so you can send it a \"event.cancel(\"reason text\") - that should prevent the creation of the document  \n19:48\u00a0<ClemensR>\u00a0users will get a \"server error\" page and anything they have typed in will be lost, however  \n19:48\u00a0<ClemensR>\u00a0anyway, gotta go, see y'all tomorrow!  \n19:49\u00a0<ClemensR>\u00a0has quit  \n20:17\u00a0<Slashman>\u00a0has quit  \n21:56\u00a0<xwikiorg\\_guest\\_1>\u00a0has quit  \n22:03\u00a0<gdelhumeau>\u00a0has quit\n"}