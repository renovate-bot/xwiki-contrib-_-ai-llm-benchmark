{"id": "dev:IRC.xwikiArchive20121228", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121228", "title": "IRC Archive for channel #xwiki on 28 December 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has joined #xwiki  \n00:06\u00a0<vmassol>\u00a0has quit  \n01:02\u00a0<vmassol>\u00a0has joined #xwiki  \n01:07\u00a0<vmassol>\u00a0has quit  \n01:11\u00a0<rrodriguez>\u00a0has joined #xwiki  \n01:18\u00a0<rrodriguez>\u00a0has quit  \n02:03\u00a0<vmassol>\u00a0has joined #xwiki  \n02:07\u00a0<vmassol>\u00a0has quit  \n03:23\u00a0<vmassol>\u00a0has joined #xwiki  \n03:27\u00a0<vmassol>\u00a0has quit  \n04:04\u00a0<tekzilla>\u00a0has quit  \n04:07\u00a0<tekzilla>\u00a0has joined #xwiki  \n04:23\u00a0<vmassol>\u00a0has joined #xwiki  \n04:28\u00a0<vmassol>\u00a0has quit  \n05:24\u00a0<vmassol>\u00a0has joined #xwiki  \n05:29\u00a0<vmassol>\u00a0has quit  \n06:21\u00a0<Denis>\u00a0has quit  \n06:21\u00a0<Denis1>\u00a0has joined #xwiki  \n06:25\u00a0<vmassol>\u00a0has joined #xwiki  \n06:29\u00a0<vmassol>\u00a0has quit  \n07:25\u00a0<vmassol>\u00a0has joined #xwiki  \n07:30\u00a0<vmassol>\u00a0has quit  \n08:24\u00a0<mflorea>\u00a0has joined #xwiki  \n08:24\u00a0<mflorea>\u00a0has quit  \n08:26\u00a0<vmassol>\u00a0has joined #xwiki  \n08:30\u00a0<vmassol>\u00a0has quit  \n08:38\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:26\u00a0<vmassol>\u00a0has joined #xwiki  \n09:37\u00a0<vmassol>\u00a0has quit  \n09:43\u00a0<vmassol>\u00a0has joined #xwiki  \n10:07\u00a0<mrvanes>\u00a0has joined #xwiki  \n10:09\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n10:09\u00a0<GuillaumeF>\u00a0has quit  \n10:10\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n10:16\u00a0<tdelafosse>\u00a0has joined #xwiki  \n10:55\u00a0<Slashman>\u00a0has joined #xwiki  \n11:03\u00a0<Denis1>\u00a0is now known as <Denis>  \n14:33\u00a0<mrvanes>\u00a0has left #xwiki  \n14:48\u00a0<GuillaumeF>\u00a0Hello there! Is there a way to keep a number of versions, for every doc, under a fixed value, for a whole space?  \n14:49\u00a0<GuillaumeF>\u00a0In a space, I have docs with hundreds of versions. I want to limit this, and delete all old version, and only keep the 200 last versions. Any clue?  \n14:55\u00a0<vmassol>\u00a0GuillaumeF: I don't think this exists  \n14:56\u00a0<vmassol>\u00a0what you can do is have some sheduler job to remove revisions  \n14:57\u00a0<vmassol>\u00a0but having a lot of revsiions is not supposed to cause any issue  \n14:57\u00a0<vmassol>\u00a0if it does you should raise it  \n15:11\u00a0<GuillaumeF>\u00a0Thx for the answer. It was to prevent the revisions to fill the DB :-) We have two hundreds page in the same space with nearly a thousands of versions for every page, so..  \n15:12\u00a0<GuillaumeF>\u00a0I firstly though about a scheduler job, but I don't really know what code to use... any link to help me?  \n15:12\u00a0<vmassol>\u00a0is there any problem with having millions of revisions in the DB?  \n15:13\u00a0<vmassol>\u00a0re scheduler, you just need to write a groovy script to find documents having lots of revisions and then remove them  \n15:14\u00a0<vmassol>\u00a0GuillaumeF: to find the docs, you can use for example: http://extensions.xwiki.org/xwiki/bin/view/Extension/Display+documents+having+several+versions  \n15:14\u00a0<vmassol>\u00a0but IMO you're starting something complex  \n15:14\u00a0<vmassol>\u00a0for ex if you remove revs while someone is saving the page you're going to have some trouble  \n15:15\u00a0<vmassol>\u00a0you risk breaking the whole history  \n15:16\u00a0<GuillaumeF>\u00a0I'll put the scheduler during the night, I'm sure nobody will modify it in the meantime. Thanks I'll take a look  \n15:17\u00a0<vmassol>\u00a0the best is to make the wiki offline during that time  \n15:17\u00a0<vmassol>\u00a0but again  \n15:17\u00a0<vmassol>\u00a0you shoudld NOT need this  \n15:17\u00a0<vmassol>\u00a0if you do then we have a bug  \n15:17\u00a0<vmassol>\u00a0so instead it would be great if you could explain your issue  \n15:17\u00a0<vmassol>\u00a0(GuillaumeF)  \n15:22\u00a0<GuillaumeF>\u00a0I understand, but my issue is that I have an application which adds a new version to 200 pages in a space, every hour. I guess that in 1 or 2 years, it'll make a lot of versions  \n15:22\u00a0<GuillaumeF>\u00a0I just wanted to be sure it wouldn't grow too much  \n15:22\u00a0<vmassol>\u00a0ok so what you want is pseudo revisions  \n15:23\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-500  \n15:26\u00a0<GuillaumeF>\u00a0If I understand well, it's an idea of a feature submitted 6 years ago?  \n15:26\u00a0<vmassol>\u00a0yes, which proves the need is not that huge ;)  \n15:26\u00a0<GuillaumeF>\u00a0Sure  \n15:27\u00a0<vmassol>\u00a0\"I guess that in 1 or 2 years, it'll make a lot of versions\"  \n15:27\u00a0<vmassol>\u00a0what is the problem with having lots of entries in the DB?  \n15:27\u00a0<vmassol>\u00a0DBs are made for this  \n15:27\u00a0<GuillaumeF>\u00a0It's only because these versions are useless for this application especially  \n15:28\u00a0<GuillaumeF>\u00a0We could also choose to disable versionning for this space if it was possible  \n15:28\u00a0<vmassol>\u00a0you can disable versioning but only globally  \n15:29\u00a0<vmassol>\u00a0(AFAIK)  \n15:29\u00a0<GuillaumeF>\u00a0That's why I thought, yes  \n15:29\u00a0<GuillaumeF>\u00a0what\\*  \n15:29\u00a0<vmassol>\u00a0we've discussed a few times the need to disable versioning for some pages but so far we've resisted the temptation  \n15:30\u00a0<vmassol>\u00a0anyway if you want to go further I'd suggest you explain your use case on the users list. If the use case is valid, it would be a good starting point to discuss this again  \n15:35\u00a0<GuillaumeF>\u00a0since it's very specific to some custom application, I don't think this could be so useful to the community  \n18:30\u00a0<tdelafosse>\u00a0has quit  \n18:50\u00a0<GuillaumeF>\u00a0has quit  \n19:03\u00a0<xwikibot>\u00a0has joined #xwiki  \n19:24\u00a0<Slashman>\u00a0has quit  \n19:25\u00a0<sburjan`>\u00a0vmassol: ping  \n19:34\u00a0<sburjan`>\u00a0or sdumitriu ? :)  \n19:34\u00a0<sdumitriu>\u00a0sburjan`: What?  \n19:34\u00a0<sdumitriu>\u00a0Pong  \n19:35\u00a0<sburjan`>\u00a0I am trying to build a application composed only of XAR XML files. I wanted to build teh XAr. But the build fails  \n19:35\u00a0<sburjan`>\u00a0let me give you the POM and the error  \n19:37\u00a0<sburjan`>\u00a0sdumitriu; http://pastebin.com/7upa9dHS  \n19:40\u00a0<sdumitriu>\u00a0sburjan`: You need to declare the XAR plugin somewhere in the POM  \n19:40\u00a0<sdumitriu>\u00a0It's done in the platform POM, for example  \n19:40\u00a0<sdumitriu>\u00a0So you can either inherit the platform pom, or copy the declaration from there  \n19:41\u00a0<sdumitriu>\u00a0Got it?  \n19:42\u00a0<sburjan`>\u00a0i can't see it in the platform pom  \n19:42\u00a0<sburjan`>\u00a0looking at https://github.com/xwiki/xwiki-platform/blob/master/pom.xml  \n19:49\u00a0<sburjan`>\u00a0sdumitriu: I also don't understand why this works and my projects doesn't  \n19:50\u00a0<sburjan`>\u00a0and this doesn;t have any plugins there  \n19:55\u00a0<sburjan`>\u00a0sdumitriu: I have the same issue even after declaring the plugin which has a hardcoded version  \n19:55\u00a0<sdumitriu>\u00a0How did you do that?  \n19:56\u00a0<sburjan`>\u00a0I added  \n19:56\u00a0<sburjan`>\u00a0<pluginManagement>  \n19:56\u00a0<sburjan`>\u00a0<plugins>  \n19:56\u00a0<sburjan`>\u00a0<plugin>  \n19:56\u00a0<sburjan`>\u00a0<version>4.3</version>  \n19:56\u00a0<sburjan`>\u00a0</plugin>  \n19:56\u00a0<sburjan`>\u00a0</pluginManagement>  \n19:57\u00a0<sburjan`>\u00a0right under <build>  \n20:03\u00a0<sdumitriu>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<!-- Needed to add support for the \"xar\" packaging -->  \n20:03\u00a0<sdumitriu>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<extension>  \n20:03\u00a0<sdumitriu>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<groupId>org.xwiki.commons</groupId>  \n20:03\u00a0<sdumitriu>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0</extension>  \n20:03\u00a0<sdumitriu>\u00a0\u00a0\u00a0\u00a0\u00a0</extensions>  \n20:03\u00a0<sdumitriu>\u00a0</build>  \n20:04\u00a0<sburjan`>\u00a0yes, I have  \n20:04\u00a0<sburjan`>\u00a0let me pastebn the pom again  \n20:06\u00a0<sburjan`>\u00a0sdumitriu: http://pastebin.com/N03KBa30 it is related to the version of the parent (org.xwiki.commons). Jira macro fails to is i use 4.3 or 4.2. But it works on 3.3-milestone-1  \n20:06\u00a0<sburjan`>\u00a0so something broke in time  \n20:07\u00a0<sdumitriu>\u00a0And the error?  \n20:07\u00a0<sdumitriu>\u00a0Is it the same as before?  \n20:07\u00a0<sburjan`>\u00a0yes  \n20:24\u00a0<sburjan`>\u00a0sdumitriu: I'm gonna give up, gonna commit like this  \n21:18\u00a0<vmassol>\u00a0has quit  \n22:15\u00a0<vmassol>\u00a0has joined #xwiki  \n22:20\u00a0<vmassol>\u00a0has quit  \n23:16\u00a0<vmassol>\u00a0has joined #xwiki  \n23:20\u00a0<vmassol>\u00a0has quit  \n23:38\u00a0<rrodriguez>\u00a0has joined #xwiki\n"}