{"id": "dev:IRC.xwikiArchive20100529", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100529", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nlucaa left at 00:21 (Ping timeout: 240 seconds  \nanna\\_\\_ left at 00:23 (Quit: anna\\_\\_  \nbblfish joined #xwiki at 00:25  \narkub left at 01:11 (Quit: Leaving  \nbblfish left at 02:06 (Quit: Leaving.  \nbblfish joined #xwiki at 02:18  \nabusenius left at 02:29 (Ping timeout: 240 seconds  \nnpm left at 07:20 (Quit: Leaving.  \nnpm joined #xwiki at 08:30  \nvmassol joined #xwiki at 09:10  \nlucaa joined #xwiki at 09:21  \nlucaa left at 09:30 (Quit: Leaving.  \nlucaa joined #xwiki at 09:30  \nlucaa left at 09:35 (Ping timeout: 258 seconds  \nlucaa joined #xwiki at 09:42  \nlucaa left at 09:47 (Ping timeout: 240 seconds  \nsburjan left at 10:02 (Read error: Connection reset by peer  \nsburjan joined #xwiki at 10:02  \nlucaa joined #xwiki at 10:06  \nlucaa left at 10:21 (Ping timeout: 260 seconds  \nlucaa joined #xwiki at 10:23  \nfmancinelli joined #xwiki at 10:23  \nfmancinelli left at 10:28 (Ping timeout: 265 seconds  \nbblfish left at 10:52 (Ping timeout: 240 seconds  \nlucaa left at 11:07 (Ping timeout: 276 seconds  \nlucaa joined #xwiki at 11:15  \nlucaa left at 11:17 (Client Quit  \nlucaa joined #xwiki at 11:17  \nanna\\_\\_ joined #xwiki at 11:26  \nanamarias joined #xwiki at 11:37  \nbblfish joined #xwiki at 11:42  \nlucaa left at 11:54 (Ping timeout: 245 seconds  \nbblfish1 joined #xwiki at 12:07  \nbblfish left at 12:09 (Ping timeout: 245 seconds  \nlucaa joined #xwiki at 12:14  \nabusenius joined #xwiki at 12:16  \nvmassol left at 12:31 (Quit: Leaving.  \nbblfish1 left at 12:41 (Quit: Leaving.  \nbblfish joined #xwiki at 12:44  \nlucaa left at 12:47 (Ping timeout: 276 seconds  \nvmassol joined #xwiki at 12:53  \nvmassol left at 12:53 (Client Quit  \nlucaa joined #xwiki at 13:02  \nbblfish left at 13:12 (Quit: Leaving.  \nanamarias left at 13:15 (Quit: anamarias  \nflorinciu joined #xwiki at 13:19  \nanamarias joined #xwiki at 13:27  \nlucaa left at 13:41 (Ping timeout: 260 seconds  \nlucaa joined #xwiki at 13:41  \nlucaa1 joined #xwiki at 13:45  \nlucaa left at 13:47 (Ping timeout: 276 seconds  \ntmortagne joined #xwiki at 13:52  \nflorinciu left at 14:08 (Read error: Connection reset by peer  \nvmassol joined #xwiki at 14:24  \nlucaa1 left at 14:35 (Ping timeout: 276 seconds  \njvdrean joined #xwiki at 15:03  \njvdrean left #xwiki at 15:03  \nvmassol left at 15:07 (Quit: Leaving.  \nflorinciu joined #xwiki at 15:16  \nbblfish joined #xwiki at 16:04  \nabusenius - (16:21): hi @all  \nabusenius - (16:21): what does \"Class Fan-Out Complexity is 21 (max allowed is 20).\" mean? class too big?  \nabusenius - (16:22): I just want to add a 10-line method, is there a way to pass checkstyle without splitting the class?  \nCalebJamesDeLisl - (16:25): Too many imports.  \nCalebJamesDeLisl - (16:26): It means you should split the class up because allowing lots of imports leads to gigantic unmaintainable classes.  \nCalebJamesDeLisl - (16:27): I don't know a way to make it pass without splitting up the class.  \nabusenius - (16:38): hm, thats in AbstractScriptMacro.java... I'll try to refactor it a bit  \nbblfish left at 16:41 (Read error: Connection reset by peer  \nbblfish joined #xwiki at 16:42  \nCalebJamesDeLisl - (16:46): Keep in mind that {{velocity}} is not a jsr223 script so I don't think it extends AbstractScript.  \nabusenius - (16:49): it does, there is also AbstractJSR223ScriptMacro that extends AbstractScript  \nabusenius - (16:49): ok, managed to remove 2 imports ^^  \nsdumitriu left at 17:38 (Ping timeout: 265 seconds  \nflorinciu left at 17:49 (Quit: Leaving.  \nCalebJamesDeLisl - (18:52): Might want to check with Vincent about removing URLClassLoader from AbstractScriptMacro.  \nCalebJamesDeLisl - (18:53): It's used by the IRC bot.  \nabusenius - (19:03): hm, I removed it from a private methd actually  \nabusenius - (19:03): s/methd/method/  \nCalebJamesDeLisl - (19:08): I'm trying to figure out what you did, it looks to me like you could have changed parseScriptResult to walk the tree after parsing and remove script elements.  \nanamarias left at 19:11 (Quit: anamarias  \nabusenius left at 19:15 (Ping timeout: 240 seconds  \nlucaa joined #xwiki at 19:20  \nabusenius joined #xwiki at 19:21  \nabusenius - (19:21): hm, selenium test somehow overloaded my poor computer...  \nsburjan - (19:22): are youstarted creating selenium tests for xwiki ?  \nabusenius - (19:22): re parseScriptResult, this would need to be done everywhere, otherwise I would miss scripts inside {{html}} etc.  \nabusenius - (19:23): sburjan, me? well, yes, several months ago :)  \nsburjan - (19:23): that's what I'll be doing too, very soon (I guess)  \nabusenius - (19:24): selenium fun :) have never thought you can actually do such things before I saw it  \nsburjan - (19:24): well, I'll have to learn it first  \nsburjan - (19:25): so I can crete more custom tests  \nsburjan - (19:25): i'd like to create an entire suite of tests, and after or before a release, I'll run them all  \nCalebJamesDeLisl - (19:26): Selenium1 tests or UI-tests?  \nabusenius - (19:26): its not difficult, but running them takes time  \ntmortagne left at 19:27 (Quit: Leaving.  \nsburjan - (19:28): CalebJamesDeLisl: I guess both ...  \nsburjan - (19:29): althrough I don't think I will test core  \nsburjan - (19:29): don't know yet  \nCalebJamesDeLisl - (19:29): Ok. I've been making lots of changes in UI-Tests -Re overloaded computer.  \nsburjan - (19:30): are you a XWiki SAS employee ?  \nCalebJamesDeLisl - (19:30): Umm. I guess that's what they call me ;)  \nsburjan - (19:30): so we're gonna be colleagues :)  \nsburjan - (19:30): i haven't started working yet  \nCalebJamesDeLisl - (19:31): Cool. I've been working on trying to make tests easier to write.  \nsburjan - (19:31): I can't see your name on the xwiki.com team section  \nsburjan - (19:31): are you listed there ?  \nCalebJamesDeLisl - (19:31): I don't know. Guess not.  \nCalebJamesDeLisl - (19:33): abusenius: The problem with hiding a script macro inside of an html macro looks like a flaw with the noscript macro http://code.xwiki.org/xwiki/bin/view/Macros/NoScriptMacro  \nabusenius - (19:34): CalebJamesDeLisl, overloading is currently with selenium1  \nCalebJamesDeLisl - (19:34): What happens, eat up all the ram?  \nabusenius - (19:34): probably, everything just froze  \nCalebJamesDeLisl - (19:35): How are you running it?  \nabusenius - (19:35): mvn install  \nCalebJamesDeLisl - (19:35): Which opperating system/browser?  \nabusenius - (19:35): linux, FF 3.6  \nCalebJamesDeLisl - (19:36): Hmm, same as me. That's strange.  \nabusenius - (19:36): re noscript macro, wdym with flaw?  \nabusenius - (19:36): ok, this time selenium stopped answering in the middle of the test  \nabusenius - (19:37): better than hanging :)  \nCalebJamesDeLisl - (19:37): ps -x | grep java  \nCalebJamesDeLisl - (19:37): check for extra copies running.  \nCalebJamesDeLisl - (19:38): You pointed out that one can hide a script in a html macro (because it's raw content). Noscript macro does what I was suggesting (walks the tree).  \nabusenius - (19:38): hm, indeed, one java process was around  \nabusenius - (19:39): ah, I see, it doesn't work then I guess  \nabusenius - (19:39): but it can be closed too, so it is not that useful anyway :)  \nCalebJamesDeLisl - (19:39): :)  \nCalebJamesDeLisl - (19:40): Concatenating privileged code with unprivileged \"content\" and executing is evil. That should be written on every programmer's monitor.  \nabusenius - (19:40): :9  \nabusenius - (19:40): :)  \nabusenius - (19:41): damn, I need another computer to run tests, its unusable when this firefox windows are popping up all the time -\\_-  \nCalebJamesDeLisl - (19:42): always on top.  \nCalebJamesDeLisl - (19:43): Whatever window you want to work in, just right click and set always on top.  \nabusenius - (19:44): it steals focus for some reason, maybe I need to check settings  \nabusenius - (19:44): oom this time after 2.5G of RAM  \nCalebJamesDeLisl - (19:45): meaning Xmx=2500?  \nCalebJamesDeLisl - (19:46): You know about -Dpattern=SomeTest  \nabusenius - (19:48): not sure what Xmx setting is currently, its the RES from top of that java process  \nCalebJamesDeLisl - (19:48): Leak.  \nabusenius - (19:48): yes, will have to do this I guess  \nCalebJamesDeLisl - (19:49): It's the unmodified trunk version?  \nabusenius - (19:51): no, my nested scripts change  \nabusenius - (19:52): running tests one by one seems to work fine so far  \nCalebJamesDeLisl - (19:52): You're testing this in selenium1.0?  \nabusenius - (19:55): yes  \nabusenius - (19:55): well, to start with  \nabusenius - (19:55): I want to see if existing tests break  \nCalebJamesDeLisl - (19:56): Ahh, so you're just running the existing tests.  \nabusenius - (19:56): yes  \nCalebJamesDeLisl - (19:57): I'm still trying to break type safety because it would be so nice to be able to call getCurrentPage().somePageObjectSpecificMethod();  \nabusenius - (19:59): why does it require to break type safety?  \nCalebJamesDeLisl - (20:00): You don't know what the current page will be.  \nabusenius - (20:00): getCurrentPage() returns base class and you want call a method of a subclass?  \nCalebJamesDeLisl - (20:01): Yup.  \nabusenius - (20:01): but you don't even know whether this subclass has this method?  \nCalebJamesDeLisl - (20:01): Well you do but the compiler doesn't.  \nCalebJamesDeLisl - (20:02): It seems like a compelling argument to have tests written in groovy because type safety isn't as important in tests.  \nabusenius - (20:03): I havent followed the discussion closely, why cant you use templates?  \nabusenius - (20:04): so this class is parametrized with T=Page, and getCurrentPage() returns T  \nabusenius - (20:05): but you'll need to parametrize all the time  \nCalebJamesDeLisl - (20:06): It sounds so perfect but you can't persist T because types are erased on compile.  \nCalebJamesDeLisl - (20:06): I spent way too much time trying to make it work.  \nabusenius - (20:07): ah, right, this complicates things  \nCalebJamesDeLisl - (20:08): I tried storing the class and calling Class.cast but java won't compile a method without knowing what it returns and if you return a generic it only allows calling methods on the upper bound class.  \nabusenius - (20:12): and I guess you cannot even cast to T because its erazed  \nabusenius - (20:12): well, use C++, the templates there are instantiated :)  \nabusenius - (20:13): or, D, there you can specify what methods the template should support :)  \nabusenius - (20:15): focus stealing prevention rocks :)  \nCalebJamesDeLisl - (20:15): I don't know much C++ and no D but I have heard a lot of good things about E.  \nCalebJamesDeLisl - (20:15): How did you prevent focus stealing?  \nabusenius - (20:16): via \"special window settings\" in kde  \nabusenius - (20:16): you can say that firefox shouldnt steal you focus  \nCalebJamesDeLisl - (20:17): Neat.  \nabusenius - (20:17): thats why I like kde, you have a \\*lot\\* of configuration options  \nabusenius - (20:18): and dont have to read manpages to find them :)  \nbblfish left at 20:35 (Quit: Leaving.  \nfmancinelli joined #xwiki at 20:51  \nfmancinelli left #xwiki at 20:52  \nlucaa left at 21:11 (Ping timeout: 260 seconds  \nlucaa joined #xwiki at 21:20  \nvmassol joined #xwiki at 21:22  \nvmassol left at 21:31 (Quit: Leaving.  \nvmassol joined #xwiki at 21:32  \nlucaa left at 21:51 (Quit: Leaving.  \nlucaa joined #xwiki at 21:51  \nnpm left at 22:10 (Ping timeout: 276 seconds  \nvmassol left at 22:42 (Quit: Leaving.  \nnpm joined #xwiki at 22:45  \nlucaa left at 22:50 (Quit: Leaving.  \nlucaa joined #xwiki at 22:51  \nlucaa left at 22:52 (Client Quit  \nlucaa joined #xwiki at 22:52  \nanna\\_\\_ left at 23:46 (Quit: anna\\_\\_  \n\n"}