{"id": "dev:IRC.xwikiArchive20140701", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140701", "title": "IRC Archive for channel #xwiki on 01 July 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has quit  \n01:18\u00a0<nickless>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n06:11\u00a0<sburjan>\u00a0has quit  \n06:11\u00a0<lynxt>\u00a0has quit  \n06:11\u00a0<sdumitriu>\u00a0has quit  \n06:22\u00a0<sburjan>\u00a0has joined #xwiki  \n07:13\u00a0<msmeria>\u00a0has joined #xwiki  \n08:10\u00a0<vmassol>\u00a0has joined #xwiki  \n08:30\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n08:36\u00a0<evalica>\u00a0has joined #xwiki  \n08:37\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:00\u00a0<cjd>\u00a0has joined #xwiki  \n09:16\u00a0<mflorea>\u00a0has joined #xwiki  \n09:27\u00a0<lucaa>\u00a0has joined #xwiki  \n09:35\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:40\u00a0<lucaa>\u00a0has quit  \n09:46\u00a0<Lyes>\u00a0has joined #xwiki  \n09:56\u00a0<lucaa>\u00a0has joined #xwiki  \n09:59\u00a0<vmassol>\u00a0good morning  \n09:59\u00a0<vmassol>\u00a0I'm trying to cherry-pick this old commit onto the 5.4.x branch: https://github.com/xwiki/xwiki-enterprise/commit/b3da56779c19f81c03d445bca89a313c1abf668e  \n09:59\u00a0<vmassol>\u00a0but I get: \"fatal: bad object b3da56779c19f81c03d445bca89a313c1abf668e\"  \n09:59\u00a0<vmassol>\u00a0if some git guru can help that would be nice :)  \n09:59\u00a0<vmassol>\u00a0I googled a bit but couldn't find anything conclusive  \n10:01\u00a0<vmassol>\u00a0(and I did a got pull on master)  \n10:01\u00a0<cjd>\u00a0if you do a fresh clone, does it repeat itself?  \n10:01\u00a0<cjd>\u00a0something to try while waiting for sdumitriu1 to wake up  \n10:02\u00a0<vmassol>\u00a0no idea, I would prefer to avoid cloning again platform if I can avoid it ;)  \n10:02\u00a0<vmassol>\u00a0(especially since I have lots of stashes in my working \u00a0copy)  \n10:02\u00a0<vmassol>\u00a0can someone try it locally?  \n10:02\u00a0<vmassol>\u00a0git cherry-pick b3da56779c19f81c03d445bca89a313c1abf668e  \n10:02\u00a0<vmassol>\u00a0on branch:  \n10:03\u00a0<vmassol>\u00a0stable-5.4.x  \n10:06\u00a0<tmortagne>\u00a0vmassol: worked  \n10:06\u00a0<vmassol>\u00a0strange  \n10:06\u00a0<vmassol>\u00a0could you push it then? :)  \n10:06\u00a0<vmassol>\u00a0I'll handle the jira issue  \n10:06\u00a0<tmortagne>\u00a0(I did \u00a0git cherry-pick -x b3da56779c19f81c03d445bca89a313c1abf668e but I doubt that's the reason)  \n10:06\u00a0<tmortagne>\u00a0sure  \n10:07\u00a0<vmassol>\u00a0wait let me try  \n10:07\u00a0<tmortagne>\u00a0-x just add a reference to the original commit that's all  \n10:07\u00a0<vmassol>\u00a0same...  \n10:07\u00a0<vmassol>\u00a0ok go  \n10:07\u00a0<cjd>\u00a0you beat me to it.. /me pulling trunk  \n10:07\u00a0<tmortagne>\u00a0done  \n10:07\u00a0<vmassol>\u00a0thanks  \n10:11\u00a0<tmortagne>\u00a0vmassol: by the way \"Rule violated for bundle XWiki Platform - WYSIWYG Editor - Server Side: instructions covered ratio is 0.18, but expected minimum is 0.19\"  \n10:11\u00a0<vmassol>\u00a0arg :)  \n10:11\u00a0<vmassol>\u00a0checking thanks  \n10:12\u00a0<tmortagne>\u00a0ha and \"org.sonar.api.utils.SonarException: License for plugin devcockpit is expired\"  \n10:12\u00a0<tmortagne>\u00a0that's what makes sonar builds fail on jenkins  \n10:35\u00a0<vmassol>\u00a0tmortagne: shouldn't we see perf improvement on the graph of http://ci.xwiki.org/view/All/job/xwiki-enterprise-test-jmeter/lastBuild/performance/ ?  \n10:35\u00a0<vmassol>\u00a0it seems flat at best  \n10:36\u00a0<vmassol>\u00a0(possibly increasing a bit)  \n10:36\u00a0<tmortagne>\u00a0vmassol: if you are referring to macro transformation improvement I doubt it's noticeable in the kind of pages we have in XE  \n10:37\u00a0<vmassol>\u00a0I'm referring to all the work you've done recently  \n10:37\u00a0<vmassol>\u00a0not just macro tx  \n10:37\u00a0<vmassol>\u00a0I was expecting to see some improvements even if small  \n10:37\u00a0<vmassol>\u00a0said differently, how do we know how much we're improving?  \n10:38\u00a0<vmassol>\u00a0(with all your perrf-related improvements)  \n10:38\u00a0<vmassol>\u00a0\\*perf  \n10:39\u00a0<vmassol>\u00a0the point of this project/graph was to have a baseline to be able to compare to  \n10:40\u00a0<vmassol>\u00a0I'm not yet sure how to use that baseline  \n10:40\u00a0<vmassol>\u00a0is it recorded somewhere?  \n10:40\u00a0<tmortagne>\u00a0the most visible things I have done recently were on memory and on initialization  \n10:40\u00a0<vmassol>\u00a0shouldn't we take snaphosts regularly to compare?  \n10:40\u00a0<tmortagne>\u00a0so not very visible in that report  \n10:43\u00a0<tmortagne>\u00a0also worked on improving background tasks helpers to improve speed perception in our various tools but not very visible in this pure /view/ report  \n10:43\u00a0<tmortagne>\u00a0I'm concentrating fully on various thing called at each request right now  \n10:44\u00a0<tmortagne>\u00a0so I hope to really start improving that report  \n10:44\u00a0<vmassol>\u00a0ok good  \n10:44\u00a0<tmortagne>\u00a0\"shouldn't we take snaphosts regularly to compare?\" I don't understand, this is exactly what this report is  \n10:46\u00a0<tmortagne>\u00a0you have the last snapshot in the table but the graph is an average of all snapshots  \n10:46\u00a0<tmortagne>\u00a0(and you can access each snapshot)  \n10:46\u00a0<vmassol>\u00a0nothing is lost?  \n10:46\u00a0<vmassol>\u00a0we keep data forever?  \n10:47\u00a0<vmassol>\u00a0if I want to compare now with the status on, say, 1st of april 2014, can I do it?  \n10:47\u00a0<tmortagne>\u00a0right now the job is configured to keep 1000 builds  \n10:48\u00a0<tmortagne>\u00a0I doubt this job existed in 1st of April  \n10:49\u00a0<tmortagne>\u00a0it on the principal yes you can access any of the past 1000 report (and we could put more than 1000)  \n10:50\u00a0<vmassol>\u00a0just make sure we don't loose our initial base line data  \n10:50\u00a0<vmassol>\u00a0IMO it's interesting to compare at each release  \n10:50\u00a0<vmassol>\u00a0so one saved snapshot at all final releases would be good  \n10:50\u00a0<vmassol>\u00a05.4, 6.0, 6.1, etc  \n10:54\u00a0<tmortagne>\u00a01000 is a lot of snapshot already since it means 1000 days, it was usually not built much more than once a day and is now only built once a day unless to force a build  \n10:55\u00a0<tmortagne>\u00a0s/to/you/  \n10:56\u00a0<vmassol>\u00a0btw it's quite slow and i'm sure it's because we keep a lot of old builds  \n10:57\u00a0<vmassol>\u00a0at some point it may become really too slow  \n10:57\u00a0<tmortagne>\u00a0what is slow ?  \n10:58\u00a0<tmortagne>\u00a0accessing the snapshot itself is instant for me, the graph image on http://ci.xwiki.org/view/All/job/xwiki-enterprise-test-jmeter/lastBuild/performance/ at each request it seems so this part is slow yes  \n10:59\u00a0<tmortagne>\u00a0the images on http://ci.xwiki.org/view/All/job/xwiki-enterprise-test-jmeter/ seems to have some caching since they are quicker to display  \n11:01\u00a0<vmassol>\u00a0yes the image is slow to display  \n11:34\u00a0<lucaa>\u00a0has quit  \n11:48\u00a0<lucaa>\u00a0has joined #xwiki  \n12:07\u00a0<gdelhumeau>\u00a0has quit  \n13:17\u00a0<vmassol>\u00a0has quit  \n13:18\u00a0<Denis1>\u00a0has joined #xwiki  \n14:10\u00a0<sdumitriu1>\u00a0vmassol1: The git error is weird, looks like your git repo might be broken (bad disk?)  \n14:11\u00a0<sdumitriu1>\u00a0Although I would expect it to fail more often  \n14:11\u00a0<vmassol1>\u00a0hope not  \n14:11\u00a0<vmassol1>\u00a0:)  \n14:11\u00a0<vmassol1>\u00a0rest is working fine  \n14:11\u00a0<sdumitriu1>\u00a0Try \"git show b3da56779c19f81c03d445bca89a313c1abf668e\"  \n14:11\u00a0<vmassol1>\u00a0I tried that  \n14:11\u00a0<vmassol1>\u00a0it shows the same error  \n14:11\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n14:12\u00a0<cjd>\u00a0man git-fsck \u00a0?  \n14:12\u00a0<cjd>\u00a0that just randomly came to mind  \n14:14\u00a0<sdumitriu1>\u00a0vmassol: Weird, I get the same...  \n14:15\u00a0<sdumitriu1>\u00a0So it looks like it is a missing commit  \n14:15\u00a0<vmassol>\u00a0sdumitriu1: it worked for tmortagne  \n14:15\u00a0<tmortagne>\u00a0yep no problem for me  \n14:15\u00a0<sdumitriu1>\u00a0Wait, I was in the wrong repo  \n14:16\u00a0<tmortagne>\u00a0and vmassol copy pasted the link to the original commit so it exist on github  \n14:16\u00a0<sdumitriu1>\u00a0Yep, it's there in enterprise  \n14:16\u00a0<vmassol>\u00a0ahhhhhh  \n14:16\u00a0<vmassol>\u00a0stupid me  \n14:16\u00a0<vmassol>\u00a0I was in platform  \n14:16\u00a0<vmassol>\u00a0.....  \n14:17\u00a0<tmortagne>\u00a0:)  \n14:17\u00a0<tmortagne>\u00a0not very nice error reporting  \n14:21\u00a0<vmassol>\u00a0tmortagne: we still cannot reference an exisiting translation key inside a translation value?  \n14:22\u00a0<vmassol>\u00a0something like:  \n14:22\u00a0<vmassol>\u00a0[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \n14:22\u00a0<vmassol>\u00a0?  \n14:22\u00a0<tmortagne>\u00a0there is no new syntax no  \n14:22\u00a0<vmassol>\u00a0ok too bad  \n14:22\u00a0<vmassol>\u00a0that would have saved a lot of unnecessary translations  \n14:24\u00a0<tmortagne>\u00a0you could also use the same translation key in several places...  \n14:24\u00a0<vmassol>\u00a0I cannot here  \n14:24\u00a0<vmassol>\u00a0it's a livetable  \n14:24\u00a0<vmassol>\u00a0the prefix is fixed  \n14:25\u00a0<tmortagne>\u00a0you choose the prefix in the livetable configuration  \n14:25\u00a0<vmassol>\u00a0I have 5 columns, 4 are the same as another LT and one is specific to my use case  \n14:25\u00a0<vmassol>\u00a0I know how LT translations works tmortagne ;)  \n14:26\u00a0<tmortagne>\u00a0this is not really \"a lot of unnecessary translations\"  \n14:26\u00a0<vmassol>\u00a0sdumitriu, mflorea: do we have doc on how to use a computed field?  \n14:26\u00a0<vmassol>\u00a0tmortagne: it's 4 x number of laguages  \n14:27\u00a0<vmassol>\u00a0so it's a lot of \\*unnecessary\\* translations  \n14:27\u00a0<vmassol>\u00a0when we release my stuff there won't be transaltions available in all languages when it should have them, unless I spend substantial times doing lots of copy pastes  \n14:27\u00a0<mflorea>\u00a0vmassol: I don't think there is any besides the release notes  \n14:28\u00a0<vmassol>\u00a0:(  \n14:28\u00a0<mflorea>\u00a0did you find the release notes?  \n14:28\u00a0<vmassol>\u00a0I checked the RN and they don't say much  \n14:28\u00a0<mflorea>\u00a0ok  \n14:28\u00a0<cjd>\u00a0trandlations.properties --> translations.js \u00a0\u00a0\u00a0turing complete data representation ftw xD  \n14:28\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWikiEnterprise42M2#HComputedclassfields ?  \n14:28\u00a0<mflorea>\u00a0yes  \n14:28\u00a0<vmassol>\u00a0there's a script property  \n14:28\u00a0<vmassol>\u00a0should I put wiki syntax in there?  \n14:28\u00a0<vmassol>\u00a0ie {{velocity}}...  \n14:28\u00a0<vmassol>\u00a0?  \n14:29\u00a0<mflorea>\u00a0yes  \n14:29\u00a0<vmassol>\u00a0should I handle both view and edit?  \n14:29\u00a0<vmassol>\u00a0(modes)  \n14:29\u00a0<vmassol>\u00a0like the custom display  \n14:29\u00a0<vmassol>\u00a0?  \n14:29\u00a0<cjd>\u00a0foo={{velocity}}$msg.get('foo'){{/velocity}}  \n14:29\u00a0<mflorea>\u00a0yep  \n14:29\u00a0<vmassol>\u00a0what's the diff with custol display?  \n14:29\u00a0<vmassol>\u00a0\\*custom  \n14:29\u00a0<mflorea>\u00a0checkout what AWM generates when you add the Content or Title field to an app  \n14:30\u00a0<vmassol>\u00a0it would be nice to doc this....  \n14:30\u00a0<vmassol>\u00a0we let this through in our doc process and it's not nice :)  \n14:31\u00a0<tmortagne>\u00a0vmassol: http://l10n.xwiki.org/xwiki/bin/view/L10N/Refactoring#HCopyakey  \n14:31\u00a0<tmortagne>\u00a0it should not be that much copy/pasting  \n14:31\u00a0<vmassol>\u00a0mflorea: ok I've checked AWM  \n14:31\u00a0<vmassol>\u00a0it doesn't use the script field!  \n14:31\u00a0<vmassol>\u00a0it uses only custom display  \n14:32\u00a0<mflorea>\u00a0ok  \n14:32\u00a0<vmassol>\u00a0so I'm a bit lost as to the usage of the script field  \n14:32\u00a0<vmassol>\u00a0it seems not needed  \n14:32\u00a0<mflorea>\u00a0it is  \n14:32\u00a0<mflorea>\u00a0if you call display then the custom display is evaluated, but if you call getValue then the output of the script is evaluate  \n14:32\u00a0<mflorea>\u00a0I think  \n14:32\u00a0<mflorea>\u00a0to be double checked :)  \n14:33\u00a0<vmassol>\u00a0I see  \n14:33\u00a0<mflorea>\u00a0so script --> the value, custom display --> how the value is displayed  \n14:33\u00a0<vmassol>\u00a0hard to guess without doc ...  \n14:33\u00a0<mflorea>\u00a0:)  \n14:33\u00a0<vmassol>\u00a0wow http://localhost:8080/xwiki/bin/edit/AppWithinMinutes/Content?editor=wiki is pretty complex ;)  \n14:34\u00a0<vmassol>\u00a0hmm too bad I cannot reuse it\u2026  \n14:34\u00a0<vmassol>\u00a0I mean call it  \n14:34\u00a0<vmassol>\u00a0include it  \n14:34\u00a0<vmassol>\u00a0I could but then if AWM is removed my app doesn't work anymore  \n14:34\u00a0<vmassol>\u00a0I think we need this somewhere where it can be reused  \n14:35\u00a0<vmassol>\u00a0it's too complex  \n14:35\u00a0<vmassol>\u00a0including niceties like:  \n14:35\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0## The tool bar may have an entry to insert an HTML macro. Make sure it doesn't break the HTML macro we are currently in.  \n14:35\u00a0<vmassol>\u00a0;)  \n14:36\u00a0<vmassol>\u00a0mflorea: btw this means AWM doesn't generate a valid class? :)  \n14:36\u00a0<cjd>\u00a0they were reusing simpleedittoolbar.vm :)  \n14:36\u00a0<vmassol>\u00a0since the script field is empty  \n14:36\u00a0<vmassol>\u00a0so if you call getValue on the property you may get some wrong result  \n14:38\u00a0<OSIMasson>\u00a0has quit  \n14:41\u00a0<mflorea>\u00a0vmassol: re missing script tag, you're probably right, shouldn't be empty, my focus was the functional part, it seems no one called getValue so far  \n14:41\u00a0<vmassol>\u00a0yeah  \n14:42\u00a0<mflorea>\u00a0re content displayer, yes would be nice to have it reusable, but I'm not sure where it would be put, we need a new app  \n14:42\u00a0<vmassol>\u00a0or some way in the oldcore to handle content editable as a peoprety  \n14:43\u00a0<vmassol>\u00a0\\*property  \n14:43\u00a0<vmassol>\u00a0hmm getValue doesn't for me ddebugging  \n14:51\u00a0<vmassol>\u00a0hmm  \n14:51\u00a0<vmassol>\u00a0{  \n14:52\u00a0<vmassol>\u00a0I think getValue() doesn't work for a computed property  \n14:52\u00a0<mflorea>\u00a0ok, it seems I don't know that much :)  \n14:53\u00a0<mflorea>\u00a0I guess display() returns the output of script if there's not custom display  \n14:53\u00a0<vmassol>\u00a0display works  \n14:53\u00a0<vmassol>\u00a0it calles getScript()  \n14:53\u00a0<vmassol>\u00a0\\*calls  \n14:53\u00a0<mflorea>\u00a0in this case the script and custom display are doing the same thing  \n14:53\u00a0<vmassol>\u00a0so far yes  \n14:54\u00a0<mflorea>\u00a0just that I wouldn't put code for edit mode in script  \n14:54\u00a0<vmassol>\u00a0getScript can also be called but you'll then need to evaluate it yourself...  \n14:54\u00a0<mflorea>\u00a0even if getValue doesn't work, I think it's better to keep the value in script and dislay logic (view/edit) in custom display  \n14:54\u00a0<vmassol>\u00a0yes it's what it's for  \n14:55\u00a0<mflorea>\u00a0this way it's easier to see the value, otherwise you need to visually 'parse' the display code  \n14:55\u00a0<mflorea>\u00a0when you look at the xclass  \n14:57\u00a0<mflorea>\u00a0btw http://jira.xwiki.org/browse/XWIKI-8095  \n14:57\u00a0<vmassol>\u00a0ahaha  \n14:57\u00a0<vmassol>\u00a0\"hmm I'm not sure it's correct to put N/A for the documentation field. IMO this needs to be documented in the Developer Guide somewhere.\"  \n14:57\u00a0<vmassol>\u00a0so I had caught it!  \n14:57\u00a0<vmassol>\u00a0sdumitriu: anything to say for your defence? ;)  \n14:58\u00a0<vmassol>\u00a0\\*defense  \n14:58\u00a0<vmassol>\u00a0the doc says:  \n14:58\u00a0<vmassol>\u00a0\" \u2022 Computed pseudofield (new in 4.2M3)\"  \n14:58\u00a0<vmassol>\u00a0missing a bit of information ;)  \n15:05\u00a0<vmassol>\u00a0tmortagne: I'll let you do http://l10n.xwiki.org/xwiki/bin/view/L10N/Refactoring#HCopyakey if it's easy, ok? :)  \n15:06\u00a0<tmortagne>\u00a0you just need to indicate source and target key and it copied all translations  \n15:06\u00a0<vmassol>\u00a0\"just\"  \n15:06\u00a0<tmortagne>\u00a0copies  \n15:06\u00a0<vmassol>\u00a0you mean just 4 times?  \n15:06\u00a0<vmassol>\u00a0ok that's not too bad then  \n15:06\u00a0<vmassol>\u00a0even though it's still a lot of dup  \n15:06\u00a0<tmortagne>\u00a0it's not the same translation resource ?  \n15:06\u00a0<vmassol>\u00a0and when someone changes a key I'm 100% sure they won't change the other plazces  \n15:07\u00a0<msmeria>\u00a0has quit  \n15:08\u00a0<vmassol>\u00a0this copy tool is nice and is better than nothing for sure\u2026 thanks for pointing it out  \n15:11\u00a0<vmassol>\u00a0mflorea: any idea how I could display the title entered by the user in wiki mode for ex?  \n15:11\u00a0<mflorea>\u00a0wdym by 'display'? I guess you're not talking about $doc.plainTitle  \n15:12\u00a0<vmassol>\u00a0mflorea: this is what I have so far:  \n15:12\u00a0<vmassol>\u00a0https://gist.githubusercontent.com/vmassol/da345772633c23d71ab9/raw/970f6dd173274d3ad53e72a152e6a11ef024feb1/gistfile1.txt  \n15:12\u00a0<vmassol>\u00a0this works fine for the content  \n15:12\u00a0<vmassol>\u00a0ah wait  \n15:13\u00a0<vmassol>\u00a0again just me being stupid I think  \n15:13\u00a0<vmassol>\u00a0(I didn't sleep much yesterday ;))  \n15:13\u00a0<mflorea>\u00a0:)  \n15:27\u00a0<vmassol>\u00a0hmm not easy  \n15:41\u00a0<vmassol>\u00a0actually it is  \n15:58\u00a0<Denis1>\u00a0has quit  \n15:59\u00a0<evalica>\u00a0has quit  \n15:59\u00a0<Enygma`>\u00a0has quit  \n16:04\u00a0<tmortagne>\u00a0anyone knows where wiki module API is documented on extensions.xwiki.org ? can't find anything else that the UI, I'm sure I'm not searching properly but I was expecting to find it in \"Wiki Module\" page like for all other modules  \n16:06\u00a0<tmortagne>\u00a0vmassol: any idea ?  \n16:06\u00a0<vmassol>\u00a0I think guillaume has not added it, I pinged him \u00a0few times about it...  \n16:06\u00a0<tmortagne>\u00a0ok  \n16:55\u00a0<vmassol>\u00a0guys, is it normal that if I use some velocity script in a wiki page in edit mode to set some xproperty, it's not saved when the page is saved?  \n16:59\u00a0<vmassol>\u00a0tmortagne, mflorea, any idea about that? I wanted to change the doc and let the user decide whether to click save or cancel  \n16:59\u00a0<vmassol>\u00a0anyway I can do something else  \n17:00\u00a0<tmortagne>\u00a0you sure it's not saved ?  \n17:00\u00a0<vmassol>\u00a0yes  \n17:00\u00a0<vmassol>\u00a0when I check in object mode afterwards, it's the same value as before the edit  \n17:00\u00a0<tmortagne>\u00a0IMO there is no reason, you are using Document#save() .  \n17:01\u00a0<tmortagne>\u00a0?  \n17:01\u00a0<mflorea>\u00a0vmassol: I don't understand. You have an input with the proper name and it isn't saved?  \n17:01\u00a0<vmassol>\u00a0my point was to not have to call save()  \n17:01\u00a0<vmassol>\u00a0mflorea: I change an xproperty in edit mode in velocity  \n17:01\u00a0<vmassol>\u00a0and I wanted to let the user click \"save\" or \"cancel\" button  \n17:02\u00a0<vmassol>\u00a0and I was expecting that when he clicks \"save\" that my change would be persisted  \n17:02\u00a0<mflorea>\u00a0I don't understand what you mean by 'change'  \n17:02\u00a0<vmassol>\u00a0$object.set('propkey', value)  \n17:02\u00a0<mflorea>\u00a0the only thing that is saved is what is submitted  \n17:02\u00a0<tmortagne>\u00a0vmassol: you are talking about two totally different request here  \n17:02\u00a0<vmassol>\u00a0ok  \n17:02\u00a0<tmortagne>\u00a0whatever you do during the edit display is not going to be part of the form sent by save button  \n17:02\u00a0<mflorea>\u00a0how could that work? the save action only takes into account what is being submitted. You changes are lost ofc  \n17:03\u00a0<tmortagne>\u00a0what you can so is add some hidden inputs I guess  \n17:03\u00a0<mflorea>\u00a0you need a hidden input most probably  \n17:03\u00a0<vmassol>\u00a0we could make that wiork  \n17:03\u00a0<mflorea>\u00a0yep  \n17:03\u00a0<vmassol>\u00a0if we wanted  \n17:03\u00a0<tmortagne>\u00a0but it works only with object that already exist  \n17:03\u00a0<tmortagne>\u00a0which is a pity, I have the same issue with XWiki Repository  \n17:05\u00a0<tmortagne>\u00a0basically we need XWIKI-10252  \n17:05\u00a0<tmortagne>\u00a0then you can add as many object as you want as hidden inputs  \n17:09\u00a0<vmassol>\u00a0cool it all works now :)  \n17:10\u00a0<vmassol>\u00a0now I need to test migrations, I'm a bit worried by that  \n17:12\u00a0<mflorea>\u00a0has quit  \n17:38\u00a0<tmortagne>\u00a0vmassol: did you saw my message about sonar devcockpit plugin ?  \n17:38\u00a0<vmassol>\u00a0nope  \n17:39\u00a0<tmortagne>\u00a0\"org.sonar.api.utils.SonarException: License for plugin devcockpit is expired\"  \n17:39\u00a0<tmortagne>\u00a0that's what make all our sonar builds fail  \n17:39\u00a0<vmassol>\u00a0ok I'll ask for a license renewal  \n17:40\u00a0<vmassol>\u00a0they all expire today apparently  \n17:40\u00a0<vmassol>\u00a0we use 3 plugins with a license  \n17:43\u00a0<vmassol>\u00a0mail sent  \n17:44\u00a0<woshilapin>\u00a0has quit  \n17:46\u00a0<tmortagne>\u00a0ok cool  \n17:49\u00a0<vmassol>\u00a0[fun] https://twitter.com/izs/status/483992648672227328/photo/1 ;)  \n17:51\u00a0<vmassol>\u00a0tmortagne: FYI I just rebuilt only enterprise and I got: \u00a0https://gist.githubusercontent.com/vmassol/be202386a2ac4c031658/raw/79a214936feb594eeb72870523d0c2bef910601e/gistfile1.txt  \n17:52\u00a0<vmassol>\u00a0(maybe it's CI who hasn't build stuff in the right order)  \n17:52\u00a0<tmortagne>\u00a0all I can confirm is that this method exist  \n17:52\u00a0<tmortagne>\u00a0did you built with -U ?  \n17:52\u00a0<tmortagne>\u00a0if you built today already Maven won't re'download the snapshots  \n17:53\u00a0<tmortagne>\u00a0re-download  \n17:53\u00a0<vmassol>\u00a0yes likely  \n17:57\u00a0<vmassol>\u00a0tmortagne: if I build enterprise master and then replace jetty/hsqldb's data/ dir by one from a previous version and start XE shouldn't I get the DW?  \n18:02\u00a0<tmortagne>\u00a0if it's not the same version yes you should get the DW  \n18:03\u00a0<vmassol>\u00a0then I don't understand why I don't get it :)  \n18:03\u00a0<tmortagne>\u00a0since that's like upgrading the war  \n18:03\u00a0<vmassol>\u00a0I'm logged in as admin  \n18:05\u00a0<tmortagne>\u00a0you can check what you have in the distribution status or try accessing directly /distribution/ action to see what you get  \n18:05\u00a0<vmassol>\u00a0k, I'm rebuilding with -U ATM to be sure I have a working XE  \n18:06\u00a0<mflorea>\u00a0has joined #xwiki  \n18:08\u00a0<vmassol>\u00a0tmortagne: you didn't voice any opinion on the thread related to http://jira.xwiki.org/browse/XWIKI-10586  \n18:08\u00a0<vmassol>\u00a0I hope you're ok with it :)  \n18:08\u00a0<vmassol>\u00a0(since I finished implementing a first version, worst case, I'll put it as an extension on e.x.o anyway)  \n18:11\u00a0<tmortagne>\u00a0vmassol: did not spend much time analyzing it but I don't have strong opinion on it  \n18:13\u00a0<vmassol>\u00a0I think we could also move the welcome pages to this app  \n18:13\u00a0<vmassol>\u00a0hmm maybe not  \n18:13\u00a0<vmassol>\u00a0forget that  \n18:13\u00a0<vmassol>\u00a0the welcome pages are linked to the dashboard app  \n18:15\u00a0<tmortagne>\u00a0vmassol: could this be used for spaces hope pages too ?  \n18:16\u00a0<vmassol>\u00a0yes it could  \n18:16\u00a0<tmortagne>\u00a0s/hope/home/  \n18:16\u00a0<vmassol>\u00a0the only thing to take into account is the default title  \n18:16\u00a0<vmassol>\u00a0right now I've hardcoded it to the translation key for the main home page  \n18:17\u00a0<vmassol>\u00a0the rest should work fine for any page actually  \n18:17\u00a0<vmassol>\u00a0so to activate it you just need an xobject of type HomePageClass  \n18:18\u00a0<tmortagne>\u00a0thinking about this since when you create a new space you have a Dashboard similar to wiki home page proposed  \n18:18\u00a0<tmortagne>\u00a0so pretty much the same issues I guess  \n18:18\u00a0<vmassol>\u00a0if we generify it, \u00a0it could be called an Include Application I guess  \n18:19\u00a0<vmassol>\u00a0since it allows selecting a page to include (and optionally specifying your own content)  \n18:21\u00a0<tmortagne>\u00a0hmm this look a lot like what XWiki.DocumentSheetBinding is doing  \n18:23\u00a0<tmortagne>\u00a0it's  \n18:23\u00a0<tmortagne>\u00a0it's XWiki.DocumentSheetBinding plus custom content  \n18:24\u00a0<vmassol>\u00a0tmortagne: I've added some screenshot of what I have so far on 6  \n18:24\u00a0<vmassol>\u00a06  \n18:24\u00a0<vmassol>\u00a0grr  \n18:25\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-10586  \n18:32\u00a0<vmassol>\u00a0tmortagne: I get the DW now with my new build with -U  \n18:33\u00a0<tmortagne>\u00a0vmassol: ok, it's probably because DW use the new method then  \n18:33\u00a0<tmortagne>\u00a0I guess it's simply crashed  \n18:33\u00a0<vmassol>\u00a0yes probably  \n18:35\u00a0<vmassol>\u00a0tmortagne: just seen your reply. Where would you store the page to include?  \n18:36\u00a0<tmortagne>\u00a0vmassol: not sure I understand the question, the goal of DocumentSheetBinding is to indicate a page to display instead of the document content, you can call that include but it's the same thing  \n18:36\u00a0<tmortagne>\u00a0DocumentSheetBinding has a sheet property  \n18:36\u00a0<tmortagne>\u00a0that's the only property actually  \n18:36\u00a0<vmassol>\u00a0the user chooses the page to include  \n18:36\u00a0<tmortagne>\u00a0yes  \n18:36\u00a0<vmassol>\u00a0this needs to be stored somewhere  \n18:37\u00a0<vmassol>\u00a0I store it in an xobject  \n18:37\u00a0<tmortagne>\u00a0the page to include is the sheet  \n18:37\u00a0<vmassol>\u00a0for ex the user wants the home page to be Blog.WebHome  \n18:38\u00a0<vmassol>\u00a0I don't see how I can implement it without a new xclass  \n18:38\u00a0<vmassol>\u00a0and storing the page to include in the home page content wouldn't work for the user (too technical)  \n18:39\u00a0<tmortagne>\u00a0vmassol: I really don't understand, DocumentSheetBinding is a class which indicate which page to execute instead of the document content  \n18:40\u00a0<tmortagne>\u00a0so looks like it's doing the same thing as your class, except for the optional part  \n18:40\u00a0<vmassol>\u00a0ah I think I understand  \n18:40\u00a0<vmassol>\u00a0it's not exactly a sheet  \n18:41\u00a0<vmassol>\u00a0(semantically)  \n18:41\u00a0<vmassol>\u00a0but yes it would work  \n18:45\u00a0<tmortagne>\u00a0is the target page supposed to be executed in its own context or in the context of the current page ?  \n18:51\u00a0<Lyes>\u00a0has quit  \n18:51\u00a0<vmassol>\u00a0tmortagne: I include with context=new  \n18:51\u00a0<tmortagne>\u00a0so it's not an include  \n18:51\u00a0<tmortagne>\u00a0it's a display  \n18:51\u00a0<vmassol>\u00a0indeed it's a display  \n18:54\u00a0<tmortagne>\u00a0so that would be the difference with DocumentSheetBinding that would justify a new class  \n18:55\u00a0<vmassol>\u00a0indeed  \n18:55\u00a0<tmortagne>\u00a0but since it's just about displaying a page, a name more generic than HomePage.HomePageClass could be nice :)  \n18:56\u00a0<vmassol>\u00a0yes it's about changing the default edition of a page to also allow displaying the content of another page\u2026  \n18:57\u00a0<vmassol>\u00a0I've thought about it and HomePage app isn't that bad  \n18:57\u00a0<vmassol>\u00a0since this is useful especially for home pages  \n18:57\u00a0<tmortagne>\u00a0but make the feature a lot less generic since it imply it's only for home pages  \n18:58\u00a0<vmassol>\u00a0that's not that bad  \n18:58\u00a0<vmassol>\u00a0it's like DocumentSheetBinding which is supposed to be used for sheets  \n18:58\u00a0<vmassol>\u00a0but your proposal uses it not as sheet but as the page to include  \n18:58\u00a0<vmassol>\u00a0maybe a bad comparison  \n18:58\u00a0<vmassol>\u00a0;)  \n18:58\u00a0<vmassol>\u00a0but you see what I mean hopefully  \n18:59\u00a0<vmassol>\u00a0anyway I'm open for a better name, but I dont like too much Display App, Redirect App  \n18:59\u00a0<tmortagne>\u00a0you can use DocumentSheetBinding in any document and it does a bit more than include since it also takes the title form the target page  \n18:59\u00a0<tmortagne>\u00a0s/form/from/  \n18:59\u00a0<tmortagne>\u00a0it's not a redirect so not redirect  \n18:59\u00a0<vmassol>\u00a0technically no  \n19:00\u00a0<vmassol>\u00a0but from the user pov it can be  \n19:00\u00a0<tmortagne>\u00a0if display is not a proper name then it's not the right name for the display macro :)  \n19:00\u00a0<vmassol>\u00a0it's a technical name  \n19:00\u00a0<vmassol>\u00a0technical concept  \n19:00\u00a0<vmassol>\u00a0which is fine for a macro  \n19:00\u00a0<mflorea>\u00a0has quit  \n19:00\u00a0<vmassol>\u00a0but Display app doesn't mean anything  \n19:00\u00a0<vmassol>\u00a0it means an app that displays something  \n19:01\u00a0<tmortagne>\u00a0\"display\" is that than technical, you want to display some page  \n19:01\u00a0<vmassol>\u00a0that's very generic  \n19:01\u00a0<vmassol>\u00a0way too generic  \n19:01\u00a0<vmassol>\u00a0almost all apps do display something  \n19:01\u00a0<tmortagne>\u00a0I'm talking about the class, I don't really see why this require a new app  \n19:02\u00a0<vmassol>\u00a0Page Chooser Application  \n19:02\u00a0<vmassol>\u00a0because this is something optional  \n19:02\u00a0<vmassol>\u00a0I don't want this in an existing module  \n19:03\u00a0<vmassol>\u00a0Page Display Choose Application but it starts to be too complex  \n19:03\u00a0<vmassol>\u00a0personally I like Home Page application the best so far  \n19:03\u00a0<vmassol>\u00a0right now the app contains 5 pages fyi  \n19:04\u00a0<tmortagne>\u00a0limiting this feature only to home pages would be a pity IMO...  \n19:04\u00a0<vmassol>\u00a0it's the use case that we wish to implement  \n19:04\u00a0<vmassol>\u00a0we'll have wording for that  \n19:04\u00a0<vmassol>\u00a0if we use a too geenric wording  \n19:04\u00a0<vmassol>\u00a0we'll loose the reason we are creating this  \n19:05\u00a0<vmassol>\u00a0what we are doing here is the opposite of genericity  \n19:05\u00a0<vmassol>\u00a0we're creating something tailored for the home page  \n19:05\u00a0<vmassol>\u00a0now that devs could tune it to reuse it for other use cases is fine with me  \n19:05\u00a0<cjd>\u00a0has quit  \n19:06\u00a0<tmortagne>\u00a0\"Default Page Application\" it display a default page in case you don't have custom content  \n19:06\u00a0<vmassol>\u00a0that's better than the other proposals indeed  \n19:07\u00a0<tmortagne>\u00a0you get the generic part at least and does not sounds too technical  \n19:08\u00a0<vmassol>\u00a0but again we would need to ensure the wording works fine  \n19:08\u00a0<vmassol>\u00a0(ie not too generic)  \n19:08\u00a0<vmassol>\u00a0that could work I think  \n19:08\u00a0<tmortagne>\u00a0it's not more generic than the feature itself I think  \n19:10\u00a0<tmortagne>\u00a0I have to go, sorry for waking up after the battle (fortunately I did not had strong opinion :D)  \n19:10\u00a0<vmassol>\u00a0it's ok you said +1 for the concept ;)  \n19:10\u00a0<vmassol>\u00a0changing the name is an impl detail that's not too hard  \n19:11\u00a0<vmassol>\u00a0you hsould propose \"Default Page App\" to see how others react to it  \n19:11\u00a0<vmassol>\u00a0we still need to find a way to define the default title  \n19:11\u00a0<tmortagne>\u00a0yep I writing an answer to me right now  \n19:11\u00a0<vmassol>\u00a0but that could be a property in the xclass  \n19:12\u00a0<tmortagne>\u00a0the default title could be the target page title  \n19:12\u00a0<vmassol>\u00a0right now that would mean \"Dashboard\"  \n19:12\u00a0<vmassol>\u00a0instead of \"Wiki Home\"  \n19:12\u00a0<OSIMasson>\u00a0has joined #xwiki  \n19:13\u00a0<tmortagne>\u00a0but we would but a custom title in the wiki home page  \n19:13\u00a0<tmortagne>\u00a0s/but/put/  \n19:13\u00a0<vmassol>\u00a0no  \n19:13\u00a0<vmassol>\u00a0:)  \n19:13\u00a0<vmassol>\u00a0that would fail one of my use case  \n19:13\u00a0<vmassol>\u00a0which is to not have anything technical  \n19:13\u00a0<vmassol>\u00a0:)  \n19:13\u00a0<tmortagne>\u00a0title concept is technical ?  \n19:13\u00a0<vmassol>\u00a0seeing $services.localization.render(\u2026) is technical  \n19:14\u00a0<vmassol>\u00a0:)  \n19:14\u00a0<vmassol>\u00a0(you forgot translations)  \n19:14\u00a0<tmortagne>\u00a0only the wiki home page know it's about wiki home page so I don't really see how it would not be a custom title  \n19:14\u00a0<vmassol>\u00a0as I said  \n19:15\u00a0<vmassol>\u00a0this could be in the xclass  \n19:15\u00a0<vmassol>\u00a0simple user would not see the xobjects  \n19:15\u00a0<vmassol>\u00a0but he would see the title  \n19:15\u00a0<tmortagne>\u00a0how is it not a custom title ?  \n19:16\u00a0<vmassol>\u00a0you lost me here...  \n19:16\u00a0<vmassol>\u00a0\"but we would but a custom title in the wiki home page\" WDYM?  \n19:17\u00a0<vmassol>\u00a0(show me an example of such a custom title)  \n19:17\u00a0<tmortagne>\u00a0yes in the wiki home page, I did not say where in the wiki home page  \n19:17\u00a0<vmassol>\u00a0ok then if you agree it cannot go in the title field  \n19:17\u00a0<tmortagne>\u00a0all I'm saying is that only this page knows what it's about so I don't see how it could be somwhere else  \n19:17\u00a0<vmassol>\u00a0then we agree it would have to go in the xobject  \n19:19\u00a0<tmortagne>\u00a0I'm not sure what xobject bring exactly, the user should not see the title field either in inline edit mode  \n19:19\u00a0<vmassol>\u00a0btw  \n19:20\u00a0<vmassol>\u00a0he doesn't see it  \n19:20\u00a0<vmassol>\u00a0s/btw//  \n19:20\u00a0<vmassol>\u00a0it hides the default title value from the user  \n19:20\u00a0<vmassol>\u00a0(simple user)  \n19:22\u00a0<vmassol>\u00a0btw it's not exactly the same thing for a space  \n19:23\u00a0<vmassol>\u00a0it's actually very different  \n19:23\u00a0<tmortagne>\u00a0it's not very clear what you want exactly, if the goal is to protect default title from user editing the title field then OK but it sound a bit more meaningful than just \"hiding some technical title\"  \n19:23\u00a0<vmassol>\u00a0going to reploy to your mail  \n19:24\u00a0<tmortagne>\u00a0have to go, will read that later  \n19:24\u00a0<tmortagne>\u00a0bye  \n19:24\u00a0<vmassol>\u00a0bye and htnaks  \n19:24\u00a0<tmortagne>\u00a0has quit  \n19:51\u00a0<lucaa1>\u00a0has joined #xwiki  \n19:53\u00a0<lucaa>\u00a0has quit  \n20:02\u00a0<nickless>\u00a0has joined #xwiki  \n20:29\u00a0<lucaa1>\u00a0has quit  \n21:33\u00a0<lucaa>\u00a0has joined #xwiki  \n21:50\u00a0<vmassol>\u00a0has quit  \n21:50\u00a0<vmassol>\u00a0has joined #xwiki  \n21:53\u00a0<vmassol1>\u00a0has joined #xwiki  \n21:53\u00a0<vmassol>\u00a0has quit  \n21:54\u00a0<vmassol1>\u00a0has quit  \n21:56\u00a0<vmassol>\u00a0has joined #xwiki  \n21:57\u00a0<OSIMasson>\u00a0has quit  \n22:57\u00a0<vmassol>\u00a0has quit  \n23:12\u00a0<Denis>\u00a0has joined #xwiki\n"}