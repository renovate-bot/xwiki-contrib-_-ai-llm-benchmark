{"id": "dev:IRC.xwikiArchive20120202", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120202", "title": "IRC Archive for channel #xwiki on 02 February 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:10\u00a0<jvdrean>\u00a0has quit  \n00:38\u00a0<helge>\u00a0has joined #xwiki  \n01:03\u00a0<tekzilla>\u00a0has quit  \n01:07\u00a0<tekzilla>\u00a0has joined #xwiki  \n01:22\u00a0<SvenDowideit>\u00a0has quit  \n01:23\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n01:24\u00a0<SvenDowideit>\u00a0has quit  \n01:24\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n03:32\u00a0<helge>\u00a0has quit  \n05:40\u00a0<border>\u00a0has joined #xwiki  \n05:42\u00a0<border>\u00a0hi, im having problem start start\\_xwiki.sh on linux server. I woud like to confirm that is becose the server use open-JDK and xwiki have been compiled with oracle java. coud it true ?  \n05:47\u00a0<border>\u00a0\\*coud it be true ?  \n05:50\u00a0<@cjd>\u00a0I think it is possible but unlikely.  \n05:57\u00a0<border>\u00a0thx, this is my term: http://piratepad.net/FMKEC5hk7K  \n05:57\u00a0<border>\u00a0in referance this founded forum http://forums.fedoraforum.org/archive/index.php/t-172818.html  \n05:58\u00a0<border>\u00a0on posts of 20 and 21 november  \n06:00\u00a0<CIA-120>\u00a0Sergiu Dumitriu\u000f master\u000f \\* rfe11351\u000f \u000f/ (12 files in 7 dirs):\u000f XWIKI-7484: Write a log line in the console instructing the user to open XWiki in a browser ...  \n06:00\u00a0<@sdumitriu>\u00a0border: Depends on the version of openjdk you have  \n06:00\u00a0<Denis>\u00a0has joined #xwiki  \n06:01\u00a0<border>\u00a0java version \"1.4.2\" gij (GNU libgcj) version 4.1.2 20080704 (Red Hat 4.1.2-51)  \n06:01\u00a0<@sdumitriu>\u00a0Ah, right, that's gcj  \n06:01\u00a0<@sdumitriu>\u00a0It won't work  \n06:01\u00a0<@sdumitriu>\u00a0Do you have any other alternatives?  \n06:02\u00a0<@sdumitriu>\u00a0XWiki requires a 1.6 compatible JDK  \n06:02\u00a0<@sdumitriu>\u00a0If you can't / don't want to use the one from Oracle, it should work with IcedTea JDK  \n06:02\u00a0<border>\u00a0no and its a shared server so i dont have root acces  \n06:03\u00a0<Denis1>\u00a0has quit  \n06:03\u00a0<border>\u00a0i coud look to install jdk in my home directory meaby i will find something about this  \n06:04\u00a0<@cjd>\u00a0yes, java can be installed in your home directory  \n06:04\u00a0<border>\u00a0even if it d'ont solve the problem its help ! big thx  \n06:04\u00a0<@sdumitriu>\u00a0Yes, it should work  \n06:05\u00a0<@sdumitriu>\u00a0We're doing that on some of our machines as well  \n06:17\u00a0<border>\u00a0has quit  \n07:43\u00a0<vmassol>\u00a0has joined #xwiki  \n08:56\u00a0<rrodriguez>\u00a0has quit  \n08:57\u00a0<rrodriguez>\u00a0has joined #xwiki  \n09:00\u00a0<rrodriguez>\u00a0has quit  \n09:08\u00a0<evalica>\u00a0has joined #xwiki  \n09:11\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rb219526\u000f \u000f/ (3 files in 2 dirs):\u000f XWIKI-7484: Write a log line in the console instructing the user to open XWiki in a browser ...  \n09:59\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:00\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:14\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:27\u00a0<helge>\u00a0has joined #xwiki  \n10:30\u00a0<@cjd>\u00a0helge: sorry I missed you yesterday, I checked your problem with postgres 9.1 and was not able to reproduce it  \n10:30\u00a0<@cjd>\u00a0I pasted some Asian text into the wiki and saved a few times to see if I could make something happen but everything seemed to work ok.  \n10:33\u00a0<sdumitriu>\u00a0has quit  \n10:44\u00a0<helge>\u00a0@cjd: ok, thank you for checking, I will try to find out what triggers the problem. It never happend with XE3.1 on Postgres 9.0.  \n10:44\u00a0<@cjd>\u00a0very interesting  \n10:44\u00a0<@cjd>\u00a0if you have any more data on it, please do share.  \n10:44\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r7325276\u000f \u000f/ pom.xml :\u000f XCOMMONS-88: Upgrade Maven JAR plugin to version 2.4 ...  \n10:45\u00a0<helge>\u00a0I will do.  \n11:09\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:12\u00a0<helge>\u00a0can you explain in brief what Dumitriu's patch is doing and if you could recommend it in a production environment? I would than make a fresh install with this patch applied and test.  \n11:13\u00a0<vmassol>\u00a0tmortagne: good morning  \n11:13\u00a0<+tmortagne>\u00a0vmassol: hi  \n11:13\u00a0<vmassol>\u00a0I've just rebuilt XE from master and I got this at startup:  \n11:13\u00a0<vmassol>\u00a0http://pastebin.com/8utCMNms  \n11:13\u00a0<vmassol>\u00a0any idea?  \n11:14\u00a0<helge>\u00a0@cjd: it was: Extract xwiki.hbm.xml from WEB-INF/lib/xwiki-platform-legacy-oldcore-\\*.jar into WEB-INF/classes and change the \"content\" property of the \"XWikiRCSNodeContent\" class from \"materialized\\_clob\" to \"text\", then restart the server. It won't work for the existing history, but try to create a new document  \n11:15\u00a0<+tmortagne>\u00a0vmassol: not really, according to the error ExtensionJobEventConverter is registred several times  \n11:15\u00a0<+tmortagne>\u00a0do you have duplicated jars ?  \n11:15\u00a0<vmassol>\u00a0probably  \n11:15\u00a0<vmassol>\u00a0this is a master build  \n11:15\u00a0<vmassol>\u00a0without change  \n11:15\u00a0<+tmortagne>\u00a0looks at xwiki-platform-extension-cluster especailly  \n11:15\u00a0<vmassol>\u00a0checking  \n11:15\u00a0<+tmortagne>\u00a0downloading a jenkins build  \n11:16\u00a0<vmassol>\u00a0only 1 cluster jar  \n11:17\u00a0<+tmortagne>\u00a0that's weird then I don't see how you could have several time this class  \n11:17\u00a0<vmassol>\u00a0I don't seem to have duplicate jars  \n11:17\u00a0<+tmortagne>\u00a0waiting for the download to finish and will try to reproduce  \n11:17\u00a0<vmassol>\u00a0ok  \n11:17\u00a0<+tmortagne>\u00a0hmm  \n11:18\u00a0<+tmortagne>\u00a0no nothing  \n11:18\u00a0<+tmortagne>\u00a0I find only one ExtensionJobEventConverter class in the platform sources at least  \n11:20\u00a0<+tmortagne>\u00a0I have it too with http://maven.xwiki.org/snapshots/org/xwiki/enterprise/xwiki-enterprise-jetty-hsqldb/3.5-SNAPSHOT/xwiki-enterprise-jetty-hsqldb-3.5-20120202.094801-43.zip  \n11:21\u00a0<+tmortagne>\u00a0I found a mistake actually  \n11:21\u00a0<+tmortagne>\u00a0I think I see why you there is the message but not why there is the message twice  \n11:21\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r8c41476\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-jetty-listener/src/main/java/org/xwiki/tools/jetty/listener/NotifyListener.java :\u000f XWIKI-7484: Write a log line in the console instructing the user to open XWiki in a browser ...  \n11:21\u00a0<+tmortagne>\u00a0actually I know,that's because it implements two roles  \n11:22\u00a0<+tmortagne>\u00a0fixing it  \n11:22\u00a0<vmassol>\u00a0ok cool  \n11:22\u00a0<vmassol>\u00a0we should probably have some functional tests to discover errors printed in the console when XE starts  \n11:22\u00a0<vmassol>\u00a0ERROR or WARN  \n11:22\u00a0<vmassol>\u00a0could be useful  \n11:23\u00a0<vmassol>\u00a0hmm actually there might be tests we already have that will show this  \n11:23\u00a0<vmassol>\u00a0the validation ones maybe  \n11:23\u00a0<vmassol>\u00a0hmm test-ui is tuck  \n11:23\u00a0<vmassol>\u00a0stuck  \n11:24\u00a0<vmassol>\u00a0killing it  \n11:24\u00a0<vmassol>\u00a0stuck on testPreserveUnsavedSourceAgainstRefresh  \n11:24\u00a0<vmassol>\u00a0(in EditWYSIWYGTest  \n11:24\u00a0<vmassol>\u00a0)  \n11:25\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r51899b2\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-cluster/src/main/java/org/xwiki/extension/cluster/internal/ExtensionJobEventConverter.java :\u000f XWIKI-7367: Add clustering support for extensions ...  \n11:25\u00a0<vmassol>\u00a0webstandards tests are passing it seems  \n11:25\u00a0<+tmortagne>\u00a0always forget the @Named for components like that  \n11:25\u00a0<vmassol>\u00a0so they're not discovering this issue  \n11:25\u00a0<vmassol>\u00a0so we might need an additional func test for the startup  \n11:26\u00a0<+tmortagne>\u00a0yep I don't think any test is validating the startup since they start to check after  \n11:29\u00a0<+tmortagne>\u00a0vmassol: test-ui is blocking since some days but never in the same place, did not have time to debug it before  \n11:30\u00a0<+tmortagne>\u00a0no even always related to WYSIWYG  \n11:30\u00a0<vmassol>\u00a0yes someone needs to debug that...  \n11:31\u00a0<+tmortagne>\u00a0was going to look at it  \n11:31\u00a0<vmassol>\u00a0FYI I'm trying to automate creation of jenkins jobs ATM  \n11:31\u00a0<+tmortagne>\u00a0ant good strategy to find something like that ? runing in the IDE and witing for it to block ?  \n11:32\u00a0<+tmortagne>\u00a0s/ant/any/  \n11:32\u00a0<vmassol>\u00a0I don't think it will block  \n11:32\u00a0<vmassol>\u00a0the best is probably to run on the agent  \n11:32\u00a0<+tmortagne>\u00a0harder to debug there  \n11:32\u00a0<vmassol>\u00a0last time when Marius checked for something like this  \n11:32\u00a0<vmassol>\u00a0the problem was that FF opened a dialog box  \n11:33\u00a0<+tmortagne>\u00a0I have the last jenkins build, will give a a try locally first  \n11:33\u00a0<vmassol>\u00a0for asking if FF could send data back to mozilla  \n11:33\u00a0<vmassol>\u00a0or something like that  \n11:33\u00a0<+tmortagne>\u00a0ok  \n11:33\u00a0<vmassol>\u00a0getting a screenshot would help  \n11:34\u00a0<vmassol>\u00a0we would need to understand why it doesn't time out though  \n11:34\u00a0<vmassol>\u00a0if it 's possible to see the screen of the agent when it's stuck it would be great  \n11:34\u00a0<vmassol>\u00a0we should be able to export the display to display locally I think  \n11:34\u00a0<+tmortagne>\u00a0probably  \n11:35\u00a0<+tmortagne>\u00a0but not always easy to know what the test was trying to do  \n11:35\u00a0<+tmortagne>\u00a0since some test are big  \n11:35\u00a0<vmassol>\u00a0you just have to wait till it's stuck  \n11:35\u00a0<vmassol>\u00a0then check the screen to see what's blocking  \n11:35\u00a0<vmassol>\u00a0IMO it's some dialog box  \n11:36\u00a0<vmassol>\u00a0I have seen sel2 block on dialog box in the past  \n11:36\u00a0<+tmortagne>\u00a0not sure you can know what the test is waiting for just by looking at the screen  \n11:37\u00a0<+tmortagne>\u00a0unless the issue is a dialog box  \n11:37\u00a0<vmassol>\u00a0on a different topic, this is so cool: http://evgeny-goldin.org/youtrack/wikiHelpWrapper  \n11:37\u00a0<vmassol>\u00a0(it's youtrack's wiki markup help)  \n11:37\u00a0<vmassol>\u00a0I like the sandbox part  \n11:38\u00a0<vmassol>\u00a0where in the help you can try out the syntax  \n11:38\u00a0<vmassol>\u00a0we should do something similar  \n11:38\u00a0<jvdrean>\u00a0has quit  \n11:38\u00a0<vmassol>\u00a0creating a jira issue  \n11:38\u00a0<+tmortagne>\u00a0indded looks nice  \n11:38\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:41\u00a0<vmassol>\u00a0evalica: you should like this I'm sure: http://jira.xwiki.org/browse/XE-1106 ;)  \n11:48\u00a0<+tmortagne>\u00a0I get very often a popup asking me if I want to leave the page during tests and looks like selenium is stuck on it  \n11:48\u00a0<vmassol>\u00a0ahah maybe that's something new in recent versions of FF  \n11:49\u00a0<vmassol>\u00a0marius has upgraded to FF 9 I believe on agents  \n11:49\u00a0<+tmortagne>\u00a0actually I run the test on 7.0.1  \n11:49\u00a0<+tmortagne>\u00a0tryying with the current FF  \n11:50\u00a0<+tmortagne>\u00a0onl conf I had in my mvn script  \n11:52\u00a0<+tmortagne>\u00a0s/onl/old/  \n11:53\u00a0<+tmortagne>\u00a0got a nullpointer in DBListClass during testws  \n11:53\u00a0<+tmortagne>\u00a0tests  \n11:53\u00a0<+evalica>\u00a0:)  \n11:57\u00a0<+tmortagne>\u00a0FF 10 is out btw  \n11:57\u00a0<vmassol>\u00a0yep sorin needs to test it  \n11:57\u00a0<vmassol>\u00a0we need to remind him when he's logged  \n12:07\u00a0<+tmortagne>\u00a0same thing on 9.0.1  \n12:07\u00a0<+tmortagne>\u00a0tons of popups asking me if I want to leave the page  \n12:07\u00a0<+tmortagne>\u00a0what really weird is that I get like 10 popup if I don't answer quickly enough  \n12:08\u00a0<+tmortagne>\u00a0and the test is totally stuck  \n12:08\u00a0<vmassol>\u00a0ok sounds like you found the culprit  \n12:09\u00a0<+tmortagne>\u00a0looks like it happen when you are in a page with WYSIWYG in it for me  \n12:10\u00a0<vmassol>\u00a0hmm I wonder if this is something we've added recently, marius would know  \n12:10\u00a0<+tmortagne>\u00a0yep  \n12:10\u00a0<vmassol>\u00a0ie the feature to warn the user when he leaves the page  \n12:10\u00a0<vmassol>\u00a0(when he's editing content)  \n12:10\u00a0<+tmortagne>\u00a0that's waht I was wondering too, looks like \u00a0something made on purpose when go go somewhere else without saving  \n12:11\u00a0<+tmortagne>\u00a0but for some reason it produce popup in an infinite loop  \n12:12\u00a0<+tmortagne>\u00a0trying to reproduce that  \n12:12\u00a0<+tmortagne>\u00a0see if it's related to tests or not  \n12:13\u00a0<+tmortagne>\u00a0hmm I don't get any popup  \n12:14\u00a0<+tmortagne>\u00a0can't reproduce that if i'm not in a test  \n12:14\u00a0<+tmortagne>\u00a0need to check exactly what the test is doing  \n12:17\u00a0<+tmortagne>\u00a0actually the test is not stuck, the browser is  \n12:17\u00a0<+tmortagne>\u00a0so its not that  \n12:23\u00a0<+tmortagne>\u00a0it's pretty random as far as I can see in jenkins log, it can get stuck in very different test and it's never the same  \n12:23\u00a0<vmassol>\u00a0always wysiwyg tests or not?  \n12:23\u00a0<+tmortagne>\u00a0nop  \n12:23\u00a0<vmassol>\u00a0always tests involving editing in the wysiwyg?  \n12:23\u00a0<+tmortagne>\u00a0I see object editor and the last one is inline editor it seems  \n12:24\u00a0<+tmortagne>\u00a0need to check  \n12:24\u00a0<+tmortagne>\u00a0the last on is editing the user profile  \n12:25\u00a0<vmassol>\u00a0that's wysiwyg AFAIR  \n12:25\u00a0<+tmortagne>\u00a0yep checking but I think there is a WYSIWYG field in there  \n12:26\u00a0<+tmortagne>\u00a0yep there is several WYSIWYGs  \n12:46\u00a0<gdelhumeau>\u00a0has quit  \n12:50\u00a0<helge>\u00a0has quit  \n12:50\u00a0<helge>\u00a0has joined #xwiki  \n14:06\u00a0<vmassol>\u00a0another option for doing xwiki reviews: http://www.sonarsource.org/sonar-2-13-in-screenshots/  \n14:08\u00a0<vmassol>\u00a0they seem to have some features: http://nemo.sonarsource.org/dashboard/index/178313?did=1&period=3  \n14:25\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:34\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* rd70b395\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/internal/DefaultExtensionManagerConfiguration.java :\u000f XWIKI-7485: Extension manager should not have a hard dependency on ...  \n16:27\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* rbae2859\u000f \u000f/ (3 files in 2 dirs):\u000f XCOMMONS-90: Add a ConfigurationSource Provider which provide an empty ...  \n16:28\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* re28385e\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/internal/DefaultExtensionManagerConfiguration.java :\u000f XWIKI-7485: Extension manager should not have a hard dependency on ...  \n16:28\u00a0<helge>\u00a0has quit  \n16:54\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* rfdc1217\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-repositories/xwiki-platform-extension-repository-aether/src/main/java/org/xwiki/extension/repository/aether/internal/configuration/DefaultAetherConfiguration.java :\u000f XWIKI-7485: Extension manager should not have a hard dependency on ...  \n17:30\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r1522d0a\u000f \u000f/ (2 files):\u000f XCOMMONS-90: Add a ConfigurationSource Provider which provide an empty configuration when no ConfigurationSource can be found ...  \n17:32\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:33\u00a0<gdelhumeau>\u00a0has quit  \n17:46\u00a0<DrLou\\_>\u00a0has quit  \n17:51\u00a0<abusenius>\u00a0has joined #xwiki  \n17:51\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n17:53\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n17:58\u00a0<lucaa>\u00a0has joined #xwiki  \n18:04\u00a0<vmassol>\u00a0cjd: any idea why commit notifications don't have links anymore?  \n18:05\u00a0<@sdumitriu>\u00a0Yeah, was wondering that as well  \n18:05\u00a0<@cjd>\u00a0no idea, I didn't change anything  \n18:06\u00a0<@cjd>\u00a0I'll look at the configuration on that bot  \n18:21\u00a0<@cjd>\u00a0I just reordered the output so the link should come before the commit log and files.  \n19:00\u00a0<vmassol>\u00a0has quit  \n19:26\u00a0<evalica>\u00a0has quit  \n19:29\u00a0<gdelhumeau>\u00a0has quit  \n19:30\u00a0<jvdrean>\u00a0has quit  \n19:31\u00a0<lucaa>\u00a0has quit  \n19:31\u00a0<tmortagne>\u00a0has quit  \n20:09\u00a0<Enygma`>\u00a0has quit  \n22:51\u00a0<abusenius>\u00a0has quit  \n22:59\u00a0<rrodriguez>\u00a0has joined #xwiki  \n23:37\u00a0<rrodriguez>\u00a0has quit  \n23:39\u00a0<rrodriguez>\u00a0has joined #xwiki  \n\n"}