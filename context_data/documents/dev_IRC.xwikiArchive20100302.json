{"id": "dev:IRC.xwikiArchive20100302", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100302", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nvmassol left at 00:40 (Quit: Leaving.  \njvelociter left at 01:25 (Quit: jvelociter  \njvdrean left at 01:48 (Quit: Leaving.  \nnickless left at 02:29 (Ping timeout: 240 seconds  \nsdumitriu left at 03:30 (Ping timeout: 265 seconds  \nvenkatesh joined #xwiki at 03:54  \nbbc581 left at 05:20 (Remote host closed the connection  \nCalebJamesDeLisl left at 05:42 (Quit: The user has gone to sleep.  \nCalebJamesDeLisl joined #xwiki at 05:42  \nvenkatesh left at 06:02 (Ping timeout: 240 seconds  \nDenis left at 06:03 (Ping timeout: 276 seconds  \nvenkatesh joined #xwiki at 06:04  \nDenis joined #xwiki at 06:09  \nvenkatesh left at 06:23 (Ping timeout: 264 seconds  \nvenkatesh joined #xwiki at 06:24  \nmflorea joined #xwiki at 06:40  \nmflorea left #xwiki at 06:47  \nmflorea joined #xwiki at 06:47  \nmflorea1 joined #xwiki at 06:59  \nmflorea left at 07:02 (Ping timeout: 265 seconds  \nvmassol joined #xwiki at 08:02  \nkibahop joined #xwiki at 08:06  \njvelociter joined #xwiki at 08:08  \nvmassol left at 08:09 (Quit: Leaving.  \nMichelleShi joined #xwiki at 08:15  \nMichelleShi left at 08:16 (Client Quit  \ndaning joined #xwiki at 08:16  \nvmassol joined #xwiki at 08:28  \nnpm left at 08:32 (Quit: Leaving.  \nEnygma` joined #xwiki at 08:35  \nflorinciu joined #xwiki at 08:36  \nnpm joined #xwiki at 08:38  \nsilviar left at 09:02 (Quit: ChatZilla 0.9.85 [Firefox 3.5.8/20100202165920]  \nkibahop left #xwiki at 09:07  \nanamarias joined #xwiki at 09:09  \ntmortagne joined #xwiki at 09:17  \nsilviar joined #xwiki at 09:19  \nlucaa left at 09:25 (Quit: Leaving.  \narkub joined #xwiki at 09:33  \njvdrean joined #xwiki at 09:41  \nKermitTheFragger joined #xwiki at 10:14  \nvenkatesh left at 10:15 (Quit: leaving  \nmflorea1 left at 10:19 (Quit: Leaving.  \nlucaa joined #xwiki at 10:22  \nflorinciu left at 10:24 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 10:34  \nsdumitriu joined #xwiki at 11:03  \nmflorea joined #xwiki at 11:04  \nnpm left at 11:39 (Ping timeout: 248 seconds  \nnpm joined #xwiki at 11:44  \ndaning left at 11:46 (Quit: Leaving  \nSvenDowideit\\_ joined #xwiki at 11:48  \nSvenDowideit left at 11:50 (Ping timeout: 264 seconds  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nSvenDowideit\\_ joined #xwiki at 11:53  \nSvenDowideit left at 11:55 (Ping timeout: 240 seconds  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nMichelleShi joined #xwiki at 12:00  \nsilviar1 joined #xwiki at 12:03  \nsilviar left at 12:03 (Ping timeout: 268 seconds  \njvdrean left at 12:15 (Quit: Leaving.  \nflorinciu left at 12:26 (Read error: Connection reset by peer  \nsilviar1 left #xwiki at 12:29  \nsilviar1 joined #xwiki at 12:29  \nflorinciu joined #xwiki at 12:32  \nplunden joined #xwiki at 12:43  \nplunden left at 12:43 (Client Quit  \nplunden joined #xwiki at 12:44  \nanamarias left at 13:03 (Quit: anamarias  \nnickless joined #xwiki at 13:04  \nflorinciu left at 13:06 (Quit: Leaving.  \nMichelleShi left at 13:28 (Quit: Leaving  \nanamarias joined #xwiki at 13:31  \nflorinciu joined #xwiki at 13:42  \nevalica joined #xwiki at 13:45  \njason joined #xwiki at 13:46  \njason is now known as MichelleShi ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nMichelleShi left at 13:48 (Quit: ??  \nevalica left at 13:52 (Ping timeout: 245 seconds  \nevalica joined #xwiki at 13:52  \njvdrean joined #xwiki at 13:59  \nkibahop joined #xwiki at 13:59  \nkibahop - (14:05): Hi, I'm trying to set up virtualized wiki instances using glassfish, postgresql & xe 2.2. I'm following this guide: http://www.xwiki.org/xwiki/bin/view/FAQ/HowToSetupVirtualWikis. I am told to \"Using \"edit object\", add an object of instance \"XWiki.XWikiServerClass\" to that document\". The question is how do I do that. Thanks.  \nvmassol - (14:09): kibahop: if you want to set up a multi wiki you should follow this instead: http://manager.xwiki.org/  \nvmassol - (14:10): and more precisely: http://manager.xwiki.org/xwiki/bin/view/AdminGuide/Installation  \nvmassol - (14:10): (other docs are at http://manager.xwiki.org/xwiki/bin/view/AdminGuide/)  \nsdumitriu - (14:13): kibahop: postgresql is not supported for virtual wikis  \nsdumitriu - (14:13): Although CalebJamesDeLisl managed to make it work  \nanamarias - (14:14): hi  \nvmassol - (14:15): hi anamarias  \nanamarias - (14:15): how do you test a protected method for a component?  \nvmassol - (14:15): unit test?  \nanamarias - (14:15): yes  \nanamarias - (14:15): usually you get the component from the component manager  \nvmassol - (14:15): you create a test class in the same package  \nanamarias - (14:15): and call the method on it  \nvmassol - (14:15): yes you get the component  \nvmassol - (14:15): and then call the protected method on it  \nanamarias - (14:16): can you upcast?  \nanamarias - (14:16): sorry  \nvmassol - (14:16): yes  \nvmassol - (14:16): since you know the instance  \nvmassol - (14:16): you can cast it  \nanamarias - (14:16): ah right  \nanamarias - (14:16): ok, thanks  \nvmassol - (14:18): note that if the components are correctly written and not large they either don't need protected methods (these are moved to another component) or they're small enough so that you only need to test the public methods (and the protected methods are tested indirectly)  \nvmassol - (14:18): (it's a note since I know this probably doesn't apply in your case ;))  \nkibahop - (14:19): sdumitriu: \"If you are using PostgreSQL, virtual wikis can only be set up using the by hand method and creating the new database manually see: PostgreSQL Installation. This is because PostgreSQL does not allow CREATE DATABASE inside of a transaction, see jira issue XWIKI-1960.\" This is what I'm trying to do. So this information is outdated & wrong?  \nvmassol - (14:19): in other words a protected method means that another component should be written and the current one refactored to use it  \nsdumitriu - (14:20): kibahop: No, that should be correct  \nvmassol - (14:20): CalebJamesDeLisl has commented in this issue kibahop  \nlucaa - (14:21): [myxwiki] restarting  \nCalebJamesDeLisl - (14:22): I had no problem getting virtual wikis to work with postgres but I seem to be the only one, maybe that should be removed.  \nvmassol - (14:22): kibahop: another doc: http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Virtualization  \nCalebJamesDeLisl - (14:23): All I did was to create another database with createdb -Upostgres -Eunicode -Oxwiki subwiki1  \nCalebJamesDeLisl - (14:23): Then set up the server objects as usual.  \nkibahop - (14:24): Thanks everybody. I'll investigate further into this.  \nCalebJamesDeLisl - (14:26): I also changed the setting in xwiki.cfg  \nCalebJamesDeLisl - (14:26): Note that I never got subdomains working but I didn't ever try and I don't think that has much to do with the database type.  \nkibahop - (14:27): CalebJamesDeLisl: Ok. Thanks for the info.  \nCalebJamesDeLisl - (14:28): Sure. I think I'll remove that note and maybe make up a howto draft.  \ntmortagne - (14:30): CalebJamesDeLisl: by \"subdomains\" you mean target the right wiki with the right domain ?  \nCalebJamesDeLisl - (14:30): I was referencing my subwikis as 127.0.0.1:8081/xwikiTrunk/wiki1/bin/...  \nCalebJamesDeLisl - (14:31): (I might have the url format wrong)  \ntmortagne - (14:31): ok so yes it has nothing to do with the database engine, you just need to put the host as alias in teh wiki descriptor  \ntmortagne - (14:31): (what you use is the url path based mode)  \nCalebJamesDeLisl - (14:31): That's what I thought but I like not to rule anything out.  \ntmortagne - (14:31): there is no \"subdomains\" system actually  \ntmortagne - (14:33): CalebJamesDeLisl, kibahop: note that you can probably create the postgresql database by hand and then use the regular wikimanager UI to create the wiki (create the descriptor etc...)  \narkub left at 14:34 (Quit: Leaving  \ntmortagne - (14:34): the page test if the database already exist (by trying to switch to it) and you can indicate that you want to force using the same database, it's used when you don't want to give xwiki mysql user the right to create database for example  \nCalebJamesDeLisl - (14:35): I was also able to create a new database in postgres using a groovy script.  \nCalebJamesDeLisl - (14:35): But you won't like how I did it.  \ntmortagne - (14:36): CalebJamesDeLisl: you sure ? there is pretty nasty things in the storage code ;)  \ntmortagne - (14:36): and if it adds full postgre support it's better than nothing i guess  \nCalebJamesDeLisl - (14:36): Try this: \u00a0\u00a0commit; create database newdb .....  \nCalebJamesDeLisl - (14:36): :)  \ntmortagne - (14:36): as long as it only impact wiki database creation in postgres  \ntmortagne - (14:37): CalebJamesDeLisl: would that work all the time ?  \ntmortagne - (14:38): i would love to add another database support in the XEM release note ;)  \narkub joined #xwiki at 14:38  \nCalebJamesDeLisl - (14:38): I don't know, maybe I just have a magic postgres installation which likes xwiki.  \ntmortagne - (14:40): CalebJamesDeLisl: you you indicate this idea in XWIKI-1960 and maybe your groovy script for others users maybe  \ntmortagne - (14:40): ?  \ntmortagne - (14:40): s/you you/could you/  \ntmortagne - (14:41): maybe sometime when i have time i will try it :)  \nCalebJamesDeLisl - (14:41): I think it's better for users to use createdb if it's not in the storage engine.  \nCalebJamesDeLisl - (14:42): (not sure but) I think there's a possibility for hibernate to loose track of the transaction.  \nCalebJamesDeLisl - (14:43): so rollback; create database........ start transaction; is probably better.  \nCalebJamesDeLisl - (14:43): s/loose/lose  \ntmortagne - (14:43): ok  \nflorinciu left at 14:44 (Read error: Connection reset by peer  \nCalebJamesDeLisl - (14:45): permutation 3 of the wysiwyg editor is taking a looooong time to compile on hudson ;)  \nanamarias\\_ joined #xwiki at 14:52  \nanamarias\\_ left at 14:54 (Remote host closed the connection  \nanamarias\\_ joined #xwiki at 14:54  \nanamarias left at 14:54 (Read error: Connection reset by peer  \nanamarias\\_ is now known as anamarias ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nflorinciu joined #xwiki at 14:55  \ntmortagne - (14:56): CalebJamesDeLisl: is there a doc somewhere on how to use the new application configurator system you introduced ?  \nCalebJamesDeLisl - (14:56): not yet :(  \ntmortagne - (14:57): i can just look around registration page, right ? what shoul i look at to start my own configurator for may app ?  \ntmortagne - (14:57): s/may/my/  \nvmassol - (14:59): jvdrean: are you uprgading xwiki.org or myxwiki.org today?  \nEnygma` left at 15:00 (Ping timeout: 276 seconds  \nCalebJamesDeLisl - (15:04): The RegistrationConfig page has an object of the class Configurable. That object points to a custom configuration class of which an object is attached to RegistrationConfig  \ntmortagne - (15:05): CalebJamesDeLisl: ok thanks  \nCalebJamesDeLisl - (15:05): You can also take a look at the selenium test, it is tested well and I fond tests are good documentation.  \nCalebJamesDeLisl - (15:06): s/find/find  \ntmortagne - (15:06): sure  \nCalebJamesDeLisl - (15:06): Any questions, please ask. I think it's great that it's being used so soon.  \ntmortagne - (15:10): CalebJamesDeLisl: yep i will, first one: the rule is supposed to be to suffix xclasses names with \"Class\" (like \"XWiki.ConfigurableClass\"), i think i saw someone comment that in one of you commit on in a jira issue  \nCalebJamesDeLisl - (15:11): Ahh, I must have missed it.  \nvmassol - (15:11): I think it was me... ;)  \nvmassol - (15:12): (or at least I remember giving this comment not long ago :))  \nCalebJamesDeLisl - (15:13): I guess it doesn't have so much exposure yet that I couldn't change it. There is the issue of changing the RegistrationConfig page.  \ntmortagne - (15:14): CalebJamesDeLisl: is it part of 2.2 ?  \nlucaa - (15:14): guys I need a bit of help with myxwiki  \ntmortagne - (15:14): i don't remember  \nCalebJamesDeLisl - (15:14): Yes it is.  \nlucaa - (15:14): actually no, nevermind  \nvmassol - (15:14): lucaa: glad I was able to help :)  \ntmortagne - (15:14): CalebJamesDeLisl: \u00a0ha so indeed not very easy to change  \ntmortagne - (15:15): now i guess it des not have been used a lot yet  \ntmortagne - (15:16): what would be the common use for it ? enable captcha ?  \nCalebJamesDeLisl - (15:16): Well, no documentation so I doubt it has much use.  \nlucaa - (15:16): [myxwiki] restart  \ntmortagne - (15:17): CalebJamesDeLisl: Configurable yes but registration configuration is part of the admin UI now  \nCalebJamesDeLisl - (15:17): Configurable is for developers who want to write applications which should be configured in the administration application but are unable to modify the administration application to add them.  \ntmortagne - (15:18): but it does not sounds too critical as soon as it's propely warned in the release note  \ntmortagne - (15:18): CalebJamesDeLisl: what i mean is that RegistrationConfig coudl have been modifed already  \ntmortagne - (15:19): so if we change Registration class name it will break the configuration set by a user  \nCalebJamesDeLisl - (15:19): Registration, you mean configurable?  \ntmortagne - (15:19): since he will have to overwrite RegistrationConfig page for it to be part of the admin UI ?  \ntmortagne - (15:19): wait  \ntmortagne - (15:20): CalebJamesDeLisl: the class defining registration configuration is \"XWiki.Registration\", rigth ?  \nCalebJamesDeLisl - (15:20): Registration has a class as well, that class is the class for the configuration for the registration page.  \nCalebJamesDeLisl - (15:20): yes.  \ntmortagne - (15:20): so it has to be changed  \ntmortagne - (15:21): which mean RegistrationConfig has to be changed too  \nCalebJamesDeLisl - (15:21): But it's also the name of the registration page itself.  \nCalebJamesDeLisl - (15:21): My thinking was \"keep the class as close as possible to the code which uses it\"  \ntmortagne - (15:21): ha, did not seen that  \ntmortagne - (15:22): so why is there a RegistrationConfig page separated then ?  \ntmortagne - (15:22): ok i see  \ntmortagne - (15:23): to modify the logic without overriding the configuration data  \nCalebJamesDeLisl - (15:23): A user can export RegistrationConfig, update the installation, reimport RegistrationConfig and have their configuration back.  \ntmortagne - (15:23): yes  \nCalebJamesDeLisl - (15:24): When I get around to it I will write a class which objects point to other objects whose values should be loaded from the last version on import. I had been thinking XWiki.Upgradable  \nCalebJamesDeLisl - (15:24): For upgradable configurations.  \nvmassol - (15:31): jvelociter: I think we're almost ready to start the vote to move the selenium2 tests to enterprise/ now  \nvmassol - (15:32): jvelociter: the only potential thing missing is that we need to decide how we want to handle the various skins  \njvelociter - (15:32): ok. I did not read your latest commit yet  \ntmortagne - (15:32): vmassol: cool i have one test to write, i will wait for it ;)  \njvelociter - (15:32): s/commit/commit(s)  \nvmassol - (15:32): tmortagne: you don't have to wait! you can write in the sandbox :)  \nvmassol - (15:33): (as jerome did)  \nvmassol - (15:33): it'll help actually if you do so  \njvelociter - (15:33): yes re skins it's not an easy one  \nvmassol - (15:33): so that we can firm up the new fwk  \njvelociter - (15:33): since now all elements are scattered in pages objects  \nvmassol - (15:33): jvelociter: I could do as I did before  \nvmassol - (15:33): with skin executors  \ntmortagne - (15:33): my test is very basic so it will not validate much  \njvelociter - (15:33): the skin executor  \ntmortagne - (15:35): actually i think it probably shouldn't be a selenium test  \nvmassol - (15:36): yes probably not  \njvelociter - (15:36): vmassol: re the skin executors, I don't know  \nvmassol - (15:36): got to go for 1 hour, will think about it, right now I don't see any other option than skin executors  \nvmassol - (15:36): the page object would use skin executors  \njvelociter - (15:36): where would they be plugged ? in pages ?  \njvelociter - (15:36): I think I don't like it  \njvelociter - (15:37): but I have to think more about it too  \nvmassol - (15:37): skin executors would list actions that are skin dependent  \nvmassol - (15:37): s/list/implement/  \nvmassol - (15:37): need to think more  \njvelociter - (15:37): yes  \nvmassol - (15:37): see you in 1 hour  \njvelociter - (15:37): they should not list everything that's sure  \njvelociter - (15:37): ok  \njvdrean - (15:45): exception while updating myxwiki.org to a recent 2.3-SNAPSHOT  \njvdrean - (15:45): http://pastebin.org/99972  \nlucaa - (15:47): try to remove the xwiki-annotation-model-backport  \nlucaa - (15:48): I wouldn't bet for it, but it's worth a try  \nlucaa - (15:48): ( jvdrean )  \njvdrean - (15:49): can I remove xwiki-annotation-\\* ?  \njvdrean - (15:49): and let you perform the install later ?  \njvdrean - (15:49): (the install of the annotations)  \nlucaa - (15:49): go ahed  \nlucaa - (15:49): ahead  \njvdrean - (15:52): http://www.myxwiki.org/xwiki/bin/view/Main/  \njvdrean - (15:52): \"Exception occurred inside setter of com.xpn.xwiki.doc.XWikiDocument.syntaxId\"  \njvdrean - (15:52): looks like it happens when getting any wiki descriptor document  \nanamarias\\_ joined #xwiki at 15:52  \nanamarias left at 15:54 (Read error: Connection reset by peer  \nanamarias\\_ is now known as anamarias ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nCalebJamesDeLisl - (15:55): In the paste you linked to it happened when getting the jsx or ssx class document.  \njvdrean - (15:55): yes and it doesn't happen after removing the custom backports for the annotations  \njvdrean - (15:59): anyone knows what could make the XWikiDocument#setSyntaxId(String) throw an exception ?  \ntmortagne - (16:03): looking  \nbblfish left at 16:05 (Ping timeout: 245 seconds  \ntmortagne - (16:06): well i don't see anything that could produce an exception in XWikiDocument#setSyntaxId  \ntmortagne - (16:07): unless there is a bug in syntaxFactory component but i doubt that  \ntmortagne - (16:07): you would probably have nothing working  \ntmortagne - (16:08): looks like the issue is will all asynch content  \ntmortagne - (16:08): not sure actually for the one need tags and the one in the header  \ntmortagne - (16:08): i don't know them  \njvdrean - (16:08): http://pastebin.org/99981  \ntmortagne - (16:10): not easy without the real exception...  \ntmortagne - (16:12): XWikiException and its great handling of sub exceptions...  \njvdrean - (16:12): \u00a0\u00a0\u00a0\u00a0private Syntax syntax;  \njvdrean - (16:13): have we modified the type of syntax between 2.2 and 2.3 ?  \nkibahop left #xwiki at 16:13  \ntmortagne - (16:13): i don't think so but i should not be an issue  \ntmortagne - (16:13): s/i/it/  \ntmortagne - (16:16): yes the type change, we use to store a String syntaxId in the XWikiDocument  \ntmortagne - (16:16): changed  \ntmortagne - (16:16): but hibernate is supposed to use setSyntaxId() and it does use it in hudson or in local  \ntmortagne - (16:17): plus nothing at all would work if it was the issue  \ntmortagne - (16:17): here you have the document content  \nbblfish joined #xwiki at 16:19  \ntmortagne - (16:25): actualltsetSyntaxId could produce a nullpointer exception if there is no xwiki-configuration jar maybe  \ntmortagne - (16:25): (i.e. if Utils.getComponent(CoreConfiguration.class) return null)  \ntmortagne - (16:25): but i doubt that's the issue you have here  \ntmortagne - (16:27): jvdrean: you can maybe have more exceptions if you change something in the log4j configuration (but i don't know what)  \ntmortagne - (16:28): hmm no that would not help since XWikiException doe snot set properly the cause exception in Exception api  \nanamarias left at 16:30 (Quit: anamarias  \ntmortagne - (16:30): checking hibernate mapping for syntaxid, we have the excatl same use case in 2.2 with setName, setSpace and setDatabase  \ntmortagne - (16:31): it's described done the exact same way so no i really don't see why you have this issue  \nflorinciu left at 16:45 (Read error: Connection reset by peer  \ntmortagne - (16:55): hmm this is weird, looking at what changed has been made by XWiki.XWikiGuest  \ntmortagne - (16:56): ha ok that's forgotten passwrod system, we should use another user for that...  \nplunden left at 17:00 (Read error: Operation timed out  \nevalica left at 17:00 (Read error: Connection reset by peer  \nplunden joined #xwiki at 17:01  \ntmortagne - (17:03): CalebJamesDeLisl: there is a typo in a error message \"No object of class: XWiki.SearchConfigurationClass found in document \u00a0XWiki.SearchConfig, cant display configuration\", --> cant  \njvdrean - (17:03): I'm about to upgrade xwiki.org webapp from 2.0.2 to 2.2.1  \ntmortagne - (17:03): you probably forgot to double the '  \njvdrean - (17:04): if nobody shouts I'll restart xwiki.org in 5min  \nCalebJamesDeLisl - (17:05): Thanks, I think I was getting errors from can't being a single quote so I removed it to keep testing and forgot to put it back doubled.  \nCalebJamesDeLisl - (17:11): Hmm, no it's right in the applicationProperties (it says \"can't\") must be velocity is stealing the '  \ntmortagne - (17:12): CalebJamesDeLisl: no  \ntmortagne - (17:12): it's because of the {0}  \nCalebJamesDeLisl - (17:12): How does that work?  \nplunden left at 17:12 (Read error: Operation timed out  \nvmassol - (17:13): CalebJamesDeLisl: http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html  \ntmortagne - (17:13): wait checking a class name  \ntmortagne - (17:13): yes that one  \nplunden joined #xwiki at 17:13  \nCalebJamesDeLisl - (17:13): ok  \ntmortagne - (17:13): wheren there is {0} etc. we use MessageFormat  \ntmortagne - (17:13): only in this case  \ntmortagne - (17:13): ans in MEssageFormat ' is an escapig char  \ntmortagne - (17:14): butif we can't find anything like {0} we don't use it so ' alone works  \nvmassol - (17:14): Within a String, \"''\" represents a single quote. A QuotedString can contain arbitrary characters except single quotes; the surrounding single quotes are removed. An UnquotedString can contain arbitrary characters except single quotes and left curly brackets. Thus, a string that should result in the formatted message \"'{0}'\" can be written as \"'''{'0}''\" or \"'''{0}'''\".  \n\n"}