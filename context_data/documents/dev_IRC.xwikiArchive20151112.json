{"id": "dev:IRC.xwikiArchive20151112", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151112", "title": "IRC Archive for channel #xwiki on 12 November 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:05\u00a0<DarkKnightCZ>\u00a0has quit  \n00:31\u00a0<woshilapin>\u00a0has quit  \n04:07\u00a0<sdumitriu>\u00a0has quit  \n04:21\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:52\u00a0<mflorea>\u00a0has joined #xwiki  \n06:01\u00a0<Denis2>\u00a0has joined #xwiki  \n06:01\u00a0<Denis>\u00a0has quit  \n07:07\u00a0<mflorea>\u00a0has quit  \n07:23\u00a0<msmeria>\u00a0has joined #xwiki  \n07:37\u00a0<MasterPiece>\u00a0has joined #xwiki  \n08:02\u00a0<MasterPiece>\u00a0has quit  \n08:09\u00a0<Ramona1>\u00a0has joined #xwiki  \n08:14\u00a0<cjd>\u00a0has quit  \n08:18\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:19\u00a0<vmassol>\u00a0has joined #xwiki  \n08:29\u00a0<vmassol1>\u00a0has joined #xwiki  \n08:29\u00a0<vmassol>\u00a0has quit  \n08:36\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:47\u00a0<evalica>\u00a0has joined #xwiki  \n08:53\u00a0<ClemensR>\u00a0has joined #xwiki  \n08:54\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n08:54\u00a0<cjd>\u00a0has joined #xwiki  \n09:09\u00a0<evalica>\u00a0has quit  \n09:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:32\u00a0<Denis2>\u00a0is now known as <Denis>  \n09:40\u00a0<mflorea>\u00a0has joined #xwiki  \n09:40\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:40\u00a0<mflorea>\u00a0has quit  \n09:40\u00a0<mflorea1>\u00a0has joined #xwiki  \n09:46\u00a0<vmassol1>\u00a0good morning  \n09:46\u00a0<vmassol1>\u00a0BFD today?  \n09:46\u00a0<vmassol1>\u00a0is now known as <vmasol>  \n09:46\u00a0<vmasol>\u00a0is now known as <vmassol>  \n09:46\u00a0<tmortagne>\u00a0vmassol: +4  \n09:46\u00a0<tmortagne>\u00a0+1  \n10:19\u00a0<Ramona1>\u00a0has quit  \n10:26\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:28\u00a0<Slashman>\u00a0has joined #xwiki  \n10:35\u00a0<DarkKnightCZ>\u00a0has quit  \n10:44\u00a0<cthiel>\u00a0has quit  \n11:12\u00a0<gdelhumeau>\u00a0BFD?  \n11:29\u00a0<Trefex>\u00a0has joined #xwiki  \n11:37\u00a0<vmassol>\u00a0yes  \n12:07\u00a0<evalica>\u00a0has joined #xwiki  \n12:15\u00a0<Ramona1>\u00a0has joined #xwiki  \n13:58\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:02\u00a0<msmeria>\u00a0has quit  \n14:33\u00a0<Bugendolf>\u00a0has joined #xwiki  \n14:50\u00a0<vmassol>\u00a0hmmm  \n14:50\u00a0<vmassol>\u00a0I've tried to build XE and I got:  \n14:50\u00a0<vmassol>\u00a0[ERROR] Failed to execute goal on project xwiki-enterprise-web: Could not resolve dependencies for project org.xwiki.enterprise:xwiki-enterprise-web:war:7.4-SNAPSHOT: The following artifacts could not be resolved: org.slf4j:jcl-over-slf4j:jar:1.7.13-xwiki, org.slf4j:log4j-over-slf4j:jar:1.7.13-xwiki: Could not find artifact org.slf4j:jcl-over-slf4j:jar:1.7.13-xwiki in xwiki-releases (http://nexus.xwiki.org/nexus/content/groups/public)   \n14:50\u00a0<vmassol>\u00a0checking now to see if the artifact in our maven repo  \n14:51\u00a0<vmassol>\u00a0it's not appazrently  \n14:51\u00a0<vmassol>\u00a0I see only 1.7.12-xwiki  \n14:51\u00a0<vmassol>\u00a0http://maven.xwiki.org/externals/org/slf4j/jcl-over-slf4j/  \n14:51\u00a0<vmassol>\u00a0tmortagne: ?  \n14:52\u00a0<tmortagne>\u00a0yes I need to built the custom 1.7.13-xwiki  \n14:58\u00a0<tmortagne>\u00a0done  \n14:59\u00a0<vmassol>\u00a0ok thanks retrying  \n15:02\u00a0<woshilapin>\u00a0has quit  \n15:21\u00a0<tmortagne>\u00a0I restarted the XE build  \n15:29\u00a0<woshilapin>\u00a0has joined #xwiki  \n15:39\u00a0<vmassol>\u00a0Enygma`: where can I enable realtime watching?  \n15:42\u00a0<Enygma`>\u00a0vmassol: http://extensions.xwiki.org/xwiki/bin/view/Extension/Watchlist+Application#HRealtimenotifications  \n15:42\u00a0<Enygma`>\u00a0\"edit xwiki.properties and set watchlist.realtime.enabled to true.\"  \n15:43\u00a0<vmassol>\u00a0experimental, ok  \n15:46\u00a0<mflorea1>\u00a0vmassol: re http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HXARTesting , I'm getting \"Unknown macro: include\" so I'm guessing that none of the macros are registered, except for Velocity?  \n15:46\u00a0<vmassol>\u00a0correct  \n15:46\u00a0<mflorea1>\u00a0:(  \n15:47\u00a0<vmassol>\u00a0there are tons of components not registered  \n15:47\u00a0<vmassol>\u00a0but they shouldn't be  \n15:47\u00a0<vmassol>\u00a0we need to build various @ComponentList  \n15:47\u00a0<mflorea1>\u00a0include macro is used pretty often in wiki pages  \n15:47\u00a0<vmassol>\u00a0as otherwise we'll decrease perfs  \n15:48\u00a0<mflorea1>\u00a0IMO it's part of the page rendering  \n15:48\u00a0<vmassol>\u00a0we may possibly have too much already in PageComponentList  \n15:48\u00a0<vmassol>\u00a0this is quite new so we'll need to tune/decide what to do  \n15:48\u00a0<vmassol>\u00a0anything added need to be measured  \n15:48\u00a0<vmassol>\u00a0in term of perf  \n15:48\u00a0<vmassol>\u00a0using a profiler  \n15:49\u00a0<vmassol>\u00a0or we'll easily use 5-6 seconds just to init the components  \n15:49\u00a0<vmassol>\u00a0we're close to 2s right now I think  \n15:49\u00a0<vmassol>\u00a0(I'd like to reduce this even more but I need to redo a round of profiming)  \n15:49\u00a0<mflorea1>\u00a0I'm not sure we talk about the same thing  \n15:49\u00a0<vmassol>\u00a0\\*profiling  \n16:10\u00a0<vmassol>\u00a0mflorea1: for http://jira.xwiki.org/browse/XWIKI-12270# does it mean that right now we see only one level and don't see nested pages that have been updated?  \n16:10\u00a0<vmassol>\u00a0(which would mean the issue is a bug rather than a task, from a user pov)  \n16:13\u00a0<mflorea1>\u00a0vmassol: you see all the changes, for nested pages too, but they are displayed as top level pages, using the name of the last space  \n16:13\u00a0<vmassol>\u00a0ok I see  \n16:13\u00a0<vmassol>\u00a0thanks  \n16:13\u00a0<vmassol>\u00a0so we do need to fix this for 7.4.x  \n16:14\u00a0<mflorea1>\u00a0we don't have nested pages in the default distribution (GD added one recently though) so it's not an issue. We still need to fix it ofc  \n16:16\u00a0<vmassol>\u00a0yes  \n16:19\u00a0<msmeria1>\u00a0has quit  \n16:21\u00a0<vmassol>\u00a0we also need to decide if http://jira.xwiki.org/browse/XWIKI-12544 is required for 7.4.x  \n16:21\u00a0<vmassol>\u00a0I think it would be very nice to have it, would someone have the time to work on it?  \n16:36\u00a0<tmortagne>\u00a0has quit  \n16:48\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:53\u00a0<tmortagne>\u00a0has quit  \n17:05\u00a0<KermitTheFragger>\u00a0has quit  \n17:07\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:11\u00a0<tmortagne>\u00a0has left #xwiki  \n17:24\u00a0<mflorea1>\u00a0vmassol: do you have any idea of how I could register a mock tool in the Velocity context for a PageTest  \n17:24\u00a0<mflorea1>\u00a0?  \n17:24\u00a0<mflorea1>\u00a0before I start digging  \n17:24\u00a0<vmassol>\u00a0I'll need to dig to answer  \n17:24\u00a0<vmassol>\u00a0:)  \n17:24\u00a0<mflorea1>\u00a0ok  \n17:24\u00a0<mflorea1>\u00a0I'll digg  \n17:25\u00a0<vmassol>\u00a0you could mock the velocity configurztion I guess  \n17:25\u00a0<vmassol>\u00a0getTools() method  \n17:25\u00a0<mflorea1>\u00a0I'll check  \n17:26\u00a0<mflorea1>\u00a0\"the value is the tool's class name\", so it doesn't help, because the Velocity Manager will attempt to instantiate that class  \n17:28\u00a0<vmassol>\u00a0ok so you want the real velocity engine but using some mock tool...hmm  \n17:28\u00a0<mflorea1>\u00a0maybe I can spy the VelocityContextFactory component  \n17:29\u00a0<vmassol>\u00a0yes you can mock it or spy it to replace intiialize()  \n17:29\u00a0<mflorea1>\u00a0yep, that is where the tools are initialized  \n17:29\u00a0<vmassol>\u00a0or  \n17:29\u00a0<vmassol>\u00a0simply inject some new tools after it's been initialized  \n17:29\u00a0<mflorea1>\u00a0right  \n17:31\u00a0<mflorea1>\u00a0I'll have to access the toolsContext field through reflection  \n17:32\u00a0<Enygma`>\u00a0has quit  \n17:38\u00a0<evalica>\u00a0has quit  \n17:43\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:48\u00a0<vmassol>\u00a0mflorea1: any idea why we get this diff just now: http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application?viewer=changes&rev1=145.1&rev2=145.2  \n17:48\u00a0<vmassol>\u00a0I doubt that this Alex has modifid that much  \n17:49\u00a0<vmassol>\u00a0he just added a comment AFAICS  \n17:50\u00a0<mflorea1>\u00a0the change seems to be made by the extension updater job  \n17:51\u00a0<vmassol>\u00a0mflorea1: yes but I don't understand why adding a comment would do this  \n17:51\u00a0<vmassol>\u00a0the link is not correct  \n17:51\u00a0<vmassol>\u00a0in the IRC bot  \n17:52\u00a0<vmassol>\u00a0should have been http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application?viewer=changes&rev1=144.3&rev2=144.4  \n17:53\u00a0<vmassol>\u00a0missing rev1 in the IRCBot URL  \n17:53\u00a0<mflorea1>\u00a0I don't see any comment in the diff. The page save could have triggered the extension repository listener that checks the extension objects  \n17:54\u00a0<vmassol>\u00a0mflorea1: it was just a bad URL by the IRC bot  \n17:54\u00a0<mflorea1>\u00a0I was referring to the first diff  \n17:54\u00a0<vmassol>\u00a0me too  \n17:55\u00a0<vmassol>\u00a0the irc bot printed: http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application?viewer=changes&amp;rev2=144.4  \n17:55\u00a0<vmassol>\u00a0but it's missing rev1  \n17:55\u00a0<vmassol>\u00a0if you add rev1=145.1 is work fine  \n17:55\u00a0<vmassol>\u00a0wait  \n17:55\u00a0<mflorea1>\u00a0I'm referring to http://extensions.xwiki.org/xwiki/bin/view/Extension/Office+Importer+Application?viewer=changes&rev1=145.1&rev2=145.2  \n17:55\u00a0<vmassol>\u00a0rev1=144.3 I mean  \n17:55\u00a0<mflorea1>\u00a0this is what you paster initially  \n17:56\u00a0<vmassol>\u00a0yes and I got it by clicking on the ircbot link  \n17:56\u00a0<vmassol>\u00a0(for the comment)  \n17:56\u00a0<vmassol>\u00a0(not sure how though)  \n17:57\u00a0<vmassol>\u00a0I think he clicked on the refresh button but normally this button should only be visible to admins no?  \n17:57\u00a0<mflorea1>\u00a0I don't know  \n17:57\u00a0<vmassol>\u00a0tmortagne: ?  \n17:58\u00a0<vmassol>\u00a0too bad he gave a 1 rating to this extension, it's a great one :)  \n17:58\u00a0<vmassol>\u00a01+ 5 / 2 = 3 now ;)  \n17:59\u00a0<vmassol>\u00a0just because he coulsn't import a PDF file with it...  \n17:59\u00a0<tmortagne>\u00a0vmassol: I fixed recently the importer to properly order versions which was totally random before  \n17:59\u00a0<tmortagne>\u00a0order dependencies sorry  \n17:59\u00a0<vmassol>\u00a0tmortagne: I just wonder how Alex could click on the button  \n18:00\u00a0<vmassol>\u00a0is everyone allowed to do this?  \n18:00\u00a0<tmortagne>\u00a0you just need edit right  \n18:00\u00a0<vmassol>\u00a0hmm  \n18:00\u00a0<vmassol>\u00a0we want that?  \n18:00\u00a0<tmortagne>\u00a0since all it does is modifying the document  \n18:00\u00a0<tmortagne>\u00a0everything done you can do it with edit right  \n18:00\u00a0<vmassol>\u00a0sure but nobody will without this button  \n18:00\u00a0<Ramona1>\u00a0has quit  \n18:01\u00a0<vmassol>\u00a0just wondering if this is not some admin feature  \n18:01\u00a0<tmortagne>\u00a0it's not an admin feature since admin don't care about that, extension contirbutor does  \n18:02\u00a0<vmassol>\u00a0not really xwiki.org will import automatically, forcing it could be considered an admin feature  \n18:02\u00a0<vmassol>\u00a0I mean Alex has absolutely no reason to want to click on this link  \n18:02\u00a0<vmassol>\u00a0but yes he did  \n18:02\u00a0<vmassol>\u00a0just because the link is there  \n18:02\u00a0<vmassol>\u00a0he certainly wondered what this button was  \n18:02\u00a0<vmassol>\u00a0so we're making the UI more complex than it could be for users  \n18:02\u00a0<tmortagne>\u00a0we could limit it to extension authors, since those are wiki users  \n18:02\u00a0<tmortagne>\u00a0\u00a0(most of them at least)  \n18:03\u00a0<tmortagne>\u00a0what would be bad would be that an extension author cannot use this, it would make it totally useless  \n18:04\u00a0<vmassol>\u00a0so limit it to admins + authors of the extension  \n18:04\u00a0<vmassol>\u00a0good idea  \n18:14\u00a0<Trefex>\u00a0has quit  \n18:16\u00a0<vmassol>\u00a0downloading win10 vm...  \n18:16\u00a0<vmassol>\u00a0that's when I'd love to have fiber gdelhumeau ;)  \n18:16\u00a0<vmassol>\u00a05GB to download  \n18:16\u00a0<vmassol>\u00a02 hours left...  \n18:17\u00a0<gdelhumeau>\u00a0;)  \n18:24\u00a0<ClemensR>\u00a0has quit  \n18:28\u00a0<tmortagne>\u00a0has quit  \n18:29\u00a0<vmassol>\u00a0mflorea1: anther possibility is to add a new feature to the velocity module  \n18:29\u00a0<vmassol>\u00a0to add support for specifying a tool code as a component  \n18:29\u00a0<vmassol>\u00a0passing it's role + hint  \n18:30\u00a0<vmassol>\u00a0(ie by extensing the tool config format)  \n18:30\u00a0<vmassol>\u00a0\\*extending  \n18:30\u00a0<mflorea1>\u00a0vmassol: no need for now. There is a StubVelocityManager used by the PageTests which I can access  \n18:30\u00a0<vmassol>\u00a0in general when something is hard to mock/test it means the design could be improved  \n18:30\u00a0<vmassol>\u00a0ok  \n18:31\u00a0<mflorea1>\u00a0stubVelocityManager.getVelocityContext().put(\"myTool\", someMockTool)  \n18:31\u00a0<mflorea1>\u00a0it works  \n18:31\u00a0<vmassol>\u00a0cool  \n18:31\u00a0<vmassol>\u00a0I had forgotten indeed that I've registered the stub velocity manager... :)  \n18:31\u00a0<vmassol>\u00a0(in PageComponentList  \n18:32\u00a0<vmassol>\u00a0to reduce load times  \n18:32\u00a0<vmassol>\u00a0(by reducing amount of components to set up)  \n19:14\u00a0<cjd>\u00a0has quit  \n19:16\u00a0<cjd>\u00a0has joined #xwiki  \n19:25\u00a0<mflorea1>\u00a0has quit  \n19:27\u00a0<gdelhumeau>\u00a0has quit  \n19:30\u00a0<cjd>\u00a0has quit  \n19:33\u00a0<abusenius>\u00a0has joined #xwiki  \n20:23\u00a0<cjd>\u00a0has joined #xwiki  \n21:04\u00a0<vmassol>\u00a0has quit  \n21:04\u00a0<cjd>\u00a0has quit  \n21:06\u00a0<cjd>\u00a0has joined #xwiki  \n21:19\u00a0<Slashman>\u00a0has quit  \n21:24\u00a0<mflorea>\u00a0has joined #xwiki  \n21:35\u00a0<cjd>\u00a0has quit  \n21:36\u00a0<Slashman>\u00a0has joined #xwiki  \n22:09\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:15\u00a0<\\_cjd>\u00a0has joined #xwiki  \n22:35\u00a0<\\_cjd>\u00a0is now known as <cjd>  \n23:05\u00a0<mflorea>\u00a0has quit  \n23:16\u00a0<OSIMasson>\u00a0has quit  \n23:36\u00a0<Bugendolf>\u00a0has quit  \n23:42\u00a0<Bugendolf>\u00a0has joined #xwiki  \n23:45\u00a0<abusenius>\u00a0has quit\n"}