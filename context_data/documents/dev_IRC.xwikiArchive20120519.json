{"id": "dev:IRC.xwikiArchive20120519", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120519", "title": "IRC Archive for channel #xwiki on 19 May 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:18\u00a0<polx>\u00a0has joined #xwiki  \n00:52\u00a0<polx>\u00a0has quit  \n01:45\u00a0<Shaddox>\u00a0has quit  \n02:21\u00a0<rrodriguez>\u00a0has quit  \n03:51\u00a0<jvdrean>\u00a0has quit  \n05:20\u00a0<CIA-74>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r121e04d\u000f https://github.com/xwiki/xwiki-platform/commit/121e04d96491f219a4459fa25e1f8f245c4fb0ea \u000f/ xwiki-platform-core/xwiki-platform-autotag/src/main/java/com/xpn/xwiki/plugin/autotag/AutoTagPlugin.java :\u000f XWIKI-7838: Exception when trying to use the AutoTag plugin - http://git.io/ibDKXw  \n05:20\u00a0<CIA-74>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r34cb068\u000f https://github.com/xwiki/xwiki-platform/commit/34cb068ca3fd13df7331116ff54885acd2479750 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-repositories/xwiki-platform-extension-repository-xwiki/xwiki-platform-extension-repository-xwiki-server-api/src/main/java/org/xwiki/extension/repository/xwiki/internal/xhtml/ExtensionXHTMLLinkTypeRenderer.java :\u000f [misc] Fixed misleading javadoc - http://git.io/uFdxKA  \n05:20\u00a0<CIA-74>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r7f44f2c\u000f https://github.com/xwiki/xwiki-platform/commit/7f44f2c1d4e5b3c08c0969ba7e21ba5493a0011a \u000f/ xwiki-platform-core/xwiki-platform-colibri/src/main/resources/colibri/colibri.css :\u000f XWIKI-7778: Create button looks 'broken' when its color is set to the same color as the main menu - http://git.io/xsxN4w  \n06:27\u00a0<mflorea>\u00a0has joined #xwiki  \n07:03\u00a0<Denis1>\u00a0has joined #xwiki  \n07:06\u00a0<Denis>\u00a0has quit  \n07:35\u00a0<jvelociter>\u00a0has quit  \n08:03\u00a0<vmassol>\u00a0has joined #xwiki  \n08:19\u00a0<rrodriguez>\u00a0has joined #xwiki  \n08:52\u00a0<vmassol>\u00a0cjd: good morning, I thought about you 2 days ago when you mentioned that writing docs helps you improve the code since that's my thought too. Here's a blog post I wrote in 2006: http://web.archive.org/web/20090130001223/http://blogs.codehaus.org/people/vmassol/archives/001314\\_documentationdriven\\_development.html ;)  \n08:58\u00a0<@cjd>\u00a0That agrees with my experience, it seems that when you document, you move back to the user's chair and then you see the work the way they see it.  \n08:59\u00a0<@cjd>\u00a0A funny side note is that developers like to make code \"clean\" which is important to maintainability but there is a slippery sloap toward putting \"programmer interface\" above user interface.  \n09:00\u00a0<vmassol>\u00a0this is also why writing unit tests first is good since it puts you in the user chair too but as an api user  \n09:03\u00a0<@cjd>\u00a0I've never found writing tests first to work, I admit I've not really tried.. the closest to TDD I have gotten was for a checksumming algorithm where I write it, and wrote the tests then rewrote it  \n09:04\u00a0<@cjd>\u00a0incidently I spent a morning on it and ended up with a checksum 3 times the speed of the BSD implementation :)  \n09:05\u00a0<vmassol>\u00a0you don't have to write them but very close after you write your code at least BUT in this case you really need to look at them critically (it's just harder to recognize issues so you need to be trained to do that)  \n09:05\u00a0<vmassol>\u00a0\\*write them first  \n09:06\u00a0<@cjd>\u00a0Something I've found to work ok is writing a few tests which test a large amount of code then if that test breaks, I write more granular tests to nail down the problem..  \n09:07\u00a0<@cjd>\u00a0of course that doesn't work when there are untested APIs which are exported  \n09:10\u00a0<vmassol>\u00a0you're talking about tests to find problems  \n09:11\u00a0<vmassol>\u00a0I'm talking about tests for design  \n09:11\u00a0<vmassol>\u00a0:)  \n10:05\u00a0<vmassol>\u00a0has quit  \n10:22\u00a0<sasinda>\u00a0has joined #xwiki  \n10:44\u00a0<mflorea>\u00a0has quit  \n10:59\u00a0<vmassol>\u00a0has joined #xwiki  \n11:05\u00a0<polx>\u00a0has joined #xwiki  \n11:11\u00a0<polx>\u00a0has quit  \n11:45\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r83f3cac\u000f https://github.com/xwiki/xwiki-commons/commit/83f3cac0151a8658a177269c7bc73e9e274c4703 \u000f/ xwiki-commons-core/xwiki-commons-component/pom.xml :\u000f [Misc] Sort Alphabetically - http://git.io/45pZdA  \n11:45\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r0c96e61\u000f https://github.com/xwiki/xwiki-enterprise/commit/0c96e61d79a238c4c4776bc9549f80d4fe32fba5 \u000f/ xwiki-enterprise-web/pom.xml :\u000f XWIKI-7839: Make Component Manager accessible as a Component Script Service - http://git.io/tt6pDA  \n12:11\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* rd24bc93\u000f https://github.com/xwiki/xwiki-platform/commit/d24bc9306494c77010ef54e95bdb114317bd51e2 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7839: Make Component Manager accessible as a Component Script Service - http://git.io/9TdITQ  \n12:11\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r676566f\u000f https://github.com/xwiki/xwiki-platform/commit/676566f6849ee4d98884665b8e8519515c01cff1 \u000f/ (5 files in 5 dirs):\u000f XWIKI-7839: Make Component Manager accessible as a Component Script Service - http://git.io/BbzeVw  \n12:15\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r07d4790\u000f https://github.com/xwiki/xwiki-platform/commit/07d4790d61c2f90923f4d559ab23ccdfc86ff6ff \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/web/Utils.java :\u000f XWIKI-7839: Make Component Manager accessible as a Component Script Service - http://git.io/-qZcog  \n12:21\u00a0<CIA-74>\u00a0Andreas Jonsson\u000f master\u000f \\* rff3b3c8\u000f https://github.com/xwiki/xwiki-platform/commit/ff3b3c83a5beb2bf7ee7b725eefd39bac90e6ae9 \u000f/ xwiki-platform-core/xwiki-platform-security/xwiki-platform-security-bridge/src/main/java/org/xwiki/security/authorization/internal/XWikiCachingRightService.java :\u000f Added missing right mapping. - http://git.io/qau8sw  \n12:21\u00a0<CIA-74>\u00a0Andreas Jonsson\u000f master\u000f \\* r45e4e08\u000f https://github.com/xwiki/xwiki-platform/commit/45e4e08bd99f8b1c5aaef6acc4a218dea51fddfc \u000f/ (27 files in 7 dirs):\u000f Rewriting unit tests for caching right service implementation. - http://git.io/apFThA  \n12:56\u00a0<vmassol>\u00a0sdumitriu: ping  \n13:06\u00a0<jvdrean>\u00a0has joined #xwiki  \n13:07\u00a0<vmassol>\u00a0does anyone know why we have CLIRR errors at http://ci.xwiki.org/job/xwiki-platform/2004/console ?  \n13:07\u00a0<vmassol>\u00a0moving things to legacy modules should not create clirr errors  \n13:22\u00a0<vmassol>\u00a0cjd: ping  \n13:22\u00a0<@cjd>\u00a0pong  \n13:22\u00a0<vmassol>\u00a0cjd: in the RN for 4.1M2: http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWikiEnterprise41M1 in the CLIRR section  \n13:22\u00a0<vmassol>\u00a0there's no mention of autotag nor the other clirr excludes that currently make http://ci.xwiki.org/job/xwiki-platform/2004/console fail  \n13:23\u00a0<@cjd>\u00a0Hmm  \n13:23\u00a0<vmassol>\u00a0hmm wait  \n13:23\u00a0<vmassol>\u00a0maybe they were added in 4.1M2  \n13:23\u00a0<vmassol>\u00a0checking  \n13:24\u00a0<vmassol>\u00a0hmm http://jira.xwiki.org/jira/browse/XWIKI-7772 say 4.1M1  \n13:24\u00a0<vmassol>\u00a0(that's autotag)  \n13:24\u00a0<vmassol>\u00a0and I'm pretty sure the other excludes were introduced in 4.1M1 too  \n13:24\u00a0<vmassol>\u00a0(during the deprecation day)  \n13:24\u00a0<@cjd>\u00a0I took a look to verify that the script was right but it wasn't exhaustive.  \n13:25\u00a0<vmassol>\u00a0cjd: btw did you see the cleanup I did yesterday re clirr?  \n13:25\u00a0<vmassol>\u00a0there were lots of leftovers  \n13:25\u00a0<vmassol>\u00a0(I just did a grep clirr in all pom.xml and checked each one)  \n13:25\u00a0<vmassol>\u00a0IMO we need to add this in the release process more clearly  \n13:26\u00a0<@cjd>\u00a0Indeed.. If it's not documented, I'm almost sure to forget.  \n13:26\u00a0<vmassol>\u00a0for example,a lot of new modules have a skip on clirr  \n13:26\u00a0<vmassol>\u00a0but this skip needs to be removed as soon as the release is done  \n13:26\u00a0<vmassol>\u00a0otehrwise we risk not seeing future breakages  \n13:27\u00a0<vmassol>\u00a0ok right now we need to find out why it's not in the RN of 4.1M1 and why http://ci.xwiki.org/job/xwiki-platform/2004/console fails  \n13:27\u00a0<Denis1>\u00a0vmassol: how do you expect to do the list of issue undocumented in the release notes based on a text field ?  \n13:28\u00a0<vmassol>\u00a0Denis1: empty value  \n13:28\u00a0<@cjd>\u00a0the script uses an xslt file to convert the pom.xml and try to remove the excludes, it seems very brittle to me, perhaps we should use magic comments like BEGIN\\_EXCLUDES\\_FOR\\_RELEASE and END\\_EXCLUDES\\_FOR\\_RELEASE or the like...  \n13:28\u00a0<Denis1>\u00a0is now known as <Denis>  \n13:29\u00a0<@cjd>\u00a0it might not be as \"nice\" as parsing out the xml file but it certainly would be less prone to failure.  \n13:29\u00a0<vmassol>\u00a0Denis: I haven't tried writing a query yet, going to try  \n13:29\u00a0<+Denis>\u00a0vmassol: it is important that we do not put N/A therefore  \n13:29\u00a0<vmassol>\u00a0N/A is ok  \n13:29\u00a0<vmassol>\u00a0it means: I've reviewed it and there's no doc to be written  \n13:29\u00a0<vmassol>\u00a0now  \n13:29\u00a0<vmassol>\u00a0we can always review it too  \n13:30\u00a0<vmassol>\u00a0if we really want, we can review all of them not starting with http://  \n13:30\u00a0<+Denis>\u00a0should'nt it be mention in the list anyway ?  \n13:30\u00a0<+Denis>\u00a0do you means 3 cases ?  \n13:30\u00a0<vmassol>\u00a0it depends if we want to trust committers or not  \n13:30\u00a0<vmassol>\u00a0:)  \n13:30\u00a0<+Denis>\u00a0we want, sure  \n13:30\u00a0<vmassol>\u00a0anyway what I wanted to do is this:  \n13:30\u00a0<vmassol>\u00a0every week send a jira filter mail to the devs list  \n13:31\u00a0<vmassol>\u00a0listing all issues haivng empty fields for the current release  \n13:31\u00a0<vmassol>\u00a0as a reminder  \n13:31\u00a0<+Denis>\u00a0you means closed issue ?  \n13:31\u00a0<vmassol>\u00a0yes  \n13:31\u00a0<vmassol>\u00a0even though the best practice is now  \n13:31\u00a0<vmassol>\u00a0to always fill those before closing  \n13:31\u00a0<vmassol>\u00a0but we're human so I guess some could forget  \n13:31\u00a0<vmassol>\u00a0so this reminder would help remember just in case it happens  \n13:31\u00a0<vmassol>\u00a0:)  \n13:33\u00a0<@cjd>\u00a0bbiab new kernel  \n13:33\u00a0<cjd>\u00a0has quit  \n13:33\u00a0<+Denis>\u00a0this is of course the ideal situation, but when the code is in the trunk, and the bug is not closed, when you release, this would be an issue as well, does it really help ?  \n13:33\u00a0<vmassol>\u00a0http://jira.xwiki.org/secure/IssueNavigator.jspa?reset=true&jqlQuery=Project+in+%28%22XWiki+Commons%22%2C+%22XWiki+Rendering%22%2C+%22XWiki+Platform%22%2C+%22XWiki+Enterprise%22%2C+%22XWiki+Enterprise+Manager%22%29+and+fixVersion+in+%28%224.1-milestone-2%22%29+and+resolution+in+%28%22Fixed%22%29+and+%28Documentation+is+EMPTY+or+%22Documentation+in+Release+Notes%22+is+EMPTY%29  \n13:34\u00a0<vmassol>\u00a0this is the query to list all issues with empty doc fields  \n13:34\u00a0<vmassol>\u00a0for 4.1M2  \n13:34\u00a0<vmassol>\u00a0hmm no it's not correct  \n13:34\u00a0<vmassol>\u00a0it's missing some  \n13:34\u00a0<vmassol>\u00a0I think it's missing the issues created before I added the custom fields  \n13:34\u00a0<vmassol>\u00a0that's ok  \n13:35\u00a0<vmassol>\u00a0maybe there's a JQL condition for that  \n13:39\u00a0<+Denis>\u00a0vmassol: no comment on my last comment ?  \n13:39\u00a0<vmassol>\u00a0if the bug is not closed what's the issue?  \n13:40\u00a0<+Denis>\u00a0it is fixed for the release, and left unclosed since not documented, what the RM will have to do ?  \n13:40\u00a0<vmassol>\u00a0ping the person?  \n13:41\u00a0<+Denis>\u00a0sure, like it does currently for the RN  \n13:41\u00a0<+Denis>\u00a0what is the gain ?  \n13:41\u00a0<vmassol>\u00a0yep  \n13:41\u00a0<vmassol>\u00a0the idea is to have committers document early  \n13:41\u00a0<vmassol>\u00a0you don't understand the gain about htis?  \n13:42\u00a0<vmassol>\u00a0the idea is not to be bullet proof ofc  \n13:42\u00a0<vmassol>\u00a0it's to help do releases  \n13:42\u00a0<vmassol>\u00a0if we get 80% documented before release time we win 80% of the time we need to document  \n13:42\u00a0<vmassol>\u00a0now if you have a better strategy you should propose it  \n13:43\u00a0<vmassol>\u00a0my goal is to improve over what we have now  \n13:43\u00a0<vmassol>\u00a0improve in 2 ways:  \n13:43\u00a0<vmassol>\u00a0- loose less time when releasing  \n13:43\u00a0<vmassol>\u00a0- don't push all the work on the RM  \n13:44\u00a0<+Denis>\u00a0sure, I am +1 with your goals  \n13:44\u00a0<+Denis>\u00a0what I am afraid is to see bugs solved but not closed  \n13:44\u00a0<+Denis>\u00a0and currently, on my side, I have not see a good like between jira and commits  \n13:45\u00a0<+Denis>\u00a0I have also noticed, that some commit where not notified to the list as welle  \n13:46\u00a0<vmassol>\u00a0re commits having seen that on my side  \n13:46\u00a0<vmassol>\u00a0I'm going to set up something Denis  \n13:46\u00a0<vmassol>\u00a0and we can iterate and imrpove it  \n13:47\u00a0<vmassol>\u00a0right now it would help to have some opinion about the 2 custom fields I've proposed  \n13:47\u00a0<vmassol>\u00a0I think it helps to see them in the close screen in jira  \n13:47\u00a0<vmassol>\u00a0it helps for me for sure  \n13:47\u00a0<+Denis>\u00a0I am not against the field, but not sure we should delay closing due to it  \n13:47\u00a0<vmassol>\u00a0(just been using it for 2 issues and got reminded for the 2nd one :))  \n13:47\u00a0<vmassol>\u00a0delay clsoing?  \n13:48\u00a0<vmassol>\u00a0well  \n13:48\u00a0<vmassol>\u00a0it's like my kids; they always tell me that they'll do their homework tomorrow  \n13:48\u00a0<vmassol>\u00a0:)  \n13:48\u00a0<+Denis>\u00a0the reminder process would be good, would it be possible to have it in a personal mail ?  \n13:48\u00a0<vmassol>\u00a0and then when the time comes, they're not happy to have so much homework at once  \n13:49\u00a0<vmassol>\u00a0I think a genera mail is good, now \u00a0you can also create your own personal filter easily  \n13:49\u00a0<vmassol>\u00a0IMO  \n13:49\u00a0<vmassol>\u00a0not documenting should be an exceptional case  \n13:49\u00a0<vmassol>\u00a0and not the norma  \n13:49\u00a0<vmassol>\u00a0\\*norm  \n13:49\u00a0<+Denis>\u00a0then the rule could be, close it as soon as the code is ok, but being remind to document regularly until the release, wdyt ?  \n13:50\u00a0<vmassol>\u00a0I prefer the following rule:  \n13:50\u00a0<vmassol>\u00a0document when you close as much as possible If not possible for some reason, do it as soon as possible after closing (reminder being there to remind you about it)  \n13:50\u00a0<+Denis>\u00a0this is the same I say  \n13:50\u00a0<vmassol>\u00a0cool then  \n13:51\u00a0<+Denis>\u00a0what I just do not want is to see bug closing delayed by documentation  \n13:51\u00a0<+Denis>\u00a0else you do not know if the work is still in progress or expected to be fixed  \n13:51\u00a0<vmassol>\u00a0for ex this morning I delayed closing an issue by 30 mn  \n13:51\u00a0<vmassol>\u00a0the time to document my new stuf  \n13:51\u00a0<+Denis>\u00a030mn is nothing  \n13:51\u00a0<vmassol>\u00a0and this is good  \n13:51\u00a0<vmassol>\u00a0right, but usually it doesn't take much longer to dcument  \n13:52\u00a0<vmassol>\u00a0it could take 1 hour maybe 2 but not more  \n13:52\u00a0<+Denis>\u00a0if you have the time, right ahead  \n13:53\u00a0<+Denis>\u00a0again, my concern is to have the best status view of the code in the trunk, and this does not concern documentation  \n13:53\u00a0<vmassol>\u00a0well I don't fully agree  \n13:53\u00a0<vmassol>\u00a0for me it's a whole  \n13:53\u00a0<vmassol>\u00a0code, tests, doc  \n13:53\u00a0<vmassol>\u00a0having one with the other is not good  \n13:53\u00a0<vmassol>\u00a0\\*without  \n13:53\u00a0<+Denis>\u00a0than, we need to have a working link between jira and commits  \n13:54\u00a0<vmassol>\u00a0it works  \n13:54\u00a0<vmassol>\u00a0we have 2 tabs ATM  \n13:54\u00a0<+Denis>\u00a0never for me, as often as I check it  \n13:54\u00a0<vmassol>\u00a0one is not working - I couldn't fine a way to make it work so far don't know why  \n13:54\u00a0<vmassol>\u00a0the other should be working  \n13:54\u00a0<vmassol>\u00a0anyway yes it's good to have this link  \n13:55\u00a0<vmassol>\u00a0now whoever can help is welcome  \n13:55\u00a0<vmassol>\u00a0:)  \n13:55\u00a0<vmassol>\u00a0for ex this is what I committed this morning:  \n13:55\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-7839?page=com.xiplink.jira.git.jira-git-plugin:git-commits-tabpanel#issue-tabs  \n13:55\u00a0<vmassol>\u00a0hmm  \n13:56\u00a0<vmassol>\u00a0it doesn't work actually :)  \n13:56\u00a0<vmassol>\u00a0it's missing comits  \n13:56\u00a0<+Denis>\u00a0this is what I say  \n13:56\u00a0<vmassol>\u00a0anyway I know  \n13:56\u00a0<vmassol>\u00a0this is why I've been trying to implement the newer plugin  \n13:56\u00a0<vmassol>\u00a0the \"Commit\" tab  \n13:56\u00a0<vmassol>\u00a0I have no clue why it doesn't display anything  \n13:56\u00a0<vmassol>\u00a0I spent several hours on it already  \n13:56\u00a0<vmassol>\u00a0if you can research it and find a solution that would be great  \n13:56\u00a0<vmassol>\u00a0:)  \n13:57\u00a0<+Denis>\u00a0I have absolutely no understanding of it  \n13:57\u00a0<vmassol>\u00a0someone got to raise a support ticket on the jira forums  \n13:57\u00a0<vmassol>\u00a0me neither  \n13:57\u00a0<vmassol>\u00a0that's not an excuse  \n13:57\u00a0<vmassol>\u00a0I googled  \n13:57\u00a0<+Denis>\u00a0and no time, hopelessly  \n13:58\u00a0<vmassol>\u00a0same here  \n13:58\u00a0<vmassol>\u00a0this is why it's not working yet  \n13:58\u00a0<vmassol>\u00a0if I had all the time in the world I'm sure I would have cracked it  \n13:58\u00a0<vmassol>\u00a0I spent 2-3 hours in total which is already a lot  \n13:59\u00a0<+Denis>\u00a0sure, but IMO, this more critical than the policy on bug closing and documentation, and this is closely related to decide a good policy  \n13:59\u00a0<vmassol>\u00a0then do it!  \n13:59\u00a0<vmassol>\u00a0you're not allowed to complain if you don't do it Denis  \n14:00\u00a0<vmassol>\u00a0people are free to choose what they work on  \n14:00\u00a0<+Denis>\u00a0I am not complaining  \n14:00\u00a0<vmassol>\u00a0I don't see the relationship between both  \n14:00\u00a0<+Denis>\u00a0do not see what I said as critism, it is not  \n14:06\u00a0<vmassol>\u00a0I'll create a support ticket for atlassian  \n14:19\u00a0<vmassol>\u00a0support issue created  \n14:20\u00a0<vmassol>\u00a0got to go, bbl  \n14:20\u00a0<vmassol>\u00a0has quit  \n14:39\u00a0<mflorea>\u00a0has joined #xwiki  \n15:01\u00a0<cjd>\u00a0has joined #xwiki  \n15:06\u00a0<sasinda>\u00a0has quit  \n15:34\u00a0<mflorea>\u00a0has quit  \n16:43\u00a0<Shaddox>\u00a0has joined #xwiki  \n16:45\u00a0<+Denis>\u00a0I need to parse a querystring syntax from velocity, is there any tools for that ?  \n17:21\u00a0<sdumitriu>\u00a0has quit  \n17:57\u00a0<@cjd>\u00a0heh interesting the secret public methods which aspectj adds in  \n17:57\u00a0<@cjd>\u00a0ajc$privFieldGet$com\\_xpn\\_xwiki\\_api\\_XWikiCompatibilityAspect$com\\_xpn\\_xwiki\\_api\\_XWiki$xwiki()  \n18:00\u00a0<vmassol>\u00a0has joined #xwiki  \n18:01\u00a0<@cjd>\u00a0hi, I discovered why I missed some of the clirr violations... need to use -Plegacy now  \n18:01\u00a0<vmassol>\u00a0ah ok  \n18:01\u00a0<vmassol>\u00a0got to go, bb in 20mn\u2026 forgot my son\u2026 need to go back quickly\u2026 :)  \n18:02\u00a0<@cjd>\u00a0heh ok  \n18:17\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:19\u00a0<sdumitriu>\u00a0has quit  \n18:26\u00a0<vmassol>\u00a0ok back\u2026. so good, first mystery solved  \n18:26\u00a0<vmassol>\u00a0remains the second one  \n18:29\u00a0<@cjd>\u00a0it appears that aspectj is adding ninja public methods to the api classes  \n18:30\u00a0<vmassol>\u00a0well it's a removal it seems here for ex:  \n18:30\u00a0<vmassol>\u00a0[ERROR] com.xpn.xwiki.XWiki: Removed field ajc$interField$com\\_xpn\\_xwiki\\_XWikiCompatibilityAspect$notificationManager  \n18:31\u00a0<@cjd>\u00a0{{groovy}}println(xwiki.ajc$superDispatch$com\\_xpn\\_xwiki\\_api\\_XWiki$getXWikiContext()){{/groovy}}  \n18:34\u00a0<@cjd>\u00a0can't seem to make it work in velocity, it appears the $ symbol significance breaks calling those magic functions  \n18:35\u00a0<vmassol>\u00a0some info here: http://doanduyhai.wordpress.com/2011/12/12/advanced-aspectj-part-ii-inter-type-declaration/  \n18:36\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:39\u00a0<sdumitriu>\u00a0has quit  \n18:39\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:39\u00a0<sdumitriu>\u00a0has quit  \n18:41\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:41\u00a0<@cjd>\u00a0it looks like there is no way at all to call the mangled methods from velocity  \n18:42\u00a0<@cjd>\u00a0which is nice since giving users the XWikiContext would drive a truck through the script security model.  \n18:42\u00a0<@sdumitriu>\u00a0vmassol: Pong  \n18:43\u00a0<@cjd>\u00a0If we're to add non-PR groovy, we should check for methods with $ in the name since callers of those methods are almost certainly up to no good.  \n18:44\u00a0<vmassol>\u00a0sdumitriu: I don't know who add the XWiki aspects in 4.1 but someone added clirr exclude rules which shouldn't be there  \n18:44\u00a0<vmassol>\u00a0sdumitriu: I'm now trying to understand http://ci.xwiki.org/job/xwiki-platform/2004/console  \n18:44\u00a0<vmassol>\u00a0because normally moving stuff to legacy modules should not result in new clirr excludes  \n18:44\u00a0<vmassol>\u00a0(we move stuff for the opposite reason actually!)  \n18:46\u00a0<slugz>\u00a0has quit  \n18:46\u00a0<@sdumitriu>\u00a0Well, how can we tell Clirr that this old module is now split into two modules which should be checked together?  \n18:47\u00a0<vmassol>\u00a0I don't understand  \n18:47\u00a0<vmassol>\u00a0there's no two modules here  \n18:47\u00a0<vmassol>\u00a0there's only one  \n18:47\u00a0<vmassol>\u00a0the aspectified one  \n18:47\u00a0<@sdumitriu>\u00a0Autotag is in a different module  \n18:47\u00a0<vmassol>\u00a0autotag is a different case  \n18:47\u00a0<@sdumitriu>\u00a0It's normal to report it as removed  \n18:47\u00a0<vmassol>\u00a0I'm not talking about autotag  \n18:47\u00a0<@sdumitriu>\u00a0You're talking about the ajc$privFieldGet$com\\_xpn\\_xwiki\\_objects\\_classes\\_BooleanClassCompatibiityAspect$com\\_xpn\\_xwiki\\_objects\\_BaseElement$name  \n18:48\u00a0<@sdumitriu>\u00a0?  \n18:48\u00a0<vmassol>\u00a0the first one is:  \n18:48\u00a0<vmassol>\u00a0[ERROR] com.xpn.xwiki.XWiki: Removed field ajc$interField$com\\_xpn\\_xwiki\\_XWikiCompatibilityAspect$notificationManager  \n18:48\u00a0<@sdumitriu>\u00a0I think that's a maven or clirr bug  \n18:48\u00a0<vmassol>\u00a0I'm running some jad decompiler now  \n18:48\u00a0<@sdumitriu>\u00a0I've seen it a few times, but rebuilding usually fixed it for me  \n18:49\u00a0<@cjd>\u00a0those magic methods are always going to appear and disappear at aspectj's whim  \n18:49\u00a0<@cjd>\u00a0the only things I see are autotag and com.xpn.xwiki.doc.merge.MergeUtils  \n18:50\u00a0<vmassol>\u00a0re autotag I've added an exclude  \n18:51\u00a0<vmassol>\u00a0dunno why it's still reported  \n18:51\u00a0<@sdumitriu>\u00a0Because previous version is 4.0, not 4.1M1  \n18:51\u00a0<vmassol>\u00a0ah I didn't push  \n18:52\u00a0<vmassol>\u00a0yes i know  \n18:52\u00a0<vmassol>\u00a0that's correct  \n18:52\u00a0<@cjd>\u00a0IMO we ought to exclude any method with a '$' in the name since that's accepted as the way to mangle names and IIRC it's not allowed in java source  \n18:53\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r06b66b8\u000f https://github.com/xwiki/xwiki-platform/commit/06b66b8e6409cf0a1672e18f5dc6b9f6a73e38fe \u000f/ xwiki-platform-core/pom.xml :\u000f Autotag plugin was moved as a new module - http://git.io/QM1lGg  \n18:53\u00a0<CIA-74>\u00a0Vincent Massol\u000f master\u000f \\* r31b1258\u000f https://github.com/xwiki/xwiki-platform/commit/31b1258f4a8ed492c0edbb747d810e9d93090ffc \u000f/ xwiki-platform-core/pom.xml :\u000f Autotag plugin was moved as a new module (better \"regex\") - http://git.io/T8ytSg  \n18:54\u00a0<@cjd>\u00a0We should also remember to prevent groovy from calling these functions since with magicians like aj on the loose, we could find public methods turning up which completely violate the security model.  \n19:09\u00a0<@cjd>\u00a0I think we should introduce a syntax for communicating that something in the source tree should be removed after a certain release.  \n20:08\u00a0<vmassol>\u00a0has quit  \n20:20\u00a0<npm>\u00a0anybody know solution to xwiki 3.5 hanging-forever and eventual 502 error after changing which wikis to search in virtual wiki setup and then reindexing ( /bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Search )  \n20:21\u00a0<npm>\u00a0and is it fixed in 3.5.1 or 4.0?  \n20:22\u00a0<npm>\u00a0after reindexing search, whenever you hit that URL, it hangs forever and 502's after a long time. restarting tomcat corrects issue, but also has root-wiki search indexing all wikis instead of just root  \n21:18\u00a0<npm>\u00a0heh... \"Caused by: com.xpn.xwiki.XWikiException: Error number 3301 in 3: Exception while switching to database main\\_xe\" ...  \n21:20\u00a0<npm>\u00a0apparently it's picking up a subwiki's leftover XWiki/XWikiServerMain\\_xe and pooting on it while rebuilding the search index  \n21:21\u00a0<npm>\u00a0my bug, but perhaps having search-admin always 502 is inappropriate behavior on xwiki's part :-)  \n21:50\u00a0<sdumitriu>\u00a0has quit  \n22:43\u00a0<rrodriguez\\_>\u00a0has joined #xwiki  \n22:44\u00a0<rrodriguez>\u00a0has quit  \n22:44\u00a0<rrodriguez\\_>\u00a0is now known as <rrodriguez>  \n22:50\u00a0<polx>\u00a0has joined #xwiki  \n23:06\u00a0<polx>\u00a0has quit  \n\n"}