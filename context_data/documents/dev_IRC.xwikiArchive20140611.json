{"id": "dev:IRC.xwikiArchive20140611", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140611", "title": "IRC Archive for channel #xwiki on 11 June 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Lyes1>\u00a0has joined #xwiki  \n00:14\u00a0<Lyes>\u00a0has quit  \n00:28\u00a0<abusenius>\u00a0has quit  \n01:02\u00a0<lucaa>\u00a0has quit  \n02:26\u00a0<Lyes1>\u00a0has quit  \n03:21\u00a0<teekay>\u00a0has joined #xwiki  \n06:52\u00a0<mflorea>\u00a0has joined #xwiki  \n07:24\u00a0<mflorea>\u00a0has quit  \n07:52\u00a0<kaisen>\u00a0has joined #xwiki  \n08:07\u00a0<vmassol>\u00a0has joined #xwiki  \n08:13\u00a0<msmeria>\u00a0has joined #xwiki  \n08:20\u00a0<mflorea>\u00a0has joined #xwiki  \n08:25\u00a0<Denis>\u00a0has joined #xwiki  \n08:39\u00a0<cjd>\u00a0has joined #xwiki  \n08:59\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:07\u00a0<mflorea>\u00a0has quit  \n09:10\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:11\u00a0<cjd>\u00a0has quit  \n09:22\u00a0<msmeria>\u00a0has quit  \n09:25\u00a0<msmeria>\u00a0has joined #xwiki  \n09:31\u00a0<cjd>\u00a0has joined #xwiki  \n09:35\u00a0<teekay>\u00a0has quit  \n09:37\u00a0<evalica>\u00a0has joined #xwiki  \n09:39\u00a0<mflorea>\u00a0has joined #xwiki  \n09:39\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:49\u00a0<lucaa>\u00a0has joined #xwiki  \n09:49\u00a0<msmeria>\u00a0has quit  \n09:50\u00a0<msmeria>\u00a0has joined #xwiki  \n09:59\u00a0<vmassol>\u00a0good morning  \n10:06\u00a0<Lyes>\u00a0has joined #xwiki  \n10:09\u00a0<vierfzweievieraz>\u00a0has joined #xwiki  \n10:19\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:23\u00a0<kaisen>\u00a0Good morning  \n10:23\u00a0<kaisen>\u00a0as you know I had some trouble with the Syntax Guide Page  \n10:23\u00a0<tmortagne>\u00a0mflorea: can I commit stuff on master ?  \n10:24\u00a0<mflorea>\u00a0yes, I have some commits too, I hope to start the release after lunch  \n10:24\u00a0<tmortagne>\u00a0ok thanks  \n10:25\u00a0<tmortagne>\u00a0I have to run some maven to validate it but I should commit it quickly  \n10:25\u00a0<mflorea>\u00a0ok  \n10:35\u00a0<kaisen>\u00a0There is a Problem with the new Syntax Guide Page. Maybe you want to edit it before the next release  \n10:35\u00a0<kaisen>\u00a0Unfortunately I'm not good enough to check what is needed to change but I know what make the problems  \n10:42\u00a0<vierfzweievieraz>\u00a0hello guys! i just got one wikiWordtransformation example (Adding a new Transformation: http://rendering.xwiki.org/xwiki/bin/view/Main/Extending, http://rendering.xwiki.org/xwiki/bin/view/Main/Transformations, ) running, but need to persist the changes made in the transformation... is there any easy way to do just that?  \n10:46\u00a0<kaisen>\u00a0If you set the 'xwiki.section.depth=2' to 'xwiki.section.depth=1' you get a velocity macro error.  \n10:47\u00a0<kaisen>\u00a0If you use multilanguage the Syntax Guide show all topics twice  \n10:52\u00a0<gdelhumeau>\u00a0mflorea: can I commit too?  \n10:55\u00a0<mflorea>\u00a0yes, best before lunch  \n11:01\u00a0<vierfzweievieraz>\u00a0anyone?  \n11:01\u00a0<vierfzweievieraz>\u00a0:/  \n11:02\u00a0<gdelhumeau>\u00a0nice, thanks  \n11:05\u00a0<kaisen>\u00a0has quit  \n11:17\u00a0<vmassol>\u00a0grr he keeps breaking it ;)  \n11:17\u00a0<kaisen>\u00a0has joined #xwiki  \n11:17\u00a0<Slashman>\u00a0has joined #xwiki  \n11:47\u00a0<Lyes>\u00a0@Vincent : I propose to implemante an content etype handler according to http://docs.oracle.com/javaee/7/api/javax/mail/internet/package-summary.html ( mail.mime.contenttypehandler propertie Description) WDYT ?  \n11:47\u00a0<vmassol>\u00a0Lyes: I don't know javamail that well, let me read  \n12:08\u00a0<ClemensR>\u00a0has joined #xwiki  \n12:16\u00a0<tmortagne>\u00a0guys for those working on master and use Job module you should now use JobExecutor which support parallel execution of jobs and groups of jobs (jobs of the same group are executed in the same thread one by one)  \n12:18\u00a0<woshilapin>\u00a0has quit  \n13:01\u00a0<vierfzweievieraz>\u00a0\u00a0hello guys! i just got one wikiWordtransformation example (Adding a new Transformation: http://rendering.xwiki.org/xwiki/bin/view/Main/Extending, http://rendering.xwiki.org/xwiki/bin/view/Main/Transformations, ) running, but need to persist the changes made in the transformation... is there any easy way to do just that?  \n13:04\u00a0<ClemensR>\u00a0I think these transformations are really meant to be applied while rendering .... \u00a0however if you transform \u00a0i.e. from xwiki/2.1 to xwiki/2.1, you should be able to use doc.setContent(...) to store the transformed content in a document  \n13:05\u00a0<vmassol>\u00a0vierfzweievieraz: you need to use a different approach for that IMO  \n13:05\u00a0<vmassol>\u00a0you should listen to a DocumentUpdatingEvent and DocumentCreatingEvent  \n13:05\u00a0<vmassol>\u00a0and make modification to the XDOM in your onEvent() method  \n13:06\u00a0<vierfzweievieraz>\u00a0like here? http://extensions.xwiki.org/xwiki/bin/view/Extension/Observation+Module+Local#HConsumingandproducingevents  \n13:06\u00a0<vmassol>\u00a0like here:  \n13:06\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingEventListenerTutorial#HAddingcontenttopagesonsave  \n13:06\u00a0<vmassol>\u00a0you can access the XDOM by using getXDOM() for example on the source parameter (which is an XWikiDocument)  \n13:08\u00a0<vierfzweievieraz>\u00a0i will try that, thanks!  \n13:08\u00a0<vierfzweievieraz>\u00a0(i just want to manipulate a table when a document is changed...)  \n13:14\u00a0<KermitTheFragger>\u00a0has quit  \n13:17\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n13:50\u00a0<Slashman>\u00a0has quit  \n13:50\u00a0<Slashman>\u00a0has joined #xwiki  \n13:55\u00a0<cjd>\u00a0has quit  \n13:55\u00a0<cjd>\u00a0has joined #xwiki  \n13:57\u00a0<cjd>\u00a0is now known as <Guest82493>  \n14:09\u00a0<Guest82493>\u00a0has quit  \n14:10\u00a0<cjd\\_>\u00a0has joined #xwiki  \n14:11\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:13\u00a0<vmassol>\u00a0Lyes: please see http://stackoverflow.com/questions/14744197/best-practices-sending-javamail-mime-multipart-emails-and-gmail for your implementation of the HTML body part factory  \n14:14\u00a0<cjd\\_>\u00a0body part factory  \n14:14\u00a0<vmassol>\u00a0:)  \n14:14\u00a0<vmassol>\u00a0you want a head? an arm?  \n14:14\u00a0<cjd\\_>\u00a0:)  \n14:15\u00a0<sdumitriu1>\u00a0has quit  \n14:15\u00a0<cjd\\_>\u00a0call it BodyPartFactory.java and make zombie references in the comments :D  \n14:15\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n14:16\u00a0<vmassol>\u00a0:) it's actually less fun since it's called MimeBodyPartFactory ;)  \n14:17\u00a0<tmortagne>\u00a0vmassol: just mean you don't support voice :)  \n14:18\u00a0<vmassol>\u00a0haha  \n14:18\u00a0<vmassol>\u00a0(I had thought about this actually ;))  \n14:19\u00a0<Lyes>\u00a0thanks :)  \n14:19\u00a0<vmassol>\u00a0Lyes: was it done like this in the current mailsender plugin?  \n14:19\u00a0<vmassol>\u00a0(just curious)  \n14:19\u00a0<vmassol>\u00a0(ie text first, before html)  \n14:22\u00a0<Lyes>\u00a0yes  \n14:23\u00a0<Lyes>\u00a0\u2026  \n14:23\u00a0<Lyes>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0alternativePart.addBodyPart(textPart);  \n14:23\u00a0<Lyes>\u00a0\u2026  \n14:38\u00a0<vmassol>\u00a0ok  \n14:43\u00a0<cjd\\_>\u00a0I'm trying to form a proposal to put Realtime WikiText on myxwiki.org but it's complicated because there are many wikis and some of them have radically different skins  \n14:44\u00a0<cjd\\_>\u00a0the editor is a skin extension so clearly there are limits to how crazy a skin can get  \n14:48\u00a0<cjd\\_>\u00a0actually I think a global install makes sense because we want to field as many opinions as possible from people about how it behaves in a wide variety of conditions....  \n14:49\u00a0<tmortagne>\u00a0cjd\\_: you need PR to install the extension ?  \n14:50\u00a0<tmortagne>\u00a0maybe you can install the jar which require PR part on root and let wikis admins install the UI when they want it  \n14:57\u00a0<cjd\\_>\u00a0yes  \n14:57\u00a0<cjd\\_>\u00a0probably not, you just need to be able to install a global-to-this-wiki javascript extension  \n14:57\u00a0<cjd\\_>\u00a0the problem with that approach is we will get no feedback since nobody will install it  \n14:58\u00a0<webczat>\u00a0Hi, how to create a wiki menu with a menu app?  \n14:58\u00a0<tmortagne>\u00a0cjd\\_: not sure, people that want to try it will install it if it's easy, others won't probably report anything anyway  \n14:58\u00a0<cjd\\_>\u00a0We could do it this way, wait a few days, declare victory and go to install it on xwiki.org (which is easier since there are no custom skins) :)  \n14:58\u00a0<tmortagne>\u00a0it's not the default editor, is it ?  \n15:00\u00a0<webczat>\u00a0...  \n15:03\u00a0<cjd\\_>\u00a0it overlays the wiki mode editor so if wiki-mode is default then yes  \n15:13\u00a0<tmortagne>\u00a0cjd\\_: I doubt wiki mode is often the default  \n15:15\u00a0<cjd\\_>\u00a0tmortagne: perhaps not but I don't see that as a blocker  \n15:16\u00a0<tmortagne>\u00a0I did not say it's a blocker but don't expect everyone to use it :)  \n15:18\u00a0<cjd\\_>\u00a0ahh ok, sounds good then :)  \n15:25\u00a0<kaisen>\u00a0On short questions. One of our admins have delete the XWiki Space from our test wiki. Is there a change to restore it from the \"xwikirecyclebin\"  \n15:25\u00a0<cjd\\_>\u00a0has quit  \n15:26\u00a0<cjd>\u00a0has joined #xwiki  \n15:26\u00a0<tmortagne>\u00a0kaisen: http://extensions.xwiki.org/xwiki/bin/view/Extension/RestoreSpace ?  \n15:29\u00a0<tmortagne>\u00a0you will need to use superadmin since you lost of users (which are stored in XWiki space), see http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Security#HSuperadminaccount  \n15:29\u00a0<tmortagne>\u00a0s/of/all/  \n15:32\u00a0<kaisen>\u00a0@ tmortagne the guy owns you now a beer :)  \n15:32\u00a0<tmortagne>\u00a0cool :)  \n15:32\u00a0<tmortagne>\u00a0always useful  \n15:34\u00a0<vierfzweievieraz>\u00a0has left #xwiki  \n15:34\u00a0<vmassol>\u00a0and Clemens too since he wrote that snippet!  \n15:36\u00a0<kaisen>\u00a0Oh yes :)  \n15:36\u00a0<kaisen>\u00a0The wiki is still not what it was before but we can pull out what we want and go back to the backup from tonight  \n15:36\u00a0<kaisen>\u00a0:)  \n15:51\u00a0<tmortagne>\u00a0has quit  \n15:54\u00a0<vmassol>\u00a0Lyes: just committed a very first version of async mail sending, I need to write some tests to prove it works now :) \u00a0I committed in case you wanted to review it and raise issues/questions!  \n15:54\u00a0<vmassol>\u00a0I'm not 100% sure of myself in one place actually ;)  \n15:58\u00a0<msmeria>\u00a0has quit  \n15:58\u00a0<Slashman>\u00a0has quit  \n16:16\u00a0<Slashman>\u00a0has joined #xwiki  \n16:19\u00a0<mflorea>\u00a0vmassol: since you added the 'currentlanguage' query filter, can you explain what is the expected behaviour. I'm interested especially in whether a document that is not translated in the current language should be returned or not with this filter.  \n16:29\u00a0<vmassol>\u00a0mflorea: checking source  \n16:30\u00a0<mflorea>\u00a0the source might not have the expected behavior :)  \n16:30\u00a0<vmassol>\u00a0the original goal was to prevent listing duplicates  \n16:30\u00a0<vmassol>\u00a0in alldocs, etc  \n16:30\u00a0<mflorea>\u00a0wasn't there a 'unique' filter already?  \n16:31\u00a0<vmassol>\u00a0indeed  \n16:31\u00a0<vmassol>\u00a0I must have introduced both around the same time  \n16:32\u00a0<mflorea>\u00a0the issue with currentlanguage is that right now it returns both the translation and the default version  \n16:33\u00a0<mflorea>\u00a0I guess your intention was to return \"the translation corresponding for the current language if it exists, otherwise the default translation\"?  \n16:34\u00a0<vmassol>\u00a0maybe, I don't recall  \n16:34\u00a0<vmassol>\u00a0:)  \n16:34\u00a0<mflorea>\u00a0but I don't think you can write that in a where clause  \n16:34\u00a0<mflorea>\u00a0i.e. \"if you match this row then don't match the other row\"  \n16:35\u00a0<vmassol>\u00a0we just need to decide what behavior we want WRT docs with no language set  \n16:35\u00a0<mflorea>\u00a0yes  \n16:35\u00a0<Lyes>\u00a0@Vincent : ok i'll see  \n16:35\u00a0<kaisen>\u00a0has quit  \n16:36\u00a0<vmassol>\u00a0gtg, bbiab  \n16:36\u00a0<mflorea>\u00a0IMO currentlanguage filter makes sense only if it return just the document that are translated in the current language. Otherwise, it's not different than unique (in purpose)  \n16:59\u00a0<Denis>\u00a0has quit  \n17:01\u00a0<vmassol>\u00a0back  \n17:01\u00a0<vmassol>\u00a0mflorea: we still need to show all docs in all docs  \n17:02\u00a0<vmassol>\u00a0s/in all docs/in AllDocs  \n17:02\u00a0<mflorea>\u00a0we can use unique for that no?  \n17:03\u00a0<vmassol>\u00a0no  \n17:03\u00a0<vmassol>\u00a0AFAIR  \n17:03\u00a0<vmassol>\u00a0the first translation was returned  \n17:03\u00a0<vmassol>\u00a0there was no order  \n17:04\u00a0<vmassol>\u00a0so you were getting docs in some other language than your current language  \n17:04\u00a0<vmassol>\u00a0I think thaty's probably why I introduced currentlanguage after unique  \n17:04\u00a0<mflorea>\u00a0the query returns just document names  \n17:04\u00a0<mflorea>\u00a0I don't understand  \n17:04\u00a0<vmassol>\u00a0hmm indeed  \n17:04\u00a0<vmassol>\u00a0but I remember there was an issue like this  \n17:04\u00a0<vmassol>\u00a0not sure from where it was coming though  \n17:20\u00a0<evalica>\u00a0has quit  \n17:23\u00a0<mflorea>\u00a0has quit  \n17:28\u00a0<ClemensR>\u00a0has left #xwiki  \n18:11\u00a0<KermitTheFragger>\u00a0has quit  \n18:19\u00a0<Denis>\u00a0has joined #xwiki  \n18:27\u00a0<woshilapin>\u00a0has quit  \n18:40\u00a0<gdelhumeau>\u00a0has quit  \n18:45\u00a0<cjd>\u00a0has quit  \n18:58\u00a0<Lyes>\u00a0has quit  \n19:00\u00a0<Slashman>\u00a0has quit  \n19:14\u00a0<Slashman>\u00a0has joined #xwiki  \n19:23\u00a0<mflorea>\u00a0has joined #xwiki  \n20:12\u00a0<abusenius>\u00a0has joined #xwiki  \n22:04\u00a0<mflorea>\u00a0has quit  \n22:19\u00a0<Lyes>\u00a0has joined #xwiki  \n22:39\u00a0<lynxt>\u00a0has quit  \n22:40\u00a0<lynxt>\u00a0has joined #xwiki  \n22:40\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:50\u00a0<vmassol>\u00a0has quit  \n23:10\u00a0<tekzilla>\u00a0has quit  \n23:22\u00a0<lucaa>\u00a0has quit  \n23:45\u00a0<tekzilla>\u00a0has joined #xwiki\n"}