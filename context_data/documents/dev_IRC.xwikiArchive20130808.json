{"id": "dev:IRC.xwikiArchive20130808", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130808", "title": "IRC Archive for channel #xwiki on 08 August 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has quit  \n00:32\u00a0<abusenius>\u00a0has quit  \n01:07\u00a0<chalx>\u00a0has quit  \n02:05\u00a0<kstuart>\u00a0has quit  \n06:10\u00a0<sdumitriu1>\u00a0has quit  \n06:29\u00a0<mflorea>\u00a0has joined #xwiki  \n08:15\u00a0<msmeria>\u00a0has joined #xwiki  \n08:43\u00a0<vmassol>\u00a0has joined #xwiki  \n08:49\u00a0<polx>\u00a0has joined #xwiki  \n09:10\u00a0<evalica>\u00a0has joined #xwiki  \n09:12\u00a0<vmassol>\u00a0good morning  \n09:12\u00a0<vmassol>\u00a0I wish everyone a good BFD today :)  \n09:13\u00a0<vmassol>\u00a0mflorea: I can look at http://jira.xwiki.org/browse/XRENDERING-306 if you're not on it  \n09:13\u00a0<mflorea>\u00a0vmassol: sure, go ahead  \n09:13\u00a0<vmassol>\u00a0ok  \n09:20\u00a0<vmassol>\u00a0mflorea: I also need to look at your comment on the issue where I've broken some func test apparently\u2026 I had meant to look at it yesterday but didn't get to do it  \n09:20\u00a0<mflorea>\u00a0ok  \n09:36\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:18\u00a0<kstuart>\u00a0has joined #xwiki  \n10:39\u00a0<Slashman>\u00a0has joined #xwiki  \n11:38\u00a0<polx\\_>\u00a0has joined #xwiki  \n11:38\u00a0<polx>\u00a0has quit  \n11:38\u00a0<polx\\_>\u00a0is now known as <polx>  \n11:46\u00a0<vmassol1>\u00a0has joined #xwiki  \n11:48\u00a0<vmassol>\u00a0has quit  \n11:53\u00a0<msmeria>\u00a0has quit  \n11:54\u00a0<msmeria>\u00a0has joined #xwiki  \n12:31\u00a0<vmassol1>\u00a0mflorea: done, you can try it!  \n12:31\u00a0<mflorea>\u00a0vmassol: cool, I need it for XWIKI-3416, let me test  \n12:32\u00a0<vmassol1>\u00a0I hope thomas will agree with it and that I won't have to redo it altogether ;)  \n12:34\u00a0<kstuart>\u00a0has quit  \n12:34\u00a0<kstuart>\u00a0has joined #xwiki  \n12:35\u00a0<mflorea>\u00a0I don't understand Thomas' last comment :(  \n12:35\u00a0<vmassol1>\u00a0me neither, I've replied  \n12:36\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n12:36\u00a0<vmassol>\u00a0mflorea: note this comment from me: http://jira.xwiki.org/browse/XRENDERING-306?focusedCommentId=76965&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-76965  \n12:36\u00a0<vmassol>\u00a0I hope it's ok with you for now  \n12:36\u00a0<vmassol>\u00a0(to not handle \"something#anchor\" for now)  \n12:37\u00a0<mflorea>\u00a0commented back, its good for me  \n12:53\u00a0<mflorea>\u00a0vmassol: your fix works perfectly  \n12:54\u00a0<vmassol>\u00a0cool :)  \n12:56\u00a0<vmassol>\u00a0that said I understand what thomas is saying and indeed it's possible my fix is not the best one  \n12:56\u00a0<vmassol>\u00a0I'll check a few things after lunch  \n13:14\u00a0<mflorea>\u00a0for me it makes more sense to generate a document link than a path link. In the case of XWIKI-3416, a document is split in multiple parts and so I have to update the #anchor links. If they were path-type then I would have to change their type to document which is not a good sign for me. While if the link type is document then I just have to set its reference (was empty before)  \n13:19\u00a0<vmassol>\u00a0mahybe it makes it simpler for the office import use case but that doesn't make it the best. I'm not sure what's the best actually...  \n13:19\u00a0<vmassol>\u00a0I'll keep what I've done for now  \n13:20\u00a0<vmassol>\u00a0I think it doesn't change much in term of code quantity  \n13:20\u00a0<vmassol>\u00a0hmmm  \n13:20\u00a0<vmassol>\u00a0s/hmmm//  \n13:21\u00a0<vmassol>\u00a0well  \n13:21\u00a0<vmassol>\u00a0there's one advantage though  \n13:21\u00a0<vmassol>\u00a0we would support reference#anchor naitvely  \n13:21\u00a0<vmassol>\u00a0which is not the case now  \n13:22\u00a0<vmassol>\u00a0wdyt mflorea?  \n13:22\u00a0<vmassol>\u00a0I'm tempted...  \n13:37\u00a0<Inge->\u00a0has joined #xwiki  \n13:37\u00a0<Inge->\u00a0hm. didn't realize I wasn't on here  \n13:38\u00a0<Inge->\u00a0today I did a little apt-get update; apt-get dist-upgrade, which also upgraded xwiki fomr the 4.1-ish version I had, and now I'm getting 404 from tomcat  \n13:38\u00a0<Inge->\u00a0oops  \n13:40\u00a0<Inge->\u00a0it seems similar to http://permalink.gmane.org/gmane.comp.web.wiki.xwiki.scm/147409  \n13:40\u00a0<Inge->\u00a0except I didn't have an error during upgrade  \n13:41\u00a0<vmassol>\u00a0Inge-: unfortunately I don't know anything about apt and xwiki, and thomas who coded this is on holiday starting today, but he may be checking his emails if you want to send one on the list ;)  \n13:41\u00a0<Inge->\u00a0I was thinking about maybe upgrading some time ...looks like I am doing more than thinking about it, now :)  \n13:48\u00a0<Inge->\u00a0mail sent  \n13:49\u00a0<kstuart>\u00a0has quit  \n13:49\u00a0<mflorea>\u00a0vmassol: I don't understand \"we would support reference#anchor naitvely\", if you use path instead of document link type?  \n13:49\u00a0<vmassol>\u00a0yes  \n13:49\u00a0<vmassol>\u00a0right now we will generate the following:  \n13:50\u00a0<vmassol>\u00a0url:reference#anchor  \n13:50\u00a0<kstuart>\u00a0has joined #xwiki  \n13:50\u00a0<vmassol>\u00a0which will fail to produce a valid link  \n13:50\u00a0<vmassol>\u00a0whereas generating:  \n13:50\u00a0<vmassol>\u00a0path:reference#anchor  \n13:50\u00a0<vmassol>\u00a0will work  \n13:50\u00a0<vmassol>\u00a0and path:#anchor is just a special case which will also work  \n13:51\u00a0<vmassol>\u00a0so it seems that generating path: is better than generating doc:  \n13:53\u00a0<mflorea>\u00a0I still don't see why generating path is better than doc. I'm fine with generating path for something#anchor, but for #anchor we know it's about the current document  \n13:53\u00a0<vmassol>\u00a0currentdoc#anchor is also about the current doc  \n13:54\u00a0<vmassol>\u00a0it's just more generic  \n13:54\u00a0<mflorea>\u00a0where do you get currentdoc#anchor? what produces it?  \n13:54\u00a0<vmassol>\u00a0we could do both, it's more \"ifs\"  \n13:54\u00a0<vmassol>\u00a0how much more complex is it for you?  \n13:55\u00a0<mflorea>\u00a0I mean, where do you get a path-type link with currentdoc#anchor?  \n13:55\u00a0<vmassol>\u00a0ok fine, I'll leave it for now  \n13:55\u00a0<mflorea>\u00a0I don't see any use case  \n13:55\u00a0<vmassol>\u00a0but I need to fix the case when we have referedcen#anchro  \n13:55\u00a0<vmassol>\u00a0and hwne it's not not a valid url  \n13:55\u00a0<vmassol>\u00a0because I haven't fixed the full issue then  \n13:56\u00a0<mflorea>\u00a0you still needs ifs I think. If the value of href is an absolute URL then it should generate URL IMO, while if it's a relative URL it should generate path, and if #anchor is should generate doc  \n13:57\u00a0<vmassol>\u00a0yeah I can do that, pretty compelex but I can do it  \n13:59\u00a0<mflorea>\u00a0it's not complex for me to change my code to look for path-type links but the fact that I need to change the link type (path -> doc) even if the link target doesn't changes is not a good sign  \n14:00\u00a0<mflorea>\u00a0i.e. path:#foo -> doc:NewPage#foo  \n14:00\u00a0<mflorea>\u00a0when the document is split  \n14:01\u00a0<mflorea>\u00a0I guess I could looks for both (doc and path), just to be bulletproof  \n14:02\u00a0<mflorea>\u00a0I'll do this, so that I don't depend on the solution chosen on the rendering side  \n14:02\u00a0<vmassol>\u00a0ok, I'm adding support for path: now in addition to the rest  \n14:03\u00a0<Inge->\u00a0I will ask an additional question here though - does anyone know how apache maps requests to xwiki?  \n14:07\u00a0<mflorea>\u00a0has quit  \n14:40\u00a0<mflorea>\u00a0has joined #xwiki  \n14:57\u00a0<sdumitriu>\u00a0has quit  \n14:58\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:15\u00a0<vmassol>\u00a0mflorea: thomas has a good point  \n15:15\u00a0<vmassol>\u00a0I can still make it work but it's starting to be painful  \n15:16\u00a0<vmassol>\u00a0when we're using the rendering outside of xwiki, all links/images need to return urls or paths  \n15:16\u00a0<mflorea>\u00a0I understand Thomas  \n15:16\u00a0<vmassol>\u00a0(I can check if WikiModel impl is avail or not and do another \"if\" but I already have a lot of ifs\u2026)  \n15:16\u00a0<vmassol>\u00a0so we have 2 choices  \n15:16\u00a0<vmassol>\u00a01) you support path:  \n15:16\u00a0<vmassol>\u00a02) I add an if on WikiModel impl being present or not  \n15:17\u00a0<mflorea>\u00a0I'm going to support path on my fix anyway  \n15:17\u00a0<vmassol>\u00a0ok so I'll generate path: instead of doc: in all cases, ok?  \n15:17\u00a0<mflorea>\u00a0I mean, I'm going to look for path links too, besides doc  \n15:19\u00a0<mflorea>\u00a0ok, but isn't it a bit strange that [[link>>||anchor=\"foo\"]] is transformed into <a href=\"#foo\"></a> and then back to [[link>>path:#foo]] ? (it won't affect the WYSIWYG editor as long the link markers are preserved but still)  \n15:20\u00a0<vmassol>\u00a0that's not true  \n15:20\u00a0<vmassol>\u00a0it's the other way around  \n15:20\u00a0<vmassol>\u00a0ie when the html is parsed without extra xwiki comments  \n15:21\u00a0<vmassol>\u00a0if you have wiki syntax, the generated html will be \u00a0different  \n15:21\u00a0<vmassol>\u00a0(with comments)  \n15:21\u00a0<vmassol>\u00a0so you'll get what you had initially  \n15:21\u00a0<mflorea>\u00a0yes, image this: you edit [[link>>||anchor=\"\"]] with the WYSIWYG editor, the markers are lost for some reason (won't happen normally, but yo never know) an then you get [[link>path:#foo]] on save  \n15:22\u00a0<vmassol>\u00a0sure but that's the same for a lot of things if you loose markers  \n15:22\u00a0<mflorea>\u00a0as long as the markers are preserved it's fine  \n15:22\u00a0<vmassol>\u00a0you'll have a much bigger issue  \n15:22\u00a0<vmassol>\u00a0with macros for example  \n15:22\u00a0<vmassol>\u00a0ok, doing it then...  \n15:24\u00a0<mflorea>\u00a0ok, I  \n15:24\u00a0<mflorea>\u00a0I  \n15:24\u00a0<mflorea>\u00a0I'm updating my fix  \n15:26\u00a0<vmassol>\u00a0ok  \n15:29\u00a0<bouquetf1>\u00a0is now known as <bouquetf>  \n15:34\u00a0<vmassol>\u00a0pfew  \n15:35\u00a0<vmassol>\u00a0took me close to all day in the end\u2026  \n15:35\u00a0<mflorea>\u00a0yeah :(  \n16:06\u00a0<Mariah>\u00a0hello :(  \n16:06\u00a0<Mariah>\u00a0i got a problem  \n16:06\u00a0<Mariah>\u00a0i cant attach images to any page of xwiki  \n16:07\u00a0<Mariah>\u00a0anytime that i try the web site complete is charged into the page that i want to attach the file  \n16:07\u00a0<Mariah>\u00a0somebody knows who to fix it?  \n16:31\u00a0<Mariah>\u00a0please help :(  \n16:44\u00a0<msmeria>\u00a0has quit  \n16:45\u00a0<cjd>\u00a0you mean the window where you attach the file becomes another whole xwiki inside of xwiki?  \n16:48\u00a0<polx\\_>\u00a0has joined #xwiki  \n16:50\u00a0<polx>\u00a0has quit  \n16:50\u00a0<polx\\_>\u00a0is now known as <polx>  \n17:15\u00a0<vmassol>\u00a0guys we need a RM for 5.2M1\u2026  \n17:15\u00a0<vmassol>\u00a0thomas is on holidays  \n17:15\u00a0<vmassol>\u00a0and I'm also on holidays starting tomorrow  \n17:15\u00a0<vmassol>\u00a0(for 15 days btw)  \n17:15\u00a0<vmassol>\u00a0tough luck for those not on holidays ;)  \n17:20\u00a0<mflorea>\u00a0I could do it I guess :)  \n17:21\u00a0<vmassol>\u00a0cool, or convince another committer with a lower release score to do it instead  \n17:21\u00a0<mflorea>\u00a0won't be easy :)  \n17:28\u00a0<vmassol>\u00a0yeah\u2026.  \n17:35\u00a0<Mariah>\u00a0has quit  \n17:56\u00a0<evalica>\u00a0has quit  \n18:08\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n18:14\u00a0<mflorea>\u00a0vmassol: I have a serious issue, I build xwiki-manager-distribution-jetty-hsqldb and I create a workspace (based on the workspace template) and a subwiki (DW). Both are empty..  \n18:14\u00a0<mflorea>\u00a0I'll try again  \n18:18\u00a0<mflorea>\u00a0same  \n18:27\u00a0<evalica>\u00a0has joined #xwiki  \n18:29\u00a0<KermitTheFragger>\u00a0has quit  \n18:48\u00a0<mflorea>\u00a0vmassol: the documents are in the database (I can query them), but they are not accessible through the URL  \n18:48\u00a0<vmassol>\u00a0mflorea: sorry was away  \n18:48\u00a0<vmassol>\u00a0mflorea: is this related to my changes to the URL module?  \n18:49\u00a0<mflorea>\u00a0I don't know, I'll debug  \n18:49\u00a0<vmassol>\u00a0k  \n18:49\u00a0<evalica>\u00a0has quit  \n18:55\u00a0<mflorea>\u00a0vmassol: there is something wrong with the URL module but maybe I don't have the latest version. The following URL:  \n18:55\u00a0<mflorea>\u00a0/xwiki/wiki/workspacetemplate/view/Main/WebHome  \n18:55\u00a0<mflorea>\u00a0produces action=workspacetemplate and Document workspacetemplate:view.Main which si clearly wrong.  \n18:56\u00a0<vmassol>\u00a0that should work nomally, let me try creating a subwiki with latest from master  \n18:58\u00a0<mflorea>\u00a0I did this: build xwiki-manager-distribution-jetty-hsqldb, then finished the install from the wiki with WorkspaceManager.Install and the I tried to access the workspace template wiki  \n19:02\u00a0<vmassol>\u00a0found a problem, looking into it  \n19:04\u00a0<vmassol>\u00a0ok I think I 've found the problem  \n19:07\u00a0<vmassol>\u00a0I'm completely missing unit tests for this, strange  \n19:07\u00a0<mflorea>\u00a0:)  \n19:07\u00a0<vmassol>\u00a0(with about 90% of unit test coverage, i thought I was pretty safe \u2026 but no)  \n19:07\u00a0<mflorea>\u00a0I have to go, I'll check the fix later  \n19:08\u00a0<mflorea>\u00a0has quit  \n19:13\u00a0<sdumitriu1>\u00a0has quit  \n19:23\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n19:29\u00a0<Slashman>\u00a0has quit  \n19:45\u00a0<Mariah>\u00a0has joined #xwiki  \n20:33\u00a0<cjd>\u00a0http://lavabit.com/index.html \u00a0\u00a0RIP [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \n20:33\u00a0<cjd>\u00a0didn't lose any mail but now I'll have to change it everywhere  \n21:00\u00a0<Mariah>\u00a0has quit  \n21:00\u00a0<Mariah>\u00a0has joined #xwiki  \n21:01\u00a0<abusenius>\u00a0has joined #xwiki  \n21:15\u00a0<vmassol>\u00a0has quit  \n21:49\u00a0<polx>\u00a0has quit  \n21:49\u00a0<polx>\u00a0has joined #xwiki  \n21:51\u00a0<polx>\u00a0has quit  \n21:51\u00a0<polx\\_>\u00a0has joined #xwiki  \n22:35\u00a0<sdumitriu1>\u00a0has quit  \n23:37\u00a0<polx\\_>\u00a0has quit  \n23:37\u00a0<polx>\u00a0has joined #xwiki  \n23:55\u00a0<abusenius>\u00a0has quit\n"}