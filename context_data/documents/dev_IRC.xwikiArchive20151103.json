{"id": "dev:IRC.xwikiArchive20151103", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20151103", "title": "IRC Archive for channel #xwiki on 03 November 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Trefex>\u00a0has quit  \n00:28\u00a0<iamchrisf>\u00a0has quit  \n00:53\u00a0<abusenius>\u00a0has quit  \n00:57\u00a0<[d\\_\\_d]>\u00a0has quit  \n02:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n03:23\u00a0<vmassol>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:01\u00a0<Denis>\u00a0has quit  \n06:54\u00a0<sbaloul>\u00a0has quit  \n07:02\u00a0<cjd>\u00a0has quit  \n07:04\u00a0<msmeria>\u00a0has joined #xwiki  \n07:47\u00a0<cjd>\u00a0has joined #xwiki  \n07:53\u00a0<cjd>\u00a0has quit  \n08:30\u00a0<cjd>\u00a0has joined #xwiki  \n08:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:49\u00a0<woshilapin>\u00a0has quit  \n08:49\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:00\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:00\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki  \n09:15\u00a0<woshilapin>\u00a0has quit  \n09:28\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:53\u00a0<mflorea>\u00a0has joined #xwiki  \n09:57\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:23\u00a0<Pbas>\u00a0Hi I try to find blogs per category but I didn't manage to applies http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module#HQueryLanguageExamples example.  \n10:23\u00a0<Pbas>\u00a0My query is #set ($query =\", BaseObject as obj, DBStringListProperty as prop join prop.list list where obj.name=doc.fullName and obj.className='Blog.BlogPostClass' and obj.name<>'XWiki.ArticleClassTemplate' and obj.id=prop.id.id and prop.id.name='category' and list='${category}' order by doc.creationDate desc\")  \n10:23\u00a0<Pbas>\u00a0And I try to set #set ($category =['Autres']) or #set ($category ='Autres') \u00a0but I didn't find result but without list='${category}' my query working well  \n10:23\u00a0<Pbas>\u00a0Any ideas?  \n10:35\u00a0<[d\\_\\_d]>\u00a0has quit  \n10:45\u00a0<gdelhumeau>\u00a0The field \"category\" contains the fullName of the document holding the category object  \n10:45\u00a0<gdelhumeau>\u00a0So I think you don't have a page called \"Autres\"  \n10:45\u00a0<Pbas>\u00a0No Autres is a category  \n10:46\u00a0<gdelhumeau>\u00a0Yes, but what is the page holding the \"Autres\" category?  \n10:47\u00a0<gdelhumeau>\u00a0\"Blog.Other\" or \"Blog.Autres\"?  \n10:47\u00a0<Pbas>\u00a0A page from the blog but I want to find all page from blog with 'Autres' category  \n10:47\u00a0<gdelhumeau>\u00a0Yes, sure  \n10:48\u00a0<gdelhumeau>\u00a0but the BlogPosts store the page name of the category, not the category name displayed to the user  \n10:48\u00a0<gdelhumeau>\u00a0try #set($category = \"Blog.Autres\")  \n10:49\u00a0<Slashman>\u00a0has joined #xwiki  \n10:49\u00a0<Pbas>\u00a0Blog.CAC-P3++R\u00e9union+18+d\u00e9cembre+2014 \u00a0contain Blog.BlogPostClass object with category property: Autres  \n10:50\u00a0<gdelhumeau>\u00a0\"Autres\" is the stored value or the displayed value?  \n10:50\u00a0<Pbas>\u00a0It is the value of category property  \n10:51\u00a0<gdelhumeau>\u00a0have you tried what I propose?  \n10:52\u00a0<Pbas>\u00a0Ha nice it is working  \n10:53\u00a0<gdelhumeau>\u00a0Nice  \n10:53\u00a0<Pbas>\u00a0then \u00a0\u00a0the value of category property is Blog.Autres?  \n10:53\u00a0<gdelhumeau>\u00a0The difficulty is that what is displayed in the object is not what is stored  \n10:54\u00a0<gdelhumeau>\u00a0That is why I say there is a \"stored value\" (in this case, the fullname of the document representing the category), and a \"displayed value\" (in this case, the real name of the category\")  \n10:54\u00a0<gdelhumeau>\u00a0Yes Pbas  \n10:54\u00a0<Pbas>\u00a0Can I use #set ($category =[\"Blog.Autres\",Blog.anotherOne\"])  \n10:54\u00a0<gdelhumeau>\u00a0it's sthe stored value  \n10:55\u00a0<gdelhumeau>\u00a0but it is not what we display to the user, because it would not be user friendly  \n10:55\u00a0<gdelhumeau>\u00a0I think you should use an array there  \n10:55\u00a0<gdelhumeau>\u00a0just a string, with elements separated by commas  \n10:56\u00a0<gdelhumeau>\u00a0actually the best would be to use .bindValue()  \n10:57\u00a0<gdelhumeau>\u00a0<gdelhumeau> I think you should use an array there > I mean I think you should NOT use an array there  \n10:58\u00a0<Pbas>\u00a0ok  \n10:59\u00a0<Pbas>\u00a0Thxs a lot I will chech doc about bindvalue and fix http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module page  \n11:00\u00a0<gdelhumeau>\u00a0If you manually set the name #set ($category = \"SomeThing\") then it's OK  \n11:01\u00a0<gdelhumeau>\u00a0but if you do something like #set ($category = $request.category) then issues begin  \n11:01\u00a0<gdelhumeau>\u00a0because some malicious user can inject SQL code in the request and you have a vulnerability  \n11:02\u00a0<gdelhumeau>\u00a0or you could have a user who perform an SQL injection without knowing it :)  \n11:02\u00a0<Pbas>\u00a0ha good to know :)  \n11:02\u00a0<gdelhumeau>\u00a0.bindValue() handle this problem  \n11:02\u00a0<gdelhumeau>\u00a0by escaping any problematic character for you  \n11:15\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:16\u00a0<evalica>\u00a0has joined #xwiki  \n12:06\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki  \n13:03\u00a0<Bugendolf>\u00a0has quit  \n14:30\u00a0<Ramona2>\u00a0has joined #xwiki  \n14:34\u00a0<Denis1>\u00a0is now known as <Denis>  \n14:44\u00a0<gdelhumeau>\u00a0has quit  \n15:25\u00a0<msmeria>\u00a0has quit  \n15:35\u00a0<Ramona2>\u00a0has quit  \n15:38\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:58\u00a0<Pbas>\u00a0Hi again :-( I become crazy with hql query:  \n15:58\u00a0<Pbas>\u00a0This one working to find some blog post with a specific category: #set ($hql =\"select distinct doc.fullName from XWikiDocument as doc, BaseObject as obj, DBStringListProperty as prop join prop.list list where obj.name=doc.fullName and obj.className='FormSMQ.ACClass' and obj.id=prop.id.id and prop.id.name='P1Ameliorations' and list = 'FormSMQ.SMQ-M2-FAM-Une autre am\u00e9lio'\")  \n15:59\u00a0<Pbas>\u00a0Then I use same to find some page with specifice multiselect value: #set ($hql =\"select distinct doc.fullName from XWikiDocument as doc, BaseObject as obj, DBStringListProperty as prop join prop.list list where obj.name=doc.fullName and obj.className='FormSMQ.ACClass' and obj.id=prop.id.id and prop.id.name='P1Ameliorations'\")  \n16:00\u00a0<Pbas>\u00a0heu sorry, this one: #set ($hql =\"select distinct doc.fullName from XWikiDocument as doc, BaseObject as obj, DBStringListProperty as prop join prop.list list where obj.name=doc.fullName and obj.className='FormSMQ.ACClass' and obj.id=prop.id.id and prop.id.name='P1Ameliorations' and list = 'FormSMQ.SMQ-M2-FAM-Une autre am\u00e9lio'\")  \n16:00\u00a0<Pbas>\u00a0'P1Ameliorations' amelioration property is a multiselect and page type  \n16:02\u00a0<Pbas>\u00a0This query return nothing neither :-( #set ($hql =\"select distinct doc.fullName from XWikiDocument as doc, BaseObject as obj, DBStringListProperty as prop join prop.list list where obj.name=doc.fullName and obj.className='FormSMQ.ACClass' and obj.id=prop.id.id and prop.id.name='P1Ameliorations'\")  \n16:09\u00a0<gdelhumeau>\u00a0multiselect + relational storage?  \n16:09\u00a0<Pbas>\u00a0nope only multiselect  \n16:09\u00a0<Pbas>\u00a0with custom \"Hibernate Query\"  \n16:20\u00a0<gdelhumeau>\u00a0so you need relational storage  \n16:21\u00a0<gdelhumeau>\u00a0if not, the content is not stored the same way and you cannot do \"join prop.list as list\"  \n16:21\u00a0<Pbas>\u00a0I will give a try then :-)  \n16:26\u00a0<Pbas>\u00a0wow it's \"a kind of magic\" like the other said :-)  \n16:27\u00a0<Pbas>\u00a0thxs for ur patience.  \n16:32\u00a0<gdelhumeau>\u00a0if not, the content is not stored the same way and you cannot do \"join prop.list as list\"  \n16:32\u00a0<gdelhumeau>\u00a0sorry  \n16:34\u00a0<Pbas>\u00a0why sorry? u help me  \n16:40\u00a0<Pbas>\u00a0I paste your example, but rendering is not nice sorry (anyway it is a deprecated page ;;-) ) \u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/velocityHqlExamples#HGettingdocumentswhereobjects27propertiesequalssomevalue  \n16:42\u00a0<iamchrisf>\u00a0has joined #xwiki  \n17:37\u00a0<vmassol>\u00a0has joined #xwiki  \n17:45\u00a0<Enygma`>\u00a0has quit  \n17:45\u00a0<mflorea>\u00a0has quit  \n17:45\u00a0<evalica>\u00a0has quit  \n17:50\u00a0<cjd>\u00a0has quit  \n17:50\u00a0<KermitTheFragger>\u00a0has quit  \n18:29\u00a0<tmortagne>\u00a0has quit  \n18:31\u00a0<woshilapin>\u00a0has quit  \n19:36\u00a0<woshilapin>\u00a0has joined #xwiki  \n19:52\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:57\u00a0<abusenius>\u00a0has joined #xwiki  \n20:05\u00a0<Denis>\u00a0has quit  \n20:09\u00a0<tmortagne>\u00a0has quit  \n21:15\u00a0<MasterPiece>\u00a0has joined #xwiki  \n21:23\u00a0<vmassol1>\u00a0has joined #xwiki  \n21:27\u00a0<vmassol>\u00a0has quit  \n21:29\u00a0<vmassol>\u00a0has joined #xwiki  \n21:29\u00a0<vmassol1>\u00a0has quit  \n22:07\u00a0<ekarlso>\u00a0what does it mean when its stuck on startup at 2015-11-03 21:06:29,498 [XWiki initialization] INFO \u00a0.HibernateDataMigrationManager - Checking Hibernate mapping and updating schema if needed for wiki [xwiki]  \n22:29\u00a0<MasterPiece>\u00a0has quit  \n22:39\u00a0<Slashman>\u00a0has quit  \n23:03\u00a0<Denis>\u00a0has joined #xwiki  \n23:16\u00a0<Denis>\u00a0has quit  \n23:16\u00a0<Denis1>\u00a0has joined #xwiki  \n23:34\u00a0<vmassol>\u00a0has quit  \n23:35\u00a0<vmassol>\u00a0has joined #xwiki  \n23:45\u00a0<gdelhumeau>\u00a0has quit  \n23:59\u00a0<abusenius>\u00a0has quit\n"}