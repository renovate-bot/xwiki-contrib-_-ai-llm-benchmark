{"id": "dev:IRC.xwikiArchive20120920", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120920", "title": "IRC Archive for channel #xwiki on 20 September 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:06\u00a0<Denis>\u00a0has quit  \n00:10\u00a0<cjd>\u00a0has joined #xwiki  \n00:34\u00a0<npm>\u00a0has quit  \n00:38\u00a0<npm>\u00a0has joined #xwiki  \n02:17\u00a0<vmassol>\u00a0has quit  \n02:19\u00a0<Denis>\u00a0has joined #xwiki  \n02:48\u00a0<vmassol>\u00a0has joined #xwiki  \n02:57\u00a0<vmassol>\u00a0has quit  \n03:47\u00a0<tekzilla>\u00a0has quit  \n03:50\u00a0<Denis>\u00a0has quit  \n03:52\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:13\u00a0<mflorea>\u00a0has joined #xwiki  \n06:15\u00a0<Denis>\u00a0has joined #xwiki  \n06:26\u00a0<vmassol>\u00a0has joined #xwiki  \n06:30\u00a0<vmassol>\u00a0has quit  \n07:01\u00a0<Denis1>\u00a0has joined #xwiki  \n07:03\u00a0<coud>\u00a0has joined #xwiki  \n07:04\u00a0<Denis>\u00a0has quit  \n07:16\u00a0<vmassol>\u00a0has joined #xwiki  \n07:25\u00a0<coud>\u00a0has quit  \n07:46\u00a0<Denis1>\u00a0has quit  \n07:48\u00a0<mflorea>\u00a0has quit  \n08:22\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* rb7835cf\u000f https://github.com/xwiki/xwiki-commons/commit/b7835cf8cf5e9f257445acf919985fc44e26269d \u000f/ (5 files in 5 dirs):\u000f XCOMMONS-265: Add ability to easily capture log outputs in unit tests - http://git.io/FbjM3w  \n08:45\u00a0<cjd>\u00a0has quit  \n08:52\u00a0<Denis>\u00a0has joined #xwiki  \n09:01\u00a0<mflorea>\u00a0has joined #xwiki  \n09:01\u00a0<vmassol>\u00a0cool, the guy has coded what I wanted to do for the clirr plugin: https://jira.codehaus.org/browse/MCLIRR-48 :)  \n09:02\u00a0<vmassol>\u00a0(now trying to push some maven committer to apply it and release the plugin)  \n09:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:53\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r6b257e2\u000f https://github.com/xwiki/xwiki-commons/commit/6b257e255bdeed4c1a420f1a5aa5764f3da5929d \u000f/ xwiki-commons-core/xwiki-commons-extension/xwiki-commons-extension-repositories/xwiki-commons-extension-repository-maven/src/main/java/org/xwiki/extension/repository/aether/internal/AetherExtensionRepository.java :\u000f [cleanup] Remove unused method - http://git.io/j9WAGQ  \n10:02\u00a0<vmassol>\u00a0mflorea: good morning  \n10:03\u00a0<vmassol>\u00a0seems the irc bot hasn't logged some of our chat of yesterday  \n10:03\u00a0<vmassol>\u00a0do you have a trace of the 5 things we discussed that needed fixing for the EM/distrib wizard?  \n10:07\u00a0<+mflorea>\u00a0vmassol: good morning. add doc step (done), add known problems to steps (done), fix author issue (not done, but easy to fix), explain login screen + activate details when coming back (in progress).  \n10:07\u00a0<+mflorea>\u00a0I haven't committed yet though  \n10:09\u00a0<silviar>\u00a0has joined #xwiki  \n10:36\u00a0<+sburjan>\u00a0fix the continue issue on XEM ?  \n10:36\u00a0<+sburjan>\u00a0about the coontinue button  \n10:37\u00a0<+mflorea>\u00a0does it reproduce if you click Install and not Install on farm?  \n10:37\u00a0<+sburjan>\u00a0let me try  \n10:43\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:51\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r9fd14c1\u000f https://github.com/xwiki/xwiki-platform/commit/9fd14c1ba8d81836d7558b1ac96d69e19b65c311 \u000f/ xwiki-platform-core/xwiki-platform-component/xwiki-platform-component-multi/src/main/java/org/xwiki/component/internal/ContextComponentManager.java :\u000f XWIKI-8220: It should be possible tor release components when using the Content Component Manager - http://git.io/6j5\\_aQ  \n10:52\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* rbedb1d3\u000f https://github.com/xwiki/xwiki-commons/commit/bedb1d3dba8f12ab1c79d9bb5464043f12723fb1 \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-264: Component Manager's getComponentDescriptor\\* APIs don't inherit from their Parent Component Manager - http://git.io/DRn6WQ  \n10:55\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r0238e44\u000f https://github.com/xwiki/xwiki-platform/commit/0238e44fc04a64982a1c93ebbb8ade19ac7667a8 \u000f/ xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-server/src/main/java/org/xwiki/rest/XWikiJaxRsApplication.java :\u000f [Misc] Typo - http://git.io/vqiTag  \n10:59\u00a0<+sburjan>\u00a0mflorea: same for the install button  \n10:59\u00a0<+mflorea>\u00a0ok, thanks  \n10:59\u00a0<+sburjan>\u00a0np  \n10:59\u00a0<+sburjan>\u00a0and note that on XEM there are \\*much\\* more merge issues  \n10:59\u00a0<+sburjan>\u00a0than on XE  \n11:01\u00a0<+tmortagne>\u00a0sburjan: you also get pages that XEM overwrite in XE XAR  \n11:07\u00a0<vmassol>\u00a0mflorea: do you know how easy/hard it is to fix this: http://jira.xwiki.org/browse/XWIKI-8221  \n11:09\u00a0<+mflorea>\u00a0no, I'd have to check how it is done in the ColorTheme app  \n11:09\u00a0<vmassol>\u00a0mflorea: is it you who created \"distribution\" component in jira for platform?  \n11:09\u00a0<+mflorea>\u00a0no  \n11:10\u00a0<jvdrean>\u00a0has quit  \n11:13\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:20\u00a0<jvdrean>\u00a0has left #xwiki  \n11:20\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:29\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:38\u00a0<vmassol>\u00a0mflorea: I'm eagerly waiting for some fixes because right now I cannot retest the wizard since i get the \"unknown step\" error :)  \n11:41\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:44\u00a0<+tmortagne>\u00a0vmassol: you can skip it  \n11:44\u00a0<+tmortagne>\u00a0it's because there is no UI yet for the first step  \n11:44\u00a0<+mflorea>\u00a0vmassol: have a little patience :)  \n11:51\u00a0<+sburjan>\u00a0hmmmmm  \n11:53\u00a0<+sburjan>\u00a0I have downloaded the latest xwiki jetty mysql snapshot and it seems that http://jira.xwiki.org/browse/XEM-220 is back  \n11:54\u00a0<+sburjan>\u00a0but only for the start scripts  \n11:54\u00a0<+sburjan>\u00a0this was not present in MILESTONE 3so something changed meanwhile  \n11:55\u00a0<+mflorea>\u00a0vmassol: who reported the author/creator issue? did you reproduce it?  \n11:55\u00a0<+sburjan>\u00a0brb reboot  \n11:55\u00a0<sburjan>\u00a0has quit  \n11:56\u00a0<vmassol>\u00a0tmortagne: \"you can skip it\".. my point is to test it :)  \n11:56\u00a0<+tmortagne>\u00a0vmassol: I meant the first step  \n11:56\u00a0<vmassol>\u00a0mflorea: re author issue, yes I can reproduce every time  \n11:56\u00a0<+tmortagne>\u00a0if you wanted to test other things  \n11:56\u00a0<vmassol>\u00a0tmortagne: ah indeed  \n11:57\u00a0<+mflorea>\u00a0vmassol: I'm testing with an empty database (deleted data folder), install the UI (I'm asked to login in the middle of the process), then I look at the installed pages. They all have Administrator as author and creator. What is the issue?  \n11:59\u00a0<+mflorea>\u00a0and in the history I see one version, with Administator as Editor  \n11:59\u00a0<+mflorea>\u00a0anyway, I'll finish the rest and will see if you can still reproduce the problem with the latest changes  \n12:03\u00a0<sburjan>\u00a0has joined #xwiki  \n12:11\u00a0<evalica>\u00a0has joined #xwiki  \n12:14\u00a0<vmassol>\u00a0mflorea: sorry was away, I'm retesting with master now  \n12:14\u00a0<+mflorea>\u00a0well, you can't, because you don't have the first step  \n12:15\u00a0<vmassol>\u00a0I can skip it  \n12:15\u00a0<+mflorea>\u00a0hmm, it skips only that step  \n12:15\u00a0<vmassol>\u00a0yes  \n12:15\u00a0<+mflorea>\u00a0this means I need to do something  \n12:15\u00a0<vmassol>\u00a0right  \n12:17\u00a0<vmassol>\u00a0mflorea: the description isn't very nicely formatted\u2026 hmm: https://www.evernote.com/shard/s119/sh/f9a2f15b-1a10-4e37-a9fa-7d58ef06c928/2a9a6870b8c1fcb3277e15e70dbad35a  \n12:17\u00a0<+mflorea>\u00a0yes, I told you that whitespaces are preserved  \n12:17\u00a0<vmassol>\u00a0it's not whitespace  \n12:17\u00a0<vmassol>\u00a0it's NL  \n12:17\u00a0<+mflorea>\u00a0NL is whitespace  \n12:17\u00a0<+sburjan>\u00a0vmassol: I am getting your error in xwiki-jetty-mysql version :| it was working with M3. now i got the skip issue like you do  \n12:17\u00a0<+Enygma`>\u00a0tmortagne: regarding sburjan`s mention about http://jira.xwiki.org/browse/XEM-220 coming back: It seems that this commit might be responsible https://github.com/xwiki/xwiki-manager/commit/019439fcee487454e4b0367137d2385b0f078be3#diff-11  \n12:18\u00a0<vmassol>\u00a0mflorea: what's the width of the distib wizard, is it fixed for all resoltuions?  \n12:18\u00a0<+mflorea>\u00a0yes  \n12:18\u00a0<+mflorea>\u00a0800px  \n12:18\u00a0<vmassol>\u00a0ok then I can cheat for the moment but it's not nice  \n12:18\u00a0<+mflorea>\u00a0no, don't do this  \n12:19\u00a0<+mflorea>\u00a0I have the fix locally  \n12:19\u00a0<vmassol>\u00a0ah cool  \n12:19\u00a0<+mflorea>\u00a0you just need to let the text on the single line  \n12:19\u00a0<vmassol>\u00a0hmm  \n12:19\u00a0<+mflorea>\u00a0and it will wrap  \n12:19\u00a0<vmassol>\u00a0not nice for the pom  \n12:19\u00a0<+mflorea>\u00a0on display  \n12:19\u00a0<vmassol>\u00a0couldn't you remove NL instead?  \n12:19\u00a0<+mflorea>\u00a0it is in view mode  \n12:19\u00a0<+mflorea>\u00a0any tool that displays XML can wrap the text  \n12:20\u00a0<vmassol>\u00a0no  \n12:20\u00a0<vmassol>\u00a0they could  \n12:20\u00a0<vmassol>\u00a0but they don't  \n12:20\u00a0<vmassol>\u00a0:)  \n12:20\u00a0<vmassol>\u00a0vi doesn't, my ide doesn't either  \n12:20\u00a0<+mflorea>\u00a0I said \\_\\_view\\_\\_  \n12:20\u00a0<+mflorea>\u00a0not edit  \n12:20\u00a0<vmassol>\u00a0the problem with removing NL is that the user can't format the description  \n12:20\u00a0<+tmortagne>\u00a0Enygma`: ok will check that  \n12:21\u00a0<vmassol>\u00a0also  \n12:21\u00a0<vmassol>\u00a0our rule ATM is 120 chars max  \n12:21\u00a0<+tmortagne>\u00a0Enygma`: from what I remember it took the pom from XE  \n12:21\u00a0<+mflorea>\u00a0this rule doesn't apply to content  \n12:21\u00a0<+mflorea>\u00a0we don't apply it to wiki pages  \n12:22\u00a0<+mflorea>\u00a0this is content not code  \n12:22\u00a0<vmassol>\u00a0it's mixed mode yes  \n12:22\u00a0<vmassol>\u00a0I still wonder if we shouldn't simply remove NL, it's easy to do  \n12:22\u00a0<vmassol>\u00a0it just means we wouldn't be able to have description on several lines  \n12:23\u00a0<+mflorea>\u00a0it's exactly like the XML of a wiki page, you don't format the content element  \n12:23\u00a0<vmassol>\u00a0my owrry is that anyone who sees this in the pom  \n12:23\u00a0<vmassol>\u00a0will want to reformat it for sure  \n12:23\u00a0<vmassol>\u00a0it's so ugly to read  \n12:23\u00a0<cdop2012>\u00a0has joined #xwiki  \n12:23\u00a0<vmassol>\u00a0the pom is not for EM  \n12:23\u00a0<vmassol>\u00a0it has a lot of other usages  \n12:24\u00a0<vmassol>\u00a0people will not realize immediately that what is there is used by EM at runtime  \n12:24\u00a0<+mflorea>\u00a0vmassol: for me the rule is simple: code -> format it, content -> don't format it. Description is content for me  \n12:24\u00a0<+Enygma`>\u00a0tmortagne: seems that you`ve overridden sdumitriu`s previous commit that had fixed http://jira.xwiki.org/browse/XEM-220  \n12:24\u00a0<+mflorea>\u00a0anyway, back to work  \n12:24\u00a0<cdop2012>\u00a0Good day! I have this issue with a plain fresh install on Ubuntu 10.04: http://jira.xwiki.org/browse/XWIKI-7204  \n12:25\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r5c87191\u000f https://github.com/xwiki/xwiki-enterprise/commit/5c87191852518e3e4e2afb61803e619b87fec63d \u000f/ xwiki-enterprise-web/pom.xml :\u000f [Misc] Improve description formatting so that it displays better in the Distribution Wizard... - http://git.io/OHdfXA  \n12:26\u00a0<+tmortagne>\u00a0Enygma`: actually what I did is to take the pom from XE while refactoring all that in order to be in synch  \n12:26\u00a0<vmassol>\u00a0yep, me too, but was waiting for the distrib wizard to finsh listing all deps  \n12:26\u00a0<+tmortagne>\u00a0s/pom/files/  \n12:26\u00a0<vmassol>\u00a0that takes several minutes  \n12:26\u00a0<vmassol>\u00a0:)  \n12:28\u00a0<+sburjan>\u00a0vmassol: you're testing the jetty+hsqldb XE ?  \n12:28\u00a0<vmassol>\u00a0yes  \n12:29\u00a0<vmassol>\u00a0tmortagne: would be nice that we do something about this warning that happens several times when importing the UI:  \n12:29\u00a0<vmassol>\u00a0https://www.evernote.com/shard/s119/sh/9e429960-fc7c-40ce-9ffd-7a8d6b1978bf/85e547f111a541ba5079e1d16bc7d327  \n12:30\u00a0<vmassol>\u00a0but this one is worrying me even more: https://www.evernote.com/shard/s119/sh/43a00b2c-f4c3-41dd-b33c-19da4a0884ef/5fd8562ec7efc5e197ff64ecc5cb5362  \n12:30\u00a0<vmassol>\u00a0ah yes problem of author mflorea  \n12:31\u00a0<vmassol>\u00a0mflorea: jus tested again  \n12:31\u00a0<vmassol>\u00a0and no author  \n12:31\u00a0<vmassol>\u00a0home page displays: \"Last modified by on 2012/09/20 12:30\"  \n12:31\u00a0<+tmortagne>\u00a0vmassol: I don't know what's the issue with JSX, looks like a JSX bug  \n12:31\u00a0<vmassol>\u00a0and \"Created by on 2012/09/20 12:28\"  \n12:32\u00a0<vmassol>\u00a0mflorea: and going to the search admin page I have: https://www.evernote.com/shard/s119/sh/c7fc64ff-31b6-4046-8314-bc7cdc8f5b7f/6ccf88308a530c92f89fa61ce58bcd7e  \n12:32\u00a0<vmassol>\u00a0which looks really nasty  \n12:32\u00a0<vmassol>\u00a0since obviously there's no XWikiPrefernces author....  \n12:33\u00a0<vmassol>\u00a0and I also confirm that search isn't working  \n12:33\u00a0<vmassol>\u00a0tmortagne: maybe it just does a refresh  \n12:33\u00a0<vmassol>\u00a0plugin init  \n12:33\u00a0<cdop2012>\u00a0Ok, I have the same \"bug\"/well rather message when I try to access Wysiwyg-Preferences  \n12:33\u00a0<cdop2012>\u00a0Customize XWiki.WysiwygEditorConfig: This configuration cannot be displayed because it was last edited by XWikiPreferences who doesn't have permission to edit this page.  \n12:33\u00a0<+tmortagne>\u00a0vmassol: all the right issue you have are cased by guest author  \n12:34\u00a0<+tmortagne>\u00a0it's going to be fixed  \n12:34\u00a0<vmassol>\u00a0tmortagne: I'm answering to marius  \n12:34\u00a0<vmassol>\u00a0he was saying that the author was ok for him and couldn't reproduce  \n12:34\u00a0<+tmortagne>\u00a0I reproduced it and told him  \n12:34\u00a0<vmassol>\u00a0\"vmassol: I'm testing with an empty database (deleted data folder), install the UI (I'm asked to login in the middle of the process), then I look at the installed pages. They all have Administrator as author and creator. What is the issue?\"  \n12:35\u00a0<+tmortagne>\u00a0we know what to fix for it, mflorea was probably testing in a specific situation  \n12:35\u00a0<vmassol>\u00a0ok  \n12:38\u00a0<cjd>\u00a0has joined #xwiki  \n12:42\u00a0<+sburjan>\u00a0vmassol: should I create a jira issue for the \"Unknown step\" ? because I now have it on XEm too, without deleting anythnig, just following the standard creation procedure. IMO this is a blocker  \n12:43\u00a0<vmassol>\u00a0no  \n12:43\u00a0<vmassol>\u00a0mflorea knows about it  \n12:43\u00a0<+sburjan>\u00a0cool  \n12:43\u00a0<vmassol>\u00a0it was introduced only a few days ago  \n12:43\u00a0<vmassol>\u00a0when marius/thomas started to introduce a new step  \n12:44\u00a0<+sburjan>\u00a0yes. after m3. because I don't have it on M3  \n13:00\u00a0<cdop2012>\u00a0i have it on 4.2 m3  \n13:01\u00a0<cdop2012>\u00a0(the \"This configuration cannot be displayed because it was last edited by XWikiPreferences\")  \n13:02\u00a0<cdop2012>\u00a0and also i got some warnings and even some errors in the install. i could show you the log - if there is one?  \n13:24\u00a0<+tmortagne>\u00a0cdop2012: whe have the various warnings and the the errorr in admin is caused by the author used to import the pages, we are taking care of it  \n13:28\u00a0<cdop2012>\u00a0thx :)  \n13:40\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r265481d\u000f https://github.com/xwiki/xwiki-platform/commit/265481d87486f4804d2b4e2426453eefc2df8072 \u000f/ xwiki-platform-core/xwiki-platform-application-manager/xwiki-platform-application-manager-api/src/main/java/com/xpn/xwiki/plugin/applicationmanager/internal/ApplicationManagerListener.java :\u000f XWIKI-8222: Application manager should make sure to register back translation documents when they are removed from XWikiPreferences - http://git.io/fPGa1g  \n13:43\u00a0<+tmortagne>\u00a0Enygma`, sburjan: I downloaded the last snapshot built by jenkins of XEM and all the scripts are executable by default  \n13:46\u00a0<cjd>\u00a0has quit  \n13:48\u00a0<+Enygma`>\u00a0tmortagne: then we are good :)  \n13:50\u00a0<+sburjan>\u00a0ok, let me redownload i  \n13:50\u00a0<+sburjan>\u00a0\\*it  \n13:51\u00a0<+sburjan>\u00a0tmortagne: did you downloaded xwiki-manager-jetty-mysql-4.2-20120919.081607-316.zip \u00a0\u00a0\u00a0?  \n13:52\u00a0<+tmortagne>\u00a0xwiki-manager-jetty-hsqldb-4.2-20120919.081737-276  \n13:52\u00a0<+tmortagne>\u00a0was the last when I downloaded it  \n13:52\u00a0<+sburjan>\u00a0this is the 3rd time I unpack it, and my start scripts are not executable  \n13:52\u00a0<+sburjan>\u00a0sincer when XEm supports hsqldb ?  \n13:53\u00a0<+sburjan>\u00a0I didn;t knew XEm works with hsqldb  \n13:53\u00a0<+tmortagne>\u00a0there always been a package  \n13:53\u00a0<+tmortagne>\u00a0used for test  \n13:53\u00a0<+tmortagne>\u00a0you can't create new wikis but it works for the main one  \n13:53\u00a0<+sburjan>\u00a0I see. lt me download what you downloaded  \n13:54\u00a0<+tmortagne>\u00a0maybe there is an issue in the mysql one in XE and XEM has been broken when I synchronized it with XE  \n13:54\u00a0<+tmortagne>\u00a0will check it  \n14:01\u00a0<+tmortagne>\u00a0vmassol: I found what is generating a Main.WebHome page at startup, according to the stack trace it's CheckAnnotationClassEventListener  \n14:01\u00a0<+tmortagne>\u00a0finding why  \n14:03\u00a0<vmassol>\u00a0tmortagne: ok  \n14:04\u00a0<+sburjan>\u00a0tmortagne: yes, on the hsqldb distro the executables are \u00a0OK. But I have tried again ( the 4th time) .. and the ones from xwiki-manager-jetty-mysql are not ok.  \n14:04\u00a0<+tmortagne>\u00a0vmassol: seems to be a bug, from what I can see the code think it's saving an annotation class actually  \n14:04\u00a0<+tmortagne>\u00a0sburjan: ok that probaably mean it's wrong in XE mysql, I will look at it  \n14:05\u00a0<+tmortagne>\u00a0finishing with Main.WebHome  \n14:05\u00a0<+sburjan>\u00a0downloading the Xe mysql to confirm  \n14:05\u00a0<+tmortagne>\u00a0sburjan: I don't think we build it  \n14:05\u00a0<+sburjan>\u00a0oh, ok  \n14:06\u00a0<+sburjan>\u00a0you're right, we don't  \n14:07\u00a0<vmassol>\u00a0tmortagne: btw looking at that event listener this looks wrong:  \n14:07\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0throw new AnnotationServiceException(String.format(  \n14:07\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"Failed to update the configured annotation class [%s:%s.%s]\",  \n14:07\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0serializer.serialize(annotationClassReference, (Object[]) null)), e);  \n14:07\u00a0<vmassol>\u00a0fixing it  \n14:08\u00a0<vmassol>\u00a0do you know why it's passing null as a parameter to serialize()?  \n14:08\u00a0<vmassol>\u00a0AFAIK parameters are not used in seralizer  \n14:09\u00a0<vmassol>\u00a0ah the person who write though we had to pass something \u2026 :)  \n14:09\u00a0<+tmortagne>\u00a0vmassol: depends actually  \n14:09\u00a0<+tmortagne>\u00a0what kind of serializer is this  \n14:09\u00a0<vmassol>\u00a0the default string sierlaizer  \n14:09\u00a0<vmassol>\u00a0I've checked the code we don't use the params  \n14:09\u00a0<+tmortagne>\u00a0ok in that case ys null does not make sense  \n14:10\u00a0<+tmortagne>\u00a0especially what that is supposed to be a Object[]...  \n14:10\u00a0<+tmortagne>\u00a0unless I forgot something but it's very weird  \n14:10\u00a0<silviar>\u00a0has quit  \n14:10\u00a0<silviar1>\u00a0has joined #xwiki  \n14:11\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r1d2a995\u000f https://github.com/xwiki/xwiki-platform/commit/1d2a995e325f4dec84bb3e28d1b9b89d76a01e85 \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/internal/CheckAnnotationClassEventListener.java :\u000f [Misc] Fixed invalid exception message + simplified it - http://git.io/t0ELUg  \n14:12\u00a0<+tmortagne>\u00a0DefaultAnnotationConfiguration#getAnnotationClassReference does not make much sense to me  \n14:13\u00a0<+tmortagne>\u00a0if there is no annotationClass property set in xwiki.properties then it return Main.WebHome reference...  \n14:13\u00a0<+tmortagne>\u00a0not a very nice fallback  \n14:13\u00a0<+tmortagne>\u00a0that's what Main.WebHome is created, to initialize the class  \n14:13\u00a0<+tmortagne>\u00a0s/what/why.  \n14:13\u00a0<vmassol>\u00a0yuck  \n14:14\u00a0<+tmortagne>\u00a0since everything is commented in xwiki.properties by default this never worked  \n14:14\u00a0<+tmortagne>\u00a0I don't know what is the proper fallback  \n14:14\u00a0<+tmortagne>\u00a0plus annotation use XWikiComments now anyway  \n14:14\u00a0<+tmortagne>\u00a0so I don't see whty they initialize anything  \n14:15\u00a0<vmassol>\u00a0AFAIU  \n14:15\u00a0<+tmortagne>\u00a0Enygma`: any idea on that ?  \n14:15\u00a0<vmassol>\u00a0we still want the ability to use Annotations proper to plug custom stuff  \n14:15\u00a0<vmassol>\u00a0I asked Enygma`  \n14:15\u00a0<vmassol>\u00a0and he answered something like thi  \n14:15\u00a0<vmassol>\u00a0this  \n14:15\u00a0<+tmortagne>\u00a0maybe caused by the last refactoring some way  \n14:15\u00a0<+tmortagne>\u00a0since there is no annotation class anymore that's maybe why the fallback does not make sense anymore  \n14:16\u00a0<vmassol>\u00a0what is the annotation xclass?  \n14:16\u00a0<+tmortagne>\u00a0comments  \n14:16\u00a0<+tmortagne>\u00a0by default  \n14:16\u00a0<+tmortagne>\u00a0since they have been merged  \n14:16\u00a0<+tmortagne>\u00a0but it used to have its own class  \n14:16\u00a0<+tmortagne>\u00a0and CheckAnnotationClassEventListener job was to initialize it  \n14:16\u00a0<vmassol>\u00a0yep that's what I see  \n14:17\u00a0<+tmortagne>\u00a0but now it should not initialize anything or maybe check comments class I don't know  \n14:17\u00a0<vmassol>\u00a0so we either remove this or we need to define an xdocment ref to hold this class  \n14:17\u00a0<vmassol>\u00a0so right now it uses Main.WEbHome to hold the annotation class right?  \n14:17\u00a0<+tmortagne>\u00a0yes but this class is not used anyway  \n14:17\u00a0<+tmortagne>\u00a0comments class is supposed to be used  \n14:17\u00a0<vmassol>\u00a0almost  \n14:18\u00a0<+tmortagne>\u00a0at least since the refactoring from what I understaood  \n14:18\u00a0<vmassol>\u00a0AFAIU it can still be used for some exotic cases (but not used by XE for usre)  \n14:18\u00a0<vmassol>\u00a0anyway we need Enygma`'s input and fix  \n14:18\u00a0<+tmortagne>\u00a0sure if you configure it  \n14:18\u00a0<+tmortagne>\u00a0but I mean by default  \n14:18\u00a0<+tmortagne>\u00a0be default it's comments class  \n14:18\u00a0<+tmortagne>\u00a0and nothing else  \n14:19\u00a0<+tmortagne>\u00a0sburjan: looking at XE/XEM mysql distribution waiting for Enygma`  \n14:20\u00a0<+sburjan>\u00a0okay, cool  \n14:20\u00a0<+sburjan>\u00a0I knew that the generated files are the same, only the way we package them is different. \u00a0this is why I think it's odd that hsqldb is not affected, but mysql is  \n14:21\u00a0<+tmortagne>\u00a0found it  \n14:21\u00a0<+tmortagne>\u00a0the mysql configuration does not set any right  \n14:21\u00a0<+tmortagne>\u00a0in XE  \n14:21\u00a0<+tmortagne>\u00a0fixing XE and will synch XEM  \n14:22\u00a0<+tmortagne>\u00a0must be the same for pgsql I guess  \n14:26\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* ra551c77\u000f https://github.com/xwiki/xwiki-enterprise/commit/a551c77cc4b5fa628fc5ebcaa630a1b5e4cde94d \u000f/ (2 files in 2 dirs):\u000f XE-1236: Start and stop script are not executable out of the box for mysql and pgsql packages - http://git.io/NIVR7g  \n14:28\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* rb99bdf9\u000f https://github.com/xwiki/xwiki-manager/commit/b99bdf921d0fe96e46f939dcc0ce716cfec0af66 \u000f/ (2 files in 2 dirs):\u000f XEM-224: Start and stop script are not executable out of the box for mysql and pgsql packages - http://git.io/xvBrXQ  \n14:28\u00a0<+tmortagne>\u00a0sburjan: should be ok in the next build  \n14:34\u00a0<vmassol>\u00a0tmortagne: hmm that's strange  \n14:35\u00a0<vmassol>\u00a0I remember updating the assembly plugin  \n14:35\u00a0<vmassol>\u00a0to a new version that didn't loose permissions  \n14:35\u00a0<vmassol>\u00a0maybe I'm confusing with something else  \n14:36\u00a0<vmassol>\u00a0I see that I had put 755 in rev 569f0e2088c4aaf39a617fd91bea53c23508c09a  \n14:37\u00a0<+tmortagne>\u00a0vmassol: the issue I think is that I doubt git really keep permissions  \n14:37\u00a0<vmassol>\u00a0found it  \n14:37\u00a0<vmassol>\u00a0I removed them in de7bf130342789e454864ef2dbfc82e03df9d90a  \n14:37\u00a0<vmassol>\u00a0I ahd tested that it worked of course  \n14:37\u00a0<vmassol>\u00a0ah that's something else then  \n14:37\u00a0<vmassol>\u00a0XE-746  \n14:38\u00a0<+tmortagne>\u00a0so that's probably why it has been added back  \n14:38\u00a0<vmassol>\u00a0added back?  \n14:38\u00a0<vmassol>\u00a0I do'nt understand  \n14:38\u00a0<vmassol>\u00a0the story is:  \n14:38\u00a0<+tmortagne>\u00a0there is 755 set in the XE build  \n14:38\u00a0<vmassol>\u00a0- the assembly plugin used to loose perms  \n14:38\u00a0<vmassol>\u00a0so I had forced it  \n14:38\u00a0<vmassol>\u00a0to 755  \n14:38\u00a0<+tmortagne>\u00a0it was not done in mysql and pgsql  \n14:38\u00a0<vmassol>\u00a0then recently the assembly plugin was fixed  \n14:38\u00a0<vmassol>\u00a0and I removed the 755  \n14:38\u00a0<+tmortagne>\u00a0well it was there  \n14:39\u00a0<vmassol>\u00a0see commit de7bf130342789e454864ef2dbfc82e03df9d90a  \n14:39\u00a0<vmassol>\u00a0I don't get it  \n14:39\u00a0<+tmortagne>\u00a0and it does not work without it  \n14:39\u00a0<vmassol>\u00a0I have the file here and I don't have 755  \n14:39\u00a0<vmassol>\u00a0but Isee your commit adds it back  \n14:39\u00a0<vmassol>\u00a0you added it in https://github.com/xwiki/xwiki-enterprise/commit/a551c77cc4b5fa628fc5ebcaa630a1b5e4cde94d  \n14:39\u00a0<+tmortagne>\u00a0I just added it in mysql because it was only in hsqldb and derby  \n14:40\u00a0<+tmortagne>\u00a0it was forgotten because we never build thoses packages  \n14:40\u00a0<vmassol>\u00a0nothing was forgotten  \n14:40\u00a0<+tmortagne>\u00a0but again it was there in hsqldb one  \n14:40\u00a0<vmassol>\u00a0I explciitely removed them  \n14:40\u00a0<vmassol>\u00a0see the history  \n14:40\u00a0<vmassol>\u00a0btw your comment is not correct  \n14:40\u00a0<+tmortagne>\u00a0it's not my comment  \n14:40\u00a0<vmassol>\u00a0nothing is lost anymore by the assembly plugin AFAIK  \n14:40\u00a0<+tmortagne>\u00a0I just copy pasted what was in hsqldb package  \n14:40\u00a0<vmassol>\u00a0ok I'll fix it  \n14:41\u00a0<+tmortagne>\u00a0and it does not work without it as you have seen with sburjan reports  \n14:41\u00a0<vmassol>\u00a0for another reason  \n14:41\u00a0<vmassol>\u00a0not because the assemvyl plugin looses them  \n14:42\u00a0<+tmortagne>\u00a0vmassol: see https://github.com/xwiki/xwiki-enterprise/commit/339bb77d411a3a0b6cacbdf49c78f3c6cbbf7590#xwiki-enterprise-distribution/xwiki-enterprise-jetty/xwiki-enterprise-jetty-hsqldb/src/assemble/application.xml  \n14:42\u00a0<+tmortagne>\u00a0you added it back here  \n14:43\u00a0<+tmortagne>\u00a0and you did it only in hsqldb package  \n14:43\u00a0<+tmortagne>\u00a0and it's your comment as you can see  \n14:44\u00a0<vmassol>\u00a0ok maybe what happened  \n14:44\u00a0<vmassol>\u00a0is that they said they fixed but it didn't work  \n14:44\u00a0<vmassol>\u00a0ok I think that's it  \n14:44\u00a0<+tmortagne>\u00a0maybe, all \u00a0I did was to do the same things everywhere because it was a mess between various packages and XE/XEM  \n14:45\u00a0<vmassol>\u00a0and I put it back when I foudn it didn't work  \n14:45\u00a0<vmassol>\u00a0actually I don't know why it doesn't work  \n14:45\u00a0<vmassol>\u00a0which is why I said \"somehow\"  \n14:46\u00a0<vmassol>\u00a0(and I forgot to copy it to the other modules)  \n14:46\u00a0<vmassol>\u00a0(another case for avoiding duplicated code....)  \n14:46\u00a0<+tmortagne>\u00a0looks like derby package is wrong too  \n14:46\u00a0<+tmortagne>\u00a0fixing it  \n14:46\u00a0<vmassol>\u00a0ok  \n14:49\u00a0<+sburjan>\u00a0\u00a0question: why are we keping the derby package ? it's not supported by xwiki  \n14:50\u00a0<+tmortagne>\u00a0sburjan: it's not ?  \n14:50\u00a0<+tmortagne>\u00a0I tough it was  \n14:50\u00a0<+tmortagne>\u00a0if it's not then yes we should remove it  \n14:50\u00a0<vmassol>\u00a0it's more complex than that  \n14:50\u00a0<vmassol>\u00a0it's supported by xwiki  \n14:50\u00a0<vmassol>\u00a0but not by the xwiki dev team  \n14:50\u00a0<vmassol>\u00a0:)  \n14:51\u00a0<+sburjan>\u00a0I'm reading here: http://dev.xwiki.org/xwiki/bin/view/Community/DatabaseSupportStrategy  \n14:51\u00a0<vmassol>\u00a0yes this is what it says  \n14:52\u00a0<vmassol>\u00a0\"The following databases are not officially supported. XWiki may work with them, completely or partly. We don't constantly test against it, we don't ensure that new features work on them. However whenever someone raises an issue on http://jira.xwiki.org/ about them and it's easy to fix (or if someone provides a patch) then we fix it.\"  \n14:52\u00a0<vmassol>\u00a0this doesn't mean that we shouldn't have any files for it in our SCM  \n14:52\u00a0<vmassol>\u00a0it just mean we don't guarantee it's oging to work  \n14:52\u00a0<vmassol>\u00a0now we could decide to remove the build  \n14:53\u00a0<+sburjan>\u00a0meaning we allow/are open to \u00a0contributions to it, but we're not gonna work on it ?  \n14:53\u00a0<+tmortagne>\u00a0well usually when we don't support something officially it moves to xwiki-contrib  \n14:53\u00a0<+tmortagne>\u00a0we did that for anything else  \n14:53\u00a0<+Enygma`>\u00a0re the annotations issue: DefaultAnnotationConfig does not use the default ConfigurationSource, but uses the @Named(\"annotation\") one (AnnotationConfigurationSource) which reads its data from the AnnotationCode.AnnotationConfig page  \n14:53\u00a0<+Enygma`>\u00a0so it does not rely on xwiki.properties  \n14:53\u00a0<vmassol>\u00a0tmortagne: not really  \n14:53\u00a0<vmassol>\u00a0for example we package the mssql hbm  \n14:54\u00a0<vmassol>\u00a0same for the derby one,e tc  \n14:54\u00a0<+Enygma`>\u00a0CheckAnnotationClassEventListener#ensureAnnotationClassIsValid before doing anything, configuration.isInstalled() is checking if the Annotations Application is installed, so it should not affect an empty wiki  \n14:54\u00a0<+tmortagne>\u00a0Enygma`: ok but looks like when it does not find the configuration which is the case here it tried to create the class in Main.WebHome so there is something wrong  \n14:54\u00a0<+tmortagne>\u00a0it's not on empty wiki  \n14:54\u00a0<+tmortagne>\u00a0it's during import  \n14:55\u00a0<tillo>\u00a0Hello guys. I need to include in a page a small \"Create page\" form, with an input box for the name, for an hardcoded space. I was going for an {{html}} form and a dynamic JS /xwiki/bin/create/A/B action with B based on the text input... is there any easier/XWiki way?  \n14:55\u00a0<+tmortagne>\u00a0so for some reason ensureAnnotationClassIsValid has been executed before having whatever it's using to get it's configuration was ready  \n14:56\u00a0<+Enygma`>\u00a0but as I`ve mentioned, in ensureAnnotationClassIsValid, if it does not have the data (!configuration.isInstalled()) it returns immediately  \n14:58\u00a0<+tmortagne>\u00a0Enygma`: does not seems to be the case here or it was the configuration but it's empty  \n14:59\u00a0<+tmortagne>\u00a0getAnnotationClassReference return Main.WebHome document reference  \n14:59\u00a0<+tmortagne>\u00a0which means it got empty string from the configuration  \n14:59\u00a0<+tmortagne>\u00a0so either configuration.isInstalled() does not work or there is an empty configuration (whatever this configuration is)  \n15:00\u00a0<+tmortagne>\u00a0but again having Main.WebHome as last resort default configuration it's not very nice  \n15:00\u00a0<+tmortagne>\u00a0it should not need any configuration for what is the default behavior  \n15:01\u00a0<+Enygma`>\u00a0I did not code it for any fallback. If there is no AnnotationCode.AnnotationConfig page, nothing is done.  \n15:02\u00a0<+Enygma`>\u00a0now, I just need to understand where that Main.WebHome comes from  \n15:03\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r990dc44\u000f https://github.com/xwiki/xwiki-manager/commit/990dc44c74b98f1c796505ecc2c307c965b13e05 \u000f/ xwiki-manager-distribution/xwiki-manager-jetty/xwiki-manager-jetty-derby/src/assemble/application.xml :\u000f XEM-224: Start and stop script are not executable out of the box for derby, mysql and pgsql packages - http://git.io/jRCR6Q  \n15:03\u00a0<+Enygma`>\u00a0btw, how did you trace it to CheckAnnotationClassEventListener ?  \n15:04\u00a0<+tmortagne>\u00a0I just told you where it comes from  \n15:04\u00a0<+tmortagne>\u00a0thats because it gets empty string from the configuration  \n15:04\u00a0<+tmortagne>\u00a0and when you resolve empty string you get Main.WebHome  \n15:05\u00a0<+tmortagne>\u00a0Enygma`: I found it by putting a breakpoint for main.webhome in XWiki#save  \n15:06\u00a0<+Enygma`>\u00a0I see...  \n15:06\u00a0<+Enygma`>\u00a0looks like I have to get the latest snapshot and debug...  \n15:07\u00a0<+tmortagne>\u00a0not sure how to reproduce it very quickly, I reproduced it with the installer \u00a0and it installe a lot of stuff before hitting this  \n15:07\u00a0<+Enygma`>\u00a0Vincent listed some steps here: http://jira.xwiki.org/browse/XWIKI-8213  \n15:07\u00a0<+Enygma`>\u00a0hope they work :)  \n15:09\u00a0<+tmortagne>\u00a0Enygma`: yes you can reproduce it that way  \n15:10\u00a0<+Enygma`>\u00a0cool... downloading and debugging... will be back with more details or a fix  \n15:30\u00a0<+Enygma`>\u00a0weird... using xwiki-enterprise-jetty-hsqldb-4.2-20120920.042553-316.zip, after deleting the data dir and starting XWiki, I get an error message in the Distribution Wizard: \u00a0\"Unknown step\"  \n15:30\u00a0<+Enygma`>\u00a0and the URL looks like this: http://localhost:9090/xwiki/bin/distribution/XWiki/Distribution?xredirect=%2Fxwiki%2Fbin%2Fview%2FMain%2F  \n15:30\u00a0<+Enygma`>\u00a0will try with 4.2M3 though...  \n15:31\u00a0<+tmortagne>\u00a0Enygma`: skip it  \n15:31\u00a0<+tmortagne>\u00a0the step exist but not its content basically  \n15:32\u00a0<+tmortagne>\u00a0I created it in the distribution job but now Marius is writing the corresponding UI  \n15:32\u00a0<+Enygma`>\u00a0ok  \n15:32\u00a0<+tmortagne>\u00a0but if you use snapshot you will have to add snapshot repository to xwiki.properties  \n15:32\u00a0<+tmortagne>\u00a0otherwise it's not going to find the UI  \n15:33\u00a0<+Enygma`>\u00a0\"We couldn't find any extension with id 'org.xwiki.enterprise:xwiki-enterprise-ui' and version '4.2-SNAPSHOT'.\"  \n15:33\u00a0<+Enygma`>\u00a0I guess I still have to get the 4.2M3  \n15:34\u00a0<+Enygma`>\u00a0since I have no Install button  \n15:34\u00a0<+tmortagne>\u00a0Enygma`: that's because you don't have the snapshot repoditory by default  \n15:34\u00a0<+tmortagne>\u00a0so that extension can't be found  \n15:34\u00a0<vmassol>\u00a0Enygma`:  \n15:34\u00a0<vmassol>\u00a0extension.repositories=maven-xwiki:maven:http://nexus.xwiki.org/nexus/content/groups/public  \n15:34\u00a0<vmassol>\u00a0extension.repositories=extensions.xwiki.org:xwiki:http://extensions.xwiki.org/xwiki/rest/  \n15:34\u00a0<vmassol>\u00a0extension.repositories=maven-xwiki-snapshot:maven:http://nexus.xwiki.org/nexus/content/groups/public-snapshots/  \n15:34\u00a0<vmassol>\u00a0(in your xwiki.properites file)  \n15:37\u00a0<+Enygma`>\u00a0vmassol: thanks, that worked  \n15:42\u00a0<CIA-122>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rbc07826\u000f https://github.com/xwiki/xwiki-platform/commit/bc07826fe5f22e7bcf577f9c7094cd042d189cec \u000f/ (6 files in 3 dirs):\u000f XWIKI-8212: Improve the distribution wizard (+8 more commits...) - http://git.io/iuZPvA  \n15:52\u00a0<vmassol>\u00a0mflorea: can we retest? :)  \n15:53\u00a0<+mflorea>\u00a0yes  \n15:53\u00a0<+mflorea>\u00a0but I still have some fixes to do  \n15:54\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* rceab35c\u000f https://github.com/xwiki/xwiki-platform/commit/ceab35c1f9345fec37570cf74da0772128e35386 \u000f/ (51 files in 7 dirs):\u000f XWIKI-8223 : Mark technical documents as hidden in application manager UI module - http://git.io/1nsFYQ  \n15:54\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* rb7a6c46\u000f https://github.com/xwiki/xwiki-platform/commit/b7a6c460a327429fb865bf651391c36bb47d774e \u000f/ (51 files in 5 dirs):\u000f XWIKI-8223 : Mark technical documents as hidden in application manager UI module - http://git.io/a8gFQg  \n15:54\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* r26b1f94\u000f https://github.com/xwiki/xwiki-platform/commit/26b1f94d9490d838793a4b44dc5fa26a35d65c56 \u000f/ xwiki-platform-core/xwiki-platform-wiki-manager/xwiki-platform-wiki-manager-ui/src/main/resources/WikiManager/ApplicationsPanelEntry.xml :\u000f XWIKI-8225 : Provide a wiki manager entry in the applications panel - http://git.io/vPjB2A  \n15:55\u00a0<vmassol>\u00a0jvdrean: cool :) Are you fixing the AWM icon issue too?  \n15:56\u00a0<+jvdrean>\u00a0vmassol: of course  \n15:56\u00a0<vmassol>\u00a0I mean for RC1  \n15:57\u00a0<+jvdrean>\u00a0this was next in my todo  \n15:57\u00a0<+jvdrean>\u00a0s/was/is/  \n15:57\u00a0<vmassol>\u00a0ok great  \n15:57\u00a0<vmassol>\u00a0it'll be so awesome once we have the l10n module...  \n16:00\u00a0<vmassol>\u00a0jvdrean: you broke the build  \n16:00\u00a0<vmassol>\u00a0[INFO] \u00a0\u00a0Verifying [WikiManager/ApplicationsPanelEntry.xml]... errors  \n16:00\u00a0<vmassol>\u00a0[INFO] \u00a0\u00a0- Parent must not be empty  \n16:00\u00a0<+Enygma`>\u00a0is the import step supposed to take a very long time with the distribution wizard?  \n16:01\u00a0<vmassol>\u00a0bad, you should build locally ;)  \n16:01\u00a0<vmassol>\u00a0Enygma`: this is going to be a showstopper for our users I believe\u2026 but yes ATM we know it's taking long  \n16:01\u00a0<vmassol>\u00a0(and we're not going to fix this for 4.2 final)  \n16:01\u00a0<+Enygma`>\u00a0hmm... seems that there was a conflict for me to fix  \n16:01\u00a0<vmassol>\u00a0ah  \n16:01\u00a0<+Enygma`>\u00a0but the details panel did not expand  \n16:01\u00a0<vmassol>\u00a0that's another problem that marius maybe fixed  \n16:02\u00a0<+Enygma`>\u00a0and it was just sitting there, loading... but instead it was waiting for my feedback  \n16:02\u00a0<vmassol>\u00a0the visiblity of the conflit  \n16:02\u00a0<+mflorea>\u00a0fixed  \n16:02\u00a0<vmassol>\u00a0:)  \n16:02\u00a0<+Enygma`>\u00a0so, until now, I got a conflict on XWiki.XWikiPreferences (kept newer version)  \n16:02\u00a0<vmassol>\u00a0yep  \n16:02\u00a0<+Enygma`>\u00a0and now I have one on XWiki.XWikiSkins (after the login)  \n16:02\u00a0<vmassol>\u00a0then log in  \n16:02\u00a0<vmassol>\u00a0yes  \n16:02\u00a0<vmassol>\u00a0then oyu'll have one on Main.Webhome  \n16:02\u00a0<vmassol>\u00a0the famous one  \n16:02\u00a0<+Enygma`>\u00a0:)  \n16:04\u00a0<+Enygma`>\u00a0quick question: can we install XWiki if we are offline?  \n16:04\u00a0<vmassol>\u00a0hehe you seem to be asking the exact same questions I've been asking :)  \n16:04\u00a0<vmassol>\u00a0ATM the answer is yes but by skipping the distrib wizard and using import  \n16:04\u00a0<+Enygma`>\u00a0I would like to have the basics in the local extension repository/cache  \n16:04\u00a0<vmassol>\u00a0(so no merge)  \n16:04\u00a0<+Enygma`>\u00a0ok  \n16:05\u00a0<+tmortagne>\u00a0actually you can with a local maven repository that contains everything needed  \n16:06\u00a0<+tmortagne>\u00a0or if you already have everything in the extension manager repository, just not installed  \n16:06\u00a0<vmassol>\u00a0and to configure that, see http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Module#HConfiguringExtensionRepositories  \n16:16\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* rd8fd014\u000f https://github.com/xwiki/xwiki-platform/commit/d8fd0146edfa2df9d96816568bb6853ea2ed1ebe \u000f/ xwiki-platform-core/xwiki-platform-wiki-manager/xwiki-platform-wiki-manager-ui/src/main/resources/WikiManager/ApplicationsPanelEntry.xml :\u000f XWIKI-8225 : Provide a wiki manager entry in the applications panel - http://git.io/wBsbPA  \n16:19\u00a0<vmassol>\u00a0nice change mflorea :)  \n16:19\u00a0<vmassol>\u00a0I lke the new header  \n16:20\u00a0<vmassol>\u00a0nice text  \n16:21\u00a0<+mflorea>\u00a0I'm glad you like it, I think it was evalica's idea  \n16:21\u00a0<+mflorea>\u00a0the header  \n16:22\u00a0<+evalica>\u00a0:)  \n16:22\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r60c6dcf\u000f https://github.com/xwiki/xwiki-enterprise/commit/60c6dcfb01813c6e62f67988527ff0b98064d868 \u000f/ (2 files in 2 dirs):\u000f XE-1236: Start and stop script are not executable out of the box for derby, mysql and pgsql packages - http://git.io/Ct17ow  \n16:24\u00a0<+mflorea>\u00a0I have to leave for 2h. ttyl  \n16:24\u00a0<vmassol>\u00a0ok, still testing  \n16:24\u00a0<vmassol>\u00a0(waiting for the downloads)  \n16:25\u00a0<+mflorea>\u00a0I'll check the IRC log when I'm back  \n16:28\u00a0<vmassol>\u00a0tmortagne: I'm really wondering why it's so slow, have you tried checking all the http requests done? Maybe it's because my snapshot repo is put last in the list and thus it checks on all other repos first and wait for the time out?  \n16:28\u00a0<vmassol>\u00a0I'll try to put it first later on to see if it changes  \n16:28\u00a0<+tmortagne>\u00a0vmassol: you should not get any timeout  \n16:28\u00a0<+tmortagne>\u00a0timeout is when your repository is down or something  \n16:28\u00a0<vmassol>\u00a0yeah ok but at least that means 404  \n16:28\u00a0<+tmortagne>\u00a0but if it does not find something it comes quickly but yes if it's the last it test on all reposirtories  \n16:29\u00a0<mflorea>\u00a0has quit  \n16:29\u00a0<vmassol>\u00a0so if we have 50 pom to download that's 100 requests more  \n16:29\u00a0<+tmortagne>\u00a0so it does twice the request in your case I guess  \n16:29\u00a0<vmassol>\u00a0I have 3 repos listed  \n16:29\u00a0<vmassol>\u00a0so nexus + e.x.o are requested for nothing  \n16:29\u00a0<+tmortagne>\u00a0yes I meant 3 times actually  \n16:30\u00a0<+tmortagne>\u00a0tree, twice it's close :)  \n16:30\u00a0<vmassol>\u00a0it should have some intelligence built in :)  \n16:30\u00a0<vmassol>\u00a0when it finds a resource on one repo then for the next resource use the same repo  \n16:31\u00a0<vmassol>\u00a0(before trying on other repos)  \n16:31\u00a0<+tmortagne>\u00a0yea could be  \n16:31\u00a0<+tmortagne>\u00a0we can put in the executioncontext the last repository in which we found something  \n16:31\u00a0<+tmortagne>\u00a0so that's it's used in priority in the same request  \n16:31\u00a0<+tmortagne>\u00a0for following stuff  \n16:32\u00a0<vmassol>\u00a0For marius: I didn't get any explanation for the login screen  \n16:33\u00a0<vmassol>\u00a0marius: and the conflict info is still at the bottom (thought you said you changed that)  \n16:33\u00a0<vmassol>\u00a0tmortagne: too bad, I still have:  \n16:33\u00a0<vmassol>\u00a0Failed to create wiki component(s) for document [XWiki.AddExtensions]: Registering UI extensions requires admin rights at the wiki level  \n16:34\u00a0<vmassol>\u00a0hmm wait  \n16:34\u00a0<vmassol>\u00a0author is still wrong  \n16:34\u00a0<vmassol>\u00a0it's not set  \n16:36\u00a0<vmassol>\u00a0evalica: I have a CSS issue on latest from master for the search icon  \n16:36\u00a0<+tmortagne>\u00a0vmassol: not sure having the proper user would fix it actually since this page could be imported before Admin user is imported  \n16:36\u00a0<+tmortagne>\u00a0depending if admin UI is installed before or after EM UI  \n16:37\u00a0<+tmortagne>\u00a0checking the XE pom.xml  \n16:37\u00a0<vmassol>\u00a0evalica: https://www.evernote.com/shard/s119/sh/ea4459f0-62ca-4c3c-a63a-de012f691576/d56e8b7fc87050c85ba454ca0ed00bb5  \n16:37\u00a0<sdumitriu>\u00a0has quit  \n16:37\u00a0<vmassol>\u00a0evalica: do you think you could have a quick look at it before the RC1?  \n16:37\u00a0<+evalica>\u00a0k  \n16:38\u00a0<vmassol>\u00a0thanks  \n16:39\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r3b3afed\u000f https://github.com/xwiki/xwiki-enterprise/commit/3b3afed576f36868de5f5ebee0b80958b59e7403 \u000f/ xwiki-enterprise-ui/pom.xml :\u000f Put admin ui as first dependency to have right and admin user installed as soon as possible - http://git.io/kbLWjQ  \n16:40\u00a0<cjd>\u00a0has joined #xwiki  \n16:41\u00a0<vmassol>\u00a0tmortagne: \u2026\u2026.  \n16:41\u00a0<vmassol>\u00a0what a trick....  \n16:41\u00a0<cdop2012>\u00a0ok thanks for handling the issues asap! see you :)  \n16:41\u00a0<cdop2012>\u00a0has quit  \n16:41\u00a0<vmassol>\u00a0tmortagne: : without documentation it's going to go away at some point...  \n16:42\u00a0<vmassol>\u00a0:)  \n16:42\u00a0<+tmortagne>\u00a0vmassol: will put a little something  \n16:43\u00a0<+tmortagne>\u00a0but it's not a long term stuff anyway since Admin user have nothing to do in an application and should be in XE if we were clean  \n16:45\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r792c112\u000f https://github.com/xwiki/xwiki-enterprise/commit/792c11214d2b1f6b708766e5a1cbbd07e7dc4b09 \u000f/ xwiki-enterprise-ui/pom.xml :\u000f Add comment - http://git.io/sRarNg  \n16:46\u00a0<vmassol>\u00a0yep  \n16:54\u00a0<+Enygma`>\u00a0I have restarted the attempt to duplicate the problem since my Eclipse died under pressure...  \n16:54\u00a0<+Enygma`>\u00a0however, before that, I got the conflict for Main.WebHome  \n16:54\u00a0<+Enygma`>\u00a0re-started the debug, solved the conflict and only after that the breakpoints were reached (in the annotations module and in xwiki.saveDocument)  \n16:55\u00a0<+Enygma`>\u00a0but getAnnotationClass was returning the correct class: XWiki.XWikiComments  \n16:56\u00a0<+tmortagne>\u00a0Enygma`: if you have a conflict then it mean Main.WebHome has been saved by something before EM import it, you probably missed it  \n16:56\u00a0<+Enygma`>\u00a0this is why I have restarted the process with the debugger from the beginning  \n16:56\u00a0<+tmortagne>\u00a0Enygma`: did you removed the database first ?  \n16:56\u00a0<+Enygma`>\u00a0hmm, I just got a \"Could not find extension dependency [org.xwiki.platform:xwiki-platform-watchlist-ui-4.2-SNAPSHOT]\" (before the login step)  \n16:57\u00a0<+Enygma`>\u00a0yes, always  \n16:57\u00a0<+Enygma`>\u00a0so I`m asking again, how did you come to the conclusion that the annotations module is to blame?  \n16:58\u00a0<+Enygma`>\u00a0did the breakpoint for xwiki.saveDocument get triggered before or after the conflict on Main.WebHome was displayed in the wizard?  \n16:58\u00a0<+tmortagne>\u00a0Enygma`: because as I explained to you my breakpoint has been called by annotation listener  \n16:58\u00a0<+tmortagne>\u00a0which is exactly why you are doingthe same thing...  \n16:58\u00a0<+tmortagne>\u00a0its was obviously before  \n16:59\u00a0<+tmortagne>\u00a0since the goal here is to find what create the first Main.WebHome  \n16:59\u00a0<+Enygma`>\u00a0yep...  \n16:59\u00a0<+Enygma`>\u00a0so, as I`ve mentioned, now I just got: Could not find extension dependency [org.xwiki.platform:xwiki-platform-watchlist-ui-4.2-SNAPSHOT]  \n16:59\u00a0<+Enygma`>\u00a0but was probably a network issue  \n16:59\u00a0<+tmortagne>\u00a0it's impossible that your saveDocument breakpoint did not stopped before the conflict  \n17:00\u00a0<+Enygma`>\u00a0restarting...  \n17:00\u00a0<+tmortagne>\u00a0since the conflict mean that you did have a Main.WebHome in database  \n17:00\u00a0<vmassol>\u00a0has quit  \n17:00\u00a0<+Enygma`>\u00a0I got an exception in the console: http://pastebin.com/wKbjwxec  \n17:01\u00a0<+tmortagne>\u00a0not sure what is this, I don't see any XWiki related stuff in the stack trace  \n17:02\u00a0<+Enygma`>\u00a0We couldn't find any extension with id 'org.xwiki.enterprise:xwiki-enterprise-ui' and version '4.2-SNAPSHOT'.  \n17:02\u00a0<silviar1>\u00a0has quit  \n17:02\u00a0<+Enygma`>\u00a0err... is xwiki.org down or something?  \n17:02\u00a0<+tmortagne>\u00a0when di you get it ?  \n17:02\u00a0<+tmortagne>\u00a0when stopping ?  \n17:02\u00a0<+tmortagne>\u00a0(I mean http://pastebin.com/wKbjwxec)  \n17:02\u00a0<+Enygma`>\u00a0the previous error message with the linked exception, I got them while installing extensions, before the login screen would appear  \n17:02\u00a0<+tmortagne>\u00a0nexus seems alive  \n17:03\u00a0<+Enygma`>\u00a0now I got this one that should not be there since I`ve added the repository in the config file  \n17:03\u00a0<+tmortagne>\u00a0your are using only remote repository ? no local maven repository ?  \n17:03\u00a0<+tmortagne>\u00a0AETHER has some bugs with fs repositories  \n17:04\u00a0<+Enygma`>\u00a0using the default config + what vicent gave me before  \n17:04\u00a0<+Enygma`>\u00a0nothing else  \n17:04\u00a0<+tmortagne>\u00a0ok so only remote repositories  \n17:04\u00a0<+Enygma`>\u00a0(and of course, I have a local maven repo that I use generally)  \n17:04\u00a0<+tmortagne>\u00a0maybe you had a network issue on your side  \n17:04\u00a0<+Enygma`>\u00a0could be  \n17:04\u00a0<+Enygma`>\u00a0trying again  \n17:04\u00a0<+tmortagne>\u00a0are you able to access the listed repositories ?  \n17:04\u00a0<+tmortagne>\u00a0with your browser I mean  \n17:05\u00a0<+Enygma`>\u00a0Internal Server Error http://extensions.xwiki.org/xwiki/rest/  \n17:05\u00a0<+tmortagne>\u00a0this one is normal  \n17:05\u00a0<+Enygma`>\u00a0others work (nexus)  \n17:05\u00a0<+tmortagne>\u00a0its a bug in restfull with browsers  \n17:05\u00a0<+tmortagne>\u00a0we need to upgrade xwiki.org  \n17:05\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* r62dbec1\u000f https://github.com/xwiki/xwiki-platform/commit/62dbec1e5ad086ba1e1730331d423df40af44bcb \u000f/ (3 files in 2 dirs):\u000f XWIKI-8226 : Wiki components are registered against the global component manager, not the wiki one - http://git.io/wEBngA  \n17:06\u00a0<+Enygma`>\u00a0now (after another restart) it managed to find the UI  \n17:09\u00a0<+Enygma`>\u00a0another failure to find an extension: Could not find extension dependency [org.xwiki.platform:xwiki-platform-sheet-ui-4.2-SNAPSHOT]  \n17:09\u00a0<+Enygma`>\u00a0expanded stack trace: http://pastebin.com/kDf9Bjgj  \n17:11\u00a0<+tmortagne>\u00a0probably network issue again  \n17:11\u00a0<+tmortagne>\u00a0looks like you did not picked the right time  \n17:14\u00a0<+tmortagne>\u00a0nexus repository does not seems to answer very quickly for me when building something with maven  \n17:23\u00a0<+sburjan>\u00a0is any reason we don't list Ap Wthin Minutes in our Space Macro on the Main.WebHome ?  \n17:24\u00a0<+sburjan>\u00a0I know that we have the new app panel in the wiki  \n17:25\u00a0<+tmortagne>\u00a0sburjan: I think all its pages are hidden or something  \n17:25\u00a0<+sburjan>\u00a0maybe jvdrean know more  \n17:25\u00a0<+tmortagne>\u00a0probably :)  \n17:27\u00a0<+jvdrean>\u00a0sburjan: yep, all the pages in this space are now hidden  \n17:27\u00a0<+jvdrean>\u00a0since there's now a link in the applications panel  \n17:27\u00a0<+jvdrean>\u00a0isn't it nice ? :)  \n17:27\u00a0<+tmortagne>\u00a0so we will more or less reserve space macro to data spaces ?  \n17:27\u00a0<+sburjan>\u00a0yes, the only issue is that the link is hidden. you have to click \"More Applications\" to see it  \n17:28\u00a0<+tmortagne>\u00a0may sounds a bit weird to hide application entry points  \n17:33\u00a0<CIA-122>\u00a0Jean-Vincent Drean\u000f master\u000f \\* ref32736\u000f https://github.com/xwiki/xwiki-platform/commit/ef32736d92e2db6b6bf812f75a90368210935265 \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/xwiki-platform-appwithinminutes-ui/src/main/resources/AppWithinMinutes/LiveTableEditSheet.xml :\u000f XWIKI-8227 : Application icon is put back to \"icon:application\" when editing an AWM application - http://git.io/1FXXDg  \n17:33\u00a0<+jvdrean>\u00a0sburjan: is it an issue to have to click twice to create an app ?  \n17:34\u00a0<+sburjan>\u00a0it might be an issue for the end user because it's a little bit hidden.  \n17:35\u00a0<+sburjan>\u00a0also, \u00a0\"create your own\" might not be the best wording  \n17:35\u00a0<+jvdrean>\u00a0but it was even more difficult to understand when it was just a regular space named \"AppWithinMinutes\" imho  \n17:36\u00a0<+jvdrean>\u00a0it's \"AppWithinMinutes\" VS. \"More applications > Create your own!\"  \n17:36\u00a0<+tmortagne>\u00a0wouldn't the best be to make Add button extendable and have application in there for AWM ?  \n17:38\u00a0<+sburjan>\u00a0jvdrean: yes, I understand your point. I was expecting to see \"Applicaton Withing Minutes\" somewhere since we promote it as a new feature. Users who know about AWM could get confused because they don't see it anymore  \n17:38\u00a0<+Enygma`>\u00a0tmortagne: I`ve managed to reproduce it. Seems that the annotations maintainer wants to get all the existing annotations when a page is updated, but, as you`ve already said, the AnnotationsConfig page is not yet there. Since all the methods of DefaultAnnotationConfiguration have fallbacks, I`ll just add the current default annotations class as fallback to the getProperty call.  \n17:39\u00a0<+tmortagne>\u00a0Enygma`: +1  \n17:39\u00a0<+tmortagne>\u00a0is AnnotationsConfig really needed ?  \n17:39\u00a0<+tmortagne>\u00a0I mean if it contains only configuration it could be obtional  \n17:40\u00a0<+Enygma`>\u00a0I realize that in some cases it does not make sense to keep asking isInstalled() before doing annotations operations could be valid even if the UI is not present but annotation objects were kept for history purposes maybe  \n17:40\u00a0<+Enygma`>\u00a0AnnotationsCode.AnnotationConfig is the configuration page of the Annotations application  \n17:40\u00a0<+tmortagne>\u00a0also do we really need to initialize something by default ? I mean don't we use comments classes by default ?  \n17:41\u00a0<+tmortagne>\u00a0since the merge  \n17:41\u00a0<+tmortagne>\u00a0comment class is initialized in XWiki#initializeMandatoryClasses  \n17:42\u00a0<+tmortagne>\u00a0or maybe we modify it in annotation extension ?  \n17:42\u00a0<+Enygma`>\u00a0yes, but the currently configured annotations class needs to have some base properties. If the user selects a new class, the listener ensures that this new class has the basics  \n17:42\u00a0<+Enygma`>\u00a0this is valid for the XWikiComments class as well  \n17:43\u00a0<+tmortagne>\u00a0so the standard XWikiComments class does not have all that is needed ?  \n17:43\u00a0<+tmortagne>\u00a0I tough we added needed stuff in the standard comment class actually  \n17:44\u00a0<vmassol>\u00a0has joined #xwiki  \n17:44\u00a0<+Enygma`>\u00a0I think we did initially, but then moved it to the annotations extension for better isolation  \n17:45\u00a0<+tmortagne>\u00a0ok  \n17:49\u00a0<vmassol>\u00a0sorry my adium crashed and I didn't notice \u2026.  \n17:49\u00a0<vmassol>\u00a0has anyone tested the author issue after marius' commit?  \n17:49\u00a0<vmassol>\u00a0(it didn't work for me but maybe I didn't have his full commit for some reason)  \n17:50\u00a0<+tmortagne>\u00a0vmassol: currently installing the last snapshot built by jenkins to test it  \n17:50\u00a0<vmassol>\u00a0ok  \n17:50\u00a0<+tmortagne>\u00a0waited to the jenkins thing to be sure  \n17:51\u00a0<+tmortagne>\u00a0vmassol: since you just came back, Enygma`found the issue with Main.WebHome and is fixing it  \n17:51\u00a0<vmassol>\u00a0ah cool  \n17:52\u00a0<+tmortagne>\u00a0btw I tested with only one repo in xwiki.properties and seems a lot quicker than when I tested this morning  \n17:52\u00a0<vmassol>\u00a0ah ok so indeed it makes a difference  \n17:52\u00a0<+tmortagne>\u00a0can't be 100% maybe the network condition change in the meantime  \n17:52\u00a0<vmassol>\u00a0it should be ok for the user since they'll have the nexus one first  \n17:52\u00a0<+tmortagne>\u00a0would need more tests  \n17:52\u00a0<vmassol>\u00a0I'll test it too  \n17:53\u00a0<CIA-122>\u00a0Eduard Moraru\u000f master\u000f \\* r70e5c0c\u000f https://github.com/xwiki/xwiki-platform/commit/70e5c0cfe305ab3214e40ebefbd0ac9302eda191 \u000f/ (17 files in 4 dirs):\u000f XWIKI-8214: Add missing translations keys for the Workspaces application - http://git.io/Dgqlnw  \n17:53\u00a0<CIA-122>\u00a0Eduard Moraru\u000f master\u000f \\* r7d022fb\u000f https://github.com/xwiki/xwiki-platform/commit/7d022fb2e8bb09eea537f623db37608bb40612af \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-core/src/main/java/org/xwiki/annotation/internal/DefaultAnnotationConfiguration.java :\u000f XWIKI-8213: Distribution wizard wants to merge Main.WebHome on empty wiki - http://git.io/wb7E6Q  \n17:55\u00a0<+tmortagne>\u00a0Main.WebHome author is guest  \n17:55\u00a0<+tmortagne>\u00a0testing some other pages  \n17:55\u00a0<+tmortagne>\u00a0hmm some pages have Admin and some have guest  \n17:56\u00a0<vmassol>\u00a0home is guest for me  \n17:57\u00a0<vmassol>\u00a0too  \n17:57\u00a0<+tmortagne>\u00a0not sure how to check XWikiPreference author  \n17:59\u00a0<+tmortagne>\u00a0vmassol: you have admin as XWiki/WebHome author, right ?  \n17:59\u00a0<+tmortagne>\u00a0same for Blog for me  \n17:59\u00a0<+tmortagne>\u00a0but sandbox is guest  \n17:59\u00a0<vmassol>\u00a0hold on, I've reinstalled  \n17:59\u00a0<vmassol>\u00a0installing again  \n17:59\u00a0<+tmortagne>\u00a0I don't exactly understand the differences  \n17:59\u00a0<+tmortagne>\u00a0I will have to debug  \n18:00\u00a0<+Enygma`>\u00a0Main.WebHome as Administrator for me as author  \n18:00\u00a0<vmassol>\u00a0tmortagne: still very very slow to create the install plan for me  \n18:01\u00a0<vmassol>\u00a0I've kept the other repos but put the snapshot repo first  \n18:01\u00a0<+tmortagne>\u00a0it's not quick but it's was worst with three repository for me  \n18:01\u00a0<+tmortagne>\u00a0Enygma`: after your fix \u00a0or before ?  \n18:03\u00a0<cjd>\u00a0has quit  \n18:03\u00a0<+Enygma`>\u00a0on the snapshot that I got today, with my fix active (trough live debugging -- My code change got applied on-the-fly apparently and the install ran without issues)  \n18:03\u00a0<+Enygma`>\u00a0so the author is Admin for me  \n18:03\u00a0<+tmortagne>\u00a0ok, weird  \n18:03\u00a0<+tmortagne>\u00a0will debug it anyway  \n18:04\u00a0<+tmortagne>\u00a0hmm I may have an idea actually  \n18:04\u00a0<+tmortagne>\u00a0it's possible something is playing with context user during install and mess up with Extension Manager  \n18:05\u00a0<+tmortagne>\u00a0since EM is first looking at the request user then the context user then the user in the XAR  \n18:05\u00a0<+tmortagne>\u00a0and the there is no request user in this case  \n18:05\u00a0<+tmortagne>\u00a0but maybe some listeners set the context user  \n18:09\u00a0<CIA-122>\u00a0Ecaterina Moraru (Valica)\u000f master\u000f \\* r0ca6ae3\u000f https://github.com/xwiki/xwiki-platform/commit/0ca6ae3ff3f02e3308c5bbb7437236d44b017584 \u000f/ xwiki-platform-core/xwiki-platform-colibri/src/main/resources/colibri/colibri.css :\u000f XWIKI-8228: Search button from .globalsearch is outside the input's boundaries - http://git.io/7dKYNA  \n18:10\u00a0<vmassol>\u00a0thanks evalica  \n18:10\u00a0<+evalica>\u00a0np  \n18:10\u00a0<vmassol>\u00a0do you know why it was changed?  \n18:10\u00a0<vmassol>\u00a0it used to be ok  \n18:10\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:11\u00a0<+Enygma`>\u00a0Question: If I want to use l10n.xwiki.org for the Workspace Application, should I register it as a new application on the site, or just add the (2) translations wiki pages under the XEM 'application'?  \n18:12\u00a0<+tmortagne>\u00a0Enygma`: acctually I would say under platform  \n18:12\u00a0<+tmortagne>\u00a0I need to move appmanage and wikimanager to platform  \n18:12\u00a0<+tmortagne>\u00a0it's supposed to be the application corresponding to the repository  \n18:12\u00a0<+tmortagne>\u00a0but we started badly  \n18:12\u00a0<+tmortagne>\u00a0and I need to write a tool to move translations now  \n18:12\u00a0<+evalica>\u00a0vmassol: \u00a0I tested the bug - and is even before 3.3 (I stopped after that). But it's only a Chrome bug, the other browser are displaying it ok.  \n18:13\u00a0<+Enygma`>\u00a0tmortagne: right now it's empty  \n18:13\u00a0<+tmortagne>\u00a0Enygma`: yes  \n18:13\u00a0<+tmortagne>\u00a0that's normal  \n18:13\u00a0<+tmortagne>\u00a0it's because I still did not write the tool to move platform extensions from XE/XEM to it :)  \n18:13\u00a0<+Enygma`>\u00a0ok, so all apps that are in the platform repository can add there translation pages  \n18:14\u00a0<+Enygma`>\u00a0if they don`t already use ApplicationResources that is  \n18:14\u00a0<vmassol>\u00a0evalica: ok  \n18:14\u00a0<+tmortagne>\u00a0Enygma`: yes  \n18:15\u00a0<+jvdrean>\u00a0vmassol: I've set up a wiki farm locally and it didn't take long before getting this http://pastebin.com/raw.php?i=0VnwZuai  \n18:15\u00a0<+tmortagne>\u00a0so, from what I can see in debug EM install all the pages with the author from the XAR  \n18:15\u00a0<+tmortagne>\u00a0trying to find now from where the admin page is getting it's guest author  \n18:15\u00a0<+tmortagne>\u00a0hmm it maybe be because of the bug you fixed Enygma`actually  \n18:16\u00a0<+tmortagne>\u00a0I guess annotation listener save the document without setting an author  \n18:16\u00a0<+jvdrean>\u00a0vmassol: I haven't looked at the code yet but I'm surprised not to see the store before the last 2 calls in the trace  \n18:16\u00a0<vmassol>\u00a0jvdrean: ouch  \n18:16\u00a0<+tmortagne>\u00a0and EM keep the existing creator  \n18:17\u00a0<+tmortagne>\u00a0jvdrean: I got it too, I tough it was because of my old messed up database  \n18:17\u00a0<+tmortagne>\u00a0so I did not really looked at the details  \n18:18\u00a0<+jvdrean>\u00a0vmassol: here's the log before, http://pastebin.com/raw.php?i=tsjWBsSS  \n18:18\u00a0<vmassol>\u00a0jvdrean: what did you do to get it?  \n18:18\u00a0<+jvdrean>\u00a0vmassol: I started xwiki  \n18:18\u00a0<vmassol>\u00a0that's all?  \n18:19\u00a0<vmassol>\u00a0because I don't have this with a local XE  \n18:19\u00a0<+jvdrean>\u00a0wild guess, the db is still set to sub2 after the migrator is done  \n18:19\u00a0<+tmortagne>\u00a0vmassol: XEM  \n18:19\u00a0<+jvdrean>\u00a0it's a fresh xem install  \n18:19\u00a0<+tmortagne>\u00a0I don't have it when virtual=0  \n18:19\u00a0<+tmortagne>\u00a0only when virtual=1  \n18:19\u00a0<vmassol>\u00a0ok I'll test it with virtual=1  \n18:20\u00a0<+tmortagne>\u00a0you also probably need to have several wikis created  \n18:20\u00a0<+tmortagne>\u00a0at least I have  \n18:20\u00a0<vmassol>\u00a0jvdrean: you called the main wiki?  \n18:20\u00a0<+tmortagne>\u00a0the error I get are on subwikis in my case  \n18:20\u00a0<+jvdrean>\u00a0yep, it happens every time I start the wiki, after a request on the main wiki  \n18:20\u00a0<+tmortagne>\u00a0I get the erreor when going to the main wiki too  \n18:20\u00a0<+tmortagne>\u00a0but it's error related to subwikis  \n18:20\u00a0<vmassol>\u00a0btw when I run a local XE with virtual=1  \n18:20\u00a0<+jvdrean>\u00a0it definitely looks like a problem with the migrator  \n18:20\u00a0<vmassol>\u00a0I get in the logs  \n18:20\u00a0<vmassol>\u00a02012-09-20 18:20:32,576 [http://localhost:8080/xwiki/bin/view/Main/] WARN \u00a0iComponentManagerEventListener - Failed to register the wiki component located in the document [XWiki.AddExtensions]. Root cause: Registering UI extensions requires admin rights at the wiki level  \n18:21\u00a0<+jvdrean>\u00a0I don't get that  \n18:29\u00a0<jlamoree>\u00a0has quit  \n18:30\u00a0<sdumitriu>\u00a0has quit  \n18:34\u00a0<vmassol>\u00a0let me retry with a clean XE not installed through the wizard\u2026. (jvdrean)  \n18:35\u00a0<+jvdrean>\u00a0to reproduce you need to have at least 2 wikis  \n18:35\u00a0<+jvdrean>\u00a0(bbiaw)  \n18:35\u00a0<jvdrean>\u00a0has quit  \n18:38\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:40\u00a0<CIA-122>\u00a0tmortagne\u000f stable-4.1.x\u000f \\* ra769b96\u000f https://github.com/xwiki/xwiki-platform/commit/a769b96cb309cd309f6d4063777509a6ad5b0bc0 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-handlers/xwiki-platform-extension-handler-xar/src/main/java/org/xwiki/extension/xar/internal/handler/packager/xml/DocumentImporterHandler.java :\u000f XWIKI-8229: Extension Manager keep the author and content author of the already existing document instead of taking the one from t  \n18:41\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* rbfb6474\u000f https://github.com/xwiki/xwiki-platform/commit/bfb64747100d2956a883c220e0b3dcbdbd785ae3 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-handlers/xwiki-platform-extension-handler-xar/src/main/java/org/xwiki/extension/xar/internal/handler/packager/xml/DocumentImporterHandler.java :\u000f XWIKI-8229: Extension Manager keep the author and content author of the already existing document instead of taking the one from the XAR  \n18:41\u00a0<+tmortagne>\u00a0vmassol: should get better author now  \n18:42\u00a0<vmassol>\u00a0ok cool  \n18:42\u00a0<vmassol>\u00a0odes search work?  \n18:42\u00a0<+tmortagne>\u00a0btw it means we still have some automatically created document with guest as author  \n18:42\u00a0<vmassol>\u00a0ok would be good to track them  \n18:42\u00a0<+tmortagne>\u00a0(EM was keeping the existing author instead of ovewrite it)  \n18:42\u00a0<+tmortagne>\u00a0there is annotation listener for one  \n18:43\u00a0<+tmortagne>\u00a0that's the one that was create the Main.WebHome  \n18:43\u00a0<+tmortagne>\u00a0creating  \n18:43\u00a0<+tmortagne>\u00a0for the search I don't know yet, I need to reinstall with the fix to see if it helps in any way  \n18:45\u00a0<+tmortagne>\u00a0vmassol: I have a lot of stuff in the search when putting main for example  \n18:45\u00a0<+tmortagne>\u00a0do you have a specific test in mind ?  \n18:45\u00a0<vmassol>\u00a0\"test\"  \n18:46\u00a0<+tmortagne>\u00a0we have content with that ?  \n18:46\u00a0<vmassol>\u00a0sure  \n18:46\u00a0<vmassol>\u00a0lot of it  \n18:46\u00a0<vmassol>\u00a0like 10 results  \n18:46\u00a0<+tmortagne>\u00a0I get lots of results  \n18:46\u00a0<vmassol>\u00a0ok cool  \n18:46\u00a0<vmassol>\u00a0so it works  \n18:46\u00a0<+tmortagne>\u00a0exactly 10 from sandbox  \n18:46\u00a0<vmassol>\u00a0sounds good  \n18:46\u00a0<+tmortagne>\u00a011 actually  \n18:47\u00a0<+tmortagne>\u00a0no 10 don't listen to me it's late  \n18:47\u00a0<vmassol>\u00a0I said 10 at random so don't worry ;)  \n18:47\u00a0<+tmortagne>\u00a0I think I will go  \n18:47\u00a0<+tmortagne>\u00a0looks like we have something pretty nice now  \n18:47\u00a0<vmassol>\u00a0what about the warning  \n18:47\u00a0<vmassol>\u00a0this ine:  \n18:48\u00a0<vmassol>\u00a0one:  \n18:48\u00a0<vmassol>\u00a0\"Failed to register the wiki component located in the document [XWiki.AddExtensions]. Root cause: Registering UI extensions requires admin rights at the wiki level\"  \n18:48\u00a0<vmassol>\u00a0we had it before during the installation  \n18:48\u00a0<+tmortagne>\u00a0need to be tracked and debugged one by one  \n18:48\u00a0<+tmortagne>\u00a0this one was probably due to guest user  \n18:48\u00a0<+tmortagne>\u00a0ui extennsion listener looks at document author  \n18:49\u00a0<+tmortagne>\u00a0so either it was with guest or it was with admin but before admin was imported  \n18:49\u00a0<+tmortagne>\u00a0should not be the second I think since admin app is supposed to be installed first  \n18:49\u00a0<+tmortagne>\u00a0will check that tomorrow  \n18:49\u00a0<vmassol>\u00a0we need to decide  \n18:50\u00a0<vmassol>\u00a0if we release RC1 as is and fix after  \n18:50\u00a0<vmassol>\u00a0or if we spend another day debugging the reamining issues  \n18:50\u00a0<+tmortagne>\u00a0depends of the issues  \n18:50\u00a0<vmassol>\u00a0also  \n18:50\u00a0<vmassol>\u00a0there's this issue just raised by jv  \n18:50\u00a0<vmassol>\u00a0which is a blocker  \n18:50\u00a0<+tmortagne>\u00a0note that we had this kind of issue with wiki macro even before the installer and we fixed it by rescanning wiki macro after an import  \n18:50\u00a0<vmassol>\u00a0so I'd say we need one more day  \n18:51\u00a0<+tmortagne>\u00a0because we could not be sure that the right author was imported befaore the macro  \n18:51\u00a0<+tmortagne>\u00a0it's the same thing here except that we are a bit more safe since EM install admin first  \n18:52\u00a0<+tmortagne>\u00a0so we might have exactly the same issue without the installer anyway alter if not alwready  \n18:52\u00a0<+tmortagne>\u00a0s/alter/after/  \n18:56\u00a0<vmassol>\u00a0tmortagne: fyi I've tried to install Wiki Manager  \n18:56\u00a0<Enygma`>\u00a0has quit  \n18:56\u00a0<vmassol>\u00a0(using EM)  \n18:56\u00a0<vmassol>\u00a0and it's still bugging  \n18:56\u00a0<Enygma`>\u00a0has joined #xwiki  \n18:57\u00a0<+tmortagne>\u00a0what's wrong ?  \n18:57\u00a0<vmassol>\u00a0https://www.evernote.com/shard/s119/sh/4ee5e10a-1cec-4e2d-a4ba-c413f6d63e1d/33ce2747944e3c8a79b83f844091618d  \n18:58\u00a0<evalica>\u00a0has quit  \n19:01\u00a0<Enygma`>\u00a0has quit  \n19:01\u00a0<+tmortagne>\u00a0well from the stack trace what wikimanager is doing seems perfectly normal but looks like something changed in right service  \n19:02\u00a0<+tmortagne>\u00a0appmanager actually not wikimanager  \n19:03\u00a0<+tmortagne>\u00a0I have to go, will see what can be wrong in the right service tomorrow  \n19:03\u00a0<vmassol>\u00a0yeah me too  \n19:03\u00a0<+tmortagne>\u00a0bye  \n19:03\u00a0<vmassol>\u00a0I'll try to setup some XEM  \n19:03\u00a0<vmassol>\u00a0bye  \n19:03\u00a0<tmortagne>\u00a0has quit  \n19:07\u00a0<gdelhumeau>\u00a0has quit  \n19:08\u00a0<mflorea>\u00a0has joined #xwiki  \n19:11\u00a0<sdumitriu>\u00a0has quit  \n19:32\u00a0<mflorea>\u00a0has quit  \n19:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:41\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:43\u00a0<vmassol>\u00a0has quit  \n19:45\u00a0<cjd>\u00a0has joined #xwiki  \n20:02\u00a0<jvdrean>\u00a0has quit  \n20:04\u00a0<mflorea>\u00a0has joined #xwiki  \n20:13\u00a0<vmassol>\u00a0has joined #xwiki  \n20:20\u00a0<vmassol>\u00a0has quit  \n20:27\u00a0<coud>\u00a0has joined #xwiki  \n20:47\u00a0<vmassol>\u00a0has joined #xwiki  \n20:56\u00a0<vmassol>\u00a0has quit  \n21:22\u00a0<vmassol>\u00a0has joined #xwiki  \n21:31\u00a0<vmassol>\u00a0has quit  \n21:51\u00a0<vmassol>\u00a0has joined #xwiki  \n21:54\u00a0<mflorea>\u00a0has quit  \n21:59\u00a0<coud>\u00a0has quit  \n22:05\u00a0<cjd>\u00a0has quit  \n22:10\u00a0<jvdrean>\u00a0has joined #xwiki  \n22:17\u00a0<vmassol>\u00a0has quit  \n23:23\u00a0<vmassol>\u00a0has joined #xwiki  \n23:29\u00a0<Denis>\u00a0has quit  \n23:53\u00a0<cjd>\u00a0has joined #xwiki  \n\n"}