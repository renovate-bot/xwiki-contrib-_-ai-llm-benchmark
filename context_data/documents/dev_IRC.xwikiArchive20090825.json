{"id": "dev:IRC.xwikiArchive20090825", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20090825", "title": "IRC Archive for channel #xwiki on 25 August 2009 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nxwiki-bridge - (25/08/2009 08:18): [Vincent Massol] good morning  \nxwiki-bridge - (25/08/2009 08:18): [Vincent Massol] just catching up before I have to go to the training again  \nxwiki-bridge - (25/08/2009 08:21): [Vincent Massol] mflorea: I found a pb with the wysiwyg editor yesterday, creating a jira issue  \nxwiki-bridge - (25/08/2009 08:22): [mflorea] ok, go ahead, \u00a0I'll take a look  \nxwiki-bridge - (25/08/2009 08:25): [Vincent Massol] http://jira.xwiki.org/jira/browse/XWIKI-4211  \nxwiki-bridge - (25/08/2009 08:25): [Vincent Massol] you'll see it's a funny one ;)  \nxwiki-bridge - (25/08/2009 08:25): [mflorea] :)  \nxwiki-bridge - (25/08/2009 08:28): [mflorea] it's tricky :)  \nxwiki-bridge - (25/08/2009 08:29): [Asiri Rathnayake] p5$@\\*.^O  \nxwiki-bridge - (25/08/2009 08:30): [Asiri Rathnayake] shit :(  \nxwiki-bridge - (25/08/2009 08:30): [Asiri Rathnayake] ummm, sorry...   \nxwiki-bridge - (25/08/2009 08:32): [Vincent Massol] mflorea: yes it's tricky  \nxwiki-bridge - (25/08/2009 08:32): [Vincent Massol] this isn't a very common use case so we could find not perfect solution maybe  \nxwiki-bridge - (25/08/2009 08:32): [Vincent Massol] but I wonder if there are other use cases leading to problems  \nxwiki-bridge - (25/08/2009 08:33): [Vincent Massol] for ex if you use velocity to modifu the current page in $context, would that cause problems?  \nxwiki-bridge - (25/08/2009 08:33): [Vincent Massol] (haven't tried)  \nxwiki-bridge - (25/08/2009 08:34): [Vincent Massol] do we have a way to force the wiki editor using a URL param?  \nxwiki-bridge - (25/08/2009 08:34): [mflorea] editor=wiki  \nxwiki-bridge - (25/08/2009 08:34): [Vincent Massol] right  \nxwiki-bridge - (25/08/2009 08:34): [Vincent Massol] so that could be a workaround  \nxwiki-bridge - (25/08/2009 08:35): [Vincent Massol] when macros are folded, are they executed?  \nxwiki-bridge - (25/08/2009 08:35): [Vincent Massol] btw I have problem with the double click for editing macros  \nxwiki-bridge - (25/08/2009 08:35): [Vincent Massol] I can never succeed on the first time  \nxwiki-bridge - (25/08/2009 08:35): [Vincent Massol] the first click (even when I double click) folds the macro  \nxwiki-bridge - (25/08/2009 08:35): [Vincent Massol] I have to double click like twice or thrice to be able to edit  \nxwiki-bridge - (25/08/2009 08:36): [Vincent Massol] (note: I have to go in 3 minutes)  \nxwiki-bridge - (25/08/2009 08:36): [mflorea] hmm, it should work fine, let me check. macros are execute on the server  \nxwiki-bridge - (25/08/2009 08:37): [mflorea] double click works fine from the first time in my case  \nxwiki-bridge - (25/08/2009 08:37): [mflorea] folded/unfolded is just a way to hide the output  \nxwiki-bridge - (25/08/2009 08:37): [Vincent Massol] ok  \nxwiki-bridge - (25/08/2009 08:37): [mflorea] but the macros are executed before   \nxwiki-bridge - (25/08/2009 08:38): [Vincent Massol] hmm  \nasyd - (25/08/2009 08:38): hello there  \nxwiki-bridge - (25/08/2009 08:38): [Vincent Massol] and idea would be to provide stubs for response  \nxwiki-bridge - (25/08/2009 08:38): [mflorea] re changing the doc on the context, I'm using $tdoc.getRenderedContent  \nxwiki-bridge - (25/08/2009 08:38): [Vincent Massol] s/and/an/  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] what I mean is offering a sanitized execution environment  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] like a clone of the existing env  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] (so that we get thes ame behavior)  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] but that wouldn't have some effects..  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] hmmm  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] sounds too complex  \nxwiki-bridge - (25/08/2009 08:39): [Vincent Massol] (maybe not, I don't know)  \nxwiki-bridge - (25/08/2009 08:40): [mflorea] to fix the redirect issue?  \nxwiki-bridge - (25/08/2009 08:40): [Vincent Massol] we'd need to find other use caases that break frist  \nxwiki-bridge - (25/08/2009 08:40): [Vincent Massol] yes for the redirect but I was thinking more generally  \nxwiki-bridge - (25/08/2009 08:40): [Vincent Massol] (not just for the redirect)  \nxwiki-bridge - (25/08/2009 08:40): [Vincent Massol] but again we need to find other pbs in order to find a general solution I think  \nxwiki-bridge - (25/08/2009 08:40): [mflorea] for the redirect I know the fix, and it will fix the back button issue also  \nxwiki-bridge - (25/08/2009 08:41): [Vincent Massol] got to go  \nxwiki-bridge - (25/08/2009 08:41): [Vincent Massol] ttyl  \nxwiki-bridge - (25/08/2009 08:42): [mflorea] or no. wait. If you would edit in wysiwyg mode what should be the content?  \nxwiki-bridge - (25/08/2009 08:42): [mflorea] anyway, I'll think about it  \nxwiki-bridge - (25/08/2009 09:16): [sdumitriu] I'm going to remove the rounded corners from the administration UI  \nxwiki-bridge - (25/08/2009 09:16): [sdumitriu] 1. They're not needed  \nxwiki-bridge - (25/08/2009 09:16): [sdumitriu] 2. They use a GPL library, and we're not supposed to use GPL code  \nxwiki-bridge - (25/08/2009 09:17): [sdumitriu] If anybody is against this, please shout  \nxwiki-bridge - (25/08/2009 09:17): [sdumitriu] 3. I don't like them :)  \nxwiki-bridge - (25/08/2009 09:19): [sdumitriu] 4. The niftycorners library is really ugly, and much too big for what it provides  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] guys, I don't remember how to override style.css in a skin in a wiki page  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] If I put this it doesn't work for ex:  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] @import \"toucan.css\";  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol]   \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] #footerglobal a, #headerspace a {  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] color:#FF0000;  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] }  \nxwiki-bridge - (25/08/2009 10:12): [Vincent Massol] any idea?  \nxwiki-bridge - (25/08/2009 10:13): [Vincent Massol] thanks  \nxwiki-bridge - (25/08/2009 10:13): [sdumitriu] If you're using a toucan color, then it doesn't work  \nxwiki-bridge - (25/08/2009 10:13): [sdumitriu] Since it's using style\\_green.css instead of style.css, for example  \nxwiki-bridge - (25/08/2009 10:13): [Vincent Massol] I mean I want to override some css for a demo  \nxwiki-bridge - (25/08/2009 10:13): [Vincent Massol] but I need to import the base css otherwise I'll overwrite it all  \nxwiki-bridge - (25/08/2009 10:13): [sdumitriu] Why don't you use a SSX?  \nxwiki-bridge - (25/08/2009 10:14): [Vincent Massol] I know  \nxwiki-bridge - (25/08/2009 10:14): [Vincent Massol] that's the next lesson  \nxwiki-bridge - (25/08/2009 10:14): [Vincent Massol] ;)  \nxwiki-bridge - (25/08/2009 10:18): [sdumitriu] Could be a cache issue  \nxwiki-bridge - (25/08/2009 10:54): [glerouge] adium just gave me a part of the chat history 3 times  \nxwiki-bridge - (25/08/2009 10:54): [tmortagne] i have the same thing sometimes too  \nxwiki-bridge - (25/08/2009 10:56): [tmortagne] just updated to pidgin 1.6.x, great i have nick name completion :)  \nxwiki-bridge - (25/08/2009 10:58): [glerouge] mflorea: do you want me to test WYSIWYG / macro categorieS ?  \nxwiki-bridge - (25/08/2009 10:59): [mflorea] glerouge: yes, but unfortunately existing macros still don't have a default category set. I think Asiri is about to commit this.   \nxwiki-bridge - (25/08/2009 11:00): [glerouge] ok  \nxwiki-bridge - (25/08/2009 11:00): [Asiri Rathnayake] comitting now... been stuck with a computer  \nxwiki-bridge - (25/08/2009 11:01): [mflorea] great, glerouge, then you should wait for the next build  \nxwiki-bridge - (25/08/2009 11:01): [glerouge] ok  \nxwiki-bridge - (25/08/2009 12:26): [jvelo] hi mflorea  \nxwiki-bridge - (25/08/2009 12:26): [mflorea] hi jvelo  \nxwiki-bridge - (25/08/2009 12:27): [jvelo] I wanted to know ; do you have a plan to retrieve wysiwyg plugins / toolbar from configuration ?  \nxwiki-bridge - (25/08/2009 12:27): [Vincent Massol] tmortagne/Asiri Rathnayake: there's a pb with the code macro descriptor when displayed in the wysiwyg editor  \nxwiki-bridge - (25/08/2009 12:27): [Vincent Massol] LANGUAGE\\_NONE  \nxwiki-bridge - (25/08/2009 12:27): [Vincent Massol] + missing macro description  \nxwiki-bridge - (25/08/2009 12:27): [Vincent Massol] could you have a look at it? thanks  \nxwiki-bridge - (25/08/2009 12:28): [Asiri Rathnayake] vmassol: looking now  \nxwiki-bridge - (25/08/2009 12:32): [Vincent Massol] guys maven.xwiki.org seems down  \nxwiki-bridge - (25/08/2009 12:32): [tmortagne] actually it's stuck by the build  \nxwiki-bridge - (25/08/2009 12:33): [tmortagne] same as hudson build agent  \nxwiki-bridge - (25/08/2009 12:33): [mflorea] jvelo, you just have to modify wysiwyg\\_storeConfig macro and fill the wysiwyg configuration from the xwiki configuration, with a fallback on the current values as defaults  \nxwiki-bridge - (25/08/2009 12:33): [tmortagne] we tryed to put the build on hudson server (same as maven) and we did the same thing :(  \nxwiki-bridge - (25/08/2009 12:33): [tmortagne] sorry  \nxwiki-bridge - (25/08/2009 12:33): [jvdrean] which means that the problem comes from our build and not from the agent server  \nxwiki-bridge - (25/08/2009 12:34): [jvelo] mflorea: sure, but in XE I meant  \nxwiki-bridge - (25/08/2009 12:35): [jvelo] (I want to avoid merging when upgrading as much as possible)  \nxwiki-bridge - (25/08/2009 12:36): [mflorea] jvelo, I don't understand, the wysiwyg\\_storeConfig macro is in macros.vm in XE. you can change it an commit :) there is the issue with accessing config param from velocity  \nxwiki-bridge - (25/08/2009 12:37): [jvelo] can't you do $xwiki.getXWikiPreference for now ?  \nxwiki-bridge - (25/08/2009 12:37): [mflorea] I could do it, but I don't know how to access the configuration  \nxwiki-bridge - (25/08/2009 12:38): [mflorea] sure  \nxwiki-bridge - (25/08/2009 12:38): [jvelo] I think the configuration component is not exposed right now  \nxwiki-bridge - (25/08/2009 12:38): [jvelo] (is it Vincent Massol)  \nxwiki-bridge - (25/08/2009 12:38): [jvelo] ?  \nxwiki-bridge - (25/08/2009 12:38): [jvelo] we really have to work on the velocity bridge  \nxwiki-bridge - (25/08/2009 12:38): [mflorea] can you open a jira issue?  \nxwiki-bridge - (25/08/2009 12:38): [jvelo] yes  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] do you need it for 1.9?  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] thanks  \nxwiki-bridge - (25/08/2009 12:39): [jvelo] no  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] ok  \nxwiki-bridge - (25/08/2009 12:39): [jvelo] 2.0 will be great  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] ok, I'll handle it asap  \nxwiki-bridge - (25/08/2009 12:39): [jvelo] thanks  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] but  \nxwiki-bridge - (25/08/2009 12:39): [mflorea] what should be the name of the parameters?  \nxwiki-bridge - (25/08/2009 12:40): [mflorea] wysiwyg\\_paramName?  \nxwiki-bridge - (25/08/2009 12:40): [mflorea] for instance  \nxwiki-bridge - (25/08/2009 12:40): [mflorea] wysiwyg\\_toolbar  \nxwiki-bridge - (25/08/2009 12:40): [jvelo] wysiwyg\\_plugins  \nxwiki-bridge - (25/08/2009 12:40): [mflorea] wysiwyg\\_plugins  \nxwiki-bridge - (25/08/2009 12:40): [jvelo] yes, something like that  \nxwiki-bridge - (25/08/2009 12:40): [jvelo] it has to be future proof  \nxwiki-bridge - (25/08/2009 12:40): [mflorea] :)  \nxwiki-bridge - (25/08/2009 12:41): [mflorea] ok  \nxwiki-bridge - (25/08/2009 12:41): [jvelo] I mean it should work with the configuration component later on  \nxwiki-bridge - (25/08/2009 12:41): [jvdrean] quick question, we currently use 2 words for version: Version and Revision  \nxwiki-bridge - (25/08/2009 12:41): [jvelo] but I think the confiugration component already can retrieve config from XWiki.XWikiPreferences  \nxwiki-bridge - (25/08/2009 12:41): [jvdrean] it seems that Revision comes from later modifications (from Artem I guess)  \nxwiki-bridge - (25/08/2009 12:41): [jvdrean] do we have an agreement on this renaming ?  \nxwiki-bridge - (25/08/2009 12:41): [mflorea] jvelo, the config component might have a different naming convension  \nxwiki-bridge - (25/08/2009 12:42): [mflorea] for parameters  \nxwiki-bridge - (25/08/2009 12:42): [tmortagne] jvelo: yes there is a XWiki.XWikiPreference configuration source  \nxwiki-bridge - (25/08/2009 12:42): [jvelo] yes, that's why we should think about it now  \nxwiki-bridge - (25/08/2009 12:42): [tmortagne] and yes the naming is not wysiwyg\\_plugins  \nxwiki-bridge - (25/08/2009 12:42): [mflorea] but?  \nxwiki-bridge - (25/08/2009 12:42): [tmortagne] there is a mail from vincent about that  \nxwiki-bridge - (25/08/2009 12:42): [tmortagne] in the dev mailing list  \nxwiki-bridge - (25/08/2009 12:42): [tmortagne] about naming in configuration  \nxwiki-bridge - (25/08/2009 12:43): [jvelo] ok  \nxwiki-bridge - (25/08/2009 12:43): [tmortagne] for now it something like <package without the org.xwiki part>.propertyName  \nxwiki-bridge - (25/08/2009 12:43): [tmortagne] observation.remote.channels  \nxwiki-bridge - (25/08/2009 12:44): [mflorea] so wysiwyg.plugins and wysiwyg.toolbar, etc  \nxwiki-bridge - (25/08/2009 12:44): [jvelo] ok, created XWIKI-4221  \nxwiki-bridge - (25/08/2009 12:45): [tmortagne] mflorean: yes i guess  \nxwiki-bridge - (25/08/2009 12:45): [tmortagne] \\*mflorea  \nxwiki-bridge - (25/08/2009 12:45): [tmortagne] i have to start using completion :)  \nxwiki-bridge - (25/08/2009 12:47): [tmortagne] http://markmail.org/message/xzz2gqmexkgargbz  \nxwiki-bridge - (25/08/2009 12:49): [mflorea] thanks tmortagne  \nxwiki-bridge - (25/08/2009 12:59): [glerouge] I don't have macro categories in xwiki-enterprise-jetty-hsqldb-2.0-20090825.100952-103.zip <http://maven.xwiki.org/snapshots/com/xpn/xwiki/products/xwiki-enterprise-jetty-hsqldb/2.0-SNAPSHOT/xwiki-enterprise-jetty-hsqldb-2.0-20090825.100952-103.zip> \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a025-Aug-2009 12:12 \u00a0\u00a078M \u00a0  \nxwiki-bridge - (25/08/2009 13:00): [mflorea] it means hudson did not build the rendering..  \nxwiki-bridge - (25/08/2009 13:00): [glerouge] ok  \nxwiki-bridge - (25/08/2009 13:05): [jvdrean] maven.xwiki.org and agent-1 are back online  \nxwiki-bridge - (25/08/2009 13:05): [jvdrean] let's see when the agent will fail  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] mflorea: on 2.0-m3 I have a generated wysiwyg config like this :  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] //<![CDATA[  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] var wysiwygConfig5nMU = {  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0hookId: 'content',  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0syntax: 'xwiki/2.0',  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0inputURL: 'http://socracy.devxwiki.com/xwiki/bin/edit/Socracy/Fonds-souverains-investisseurs-de-long-terme?xpage=wysiwyginput&key=Io4d&render=true',  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0displayTabs: true,  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0defaultEditor: \"wysiwyg\",  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0plugins: 'fontname fontsize forecolor backcolor submit line separator text valign list indent history format symbol link image table macro importer',  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0menu: 'link image table macro',  \nxwiki-bridge - (25/08/2009 13:11): [jvelo] \u00a0\u00a0toolbar: 'bold italic underline strikethrough | fontname fontsize forecolor backcolor | subscript superscript | unorderedlist orderedlist | outdent indent | undo redo | format | hr symbol | link unlink | importer',  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] \u00a0\u00a0wiki: 'xwiki',  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] \u00a0\u00a0space: 'Socracy',  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] \u00a0\u00a0page: 'Fonds-souverains-investisseurs-de-long-terme',  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] \u00a0\u00a0debug: 'false'};  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] //]]>  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] but can't see the new buttons (font name and color, background/foreground)  \nxwiki-bridge - (25/08/2009 13:12): [jvelo] am I missing something ?  \nxwiki-bridge - (25/08/2009 13:12): search Syntax  \nxwiki-bridge - (25/08/2009 13:13): jira syntax  \nxwiki-bridge - (25/08/2009 13:13): news  \nxwiki-bridge - (25/08/2009 13:13): [mflorea] jvelo: font and color plugins provide fontname, fontsize, forecolor and backcolor features. You've put the features on the plugin list  \nxwiki-bridge - (25/08/2009 13:14): [jvelo] ah  \nxwiki-bridge - (25/08/2009 13:14): [Vincent Massol] (sorry, was just showing the features of the irc bot ;))  \nxwiki-bridge - (25/08/2009 13:14): [mflorea] :)  \nxwiki-bridge - (25/08/2009 13:14): [jvelo] so it's just \"font\" and \"color\" to add in plugins  \nxwiki-bridge - (25/08/2009 13:14): [jvelo] thanks  \nxwiki-bridge - (25/08/2009 13:14): [mflorea] yep  \nxwiki-bridge - (25/08/2009 13:36): [Asiri Rathnayake] ls  \nxwiki-bridge - (25/08/2009 13:36): [Asiri Rathnayake] (sorry)  \nxwiki-bridge - (25/08/2009 14:58): [glerouge] any chance that the 25-Aug-2009 13:49 build includes macro categories and wysiwyg errors ?  \nxwiki-bridge - (25/08/2009 14:58): [mflorea] don't know  \nxwiki-bridge - (25/08/2009 15:00): [lucaa] should  \nxwiki-bridge - (25/08/2009 15:01): [glerouge] I meant it in the sense \"has hudson resumed normal service\"  \nxwiki-bridge - (25/08/2009 15:04): [tmortagne] yes  \nxwiki-bridge - (25/08/2009 15:06): [glerouge] ok, cool  \nxwiki-bridge - (25/08/2009 15:12): [glerouge] mflorea: the quick search searches only in the current category right ?  \nxwiki-bridge - (25/08/2009 15:12): [mflorea] yep  \nxwiki-bridge - (25/08/2009 15:12): [glerouge] since it's named \"search\" and not \"filter\" I expected it to search on all macros  \nxwiki-bridge - (25/08/2009 15:12): [glerouge] \"filter\" might be better wording, WDYT ?  \nxwiki-bridge - (25/08/2009 15:16): [mflorea] \"Quick Filter\"?  \nxwiki-bridge - (25/08/2009 15:22): [mflorea] I can change it. What's better?  \nxwiki-bridge - (25/08/2009 15:28): [glerouge] Live filter maybe  \nxwiki-bridge - (25/08/2009 15:28): [glerouge] or run the search on all macros  \nxwiki-bridge - (25/08/2009 15:29): [mflorea] no, I think it's best to search in the current category  \nxwiki-bridge - (25/08/2009 15:29): [mflorea] you can run the search on all macro by selecting the All category  \nxwiki-bridge - (25/08/2009 15:30): [glerouge] ok  \nxwiki-bridge - (25/08/2009 15:30): [glerouge] then \"Type to filter\"  \nxwiki-bridge - (25/08/2009 15:30): [mflorea] ok, sounds good  \nxwiki-bridge - (25/08/2009 16:54): [jvdrean] lucaa: ping ?  \nxwiki-bridge - (25/08/2009 16:54): [jvdrean] my skype messages are marked as pending  \nxwiki-bridge - (25/08/2009 16:54): [lucaa] jvdrean: pong  \nxwiki-bridge - (25/08/2009 16:54): [lucaa] yes, I use the wrong OS with skype it seems  \nxwiki-bridge - (25/08/2009 17:02): [Vincent Massol] I would have expected the search to search in al categories  \nxwiki-bridge - (25/08/2009 17:02): [Vincent Massol] s/al/all/  \nxwiki-bridge - (25/08/2009 17:03): [glerouge] that's what happens by default since you're on the \"all macros\" mactegory  \nxwiki-bridge - (25/08/2009 17:13): [glerouge] I'd like to add a User Experience section to dev.xwiki.org  \nxwiki-bridge - (25/08/2009 17:13): [glerouge] to collect feedback and the various work we're doing in this area  \nasyd - (25/08/2009 17:13): +1  \nxwiki-bridge - (25/08/2009 17:13): [glerouge] can I make it a top level item (same level as building, testing etc ?)  \nxwiki-bridge - (25/08/2009 17:14): [glerouge] I'm not sure where else to put it  \nxwiki-bridge - (25/08/2009 17:14): [glerouge] it could have its own wiki but that's not really consistent with our current practice  \nxwiki-bridge - (25/08/2009 17:15): [glerouge] I'm gonna go ahead, vmassol will move if needed anyway :)  \nsyntax\\_error - (25/08/2009 17:24): Hi, I'm trying to modify the child page snippet (http://code.xwiki.org/xwiki/bin/view/Snippets/ChildPageSnippet) to use XWiki 2.0 syntax, but it doesn't seem to be working...instead of writing things out in a list, it makes every other item bold. \u00a0I'm using XE 1.9.3  \nsyntax\\_error - (25/08/2009 17:24): rather 1.9.2  \nxwiki-bridge - (25/08/2009 17:26): [glerouge] can you paste your code on pastebin.org ?  \nxwiki-bridge - (25/08/2009 17:26): [glerouge] it should be easy to debug  \nxwiki-bridge - (25/08/2009 17:27): [glerouge] btw is syntax\\_error your actual nickname ?  \nsyntax\\_error - (25/08/2009 17:27): yes  \nxwiki-bridge - (25/08/2009 17:27): [glerouge] ok, I was afraid it was a bug from our bot :)  \nsyntax\\_error - (25/08/2009 17:27): http://pastebin.com/m30997d98  \nsyntax\\_error - (25/08/2009 17:27): :)  \nsyntax\\_error - (25/08/2009 17:28): it's slightly modified from the original, mostly just the link syntax  \nxwiki-bridge - (25/08/2009 17:29): [glerouge] lemme try it  \nsyntax\\_error - (25/08/2009 17:29): ok  \nsyntax\\_error - (25/08/2009 17:29): you need the document tree plugin  \nsyntax\\_error - (25/08/2009 17:29): http://code.xwiki.org/xwiki/bin/view/Plugins/DocumentTreePlugin  \nxwiki-bridge - (25/08/2009 17:30): [glerouge] that's why it's displaying nothing on the page :)  \nxwiki-bridge - (25/08/2009 17:30): [glerouge] btw, don't know if you noticed but children of the current page are displayed in the information tab at the bottom of each page  \nsyntax\\_error - (25/08/2009 17:30): yup :)  \nsyntax\\_error - (25/08/2009 17:31): i'm using it to show the whole space (so it should be in a webhome)  \nxwiki-bridge - (25/08/2009 17:31): [glerouge] ok  \nsyntax\\_error - (25/08/2009 17:33): (it's lunch time, i will leave irc running)  \nxwiki-bridge - (25/08/2009 17:34): [glerouge] syntax\\_error  \nxwiki-bridge - (25/08/2009 17:35): [glerouge] it's working fine on my wiki  \nxwiki-bridge - (25/08/2009 17:35): [glerouge] no random bold  \nxwiki-bridge - (25/08/2009 17:35): [glerouge] I'm using 2.0 snapshot though, not 1.9  \nxwiki-bridge - (25/08/2009 17:37): [glerouge] there's also a small other bug I'm fixing  \nxwiki-bridge - (25/08/2009 17:38): [glerouge] This works fine for me: http://xwiki.pastebin.com/m5c488f0e  \nsyntax\\_error - (25/08/2009 18:35): i'm back  \nsyntax\\_error - (25/08/2009 18:35): were you able to replicate the issue?  \nxwiki-bridge - (25/08/2009 18:50): [glerouge] nope  \nsyntax\\_error - (25/08/2009 18:50): hmm, so the code worked for you?  \nxwiki-bridge - (25/08/2009 18:50): [glerouge] as I said, the code on http://xwiki.pastebin.com/m5c488f0e works fine for me  \nsyntax\\_error - (25/08/2009 18:50): yeah, sorry my IRC disconnected while I was away  \nxwiki-bridge - (25/08/2009 18:51): [glerouge] but I'm on 2.0 rc1  \nsyntax\\_error - (25/08/2009 18:51): ah  \nxwiki-bridge - (25/08/2009 18:51): [glerouge] not sure what would change  \nsyntax\\_error - (25/08/2009 18:51): I can't install non-production software  \nsyntax\\_error - (25/08/2009 18:51): well, it's possibly a bug  \nsyntax\\_error - (25/08/2009 18:51): so it must have been fixed  \nxwiki-bridge - (25/08/2009 18:51): [glerouge] let me try something slightly different  \nsyntax\\_error - (25/08/2009 18:52): ok  \nxwiki-bridge - (25/08/2009 18:53): [glerouge] can you try with http://xwiki.pastebin.com/m305b2657 ?  \nsyntax\\_error - (25/08/2009 18:54): doesn't work either, but also doesn't incorrectly make things bold  \nxwiki-bridge - (25/08/2009 18:54): [glerouge] that's because it generates a numbered list instead of a bulleted one thus has no \"\\*\" which are also the bold syntax  \nxwiki-bridge - (25/08/2009 18:54): [glerouge] what's your output ?  \nsyntax\\_error - (25/08/2009 18:55): It outputs it as if you entered \"1\", \"11\" in the WYSIWYG editor  \nsyntax\\_error - (25/08/2009 18:56): but it's not in a list format  \nxwiki-bridge - (25/08/2009 18:56): [glerouge] ok  \nxwiki-bridge - (25/08/2009 18:57): [sdumitriu] syntax\\_error: What syntax does your document use?  \nxwiki-bridge - (25/08/2009 18:57): [sdumitriu] xwiki/1.0 or xwiki/2.0?  \nxwiki-bridge - (25/08/2009 18:57): [glerouge] syntax 2.0  \nsyntax\\_error - (25/08/2009 18:57): xwiki/2.0  \nxwiki-bridge - (25/08/2009 18:57): [sdumitriu] And are you using the WYSIWYG or the wiki editor?  \nxwiki-bridge - (25/08/2009 18:57): [glerouge] wiki editor  \nsyntax\\_error - (25/08/2009 18:57): wiki editor  \nxwiki-bridge - (25/08/2009 18:58): [glerouge] lol I know why I'm echoing, I thought it was still syntax\\_error talking, got confused by xwiki\\_bridge  \nsyntax\\_error - (25/08/2009 18:58): :)  \nsyntax\\_error - (25/08/2009 18:58): i was curious too  \nxwiki-bridge - (25/08/2009 19:04): [Vincent Massol] what's up? (just finished my training, waiting for the train to decide to start to go back to paris) :)  \nxwiki-bridge - (25/08/2009 19:04): [Vincent Massol] what's the RC1 release status now?  \nxwiki-bridge - (25/08/2009 19:06): [tmortagne] some failing test on WYSIWYG around macros  \nxwiki-bridge - (25/08/2009 19:06): [tmortagne] marius is working on it  \nxwiki-bridge - (25/08/2009 19:06): [glerouge] sdumitriu: have you been able to commit the stuff related to the skin?  \nxwiki-bridge - (25/08/2009 19:06): [sdumitriu] Not yet  \nxwiki-bridge - (25/08/2009 19:06): [sdumitriu] It's long  \nxwiki-bridge - (25/08/2009 19:07): [sdumitriu] But I'm almost there  \nxwiki-bridge - (25/08/2009 19:07): [sdumitriu] Cleaning up now  \nxwiki-bridge - (25/08/2009 19:07): [glerouge] great  \nxwiki-bridge - (25/08/2009 19:07): [Vincent Massol] btw guys well done re the categories/search :)  \nxwiki-bridge - (25/08/2009 19:07): [glerouge] tmortagne: can we wait for sergiu's commit to release ?  \nxwiki-bridge - (25/08/2009 19:07): [Vincent Massol] I tried it today during my training and it worked perfeclt well  \nxwiki-bridge - (25/08/2009 19:07): [glerouge] I\"m still wonderign about the search  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] yeah it can be improved but that can be done in 2.1  \nxwiki-bridge - (25/08/2009 19:08): [glerouge] maybe we should make it search on everything all the time  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] I -'m pretty sure about this  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] I didn't have time to argue before  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] ;)  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] (was in training)  \nxwiki-bridge - (25/08/2009 19:08): [sdumitriu] What are you talking about?  \nxwiki-bridge - (25/08/2009 19:08): [sdumitriu] What categories/search?  \nxwiki-bridge - (25/08/2009 19:08): [Vincent Massol] in the wysiwyg editor  \nxwiki-bridge - (25/08/2009 19:08): [lucaa] sdumitriu: for the macros  \nxwiki-bridge - (25/08/2009 19:08): [sdumitriu] Oh, WYSIWYG + macros?  \nxwiki-bridge - (25/08/2009 19:09): [Vincent Massol] yep  \nxwiki-bridge - (25/08/2009 19:09): [sdumitriu] Big problem with the new skin:  \nxwiki-bridge - (25/08/2009 19:09): [sdumitriu] Now the document title is mandatory, and is displayed by default at the start of the content  \nxwiki-bridge - (25/08/2009 19:09): [sdumitriu] But most of the existing documents also have a H1 at the start of the document  \nxwiki-bridge - (25/08/2009 19:10): [sdumitriu] So now we have the same big title printed twice  \nxwiki-bridge - (25/08/2009 19:10): [Vincent Massol] yes we need to remove this   \nxwiki-bridge - (25/08/2009 19:10): [sdumitriu] Somebody should browse the entire XE and move titles from H1 to the document title  \nxwiki-bridge - (25/08/2009 19:10): [Vincent Massol] it's too late in the release process to change this behavior in 2.0 IMO  \nxwiki-bridge - (25/08/2009 19:11): [Vincent Massol] I also don't like it at all  \nxwiki-bridge - (25/08/2009 19:11): [Vincent Massol] I want to not have to specify titles  \nxwiki-bridge - (25/08/2009 19:11): [sdumitriu] Weren't you the one who proposed it?  \nxwiki-bridge - (25/08/2009 19:11): [sdumitriu] Some time ago?  \nxwiki-bridge - (25/08/2009 19:11): [Vincent Massol] so this needs discussion before IMO  \nxwiki-bridge - (25/08/2009 19:11): [Vincent Massol] nope  \nxwiki-bridge - (25/08/2009 19:11): [Vincent Massol] (or under drugs maybe)  \nxwiki-bridge - (25/08/2009 19:12): [Vincent Massol] (or maybe guillaume forced me)  \nxwiki-bridge - (25/08/2009 19:12): [glerouge] I'm heavily in favor of displaying the title at all times  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] me too  \nxwiki-bridge - (25/08/2009 19:13): [glerouge] it's a constant and consistent feedback we get from users  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] but only when they are!  \nxwiki-bridge - (25/08/2009 19:13): [glerouge] \"we set a title and it's not displayed\"  \nxwiki-bridge - (25/08/2009 19:13): [glerouge] when there's no title we can display the page name  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] \\* they are there  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] no  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] I want the first header  \nxwiki-bridge - (25/08/2009 19:13): [glerouge] nope because it has implications for the skin  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] when the title isn't there  \nxwiki-bridge - (25/08/2009 19:13): [glerouge] nope  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] then I'm -1 for now  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] :)  \nxwiki-bridge - (25/08/2009 19:13): [Vincent Massol] until you convince me  \nxwiki-bridge - (25/08/2009 19:14): [glerouge] we can't release the new skin without displaying the title on all page  \nxwiki-bridge - (25/08/2009 19:14): [glerouge] otherwise it looks ugly  \nxwiki-bridge - (25/08/2009 19:14): [glerouge] so we need to populate it, one way or another  \nxwiki-bridge - (25/08/2009 19:14): [Vincent Massol] we alreayd have a title on ALL pages  \nxwiki-bridge - (25/08/2009 19:14): [Vincent Massol] except that if it's empty it's computed  \nxwiki-bridge - (25/08/2009 19:14): [Vincent Massol] getDisplayTitle() always return something  \nxwiki-bridge - (25/08/2009 19:14): [Vincent Massol] (if you prefer)  \nxwiki-bridge - (25/08/2009 19:15): [sdumitriu] Yes Vincent, this is not about removing the automatic detection  \nxwiki-bridge - (25/08/2009 19:15): [Vincent Massol] ah ok  \nxwiki-bridge - (25/08/2009 19:15): [Vincent Massol] I thought it was  \nxwiki-bridge - (25/08/2009 19:15): [sdumitriu] But about always displaying it on the top of the page  \nxwiki-bridge - (25/08/2009 19:15): [glerouge] then we can use it to populate the field  \nxwiki-bridge - (25/08/2009 19:15): [Vincent Massol] I still want to be able to not specify a title and have a level 1 header and this becomes the title displayed  \nxwiki-bridge - (25/08/2009 19:15): [glerouge] sergiu is right, the behavior we're introducing will cause duplication when the header 1 is also used as the title  \nxwiki-bridge - (25/08/2009 19:15): [glerouge] vincent: I know you want that  \nxwiki-bridge - (25/08/2009 19:15): [Vincent Massol] but from what you say sergiu this is not working  \nxwiki-bridge - (25/08/2009 19:16): [Vincent Massol] since it's printed 2 times now  \nxwiki-bridge - (25/08/2009 19:16): [glerouge] but the majority of our users don't understand this behavior  \nxwiki-bridge - (25/08/2009 19:16): [sdumitriu] But the problem is that the content looks something like this:  \nxwiki-bridge - (25/08/2009 19:16): [sdumitriu] <h1>$doc.getDisplayTitle</h1>  \nxwiki-bridge - (25/08/2009 19:16): [sdumitriu] Comments <http://localhost:8080/xwiki/bin/view/XWiki/DefaultSkin#comments> (0) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0| \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Attachments <http://localhost:8080/xwiki/bin/view/XWiki/DefaultSkin#attachments> (0) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0| \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0History <http://localhost:8080/xwiki/bin/view/XWiki/DefaultSkin#history> \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0| \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Information <http://localhost:8080/xwiki/bin/view/XWiki/DefaultSkin#information> \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0  \nxwiki-bridge - (25/08/2009 19:16): [sdumitriu] $doc.renderedContent  \nxwiki-bridge - (25/08/2009 19:16): [Vincent Massol] glerouge: you need to think about migration if you want to propose this  \nxwiki-bridge - (25/08/2009 19:16): [glerouge] I know  \nxwiki-bridge - (25/08/2009 19:16): [Vincent Massol] personally I think it's very late  \nxwiki-bridge - (25/08/2009 19:16): [glerouge] it's exactly the issue raised by sergiu here  \nxwiki-bridge - (25/08/2009 19:17): [Vincent Massol] in the 2.0 release  \nxwiki-bridge - (25/08/2009 19:17): [sdumitriu] Welcome to your wiki  \nxwiki-bridge - (25/08/2009 19:17): [sdumitriu] Last modified by Administrator on 2009/01/30 19:33  \nxwiki-bridge - (25/08/2009 19:17): [sdumitriu] Comments (0) | Attachments (0) | History | Information  \nxwiki-bridge - (25/08/2009 19:17): [sdumitriu] Welcome to your wiki  \nxwiki-bridge - (25/08/2009 19:17): [sdumitriu] Vincent Massol: The mockups were presented on the list some time ago  \nxwiki-bridge - (25/08/2009 19:17): [glerouge] sergiu: can't we use the logic behind getDisplayTitle \u00a0to remove the header 1 and use it to populate the title field automatically ?  \nxwiki-bridge - (25/08/2009 19:18): [sdumitriu] Hm...  \nxwiki-bridge - (25/08/2009 19:18): [sdumitriu] I could try to do something  \nxwiki-bridge - (25/08/2009 19:18): [glerouge] something like #if getDisplayTitle uses #header1 hide #header 1  \nxwiki-bridge - (25/08/2009 19:18): [sdumitriu] But it won't work all the times  \nxwiki-bridge - (25/08/2009 19:18): [Vincent Massol] glerouge: this means you cannot use =header= in a page  \nxwiki-bridge - (25/08/2009 19:18): [glerouge] vincent: you can if the title is set  \nxwiki-bridge - (25/08/2009 19:18): [Vincent Massol] we need =heaser= to work in the page content  \nxwiki-bridge - (25/08/2009 19:18): [Vincent Massol] header  \nxwiki-bridge - (25/08/2009 19:18): [glerouge] only the first header (the one used to cumpute getDisplayTitle) would be hidden  \nxwiki-bridge - (25/08/2009 19:19): [glerouge] all others would work  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] it's hard  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] for example:  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] some content  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] blahbzh  \nxwiki-bridge - (25/08/2009 19:19): [glerouge] if the page already has a title set getDisplayTitle doesn' touch the first = header =  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] 1.1 some text  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] blahbmazh  \nxwiki-bridge - (25/08/2009 19:19): [glerouge] then it means the logic of getDisplayTitle is flawed ;)  \nxwiki-bridge - (25/08/2009 19:19): [Vincent Massol] this would remove 1.1 some text?  \nxwiki-bridge - (25/08/2009 19:19): [glerouge] there's the case of includes too though  \nxwiki-bridge - (25/08/2009 19:20): [Vincent Massol] btw I'm in the thalys connected to internet, how cool is that :)  \nxwiki-bridge - (25/08/2009 19:20): [Vincent Massol] ?  \nxwiki-bridge - (25/08/2009 19:20): [sdumitriu] Simple algo:  \nxwiki-bridge - (25/08/2009 19:20): [sdumitriu] #if($content.trim.startsWith(=)) set content = content without first line  \nxwiki-bridge - (25/08/2009 19:21): [glerouge] vmassol: back in June ldubost & I chatted from 30000 feet  \nxwiki-bridge - (25/08/2009 19:21): [Vincent Massol] glerouge: doing some skydiving I guess?  \nxwiki-bridge - (25/08/2009 19:21): [Vincent Massol] :)  \nxwiki-bridge - (25/08/2009 19:21): [lucaa] Vincent Massol: is thalys' internet or your own?  \nxwiki-bridge - (25/08/2009 19:21): [glerouge] sdumitriu = #if(doc.title == \"\" && #if($content.trim.startsWith(=))) #set content = content without first line  \nxwiki-bridge - (25/08/2009 19:22): [glerouge] nope, on a AA plane  \nxwiki-bridge - (25/08/2009 19:22): [Vincent Massol] lucaa: thalys' internet  \nxwiki-bridge - (25/08/2009 19:22): [Vincent Massol] glerouge: I know it was a joke...  \nxwiki-bridge - (25/08/2009 19:22): [glerouge] lol  \nxwiki-bridge - (25/08/2009 19:23): [lucaa] Vincent Massol: is way cool. I once experienced the internet in a TGV to Strasbg (actually my first TGV trip. Foolish me I thought they're all like that... )  \nxwiki-bridge - (25/08/2009 19:23): [Vincent Massol] like you would expect they would have power socket too, right?  \nxwiki-bridge - (25/08/2009 19:23): [Vincent Massol] :)  \nxwiki-bridge - (25/08/2009 19:23): [sdumitriu] I'm sure the community is very interested in all the nice connections on your trains  \nxwiki-bridge - (25/08/2009 19:23): [Vincent Massol] but they don't, right now I have internet but no power avail ..... go figure  \nxwiki-bridge - (25/08/2009 19:23): [sdumitriu] But we need to hurry with the skin  \nxwiki-bridge - (25/08/2009 19:23): [glerouge] yep  \nxwiki-bridge - (25/08/2009 19:24): [Vincent Massol] sdumitriu: come on, you can multitask! :)  \nxwiki-bridge - (25/08/2009 19:24): [lucaa] sdumitriu: sorry sergiu  \nxwiki-bridge - (25/08/2009 19:24): [glerouge] sdumitriu: could #if(doc.title == \"\" && #if($content.trim.startsWith(=))) #set content = content without first line work in the short term ?  \nxwiki-bridge - (25/08/2009 19:24): [glerouge] that would address the majority of use cases  \nxwiki-bridge - (25/08/2009 19:24): [sdumitriu] Yes  \nxwiki-bridge - (25/08/2009 19:25): [sdumitriu] It's a simple solution for the moment  \nxwiki-bridge - (25/08/2009 19:25): [sdumitriu] The transition phase  \nxwiki-bridge - (25/08/2009 19:25): [glerouge] #if(doc.title == \"\" && #if($content.trim.startsWith(=)) || #if($content.trim.startsWith(1))) actually  \nxwiki-bridge - (25/08/2009 19:25): [glerouge] and there might be a couple blank lines at the beginning of the doc too  \nxwiki-bridge - (25/08/2009 19:25): [glerouge] but maybe trim takes care of that ?  \nxwiki-bridge - (25/08/2009 19:34): [sdumitriu] There's still a problem with documents that have both a title and a h1  \nxwiki-bridge - (25/08/2009 19:34): [sdumitriu] Main.WebHome does tha  \nxwiki-bridge - (25/08/2009 19:34): [sdumitriu] t  \nxwiki-bridge - (25/08/2009 19:34): [sdumitriu] So it doesn't help here  \nxwiki-bridge - (25/08/2009 19:41): [glerouge] sergiu: not if we mimick getDisplayTitle's logic  \nxwiki-bridge - (25/08/2009 19:41): [glerouge] as I wrote  \nxwiki-bridge - (25/08/2009 19:42): [glerouge] #if(doc.title == \"\" && #if($content.trim.startsWith(=)) || #if($content.trim.startsWith(1))  \nxwiki-bridge - (25/08/2009 19:42): [glerouge] there's an #if($doc.title == \"\" at the beginning  \nxwiki-bridge - (25/08/2009 19:42): [glerouge] then we can change the look of H1  \nxwiki-bridge - (25/08/2009 19:42): [glerouge] so that it doesn't look like the page title  \nxwiki-bridge - (25/08/2009 19:43): [glerouge] and last case is if H1 and title are the same  \nxwiki-bridge - (25/08/2009 19:43): [glerouge] we could also have a check in this case  \nxwiki-bridge - (25/08/2009 19:44): [glerouge] it's all going to be a big hack for a period of time  \nxwiki-bridge - (25/08/2009 19:45): [Vincent Massol] and very important  \nxwiki-bridge - (25/08/2009 19:45): [Vincent Massol] you'd need to make sure the focus is in the title when you edit a page  \nxwiki-bridge - (25/08/2009 19:45): [Vincent Massol] and that when pressing tab it's moved to the content  \nxwiki-bridge - (25/08/2009 19:46): [Vincent Massol] as otherwise you can't create pages without leaving the keyboard  \nxwiki-bridge - (25/08/2009 19:46): [glerouge] you can  \nxwiki-bridge - (25/08/2009 19:46): [Vincent Massol] I've just tried  \nxwiki-bridge - (25/08/2009 19:46): [Vincent Massol] there's no focus at all right now  \nxwiki-bridge - (25/08/2009 19:46): [glerouge] even with shift+tab ?  \nxwiki-bridge - (25/08/2009 19:46): [glerouge] so it's a new feature  \nxwiki-bridge - (25/08/2009 19:47): [Vincent Massol] the cursor is not in the content area right now  \nxwiki-bridge - (25/08/2009 19:47): [Vincent Massol] (in wiki editor at least)  \nxwiki-bridge - (25/08/2009 19:47): [Vincent Massol] this is wrong btw  \nxwiki-bridge - (25/08/2009 19:47): [glerouge] is it a new feature or a bug fix ?  \nxwiki-bridge - (25/08/2009 19:47): [Vincent Massol] if title becomes mandatory the focus should be in the title when it's empty for ex  \nxwiki-bridge - (25/08/2009 19:47): [Vincent Massol] I don't know  \nxwiki-bridge - (25/08/2009 19:47): [glerouge] then it's a new feature :)  \nxwiki-bridge - (25/08/2009 19:48): [Vincent Massol] looks like a bug to me  \nxwiki-bridge - (25/08/2009 19:48): [Vincent Massol] I was actually sure the focus would be in the content right now  \nxwiki-bridge - (25/08/2009 19:48): [Vincent Massol] but it's not when editing an existing page  \nxwiki-bridge - (25/08/2009 19:48): [glerouge] you're the first one to ever complain about it after XWiki has been out for 5+ years  \nxwiki-bridge - (25/08/2009 19:48): [glerouge] so it's a new feature ;)  \nxwiki-bridge - (25/08/2009 19:48): [Vincent Massol] which is why I think it's a regression somewhere...  \nxwiki-bridge - (25/08/2009 19:49): [Vincent Massol] no the opposite  \nxwiki-bridge - (25/08/2009 19:50): [glerouge] sdumitriu: do you have enough information to do something in the short run for the title issue ? I have to go soon  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] in any case what I really want to make sure is that creating a new page is as easy with your new method than before  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] it was really easy before   \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] and I hate copnfluence  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] I reall ydo  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] really  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] do  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] :)  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] with their title that needs tobe set  \nxwiki-bridge - (25/08/2009 19:50): [glerouge] when did you start hating COnfluence ?  \nxwiki-bridge - (25/08/2009 19:50): [Vincent Massol] when I try editing a wiki page in confluence now, it's a pain comapred to xwiki  \nxwiki-bridge - (25/08/2009 19:51): [Vincent Massol] (only on that aspect guillaume, I still like the rest)  \nxwiki-bridge - (25/08/2009 19:51): [Vincent Massol] and it seems you're driving us right into the same direction  \nxwiki-bridge - (25/08/2009 19:51): [Vincent Massol] hence my worry  \nxwiki-bridge - (25/08/2009 19:51): [glerouge] the main pain point is not that the title has to be set, it's that when set it's not displayed at the top of the page  \nxwiki-bridge - (25/08/2009 19:51): [glerouge] what's important is that when the title is set it gets displayed  \nxwiki-bridge - (25/08/2009 19:52): [glerouge] now when there's no title explicitely set we can either use the first H1 or H2 or the page name  \nxwiki-bridge - (25/08/2009 19:52): [Vincent Massol] that's not what you suggetsted aboeve I think  \nxwiki-bridge - (25/08/2009 19:52): [Vincent Massol] from what I read you were suggesting to modify the content  \nxwiki-bridge - (25/08/2009 19:52): [Vincent Massol] and thus set the title  \nxwiki-bridge - (25/08/2009 19:52): [glerouge] I'm open to options less radical than my initial one if they're sustained by good arguments ;)  \nxwiki-bridge - (25/08/2009 19:52): [Vincent Massol] so next time I edit the page I am in the same sitaution  \nxwiki-bridge - (25/08/2009 19:53): [Vincent Massol] so am I ;)  \nxwiki-bridge - (25/08/2009 19:53): [glerouge] you can hide parts of the content at display time without modifying it  \nxwiki-bridge - (25/08/2009 19:53): [glerouge] that's what sergiu suggested  \nxwiki-bridge - (25/08/2009 19:53): [glerouge] ok, I have to go  \nxwiki-bridge - (25/08/2009 19:53): [glerouge] ttyl  \nnpm - (25/08/2009 22:30): is there a way to access org.apache.commons.io.FileUtils.toFile() and .readLines() in a velocity script in Xwiki?  \nnpm - (25/08/2009 22:31): or does that require a java plugin? (which seems overkill just for accessing two static methods)  \nxwiki-bridge - (25/08/2009 22:38): [lucaa] hi npm, no, I don't think you can do that from velocity, but you should try in groovy  \nnpm - (25/08/2009 22:39): actually, i'm replacing a trivial bit of groovy with velocity, just because i didn't want this particular thing to be so heavy  \nnpm - (25/08/2009 22:40): All I want to do is read a CSV file out of velocity... and embellish it with JSON in velocity before outputting it as text/javascript  \nnpm - (25/08/2009 22:40): in groovy it's easy  \nnpm - (25/08/2009 22:40): class GroovyCsvReaderClass {  \nnpm - (25/08/2009 22:40): \u00a0\u00a0List Csv2List(csv\\_file) {  \nnpm - (25/08/2009 22:40): \u00a0\u00a0\u00a0\u00a0def result = []  \nnpm - (25/08/2009 22:40): \u00a0\u00a0\u00a0\u00a0new File(csv\\_file).splitEachLine(',') {  \nnpm - (25/08/2009 22:40): \u00a0\u00a0\u00a0\u00a0\u00a0fields -> result.add(fields)  \nnpm - (25/08/2009 22:40): \u00a0\u00a0\u00a0\u00a0}  \nnpm - (25/08/2009 22:40): \u00a0\u00a0\u00a0\u00a0result  \nnpm - (25/08/2009 22:40): \u00a0\u00a0}  \nnpm - (25/08/2009 22:40): }  \nnpm - (25/08/2009 22:40): i guess there's security reasons for not letting me read a file off the filesystem in velocity :-)   \nnpm - (25/08/2009 22:42): however, is there a hack to get around it? all i want is a way to access org.apache.commons.io.FileUtils  \nnpm - (25/08/2009 22:42): for example, I know I can do something like #set($double = 3.1415) ... $double.parseDouble(...)  \nnpm - (25/08/2009 22:43): is there a way to do the same to access \u00a0a static method in org.apache.commons.io.FileUtils ?  \nxwiki-bridge - (25/08/2009 22:46): [jvdrean] npm: see http://platform.xwiki.org/xwiki/bin/view/DevGuide/GroovyClassHelloWorldTutorial  \nnpm - (25/08/2009 22:46): i know how to do groovy... see the code i just posted.   \nnpm - (25/08/2009 22:48): however it seems overkill to invoke groovy for this...i'll be doing it for other things tho... i want to avoid overhead of groovy for this, as it will kill my app/server for this purpose  \nxwiki-bridge - (25/08/2009 22:48): [jvdrean] npm: have you looked at the page ?  \nxwiki-bridge - (25/08/2009 22:48): [jvdrean] its about using a small groovy class (cached btw) from velocity  \nnpm - (25/08/2009 22:49): sure, it's what i first read when i was doing groovy  \nnpm - (25/08/2009 22:49): and yes, it's exactly the technique i was using to parse csv, along with a trivial function (above csv2List())  \nnpm - (25/08/2009 22:50): how would that be \"caching\"... it would call parseGroovyFromPage on each view?  \nxwiki-bridge - (25/08/2009 22:54): [jvdrean] npm: groovy code is compiled to bytecode on the first call to the parseGroovy\\*() methods, then cached  \nnpm - (25/08/2009 22:54): List Csv2List(csv\\_file) { \u00a0def result = [] new File(csv\\_file).splitEachLine(',') { \u00a0fields -> result.add(fields) } result }} shouldn't be that hard to do with java and velocity? e.g. $FileUtils.toFile(\"file:///usr/local/vamp-plugins/npm-sa/soulpatrol\\_mjspecialjul09\\_vamp\\_qm-vamp-plugins\\_qm-segmenter\\_segmentation.csv\")  \nnpm - (25/08/2009 22:55): so multiple calls to the same will use the existing bytecode?  \nxwiki-bridge - (25/08/2009 22:55): [jvdrean] npm: from what I read the code itself is used as key in the cache  \nxwiki-bridge - (25/08/2009 22:55): [jvdrean] npm: yes  \nnpm - (25/08/2009 22:55): maybe i can rest a tiny bit easier about using the Csv2List fn which simply makes it too easy.. that can't be the solution it's too easy :-)  \nnpm - (25/08/2009 22:56): is there any good docs on the parseGroovy\\*() methods? (where should i look for source?)  \nxwiki-bridge - (25/08/2009 22:57): [jvdrean] there's no doc for those methods AFAIK, you'll have to look at the source  \nxwiki-bridge - (25/08/2009 22:58): [jvdrean] http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/java/com/xpn/xwiki/render/groovy/XWikiGroovyRenderer.java  \nnpm - (25/08/2009 22:58): so i guess the answer I fear regarding the just-as-easy-to-use apache commons solution is that i'd have to write a plugin to give acesss to org.apache.commons.io.FileUtils as, e.g., \u00a0$FileUtils.readLines($csvFile, \"ISO-8859-1\")  \nnpm - (25/08/2009 23:00): thanks jvdrean for the help  \nxwiki-bridge - (25/08/2009 23:00): [jvdrean] npm: but you can use org.apache.commons.io.FileUtils from groovy  \nxwiki-bridge - (25/08/2009 23:01): [jvdrean] npm: I guess I don't get your problem  \nnpm - (25/08/2009 23:01): true, that would be easy too.  \nnpm - (25/08/2009 23:01): i will be callign this very often for lots of data. i wanted to avoid as much overhead as possibel  \nnpm - (25/08/2009 23:02): but the caching thing you mentioned will probably allow me to move on for now. and at least prototype  \nnpm - (25/08/2009 23:02): don't worry, i'll be using plenty of groovy, but for \"heavy lifting\" not one-liners  \nxwiki-bridge - (25/08/2009 23:04): [jvdrean] hehe, I'm not worried :) but really, I don't think it's a problem to use a small groovy util class with one-liner methods, since it's cached  \nnpm - (25/08/2009 23:05): the data volumes can be high...   \nnpm - (25/08/2009 23:07): i guess if all the introspecting gets too heavy using elegant groovy constructs, i can go halfway and use apache-commons IOutils..  \nxwiki-bridge - (25/08/2009 23:07): [jvdrean] ok then it would be a problem to load the entire file into memory but you can use streams from groovy too  \nnpm - (25/08/2009 23:10): streaming through groovy is probably better approach  \nnpm - (25/08/2009 23:10): or apache lib  \nnpm - (25/08/2009 23:11): btw, is there a \"2.0\" way to do parseGroovyFromPage() ?  \nnpm - (25/08/2009 23:13): or if there's a {{groovy}} macro, how would it incoroporate an externally defined class? By calling parseGroovyFromPage() in groovy?  \nxwiki-bridge - (25/08/2009 23:15): [mflorea] there is a groovy macro (http://code.xwiki.org/xwiki/bin/view/Macros/GroovyMacro) but I don't know what it does under the hood  \nxwiki-bridge - (25/08/2009 23:23): [glerouge] try {{groovy}} parseGroovyFromPage {{/groovy}} first  \nxwiki-bridge - (25/08/2009 23:23): [glerouge] if it doesn't work try finding another way ;)  \nxwiki-bridge - (25/08/2009 23:31): [jvdrean] npm: back, AFAIK the {{groovy}} macro does not use the same renderer as groovy with xwiki/1.0, anyway using methods from the API works from this new macro  \nnpm - (25/08/2009 23:41): so then the only 1.0 \"limit\" is that the actual \u00a0page from which groovy is parsed still needs to be a 1.0 document?  \nnpm - (25/08/2009 23:41): or is there some special commenting that'll work with parseGroovyFromPage and 2.0?  \nxwiki-bridge - (25/08/2009 23:44): [jvdrean] the syntax of the groovy class page doesn't matter actually  \n\n"}