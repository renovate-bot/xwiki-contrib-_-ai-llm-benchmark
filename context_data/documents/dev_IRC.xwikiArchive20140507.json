{"id": "dev:IRC.xwikiArchive20140507", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140507", "title": "IRC Archive for channel #xwiki on 07 May 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has joined #xwiki  \n00:06\u00a0<vmassol>\u00a0has quit  \n00:25\u00a0<Denis1>\u00a0has joined #xwiki  \n00:25\u00a0<Denis>\u00a0has quit  \n00:32\u00a0<vmassol>\u00a0has joined #xwiki  \n00:36\u00a0<vmassol>\u00a0has quit  \n00:44\u00a0<polx>\u00a0has quit  \n00:57\u00a0<OSIMasson>\u00a0has joined #xwiki  \n01:02\u00a0<vmassol>\u00a0has joined #xwiki  \n01:03\u00a0<abusenius>\u00a0has quit  \n01:08\u00a0<vmassol>\u00a0has quit  \n01:35\u00a0<vmassol>\u00a0has joined #xwiki  \n01:40\u00a0<vmassol>\u00a0has quit  \n02:05\u00a0<vmassol>\u00a0has joined #xwiki  \n02:08\u00a0<OSIMasson>\u00a0has quit  \n02:11\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:11\u00a0<vmassol>\u00a0has quit  \n03:05\u00a0<vmassol>\u00a0has joined #xwiki  \n03:10\u00a0<vmassol>\u00a0has quit  \n04:05\u00a0<vmassol>\u00a0has joined #xwiki  \n04:11\u00a0<vmassol>\u00a0has quit  \n05:05\u00a0<vmassol>\u00a0has joined #xwiki  \n05:10\u00a0<vmassol>\u00a0has quit  \n06:02\u00a0<Denis>\u00a0has joined #xwiki  \n06:03\u00a0<Denis1>\u00a0has quit  \n06:05\u00a0<vmassol>\u00a0has joined #xwiki  \n06:11\u00a0<vmassol>\u00a0has quit  \n06:16\u00a0<mflorea>\u00a0has joined #xwiki  \n07:05\u00a0<vmassol>\u00a0has joined #xwiki  \n07:10\u00a0<vmassol>\u00a0has quit  \n07:25\u00a0<polx>\u00a0has joined #xwiki  \n07:27\u00a0<teekay>\u00a0has joined #xwiki  \n07:57\u00a0<evalica>\u00a0has joined #xwiki  \n08:05\u00a0<vmassol>\u00a0has joined #xwiki  \n08:11\u00a0<vmassol>\u00a0has quit  \n08:12\u00a0<vmassol>\u00a0has joined #xwiki  \n08:21\u00a0<mflorea>\u00a0has quit  \n08:30\u00a0<msmeria>\u00a0has joined #xwiki  \n08:33\u00a0<evalica1>\u00a0has joined #xwiki  \n08:38\u00a0<evalica>\u00a0has quit  \n08:38\u00a0<msmeria>\u00a0has quit  \n08:40\u00a0<msmeria>\u00a0has joined #xwiki  \n08:48\u00a0<cjd>\u00a0has joined #xwiki  \n08:51\u00a0<vmassol>\u00a0sdumitriu: ping  \n08:51\u00a0<vmassol>\u00a0seems the prototype upgrade caused a lot of build failures  \n08:51\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/  \n08:51\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/5356/  \n08:52\u00a0<vmassol>\u00a0(it may not be the prototype upgrade but it's likely it is ;))  \n08:52\u00a0<vmassol>\u00a0could you check that?  \n08:59\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:04\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:06\u00a0<vmassol>\u00a0guys, if you wish to see the latest dashboard from ActiveInstalls (I've enabled snapshots to be able to see some results since we got only new data for 6.1-SNAPSHOT+): https://www.evernote.com/shard/s119/sh/46588269-e7f2-44be-836d-0cb42be33d59/9400f2ce9f0cd6c69cd02a5ac8bbcfd8  \n09:07\u00a0<vmassol>\u00a0evalica1: good morning, now I'll your help to improve the L&F :)  \n09:10\u00a0<evalica1>\u00a0is now known as <evalica>  \n09:11\u00a0<evalica>\u00a0vmassol: hi - so in order to get the same view, I need just to install the application? I'll take a look  \n09:11\u00a0<sburjan`>\u00a0has joined #xwiki  \n09:11\u00a0<vmassol>\u00a0you'll need to enable the EM snapshot repo in your xwiki.properties and with advanced search install org.xwiki.platform:xwiki-platform-activeinstalls-server-ui version: 6.1-SNAPSHOT  \n09:12\u00a0<vmassol>\u00a0(evalica)  \n09:12\u00a0<vmassol>\u00a0thanks!  \n09:12\u00a0<evalica>\u00a0maybe you have it installed on xwiki.org? in order to get some data \u2026  \n09:13\u00a0<vmassol>\u00a0it queries the real data yes  \n09:13\u00a0<vmassol>\u00a0from extensions.xwiki.org/activeinstalls  \n09:13\u00a0<sburjan>\u00a0has quit  \n09:13\u00a0<sburjan`>\u00a0is now known as <sburjan>  \n09:50\u00a0<cjd>\u00a0oh boy that's going to break some stuff :D  \n09:52\u00a0<cjd>\u00a0ahh ok it's just deprecated  \n09:52\u00a0<tmortagne>\u00a0cjd: I don't see why  \n09:52\u00a0<tmortagne>\u00a0of course  \n09:52\u00a0<tmortagne>\u00a0I'm not going to remove the most used method in XWiki like that  \n09:52\u00a0<cjd>\u00a0hah  \n09:53\u00a0<tmortagne>\u00a0but deprecation is a technical detail so I did not indicated it in the issue title  \n09:53\u00a0<cjd>\u00a0XWIKI-10311  \n09:53\u00a0<cjd>\u00a0bot is fast today  \n09:55\u00a0<tmortagne>\u00a0from API point of view rename is what I did, deprecation is just retro-compatibility detail  \n09:55\u00a0<vmassol>\u00a0has quit  \n09:55\u00a0<cjd>\u00a0now I'm back to my old gripe that we deprecate things at the drop of a hat and never remove anything which creates an endlessly growing garbage heap but that's a different story :)  \n09:58\u00a0<vmassol>\u00a0has joined #xwiki  \n09:59\u00a0<KermitTheFragger>\u00a0has quit  \n10:01\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:03\u00a0<vmassol>\u00a0evalica: also note that I have plans for more widgets in the AS dashboard  \n10:03\u00a0<vmassol>\u00a0for ex: the OS used  \n10:03\u00a0<vmassol>\u00a0or Average time an instance is used (by range, < 1 day, 2-7 days, 7-30 days, 30-365 days, > 365 days)  \n10:03\u00a0<evalica>\u00a0vmassol: the thing about the dashboard is that it was limited layout customization. So the only styling I could do is for individual gadgets  \n10:05\u00a0<vmassol>\u00a0actually you can specify custom layout and styles  \n10:05\u00a0<vmassol>\u00a0for the custom layout it's probbaly coded in java though  \n10:05\u00a0<evalica>\u00a0how? if I want to make like 2 areas (first 4 gadgets) (the rest) \u2026. etc.  \n10:06\u00a0<vmassol>\u00a0indeed: ColumnsLayoutManager  \n10:06\u00a0<vmassol>\u00a0it can be added through a wiki component but that's probably complex, for what you want, we woudl need to implement a new generic layout  \n10:07\u00a0<evalica>\u00a0\u2026 anyway \u2026 let me look around a bit  \n10:07\u00a0<vmassol>\u00a0k  \n10:08\u00a0<vmassol>\u00a0later on it'll be nice to display used extensions and their versions too, possibly in a livetable  \n10:09\u00a0<vmassol>\u00a0|= extension id |= extension version |= # of active instances using it  \n10:14\u00a0<tmortagne>\u00a0cjd: this method name is very misleading so we can't keep it (which we did for too long already waiting for the new model API), I don't see the point in suggesting to delete such a method. It's already easy to say that deprecation is painful but I don't see much suggestion on how to avoid it.  \n10:14\u00a0<tmortagne>\u00a0s/already/always/  \n10:24\u00a0<cjd>\u00a0I'm trying to find a document about this overall problem.. I do remember reading it but I'm a little short on search terms...  \n10:33\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:58\u00a0<mflorea>\u00a0has joined #xwiki  \n11:26\u00a0<tmortagne>\u00a0[WARN] restarting myxwiki.org  \n11:48\u00a0<cjd>\u00a0tmortagne: My answer was too long for irc so I put it on the list  \n11:49\u00a0<cjd>\u00a0as usual, my advice, take with a grain of salt  \n12:06\u00a0<polx>\u00a0has quit  \n12:11\u00a0<tmortagne>\u00a0cjd: thanks  \n12:13\u00a0<cjd>\u00a0Really I don't have the domain experience to be sure of myself on this topic, if an old windows developer comes along and says \"oh yes this was a huge problem\" then that would give it credit... if not then maybe it's not such a big deal  \n12:13\u00a0<cjd>\u00a0I just know that windows dev is gruling :)  \n12:13\u00a0<cjd>\u00a0(in C)  \n12:16\u00a0<polx>\u00a0has joined #xwiki  \n12:18\u00a0<sandra\\_>\u00a0has joined #xwiki  \n12:20\u00a0<sandra\\_>\u00a0Hi there- I need your help! I know how to write customer rights, authentication and groupservices ... is it also possible to write an custom \"user-service\" so I can read userdata from outside xwiiki?  \n12:21\u00a0<cjd>\u00a0sandra\\_: perhaps create a page which contains a velocity script that gets the information you need and then access it from outside the wiki using a http request?  \n12:22\u00a0<cjd>\u00a0REST might offer what you're looking for but if not, the script method will work  \n12:25\u00a0<sandra\\_>\u00a0well ...  \n12:25\u00a0<sandra\\_>\u00a0let me think  \n12:26\u00a0<tmortagne>\u00a0sandra\\_: XWiki does not really support user that are not page in the wiki right now but that's something we would like to have to at some point (but it's a big refactoring)  \n12:27\u00a0<sandra\\_>\u00a0is there any workaround for that?  \n12:27\u00a0<vmassol>\u00a0all authentication extensions do a sync  \n12:27\u00a0<cjd>\u00a0oh, hah I was thinking about it the other way around, exporting user info to another system not importing from...  \n12:27\u00a0<cjd>\u00a0sorry for the noise  \n12:28\u00a0<sandra\\_>\u00a0would it be possible to create the user at login?  \n12:28\u00a0<sandra\\_>\u00a0let me explain  \n12:29\u00a0<tmortagne>\u00a0sandra\\_: that's what all authenticators are doing yes  \n12:29\u00a0<tmortagne>\u00a0automatically creating or updating a XWiki user when it login  \n12:29\u00a0<sandra\\_>\u00a0didn't find one doing that  \n12:30\u00a0<tmortagne>\u00a0sandra\\_: the LDAP auth is doing that for example  \n12:30\u00a0<sandra\\_>\u00a0oops ... thx ... let me have a look ... one second  \n12:31\u00a0<sandra\\_>\u00a0:-D  \n12:31\u00a0<sandra\\_>\u00a0CreateUserFromLDAP ... well  \n12:31\u00a0<sandra\\_>\u00a0:-)  \n12:31\u00a0<sandra\\_>\u00a0seems like that is what I'm looking for  \n12:32\u00a0<tmortagne>\u00a0you can also look at https://github.com/xwiki-contrib/xwiki-authenticator-jdbc/blob/master/src/main/java/org/xwiki/contrib/authentication/jdbc/internal/DefaultUserSynchronizer.java  \n12:32\u00a0<tmortagne>\u00a0maybe a bit simpler to read than the LDAP one  \n12:35\u00a0<sandra\\_>\u00a0yes that's much better. Thx! Properties of the user are a simple map of Strings ... how to I know which properties exist per default?  \n12:35\u00a0<sandra\\_>\u00a0(thx for your patienceand effort by the way :-))  \n12:36\u00a0<sandra\\_>\u00a0... like first\\_name vs. firstname  \n12:38\u00a0<tmortagne>\u00a0sandra\\_: https://github.com/xwiki-contrib/xwiki-authenticator-jdbc/blob/master/src/main/java/org/xwiki/contrib/authentication/jdbc/internal/DefaultUserSynchronizer.java#L137  \n12:38\u00a0<tmortagne>\u00a0you could reuse that class in your authenticator and just change the jdbc part by yours  \n12:39\u00a0<sandra\\_>\u00a0alright ... I'll give it a try - thank you very much! (so far :-))  \n12:40\u00a0<tmortagne>\u00a0we need to put some tool like that in core  \n12:55\u00a0<evalica>\u00a0has quit  \n13:03\u00a0<Slashman>\u00a0has joined #xwiki  \n13:11\u00a0<sandra\\_>\u00a0has quit  \n13:38\u00a0<lucaa>\u00a0has quit  \n13:47\u00a0<polx>\u00a0has quit  \n13:49\u00a0<polx>\u00a0has joined #xwiki  \n13:50\u00a0<polx>\u00a0has quit  \n14:14\u00a0<polx>\u00a0has joined #xwiki  \n14:27\u00a0<OSIMasson>\u00a0has quit  \n14:49\u00a0<lucaa>\u00a0has joined #xwiki  \n15:02\u00a0<vmassol>\u00a0going to release v1.0 of the polls app since there's been some fixes and it's noi been released in a long time  \n15:02\u00a0<vmassol>\u00a0(even though there are some failing features)  \n15:02\u00a0<vmassol>\u00a0actually I could release 1.0-rc-2  \n15:02\u00a0<vmassol>\u00a0(1.0RC1 is already released)  \n15:33\u00a0<vmassol>\u00a0@all: if you're releasing a contrib extensions, please read the red parts on http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome#HReleasetheproject  \n16:04\u00a0<polx>\u00a0has quit  \n16:12\u00a0<mflorea>\u00a0has quit  \n16:18\u00a0<msmeria>\u00a0has quit  \n16:27\u00a0<polx>\u00a0has joined #xwiki  \n16:35\u00a0<mflorea>\u00a0has joined #xwiki  \n16:46\u00a0<vmassol>\u00a0gdelhumeau: why do you put N/A in documentation for http://jira.xwiki.org/browse/XWIKI-10307 ?  \n16:46\u00a0<vmassol>\u00a0it's not correct :)  \n16:46\u00a0<vmassol>\u00a0it needs to be documented  \n16:47\u00a0<gdelhumeau>\u00a0ok  \n16:47\u00a0<gdelhumeau>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Panels+Application  \n16:47\u00a0<gdelhumeau>\u00a0also put some modern screenshots I guess  \n16:47\u00a0<vmassol>\u00a0that would be nice too :)  \n16:47\u00a0<vmassol>\u00a0but the minimum is that the new feature is documented  \n16:49\u00a0<gdelhumeau>\u00a0well, it's only a new choice on the Panel Wizard and in the XWikiPreferences  \n16:55\u00a0<vmassol>\u00a0gdelhumeau: if it's \"only\" that then it's going to be quick to document ;) We need to document \\*everything\\*  \n16:56\u00a0<vmassol>\u00a0it's funny that you chose to document in the RN but not in the reference documentation, if I had to chose only one, I'd always choose the ref doc since this where users will go when searching for a feature :)  \n16:57\u00a0<evalica>\u00a0has joined #xwiki  \n17:11\u00a0<Sandra>\u00a0has joined #xwiki  \n17:18\u00a0<gdelhumeau>\u00a0done  \n17:18\u00a0<gdelhumeau>\u00a0I guess it is a bit better right now  \n17:19\u00a0<gdelhumeau>\u00a0Except that I think it is weird to explain how to create a new panel BEFORE explaining how to change the configuration  \n17:19\u00a0<gdelhumeau>\u00a0I think users will more probably use the existing panels instead of create new ones  \n17:19\u00a0<gdelhumeau>\u00a0BTW, creating a new panel is not trivial  \n17:19\u00a0<Sandra>\u00a0is it possible to run a virus scan on each uploaded attachment? is there an extension point to implement it myself?  \n17:20\u00a0<Sandra>\u00a0(oh.. \"hi there\" by the way :-))  \n17:20\u00a0<gdelhumeau>\u00a0maybe we should consider a documentation for users and a documentation for devs, also for extensions  \n17:20\u00a0<vmassol>\u00a0gdelhumeau: each extension needs to have 3 sections  \n17:20\u00a0<vmassol>\u00a01) usage (for end users)  \n17:20\u00a0<vmassol>\u00a02) administration (for admins)  \n17:21\u00a0<vmassol>\u00a03) how to extend the extension/use it as an api/etc (for devs)  \n17:21\u00a0<gdelhumeau>\u00a0Sandra: you need to implement a DocumentListener I guess, you can do it either with Java or Groovy  \n17:21\u00a0<vmassol>\u00a0user guide, admin guide, dev guide  \n17:21\u00a0<vmassol>\u00a0we lack this structure in lots of extensions but this is the idea IMO  \n17:21\u00a0<gdelhumeau>\u00a0it's a bit different with the panels  \n17:21\u00a0<vmassol>\u00a0on the panel page I see the 3 domains  \n17:21\u00a0<gdelhumeau>\u00a0because creating a panel is a end user usage  \n17:22\u00a0<gdelhumeau>\u00a0and condifuration is an administration  \n17:22\u00a0<vmassol>\u00a01) how to use the panels  \n17:22\u00a0<gdelhumeau>\u00a0and I still believe it is not clear for \"admins\"  \n17:22\u00a0<vmassol>\u00a02) how to add a new panel  \n17:22\u00a0<vmassol>\u00a03) how to configure panels  \n17:22\u00a0<Sandra>\u00a0WOW... thank you! is there a documentation on how to write listener?  \n17:22\u00a0<vmassol>\u00a04) dev tips when writing new panels  \n17:23\u00a0<vmassol>\u00a0gdelhumeau: yes the doc is awfully organized  \n17:23\u00a0<vmassol>\u00a0(for that page)  \n17:23\u00a0<polx>\u00a0has quit  \n17:23\u00a0<Sandra>\u00a0... in java  \n17:23\u00a0<gdelhumeau>\u00a0Sandra: maybe http://platform.xwiki.org/xwiki/bin/view/DevGuide/GroovyNotificationTutorial but it looks a bit old  \n17:24\u00a0<gdelhumeau>\u00a0Sandra: this seems better: http://extensions.xwiki.org/xwiki/bin/view/Extension/Observation+Module+Local  \n17:25\u00a0<Sandra>\u00a0thx! I'll give it a try  \n17:27\u00a0<vmassol>\u00a0there's even an example of doing it as a wiki component but it's not recommended ;) (http://extensions.xwiki.org/xwiki/bin/view/Extension/WikiComponent+Module)  \n17:28\u00a0<vmassol>\u00a0if you can code in java, it's much better (and probably simpler in the end) to do it in Java  \n17:31\u00a0<Sandra>\u00a0thx  \n17:33\u00a0<tmortagne>\u00a0sdumitriu: prototype upgrade seems to have broken a few UI tests  \n17:49\u00a0<Sandra>\u00a0sorry for asking, but how can i access the changed attachments in the document(event)?  \n17:50\u00a0<tmortagne>\u00a0Sandra: if you want your lister to wake up only if there is modified attachment there is dedicated attachment related events  \n17:51\u00a0<tmortagne>\u00a0com.xpn.xwiki.internal.event.AttachmentAddedEvent/AttachmentDeletedEvent/AttachmentUpdatedEvent  \n17:52\u00a0<Sandra>\u00a0i see  \n17:53\u00a0<Sandra>\u00a0why would i use the documentlistener for virus scanning instead of the attachment events? are there cases in whcih the attachment events are not triggered? (like when uploading images)  \n17:53\u00a0<Sandra>\u00a0ohh  \n17:53\u00a0<Sandra>\u00a0sorry  \n17:53\u00a0<tmortagne>\u00a0as soon as an attachment is modified in any way you should get an attachment event  \n17:53\u00a0<Sandra>\u00a0didn't see the class hierarchy  \n17:53\u00a0<Sandra>\u00a0thx!  \n17:56\u00a0<tmortagne>\u00a0has quit  \n18:01\u00a0<gdelhumeau>\u00a0I have to go, I'll be back in 1hour  \n18:22\u00a0<mflorea>\u00a0has quit  \n18:23\u00a0<KermitTheFragger>\u00a0has quit  \n18:47\u00a0<Sandra>\u00a0do i have to register an eventlistener somewhere? mine isn't get called  \n18:47\u00a0<cjd>\u00a0yes, you have to register with the ObservationManager  \n18:47\u00a0<cjd>\u00a0the tutorials should include this somewhere  \n18:50\u00a0<Sandra>\u00a0hmm... should I add that in the constructor?  \n18:50\u00a0<Sandra>\u00a0or where to put it?  \n19:08\u00a0<Sandra>\u00a0how (where) do i register a listener with the ObervationManager?  \n19:09\u00a0<vmassol>\u00a0you don't, it's automatic :)  \n19:10\u00a0<Sandra>\u00a0hmm  \n19:11\u00a0<Sandra>\u00a0automatic by annotating with @Component @Named(\"XYZ\") and implementing EventListener?  \n19:11\u00a0<gdelhumeau>\u00a0\u00a0back  \n19:11\u00a0<gdelhumeau>\u00a0and you have to add your class in components.txt  \n19:12\u00a0<gdelhumeau>\u00a0and yes, you annotate with @Component  \n19:19\u00a0<lucaa>\u00a0has quit  \n19:29\u00a0<Slashman>\u00a0has quit  \n19:45\u00a0<sdumitriu>\u00a0vmassol: Looking  \n20:00\u00a0<cjd>\u00a0has quit  \n20:04\u00a0<vmassol>\u00a0Sandra: yes exactly  \n20:07\u00a0<Sandra>\u00a0has quit  \n20:14\u00a0<evalica>\u00a0has quit  \n20:16\u00a0<gdelhumeau>\u00a0I am probably responsible for the broken enterprise panels tests  \n20:17\u00a0<gdelhumeau>\u00a0I'll fix them next week  \n20:20\u00a0<gdelhumeau>\u00a0has quit  \n20:23\u00a0<abusenius>\u00a0has joined #xwiki  \n21:12\u00a0<Sandra>\u00a0has joined #xwiki  \n21:13\u00a0<Sandra>\u00a0Another one: In a EventListener I have a reference to a document and a attachment. If I manipulate an attachment, how do i save the changes?  \n21:14\u00a0<Sandra>\u00a0has quit  \n21:14\u00a0<Sandra\\_570>\u00a0has joined #xwiki  \n21:14\u00a0<Sandra\\_570>\u00a0Another one: In a EventListener I have a reference to a document and a attachment. If I manipulate an attachment, how do i save the changes?  \n21:17\u00a0<Sandra\\_570>\u00a0All changes done are never shown on the wikipage  \n22:05\u00a0<Denis>\u00a0Sandra\\_570: You need to save the attachment for its content, but you need also to save the document to save the list of attachement of that document.  \n22:10\u00a0<vmassol>\u00a0has quit  \n22:33\u00a0<lucaa>\u00a0has joined #xwiki  \n22:40\u00a0<vmassol>\u00a0has joined #xwiki  \n22:43\u00a0<vmassol1>\u00a0has joined #xwiki  \n22:46\u00a0<vmassol>\u00a0has joined #xwiki  \n22:46\u00a0<vmassol1>\u00a0has quit  \n22:47\u00a0<Sandra\\_570>\u00a0has quit  \n22:51\u00a0<vmassol>\u00a0has quit  \n23:09\u00a0<OSIMasson>\u00a0has joined #xwiki  \n23:13\u00a0<OSIMasson>\u00a0has quit  \n23:27\u00a0<lucaa>\u00a0has quit  \n23:45\u00a0<vmassol>\u00a0has joined #xwiki  \n23:51\u00a0<vmassol>\u00a0has quit\n"}