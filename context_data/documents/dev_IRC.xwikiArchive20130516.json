{"id": "dev:IRC.xwikiArchive20130516", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130516", "title": "IRC Archive for channel #xwiki on 16 May 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n01:19\u00a0<jvelo>\u00a0has quit  \n02:04\u00a0<Slashman>\u00a0has quit  \n02:40\u00a0<sburjan`>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n05:11\u00a0<Lamium>\u00a0has joined #xwiki  \n05:13\u00a0<Lamium1>\u00a0has quit  \n05:51\u00a0<Denis>\u00a0has quit  \n06:08\u00a0<kstuart>\u00a0has quit  \n07:33\u00a0<mflorea>\u00a0has joined #xwiki  \n07:51\u00a0<mflorea>\u00a0has quit  \n08:09\u00a0<mflorea>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:32\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:03\u00a0<vmassol>\u00a0fyi thomasD has found a nice tool yesterday for cleaning HTML: http://jsoup.org/  \n09:03\u00a0<vmassol>\u00a0no idea how it compares to htmlcleaner though  \n09:03\u00a0<vmassol>\u00a0(btw waiting fir htmlcleaner 2.5 real soon now, it has some goodies for us and Scott told me he's releasing it soon now)  \n09:04\u00a0<msmeria>\u00a0has joined #xwiki  \n09:08\u00a0<sburjan`>\u00a0has joined #xwiki  \n09:09\u00a0<tmortagne>\u00a0has quit  \n09:10\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:15\u00a0<Denis1>\u00a0has joined #xwiki  \n09:15\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:20\u00a0<Lamium1>\u00a0has joined #xwiki  \n09:38\u00a0<SvenDowideit>\u00a0has quit  \n09:41\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n10:02\u00a0<SvenDowideit>\u00a0has quit  \n10:17\u00a0<sburjan>\u00a0has joined #xwiki  \n10:29\u00a0<Lamium1>\u00a0Okay so I have a question for you guys to break the morning for you (at least is it morning here in the UK...)  \n10:30\u00a0<Lamium1>\u00a0I'm trying to create a HTML5 uploader for a template but it's not really playing ball. I'm not sure if it's just me not understanding the XWiki way of thinking but the situation is this.  \n10:30\u00a0<Lamium1>\u00a0I'm trying to make a template to create an item. In the item there is a description, price and image. now I know inside the app within minutes I can make a short text input for the description etc but there is no image/file picker in my list I only have User Group or Date. So I then decided to try and use \u00a0your uploader within the {{html}} syntax and it displays in WYSIWYG but not when I go to inline form.  \n10:30\u00a0<Lamium1>\u00a0Essentially what I want as an outcome here, is a simple form where I can write a description, upload an image and create the page. Where am I going wrong with this?  \n10:31\u00a0<vmassol>\u00a0Lamium: can you past on pastebin your code?  \n10:31\u00a0<vmassol>\u00a0\\*paste  \n10:31\u00a0<vmassol>\u00a0have you used the attachmentselector macro?  \n10:32\u00a0<Lamium1>\u00a0Bear with me here, I'm really new to xwiki  \n10:32\u00a0<Lamium1>\u00a0I've created a class called CreateNewItem  \n10:32\u00a0<Lamium1>\u00a0I'm inside CreateNewItemTemplate  \n10:32\u00a0<Lamium1>\u00a0I go to Edit > wiki  \n10:32\u00a0<Lamium1>\u00a0and I typed the following:  \n10:34\u00a0<Lamium1>\u00a0I'll pastebin it, it's not long  \n10:34\u00a0<Lamium1>\u00a0http://pastebin.com/J3krZN2Z  \n10:37\u00a0<Lamium1>\u00a0Now when I switch to WYSIWYG I can see the image upload tool. However in the inline form i can't see it  \n10:37\u00a0<vmassol>\u00a0works fine for me (except it does nothing but that's another matter)  \n10:37\u00a0<vmassol>\u00a0http://playground.xwiki.org/xwiki/bin/edit/Main/Test?editor=inline  \n10:37\u00a0<Lamium1>\u00a0I don't have permission to view that  \n10:37\u00a0<tmortagne>\u00a0has quit  \n10:38\u00a0<vmassol>\u00a0you just need to register on that site if you wish  \n10:38\u00a0<Lamium1>\u00a0one sec  \n10:38\u00a0<vmassol>\u00a0(then you'll get edit rights)  \n10:39\u00a0<vmassol>\u00a0but using teh attachmentselector macro makes the most sense to me  \n10:41\u00a0<Lamium1>\u00a0It's much nicer to use than captcha and so far it's served me well  \n10:41\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:43\u00a0<Lamium1>\u00a0I can see it works on your version but it doesn't seem to show on my version in the inline form editor. Did you make any changes?  \n10:46\u00a0<vmassol>\u00a0Lamium: no change  \n10:46\u00a0<vmassol>\u00a0here's a working example:  \n10:46\u00a0<vmassol>\u00a0http://playground.xwiki.org/xwiki/bin/view/VMA/WebHome  \n10:47\u00a0<vmassol>\u00a0Lamium: thanks for the http://areyouahuman.com/landing-b/?utm\\_expid=44670397-6 suggestion, you should create a jira issue about it actually, as an idea for integration :)  \n10:52\u00a0<vmassol>\u00a0Lamium: check the contnet of the page  \n10:52\u00a0<vmassol>\u00a0I just created a class at VMA.MyClass  \n10:52\u00a0<vmassol>\u00a0with one property called \"image\"  \n10:52\u00a0<vmassol>\u00a0then I created an object at VMA.WebHome  \n10:52\u00a0<vmassol>\u00a0and used the attachmentselector macro  \n10:52\u00a0<vmassol>\u00a0now I have an image picker which does everything  \n10:53\u00a0<vmassol>\u00a0- attaches images to my page  \n10:53\u00a0<vmassol>\u00a0- displays them  \n10:53\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:53\u00a0<vmassol>\u00a0- allows users to change them  \n10:53\u00a0<vmassol>\u00a0- updates the \"image\" property from my class  \n10:54\u00a0<vmassol>\u00a0note: to understand what I've said you need to read the dev guide adn undertand concepts of classes and objects  \n10:54\u00a0<vmassol>\u00a0(http://platform.xwiki.org/xwiki/bin/view/DevGuide/DataModel)  \n10:54\u00a0<Lamium1>\u00a0Okay, I can see you created the MyClass but i can't access the area to view the objects  \n10:54\u00a0<vmassol>\u00a0that's because your user is a simple user  \n10:55\u00a0<Lamium1>\u00a0I see  \n10:55\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/Features/PageEditing#HSimpleandAdvancededitingmodes  \n10:55\u00a0<vmassol>\u00a0just edit your profile and make yourself an advanced user ;)  \n10:59\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:02\u00a0<Lamium1>\u00a0Okay I think I'm on the right path now, thank you Vincent. Will let you know how I get on  \n11:04\u00a0<vmassol>\u00a0ok cool  \n11:12\u00a0<kstuart>\u00a0has joined #xwiki  \n11:17\u00a0<gdelhumeau>\u00a0has quit  \n11:17\u00a0<Lamium1>\u00a0okay, I've attached the attachmentSelector macro like you've said and created the object inside the template coming from the MyClass object and yet the attachment selector still only displays when I click Edit > WYSIWYG  \n11:23\u00a0<evalica>\u00a0has joined #xwiki  \n11:25\u00a0<vmassol>\u00a0Lamium: if you use the exact content as I've put you'll get it in view mode too  \n11:26\u00a0<vmassol>\u00a0savemode=\"direct\"  \n11:26\u00a0<vmassol>\u00a0check ee http://extensions.xwiki.org/xwiki/bin/view/Extension/Attachment+Selector+Macro  \n11:30\u00a0<Lamium1>\u00a0Okay I've used save mode direct and also I've set the two mandatory settings in the attachmentSelector macro. My Class is defined in XWiki.MyClass and the string property is called 'image'. These two are definitely set  \n11:31\u00a0<Lamium1>\u00a0still no dice, I'm going to take a closer look at yours to see if I've missed something  \n11:32\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:36\u00a0<Slashman>\u00a0has joined #xwiki  \n11:49\u00a0<Lamium1>\u00a0Thanks Vincent, nailed it now. I've no idea why but it had something to do with the fact that it didn't like me using the macro inside an AppWithinMinutes program. As soon as I created a separate page outside the AppWithinMinutes application and put the macro in it worked like a charm in all views  \n11:50\u00a0<vmassol>\u00a0ok, I don't know AWM that well so not sure what you were doing  \n11:50\u00a0<vmassol>\u00a0but glad you found a solutino  \n11:50\u00a0<Lamium1>\u00a0neither do I but I'm also glad I found a solution :D  \n12:48\u00a0<vmassol>\u00a0mflorea: ping  \n12:48\u00a0<mflorea>\u00a0vmassol: pong  \n12:48\u00a0<vmassol>\u00a0I'm failing to build xwiki-platform-wysiwyg-server  \n12:48\u00a0<vmassol>\u00a0toHTML(org.xwiki.wysiwyg.server.internal.converter.DefaultHTMLConverterTest) \u00a0Time elapsed: 0.001 sec \u00a0<<< ERROR!  \n12:48\u00a0<vmassol>\u00a0org.xwiki.component.manager.ComponentLookupException: Can't find descriptor for the component [role = [interface org.xwiki.rendering.parser.Parser] hint = [syntax/x.y]]  \n12:49\u00a0<vmassol>\u00a0any idea?  \n12:49\u00a0<vmassol>\u00a0from at org.xwiki.wysiwyg.server.internal.converter.DefaultHTMLConverterTest.toHTML(DefaultHTMLConverterTest.java:102)  \n12:49\u00a0<mflorea>\u00a0did you do any changes?  \n12:49\u00a0<vmassol>\u00a0does it work for you?  \n12:49\u00a0<mflorea>\u00a0I was building fine  \n12:49\u00a0<vmassol>\u00a0I have chages locally but at first glance they don't look related  \n12:49\u00a0<vmassol>\u00a0\\*chages  \n12:49\u00a0<vmassol>\u00a0\\*changes  \n12:50\u00a0<mflorea>\u00a0platform build is fine on CI  \n12:50\u00a0<mflorea>\u00a0let me build locally, but I'm pretty sure it will pass  \n12:51\u00a0<vmassol>\u00a0ah I know I think  \n12:51\u00a0<vmassol>\u00a0must be thomas's change from yesteday  \n12:51\u00a0<vmassol>\u00a0he's reverted but I didn't rebuild commons  \n12:51\u00a0<vmassol>\u00a0and apparently there was no newer version on ci  \n12:51\u00a0<mflorea>\u00a0ok, it fails for me too  \n12:51\u00a0<vmassol>\u00a0s/ci/maven.xwiki.org  \n12:51\u00a0<vmassol>\u00a0ah?  \n12:52\u00a0<vmassol>\u00a0rebuilding commons  \n12:52\u00a0<vmassol>\u00a0(locally)  \n12:54\u00a0<vmassol>\u00a0works now  \n12:54\u00a0<mflorea>\u00a0ok  \n13:09\u00a0<vmassol>\u00a0tmortagne/all: going to commit something potentially dangerous to fix http://jira.xwiki.org/browse/XWIKI-9021#  \n13:11\u00a0<vmassol>\u00a0I wouldn't mind some code review once it's committed :)  \n13:11\u00a0<vmassol>\u00a0the code changes are pretty small  \n13:11\u00a0<vmassol>\u00a0but their effect can be huge ;)  \n13:14\u00a0<vmassol>\u00a0(I personally don't full master the consequences of my change which is a bit worrying ;))  \n13:30\u00a0<xwikibot>\u00a0has joined #xwiki  \n13:31\u00a0<vmassol>\u00a0I don't get that\u2026. something is changing the bot configuration when it restarts\u2026. will need to debug one day  \n13:52\u00a0<vmassol>\u00a0ok here you go\u2026.  \n14:01\u00a0<alexch>\u00a0has joined #xwiki  \n14:02\u00a0<alexch>\u00a0has quit  \n14:02\u00a0<alexch>\u00a0has joined #xwiki  \n14:07\u00a0<Lamium>\u00a0has quit  \n14:09\u00a0<vmassol>\u00a0thanks for reviewing tmortagne  \n14:09\u00a0<tmortagne>\u00a0vmassol: as for he logic of the change we already talked about it some time ago and I agree with it  \n14:10\u00a0<tmortagne>\u00a0s/he/the/  \n14:10\u00a0<vmassol>\u00a0yes I know, but it's still dangerous IMO  \n14:10\u00a0<vmassol>\u00a0there might be use cases I forgot to handle  \n14:10\u00a0<tmortagne>\u00a0sure  \n14:11\u00a0<tmortagne>\u00a0but manipulating a XWikiContext which is not the one in the ExecutionContext already cause all sort of issue anyway and I think we pretty much all agree we don't want it I think  \n14:11\u00a0<tmortagne>\u00a0I don't think there is any valid use case broken  \n14:11\u00a0<vmassol>\u00a0yeah, maybe it fixes other stuff  \n14:11\u00a0<tmortagne>\u00a0pretty sure it does  \n15:20\u00a0<rafaelav>\u00a0has joined #xwiki  \n15:36\u00a0<sburjan>\u00a0Denis: ping  \n15:47\u00a0<vmassol>\u00a0has quit  \n15:48\u00a0<Denis>\u00a0sburjan: pong ?  \n15:52\u00a0<sburjan>\u00a0Denis: I got 2 errors when setting a 4.5.3 on Oracle. They seem random because I wasn't able to reproduce either of them. here they are http://pastebin.com/JCDc27ej and http://pastebin.com/95KLazSZ  \n15:52\u00a0<Lamium>\u00a0has joined #xwiki  \n15:52\u00a0<sburjan>\u00a0one seems related to DW or CM, but other one is DB specifric  \n15:53\u00a0<vmassol>\u00a0has joined #xwiki  \n15:55\u00a0<Denis>\u00a0sburjan: I can't say much about those, sorry  \n15:55\u00a0<sburjan>\u00a0ok  \n16:01\u00a0<vmassol>\u00a0has quit  \n16:01\u00a0<vmassol1>\u00a0has joined #xwiki  \n16:08\u00a0<Lamium>\u00a0has quit  \n16:09\u00a0<vmassol1>\u00a0has quit  \n16:10\u00a0<Lamium>\u00a0has joined #xwiki  \n16:35\u00a0<Lamium1>\u00a0has left #xwiki  \n16:42\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:43\u00a0<SvenDowideit>\u00a0has quit  \n16:43\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n16:54\u00a0<alexch>\u00a0has quit  \n16:59\u00a0<SvenDowideit>\u00a0has quit  \n17:02\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n17:04\u00a0<vmassol>\u00a0has joined #xwiki  \n17:28\u00a0<sburjan>\u00a0has quit  \n17:51\u00a0<mflorea>\u00a0sdumitriu: ping  \n17:53\u00a0<sdumitriu1>\u00a0mflorea: Pong  \n17:53\u00a0<mflorea>\u00a0do we have a procedure to deal with fixing bugs in prototype.js / scriptaculous.js ?  \n17:54\u00a0<sdumitriu1>\u00a0Not really  \n17:54\u00a0<mflorea>\u00a0ok  \n17:54\u00a0<sdumitriu1>\u00a0But I do have a way  \n17:54\u00a0<sdumitriu1>\u00a0I have my own fork where I commit stuff  \n17:54\u00a0<sdumitriu1>\u00a0And I try to make pull requests hoping they'll get accepted  \n17:55\u00a0<sdumitriu1>\u00a0We should also document the changes that we include  \n17:55\u00a0<sdumitriu1>\u00a0We don't do that now, I usually look at the log for the file when it's time to upgrade  \n17:55\u00a0<sdumitriu1>\u00a0Having a list at the top of the file will make upgrades easier  \n17:56\u00a0<mflorea>\u00a0yes, I was planning to do that  \n17:56\u00a0<mflorea>\u00a0in my case I changed effects.js  \n17:56\u00a0<sdumitriu1>\u00a0What bugs?  \n17:56\u00a0<tmortagne>\u00a0has quit  \n17:56\u00a0<sdumitriu1>\u00a0Ah, yes, i for scriptaculous I don't have a fork with fixes...  \n17:57\u00a0<sdumitriu1>\u00a0Just manual changes in our source code  \n17:57\u00a0<sdumitriu1>\u00a0Anyway, scriptaculous is almost dead...  \n17:58\u00a0<mflorea>\u00a0well, as you can see in prototypejs.org/doc/latest/dom/Element/prototype/getOpacity the signature says the return value is String. The problem is that Effect.Opacity uses getOpacity as if it returns a number. This fails in IE9.  \n17:58\u00a0<mflorea>\u00a0in order to keep the signature, I fixed Effects.Opacity to make sure the passed to/from are numbers  \n17:59\u00a0<mflorea>\u00a0in IE9 getOpacity returns a string, the value is good though  \n17:59\u00a0<sdumitriu1>\u00a0K  \n17:59\u00a0<mflorea>\u00a0but String not number  \n17:59\u00a0<mflorea>\u00a0so the opacity transition doesn't work  \n18:00\u00a0<mflorea>\u00a0the bug is mentioned here https://prototype.lighthouseapp.com/projects/8886/tickets/1278-ie-detection-and-opacity#ticket-1278-4  \n18:03\u00a0<msmeria>\u00a0has quit  \n18:08\u00a0<evalica>\u00a0has quit  \n18:11\u00a0<evalica>\u00a0has joined #xwiki  \n18:36\u00a0<evalica>\u00a0has quit  \n18:36\u00a0<evalica>\u00a0has joined #xwiki  \n18:36\u00a0<evalica>\u00a0has quit  \n18:55\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:25\u00a0<Slashman>\u00a0has quit  \n19:40\u00a0<Lamium>\u00a0has left #xwiki  \n19:41\u00a0<gdelhumeau>\u00a0has quit  \n20:25\u00a0<tdelafosse>\u00a0has quit  \n20:42\u00a0<Denis>\u00a0has quit  \n21:16\u00a0<vmassol>\u00a0has quit  \n21:25\u00a0<rafaelav>\u00a0has quit  \n21:27\u00a0<vmassol>\u00a0has joined #xwiki  \n21:28\u00a0<vmassol1>\u00a0has joined #xwiki  \n21:28\u00a0<vmassol>\u00a0has quit  \n21:37\u00a0<vmassol1>\u00a0has quit  \n21:40\u00a0<rafaelav>\u00a0has joined #xwiki  \n21:50\u00a0<sdumitriu>\u00a0has quit  \n21:51\u00a0<sdumitriu>\u00a0has joined #xwiki  \n21:57\u00a0<jbwiv\\_\\_>\u00a0has joined #xwiki  \n22:14\u00a0<jbwiv\\_\\_>\u00a0is now known as <timtimc>  \n22:15\u00a0<timtimc>\u00a0guys, I need to transfer our xwiki from one server to another. Aside from the database and /etc/xwiki directory, what else should trsf?  \n22:24\u00a0<rafaelav>\u00a0has left #xwiki  \n22:39\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n22:40\u00a0<Denis>\u00a0has joined #xwiki  \n22:42\u00a0<sdumitriu1>\u00a0has quit  \n22:50\u00a0<abusenius\\_>\u00a0has quit  \n22:50\u00a0<kstuart>\u00a0has quit  \n22:59\u00a0<sdumitriu2>\u00a0has quit  \n22:59\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n23:40\u00a0<mflorea>\u00a0has quit\n"}