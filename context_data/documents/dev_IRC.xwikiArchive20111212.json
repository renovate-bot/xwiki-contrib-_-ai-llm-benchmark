{"id": "dev:IRC.xwikiArchive20111212", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111212", "title": "IRC Archive for channel #xwiki on 12 December 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n03:21\u00a0<tekzilla>\u00a0has quit  \n03:23\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:01\u00a0<Denis2>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:36\u00a0<mflorea>\u00a0has joined #xwiki  \n07:55\u00a0<mflorea>\u00a0has quit  \n07:57\u00a0<mflorea>\u00a0has joined #xwiki  \n08:16\u00a0<sburjan`>\u00a0has joined #xwiki  \n08:47\u00a0<+mflorea>\u00a0sdumitriu: I updated http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap at your request Friday, but since I don't have PR on xwiki.org I broke the page (it seems it has some Groovy macros).  \n08:48\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:48\u00a0<+sburjan`>\u00a0odd, I thiught I had  \n08:48\u00a0<+sburjan`>\u00a0\\*thought  \n09:05\u00a0<evalica>\u00a0has joined #xwiki  \n09:08\u00a0<vmassol>\u00a0has joined #xwiki  \n09:15\u00a0<vmassol>\u00a0good morning  \n09:19\u00a0<Denis2>\u00a0is now known as <Denis>  \n09:22\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:28\u00a0<sburjan>\u00a0has joined #xwiki  \n09:47\u00a0<vmassol>\u00a0stopping the link checker  \n09:47\u00a0<vmassol>\u00a0I'll need to add an \"active\" xproperty to botlets in the future...  \n10:10\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:13\u00a0<vmassol>\u00a0so guys\u2026. today is normally the release day  \n10:13\u00a0<vmassol>\u00a0let's plan what we do  \n10:13\u00a0<vmassol>\u00a0on my side I see that we still have an issue with Oracle  \n10:13\u00a0<vmassol>\u00a0there are still 2 pages failing to import when you import the XE XAR  \n10:13\u00a0<vmassol>\u00a0i think we should fix this one before we release  \n10:13\u00a0<vmassol>\u00a0I worked on it last friday and a bit over the weekend but couldn't find the exact reason yet  \n10:14\u00a0<vmassol>\u00a0Are there other blocker items?  \n10:15\u00a0<vmassol>\u00a0sburjan: could you test the latest XEM?  \n10:15\u00a0<vmassol>\u00a0sburjan or Denis actually  \n10:15\u00a0<vmassol>\u00a0Denis: Enygma` has added a confirmation which seems good to me (haven't tried it yet though)  \n10:17\u00a0<+Denis>\u00a0vmassol: I know, I had to try it, but I am a bit busy this morning, I will do my best  \n10:18\u00a0<vmassol>\u00a0ok  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r98badd7\u000f \u000f/ (4 files in 4 dirs):\u000f XWIKI-7277: Extension manager importer should produce ...  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* r7da618a\u000f \u000f/ (4 files in 4 dirs):\u000f XWIKI-7277: Extension manager importer should produce ...  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* rfa01b76\u000f \u000f/ (10 files in 8 dirs):\u000f XWIKI-7163: Resolving of an extension artifact from a remote repository ...  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* rd508f5e\u000f \u000f/ (10 files in 8 dirs):\u000f XWIKI-7163: Resolving of an extension artifact from a remote repository ...  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* rdc53a6f\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-handlers/xwiki-platform-extension-handler-xar/src/main/java/org/xwiki/extension/xar/internal/handler/packager/DefaultPackager.java :\u000f Fix EGit bug - http://git.io/P9k8hw  \n10:28\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r1c1caf0\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-handlers/xwiki-platform-extension-handler-xar/src/main/java/org/xwiki/extension/xar/internal/handler/packager/DefaultPackager.java :\u000f Fix EGit bug - http://git.io/ugs1vg  \n10:38\u00a0<vmassol>\u00a0so\u2026. nobody has anything blocker left for 3.3?  \n10:39\u00a0<vmassol>\u00a0what I suggest is to postpone the release by 1 day to try to fix the main remaining oracle issue today.  \n10:39\u00a0<vmassol>\u00a0wdyt?  \n10:40\u00a0<vmassol>\u00a0(I may need some help with that too since I'm a bit stuck ATM)  \n10:42\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* ree646c8\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/repository/internal/DefaultCoreExtensionScanner.java :\u000f XWIKI-7270: Aether handler return the summary in the description field ...  \n10:42\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* rb923dbd\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/main/java/org/xwiki/extension/repository/internal/DefaultCoreExtensionScanner.java :\u000f XWIKI-7270: Aether handler return the summary in the description field ...  \n10:42\u00a0<vmassol>\u00a0is everyone still sleeping? :)  \n10:43\u00a0<vmassol>\u00a0(thomas isn't apparently since he's busy committing ;))  \n10:44\u00a0<+tmortagne>\u00a0vmassol: sorry was all on fixing my bug, so nothing left blocker that I know of, some improvement we discussed for XR but since it's mostly for xwiki.org it can still be done after the release and update the XR jar like I did theses days  \n10:45\u00a0<+tmortagne>\u00a0there is the bug found by Marius but seems hard to reproduce  \n10:49\u00a0<vmassol>\u00a0so back to the oracle issue  \n10:49\u00a0<vmassol>\u00a0let me explain what works/doesn't work  \n10:49\u00a0<vmassol>\u00a0the issue is when import Main.Activity  \n10:49\u00a0<vmassol>\u00a0\\*importing  \n10:49\u00a0<vmassol>\u00a0there's a wiki macro XObject in thre  \n10:50\u00a0<vmassol>\u00a0and there's an xproperty called \"contentDescription\"  \n10:50\u00a0<vmassol>\u00a0it's empty  \n10:50\u00a0<vmassol>\u00a0and this leads to the oracle error  \n10:50\u00a0<vmassol>\u00a0if I set it to something I don't get any error  \n10:50\u00a0<vmassol>\u00a0it only fails when importing too  \n10:51\u00a0<vmassol>\u00a0if I create a wiki macro in a page and don't set the contentDescription I don't get the error  \n10:52\u00a0<+tmortagne>\u00a0I think I remember something about Oracle not supporting null which is why there is some places were always force \"\" instead of null  \n10:52\u00a0<+sburjan>\u00a0vmassol: ARE WE RELEASING T ODAY 3.3 ?  \n10:52\u00a0<vmassol>\u00a0sburjan: READ ABOVE  \n10:52\u00a0<+tmortagne>\u00a0sburjan(10:39:57 AM) vmassol: what I suggest is to postpone the release by 1 day to try to fix the main remaining oracle issue today.  \n10:52\u00a0<+sburjan>\u00a0OK, i WASN'T FOLLOWING  \n10:52\u00a0<+sburjan>\u00a0okay, I'm +1  \n10:53\u00a0<vmassol>\u00a0IT's TOO EARLY TO SHOUT sburjan ;)  \n10:53\u00a0<+sburjan>\u00a0I accidentally enabled caps lock ;)  \n10:54\u00a0<vmassol>\u00a0tmortagne: yes  \n10:54\u00a0<vmassol>\u00a0but the value can be null in this table  \n10:55\u00a0<vmassol>\u00a0https://skitch.com/e-vmassol/gx1q3/object-browser  \n10:55\u00a0<+tmortagne>\u00a0then the mapping is not right since I think we have other mapping where we forbid null in oracle while it's allowed in the mysql mapping, checking  \n10:55\u00a0<vmassol>\u00a0the id isn't null and the name isn't null  \n10:56\u00a0<vmassol>\u00a0actually I've just updated from Hib 3.6.7 to 3.6.8 and I get a slighlty different debug error  \n10:56\u00a0<vmassol>\u00a0I now get: http://pastebin.com/8BZy7Rf8  \n10:56\u00a0<vmassol>\u00a0as you can see param2 and 3 are not null and correct  \n10:56\u00a0<vmassol>\u00a0and param1 isn't bound for some reason  \n10:56\u00a0<vmassol>\u00a0(it's the param that is null XWL\\_VALUE)  \n10:56\u00a0<vmassol>\u00a0(but the column allows for null in the DB)  \n10:57\u00a0<+tmortagne>\u00a0ok  \n10:58\u00a0<vmassol>\u00a0with Hib 3.6.7 I was getting: ORA-01400: cannot insert NULL into (\"XWIKI\".\"XWIKILARGESTRINGS\".\"XWL\\_ID\") which isn't printed anymore with 3.6.8  \n10:59\u00a0<vmassol>\u00a0but it still fails  \n10:59\u00a0<vmassol>\u00a0it's probably the same error it's just not reported anymore for some reason  \n10:59\u00a0<+tmortagne>\u00a0well allowed or not in the scheme I think Oracle was not supporting null at least through hibernate, maybe it changed with the new version  \n11:00\u00a0<vmassol>\u00a0oracle supports null  \n11:00\u00a0<vmassol>\u00a0it treats empty string as null  \n11:00\u00a0<vmassol>\u00a0ofc you can only set null in a column that allows it  \n11:01\u00a0<+tmortagne>\u00a0actually I miwed with empty strings  \n11:01\u00a0<+tmortagne>\u00a0we had issue while setting empty string on column where null was not supported  \n11:01\u00a0<vmassol>\u00a0yep  \n11:06\u00a0<vmassol>\u00a0going to try with a more recent oracle jdbc driver  \n11:08\u00a0<+sburjan>\u00a0vmassol: re Oracle issue, I remember I read something about that, found something about it very accidentally when searching the error messages for the actual mapping errors  \n11:08\u00a0<+sburjan>\u00a0but I don't have any link :(  \n11:12\u00a0<+sburjan>\u00a0and yes, I will test EM today  \n11:12\u00a0<+sburjan>\u00a0also if we fix the Oracle I will test to see if it's everything okay  \n11:12\u00a0<pomo>\u00a0has joined #xwiki  \n11:15\u00a0<pomo>\u00a0Hi, I cannot manage to properly add the menu (http://extensions.xwiki.org/xwiki/bin/view/Extension/Navigation+Menu+Wiki+Macro) as a panel, in order to show it in every page of my xwiki 3.1  \n11:15\u00a0<vmassol>\u00a0ahah seems I'm getting something, verifying  \n11:19\u00a0<vmassol>\u00a0ok problem solved :)  \n11:19\u00a0<vmassol>\u00a0I'll document it  \n11:19\u00a0<+sburjan>\u00a0amaize me :D  \n11:20\u00a0<vmassol>\u00a0jdbc driver 10.2.0.1.0 which I used for oracle 10g 10.2.0.1.0 is buggy apparently  \n11:20\u00a0<vmassol>\u00a0I tested with jdbc driver 10.2.0.2 and it works now  \n11:20\u00a0<+sburjan>\u00a0let me check what I used on the test machine  \n11:24\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r484cfb0\u000f \u000f/ (6 files in 4 dirs):\u000f Merge branch 'feature-improvecm' - http://git.io/DKOihA  \n11:25\u00a0<vmassol>\u00a0so I think we're ready to release today actually :)  \n11:25\u00a0<vmassol>\u00a0sdumitriu: ?  \n11:26\u00a0<+sburjan>\u00a0vmassol: I used 11.2.0.3 on 11g, and I get a lot of console messages. But that might be another error  \n11:26\u00a0<vmassol>\u00a0I'm sure there are other oracle errors remaining  \n11:26\u00a0<vmassol>\u00a0we need to track them down  \n11:26\u00a0<vmassol>\u00a0but I don't think we shoudl hold the release  \n11:27\u00a0<vmassol>\u00a0I'm going to check all open oracle issues in jira right now  \n11:27\u00a0<vmassol>\u00a0sburjan: create a jira issue for the issues you see sorin  \n11:27\u00a0<vmassol>\u00a0or send a mail with the details  \n11:28\u00a0<+sburjan>\u00a0okay, I'm starting a meeting, I will look into that right after  \n11:30\u00a0<@sdumitriu>\u00a0vmassol: OK  \n11:30\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r95a58db\u000f \u000f/ (3 files):\u000f Proper @since - http://git.io/1i4hDg  \n11:30\u00a0<@sdumitriu>\u00a0Good morning  \n11:30\u00a0<vmassol>\u00a0sdumitriu: gm. Will you be able to release today?  \n11:30\u00a0<@sdumitriu>\u00a0Yes  \n11:30\u00a0<vmassol>\u00a0haven't checked tests though  \n11:30\u00a0<vmassol>\u00a0sdumitriu: ah we need you to fix the extension tests first  \n11:31\u00a0<@sdumitriu>\u00a0I still have a few changes to make to the release script, though  \n11:31\u00a0<vmassol>\u00a0sdumitriu: can you fix those tests asap? It's not normal to release with such tests failing  \n11:32\u00a0<@sdumitriu>\u00a0OK  \n11:32\u00a0<vmassol>\u00a0jvelociter: could this be caused by your restlet upgrade: http://ci.xwiki.org/job/xwiki-enterprise-test-selenium/org.xwiki.enterprise$xwiki-enterprise-test-selenium/804/testReport/  \n11:33\u00a0<+jvelociter>\u00a0hum indeed, looks like it could be  \n11:33\u00a0<vmassol>\u00a0sdumitriu: hmm seems we don't have a trigger on github for 3.3  \n11:33\u00a0<+jvelociter>\u00a0let me check  \n11:33\u00a0<vmassol>\u00a0(trigger for the ci that is)  \n11:33\u00a0<vmassol>\u00a0or do we?  \n11:34\u00a0<vmassol>\u00a0the trigger is global to the github repo I think  \n11:34\u00a0<vmassol>\u00a0so it should be ok, maybe htere's not been any commit since I created the ci jobs  \n11:34\u00a0<vmassol>\u00a0strange though  \n11:39\u00a0<+tmortagne>\u00a0mflorea: any idea what could make \"WYSIWYG Editor - WAR Distribution\" always fail on agent-5 ? I don't really understand the error on http://ci.xwiki.org/job/xwiki-platform/1186/console but it's always the same and I'm pretty sure it's not flickering  \n11:39\u00a0<+mflorea>\u00a0looking  \n11:39\u00a0<+tmortagne>\u00a0vmassol: how did you created the job, copying 3.2 ?  \n11:40\u00a0<vmassol>\u00a0yes  \n11:40\u00a0<+tmortagne>\u00a0so it should be ok I guess  \n11:40\u00a0<vmassol>\u00a0yes I don't see any problem  \n11:40\u00a0<vmassol>\u00a0I'm just surpised they haven't been built  \n11:40\u00a0<+tmortagne>\u00a0you are talking about XE build ?  \n11:41\u00a0<vmassol>\u00a0rendering, and func tests  \n11:41\u00a0<vmassol>\u00a0(I've just triggrered rendering manually)  \n11:41\u00a0<+tmortagne>\u00a0I did not seen any commit since you created the job  \n11:41\u00a0<+tmortagne>\u00a0on rendering  \n11:41\u00a0<vmassol>\u00a0and I'm going to trigger func test manually too  \n11:41\u00a0<+tmortagne>\u00a0no need  \n11:41\u00a0<+tmortagne>\u00a0there are going to build shortly  \n11:41\u00a0<lucaa>\u00a0has joined #xwiki  \n11:41\u00a0<+tmortagne>\u00a0I committed lot of stuff on platform  \n11:42\u00a0<vmassol>\u00a0on 3.3 branch?  \n11:42\u00a0<+tmortagne>\u00a0yep  \n11:42\u00a0<+tmortagne>\u00a0EM bugfixes  \n11:42\u00a0<vmassol>\u00a0ok let's hope you didn't break anything more ;)  \n11:42\u00a0<vmassol>\u00a0ah yes pf 3.3 and xe 3.3 are being built  \n11:44\u00a0<+tmortagne>\u00a0yep  \n11:45\u00a0<vmassol>\u00a0hmm getting this in my console: http://pastebin.com/Cuty7aim  \n11:45\u00a0<vmassol>\u00a0first time I see these  \n11:46\u00a0<+tmortagne>\u00a0hmm  \n11:47\u00a0<+tmortagne>\u00a0actually looks like there is an issue with tests  \n11:47\u00a0<+tmortagne>\u00a03.2 test have never been built either  \n11:47\u00a0<+tmortagne>\u00a0yep look like dependencies are wrong  \n11:47\u00a0<+tmortagne>\u00a0fixing them  \n11:49\u00a0<pomo>\u00a0sorry to interrupt, it seems to be a busy day to get some help, should I come back later? (thanks!)  \n11:49\u00a0<vmassol>\u00a0sdumitriu: you know how to check perf of indexes on oracle? I haven't researched it yet but I'm getting 6s to display home page on oracle (see also http://jira.xwiki.org/jira/browse/XWIKI-6683)  \n11:49\u00a0<@sdumitriu>\u00a0No idea  \n11:50\u00a0<vmassol>\u00a0pomo: what's your issue? The extension you mentioned isn't coded by any dev here  \n11:51\u00a0<pomo>\u00a0I have it working in a document, but i cannot figure out how to use it as a panel  \n11:51\u00a0<vmassol>\u00a0sdumitriu: when you modified the mapping for Oracle after updating to Hib 3.6.7, did you test anything on oracle?  \n11:51\u00a0<@sdumitriu>\u00a0Nope  \n11:51\u00a0<vmassol>\u00a0nice :)  \n11:52\u00a0<vmassol>\u00a0at least that explains a few things  \n11:52\u00a0<vmassol>\u00a0I was wondering how it could have been broken so badly  \n11:52\u00a0<vmassol>\u00a0pomo: it doesn't seem to be made to be used in a panel  \n11:52\u00a0<vmassol>\u00a0you want a horizontal menu displayed within a panel?  \n11:53\u00a0<+mflorea>\u00a0tmortagne: is there enough free disk space on agent-5?  \n11:53\u00a0<vmassol>\u00a0ah my bad  \n11:53\u00a0<vmassol>\u00a0I see \"It can be inserted in a xwiki document or in a panel.\"  \n11:53\u00a0<vmassol>\u00a0(had missed it)  \n11:53\u00a0<vmassol>\u00a0pomo: I don't know  \n11:54\u00a0<vmassol>\u00a0never used this extension  \n11:54\u00a0<pomo>\u00a0I want a configurable menu (vertical or horizontal) to appear in all the wiki documents (according to this link you had to add it as a panel https://localhost:8443/xwiki/bin/view/MenuCode/MenuWikiMacro)  \n11:54\u00a0<vmassol>\u00a0would need to debug it but I don't have time now  \n11:56\u00a0<+tmortagne>\u00a0mflorea: no idea  \n11:56\u00a0<+tmortagne>\u00a0vmassol: looks like you forgot to create the XEM 3.3 job  \n11:56\u00a0<vmassol>\u00a0tmortagne: yes you're right  \n11:57\u00a0<vmassol>\u00a0can you create it?  \n11:57\u00a0<+tmortagne>\u00a0vmassol: yes i'm on it  \n11:57\u00a0<vmassol>\u00a0hkx  \n11:57\u00a0<vmassol>\u00a0thx  \n11:58\u00a0<+sburjan>\u00a0vmassol: I'm out of the call. I will check Oracle on the latest 3.3 Snapshot  \n11:58\u00a0<vmassol>\u00a0sdumitriu: does this look good: https://skitch.com/e-vmassol/gx15g/object-browser ?  \n11:58\u00a0<+tmortagne>\u00a0vmassol: when you create test job you need to setup there dependencies, almost done fixing them  \n11:59\u00a0<vmassol>\u00a0tmortagne: hmm indeed  \n11:59\u00a0<vmassol>\u00a0it had deps on 3.2?  \n11:59\u00a0<vmassol>\u00a0(since I copied from 3.2)  \n12:00\u00a0<+tmortagne>\u00a0you need to change them anyway but 3.2 was wrong too  \n12:00\u00a0<+tmortagne>\u00a0i'm not fixing 3.2 since we are going to remove them right after the release  \n12:00\u00a0<vmassol>\u00a0ok  \n12:01\u00a0<+tmortagne>\u00a0who release the 3.2.1 btw ?  \n12:01\u00a0<@sdumitriu>\u00a0vmassol: Looks good to me  \n12:01\u00a0<@sdumitriu>\u00a0There are a few indexes missing in all database types, but that's known  \n12:03\u00a0<+mflorea>\u00a0tmortagne: I checked and there seems to be enough space. The size of the /tmp partition is not very big, only 3GB (if I understand it correctly) so maybe that's the issue. Afaik GWT requires a log of tmp space while compiling  \n12:03\u00a0<vmassol>\u00a0select parameters0\\_.eventId as eventId32\\_0\\_, parameters0\\_.value as value0\\_, parameters0\\_.name as name0\\_ from activitystream\\_events\\_params parameters0\\_ where parameters0\\_.eventId=:1  \n12:03\u00a0<vmassol>\u00a0executed 53412 times  \n12:04\u00a0<vmassol>\u00a0I probably loaded the home page about 10 times  \n12:04\u00a0<vmassol>\u00a0that's a lot of executions  \n12:04\u00a0<vmassol>\u00a0takes 0.94s to execute  \n12:04\u00a0<+tmortagne>\u00a0mflorea: is there a difference with other agents ?  \n12:04\u00a0<+mflorea>\u00a0let me check  \n12:04\u00a0<+tmortagne>\u00a0if you have a minimum size we can ask Alex to allocate it on agent-5  \n12:05\u00a0<+mflorea>\u00a0but maybe because the job runs only on agent-5  \n12:05\u00a0<+tmortagne>\u00a0we should probably check agent-6 too  \n12:05\u00a0<vmassol>\u00a0ouch\u2026 7626 times for one load of the home page  \n12:06\u00a0<vmassol>\u00a0the 0.94s must be for the total exec time as otherwise it doesn't make sense  \n12:06\u00a0<vmassol>\u00a0(it's now 1.06s)  \n12:07\u00a0<+tmortagne>\u00a0mflorea: looks like there is no dedicated partition to /tmp on agent-1  \n12:07\u00a0<+tmortagne>\u00a0and / is not very big aither  \n12:07\u00a0<+mflorea>\u00a0the /tmp partition has the same size on agent-6 but it's less used: 2% compared with 11% on agent-5  \n12:07\u00a0<+tmortagne>\u00a03.6G available on / on agent-1  \n12:08\u00a0<+tmortagne>\u00a0but maybe it's enough as a difference  \n12:08\u00a0<vmassol>\u00a0confirmed, 7626 executions for one load of the home page\u2026 that's just huge  \n12:08\u00a0<+tmortagne>\u00a0vmassol: with empty database ?  \n12:08\u00a0<vmassol>\u00a0no with default XE XAR  \n12:09\u00a0<+tmortagne>\u00a0ok so really only load of the home page without migration on the DB  \n12:09\u00a0<vmassol>\u00a0(with oracle I have a nice console showing me the top SQL queries)  \n12:09\u00a0<vmassol>\u00a0yes  \n12:09\u00a0<+tmortagne>\u00a0indeed that's more that huge...  \n12:09\u00a0<vmassol>\u00a0that's not the only request for AS  \n12:09\u00a0<vmassol>\u00a0but that's the one that is the most executed  \n12:10\u00a0<+tmortagne>\u00a0mflorea: you think we should try increase the size of /tmp to the the size of / on agent-1 ?  \n12:11\u00a0<vmassol>\u00a0it still looks slwoer on oracle than on other dbs  \n12:12\u00a0<+mflorea>\u00a0tmortagne: now /tmp is 3.14GB on agent-5, so I'm not sure 3.6GB will make a different. I'm not even sure the /tmp size is the issue. I can't find useful information on the web, still searching  \n12:13\u00a0<+tmortagne>\u00a0mflorea: anyway I asked to have as many as agent-1, at least we we be sure it's not that  \n12:13\u00a0<+mflorea>\u00a0ok  \n12:13\u00a0<+mflorea>\u00a0let's see if it fixes the problem  \n12:22\u00a0<vmassol>\u00a0Denis: is http://jira.xwiki.org/jira/browse/XWIKI-4396 the issue you're trying to resolve? If so could you mark it a duplicate of your issue (or vice-versa)  \n12:24\u00a0<+tmortagne>\u00a0vmassol: there is a \"relates to\" link already, Denis is trying to reduce the collision but what he's doing will not totally prevent it  \n12:25\u00a0<+tmortagne>\u00a0so XWIKI-4396 will still be true  \n12:25\u00a0<+Denis>\u00a0vmassol: I was just trying to said what tmortagne just said :)  \n12:25\u00a0<vmassol>\u00a0ok...  \n12:25\u00a0<vmassol>\u00a0we should clean up our jira open issues  \n12:25\u00a0<vmassol>\u00a0I'm sure we have some dups  \n12:30\u00a0<vmassol>\u00a0jvelociter: can you tell me how I can test http://jira.xwiki.org/jira/browse/XWIKI-4208 easily?  \n12:31\u00a0<+jvelociter>\u00a0vmassol: have a live table with a doc.content column ?  \n12:31\u00a0<+jvelociter>\u00a0I think  \n12:32\u00a0<vmassol>\u00a0jvelociter: do we have one in default XE XAR?  \n12:32\u00a0<+jvelociter>\u00a0no  \n12:32\u00a0<+jvelociter>\u00a0I guess I had the issue with XWiki reader  \n12:32\u00a0<+jvelociter>\u00a0I don't recall to be honest  \n12:32\u00a0<+jvelociter>\u00a0well, august 2009, no that was not xwiki reader  \n12:32\u00a0<vmassol>\u00a0:)  \n12:33\u00a0<vmassol>\u00a0hm doc.content doesn't seem to have any effect  \n12:34\u00a0<vmassol>\u00a0I modified XWiki/Tableview  \n12:34\u00a0<vmassol>\u00a0to add a doc.content coulnm  \n12:34\u00a0<vmassol>\u00a0but it comes up empty  \n12:35\u00a0<vmassol>\u00a0jvelociter: I don't see any doc.content here http://extensions.xwiki.org/xwiki/bin/view/Extension/Livetable+Macro  \n12:36\u00a0<vmassol>\u00a0ah works  \n12:36\u00a0<vmassol>\u00a0I used \"content\"  \n12:37\u00a0<vmassol>\u00a0it's fun, I get rendered content in the content column now  \n12:37\u00a0<vmassol>\u00a0seems to work well though  \n12:37\u00a0<vmassol>\u00a0jvelociter: should I get errors somewhere?  \n12:38\u00a0<vmassol>\u00a0for some doc I get displayed content and for some others I get something empty displayed  \n12:39\u00a0<+jvelociter>\u00a0TBH I don't recall what my issue was  \n12:39\u00a0<+jvelociter>\u00a0nor where I've seen it  \n12:40\u00a0<+jvelociter>\u00a0but does the filtering work ?  \n12:40\u00a0<vmassol>\u00a0filtering on content?  \n12:40\u00a0<vmassol>\u00a0oh  \n12:40\u00a0<vmassol>\u00a0didn't chekc that :)  \n12:40\u00a0<+jvelociter>\u00a0i.e if you type a word from a document content, do you so only the document that match ?  \n12:41\u00a0<vmassol>\u00a0actually  \n12:41\u00a0<vmassol>\u00a0I don't even see the content displayed  \n12:41\u00a0<vmassol>\u00a0in most cases  \n12:41\u00a0<vmassol>\u00a0just created a doc with my content  \n12:41\u00a0<vmassol>\u00a0and the content column is empty  \n12:41\u00a0<vmassol>\u00a0I'll report this  \n12:48\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* rbeab01d\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/test/java/com/xpn/xwiki/internal/XWikiStubContextInitializerTest.java :\u000f Fix test - http://git.io/4A2z4g  \n12:48\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* rf956785\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/test/java/com/xpn/xwiki/internal/XWikiStubContextInitializerTest.java :\u000f Fix test(cherry picked from commit beab01ddbf0888e7b85e3fb5d6b55434c4e266ef) - http://git.io/5w2kcQ  \n12:48\u00a0<+tmortagne>\u00a0csrf test is a real \u00e2in on linux, 385.085s this time..  \n12:48\u00a0<+tmortagne>\u00a0s/\u00e2in/pain/  \n13:01\u00a0<pomo>\u00a0has left #xwiki  \n13:06\u00a0<+jvelociter>\u00a0FYI I found out what's wrong with the tree view / restlet upgrade  \n13:07\u00a0<+jvelociter>\u00a0we are hitting this bug from restlet JAX-RS extension : http://restlet.tigris.org/issues/show\\_bug.cgi?id=730  \n13:07\u00a0<+jvelociter>\u00a0I have a patch on the tree view that simplifies the accept headers sent to the REST api  \n13:07\u00a0<+jvelociter>\u00a0until they fix the issue on their side  \n13:13\u00a0<CIA-115>\u00a0Vincent Massol\u000f master\u000f \\* r3438077\u000f \u000f/ (2 files):\u000f Improve logs + fixed some wording + fixed wrong class when logging - http://git.io/O4AsGQ  \n13:16\u00a0<CIA-115>\u00a0Vincent Massol\u000f master\u000f \\* r5616500\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/stats/impl/xwiki/VisitStatsStoreItem.java :\u000f typo - http://git.io/P17z-w  \n13:19\u00a0<vmassol>\u00a0hmmm  \n13:19\u00a0<vmassol>\u00a0I see:  \n13:19\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<!-- Before XWiki 2.2M2 this column was always containing the \"internal\" string to tell the storage  \n13:19\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0implementation Stats objects were special. Starting with XWiki 2.2M2 the check is now on whether the class  \n13:19\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name is empty (\"\") or null. Thus this column can now contain both \"internal\" (old stats) and \"\"  \n13:19\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0(new stats) -->  \n13:19\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<property name=\"className\" type=\"string\" column=\"XWV\\_CLASSNAME\" not-null=\"true\" length=\"255\" />  \n13:19\u00a0<vmassol>\u00a0but since the column has not-null=true I don't see how the comment would work...  \n13:19\u00a0<vmassol>\u00a0(on oracle)  \n13:20\u00a0<CIA-115>\u00a0Eduard Moraru\u000f master\u000f \\* r4ebb7df\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-ui/src/main/resources/WorkspaceManager/Install.xml :\u000f Fixed minor issues with the Install page. - http://git.io/lGcKqQ  \n13:20\u00a0<CIA-115>\u00a0Eduard Moraru\u000f stable-3.3.x\u000f \\* rab98eb1\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-ui/src/main/resources/WorkspaceManager/Install.xml :\u000f Fixed minor issues with the Install page. ...  \n13:20\u00a0<@sdumitriu>\u00a0vmassol: I don't understand that comment either  \n13:20\u00a0<vmassol>\u00a0I had put it  \n13:20\u00a0<vmassol>\u00a0because we're compring \"internal\"  \n13:21\u00a0<vmassol>\u00a0but I don't see it works on oracle  \n13:21\u00a0<vmassol>\u00a0since \"\" is null  \n13:21\u00a0<+tmortagne>\u00a0vmassol: I doubt the comment has been written taking mysql into account  \n13:21\u00a0<vmassol>\u00a0so for oracle we should remove the not null constraint IMO  \n13:21\u00a0<+tmortagne>\u00a0s/mysql/oracle/  \n13:21\u00a0<vmassol>\u00a0yep that was in the main hbm file  \n13:21\u00a0<vmassol>\u00a0and probably copied over  \n13:21\u00a0<vmassol>\u00a0to the oracle one  \n13:21\u00a0<vmassol>\u00a0without changing the not-null  \n13:21\u00a0<vmassol>\u00a0checking code to see if we still check on \"internal\"  \n13:22\u00a0<vmassol>\u00a0yes we still use it  \n13:22\u00a0<vmassol>\u00a0so I'll just remove the not-null constraint  \n13:22\u00a0<vmassol>\u00a0ok?  \n13:23\u00a0<vmassol>\u00a0(sdumitriu)  \n13:24\u00a0<@sdumitriu>\u00a0OK for me  \n13:24\u00a0<vmassol>\u00a0what I don't know though  \n13:24\u00a0<vmassol>\u00a0is if we'll correctly map it to an empty string when we load it  \n13:26\u00a0<vmassol>\u00a0it'll work  \n13:26\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (getXClassReference() != null) {  \n13:26\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0xClassAsString = this.localEntityReferenceSerializer.serialize(getXClassReference());  \n13:26\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0} else {  \n13:26\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0xClassAsString = \"\";  \n13:26\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \n13:26\u00a0<vmassol>\u00a0:)  \n13:26\u00a0<vmassol>\u00a0doing it  \n13:26\u00a0<vmassol>\u00a0testing on oracle 10g now  \n13:31\u00a0<xwikibot>\u00a0has joined #xwiki  \n13:32\u00a0<mflorea>\u00a0has quit  \n13:34\u00a0<vmassol>\u00a0sdumitriu: hmm for the Documentstats table we don't have the not null contraint in xwiki.hbm.xml either  \n13:35\u00a0<vmassol>\u00a0should I remove that contraint in the main hbm file too or only on the oracle mapping file?  \n13:35\u00a0<vmassol>\u00a0I'd say in all  \n13:35\u00a0<vmassol>\u00a0wdyt?  \n13:37\u00a0<vmassol>\u00a0doing for all  \n13:37\u00a0<vmassol>\u00a0(for consistency)  \n13:37\u00a0<vmassol>\u00a0(especially since we handle null in the code)  \n13:40\u00a0<@sdumitriu>\u00a0+1 all  \n13:40\u00a0<vmassol>\u00a0k  \n13:40\u00a0<CIA-115>\u00a0Vincent Massol\u000f master\u000f \\* r32468c9\u000f \u000f/ (5 files):\u000f XWIKI-6368: Exception \"inconsistent datatypes\" on VisitStats in Oracle 10g ...  \n13:41\u00a0<CIA-115>\u00a0Vincent Massol\u000f stable-3.3.x\u000f \\* r31b72da\u000f \u000f/ (5 files):\u000f XWIKI-6368: Exception \"inconsistent datatypes\" on VisitStats in Oracle 10g ...  \n13:42\u00a0<CIA-115>\u00a0Vincent Massol\u000f stable-3.2.x\u000f \\* rae7e332\u000f \u000f/ (5 files):\u000f XWIKI-6368: Exception \"inconsistent datatypes\" on VisitStats in Oracle 10g ...  \n13:43\u00a0<vmassol>\u00a0ok so I don't know any important open oracle issue right now  \n13:44\u00a0<vmassol>\u00a0maybe this one http://jira.xwiki.org/jira/browse/XWIKI-7032  \n13:44\u00a0<vmassol>\u00a0haven't tested it  \n13:44\u00a0<vmassol>\u00a0Enygma`/tmortagne: should I be able to install workspaces app in my XE?  \n13:45\u00a0<vmassol>\u00a0(after a restart for virtual=1)  \n13:45\u00a0<+tmortagne>\u00a0creating wiki on oracle used to work  \n13:45\u00a0<vmassol>\u00a0actually I'll see virtual = 1 before I try to install it  \n13:45\u00a0<vmassol>\u00a0s/see/set/  \n13:45\u00a0<vmassol>\u00a0let's test this!  \n13:45\u00a0<vmassol>\u00a0:)  \n13:45\u00a0<vmassol>\u00a0if it works we're good  \n13:45\u00a0<+Enygma`>\u00a0don`t forget usepath=1 if you`re on XE  \n13:45\u00a0<vmassol>\u00a0it's not hte default?  \n13:45\u00a0<+tmortagne>\u00a0(but could not confirm anything about workspaces)  \n13:45\u00a0<+Enygma`>\u00a0it's default for XEM  \n13:46\u00a0<vmassol>\u00a0oh ok  \n13:46\u00a0<vmassol>\u00a0thanks  \n13:46\u00a0<vmassol>\u00a0should be default for XE too  \n13:46\u00a0<vmassol>\u00a0Iwhy not?  \n13:48\u00a0<sdumitriu>\u00a0has quit  \n13:48\u00a0<vmassol>\u00a0Enygma`: you change usepath to 1 for the default recently right?  \n13:48\u00a0<vmassol>\u00a0why didn't you do it for XE?  \n13:48\u00a0<vmassol>\u00a0could you do it?  \n13:49\u00a0<sdumitriu>\u00a0has joined #xwiki  \n13:49\u00a0<+tmortagne>\u00a0vmassol: the vote was just about XEM  \n13:49\u00a0<vmassol>\u00a0but it's the same  \n13:49\u00a0<vmassol>\u00a0I don't think it was for XEM actually  \n13:49\u00a0<vmassol>\u00a0I think it was for the virtual mode  \n13:50\u00a0<vmassol>\u00a0and incorrectly sent as \"xem\"  \n13:50\u00a0<+tmortagne>\u00a0not really, setting something about multiwiki does not make much sens in XE build, unless you want to change the default on platform  \n13:50\u00a0<vmassol>\u00a0the argument proposed  \n13:50\u00a0<vmassol>\u00a0by eddy  \n13:50\u00a0<vmassol>\u00a0make sense for XE as well as for XEM  \n13:50\u00a0<vmassol>\u00a0they make sense for the virtual mode of XE  \n13:50\u00a0<vmassol>\u00a0I'd for evenr further  \n13:50\u00a0<vmassol>\u00a0right now it's completely unconsistent  \n13:51\u00a0<+tmortagne>\u00a0vmassol: you have \"XEM\" in the title of the mail so yes it was about XEM  \n13:51\u00a0<+Enygma`>\u00a0vmassol: the vote was for XEM  \n13:51\u00a0<vmassol>\u00a0let's not play with words tmortagne :)  \n13:51\u00a0<+tmortagne>\u00a0vmassol: i'm not  \n13:51\u00a0<vmassol>\u00a0ok I'm ?1 to release  \n13:51\u00a0<vmassol>\u00a0:)  \n13:51\u00a0<vmassol>\u00a0done  \n13:51\u00a0<+Enygma`>\u00a0if we want to do it for XE as well, then we might as well do it for platform  \n13:51\u00a0<vmassol>\u00a0tada  \n13:51\u00a0<+tmortagne>\u00a0Enygma`: was just interested in XEM when he sent a vote  \n13:51\u00a0<vmassol>\u00a0right now it's plain unconsisteny  \n13:51\u00a0<vmassol>\u00a0I'd have been -1  \n13:51\u00a0<+Enygma`>\u00a0since it's value is hardcoded into platform as default of 0  \n13:51\u00a0<+tmortagne>\u00a0I'm just eaxplining to you why it has been done only for XEM  \n13:51\u00a0<vmassol>\u00a0if I knew it was only for XEM  \n13:52\u00a0<vmassol>\u00a0we were consistent before  \n13:52\u00a0<vmassol>\u00a0and we've now broken this consistency  \n13:52\u00a0<+Enygma`>\u00a0vmassol: don`t exagerate :)  \n13:52\u00a0<vmassol>\u00a0I don't see how that could be good  \n13:53\u00a0<vmassol>\u00a0Enygma`: show me the doc that explains that XE is by default on usepath=0 and XEM is on usepath=1 on xwiki.org?  \n13:53\u00a0<+Enygma`>\u00a0to make an overall default of 1 you have to make changes in platform too... since there are a lot of  \n13:53\u00a0<+Enygma`>\u00a0if (\"1\".equals(Param(\"xwiki.virtual.usepath\", \"0\"))  \n13:53\u00a0<+Enygma`>\u00a0in the java code  \n13:53\u00a0<vmassol>\u00a0(with the explanation as to why)  \n13:53\u00a0<+Enygma`>\u00a0usepath has no value to XE  \n13:53\u00a0<vmassol>\u00a0XEM is supposed to be as close to XE as possible  \n13:53\u00a0<+Enygma`>\u00a0while to XEM it has  \n13:54\u00a0<vmassol>\u00a0Enygma`: not true  \n13:54\u00a0<vmassol>\u00a0not true at all  \n13:54\u00a0<+Enygma`>\u00a0it's just an xwiki.cfg thing for XEM  \n13:54\u00a0<vmassol>\u00a0the virtual mode and thus the usepath feature is on platform  \n13:54\u00a0<+Enygma`>\u00a0it can be for XE as well  \n13:54\u00a0<+Enygma`>\u00a0but then platform would be out of synch  \n13:54\u00a0<vmassol>\u00a0it's notin XE and not iun XEM  \n13:54\u00a0<+Enygma`>\u00a0virtual has value for XE  \n13:54\u00a0<+Enygma`>\u00a0usepath has not (until you add the wikiManager plugin)  \n13:55\u00a0<vmassol>\u00a0in any case if we set a value for usepath in XE  \n13:55\u00a0<+tmortagne>\u00a0we don't  \n13:55\u00a0<vmassol>\u00a0then I really don't see why we would set a different value than for XEM  \n13:55\u00a0<vmassol>\u00a0right now I have a XE  \n13:55\u00a0<+tmortagne>\u00a0that's the thing XE does not care abbout usepath so it does not set it  \n13:55\u00a0<vmassol>\u00a0and I see in the xwiki.Cfg file:  \n13:55\u00a0<evalica>\u00a0has quit  \n13:55\u00a0<vmassol>\u00a0xwiki.virtual.usepath=0  \n13:55\u00a0<+Enygma`>\u00a0as tmortagne said... we don`t se t a value for XE... it`s a commented default of 0  \n13:55\u00a0<vmassol>\u00a0and it's uncommented  \n13:55\u00a0<vmassol>\u00a0let me recheck that  \n13:55\u00a0<+tmortagne>\u00a0it's not supposed to be uncommented  \n13:56\u00a0<vmassol>\u00a0maybe I uncommented it  \n13:56\u00a0<vmassol>\u00a0:)  \n13:56\u00a0<+tmortagne>\u00a0if it is it's a bug  \n13:56\u00a0<+Enygma`>\u00a0it should be commented  \n13:56\u00a0<vmassol>\u00a0but I don't think I did  \n13:56\u00a0<+tmortagne>\u00a0Enygma` specifically wrote some velocity in the xwiki.cfg vm to make sure it's commented when not setted  \n13:57\u00a0<+Enygma`>\u00a0I need to double check that I did not actually set it as well and left that velocity check for the case when it is not set  \n13:57\u00a0<+tmortagne>\u00a0Enygma`: looks like you left <xwiki.cfg.virtual.usepath>0</xwiki.cfg.virtual.usepath> in XE pom.xml  \n13:58\u00a0<vmassol>\u00a0confirmed  \n13:58\u00a0<+Enygma`>\u00a0well yes... since I`ve made it configurable... (to be able to set it with XEM)  \n13:58\u00a0<evalica>\u00a0has joined #xwiki  \n13:58\u00a0<vmassol>\u00a0it's set to 0 by default on XE  \n13:58\u00a0<+tmortagne>\u00a0Enygma`: in XE  \n13:58\u00a0<+tmortagne>\u00a0it shoud not be set  \n13:58\u00a0<+Enygma`>\u00a0yes  \n13:58\u00a0<+tmortagne>\u00a0that' why it's not commented  \n13:58\u00a0<vmassol>\u00a0I'm fine if it's set  \n13:58\u00a0<+tmortagne>\u00a0you forgot to remove it  \n13:58\u00a0<vmassol>\u00a0but it should have the same value as on XEM  \n13:59\u00a0<vmassol>\u00a0also I really don't see why we don't change it in platform  \n13:59\u00a0<vmassol>\u00a0the argument provided by Enygma` are good for platofmr  \n13:59\u00a0<vmassol>\u00a0actually leaving it 0 in platform unvalidates arguments provided for XEM IMO ;)  \n14:00\u00a0<vmassol>\u00a0the idea AFAIU was to default to what is simpler for users  \n14:00\u00a0<vmassol>\u00a0so that it works OOB  \n14:00\u00a0<vmassol>\u00a0this is true for platform too  \n14:00\u00a0<+Enygma`>\u00a0vmassol: I can not contradict you on that  \n14:00\u00a0<vmassol>\u00a0and if we don't do it for platform it means we have some counter arguments, no? :)  \n14:01\u00a0<vmassol>\u00a0since past XE/XEM versions have it set, it's a safe change too I think  \n14:01\u00a0<vmassol>\u00a0anyway  \n14:01\u00a0<+tmortagne>\u00a0vmassol: actually no they don't have it set  \n14:01\u00a0<vmassol>\u00a0no?  \n14:01\u00a0<vmassol>\u00a0it was added recently?  \n14:01\u00a0<+tmortagne>\u00a0yes  \n14:01\u00a0<+tmortagne>\u00a0it was not configurable before because it was not needed  \n14:01\u00a0<+tmortagne>\u00a0since XEM was using the default  \n14:02\u00a0<+tmortagne>\u00a0it was added by Enygma`  \n14:02\u00a0<+Enygma`>\u00a0tmortagne: can we avoid setting a xwiki.cfg.vm property if that property is backed up by a configurable maven property?  \n14:02\u00a0<vmassol>\u00a0ok so here 's what I propose Enygma`. since we're about to release 3.3 final, maybe this should be done in 3.4M1 and 3.3.1, wdyt?  \n14:03\u00a0<+tmortagne>\u00a0Enygma`: yes by not setting the maven property  \n14:03\u00a0<+tmortagne>\u00a0that's what I just told you  \n14:03\u00a0<vmassol>\u00a0I'd also propose that you finish this work Enygma` by making it consistent across the board (platform, xe, xem, etc)  \n14:03\u00a0<+Enygma`>\u00a0then this <xwikiCfgVirtualUsepath>${xwiki.cfg.virtual.usepath}</xwikiCfgVirtualUsepath> will resultin an unset xwikiCfgVirtualUsepath ?  \n14:03\u00a0<vmassol>\u00a0(in 3.4M1/3.3.1)  \n14:03\u00a0<+tmortagne>\u00a0anyway if the platform default it changed it's going to be much simplier...  \n14:03\u00a0<vmassol>\u00a0yep  \n14:05\u00a0<vmassol>\u00a0hmm I'll make http://extensions.xwiki.org/xwiki/bin/view/Extension/Workspace+Application installable with EM to test it, ok?  \n14:05\u00a0<+tmortagne>\u00a0but that need another vote  \n14:05\u00a0<vmassol>\u00a0I hope RC1 is ok  \n14:06\u00a0<vmassol>\u00a0hmm not as nice as 3.3 snapshot actually  \n14:06\u00a0<vmassol>\u00a0I won't have the new check  \n14:06\u00a0<vmassol>\u00a0so can I install a locally installed extension?  \n14:06\u00a0<vmassol>\u00a0sdumitriu: ?  \n14:06\u00a0<vmassol>\u00a0(I mean from my local maven repo)  \n14:06\u00a0<+tmortagne>\u00a0vmassol: I think the new UI only work with search  \n14:06\u00a0<@sdumitriu>\u00a0vmassol: WDYM?  \n14:06\u00a0<+tmortagne>\u00a0but if I remember well sdumitriu said it was possible with an URL  \n14:07\u00a0<vmassol>\u00a0sdumitriu: I used to be able to add my local repo as an EM repo  \n14:07\u00a0<vmassol>\u00a0and install an extension from there  \n14:07\u00a0<+tmortagne>\u00a0sdumitriu: he means installing from a maven repository  \n14:07\u00a0<@sdumitriu>\u00a0Should be enough to specify the right id + version  \n14:07\u00a0<@sdumitriu>\u00a0There should be an Advanced link in the Add extensions page  \n14:07\u00a0<+tmortagne>\u00a0ok that new then cool  \n14:07\u00a0<vmassol>\u00a0I've seen a new \"advanced search\"  \n14:08\u00a0<vmassol>\u00a0but I don't want to do a search  \n14:08\u00a0<vmassol>\u00a0is that just a wording issue?  \n14:10\u00a0<+Enygma`>\u00a0vmassol: IMO, we should leave XEM's usepath=1 as it is now and as it was voted on the community and do the rest of the work for 3.4 (which is very short anyway). I will comment back usepath=0 on XE so that nothing is changed there.  \n14:10\u00a0<@sdumitriu>\u00a0vmassol: Do you have any suggestions for a better name?  \n14:10\u00a0<vmassol>\u00a0Enygma`: 3.4M1 is fine for me as I mentioned above  \n14:11\u00a0<vmassol>\u00a0sdumitriu: \"Manual Install\"?  \n14:11\u00a0<vmassol>\u00a0what does it do?  \n14:11\u00a0<@sdumitriu>\u00a0Specify ID and version, as you requested  \n14:11\u00a0<vmassol>\u00a0it looks in all specified repo for a match?  \n14:11\u00a0<vmassol>\u00a0without searching  \n14:11\u00a0<vmassol>\u00a0?  \n14:12\u00a0<vmassol>\u00a0\"Advanced Install\" maybe then  \n14:15\u00a0<vmassol>\u00a0indeed  \n14:15\u00a0<vmassol>\u00a0virtual=1 is completely broken on oracle  \n14:15\u00a0<vmassol>\u00a0:(  \n14:15\u00a0<vmassol>\u00a0Wrapped Exception: Error number 3001 in 3: Cannot load class com.xpn.xwiki.store.migration.hibernate.XWikiHibernateMigrationManager from param xwiki.store.migration.manager.class  \n14:15\u00a0<vmassol>\u00a0Wrapped Exception: Error number 3301 in 3: Exception while switching to database [xwiki]  \n14:15\u00a0<vmassol>\u00a0Wrapped Exception: ORA-01435: user does not exist  \n14:16\u00a0<vmassol>\u00a0(it doesn't start)  \n14:18\u00a0<+sburjan>\u00a0really ? :(  \n14:18\u00a0<+tmortagne>\u00a0vmassol: is you database \"xwiki\" on oracle ?  \n14:18\u00a0<vmassol>\u00a0yep  \n14:18\u00a0<+sburjan>\u00a0hmmmm  \n14:19\u00a0<+tmortagne>\u00a0because \"user does not exist\" looks more like configuration issue than XWiki one  \n14:19\u00a0<+sburjan>\u00a0maybe in XEM's case there is a need for elevated privileges, so user xwiki can create other users  \n14:19\u00a0<vmassol>\u00a0indeed  \n14:19\u00a0<vmassol>\u00a0wait just noticed my xwiki oracle user didn't have DBA priv  \n14:19\u00a0<vmassol>\u00a0(but I doubt it's that)  \n14:19\u00a0<+sburjan>\u00a0I thing grant al does not grand SYS privileges  \n14:20\u00a0<+sburjan>\u00a0Ludovic said that grant all is stronger than grant DBA, but BDA is within the dabase, we need to grant the \"ANY\" clause AFAIK  \n14:20\u00a0<vmassol>\u00a0same  \n14:20\u00a0<+sburjan>\u00a0so user has access outside also  \n14:21\u00a0<vmassol>\u00a0is there an issue iwth uppercase/lowercase of users on oracle?  \n14:21\u00a0<vmassol>\u00a0I created my user in lower cases \"xwiki\"  \n14:21\u00a0<+sburjan>\u00a0me too  \n14:22\u00a0<vmassol>\u00a0but the oracle tools show it in uppercase  \n14:22\u00a0<+sburjan>\u00a0I know  \n14:22\u00a0<+sburjan>\u00a0I am not testin XE + oracle  \n14:23\u00a0<vmassol>\u00a0debuggingin setDatabase now  \n14:24\u00a0<vmassol>\u00a0so the statement executed is correct: alter session set current\\_schema = \"xwiki\"  \n14:24\u00a0<mflorea>\u00a0has joined #xwiki  \n14:25\u00a0<vmassol>\u00a0I don't know if it's correct but that's what the code execute  \n14:27\u00a0<vmassol>\u00a0the user is here: https://skitch.com/e-vmassol/gxuuc/sql-commands  \n14:28\u00a0<+sburjan>\u00a0are we sure XEM worked on Oracle ?  \n14:28\u00a0<vmassol>\u00a0I think so  \n14:28\u00a0<vmassol>\u00a0s/I think so/yes/  \n14:28\u00a0<vmassol>\u00a0at some point it did for sure  \n14:29\u00a0<vmassol>\u00a0this statement was coded specifically for Oracle  \n14:29\u00a0<+sburjan>\u00a0I only see the XWIKI user, which is the main wiki. IMO there should be another user with the subwiki you created  \n14:29\u00a0<vmassol>\u00a0setDB is not generic, it depends on the DB  \n14:29\u00a0<vmassol>\u00a0I didn't create any subwiki  \n14:29\u00a0<vmassol>\u00a0XE doesn't start  \n14:29\u00a0<+sburjan>\u00a0oh, I was thinking it dies when you create a subwiki  \n14:29\u00a0<vmassol>\u00a0since it tries to set the databse to the current wiki  \n14:29\u00a0<vmassol>\u00a0which is \"xwiki\"  \n14:30\u00a0<+sburjan>\u00a0well XE doesn't use the same code ?  \n14:30\u00a0<vmassol>\u00a0maybe you cannot run this statement if you're already on the right schema\u2026 but that would be strange  \n14:30\u00a0<vmassol>\u00a0let me try to run it in pl/sql  \n14:30\u00a0<vmassol>\u00a0hmm same error  \n14:31\u00a0<vmassol>\u00a0ahah  \n14:31\u00a0<vmassol>\u00a0found it  \n14:31\u00a0<vmassol>\u00a0alter session set current\\_schema = \"XWIKI\";  \n14:31\u00a0<vmassol>\u00a0works  \n14:31\u00a0<vmassol>\u00a0but  \n14:31\u00a0<vmassol>\u00a0alter session set current\\_schema = \"xwiki\";  \n14:31\u00a0<vmassol>\u00a0fails  \n14:31\u00a0<vmassol>\u00a0:)  \n14:31\u00a0<+sburjan>\u00a0so it's a case sensitivity  \n14:32\u00a0<+sburjan>\u00a0If so, I'd say that you can't force Oracle to behave like that - in such a case, you should use string functions (for example, UPPER or LOWER).  \n14:32\u00a0<vmassol>\u00a0maybe it's the oracle webapp tool  \n14:32\u00a0<vmassol>\u00a0I created the user with it  \n14:32\u00a0<vmassol>\u00a0and maybe it's that tool that makes it uppercase  \n14:32\u00a0<+sburjan>\u00a0yes, maybe  \n14:32\u00a0<vmassol>\u00a0and not the oracle DB itself  \n14:33\u00a0<vmassol>\u00a0going to drop the user and recreate using SQL  \n14:35\u00a0<+sburjan>\u00a0yepp.. better this way  \n14:36\u00a0<+sburjan>\u00a0ok, XE + oracle successfully started. Importing XAR to check for console errors  \n14:36\u00a0<vmassol>\u00a0hmm same problem  \n14:38\u00a0<+sburjan>\u00a0ok, did someone change the code from platform in the import section ? I don't have the + icons to expand all the pages, everything is expanded by default  \n14:38\u00a0<+tmortagne>\u00a0sburjan: I had the + icons yesterday  \n14:39\u00a0<+tmortagne>\u00a0and I don't see why this would have been changed  \n14:39\u00a0<+tmortagne>\u00a0try refreshing your browser cache maybe  \n14:40\u00a0<+sburjan>\u00a0After XE import, I have them.  \n14:40\u00a0<+sburjan>\u00a0ok, have oracle console errors.. creating JIRA  \n14:41\u00a0<+sburjan>\u00a0but they are about ssx and jsx from the skin, it doesn;t make any sense ..  \n14:45\u00a0<vmassol>\u00a0sburjan: found somrthing  \n14:46\u00a0<vmassol>\u00a0create user xwiki identified by xwiki; will create a XWIKI user  \n14:46\u00a0<vmassol>\u00a0while:  \n14:46\u00a0<vmassol>\u00a0create user \"xwiki\" identified by xwiki;  \n14:46\u00a0<vmassol>\u00a0will create a \"xwiki\" user  \n14:46\u00a0<+sburjan>\u00a0odd  \n14:46\u00a0<+sburjan>\u00a0because in my hibernate file I have \"xwiki\" and when I create I use your first statement, and I get no conflicts  \n14:47\u00a0<vmassol>\u00a0actually  \n14:47\u00a0<vmassol>\u00a0if I create a user like this:  \n14:47\u00a0<vmassol>\u00a0create user \"xwiki\" identified by xwiki;  \n14:48\u00a0<vmassol>\u00a0it shows in lowercase in the oracle admin tools  \n14:48\u00a0<vmassol>\u00a0BUT  \n14:48\u00a0<vmassol>\u00a0xwiki fails to start  \n14:48\u00a0<vmassol>\u00a0\"Could not create a DBCP pool. There is an error in the hibernate configuration file, please review it.\"  \n14:48\u00a0<+sburjan>\u00a0odd. It should say that the credentials are not bood  \n14:48\u00a0<+sburjan>\u00a0\\*good  \n14:48\u00a0<vmassol>\u00a0wait  \n14:48\u00a0<vmassol>\u00a0maybe it's a right issue  \n14:48\u00a0<vmassol>\u00a0checking something  \n14:49\u00a0<+sburjan>\u00a0When we figure this out, I have found something also  \n14:49\u00a0<vmassol>\u00a0I don't get it  \n14:50\u00a0<+sburjan>\u00a0I create with: create user xwiki identified by xwiki; and it works. In my hibernate file I have xwiki/xwiki credentials. all lowercase  \n14:50\u00a0<+sburjan>\u00a0and no quotes  \n14:51\u00a0<+sburjan>\u00a0at least it works for XE  \n14:51\u00a0<vmassol>\u00a0try this:  \n14:51\u00a0<vmassol>\u00a0edit xwiki.cfg and set virtual=1  \n14:51\u00a0<+sburjan>\u00a0not  \n14:51\u00a0<vmassol>\u00a0(it's set to 0 by default)  \n14:51\u00a0<+sburjan>\u00a0now  \n14:52\u00a0<+sburjan>\u00a0xwiki.virutual=1 \u00a0or xwiki.virtual.usepath=1 ?  \n14:52\u00a0<vmassol>\u00a0virtual=1  \n14:53\u00a0<vmassol>\u00a0xwiki.virtual=1  \n14:53\u00a0<+sburjan>\u00a0b00ting container  \n14:54\u00a0<+sburjan>\u00a0yepp, ORA-01435: user does not exist  \n14:54\u00a0<vmassol>\u00a0ok so at least it's not just me  \n14:55\u00a0<+sburjan>\u00a0http://ora-01435.ora-code.com/  \n14:55\u00a0<vmassol>\u00a0I know what it is  \n14:55\u00a0<vmassol>\u00a0it's just that the user is created in uppercase  \n14:55\u00a0<+sburjan>\u00a0let me see how can I find existing user names from the console  \n14:55\u00a0<vmassol>\u00a0I've show n you above  \n14:55\u00a0<vmassol>\u00a0it's like this:  \n14:56\u00a0<vmassol>\u00a0select \\* from all\\_users:  \n14:56\u00a0<vmassol>\u00a0s/:/;/  \n14:56\u00a0<vmassol>\u00a0when I use quotes to create the user it does show in lowercase  \n14:57\u00a0<vmassol>\u00a0but for some reason I cannot connect to it, my guess is that hibernate makes it uppercase  \n14:57\u00a0<+sburjan>\u00a0yes, I see \\_all\\_ other users are in uppercase.  \n14:57\u00a0<+sburjan>\u00a0ok wait.. thinking  \n14:58\u00a0<+sburjan>\u00a0so it seems that piece of code executes only when virtual=1  \n14:58\u00a0<+sburjan>\u00a0maybe we could add something in the oracle code we have withing xwiki  \n14:58\u00a0<+sburjan>\u00a0The uppercase function in the query  \n14:58\u00a0<vmassol>\u00a0no hack without explanation  \n14:59\u00a0<vmassol>\u00a0the only change I can think of from before  \n14:59\u00a0<vmassol>\u00a0is the use of org.hibernate.dialect.Oracle10gDialect  \n14:59\u00a0<vmassol>\u00a0we were using Oracle9gDialect before I think  \n14:59\u00a0<+sburjan>\u00a0that I don't know  \n15:00\u00a0<+sburjan>\u00a0but I know that OracleDialect is very deprecated  \n15:01\u00a0<vmassol>\u00a0hmm maybe user name is lowercase but schema is uppercase  \n15:02\u00a0<+sburjan>\u00a0http://www.orafaq.com/forum/t/69380/2/ check last post  \n15:02\u00a0<CIA-115>\u00a0Eduard Moraru\u000f master\u000f \\* r560dfca\u000f \u000f/ pom.xml :\u000f Made sure that the xwiki.virtual.usepath property is commented (set to the default of 0) in xwiki.cfg for XE, after one of my previous commits uncommented it. - http://git.io/Rs4ycQ  \n15:02\u00a0<CIA-115>\u00a0Eduard Moraru\u000f stable-3.3.x\u000f \\* r3420792\u000f \u000f/ pom.xml :\u000f Made sure that the xwiki.virtual.usepath property is commented (set to the default of 0) in xwiki.cfg for XE, after one of my previous commits uncommented it. ...  \n15:02\u00a0<vmassol>\u00a0last post is about passwords  \n15:03\u00a0<+sburjan>\u00a0http://www.orafaq.com/forum/mv/msg/69380/392789/0/#msg\\_392789  \n15:04\u00a0<+tmortagne>\u00a0Enygma`: does it work ? was not 100% sure but since variables are resolved when used in maven I tough it should be ok.  \n15:05\u00a0<vmassol>\u00a0sburjan: yes that's what I've found  \n15:05\u00a0<vmassol>\u00a0oracle treats names as uppercase when not enclosed in quotes  \n15:05\u00a0<+Enygma`>\u00a0tmortagne: yes, it seems to work. I`ve build xe war and the contained xwiki.cfg has usepath commented  \n15:05\u00a0<+tmortagne>\u00a0ok cool then  \n15:06\u00a0<+sburjan>\u00a0yes, but how come then it is still able to auth with xwiki/xwiki from hibernate config  \n15:06\u00a0<vmassol>\u00a0because you don't put quotes  \n15:06\u00a0<vmassol>\u00a0so it's converted to uppercase  \n15:07\u00a0<vmassol>\u00a0but  \n15:07\u00a0<vmassol>\u00a0apparently  \n15:07\u00a0<vmassol>\u00a0no but  \n15:07\u00a0<vmassol>\u00a0I know  \n15:07\u00a0<vmassol>\u00a0hold on  \n15:07\u00a0<vmassol>\u00a0here: \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String escapedSchema = dialect.openQuote() + schema.replace(closeQuote, closeQuote + closeQuote) + closeQuote;  \n15:07\u00a0<vmassol>\u00a0we add quotes  \n15:08\u00a0<vmassol>\u00a0when we steDatabase  \n15:08\u00a0<+sburjan>\u00a0I see  \n15:08\u00a0<vmassol>\u00a0this is what is causing the problem  \n15:08\u00a0<vmassol>\u00a0tmortagne: do you remmeber why you did this?  \n15:08\u00a0<+sburjan>\u00a0so username from hibernate.xml is \"quoted\" by this line  \n15:08\u00a0<vmassol>\u00a0yes  \n15:08\u00a0<vmassol>\u00a0which is not correct  \n15:08\u00a0<+tmortagne>\u00a0vmassol: I didn't, this existing before I even start working on XWiki ;)  \n15:08\u00a0<+tmortagne>\u00a0existed  \n15:08\u00a0<vmassol>\u00a0tmortagne: I don't even understand how this could have ever worked  \n15:09\u00a0<+sburjan>\u00a0still odd, because select \\* from all\\_users; report XWIKI .. even if it's quoted by this line of code  \n15:09\u00a0<+tmortagne>\u00a0not sure I understand what is wrong in the fact that this code properly protect the name of the database  \n15:10\u00a0<vmassol>\u00a0tmortagne: everywhere else we don't quote the user  \n15:10\u00a0<+tmortagne>\u00a0where ?  \n15:10\u00a0<vmassol>\u00a0In 2 places  \n15:10\u00a0<+sburjan>\u00a0vmassol: so this code above is \\_only\\_ for oracle ?  \n15:10\u00a0<vmassol>\u00a01) when we create it. That's up to the user but our docs says: create user xwiki identified by xwiki;  \n15:10\u00a0<vmassol>\u00a0this creats a XWIKI user  \n15:11\u00a0<vmassol>\u00a02) in hibernate.cfg.xml  \n15:11\u00a0<vmassol>\u00a0we use:  \n15:11\u00a0<vmassol>\u00a0<property name=\"connection.username\">xwiki</property>  \n15:11\u00a0<vmassol>\u00a0and hibernate doesn't quote it apparently  \n15:11\u00a0<vmassol>\u00a0maybe that's what has changed  \n15:11\u00a0<vmassol>\u00a0maybe it used to quote it  \n15:11\u00a0<+tmortagne>\u00a0so there is only one place in the code, not sure we can trust what's in the document is what has always been done  \n15:11\u00a0<+tmortagne>\u00a0and it's possible hibernate files changed  \n15:12\u00a0<+tmortagne>\u00a0or hibernate itself yes  \n15:12\u00a0<vmassol>\u00a0because if I create a user in lowercase  \n15:12\u00a0<vmassol>\u00a0then hibernate doesn't connect  \n15:12\u00a0<+tmortagne>\u00a0IMO it woud make more sens that hibernate quote it  \n15:12\u00a0<+tmortagne>\u00a0you give it something it should protect it  \n15:12\u00a0<vmassol>\u00a0googling a bit in that direction  \n15:12\u00a0<vmassol>\u00a0yes  \n15:13\u00a0<vmassol>\u00a0http://stackoverflow.com/questions/6526937/hibernate-username-password-case-sensitivity-with-oracle11g  \n15:13\u00a0<+sburjan>\u00a0http://stackoverflow.com/questions/3364835/automatic-reserved-word-escaping-for-hibernate-tables-and-columns  \n15:13\u00a0<vmassol>\u00a0\"The connection doesn't work because the username in the database is lowercase admin and hibernate converts it to uppercase ADMIN.\"  \n15:14\u00a0<vmassol>\u00a0\"The username is passed to the ConnectionPool by the Properties attribute:  \n15:14\u00a0<vmassol>\u00a0Properties=\"user=scott;portNumber=1521;SID=MYDB;serverName=myserver\"  \n15:14\u00a0<vmassol>\u00a0So, it's true that the username is not quoted. I tried putting single  \n15:14\u00a0<vmassol>\u00a0quotes around the username, but then Oracle gives an error.\"  \n15:16\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* rbaaef63\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/xwikiexplorer/xwikiexplorer.js :\u000f [minor] Fix whitespaces - http://git.io/NJZgbA  \n15:16\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* red7aab1\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/xwikiexplorer/xwikiexplorer.js :\u000f XWIKI-6632 Upgrade to Restlet 2.0.x ...  \n15:16\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* ra6f9ff3\u000f \u000f/ (22 files in 15 dirs):\u000f Merge branch 'master' of github.com:xwiki/xwiki-platform - http://git.io/E-t3DA  \n15:18\u00a0<+sburjan>\u00a0vmassol: oddly, I am able to conntect from SQL+ with xwiki and XWIKI. they both work  \n15:18\u00a0<vmassol>\u00a0if you don't put quotes it's normal  \n15:18\u00a0<vmassol>\u00a0oracle converts to uppercase without quotes  \n15:29\u00a0<vmassol>\u00a0cannot find something authoritative on the topic  \n15:30\u00a0<+sburjan>\u00a0that would be odd to put quotes when logging from CLI  \n15:30\u00a0<+sburjan>\u00a0username:\"xwiki\"  \n15:30\u00a0<vmassol>\u00a0yep  \n15:30\u00a0<vmassol>\u00a0it wouldn't work  \n15:30\u00a0<vmassol>\u00a0since they'd be escaped  \n15:30\u00a0<vmassol>\u00a0btw I tried it with hibernate user  \n15:31\u00a0<+sburjan>\u00a0yes, doesn't work  \n15:31\u00a0<vmassol>\u00a0and it didn't work ;)  \n15:31\u00a0<vmassol>\u00a0maybe \\\" would work  \n15:32\u00a0<+sburjan>\u00a0so I still don't understand it. I create the user with : create user xwiki identified with xwiki. but from SQL+ I am able to login using XWIKI and xwiki also. So from this behavior I'd say there is no case sensitivity on users  \n15:32\u00a0<vmassol>\u00a0there is  \n15:32\u00a0<vmassol>\u00a0definitely  \n15:32\u00a0<vmassol>\u00a0what don't your understand?  \n15:32\u00a0<vmassol>\u00a0it's all logical  \n15:32\u00a0<vmassol>\u00a0again the rule is:  \n15:32\u00a0<vmassol>\u00a0if you don't put quotes then oracle converts to uppercase  \n15:33\u00a0<vmassol>\u00a0if you put quotes then oracles uses what you provide as i  \n15:33\u00a0<vmassol>\u00a0\\*is  \n15:33\u00a0<+sburjan>\u00a0because I am able to login with xwiki and XWIKI. I do these only from CLI, so nothing related to XWiki Product  \n15:33\u00a0<vmassol>\u00a0this is an oracle beghacior  \n15:33\u00a0<vmassol>\u00a0not a xwiki one  \n15:33\u00a0<vmassol>\u00a0not even a hibernate one  \n15:34\u00a0<vmassol>\u00a0only thing we need to look for is if there's a way to specify a lowercase user as the oracle user in hibernate.cfg.xml  \n15:34\u00a0<vmassol>\u00a0so far I don't think it's possible  \n15:35\u00a0<vmassol>\u00a0accroding to what I pasted above hibernate just pass this information without quotes:  \n15:35\u00a0<vmassol>\u00a0Properties=\"user=scott;portNumber=1521;SID=MYDB;serverName=myserver\"  \n15:35\u00a0<vmassol>\u00a0since there's no quotes, oracle converts to uppercase  \n15:36\u00a0<+sburjan>\u00a0then oracle, using from SQL+ also converts xwiki to XWIKI  \n15:36\u00a0<+sburjan>\u00a0thus allowing me to login  \n15:36\u00a0<vmassol>\u00a0again  \n15:36\u00a0<vmassol>\u00a0oracle always convert to uppercase  \n15:36\u00a0<+tmortagne>\u00a0sburjan: yes  \n15:36\u00a0<vmassol>\u00a0if you don't use quotes  \n15:37\u00a0<+sburjan>\u00a0ok, now I understand  \n15:37\u00a0<+tmortagne>\u00a0sburjan: hibernate does pretty much the same thing you do technically  \n15:37\u00a0<+sburjan>\u00a0so the fix would be to remove the quotes we add.. so it goes to uppercase  \n15:37\u00a0<vmassol>\u00a0checking who added the quotes in our code  \n15:37\u00a0<vmassol>\u00a0found this: http://lists.xwiki.org/pipermail/devs/2011-February/021819.html  \n15:38\u00a0<vmassol>\u00a0so apparently there was no quites initially  \n15:39\u00a0<vmassol>\u00a0hah  \n15:39\u00a0<vmassol>\u00a0it's thomas  \n15:39\u00a0<vmassol>\u00a0who suggested it  \n15:39\u00a0<vmassol>\u00a0:)  \n15:39\u00a0<vmassol>\u00a0http://lists.xwiki.org/pipermail/devs/2011-February/021804.html  \n15:39\u00a0<vmassol>\u00a0hehe  \n15:39\u00a0<vmassol>\u00a0only in 2.7  \n15:39\u00a0<vmassol>\u00a0that's why it was working before  \n15:39\u00a0<+tmortagne>\u00a0its not a Oracle specific modification, it's a general improvement to make sure the database name was the proper one  \n15:39\u00a0<vmassol>\u00a0I guess it's been failing since then  \n15:40\u00a0<+sburjan>\u00a0so no XEM + Oracle since 2.7 ?  \n15:41\u00a0<+jvelociter>\u00a0evalica: Hi. When you have 5 minutes, can you checkout my mail on devs named \"Why h1 in panel headers ?\" - thanks  \n15:42\u00a0<vmassol>\u00a0apparenetly thomas did this in http://jira.xwiki.org/browse/XWIKI-5976  \n15:42\u00a0<+evalica>\u00a0jvelociter: k  \n15:42\u00a0<vmassol>\u00a0thomas so you did it in the end! :)  \n15:42\u00a0<vmassol>\u00a0you said you didn't touch this  \n15:42\u00a0<+sburjan>\u00a0:)  \n15:43\u00a0<+tmortagne>\u00a0vmassol: I said I did not do the Oracle thing in general, can't remember that I did a general protection of the database name that should have been done from the start  \n15:44\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/commit/035c89cfce9712eab0f4682c5a62896ceab0c3ab  \n15:44\u00a0<+tmortagne>\u00a0not escaping the database name when you can does not sound like something good to me  \n15:44\u00a0<vmassol>\u00a0ok so are we ok to test for oracle and not put quotes if it's oracle ATM?  \n15:44\u00a0<vmassol>\u00a0(with some nice comments obviously)  \n15:45\u00a0<vmassol>\u00a0I'll report a jira issue on hibernate too  \n15:45\u00a0<+tmortagne>\u00a0vmassol: the modification in https://github.com/xwiki/xwiki-platform/commit/035c89cfce9712eab0f4682c5a62896ceab0c3ab is to use dialect.openQuote() instead of \"\\\"\"  \n15:45\u00a0<+tmortagne>\u00a0so it's the same  \n15:45\u00a0<vmassol>\u00a0you want the previous commit?  \n15:45\u00a0<vmassol>\u00a0let me give it to you  \n15:45\u00a0<+tmortagne>\u00a0you already pasted it I think  \n15:45\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/commit/82495230c0ac960fac5868c1a447ddfc790bb377  \n15:46\u00a0<vmassol>\u00a0anyway it doesn't matter who did it  \n15:46\u00a0<vmassol>\u00a0are you ok with my proposed fix?  \n15:47\u00a0<vmassol>\u00a0it's not perfect but \u00a0we need to have something that works for 3.3  \n15:47\u00a0<vmassol>\u00a0I can't think of anything else right now  \n15:47\u00a0<+tmortagne>\u00a0well from Oracle point of view this code is valid, there is no way to make hibernate quote it ?  \n15:47\u00a0<vmassol>\u00a0since user using lowercase cannot connect to oracle using hivenrate anyway  \n15:47\u00a0<vmassol>\u00a0...  \n15:47\u00a0<vmassol>\u00a0tmortagne: couldn't find it  \n15:48\u00a0<+tmortagne>\u00a0then lets put a big comment and remove the escaping  \n15:48\u00a0<vmassol>\u00a0I think the reason I cannot find anything about it is because oracle users are used to not use quotes  \n15:48\u00a0<vmassol>\u00a0ok doing it  \n15:50\u00a0<+tmortagne>\u00a0note that it means that the database name need to not be some meaningful keyword then  \n15:50\u00a0<vmassol>\u00a0yep  \n15:50\u00a0<+tmortagne>\u00a0vmassol: did you see http://stackoverflow.com/questions/6526937/hibernate-username-password-case-sensitivity-with-oracle11g ?  \n15:51\u00a0<+tmortagne>\u00a0looks like behavior changed in Orcacle 11  \n15:51\u00a0<+tmortagne>\u00a0Oracle  \n15:51\u00a0<vmassol>\u00a0yep I pasted this link  \n15:51\u00a0<vmassol>\u00a0but it chaged only  \n15:51\u00a0<vmassol>\u00a0for passwords  \n15:51\u00a0<+tmortagne>\u00a0ok  \n15:51\u00a0<+tmortagne>\u00a0so the first comment is wrong then  \n15:51\u00a0<+tmortagne>\u00a0since it's talking about both username and password  \n15:52\u00a0<vmassol>\u00a0hmm  \n15:52\u00a0<vmassol>\u00a0sburjan is on 11g  \n15:52\u00a0<vmassol>\u00a0so yes it's wrong  \n15:52\u00a0<vmassol>\u00a0I'm on 10g  \n15:52\u00a0<+tmortagne>\u00a0the second comment seems to said that the first one is wrong indeed  \n15:52\u00a0<vmassol>\u00a0we see the same beahvior  \n15:52\u00a0<+sburjan>\u00a0yes, I'm on 11g  \n15:54\u00a0<+sburjan>\u00a0I am getting a lot of console messages [WARN] about the priority of loading components, is that normal ? I'm on classical zip (jetty + hsqldb)  \n15:55\u00a0<+tmortagne>\u00a0sburjan: which components ?  \n15:55\u00a0<+tmortagne>\u00a0all of them ?  \n15:56\u00a0<+sburjan>\u00a0I get a lot of these: 2011-12-12 16:53:50,934 [main] WARN \u00a0.c.a.ComponentAnnotationLoader - Component [org.xwiki.rendering.internal.transformation.macro.MacroTransformation] which implements [role = [org.xwiki.rendering.transformation.Transformation] hint = [macro]] tried to overwrite component [org.xwiki.rendering.internal.transformation.macro.MacroTransformation].However, no action was taken since both components have the same priority level of [{}].  \n15:56\u00a0<+sburjan>\u00a0more than 100 of these  \n15:56\u00a0<+sburjan>\u00a0rough estimate  \n16:03\u00a0<vmassol>\u00a0sdumitriu:  \n16:03\u00a0<@sdumitriu>\u00a0vmassol:  \n16:03\u00a0<vmassol>\u00a0I need about 1 hour to fix this  \n16:03\u00a0<@sdumitriu>\u00a0OK  \n16:03\u00a0<+sburjan>\u00a0tmortagne: and I get these before first access and before migration component to kick in  \n16:03\u00a0<+tmortagne>\u00a0sburjan: looks like duplicated jars  \n16:03\u00a0<+tmortagne>\u00a0you probably have 3.3-SNAPSHOT and 3.3-<timestamp> jars  \n16:04\u00a0<+sburjan>\u00a0yes.. deleted all, unpacking  \n16:05\u00a0<+tmortagne>\u00a0sburjan: it's possible it's like that in the package itself  \n16:06\u00a0<+sburjan>\u00a0we'll find out in 3 minutes  \n16:06\u00a0<+tmortagne>\u00a0depending on if XE or XEM has been buld on the same agent that the latest platform/commons \u00a0you can get SNAPSHOT or <timestamped>  \n16:07\u00a0<+tmortagne>\u00a0that a general issue with snapshot dependencies and maven and it's not very easy to get rid of it unless the war plugin added some way to force one or the other since the last time I checked  \n16:09\u00a0<+sburjan>\u00a0works now  \n16:09\u00a0<+sburjan>\u00a0I think I forgot to delete the snapshot dir on my disk  \n16:09\u00a0<+tmortagne>\u00a0ok  \n16:10\u00a0<+tmortagne>\u00a0but it's still possible to get that directly in the package so don't be suprise ;)  \n16:11\u00a0<+sburjan>\u00a0ok : good to know  \n16:11\u00a0<+sburjan>\u00a0ok, starting to test a little bit the EM  \n16:11\u00a0<+sburjan>\u00a0since we have some commits since RC1, I will ask you here tmortagne if I have issues or things that I don't understand  \n16:11\u00a0<+sburjan>\u00a0and I'm sure I'll have :)  \n16:12\u00a0<+tmortagne>\u00a0sburjan: better ask sdumitriu if it's pure UI questions but if you get error or thing in the log sure  \n16:13\u00a0<+sburjan>\u00a0do we have the default repo enabled by default ?  \n16:13\u00a0<+tmortagne>\u00a0by default we have xwiki nexus repository and extensions.xwiki.org  \n16:13\u00a0<+sburjan>\u00a0looking in the xwiki.proprieties atthe bottom of the file, and they are all commented out  \n16:13\u00a0<+tmortagne>\u00a0since M2 I think or RC1 not sure  \n16:13\u00a0<+tmortagne>\u00a0xwiki.properties is for overriding default  \n16:14\u00a0<+tmortagne>\u00a0the default is in the code  \n16:14\u00a0<+sburjan>\u00a0ok  \n16:15\u00a0<+tmortagne>\u00a0but the doc in xwiki.properties should indicate all the default repositories, forgot to update it  \n16:15\u00a0<+sburjan>\u00a0:)  \n16:17\u00a0<+sburjan>\u00a0something happend with the php extensions ? Also, I am unable to find ruby not in the repo link nor search doesn;t find it  \n16:19\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r687aa6e\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.properties.vm :\u000f Update documentation - http://git.io/zIR6Dw  \n16:19\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* ree3dcd2\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.properties.vm :\u000f Update documentation(cherry picked from commit f310050b3d0708f3e78fd782ea94571bc332ef7b) - http://git.io/yBpFhg  \n16:19\u00a0<+tmortagne>\u00a0sburjan: you can only search valid extension on extension.xwiki.org  \n16:19\u00a0<+tmortagne>\u00a0you will need to use advanced UI to install extensions like ruby or php because they don't provide a link to download them on extensions.xwiki.org  \n16:20\u00a0<+tmortagne>\u00a0like most of the XWiki Team extensions  \n16:20\u00a0<+sburjan>\u00a0understood  \n16:28\u00a0<CIA-115>\u00a0Vincent Massol\u000f master\u000f \\* r2413e0a\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/XWikiHibernateBaseStore.java :\u000f XWIKI-7278: Virtual mode fails on Oracle with \"ORA-01435: user does not exist\" - http://git.io/jN8LcA  \n16:29\u00a0<CIA-115>\u00a0Vincent Massol\u000f stable-3.3.x\u000f \\* rb9ccff9\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/XWikiHibernateBaseStore.java :\u000f XWIKI-7278: Virtual mode fails on Oracle with \"ORA-01435: user does not exist\" - http://git.io/9Z08HQ  \n16:30\u00a0<CIA-115>\u00a0Vincent Massol\u000f stable-3.2.x\u000f \\* r263373a\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/XWikiHibernateBaseStore.java :\u000f XWIKI-7278: Virtual mode fails on Oracle with \"ORA-01435: user does not exist\" - http://git.io/tNevpA  \n16:31\u00a0<vmassol>\u00a0ok XWIKI-7278 fixed  \n16:31\u00a0<vmassol>\u00a0now continuing check to see if I can install wiki manager app on my XE and thus create subwikis  \n16:36\u00a0<+sburjan>\u00a0vmassol: could you commit the fix also in 3.2-stable >  \n16:36\u00a0<vmassol>\u00a0sburjan: done  \n16:37\u00a0<+sburjan>\u00a0cool  \n16:39\u00a0<vmassol>\u00a0sdumitriu: tmortagne is fixing a bug I've found when trying to install the wiki manager app  \n16:49\u00a0<CIA-115>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* r22853df\u000f \u000f/ (4 files in 4 dirs):\u000f Remove now useless <scope>provided</scope> and fix one that was used ...  \n16:50\u00a0<CIA-115>\u00a0tmortagne\u000f master\u000f \\* r31c2b27\u000f \u000f/ (4 files in 4 dirs):\u000f Remove now useless <scope>provided</scope> and fix one that was used ...  \n16:50\u00a0<+tmortagne>\u00a0done  \n16:55\u00a0<+sburjan>\u00a0wouldn't be nice if EM would also empty the recycle bin when deleting an extension ?  \n16:56\u00a0<+sburjan>\u00a0I mean, is there any reason not to do this ?  \n17:03\u00a0<+tmortagne>\u00a0sburjan: \"recycle bin\" ?  \n17:04\u00a0<+sburjan>\u00a0deleted pages  \n17:04\u00a0<+sburjan>\u00a0possibility of restore  \n17:04\u00a0<+tmortagne>\u00a0sburjan: didn't took much risk in the first version  \n17:05\u00a0<+tmortagne>\u00a0it's one line to change if we decide to not put them in recycle bin  \n17:07\u00a0<vmassol>\u00a0xmlrpc tests failing: http://ci.xwiki.org/job/xwiki-manager-test-xmlrpc/  \n17:08\u00a0<vmassol>\u00a0jvelociter: seems to be caused by the commit \"XWIKI-6632 Upgrade to Restlet 2.0.x (http://ci.xwiki.org/job/xwiki-platform/1192/changes#detail1)\"  \n17:09\u00a0<vmassol>\u00a0since the build was fine before and fialing after that commit  \n17:09\u00a0<vmassol>\u00a0(http://ci.xwiki.org/job/xwiki-platform/1192/changes#detail1)  \n17:09\u00a0<vmassol>\u00a0jvelociter: could you check it out?  \n17:10\u00a0<+jvelociter>\u00a0how can xmlrcp tests fails because of the REST api ^^ ?  \n17:10\u00a0<+jvelociter>\u00a0ok  \n17:10\u00a0<+jvelociter>\u00a0checking  \n17:10\u00a0<vmassol>\u00a0I have no idea  \n17:10\u00a0<vmassol>\u00a0:)  \n17:10\u00a0<vmassol>\u00a0wait  \n17:10\u00a0<vmassol>\u00a0just checked  \n17:10\u00a0<vmassol>\u00a0it's a jvm segault  \n17:10\u00a0<vmassol>\u00a0you're lucky ;)  \n17:11\u00a0<+jvelociter>\u00a0hehe  \n17:11\u00a0<vmassol>\u00a0the selenium tests are still failing though: http://ci.xwiki.org/job/xwiki-enterprise-test-selenium/  \n17:11\u00a0<vmassol>\u00a0only one test though: http://ci.xwiki.org/job/xwiki-enterprise-test-selenium/org.xwiki.enterprise$xwiki-enterprise-test-selenium/811/testReport/org.xwiki.test.selenium/AllDocsTest/testTreeViewSuggest/  \n17:11\u00a0<vmassol>\u00a0(jvelociter)  \n17:12\u00a0<+jvelociter>\u00a0ah  \n17:12\u00a0<+jvelociter>\u00a0missed that one  \n17:25\u00a0<vmassol>\u00a0sdumitriu: I've found another problem with the EM  \n17:25\u00a0<vmassol>\u00a0when trying to install the wiki manager app  \n17:25\u00a0<vmassol>\u00a0thomas said he can fix it but he's gone to get his daughter, he said he'll fix it after  \n17:47\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* rd588f48\u000f \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/xwikiexplorer/xwikiexplorer.js :\u000f XWIKI-6632 Upgrade to Restlet 2.0.x ...  \n17:50\u00a0<+sburjan>\u00a0I have installed IRC bot using the EM, and I get the livetable's columns not translated ... odd .. I know we fixed that  \n17:59\u00a0<vmassol>\u00a0sburjan: that's normal  \n18:03\u00a0<+sburjan>\u00a0is it normal to have org.xwiki.commons:xwiki-commons-test as a dependency when creating a maven-archetype component maven project ?  \n18:03\u00a0<vmassol>\u00a0it's a test dep  \n18:03\u00a0<vmassol>\u00a0and yes it's normal to be able to run the component tests  \n18:04\u00a0<+sburjan>\u00a0because I get something like: \u00a0testSayHello(org.mircea.HelloWorldTest): Failed to load class [javax/servlet/http/HttpServletRequest] required by a field of component class [com.xpn.xwiki.internal.DefaultXWikiStubContextProvider], hint [default], role [com.xpn.xwiki.util.XWikiStubContextProvider]  \n18:04\u00a0<+sburjan>\u00a0because it seems that javax.servlet is not in the dependencies of that  \n18:11\u00a0<vmassol>\u00a0hmm let me check  \n18:12\u00a0<vmassol>\u00a0what version are you using sburjan?  \n18:12\u00a0<vmassol>\u00a0I have a test  \n18:12\u00a0<vmassol>\u00a0so it shouldn't even be possible that it fails :)  \n18:12\u00a0<+sburjan>\u00a0all xwiki deps are 3.2 version  \n18:13\u00a0<vmassol>\u00a0what version of the archetype plugin  \n18:13\u00a0<vmassol>\u00a03.2?  \n18:13\u00a0<+sburjan>\u00a0just a sec  \n18:13\u00a0<+sburjan>\u00a03.3  \n18:13\u00a0<vmassol>\u00a0did you follow the tutorial on xwiki.org?  \n18:14\u00a0<+sburjan>\u00a0yes  \n18:14\u00a0<vmassol>\u00a0ok following it here  \n18:14\u00a0<+sburjan>\u00a0but I have changed from 3.3 to 3.2 because 3.3 is not out, and I didn't run :)  \n18:14\u00a0<vmassol>\u00a0it is out  \n18:14\u00a0<+sburjan>\u00a0I mean the archetype was created with 3.3, but in the pom.xml file, I have changed version to 3.2  \n18:15\u00a0<+sburjan>\u00a0mvn archetype:generate -DarchetypeArtifactId=xwiki-commons-component-archetype -DarchetypeGroupId=org.xwiki.commons -DarchetypeVersion=3.3  \n18:15\u00a0<vmassol>\u00a0this doesn't exsit  \n18:16\u00a0<vmassol>\u00a03.3 is not out, but 3.3M1, M2, etc are out  \n18:16\u00a0<vmassol>\u00a0actually just M1 and M2 since I haven't pushed RC1 to central yet  \n18:16\u00a0<vmassol>\u00a0but you don't need to write that full line  \n18:16\u00a0<vmassol>\u00a0just tpye mvn archetype:generate  \n18:17\u00a0<vmassol>\u00a0oh I see, you got fooled because I put 3.3 in the doc  \n18:17\u00a0<+sburjan>\u00a0yes :)  \n18:17\u00a0<vmassol>\u00a0I put that to anticipate the releae  \n18:17\u00a0<+sburjan>\u00a0seems so  \n18:17\u00a0<vmassol>\u00a0and not have to change it again  \n18:17\u00a0<+sburjan>\u00a0well elave it like that :)  \n18:17\u00a0<vmassol>\u00a0it's an example  \n18:17\u00a0<vmassol>\u00a0I have put this:  \n18:17\u00a0<vmassol>\u00a0\"(update the version to use the version you wish to use)\"  \n18:18\u00a0<vmassol>\u00a0I put this exactly for that reason  \n18:19\u00a0<vmassol>\u00a0I have never tested archetype 3.3 with 3.2 deps but there's no reason it should work  \n18:19\u00a0<vmassol>\u00a0if it does it's pure luck  \n18:20\u00a0<vmassol>\u00a0we don't want to guarante this anyway  \n18:20\u00a0<+jvelociter>\u00a0cjdelisle: Hi. I wonder : is the XWiki.ConfigurableClass documented anywhere ?  \n18:20\u00a0<vmassol>\u00a0it's too much combinatorial work  \n18:20\u00a0<vmassol>\u00a0jvelociter: yes  \n18:20\u00a0<+jvelociter>\u00a0Each time I want to use it I struggle:/  \n18:20\u00a0<vmassol>\u00a0in the admin app  \n18:21\u00a0<+jvelociter>\u00a0but on XWiki.org ?  \n18:21\u00a0<vmassol>\u00a0!search administration application  \n18:21\u00a0<vmassol>\u00a0the first link  \n18:21\u00a0<+jvelociter>\u00a0if you type XWiki.ConfigurableClass on google, you only get public wiki pages  \n18:21\u00a0<+jvelociter>\u00a0not event xwiki.org  \n18:21\u00a0<vmassol>\u00a0ahah  \n18:21\u00a0<vmassol>\u00a0bad link  \n18:21\u00a0<vmassol>\u00a0seems I have a bug in the search feature  \n18:21\u00a0<+jvelociter>\u00a0ok so http://extensions.xwiki.org/xwiki/bin/view/Extension/Administration+Application  \n18:22\u00a0<+jvelociter>\u00a0found  \n18:22\u00a0<+sburjan>\u00a0this fails for some reasons: http://platform.xwiki.org/xwiki/bin/view/Main/XWikiSyntax  \n18:22\u00a0<vmassol>\u00a0ouch thanks sburjan for reporting it  \n18:23\u00a0<+jvelociter>\u00a0BTW I think it's bad that the custom configuration class object and the configurable class object are in the same document  \n18:23\u00a0<+jvelociter>\u00a0it makes upgradability difficults  \n18:23\u00a0<+jvelociter>\u00a0c.f. http://extensions.xwiki.org/xwiki/bin/view/Extension/Administration+Application#HMakingyourapplicationeasilyconfigurablewithConfigurableClass28SinceEnterprise2.3M129  \n18:25\u00a0<vmassol>\u00a0mm  \n18:28\u00a0<vmassol>\u00a0hmm $newdoc.getDocument() does't work  \n18:29\u00a0<vmassol>\u00a0I can't see why  \n18:30\u00a0<vmassol>\u00a0anyone has an idea?  \n18:33\u00a0<+sburjan>\u00a0tmortagne: after installing an Extension (ircbot in this case) , when searching again for ircbot, EM doesn;t see it as already installed. is this intended/ known ?  \n18:33\u00a0<@sdumitriu>\u00a0Known  \n18:34\u00a0<@sdumitriu>\u00a0Will fix in 3.4  \n18:34\u00a0<@sdumitriu>\u00a0You can create an issue for it, though, so it won't be forgotten  \n18:34\u00a0<vmassol>\u00a0I think I did already  \n18:34\u00a0<vmassol>\u00a0not quire  \n18:34\u00a0<vmassol>\u00a0quite  \n18:34\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-7247  \n18:35\u00a0<@sdumitriu>\u00a0Right  \n18:35\u00a0<vmassol>\u00a0I think sergiu changed the behavior after I created trhe issue  \n18:35\u00a0<@sdumitriu>\u00a0It's the same thing  \n18:35\u00a0<vmassol>\u00a0because they were listed before  \n18:35\u00a0<vmassol>\u00a0and apparently they're not listed anymore according to sburjan  \n18:35\u00a0<@sdumitriu>\u00a0Read again what sburjan said  \n18:36\u00a0<@sdumitriu>\u00a0They are listed  \n18:36\u00a0<vmassol>\u00a0ok so it's the same indeed  \n18:36\u00a0<@sdumitriu>\u00a0They are \"not listed as installed\"  \n18:37\u00a0<vmassol>\u00a0can't figure what's wrong ith http://platform.xwiki.org/xwiki/bin/view/Main/XWikiSyntax  \n18:37\u00a0<vmassol>\u00a0getDocument doesn't work but that stumps me  \n18:37\u00a0<vmassol>\u00a0this one: #set ($newdocprivate = $newdoc.getDocument())  \n18:37\u00a0<+sburjan>\u00a0ircbot is listed as installed in the \"Installed Extensions\" tab, but when I go to the first tab (\"Add Extensions\") and write ircbot, I get it as a search result, but the buttons are \"install\" and \"show details\"  \n18:37\u00a0<vmassol>\u00a0sburjan: see XWIKI-7247  \n18:38\u00a0<+sburjan>\u00a0vmassol: did you managed to make Oracle run on virtual=1 ?  \n18:38\u00a0<vmassol>\u00a0sburjan: yes  \n18:39\u00a0<+sburjan>\u00a0ok, cool  \n18:39\u00a0<vmassol>\u00a0I haven't tested a subwiki creation yet though  \n18:39\u00a0<vmassol>\u00a0trying  \n18:40\u00a0<+sburjan>\u00a0now, let's see if I can reproduce the oracle issue I had before. so the null stuff was because of the JDBC driver ? (the one you had this morning)  \n18:40\u00a0<vmassol>\u00a0works  \n18:40\u00a0<vmassol>\u00a0cool  \n18:48\u00a0<+sburjan>\u00a0ok, no more console errors with oracle ! cool  \n18:52\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* r04031c0\u000f \u000f/ xwiki-platform-core/xwiki-platform-administration/src/main/resources/XWiki/ConfigurableClassMacros.xml :\u000f XWIKI-7279 Fallback on section name when no translation key exists for a ...  \n18:53\u00a0<vmassol>\u00a0creating a subwiki based on a template fails  \n18:55\u00a0<+sburjan>\u00a0what template are you using ?  \n18:55\u00a0<+sburjan>\u00a0because the workspace template is not good for creating subwikis  \n18:55\u00a0<vmassol>\u00a0another subwiki I have created  \n18:55\u00a0<vmassol>\u00a0I'm not testing XEM  \n18:55\u00a0<vmassol>\u00a0I'm testing XE in virtual mode  \n18:55\u00a0<vmassol>\u00a0and with the wiki manager app installed  \n18:56\u00a0<vmassol>\u00a0I'm testing the farm use case basically  \n18:56\u00a0<+sburjan>\u00a0I see. so you built a farm from vanilla XE + other needs  \n18:56\u00a0<vmassol>\u00a0this is the new official way to get a farm  \n18:57\u00a0<vmassol>\u00a0since XEM is no longer about the farm use case  \n18:57\u00a0<+sburjan>\u00a0yepp. I never tested it that way  \n18:57\u00a0<vmassol>\u00a0XE + install wiki manager app + set virtual=1  \n18:57\u00a0<vmassol>\u00a0in any case XEM won't work better  \n18:57\u00a0<vmassol>\u00a0because it uses the exact same thing  \n18:58\u00a0<vmassol>\u00a0(it uses the wiki manager plugin)  \n19:12\u00a0<+jvelociter>\u00a0the admin app is becoming hard to maintain for someone how is new to the code...  \n19:12\u00a0<+jvelociter>\u00a0I spent more than 30 minutes to fix something I though would be very trivial  \n19:12\u00a0<+jvelociter>\u00a0IMO we should stop having apps made of a lot of velocity macros  \n19:13\u00a0<+jvelociter>\u00a0it makes the whole thing very intricate and quite hard to read  \n19:14\u00a0<+tmortagne>\u00a0vmassol, sdumitriu: I won't have time to fix the issue today but should be ok tomorrow, basically the issue is with jar which have a listener lister before its dependencies component in the same jar in the component.txt  \n19:14\u00a0<+tmortagne>\u00a0which iss the case with appmanager for example  \n19:15\u00a0<+tmortagne>\u00a0I plan to improve the install to support that  \n19:15\u00a0<@sdumitriu>\u00a0tmortagne: So should we wait for you to fix this before releasing 3.3?  \n19:15\u00a0<+tmortagne>\u00a0we could quickly put the listener at the end of the component.txt file for 3.3 to not block the release  \n19:15\u00a0<+tmortagne>\u00a0and improve the install in 3.3.1  \n19:16\u00a0<+tmortagne>\u00a0note that it does not stop the install, it \"just\" don't register the listener  \n19:18\u00a0<+tmortagne>\u00a0sdumitriu: WDYT ?  \n19:19\u00a0<@sdumitriu>\u00a0I don't really understand this, would it be usable like this?  \n19:20\u00a0<+tmortagne>\u00a0as I said the only issue is that it will not register a listener which is put before its dependencies in the component.txt so the listener itself will not exist but all the rest will be properly registered, it mostly depend if the listener is critical or not  \n19:20\u00a0<CIA-115>\u00a0Jerome Velociter\u000f master\u000f \\* r5a3201e\u000f \u000f/ xwiki-platform-core/xwiki-platform-administration/src/main/resources/XWiki/AdminSheet.xml :\u000f XWIKI-7279 Fallback on section name when no translation key exists for a ...  \n19:21\u00a0<+tmortagne>\u00a0and fixing appmanager itself take 2 seconds, just need to put the listener at the end of the component.txt  \n19:22\u00a0<+tmortagne>\u00a0which make sense from CM logic  \n19:22\u00a0<+tmortagne>\u00a0from EM point of view supporting this is more an improvement than a bugfix  \n19:22\u00a0<mbryant>\u00a0has joined #xwiki  \n19:23\u00a0<+tmortagne>\u00a0need to go, back in 20 min  \n19:23\u00a0<mbryant>\u00a0Hey guys, I am having a really rough issue and hoping you guys can help me through it  \n19:24\u00a0<mbryant>\u00a0I am pasting a stack trace into pastebin now, but it has to do with the event notifer somehow getting a null value somewhere along the way  \n19:24\u00a0<mflorea>\u00a0has quit  \n19:27\u00a0<mbryant>\u00a0http://pastebin.com/kqteEzqt here is the relevent stack trace  \n19:28\u00a0<sburjan>\u00a0has quit  \n19:33\u00a0<+tmortagne>\u00a0sdumitriu: hmm looks like it's actually more complex than that actually in appmanager case  \n19:33\u00a0<+tmortagne>\u00a0the listener is already the last thing in the component.txt  \n19:34\u00a0<+tmortagne>\u00a0will need time to reproduce and debug this  \n19:34\u00a0<@sdumitriu>\u00a0OK  \n19:34\u00a0<+tmortagne>\u00a0but it's still probably pretty specific to appmanager since that the first time someone report this and a lot of jars has been tested now  \n19:35\u00a0<+tmortagne>\u00a0can't tell you right now if it's a blocker for the release but I guess not, EM is still a bit young so I guess it's ok for 3.3  \n19:43\u00a0<vmassol>\u00a0well it's quite important for 3.3  \n19:43\u00a0<vmassol>\u00a0because it's with the wikimanager app/pliugin  \n19:43\u00a0<vmassol>\u00a0which we now need for the farm use case  \n19:43\u00a0<vmassol>\u00a0so it's in the main path for supporting the farm use case  \n19:44\u00a0<vmassol>\u00a0if it were any other component not really used it would be less important  \n19:46\u00a0<+tmortagne>\u00a0well does not prevent wikimanager to work but it's not automatically registering its translations  \n19:46\u00a0<vmassol>\u00a0well people are going to report issues when they see the error  \n19:46\u00a0<vmassol>\u00a0the only way out of it would be to document that it shouldn't be installed with the extension manager  \n19:46\u00a0<vmassol>\u00a0but then it makes it a lot more complex to setup  \n19:46\u00a0<vmassol>\u00a0that's less nice  \n19:47\u00a0<vmassol>\u00a0for me it depends how much time is required to fix it  \n19:47\u00a0<vmassol>\u00a0if it's half a day it's worth it IMO  \n19:47\u00a0<vmassol>\u00a0if it's 2 days, then maybe not  \n19:49\u00a0<vmassol>\u00a0so I suggest to wait tomorrow morning till tmortagne has finished evaluating what it takes to fix it before releasing wdyt?  \n19:49\u00a0<vmassol>\u00a0that will leave a bit of time to sdumitriu to fix the fialing extension ui tests  \n19:49\u00a0<@sdumitriu>\u00a0Working on that  \n19:50\u00a0<abusenius>\u00a0has joined #xwiki  \n19:51\u00a0<+tmortagne>\u00a0have to go, will look at it as soon as I can tomorrow morning  \n19:51\u00a0<vmassol>\u00a0there's also the subwiki template creation failing on oracle  \n19:51\u00a0<vmassol>\u00a0I'll try to look at it tomorrow morning too  \n19:51\u00a0<vmassol>\u00a0I'm not sure if I can fix it quickly though  \n19:51\u00a0<+tmortagne>\u00a0bye  \n19:51\u00a0<vmassol>\u00a0(since I have no clue ATM about the issue)  \n19:51\u00a0<vmassol>\u00a0bye tmortagne  \n19:52\u00a0<tmortagne>\u00a0has quit  \n19:54\u00a0<mbryant>\u00a0vmassol: i know your busy but do you have time to look at the error that we are running into  \n19:54\u00a0<evalica>\u00a0has quit  \n20:07\u00a0<@sdumitriu>\u00a0mbryant: Is there anything specific in your wiki that might cause this?  \n20:08\u00a0<@sdumitriu>\u00a0The place where this happens seems to be pretty common, we should have noticed it  \n20:09\u00a0<mbryant>\u00a0the pages are being generated via an automated process in java code, as a component, but this is the first time that we have ran into this type of error  \n20:15\u00a0<mbryant>\u00a0we set up a webservice that would take something like a help ticket, it takes that data and builds a page (we create a context) on start up, and use that to publish those pages. \u00a0the page itself saves, but the watcher spits out that stack trace. \u00a0IF we delete that page fully, and try to reinjest the same page, it will not save. \u00a0This was functionality that we have had before, and are trying to  \n20:15\u00a0<mbryant>\u00a0figure out what exactly is causing it, I didnt know if you had a suggestion on a place to look.  \n20:15\u00a0<lucaa>\u00a0has quit  \n20:18\u00a0<mbryant>\u00a0I have a feeling that the context is somehow getting lost, and ending up null, is there a time out, or some other status internally that would cause it to be dropped  \n20:18\u00a0<mbryant>\u00a0or become stale  \n20:55\u00a0<mflorea>\u00a0has joined #xwiki  \n21:27\u00a0<mbryant>\u00a0has quit  \n21:31\u00a0<pgmjsd>\u00a0has joined #xwiki  \n22:22\u00a0<vmassol>\u00a0has quit  \n22:47\u00a0<CIA-115>\u00a0Eduard Moraru\u000f master\u000f \\* r392cf07\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-template-features/src/main/resources/Panels/WorkspaceInformationPanel.xml :\u000f XWIKI-7283 : Improve the workspace panel - http://git.io/wFHm8A  \n22:56\u00a0<mflorea>\u00a0has quit  \n23:18\u00a0<CIA-115>\u00a0Eduard Moraru\u000f master\u000f \\* rd8a63f8\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-ui/src/main/resources/WorkspaceManager/CreateNewWorkspace.xml :\u000f XWIKI-7265 : UserDirectory lists Admin twice in created workspace - http://git.io/JAzP9g  \n23:18\u00a0<CIA-115>\u00a0Eduard Moraru\u000f stable-3.3.x\u000f \\* r4584f72\u000f \u000f/ xwiki-platform-core/xwiki-platform-workspace/xwiki-platform-workspace-ui/src/main/resources/WorkspaceManager/CreateNewWorkspace.xml :\u000f XWIKI-7265 : UserDirectory lists Admin twice in created workspace ...  \n23:26\u00a0<Enygma`1>\u00a0has joined #xwiki  \n23:26\u00a0<Enygma`>\u00a0has quit  \n23:26\u00a0<abusenius>\u00a0has quit  \n23:38\u00a0<Enygma`1>\u00a0has quit  \n\n"}