{"id": "dev:IRC.xwikiArchive20110913", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110913", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n01:09\u00a0<jvdrean>\u00a0has quit  \n05:01\u00a0<DrLou>\u00a0has quit  \n05:14\u00a0<DrLou>\u00a0has joined #xwiki  \n05:16\u00a0<DrLou>\u00a0has quit  \n07:01\u00a0<Denis2>\u00a0has joined #xwiki  \n07:03\u00a0<Denis>\u00a0has quit  \n07:18\u00a0<mflorea>\u00a0has joined #xwiki  \n07:25\u00a0<vmassol>\u00a0has joined #xwiki  \n07:42\u00a0<sdumitriu>\u00a0has quit  \n08:49\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:18\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:39\u00a0<sburjan>\u00a0has joined #xwiki  \n09:58\u00a0<arkub>\u00a0has joined #xwiki  \n10:00\u00a0<jvdrean>\u00a0has quit  \n10:08\u00a0<+sburjan>\u00a0good morning  \n10:14\u00a0<+sburjan>\u00a0tmortagne: around ?  \n10:14\u00a0<+tmortagne>\u00a0sburjan: yep  \n10:15\u00a0<+sburjan>\u00a0I am looking at http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/platform/applications/xwiki-application-annotations/  \n10:16\u00a0<+sburjan>\u00a0so I see several versions. My question is... theversion of annotations application we have bundled with XE is 1.9 ?  \n10:16\u00a0<+tmortagne>\u00a0that is pretty old, I doubt you will make it work properly  \n10:16\u00a0<+tmortagne>\u00a0everything has tthe same version now  \n10:16\u00a0<+tmortagne>\u00a0but you are not in the right place  \n10:17\u00a0<+sburjan>\u00a0well IRC app is in the same place  \n10:17\u00a0<+tmortagne>\u00a0and annotation application are bundled with XE anyway  \n10:17\u00a0<+sburjan>\u00a0so I sniffed around  \n10:17\u00a0<+sburjan>\u00a0yes, I know. BUt I can't explain who 1.12 version is newer than 1.9  \n10:17\u00a0<+sburjan>\u00a0\\*can't wxplain why  \n10:17\u00a0<+tmortagne>\u00a0sburjan: all platform module are directly in http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/platform/ now  \n10:17\u00a0<+tmortagne>\u00a0http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/platform/applications/ only contains old versions  \n10:18\u00a0<+sburjan>\u00a0I see  \n10:18\u00a0<+tmortagne>\u00a0before 3.0 basically  \n10:18\u00a0<+tmortagne>\u00a0looks at http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/platform/xwiki-platform-\\*  \n10:18\u00a0<+tmortagne>\u00a0everything else is ols stuff  \n10:19\u00a0<+sburjan>\u00a0so using org.xwiki.platform.applications:xwiki-application-ircbot with EM it's from old structure  \n10:19\u00a0<+sburjan>\u00a0I see  \n10:19\u00a0<+sburjan>\u00a0ok :)  \n10:19\u00a0<+tmortagne>\u00a0but in any case if the goal is to install it with EM I doubt annotation is a good example since you already have it  \n10:19\u00a0<+sburjan>\u00a0and why don't we just delete the old stuff ? it's \u00a0very confusing  \n10:19\u00a0<+tmortagne>\u00a0new IRc is http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/platform/xwiki-platform-ircbot/  \n10:19\u00a0<+tmortagne>\u00a0sburjan: because we can't  \n10:20\u00a0<+tmortagne>\u00a0that's released stuff  \n10:20\u00a0<+sburjan>\u00a0and how long do we keep released stuff online ?  \n10:20\u00a0<+tmortagne>\u00a0someone could need so old version for any reason  \n10:20\u00a0<+tmortagne>\u00a0for ever AFAIK  \n10:20\u00a0<+sburjan>\u00a0wow...ok  \n10:21\u00a0<vmassol>\u00a0a better answer is: till some server crashes and we realize that our backup system has not been working all those years and we can't recover the hard drive data\u2026 ;)  \n10:21\u00a0<+tmortagne>\u00a0at some point we could create a separated maven repository for old stuff so that they don't appear in http://maven.xwiki.org/releases maybe but we would still have to put them in nexus bridge  \n10:22\u00a0<+tmortagne>\u00a0vmassol: we already did something similar and it ends up with me redoing all the releases ;)  \n10:22\u00a0<+tmortagne>\u00a0fortunately there was a lot less than now back then :)  \n10:23\u00a0<vmassol>\u00a0and with the git move it would be fun to reconstruct all releases  \n10:23\u00a0<vmassol>\u00a0a good exercise though to check that we haven't lost any history :)  \n10:24\u00a0<+tmortagne>\u00a0sburjan: actually you could try to install annotation application, it's a good use case of extension installation where some pages of the application are already there  \n10:25\u00a0<+tmortagne>\u00a0(right now it's supposed to to \u00a0a simple import by adding a new version to the page with what some from the xar)  \n10:31\u00a0<+sburjan>\u00a0so I only check if version increases after installing annotations. Or do i have to modify in some way \\_each\\_ page of annotations and see if my changes are still available or my pages return to the vanilla version  \n10:31\u00a0<+sburjan>\u00a0I'll limit to non-bundles applications yet  \n10:33\u00a0<+sburjan>\u00a0the issue is that EM is very low level. This is a good thing for techies, but for example assuming I want to install annotations, i have to install 3-4 things in order to get the full annotations app  \n10:33\u00a0<+sburjan>\u00a0xwiki-platform-annotation-ui/, xwiki-platform-annotation-scripting/, xwiki-platform-annotation-rest/ and so on  \n10:33\u00a0<+tmortagne>\u00a0sburjan: that's not EM fault  \n10:34\u00a0<+tmortagne>\u00a0that's because annotation application does not have the right dependencies setup  \n10:34\u00a0<+tmortagne>\u00a0if it was done properly you would have nothing to do and dependencies would be automatically installed too  \n10:35\u00a0<+tmortagne>\u00a0you can see this with jar extensions like macro  \n10:35\u00a0<+sburjan>\u00a0a quick fix would be to create another project, and in that project's pom to add all these dependencies, right ?  \n10:35\u00a0<+sburjan>\u00a0I'm just asking these questions for my general knowledge  \n10:35\u00a0<+tmortagne>\u00a0sburjan: if you want to do really detailed tests the best is to write your own extension and work with it  \n10:35\u00a0<+tmortagne>\u00a0at least you will know exactly what to look  \n10:36\u00a0<+tmortagne>\u00a0for example when you upgrade your extension from one version to another  \n10:36\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:36\u00a0<+tmortagne>\u00a0the easiest to work with your own extension is to add your local maven repository to EM configuration  \n10:37\u00a0<+tmortagne>\u00a0so that you just need to do mavn install to make your extension installable in EM  \n10:37\u00a0<+tmortagne>\u00a0you can also use XWiki Repository which is a bug longer because you have to attach you extension to the page but it allows you to test search and XR itself  \n10:38\u00a0<+sburjan>\u00a0yes ..  \n10:38\u00a0<+tmortagne>\u00a0s/bug/bit/  \n10:38\u00a0<+sburjan>\u00a0in time we should improve the doc on how to add your local maven repo  \n10:38\u00a0<+sburjan>\u00a0I mean, I don't know exactly what I have to put in xwiki.proprieties  \n10:39\u00a0<+sburjan>\u00a0but I'll test using nexus for now, have to find something that has multiple versions  \n10:39\u00a0<+tmortagne>\u00a0sburjan: the URL of your repository as it is indicated in the xwiki.properties itself, you just have to know what is a filesystem URL  \n10:39\u00a0<+tmortagne>\u00a0i.e. just add file:// before you path  \n10:40\u00a0<+sburjan>\u00a0yes, just googled it.. reading more about this  \n10:40\u00a0<+sburjan>\u00a0so this filesystem URL is something specific for Linux or Java ?  \n10:40\u00a0<+tmortagne>\u00a0putting your local maven repository is not supposed to be common use case but a dev hack so I don't thing it's good to detail it in xwiki.properties  \n10:40\u00a0<+tmortagne>\u00a0no  \n10:41\u00a0<+tmortagne>\u00a0this is standard URL  \n10:41\u00a0<+sburjan>\u00a0I mean this notation standard  \n10:41\u00a0<+sburjan>\u00a0I see  \n10:41\u00a0<+tmortagne>\u00a0just be careful that with this format you have to use / even on windows  \n10:41\u00a0<+sburjan>\u00a0and this was the issue what was giving a lot of error on friday right ? because the filesystem URL was not escaping spaces in paths  \n10:42\u00a0<+tmortagne>\u00a0the issue is that the jar scanner is not reading URL properly, it's not unescaping the URL  \n10:43\u00a0<+tmortagne>\u00a0and yes good point don't forget to escape pproperly the URL  \n10:43\u00a0<+sburjan>\u00a0I see. so everything in XWiki that was using a URL with spaces.. crashed.. not just the EM  \n10:43\u00a0<+tmortagne>\u00a0what you can do is to put your path in your browser  \n10:43\u00a0<+tmortagne>\u00a0and then copie the adress bar content which should be properly formated  \n10:43\u00a0<+tmortagne>\u00a0sburjan: no  \n10:43\u00a0<+tmortagne>\u00a0just EM  \n10:43\u00a0<+tmortagne>\u00a0it's not a java bug  \n10:43\u00a0<+tmortagne>\u00a0it's a jar scanner bug which is only use to get EM core extension form the classpath  \n10:44\u00a0<+sburjan>\u00a0understand  \n10:44\u00a0<+sburjan>\u00a0jar scanner is the reflections jar ?  \n10:44\u00a0<+tmortagne>\u00a0yes  \n10:44\u00a0<+tmortagne>\u00a0code.google.com/p/reflections  \n10:44\u00a0<+sburjan>\u00a0thanks for explaining it :)  \n10:44\u00a0<+tmortagne>\u00a0http://code.google.com/p/reflections  \n10:45\u00a0<+sburjan>\u00a0reading  \n10:45\u00a0<+tmortagne>\u00a0need to find how to get back http in FF 7 it's a pain when copy pasting  \n10:46\u00a0<+tmortagne>\u00a0we also use this library to automatically find rendering tests  \n10:46\u00a0<+tmortagne>\u00a0but EM is the only user at XE runtim  \n10:46\u00a0<+tmortagne>\u00a0runtime  \n10:46\u00a0<+sburjan>\u00a0I see  \n10:46\u00a0<+sburjan>\u00a0FF 7 is out ?  \n10:46\u00a0<+tmortagne>\u00a0nop :)  \n10:47\u00a0<+sburjan>\u00a0using aurora build/nightly ?  \n10:48\u00a0<+tmortagne>\u00a0using ubuntu beta FF ppa reporitory  \n10:49\u00a0<+sburjan>\u00a0I've heard that FF 7 will consume with 50% less memory :)  \n10:49\u00a0<+sburjan>\u00a0I'm very curious if it's true  \n10:49\u00a0<+tmortagne>\u00a0no idea  \n10:49\u00a0<+tmortagne>\u00a0it feels a bit better on speed  \n10:49\u00a0<+sburjan>\u00a0mine usually consume 1 GB of RAM .. I wonder how low will FF 7 be :D  \n10:49\u00a0<+tmortagne>\u00a0does not seems much lighter than before: 670M  \n10:50\u00a0<+tmortagne>\u00a0but it's beta so maybe not all the improvements has been included yet  \n10:51\u00a0<+tmortagne>\u00a0ha found it, browser.urlbar.trimURLs  \n10:52\u00a0<+sburjan>\u00a0:D  \n10:52\u00a0<+sburjan>\u00a0so EM uses also the Reflections Maven plugin ?  \n10:52\u00a0<+sburjan>\u00a0to scan for maven repo ?  \n10:59\u00a0<+tmortagne>\u00a0I have no idea what Reflections Maven plugin as if it's a maven plugin as its name suggest it's for build and not for runtime  \n10:59\u00a0<+tmortagne>\u00a0s/as/is but/  \n11:01\u00a0<+tmortagne>\u00a0as far as I can see this plugin could be used to save a list of extensions in a file to then be read at startup  \n11:02\u00a0<+tmortagne>\u00a0but we would still need to scan classpath for what is already provided by the container  \n11:02\u00a0<+sburjan>\u00a0yes, but if the repo structure changes/updates .. the file will become obsolete, right ?  \n11:02\u00a0<+tmortagne>\u00a0no  \n11:03\u00a0<+tmortagne>\u00a0the plugin would be used to scan XE dependencies for a given version  \n11:03\u00a0<+tmortagne>\u00a0the idea behind to find every core extension provided in XE  \n11:03\u00a0<+tmortagne>\u00a0it does not have much to do with the maven repository structure  \n11:03\u00a0<+tmortagne>\u00a0it's about what jars can be found in XE  \n11:05\u00a0<+tmortagne>\u00a0but since anyone can modify what's actually in WEB-INF/lib and it does not support container jars it's less safe than scanning the classptah  \n11:06\u00a0<+tmortagne>\u00a0the only benefit would be to resolve extensions which don't provide proper maven pom.xml file packaged with the jar  \n11:07\u00a0<+tmortagne>\u00a0(the guessed core extensions)  \n11:26\u00a0<+sburjan>\u00a0tmortagne: so best usecase ATM is to play with macros that are not bundled with platform, like xwiki-platform-rendering-macro-ruby  \n11:26\u00a0<+sburjan>\u00a0and install 3.0, 3.1-milestone-1, etc  \n11:27\u00a0<evalica>\u00a0has joined #xwiki  \n11:28\u00a0<+tmortagne>\u00a0sburjan: sure even if upgrading jar extension is not very good test since there is a known limitation on jar unloading right now so you will probably have issue if you don't restart after the upgrade  \n11:28\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:28\u00a0<+tmortagne>\u00a0you can use it to test dependency management  \n11:28\u00a0<+tmortagne>\u00a0but would be better to do your own xar application to test upgrades and merges of xar  \n11:29\u00a0<+sburjan>\u00a0ok, so I need xar's  \n11:37\u00a0<sburjan`>\u00a0has quit  \n11:37\u00a0<SvenDowideit>\u00a0has quit  \n11:38\u00a0<+sburjan>\u00a0vmassol: http://extensions.xwiki.org/xwiki/bin/view/Extension/photoalbum+macro and http://extensions.xwiki.org/xwiki/bin/view/Extension/Photo+Album+Macro seem identical  \n11:38\u00a0<sburjan`>\u00a0has joined #xwiki  \n11:38\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n11:38\u00a0<vmassol>\u00a0sburjan: indeed, fixing  \n11:39\u00a0<vmassol>\u00a0I've found severa llike this  \n11:39\u00a0<vmassol>\u00a0and fixed them already  \n11:39\u00a0<vmassol>\u00a0another mystery  \n11:40\u00a0<vmassol>\u00a0they're not 100% identifical though  \n11:40\u00a0<vmassol>\u00a0fixing  \n11:42\u00a0<vmassol>\u00a0ok done I've kept http://extensions.xwiki.org/xwiki/bin/view/Extension/Photo+Album+Macro  \n11:48\u00a0<+sburjan>\u00a0which is one our most used xar extension ? I need a xarextension with several versions  \n11:49\u00a0<+tmortagne>\u00a0vmassol: you could try IRC bot I guess  \n11:49\u00a0<+tmortagne>\u00a0sburjan  \n11:50\u00a0<+sburjan>\u00a0vmassol: I see that http://extensions.xwiki.org/xwiki/bin/view/Extension/Photo+Album+Macro doesn't have a download button. Am i missing something ?  \n11:51\u00a0<vmassol>\u00a0sburjan: the guy forgot  \n11:51\u00a0<vmassol>\u00a0adding it  \n11:53\u00a0<vmassol>\u00a0fixed  \n11:53\u00a0<+sburjan>\u00a0thanks  \n11:55\u00a0<+sburjan>\u00a0odd issue I see. We have a small icon near to some links. That is for external links as I can see for the css. It's odd that l10n but enterprise and manager aren't. l10n is not on xwiki.org farm ?  \n11:55\u00a0<+sburjan>\u00a0for/from  \n11:55\u00a0<+tmortagne>\u00a0sburjan: not l10n is not on xwiki.org farm  \n11:56\u00a0<+tmortagne>\u00a0s/not/nop/  \n11:56\u00a0<+sburjan>\u00a0I understand  \n11:57\u00a0<+sburjan>\u00a0damn, ircbot has only one version, so it's not good :)  \n12:02\u00a0<DrLou>\u00a0has joined #xwiki  \n12:15\u00a0<vmassol>\u00a0sburjan: do you have a pointer for the page having a wrong external link?  \n12:46\u00a0<+sburjan>\u00a0only Issue I have is that downlaod buttons and source buttons have that small icon that point to external link misplaced  \n12:47\u00a0<vmassol>\u00a0can you give me a link sburjan?  \n12:48\u00a0<+sburjan>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/SVN+Application  \n12:48\u00a0<+sburjan>\u00a0look at the download and view source buttons  \n12:48\u00a0<+sburjan>\u00a0at the position of the small icon in the left of them  \n12:52\u00a0<vmassol>\u00a0lunch bbl  \n13:06\u00a0<+sburjan>\u00a0tmortagne: I see EM resolves dependencies when uninstalling something like a linux system, which is cool  \n13:08\u00a0<+sburjan>\u00a0ok, but when you want to re-install something you get an error because it's already in your local repo  \n13:24\u00a0<mflorea>\u00a0has quit  \n13:33\u00a0<vmassol>\u00a0sburjan: on http://extensions.xwiki.org/xwiki/bin/view/Extension/SVN+Application I don't see any wrong external link  \n13:33\u00a0<vmassol>\u00a0maybe you need to refresh your cache?  \n13:33\u00a0<vmassol>\u00a0I used to see those too but I think evalica fixed them  \n13:38\u00a0<pturcotte>\u00a0has quit  \n13:52\u00a0<sdumitriu>\u00a0has joined #xwiki  \n14:00\u00a0<mflorea>\u00a0has joined #xwiki  \n14:09\u00a0<vmassol1>\u00a0has joined #xwiki  \n14:10\u00a0<+tmortagne>\u00a0sburjan: you mean you install something, then uninstal it and when you retry to install it, it fail ?  \n14:11\u00a0<vmassol>\u00a0has quit  \n14:12\u00a0<+tmortagne>\u00a0does it work if you restart ?  \n14:14\u00a0<vmassol1>\u00a0cjdelisle: hello  \n14:20\u00a0<arkub>\u00a0has quit  \n14:35\u00a0<vmassol1>\u00a0sdumitriu: good morning  \n14:45\u00a0<+sburjan>\u00a0tmortagne: exactly. install, uninstall, install back (without restart) and it fails  \n14:46\u00a0<+sburjan>\u00a0let me try a restart  \n14:46\u00a0<+tmortagne>\u00a0sburjan: ok will look at it  \n14:47\u00a0<pturcotte>\u00a0has joined #xwiki  \n14:57\u00a0<+sburjan>\u00a0tmortagne: yepp, still same issue after restart: Caused by: class org.xwiki.extension.repository.LocalExtensionRepositoryException: Extension [org.jruby:jruby-1.6.0] already exists in local repository  \n14:57\u00a0<+tmortagne>\u00a0sburjan: ok, will fix it quickly  \n14:57\u00a0<+tmortagne>\u00a0look like installer check local extensions instead of installed extensions  \n14:58\u00a0<+sburjan>\u00a0itseems it won't continue if the file is already present in the repo  \n14:58\u00a0<+tmortagne>\u00a0yep that's what makes it a local extension  \n14:59\u00a0<+tmortagne>\u00a0they are never deleted right now  \n14:59\u00a0<+tmortagne>\u00a0just unloaded and untagged as installed  \n14:59\u00a0<arkub>\u00a0has joined #xwiki  \n14:59\u00a0<+tmortagne>\u00a0but the installer check if extension exist instead of checking if it's installed  \n15:00\u00a0<+sburjan>\u00a0true  \n15:00\u00a0<+sburjan>\u00a0like in ubuntu :)  \n15:00\u00a0<+tmortagne>\u00a0yep  \n15:00\u00a0<+tmortagne>\u00a0I plan to implement a \"clean\" method to clean unused extensions  \n15:00\u00a0<+tmortagne>\u00a0if needed  \n15:00\u00a0<+sburjan>\u00a0you either \"emulate\" a --purge flag, or implement ubuntu's method :)  \n15:00\u00a0<+tmortagne>\u00a0but it's not very critical for now  \n15:02\u00a0<+tmortagne>\u00a0--purge is something else, not sure I have an equivalent right now, maybe later with \u00a0some more advanced extension type which list configuration pages  \n15:16\u00a0<evalica>\u00a0has quit  \n15:22\u00a0<@sdumitriu>\u00a0Good morning vmassol1  \n15:24\u00a0<vmassol1>\u00a0sdumitriu: hi, I pinged you on skype. Was about the move of the platform modules to xwiki-contrib  \n15:28\u00a0<+mflorea>\u00a0sdumitriu: do you know anyone/anyplace using XWikiDocument#extractTitle() ? I can't find any references in platform so I'd like to remove it (it is public but I don't see any use case for it)  \n15:29\u00a0<@sdumitriu>\u00a0Checking  \n15:30\u00a0<vmassol1>\u00a0mflorea: is it deprecated?  \n15:30\u00a0<@sdumitriu>\u00a0No, it's old  \n15:30\u00a0<@sdumitriu>\u00a0extractTitle10 is still used  \n15:30\u00a0<vmassol1>\u00a0if it's not deprecated we should go through a deprecate phase IMO  \n15:30\u00a0<@sdumitriu>\u00a0in getRenderedTitle  \n15:32\u00a0<+mflorea>\u00a0vmassol1: no, but I don't see the reason to deprecated it instead of removing if it doesn't have a use case. Note that it is also inconsistent, it evaluates the title if syntax is 2.0 but it doesn't evaluate it if the syntax is 1.0  \n15:32\u00a0<@sdumitriu>\u00a0extractTitle used to be xwiki/1.0 only before, and it was recently refactored to work with both old and new syntaxes  \n15:32\u00a0<+mflorea>\u00a0evaluate=evaluate velocity code  \n15:32\u00a0<vmassol1>\u00a0mflorea: it's public  \n15:32\u00a0<vmassol1>\u00a0so anyone could be using it  \n15:33\u00a0<+mflorea>\u00a0vmassol1: it's garbage  \n15:33\u00a0<vmassol1>\u00a0fine anyway this is not a discussion for irc  \n15:33\u00a0<@sdumitriu>\u00a0It shouldn't be public  \n15:33\u00a0<vmassol1>\u00a0if you wish to remove it you should send a proposal on the list  \n15:33\u00a0<+mflorea>\u00a0exactly, should be private  \n15:33\u00a0<@sdumitriu>\u00a0getRenderedTitle is the one users want and need  \n15:33\u00a0<vmassol1>\u00a0to make sure it's not needed  \n15:33\u00a0<@sdumitriu>\u00a0extract is too technical, low level  \n15:33\u00a0<vmassol1>\u00a0I remember tmortagne worked on it  \n15:33\u00a0<vmassol1>\u00a0when we added the syntax 2.0  \n15:34\u00a0<+tmortagne>\u00a0vmassol1: as sdumitriu said I updated it support all syntaxes  \n15:34\u00a0<+mflorea>\u00a0vmassol1: I'll send a vote  \n15:34\u00a0<+mflorea>\u00a0tmortagne: sure, but the code is also duplicated  \n15:34\u00a0<+tmortagne>\u00a0but since it's old public method it's not not be removed like that  \n15:34\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n15:34\u00a0<@sdumitriu>\u00a0legacy  \n15:35\u00a0<+mflorea>\u00a0tmortagne: I'm ok to deprecate APIs, but not methods that should have been private from the start  \n15:35\u00a0<vmassol>\u00a0mflorea: as sergiu said legacy is a good option  \n15:35\u00a0<+tmortagne>\u00a0mflorea: it's public since along time the fact that it should have been private is irrelevant here  \n15:36\u00a0<+tmortagne>\u00a0you can't remove public API like that that's all  \n15:36\u00a0<+tmortagne>\u00a0if all you want id just not see it here you just have to move it to leegacy, it's here just for that  \n15:36\u00a0<@sdumitriu>\u00a0Yes, there were worse methods that we still kept  \n15:36\u00a0<vmassol>\u00a0mflorea: with your reasoning we should remove Document.get() :)  \n15:37\u00a0<vmassol>\u00a0(I mean the get that does a display and not a get ;))  \n15:37\u00a0<+mflorea>\u00a0I don't see the relation  \n15:37\u00a0<vmassol>\u00a0because it hsouldn' thave been there from teh beginning  \n15:37\u00a0<vmassol>\u00a0it's ocmpletely wrong  \n15:38\u00a0<vmassol>\u00a0every single person I know is using it wrongly  \n15:38\u00a0<@sdumitriu>\u00a0Indeed, it was done like this just to support $obj.propname directly, piggy-backing on a Velocity feature  \n15:38\u00a0<vmassol>\u00a0anyway was just an exmaple  \n15:38\u00a0<+mflorea>\u00a0that's different, it is used, while extractTitle isn't  \n15:38\u00a0<@sdumitriu>\u00a0But now we can write a custom introspector that call display if the object extends Api  \n15:39\u00a0<+mflorea>\u00a0anyway, like this we will never clean the old core..  \n15:39\u00a0<vmassol>\u00a0sdumitriu: the user need to hcose whether we wants display or get  \n15:39\u00a0<vmassol>\u00a0mflorea: not sure moving to legacy is about cleaning old core  \n15:39\u00a0<vmassol>\u00a0btw I have a mail in my inbox  \n15:39\u00a0<vmassol>\u00a0almost ready to be sent  \n15:39\u00a0<vmassol>\u00a0for proposing a better straegy to remove deprecations  \n15:39\u00a0<vmassol>\u00a0:)  \n15:40\u00a0<@sdumitriu>\u00a0s/inbox/outbox ?  \n15:40\u00a0<vmassol>\u00a0outbox  \n15:40\u00a0<vmassol>\u00a0but I need to think about some more details to be able to send it...  \n15:40\u00a0<vmassol>\u00a0it's not very easy  \n15:40\u00a0<silviar>\u00a0has joined #xwiki  \n15:42\u00a0<+sburjan>\u00a0tmortagne: I deleted all the repo, and I still got the exception. Do I need to restart ?  \n15:43\u00a0<+tmortagne>\u00a0sburjan: maybe you did not remove the right repository then :)  \n15:43\u00a0<+tmortagne>\u00a0I don't see how it could find an extension that does not exists  \n15:44\u00a0<+sburjan>\u00a0I emptied aether and repository dir. are there more ?  \n15:44\u00a0<+tmortagne>\u00a0if you delete .xwiki folder and restart is it created again ?  \n15:45\u00a0<+tmortagne>\u00a0I changed the way repositories are store yesterday  \n15:45\u00a0<+tmortagne>\u00a0so maybe you have new version  \n15:45\u00a0<+tmortagne>\u00a0repository are now in the same place than lucene index and FS attachments  \n15:46\u00a0<+sburjan>\u00a0so they are not in ~/.xwiki ?  \n15:47\u00a0<+sburjan>\u00a0I am looking in my user homedir  \n15:49\u00a0<+tmortagne>\u00a0no they are not anymore  \n15:49\u00a0<+sburjan>\u00a0ok. let me delete it then. because I see it gets re-created  \n15:49\u00a0<+tmortagne>\u00a0but depends on which exact version you have  \n15:49\u00a0<+sburjan>\u00a0latest snapshot  \n15:50\u00a0<+tmortagne>\u00a0I doubt in the latest right now ;)  \n15:50\u00a0<+tmortagne>\u00a0in any case if .xwiki is recreated it means you have old version AFAIK  \n15:51\u00a0<+tmortagne>\u00a0since this folder does not exist anymore in new version  \n15:51\u00a0<+sburjan>\u00a0ok, let me download it :d  \n15:56\u00a0<+tmortagne>\u00a0sburjan: did you restarted after deleting repositories ?  \n15:56\u00a0<+sburjan>\u00a0no  \n15:57\u00a0<+tmortagne>\u00a0repository is loaded at startup so if you don't restart...  \n15:57\u00a0<+sburjan>\u00a0downloading snapshot  \n15:57\u00a0<+sburjan>\u00a0latest  \n16:06\u00a0<vmassol>\u00a0upgrading jenkins  \n16:15\u00a0<+tmortagne>\u00a0sburjan: XWIKI-6963  \n16:21\u00a0<+sburjan>\u00a0downloaded latest  \n16:21\u00a0<+sburjan>\u00a0installed ircbot, searching for the repo  \n16:21\u00a0<+sburjan>\u00a0found it  \n16:23\u00a0<+tmortagne>\u00a0where is it ?  \n16:23\u00a0<+tmortagne>\u00a0sburjan:  \n16:29\u00a0<+sburjan>\u00a0I have it in jetty/work  \n16:30\u00a0<+tmortagne>\u00a0ok  \n16:30\u00a0<+sburjan>\u00a0/home/sorinello/Desktop/XWiki/XWiki 3.2/xwiki-enterprise-jetty-hsqldb-3.2-SNAPSHOT/jetty/work/jetty-0.0.0.0-8080-xwiki-\\_xwiki-any-/repository  \n16:30\u00a0<@sdumitriu>\u00a0tmortagne: https://github.com/xwiki/xwiki-platform/commit/b75b25c7fc7b8027b083eb59fe79b58b3974a0a7  \n16:30\u00a0<@sdumitriu>\u00a0Are you sure it's supposed to be temporary, and not permanent directory?  \n16:31\u00a0<+tmortagne>\u00a0sdumitriu: yes i'm sure, this is just a cache because I need some time to find own to directly download files where I want with aether  \n16:31\u00a0<+tmortagne>\u00a0things are downloaded here and then moved in the real local repository  \n16:32\u00a0<@sdumitriu>\u00a0OK  \n16:32\u00a0<+sburjan>\u00a0so ATM we don't use any real local repository  \n16:32\u00a0<+sburjan>\u00a0not implemented yet  \n16:32\u00a0<+tmortagne>\u00a0sburjan: what do you mean ?  \n16:33\u00a0<+tmortagne>\u00a0the real EM repository is /home/sorinello/Desktop/XWiki/XWiki 3.2/xwiki-enterprise-jetty-hsqldb-3.2-SNAPSHOT/jetty/work/jetty-0.0.0.0-8080-xwiki-\\_xwiki-any-/repository  \n16:33\u00a0<+sburjan>\u00a0oh, so that's the real one.. okay  \n16:33\u00a0<+tmortagne>\u00a0the other one name is aether-repository  \n16:33\u00a0<+sburjan>\u00a0trying the uninstall - reinstall thing  \n16:34\u00a0<+tmortagne>\u00a0in whatever is the temporary directory in jetty  \n16:34\u00a0<+tmortagne>\u00a0sburjan: I doubt you already have the fix  \n16:34\u00a0<+tmortagne>\u00a0I committed it while you were downloading it  \n16:34\u00a0<+sburjan>\u00a0you're right  \n16:35\u00a0<+tmortagne>\u00a0what you can do for now is remove the two \u00a0files associated to the extension you want to reinstall  \n16:35\u00a0<+sburjan>\u00a0the xar and the xed  \n16:36\u00a0<+sburjan>\u00a0removed.. trying to see if it works without a restart  \n16:36\u00a0<+tmortagne>\u00a0the xar/kar and the xed yes  \n16:36\u00a0<+tmortagne>\u00a0you need to restart  \n16:36\u00a0<+sburjan>\u00a0nop, doesn't work  \n16:36\u00a0<+sburjan>\u00a0restarting. I have to learn EM's behaviour :)  \n16:36\u00a0<+tmortagne>\u00a0EM does not expect its repository to be touched outside...  \n16:36\u00a0<+tmortagne>\u00a0\\*from outside  \n16:37\u00a0<+tmortagne>\u00a0so it has a cache of extensions  \n16:37\u00a0<+sburjan>\u00a0odd, I don't have a aerther-repository dir  \n16:37\u00a0<+tmortagne>\u00a0did you installed an extension ?  \n16:38\u00a0<+tmortagne>\u00a0aether-repository  \n16:38\u00a0<+sburjan>\u00a0ircbot, yes  \n16:38\u00a0<+tmortagne>\u00a0not aerther-repository  \n16:38\u00a0<+sburjan>\u00a0yepp, works after restart  \n16:42\u00a0<+sburjan>\u00a0I have installed ircbot 3.1. after that i installed ircbot 3.2-milestone-2  \n16:42\u00a0<+sburjan>\u00a0good that It doesn't keep 2 versions in parallel .. so normally upgrading should be very easy  \n16:43\u00a0<+sburjan>\u00a0maybe some option to or not to overwrite conf files . but I'm sure you already have that in mind  \n16:43\u00a0<+sburjan>\u00a0just that we don't have an UI for it  \n16:44\u00a0<+tmortagne>\u00a0sburjan: EM just seen a xar with documents it it, it have no idea what is a configuration  \n16:45\u00a0<+tmortagne>\u00a0but a good practice is to generate the configuration in the application instead of having it in the xar  \n16:45\u00a0<+sburjan>\u00a0i see  \n16:46\u00a0<+tmortagne>\u00a0but that's what I was saying earlier about new advanced extension type in the future  \n16:46\u00a0<+tmortagne>\u00a0in which you could know what in configuration pages etc...  \n16:46\u00a0<+tmortagne>\u00a0but it's not planned very soon  \n16:46\u00a0<+tmortagne>\u00a0just an idea listed in EM design page  \n16:49\u00a0<+sburjan>\u00a0I'm still waiting for the day we get rig of all plugins  \n16:49\u00a0<+sburjan>\u00a0\\*rid  \n16:50\u00a0<+tmortagne>\u00a0yea it's mostly about find time to rewrite things that works, it's always tricky to justify ;)  \n16:57\u00a0<silviar>\u00a0has quit  \n17:17\u00a0<sburjan>\u00a0has quit  \n17:20\u00a0<+jvelociter>\u00a0hi vmassol  \n17:20\u00a0<vmassol>\u00a0jvelociter: hi  \n17:20\u00a0<+jvelociter>\u00a0is it normal that with the 'decoration' parameter you have introduced for the RSS macro, when using it we don't have the entry titles/link ?  \n17:21\u00a0<vmassol>\u00a0it's \"normal\" as far as I didn't include them but this can be changed  \n17:21\u00a0<vmassol>\u00a0it's content so yes it should probably be incluidd  \n17:21\u00a0<vmassol>\u00a0I maybe removed too much :)  \n17:23\u00a0<+jvelociter>\u00a0vmassol: ok  \n17:23\u00a0<+jvelociter>\u00a0I agree, the titles aren't part of the decoration for me  \n17:24\u00a0<+jvelociter>\u00a0maybe we need a title param too  \n17:24\u00a0<vmassol>\u00a0if you have a use case yes, I don't have one  \n17:24\u00a0<vmassol>\u00a0(my use case was the gallery macro)  \n17:25\u00a0<+jvelociter>\u00a0well my use case is to remove all the decoration like you did  \n17:25\u00a0<+jvelociter>\u00a0except for me the title is part of the entry  \n17:25\u00a0<+jvelociter>\u00a0and should be displayed  \n17:25\u00a0<vmassol>\u00a0sure  \n17:25\u00a0<vmassol>\u00a0you have time to add it?  \n17:26\u00a0<vmassol>\u00a0if not I can do it but not right now  \n17:32\u00a0<+jvelociter>\u00a0same for me :) I can do it but not right now  \n17:33\u00a0<vmassol>\u00a0ok I'll do it  \n17:38\u00a0<+jvelociter>\u00a0thanks. I'll try to do the perf. improvement on the search suggest ASAP too  \n17:38\u00a0<+jvelociter>\u00a0did not forget  \n17:45\u00a0<vmassol>\u00a0jvelociter: I may need your help to fine tune the HTML you wish to get for the rss macros in the end  \n17:46\u00a0<vmassol>\u00a0let me propose something in a few seconds\u2026.  \n17:46\u00a0<+jvelociter>\u00a0ok  \n17:47\u00a0<vmassol>\u00a0jvelociter: http://pastebin.com/Mn79hh6J  \n17:47\u00a0<vmassol>\u00a0so there are 2 groups  \n17:47\u00a0<vmassol>\u00a0one for the title of the feed and one for the entries  \n17:48\u00a0<+jvelociter>\u00a0I would not put the title of the feed  \n17:48\u00a0<vmassol>\u00a0err I messed up something  \n17:48\u00a0<vmassol>\u00a0I don't get it  \n17:48\u00a0<vmassol>\u00a0my change is to add the title....  \n17:48\u00a0<vmassol>\u00a0isn't that what you said you wanted to add?  \n17:49\u00a0<vmassol>\u00a0\"except for me the title is part of the entry\"  \n17:49\u00a0<+jvelociter>\u00a0I don't see the rssitemtitle  \n17:49\u00a0<+jvelociter>\u00a0I meant entry title  \n17:49\u00a0<+jvelociter>\u00a0not feed title  \n17:49\u00a0<vmassol>\u00a0hmm IMO if we add entry titles we should also add feed title  \n17:50\u00a0<vmassol>\u00a0but it's very easy for me to just add the entry titles ;)  \n17:50\u00a0<+jvelociter>\u00a0I perceive this one more as decoration  \n17:50\u00a0<+jvelociter>\u00a0the feed title  \n17:51\u00a0<+tmortagne>\u00a0same for me  \n17:51\u00a0<vmassol>\u00a0well entry titles too  \n17:51\u00a0<vmassol>\u00a0which is why I didn't put them  \n17:51\u00a0<vmassol>\u00a0it's like document title vs document content  \n17:51\u00a0<+jvelociter>\u00a0more arguable IMO  \n17:51\u00a0<vmassol>\u00a0yes a little bit more maybe  \n17:51\u00a0<+tmortagne>\u00a0not really, the feed title never really change while the feed entry title is part of the content itself  \n17:52\u00a0<vmassol>\u00a0ok anyway if you both are ok  \n17:52\u00a0<vmassol>\u00a0since it's easier for me  \n17:52\u00a0<vmassol>\u00a0I'll add back the entry titles  \n17:52\u00a0<+jvelociter>\u00a0hehe let's settle then  \n17:52\u00a0<+tmortagne>\u00a0fopr example I usually only read the entry title of almost half of the stuff I have in Greader  \n17:53\u00a0<+jvelociter>\u00a0don't tell jv  \n17:53\u00a0<+jvelociter>\u00a0if he learns someone is not reading his feeds \u2026 who knows how he might react :D  \n17:53\u00a0<vmassol>\u00a0jvelociter: http://pastebin.com/xXbLjx1V ?  \n17:54\u00a0<+jvelociter>\u00a0vmassol: looks good (though I have a hard time reading this :) )  \n17:54\u00a0<+jvelociter>\u00a0but I see it's p class=\"rssitemtitle\"  \n17:54\u00a0<vmassol>\u00a0jvelociter: you prefer this:  \n17:54\u00a0<vmassol>\u00a0<div class=\"rssfeed\"><p class=\"rssitemtitle\"><span class=\"wikiexternallink\"><a class=\"wikimodel-freestanding\" href=\"http://liftoff.msfc.nasa.gov/news/2003/news-starcity.asp\">Star City</a></span></p><div class=\"rssitemdescription\">How do Americans get ready to work with Russians aboard the International Space Station?</div><p class=\"rssitemtitle\"><span class=\"wikiexternallink\"><a class=\"wikimodel-freestanding\" href=\"http://liftoff.msfc.na  \n17:54\u00a0<vmassol>\u00a0?  \n17:55\u00a0<+jvelociter>\u00a0yes that looks good  \n17:59\u00a0<vmassol>\u00a0jvelociter: pushed!  \n17:59\u00a0<+jvelociter>\u00a0cool !  \n17:59\u00a0<+jvelociter>\u00a0that was fast :)  \n17:59\u00a0<vmassol>\u00a0jvelociter: funny you had the same need as me on this  \n18:00\u00a0<+jvelociter>\u00a0yes, in the very same timeframe :)  \n18:00\u00a0<vmassol>\u00a0(not that I have a real need, it was to answer to someone on the list)  \n18:23\u00a0<tmortagne>\u00a0has quit  \n18:42\u00a0<jvelociter>\u00a0has quit  \n18:54\u00a0<vmassol>\u00a0hey that's very cool :)  \n18:55\u00a0<vmassol>\u00a0apparently plantuml supports ditaa now  \n18:55\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/PlantUML+Macro#HDitaaDiagram  \n19:09\u00a0<lpereira>\u00a0has joined #xwiki  \n19:10\u00a0<arkub>\u00a0has quit  \n19:15\u00a0<lucaa>\u00a0has joined #xwiki  \n19:16\u00a0<vmassol>\u00a0has quit  \n19:24\u00a0<vmassol>\u00a0has joined #xwiki  \n19:36\u00a0<Enygma`>\u00a0has quit  \n20:10\u00a0<@cjdelisle>\u00a0hi vmassol, did you have a question or complaint?  \n20:23\u00a0<jvdrean>\u00a0has quit  \n20:27\u00a0<lucaa>\u00a0has quit  \n20:27\u00a0<mflorea>\u00a0has quit  \n20:51\u00a0<vmassol>\u00a0cjdelisle: hi. Complaint? Nah\u2026.. but I had a question  \n20:52\u00a0<@cjdelisle>\u00a0what is the question?  \n20:52\u00a0<vmassol>\u00a0I was thinking that now that the activuty stream was fixed we could upgrade mywiki.org  \n20:52\u00a0<vmassol>\u00a0and at the same time I was thinking that it would be good to turn on attachments on the fs too  \n20:52\u00a0<vmassol>\u00a0since myxwiki.org is our test platform  \n20:52\u00a0<vmassol>\u00a0it's a good real life test  \n20:52\u00a0<@cjdelisle>\u00a0ahh indeed  \n20:53\u00a0<@cjdelisle>\u00a0I guess we'll be upgrading to a snapshot version then  \n20:54\u00a0<vmassol>\u00a0I don't think that's an issue  \n20:54\u00a0<vmassol>\u00a0well the only \"issue\" is that we need to point to a XAR to help admins upgrade their wikis but that's manageable by uploading the XAR somewhere  \n20:55\u00a0<vmassol>\u00a0(like attaching it on that page)  \n20:55\u00a0<vmassol>\u00a0(that's what I did in the past)  \n20:55\u00a0<vmassol>\u00a0that page = the page with the text message displayed in the admin page  \n20:55\u00a0<@cjdelisle>\u00a0XE-896 is a pain but it's not easy to solve without new api  \n20:57\u00a0<@cjdelisle>\u00a0That's high on my list, I noticed it early on and just reported and forgot about it until Haru mentioned it on the list.  \n20:59\u00a0<vmassol>\u00a0ok cool we need indeed to have that FS support production ready  \n20:59\u00a0<vmassol>\u00a0which is why I was thinking about turning that on on myxwiki.org  \n20:59\u00a0<@cjdelisle>\u00a0yup  \n20:59\u00a0<@cjdelisle>\u00a0did you see my mail to infra?  \n21:00\u00a0<@cjdelisle>\u00a0over the weekend myxwiki crashed and I was able to get it back up after a couple tries by resetting apache2 and tomcat simultaniously.  \n21:00\u00a0<vmassol>\u00a0yes saw it and flagged it but didn't get the time to analyse it yet  \n21:01\u00a0<vmassol>\u00a0I need to ping infra to remind them to reply on that list :)  \n21:01\u00a0<@cjdelisle>\u00a0Was anything changed recently with the connector (forgot what it's called)  \n21:01\u00a0<vmassol>\u00a0ajp?  \n21:02\u00a0<@cjdelisle>\u00a0yes  \n21:02\u00a0<vmassol>\u00a0I'm not aware of any change  \n21:02\u00a0<@cjdelisle>\u00a0it seems that for some reason, tomcat doesn't let go of file descriptors and so apache opens more and more.  \n21:02\u00a0<@cjdelisle>\u00a0I also got a thread dump and it showed that tomcat was idling, no 9000 threads for all of those descriptors.  \n21:03\u00a0<vmassol>\u00a0I'll follow up tomorrow on this with infra  \n21:03\u00a0<@cjdelisle>\u00a0cool  \n21:03\u00a0<vmassol>\u00a0ping me if I forget please  \n21:03\u00a0<@cjdelisle>\u00a0remind me to ;)  \n21:03\u00a0<vmassol>\u00a0hehe  \n21:03\u00a0<vmassol>\u00a0let's remind each other  \n21:03\u00a0<@cjdelisle>\u00a0I'll start on that project (myxwiki) in a few.  \n21:07\u00a0<jvdrean>\u00a0has joined #xwiki  \n21:48\u00a0<mflorea>\u00a0has joined #xwiki  \n22:24\u00a0<vmassol>\u00a0has quit  \n22:50\u00a0<rrodriguez>\u00a0has joined #xwiki  \n22:50\u00a0<npm\\_>\u00a0has joined #xwiki  \n22:51\u00a0<npm>\u00a0has quit  \n22:54\u00a0<npm\\_>\u00a0is now known as <npm>  \n23:04\u00a0<cjdelisle>\u00a0has quit  \n23:10\u00a0<pturcotte>\u00a0has quit  \n23:47\u00a0<lpereira>\u00a0has quit  \n\n"}