{"id": "dev:IRC.xwikiArchive20150723", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150723", "title": "IRC Archive for channel #xwiki on 23 July 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Pbas>\u00a0has quit  \n00:21\u00a0<Slashman>\u00a0has quit  \n00:24\u00a0<Pbas>\u00a0has joined #xwiki  \n00:34\u00a0<fmancinelli>\u00a0has quit  \n01:36\u00a0<\\_cjd>\u00a0has joined #xwiki  \n01:54\u00a0<sdumitriu>\u00a0has quit  \n02:11\u00a0<sdumitriu>\u00a0has joined #xwiki  \n07:18\u00a0<sorinello>\u00a0has quit  \n07:20\u00a0<sorinello>\u00a0has joined #xwiki  \n08:11\u00a0<vmassol>\u00a0has joined #xwiki  \n08:40\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:41\u00a0<\\_cjd>\u00a0has quit  \n08:47\u00a0<\\_cjd>\u00a0has joined #xwiki  \n08:53\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:00\u00a0<\\_cjd>\u00a0has quit  \n09:02\u00a0<\\_cjd>\u00a0has joined #xwiki  \n09:06\u00a0<msmeria>\u00a0has joined #xwiki  \n09:06\u00a0<msmeria>\u00a0has quit  \n09:23\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:40\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:27\u00a0<fmancinelli>\u00a0has joined #xwiki  \n11:36\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:04\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:40\u00a0<\\_cjd>\u00a0has quit  \n13:44\u00a0<\\_cjd>\u00a0has joined #xwiki  \n13:53\u00a0<fmancinelli>\u00a0has quit  \n14:28\u00a0<Enygma`>\u00a0has quit  \n14:29\u00a0<Enygma`>\u00a0has joined #xwiki  \n14:37\u00a0<gsmeria>\u00a0has quit  \n14:38\u00a0<\\_cjd>\u00a0has quit  \n14:47\u00a0<\\_cjd>\u00a0has joined #xwiki  \n14:55\u00a0<\\_cjd>\u00a0has quit  \n15:12\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:14\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:16\u00a0<gsmeria>\u00a0has quit  \n15:18\u00a0<\\_cjd>\u00a0has quit  \n15:22\u00a0<Dr\\_Cain>\u00a0has joined #xwiki  \n15:22\u00a0<Dr\\_Cain>\u00a0hi I'm getting an issue upgrading from 6.4.4 to 7.1  \n15:22\u00a0<Dr\\_Cain>\u00a0final stack trace shows  \n15:22\u00a0<Dr\\_Cain>\u00a0Caused by: java.sql.SQLFeatureNotSupportedException: Method org.postgresql.jdbc4.Jdbc4Connection.isValid(int) is not yet implemented.  \n15:22\u00a0<Dr\\_Cain>\u00a0and I'm using the postgres backend  \n15:23\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:23\u00a0<Dr\\_Cain>\u00a0this is on debian wheezy with wheezy-backports for tomcat8  \n15:26\u00a0<ClemensR>\u00a0where is the postgres JDBC driver locatd? in the \"xwiki\" webapp WEB-INF/lib or inside the tomcat? (sorry, never used the postgres/tomcat package myself)  \n15:27\u00a0<Dr\\_Cain>\u00a0I'm actually not sure  \n15:28\u00a0<Dr\\_Cain>\u00a0do you know the name of the file?  \n15:28\u00a0<ClemensR>\u00a0ah, I see , for mysql it is in the /usr/lib/xwiki/WEB-INF/lib/...  \n15:28\u00a0<ClemensR>\u00a0ok, I can go and check the postgres package ...one moment ...  \n15:30\u00a0<\\_cjd>\u00a0has quit  \n15:33\u00a0<ClemensR>\u00a0ah, it is in /usr/lib/xwiki/WEB-INF/lib/postgresql.jar , but that is a symlink to /usr/share/java/postgresql-jdbc4.jar  \n15:34\u00a0<ClemensR>\u00a0and that is likely to be a bit outdated version  \n15:34\u00a0<Dr\\_Cain>\u00a0lrwxrwxrwx 1 root root 24 Aug \u00a05 \u00a02012 /usr/share/java/postgresql-jdbc4.jar -> postgresql-jdbc4-9.1.jar  \n15:34\u00a0<Dr\\_Cain>\u00a0right you are  \n15:34\u00a0<Dr\\_Cain>\u00a0which version should I be on then?  \n15:35\u00a0<ClemensR>\u00a0need another moment ....  \n15:35\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:35\u00a0<Dr\\_Cain>\u00a0I'm on openjdk-7 right now, so I guess I need to upgrade to openjdk-8  \n15:35\u00a0<Dr\\_Cain>\u00a0which isn't in wheezy at all  \n15:35\u00a0<Dr\\_Cain>\u00a0so I have to upgrade to jessie and then grab openjdk-8 from jessie-backports :S  \n15:36\u00a0<ClemensR>\u00a0apt-cache show libpostgresql-jdbc-java \u00a0\u00a0\u00a0\u00a0shoudl show the version (beside others)  \n15:36\u00a0<Dr\\_Cain>\u00a0Source: libpgjava  \n15:36\u00a0<ClemensR>\u00a0there is a 9.2-1002-1 \u00a0in jessie  \n15:36\u00a0<Dr\\_Cain>\u00a0oh really  \n15:36\u00a0<Dr\\_Cain>\u00a0let's see  \n15:37\u00a0<Dr\\_Cain>\u00a0wonder how hard it is to backport  \n15:37\u00a0<ClemensR>\u00a0I am not exactly sure which is minimal version, so before messing with that versions let me see if that helps at all :-/  \n15:37\u00a0<ClemensR>\u00a0in the worst case you could replace that file manaully - after all its just a jar, nothing magic  \n15:37\u00a0<ClemensR>\u00a0of course the next update will overwrite it, with a possibly older version :p  \n15:38\u00a0<Dr\\_Cain>\u00a0I've already snapshotted the VM anyway  \n15:38\u00a0<Dr\\_Cain>\u00a0so it doesn't matter what I do now :)  \n15:39\u00a0<Dr\\_Cain>\u00a0oh lol it requires a clusterfuck of packages  \n15:39\u00a0<Dr\\_Cain>\u00a0yeah maybe I shouldn't poke this right now  \n15:40\u00a0<ClemensR>\u00a0I guess you could downliad the \\*.deb from \u00a0https://packages.debian.org/jessie/all/libpostgresql-jdbc-java/download  \n15:40\u00a0<Dr\\_Cain>\u00a0hmm  \n15:40\u00a0<Dr\\_Cain>\u00a0yeah as long as it's a compatible libc I guess  \n15:40\u00a0\\*\u00a0Dr\\_Cain tries  \n15:40\u00a0<ClemensR>\u00a0and then dpgk --install \u00a0/full/path/to/\\*.deb  \n15:41\u00a0<Dr\\_Cain>\u00a0yeah  \n15:41\u00a0\\*\u00a0Dr\\_Cain restarts tomcat8  \n15:41\u00a0<ClemensR>\u00a0maybe backup /usr/share/java/postgresql\\*.jar \u00a0before ... ah, or VM shapshot  \n15:41\u00a0<Dr\\_Cain>\u00a0I already have a snapshot on a working 6.4.4 version :)  \n15:42\u00a0<ClemensR>\u00a0fortunately the JDBC driver does not depend on libc, or even something like the specific java version (it seems)  \n15:42\u00a0<Dr\\_Cain>\u00a0>XWiki is initializing (50%)...  \n15:43\u00a0<Dr\\_Cain>\u00a0it's getting further along now..  \n15:43\u00a0<Dr\\_Cain>\u00a0before it broke on 10%  \n15:43\u00a0<Dr\\_Cain>\u00a0getting a lot of \"Failed to process entry\" though in the catalena log  \n15:43\u00a0<Dr\\_Cain>\u00a0ah solr index errors  \n15:45\u00a0<ClemensR>\u00a0hm, strange, have not seen such errors in log ... ok, but solr, could be known issue  \n15:45\u00a0<Dr\\_Cain>\u00a02015-07-23 15:44:49,252 [XWiki Solr index thread] ERROR o.x.s.s.i.DefaultSolrIndexer \u00a0\u00a0- Failed to process entry  \n15:45\u00a0<Dr\\_Cain>\u00a0but I'll just reindex everything I guess  \n15:45\u00a0<Dr\\_Cain>\u00a0yay I'm in the wizard now  \n15:45\u00a0<Dr\\_Cain>\u00a0let's see how this goes  \n15:45\u00a0\\*\u00a0Dr\\_Cain snapshots again  \n15:48\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:49\u00a0<Dr\\_Cain>\u00a0I've had this installation since the 4.x days  \n15:49\u00a0<Dr\\_Cain>\u00a0and it's always a pain in the ass to upgrade :)  \n15:51\u00a0<Dr\\_Cain>\u00a0oh wow it actually worked  \n15:51\u00a0<Dr\\_Cain>\u00a0ClemensR: thanks!  \n15:51\u00a0<ClemensR>\u00a0with the debian packages it should be much better than before, but yeah, backports and stuff and the version problems are back  \n15:51\u00a0<ClemensR>\u00a0great, glad to hear it worked  \n15:51\u00a0<Dr\\_Cain>\u00a0:)  \n15:54\u00a0\\*\u00a0Dr\\_Cain does a reindex using Lucene this time  \n15:57\u00a0<ClemensR>\u00a0when upgrading the wiki pages in the XWIki , please see http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki71  \n15:58\u00a0<Dr\\_Cain>\u00a0ah thanks  \n15:59\u00a0<ClemensR>\u00a0and solr: see http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki70#HSolrindexchanges \u00a0\u00a0- full reindex needed, sorry  \n15:59\u00a0<Dr\\_Cain>\u00a0I switched to Lucene this time  \n16:03\u00a0<ClemensR>\u00a0well, just in case you miss the facet search or the like :)  \n16:11\u00a0<ClemensR>\u00a0I hope the FAQ entry is understandable, otherwise please improve :)  \n16:11\u00a0<Dr\\_Cain>\u00a0nice!  \n16:13\u00a0<Dr\\_Cain>\u00a0I'm going to wait until reindex completes until I call this a complete success though  \n16:13\u00a0<Dr\\_Cain>\u00a0search is broken at the moment  \n16:13\u00a0<Dr\\_Cain>\u00a0but it's still reindexing so..  \n16:13\u00a0<Dr\\_Cain>\u00a0maxing out one VM core  \n16:13\u00a0<ClemensR>\u00a0yes, if reindex is in progress, search will show no / not much results  \n16:14\u00a0<ClemensR>\u00a0but it should not show an error message (I think)  \n16:15\u00a0<Dr\\_Cain>\u00a0yeah, just no results  \n16:15\u00a0<Bugendolf>\u00a0has quit  \n16:16\u00a0<ClemensR>\u00a0ok, that is normal, then, so far  \n16:18\u00a0<ClemensR>\u00a0btw, is it 7,1 or 7.1.1 ? I thought 7.1.1 is out for more than a month, so it should be in the debian repo, too.  \n16:24\u00a0<ClemensR>\u00a0if it is 7.1.1 please disregard my remark about upgrading the wiki pages, as the problem there is fixed in 7.1.1  \n16:26\u00a0<Dr\\_Cain>\u00a0this is 7.1.1  \n16:27\u00a0<ClemensR>\u00a0ah, ok, good :)  \n16:42\u00a0<Enygma`>\u00a0has quit  \n16:43\u00a0<Enygma`>\u00a0has joined #xwiki  \n16:46\u00a0<Dr\\_Cain>\u00a0well that's strange  \n16:46\u00a0<Dr\\_Cain>\u00a0when searching now I get \"Lucene plugin not found. Make sure it's defined in your xwiki.cfg file.\"  \n16:46\u00a0<Dr\\_Cain>\u00a0but it is in the xwiki.cfg file  \n16:47\u00a0<Dr\\_Cain>\u00a0xwiki.plugins includes \u00a0\u00a0com.xpn.xwiki.plugin.lucene.LucenePlugin,\\  \n16:49\u00a0<Dr\\_Cain>\u00a0oh it says \"Installed but not valid\"  \n16:49\u00a0<Dr\\_Cain>\u00a0ah it didn't ugprade for some reason  \n16:49\u00a0<Dr\\_Cain>\u00a0still on 6.4.4  \n16:49\u00a0<Dr\\_Cain>\u00a0how very strange  \n16:50\u00a0<Dr\\_Cain>\u00a0ahh.. there \\_is no\\_ 7.1.1 version of it  \n16:50\u00a0<Dr\\_Cain>\u00a0back to Solr  \n16:55\u00a0<Slashman>\u00a0has joined #xwiki  \n16:56\u00a0\\*\u00a0Dr\\_Cain did a full reindex now  \n16:56\u00a0<Dr\\_Cain>\u00a0but the autocomplete when searching seems broken  \n16:56\u00a0<Dr\\_Cain>\u00a0when pressing enter, search does work  \n16:58\u00a0<Dr\\_Cain>\u00a0also the \"sort by\" link seems broken, it links to /xwiki/resources/icons/silk/bullet\\_arrow\\_up.png(%%)  \n16:58\u00a0<Dr\\_Cain>\u00a0and the (%%) causes an error  \n17:00\u00a0<Dr\\_Cain>\u00a0oh nevermind, I got search suggest working now  \n17:00\u00a0<Dr\\_Cain>\u00a0I just had to go and resave that option  \n17:05\u00a0<vmassol>\u00a0has quit  \n17:06\u00a0<Enygma`>\u00a0has quit  \n17:06\u00a0\\*\u00a0Dr\\_Cain deletes the snapshot, all is well  \n17:07\u00a0<gsmeria>\u00a0has quit  \n17:08\u00a0<gsmeria>\u00a0has joined #xwiki  \n17:09\u00a0<KermitTheFragger>\u00a0has quit  \n17:09\u00a0<\\_cjd>\u00a0has quit  \n17:10\u00a0<woshilapin>\u00a0has quit  \n17:10\u00a0<gdelhumeau>\u00a0has quit  \n17:17\u00a0<gsmeria>\u00a0has left #xwiki  \n17:37\u00a0<Dr\\_Cain>\u00a0has left #xwiki  \n17:49\u00a0<ClemensR>\u00a0has left #xwiki  \n18:08\u00a0<Slashman>\u00a0has quit  \n18:13\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n18:18\u00a0<Slashman>\u00a0has joined #xwiki  \n18:37\u00a0<gdelhumeau>\u00a0has quit  \n19:17\u00a0<msmeria>\u00a0has joined #xwiki  \n19:44\u00a0<msmeria>\u00a0has quit  \n20:45\u00a0<abusenius>\u00a0has joined #xwiki  \n22:28\u00a0<Slashman>\u00a0has quit  \n23:14\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n23:45\u00a0<\\_cjd>\u00a0has joined #xwiki  \n23:48\u00a0<gdelhumeau>\u00a0has quit\n"}