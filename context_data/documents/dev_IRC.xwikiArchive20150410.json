{"id": "dev:IRC.xwikiArchive20150410", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150410", "title": "IRC Archive for channel #xwiki on 10 April 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Chuguniy>\u00a0has quit  \n05:13\u00a0<martin-h>\u00a0has joined #xwiki  \n05:25\u00a0<spawn57\\_>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n07:09\u00a0<msmeria>\u00a0has joined #xwiki  \n07:22\u00a0<msmeria1>\u00a0has joined #xwiki  \n07:25\u00a0<msmeria>\u00a0has quit  \n07:35\u00a0<msmeria1>\u00a0is now known as <msmeria>  \n07:46\u00a0<msmeria1>\u00a0has joined #xwiki  \n07:48\u00a0<msmeria>\u00a0has quit  \n07:51\u00a0<msmeria>\u00a0has joined #xwiki  \n07:54\u00a0<msmeria1>\u00a0has quit  \n08:08\u00a0<sburjan>\u00a0has quit  \n08:14\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:33\u00a0<D-Spair>\u00a0has quit  \n08:39\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:43\u00a0<D-Spair>\u00a0has joined #xwiki  \n08:52\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:58\u00a0<woshilapin>\u00a0has quit  \n08:58\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:00\u00a0<msmeria>\u00a0has quit  \n09:07\u00a0<msmeria>\u00a0has joined #xwiki  \n09:08\u00a0<msmeria2>\u00a0has joined #xwiki  \n09:10\u00a0<msmeria1>\u00a0has quit  \n09:11\u00a0<msmeria>\u00a0has quit  \n09:22\u00a0<mflorea>\u00a0has joined #xwiki  \n09:34\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:49\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:57\u00a0<evalica>\u00a0has joined #xwiki  \n09:58\u00a0<mflorea>\u00a0has quit  \n10:02\u00a0<Slashman>\u00a0has joined #xwiki  \n10:04\u00a0<cjd>\u00a0has joined #xwiki  \n10:16\u00a0<mflorea>\u00a0has joined #xwiki  \n10:20\u00a0<gsmeria>\u00a0has quit  \n10:35\u00a0<cjd>\u00a0has quit  \n10:42\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:44\u00a0<cjd>\u00a0has joined #xwiki  \n10:53\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:10\u00a0<Denis1>\u00a0is now known as <Denis>  \n11:21\u00a0<gsmeria>\u00a0has quit  \n11:32\u00a0<woshilapin>\u00a0Hi devs, I have a small problem with components in Java  \n11:32\u00a0<woshilapin>\u00a0I'm trying to inject one  \n11:32\u00a0<woshilapin>\u00a0with a specific hint  \n11:32\u00a0<woshilapin>\u00a0But he don't find the descriptor  \n11:32\u00a0<woshilapin> @Inject  \n11:32\u00a0<woshilapin> @Named(\"org.xwiki.rest.internal.resources.pages.PageResourceImpl\")  \n11:32\u00a0<woshilapin> private PageResource pageResource;  \n11:33\u00a0<woshilapin>\u00a0And this is what I got as an exception https://ezcrypt.it/4UAn#LgrKPo6wC1uxd3x2R9zCywMn  \n11:34\u00a0<woshilapin>\u00a0(basically, can't find descriptor for the component [role=..., hint=...]  \n11:34\u00a0<woshilapin>\u00a0The component I'm trying to inject is one from the rest API  \n11:36\u00a0<cjd>\u00a0{{groovy}}import org.xwiki.rest.resources.pages.PageResource; println(services.component.getImplementation(PageResource.class,\"org.xwiki.rest.internal.resources.pages.PageResourceImpl\")){{/groovy}}  \n11:38\u00a0<woshilapin>\u00a0null  \n11:38\u00a0<woshilapin>\u00a0(I mean, 'null' is the result)  \n11:39\u00a0<cjd>\u00a0rest is a source of a lot of bugs, maybe it would be faster to rewrite it using less buggy patterns than keep kicking the can  \n11:40\u00a0<tmortagne>\u00a0woshilapin: PageResource is not the role  \n11:40\u00a0<tmortagne>\u00a0the role is XWikiRestComponent  \n11:40\u00a0<woshilapin>\u00a0Ahhhhhhhh  \n11:40\u00a0<tmortagne>\u00a0org.xwiki.rest.XWikiRestComponent  \n11:40\u00a0<woshilapin>\u00a0ok  \n11:40\u00a0<tmortagne>\u00a0PageResource is just a helper interface mostly to share things between client and server code  \n11:41\u00a0<tmortagne>\u00a0the role is what is common to all rest resources  \n11:41\u00a0<woshilapin>\u00a0Yes, it unblocks stuff in my brain and yes, indeed, I was mislead here  \n11:41\u00a0<tmortagne>\u00a0(ad technically what have the annotation @Role :))  \n11:41\u00a0<woshilapin>\u00a0I should always look for a class/interface that contains @Role  \n11:41\u00a0<woshilapin>\u00a0:-)  \n11:42\u00a0<woshilapin>\u00a0OK, thanks, i'll try that  \n11:42\u00a0<tmortagne>\u00a0sometime you have a custom role in the @Component annotation but it's rare  \n11:43\u00a0<woshilapin>\u00a0??  \n11:43\u00a0<woshilapin>\u00a0@Component(\"somethingcustom\")?  \n11:43\u00a0<woshilapin>\u00a0you mean that?  \n11:44\u00a0<DarkKnightCZ>\u00a0@Named(\"somethingcustom\")  \n11:44\u00a0<tmortagne>\u00a0the most commo use case for it is:  \n11:44\u00a0<tmortagne>\u00a0@Component(MyClass.class)  \n11:44\u00a0<tmortagne>\u00a0when you want t standalone component or hen you want to use as role a class you don't control  \n11:44\u00a0<tmortagne>\u00a0(like using String as role for example for some weird reason)  \n11:44\u00a0<tmortagne>\u00a0role is always a Type, not a String  \n11:45\u00a0<tmortagne>\u00a0String is the role hint  \n11:45\u00a0<woshilapin>\u00a0DarkKnightCZ: Yes, that's why I was surprised (@Component(\"custom\") is deprecated, I know, I made a PR in the last 3 weeks about that ^^)  \n11:45\u00a0<tmortagne>\u00a0Component(\"custom\") is the role hint  \n11:46\u00a0<tmortagne>\u00a0@Component(roles=MyClass.class)  \n11:46\u00a0<tmortagne>\u00a0I was missing the \"roles\" field name  \n11:46\u00a0<woshilapin>\u00a0ok  \n11:46\u00a0<tmortagne>\u00a0and this one is not deprecated  \n11:46\u00a0<tmortagne>\u00a0just not used much  \n11:47\u00a0<woshilapin>\u00a0OK, thanks for the explanations  \n12:39\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:43\u00a0<gsmeria>\u00a0has quit  \n13:06\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:20\u00a0<DarkKnightCZ>\u00a0has quit  \n13:35\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:13\u00a0<DarkKnightCZ>\u00a0has quit  \n14:25\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:37\u00a0<Trefex>\u00a0has joined #xwiki  \n14:53\u00a0<lucaa>\u00a0has joined #xwiki  \n14:55\u00a0<lucaa>\u00a0has quit  \n15:06\u00a0<msmeria2>\u00a0has quit  \n15:07\u00a0<evalica>\u00a0has quit  \n16:05\u00a0<Bugendolf>\u00a0has quit  \n16:07\u00a0<Bugendolf>\u00a0has joined #xwiki  \n16:41\u00a0<DarkKnightCZ>\u00a0has quit  \n16:52\u00a0<gsmeria>\u00a0has quit  \n16:57\u00a0<Chuguniy>\u00a0has joined #xwiki  \n17:01\u00a0<MasterPiece>\u00a0has joined #xwiki  \n17:09\u00a0<KermitTheFragger>\u00a0has quit  \n17:12\u00a0<Enygma`>\u00a0has quit  \n17:39\u00a0<gsmeria>\u00a0has joined #xwiki  \n17:40\u00a0<tmortagne>\u00a0has quit  \n17:50\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n18:06\u00a0<woshilapin>\u00a0has quit  \n18:06\u00a0<cjd>\u00a0has quit  \n18:11\u00a0<gsmeria>\u00a0has quit  \n18:12\u00a0<gsmeria>\u00a0has joined #xwiki  \n18:17\u00a0<mflorea>\u00a0has quit  \n18:23\u00a0<gsmeria>\u00a0has quit  \n18:57\u00a0<Pbas>\u00a0has quit  \n19:00\u00a0<woshilapin>\u00a0has joined #xwiki  \n19:34\u00a0<Slashman>\u00a0has quit  \n20:22\u00a0<Trefex>\u00a0has quit  \n21:24\u00a0<MasterPiece>\u00a0has quit  \n22:09\u00a0<Trefex>\u00a0has joined #xwiki\n"}