{"id": "dev:IRC.xwikiArchive20111103", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111103", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:03\u00a0<[1]jer>\u00a0has joined #xwiki  \n00:08\u00a0<[1]jer>\u00a0has quit  \n00:12\u00a0<jvelociter>\u00a0has quit  \n01:25\u00a0<Ruudjah2>\u00a0has joined #xwiki  \n07:01\u00a0<mflorea>\u00a0has joined #xwiki  \n07:05\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f feature-applicationWithinMinutes\u000f \\* rac3246f\u000f \u000f/ (2 files in 2 dirs):\u000f Fix code style error. - https://github.com/xwiki/xwiki-platform/commit/ac3246f5a7fa264980a99ffaff548238abd08c17  \n07:05\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f feature-applicationWithinMinutes\u000f \\* r5df4782\u000f \u000f/ xwiki-platform-core/xwiki-platform-store/xwiki-platform-store-transaction/src/main/java/org/xwiki/store/TransactionRunnable.java :\u000f Fix code style error. - https://github.com/xwiki/xwiki-platform/commit/5df47825c2b4f7e9438b2cb666f920b773e659b7  \n07:05\u00a0<CIA-102>\u00a0Marius Dumitru Florea\u000f feature-applicationWithinMinutes\u000f \\* rd7c2c62\u000f \u000f/ (3 files in 3 dirs):\u000f Merge branch 'master' of github.com:xwiki/xwiki-platform into feature-applicationWithinMinutes - http://git.io/L27KcA  \n07:32\u00a0<vmassol>\u00a0has joined #xwiki  \n07:46\u00a0<tekzilla>\u00a0has quit  \n07:48\u00a0<tekzilla>\u00a0has joined #xwiki  \n08:11\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:23\u00a0<CIA-102>\u00a0Thomas Mortagne\u000f master\u000f \\* r68b8ac2\u000f \u000f/ xwiki-enterprise-installers/pom.xml :\u000f Missing <module> - http://git.io/\\_BbVCg  \n09:49\u00a0<Denis1>\u00a0is now known as <Denis>  \n10:04\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r0968dce\u000f \u000f/ (2 files in 2 dirs):\u000f XE-1036: Debian package fail to install - http://git.io/gV8NoQ  \n10:18\u00a0<sburjan>\u00a0has joined #xwiki  \n11:04\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:04\u00a0<evalica>\u00a0has joined #xwiki  \n11:40\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r378979e\u000f \u000f/ xwiki-enterprise-installers/xwiki-enterprise-installer-debian/xwiki-enterprise-installer-debian-common/src/deb/control/postinst :\u000f  \n11:40\u00a0<CIA-102>\u00a0XE-1036: Debian package fail to install  \n11:40\u00a0<CIA-102>\u00a0Another bug - http://git.io/VXma-Q  \n11:57\u00a0<lucaa>\u00a0has joined #xwiki  \n12:07\u00a0<abusenius>\u00a0has joined #xwiki  \n12:08\u00a0<lucaa>\u00a0has quit  \n12:12\u00a0<Ruudjah2>\u00a0has quit  \n12:24\u00a0<lucaa>\u00a0has joined #xwiki  \n12:46\u00a0<mflorea>\u00a0has quit  \n15:01\u00a0<lucaa>\u00a0has quit  \n15:06\u00a0<mflorea>\u00a0has joined #xwiki  \n15:14\u00a0<+sburjan>\u00a0tmortagne: around ?  \n15:14\u00a0<+tmortagne>\u00a0sburjan: not for long, I have a call with Enygma`  \n15:15\u00a0<+sburjan>\u00a0I will be quick  \n15:15\u00a0<+sburjan>\u00a0I have attached images to the page http://extensions.xwiki.org/xwiki/bin/view/Extension/JIRA+Macro?viewer=changes&rev2=9.1  \n15:15\u00a0<+sburjan>\u00a0but I am not able to display them, but the link is valid  \n15:15\u00a0<+sburjan>\u00a0what is the cause ?  \n15:16\u00a0<+tmortagne>\u00a0indeed the URL seems right that's weird  \n15:16\u00a0<+sburjan>\u00a0ok, works now  \n15:16\u00a0<+tmortagne>\u00a0not for all  \n15:17\u00a0<+tmortagne>\u00a0but yes it's working for other too now  \n15:17\u00a0<+sburjan>\u00a0yepp, first one doesn't work  \n15:17\u00a0<+tmortagne>\u00a0don't know what to say, checking the source  \n15:18\u00a0<+tmortagne>\u00a0:)  \n15:18\u00a0<+tmortagne>\u00a0attach:jiraMacroTable.png  \n15:18\u00a0<+tmortagne>\u00a0it's doing what you asked it to do ;)  \n15:19\u00a0<+tmortagne>\u00a0attach:... mean display a link to the provided attachment  \n15:19\u00a0<+sburjan>\u00a0my bad :)  \n16:14\u00a0<+sburjan>\u00a0vmassol: http://extensions.xwiki.org/xwiki/bin/view/Extension/JIRA+Macro  \n16:15\u00a0<vmassol>\u00a0sburjan: reading  \n16:15\u00a0<sdumitriu>\u00a0tmortagne: The l10n wiki needs to be updated with the new paths for wiki pages  \n16:15\u00a0<sdumitriu>\u00a0Since you refactored xwiki-enterprise-wiki and xwiki-manager-app  \n16:16\u00a0<+tmortagne>\u00a0indeed  \n16:16\u00a0<+tmortagne>\u00a0forgot about it  \n16:17\u00a0<vmassol>\u00a0fixing a few things sburjan  \n16:19\u00a0<vmassol>\u00a0sburjan: can you tell me the default columns for the 3 types please so that I can add them?  \n16:22\u00a0<+tmortagne>\u00a0sdumitriu: done  \n16:23\u00a0<sdumitriu>\u00a0Thanks  \n16:23\u00a0<+sburjan>\u00a0ok. columns default is table; columnNames default as \"Type\", \"Key\", \"Status\", \"Assignee\", and notes doesn't have a default  \n16:23\u00a0<+sburjan>\u00a0unfortunately  \n16:25\u00a0<+sburjan>\u00a0vmassol: also jql doesn't have a default  \n16:25\u00a0<vmassol>\u00a0yep  \n16:26\u00a0<vmassol>\u00a0fixing lots of things :)  \n16:26\u00a0<+sburjan>\u00a0await, actually it has, default is false.. as I see it in the behavior  \n16:26\u00a0<vmassol>\u00a0yes  \n16:26\u00a0<vmassol>\u00a0can you tell me the default columns for the differentt ypes please?  \n16:26\u00a0<+sburjan>\u00a0case \"table\": if (columnsParameters.size()== 0) columnsParameters = [\"type\", \"key\", \"status\", \"assignee\"]; break;  \n16:26\u00a0<+sburjan>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0case \"list\": \u00a0if (columnsParameters.size()== 0) columnsParameters = [\"status\", \"key\", \"summary\"]; break;  \n16:26\u00a0<+sburjan>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0case \"enum\": \u00a0if (columnsParameters.size()== 0) columnsParameters = [\"status\", \"key\"]; break;  \n16:27\u00a0<vmassol>\u00a0thanks  \n16:27\u00a0<vmassol>\u00a0hmm wait  \n16:27\u00a0<vmassol>\u00a0we said that summary was in the default columns for table  \n16:28\u00a0<+sburjan>\u00a0yeah, but you committed an older version of hte macro, and I forgot to fix that  \n16:28\u00a0<vmassol>\u00a0is it committed for the next version?  \n16:28\u00a0<+sburjan>\u00a0not yet, but I can commit now  \n16:28\u00a0<vmassol>\u00a0ok  \n16:29\u00a0<+sburjan>\u00a0so we won't forget...  \n16:29\u00a0<+sburjan>\u00a0ok, committing now  \n16:30\u00a0<+sburjan>\u00a0summary between status and assignee, right ?  \n16:30\u00a0<vmassol>\u00a0yes  \n16:34\u00a0<+sburjan>\u00a0ok, something is broken  \n16:35\u00a0<+sburjan>\u00a0vmassol: https://github.com/xwiki-contrib/macro-jira/commits/master  \n16:36\u00a0<+sburjan>\u00a0don't know what the hell is Merge branch 'master' of github.com:xwiki-contrib/macro-jira  \n16:37\u00a0<+sburjan>\u00a0because I did no change in pom.xml :)  \n16:38\u00a0<vmassol>\u00a0sburjan: the screenshots should be updated without the titles  \n16:38\u00a0<+sburjan>\u00a0ok, doing it now  \n16:39\u00a0<vmassol>\u00a0sburjan: when you committed you need to reference a jira issue  \n16:40\u00a0<vmassol>\u00a0s/committed/commit/  \n16:40\u00a0<vmassol>\u00a0can you please create a jira issue?  \n16:40\u00a0<+sburjan>\u00a0I can, but the stuff is already committed  \n16:40\u00a0<vmassol>\u00a0still  \n16:40\u00a0<vmassol>\u00a0next time you can do it the other way  \n16:40\u00a0<vmassol>\u00a0create jira then commit  \n16:41\u00a0<+sburjan>\u00a0ok, I didn;t knwe we need a jira issue even for a such small thing.. on contrib.  \n16:41\u00a0<vmassol>\u00a0following best practices  \n16:41\u00a0<vmassol>\u00a0it's a good way for you to learn the xwiki dev best practices  \n16:41\u00a0<vmassol>\u00a0so that when you become committer you know it already )  \n16:42\u00a0<vmassol>\u00a0:)  \n16:42\u00a0<+sburjan>\u00a0yes, I'd like that one day :)  \n16:42\u00a0<vmassol>\u00a0did you commit other stuff already for version 1.1 of the jira macro?  \n16:42\u00a0<vmassol>\u00a0(if so we'll need some jiras for those too)  \n16:43\u00a0<vmassol>\u00a0sburjan: what is this?  \n16:43\u00a0<vmassol>\u00a0https://github.com/xwiki-contrib/macro-jira/commit/af2de9994e16f8cadc564a1bbaa4d0c9c22cd5e7  \n16:43\u00a0<vmassol>\u00a0ah I knw  \n16:43\u00a0<vmassol>\u00a0you need to use \"git pull --rebase\"  \n16:43\u00a0<vmassol>\u00a0don't forget the \u2014rebase part it's important  \n16:45\u00a0<+sburjan>\u00a0re-uploaded the images  \n16:45\u00a0<+sburjan>\u00a0i never used rebase, I don't quite understand it :)  \n16:45\u00a0<+sburjan>\u00a0no, I have not committed other things, I only added summary  \n16:45\u00a0<vmassol>\u00a0you can google it  \n16:45\u00a0<+sburjan>\u00a0so only one commit  \n16:45\u00a0<vmassol>\u00a0(for rebase)  \n16:45\u00a0<vmassol>\u00a0ok let me know once the jira issue is created and I'll release version 1.1  \n16:46\u00a0<vmassol>\u00a0(close it too)  \n16:48\u00a0<+sburjan>\u00a0vmassol: \u00a0http://jira.xwiki.org/browse/XCONTRIB-134  \n16:48\u00a0<vmassol>\u00a0sburjan: you forgot to specify the version  \n16:48\u00a0<vmassol>\u00a0and the assignee!  \n16:48\u00a0<vmassol>\u00a0(be careful next time)  \n16:49\u00a0<vmassol>\u00a0I'll let you set them  \n16:49\u00a0<+sburjan>\u00a0I don't think I have the credentials to assign issues  \n16:49\u00a0<+sburjan>\u00a0to anybody, not even to me  \n16:49\u00a0<vmassol>\u00a0can you try it?  \n16:50\u00a0<+sburjan>\u00a0tried it. I have fixed the \"Fix for\" field  \n16:50\u00a0<vmassol>\u00a0you'll need to reopen the issue nayway  \n16:51\u00a0<+sburjan>\u00a0vmassol: nope, I can't assign. I have nowhere in the UI  \n16:51\u00a0<vmassol>\u00a0ok checking permissions  \n16:51\u00a0<vmassol>\u00a0creating a special permission for xwiki contrib  \n16:51\u00a0<+sburjan>\u00a0I was never able to assign issues on platform  \n16:51\u00a0<vmassol>\u00a0yes that's normal  \n16:51\u00a0<+sburjan>\u00a0to anything related to xwiki open source  \n16:51\u00a0<vmassol>\u00a0you're not a committer  \n16:51\u00a0<+sburjan>\u00a0i know :)  \n16:52\u00a0<vmassol>\u00a0but for contrib we need to relax this rule  \n16:54\u00a0<vmassol>\u00a0sburjan: can you retry, should work now  \n16:55\u00a0<+sburjan>\u00a0hmm... I still don't have a field or button to assign it to myself or to someone else  \n16:57\u00a0<vmassol>\u00a0refresh mahbe  \n16:57\u00a0<vmassol>\u00a0ah wait  \n16:57\u00a0<vmassol>\u00a0I forgot  \n16:57\u00a0<vmassol>\u00a0something  \n16:57\u00a0<vmassol>\u00a0sburjan: should be ok now  \n16:58\u00a0<+sburjan>\u00a0ok, worked  \n17:00\u00a0<vmassol>\u00a0has quit  \n17:04\u00a0<vmassol>\u00a0has joined #xwiki  \n17:04\u00a0<vmassol>\u00a0sburjan: releasing 1.1 now  \n17:13\u00a0<+sburjan>\u00a0too bad we have to modify the extension after each release :)  \n17:13\u00a0<vmassol>\u00a0won't be needed in the future  \n17:14\u00a0<vmassol>\u00a0release done  \n17:14\u00a0<+sburjan>\u00a0I'll want to have a call with you so you can explain better the release process  \n17:15\u00a0<vmassol>\u00a0sburjan: first read this: ?  \n17:15\u00a0<vmassol>\u00a0http://dev.xwiki.org/xwiki/bin/view/Community/ReleaseProcess  \n17:15\u00a0<vmassol>\u00a0and  \n17:15\u00a0<vmassol>\u00a0http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome  \n17:16\u00a0<vmassol>\u00a0the last think is the easiest one actually  \n17:16\u00a0<vmassol>\u00a0if this is not clear then it needs to be updated  \n17:16\u00a0<vmassol>\u00a0but it shouldn't need a call to understand  \n17:16\u00a0<vmassol>\u00a0but if you don't understand it others won't either  \n17:16\u00a0<vmassol>\u00a0so we'll need to fix the doc instead  \n17:17\u00a0<vmassol>\u00a0sburjan: let''s now install the new macro on xwiki.org!  \n17:17\u00a0<abusenius>\u00a0has quit  \n17:17\u00a0<vmassol>\u00a0can you tell me what jira macros you already have on it?  \n17:17\u00a0<+sburjan>\u00a0okay. brb 15 minutes, we have a birthday celebration  \n17:18\u00a0<+sburjan>\u00a0vmassol: http://www.xwiki.org/xwiki/bin/view/Main/SpaceIndex?space=TestReports#|t=spaceindex&p=1&l=15&s=doc.name&d=asc&doc.name=jira  \n17:19\u00a0<+sburjan>\u00a0JiraMacro and jiraMacro2 are the only ones I knopw about on xwiki.org  \n17:20\u00a0<vmassol>\u00a0ok  \n17:20\u00a0<vmassol>\u00a0removing them now ok?  \n17:20\u00a0<+sburjan>\u00a0I will have to take \\_each\\_ mtr I have created so far and adapt it  \n17:20\u00a0<+sburjan>\u00a0yep, okay  \n17:25\u00a0<vmassol>\u00a0hmmm doesn't work http://www.xwiki.org/xwiki/bin/view/Macros/JiraMacro  \n17:26\u00a0<vmassol>\u00a0sburjan: please fix the examples on the macro page by removing the \"created by vincent\" text, it's really not relevant  \n17:26\u00a0<vmassol>\u00a0(no need for a jira issue for this one ;))  \n17:26\u00a0<vmassol>\u00a0the headings are all wrong too  \n17:27\u00a0<+sburjan>\u00a0you mean from the documentation ?  \n17:28\u00a0<vmassol>\u00a0I mean from Macro.JiraMacro  \n17:28\u00a0<vmassol>\u00a0works now btw, apparently the page needed to be resaved this will need to be tested  \n17:28\u00a0<vmassol>\u00a0also there's a bug apparently  \n17:28\u00a0<vmassol>\u00a0see http://www.xwiki.org/xwiki/bin/view/Macros/JiraMacro  \n17:29\u00a0<+sburjan>\u00a0wait, why did you put it in Macros instead of Macro ?  \n17:29\u00a0<vmassol>\u00a0so 1.1 is buggy :(  \n17:29\u00a0<vmassol>\u00a0apparently  \n17:29\u00a0<vmassol>\u00a0why not?  \n17:30\u00a0<+sburjan>\u00a0because the XAR creates it in Macro.JiraMacro.  \n17:30\u00a0<+sburjan>\u00a0the default location is Macro space, not macros  \n17:30\u00a0<vmassol>\u00a0you should change the page title too to \"JIRA Macro\" instead of \"JiraMacro\"  \n17:30\u00a0<vmassol>\u00a0and?  \n17:30\u00a0<+sburjan>\u00a0short call ? :)  \n17:30\u00a0<vmassol>\u00a0why?  \n17:30\u00a0<+sburjan>\u00a0I am confused  \n17:30\u00a0<vmassol>\u00a0ask your question  \n17:31\u00a0<+sburjan>\u00a0why did you told me to create the xar in Macro.JiraMacro if we're going to user it in Macros ? I thought you wanted a default location for all macros, which would be the Macro space  \n17:32\u00a0<+sburjan>\u00a0because I guess I'll have to change that also in the source code ?  \n17:33\u00a0<vmassol>\u00a0no  \n17:33\u00a0<vmassol>\u00a0Macro space is good  \n17:34\u00a0<vmassol>\u00a0but on xwiki.org some people have not respected that location and have put several macros already in a space called Macros  \n17:34\u00a0<+sburjan>\u00a0ok, I see  \n17:34\u00a0<vmassol>\u00a0basically we don't have any official location for macros  \n17:34\u00a0<vmassol>\u00a0we'll need to agree on that by submitting a propolsal/vote  \n17:34\u00a0<+sburjan>\u00a0ok, I understand  \n17:34\u00a0<vmassol>\u00a0most macros I know are using \"Macro\"  \n17:35\u00a0<vmassol>\u00a0which is why I told you to use \"Macro\"  \n17:35\u00a0<vmassol>\u00a0but please check my messages above  \n17:35\u00a0<+sburjan>\u00a0and yes, we have a bug. I have to fix it.  \n17:36\u00a0<vmassol>\u00a0I thought you had tested it :(  \n17:36\u00a0<vmassol>\u00a0since you committed it  \n17:36\u00a0<vmassol>\u00a0you should always test \\*before\\* committing  \n17:36\u00a0<+sburjan>\u00a0the bug I see is about the columns. because I forgot to add in columnNames the default for summary I added  \n17:38\u00a0<vmassol>\u00a0ok fixed for xwiki.org  \n17:44\u00a0<+sburjan>\u00a0vmassol: I am going to re-open the issue, so I have it in my issues list in jira  \n17:44\u00a0<+sburjan>\u00a0not to forgot to fix it  \n17:44\u00a0<vmassol>\u00a0nope  \n17:44\u00a0<vmassol>\u00a0you're not allowed to reopen  \n17:45\u00a0<vmassol>\u00a0it's been released already  \n17:45\u00a0<vmassol>\u00a0it cannot be reopen  \n17:45\u00a0<+sburjan>\u00a0okay  \n17:45\u00a0<vmassol>\u00a0unless you find a way to do time travel ;)  \n17:45\u00a0<vmassol>\u00a0but you can open a new one  \n17:46\u00a0<+sburjan>\u00a0ok, could we do a quick release ? I am gonna commit now and do a test  \n17:47\u00a0<+sburjan>\u00a0opened the jira  \n17:58\u00a0<+sburjan>\u00a0vmassol: around ?  \n17:59\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r1af682d\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-api/src/test/java/org/xwiki/extension/test/ExtensionPackager.java :\u000f Bulletproofing - http://git.io/3SlVJw  \n17:59\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r27a3574\u000f \u000f/ (7 files in 3 dirs):\u000f  \n17:59\u00a0<CIA-102>\u00a0XWIKI-7114: Improve XWiki Repository UI  \n17:59\u00a0<CIA-102>\u00a0\\* various improvements backported from extensions.xwiki.org  \n17:59\u00a0<CIA-102>\u00a0\\* add admin UI - http://git.io/vx6NvA  \n18:19\u00a0<tmortagne>\u00a0has left #xwiki  \n18:31\u00a0<Enygma`>\u00a0has quit  \n18:32\u00a0<Enygma`>\u00a0has joined #xwiki  \n18:40\u00a0<evalica>\u00a0has quit  \n19:02\u00a0<Denis>\u00a0has quit  \n19:03\u00a0<evalica>\u00a0has joined #xwiki  \n19:13\u00a0<vmassol>\u00a0sburjan: shouldn't http://jira.xwiki.org/browse/XCONTRIB-135 be closed?  \n19:14\u00a0<+sburjan>\u00a0yes, closing it now  \n19:15\u00a0<+sburjan>\u00a0vmassol: check your skype  \n19:16\u00a0<vmassol>\u00a0typo: geneateColumnsArray  \n19:18\u00a0<vmassol>\u00a0sburjan: http://www.xwiki.org/xwiki/bin/view/TestReports/ManualTestReportXE272#H22Edit22Menu should be fixed, except that you're missing the url  \n19:18\u00a0<vmassol>\u00a0we need a XWikiJiraMacro for xwiki.org  \n19:18\u00a0<vmassol>\u00a0calling the jiraMacro  \n19:18\u00a0<vmassol>\u00a0so that we don't have to speicfy the url all the time  \n19:20\u00a0<vmassol>\u00a0I'll let you set inline in the code. You should check that it mode is inline and style = table or list then throw an exception  \n19:20\u00a0<vmassol>\u00a0s/in the code/in the macro descriptor/  \n19:20\u00a0<vmassol>\u00a0disocnnecting for a few minutes  \n19:21\u00a0<+sburjan>\u00a0ok, I don't know how to do that. will you have time tomorrow for a short call ?  \n19:23\u00a0<vmassol1>\u00a0has joined #xwiki  \n19:24\u00a0<vmassol>\u00a0has quit  \n19:27\u00a0<vmassol1>\u00a0sburjan: let's try to do it on irc and email  \n19:27\u00a0<vmassol1>\u00a0and you can ask to everyone not just me  \n19:27\u00a0<vmassol1>\u00a0(I won't have time tomorrow either)  \n19:28\u00a0<+sburjan>\u00a0ok, then let's agree on a tactic  \n19:28\u00a0<+sburjan>\u00a0I work locally and commit in the repo and you'll do a review from there before releasing the next version  \n19:36\u00a0<evalica>\u00a0has quit  \n19:40\u00a0<Enygma`>\u00a0has quit  \n19:46\u00a0<vmassol1>\u00a0sburjan: ok but please fix the issue quickly so that we can release 1.2 since I've advertised the jira macro and it's broken right now  \n19:48\u00a0<+sburjan>\u00a0vmassol1: okay. I will make several jira issues and several commits tomorrow. so tomorrow after lunch, we can take a look at the code and make the release  \n19:49\u00a0<abusenius>\u00a0has joined #xwiki  \n19:51\u00a0<+sburjan>\u00a0vmassol1: it seems that the macro works well inline using all of the 3 styles, only inconvenience is that each issue must be on one line, so I am thinking not to read line by line the content, instead user \",\" as a separator  \n19:53\u00a0<+sburjan>\u00a0\",\" as separator for issues and \"|\" for notes  \n19:54\u00a0<+sburjan>\u00a0it works with new line also, but doesn't look so pretty in the wiki syntax  \n19:57\u00a0<cjdelisle>\u00a0Howdy, Can I get access to the xwiki-contrib group on github?  \n19:58\u00a0<sdumitriu>\u00a0cjdelisle: You don't have it already?  \n19:58\u00a0<sdumitriu>\u00a0Doing it  \n19:58\u00a0<cjdelisle>\u00a0Thanks  \n19:59\u00a0<sdumitriu>\u00a0You're already in the owners group...  \n19:59\u00a0<sdumitriu>\u00a0Did you check if you have rights?  \n19:59\u00a0<cjdelisle>\u00a0ahh sorry for the bother, I didn't see my name on the list so I assumed I wasn't  \n20:00\u00a0<cjdelisle>\u00a0Ahh, I'm a private member, now I get it. Anyway thanks.  \n20:01\u00a0<sdumitriu>\u00a0I just publicized your membership  \n20:04\u00a0<jvelociter>\u00a0has joined #xwiki  \n20:05\u00a0<+jvelociter>\u00a0Hey guys  \n20:06\u00a0<+jvelociter>\u00a0I'm struggling trying to programmatically rename a document then save the document with the original name  \n20:06\u00a0<+jvelociter>\u00a0It keeps failing with a com.xpn.xwiki.XWikiException: Error number 3201 in 3: Exception while saving document xwiki:Page.Space Wrapped Exception: Failed to commit or rollback transaction. Root cause []  \n20:07\u00a0<+jvelociter>\u00a0I've tried different approaches, like doing copy + delete instead of rename, I'm always re-doing getDocument after the operation  \n20:08\u00a0<+jvelociter>\u00a0Kind of the same problem flavius had here : http://jira.xwiki.org/browse/XWIKI-6027  \n20:08\u00a0<+jvelociter>\u00a0anyone would know a workaround ?  \n20:13\u00a0<cjdelisle>\u00a0You're trying to rename a document then resave the original document? isn't that the same as copying?  \n20:16\u00a0<+jvelociter>\u00a0cjdelisle: yes kind of, but the original document has a lot of objects I would need to delete  \n20:17\u00a0<+jvelociter>\u00a0so copy + delete works for me  \n20:17\u00a0<+jvelociter>\u00a0but I have the same issue with that  \n20:17\u00a0<+jvelociter>\u00a0same exception  \n20:17\u00a0<+jvelociter>\u00a0I've tried both private and public APIs for doing it  \n20:17\u00a0<+jvelociter>\u00a0same  \n20:18\u00a0<+jvelociter>\u00a0what I want to do is pretty straightforward \u00a0: rename a document, and clear everything in the original document but adding it an object like XWiki.AliasClass (so I can do 301 redirs afterwards)  \n20:18\u00a0<cjdelisle>\u00a0ok so you want to copy a document, delete the document, get a new document by the same name as the one you just deleted and then save the new one  \n20:19\u00a0<+jvelociter>\u00a0exactly  \n20:19\u00a0<+jvelociter>\u00a0I have a feeling a cache is not flushed properly or something like this  \n20:20\u00a0<cjdelisle>\u00a0and it fails on save?  \n20:20\u00a0<+jvelociter>\u00a0yep  \n20:20\u00a0<cjdelisle>\u00a0the cache goes to pretty ridiculous lengths to avoid incoherency  \n20:21\u00a0<cjdelisle>\u00a0that sounds like it deserves a report  \n20:21\u00a0<cjdelisle>\u00a0(jira)  \n20:21\u00a0<+jvelociter>\u00a0yep  \n20:21\u00a0<+jvelociter>\u00a0I'll create that  \n20:22\u00a0<+jvelociter>\u00a0I think just delete + getDocument + save would be enough to reproduce  \n20:22\u00a0<+jvelociter>\u00a0I'll test  \n20:23\u00a0<vmassol1>\u00a0sburjan: don't create jira issues for small stuff, i.e for stuff that don't impact users  \n20:24\u00a0<vmassol1>\u00a0(I mentioned it to you above not to create an issue for this btw ;) was probbaly lost in the flow)  \n20:24\u00a0<vmassol1>\u00a0the goal of the jira issues is to generate the Release Notes  \n20:24\u00a0<vmassol1>\u00a0and we certainly don't want this typo issue in the release notes  \n20:25\u00a0<vmassol1>\u00a0sburjan: if in doubt you can read http://dev.xwiki.org/xwiki/bin/view/Main/WebHome  \n20:25\u00a0<vmassol1>\u00a0and specifically: http://dev.xwiki.org/xwiki/bin/view/Community/DevelopmentPractices#HJIRABestPractices  \n20:26\u00a0<cjdelisle>\u00a0^I had trouble with that too ;)  \n20:26\u00a0<+jvelociter>\u00a0cjdelisle: I confirm just delete() + getDocument again from API + save() fails  \n20:26\u00a0<vmassol1>\u00a0cjdelisle: once you understand it's used to generate the Release note it becomes simple IMO  \n20:29\u00a0<+jvelociter>\u00a0XWIKI-7115  \n20:29\u00a0<cjdelisle>\u00a0Yes, after understanding the release notes it all made sense.  \n20:29\u00a0<+jvelociter>\u00a0ah, no bot there :)  \n20:30\u00a0<cjdelisle>\u00a0My first thought here is that this is another case of transactions not being ended when they should.  \n20:31\u00a0<+jvelociter>\u00a0ok  \n20:33\u00a0<sdumitriu>\u00a0+1  \n20:33\u00a0<+jvelociter>\u00a0the one of the delete operation probably  \n20:36\u00a0<cjdelisle>\u00a0could be anywhere prior to the delete operation since beginTransaction() will skip actually beginning the tx if one is already open  \n20:37\u00a0<cjdelisle>\u00a0it's kind of a failsafe mechanism but it hides bugs  \n20:41\u00a0<vmassol1>\u00a0bot is here but for some reason it's not working anymore for jira\u2026. oh I think I know why, checking something  \n20:43\u00a0<vmassol1>\u00a0yep I know why  \n20:43\u00a0<vmassol1>\u00a0the swizzle plugin is not installed anymore on xwiki.org  \n20:44\u00a0<+sburjan>\u00a0vmassol1: what should I put in the commit message is no jira is open ? \u00a0something like \"[Misc] Removed EscapeTool import since it was not used anywhere\" ?  \n20:44\u00a0<vmassol1>\u00a0I'm adding it and I'll restart xwiki.org  \n20:44\u00a0<vmassol1>\u00a0sburjan: just describe what's been done in the commit like \"fix typo in method name\"  \n20:44\u00a0<vmassol1>\u00a0yep what you mentioned is good too  \n20:45\u00a0<+sburjan>\u00a0vmassol1: Ok. If you'll be unavailable tomorrow I will ask Marius to help me on throwing exception with inline and table and list, and the ping you so we can make the release  \n20:46\u00a0<vmassol1>\u00a0sburjan: why don't you try just asking here  \n20:46\u00a0<vmassol1>\u00a0you seem to be wanting to work one to one only  \n20:46\u00a0<vmassol1>\u00a0you can just ask something like: \"anyone knows how I can check if a macro is used in inline context when coding the macro\" or something like that  \n20:47\u00a0<+sburjan>\u00a0no, but I am afraid of committing something that you won't like, and I doubt someone is willing to help since nobody knows the code and what the issue is about  \n20:47\u00a0<vmassol1>\u00a0I'm not saying you should commit  \n20:47\u00a0<vmassol1>\u00a0I'm saying you shouldl'nt always ask people specifically  \n20:47\u00a0<vmassol1>\u00a0just ask to everyone  \n20:47\u00a0<vmassol1>\u00a0and when someone is free he'll answer  \n20:48\u00a0<+sburjan>\u00a0Ok  \n20:48\u00a0<vmassol1>\u00a0otherwsie you're kind of forcing people to answer  \n20:48\u00a0<vmassol1>\u00a0and thus stop what they're doing  \n20:48\u00a0<vmassol1>\u00a0now if nobody answers after some time you try using stronger tactics ofc ;)  \n20:48\u00a0<+sburjan>\u00a0:)  \n20:48\u00a0<vmassol1>\u00a0s/try/can try/  \n20:48\u00a0<vmassol1>\u00a0now re inline  \n20:49\u00a0<vmassol1>\u00a0you need to get hold of the Macro execution context  \n20:49\u00a0<vmassol1>\u00a0I don't know if that's available in a wiki macro  \n20:49\u00a0<vmassol1>\u00a0checking  \n20:50\u00a0<+sburjan>\u00a0so I \\_only\\_ allow inline with enum ? This is a specification issue :)  \n20:50\u00a0<vmassol1>\u00a0table is not an inline HTML element  \n20:50\u00a0<vmassol1>\u00a0nor is UL AFAIK  \n20:50\u00a0<+sburjan>\u00a0ok, I understand, and I agree :)  \n20:51\u00a0<vmassol1>\u00a0hmmm I don't think we expose \u00a0the MacroTxContext in wiki macros...  \n20:51\u00a0<vmassol1>\u00a0so  \n20:51\u00a0<vmassol1>\u00a0for now simply make the macro an inline macro  \n20:51\u00a0<vmassol1>\u00a0without check  \n20:51\u00a0<+sburjan>\u00a0ok, then we can do the release now, because I only have to modify a value  \n20:52\u00a0<vmassol1>\u00a0yes  \n20:52\u00a0<+sburjan>\u00a0ok, now I see a lot of inline values there. let me check which one is the one I need to modify  \n20:52\u00a0<vmassol1>\u00a0still checking something  \n20:52\u00a0<vmassol1>\u00a0what?  \n20:53\u00a0<vmassol1>\u00a0it's in the wiki macro XObject  \n20:53\u00a0<+sburjan>\u00a0yes, but I am looking at the source code XML  \n20:54\u00a0<vmassol1>\u00a0ok forget what I said  \n20:54\u00a0<vmassol1>\u00a0it's there  \n20:55\u00a0<vmassol1>\u00a0the binding  \n20:55\u00a0<vmassol1>\u00a0context.isInline() should give you the information  \n20:57\u00a0<vmassol1>\u00a0trying it  \n20:57\u00a0<vmassol1>\u00a0ah no  \n20:57\u00a0<vmassol1>\u00a0it's macro.context.isInline() I think  \n20:58\u00a0<vmassol1>\u00a0give me 5 mn  \n20:58\u00a0<vmassol1>\u00a0I'll find it ;)  \n20:58\u00a0<+sburjan>\u00a0could you do it ?  \n20:58\u00a0<+sburjan>\u00a0because I am unable to fint the XML tag/field I have to modify  \n20:59\u00a0<vmassol1>\u00a0you need to learn  \n20:59\u00a0<vmassol1>\u00a0open your wiki  \n20:59\u00a0<vmassol1>\u00a0edit objects  \n20:59\u00a0<vmassol1>\u00a0select true for inline macro  \n20:59\u00a0<vmassol1>\u00a0save  \n20:59\u00a0<vmassol1>\u00a0export xar  \n20:59\u00a0<vmassol1>\u00a0unzip  \n20:59\u00a0<vmassol1>\u00a0that's how we all do it  \n20:59\u00a0<vmassol1>\u00a0(otherwise it's asking for trouble ;))  \n20:59\u00a0<+sburjan>\u00a0yes, but I will have a lot of other modifications, starting from the version number to the content :)  \n20:59\u00a0<+sburjan>\u00a0ok, let me do that, maybe I can pinpoint the field I have to modify  \n21:01\u00a0<vmassol1>\u00a0sburjan: actually it's documented: http://platform.xwiki.org/xwiki/bin/view/DevGuide/WikiMacroTutorial  \n21:01\u00a0<+sburjan>\u00a0vmassol1: ok, found it  \n21:01\u00a0<vmassol1>\u00a0there's a bug though  \n21:02\u00a0<vmassol1>\u00a0it's xcontext not context  \n21:02\u00a0<vmassol1>\u00a0I'll fix the doc  \n21:02\u00a0<vmassol1>\u00a0xcontext.macro.context.isInline()  \n21:03\u00a0<+sburjan>\u00a0ok, found the value, modifying on local. also, I guess I have to make the check  \n21:03\u00a0<+sburjan>\u00a0in the code.  \n21:03\u00a0<+sburjan>\u00a0only thing is that I don't know how to throw an exception from Groovy  \n21:04\u00a0<+sburjan>\u00a0let me search  \n21:07\u00a0<vmassol1>\u00a0throw new MacroExecutionException(...)  \n21:13\u00a0<+sburjan>\u00a0ok, tseting now  \n21:13\u00a0<+sburjan>\u00a0created the code, testing locally  \n21:13\u00a0<+sburjan>\u00a0I guess I have to create a JIRA for this because it impachts the user  \n21:13\u00a0<+sburjan>\u00a0\\*impacts  \n21:15\u00a0<vmassol1>\u00a0yes  \n21:17\u00a0<+sburjan>\u00a0ok, I need the package name for MacroExecutionException  \n21:17\u00a0<+sburjan>\u00a0looking in the rendering wiki, but not with much success  \n21:17\u00a0<vmassol1>\u00a0google  \n21:17\u00a0<vmassol1>\u00a0?  \n21:18\u00a0<+sburjan>\u00a0found  \n21:19\u00a0<vmassol1>\u00a0restarting xwiki.org\u2026.  \n21:22\u00a0<xwikibot>\u00a0has joined #xwiki  \n21:22\u00a0<vmassol1>\u00a0XWIKI-1000  \n21:22\u00a0<vmassol1>\u00a0tic tac tic tac\u2026.  \n21:22\u00a0<vmassol1>\u00a0hmm  \n21:23\u00a0<+sburjan>\u00a0ok. It seems to work. I still get a stacktrace on table and list saying Caused by: org.xwiki.rendering.macro.MacroExecutionException: Using this style is not allowed in inline mode  \n21:23\u00a0<+sburjan>\u00a0so I guess it's okay  \n21:23\u00a0<+sburjan>\u00a0right ?  \n21:24\u00a0<vmassol1>\u00a0looks good. Not sure why you said \"still\" though  \n21:24\u00a0<+sburjan>\u00a0because I was excepting only one line, not a full stack :)  \n21:24\u00a0<+sburjan>\u00a0should I create a JIRA for this, or commit as [Misc] ?  \n21:24\u00a0<vmassol1>\u00a0for what?  \n21:24\u00a0<vmassol1>\u00a0I'm confiused now  \n21:25\u00a0<vmassol1>\u00a0you just asked above  \n21:25\u00a0<+sburjan>\u00a0for this. for fixing the inline issue.  \n21:25\u00a0<vmassol1>\u00a0what was it about above then?  \n21:25\u00a0<+sburjan>\u00a0ok, I see you yes :)  \n21:25\u00a0<+sburjan>\u00a0\\*your yes.  \n21:25\u00a0<+sburjan>\u00a0creating issue and committing  \n21:25\u00a0<vmassol1>\u00a0ok  \n21:30\u00a0<+sburjan>\u00a0vmassol1: done. I hope I didn't missed something  \n21:34\u00a0<vmassol1>\u00a0you haven't fixed several things I reported above  \n21:34\u00a0<[1]jer>\u00a0has joined #xwiki  \n21:34\u00a0<vmassol1>\u00a0doing it  \n21:35\u00a0<+sburjan>\u00a0ok. I will studythe code  \n21:37\u00a0<vmassol1>\u00a0sburjan: I can start the release, ok?  \n21:40\u00a0<+sburjan>\u00a0yes, if everything looks ok to you  \n21:40\u00a0<vmassol1>\u00a0I haven't tested it, I trust you on this  \n21:42\u00a0<+sburjan>\u00a0just built it and imported it after your commit, and it works, at least all the usages work  \n21:43\u00a0<+sburjan>\u00a0I am really really sorry for keeping you until this hour  \n21:44\u00a0<vmassol1>\u00a0hmmm I don't see any jira issue  \n21:44\u00a0<vmassol1>\u00a0can you give me the link?  \n21:44\u00a0<vmassol1>\u00a0(sburjan)  \n21:44\u00a0<vmassol1>\u00a0ah wait  \n21:44\u00a0<vmassol1>\u00a0I'm looking at the wrong version  \n21:44\u00a0<+sburjan>\u00a0http://jira.xwiki.org/browse/XCONTRIB-137 this is my last commit  \n21:44\u00a0<vmassol1>\u00a0found found it  \n21:45\u00a0<vmassol1>\u00a0sburjan: ok done: http://extensions.xwiki.org/xwiki/bin/view/Extension/JIRA+Macro  \n21:46\u00a0<+sburjan>\u00a0vmassol1: thank you very much for helping me !  \n21:46\u00a0<vmassol1>\u00a0well done sburjan for your first real extension on xwiki.org! :)  \n21:47\u00a0<vmassol1>\u00a0sburjan: I'd put an example without any param  \n21:47\u00a0<+sburjan>\u00a0maybe in the future I'll learn to be more careful on committing and learning the best practices. at least having access to contrib is a great step for me in learning how things should be properly done  \n21:47\u00a0<vmassol1>\u00a0with miinimal param  \n21:48\u00a0<+sburjan>\u00a0I have a lot of improvement ideas, from removing the notes param to other stuff :)  \n21:48\u00a0<vmassol1>\u00a0cool  \n21:49\u00a0<+sburjan>\u00a0so please create JIRA issues and assign them to me, so I can see what users want, and be able to improve  \n21:49\u00a0<vmassol1>\u00a0I can now go back to what I started this morning! :)  \n21:49\u00a0<+sburjan>\u00a0yepp, sorry for the delay :)  \n21:49\u00a0<vmassol1>\u00a0(I had several meetings this afteroon, not just you)  \n21:50\u00a0<vmassol1>\u00a0back to my link state integration  \n22:08\u00a0<mflorea>\u00a0has quit  \n22:23\u00a0<abusenius>\u00a0has quit  \n22:50\u00a0<sburjan>\u00a0has quit  \n23:26\u00a0<[1]jer>\u00a0is now known as <jlagarde>  \n23:28\u00a0<vmassol1>\u00a0has quit  \n23:33\u00a0<jlagarde>\u00a0has quit  \n\n"}