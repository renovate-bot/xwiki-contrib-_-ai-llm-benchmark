{"id": "dev:IRC.xwikiArchive20140509", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140509", "title": "IRC Archive for channel #xwiki on 09 May 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:44\u00a0<vmassol>\u00a0has joined #xwiki  \n00:47\u00a0<vmassol1>\u00a0has joined #xwiki  \n00:47\u00a0<vmassol>\u00a0has quit  \n00:51\u00a0<vmassol1>\u00a0has quit  \n01:48\u00a0<vmassol>\u00a0has joined #xwiki  \n01:54\u00a0<vmassol>\u00a0has quit  \n02:48\u00a0<vmassol>\u00a0has joined #xwiki  \n02:54\u00a0<vmassol>\u00a0has quit  \n03:46\u00a0<vmassol>\u00a0has joined #xwiki  \n03:52\u00a0<vmassol>\u00a0has quit  \n04:46\u00a0<vmassol>\u00a0has joined #xwiki  \n04:51\u00a0<vmassol>\u00a0has quit  \n05:46\u00a0<vmassol>\u00a0has joined #xwiki  \n05:52\u00a0<vmassol>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has quit  \n06:01\u00a0<Denis>\u00a0has joined #xwiki  \n06:46\u00a0<vmassol>\u00a0has joined #xwiki  \n06:52\u00a0<vmassol>\u00a0has quit  \n07:16\u00a0<polx>\u00a0has joined #xwiki  \n07:18\u00a0<polx>\u00a0has quit  \n07:20\u00a0<polx>\u00a0has joined #xwiki  \n07:28\u00a0<polx>\u00a0has quit  \n07:29\u00a0<ClemensR>\u00a0has joined #xwiki  \n07:44\u00a0<polx>\u00a0has joined #xwiki  \n07:46\u00a0<vmassol>\u00a0has joined #xwiki  \n07:49\u00a0<polx>\u00a0has quit  \n07:51\u00a0<vmassol>\u00a0has quit  \n08:14\u00a0<vmassol>\u00a0has joined #xwiki  \n08:29\u00a0<polx>\u00a0has joined #xwiki  \n08:49\u00a0<cjd>\u00a0has joined #xwiki  \n09:10\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:28\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:48\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:03\u00a0<polx>\u00a0has quit  \n10:44\u00a0<polx>\u00a0has joined #xwiki  \n11:18\u00a0<lucaa>\u00a0has joined #xwiki  \n11:19\u00a0<polx>\u00a0has quit  \n11:26\u00a0<polx>\u00a0has joined #xwiki  \n13:01\u00a0<polx>\u00a0has quit  \n13:01\u00a0<polx>\u00a0has joined #xwiki  \n13:02\u00a0<polx>\u00a0has quit  \n13:15\u00a0<xwikinewb>\u00a0has joined #xwiki  \n13:36\u00a0<cjd>\u00a0has quit  \n13:40\u00a0<cjd>\u00a0has joined #xwiki  \n14:20\u00a0<lucaa>\u00a0has quit  \n14:37\u00a0<polx>\u00a0has joined #xwiki  \n14:55\u00a0<lucaa>\u00a0has joined #xwiki  \n15:01\u00a0<polx>\u00a0has quit  \n15:45\u00a0<xwikinewb>\u00a0How to get the webhome titles from all spaces? This pseudo-code way does not seem to work: \u00a0\u00a0xwiki.getSpaces() --> for each, onedoc=getDocument(space + \"/WebHome\") onedoc.getTitle()  \n15:45\u00a0<xwikinewb>\u00a0I think I need a correct url to getDocument.  \n15:46\u00a0<cjd>\u00a0getDocument(space + \"/WebHome\") \u00a0\u00a0<-- use a '.' rather than a '/'  \n15:48\u00a0<xwikinewb>\u00a0awesome, I got it to work now.  \n15:48\u00a0<xwikinewb>\u00a0thanks  \n15:49\u00a0<vmassol>\u00a0btw your code won't work for documents with dots in their names\u2026  \n15:49\u00a0<vmassol>\u00a0you need to use document references to handle that  \n15:49\u00a0<cjd>\u00a0full disclosure: there are a lot of different/newer/more efficient ways to solve this, I just gave you the easiest one  \n15:49\u00a0<cjd>\u00a0or what vmassol is saying  \n15:50\u00a0<xwikinewb>\u00a0for n in xwiki.getSpaces():  \n15:50\u00a0<xwikinewb>\u00a0\u00a0\u00a0\u00a0\u00a0onedoc = xwiki.getDocument(n + \".WebHome\")  \n15:50\u00a0<xwikinewb>\u00a0\u00a0\u00a0\u00a0\u00a0print onedoc.getTitle()  \n15:50\u00a0<vmassol>\u00a0the problem is that XWiki.getSpaces() will return strings and not references...  \n15:51\u00a0<vmassol>\u00a0;)  \n15:51\u00a0<xwikinewb>\u00a0Ah, ok :)  \n15:51\u00a0<vmassol>\u00a0so you'd need to convert them to proper Reference objects  \n15:51\u00a0<vmassol>\u00a0wait I'll get you the right code  \n15:51\u00a0<xwikinewb>\u00a0I also get this \"$services.localization.render('xe.xwiki.space')\" as the final entry  \n15:52\u00a0<cjd>\u00a0actually \".WebHome\" is a good example of safe usage of xwiki.getDocument(String) since we can be pretty sure that \"WebHome\" does not have any dots in it :)  \n15:52\u00a0<vmassol>\u00a0hmm  \n15:52\u00a0<vmassol>\u00a0indeed it should work even if the space has a fot  \n15:52\u00a0<vmassol>\u00a0\\*dot  \n15:52\u00a0<vmassol>\u00a0because the default parser will take the latest dot  \n15:53\u00a0<vmassol>\u00a0you're lucky )  \n15:53\u00a0<vmassol>\u00a0;)  \n15:54\u00a0<xwikinewb>\u00a0I will filter out a select few spaces before running the loop, so this would work for me.  \n15:55\u00a0<xwikinewb>\u00a0Ah the last entry is the title-code of the XWiki space.  \n15:55\u00a0<vmassol>\u00a0actually cjd I don't think we have a way to get what xwikinewb wants properly without requiring PR....  \n15:55\u00a0<vmassol>\u00a0we can't use getSpaces() so we need to do a XWQL query using the QM  \n15:55\u00a0<cjd>\u00a0getRenderedTitle  \n15:55\u00a0<cjd>\u00a0can't use getSpaces() ?  \n15:55\u00a0<vmassol>\u00a0but we need to return the space and page name separetly and thus write a full select  \n15:55\u00a0<vmassol>\u00a0which requires PR  \n15:56\u00a0<vmassol>\u00a0getSpaces would return the string name without escapes  \n15:56\u00a0<vmassol>\u00a0s/would/will  \n15:56\u00a0<cjd>\u00a0is that a problem?  \n15:56\u00a0<xwikinewb>\u00a0(I'm lost, what is PR?)  \n15:56\u00a0<vmassol>\u00a0xwikinewb: don't worry  \n15:56\u00a0<vmassol>\u00a0:)  \n15:56\u00a0<xwikinewb>\u00a0ok :)  \n15:57\u00a0<vmassol>\u00a0your code should be ok for the most part  \n15:57\u00a0<vmassol>\u00a0but we have some limitation in our api  \n15:57\u00a0<vmassol>\u00a0mixing between old apis and new apis  \n15:57\u00a0<vmassol>\u00a0cjd: it's not perfect, it might work fine now but imagine we change the home page to not be \"WebHome\" but \"Web.Home\" for example  \n15:59\u00a0<cjd>\u00a0lol  \n15:59\u00a0<vmassol>\u00a0well  \n15:59\u00a0<xwikinewb>\u00a0Yeah, now I can get customer spaces in order to list, parse and all that jazz.  \n15:59\u00a0<vmassol>\u00a0what we are really missing  \n15:59\u00a0<vmassol>\u00a0is that the QM should reutrn reference and not strings  \n16:00\u00a0<vmassol>\u00a0I've been wanting to fix this one for a long time already  \n16:02\u00a0<cjd>\u00a0xwikinewb: http://nexus.xwiki.org/nexus/service/local/repositories/releases/archive/org/xwiki/platform/xwiki-platform-oldcore/5.4.4/xwiki-platform-oldcore-5.4.4-javadoc.jar/!/index.html  \n16:02\u00a0<cjd>\u00a0getDisplayTitle() might do the trick  \n16:04\u00a0<xwikinewb>\u00a0I gotta run for now. Gotta attend a colleague's last day party.  \n16:04\u00a0<vmassol>\u00a0have fun  \n16:26\u00a0<ClemensR>\u00a0has left #xwiki  \n16:56\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n18:13\u00a0<cjd>\u00a0has quit  \n18:16\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n18:19\u00a0<KermitTheFragger>\u00a0has quit  \n18:44\u00a0<tmortagne>\u00a0has quit  \n20:17\u00a0<lucaa>\u00a0has quit  \n22:19\u00a0<vmassol>\u00a0has quit  \n22:22\u00a0<vmassol>\u00a0has joined #xwiki  \n23:11\u00a0<Inge->\u00a0has quit  \n23:14\u00a0<Inge->\u00a0has joined #xwiki  \n23:17\u00a0<vmassol>\u00a0has quit  \n23:25\u00a0<vmassol>\u00a0has joined #xwiki  \n23:33\u00a0<abusenius\\_>\u00a0has quit\n"}