{"id": "dev:IRC.xwikiArchive20110906", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110906", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:13\u00a0<sdumitriu>\u00a0has quit  \n00:36\u00a0<lpereira>\u00a0has quit  \n01:05\u00a0<jvdrean>\u00a0has quit  \n01:58\u00a0<DrLou>\u00a0has quit  \n02:11\u00a0<sdumitriu>\u00a0has joined #xwiki  \n03:00\u00a0<pturcotte>\u00a0has joined #xwiki  \n03:07\u00a0<pturcotte>\u00a0has quit  \n03:08\u00a0<pturcotte>\u00a0has joined #xwiki  \n03:28\u00a0<DrLou>\u00a0has joined #xwiki  \n04:07\u00a0<DrLou>\u00a0has quit  \n04:11\u00a0<DrLou>\u00a0has joined #xwiki  \n04:26\u00a0<DrLou>\u00a0has quit  \n07:26\u00a0<mflorea>\u00a0has joined #xwiki  \n07:26\u00a0<@sdumitriu>\u00a0Hey mflorea  \n07:26\u00a0<+mflorea>\u00a0Hi sdumitriu  \n07:26\u00a0<@sdumitriu>\u00a0I was thinking of adding a preference for disabling attachment uploads in a wiki or just in a space  \n07:27\u00a0<@sdumitriu>\u00a0And was wondering how hard would it be in the WYSIWYG to check this setting before offering the Upload option in the insert image and link to attachment dialogs  \n07:28\u00a0<+mflorea>\u00a0hmm, should be pretty easy, let me check something  \n07:28\u00a0<@sdumitriu>\u00a0So the oldcore API that should be called is XWiki.getSpacePreference  \n07:29\u00a0<@sdumitriu>\u00a0Which can be hidden behind a configurable component  \n07:30\u00a0<+mflorea>\u00a0for the wysiwyg editor the setting will be done in macros.vm, inside the macro that generates the configuration  \n07:31\u00a0<@sdumitriu>\u00a0Hm, but it can depend on the space of the document  \n07:31\u00a0<+mflorea>\u00a0that's fine, I have the document  \n07:31\u00a0<@sdumitriu>\u00a0I saw that when inserting an image you can select a different document, and there's the upload option  \n07:31\u00a0<+mflorea>\u00a0ah  \n07:32\u00a0<+mflorea>\u00a0wait  \n07:32\u00a0<@sdumitriu>\u00a0So that option could be missing just for some spaces  \n07:32\u00a0<+mflorea>\u00a0hmm  \n07:32\u00a0<@sdumitriu>\u00a0So the check should be in the service that lists the attachments of a given document  \n07:32\u00a0<@sdumitriu>\u00a0Or something like that  \n07:32\u00a0<+mflorea>\u00a0indeed, I need to call it for each space, so I need it in a service  \n07:33\u00a0<+mflorea>\u00a0but it can be done  \n07:54\u00a0<+mflorea>\u00a0sdumitriu: it seems that images are always attached to the edited page (even when you select a different page to view its attachments). For attachment links, the option to attach a file to a different page doesn't work.. neither 3.2-SNAPSHOT not 2.6 (xwiki.org).  \n07:55\u00a0<@sdumitriu>\u00a0OK  \n07:55\u00a0<vmassol>\u00a0has joined #xwiki  \n07:56\u00a0<+mflorea>\u00a0it's a bit more difficult to control the upload option in the XWiki Explorer three because it gets it data from rest  \n07:58\u00a0<+mflorea>\u00a0if the option to upload to a new page would work, the easies solution would be to test if the upload is possible after the user selects it, but this is bad from a UX point of view.. that option shouldn't be there for those spaces that don't allow upload  \n07:59\u00a0<@sdumitriu>\u00a0If it only works for the current document, then it shouldn't be a problem  \n08:00\u00a0<@sdumitriu>\u00a0Maybe the upload option should only be displayed in the current document, WDYT?  \n08:00\u00a0<+mflorea>\u00a0the difficulty comes from the fact that XWiki Explorer tree is written in pure js, and uses REST to get data. I would need a service to tell me if a given space supports or not the upload, unless we change the REST response to include this information  \n08:01\u00a0<+mflorea>\u00a0yes, I think it's best to affect only the edited document.  \n08:01\u00a0<+mflorea>\u00a0otherwise you edit doc X and also save other docs indirectly  \n08:03\u00a0<+mflorea>\u00a0but at the same time, it's easier to the upload+link in one step, rather than loading page Y, upload the attachment there, then edit page X and create the link  \n08:09\u00a0<vmassol>\u00a0good morning  \n08:09\u00a0<@sdumitriu>\u00a0Good morning vmassol  \n08:10\u00a0<vmassol>\u00a0I see that some tests are failing\u2026 ok just seen one commit from you sdumitriu  \n08:10\u00a0<vmassol>\u00a0(for escaping ones)  \n08:10\u00a0<vmassol>\u00a0sdumitriu: is this one a flicker: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/189/testReport/junit/org.xwiki.test.ui.xe/DocumentIndexAttachmentsTabFilterTest/testAttachmentsPane/  \n08:11\u00a0<@sdumitriu>\u00a0Yes, I was thinking the same  \n08:11\u00a0<@sdumitriu>\u00a0Since it seems to fail inside selenium  \n08:11\u00a0<vmassol>\u00a0checking something  \n08:12\u00a0<vmassol>\u00a0yes I think I know how tof ix it  \n08:12\u00a0<vmassol>\u00a0hmm no  \n08:12\u00a0<vmassol>\u00a0s/hmm no/  \n08:12\u00a0<vmassol>\u00a0haven't checked enough but it could be the race condition when clickong on a tab  \n08:13\u00a0<vmassol>\u00a0race between the comments tab and the other tabs  \n08:13\u00a0<vmassol>\u00a0ah no it's other tabs  \n08:13\u00a0<vmassol>\u00a0it's the alldocs page tabs at the top  \n08:13\u00a0<vmassol>\u00a0must be something else  \n08:14\u00a0<vmassol>\u00a0since it returns null maybe livetable isn't defined yet when the JS executes  \n08:14\u00a0<vmassol>\u00a0not sure why that would happen though  \n08:47\u00a0<sburjan`>\u00a0has quit  \n08:47\u00a0<vmassol>\u00a0sdumitriu: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/191/testReport/org.xwiki.test.ui.scheduler/SchedulerTest/testJobActions/ is still failing apparently  \n08:49\u00a0<@sdumitriu>\u00a0Hm....  \n08:49\u00a0<@sdumitriu>\u00a0Weird error  \n08:52\u00a0<vmassol>\u00a0what is weird?  \n08:53\u00a0<vmassol>\u00a0Caused by: org.openqa.selenium.InvalidSelectorException: The given selector \"//tr/td[text()='Tester problem']/parent::tr//td/span/a[text()='view'] is either invalid or does not result in a WebElement. The following error occurred:  \n08:53\u00a0<vmassol>\u00a0[InvalidSelectorError] Unable to locate an element with the xpath expression //tr/td[text()='Tester problem']/parent::tr//td/span/a[text()='view'] because of the following error:  \n08:53\u00a0<vmassol>\u00a0[Exception... \"Component returned failure code: 0x80070057 (NS\\_ERROR\\_ILLEGAL\\_VALUE) [nsIDOMXPathEvaluator.createNSResolver]\" \u00a0nsresult: \"0x80070057 (NS\\_ERROR\\_ILLEGAL\\_VALUE)\" \u00a0location: \"JS frame :: resource://fxdriver/modules/atoms.js :: <TOP\\_LEVEL> :: line 3282\" \u00a0data: no]  \n08:55\u00a0<vmassol>\u00a0the screenshot is here: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/ws/xwiki-enterprise-test/xwiki-enterprise-test-ui/target/screenshots/SchedulerTest-testJobActions.png  \n08:55\u00a0<vmassol>\u00a0the view button seems to be there  \n08:55\u00a0<vmassol>\u00a0s/button/link/  \n08:57\u00a0<@sdumitriu>\u00a0It's not that the element wasn't found  \n08:58\u00a0<@sdumitriu>\u00a00x80070057 means that the XPath expression couldn't be properly converted to an internal XPath structure  \n08:58\u00a0<@sdumitriu>\u00a0One answer that I found on Google was that the document used to parse the expression isn't the right one  \n08:59\u00a0<vmassol>\u00a0foudn this but no answer: https://groups.google.com/forum/#!searchin/webdriver/0x80070057/webdriver/NEnkyUnH80I/k6lGxpaQAH4J  \n09:00\u00a0<vmassol>\u00a0so you think it's a sel2 bug?  \n09:00\u00a0<vmassol>\u00a0(btw fun reaction from the bot ;))  \n09:19\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:20\u00a0<evalica>\u00a0has joined #xwiki  \n09:23\u00a0<sburjan>\u00a0has joined #xwiki  \n09:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:31\u00a0<tmortagne>\u00a0has quit  \n09:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:32\u00a0<sdumitriu>\u00a0has quit  \n09:44\u00a0<arkub>\u00a0has joined #xwiki  \n10:33\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:42\u00a0<evalica>\u00a0has quit  \n11:06\u00a0<vmassol>\u00a0btw I've posted on the webdriver group re the flicker: https://groups.google.com/forum/?hl=en#!topic/webdriver/NEnkyUnH80I  \n11:25\u00a0<vmassol1>\u00a0has joined #xwiki  \n11:27\u00a0<vmassol>\u00a0has quit  \n11:32\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n12:07\u00a0<vmassol>\u00a0tmortagne: did you see http://jira.xwiki.org/browse/XE-997 ?  \n12:07\u00a0<vmassol>\u00a0come on bot!  \n12:07\u00a0<vmassol>\u00a0I'll restart you...  \n12:08\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:08\u00a0<vmassol>\u00a0XE-997  \n12:08\u00a0<vmassol>\u00a0not better...  \n12:08\u00a0<vmassol>\u00a0must be related to our jira upgrade somehow  \n12:11\u00a0<vmassol>\u00a0has quit  \n12:11\u00a0<vmassol>\u00a0has joined #xwiki  \n12:42\u00a0<florinciu>\u00a0has joined #xwiki  \n12:43\u00a0<florinciu>\u00a0has quit  \n12:44\u00a0<florinciu>\u00a0has joined #xwiki  \n12:50\u00a0<JuanDaugherty>\u00a0are there schedule targets for the model 2 revision?  \n12:51\u00a0<vmassol>\u00a0JuanDaugherty: if you're talking about \"the new model\" I'm working on, no, there isn't any planned target yet. It's still exploration mode. Although we all want it to happen ASAP. It's a lot of work though  \n12:52\u00a0<JuanDaugherty>\u00a0so I take it from that the current arch is likely to be it for the next year or so  \n12:53\u00a0<vmassol>\u00a0even if the new model is committed, we'll continue supporting the old one for years to come  \n12:53\u00a0<JuanDaugherty>\u00a0very good, thx  \n12:53\u00a0<vmassol>\u00a0what will happen first is simply a new model interface but plugged on the current implementation  \n12:53\u00a0<vmassol>\u00a0with the possibility to use either the old model api or the new one  \n12:54\u00a0<vmassol>\u00a0then after some time, the old model api will become deprecated, giving enough time for everyone to move to the new model  \n12:54\u00a0<JuanDaugherty>\u00a0hmm  \n12:54\u00a0<vmassol>\u00a0at some point we'll make the old model api part of a legacy module  \n12:54\u00a0<vmassol>\u00a0which users could decide to use or not  \n12:55\u00a0<vmassol>\u00a0the same as what we've done since the begginning  \n12:55\u00a0<vmassol>\u00a0btw we have a very good track record of not breaking apis, the apis that were working 6 years ago are still working, even if new ones have been introduced  \n12:55\u00a0<JuanDaugherty>\u00a0well the whole ecosystem is fairly massive as it stands now with all the third party support libs  \n12:55\u00a0<vmassol>\u00a0yes, we're not planning to remove any of that  \n12:55\u00a0<vmassol>\u00a0they'll continue to work  \n12:56\u00a0<JuanDaugherty>\u00a0is there to be an official release of 3.2?  \n12:56\u00a0<vmassol>\u00a0yes  \n12:56\u00a0<vmassol>\u00a0http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap  \n12:57\u00a0<JuanDaugherty>\u00a0grt, thx  \n12:57\u00a0<JuanDaugherty>\u00a0do you use fisheye?  \n12:57\u00a0<vmassol>\u00a0yes although i don't like it ;)  \n12:58\u00a0<vmassol>\u00a0check http://dev.xwiki.org for all info related to development  \n12:58\u00a0<JuanDaugherty>\u00a0got it  \n12:59\u00a0<vmassol>\u00a0that said our fisheye instance was plugged on svn  \n12:59\u00a0<vmassol>\u00a0since we've moved to git it's not been updated  \n12:59\u00a0<vmassol>\u00a0it's hosted for us by atlassian  \n12:59\u00a0<vmassol>\u00a0so we'll need to contact them  \n12:59\u00a0<JuanDaugherty>\u00a0is it publicly accessible?  \n12:59\u00a0<vmassol>\u00a0sure  \n13:00\u00a0<vmassol>\u00a0you haven't found it on dev.xwiki.org?  \n13:01\u00a0<JuanDaugherty>\u00a0didn't look yet have a mountain of stuff to do, but if it doesn't require an account, free or otherwise will check it out in a day or so  \n13:01\u00a0<vmassol>\u00a0hmm I thought it was referenced from there btw: http://dev.xwiki.org/xwiki/bin/view/Community/SourceRepository  \n13:02\u00a0<vmassol>\u00a0seems we removed the refernce to it  \n13:02\u00a0<vmassol>\u00a0maybe because it's currently pointing to svn  \n13:02\u00a0<vmassol>\u00a0http://fisheye.xwiki.org  \n13:04\u00a0<JuanDaugherty>\u00a0the README is 16 August so that appears to be close to current, post 3.1  \n13:05\u00a0<vmassol>\u00a0personally I prefer svnsearch  \n13:07\u00a0<evalica>\u00a0has joined #xwiki  \n13:15\u00a0<JuanDaugherty>\u00a0thx for that, does look better, and of course it's free. One naturally prefers an alternative that is both better and free, but you know that :)  \n13:16\u00a0<vmassol>\u00a0:)  \n13:17\u00a0<JuanDaugherty>\u00a0I am so glad I lived to see the dominance of open source  \n13:18\u00a0<vmassol>\u00a0yeah me too although I'm still not sure about the model on the long run  \n13:19\u00a0<vmassol>\u00a0someone has to pay for it and the rewards need to be there too, it's a give/give relationship but it works when both sides are not too unequal  \n13:20\u00a0<mflorea>\u00a0has quit  \n13:20\u00a0<JuanDaugherty>\u00a0well the \"sides\" near to be clearly identified, once that's done ... (rhetorical ellipsis). Open source is part of a larger evolution of human society, interlocked as processes.  \n13:20\u00a0<JuanDaugherty>\u00a0s/near/need/  \n14:01\u00a0<mflorea>\u00a0has joined #xwiki  \n14:12\u00a0<pturcotte>\u00a0has quit  \n14:32\u00a0<pturcotte>\u00a0has joined #xwiki  \n14:38\u00a0<+tmortagne>\u00a0vmassol: back, yep I seen XE-997 but 2.5 is pretty old and I seen more recent version running on WAS 6.1 and 7  \n14:40\u00a0<vmassol>\u00a0tmortagne: maybe you should close the issue?  \n14:41\u00a0<+tmortagne>\u00a0vmassol: I wanted to take the time to find the related issue first  \n14:41\u00a0<vmassol>\u00a0ok  \n14:46\u00a0<+tmortagne>\u00a0hmm actually it was recently but it was a version older than 2.5  \n14:47\u00a0<+tmortagne>\u00a0but still 2.5 is pretty old from extension manager POV  \n14:48\u00a0<+tmortagne>\u00a0not the easiest setup to reproduce..  \n14:48\u00a0<vmassol>\u00a0yes and a pity the EM makes it fail, maybe there's a workaround to suggest to the guy like remove his .xwiki dir?  \n14:48\u00a0<vmassol>\u00a0(if he has any...)  \n14:48\u00a0<+tmortagne>\u00a0it has nothing to do with the repository  \n14:48\u00a0<+tmortagne>\u00a0it looks like a reflection library bug  \n14:48\u00a0<+tmortagne>\u00a0when loading jar from the classpath  \n14:49\u00a0<+tmortagne>\u00a0but an easy workaround is to simply remove the extension manager jars  \n14:52\u00a0<vmassol>\u00a0guys I need some pair of eyes to help me see what I'm doing wrong. I have this small script I've created for a presentation demo: http://pastebin.com/uQc9GVCy  \n14:52\u00a0<vmassol>\u00a0the issue I have is with the Activity Stream  \n14:52\u00a0<vmassol>\u00a0after the script saves the documents, I don't see them listed in the AS  \n14:52\u00a0<vmassol>\u00a0and I don't understand why  \n14:52\u00a0<vmassol>\u00a0note: I have used the save() method which takes a single param which means it's not a minor edit  \n14:53\u00a0<vmassol>\u00a0any idea?  \n14:53\u00a0<vmassol>\u00a0could this be a bug?  \n14:53\u00a0<+tmortagne>\u00a0master ?  \n14:53\u00a0<vmassol>\u00a0yes  \n14:56\u00a0<vmassol>\u00a0the doc have been changed correctly  \n14:56\u00a0<vmassol>\u00a0s/doc/docs/  \n14:56\u00a0<vmassol>\u00a0the problem is just that they don't appear in the AS  \n14:58\u00a0<vmassol>\u00a0this could be an AS regression  \n14:58\u00a0<+tmortagne>\u00a0you could maybe try to look at the AS database to see if it's reading or writing bug  \n14:58\u00a0<+tmortagne>\u00a0\\*AS table  \n14:59\u00a0<+tmortagne>\u00a0in any case it definitely looks like a bug  \n15:00\u00a0<+tmortagne>\u00a0couldn't it be that AS filter \"Admin\" user ?  \n15:00\u00a0<vmassol>\u00a0is it supposed to do that?  \n15:00\u00a0<+tmortagne>\u00a0(no idea if it does that)  \n15:00\u00a0<vmassol>\u00a0(ok)  \n15:00\u00a0<vmassol>\u00a0I'll put a breakpoint in onEvent in AS  \n15:01\u00a0<vmassol>\u00a0but I have to prepare my slides\u2026. snif....  \n15:11\u00a0<@cjdelisle>\u00a0I'm looking at the upgrade myxwiki.org project since I have time today.  \n15:11\u00a0<vmassol>\u00a0oh great  \n15:12\u00a0<vmassol>\u00a0tell us a bit before it goes down though...  \n15:12\u00a0<vmassol>\u00a0:)  \n15:12\u00a0<@cjdelisle>\u00a0can do  \n15:12\u00a0<vmassol>\u00a0I'll send a message on the twitter account for myxwiki  \n15:17\u00a0<vmassol>\u00a0tmortagne: looks like a display bug  \n15:18\u00a0<+tmortagne>\u00a0ok, better that way  \n15:20\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:20\u00a0<vmassol>\u00a0it's really awful to debug all this velocity code\u2026 I wish a lot was in java instead...  \n15:20\u00a0<vmassol>\u00a0it's a huge blurb of velocity  \n15:21\u00a0<vmassol>\u00a0962 lines of velocity\u2026. yuck  \n15:22\u00a0<+tmortagne>\u00a0ouch indeed  \n15:22\u00a0<vmassol>\u00a0hmm I think it's blacklisting spaces even though I'm an advanced user  \n15:22\u00a0<vmassol>\u00a0checking  \n15:23\u00a0<vmassol>\u00a0no it's not doing that, it's something else  \n15:30\u00a0<vmassol>\u00a0hmmm here's the filter clause:  \n15:30\u00a0<vmassol>\u00a01=1 and act.wiki in (?) and not (act.version not like '%.1' and act.type = 'update') and (act.application <> 'MessageStream' or (act.application = 'MessageStream' and (act.type = 'publicMessage' or act.user = ? or (act.type = 'directMessage' and act.param2 = ?) or (act.type = 'groupMessage' and act.param2 in (?,?)))))  \n15:30\u00a0<pgmjsd>\u00a0has joined #xwiki  \n15:30\u00a0<vmassol>\u00a0it's an update and all versions have .1  \n15:31\u00a0<vmassol>\u00a0so I guess that's why  \n15:31\u00a0<vmassol>\u00a0btw is it normal than when a new major is created it starts a .1? (I don't recall)  \n15:31\u00a0<vmassol>\u00a0like: 2.1, 3.1, etc  \n15:31\u00a0<+evalica>\u00a0vmassol: the JIRA mails send to [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection) are configurable? Before the update the mails were labeled with \"Created:\", \"Closed:\", \"Updated:\", etc wording. Now this is gone since Sept 4. I would want it back. For me is quite usefull to rapidly scan/filter duplicated mails/steps if someone creates/multiple updates/closes the issue in matter of minutes.  \n15:32\u00a0<vmassol>\u00a0evalica: you'll need to check with infra  \n15:32\u00a0<+tmortagne>\u00a0vmassol: yep it's expected  \n15:32\u00a0<vmassol>\u00a0(guillaume fenollar should be able to help you evalica)  \n15:32\u00a0<+evalica>\u00a0thanks  \n15:32\u00a0<vmassol>\u00a0tmortagne: so it means the filter isn't good or I don't understand it  \n15:33\u00a0<vmassol>\u00a0why would we want to filter major updates?  \n15:33\u00a0<vmassol>\u00a0not like  \n15:33\u00a0<vmassol>\u00a0hmmm  \n15:33\u00a0<vmassol>\u00a0reading more carefully  \n15:33\u00a0<+tmortagne>\u00a0\"not\"  \n15:33\u00a0<vmassol>\u00a0yep missed it  \n15:34\u00a0<+tmortagne>\u00a0but I agree the double negation is not obvious at first :)  \n15:35\u00a0<+tmortagne>\u00a0(act.version like '%.1' or act.type <> 'update')  \n15:35\u00a0<+tmortagne>\u00a0sounded easier  \n15:37\u00a0<vmassol>\u00a0ok full query is:  \n15:37\u00a0<vmassol>\u00a0select year(act.date), month(act.date), day(act.date), act.page, max(act.date)from ActivityEventImpl as act where 1=1 and act.wiki in (?) and not (act.version not like '%.1' and act.type = 'update') and (act.application <> 'MessageStream' or (act.application = 'MessageStream' and (act.type = 'publicMessage' or act.user = ? or (act.type = 'directMessage' and act.param2 = ?) or (act.type = 'groupMessage' and act.param2 in (?,?))))) group b  \n15:38\u00a0<vmassol>\u00a0ahah I see my page is retrurned  \n15:38\u00a0<vmassol>\u00a0so it's another bug further  \n15:38\u00a0<vmassol>\u00a0continuing to dig...  \n15:49\u00a0<vmassol>\u00a0ok fund that #macro(removeDuplicatedEvents) removes those events for some reason\u2026 digging...  \n16:02\u00a0<@cjdelisle>\u00a0myxwiki is still using xwiki watch, correct?  \n16:02\u00a0<vmassol>\u00a0kind of  \n16:02\u00a0<@cjdelisle>\u00a0ok so it stays in the web.xml  \n16:02\u00a0<vmassol>\u00a0it's using it for news.myxwiki.org but I haven't checked if it's still working  \n16:05\u00a0<@cjdelisle>\u00a0why don't I change those cookie encryption keys for ya ;)  \n16:09\u00a0<lucaa>\u00a0has joined #xwiki  \n16:21\u00a0<+mflorea>\u00a0feedback to my latest mail on devs is highly appreciated, thanks  \n16:25\u00a0<vmassol>\u00a0has quit  \n16:27\u00a0<JuanDaugherty>\u00a0is double negation grammatical in italian as it is in spanish?  \n16:27\u00a0<JuanDaugherty>\u00a0(and isn't in english)  \n16:28\u00a0<vmassol>\u00a0has joined #xwiki  \n16:28\u00a0<@sdumitriu>\u00a0Double negation is still negative in most latin languages  \n16:28\u00a0<JuanDaugherty>\u00a0and I'm pretty sure it's not grammatical in chinese  \n16:29\u00a0<JuanDaugherty>\u00a0right it's like a superlative or reinforced negative  \n16:29\u00a0<JuanDaugherty>\u00a0germanic langs don't seem to like that  \n16:30\u00a0<@sdumitriu>\u00a0Right  \n16:30\u00a0<JuanDaugherty>\u00a0from their perspective it's a redundant statement of an absolute  \n16:31\u00a0<JuanDaugherty>\u00a0which calls for a logical reversal  \n16:31\u00a0<@cjdelisle>\u00a0chown -R tomcat:tomcat XWIKI\\_ENTERPRISE\\_WAR\\_ARTIFACT\\_NAME <-- I find that's not needed on my system  \n16:41\u00a0<@cjdelisle>\u00a02 questions first:  \n16:42\u00a0<@cjdelisle>\u00a01. Does it make sense to restart once and then change migration to 0 in the xwiki.cfg while it's running, the assumption being that migrations only have performance impact on startup and next time it starts it will load the new version of xwiki.cfg.  \n16:43\u00a0<@cjdelisle>\u00a02. After restarting, should I go ahead and bring apache up again as soon as I know that the server is functioning (prior to updating XARs) if the answer is no then how do we usually get to the subwikis to modify the xars since I'll be reaching the wiki via 127.0.0.1.  \n16:47\u00a0<sburjan>\u00a0has quit  \n16:59\u00a0<+tmortagne>\u00a0is it expected that {{include document=\"Main.Dashboard\"/}} does not work anymore (master) on a space WebHome ?  \n16:59\u00a0<+tmortagne>\u00a0does not work=white page  \n16:59\u00a0<+tmortagne>\u00a0ha yes it has been renamed  \n16:59\u00a0<+tmortagne>\u00a0sorry for the noise  \n17:24\u00a0<silviar>\u00a0has joined #xwiki  \n17:32\u00a0<evalica>\u00a0has quit  \n17:45\u00a0<Enygma`>\u00a0has quit  \n17:51\u00a0<silviar>\u00a0has quit  \n18:06\u00a0<JuanDaugherty>\u00a0is there a standard place you're supposed to get templatexe from?  \n18:07\u00a0<JuanDaugherty>\u00a0(can't recall where I did)  \n18:08\u00a0<mflorea>\u00a0has quit  \n18:15\u00a0<vmassol>\u00a0JuanDaugherty: WDYM by templatexe?  \n18:16\u00a0<JuanDaugherty>\u00a0like http://wiki.tele.gl/bin/view/XemManager/Install?viewer=attachments (i think), i.e. a wiki template which the manager can use. Installed a week ago, can't recall from where.  \n18:18\u00a0<arkub>\u00a0has quit  \n18:19\u00a0<JuanDaugherty>\u00a0the one referred to on the screen shot on http://manager.xwiki.org/xwiki/bin/view/Main/  \n18:19\u00a0<JuanDaugherty>\u00a0bundled with something else I presume  \n18:20\u00a0<JuanDaugherty>\u00a0ah, I seem to be covering the same steps, guess I'll find it  \n18:22\u00a0<JuanDaugherty>\u00a0yeah, got it  \n18:24\u00a0<tmortagne>\u00a0has quit  \n18:27\u00a0<vmassol>\u00a0cool I didn't even need to respond ;)  \n18:28\u00a0<JuanDaugherty>\u00a0:)  \n18:28\u00a0<JuanDaugherty>\u00a0are you targeting early or late Oct for 3.2?  \n18:29\u00a0<vmassol>\u00a0JuanDaugherty: Didn't I point you to http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap earlier? :)  \n18:29\u00a0<JuanDaugherty>\u00a0yeah, that's why I could associated 3.2 with October  \n18:29\u00a0<vmassol>\u00a0there's a precise date in there  \n18:29\u00a0<vmassol>\u00a0at the level of the day  \n18:30\u00a0<vmassol>\u00a0I don't think we can be more precise than that  \n18:30\u00a0<vmassol>\u00a0:)  \n18:30\u00a0<JuanDaugherty>\u00a0my very bad, yes didn't see it at the bottom there  \n18:30\u00a0<vmassol>\u00a0hint: scroll down  \n18:30\u00a0<vmassol>\u00a0:)  \n18:31\u00a0<JuanDaugherty>\u00a0it would have been better form to delete the first set, they're redundant and contradictory  \n18:32\u00a0<vmassol>\u00a0redudant?  \n18:32\u00a0<vmassol>\u00a0with what,  \n18:32\u00a0<vmassol>\u00a0?  \n18:32\u00a0<vmassol>\u00a0it's about the cycle  \n18:34\u00a0<JuanDaugherty>\u00a0the first of dates saying that it's fuzzy with the implicit linguistic value \"about a month\" and the second set which you have to scroll down to see and which you characterize as so crisp \"I don't think we can be more precise than that\"  \n18:36\u00a0<JuanDaugherty>\u00a0\\*first set of dates  \n18:42\u00a0<vmassol>\u00a0JuanDaugherty: better now?  \n18:43\u00a0<JuanDaugherty>\u00a0I'm sure, you didn't need to change it for me!  \n18:44\u00a0<JuanDaugherty>\u00a0and since I now have an account on the site, I should have asked you if you wanted me to copyedit it  \n18:44\u00a0<vmassol>\u00a0yep good for next time  \n18:53\u00a0<sburjan`>\u00a0has joined #xwiki  \n19:06\u00a0<vmassol>\u00a0cjdelisle: I'm doing a JUG presentation of XWiki Thursday evening (GMT+1)  \n19:06\u00a0<vmassol>\u00a0I'll need to be sure that xwiki.org and myxwiki.org are up at that time  \n19:06\u00a0<vmassol>\u00a0(since I'll need them for my presentation to show stuff)  \n19:07\u00a0<vmassol>\u00a0just mentioning this since you're working on myxwiki.org...  \n19:07\u00a0<vmassol>\u00a0:)  \n19:07\u00a0<vmassol>\u00a0wait  \n19:07\u00a0<@cjdelisle>\u00a0Yes, I am \"done\" with myxwiki, I just need to restart it.  \n19:07\u00a0<vmassol>\u00a0actually I just need xwiki.org  \n19:07\u00a0<@cjdelisle>\u00a0I had a couple questions above.  \n19:07\u00a0<vmassol>\u00a0I don't really need myxwiki.org  \n19:07\u00a0<vmassol>\u00a0even though it's a plus  \n19:07\u00a0<vmassol>\u00a0I missed the questions, reading now  \n19:07\u00a0<@cjdelisle>\u00a0I wanted some clarification before I went ahead and shut it down and swapped the symlinks  \n19:08\u00a0<vmassol>\u00a0re migration you don't need to bother  \n19:08\u00a0<vmassol>\u00a0since we haven't changed the DB structure for a while now  \n19:09\u00a0<vmassol>\u00a0I don't undestand point 2  \n19:09\u00a0<@cjdelisle>\u00a0ok cool  \n19:09\u00a0<vmassol>\u00a0we use a ssh tunnel which doesn't need apache up  \n19:09\u00a0<vmassol>\u00a0ah subwikis  \n19:09\u00a0<vmassol>\u00a0got it  \n19:09\u00a0<@cjdelisle>\u00a0Right but if I'm going to update the xars before enabling apache then I need a way to access the templates wiki  \n19:10\u00a0<@cjdelisle>\u00a0I suppose I could tinker with my hosts file but I wasn't sure if there was a standard procedure there and even if I should bother keeping other people out while updating the xars.  \n19:10\u00a0<vmassol>\u00a0yes we bring it up when we're sure that the main wiki is ok  \n19:10\u00a0<vmassol>\u00a0and then perform the subwiki upgrade with the site being online  \n19:11\u00a0<vmassol>\u00a0subwikis = template and playground  \n19:11\u00a0<@cjdelisle>\u00a0That made the most sense to me, as long as I don't get tomcat errors I'll go ahead and bring back apache.  \n19:18\u00a0<DrLou>\u00a0has joined #xwiki  \n19:24\u00a0<florinciu>\u00a0has left #xwiki  \n19:26\u00a0<vmassol>\u00a0has quit  \n19:28\u00a0<vmassol>\u00a0has joined #xwiki  \n19:39\u00a0<jvdrean>\u00a0has quit  \n19:42\u00a0<lucaa>\u00a0has quit  \n19:43\u00a0<DrLou>\u00a0has quit  \n20:05\u00a0<@cjdelisle>\u00a0alright, bringing myxwiki down now, this time for real...  \n20:05\u00a0<@cjdelisle>\u00a0shout if you are using it  \n20:17\u00a0<@cjdelisle>\u00a0back up  \n20:23\u00a0<lpereira>\u00a0has joined #xwiki  \n21:04\u00a0<vmassol>\u00a0cjdelisle: how did it go? (I'm just back)  \n21:04\u00a0<vmassol>\u00a0oops I see a problem on http://myxwiki.org/xwiki/bin/view/Main/WebHome  \n21:04\u00a0<vmassol>\u00a0the panel isn't displayed correctly  \n21:05\u00a0<@cjdelisle>\u00a0hmm I don't see how I could have missed that one  \n21:06\u00a0<@cjdelisle>\u00a0I bet it happened when I imported the new version of the panel...  \n21:08\u00a0<vmassol>\u00a0playground home page isn't working either: http://playground.myxwiki.org/xwiki/bin/view/Main/WebHome  \n21:09\u00a0<vmassol>\u00a0(we need to clean that wiki and reimport the pages from the XAR btw)  \n21:09\u00a0<vmassol>\u00a0ouch  \n21:09\u00a0<vmassol>\u00a0all home pages are broken  \n21:09\u00a0<vmassol>\u00a0:(  \n21:09\u00a0<vmassol>\u00a0for ex http://ossgtp.myxwiki.org/xwiki/bin/view/Main/WebHome  \n21:10\u00a0<vmassol>\u00a0(all home pages using the AS)  \n21:10\u00a0<@cjdelisle>\u00a0somebody was talking about this earlier  \n21:10\u00a0<@cjdelisle>\u00a0\"(act.version not like %.1)\"  \n21:10\u00a0<@cjdelisle>\u00a0that .1  \n21:10\u00a0<vmassol>\u00a0I checked several wikis and they're all broken  \n21:10\u00a0<@cjdelisle>\u00a0IIRC there was something wrong with that  \n21:10\u00a0<@cjdelisle>\u00a0or something changed  \n21:11\u00a0<vmassol>\u00a0the error is:  \n21:11\u00a0<vmassol>\u00a0Caused by: com.xpn.xwiki.plugin.activitystream.api.ActivityStreamException: Error number 3223 in 3: Error number 3223 in 3: Exception while searching documents with sql select act from ActivityEventImpl as act \u00a0where act.page=? AND act.space<>Scheduler AND 1=1 and act.wiki in (?) and not (act.version not like %.1 and act.type = update) and (act.application <> MessageStream or (act.application = MessageStream and (act.type = publicMessage  \n21:11\u00a0<vmassol>\u00a0Wrapped Exception: could not initialize a collection: [com.xpn.xwiki.plugin.activitystream.impl.ActivityEventImpl.parameters#1656065792-1315336234000-w6TDZ0W1]  \n21:11\u00a0<vmassol>\u00a0Wrapped Exception: could not initialize a collection: [com.xpn.xwiki.plugin.activitystream.impl.ActivityEventImpl.parameters#1656065792-1315336234000-w6TDZ0W1]  \n21:11\u00a0<vmassol> at com.xpn.xwiki.plugin.activitystream.impl.ActivityStreamImpl.searchEvents(ActivityStreamImpl.java:673)  \n21:11\u00a0<vmassol>\u00a0have you updated the playground wiki?  \n21:12\u00a0<vmassol>\u00a0(xar import)  \n21:12\u00a0<vmassol>\u00a0sorry I don't have much time now to help fix all this but it needs to be fixed asap and communicated using the myxwiki twitter account/mailing list to let user know what's going on  \n21:12\u00a0<vmassol>\u00a0got to go, I'll try to reconnect a bit later  \n21:13\u00a0<vmassol>\u00a0has quit  \n21:33\u00a0<lpereira>\u00a0has quit  \n21:41\u00a0<@cjdelisle>\u00a0XWIKI-6839  \n21:44\u00a0<+sburjan`>\u00a0I wonder what is the cause of this  \n21:44\u00a0<@cjdelisle>\u00a0https://github.com/xwiki/xwiki-platform/commit/835d75fcf7e6073a7f65be4d66cf17ebcc5906f6  \n21:45\u00a0<@cjdelisle>\u00a0I think that broke the activity stream  \n21:45\u00a0<+sburjan`>\u00a0but what has this to do with the bot ?  \n21:46\u00a0<@cjdelisle>\u00a0ah nothing  \n21:46\u00a0<@cjdelisle>\u00a0upgrading myxwiki.org broke the activity stream  \n21:47\u00a0<@cjdelisle>\u00a0ahh found it  \n21:48\u00a0<+sburjan`>\u00a0hit me  \n21:48\u00a0<@cjdelisle>\u00a0https://github.com/xwiki/xwiki-platform/commit/835d75fcf7e6073a7f65be4d66cf17ebcc5906f6#L5R30  \n21:49\u00a0<+sburjan`>\u00a0about the AS issue, right ?  \n21:49\u00a0<@cjdelisle>\u00a0you can't add a mapping to legacy systems without adding the required table to the database so there needs to be a migration  \n21:50\u00a0<+sburjan`>\u00a0so jerome forgot to do a migratin procedure inside migration manager ?  \n21:50\u00a0<@cjdelisle>\u00a0yeap  \n21:55\u00a0<+sburjan`>\u00a0odd no one noticed this required a migration component  \n21:55\u00a0<@cjdelisle>\u00a0correct because the self contained wiki builds it's database on the spot so there's never any need for migration  \n21:56\u00a0<@cjdelisle>\u00a0it's a hole in our automated testing regime which we should brainstorm how we can fill.  \n21:57\u00a0<+sburjan`>\u00a0I'm not sure I follow .. I am not familiart with migration component  \n21:57\u00a0<+sburjan`>\u00a0for example the myxwiki dbase was migrated, not created from scratch, right ?  \n21:59\u00a0<@cjdelisle>\u00a0Yes, there's a mysql database which is migrated for each new version of xwiki that is installed (if migration is necessary)  \n21:59\u00a0<@cjdelisle>\u00a0you know how whenever you start xwiki you see the list of \"Migrating ..... to .....\" scroll by in the log?  \n22:00\u00a0<+sburjan`>\u00a0yes, the first time you start the wiki  \n22:00\u00a0<@cjdelisle>\u00a0Yes, those would be actually making changes to the database if you had installed a new version on top of an old version.  \n22:01\u00a0<@cjdelisle>\u00a0It's one of our nicest features.  \n22:01\u00a0<+sburjan`>\u00a0that happens because the vanilla db is an old version, and when wiki starts for the first time it has to make sure the db is compliant with the wiki version, right ?  \n22:01\u00a0<+sburjan`>\u00a0the db structure is not \"old\" / from old version  \n22:02\u00a0<@cjdelisle>\u00a0Yup  \n22:02\u00a0<@cjdelisle>\u00a0there's a tiny table in the database which just contains the \"database version number\"  \n22:02\u00a0<@cjdelisle>\u00a0it checks that against all of it's migrators  \n22:03\u00a0<+sburjan`>\u00a0so if this new commit in AS changes the DB structure, it was obvious we neede a migration component for backward compat, right ?  \n22:04\u00a0<@cjdelisle>\u00a0The problem is that the change to AS \\*doesn't\\* change the DB structure and because the DB remains the same, the AS change ends up trying to load tables that just don't exist.  \n22:05\u00a0<@cjdelisle>\u00a0Hibernate will create all of the tables which you have mapped but only if it is first creating the db schema, it will not \"fix\" a db schema.  \n22:06\u00a0<+sburjan`>\u00a0well if the schema is not changed, how come the tables don't exists ?  \n22:06\u00a0<+sburjan`>\u00a0(I'm still missing something)  \n22:06\u00a0<@cjdelisle>\u00a0Because it's a new table (actually it's a column).  \n22:07\u00a0<@cjdelisle>\u00a0The DB has everything which existed in the last version but the new version references a new table.  \n22:07\u00a0<+sburjan`>\u00a0oh, AS expects a new column which does not exist in older db schema and is not created by migration manager  \n22:07\u00a0<+sburjan`>\u00a0I see  \n22:07\u00a0<@cjdelisle>\u00a0Because the new err column.. doesn't exist, it is referencing thin air and it doesn't like that  \n22:07\u00a0<@cjdelisle>\u00a0yeap  \n22:07\u00a0<+sburjan`>\u00a0understood  \n22:08\u00a0<+sburjan`>\u00a0so it works on a vanilla new wiki, but not on a migrated wiki  \n23:11\u00a0<jvdrean>\u00a0has joined #xwiki  \n23:23\u00a0<JuanDaugherty>\u00a0the bot can give test associated with error codes?  \n23:23\u00a0<JuanDaugherty>\u00a0\\*text  \n23:24\u00a0<JuanDaugherty>\u00a0XWIKI-6839  \n23:24\u00a0<JuanDaugherty>\u00a0XWIKI-4001  \n23:26\u00a0<@cjdelisle>\u00a0the bot is supposed to supply info about jira issues.  \n23:27\u00a0<pturcotte>\u00a0has quit  \n23:28\u00a0<@cjdelisle>\u00a0lets see if I can breath new life into this bot  \n23:29\u00a0<xwikibot>\u00a0has joined #xwiki  \n23:29\u00a0<@cjdelisle>\u00a0XWIKI-4001  \n23:36\u00a0<JuanDaugherty>\u00a0well the text is usually displayed whereever the code is isn't it?  \n23:39\u00a0<cjdelisle>\u00a0has quit  \n23:50\u00a0<cjdelisle>\u00a0has joined #xwiki  \n\n"}