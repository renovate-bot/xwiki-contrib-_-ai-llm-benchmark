{"id": "dev:IRC.xwikiArchive20131031", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20131031", "title": "IRC Archive for channel #xwiki on 31 October 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<cjd>\u00a0has quit  \n00:56\u00a0<abusenius>\u00a0has quit  \n01:28\u00a0<sburjan`>\u00a0has quit  \n03:04\u00a0<sdumitriu>\u00a0has quit  \n04:26\u00a0<sdumitriu>\u00a0has joined #xwiki  \n04:45\u00a0<Denis>\u00a0has quit  \n06:45\u00a0<Denis>\u00a0has joined #xwiki  \n06:50\u00a0<Denis>\u00a0has quit  \n07:35\u00a0<xwikibot>\u00a0has joined #xwiki  \n07:59\u00a0<mflorea>\u00a0has joined #xwiki  \n08:46\u00a0<Denis>\u00a0has joined #xwiki  \n08:51\u00a0<Denis>\u00a0has quit  \n09:04\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:20\u00a0<msmeria>\u00a0has joined #xwiki  \n09:24\u00a0<j-simard>\u00a0has joined #xwiki  \n09:27\u00a0<sburjan>\u00a0has joined #xwiki  \n09:41\u00a0<msmeria>\u00a0has quit  \n09:41\u00a0<msmeria>\u00a0has joined #xwiki  \n09:50\u00a0<msmeria>\u00a0has quit  \n09:56\u00a0<msmeria>\u00a0has joined #xwiki  \n09:59\u00a0<sdumitriu>\u00a0has quit  \n10:06\u00a0<camil7>\u00a0has joined #xwiki  \n10:11\u00a0<vmassol>\u00a0oh forgot  \n10:11\u00a0<vmassol>\u00a0today is BFD  \n10:11\u00a0<vmassol>\u00a0sending mail  \n10:15\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:30\u00a0<Denis>\u00a0has joined #xwiki  \n10:30\u00a0<cjd>\u00a0has joined #xwiki  \n10:34\u00a0<Slashman>\u00a0has joined #xwiki  \n10:36\u00a0<vmassol>\u00a0tmortagne: now that wikistream is used to export  \n10:36\u00a0<vmassol>\u00a0maybe you need to modify the contentmenu.vm file  \n10:36\u00a0<vmassol>\u00a0right now it has:  \n10:36\u00a0<vmassol>\u00a0\u00a0\u00a0#if($hasAdmin && \"$!xwiki.getPlugin('package')\" != '')  \n10:36\u00a0<vmassol>\u00a0\u00a0\u00a0#end  \n10:36\u00a0<vmassol>\u00a0since I guess it doesn't require the package plugin right?  \n10:36\u00a0<vmassol>\u00a0hmm  \n10:36\u00a0<tmortagne>\u00a0vmassol: I don't understand  \n10:36\u00a0<vmassol>\u00a0maybe it's still using it actuallty  \n10:37\u00a0<vmassol>\u00a0(didn't check)  \n10:37\u00a0<vmassol>\u00a0the XAR export menu entry is only visible when the packager plugin is available  \n10:37\u00a0<tmortagne>\u00a0contentmenu.vm does not display the export when the plugin is not there ?  \n10:37\u00a0<vmassol>\u00a0yep  \n10:38\u00a0<tmortagne>\u00a0ok there is no need to check that  \n10:38\u00a0<tmortagne>\u00a0unless the configuration is put back to packager plugin  \n10:38\u00a0<vmassol>\u00a0except if the user has configured to use the old way  \n10:39\u00a0<tmortagne>\u00a0there should be an API to check if export action can work instead of directly looking at what should be an export action implementation detail  \n10:40\u00a0<vmassol>\u00a0even better, the export module should provide an extension point impl for the menu entry but that's for a bit later  \n10:40\u00a0<tmortagne>\u00a0there is no such thing as export module right now  \n10:40\u00a0<vmassol>\u00a0yes I know  \n10:40\u00a0<vmassol>\u00a0was talking future  \n10:59\u00a0<msmeria>\u00a0has quit  \n11:05\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:07\u00a0<msmeria>\u00a0has joined #xwiki  \n11:17\u00a0<sdumitriu>\u00a0has quit  \n11:22\u00a0<tmortagne>\u00a0has quit  \n11:25\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:27\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:34\u00a0<sdumitriu>\u00a0has quit  \n11:36\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:41\u00a0<sdumitriu>\u00a0has quit  \n11:43\u00a0<vmassol>\u00a0hmm I get : Could not find artifact org.xwiki.platform:xwiki-platform-query-manager:jar:5.3-SNAPSHOT  \n11:43\u00a0<vmassol>\u00a0when building enterprise with -U  \n11:44\u00a0<vmassol>\u00a0and it's there: http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki-platform-query-manager/5.3-SNAPSHOT/  \n11:45\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:48\u00a0<mflorea>\u00a0has quit  \n11:52\u00a0<vmassol>\u00a0sdumitriu: ping  \n12:03\u00a0<sdumitriu>\u00a0has quit  \n12:05\u00a0<msmeria>\u00a0has quit  \n12:14\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:30\u00a0<sdumitriu>\u00a0has quit  \n12:34\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:36\u00a0<j-simard>\u00a0has quit  \n12:45\u00a0<evalica>\u00a0has joined #xwiki  \n12:46\u00a0<sdumitriu>\u00a0has quit  \n12:48\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:52\u00a0<sdumitriu>\u00a0has quit  \n12:54\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:55\u00a0<msmeria>\u00a0has joined #xwiki  \n13:00\u00a0<evalica>\u00a0has quit  \n13:02\u00a0<evalica>\u00a0has joined #xwiki  \n13:05\u00a0<j-simard>\u00a0has joined #xwiki  \n13:20\u00a0<j-simard>\u00a0has quit  \n13:23\u00a0<j-simard>\u00a0has joined #xwiki  \n13:26\u00a0<sdumitriu>\u00a0has quit  \n13:27\u00a0<sdumitriu>\u00a0has joined #xwiki  \n13:34\u00a0<j-simard>\u00a0has quit  \n13:42\u00a0<mflorea>\u00a0has joined #xwiki  \n13:42\u00a0<mflorea>\u00a0has quit  \n13:43\u00a0<mflorea>\u00a0has joined #xwiki  \n14:22\u00a0<vmassol>\u00a0sdumitriu: ping  \n14:27\u00a0<j-simard>\u00a0has joined #xwiki  \n15:02\u00a0<sdumitriu>\u00a0has quit  \n15:07\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:30\u00a0<vmassol>\u00a0evalica: would be great if you could fix some XINFRA issue related to the new skin for this BFD :)  \n15:30\u00a0<vmassol>\u00a0(shouldn't be too hard I think)  \n15:30\u00a0<vmassol>\u00a0I see there are still 5 open by manuel  \n15:31\u00a0<evalica>\u00a0vmassol: I am working on having the centered vs. full width thing  \n15:31\u00a0<vmassol>\u00a0is that a bug? :)  \n15:31\u00a0<evalica>\u00a0from the 5 some I want to close as won;t fix :) but not sure you agree  \n15:32\u00a0<evalica>\u00a0well \u2026 the thing is that all this 'bugs' also need to be ported to the main skin, not just fixed on xwiki.org and I need the separation clean between centered and the full width (now on xwiki.org)  \n15:33\u00a0<sdumitriu>\u00a0has quit  \n15:34\u00a0<vmassol>\u00a0where is the code for the skin now?  \n15:34\u00a0<vmassol>\u00a0contrib?  \n15:34\u00a0<vmassol>\u00a0(evalica)  \n15:35\u00a0<evalica>\u00a0nope - https://github.com/evalica/bootswatch/tree/junco-themes  \n15:35\u00a0<vmassol>\u00a0hmm not nice  \n15:35\u00a0<vmassol>\u00a0should be on contrib  \n15:35\u00a0<vmassol>\u00a0shouldn't be hard to hand over  \n15:35\u00a0<vmassol>\u00a0it's one click :)  \n15:35\u00a0<msmeria>\u00a0seems like the latest 5.3 snapshot is broken somehow: I get http://hastebin.com/qaceleniyo.avrasm in the console and when I try to access the server the page redirects to http://localhost:8080/xwiki/bin/view/Main/xwiki  \n15:35\u00a0<vmassol>\u00a0(change ownership)  \n15:36\u00a0<vmassol>\u00a0then I can create a jira for it  \n15:36\u00a0<vmassol>\u00a0and some xinfra issues should be moved to it probably  \n15:36\u00a0<msmeria>\u00a0I can't connect to the server  \n15:36\u00a0<vmassol>\u00a0msmeria: seems to be something for tmortagne to look at ;)  \n15:37\u00a0<msmeria>\u00a0vmassol: definitely. this is the biggest blocker I've seen. good thing it's on a snapshot  \n15:38\u00a0<vmassol>\u00a0msmeria: FTR tests are all failing ATM on ci  \n15:39\u00a0<evalica>\u00a0vmassol: the project is forked from thomaspark, not sure if I should have some permission to put in on contrib. Also the sources are dependent on bootstrap, not totally related to XWiki.  \n15:39\u00a0<tmortagne>\u00a0\u00a0http://hastebin.com/qaceleniyo.avrasm looks like jenkins timing issue, there is no reason this class is not packaged with XE  \n15:39\u00a0<vmassol>\u00a0evalica: why would you have more rights to put them in your organization? )  \n15:39\u00a0<vmassol>\u00a0:)  \n15:40\u00a0<vmassol>\u00a0but yes you need to verify the license obviously  \n15:40\u00a0<evalica>\u00a0well I'm not an organization  \n15:40\u00a0<vmassol>\u00a0you are  \n15:40\u00a0<vmassol>\u00a0on github  \n15:40\u00a0<vmassol>\u00a0contrib is not an organization either btw  \n15:41\u00a0<vmassol>\u00a0nor is xwiki.org  \n15:41\u00a0<msmeria>\u00a0has quit  \n15:42\u00a0<vmassol>\u00a0if you're basing the skin that is on xwiki.org on some code that you don't have the right distribute/modify then we're in trouble  \n15:42\u00a0<evalica>\u00a0it's apache 2.0  \n15:42\u00a0<vmassol>\u00a0then I don't understand what problem you are referring to  \n15:48\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:12\u00a0<sdumitriu>\u00a0has quit  \n16:13\u00a0<cjd>\u00a0has quit  \n16:14\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:30\u00a0<sburjan>\u00a0has quit  \n16:30\u00a0<sdumitriu>\u00a0has quit  \n16:34\u00a0<j\\_simard>\u00a0has joined #xwiki  \n16:34\u00a0<j-simard>\u00a0has quit  \n16:34\u00a0<j\\_simard>\u00a0is now known as <j-simard>  \n16:34\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:36\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:39\u00a0<j-simard>\u00a0has quit  \n16:42\u00a0<j-simard>\u00a0has joined #xwiki  \n16:54\u00a0<lucaa>\u00a0has joined #xwiki  \n16:59\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n17:30\u00a0<fmancinelli>\u00a0has joined #xwiki  \n17:30\u00a0<fmancinelli>\u00a0Hi guys  \n17:30\u00a0<vmassol>\u00a0hi fmancinelli  \n17:30\u00a0<fmancinelli>\u00a0I need help with hibernate :)  \n17:31\u00a0<lucaa>\u00a0has quit  \n17:32\u00a0<fmancinelli>\u00a0For a prototype I am writing, I have some hibernate mapping + an API that uses hibernate to store/retrieve things from there. I use the XWiki hibernateStore to get a session for executing queries and save stuff.  \n17:32\u00a0<fmancinelli>\u00a0but apparently the way I am doing it doesn't play well with XWiki  \n17:33\u00a0<fmancinelli>\u00a0so I wanted to ask if you can tell me what is the correct way for getting a session, and managing transactions when doing this kind of things  \n17:34\u00a0<sdumitriu>\u00a0Hi fmancinelli  \n17:34\u00a0<sdumitriu>\u00a0Do you have an XWikiContext when your code is executing?  \n17:35\u00a0<fmancinelli>\u00a0yes  \n17:38\u00a0<tmortagne>\u00a0has quit  \n17:40\u00a0<sdumitriu>\u00a0It should work then  \n17:41\u00a0<fmancinelli>\u00a0sdumitriu, http://hastebin.com/jefatiyavi.avrasm  \n17:41\u00a0<fmancinelli>\u00a0that's what I have in the code  \n17:41\u00a0<sdumitriu>\u00a0What does it throw?  \n17:42\u00a0<fmancinelli>\u00a0sdumitriu: now the good part :) It actually works, but after calling that I save a document and... it takes some time before actually being committed (I have to refresh the page). If I don't call the code the document is saved immediately and readily available  \n17:43\u00a0<sdumitriu>\u00a0I see  \n17:43\u00a0<fmancinelli>\u00a0so that code interacts in a strange way with the following save document  \n17:43\u00a0<sdumitriu>\u00a0So it clogs the session somehow  \n17:43\u00a0<fmancinelli>\u00a0I suspect it  \n17:45\u00a0<fmancinelli>\u00a0To give you the full picture I have some form data that are sent to a page. When the script in the page is executed I 1) call my hibernate API to store form data in my hibernate mapping 2) create a wiki page with an object 3) save the page 4) send a redirect to the newly created page  \n17:45\u00a0<fmancinelli>\u00a0well when the browser goes to the newly created page XWiki says that it doesn't exist  \n17:45\u00a0<fmancinelli>\u00a0after a while (some refreshes later) it appears  \n17:46\u00a0<fmancinelli>\u00a0by removing the call to my code in 1) everything works as expected... the redirect shows correctly the newly created page  \n17:47\u00a0<sdumitriu>\u00a0I might have an idea  \n17:52\u00a0<cjd>\u00a0has joined #xwiki  \n17:53\u00a0<sdumitriu>\u00a0fmancinelli: Try to call setTransaction(null, xwikiContext)  \n17:53\u00a0<fmancinelli>\u00a0where exactly in the code I pasted? http://hastebin.com/jefatiyavi.avrasm  \n17:54\u00a0<j-simard>\u00a0has quit  \n17:54\u00a0<sdumitriu>\u00a0In the finally block  \n17:54\u00a0<fmancinelli>\u00a0ok  \n17:55\u00a0<fmancinelli>\u00a0trying  \n18:05\u00a0<cjd>\u00a0has quit  \n18:10\u00a0<fmancinelli>\u00a0sdumitriu, solved. it was a NPE that I missed which made the thing explode \\*before\\* closing the transaction. So I guess I have to move the endTransaction in the finally block.  \n18:10\u00a0<fmancinelli>\u00a0and all of this came from a missed $ in a velocity script :O  \n18:11\u00a0<KermitTheFragger>\u00a0has quit  \n18:21\u00a0<camil7>\u00a0has quit  \n18:23\u00a0<fmancinelli>\u00a0has quit  \n18:23\u00a0<evalica>\u00a0has quit  \n18:29\u00a0<sdumitriu>\u00a0has quit  \n18:31\u00a0<mflorea>\u00a0has quit  \n18:34\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:42\u00a0<gdelhumeau>\u00a0has quit  \n19:39\u00a0<Slashman>\u00a0has quit  \n19:42\u00a0<xwikiorg\\_guest\\_1>\u00a0has joined #xwiki  \n19:47\u00a0<xwikiorg\\_guest\\_1>\u00a0hi all, is it intended that when I do something like {{velocity}} ... {{html}} <!DOCTYPE html><head></head><body>...</body></html>{{/html}} {{/velocity}} all around the body (doctype ect.) is gone?  \n19:48\u00a0<xwikiorg\\_guest\\_1>\u00a0is {{html}} {{/html}} removing doctype definitions?  \n19:53\u00a0<fmancinelli>\u00a0has joined #xwiki  \n19:55\u00a0<sdumitriu1>\u00a0xwikiorg\\_guest\\_1: Yes, you're embedding a piece of HTML inside another piece of HTML  \n19:56\u00a0<sdumitriu1>\u00a0You can't do that  \n19:56\u00a0<sdumitriu1>\u00a0The {{html}} macro allows only stuff that can be placed inside a div  \n19:56\u00a0<sdumitriu1>\u00a0If you really want to leave the doctype in place, you can do {{html clean=\"false\"}}  \n19:57\u00a0<xwikiorg\\_guest\\_1>\u00a0well I need to iframe some pages, clean=false did the trick, thank you  \n19:59\u00a0<xwikiorg\\_guest\\_1>\u00a0has quit  \n20:22\u00a0<fmancinelli>\u00a0has quit  \n20:25\u00a0<abusenius>\u00a0has joined #xwiki  \n20:56\u00a0<fmancinelli>\u00a0has joined #xwiki  \n21:54\u00a0<sburjan`>\u00a0has joined #xwiki  \n22:02\u00a0<evalica>\u00a0has joined #xwiki  \n22:03\u00a0<evalica>\u00a0has quit  \n22:20\u00a0<sdumitriu>\u00a0has quit  \n22:24\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:48\u00a0<sdumitriu1>\u00a0has quit  \n23:09\u00a0<vmassol>\u00a0has quit  \n23:40\u00a0<vmassol>\u00a0has joined #xwiki\n"}