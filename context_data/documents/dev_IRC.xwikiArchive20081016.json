{"id": "dev:IRC.xwikiArchive20081016", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20081016", "title": "IRC Archive for channel #xwiki on 16 October 2008 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nxwikibot - (16/10/2008 00:28): XWiki.KatieParry was modified by XWiki.KatieParry (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/KatieParry  \nxwikibot - (16/10/2008 00:41): XWiki.XWikiCommittersGroup was modified by xwiki:XWiki.Sergiu - http://sandbox.xwiki.org/xwiki/bin/view/XWiki/XWikiCommittersGroup  \nxwikibot - (16/10/2008 09:37): XWiki.bottenhofer was modified by XWiki.bottenhofer (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/bottenhofer  \nxwikibot - (16/10/2008 10:20): XWiki.XWikiCommittersGroup was modified by xwiki:XWiki.Sergiu - http://sandbox.xwiki.org/xwiki/bin/view/XWiki/XWikiCommittersGroup  \nxwikibot - (16/10/2008 11:09): XWiki.naima was modified by XWiki.naima (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/naima  \nxwikibot - (16/10/2008 11:34): DevGuide.WritingComponents was modified by xwiki:XWiki.lucaa (Rollback to version 9.1) - http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents  \nxwikibot - (16/10/2008 12:04): Main.ReleaseNotes was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotes  \nxwikibot - (16/10/2008 12:12): Main.ReleaseNotesXWikiEnterprise161 was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise161  \nxwikibot - (16/10/2008 12:21): DevGuide.WritingComponents was modified by xwiki:XWiki.lucaa - http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents  \nphreeza - (16/10/2008 12:36): can someone tell me where i can find the hibernate mapping file in the trunk?  \njvdrean - (16/10/2008 13:01): phreeza: http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/xwiki.hbm.xml ?  \nphreeza - (16/10/2008 13:22): yes, great. thank you  \nphreeza - (16/10/2008 13:23): didn't want to co the whole thing  \nphreeza - (16/10/2008 13:36): so i have some tables with data living in the same (mySQL) database as my xwiki. I want to query them from xwiki. my plan is to write coresponding java classes and a hibernate wrapping and then run the query using \u00a0XWiki.search()... is that the way to do it?  \njvdrean - (16/10/2008 14:28): phreeza:   \njvdrean - (16/10/2008 14:28): http://code.xwiki.org/xwiki/bin/view/Plugins/XWikiSqlPlugin  \njvdrean - (16/10/2008 14:28): http://dev.xwiki.org/xwiki/bin/view/Drafts/CustomMapping  \njvdrean - (16/10/2008 14:28): one of those 2 approaches should address your need  \nphreeza - (16/10/2008 14:30): thanks jvdrean, i'm just looking at sqlplugin, but it seems there is no release for xwiki 1.6 yet?  \njvdrean - (16/10/2008 14:33): hum it has not been updated for a long time  \njvdrean - (16/10/2008 14:33): using custom mapping would be safer  \nphreeza - (16/10/2008 14:34): ok i'll have a look at that. thanks again  \nxwikibot - (16/10/2008 15:03): Eprinsa.Prueba III was modified by XWiki.eperez (deleted document) - http://playground.xwiki.org/xwiki/bin/view/Eprinsa/Prueba+III  \nphreeza - (16/10/2008 15:20): jvdrean, i have made a mapping file as suggest in custom mapping, but i can't figure out where to put it. there are no other .hbm.xml files in my webapp dir... where does hibernate search?  \njvdrean - (16/10/2008 15:21): This file should then be located under the WEB-INF directory of the xwiki webapp (where XWiki standard mappings can be found too : xwiki.hbm.xml, feeds.hbm.xml).  \njvdrean - (16/10/2008 15:22): xwiki/WEB-INF/  \nphreeza - (16/10/2008 15:22): i think that is outdated? they are not there  \njvdrean - (16/10/2008 15:30): which distribution are you using ? a standalone one ?  \nphreeza - (16/10/2008 15:31): no, i got the WAR file... i already had a database  \nphreeza - (16/10/2008 15:31): xwiki-enterprise-web-1.6.war  \nphreeza - (16/10/2008 15:32): with a tomcat 5.5  \nphreeza - (16/10/2008 15:51): there is a reference to those hbm files in hibernate.cfg.xml, so they must be somewhere, i guess inside a jar  \nphreeza - (16/10/2008 15:52): i tried adding my custom mapping there as well, but that caused another error  \nphreeza - (16/10/2008 15:53): Wrapped Exception: Could not parse mapping document from resource xwiki.hbm.xml  \nxwikibot - (16/10/2008 15:57): XWiki.Prasen was modified by XWiki.Prasen (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/Prasen  \nxwikibot - (16/10/2008 15:58): XWiki.Prasen was modified by XWiki.Prasen (Created WatchList storage object) - http://www.xwiki.org/xwiki/bin/view/XWiki/Prasen  \njvdrean - (16/10/2008 16:03): phreeza: right xwiki.hbm.xml is now in the core jar but you should be able to add a file of your own in WEB-INF  \nphreeza - (16/10/2008 16:04): ok and do i have to tell hibernate about it in the hibernate.cfg.xml?  \nxwikibot - (16/10/2008 16:30): XWiki.Prasen was modified by XWiki.Prasen (Updated WatchList) - http://www.xwiki.org/xwiki/bin/view/XWiki/Prasen  \nphreeza - (16/10/2008 16:36): if i put it in it claims that it can't find it and if i don't it says my class is not mapped :(  \njvdrean - (16/10/2008 16:41): phreeza: can you try to put your mapping file in WEB-INF/classes ?  \nphreeza - (16/10/2008 16:45): jvdrean: ok now it changed from file not found to cannot parse. so i'll review my xml :)  \nphreeza - (16/10/2008 16:59): jvdrean, it has worked. awesome... thank you  \njvdrean - (16/10/2008 16:59): cool :)  \nphreeza - (16/10/2008 16:59): i had forgotten to declare doctype  \nphreeza - (16/10/2008 17:00): some numerical values are being screwed up but thats probably just a config problem. i'll look into that tomorrow  \nxwikibot - (16/10/2008 17:09): Plugins.LocalizationPlugin was modified by xwiki:XWiki.Sergiu (Short note about what localization means) - http://code.xwiki.org/xwiki/bin/view/Plugins/LocalizationPlugin  \nTitanous - (16/10/2008 17:15): can anyone help me with LDAP authentication to AD?  \nTitanous - (16/10/2008 17:15): I've got the LDAP Browser connected with the right DN/CN  \nTitanous - (16/10/2008 17:16): I can't understand how bind\\_DN/bind\\_pass work  \nTitanous - (16/10/2008 17:16): it says that's what it uses to login for verification  \nxwikibot - (16/10/2008 17:16): Main.Download was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Main/Download  \nTitanous - (16/10/2008 17:16): but where do the user/pass to be replaced for {0}/{1}  \nTitanous - (16/10/2008 17:16): come from?  \nxwikibot - (16/10/2008 17:17): Applications.PanelsApplicationDownloads was modified by xwiki:XWiki.ThomasMortagne (Added object) - http://code.xwiki.org/xwiki/bin/view/Applications/PanelsApplicationDownloads  \nxwikibot - (16/10/2008 17:18): Applications.PanelsApplicationDownloads was modified by xwiki:XWiki.ThomasMortagne - http://code.xwiki.org/xwiki/bin/view/Applications/PanelsApplicationDownloads  \nthomasmortagne - (16/10/2008 17:19): hi Titanous  \nthomasmortagne - (16/10/2008 17:20): {0} and {1} are replaced by the login and pass entered by user in login UI  \nTitanous - (16/10/2008 17:20): thomasmortagne: hmm, ok  \nTitanous - (16/10/2008 17:20): what soes it use to login to lookup the SamAccount name?  \nTitanous - (16/10/2008 17:21): 'cause the users login with that not the full cn  \nTitanous - (16/10/2008 17:21): and it should be looked up, right?  \nthomasmortagne - (16/10/2008 17:22): after bind succeed bind\\_DN/bind\\_pass are the credentials used to find the real user DN in the LDAP server  \nthomasmortagne - (16/10/2008 17:23): so if you use {0} and {1} LDAP users need the right to search  \nTitanous - (16/10/2008 17:23): ah, ok  \nTitanous - (16/10/2008 17:23): so I could just put the login details for an admin in the bind\\_?  \nTitanous - (16/10/2008 17:23): also, how do I get more debug output?  \nTitanous - (16/10/2008 17:24): I changed it to debug, but all I get is LDAP authentication failed  \nthomasmortagne - (16/10/2008 17:24): if your users can't do this then \u00a0you can use a \"regular\" admin LDAP in bind\\_DN/bind\\_pass and when user's DN is found a bind is done to check credentials  \nTitanous - (16/10/2008 17:25): DEBUG LDAP.XWikiLDAPAuthServiceImpl \u00a0\u00a0- Local LDAP authentication failed.  \nTitanous - (16/10/2008 17:25): can I get more detail than that?  \nthomasmortagne - (16/10/2008 17:25): yes by using xwiki 1.6.1 I just released ;)  \nthomasmortagne - (16/10/2008 17:26): some details as been added to LDAP authentication log  \nTitanous - (16/10/2008 17:26): I have 1.6.1  \nTitanous - (16/10/2008 17:26): just downloaded today  \nthomasmortagne - (16/10/2008 17:26): from where ?  \nthomasmortagne - (16/10/2008 17:27): I just add link in xwiki.org to download it 5 minutes ago  \nTitanous - (16/10/2008 17:27): oh  \nTitanous - (16/10/2008 17:27): ok  \nTitanous - (16/10/2008 17:27): cool  \nthomasmortagne - (16/10/2008 17:28): I think you have 1.6 which by the way has a critical bug in LDAP  \nthomasmortagne - (16/10/2008 17:28): which is mainly why this 1.6.1 release  \nTitanous - (16/10/2008 17:28): oh, heh  \nTitanous - (16/10/2008 17:28): could be why nothing is working  \nthomasmortagne - (16/10/2008 17:28): yes  \nthomasmortagne - (16/10/2008 17:28): the bug is that search for user DN bu uid does not works  \nTitanous - (16/10/2008 17:38): thomasmortagne: my question was doesn't it need a full cn to lookup the samaccountname?  \nthomasmortagne - (16/10/2008 17:40): this depends on your LDAP server configuration, generally for AD the user enter the samaccountname as login i think  \nTitanous - (16/10/2008 17:42): thomasmortagne: yeah that's correct  \nthomasmortagne - (16/10/2008 17:42): Titanous: did you looked at http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication#HLDAPConfigurationforActiveDirectory ?  \nTitanous - (16/10/2008 17:42): I'm trying to understand it  \nTitanous - (16/10/2008 17:42): it seems that it needs to lookup samaccountname to compare to the username entered  \nTitanous - (16/10/2008 17:42): so to look that up it needs another pair of credentials  \nTitanous - (16/10/2008 17:43): but that config doesn't account for that  \nthomasmortagne - (16/10/2008 17:43): you don\"t use {0} and {1} ?  \nTitanous - (16/10/2008 17:44): that's my point, you can't login to AD with the samaccountname, which the users use, which would be passed as {0}  \nTitanous - (16/10/2008 17:44): and you can't use anonymous to list  \nTitanous - (16/10/2008 17:45): that's my understanding  \nTitanous - (16/10/2008 17:45): feel free to correct me  \nthomasmortagne - (16/10/2008 17:45): yes but you don't directly set {0} as bind\\_DN acording to the documentation  \nthomasmortagne - (16/10/2008 17:45): users generally user \"subdomain\\\\{0}\" to bind  \nthomasmortagne - (16/10/2008 17:45): (I never used AD myself)  \nTitanous - (16/10/2008 17:45): lemme try that  \nthomasmortagne - (16/10/2008 17:46): I think you need to change subdomain by the right value for you  \nTitanous - (16/10/2008 17:46): yeah  \nTitanous - (16/10/2008 17:47): I'm testing with the LDAP Browser  \nthomasmortagne - (16/10/2008 17:47): ok  \nTitanous - (16/10/2008 17:47): I can login with cn=Full Name,ou=Organizational Unit  \nTitanous - (16/10/2008 17:47): but not any permutation of cn=subdomain\\shortname  \nasyd - (16/10/2008 17:48): \\ ?  \nthomasmortagne - (16/10/2008 17:48): maybe you need two \\ ?  \nTitanous - (16/10/2008 17:48): tried both  \nTitanous - (16/10/2008 17:48): with one and two  \nTitanous - (16/10/2008 17:49): with and without the ou  \nthomasmortagne - (16/10/2008 17:49): forget that, i think it's just to escape the \\ itself  \nTitanous - (16/10/2008 17:49): thought so  \nasyd - (16/10/2008 17:49): why you have \\ in a cn ?  \nthomasmortagne - (16/10/2008 17:49): I don't think it's a cn, I never see that is other LDAP server than AD  \nTitanous - (16/10/2008 17:49): asyd: trying to figure out whether it's possible to login with the short name instead of Full Name  \nasyd - (16/10/2008 17:49): anyway, if you really have a \\ try the hexa  \nthomasmortagne - (16/10/2008 17:49): I think it's a specific AD thing to bind  \nTitanous - (16/10/2008 17:52): hmm  \nTitanous - (16/10/2008 17:52): I don't think it's possible  \nTitanous - (16/10/2008 17:53): everything I'm reading says to look up the samaccountname with separate credentials  \nthomasmortagne - (16/10/2008 17:53): Titanous: if you really can't use {0} and {1}, you can set a admin user in bind\\_DN/bind\\_pass and the user's DN will be searched using provided user's samaccountname and will be checked  \nTitanous - (16/10/2008 17:53): so do I put bind\\_dn=cn=admin,ou=users  \nTitanous - (16/10/2008 17:54): or bbind\\_dn=admin  \nthomasmortagne - (16/10/2008 17:54): you put what works with LDAP browser  \nTitanous - (16/10/2008 17:54): k, perfect  \nxwikibot - (16/10/2008 18:10): Blog.XWikiEnterprise161Released was modified by XWiki.ThomasMortagne - http://www.xwiki.org/xwiki/bin/view/Blog/XWikiEnterprise161Released  \nTitanous - (16/10/2008 18:14): thomasmortagne: got authentication working  \nTitanous - (16/10/2008 18:14): now I'm getting  \nTitanous - (16/10/2008 18:14): DEBUG ldap.XWikiLDAPUtils \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Found group [cn=Domain Admins,ou=Users] members :null   \nTitanous - (16/10/2008 18:14): I'm trying to make Domain Admins wiki admins  \nTitanous - (16/10/2008 18:14): but it seems that it can't find the members?  \nthomasmortagne - (16/10/2008 18:15): Titanous: you don't have anything else in the log ?  \nTitanous - (16/10/2008 18:15): gonna pastebin it  \nTitanous - (16/10/2008 18:15): it's got a traceback  \nTitanous - (16/10/2008 18:17): http://pastebin.com/d616c438c  \nTitanous - (16/10/2008 18:18): that comes before the line I pasted  \nTitanous - (16/10/2008 18:18): (I censored the domain name)  \nthomasmortagne - (16/10/2008 18:19): hmm looks like http://jira.xwiki.org/jira/browse/XWIKI-2388  \nthomasmortagne - (16/10/2008 18:19): xwiki only support \"direct\" server yet  \nasyd - (16/10/2008 18:20): wy you're seraching in DC=ForestDnsZones ?! ;p  \nTitanous - (16/10/2008 18:21): asyd: that's not me  \nTitanous - (16/10/2008 18:21): that's XWiki, :P  \nasyd - (16/10/2008 18:21): you should specify a basedn outside your suffix, for exemple ou=People,DC=ForestDnsZones,DC=HDQUARTERS,DC=\\*\\*\\*\\*\\*\\*\\*\\*,DC=COM  \nasyd - (16/10/2008 18:22): however that depends how your active directory is configured  \nTitanous - (16/10/2008 18:23): asyd: what are you saying?  \nTitanous - (16/10/2008 18:24): I'm trying to get Domain Admins to be XWiki admins  \nTitanous - (16/10/2008 18:24): so I put xwiki.authentication.ldap.group\\_mapping=XWiki.XWikiAdminGroup=cn=Domain Admins,ou=Users  \nTitanous - (16/10/2008 18:25): which should work, right?  \nTitanous - (16/10/2008 18:44): How would I go about requiring authentication to view the wiki?  \nTitanous - (16/10/2008 18:48): nvm  \nTitanous - (16/10/2008 18:48): found it  \nxwikibot - (16/10/2008 21:36): Main.ExternalLinks was modified by XWiki.VincentMassol (Added blog post on SSO with Oracle) - http://www.xwiki.org/xwiki/bin/view/Main/ExternalLinks  \nxwikibot - (16/10/2008 21:39): AdminGuide.Authentication was modified by xwiki:XWiki.VincentMassol (Added link to tutorial on http://bodez.wordpress.com/2008/10/15/xwiki-user-authentication-with-oracle-sso/) - http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication  \nxwikibot - (16/10/2008 21:44): Community.ContinuousBuild was modified by xwiki:XWiki.VincentMassol (Fixed title) - http://dev.xwiki.org/xwiki/bin/view/Community/ContinuousBuild  \nxwikibot - (16/10/2008 21:49): Community.ContinuousBuild was modified by xwiki:XWiki.VincentMassol (Moved CI section from dev practices guide to here since JV started the move) - http://dev.xwiki.org/xwiki/bin/view/Community/ContinuousBuild  \nxwikibot - (16/10/2008 21:49): Community.ContinuousBuild was modified by xwiki:XWiki.VincentMassol (Added TOC) - http://dev.xwiki.org/xwiki/bin/view/Community/ContinuousBuild  \nxwikibot - (16/10/2008 21:50): Community.ContinuousBuild was modified by xwiki:XWiki.VincentMassol (Fixed typo) - http://dev.xwiki.org/xwiki/bin/view/Community/ContinuousBuild  \nxwikibot - (16/10/2008 21:50): Community.WebHome was modified by xwiki:XWiki.VincentMassol (Fixed typo) - http://dev.xwiki.org/xwiki/bin/view/Community/  \nxwikibot - (16/10/2008 21:51): Community.DevelopmentPractices was modified by xwiki:XWiki.VincentMassol (Moved CI section from dev practices guide to here since JV started the move) - http://dev.xwiki.org/xwiki/bin/view/Community/DevelopmentPractices  \n\n"}