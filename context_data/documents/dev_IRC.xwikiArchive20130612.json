{"id": "dev:IRC.xwikiArchive20130612", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130612", "title": "IRC Archive for channel #xwiki on 12 June 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n00:51\u00a0<npm\\_\\_>\u00a0has joined #xwiki  \n00:53\u00a0<npm\\_>\u00a0has quit  \n02:10\u00a0<npm\\_\\_>\u00a0has quit  \n02:10\u00a0<npm\\_\\_>\u00a0has joined #xwiki  \n02:46\u00a0<sdumitriu>\u00a0has quit  \n02:48\u00a0<chalx>\u00a0has quit  \n03:03\u00a0<sdumitriu>\u00a0has joined #xwiki  \n03:08\u00a0<sdumitriu>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:49\u00a0<sdumitriu>\u00a0has joined #xwiki  \n04:59\u00a0<kstuart>\u00a0has quit  \n05:51\u00a0<Denis>\u00a0has quit  \n07:20\u00a0<mflorea>\u00a0has joined #xwiki  \n07:44\u00a0<tmortagne>\u00a0has joined #xwiki  \n07:54\u00a0<evalica>\u00a0has joined #xwiki  \n07:57\u00a0<msmeria>\u00a0has joined #xwiki  \n08:06\u00a0<altker1281>\u00a0has quit  \n08:13\u00a0<vmassol>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0has quit  \n08:23\u00a0<sdumitriu>\u00a0has quit  \n08:31\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:34\u00a0<Denis>\u00a0has joined #xwiki  \n08:35\u00a0<sdumitriu>\u00a0has quit  \n09:21\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:38\u00a0<sburjan>\u00a0has joined #xwiki  \n09:39\u00a0<vmassol>\u00a0has joined #xwiki  \n10:54\u00a0<vmassol>\u00a0tmortagne/mflorea: good morning. Any idea when we can release M2?  \n10:55\u00a0<mflorea>\u00a0vmassol: http://jira.xwiki.org/browse/XWIKI-9217 in progress  \n10:55\u00a0<tmortagne>\u00a0vmassol: I should have something good enough for a M2 for XWIKI-9217 today (I'm almost done)  \n10:56\u00a0<vmassol>\u00a0tmortagne: ok, so we could start the release this afternoon or should we push it to tomorrow?  \n10:56\u00a0<tmortagne>\u00a0that should allow us to move on whatever is the decision on locales management  \n10:57\u00a0<tmortagne>\u00a0vmassol: I can have something ok for a milsetone this morning to improve after the release  \n10:57\u00a0<tmortagne>\u00a0milestone  \n10:57\u00a0<tmortagne>\u00a0more noon than morning  \n10:57\u00a0<vmassol>\u00a0ok  \n10:57\u00a0<vmassol>\u00a0cool  \n11:01\u00a0<sburjan>\u00a0vmassol: we are done with the renaming. If you have the time for a short review, you can rename yourself the pages if you don't like the test names  \n11:04\u00a0<vmassol>\u00a0sburjan: ok, no time right now, but looks good  \n11:04\u00a0<vmassol>\u00a0sburjan: let's start to use it asap  \n11:04\u00a0<vmassol>\u00a0whenever msmeria or you do a test now, please use it, ie don't do any test anymore that doesn't use it  \n11:04\u00a0<sburjan>\u00a0vmassol: we can start using it RIGHT after M2 is released, to perform a full test  \n11:04\u00a0<vmassol>\u00a0why not now?  \n11:05\u00a0<vmassol>\u00a0why full?  \n11:05\u00a0<vmassol>\u00a0it cab be used test by test  \n11:05\u00a0<vmassol>\u00a0\\*can  \n11:05\u00a0<sburjan>\u00a0because after each M2 we agreed to perform a full test, remember ? :)  \n11:05\u00a0<sburjan>\u00a0yes indeed  \n11:05\u00a0<vmassol>\u00a0for ex  \n11:05\u00a0<vmassol>\u00a0you're doing cluster test  \n11:05\u00a0<vmassol>\u00a0use it  \n11:05\u00a0<vmassol>\u00a0to record the result  \n11:06\u00a0<vmassol>\u00a0you'll need to be more flexible for versions I think  \n11:06\u00a0<vmassol>\u00a0ie allow testing snapshots  \n11:06\u00a0<sburjan>\u00a0my only question is that ATM we are between releases, so I should put on version I am testing FOR ie M2 or version I am testing ON ie M1  \n11:06\u00a0<sburjan>\u00a0ok  \n11:06\u00a0<vmassol>\u00a0you should put the exact version you're testing  \n11:07\u00a0<vmassol>\u00a0IMO  \n11:07\u00a0<sburjan>\u00a0ok, so for example 5.1-SNAPSHOT and the number of the package ?  \n11:07\u00a0<vmassol>\u00a0http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki-platform-activitystream-api/5.1-SNAPSHOT/xwiki-platform-activitystream-api-5.1-20130607.063337-98.pom  \n11:07\u00a0<vmassol>\u00a05.1-20130607.063337-98  \n11:07\u00a0<sburjan>\u00a0ok  \n11:08\u00a0<vmassol>\u00a0that's the exact version  \n11:08\u00a0<sburjan>\u00a0we can do that, the application supports setting any version we want  \n11:08\u00a0<vmassol>\u00a0then when we release 5.1 final we can aggregate and present all tests done  \n11:08\u00a0<sburjan>\u00a0ok, thanks  \n11:08\u00a0<sburjan>\u00a0bbl, lunch  \n11:21\u00a0<vmassol>\u00a0has quit  \n11:48\u00a0<tmortagne>\u00a0mflorea: should be ok for the M2  \n11:48\u00a0<tmortagne>\u00a0lest wait to see what I broken in jenkins first  \n11:49\u00a0<mflorea>\u00a0tmortagne: ok, I'll start the release after lunch if everything is fine. Did you see that the quality job is failing on lucene api? Must be caused by some indirect change.  \n11:50\u00a0<mflorea>\u00a0because you didn't touch the lucene api in more than 5 days  \n11:50\u00a0<tmortagne>\u00a0mflorea: I seen it but all I can think of is an indirect change in commons  \n11:50\u00a0<mflorea>\u00a0yep  \n11:50\u00a0<tmortagne>\u00a0there hasn't been any change in platform before that fail  \n11:50\u00a0<mflorea>\u00a0exactly  \n11:50\u00a0<tmortagne>\u00a0finishing paper work for what I committed and will looks at it  \n12:00\u00a0<vmassol>\u00a0has joined #xwiki  \n12:04\u00a0<tmortagne>\u00a0vmassol: your the only one having committed stuff in commons that day ;)  \n12:04\u00a0<tmortagne>\u00a0can only be about XCOMMONS-409  \n12:04\u00a0<tmortagne>\u00a0but that would be a very indirect side effect  \n12:05\u00a0<vmassol>\u00a0tmortagne: I missed the first part of the conversation  \n12:05\u00a0<vmassol>\u00a0are you talking about the failure of http://ci.xwiki.org/job/xwiki-platform%20Quality%20Checks/ ?  \n12:05\u00a0<tmortagne>\u00a0yes  \n12:05\u00a0<tmortagne>\u00a0(11:50:05 AM) mflorea: because you didn't touch the lucene api in more than 5 days  \n12:05\u00a0<tmortagne>\u00a0(11:50:31 AM) mflorea: exactly  \n12:05\u00a0<vmassol>\u00a0I see:  \n12:05\u00a0<vmassol>\u00a0[INFO] --- jacoco-maven-plugin:0.6.2.201302030002:check (jacoco-check) @ xwiki-platform-search-lucene-api ---  \n12:05\u00a0<vmassol>\u00a0[WARNING] Insufficient code coverage for INSTRUCTION: 35.52% < 35.57%  \n12:05\u00a0<tmortagne>\u00a0yes  \n12:06\u00a0<vmassol>\u00a0since this check is only local and for unit tests  \n12:06\u00a0<vmassol>\u00a0it has to come from lucene api code changes  \n12:06\u00a0<tmortagne>\u00a0vmassol: look at what we said  \n12:06\u00a0<vmassol>\u00a0yes I've seen it  \n12:06\u00a0<tmortagne>\u00a0there has been no change in the whole platform before that fail  \n12:07\u00a0<vmassol>\u00a0but I don't see how it can come from another module  \n12:07\u00a0<vmassol>\u00a0hmm  \n12:07\u00a0<vmassol>\u00a0it could  \n12:07\u00a0<tmortagne>\u00a0by indirectly making the test use less code  \n12:07\u00a0<vmassol>\u00a0if some code change behavior and doesn't go through an if for example  \n12:07\u00a0<tmortagne>\u00a0yes  \n12:07\u00a0<vmassol>\u00a0interesting  \n12:07\u00a0<vmassol>\u00a0:)  \n12:07\u00a0<tmortagne>\u00a0it would also be a difference between two agents maybe  \n12:08\u00a0<tmortagne>\u00a0could  \n12:08\u00a0<vmassol>\u00a0do you reproduce locally?  \n12:08\u00a0<tmortagne>\u00a0did not tried yet  \n12:08\u00a0<vmassol>\u00a0ok I'll check too (just finished a meeting 1 mn ago)  \n12:10\u00a0<vmassol>\u00a0build passes locally  \n12:10\u00a0<tmortagne>\u00a0same for me but that would not be the first time  \n12:10\u00a0<vmassol>\u00a0I built wiki-platform/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-lucene \u00a0with the quality profile  \n12:11\u00a0<tmortagne>\u00a0I restarted it on jenkins  \n12:11\u00a0<vmassol>\u00a0ah wait  \n12:11\u00a0<vmassol>\u00a0I'm on feature-newmodel branch  \n12:11\u00a0<vmassol>\u00a0:)  \n12:11\u00a0<tmortagne>\u00a0I'm on master  \n12:12\u00a0<tmortagne>\u00a0note the that failing build and the previous builds were not on the same agent  \n12:13\u00a0<tmortagne>\u00a0new test wiki produce quite some spam :)  \n12:13\u00a0<tmortagne>\u00a0I guess it's a good sign ;)  \n12:13\u00a0<vmassol>\u00a0yep  \n12:13\u00a0<vmassol>\u00a0I hope it'll stabilize :)  \n12:14\u00a0<vmassol>\u00a0tmortagne: build passes on master for me too, I get 35.72%  \n12:14\u00a0<vmassol>\u00a0(threshold is set at 35.58%)  \n12:15\u00a0<vmassol>\u00a0(to get the max, run mvn clean install -Pquality -Dxwiki.jacoco.instructionRatio=100)  \n12:15\u00a0<tmortagne>\u00a0I get a weird error during the tests \"[Finalizer] ERROR c.x.xwiki.plugin.lucene.LucenePlugin - Lucene plugin will exit!\"  \n12:16\u00a0<vmassol>\u00a0yep me too  \n12:16\u00a0<vmassol>\u00a0we should check that indeed  \n12:17\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0@Override  \n12:17\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0{  \n12:17\u00a0<vmassol>\u00a0doesn't seem right to use errro()  \n12:17\u00a0<vmassol>\u00a0should be debug IMO  \n12:17\u00a0<vmassol>\u00a0(even info sounds a bit too high a level)  \n12:18\u00a0<vmassol>\u00a0hmm  \n12:18\u00a0<vmassol>\u00a0I thought it was a normal finalizer  \n12:18\u00a0<vmassol>\u00a0but it seems it's not  \n12:18\u00a0<vmassol>\u00a0my bad, it is  \n12:18\u00a0<vmassol>\u00a0(was lulled by the @override)  \n12:18\u00a0<vmassol>\u00a0so yes should be debug IMO  \n12:19\u00a0<vmassol>\u00a0tmortagne: ok for me to do the change?  \n12:20\u00a0<vmassol>\u00a0I think the idea was to make sure that the indexes are closed when xwiki exits  \n12:21\u00a0<vmassol>\u00a0but ofc it's not a guarantee here\u2026. better would be a component implementing Disposable ;)  \n12:24\u00a0<vmassol>\u00a0btw tmortagne, do you tell SOLR to close properly with Disposable?  \n12:24\u00a0<vmassol>\u00a0:)  \n12:28\u00a0<vmassol>\u00a0tmortagne: fixed  \n12:29\u00a0<vmassol>\u00a0I now have 35.70%  \n12:36\u00a0<gdelhumeau>\u00a0has quit  \n13:17\u00a0<tmortagne>\u00a0has quit  \n13:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n13:31\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n13:40\u00a0<vmassol>\u00a0tmortagne: fyi I've ran quailty check on a13 and it passed  \n13:40\u00a0<vmassol>\u00a0(I've ran it locally)  \n13:40\u00a0<vmassol>\u00a0(a13 is the one that failed http://ci.xwiki.org/job/xwiki-platform%20Quality%20Checks/497/consoleText )  \n13:42\u00a0<vmassol>\u00a0I get 35.72%  \n13:42\u00a0<vmassol>\u00a0so same value I got locally  \n13:42\u00a0<vmassol>\u00a0weird  \n13:43\u00a0<vmassol>\u00a0trying a few times for fun  \n13:43\u00a0<tmortagne>\u00a0vmassol: it passed in http://ci.xwiki.org/view/Platform/job/xwiki-platform/3977/ too  \n13:44\u00a0<tmortagne>\u00a0forget that was looking at the wrong one  \n13:44\u00a0<vmassol>\u00a0:)  \n13:45\u00a0<tmortagne>\u00a0http://ci.xwiki.org/job/xwiki-platform Quality Checks is in bad shape  \n13:45\u00a0<tmortagne>\u00a0several \"VNC connection issue!\"  \n13:47\u00a0<vmassol>\u00a0as a conclusion I don't think it was caused by my commits on commons  \n13:48\u00a0<vmassol>\u00a0I've tried 10 times both locally and on a13 and couldn't reproduce  \n13:48\u00a0<vmassol>\u00a0IMO it's more a non determinism of the jdk  \n13:49\u00a0<kstuart>\u00a0has joined #xwiki  \n13:50\u00a0<vmassol>\u00a0another possibility is that it doesn't fail when executed in isolation but fails in a reactor build but tat would be strange since we fork a jvm for the tests AFAIR  \n13:51\u00a0<vmassol>\u00a0tmortagne: did you restart a9?  \n13:51\u00a0<tmortagne>\u00a0did not touched it  \n13:51\u00a0<vmassol>\u00a0restartgin them  \n13:51\u00a0<vmassol>\u00a0a9 and a13  \n13:53\u00a0<vmassol>\u00a0done  \n13:53\u00a0<vmassol>\u00a0trigging quality build again  \n13:55\u00a0<SvenDowideit>\u00a0has quit  \n13:55\u00a0<sburjan>\u00a0tmortagne: did you had time to investigate the DW slowness ?  \n13:55\u00a0<tmortagne>\u00a0sburjan: no yet, it's in my todo list  \n13:56\u00a0<mflorea>\u00a0has quit  \n13:58\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n14:03\u00a0<vmassol1>\u00a0has joined #xwiki  \n14:05\u00a0<vmassol2>\u00a0has joined #xwiki  \n14:07\u00a0<vmassol>\u00a0has quit  \n14:09\u00a0<vmassol1>\u00a0has quit  \n14:19\u00a0<msmeria>\u00a0has quit  \n14:47\u00a0<sburjan>\u00a0vmassol2: are you busy ? We'd like to use the app starting tomorrow and we'd need a review from your POV over the test names  \n14:47\u00a0<vmassol2>\u00a0is now known as <vmassol>  \n14:47\u00a0<sburjan>\u00a0because after, it will be harder to rename the tests  \n14:48\u00a0<vmassol>\u00a0sburjan: as i said it's fine  \n14:48\u00a0<vmassol>\u00a0and don't worry names will need to be adjusted  \n14:49\u00a0<vmassol>\u00a0it doesn't have to be perfect upfront  \n14:49\u00a0<sburjan>\u00a0executions depend on test names, so if a test name changes, the execution will loose the proper link to the test  \n14:49\u00a0<vmassol>\u00a0that's fine  \n14:49\u00a0<sburjan>\u00a0ok  \n14:49\u00a0<vmassol>\u00a0you just need to implement a rename ;)  \n14:50\u00a0<sburjan>\u00a0ok:P  \n14:56\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:01\u00a0<vmassol1>\u00a0has joined #xwiki  \n15:05\u00a0<vmassol>\u00a0has quit  \n15:12\u00a0<mflorea>\u00a0has joined #xwiki  \n15:23\u00a0<sburjan>\u00a0tmortagne: I see you reported and fixed. http://jira.xwiki.org/browse/XWIKI-9213 Could you please more detailed steps to reproduce ? This seems a serious issue  \n15:25\u00a0<tmortagne>\u00a0sburjan: you needed scripting+PR or Java to reproduce that  \n15:26\u00a0<tmortagne>\u00a0as indicated hibernate storage used to force the author of the document you save to be the context user  \n15:30\u00a0<Kvisle>\u00a0has joined #xwiki  \n15:42\u00a0<Kvisle>\u00a0has left #xwiki  \n15:45\u00a0<evalica>\u00a0has quit  \n15:47\u00a0<msmeria>\u00a0has joined #xwiki  \n15:54\u00a0<msmeria>\u00a0has quit  \n15:54\u00a0<sburjan>\u00a0has quit  \n16:29\u00a0<Denis>\u00a0has quit  \n16:57\u00a0<chalx>\u00a0has joined #xwiki  \n17:11\u00a0<tdelafosse>\u00a0has joined #xwiki  \n17:31\u00a0<msmeria>\u00a0has joined #xwiki  \n17:50\u00a0<vmassol1>\u00a0has quit  \n18:21\u00a0<tmortagne>\u00a0has quit  \n18:27\u00a0<msmeria>\u00a0has quit  \n18:29\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n18:43\u00a0<tdelafosse>\u00a0has quit  \n18:48\u00a0<gdelhumeau>\u00a0has quit  \n19:24\u00a0<Mariah>\u00a0somebody there?  \n19:26\u00a0<kstuart>\u00a0has quit  \n19:34\u00a0<kstuart>\u00a0has joined #xwiki  \n19:47\u00a0<Mariah>\u00a0please can somebody help?  \n20:02\u00a0<mflorea>\u00a0has quit  \n20:05\u00a0<kstuart>\u00a0has quit  \n20:21\u00a0<vmassol>\u00a0has joined #xwiki  \n21:05\u00a0<chalx>\u00a0has quit  \n21:55\u00a0<chalx>\u00a0has joined #xwiki  \n22:08\u00a0<vmassol>\u00a0has quit  \n23:11\u00a0<SvenDowideit>\u00a0has quit  \n23:18\u00a0<kstuart>\u00a0has joined #xwiki  \n23:31\u00a0<Mariah>\u00a0somebody can help???  \n23:45\u00a0<Denis>\u00a0has joined #xwiki  \n23:50\u00a0<Mariah>\u00a0pleaseeee heelp !!\n"}