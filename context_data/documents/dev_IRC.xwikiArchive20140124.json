{"id": "dev:IRC.xwikiArchive20140124", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140124", "title": "IRC Archive for channel #xwiki on 24 January 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has joined #xwiki  \n00:03\u00a0<lucaa>\u00a0has quit  \n00:03\u00a0<lucaa>\u00a0has joined #xwiki  \n00:05\u00a0<cjd>\u00a0has quit  \n00:28\u00a0<vmassol>\u00a0has quit  \n00:29\u00a0<vmassol>\u00a0has joined #xwiki  \n01:02\u00a0<Sidali>\u00a0has quit  \n01:20\u00a0<lucaa>\u00a0has quit  \n01:39\u00a0<Denis>\u00a0has quit  \n01:59\u00a0<sdumitriu1>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:01\u00a0<Denis>\u00a0has quit  \n07:17\u00a0<evalica>\u00a0has joined #xwiki  \n08:09\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:17\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:17\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:26\u00a0<mflorea>\u00a0has joined #xwiki  \n08:26\u00a0<vrachieru>\u00a0has quit  \n08:27\u00a0<mstaicu>\u00a0has joined #xwiki  \n08:27\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:30\u00a0<Sidali>\u00a0has joined #xwiki  \n08:30\u00a0<Denis>\u00a0has joined #xwiki  \n08:33\u00a0<vmassol>\u00a0Sidali: hi  \n08:33\u00a0<vmassol>\u00a0thanks  \n08:33\u00a0<abusenius>\u00a0has joined #xwiki  \n08:40\u00a0<DarkKnightCZ>\u00a0sdumitriu: hi, i see RemoteSolrInstance.java is \"fixed\" now (generating zip config file), is that solr config file available somewhere?  \n08:44\u00a0<sburjan`>\u00a0has joined #xwiki  \n08:47\u00a0<abusenius>\u00a0has quit  \n08:48\u00a0<vrachieru>\u00a0has quit  \n08:51\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:52\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:59\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:59\u00a0<Denis>\u00a0vmassol: Jenkins do not have a faster UI, it is still very slow at time for me  \n09:02\u00a0<Denis>\u00a0vmassol: why xwiki-enterprise has xwiki-platform-testagent and not xwiki-platform has an upstream project ?  \n09:12\u00a0<tmortagne>\u00a0xwiki-platform-testagent should be deleted anyway, it's not needed anymore  \n09:13\u00a0<tmortagne>\u00a0Denis: xwiki-platform-testagent is a platform 5.4 too and jenkins is dumb that's all  \n09:16\u00a0<vmassol>\u00a0Denis: ok thanks for the jenkins feedback  \n09:20\u00a0<Denis>\u00a0vmassol, tmortagne: it is really upsetting to not have jenkins doing its job properly, it cause unnecessary delays  \n09:21\u00a0<Denis>\u00a0vmassol: after being so slow, it is right now faster  \n09:22\u00a0<msmeria>\u00a0has joined #xwiki  \n09:22\u00a0<Denis>\u00a0this is really odd how the UI vary in performance  \n09:22\u00a0<tmortagne>\u00a0yes it's generally faster than it used too even if the speed is quite random  \n09:23\u00a0<tmortagne>\u00a0sounds like caching luck game, don't access when nobody did before you for a while :)  \n09:24\u00a0<Denis>\u00a0not really, even if I go back twice to the same place, it could be twice slow  \n09:26\u00a0<tmortagne>\u00a0most of the time for me it's only the first access that is the slowest  \n09:27\u00a0<tmortagne>\u00a0it's never instant  \n09:35\u00a0<Denis>\u00a0I will more attentive to confirm or not  \n09:43\u00a0<Denis>\u00a0has quit  \n09:46\u00a0<vmassol>\u00a0tmortagne: could you update http://www.xwiki.org/xwiki/bin/view/Roadmaps/WebHome with the new dates you proposed?  \n09:49\u00a0<vmassol>\u00a0thanks  \n09:49\u00a0<vmassol>\u00a0wait  \n09:49\u00a0<vmassol>\u00a0please cross existing  \n09:49\u00a0<vmassol>\u00a0so that we remember them  \n09:49\u00a0<vmassol>\u00a0s/cross/strike  \n10:06\u00a0<vmassol>\u00a0I'm entering a several hour long meeting now...  \n10:06\u00a0<vmassol>\u00a0I didn't get the time to send the BFD results  \n10:06\u00a0<vmassol>\u00a0is there someone who could take care of it? Or I'll do it this afternoon otherwise  \n10:31\u00a0<ClemensR>\u00a0has joined #xwiki  \n10:43\u00a0<msmeria>\u00a0ClemensR: good morning  \n10:43\u00a0<msmeria>\u00a0I'm trying to validate XWIKI-9730, but I'm having some issues  \n10:44\u00a0<ClemensR>\u00a0msmeria: g'd morning :)  \n10:44\u00a0<msmeria>\u00a0I'm on XEM 2.1.1 and I get an error when I try to install the default template on http://localhost:8080/xwiki/bin/view/XemManager/Install?confirm=1  \n10:44\u00a0<msmeria>\u00a0XWiki Enterprise Manager installation failed (Error number 50040 in 5: com.xpn.xwiki.plugin.wikimanager.WikiManagerPlugin: Fail to install package\u00a0xar  \n10:44\u00a0<msmeria>\u00a0did you encounter this as well ?  \n10:46\u00a0<msmeria>\u00a0and I also get lots of \"com.xpn.xwiki.XWikiException: Error number 2 in 0: The wiki templatexe does not exist\" errors in the console  \n10:46\u00a0<msmeria>\u00a0I'm on hsqldb 2.3.1/jetty 8.1  \n10:46\u00a0<ClemensR>\u00a0I have to admit that I have been glad to see the bug closed, but did not manager to test it  \n10:47\u00a0<tmortagne>\u00a0msmeria: I don't think multiwiki works well with hsqldb in this version  \n10:47\u00a0<tmortagne>\u00a0you should test on mysql  \n10:47\u00a0<ClemensR>\u00a0ah, and I never tries the Xem sinde 5.2 or so ...  \n10:48\u00a0<msmeria>\u00a0tmortagne: thanks. I'll try that  \n10:48\u00a0<Denis>\u00a0has joined #xwiki  \n10:48\u00a0<lucaa>\u00a0has joined #xwiki  \n10:50\u00a0<Slashman>\u00a0has joined #xwiki  \n10:50\u00a0<msmeria>\u00a0tmortagne: do you think it'll work on Postgres ? it's faster...  \n10:50\u00a0<tmortagne>\u00a0msmeria: no I don't think it's well supported on postgre either, only MySQL  \n10:51\u00a0<msmeria>\u00a0ok. MySQL it is then  \n11:01\u00a0<Inge->\u00a0hm. I should probably blog my installation recipe  \n11:03\u00a0<DarkKnightCZ>\u00a0anyone here using remote solr instance? since conf export is broken i took conf files it generates for embedded (+ solr-plugin for xdismax), but i'm probably putting bad url to xwiki (http://url:port/solr is solr default url, core name is xwiki)  \n11:09\u00a0<msmeria>\u00a0tmortagne: I get the same \"XWiki Enterprise Manager installation failed (Error number 50040 in 5: com.xpn.xwiki.plugin.wikimanager.WikiManagerPlugin: Fail to install package\u00a0xar\" error when I try to install the template on MySQL too  \n11:09\u00a0<msmeria>\u00a0here's my stacktrace: http://hastebin.com/jagucogote.avrasm  \n11:10\u00a0<msmeria>\u00a0as far as I can see it's the same behaviour as on Hsqldb  \n11:12\u00a0<tmortagne>\u00a0\"com.xpn.xwiki.XWikiException: Error number 2 in 0: The wiki templatexe does not exist\"  \n11:12\u00a0<tmortagne>\u00a0and did you created the template ?  \n11:13\u00a0<tmortagne>\u00a0forget that  \n11:13\u00a0<tmortagne>\u00a0I don't know, are you sure XWiki has the right to create databases ?  \n11:14\u00a0<msmeria>\u00a0I'm not sure. how can I check that ?  \n11:15\u00a0<tmortagne>\u00a0mysql -u root -e \"grant all privileges on \\*.\\* to xwiki@localhost identified by 'xwiki'\"  \n11:15\u00a0<msmeria>\u00a0I created a xwiki user on Mysql with full access  \n11:15\u00a0<tmortagne>\u00a0full access on the whole engine or full access on xwiki database ?  \n11:15\u00a0<lucaa1>\u00a0has joined #xwiki  \n11:15\u00a0<tmortagne>\u00a0and you probably have more in your log  \n11:16\u00a0<msmeria>\u00a0full access on the whole engine  \n11:16\u00a0<tmortagne>\u00a0like why \"The wiki templatexe does not exist\"  \n11:16\u00a0<tmortagne>\u00a0the log you pasted is not the real issue  \n11:16\u00a0<tmortagne>\u00a0just a consequence  \n11:16\u00a0<msmeria>\u00a0i have to set a bigger buffer value  \n11:17\u00a0<msmeria>\u00a0I'm on Windows...  \n11:17\u00a0<tmortagne>\u00a0I think it's possible to configure jetty to log in a file  \n11:17\u00a0<msmeria>\u00a0I'm very interested in that :)  \n11:17\u00a0<msmeria>\u00a0I managed to do it once, but couldn't later  \n11:17\u00a0<lucaa>\u00a0has quit  \n11:18\u00a0<tmortagne>\u00a0http://stackoverflow.com/questions/15474476/how-to-configure-jetty-to-put-logs-into-an-external-file  \n11:18\u00a0<tmortagne>\u00a0seems to be it  \n11:18\u00a0<tmortagne>\u00a0or you can use tomcat  \n11:19\u00a0<msmeria>\u00a0I think I'll switch to tomcat and retest  \n11:19\u00a0<msmeria>\u00a0and give you the full log  \n11:20\u00a0<tmortagne>\u00a0you can also simply redirect standard/error output in a file  \n11:20\u00a0<tmortagne>\u00a0seems to be the same syntax as on linux  \n11:20\u00a0<tmortagne>\u00a0(did not know windows was supporting it)  \n11:20\u00a0<tmortagne>\u00a0http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/redirection.mspx?mfr=true  \n11:20\u00a0<tmortagne>\u00a0(it's windows XP doc but I guess it's the same with more recent versions)  \n11:36\u00a0<msmeria>\u00a0tmortagne: this is the log I got from tomcat: http://hastebin.com/hipavameva.avrasm and I also have another file xwiki.log created in my tomcat folder: http://hastebin.com/quduwisema.avrasm  \n11:36\u00a0<msmeria>\u00a0but afaics the tomcat log isn't complete...  \n11:37\u00a0<msmeria>\u00a0also I can see that the templatexe schema is created in mysql  \n11:38\u00a0<tmortagne>\u00a0msmeria: ok so if it's created then it's not a mysql right issue  \n11:39\u00a0<tmortagne>\u00a0I really don't know what is going on, not also that you seems to have issues with lucene  \n11:39\u00a0<msmeria>\u00a0yeah...it's weird  \n11:40\u00a0<msmeria>\u00a0maybe we should let it go since it's an issue that doesn't affect newer versions of XWiki  \n11:40\u00a0<msmeria>\u00a0:)  \n11:40\u00a0<tmortagne>\u00a0do you have to test that version ?  \n11:40\u00a0<msmeria>\u00a0unless you have another idea as to what I should try  \n11:40\u00a0<DarkKnightCZ>\u00a0for logging purposes, when using solr as remote instance, url has to be http://ip:port/solr/corename :)  \n11:40\u00a0<msmeria>\u00a0no  \n11:40\u00a0<msmeria>\u00a0i was just trying to validate http://jira.xwiki.org/browse/XWIKI-9730  \n11:41\u00a0<msmeria>\u00a0and I wanted to use the same xwiki version: 2.1.1  \n11:41\u00a0<msmeria>\u00a0and then migrate it to 5.2.3  \n11:41\u00a0<tmortagne>\u00a0you could maybe try with 2.1.2  \n11:42\u00a0<tmortagne>\u00a0did you use http://maven.xwiki.org/releases/com/xpn/xwiki/products/xwiki-enterprise-manager-mysql/2.1.2/ ?  \n11:42\u00a0<msmeria>\u00a0I did try with no luck. on 2.1.2 I get some weird redirects to 127.0.0.:9090 or smth like that  \n11:42\u00a0<msmeria>\u00a0in both cases I user the war and configured it  \n11:43\u00a0<msmeria>\u00a0I'll try with the mysql version although I'm 99% sure I'll get the same result  \n11:44\u00a0<tmortagne>\u00a0maybe you did a mistake in the hibernate conf  \n11:45\u00a0<msmeria>\u00a0maybe, although I never make mistakes  \n11:45\u00a0<msmeria>\u00a0(joke)  \n11:45\u00a0<msmeria>\u00a0I'll retest with the mysql version and let you know  \n11:51\u00a0<tmortagne>\u00a0ClemensR: do you want me to create a resource on l10n.xwiki.org for mocca calendar ?  \n11:52\u00a0<tmortagne>\u00a0(in http://l10n.xwiki.org/xwiki/bin/view/Contrib/WebHome)  \n11:52\u00a0<tmortagne>\u00a0(or indicate you how to do it)  \n11:59\u00a0<msmeria>\u00a0tmortagne: I get the same behaviour on the jetty/mysql version  \n11:59\u00a0<tmortagne>\u00a0ok, no idea what could be the issue without debugging  \n12:00\u00a0<msmeria>\u00a0tmortagne: thanks for your help  \n12:06\u00a0<ClemensR>\u00a0tmortagne: \u00a0not sure if adding translations is necessary yet. Maybe tell me how to do if it is not too complicated. But for now I feel it is ok if translators send pull requests  \n12:10\u00a0<tmortagne>\u00a0ClemensR: ok as you want, to add a resource you use \"Add a translation file\" and you look at others similar translation resource like \"Wiki Manager\" to know what to put in there  \n12:11\u00a0<ClemensR>\u00a0ah, ok, yes, I can guess what to do  \n12:11\u00a0<ClemensR>\u00a0if I mess it up I come back to you asking for help to clean up ;)  \n12:12\u00a0<tmortagne>\u00a0sure but it's very easy  \n12:18\u00a0<sburjan`>\u00a0mflorea: ping  \n12:18\u00a0<mflorea>\u00a0sburjan` pong  \n12:20\u00a0<mflorea>\u00a0I have to go to lunch, I'll read you message when I'm back  \n12:28\u00a0<UCC>\u00a0has joined #xwiki  \n12:28\u00a0<ClemensR>\u00a0tmortagne: thanks for the pointer, importing translation to l10n worked very well, as far as I can see  \n12:30\u00a0<tmortagne>\u00a0ClemensR: just forgot to import existing translation (but I forgot you tell you to do it), doing it now  \n12:30\u00a0<tmortagne>\u00a0forget that  \n12:30\u00a0<ClemensR>\u00a0I thougth I did ... sorry  \n12:30\u00a0<ClemensR>\u00a0ah, ok :)  \n12:30\u00a0<tmortagne>\u00a0you did  \n12:30\u00a0<tmortagne>\u00a0...  \n12:31\u00a0<tmortagne>\u00a0looks I need to eat  \n12:31\u00a0<ClemensR>\u00a0yes, I hope I did .... \u00a0oh, just more coffee :)  \n12:33\u00a0<tmortagne>\u00a0s/looks/looks like/  \n12:34\u00a0<mflorea>\u00a0back  \n12:38\u00a0<lucaa1>\u00a0has quit  \n12:40\u00a0<Denis>\u00a0mflorea: see XWIKI-9847  \n12:42\u00a0<Denis>\u00a0mflorea: sburjan is about to attach the resulting stacktrace  \n12:42\u00a0<mflorea>\u00a0Denis: ok, but I don't see any suggestion :)  \n12:42\u00a0<mflorea>\u00a0isn't there another way to query xWikiClassXML that works on Oracle?  \n12:43\u00a0<mflorea>\u00a0note that I looked in xwiki.hbm.xml before I wrote the query, and xWikiClassXML was like any other document field, so for me it wasn't any problem to use it.  \n12:44\u00a0<mflorea>\u00a0I need a query that will return documents that are not XClass definitions  \n12:45\u00a0<mflorea>\u00a0or the other way around, a query that will give me all classes  \n12:45\u00a0<mflorea>\u00a0let me check something  \n12:46\u00a0<Denis>\u00a0mflorea: the issue is that large blob could not be used in where clauses  \n12:47\u00a0<mflorea>\u00a0I understood that, but there must be a way to retrieve all document that are (or not) XClass definiotns  \n12:48\u00a0<mflorea>\u00a0I'm checking something  \n12:49\u00a0<mflorea>\u00a0found  \n12:49\u00a0<mflorea>\u00a0just a sec  \n12:51\u00a0<mflorea>\u00a0Denis: are you saying that this https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/XWikiHibernateStore.java#L2053 doesn't work? Do the object editor doesn't work on Oracle?  \n12:51\u00a0<mflorea>\u00a0i.e. the select box that list the available XClasses is empty on Oracle?  \n12:55\u00a0<UCC>\u00a0has quit  \n12:56\u00a0<Denis>\u00a0mflorea: maybe is null and like would work, these are not comparison operator  \n12:57\u00a0<Denis>\u00a0it is worse a try  \n12:58\u00a0<Denis>\u00a0s/worse/worth/  \n12:58\u00a0<lucaa>\u00a0has joined #xwiki  \n12:58\u00a0<mflorea>\u00a0I can use the same query, but that won't change the fact that getClassList throws exception or returns an empty list on Oracle, which means the object editor is unusable  \n13:00\u00a0<Denis>\u00a0it could works, for example I think your query could work with a TO\\_CHAR() convertion  \n13:01\u00a0<Denis>\u00a0the exact oracle issue is \"ORA-00932: inconsistent datatypes: expected - got CLOB\"  \n13:01\u00a0<Denis>\u00a0mflorea: I am away for lunch  \n13:10\u00a0<mflorea>\u00a0Denis: ok, hope sburjan` will see my comment and test the changes on Oracle  \n13:10\u00a0<mflorea>\u00a0be back in 1h  \n13:22\u00a0<sburjan`>\u00a0mflorea: I;m looking now  \n13:28\u00a0<sdumitriu>\u00a0DarkKnightCZ: the files are taken from https://github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-solr/xwiki-platform-search-solr-api/src/main/resources/solr  \n13:29\u00a0<sdumitriu>\u00a0DarkKnightCZ: You can also find them inside webapps/xwiki/WEB-INF/lib/xwiki-platform-search-solr-api-\\*.jar in a running instance of XWiki  \n13:30\u00a0<sdumitriu>\u00a0DarkKnightCZ: Did the zip generation ever work for you?  \n13:31\u00a0<sburjan`>\u00a0mflorea: ping me when you are back  \n13:43\u00a0<DarkKnightCZ>\u00a0sdumitriu: nope, it's broken (NPE because of that non-existing context)  \n13:45\u00a0<DarkKnightCZ>\u00a0i took conf that generates embedded solr and it looks like it works (solr 4.6), but it looks like xwiki has problem with indexing (i doubt i have 200k documents in that wiki)  \n13:45\u00a0<sdumitriu>\u00a0That's \"normal\"  \n13:45\u00a0<sdumitriu>\u00a0It doesn't just index documents  \n13:45\u00a0<sdumitriu>\u00a0It indexes a lot of things  \n13:46\u00a0<sdumitriu>\u00a0There's a lucenedoc for every object property  \n13:48\u00a0<DarkKnightCZ>\u00a0heh, ok then :) and what is the best technique for indexing? let xwiki index it itself or toggle indexing on all subwikis in admin?  \n13:50\u00a0<ClemensR>\u00a0normally xwiki should \"index itself\", i.e. on every change the solr index should be updated (and currently the lucene index, too)  \n13:51\u00a0<ClemensR>\u00a0I only need to trigger the indexing via admin if things get inconsistent (mostly when restoring wikis from database dump or the like)  \n13:51\u00a0<DarkKnightCZ>\u00a0ok, so i can trigger indexing for empty solr (it won't do any harm)  \n13:51\u00a0<mflorea>\u00a0ClemensR: I don't know what version of XWiki you have, but the Solr indexing is automatic  \n13:52\u00a0<mflorea>\u00a0in the recent versions  \n13:52\u00a0<ClemensR>\u00a0yes, it works \"automatically\" for me, most of the time, and only fails if \\*I\\* do something nasty  \n13:53\u00a0<ClemensR>\u00a0is the index is empty I thought solr figures this out at startup and starts indexing right away. But then I have to admit I did not try to run with a separate solr index server  \n13:54\u00a0<ClemensR>\u00a0so, yes, if solr does not figure out by itself what happend, you can trigger a full reindex manually. (I forgot how that really works in the admin ui, however)  \n13:54\u00a0<tmortagne>\u00a0ClemensR: startup actually support a lot more than empty index  \n13:55\u00a0<tmortagne>\u00a0it check if database and index are in sync  \n13:55\u00a0<DarkKnightCZ>\u00a0ok then :) thanks  \n13:55\u00a0<ClemensR>\u00a0ah, it does even if solr is a remote service, and not embeeded ?  \n13:55\u00a0<tmortagne>\u00a0I don't see why not  \n13:56\u00a0<tmortagne>\u00a0basically it get the list of documents with the version on one side and the other side and compare  \n13:56\u00a0<DarkKnightCZ>\u00a0and by the way, are there any workarounds for XWIKI-3544? (rendering cache omits on-demand jsx and ssx)  \n13:59\u00a0<mflorea>\u00a0has quit  \n14:02\u00a0<evalica>\u00a0has quit  \n14:06\u00a0<mstaicu>\u00a0has quit  \n14:09\u00a0<mstaicu>\u00a0has joined #xwiki  \n14:45\u00a0<xwikibot>\u00a0has joined #xwiki  \n14:54\u00a0<vmassol>\u00a0Denis: hi  \n14:54\u00a0<sburjan`>\u00a0tmortagne: ping  \n14:54\u00a0<vmassol>\u00a0Denis: do you think you would have a few minutes to look at http://jira.xwiki.org/browse/XE-1356 \u00a0inside there's a catalina log file showing a migration error with a NPE  \n14:55\u00a0<vmassol>\u00a0NPE at at com.xpn.xwiki.store.migration.hibernate.R40000XWIKI6990DataMigration$2.fillStatsConversionMap(R40000XWIKI6990DataMigration.java:992)  \n14:55\u00a0<tmortagne>\u00a0sburjan`: pong  \n14:55\u00a0<sburjan`>\u00a0tmortagne: the wiki stream import/export feature was introduced in 5.3, right ?  \n14:55\u00a0<sburjan`>\u00a0asking just to make sure  \n14:55\u00a0<Inge->\u00a0has quit  \n14:56\u00a0<vmassol>\u00a0!search ReleaseNotes 5.3  \n14:56\u00a0<vmassol>\u00a0thanks bot  \n14:56\u00a0<sburjan`>\u00a0:))  \n14:56\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki53  \n14:56\u00a0<tmortagne>\u00a0sburjan`: wikistream as introduce in 5.2  \n14:56\u00a0<tmortagne>\u00a0s/as/was/  \n14:57\u00a0<sburjan`>\u00a0and in 5.2 is activated by default ? RN can't say explicitly  \n14:57\u00a0<tmortagne>\u00a0in 5.3 it the default implementation of the standard XAR export  \n14:57\u00a0<tmortagne>\u00a0sburjan`: you are mixing several things  \n14:57\u00a0<tmortagne>\u00a0wikistream is not about XAR  \n14:57\u00a0<tmortagne>\u00a0not just about XAR  \n14:58\u00a0<sburjan`>\u00a0what I am interested is in the new import/export feature..  \n14:58\u00a0<tmortagne>\u00a0first you need to separate import and export and as I already told you before because you already asked me wikistream has been used as implementation of the standard XAR export in 5.3  \n14:58\u00a0<tmortagne>\u00a0it's not yet the case for import  \n14:59\u00a0<vmassol>\u00a0tmortagne: just seen you're assigned to http://jira.xwiki.org/browse/XWIKI-9925 (which I've moved to platform)  \n14:59\u00a0<vmassol>\u00a0(this is just a FYI that I've moved it)  \n14:59\u00a0<vmassol>\u00a0oh repo app has it  \n14:59\u00a0<vmassol>\u00a0grrr  \n14:59\u00a0<vmassol>\u00a0didn't read fully  \n14:59\u00a0<sburjan`>\u00a0tmortagne: thanks. I am investigating a possible blocker, this is why I am asking.  \n15:00\u00a0<tmortagne>\u00a0sburjan`: you are testing in which version ?  \n15:00\u00a0<vmassol>\u00a0moving back  \n15:00\u00a0<sburjan`>\u00a0tmortagne: ATM is am on a 5.4-SNAP, but If I reproduce, I'll try on a 5.2  \n15:00\u00a0<tmortagne>\u00a0you mean 5.3 ?  \n15:01\u00a0<sburjan`>\u00a05.3 and then also on 5.2  \n15:02\u00a0<tmortagne>\u00a0it's useless to test on 5.2, it does not work well  \n15:02\u00a0<tmortagne>\u00a0and it's not supposed to since it was an experimental feature  \n15:03\u00a0<Inge->\u00a0has joined #xwiki  \n15:03\u00a0<mflorea>\u00a0has joined #xwiki  \n15:03\u00a0<sburjan`>\u00a0I understand. If in 5.2 is not enabled by default, then 5.2 is safe then  \n15:04\u00a0<tmortagne>\u00a0and if you really want to test on 5.3 then test 5.3-SNAPSHOT since several bugs have been fixed  \n15:04\u00a0<tmortagne>\u00a0but frankly I doubt we will ever release a 5.3.1...  \n15:04\u00a0<vmassol>\u00a0yup I don't think we will  \n15:05\u00a0<sburjan`>\u00a0it might be already reported  \n15:05\u00a0<tmortagne>\u00a0so IMO if you found a blocker on 5.4-SNAPSHOT, report it, don't bother with 5.2 and 5.3  \n15:08\u00a0<sburjan`>\u00a0ok, confirmed on 5.3.  \n15:08\u00a0<Denis>\u00a0vmassol: I commented the issue, not much I do  \n15:10\u00a0<woshilapin>\u00a0Hi XWikiers,  \n15:10\u00a0<woshilapin>\u00a0I have a little problem with livetable  \n15:11\u00a0<woshilapin>\u00a0I display a livetable with \"last author\" as one of the column (basically, a modified version of the Documents Macro)  \n15:11\u00a0<woshilapin>\u00a0When I used it on the Main wiki, the livetable display the pretty name of the user  \n15:12\u00a0<woshilapin>\u00a0But when I created the exact same livetable into a subwiki, it doesn't display the pretty name (and display the user ID)  \n15:12\u00a0<woshilapin>\u00a0I traced the problem and see that getLocalUserName is used into LiveTableResultsMacro  \n15:12\u00a0<woshilapin>\u00a0I wonder if it's a choice or not  \n15:14\u00a0<Inge->\u00a0has quit  \n15:16\u00a0<ClemensR>\u00a0ah, the user is from the main wiki, and the livetable in in a subwiki ?  \n15:16\u00a0<woshilapin>\u00a0Yes  \n15:16\u00a0<woshilapin>\u00a0Only global users  \n15:17\u00a0<woshilapin>\u00a0But the function getLocalUserName is called into LiveTableResultsMacros  \n15:17\u00a0<ClemensR>\u00a0I have not looked into detail of the live table macro, but maybe it does not support that use case (yet)  \n15:17\u00a0<woshilapin>\u00a0But looking the function, it seems that it called another function with the username (removing anything before ':')  \n15:17\u00a0<ClemensR>\u00a0I should do that, of course  \n15:17\u00a0<ClemensR>\u00a0s/I/it/ ;)  \n15:18\u00a0<woshilapin>\u00a0It make sens  \n15:18\u00a0<woshilapin>\u00a0But if nothing come back, the exception case is to send the username, without removing the first part  \n15:18\u00a0<woshilapin>\u00a0Getting the global if the local is not found?  \n15:19\u00a0<woshilapin>\u00a0(tested in a simple page in main wiki and in subwiki and it doesn't work, I suppose that exception is expected thrown on the indexOf function)  \n15:20\u00a0<woshilapin>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/api/XWiki.java#L2018  \n15:24\u00a0<woshilapin>\u00a0Proposition: The getUserName should look first in local, then in global if not found (but we still need getGlobalUserName and getLocalUserName when needed)  \n15:25\u00a0<woshilapin>\u00a0Or look based on properties of the subwiki (the userScope, local\\_only, global\\_only or local\\_and\\_global)  \n15:28\u00a0<ClemensR>\u00a0I guess that method depends on throwing an error in getUserName \u00a0when the user is not found, but as it does not do that any longer, the user is always \"found\" as \"by id only\"  \n15:30\u00a0<ClemensR>\u00a0it is already that way back in 5.0.4, btw ...  \n15:31\u00a0<woshilapin>\u00a0I tested getUserName and getLocalUserName on independent pages, and they react well  \n15:31\u00a0<woshilapin>\u00a0It's mainly about the Livetable I think, why getLocalUserName is used?  \n15:31\u00a0<woshilapin>\u00a0Should I report a JIRA?  \n15:33\u00a0<ClemensR>\u00a0I am not an expert on the topic, but to me it looks like a bug, too ... just wondering if there is already a jira issue for it ...  \n15:37\u00a0<ClemensR>\u00a0cannot find one, so creating one at least would help me to remember about the issue ;)  \n15:38\u00a0<woshilapin>\u00a0OK  \n15:44\u00a0<woshilapin>\u00a0For component, should I put 'oldcore' ?  \n15:47\u00a0<ClemensR>\u00a0yes, or leave empty and wait for someone to set it to wherever the bug is finally found  \n15:52\u00a0<woshilapin>\u00a0ClemensR: OK, I'm trying to reproduce it in a simply manner (from a fresh installation) to explain a procedure of reproduction on the JIRA :-)  \n15:54\u00a0<ClemensR>\u00a0yes, ok, but I can see it here, too. It happens with the preinstalled document index, so no need to create a macro in a document  \n15:55\u00a0<ClemensR>\u00a0just give the \"Admin\" a first name and last name, and create one subwiki - by default the admin is the \"last author\" of that index  \n15:56\u00a0<ClemensR>\u00a0you can even see \"Created by Administrator\" in the lower right corner, but the index itself lists admin only as \"Admin\"  \n15:57\u00a0<andreeapopescu>\u00a0has left #xwiki  \n16:00\u00a0<woshilapin>\u00a0With Admin, there is a problem since the page XWiki.Admin exists in the main wiki AND in the subwiki  \n16:00\u00a0<woshilapin>\u00a0So it finds it anyway  \n16:01\u00a0<ClemensR>\u00a0ah, it should no longer have an Admin in the subwiki  \n16:02\u00a0<ClemensR>\u00a0if it confuses local subwiki user with global users with the same name, then the more the pity  \n16:03\u00a0<woshilapin>\u00a0Is Markdown supported in JIRA ?  \n16:04\u00a0<ClemensR>\u00a0never mind the formatting ;) \u00a0at least not that much that it keeps you from creating th issue  \n16:05\u00a0<woshilapin>\u00a0In my case, it will not ;-)  \n16:06\u00a0<ClemensR>\u00a0you can try the preview icon in the lower left of the textareas. However at least I manage to crash by browser by preview especially when having written a long, complex bug report without having saved the \u00a0text elsewhere ...  \n16:07\u00a0<ClemensR>\u00a0by the way, \"shadowing\" a global user with a local one \"works\", too: the link points to the profile of the global user, but the table shows the name of the local user ...  \n16:10\u00a0<woshilapin>\u00a0Yes, it should not I think (depends on who created or authored the page, obviously)  \n16:11\u00a0<woshilapin>\u00a0But, it may be a problem for this tricky one since we need to choose if we register pages in subwikis and wikis always with the global prefix 'xwiki:' when there is global users  \n16:11\u00a0<vrachieru>\u00a0has quit  \n16:12\u00a0<woshilapin>\u00a0What I saw on this is that a page in main wiki and in a subwiki is not registered the same (in the subwiki, if I remember, it is prefixed with 'xwiki:', but not in main wiki which could be a problem when exporting page into another subwiki)  \n16:12\u00a0<woshilapin>\u00a0(I speak only about global users in this case  \n16:12\u00a0<woshilapin>\u00a0)  \n16:14\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:14\u00a0<ClemensR>\u00a0exporting and importing pages into another wiki (subwiki or not) with \"dangeling\" user references is another problem, I feel. You might as well export/impot the user,too, and want the local user to show up as the last author of the imported document  \n16:15\u00a0<ClemensR>\u00a0anyway, I guess \u00a0using \"getLocalUser\" \u00a0in the document index is simply a small mistake, should be not too difficult to fix that - just use \"getUserName\" instead ...  \n16:18\u00a0<ClemensR>\u00a0actually after reading the javadoc for \"getLocalUser\" I am getting confused; either the method does not what the javadoc says, or I am misunderstanding something  \n16:18\u00a0<woshilapin>\u00a0That's what I will do (but need to make a copy of LiveTableResultsMacros and don't really like to not rely on official version because no more updates) ;-)  \n16:18\u00a0<ClemensR>\u00a0chances are very high it is the latter one ...  \n16:18\u00a0<woshilapin>\u00a0Anyway, thanks for the help, the JIRA is done  \n16:18\u00a0<ClemensR>\u00a0yes, it should be fixed in there ... maybe even send a pull request :)  \n16:18\u00a0<woshilapin>\u00a0And by the way, the markup language is this one  \n16:18\u00a0<woshilapin>\u00a0https://confluence.atlassian.com/display/DOC/Confluence+Wiki+Markup  \n16:19\u00a0<ClemensR>\u00a0ah, yes, I see issue: \u00a0XWIKI-9926  \n16:19\u00a0<woshilapin>\u00a0I really think the fix works in my case because I have only global users, but not sure it's a real fix for generic XWiki  \n16:20\u00a0<woshilapin>\u00a0I think the fix should take care about the userScope of the subwiki (only global users, only local users, or both)  \n16:20\u00a0<woshilapin>\u00a0Is getUserName do this job?  \n16:20\u00a0<woshilapin>\u00a0If yes, I can do the pull request  \n16:20\u00a0<tmortagne>\u00a0woshilapin: best is probably http://jira.xwiki.org/secure/WikiRendererHelpAction.jspa?section=texteffects for the markup (a link you get when commenting)  \n16:22\u00a0<woshilapin>\u00a0tmortagne: OK, didn't saw that, nice  \n16:22\u00a0<vmassol>\u00a0tmortagne, mflorea: seems we still have this shutdown race issue: https://gist.github.com/vmassol/8599294/raw/0bff52332bd09d879a2fc1d751433bebd192aa5c/gistfile1.txt (note the size of this log :) I remember seeing it in the past but I thought we had fixed it, apparently not  \n16:22\u00a0<Sidali\\_>\u00a0has joined #xwiki  \n16:22\u00a0<vmassol>\u00a0it seems the DB is shutdown and SOLR/lucene is still trying to index docs  \n16:23\u00a0<vmassol>\u00a0I started XE and stopped it only about 30 seconds after  \n16:24\u00a0<Sidali>\u00a0has quit  \n16:24\u00a0<Sidali\\_>\u00a0is now known as <Sidali>  \n16:24\u00a0<mflorea>\u00a0vmassol: it hasn't been fixed, http://jira.xwiki.org/browse/XWIKI-9597  \n16:25\u00a0<vmassol>\u00a0ok  \n16:46\u00a0<vmassol>\u00a0tmortagne: I'm trying your new DW report. I deleted the data dir of a XE standalone install to trigger the DW  \n16:46\u00a0<vmassol>\u00a0and I get the following: https://www.evernote.com/shard/s119/sh/49923a81-4cd5-4440-844a-a06deb8a68de/3457093f997c3d356aeebd1f9ac90fea  \n16:47\u00a0<vmassol>\u00a0it says it's listing created/modified or deleted pages  \n16:47\u00a0<vmassol>\u00a0but all it prints is \"xwiki\"  \n16:47\u00a0<vmassol>\u00a0seems strange  \n16:47\u00a0<tmortagne>\u00a0vmassol: try cleaning your browser cache maybe  \n16:47\u00a0<vmassol>\u00a0ahah  \n16:47\u00a0<vmassol>\u00a0much nicer indeed  \n16:50\u00a0<vmassol>\u00a0its nice, just some small layout issue  \n16:51\u00a0<tmortagne>\u00a0vmassol: yes, it's a first version (I have myself a few graphical issues in mind)  \n16:51\u00a0<vmassol>\u00a0https://www.evernote.com/shard/s119/sh/9a79f9e9-026f-4d78-8d43-14ebeffa029a/866f62d2af06ade3fe626789fe64e3bd  \n16:51\u00a0<vmassol>\u00a0(some overlap)  \n16:51\u00a0<tmortagne>\u00a0yes  \n16:52\u00a0<tmortagne>\u00a0I could not find what was the cause  \n16:52\u00a0<vmassol>\u00a0nice to handle translations  \n16:52\u00a0<vmassol>\u00a0:)  \n16:52\u00a0<vmassol>\u00a0a tooltip on the X action would be nice  \n16:52\u00a0<vmassol>\u00a0I guess it deletes the doc?  \n16:53\u00a0<vmassol>\u00a0yes seems so I tried now  \n16:53\u00a0<vmassol>\u00a0didn't work in my case though  \n16:53\u00a0<vmassol>\u00a0I tried to delete the fr translation of the Sandbox.WebHome page  \n16:53\u00a0<vmassol>\u00a0and the page refreshed but it's still listed  \n16:53\u00a0<vmassol>\u00a0is that normal?  \n16:54\u00a0<tmortagne>\u00a0regarding the tooltip I wanted to add one but could not make it work with an input of type image  \n16:54\u00a0<vmassol>\u00a0another idea: instead of using the wiki id, use the pretty name  \n16:55\u00a0<vmassol>\u00a0maybe marius or caty could help there  \n16:55\u00a0<vmassol>\u00a0(for the tooltip and the overlap)  \n16:55\u00a0<tmortagne>\u00a0the translation still in the UI does not seems normal no  \n16:55\u00a0<mstaicu>\u00a0has left #xwiki  \n16:55\u00a0<vmassol>\u00a0trying to delete a page with no translations now  \n16:56\u00a0<tmortagne>\u00a0sure they could but I was planning to come back to it after XE import  \n16:56\u00a0<vmassol>\u00a0yes that worked  \n16:56\u00a0<vmassol>\u00a0so it seems related to translation deletion  \n16:56\u00a0<tmortagne>\u00a0looking  \n16:57\u00a0<vmassol>\u00a0mflorea: a bit strange to have the SolrTranslations page located in the main space IMO. We need to move all search-related stuff to their spaces I think  \n16:57\u00a0<tmortagne>\u00a0I think I know what is the issue  \n16:58\u00a0<vmassol>\u00a0tmortagne: we can't delete a doc and all its translations yet, right?  \n16:58\u00a0<tmortagne>\u00a0there is no batch action no, I plan to add all the buttons at all levels (document with several tx, spaces, etc)  \n16:58\u00a0<mflorea>\u00a0vmassol: SolrTranslations is where SolrSearch is  \n17:00\u00a0<mflorea>\u00a0i.e. it's nothing special with it, the search app hasn't been moved to separate spaces yet  \n17:03\u00a0<mflorea>\u00a0vmassol: http://xwiki.475771.n2.nabble.com/Notice-Moving-Solr-search-pages-to-a-separate-space-tt7585245.html  \n17:06\u00a0<vmassol>\u00a0mflorea: ok thanks, creating a jira for us to remember and linking to this thread  \n17:06\u00a0<mflorea>\u00a0thanks  \n17:08\u00a0<vmassol>\u00a0tmortagne: I've now clicked \"continue\"  \n17:08\u00a0<vmassol>\u00a0and the full Sandbox page is deleted  \n17:08\u00a0<vmassol>\u00a0(Sandbox.WebHome)  \n17:09\u00a0<vmassol>\u00a0so it seems my deletion of the \"fr\" translation has deleted everything  \n17:09\u00a0<vmassol>\u00a0so 2 issues: 1) the full deletion and 2) the refresh/status in the DW UI  \n17:10\u00a0<tmortagne>\u00a0vmassol: it's the same thing actually, the localization was not taken into account, but not sure why it deleted the whole thing instead of just the default language  \n17:10\u00a0<tmortagne>\u00a0ha actually it did  \n17:10\u00a0<tmortagne>\u00a0but without the default language you can't see the others  \n17:10\u00a0<vmassol>\u00a0I didn't ask to delete the default language  \n17:11\u00a0<vmassol>\u00a0jsut the \"fr\" translation  \n17:11\u00a0<tmortagne>\u00a0again it did not take into account the locale  \n17:11\u00a0<vmassol>\u00a0ok  \n17:11\u00a0<tmortagne>\u00a0so it deleted the default one  \n17:13\u00a0<msmeria>\u00a0has quit  \n17:24\u00a0<ClemensR>\u00a0has quit  \n17:28\u00a0<Sidali>\u00a0has quit  \n17:30\u00a0<Sidali>\u00a0has joined #xwiki  \n17:30\u00a0<sdumitriu>\u00a0has quit  \n17:31\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:36\u00a0<Sidali>\u00a0has quit  \n17:38\u00a0<mflorea>\u00a0has quit  \n17:41\u00a0<tmortagne>\u00a0has quit  \n17:57\u00a0<woshilapin>\u00a0has quit  \n18:03\u00a0<risherry>\u00a0has joined #xwiki  \n18:03\u00a0<KermitTheFragger>\u00a0has quit  \n18:16\u00a0<rahul>\u00a0has joined #xwiki  \n18:16\u00a0<rahul>\u00a0is now known as <Guest68430>  \n18:20\u00a0<Guest68430>\u00a0is now known as <the\\_codebot>  \n19:06\u00a0<the\\_codebot>\u00a0has quit  \n19:13\u00a0<the\\_codebot>\u00a0has joined #xwiki  \n19:15\u00a0<risherry>\u00a0has quit  \n19:16\u00a0<Denis>\u00a0has quit  \n19:17\u00a0<the\\_code`>\u00a0has joined #xwiki  \n19:18\u00a0<Sidali>\u00a0has joined #xwiki  \n19:19\u00a0<Denis>\u00a0has joined #xwiki  \n19:21\u00a0<the\\_codebot>\u00a0has quit  \n19:21\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n19:22\u00a0<the\\_code`>\u00a0has quit  \n19:28\u00a0<Sidali>\u00a0has quit  \n19:29\u00a0<Slashman>\u00a0has quit  \n19:30\u00a0<andreeapopescu>\u00a0has quit  \n19:47\u00a0<lucaa>\u00a0has quit  \n20:02\u00a0<abusenius>\u00a0has joined #xwiki  \n21:37\u00a0<risherry>\u00a0has joined #xwiki  \n22:34\u00a0<risherry>\u00a0has quit  \n23:26\u00a0<vmassol>\u00a0has quit  \n23:51\u00a0<abusenius>\u00a0has quit  \n23:58\u00a0<vmassol>\u00a0has joined #xwiki\n"}