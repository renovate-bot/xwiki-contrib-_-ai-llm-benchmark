{"id": "dev:IRC.xwikiArchive20100804", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100804", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nvmassol joined #xwiki at 00:08  \nvmassol left at 00:46 (Quit: Leaving.  \ntsziklay left at 02:51 (Quit: ChatZilla 0.9.86 [Firefox 3.6.8/20100722155716]  \nabusenius left at 02:53 (Ping timeout: 265 seconds  \nboscop\\_ joined #xwiki at 03:53  \nboscop left at 03:56 (Ping timeout: 245 seconds  \nsdumitriu left at 04:55 (Ping timeout: 245 seconds  \nvenkatesh joined #xwiki at 05:02  \nvenkatesh left at 05:59 (Quit: Leaving  \nvenkatesh joined #xwiki at 06:03  \nmangroovie joined #xwiki at 07:06  \nmflorea joined #xwiki at 07:45  \nSvenDowideit left at 08:08 (Changing host  \nSvenDowideit joined #xwiki at 08:08  \nvenkatesh left at 08:52 (Ping timeout: 265 seconds  \nmflorea left at 09:28 (Quit: Leaving.  \ntmortagne joined #xwiki at 09:34  \nasrfel joined #xwiki at 09:38  \njvdrean joined #xwiki at 09:41  \nsdumitriu joined #xwiki at 09:45  \nvenkatesh joined #xwiki at 10:03  \nkibahop joined #xwiki at 10:05  \nkibahop left #xwiki at 10:05  \nsburjan joined #xwiki at 10:10  \nabusenius joined #xwiki at 10:12  \nvmassol joined #xwiki at 10:13  \ncjdelisle - (10:17): import-export looks pretty cool, will it have the capability to output the changes over a certain span of time?  \ntmortagne left at 10:30 (Ping timeout: 258 seconds  \ntmortagne joined #xwiki at 10:30  \nvmassol left at 10:39 (Quit: Leaving.  \nflorinciu joined #xwiki at 10:44  \nmflorea joined #xwiki at 10:55  \nproyvind left at 11:28 (\\*.net \\*.split  \nvenkatesh left at 11:28 (Ping timeout: 240 seconds  \nproyvind joined #xwiki at 11:32  \ncjdelisle - (11:54): abusenius: Is there a way I can get the signed script test to actually sign something?  \nabusenius - (11:55): yes, just don't mock the crypto service in org.xwiki.signedscripts.PKCS7ScriptSignerTest.registerComponents()  \ncjdelisle - (11:55): so I need to write another test?  \nabusenius - (11:57): well, depends on what you are trying to do  \ncjdelisle - (11:58): I just want to be able to sign different stuff until I can get different code to have the same signature.  \nabusenius - (11:58): well, then you need another test I guess  \nabusenius - (11:58): and good luck with forging :)  \nabusenius - (12:06): btw, back to signing with browser, IMO the best thing is (also for signing on server side)  \nabusenius - (12:06): is to present the text that should be signed to the user first  \ncjdelisle - (12:06): yup, you have no choice in firefox.  \nabusenius - (12:06): and then have some button \"Do you want to sign this\"  \ncjdelisle - (12:06): It's kind of silly to let a user sign something without knowing it.  \ncjdelisle - (12:07): takes away the concept of \"signing\".  \nabusenius - (12:07): but the thing that shou\u00f6ld be signed will be constructed on the server  \nabusenius - (12:07): yes  \nabusenius - (12:07): I'm currently making the \"mangling\" to behave exactly as pretty-printing  \ncjdelisle - (12:07): Why construct it at the server?  \nabusenius - (12:07): to avoid any errors  \ncjdelisle - (12:08): errors in what?  \nabusenius - (12:08): and let it be extensible  \nabusenius - (12:08): in the stuff you put into the macro  \nabusenius - (12:08): I will not sign only the code  \ncjdelisle - (12:09): I still don't see the need to sign stuff other than what the user wants to sign.  \nabusenius - (12:10): it is the {{signed}} macro and not some random e-mail  \nabusenius - (12:11): the user has to sign what \\*needs\\* to be signed  \ndegro joined #xwiki at 12:11  \nabusenius - (12:11): or not sign at all  \nabusenius - (12:11): and it should be visible  \ndegro - (12:11): bonjour  \nabusenius - (12:11): hiding dates, names etc in the base64 encoded signature isn't good  \ndegro - (12:12): @cjdelisle any idea on how to translate displayInSection of the ConfigurableClass?  \ncjdelisle - (12:12): why? it is pretty well guaranteed to be correct.  \ndegro - (12:13): I mean displaying its translation on the XWiki.XWikiPreferences  \ncjdelisle - (12:13): degro: What are you translating? I can think of a few things.  \ndegro - (12:13): the displayInSection property of a ConfigurableClass object, which appears in the preferences as a section  \ndegro - (12:14): it's quite static now  \ncjdelisle - (12:14): As far as I know the section is static.  \ncjdelisle - (12:14): if displayInSection get translated then it would end up putting stuff in the wrong section.  \ncjdelisle - (12:16): degro: You're building an app and it will have it's own section in the admin interface? and you want that section to depend on the language?  \ncjdelisle - (12:20): am I correct?  \nKermitTheFragger joined #xwiki at 12:21  \nsdumitriu - (12:31): I think degro is having lunch right now  \nvenkatesh joined #xwiki at 12:40  \nvenkatna joined #xwiki at 12:48  \ndegro - (12:50): sorry, I was away for lunch, indeed  \nflorinciu left at 12:52 (Ping timeout: 248 seconds  \nvenkatesh left at 12:52 (Ping timeout: 240 seconds  \ndegro - (12:53): cjdelisle: yes. what I want to be able to translate is the title of the section from the main preferences doc  \ncjdelisle - (12:54): I copied the sections which had existed before, I don't think they are translatable (I may be wrong)  \ncjdelisle - (12:54): If we were to change to translatable section titles, it would be adding a new feature (I think)  \ndegro - (12:55): oh.  \nflorinciu joined #xwiki at 12:55  \ncjdelisle - (12:55): It actually doesn't sound hard to implement, it would just have to be done.  \ndegro - (12:56): it wouldn't be a new feature  \ncjdelisle - (12:56): When you're in the section it's translated because the admin app (before i came along) appended the name of the section to \"admin.\" and looked for a key by that name  \ndegro - (12:56): the existing sections are translated  \ndegro - (12:56): yeah, that I know  \ncjdelisle - (12:56): I didn't change that.  \ndegro - (12:57): and it's not so good, because if you have spaces in the section name, it screws up the key  \ndegro - (12:57): I see  \ncjdelisle - (12:58): If you are at the XWikiPreferences main page and you change language so the default panel names (General, Programming etc.) change?  \ncjdelisle - (12:58): s/so/do  \ndegro - (13:02): no, not all of them have translations  \ndegro - (13:02): there's \"Panel Wizard\"  \ncjdelisle - (13:04): Which ones are translated?  \ndegro - (13:10): well, only Panel Wizard, apparently  \ncjdelisle - (13:11): abusenius: Looks like you rewrote all of x509  \ncjdelisle - (13:11): KeyPairGenerator?  \ncjdelisle - (13:13): importing from crypto.\\*.internal, there's no guarentee that that stuff won't disappear tomorrow.  \ncjdelisle - (13:18): I think I'm going to have to wait until you have a test which actually tests all the way through from the code to the signature to the verification before I can try a forgery attack.  \nabusenius - (13:20): org.xwiki.signedscripts.PKCS7ScriptSignerTest.testSignVerify() ?  \nabusenius - (13:20): the key pair generator duplicates code indeed  \nabusenius - (13:21): I'll remove mocking the crypto service, so that it really signs  \ncjdelisle - (13:21): Ok, I swa the fake signature string and I couldn't figure out if it was signing or not.  \ncjdelisle - (13:26): coffee time...  \nvenkatna left at 14:07 (Quit: Leaving  \ndegro left at 14:19 (Quit: Leaving.  \nboscop\\_ is now known as boscop ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nmangroovie left at 14:30 (Ping timeout: 240 seconds  \nabusenius - (14:35): the tests sign data now  \ncjdelisle - (14:35): cool  \nabusenius - (14:35): (cjdelisle)  \nabusenius - (14:36): I have changed the format of data what is signed  \ncjdelisle - (14:36): svn upping...  \nabusenius - (14:36): it is now literally everything as you see it in the result, axcept signature  \ncjdelisle - (14:37): I would tend to put the signature in it's own section.  \ncjdelisle - (14:37): something like:  \ncjdelisle - (14:37): -----SINGED-----  \ncjdelisle - (14:37): blah blah  \ncjdelisle - (14:37): -----SIGNATURE-----  \ncjdelisle - (14:37): 12345ACDE==  \ncjdelisle - (14:37): -----END SIGNED-----  \nabusenius - (14:39): what is the difference?  \ncjdelisle - (14:40): Well you know for sure that everything between -----SINGED----- \u00a0\u00a0and \u00a0\u00a0-----SIGNATURE----- \u00a0is what is signed  \nabusenius - (14:41): well, I know for sure that everything other than signature is what is signed  \nabusenius - (14:41): it is really not that hard to see :)  \ncjdelisle - (14:41): The more complicated you make it the easier it is to break.  \ncjdelisle - (14:41): s/break/0wn/  \nabusenius - (14:41): 1. it is not complicated  \nabusenius - (14:42): 2. it is not easier to break if you shuffle things aroud and call them differently  \nabusenius - (14:42): it is \\*exactly\\* the same data and this is what matters  \nabusenius - (14:43): better tell me how to generate a self-signed, not CA certificate using X509Keymaker  \nabusenius - (14:44): ok, I guess I need to generate a key pair and use the same key  \ncjdelisle - (14:45): newCertAndPrivateKey(final int daysOfValidity, final String password)  \nabusenius - (14:47): aha, thx  \ncjdelisle - (14:55): Another question, you have a fingerprint in the signature and one in the cert, which one do you use when validating?  \nabusenius - (15:00): I compare the certificate I get from the signature with the one I expect  \ncjdelisle - (15:01): Of course the implementation could have a flaw and it would not be noticeable.  \ncjdelisle - (15:02): AKA the implementation could trust the fingerprint and not compare.  \njvdrean - (15:02): I'd like a new component to reuse a config from the old core, should we have a configuration component that uses xwiki.cfg as source ?  \ncjdelisle - (15:03): Maybe it would be better to move the configuration to the .properties file and reference it in the old core.  \ncjdelisle - (15:04): abusenius: You have flickering tests, they will break the build.  \ntmortagne - (15:05): jvdrean: i don't think so  \nabusenius - (15:05): I'm thinking how to fix flickering  \nabusenius - (15:05): it happens because I sign twice, and the date differ in one second  \nabusenius - (15:06): hm, I could fake the date  \ntmortagne - (15:06): jvdrean: but that should not be too hard to write a ConfigurationSource geting properties in xwiki.cfg  \njvdrean - (15:06): the prop I'd like to use is xwiki.db  \ntmortagne - (15:06): i understood \"do we have\" instead of \"should we have\"  \ntmortagne - (15:07): jvdrean: why do you need this ?  \ntmortagne - (15:07): it's supposed to be an internal hibernate storage detail  \njvdrean - (15:08): I need this in order to be able to set the wiki I want to make a query on  \ntmortagne - (15:08): the wiki is \"xwiki\"  \ntmortagne - (15:08): whatever is in xwiki.db  \ntmortagne - (15:08): xwiki.db is used by hibernate storage to finc the real database name for the main wiki  \njvdrean - (15:08): ok  \njvdrean - (15:09): sorry for the noise  \ntmortagne - (15:09): jvdrean: \u00a0actually it's not \"xwiki\" (even if it is ;)) but the main wiki name you get in the api to be clean  \njvdrean - (15:11): in which new API do we have getMainWiki ?  \njvdrean - (15:11): I looked into DocumentAccessBridge without luck  \ntmortagne - (15:13): jvdrean: not sure actually we have something to main main wiki from components  \ntmortagne - (15:14): it should probably be part of ModelContext i guess  \ntmortagne - (15:14): currently i think the code that need main wiki get the XWikiContext as a map in the ExecutionContext  \nabusenius - (15:15): should not flicker any more  \ntmortagne - (15:15): and then call get(\"mainxwiki\") (which is a very bad name)  \ntmortagne - (15:16): jvdrean: you reallu need to get main wiki from a component ?  \njvdrean - (15:16): if I want the component to be able to query the main wiki in addition to the local wiki I think so yes  \ntmortagne - (15:17): what i mean is that don't you need to depends on core to do the actual query  \ntmortagne - (15:17): ?  \njvdrean - (15:18): it's a WIP but I plan to use the query component  \njvdrean - (15:18): so for the moment I don't depend on core directly  \ntmortagne - (15:19): ok  \ntmortagne - (15:20): i think the less expensive for now is to get the get XWikiContext as a map et get the main wiki from there with a TODO  \ntmortagne - (15:20): hmm wait  \ntmortagne - (15:21): forget that  \ntmortagne - (15:21): there is a way to get main wiki actually  \ntmortagne - (15:21): let me check something  \nvmassol joined #xwiki at 15:22  \ntmortagne - (15:23): you can use default implementation of EntityReferenceValueProvider for that  \ntmortagne - (15:23): it provide a default value (which mean main wiki for the wiki) for each reference type  \ntmortagne - (15:24): EntityReferenceValueProvider#getDefaultValue(EntityType.WIKI)  \nvmassol - (15:24): tmortagne: you've probably seen this already: http://www.sonatype.com/people/2010/08/introducing-aether/  \ntmortagne - (15:25): vmassol: actually no (i mostly worked on wiki importer this week), sounds great  \ntmortagne - (15:27): vmassol: \" if you embed Aether, you will be embedding the same library that Maven 3.x uses when it interacts with a Maven repository\", found the Grail :)  \nsburjan - (15:32): so maven 3 will still have poms ?  \ntmortagne - (15:33): sburjan: if i understood well there is still pom but you are supposed to be able to write them in other \"languages\" than XML  \nsburjan - (15:33): I see  \nsburjan - (15:33): anywayz, I still don't understand 100% fully how maven works .. so  \ntmortagne - (15:34): sburjan: yep there is always some weird things :)  \nsburjan - (15:34): at least for me :)  \nsburjan - (15:35): vmassol, : finished my first Selenium 2 test .. waiting to send it to sdumitriu so he can review it and commit it  \nsburjan - (15:35): if it's good  \nEnygma` joined #xwiki at 15:37  \nvmassol left at 15:38 (Quit: Leaving.  \ncjdelisle - (15:44): I guess since the same parser is used to generate the output (code) and the stuff to sign, there isn't any really fun forgery that can be done.  \ncjdelisle - (15:44): A few notes:  \ncjdelisle - (15:44): You can add as many signatures as you like (after signing), only the last one counts.  \ncjdelisle - (15:45): (same with comment syntax)  \nflorinciu left at 15:58 (Ping timeout: 260 seconds  \nEnygma` left at 16:03 (Ping timeout: 276 seconds  \ntmortagne left at 16:16 (Ping timeout: 265 seconds  \ntmortagne joined #xwiki at 16:18  \nEnygma` joined #xwiki at 16:27  \nabusenius - (16:33): hm, my proposal about adding more property acces methods seems to be ignored...  \nabusenius - (16:34): would be cool if more committers would reply to this: http://lists.xwiki.org/pipermail/devs/2010-July/019503.html a -1 is better than nothing  \ncjdelisle - (16:35): I have to look at it more closely.  \nlucaa joined #xwiki at 16:35  \nlucaa - (16:36): hi xwikiers  \nlucaa - (16:36): how do I know when a livetable is done loading?  \nabusenius - (16:36): cjdelisle, I can send you patch implementing it  \nlucaa - (16:36): I only managed to listen to a xwiki:livetable:newrow ftm  \ncjdelisle - (16:37): I know something is called when it's all loaded, maybe check the tests?  \njvdrean - (16:38): Vincent worked on this in ui-tests  \njvdrean - (16:38): document.observe('xwiki:livetable:\" + this.livetableId + \":displayComplete  \nlucaa - (16:39): thanks jvdrean, I'll give it a try  \nlucaa - (16:39): my livetable is an old one...  \nlucaa - (16:39): 2.0.5  \nlucaa - (16:43): nop doesn't work  \nvmassol joined #xwiki at 16:53  \ntmortagne left at 17:01 (Read error: Connection reset by peer  \ntmortagne joined #xwiki at 17:02  \nsburjan left at 17:03 (Ping timeout: 276 seconds  \nvmassol left at 17:07 (Quit: Leaving.  \nasrfel left at 17:28 (Quit: Leaving.  \nEnygma` left at 17:35 (Ping timeout: 240 seconds  \nmflorea left at 17:36 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 18:06  \ncjdelisle - (18:11): abusenius: Send me the patch I'll look at it.  \nabusenius - (18:18): does it (ddc) work?  \ncjdelisle - (18:19): DCC? I have to open a port, just a second...  \nabusenius - (18:20): I can use mail/whatever if you want  \ncjdelisle - (18:20): Mail is easier.  \nabusenius - (18:20): ok  \ncjdelisle - (18:20): You have my mail?  \nabusenius - (18:21): sent  \nabusenius - (18:21): to lavabit  \ncjdelisle - (18:22): Ok, I'll look at it later.  \nabusenius - (18:23): ok, thx  \nabusenius left at 18:43 (Ping timeout: 276 seconds  \nvmassol joined #xwiki at 18:47  \ntsziklay joined #xwiki at 18:59  \nflaviusolaru left at 19:01 (Read error: Connection reset by peer  \nvmassol left at 19:02 (Quit: Leaving.  \nvmassol joined #xwiki at 19:29  \nnpm left at 19:33 (Read error: Connection reset by peer  \nabusenius joined #xwiki at 19:33  \nnpm joined #xwiki at 19:36  \nvmassol left at 19:45 (Quit: Leaving.  \nDrPoO joined #xwiki at 19:47  \nDrPoO - (19:49): hello, Im trying to run xwiki-enterprise edition using mysql as a backend and I get the following error message: javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize main XWiki context  \nDrPoO - (19:49): any suggestions?  \nlucaa left at 20:12 (Quit: Leaving.  \njvdrean - (20:12): DrPoO: this means that xwiki is not able to connect to the database  \nDrPoO - (20:13): mmm  \njvdrean - (20:13): either because it's not running or the credentials set in WEB-INF/hibernate.cfg.xml are not correct  \nDrPoO - (20:13): thats what i was looking at actually  \nDrPoO - (20:14): another unrelated question, is there a way of easily exporting/importing a wiki from one machine to another?  \nDrPoO - (20:14): by doing a mysqldump or something like that  \ntmortagne - (20:25): DrPoO: you have an import/export support in xwiki  \ntmortagne - (20:26): go to admin in your wiki  \ntmortagne - (20:26): you can export a xar from a wiki and import it in another one  \ntmortagne - (20:28): if you have a very big wiki to export/import you should look at http://code.xwiki.org/xwiki/bin/view/Snippets/LargeWikiExportSnippet and http://code.xwiki.org/xwiki/bin/view/Snippets/LargeXARImportScriptSnippet (the standard exporter loader the whole wiki in memory before actually send it to the client so depending to the momory you allocated to the JVM it could fail)  \ntmortagne left #xwiki at 20:35  \njvdrean left at 20:49 (Quit: Leaving.  \nKermitTheFragger left at 21:29 (Quit: Leaving  \nflorinciu joined #xwiki at 21:43  \nMartinCleaver joined #xwiki at 21:46  \nflorinciu1 joined #xwiki at 21:49  \nflorinciu left at 21:49 (Read error: Connection reset by peer  \nflorinciu1 left at 21:53 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 21:53  \nDrPoO - (21:56): how can I change the servlet mapping so that my instance has a url path of my choice  \nDrPoO - (21:56): ?  \nandreasjonsson left at 21:56 (Remote host closed the connection  \nflorinciu left at 21:57 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 21:57  \nflorinciu left at 22:01 (Ping timeout: 260 seconds  \nflorinciu joined #xwiki at 22:24  \nflorinciu left at 23:08 (Ping timeout: 265 seconds  \nsdumitriu - (23:33): Hi DrPoO  \nsdumitriu - (23:33): See http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs  \nsdumitriu - (23:34): It explains there all the parts of the URL  \nsdumitriu - (23:38): About migrating from one machine to another, if it's the same type of database, you can use mysqldump  \n\n"}