{"id": "dev:IRC.xwikiArchive20140925", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140925", "title": "IRC Archive for channel #xwiki on 25 September 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n01:05\u00a0<polx>\u00a0has quit  \n01:39\u00a0<lucaa>\u00a0has quit  \n01:59\u00a0<sburjan>\u00a0has quit  \n03:50\u00a0<Denis>\u00a0has joined #xwiki  \n04:05\u00a0<Denis>\u00a0has quit  \n06:06\u00a0<sburjan>\u00a0has quit  \n07:12\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n07:43\u00a0<msmeria>\u00a0has joined #xwiki  \n07:53\u00a0<polx>\u00a0has joined #xwiki  \n08:16\u00a0<xwikiorg\\_guest\\_0>\u00a0has quit  \n08:32\u00a0<Denis>\u00a0has joined #xwiki  \n08:39\u00a0<vmassol>\u00a0has joined #xwiki  \n08:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:43\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:44\u00a0<vmassol>\u00a0good morning  \n08:44\u00a0<vmassol>\u00a0sdumitriu: hi  \n08:44\u00a0<vmassol>\u00a0I think XWIKI-11115 should be merged on the 6.2.x branch too wdyt?  \n08:44\u00a0<cjd>\u00a0has joined #xwiki  \n08:56\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:13\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:14\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:30\u00a0<mflorea>\u00a0has joined #xwiki  \n09:32\u00a0<Lyes>\u00a0has joined #xwiki  \n09:34\u00a0<DarkKnightCZ>\u00a0has quit  \n09:34\u00a0<polx>\u00a0has quit  \n09:35\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:45\u00a0<vmassol>\u00a0has quit  \n09:51\u00a0<vmassol>\u00a0has joined #xwiki  \n10:01\u00a0<Lyes1>\u00a0has joined #xwiki  \n10:02\u00a0<Lyes>\u00a0has quit  \n10:04\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:05\u00a0<DarkKnightCZ1>\u00a0has joined #xwiki  \n10:06\u00a0<AFKGeek>\u00a0has joined #xwiki  \n10:06\u00a0<Lyes>\u00a0has joined #xwiki  \n10:07\u00a0<AFKGeek>\u00a0has joined #xwiki  \n10:07\u00a0<evalica>\u00a0has joined #xwiki  \n10:08\u00a0<Lyes1>\u00a0has quit  \n10:08\u00a0<DarkKnightCZ>\u00a0has quit  \n10:10\u00a0<AFKGeek>\u00a0has quit  \n10:10\u00a0<AFKGeek>\u00a0has joined #xwiki  \n10:32\u00a0<Enygma`>\u00a0Hi  \n10:32\u00a0<Enygma`>\u00a0I have no idea how to fix such flickering tests: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.tag/AddRemoveTagsTest/addAndDeleteTagFromTagPage/  \n10:32\u00a0<Enygma`>\u00a0basically it gets to this page http://ci.xwiki.org/job/xwiki-enterprise-test-ui/ws/xwiki-enterprise-test/xwiki-enterprise-test-ui/target/screenshots/AddRemoveTagsTest-addAndDeleteTagFromTagPage.png  \n10:32\u00a0<Enygma`>\u00a0then it is supposed to click on the \"Delete tag...\" button  \n10:32\u00a0<Enygma`>\u00a0and on the next page it checks the confirmation message  \n10:32\u00a0<Enygma`>\u00a0but for some reason, the test never clicks on the input form  \n10:33\u00a0<Enygma`>\u00a0even if the actual click() call in the test does not fail or anything  \n10:33\u00a0<Enygma`>\u00a0and click() is supposed to be blocking for links, form elements, etc that are loading a new page  \n10:34\u00a0<Enygma`>\u00a0it`s like... it registers the click() request, but never performs it, or something :/  \n10:35\u00a0<Enygma`>\u00a0if it was to have actually clicked on the delete button, at least the screenshot would show the click button focused (i.e. with a dashed border due to the mouse click), but it isn`t... meaning that the click() request does not get from the tests to the remote WebDriver (i.e. firefox browser).  \n10:36\u00a0<Enygma`>\u00a0I`d call this one Selenium's fault, in lack of a better explanation.  \n10:37\u00a0<Enygma`>\u00a0The only thing I could imagine we could do, is to somehow check if the click was executed and, if not, call it again somehow.  \n10:56\u00a0<lucaa>\u00a0has joined #xwiki  \n11:02\u00a0<DarkKnightCZ1>\u00a0has quit  \n11:09\u00a0<Enygma`>\u00a0vmassol, tmortagne: what is our practice for cherry-pick-ing pull requests into branches?  \n11:09\u00a0<Enygma`>\u00a0do we cherry-pick the merge commit (that applies the pull request on master) or do we cherry-pick the contained commit(s) from the pull request itself?  \n11:10\u00a0<tmortagne>\u00a0Enygma`: I usually work and commit on master and then cherry pick on stable branches  \n11:10\u00a0<vmassol>\u00a0I personally cherrypick the contzined commit  \n11:10\u00a0<vmassol>\u00a0\\*contained  \n11:10\u00a0<vmassol>\u00a0but indeed I don't know the best practice  \n11:11\u00a0<tmortagne>\u00a0ha pull request, read to quickly  \n11:11\u00a0<tmortagne>\u00a0I don't even remember what I did last time but I probably cherry picked the actual commit of the pull request  \n11:12\u00a0<Enygma`>\u00a0asking because I see the trend is to cherry-pick the actual commits, but it is not consistent... some pick the merge commit instead  \n11:12\u00a0<tmortagne>\u00a0(i.e. the real commits from the contributor)  \n11:12\u00a0<Enygma`>\u00a0the advantage of the actual commits is that the author is better preserved for statistics/etc  \n11:13\u00a0<Enygma`>\u00a0however, pick`ing just the merge gets the job done and still keeps the trail information in the actual commit message (pull request #, author's repository, commit ID of original merge on master)  \n11:14\u00a0<vmassol>\u00a0reminder:today us BFD  \n11:14\u00a0<vmassol>\u00a0\\*is  \n11:14\u00a0<Enygma`>\u00a0yep, sent a mail reminder :)  \n11:14\u00a0<Enygma`>\u00a0ok, I`m going for the explicit option, of picking the actual commits.  \n11:14\u00a0<vmassol>\u00a0ok need to read my emails :)  \n11:27\u00a0<gdelhumeau>\u00a0It is also what I do Enygma`  \n11:32\u00a0<Enygma`>\u00a0ok, thanks gdelhumeau  \n11:32\u00a0<gdelhumeau>\u00a0to preserve the author of the commit  \n11:35\u00a0<Enygma`>\u00a0has quit  \n11:36\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:54\u00a0<polx>\u00a0has joined #xwiki  \n12:24\u00a0<Slashman>\u00a0has joined #xwiki  \n12:36\u00a0<polx>\u00a0has quit  \n12:43\u00a0<polx>\u00a0has joined #xwiki  \n12:57\u00a0<Lyes>\u00a0has quit  \n13:00\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:17\u00a0<Denis>\u00a0has quit  \n13:21\u00a0<AFKGeek>\u00a0has quit  \n13:33\u00a0<Denis>\u00a0has joined #xwiki  \n13:41\u00a0<vmassol>\u00a0tmortagne: I'm implementing http://jira.xwiki.org/browse/XWIKI-11056  \n13:42\u00a0<vmassol>\u00a0I've found something interesting to know  \n13:42\u00a0<vmassol>\u00a0if you have the Chrome dev tool opened, then the browser doesn't send the \"If-Modified-Since\" header ;)  \n13:43\u00a0<vmassol>\u00a0ah no wait  \n13:43\u00a0<vmassol>\u00a0I must have the disable cache setting active in my dev tool, checking  \n13:43\u00a0<vmassol>\u00a0indeed that was the reason :)  \n13:45\u00a0<vmassol>\u00a0btw one thing to note is that when a user upgrade his version of XWiki he'll need to refresh his cache in case we've upgraded the versions of resource served by our webjars action....  \n13:45\u00a0<vmassol>\u00a0actually no  \n13:45\u00a0<vmassol>\u00a0it's fine  \n13:46\u00a0<vmassol>\u00a0:)  \n13:46\u00a0<vmassol>\u00a0because the URL contains the version  \n13:46\u00a0<vmassol>\u00a0this is cool  \n13:56\u00a0<polx>\u00a0has quit  \n13:58\u00a0<tmortagne>\u00a0vmassol: yes the version is in the URL with is nice  \n13:58\u00a0<tmortagne>\u00a0it's a lot less nice for other stuff...  \n14:04\u00a0<Slashman>\u00a0has quit  \n14:04\u00a0<Slashman\\_>\u00a0has joined #xwiki  \n14:32\u00a0<Lyes>\u00a0has joined #xwiki  \n14:32\u00a0<vmassol>\u00a0guys, would you be ok to force the view permission for guest through a right xobject for XWiki.ResetPasswordMailContent?  \n14:33\u00a0<vmassol>\u00a0(to fix XWIKI-11072)  \n14:33\u00a0<vmassol>\u00a0the use case is that password reset fails when the wiki is protected for guests  \n14:34\u00a0<vmassol>\u00a0I'm going to implement this in a few minutes, please let me know if you think it's a bad idea...  \n14:34\u00a0<tmortagne>\u00a0an alternative is to use a reset password action instead of a page  \n14:34\u00a0<tmortagne>\u00a0that way you can't really break it  \n14:36\u00a0<vmassol>\u00a0yes indeed that's a good idea, a lot more work though  \n14:36\u00a0<tmortagne>\u00a0adding an action is not that much work  \n14:37\u00a0<vmassol>\u00a0I'd say 4-5 days of work  \n14:37\u00a0<tmortagne>\u00a0why ?  \n14:37\u00a0<vmassol>\u00a0not much overall but still  \n14:37\u00a0<tmortagne>\u00a0it's mostly about do what's currently in the page in a template I guess  \n14:37\u00a0<vmassol>\u00a0it means moving the reset features outside of the admin-ui app  \n14:38\u00a0<vmassol>\u00a0into a passwordreset module  \n14:38\u00a0<vmassol>\u00a0register a new Resource Type (which we cannot do so it'll have to be an Entity Resource Type for now)  \n14:38\u00a0<tmortagne>\u00a0can be in oldcore like all the other actions for now  \n14:38\u00a0<tmortagne>\u00a0I was talking about actions  \n14:38\u00a0<tmortagne>\u00a0not new resources  \n14:39\u00a0<gdelhumeau>\u00a0hmm it increases the technical debt, no? instead of waiting the new modules of Vincent  \n14:39\u00a0<gdelhumeau>\u00a0\\*waiting for  \n14:40\u00a0<vmassol>\u00a0my new module works for registering a new Entity Reference action already  \n14:40\u00a0<vmassol>\u00a0what's missing is just new Resource Types  \n14:40\u00a0<vmassol>\u00a0so it can already be implemented, same as what was done for webjars  \n14:40\u00a0<vmassol>\u00a0but in the end it'll need to be moved to a new Resource Type same as webjar  \n14:40\u00a0<vmassol>\u00a0actually I'm on this these days but today is BFD so I stopped  \n14:41\u00a0<tmortagne>\u00a0if you need 4 days just to add a new action that does not do much more that executing a template seems to me it's a lot more complex than it should be  \n14:43\u00a0<tmortagne>\u00a0this is the only right way to fix it IMO, putting a bandage on ResetPasswordMailContent page is not very useful  \n14:43\u00a0<vmassol>\u00a0sure let's not do anything it's better :)  \n14:44\u00a0<vmassol>\u00a0we would need to pass quite a few params to the new action  \n14:44\u00a0<vmassol>\u00a0actually  \n14:44\u00a0<vmassol>\u00a0it's an action about sending mail  \n14:44\u00a0<vmassol>\u00a0if you want it generic  \n14:44\u00a0<vmassol>\u00a0you need to pass from, to, cc, bcc, language, content, template page, etc  \n14:45\u00a0<vmassol>\u00a0that's if you want to change just the issue (ie the fact that ResetPasswordMailContent is protetced)  \n14:45\u00a0<vmassol>\u00a0otherwise you need to understand and recode several pages injava  \n14:46\u00a0<vmassol>\u00a0hmm actually it won't help  \n14:46\u00a0<vmassol>\u00a0the check is in the mail sender api  \n14:46\u00a0<vmassol>\u00a0you'll still have it  \n14:47\u00a0<vmassol>\u00a0ah no you can bypass it  \n14:47\u00a0<vmassol>\u00a0I forgot we handled this use case ;)  \n14:48\u00a0<polx>\u00a0has joined #xwiki  \n14:48\u00a0<vmassol>\u00a0with 2 impl of MailTemplateManager  \n14:48\u00a0<andreeapopescu>\u00a0has left #xwiki  \n14:49\u00a0<vmassol>\u00a0it's only the mails service script service that uses the Secure MailTemplateManager :)  \n14:49\u00a0<vmassol>\u00a0if you're in java you'll use the default one which doesn't do any check  \n14:51\u00a0<vmassol>\u00a0and coding a generic send mail action is bad since it would be a security hole  \n14:51\u00a0<vmassol>\u00a0so we do need a specfic resetpassword action  \n14:52\u00a0<vmassol>\u00a0which means recoding compltely ResetPassword.xml, not somerthing small  \n14:52\u00a0<polx>\u00a0has quit  \n14:54\u00a0<vmassol>\u00a0so to sum up  \n14:54\u00a0<vmassol>\u00a0I'm going to force the view permissions for now since we need this in the 6.2.x branch ASAP (before Monday)  \n14:54\u00a0<vmassol>\u00a0and it's a regression  \n14:58\u00a0<polx>\u00a0has joined #xwiki  \n15:00\u00a0<msmeria>\u00a0has quit  \n15:22\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n15:28\u00a0<sdumitriu>\u00a0vmassol: It depends, I think the change is not compatible with the old rights implementation, which is still supposed to be supported for... what?  \n15:28\u00a0<vmassol>\u00a0sdumitriu: hi, sorry, what is it about?  \n15:29\u00a0<sdumitriu>\u00a0XWIKI-11115  \n15:29\u00a0<vmassol>\u00a0so it won't work in 6.2.1?  \n15:30\u00a0<sdumitriu>\u00a0The change will work, but the delete menu won't be shown for creators if the instance owner decides to revert to the old xwiki rights implementation  \n15:30\u00a0<sdumitriu>\u00a0I don't know why someone would do that, though, but there's a comment in xwiki.cfg about switching to it  \n15:30\u00a0<vmassol>\u00a0the problem is the same both branches though  \n15:30\u00a0<sdumitriu>\u00a0Yes  \n15:33\u00a0<sdumitriu>\u00a0I see you committed on 6.2.x, thanks  \n15:53\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:04\u00a0<Denis>\u00a0No more \"removed deprecated object properties\" option when editing objects in 6.2 ?  \n16:12\u00a0<tmortagne>\u00a0Denis: sounds like a bug if that's true  \n16:15\u00a0<Denis>\u00a0need to be tested from scratch  \n16:22\u00a0<tmortagne>\u00a0Denis: http://tuska.myxwiki.org/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n16:23\u00a0<tmortagne>\u00a0looks like it's still there  \n16:31\u00a0<AFKGeek>\u00a0has joined #xwiki  \n16:36\u00a0<evalica>\u00a0has quit  \n16:36\u00a0<Enygma`>\u00a0has quit  \n16:38\u00a0<momomomomo>\u00a0has quit  \n16:38\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:50\u00a0<DarkKnightCZ>\u00a0has quit  \n16:51\u00a0<momomomomo>\u00a0has quit  \n16:56\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:57\u00a0<woshilapin>\u00a0has quit  \n17:00\u00a0<KermitTheFragger>\u00a0has quit  \n17:16\u00a0<gdelhumeau>\u00a0I'm going to re-install my pc  \n17:26\u00a0<vmassol>\u00a0gdelhumeau: is the legend tag issue a blocker?  \n17:26\u00a0<vmassol>\u00a0are we using it?  \n17:26\u00a0<gdelhumeau>\u00a0I don't think so  \n17:26\u00a0<vmassol>\u00a0ok then I'll lower to major, ok?  \n17:26\u00a0<gdelhumeau>\u00a0But Yacine hits the problem whil he was writing a new HTML form  \n17:26\u00a0<gdelhumeau>\u00a0fine to me  \n17:27\u00a0<vmassol>\u00a0since I believe we should still release 6.2.1 without it  \n17:27\u00a0<vmassol>\u00a0you know the last xwiki version that worked?  \n17:29\u00a0<gdelhumeau>\u00a0nope, I've discovered it today  \n17:31\u00a0<gdelhumeau>\u00a0coming back  \n17:31\u00a0<vmassol>\u00a0hmm  \n17:31\u00a0<vmassol>\u00a0they have a test actually for that  \n17:31\u00a0<gdelhumeau>\u00a0has quit  \n17:31\u00a0<vmassol>\u00a0well no  \n17:31\u00a0<vmassol>\u00a0their tests does nothing :)  \n17:45\u00a0<tmortagne>\u00a0vmassol: according to the description it's a regression  \n17:45\u00a0<tmortagne>\u00a0the legend thing  \n17:46\u00a0<momomomomo>\u00a0has quit  \n17:54\u00a0<Lyes>\u00a0has quit  \n17:54\u00a0<AFKGeek>\u00a0has quit  \n17:55\u00a0<Keph>\u00a0has joined #xwiki  \n17:55\u00a0<Keph>\u00a0is now known as <guillaumeD>  \n17:59\u00a0<momomomomo>\u00a0has joined #xwiki  \n18:00\u00a0<mflorea>\u00a0has quit  \n18:01\u00a0<tmortagne>\u00a0has quit  \n18:07\u00a0<cjd>\u00a0has quit  \n18:29\u00a0<lucaa>\u00a0has quit  \n18:46\u00a0<polx>\u00a0has quit  \n18:59\u00a0<momomomomo>\u00a0has quit  \n19:01\u00a0<vmassol>\u00a0sdumitriu: ping  \n19:02\u00a0<vmassol>\u00a0I see there are lots of commits done for http://jira.xwiki.org/browse/XRENDERING-206  \n19:02\u00a0<vmassol>\u00a0but it's marked open  \n19:04\u00a0<vmassol>\u00a0actually http://jira.xwiki.org/browse/XWIKI-6908 also has some commits (png) but it doesn't look finished  \n19:26\u00a0<cjd>\u00a0has joined #xwiki  \n19:56\u00a0<abusenius>\u00a0has joined #xwiki  \n19:56\u00a0<Chuguniy>\u00a0has joined #xwiki  \n20:03\u00a0<polx>\u00a0has joined #xwiki  \n20:05\u00a0<polx>\u00a0has quit  \n20:08\u00a0<polx>\u00a0has joined #xwiki  \n20:13\u00a0<guillaumeD>\u00a0has quit  \n20:17\u00a0<polx>\u00a0has quit  \n20:19\u00a0<Chugunium>\u00a0has joined #xwiki  \n20:22\u00a0<Chuguniy>\u00a0has quit  \n20:22\u00a0<Slashman\\_>\u00a0has quit  \n20:23\u00a0<OSIMasson>\u00a0has joined #xwiki  \n20:29\u00a0<Denis>\u00a0has quit  \n20:40\u00a0<OSIMasson>\u00a0has quit  \n20:41\u00a0<OSIMasson>\u00a0has joined #xwiki  \n21:02\u00a0<polx>\u00a0has joined #xwiki  \n21:07\u00a0<polx>\u00a0has quit  \n21:07\u00a0<polx\\_>\u00a0has joined #xwiki  \n21:14\u00a0<polx\\_>\u00a0has quit  \n21:22\u00a0<polx>\u00a0has joined #xwiki  \n21:31\u00a0<momomomomo>\u00a0has joined #xwiki  \n21:33\u00a0<polx>\u00a0has quit  \n21:33\u00a0<momomomomo>\u00a0has quit  \n21:39\u00a0<momomomomo>\u00a0has joined #xwiki  \n21:49\u00a0<andreeapopescu>\u00a0has quit  \n22:03\u00a0<OSIMasson>\u00a0has quit  \n22:22\u00a0<cjd>\u00a0has quit  \n22:25\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:32\u00a0<cjd>\u00a0has joined #xwiki  \n22:58\u00a0<vmassol>\u00a0has quit  \n23:13\u00a0<momomomomo>\u00a0has quit  \n23:44\u00a0<Denis>\u00a0has joined #xwiki  \n23:55\u00a0<Chugunium>\u00a0has quit  \n23:56\u00a0<Chuguniy>\u00a0has joined #xwiki\n"}