{"id": "dev:IRC.xwikiArchive20120309", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120309", "title": "IRC Archive for channel #xwiki on 09 March 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:13\u00a0<sburjan`>\u00a0has quit  \n00:14\u00a0<sburjan`>\u00a0has joined #xwiki  \n00:15\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n00:16\u00a0<sdumitriu>\u00a0has quit  \n00:16\u00a0<sdumitriu1>\u00a0has quit  \n00:16\u00a0<sdumitriu>\u00a0has joined #xwiki  \n00:32\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:36\u00a0<jvdrean1>\u00a0has joined #xwiki  \n00:36\u00a0<jvdrean>\u00a0has quit  \n00:46\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:46\u00a0<jvdrean1>\u00a0has quit  \n01:57\u00a0<jvdrean1>\u00a0has joined #xwiki  \n01:57\u00a0<jvdrean>\u00a0has quit  \n02:06\u00a0<jvdrean1>\u00a0has quit  \n04:32\u00a0<DrLou\\_>\u00a0has quit  \n05:56\u00a0<Denis1>\u00a0has joined #xwiki  \n05:59\u00a0<Denis>\u00a0has quit  \n07:09\u00a0<mflorea>\u00a0has joined #xwiki  \n08:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:21\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r8bd8853\u000f https://github.com/xwiki/xwiki-platform/commit/8bd88538aebb623c4fba3bdd0cc1fc8434ee454e \u000f/ xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/plugin/table/feature/DeleteRow.java :\u000f XWIKI-7606: Cannot delete a table row when the selection spans across multiple cells - http://git.io/DU9e7w  \n08:21\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r1527505\u000f https://github.com/xwiki/xwiki-platform/commit/152750533f91c7d935d5ec3d055c9bc68443fd52 \u000f/ xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/plugin/table/feature/DeleteRow.java :\u000f XWIKI-7606: Cannot delete a table row when the selection spans across multiple cells ...  \n08:23\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rebd7a32\u000f https://github.com/xwiki/xwiki-enterprise/commit/ebd7a326198c29d7ae6de36db9afe8e60e005cc3 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-wysiwyg/src/test/it/org/xwiki/test/wysiwyg/TableTest.java :\u000f XWIKI-7606: Cannot delete a table row when the selection spans across multiple cells ...  \n08:23\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f stable-3.5.x\u000f \\* r5e41ac3\u000f https://github.com/xwiki/xwiki-enterprise/commit/5e41ac3cee66b939f215ff41c34de959970ba2b3 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-wysiwyg/src/test/it/org/xwiki/test/wysiwyg/TableTest.java :\u000f XWIKI-7606: Cannot delete a table row when the selection spans across multiple cells ...  \n08:25\u00a0<vmassol>\u00a0has joined #xwiki  \n08:35\u00a0<tmortagne>\u00a0has quit  \n08:36\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:42\u00a0<vmassol>\u00a0good morning....  \n08:43\u00a0<vmassol>\u00a0ok today I need to squash this save-on-other-thread issue!  \n09:05\u00a0<+sburjan`>\u00a0good luck  \n09:05\u00a0<vmassol>\u00a0thanks, the problem is that I need to find an angle\u2026. right now I have no clue...  \n09:06\u00a0<vmassol>\u00a0except downloading hibernate sources and debugging inside hibernate which I'd rather not have to do ;)  \n09:06\u00a0<+sburjan`>\u00a0hardcore :)  \n09:49\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r174dac3\u000f https://github.com/xwiki/xwiki-commons/commit/174dac3a5c6da698ac82ce60df6dc43a3e4efff5 \u000f/ (211 files in 46 dirs):\u000f XCOMMONS-125: Extract Job Manager from Extension Manager ...  \n09:58\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:59\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r024635b\u000f https://github.com/xwiki/xwiki-platform/commit/024635b8cb21d9fa1f2450137608bc4631f8eaf9 \u000f/ (26 files in 9 dirs):\u000f XCOMMONS-125: Extract Job Manager from Extension Manager ...  \n10:13\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f origin/feature-security-authorization\u000f \\* r94fff0c\u000f https://github.com/xwiki/xwiki-platform/commit/94fff0c45ebbc85873d92be84e6460252bc75807 \u000f/ xwiki-platform-core/xwiki-platform-security/xwiki-platform-security-bridge/src/main/java/org/xwiki/security/authorization/internal/XWikiCachingRightService.java :\u000f Added some action mappings. - http://git.io/60apMg  \n10:14\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f feature-security-authorization\u000f \\* r94fff0c\u000f https://github.com/xwiki/xwiki-platform/commit/94fff0c45ebbc85873d92be84e6460252bc75807 \u000f/ xwiki-platform-core/xwiki-platform-security/xwiki-platform-security-bridge/src/main/java/org/xwiki/security/authorization/internal/XWikiCachingRightService.java :\u000f Added some action mappings. - http://git.io/60apMg  \n10:32\u00a0<sburjan>\u00a0has joined #xwiki  \n10:48\u00a0<vmassol>\u00a0some details about the SQL that is executed for my save-on-thread problem: https://gist.github.com/2005794  \n10:49\u00a0<vmassol>\u00a0adding debug info to show the values  \n10:56\u00a0<evalica>\u00a0has joined #xwiki  \n10:56\u00a0<vmassol>\u00a0ok new logs with data: https://raw.github.com/gist/2005910/015969139e0a2041c3f6b0bb2b9c7ca9d90e74c0/gistfile1.txt  \n10:56\u00a0<vmassol>\u00a0analysing...  \n10:57\u00a0<+tmortagne>\u00a0vmassol: looking at https://gist.github.com/2005794 the issue seems to be when saving history, right ?  \n10:57\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:57\u00a0<+tmortagne>\u00a0not the document itself  \n10:57\u00a0<vmassol>\u00a0let's check the new log  \n10:57\u00a0<vmassol>\u00a0there's more data  \n10:58\u00a0<vmassol>\u00a0hmm the first 3 lines  \n10:59\u00a0<vmassol>\u00a0it's doing a sleect with rev = 1.2  \n10:59\u00a0<vmassol>\u00a0I wonder why  \n11:00\u00a0<+tmortagne>\u00a0vmassol: what's happening during this log ? it's just a save ?  \n11:00\u00a0<vmassol>\u00a0not quite it does this:  \n11:01\u00a0<vmassol>\u00a0yes it's just a save  \n11:01\u00a0<vmassol>\u00a0the other stuff are in memory  \n11:02\u00a0<+tmortagne>\u00a0ok  \n11:02\u00a0<vmassol>\u00a0it's just this line: #set ($discard = $logDoc.save(\"Logging from IRC\", true))  \n11:03\u00a0<vmassol>\u00a0I'll put a breakpoint to sync the save code with the logs  \n11:03\u00a0<+tmortagne>\u00a0no sure why it's inserting a new entry in the xwikircs table and then modify it instead of doing an insert after  \n11:03\u00a0<+tmortagne>\u00a0does not looks like the most optimized way  \n11:04\u00a0<vmassol>\u00a0let me confirm with my breakpint  \n11:11\u00a0<vmassol>\u00a0tmortagne: details: https://raw.github.com/gist/2005942/ad6470d46d0024346dbfaf7f1c4fadbb9e66a9c3/gistfile1.txt  \n11:13\u00a0<+tmortagne>\u00a0vmassol: hsqldb ?  \n11:13\u00a0<vmassol>\u00a0yes  \n11:18\u00a0<+tmortagne>\u00a0I see where the issue is in the SQL request but not why  \n11:18\u00a0<+tmortagne>\u00a0insert into xwikircs (XWR\\_DATE, XWR\\_COMMENT, XWR\\_AUTHOR, XWR\\_DOCID, XWR\\_VERSION1, XWR\\_VERSION2) values (?, ?, ?, ?, ?, ?)  \n11:18\u00a0<+tmortagne>\u00a0create the entry for the new version  \n11:19\u00a0<+tmortagne>\u00a0update xwikircs set XWR\\_ISDIFF=?, XWR\\_PATCH=? where XWR\\_DOCID=? and XWR\\_VERSION1=? and XWR\\_VERSION2=?  \n11:19\u00a0<+tmortagne>\u00a0update it with additional datas (stilll looks like bad design to me)  \n11:19\u00a0<+tmortagne>\u00a0but the WHERE is wrong in the update  \n11:19\u00a0<+tmortagne>\u00a0XWR\\_VERSION2 is wrong to be precise  \n11:19\u00a0<+tmortagne>\u00a0it's the same as XWR\\_VERSION1 (1) where the insert had 2  \n11:20\u00a0<+tmortagne>\u00a0so it does not find it  \n11:20\u00a0<+tmortagne>\u00a0but not sure if it's supposed to be an update of the previous version of if it's really for this version that we just inserted  \n11:20\u00a0<vmassol>\u00a0I'm debugging and I see archiveCache is not empty btw  \n11:20\u00a0<vmassol>\u00a0in XWikiContext  \n11:20\u00a0<+tmortagne>\u00a0maybe that's you issue then  \n11:21\u00a0<vmassol>\u00a0sdumitriu told me it couldn't be cased by his change but I'll double check ;)  \n11:21\u00a0<vmassol>\u00a0there's version 1.1 in this.archiveCache  \n11:22\u00a0<vmassol>\u00a0so that's why it increments to 1.2  \n11:22\u00a0<vmassol>\u00a0sdumitriu: ping  \n11:22\u00a0<+tmortagne>\u00a0so maybe you have an archive from a previous document actually  \n11:22\u00a0<+tmortagne>\u00a0i.e. bad cloning fo XWikiContext  \n11:22\u00a0<+tmortagne>\u00a0of  \n11:23\u00a0<vmassol>\u00a0let me think  \n11:23\u00a0<vmassol>\u00a0here's what I do:  \n11:23\u00a0<vmassol>\u00a0- stop xwiki and restart  \n11:23\u00a0<vmassol>\u00a0- the doc doesn't exis  \n11:24\u00a0<vmassol>\u00a0- I start the bot and it sends a join event on irc thus the doc is created  \n11:24\u00a0<vmassol>\u00a0- I go to the doc page and delete it  \n11:24\u00a0<vmassol>\u00a0- I type some char in the irc channel  \n11:24\u00a0<vmassol>\u00a0- the doc tries to be created and saved  \n11:24\u00a0<vmassol>\u00a0- it fails  \n11:24\u00a0<vmassol>\u00a0the xwikicontext for threads is created  \n11:25\u00a0<vmassol>\u00a0the the bot starts  \n11:25\u00a0<vmassol>\u00a0which means there's no doc at this point  \n11:25\u00a0<vmassol>\u00a0s/the the/when the/  \n11:27\u00a0<vmassol>\u00a0the clone is actually done the first time the thread execute  \n11:27\u00a0<vmassol>\u00a0but that's before the doc is created  \n11:27\u00a0<+tmortagne>\u00a0ok  \n11:39\u00a0<jvdrean1>\u00a0has joined #xwiki  \n11:39\u00a0<jvdrean>\u00a0has quit  \n11:43\u00a0<vmassol>\u00a0ok so the issue is that the doc is in archivecache before we clone the xwikicontext and thus it's cloned (since we don't have \u00a0aproper clone of XWikiContext)  \n11:43\u00a0<vmassol>\u00a0so:  \n11:44\u00a0<vmassol>\u00a01) this means that segiu's change has some potential issues on other threads  \n11:44\u00a0<vmassol>\u00a0we'll probably get problems there too  \n11:44\u00a0<vmassol>\u00a02) we need to implement a proper XWikiContext.clone()  \n11:45\u00a0<vmassol>\u00a0luckily sergiu's change is in 4.0M1  \n11:45\u00a0<vmassol>\u00a0so not released yet  \n12:00\u00a0<+sburjan>\u00a0vmassol: we should fix postgres issue until we release 3.5.1 and 4.0  \n12:00\u00a0<vmassol>\u00a0it would be nice  \n12:01\u00a0<vmassol>\u00a0but who can work on it?.  \n12:01\u00a0<+sburjan>\u00a0anybody who know stuff  \n12:01\u00a0<vmassol>\u00a0you?  \n12:01\u00a0<+sburjan>\u00a0I don't know stuff  \n12:01\u00a0<vmassol>\u00a0that's too easy  \n12:01\u00a0<vmassol>\u00a0:)  \n12:01\u00a0<+sburjan>\u00a0:)  \n12:01\u00a0<vmassol>\u00a0I don't know stuff either  \n12:01\u00a0<vmassol>\u00a0!!  \n12:01\u00a0<vmassol>\u00a0;)  \n12:02\u00a0<+sburjan>\u00a0well you were able to almost fix the oracle issue only be editing a hibernate file :)  \n12:02\u00a0<+sburjan>\u00a0so I;'m sure you have the skills to fix postgres also :)  \n12:02\u00a0<vmassol>\u00a0to paraphrase some French motto: \"100% of people who fixed stuff have tried\"  \n12:02\u00a0<vmassol>\u00a0(hard to translate in English)  \n12:03\u00a0<vmassol>\u00a0not French motto but French Ad  \n12:04\u00a0<vmassol>\u00a0anyway I'm just kidding  \n12:04\u00a0<vmassol>\u00a0but we still need to find someone with knowledge and free time, not easy to find  \n12:05\u00a0<+sburjan>\u00a0we also have some ui-issues reported, which would be nice to be fixed for 3.5.1  \n12:05\u00a0<+sburjan>\u00a0+ afaik the colortheme migration issue was fixed by sdumitriu this week  \n12:07\u00a0<evalica>\u00a0has quit  \n12:11\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* rd69d0ee\u000f https://github.com/xwiki/xwiki-platform/commit/d69d0ee7be30956c4bfff9d602c7fe3ad50edf5f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/XWikiContext.java :\u000f XWIKI-7607: Cloning XWikiContext keep the same instance of the cache which can create a message with the standard stub context for example - http://git.io/1tOT3g  \n12:11\u00a0<CIA-120>\u00a0tmortagne\u000f stable-3.5.x\u000f \\* rbaf35d9\u000f https://github.com/xwiki/xwiki-platform/commit/baf35d9060ec9cdc2f573e8bf3849018244115e7 \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/XWikiContext.java :\u000f XWIKI-7607: Cloning XWikiContext keep the same instance of the cache which can create a message with the standard stub context for example ...  \n12:29\u00a0<Enygma`>\u00a0has quit  \n12:40\u00a0<evalica>\u00a0has joined #xwiki  \n12:44\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:26\u00a0<vmassol>\u00a0FTR the problem is now solved  \n13:26\u00a0<vmassol>\u00a0see http://jira.xwiki.org/browse/XWIKI-7607 for details  \n13:27\u00a0<vmassol>\u00a0thanks tmortagne for your help  \n13:27\u00a0<vmassol>\u00a0:)  \n13:37\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n13:41\u00a0<+mflorea>\u00a0sdumitriu: ping  \n13:42\u00a0<vmassol>\u00a0update: no I was wrong, 7607 doesn't fix the issue, it makes it worse :)  \n13:56\u00a0<+mflorea>\u00a0vmassol/tmortagne: I need to customize a bit (not very much) the live table results and unfortunately the code from XWiki.LiveTableResultsMacros is not reusable (I have to copy a \\*lot\\* of code). I'd like to refactor this code so that instead of writing the JSON output directly to the response it builds a JSON (java) object which I can adjust before it is serialized. I need a JSON velocity tool for this though. WDYT?  \n14:00\u00a0<+mflorea>\u00a0jvelo: did you commit the json velocity tool in the end?  \n14:00\u00a0<+mflorea>\u00a0$jsontool doesn't work, so I guess not  \n14:01\u00a0<jvelo>\u00a0mflorea: I don;t remember i did  \n14:01\u00a0<+mflorea>\u00a0ok, I'd like to add it  \n14:01\u00a0<jvelo>\u00a0mflorea: the one I wrote was 3 lines of code anyway :)  \n14:02\u00a0<jvelo>\u00a0https://github.com/jvelo/velocity-json-tool  \n14:02\u00a0<+mflorea>\u00a0I've seen it. I need more. I'd like to be able to create JSON objects, arrays, strings, etc.  \n14:03\u00a0<+mflorea>\u00a0i.e. be able to create the JSON in memory  \n14:03\u00a0<+mflorea>\u00a0so that it can be adjusted before serialization  \n14:08\u00a0<jvelo>\u00a0mflorea: why not use a map ?  \n14:09\u00a0<jvelo>\u00a0and use toJSON at the very end when you need it  \n14:11\u00a0<+mflorea>\u00a0jvelo: because I'd need to write my own serialization, no? The map can have an array as value, which can have another map, .. and so on.  \n14:11\u00a0<jvelo>\u00a0no  \n14:11\u00a0<jvelo>\u00a0it's all taken care of  \n14:11\u00a0<jvelo>\u00a0:)  \n14:11\u00a0<+mflorea>\u00a0the JSON ca be pretty complex  \n14:12\u00a0<jvelo>\u00a0well not that much  \n14:12\u00a0<jvelo>\u00a0there aren't many types  \n14:12\u00a0<+mflorea>\u00a0you mean it know to seerialize map as object {} and arrays as []?  \n14:12\u00a0<jvelo>\u00a0yes  \n14:12\u00a0<+mflorea>\u00a0by complex I mean deep in structure  \n14:12\u00a0<+mflorea>\u00a0hmm  \n14:13\u00a0<jvelo>\u00a0don't reinvent the serialization code:)  \n14:13\u00a0<jvelo>\u00a0there are actually several lib that do that  \n14:14\u00a0<jvelo>\u00a0my tool uses the \"standard\" net.sf.json.JSONSerializer  \n14:14\u00a0<jvelo>\u00a0but we could use jackson too  \n14:14\u00a0<+mflorea>\u00a0I see  \n14:14\u00a0<jvelo>\u00a0which is supposed to be faster  \n14:14\u00a0<jvelo>\u00a0(never tested, but it's advertised as faster)  \n14:14\u00a0<+tmortagne>\u00a0mflorea: +1 with what jvelo propose  \n14:15\u00a0<+mflorea>\u00a0now, by toJSON you mean the method from your tool, which returns a JSON object  \n14:15\u00a0<jvelo>\u00a0for example  \n14:15\u00a0<+tmortagne>\u00a0isn't toJSON a serialize ?  \n14:15\u00a0<jvelo>\u00a0yes  \n14:15\u00a0<jvelo>\u00a0it's toString() method will give you the actual JSON  \n14:15\u00a0<jvelo>\u00a0so in velocity you can just call $jsontool.toJSON($myMap)  \n14:15\u00a0<+mflorea>\u00a0ok, cool  \n14:15\u00a0<jvelo>\u00a0and you are good  \n14:16\u00a0<+mflorea>\u00a0now, do I need a vote for this? I was already voted, but not committed  \n14:16\u00a0<+mflorea>\u00a0jvelo: do you remember the reason it wasn't committed?  \n14:17\u00a0<+mflorea>\u00a0http://www.mail-archive.com/[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/msg11810.html  \n14:18\u00a0<jvelo>\u00a0mflorea: I don't recall ..  \n14:18\u00a0<jvelo>\u00a0but since it's been voted maybe you can just pop a mail to say you are going to commit it  \n14:18\u00a0<+mflorea>\u00a0yep  \n14:18\u00a0<+mflorea>\u00a0I'll do so  \n14:22\u00a0<tekzilla>\u00a0has quit  \n14:22\u00a0<silviar>\u00a0has joined #xwiki  \n14:24\u00a0<+mflorea>\u00a0jvelo: the second method toValueString isn't similar to $escapetool.javascript ? The difference is that later doesn't wrap the value in quotes, right?  \n14:25\u00a0<jvelo>\u00a0yes I don't remember exactly but AFAIR there was a subtle difference  \n14:25\u00a0<jvelo>\u00a0I can dig if you need  \n14:26\u00a0<+mflorea>\u00a0it's just that I wouldn't like to duplicate APIs. So far we've used $escapetool.javascript when generating JSON  \n14:27\u00a0<tekzilla>\u00a0has joined #xwiki  \n14:27\u00a0<+mflorea>\u00a0so I think we can leave without toValueString  \n14:48\u00a0<Enygma`>\u00a0has quit  \n14:48\u00a0<@sdumitriu>\u00a0mflorea: Pong  \n14:48\u00a0<@sdumitriu>\u00a0vmassol: Pong  \n14:48\u00a0<+mflorea>\u00a0it was about the json velocity tool  \n14:49\u00a0<Enygma`>\u00a0has joined #xwiki  \n14:51\u00a0<+mflorea>\u00a0sdumitriu: are you ok with adding a JSON velocity tool with only one method toJSON(Object), based on Jackson JSON lib  \n14:52\u00a0<@sdumitriu>\u00a0vmassol: I don't agree that XWIKI-7585 introduced a regression  \n14:53\u00a0<@sdumitriu>\u00a0mflorea: +1 for JSON tool  \n14:53\u00a0<+mflorea>\u00a0thanks  \n14:54\u00a0<@sdumitriu>\u00a0vmassol: XWIKI-7585 solved the problem for the single thread case, and indeed we must extend the solution to the multithread case  \n14:54\u00a0<vmassol>\u00a0sdumitriu: OTP with ludovic  \n14:55\u00a0<@sdumitriu>\u00a0Here's a quick fix for you: call context.flushArchiveCache before loading the document  \n14:56\u00a0<vmassol>\u00a0sdumitriu: going to remove the archiveCache which is not needed  \n15:01\u00a0<vmassol>\u00a0sdumitriu: the archive will be held in a softref in the document cache so it's good enough  \n15:02\u00a0<+mflorea>\u00a0guys, what's the practice re JSONTool vs. JsonTool?  \n15:02\u00a0<vmassol>\u00a0JSONTool  \n15:02\u00a0<+mflorea>\u00a0ok, thanks  \n15:03\u00a0<vmassol>\u00a0it's like getURL  \n15:07\u00a0<vmassol>\u00a0sdumitriu: I'm doing it right now so please speak up if you see an issue  \n15:07\u00a0<@sdumitriu>\u00a0No, I'm very much in fvor of that  \n15:07\u00a0<vmassol>\u00a0ok cool  \n15:08\u00a0<vmassol>\u00a0BTW I'm not solving the issue with the other \u00a02 caches  \n15:08\u00a0<vmassol>\u00a0they need solving too  \n15:08\u00a0<rrodriguez>\u00a0has joined #xwiki  \n15:22\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r22db2ed\u000f https://github.com/xwiki/xwiki-platform/commit/22db2ed73643993ef65c4b93de6c6e136450f7e9 \u000f/ (3 files in 3 dirs):\u000f XWIKI-7585: Cannot delete and recreate the same document in the same request ...  \n15:22\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rad828e2\u000f https://github.com/xwiki/xwiki-platform/commit/ad828e2d30d3ecaa12c9d15612c0cfa487429b1d \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/internal/DefaultXWikiStubContextProvider.java :\u000f [Misc] Removed unnecessary casts - http://git.io/EJx4lg  \n15:22\u00a0<vmassol>\u00a0maybe we should port this to 3.5 branch?  \n15:23\u00a0<vmassol>\u00a0maybe we should wait a few days before porting it though  \n15:23\u00a0<vmassol>\u00a0(we might forget if we wait though\u2026 ;)  \n15:48\u00a0<+tmortagne>\u00a0guys could I get some votes on JBossCache and Script macros move mails  \n15:49\u00a0<vmassol>\u00a0doing it  \n15:52\u00a0<vmassol>\u00a0tmortagne: \u00a0done maybe make sure that users don't draw too many deps by using <optional> where it makes sense  \n15:53\u00a0<+tmortagne>\u00a0what you mean ?  \n15:53\u00a0<vmassol>\u00a0nothing  \n15:53\u00a0<vmassol>\u00a0the only risk being that in the future  \n15:53\u00a0<vmassol>\u00a0we create deps between those modules  \n15:53\u00a0<vmassol>\u00a0more than necessary  \n15:54\u00a0<+tmortagne>\u00a0between commons modules ?  \n15:54\u00a0<vmassol>\u00a0yes  \n15:54\u00a0<vmassol>\u00a0we just need to be carful  \n15:54\u00a0<vmassol>\u00a0careful  \n15:54\u00a0<+tmortagne>\u00a0well here it's moving on rendering  \n15:54\u00a0<+tmortagne>\u00a0but sure, i'm always careful with dependencies  \n15:54\u00a0<vmassol>\u00a0so between rendeing modules too  \n15:54\u00a0<vmassol>\u00a0anyway the problem is not now since rendernig and commons don't have deps on platform  \n15:56\u00a0<vmassol>\u00a0just got a \"you broke the build\" mail :)  \n15:56\u00a0<vmassol>\u00a0looking...  \n15:57\u00a0<vmassol>\u00a0it's quite nice, so I'll add this feature to the other modulestoo  \n15:57\u00a0<vmassol>\u00a0ah legacy module, I forgot them  \n16:04\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r092bebb\u000f https://github.com/xwiki/xwiki-platform/commit/092bebbfc0be157299bf65f40b0f4043a9a85816 \u000f/ xwiki-platform-core/pom.xml :\u000f XWIKI-7585: Cannot delete and recreate the same document in the same request ...  \n16:10\u00a0<mflorea>\u00a0has quit  \n16:19\u00a0<DrLou\\_>\u00a0has quit  \n16:20\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r497d337\u000f https://github.com/xwiki/xwiki-platform/commit/497d337b2517706b6f8e0f53ec5ede62235f6074 \u000f/ (3 files in 3 dirs):\u000f XWIKI-7585: Cannot delete and recreate the same document in the same request ...  \n16:24\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n16:25\u00a0<DrLou\\_>\u00a0has left #xwiki  \n17:17\u00a0<SDuensin>\u00a0has joined #xwiki  \n17:17\u00a0<SDuensin>\u00a0Good morning.  \n17:34\u00a0<@sdumitriu>\u00a0Good morning  \n17:34\u00a0<vmassol>\u00a0oh dear...  \n17:34\u00a0<vmassol>\u00a04.0M1 is next Monday  \n17:34\u00a0<vmassol>\u00a0(ie in 2-3 days)  \n17:34\u00a0<@sdumitriu>\u00a0Yep, I know  \n17:34\u00a0<@sdumitriu>\u00a0It's scary  \n17:35\u00a0<vmassol>\u00a0grrr fixing build  \n17:35\u00a0<vmassol>\u00a0I'm a bit hasty these days\u2026 I should rebuild locally  \n17:35\u00a0<vmassol>\u00a0(not to self to be more careful)  \n17:53\u00a0<Denis1>\u00a0has quit  \n18:12\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rb1138c5\u000f https://github.com/xwiki/xwiki-platform/commit/b1138c56d0b4ee447ba7d50e1e8631141f92044a \u000f/ xwiki-platform-core/xwiki-platform-legacy/xwiki-platform-legacy-oldcore/src/main/aspect/compatibility/com/xpn/xwiki/XWikiContextCompatibilityAspect.aj :\u000f XWIKI-7585: Cannot delete and recreate the same document in the same request ...  \n18:14\u00a0<tmortagne>\u00a0has quit  \n18:15\u00a0<abusenius>\u00a0has joined #xwiki  \n18:19\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f master\u000f \\* r1c4fd4b\u000f https://github.com/xwiki/xwiki-platform/commit/1c4fd4b1d58835aaf4b94e9c52e5f816f47e8768 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7610: LiveTable result macros does not escape XWiki syntax in JSON strings. - http://git.io/p5dKCA  \n18:19\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f master\u000f \\* rffbbaa0\u000f https://github.com/xwiki/xwiki-platform/commit/ffbbaa03c42d45d50e1d78faab3788f20fd0f6a4 \u000f/ xwiki-platform-core/xwiki-platform-legacy/xwiki-platform-legacy-oldcore/src/main/aspect/compatibility/com/xpn/xwiki/XWikiContextCompatibilityAspect.aj :\u000f Merge branch 'master' of github.com:xwiki/xwiki-platform - http://git.io/UBWc2g  \n18:20\u00a0<CIA-120>\u00a0Ecaterina Moraru (Valica)\u000f master\u000f \\* r0dfdfa5\u000f https://github.com/xwiki/xwiki-enterprise/commit/0dfdfa5e597637437d70d9973f7e1488c4fb5c69 \u000f/ xwiki-enterprise-ui/src/main/resources/ColorThemes/ColorThemeSheet.xml :\u000f XE-1122: Add new colortheme variables for the gradients introduced by 3.4 and allow their modification from the colorthemes wizard ...  \n18:23\u00a0<silviar>\u00a0has quit  \n18:24\u00a0<CIA-120>\u00a0Ecaterina Moraru (Valica)\u000f stable-3.5.x\u000f \\* r8edb2fd\u000f https://github.com/xwiki/xwiki-enterprise/commit/8edb2fd0150cd78270d3d361ea8a277d024f3b74 \u000f/ xwiki-enterprise-ui/src/main/resources/ColorThemes/ColorThemeSheet.xml :\u000f XE-1122: Add new colortheme variables for the gradients introduced by 3.4 and allow their modification from the colorthemes wizard ...  \n18:41\u00a0<sburjan>\u00a0has quit  \n18:48\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f master\u000f \\* rf57cd57\u000f https://github.com/xwiki/xwiki-platform/commit/f57cd57f859617a2d5b8c8357ad476b8b1528d12 \u000f/ (2 files in 2 dirs):\u000f Revert \"XWIKI-7610: LiveTable result macros does not escape XWiki syntax in JSON strings.\" ...  \n19:01\u00a0<evalica>\u00a0has quit  \n19:03\u00a0<jvdrean1>\u00a0has quit  \n19:40\u00a0<vmassol>\u00a0has quit  \n19:51\u00a0<CIA-120>\u00a0Andreas Jonsson\u000f master\u000f \\* r6beee73\u000f https://github.com/xwiki/xwiki-platform/commit/6beee7391d835f57bd38022cd4f7e78232e0afbf \u000f/ xwiki-platform-core/xwiki-platform-appwithinminutes/src/main/resources/AppWithinMinutes/LiveTableGenerator.xml :\u000f XWIKI-7610: LiveTable generator does not escape XWiki syntax in JSON strings. - http://git.io/qo8RVQ  \n20:00\u00a0<sdumitriu>\u00a0has quit  \n20:16\u00a0<sdumitriu>\u00a0has joined #xwiki  \n21:22\u00a0<SDuensin>\u00a0has left #xwiki  \n21:54\u00a0<polx>\u00a0has joined #xwiki  \n21:56\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n21:57\u00a0<sdumitriu>\u00a0has quit  \n22:00\u00a0<sdumitriu1>\u00a0has quit  \n22:16\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:38\u00a0<rrodriguez>\u00a0has quit  \n23:49\u00a0<pgmjsd>\u00a0has quit  \n23:53\u00a0<rrodriguez>\u00a0has joined #xwiki  \n\n"}