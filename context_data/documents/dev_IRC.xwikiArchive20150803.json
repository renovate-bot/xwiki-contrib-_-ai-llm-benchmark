{"id": "dev:IRC.xwikiArchive20150803", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150803", "title": "IRC Archive for channel #xwiki on 03 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n03:44\u00a0<spawn57>\u00a0has quit  \n06:56\u00a0<mflorea>\u00a0has joined #xwiki  \n08:03\u00a0<mflorea>\u00a0has quit  \n08:09\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:48\u00a0<DarkKnightCZ>\u00a0has quit  \n08:51\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:57\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:05\u00a0<Slashman>\u00a0has joined #xwiki  \n09:18\u00a0<mflorea>\u00a0has joined #xwiki  \n09:37\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:39\u00a0<vmassol>\u00a0has joined #xwiki  \n09:44\u00a0<vmassol>\u00a0good morning  \n09:57\u00a0<woshilapin>\u00a0has quit  \n10:08\u00a0<vmassol>\u00a0fyi this morning I'll test Edy's change for the script permission  \n10:14\u00a0<vmassol>\u00a0I guess we should remove the jobs related to the script permissiosn from jenkins  \n10:14\u00a0<vmassol>\u00a0and the branch  \n10:16\u00a0<tmortagne>\u00a0if it's merged then yes we should get rid of them  \n10:17\u00a0<vmassol>\u00a0checking if it works first  \n11:03\u00a0<vmassol>\u00a0cool the new script right seems to be work fine :)  \n11:04\u00a0<vmassol>\u00a0(I hope there are not too many side effects)  \n11:04\u00a0<vmassol>\u00a0removing branch + jobs  \n11:09\u00a0<vmassol>\u00a0done  \n11:10\u00a0<vmassol>\u00a0hmmm I really don't see how this can happen: http://ci.xwiki.org/job/xwiki-rendering-testrelease/12/console  \n11:10\u00a0<vmassol>\u00a0restarting the job  \n11:12\u00a0<vmassol>\u00a0hmm same here, I don't see what has changed: http://ci.xwiki.org/job/xwiki-commons\\_Sonar/362/#showFailuresLink  \n11:19\u00a0<vmassol>\u00a0mflorea: is this a false positive: http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-wysiwyg-test-tests/1663/testReport/org.xwiki.wysiwyg.test.ui/EditWYSIWYGTest/testUndoRepeatedPaste/ ? Seems we have quite a few on the wysiwyg  \n11:20\u00a0<mflorea>\u00a0age 5, it may be a real problem  \n11:20\u00a0<vmassol>\u00a0we have the same error on the 6.4 branch  \n11:20\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform-6.4.x/org.xwiki.platform$xwiki-platform-wysiwyg-test-tests/276/testReport/org.xwiki.wysiwyg.test.ui/EditWYSIWYGTest/testUndoRepeatedPaste/  \n11:21\u00a0<mflorea>\u00a0I don't remember seeing this test fail in the past  \n11:21\u00a0<vmassol>\u00a0we don't have it on the 7.1.x branch though  \n11:22\u00a0<mflorea>\u00a0hmm, it failed for 13 times, then it passed 2 times, and then 6 failues  \n11:22\u00a0<mflorea>\u00a0s/2/3 times  \n11:22\u00a0<vmassol>\u00a0a false positive that fails often then :)  \n11:23\u00a0<mflorea>\u00a0something must have triggered the repeated failures, I don't remember seeing this test failed before  \n11:24\u00a0<mflorea>\u00a0deserves some investigation  \n11:24\u00a0<vmassol>\u00a011 test failures for test-ui that's a lot: http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/testReport/  \n11:25\u00a0<vmassol>\u00a0I'll check http://ci.xwiki.org/job/xwiki-enterprise-test-ui/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui/CreatePageTest/testCreatePageFromTemplate/  \n11:26\u00a0<vmassol>\u00a0ok easy to fix  \n11:26\u00a0<vmassol>\u00a0the issue for this one is the breadcrumb  \n11:27\u00a0<vmassol>\u00a0the test is looking for \"Wiki Home\" in the breadcrumb  \n11:27\u00a0<vmassol>\u00a0fixing  \n11:28\u00a0<vmassol>\u00a0actually the test needs to be rewritten a bit I think since it sets parents  \n11:28\u00a0<vmassol>\u00a0hmm we need to review all tests that sets parents actually  \n12:11\u00a0<vmassol>\u00a0guys I propose to move the CreatePageTest func test currently located in enteprrise-test-ui to platform admin func test module since it's about \"Tests page creation using a Template Provider and a Template.\" ok for you?  \n12:12\u00a0<vmassol>\u00a0(tmortagne, mflorea)  \n12:12\u00a0<vmassol>\u00a0if you're ok I'll do that after lunch  \n12:13\u00a0<mflorea>\u00a0fine with me  \n12:13\u00a0<tmortagne>\u00a0ok  \n12:14\u00a0<vmassol>\u00a0k  \n12:14\u00a0<vmassol>\u00a0hmm Guillaume has not added tests for the breadcrumbs\u2026  \n12:15\u00a0<vmassol>\u00a0he's actually caused some false positive\u2026.  \n12:15\u00a0<vmassol>\u00a0(in his changes for BreadcrumbsTest  \n12:16\u00a0<vmassol>\u00a0bbl  \n12:18\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n12:18\u00a0<martinus\\_\\_>\u00a0hi cjd are you around ?  \n12:18\u00a0<ol-ow2>\u00a0has joined #xwiki  \n12:18\u00a0<martinus\\_\\_>\u00a0or maybe tmortagne  \n12:19\u00a0<martinus\\_\\_>\u00a0we are trying to install totem app in a child wiki , as Admin, and we get 'Programming right is required to install extension' ?  \n12:20\u00a0<martinus\\_\\_>\u00a0this one http://extensions.xwiki.org/xwiki/bin/view/Extension/TotemApplication  \n12:20\u00a0<tmortagne>\u00a0martinus\\_\\_: it means you are trying to install a JAR, which require PR  \n12:20\u00a0<tmortagne>\u00a0totem app itself is a XAR but it depends on several jars as far as I can see  \n12:21\u00a0<martinus\\_\\_>\u00a0tmortagne, what we don't understand is we are using the Admin user which is expected to have PR ?  \n12:21\u00a0<tmortagne>\u00a0so will need someone who have programming right to install those (or only the dependencies)  \n12:21\u00a0<tmortagne>\u00a0is this main wiki Admin user ?  \n12:21\u00a0<martinus\\_\\_>\u00a0yes  \n12:22\u00a0<tmortagne>\u00a0you should probably check its rights (it's not because you are admin that you have PR)  \n12:23\u00a0<tmortagne>\u00a0you could also check in a page to use something that require PR like groovy  \n12:23\u00a0<martinus\\_\\_>\u00a0let me verify that; as a side note, we are able to install the extension in the main wiki with that same Admin user  \n12:23\u00a0<tmortagne>\u00a0are you really sure you are using the same user ?  \n12:23\u00a0<martinus\\_\\_>\u00a0that's the question  \n12:23\u00a0<martinus\\_\\_>\u00a0lets verify this :)  \n12:24\u00a0<tmortagne>\u00a0just click on the user profile and you'll see  \n12:24\u00a0<tmortagne>\u00a0seems to be you are using the subwiki Admin user  \n12:24\u00a0<martinus\\_\\_>\u00a0clicking the profile redirects to the main wiki user's profile (no to the subwiki user profile)  \n12:25\u00a0<tmortagne>\u00a0installing from main wiki or subwiki does not make any difference for EM since it's always running in a background thread which have main wiki in its context  \n12:26\u00a0<tmortagne>\u00a0do you have more detail in the error ? some stack trace in the extension log with the actual user reference  \n12:26\u00a0<martinus\\_\\_>\u00a0yes we have  \n12:27\u00a0<tmortagne>\u00a0another possibility is that the author of the Extension UI page in the subwiki does not have PR  \n12:27\u00a0<tmortagne>\u00a0both context user and context author need PR (as otherwise anyone could install anything just by waiting for the right current user)  \n12:28\u00a0<martinus\\_\\_>\u00a0tmortagne, http://pastebin.com/pg6um72K  \n12:29\u00a0<tmortagne>\u00a0mflorea: any idea what is the current page when install/continue is executed from EM UI ?  \n12:30\u00a0<mflorea>\u00a0XWiki.AddExtensions probably  \n12:31\u00a0<tmortagne>\u00a0martinus\\_\\_: if you are 100% sure the current user is right then it probably means the wiki page user to start the install does not have a PR user  \n12:32\u00a0<mflorea>\u00a0i.e. the document that displays the EM administration section  \n12:32\u00a0<martinus\\_\\_>\u00a0tmortagne, bingo. The Xwiki.AddExtensions : wrong author.  \n12:33\u00a0<martinus\\_\\_>\u00a0thanks mflorea  \n12:33\u00a0<mflorea>\u00a0you're welcome  \n13:14\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:03\u00a0<martinus\\_\\_>\u00a0has quit  \n14:42\u00a0<vmassol>\u00a0hi devs, just sent a proposal for locating func tests that don't need wiki pages (i.e tests that test the skin)  \n14:42\u00a0<vmassol>\u00a0I've brainstormed it with tmortagne so I know he's ok  \n14:42\u00a0<vmassol>\u00a0mflorea: I'd like to have your quick opinion since I'm about to start implementing it for moving some exsiting func tests (and fix them at the same time)  \n14:43\u00a0<mflorea>\u00a0let me check  \n14:43\u00a0<vmassol>\u00a0thx  \n14:54\u00a0<mflorea>\u00a0vmassol: answered  \n14:54\u00a0<vmassol>\u00a0thx  \n15:07\u00a0<mflorea>\u00a0vmassol, tmortagne: I'll add $services.model.createDocumentReference($name, $spaceReference). Anything against it? It's quite useful because I often need to resolve the local space reference and then create the document ref from the doc name and the space ref  \n15:08\u00a0<vmassol>\u00a0so it would be a shortcut for createEntityReference($name, 'DOCUMENT', $spaceReference) ?  \n15:08\u00a0<tmortagne>\u00a0we have this for other type of references in the script service as well as in DocumentReference itself so it makes sense yes  \n15:08\u00a0<tmortagne>\u00a0vmassol: it's not exactly the same thing since you don't get exactly the same object  \n15:09\u00a0<vmassol>\u00a0yeah you get a DocumentReference  \n15:09\u00a0<vmassol>\u00a0(istead of an EntityReference)  \n15:09\u00a0<vmassol>\u00a0ok for me  \n15:09\u00a0<mflorea>\u00a0vmassol: yes, the problem with createEntityRef is that the result is not typed and I need a DocRef to pass to various methods  \n15:09\u00a0<vmassol>\u00a0initially I wanted this SS api to be small and simple but I guess over time it'll become the same as the java api :)  \n15:09\u00a0<tmortagne>\u00a0mflorea: note that it should not be a problem with the DocumentReference converter  \n15:10\u00a0<tmortagne>\u00a0but anyway it makes sense  \n15:10\u00a0<tmortagne>\u00a0(converters are not about String, you can convert anything to anything)  \n15:10\u00a0<mflorea>\u00a0tmortagne: are you sure it will convert an EntityReference with type=DOCUMENT to a DocumentReference ?  \n15:11\u00a0<mflorea>\u00a0let me check  \n15:11\u00a0<tmortagne>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-model/src/main/java/org/xwiki/model/internal/reference/converter/DocumentReferenceConverter.java  \n15:11\u00a0<tmortagne>\u00a0when it's a EntityReference it resolve it  \n15:11\u00a0<mflorea>\u00a0cool  \n15:11\u00a0<tmortagne>\u00a0so it should cover your use case  \n15:11\u00a0<mflorea>\u00a0it should yes, let me try  \n15:12\u00a0<tmortagne>\u00a0makes me think I should modify it to use the same resolver than XWiki#getDocument  \n15:57\u00a0<Slashman>\u00a0has quit  \n17:17\u00a0<vmassol>\u00a0good that I'm testing page/space creation, finding bugs...  \n17:18\u00a0<KermitTheFragger>\u00a0has quit  \n17:20\u00a0<vmassol>\u00a0actually it's not a bug apparently since it's also there in 7.1.1  \n17:20\u00a0<vmassol>\u00a0the issue is that http://localhost:8080/xwiki/bin/create/SomeSpace/SomePage?tocreate=space doesn't show the space creation UI  \n17:20\u00a0<vmassol>\u00a0it directly edits the passed doc (SomeSpace.SpacePage)  \n17:20\u00a0<vmassol>\u00a0any idea why we would want this?  \n17:21\u00a0<vmassol>\u00a0should I raise a big?  \n17:21\u00a0<vmassol>\u00a0\\*bug  \n17:31\u00a0<vmassol>\u00a0no idea tmortagne or mflorea?  \n17:32\u00a0<tmortagne>\u00a0I don't know this action very well  \n17:32\u00a0<vmassol>\u00a0me neither \u00a0:)  \n17:32\u00a0<vmassol>\u00a0it looks strange that create space would just edit the current document  \n17:33\u00a0<tmortagne>\u00a0I think CreateAction lead you to edit when the document already exist, assuming to made a mistake when you used create action  \n17:33\u00a0<tmortagne>\u00a0s/to made/you made.  \n17:33\u00a0<vmassol>\u00a0it's the opposite  \n17:34\u00a0<vmassol>\u00a0if you're on a page that exists create action will correctly ask you for the space name  \n17:34\u00a0<vmassol>\u00a0it's when you're on a non existent page that create action just edits it  \n17:34\u00a0<vmassol>\u00a0without asking the space  \n17:34\u00a0<mflorea>\u00a0has quit  \n17:34\u00a0<mflorea1>\u00a0has joined #xwiki  \n17:34\u00a0<tmortagne>\u00a0and it works without tocreate=space ?  \n17:35\u00a0<vmassol>\u00a0ok I get the logic (I think)  \n17:35\u00a0<vmassol>\u00a0except that it's wrongly implemented  \n17:35\u00a0<mflorea>\u00a0has joined #xwiki  \n17:35\u00a0<vmassol>\u00a0basicalyl the create action assume you want to create the current page if it doesn't exist  \n17:36\u00a0<vmassol>\u00a0and if it exists it asks you for the which page/space to create  \n17:36\u00a0<vmassol>\u00a0but when the page doesn't exist, tocreate=space will not create the space  \n17:36\u00a0<vmassol>\u00a0it'll create the page passed in the url  \n17:37\u00a0<vmassol>\u00a0(instead of a WebHome)  \n17:37\u00a0<vmassol>\u00a0thus ignoring tocreate=space in practice  \n17:42\u00a0<vmassol>\u00a0hmm I need to understand why I get this ui: https://www.evernote.com/l/AHcMlM-IwNJGQIf0y7q\\_X-irSRQee8M-bwM  \n17:48\u00a0<woshilap1n>\u00a0has joined #xwiki  \n17:50\u00a0<woshilapin>\u00a0has quit  \n17:59\u00a0<mflorea>\u00a0has quit  \n18:21\u00a0<vmassol>\u00a0has quit  \n18:28\u00a0<vmassol>\u00a0has joined #xwiki  \n18:30\u00a0<ol-ow2>\u00a0has quit  \n18:31\u00a0<tmortagne>\u00a0has quit  \n18:38\u00a0<vmassol>\u00a0has quit  \n18:48\u00a0<vmassol>\u00a0has joined #xwiki  \n19:16\u00a0<woshilap1n>\u00a0has quit  \n19:28\u00a0<Slashman>\u00a0has joined #xwiki  \n20:03\u00a0<abusenius>\u00a0has joined #xwiki  \n20:08\u00a0<Slashman>\u00a0has quit  \n21:19\u00a0<woshilapin>\u00a0has joined #xwiki  \n23:25\u00a0<xwikiorg\\_guest\\_7>\u00a0has joined #xwiki  \n23:26\u00a0<woshilapin>\u00a0has quit  \n23:26\u00a0<xwikiorg\\_guest\\_7>\u00a0A space is created when select create a page in xwiki 7.2  \n23:26\u00a0<xwikiorg\\_guest\\_7>\u00a0Is it a bug??  \n23:30\u00a0<cjd>\u00a0hmm in <= 7.1 if you create a page in a space which does not exist, the space comes to exist  \n23:30\u00a0<cjd>\u00a0but in >= 7.2, spaces and pages are the same thing  \n23:31\u00a0<xwikiorg\\_guest\\_7>\u00a0in 7.2 only if I select the option of terminal page thge  \n23:31\u00a0<xwikiorg\\_guest\\_7>\u00a0page is created inside the space  \n23:31\u00a0<cjd>\u00a0terminal page should cause a page to be created rather than a (nested) space  \n23:32\u00a0<xwikiorg\\_guest\\_7>\u00a0for example if I have a space named support and If I create a page in it  \n23:32\u00a0<xwikiorg\\_guest\\_7>\u00a0it comes as support.testpage  \n23:32\u00a0<xwikiorg\\_guest\\_7>\u00a0instead of support/testpage  \n23:33\u00a0<cjd>\u00a0in the URL for the web browser ?  \n23:33\u00a0<xwikiorg\\_guest\\_7>\u00a0like the structure  \n23:33\u00a0<xwikiorg\\_guest\\_7>\u00a0support.testpage is a space and it has its own webhome  \n23:34\u00a0<cjd>\u00a0with \"terminal page\" unchecked, that's expected behavior  \n23:34\u00a0<xwikiorg\\_guest\\_7>\u00a0okay  \n23:34\u00a0<cjd>\u00a0with \"terminal page\" checked, that's a bug  \n23:34\u00a0<xwikiorg\\_guest\\_7>\u00a0then what is the point of having documents inside the page?  \n23:34\u00a0<xwikiorg\\_guest\\_7>\u00a0\\*space  \n23:35\u00a0<cjd>\u00a0additional extensibility  \n23:35\u00a0<cjd>\u00a0Already a wiki page can have objects, attachments, comments, etc  \n23:35\u00a0<cjd>\u00a0now it can also have pages  \n23:37\u00a0<cjd>\u00a0For your usage, you might think of it as future proofing - a project, customer or other entity referenced by one of your pages now might become so complex that you need to have multiple pages about different aspects of it in the future  \n23:38\u00a0<xwikiorg\\_guest\\_7>\u00a0it would be nice if there are nested spaces  \n23:38\u00a0<xwikiorg\\_guest\\_7>\u00a0also in addition to this  \n23:38\u00a0<xwikiorg\\_guest\\_7>\u00a0so it gives more extensibility  \n23:39\u00a0<cjd>\u00a0technically this is nested spaces  \n23:39\u00a0<cjd>\u00a0but it's presented to the user as nested pages  \n23:39\u00a0<xwikiorg\\_guest\\_7>\u00a0okay  \n23:40\u00a0<xwikiorg\\_guest\\_7>\u00a0it is rather confusing since documentation is not very clear  \n23:41\u00a0<xwikiorg\\_guest\\_7>\u00a0please \u00a0update the space references so it will be easier for all  \n23:41\u00a0<cjd>\u00a0This is an ongoing problem but what can help with this is people like yourself writing what you learn on the xwiki.org wiki  \n23:41\u00a0<xwikiorg\\_guest\\_7>\u00a0yes for sure  \n23:41\u00a0<xwikiorg\\_guest\\_7>\u00a0thanks @cjd  \n23:42\u00a0<cjd>\u00a0sure thing  \n23:50\u00a0<xwikiorg\\_guest\\_7>\u00a0has quit\n"}