{"id": "dev:IRC.xwikiArchive20100909", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100909", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nvmassol joined #xwiki at 00:13  \nflorinciu left at 00:16 (Read error: Connection reset by peer  \nvmassol left at 00:23 (Quit: Leaving.  \nrrodriguez left at 00:25 (Quit: rrodriguez  \nsdumitriu left at 00:30 (Ping timeout: 255 seconds  \nEnygma` left at 00:32 (Ping timeout: 240 seconds  \njvdrean left at 00:37 (Quit: Leaving.  \nabusenius left at 01:32 (Ping timeout: 245 seconds  \nMartinCleaver joined #xwiki at 02:52  \nlucaa1 left at 03:15 (Ping timeout: 252 seconds  \nphancox joined #xwiki at 03:55  \nphancox left at 04:03 (Remote host closed the connection  \nMartinCleaver left at 04:03 (Quit: MartinCleaver  \nphancox joined #xwiki at 04:04  \nphancox left #xwiki at 04:06  \nvenkatesh joined #xwiki at 04:40  \nphancox joined #xwiki at 06:14  \nxwikibot joined #xwiki at 07:00  \nvmassol joined #xwiki at 07:25  \nvmassol left at 07:27 (Client Quit  \nphancox left #xwiki at 07:32  \nphancox joined #xwiki at 07:32  \nDenis joined #xwiki at 07:33  \nlucaa joined #xwiki at 07:35  \ntmortagne joined #xwiki at 07:51  \nmflorea joined #xwiki at 08:33  \nsilviar joined #xwiki at 08:33  \nrrodriguez joined #xwiki at 08:38  \njvdrean joined #xwiki at 08:43  \nvmassol joined #xwiki at 08:48  \njvdrean left at 08:51 (Quit: Leaving.  \nsilviar left at 08:52 (Read error: Connection reset by peer  \nsilviar joined #xwiki at 08:55  \nlucaa left at 09:05 (Ping timeout: 265 seconds  \nlpereira joined #xwiki at 09:14  \njvdrean joined #xwiki at 09:20  \njvdrean left at 09:24 (Client Quit  \nrrodriguez left at 09:24 (Ping timeout: 265 seconds  \nEnygma` joined #xwiki at 09:25  \nrrodriguez joined #xwiki at 09:30  \nlucaa joined #xwiki at 09:39  \njvdrean joined #xwiki at 10:01  \nmflorea left at 10:16 (Quit: Leaving.  \nasrfel joined #xwiki at 10:17  \nphancox left at 10:25 (Quit: Leaving.  \nsilviar left at 10:34 (Quit: Leaving.  \nlucaa left at 10:38 (Ping timeout: 260 seconds  \nrrodriguez left at 10:43 (Quit: rrodriguez  \nsilviar joined #xwiki at 10:43  \nmflorea joined #xwiki at 11:01  \narkub joined #xwiki at 11:16  \nlucaa joined #xwiki at 11:32  \nrrodriguez joined #xwiki at 11:43  \narkub left at 12:12 (Quit: Leaving  \nsilviar left at 12:33 (Quit: Leaving.  \ncjdelisle - (13:07): I'd like to port commentsinline.vm to an XWikiDocument, WSYT?  \ncjdelisle - (13:08): err WDYT?  \ncjdelisle - (13:09): oh hmm. template referenced document. eww. k nevermind.  \ncjdelisle - (13:23): Ok, new idea. How about rendering all comments in the context of XWiki.XWikiComments rather than in the context of the document the comments are on?  \nDenis left #xwiki at 13:23  \ncjdelisle - (13:25): It seems to make sense to take the author field and getDocument each author document but where there are a lot of comments there would be a wave of getDocument's for each page render.  \ntmortagne - (13:27): that's not the main issue, if you take the comment author then anyone can edit a document add a comment object and put some user with programming right as author  \ntmortagne - (13:27): IMO we should simply filter all script macros from comment  \ncjdelisle - (13:27): That was fixed but I concur.  \ntmortagne - (13:27): it's useless in there  \ncjdelisle - (13:28): How about other syntax's?  \ntmortagne - (13:28): all syntaxes except xwiki/1.0 produces XDOM  \ntmortagne - (13:28): i'm not talking about filter from the comment string  \ntmortagne - (13:28): that's would be a very bad idea anyway  \ncjdelisle - (13:29): So then 1.0 is the only problem.  \ntmortagne - (13:29): yes and for xwiki/1.0 there is other possible solutions  \ncjdelisle - (13:29): what would be a bad idea?  \ntmortagne - (13:29): if we really want to take care of it  \ntmortagne - (13:29): bad idea: filter the macro from the string directly  \ntmortagne - (13:30): it would be a pain for nothing since it's very easy to do it at XDOM level  \ncjdelisle - (13:30): I agree. when I proposed it I didn't know nearly as much about the XDOM.  \ncjdelisle - (13:30): What about rendering them all in a common document like \"XWiki.XWikiComments\"?  \ncjdelisle - (13:30): or XWiki.XWikiGuest.  \ncjdelisle - (13:31): Works for syntax1 and I have a working patch.  \ntmortagne - (13:31): problem with comment is not only the right but also the fact that could can write a very resource intensive script  \ntmortagne - (13:32): which is why IMO the best is to remove all script macros  \ncjdelisle - (13:32): and {{code}}  \ncjdelisle - (13:32): hmm and {{include}}  \ntmortagne - (13:33): well code can be very usefull in a comment  \ntmortagne - (13:33): include yes  \nsilviar joined #xwiki at 13:33  \ncjdelisle - (13:33): 10,000 {{code}} ---> permgen OOM.  \ntmortagne - (13:33): not if language=none  \ncjdelisle - (13:34): Do you think someone who's attacking with bad comments will do that?  \ntmortagne - (13:34): someone maybe not but we could  \ncjdelisle - (13:35): Anyway there are better DoS methods.  \ntmortagne - (13:35): probably  \ncjdelisle - (13:35): So you're -1 to just changing the document where the comment is rendered in?  \ntmortagne - (13:37): i'm not -1, i'm just saying that it's useless if we simply remove all script macros  \ntmortagne - (13:37): but we can do both to be extra safe  \ntmortagne - (13:38): in case of some macro that do unsafe thing depending on the document user  \ncjdelisle - (13:38): I can commit this now and 2110 will be closed.  \ncjdelisle - (13:39): Do you have a preference re \"XWiki.XWikiComments\" vs \"XWiki.XWikiGuest\" for the document to render in?  \ncjdelisle - (13:39): XWikiGuest is nonexistant so there's a small chance it might be created.  \ntmortagne - (13:39): putting XWikiGuest is dangerous since it does not exists  \ncjdelisle - (13:40): And in XWikiComments we can put a big banner saying \"don't save with pr\"  \ntmortagne - (13:40): if there is no current document then the current user is taken to test programming right  \ntmortagne - (13:40): IMO it's too fragile  \narkub joined #xwiki at 13:41  \ncjdelisle - (13:41): hmm I remember that now, re current user.  \ncjdelisle - (13:42): too fragile: XWikiGuest or the whole idea in general?  \ntmortagne - (13:42): XWikiGuest  \ncjdelisle - (13:42): ya agreed.  \ncjdelisle - (13:42): Is there another document which comes to mind?  \ntmortagne - (13:43): you could actually put any XWikiDocument as current document  \ntmortagne - (13:43): with the user you want in it  \ntmortagne - (13:43): the document does not have to exists in the database i think  \ntmortagne - (13:43): s/user/author/  \ncjdelisle - (13:43): From inside the c.x.x.api sandbox?  \ntmortagne - (13:44): ye maybe not  \ntmortagne - (13:44): you can't choose the current document anyway  \ncjdelisle - (13:45): Actually IMO the \"right\" answer for the future is to add a new BBCode syntax.  \ntmortagne - (13:45): so i don't see how you can implement your idea  \ntmortagne - (13:45): why ?  \ncjdelisle - (13:45): $commentDoc.getRenderedContent($comment.getProperty('comment').getValue(), $doc.getSyntax().toIdString())  \ncjdelisle - (13:46): why BBCode syntax? because it allows us to put lots of limits on what can be used, also allows for making commenting easier for non wikiphiles.  \ntmortagne - (13:47): re \"$commentDoc.getRenderedContent($comment.getProperty('comment').getValue(), $doc.getSyntax().toIdString())\", you mean that anyone can do  \ntmortagne - (13:47): $documentWithProgrammingRightAuthor.getRenderedContent($comment.getProperty('comment').getValue(), $doc.getSyntax().toIdString()) \u00a0?  \ntmortagne - (13:47): that's a major security issue  \ncjdelisle - (13:47): $commentDoc == XWiki.XWikiComments  \ntmortagne - (13:47): i'm not talking about your idea  \ntmortagne - (13:48): i'm saying that we have a major secutoty issue with this api  \ncjdelisle - (13:48): Ah yea. I never thought of that one.  \ncjdelisle - (13:49): Microsoft syndrome. To break api or protect hole.  \ntmortagne - (13:49): :)  \ncjdelisle - (13:49): Might be able to do something with the \"intersection of permissions\" for the document and the current author.  \ntmortagne - (13:50): (creating a jira issue about thing one)  \ncjdelisle - (13:50): signatures signatures signatures.  \ntmortagne - (13:51): yep  \ncjdelisle - (13:51): So wdyt about the patch?  \ntmortagne - (13:53): which is ? $commentDoc.getRenderedContent($comment.getProperty('comment').getValue(), $doc.getSyntax().toIdString()) ?  \ncjdelisle - (13:54): yup.  \ntmortagne - (13:54): fixing security issue using another one that should be quickly fixed :)  \ncjdelisle - (13:55): Well forcing signatures on all script makes that api benign.  \ntmortagne - (13:55): at least it fix a guest access security issue with a user access security issue ;)  \ncjdelisle - (13:56): umm no.  \ncjdelisle - (13:56): But it raises the bar ;)  \ntmortagne - (13:57): anyway i'm +1 to anything that fix this comment security issue that really really make use look bad  \ncjdelisle - (13:57): lol  \ncjdelisle - (13:58): Ok. I'll commit then.  \ncjdelisle - (13:58): The increasing use of cryptography is going to be very big for security.  \nvenkatesh left at 14:12 (Ping timeout: 264 seconds  \ncjdelisle - (14:16): An idea I had kicked around some was to allow end users to extend and override classes with groovy scripts. They could just override that function and make it throw an exception. write a couple lines into a file (on filesystem), restart the wiki engine, patched.  \ntmortagne - (14:20): are you speaking about Document or any class (because the second one i really don't see how to do that) ?  \ncjdelisle - (14:21): You can do it in the class loader if I'm not mistaken.  \ncjdelisle - (14:21): Groovy would have to be loaded real early.  \ntmortagne - (14:23): the classloader is controled by tomcat  \ntmortagne - (14:23): we can't touch it  \ncjdelisle - (14:24): Hmm. I've never found anything in java I couldn't touch ;) but I realize I need to read more about it.  \ncjdelisle - (14:24): bbiab coffee  \nlucaa left at 14:45 (Read error: Connection reset by peer  \nlucaa joined #xwiki at 14:46  \nlucaa left at 14:49 (Client Quit  \nlucaa1 joined #xwiki at 14:49  \nphancox joined #xwiki at 14:52  \nphancox left at 14:56 (Quit: Leaving.  \nphancox joined #xwiki at 15:04  \nphancox left #xwiki at 15:05  \nvenkatesh joined #xwiki at 15:07  \nphancox joined #xwiki at 15:10  \nphancox left #xwiki at 15:13  \nphancox joined #xwiki at 15:14  \nxipe joined #xwiki at 15:14  \nfm joined #xwiki at 15:15  \nphancox left at 15:16 (Quit: Leaving.  \nphancox joined #xwiki at 15:18  \nphancox left at 15:20 (Client Quit  \nphancox joined #xwiki at 15:22  \nphancox left #xwiki at 15:22  \nMartinCleaver joined #xwiki at 15:37  \nsilviar left at 15:51 (Quit: Leaving.  \ntmortagne - (16:24): anyone knows why we are checking for escaped quote in escaping tests ? more precisely th failing test http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-escaping/1212/testReport/org.xwiki.escaping/ApplicationTest/Main\\_WebSearch\\_xml\\_\\_text\\_\\_comment\\_\\_language\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_testParametersInColibri/  \ntmortagne - (16:24): it looks like a wrong test  \ntmortagne - (16:24): since \" is perfectly valid in XML when in text element  \ncjdelisle - (16:25): \" ' < > & are xml entities.  \ncjdelisle - (16:26): shouldn't be able to insert them from the url.  \ntmortagne - (16:26): i agree for < and > but for \" it depends on the context  \ntmortagne - (16:27): w3c validator does not complain  \ntmortagne - (16:27): the thing is that the parameters is properly escaped  \ncjdelisle - (16:27): It's not invalid  \ntmortagne - (16:27): but since \" does not have to be escaped it's not...  \ntmortagne - (16:28): so the test is wrong  \ncjdelisle - (16:28): <img src=\"$imgLink\" />  \ntmortagne - (16:28): cjdelisle: that's why i said \"it depends on the context\"  \ncjdelisle - (16:29): $imgLink = 'http://some.site/img\" onload=\"bad script'  \ncjdelisle - (16:30): same is true for >  \ncjdelisle - (16:30): (depends on context)  \ncjdelisle - (16:30): So you would only escape < ?  \ntmortagne - (16:30): > is invalid in XML content  \ntmortagne - (16:30): whatever the context  \ntmortagne - (16:30): so not it's not the same  \ncjdelisle - (16:31): ' can load a virus, &#39; can't  \ntmortagne - (16:32): again I'm only talking about this precise test where the result is perfectly valid, how can you expect that \" and ' produce any security issue in http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-escaping/1212/testReport/org.xwiki.escaping/ApplicationTest/Main\\_WebSearch\\_xml\\_\\_text\\_\\_comment\\_\\_language\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_testParametersInColibri/ ?  \ntmortagne - (16:32): or again when it's part of a text element  \ntmortagne - (16:32): and not an attribute  \nflorinciu joined #xwiki at 16:37  \ncjdelisle - (16:39): Yea I guess it's not actually breakable in that case.  \ncjdelisle - (16:40): Isn't it easier though to just escape it and then you know it's safe?  \ntmortagne - (16:41): but the input is escaped as far as i can see since < and > are escaped  \ncjdelisle - (16:42): So you're suggesting the test should detect whether or not it's inside of a tag and act accordingly?  \ntmortagne - (16:43): isn't it a false positive right now ?  \ntmortagne - (16:44): the test should fail when it's wrong so yes it should make a difference IMO  \ncjdelisle - (16:45): IMO it's like a heap overflow vulnerability which is impossible to exploit.  \ncjdelisle - (16:46): http://en.wikipedia.org/wiki/List\\_of\\_XML\\_and\\_HTML\\_character\\_entity\\_references#Predefined\\_entities\\_in\\_XML  \ntmortagne - (16:50): there is something weird  \ntmortagne - (16:50): hmm no  \ntmortagne - (16:52): cjdelisle: what one is supposed to use to properly escape the input if $escapetool.xml does not do it ?  \ntmortagne - (16:53): what i don't understand is that we should have a lot more failures  \ncjdelisle - (16:54): $escapetool.xml is not escaping \" for you?  \ntmortagne - (16:55): yep i just tested  \ntmortagne - (16:56): i get  \ntmortagne - (16:56): aaa\"bbb''ccc&gt;ddd&lt;eee  \ncjdelisle - (16:56): $escapetool.xml('\"')  \ncjdelisle - (16:57): ^^ in a fresh document  \ncjdelisle - (16:57): returns &quot;  \ncjdelisle - (16:57): Are you viewing in the browser?  \ntmortagne - (16:57): WDYM ?  \ncjdelisle - (16:58): If you aren't careful your browser will unescape the character.  \ncjdelisle - (16:58): $escapetool.xml($escapetool.xml('\"'))  \ncjdelisle - (16:58): try that.  \ncjdelisle - (16:58): if it really isn't working it should be the same.  \nlpereira left at 16:58 (Quit: Leaving.  \ntmortagne - (17:00): ok i checked the source another way and it seems ok  \ntmortagne - (17:00): then \u00a0don't understand why there half of one of the display is escaped  \ntmortagne - (17:00): checking what is used  \ntmortagne - (17:01): $escapetool is definitely used pretty much everywhere in this page but i guess there is a missing one  \ntmortagne - (17:02): found it  \ntmortagne - (17:07): the indicated line in the test failure does not seems very good  \nrrodriguez left at 17:09 (Quit: rrodriguez  \ncjdelisle - (17:09): What do you think about a proposal to upgrade the XWikiPreferences metadata to use the same syntax as the XWikiPreferences document?  \ncjdelisle - (17:10): It's an api break but I think it's worth proposing to the list.  \ntmortagne - (17:10): not sure i understand what you are talking about :)  \ntmortagne - (17:11): ha you mean the thing we put in html heade etc ?  \ncjdelisle - (17:11): \"HTTP Meta Info\"  \ncjdelisle - (17:11): Yup that's the one.  \ntmortagne - (17:11): what is it current ? velocity without wiki syntax ?  \ncjdelisle - (17:11): velocity + groovy.  \ncjdelisle - (17:11): no wiki.  \ntmortagne - (17:12): why do you need wiki syntax ?  \ncjdelisle - (17:12): Upgradable from the old rendering engine.  \ncjdelisle - (17:12): and I can fix http://jira.xwiki.org/jira/browse/XWIKI-2581  \ncjdelisle - (17:13): s/can/could/  \ncjdelisle - (17:13): The break wouldn't be really bad in a lot of cases because if the document is already there, it only switches from velocity + groovy to syntax1  \ncjdelisle - (17:14): hmm unless the document was first made post xwiki2.0 default syntax.  \ntmortagne - (17:15): i still don't understand why you need wiki syntax and especially what is the relationship with XWIKI-2581  \ncjdelisle - (17:17): Because there's no easy access to the 1.0 renderer from the api sandbox.  \ncjdelisle - (17:18): You can force rendering in 1.0 syntax but still you can't render in 1.0 interpret only syntax.  \ntmortagne - (17:20): so you would have to put  \ntmortagne - (17:20): {{velocity}}  \ntmortagne - (17:20): {{velocity}}  \ntmortagne - (17:20): {{html}}  \ntmortagne - (17:20): {{/html}}  \ntmortagne - (17:20): {{/velocity}}  \ntmortagne - (17:21): in all theses fileds  \ntmortagne - (17:21): ?  \ncjdelisle - (17:21): If the webPrefs document was in syntax2 then yes.  \ncjdelisle - (17:21): What is that usually used for?  \ntmortagne - (17:22): (05:11:09 PM) cjdelisle: \"HTTP Meta Info\" or i don't understand your question  \ncjdelisle - (17:22): Yea what is HTTP Meta used for?  \ntmortagne - (17:23): no idea, i think we put information for javascript and things for robot and browser  \ntmortagne - (17:23): but i never use that myself  \ntmortagne - (17:23): sdumitriu would know better  \ncjdelisle - (17:24): Well then I'll wait and ask when he's around.  \ntmortagne - (17:25): maybe jvdrean or jvelociter knows too  \njvdrean - (17:28): it's there to allow customizations of the html header  \ncjdelisle - (17:30): Thanks, another option might be to render as syntax1 but I think any changes should be moving away from syntax1.  \ntmortagne - (17:32): sure let's not add new place where we depends on syntax1  \ncjdelisle - (17:33): Well it does right now. Maybe it's not called syntax1 but it's using all of the same code.  \ntmortagne - (17:35): only for groovy and i doubt it's used often in there, we don't depends on some syntax since it's velocity it's actually the same code  \ncjdelisle - (17:35): I think velocity is handled in there as well.  \ntmortagne - (17:36): it's called in there that's all  \ntmortagne - (17:36): the actual velocity renderer is the same for noth xwiki2.0 and xwiki1  \ntmortagne - (17:36): you could take the same content and put it behind velocity with wiki=false macro it would produce the same thing  \ncjdelisle - (17:36): Maybe a new syntax which mocks the velocity+groovy language?  \ncjdelisle - (17:37): New syntax would ease porting over the templates but would it introduce more stuff to deprecate?  \ntmortagne - (17:39): in any case IMO we should so what you propose at first because \"all is wiki\" and should be consistent for the same reason we use wiki syntax in wiki macro (you can use any programming language using macro etc...)  \ntmortagne - (17:39): without considering backward compatibility that's how it should be IMO  \ncjdelisle - (17:40): Force everyone to use syntax2, {{velocity}} {{html}} and pronounce that it is the right way? I tend to agree.  \ncjdelisle - (17:42): If this is the direction we want to take then the remaining question is how much code do users have out in the field? If it's just the XWikiPreferences document or 2 or 3 spaces then they can port it by hand, if users have this implemented in 500 spaces then it's more difficult.  \ntmortagne - (17:43): well we could migrate all of them in the migration manager at startup  \ntmortagne - (17:43): when there is only velocity it's pretty easy i think  \ntmortagne - (17:43): we could probably do something even when there is groovy, it's not that hard to convert  \ncjdelisle - (17:44): migration manager? the database migrator?  \ntmortagne - (17:44): yep  \ncjdelisle - (17:45): I would be more in favor of distributing a migration script. the DB migrator is a bit ham fisted and what it changes cannot be changed back.  \ntmortagne - (17:46): you can revert  \ntmortagne - (17:46): i'm not talking about doing it in the database directly  \ntmortagne - (17:46): but doing it properly using the API  \ncjdelisle - (17:47): ok. I thought you meant the extensions of AbstractXWikiHibernateMigrator  \ntmortagne - (17:47): yes  \ntmortagne - (17:48): but we can reuse the same versions informations  \ntmortagne - (17:48): to migrate pages  \ncjdelisle - (17:48): that might as well be sending raw sql to the database.  \ncjdelisle - (17:49): and AFAIK the wiki is not initialized yet so there is a lot that's missing.  \ntmortagne - (17:49): i don't see why  \narkub left at 17:49 (Ping timeout: 240 seconds  \ntmortagne - (17:49): the wiki is initialized just after this migration  \ncjdelisle - (17:50): Because it's called during the initialization process. EG if you call getWiki() then you get an infinite loop.  \ntmortagne - (17:50): so when the wiki is initialized we start page migration tool with the same informatio s  \ntmortagne - (17:50): we are migrating standard classes  \ntmortagne - (17:50): and we don't do it in raw sql  \ncjdelisle - (17:51): you're talking about com.xpn.xwiki.store.migration.hibernate.R15428XWIKI2977Migrator and the like?  \ntmortagne - (17:51): so it's possible to do manipulation on pages  \nvmassol left at 17:51 (Quit: Leaving.  \ntmortagne - (17:51): again i'm talking about migrating page just after that with the same bahavior  \ntmortagne - (17:51): there is an older version and a new version  \nvmassol joined #xwiki at 17:51  \ntmortagne - (17:51): and we migrate based on that  \nvmassol left at 17:51 (Client Quit  \nvmassol joined #xwiki at 17:53  \ncjdelisle - (17:53): I don't think you can call getWiki, so no getDocument and document.save will fail. You're pretty much stuck with hibernate at that level.  \ntmortagne - (17:54): again i'm not talking about AbstractXWikiHibernateMigrator  \ntmortagne - (17:54): i'm talking about doing the same thing with pages just after that  \ncjdelisle - (17:54): oh, sorry, misunderstood.  \ncjdelisle - (17:55): Does it exist now?  \ntmortagne - (17:55): with the old/new version information AbstractXWikiHibernateMigrator is using  \ntmortagne - (17:55): i don't think so but it's just one method to insert  \ntmortagne - (17:56): we don't need to refactor the init process for that, just make sure old/new version is stored somewhere in the context  \ncjdelisle - (17:56): Also it seems like there should be a message asking the admin if he wants to update.  \ntmortagne - (17:57): well if he does not then it's broken  \ntmortagne - (17:58): an upgrade UI would be nice but it's way more work  \ntmortagne - (17:59): (but it would be nice :) )  \ncjdelisle - (17:59): indeed it would.  \ncjdelisle - (17:59): and yes it would.  \ntmortagne - (18:01): going back to extension manager, i should have a basic UI to play with it tomorrow and then the politics will begin :)  \nsdumitriu joined #xwiki at 18:01  \narkub joined #xwiki at 18:02  \nvmassol left at 18:04 (Quit: Leaving.  \nasrfel left at 18:05 (Quit: Leaving.  \nflorinciu left at 18:05 (Read error: Connection reset by peer  \njvdrean left at 18:07 (Quit: Leaving.  \nabusenius joined #xwiki at 18:24  \nsdumitriu - (18:55): cjdelisle: Postgres 9.1 alpha changed standard\\_conforming\\_strings to true by default, which means \\ is no longer an escape char  \ncjdelisle - (18:56): hmm. still is im mysql right?  \nfm left at 18:56 (Ping timeout: 265 seconds  \nsdumitriu - (18:56): Yeah, mysql is such a bad dbms  \ncjdelisle - (18:57): tried buying a mid tower from with the wrong company, need to call the bank, bbiab  \ntmortagne - (19:14): crap looks like it's impossible to do recursive macros in velocity (i'm talking about velocity velocity macro)  \ntmortagne - (19:15): i have a tree and a need to display it, any idea ?  \ncjdelisle - (19:19): #evaluate?  \nvenkatesh left at 19:19 (Ping timeout: 264 seconds  \ntmortagne - (19:19): that's weird i see mailing list where people seems to be able to do recursive macros  \nsdumitriu - (19:21): Yes, it is possible  \nsdumitriu - (19:21): It's not the obvious way of doing, though  \ntmortagne - (19:21): ha ?  \nsdumitriu - (19:22): I mean,  \nsdumitriu - (19:22): #macro(a)  \nsdumitriu - (19:22): #a()  \nsdumitriu - (19:22): #end  \nsdumitriu - (19:22): doesn't work  \ntmortagne - (19:22): yep that what i seen :)  \ncjdelisle - (19:23): That seems to be what's done in the commentsinline.vm  \ntmortagne - (19:25): maybe i could try to play with two macros  \njvdrean joined #xwiki at 19:26  \njvdrean left #xwiki at 19:27  \ntmortagne - (19:28): ye that's it  \ntmortagne - (19:28): it's working with macro1 calling macro2 calling macro1 :)  \ntmortagne - (19:30): but now i have an issue to format it  \ntmortagne - (19:30): since by incremented variable is not local  \ntmortagne - (19:31): hmm i could decrements it after  \ntmortagne - (19:32): nice it's ok now  \ntmortagne - (19:32): what an horrible code :)  \nlucaa1 left at 19:33 (Quit: Leaving.  \njbrBridge left at 19:43 (Quit: jbrBridge  \njbrBridge joined #xwiki at 19:44  \nKermitTheFragger joined #xwiki at 19:46  \nmflorea left at 19:49 (Quit: Leaving.  \ntmortagne - (19:51): funny, i just found that tomcat is depends on several org.jruby.extras jars or maybe it's only on ubuntu  \ntmortagne - (19:51): i can find some of them in the classpath when running in tomcat  \nfm joined #xwiki at 19:51  \nsburjan\\_\\_ left at 19:54 (Ping timeout: 255 seconds  \ntmortagne - (19:58): sdumitriu: is the maven/svn release done ?  \ntmortagne - (19:59): asking because XE trunk depends on core 2.5M1 when looking at http://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/pom.xml  \nvmassol joined #xwiki at 20:04  \nAlexdurai joined #xwiki at 20:14  \nAlexdurai - (20:15): Hi guys..  \nAlexdurai - (20:15): can come please help me  \nAlexdurai - (20:15): with ldap groups sync with xwiki 2.4  \nAlexdurai - (20:16): someone?  \nAlexdurai - (20:16): please ?  \nAlexdurai left at 20:35 (Quit: Page closed  \nlpereira joined #xwiki at 21:00  \nMartinCleaver left at 21:01 (Quit: MartinCleaver  \narkub left at 21:07 (Quit: Leaving  \nMartinCleaver joined #xwiki at 21:13  \nmflorea joined #xwiki at 21:24  \nKermitTheFragger left at 21:26 (Read error: Operation timed out  \nKermitTheFragger joined #xwiki at 21:29  \nrrodriguez joined #xwiki at 21:31  \nsdumitriu - (21:35): tmortagne: Yes  \nsdumitriu - (21:36): Oh, actually I forgot to commit the xe pom update  \nEnygma` left at 21:39 (Ping timeout: 255 seconds  \ntmortagne left at 21:39 (Ping timeout: 265 seconds  \nmflorea left at 21:44 (Quit: Leaving.  \nvmassol left at 21:55 (Quit: Leaving.  \nKermitTheFragger left at 21:57 (Ping timeout: 264 seconds  \nlucaa joined #xwiki at 22:03  \nsdumitriu - (22:34): abusenius: This is funny: http://www.h-online.com/security/news/item/Django-1-2-2-released-to-close-XSS-enabling-hole-1075945.html  \nabusenius - (22:37): hehe, shit happens :)  \nabusenius - (22:42): sdumitriu: vmassol said some time ago that my filter change might cause problems on upgrade, why would somebody not upgrade their web.xml?  \nsdumitriu - (22:42): They should  \nsdumitriu - (22:42): But sometimes they are lazy  \nsdumitriu - (22:43): We have clear upgrade notes, personally I don't think that Vincent's suggestion is good  \nabusenius - (22:44): if we leave a deprecated copy of the filter, they will not notice it now, but once we remove the old class it will till break  \nsdumitriu - (22:44): That's not something that should be deprecated, since it's going to be hard to have TWO filters doing the same thing, and keep them from stepping on their toes  \nabusenius - (22:44): \\*still  \nsdumitriu - (22:45): Anyway, most users skip releases, so they don't upgrade 2.3->2.4->2.5->2.6, but rather 1.4->2.2->3.3  \nsdumitriu - (22:46): So a small deprecation really won't help  \nabusenius - (22:47): I'll add a note in the release notes  \nsdumitriu - (22:47): Yep  \nsdumitriu - (22:48): Speaking of which, I really must finish the release  \nsdumitriu - (22:48): Will do it in the morning  \nsdumitriu left at 22:57 (Ping timeout: 265 seconds  \nlpereira left at 23:04 (Quit: Leaving.  \nphancox joined #xwiki at 23:11  \nfm left at 23:25 (Ping timeout: 265 seconds  \n  \n{{/code}}\n"}