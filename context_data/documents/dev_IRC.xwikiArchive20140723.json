{"id": "dev:IRC.xwikiArchive20140723", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140723", "title": "IRC Archive for channel #xwiki on 23 July 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<OSIMasson>\u00a0has joined #xwiki  \n00:18\u00a0<OSIMasson>\u00a0has quit  \n01:23\u00a0<abusenius>\u00a0has quit  \n02:14\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:06\u00a0<OSIMasson>\u00a0has quit  \n03:27\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:52\u00a0<OSIMasson>\u00a0has quit  \n07:01\u00a0<msmeria>\u00a0has joined #xwiki  \n07:17\u00a0<msmeria>\u00a0has quit  \n07:18\u00a0<msmeria>\u00a0has joined #xwiki  \n07:47\u00a0<evalica>\u00a0has joined #xwiki  \n07:49\u00a0<Enygma`>\u00a0has joined #xwiki  \n07:59\u00a0<msmeria>\u00a0has quit  \n08:00\u00a0<msmeria>\u00a0has joined #xwiki  \n08:07\u00a0<cjd>\u00a0has joined #xwiki  \n08:17\u00a0<vmassol>\u00a0has joined #xwiki  \n09:02\u00a0<lucaa>\u00a0has joined #xwiki  \n09:06\u00a0<mflorea>\u00a0has joined #xwiki  \n09:16\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:20\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:00\u00a0<Lyes>\u00a0has joined #xwiki  \n10:09\u00a0<mflorea>\u00a0has quit  \n10:43\u00a0<lucaa>\u00a0has quit  \n10:43\u00a0<mflorea>\u00a0has joined #xwiki  \n10:59\u00a0<lucaa>\u00a0has joined #xwiki  \n10:59\u00a0<mflorea>\u00a0sdumitriu: with the latest 6.2 SNAPSHOT, I get :  \n10:59\u00a0<mflorea>\u00a0Starting Jetty on port 8080, please wait...  \n10:59\u00a0<mflorea>\u00a0./start\\_xwiki.sh: 110: ./start\\_xwiki.sh: shopt: not found  \n11:01\u00a0<mflorea>\u00a0it refers to the line:  \n11:01\u00a0<mflorea>\u00a0shopt -s nullglob  \n11:02\u00a0<mflorea>\u00a0is 'shopt' something that all linux distributions have?  \n11:03\u00a0<cjd>\u00a0looks like it's a bash builtin  \n11:03\u00a0<cjd>\u00a0what are you using?  \n11:03\u00a0<cjd>\u00a0it might well fail on mac  \n11:03\u00a0<mflorea>\u00a0yes, I do have it, but still start\\_xwiki.sh outputs that message  \n11:04\u00a0<cjd>\u00a0right  \n11:04\u00a0<mflorea>\u00a0so there's something wrong  \n11:04\u00a0<cjd>\u00a0#!/bin/sh  \n11:04\u00a0<mflorea>\u00a0I'm on linux (ubuntu)  \n11:05\u00a0<cjd>\u00a0user@blk1:~/xwiki-enterprise-jetty-hsqldb-6.0-rc-1$ head -1 ./start\\_xwiki.sh  \n11:05\u00a0<cjd>\u00a0#!/bin/sh  \n11:05\u00a0<cjd>\u00a0user@blk1:~/xwiki-enterprise-jetty-hsqldb-6.0-rc-1$  \n11:05\u00a0<cjd>\u00a0user@blk1:~/xwiki-enterprise-jetty-hsqldb-6.0-rc-1$ sh -c 'shopt'  \n11:05\u00a0<cjd>\u00a0sh: 1: shopt: not found  \n11:05\u00a0<cjd>\u00a0sh doesn't have shopt, only bash does  \n11:05\u00a0<cjd>\u00a0so solution #1 is change #!/bin/sh to #!/bin/bash  \n11:05\u00a0<mflorea>\u00a0ok, that explains the issue  \n11:05\u00a0<cjd>\u00a0solution #2 is stop using shopt  \n11:05\u00a0<cjd>\u00a0what's it being used for?  \n11:06\u00a0<mflorea>\u00a0I'll let sdumitriu decide. I wonder how come it worked for him  \n11:06\u00a0<cjd>\u00a0``If set, Bash allows filename patterns which match no files to expand to \u00a0a null string, rather than themselves.  \n11:06\u00a0<cjd>\u00a0''  \n11:06\u00a0<mflorea>\u00a0cjd, it is used like this:  \n11:06\u00a0<mflorea>\u00a0# If there are no optional configuration files, make bash ignore the last parameter instead of passing it verbatim  \n11:07\u00a0<mflorea>\u00a0shopt -s nullglob  \n11:07\u00a0<mflorea>\u00a0start\\_xwiki.sh line 110 (but I think it was recently added by sdumitriu)  \n11:07\u00a0<cjd>\u00a0/nod  \n11:08\u00a0<cjd>\u00a0right  \n11:08\u00a0<cjd>\u00a0${JETTY\\_HOME}/etc/jetty-\\*.xml  \n11:09\u00a0<mflorea>\u00a0https://github.com/xwiki/xwiki-platform/commit/d8ec1beabb5a35fe3b80e1fc3b2b6bc61303be66#diff-6  \n11:09\u00a0<cjd>\u00a0cheap solution:  \n11:09\u00a0<cjd>\u00a0java $XWIKI\\_OPTS $3 $4 $5 $6 $7 $8 $9 -jar $JETTY\\_HOME/start.jar ${JETTY\\_HOME}/etc/jetty\\*.xml  \n11:09\u00a0<cjd>\u00a0since jetty.xml will always exist, that solution will work  \n11:48\u00a0<gdelhumeau>\u00a0has quit  \n11:48\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:50\u00a0<OSIMasson>\u00a0has joined #xwiki  \n12:06\u00a0<ClemensR>\u00a0has joined #xwiki  \n12:20\u00a0<OSIMasson>\u00a0has quit  \n12:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:24\u00a0<tmortagne1>\u00a0has joined #xwiki  \n12:28\u00a0<tmortagne>\u00a0has quit  \n12:29\u00a0<cjd>\u00a0has quit  \n12:38\u00a0<gdelhumeau>\u00a0has quit  \n12:39\u00a0<cjd>\u00a0has joined #xwiki  \n12:40\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n13:34\u00a0<tekzilla>\u00a0has joined #xwiki  \n13:34\u00a0<tekzilla>\u00a0has quit  \n13:35\u00a0<tekzilla>\u00a0has joined #xwiki  \n13:40\u00a0<tekzilla>\u00a0finally managed to fix my tomcat7/xwiki install, would like to point out something about the distribution wizard  \n13:42\u00a0<tekzilla>\u00a0after putting everything back together, i messed up the credentials for the mysql DB, so xwiki could not connect  \n13:43\u00a0<tekzilla>\u00a0i found out about this minutes later from the tomcat logs, the distribution wizard was stuck at \"XWiki is initializing (100%)\" and kept reloading the page  \n13:44\u00a0<tmortagne1>\u00a0tekzilla: yep, that's fixed  \n13:45\u00a0<tmortagne1>\u00a0you end up with the init log and the detailed errors now  \n13:45\u00a0<tmortagne1>\u00a0now=6.2  \n13:47\u00a0<tmortagne1>\u00a0(it's not really related to the distribution wizard in practice even if I copy/pasted the design)  \n13:50\u00a0<tekzilla>\u00a0ah ok, wasn't sure if it was part of the dist. manager  \n13:50\u00a0<tekzilla>\u00a0nice to hear its fixed  \n13:51\u00a0<tmortagne1>\u00a0tekzilla: looks like http://jira.xwiki.org/browse/XWIKI-10655  \n13:53\u00a0<tekzilla>\u00a0yeah that sounds like it, thanks  \n13:53\u00a0<tekzilla>\u00a0i shall check the bugtracker now and then anyway  \n13:56\u00a0<tmortagne1>\u00a0better duplicate report that no report :)  \n13:59\u00a0<tekzilla>\u00a0yeah thats true :) next time i encounter something relevant i'll try to file a proper report  \n14:01\u00a0<tekzilla>\u00a0for now i'm glad my wiki is up again, so cheers to all who help improve the software!  \n14:12\u00a0<tmortagne1>\u00a0Looks like we have an issue with the Jenkins \"Unstable Jobs\" panel  \n14:12\u00a0<tmortagne1>\u00a0(yes there is unstable builds :))  \n14:14\u00a0<tmortagne1>\u00a0sounds like the regular expression does not really work  \n14:14\u00a0<tmortagne1>\u00a0I guess it's a bug in the new dashboard plugin version  \n14:14\u00a0<tmortagne1>\u00a0trying to downgrade  \n14:26\u00a0<cjd>\u00a0has quit  \n14:32\u00a0<cjd\\_>\u00a0has joined #xwiki  \n14:48\u00a0<Slashman>\u00a0has joined #xwiki  \n14:52\u00a0<Slashman>\u00a0hello, I'm trying to get the access the \"history\" pane on a wiki where this pane was hidden, any idea how I can do that?  \n14:52\u00a0<Slashman>\u00a0:%s/get the //  \n14:54\u00a0<ClemensR>\u00a0you can set your user preferences to show hidden document and then hunt the page down via document index  \n14:55\u00a0<tmortagne1>\u00a0or search  \n14:55\u00a0<tmortagne1>\u00a0has quit  \n14:56\u00a0<tmortagne>\u00a0has joined #xwiki  \n14:56\u00a0<tmortagne>\u00a0(after you enabled hidden docs as ClemensR indicated)  \n14:56\u00a0<Slashman>\u00a0ClemensR: my user can see hidden document, but how I access the history pane of a page via document index?  \n14:58\u00a0<tmortagne>\u00a0when you go to that page you don't have a history tab on the bottom ?  \n14:58\u00a0<Slashman>\u00a0tmortagne: that's right  \n14:58\u00a0<Slashman>\u00a0tmortagne: that's intended, but now I need it :p  \n14:59\u00a0<tmortagne>\u00a0I see, then you can add ?viewer=history to the URL of that page to force showing your the history  \n15:00\u00a0<Slashman>\u00a0tmortagne: great! thank you :)  \n15:00\u00a0<tmortagne>\u00a0you're welcome  \n15:05\u00a0<cjd\\_>\u00a0is now known as <cjd>  \n15:09\u00a0<msmeria>\u00a0has quit  \n15:25\u00a0<abocquet>\u00a0has joined #xwiki  \n15:27\u00a0<ClemensR>\u00a0does anyone know if the \"space rights inheritance\" in XWIKI-1324 is \"officially supported\" (or documented)?  \n15:40\u00a0<tmortagne1>\u00a0has joined #xwiki  \n15:43\u00a0<tmortagne>\u00a0has quit  \n15:51\u00a0<tmortagne1>\u00a0ClemensR: If it's not supported in new system it's probably a mistake but would need Denis to really be sure about that  \n15:52\u00a0<ClemensR>\u00a0it definitely still works (I just checked) - I just wondered if it is \"officially\" supported, or just dragged along  \n15:58\u00a0<tmortagne1>\u00a0ClemensR: given what supporting it means it's definitely official :)  \n15:58\u00a0<tmortagne1>\u00a0or at least on purpose  \n15:59\u00a0<tmortagne1>\u00a0but it's true that I never seen this feature really used  \n16:04\u00a0<ClemensR>\u00a0tmortagne1: ok, thanks. actually two folks have been asking me for it in the last two years. so it is good the feature is there, even though in the end maybe no-one uses it, if only to keep the rights manageable :)  \n16:12\u00a0<tmortagne1>\u00a0Jenkins \"Unstable Jobs\" is back after downgrade  \n16:13\u00a0<tmortagne1>\u00a0so it definitely looks like a bug in new version of the dashboard plugin  \n16:36\u00a0<evalica>\u00a0has quit  \n16:37\u00a0<Enygma`>\u00a0has quit  \n16:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:47\u00a0<Lyes>\u00a0has quit  \n16:48\u00a0<tmortagne1>\u00a0has quit  \n16:48\u00a0<tmortagne1>\u00a0has joined #xwiki  \n16:53\u00a0<tmortagne>\u00a0has quit  \n16:54\u00a0<Lyes>\u00a0has joined #xwiki  \n16:57\u00a0<abocquet>\u00a0has left #xwiki  \n17:50\u00a0<sdumitriu>\u00a0mflorea: I guess either solution is fine, but not using shopt is better  \n17:50\u00a0<mflorea>\u00a0ok  \n17:50\u00a0<sdumitriu>\u00a0Bash is kind of standard, but it's not 100% sure it will be there  \n17:50\u00a0<sdumitriu>\u00a0And I guess we'll always have some configurations anyway  \n17:50\u00a0<cjd>\u00a0the problem was the #!/bin/sh  \n17:50\u00a0<sdumitriu>\u00a0Otherwise it won't start  \n17:51\u00a0<cjd>\u00a0which is usually some freaky fast-nonbash-shell  \n17:51\u00a0<sdumitriu>\u00a0mflorea: Do you want me to commit that?  \n17:52\u00a0<sdumitriu>\u00a0Strange that you still have a separate sh  \n17:52\u00a0<sdumitriu>\u00a0I tried on several systems and they all alias it to bash  \n17:52\u00a0<cjd>\u00a0same here (ubuntu)  \n17:52\u00a0<cjd>\u00a0I think they replaced it with dash and wrote a big release notes about how fast it is  \n17:54\u00a0<gdelhumeau>\u00a0has quit  \n17:57\u00a0<sdumitriu>\u00a0Hm, third solution: shopt .. || true  \n18:06\u00a0<woshilapin>\u00a0has quit  \n18:21\u00a0<mflorea>\u00a0sdumitriu: go ahead and commit  \n18:21\u00a0<mflorea>\u00a0the fix  \n18:21\u00a0<sdumitriu>\u00a0K  \n18:22\u00a0<mflorea>\u00a0has quit  \n18:29\u00a0<ClemensR>\u00a0has quit  \n18:39\u00a0<prelog\\_>\u00a0has joined #xwiki  \n18:43\u00a0<tmortagne1>\u00a0has quit  \n18:49\u00a0<cjd>\u00a0has quit  \n18:51\u00a0<msmeria>\u00a0has joined #xwiki  \n19:00\u00a0<msmeria>\u00a0has quit  \n19:02\u00a0<vmassol>\u00a0sdumitriu: fyi I have a session on this at the xwiki sas seminar next week ;)  \n19:02\u00a0<vmassol>\u00a0(about what we can change to make the progression non linera)  \n19:02\u00a0<vmassol>\u00a0\\*linear  \n19:02\u00a0<vmassol>\u00a0I'll reply to my mail after the seminar  \n19:02\u00a0<vmassol>\u00a0in the meantime I'm interested by others's pov and ideas  \n19:03\u00a0<prelog\\_>\u00a0has left #xwiki  \n19:41\u00a0<lucaa>\u00a0has quit  \n19:54\u00a0<lucaa>\u00a0has joined #xwiki  \n19:55\u00a0<lucaa>\u00a0has quit  \n20:03\u00a0<Slashman>\u00a0has quit  \n20:19\u00a0<Slashman>\u00a0has joined #xwiki  \n20:52\u00a0<abusenius>\u00a0has joined #xwiki  \n21:08\u00a0<Lyes>\u00a0has quit  \n21:29\u00a0<mbloom>\u00a0has joined #xwiki  \n21:30\u00a0<mbloom>\u00a0just wondering if there is a solution to moving page hierarchy nbetween spaces (as mentioned in this post http://xwiki.475771.n2.nabble.com/How-to-move-page-hierarchy-between-spaces-td7491902.html)  \n21:43\u00a0<mbloom>\u00a0any insight into this?  \n21:45\u00a0<vmassol>\u00a0mbloom: you can do it but only through scripting  \n21:45\u00a0<vmassol>\u00a0it would take about 3-4 lines of script  \n21:45\u00a0<mbloom>\u00a0that\u2019s what I was affraid of  \n21:46\u00a0<mbloom>\u00a0cool, I\u2019ll try to figure it out. Thanks for the help!  \n21:46\u00a0<vmassol>\u00a0some example of scripting to rename a page: http://extensions.xwiki.org/xwiki/bin/view/Extension/Rename+Space  \n21:47\u00a0<vmassol>\u00a0so basically you find all child of a page first, there's an api for that  \n21:47\u00a0<vmassol>\u00a0getChildren()  \n21:47\u00a0<vmassol>\u00a0$someDoc.getChildren()  \n21:48\u00a0<vmassol>\u00a0#foreach ($child in $someDoc.getChildren())  \n21:48\u00a0<vmassol>\u00a0and for each doc you rename it  \n21:48\u00a0<vmassol>\u00a0$child.rename(new doc)  \n21:49\u00a0<vmassol>\u00a0I'd write it for you if I had some time but I don't\u2026 going on triip tomorrow and need to pack stuff now :)  \n21:49\u00a0<mbloom>\u00a0Yeah no worries, Seems pretty straight forward  \n21:50\u00a0<mbloom>\u00a0I may upload it once I have it figured out cause I\u2019m sure it\u2019d come in handy for other users as well  \n21:55\u00a0<mbloom>\u00a0is there any way to rename and also retain the rights of a page?  \n21:57\u00a0<Slashman>\u00a0has quit  \n22:29\u00a0<mbloom>\u00a0The API for rename() is a bit confusing  \n22:30\u00a0<mbloom>\u00a0I am looking to rename: FirstSpace  \n22:30\u00a0<mbloom>\u00a0+-Parent page  \n22:30\u00a0<mbloom>\u00a0+--Child page 1.  \n22:30\u00a0<mbloom>\u00a0+--Child page 2.  \n22:31\u00a0<mbloom>\u00a0sorry I\u2019m looking to rename something like: \u00a0Space1 >> Parent >> (ChildA, ChildB) to Space2\u000f >> Parent >> (ChildA, ChildB)  \n22:33\u00a0<mbloom>\u00a0I want to keep all the page names the same, but just change the containing space  \n22:34\u00a0<mbloom>\u00a0\u201cRename Page\u201d will only do this for the immediate child pages and not iterate through the whole hierarchy  \n22:35\u00a0<mbloom>\u00a0what I want to know is how do I use the rename() method to change a page\u2019s containing space  \n23:21\u00a0<vmassol>\u00a0has quit  \n23:50\u00a0<mbloom>\u00a0has quit\n"}