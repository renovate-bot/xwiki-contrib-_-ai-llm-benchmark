{"id": "dev:IRC.xwikiArchive20080827", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20080827", "title": "IRC Archive for channel #xwiki on 27 August 2008 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nart - (27/08/2008 00:00): thats great thanks, will look further  \ncypromis - (27/08/2008 00:05): hmm I should mail that to devel I guess  \nvmassol - (27/08/2008 00:05): yep (whatever \"that\" is :))  \nxwikibot - (27/08/2008 05:44): XWiki.perumal\\_9884166233 was modified by XWiki.perumal\\_9884166233 (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/perumal\\_9884166233  \nxwikibot - (27/08/2008 09:14): XWiki.selvakarthik was modified by XWiki.selvakarthik (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/selvakarthik  \nxwikibot - (27/08/2008 11:35): XWiki.XWikiServerCode was modified by XWiki.jvdrean (Added object) - http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerCode  \nxwikibot - (27/08/2008 11:35): XWiki.XWikiServerCode was modified by XWiki.jvdrean - http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerCode  \nxwikibot - (27/08/2008 11:35): XWiki.XWikiServerCode was modified by XWiki.jvdrean - http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerCode  \ngpaul44 - (27/08/2008 13:45): vmassol: there are some Test classes that doesn  \ngpaul44 - (27/08/2008 13:46): vmassol: doesn't have setUp  \ngpaul44 - (27/08/2008 13:46): but in rest the api is up to date  \ngpaul44 - (27/08/2008 13:46): do I add that ?  \nvmassol - (27/08/2008 13:46): hi gpaul44   \nvmassol - (27/08/2008 13:46): not sure what you mean  \ngpaul44 - (27/08/2008 13:46): there is a method called setUp()  \ngpaul44 - (27/08/2008 13:46): in most of the Test classes  \nsdumitriu - (27/08/2008 13:46): gpaul44: It's not mandatory to have that method  \nvmassol - (27/08/2008 13:47): yes I know that.. hehe... you should read JUnit in Action ;)  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0@Override  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0protected void setUp() throws Exception  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0{  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0super.setUp();  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loginAsAdmin();  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0}  \ngpaul44 - (27/08/2008 13:47): the think is that there are some test classes  \ngpaul44 - (27/08/2008 13:47): that don't have it  \nvmassol - (27/08/2008 13:47): gpaul44: do you have an example for what you call \"missing\"?  \nvmassol - (27/08/2008 13:47): yes but the question is: should they have it?  \ngpaul44 - (27/08/2008 13:47): public class WatchListTest extends AbstractXWikiTestCase  \ngpaul44 - (27/08/2008 13:47): {  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0public static Test suite()  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0{  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0XWikiTestSuite suite = new XWikiTestSuite(\"Verify the watchlist feature of XWiki\");  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0suite.addTestSuite(WatchListTest.class, AlbatrossSkinExecutor.class);  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return suite;  \nvmassol - (27/08/2008 13:47): and I'll need to see an example  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0}  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0protected void tearDown()  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0{  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Restore XWiki.WatchListManager from the trash since it's been deleted by the tests below.  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0open(\"XWiki\", \"WatchListManager\");  \ngpaul44 - (27/08/2008 13:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (isElementPresent(\"link=Restore\")) {  \ngpaul44 - (27/08/2008 13:48): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0clickLinkWithLocator(\"link=Restore\");  \ngpaul44 - (27/08/2008 13:48): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0assertTextPresent(\"Watchlist for Administrator\");  \ngpaul44 - (27/08/2008 13:48): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \ngpaul44 - (27/08/2008 13:48): \u00a0\u00a0\u00a0\u00a0}  \nvmassol - (27/08/2008 13:48): gpaul44: please don't paste in irc  \ngpaul44 - (27/08/2008 13:48): for example  \ngpaul44 - (27/08/2008 13:48): that was the question: should I add it ?  \nvmassol - (27/08/2008 13:48): gpaul44: sorry you're not clear  \nsdumitriu - (27/08/2008 13:48): If the test works, no  \ngpaul44 - (27/08/2008 13:48): oh...ok  \nsdumitriu - (27/08/2008 13:48): setUp is something you can use if you need initialize stuff  \nvmassol - (27/08/2008 13:48): is it because there's no loginAsAdmin?  \nvmassol - (27/08/2008 13:49): (that you want to add a setup)  \nsdumitriu - (27/08/2008 13:49): If the test suite doesn't need to do anything, then you don't need to override setUp  \ngpaul44 - (27/08/2008 13:49): ok...  \nvmassol - (27/08/2008 13:49): gpaul44: to make it clear let us know what you want to do in the setup?  \nvmassol - (27/08/2008 13:50): s/?//  \nvmassol - (27/08/2008 13:50): does the test require to be logged as admin for it to work? Is that your point?  \ngpaul44 - (27/08/2008 13:52): the think is this: for example: DocExtraTest doesn't have the setUp() method, they do loginAsAdmin(), but in the first test, they wokr, but this is creating a dependency between them  \ngpaul44 - (27/08/2008 13:53): what if the first test isn't executed as the first one  \ngpaul44 - (27/08/2008 13:53): for such classes to override the setUp(), and call loginAsAdmin() in setUp() instead  \nvmassol - (27/08/2008 13:54): let me check DocExtraTest  \nvmassol - (27/08/2008 13:55): gpaul44: I would put the question differently. Is the loginAsAdmin() required for the tests in DocExtraTest?  \nvmassol - (27/08/2008 13:56): hmm by default the wiki requires for a user to be logged in I think  \nvmassol - (27/08/2008 13:56): so the answer is yes although it doesn't have to be the admin user  \ngpaul44 - (27/08/2008 13:57): ok  \nvmassol - (27/08/2008 13:58): so yes you're right I think  \nvmassol - (27/08/2008 13:58): for DocExtraTest  \ngpaul44 - (27/08/2008 13:59): ok  \nvmassol - (27/08/2008 13:59): would be nice to imprvoe the test frameowkr by offerinf a loginAsNormalUser() in addition to the loginAsAdmin()  \nvmassol - (27/08/2008 13:59): and refactor the tests to use loginAsNormalUser() when no admin rights should be required  \ngpaul44 - (27/08/2008 13:59): that would request improving it by adding createNormalUseR()  \nvmassol - (27/08/2008 14:03): gpaul44: it would be created under the hood automatically  \nvmassol - (27/08/2008 14:03): but yes  \nvmassol - (27/08/2008 14:04): we'd need some checks as for loginAsAdmin() for good performance (and not recreate user and relogin every time)  \nvmassol - (27/08/2008 14:05): we could also create some wrapping Test suites for automatically logging in the user as admin or as a normal user but that requires a bit more knowledge of junit so we can do this later on  \ngpaul44 - (27/08/2008 14:06): vmassol:loginAsAdmin() doesn't log in every time, it does first check if the admin is already logged in, if it isn;t logged in, then will login  \nvmassol - (27/08/2008 14:07): I know I wrote it and that's what I was saying  \nvmassol - (27/08/2008 14:07): :)  \nvmassol - (27/08/2008 14:07): re the wrapping test suite this is what I meant: http://rafb.net/p/6Tq5kR99.html  \ngpaul44 - (27/08/2008 14:07): is there a guest user by default for xwiki enterprise: I could use it  \ngpaul44 - (27/08/2008 14:07): ?  \nvmassol - (27/08/2008 14:08): no  \nvmassol - (27/08/2008 14:08): there isn't  \nvmassol - (27/08/2008 14:08): well there is but it's not a user  \ngpaul44 - (27/08/2008 14:08): oh...ok  \nvmassol - (27/08/2008 14:08): it's when you're not logged in  \ndaning - (27/08/2008 14:08): vmassol: When I use mvn eclipse:eclipse to build a project for eclipse for xwiki-rendering, got a error \"can't get xwiki-core-bridge\". Any suggestion?  \nvmassol - (27/08/2008 14:08): daning: yes, ask sergiu :) or use m2eclipse  \nvmassol - (27/08/2008 14:09): more seriously  \nvmassol - (27/08/2008 14:09): I think you didn't build it  \nvmassol - (27/08/2008 14:09): did you?  \ndaning - (27/08/2008 14:09): vmassol: \u00a0I use mvn install . same error.  \nvmassol - (27/08/2008 14:10): daning: did you build \u00a0xwiki-core-bridge?  \ndaning - (27/08/2008 14:10): vmassol: no.  \nvmassol - (27/08/2008 14:10): then build it :)  \nvmassol - (27/08/2008 14:10): it'll work  \ndaning - (27/08/2008 14:10): vmassol: OK.  \nvmassol - (27/08/2008 14:10): hudson is probably not building it for some reason  \njvdrean - (27/08/2008 14:14): about problems with xwik-core-bridge, hudson is supposed to discover core modules from core-parent  \njvdrean - (27/08/2008 14:15): but it seems that hudson is not able to svn co since this morning  \njvdrean - (27/08/2008 14:15): ERROR: svn: timed out waiting for server  \nvmassol - (27/08/2008 14:16): jvdrean: ok that explains it. You're working on fixing it right?  \njvdrean - (27/08/2008 14:17): vmassol: looks like a network problem, I'm not able to ping svn.xwiki.org from maven.xwiki.org  \ndaning - (27/08/2008 14:32): vmassol: Where can I see the xwiki syntax 2.0 specification?  \nvmassol - (27/08/2008 14:32): daning: otp  \nvmassol - (27/08/2008 14:33): look in dev.xwiki.org, drafts  \ndaning - (27/08/2008 14:49): vmassol: [[label>Space.ExistingPage>\\_target]] convert to html is <a href=\"/xwiki/bin/view/Space/ExistingPage\" rel=\"\\_target\">label</a> or  \ndaning - (27/08/2008 14:49): <a href=\"/xwiki/bin/view/Space/ExistingPage\" rel=\"\\_\\_target\">label</a>  \ndaning - (27/08/2008 14:49): one \"\\_\" for target or two \"\\_\"?  \nsdumitriu - (27/08/2008 14:50): Two  \nsdumitriu - (27/08/2008 14:51): Actually, it depends  \nsdumitriu - (27/08/2008 14:51): It adds one \\_ before the text you use as the target  \nsdumitriu - (27/08/2008 14:52): There are two sometimes because \\_blank, \\_top and others are special target names  \nsdumitriu - (27/08/2008 14:52): But the user can put a target without a trailing \\_, in which case the generated HTML will have only one \\_  \ndaning - (27/08/2008 14:53): sdumitriu: got it. Thanks.  \njvdrean - (27/08/2008 15:57): mflorea : xwiki-web-wysiwyg build is failing on the CI, see : http://hudson.xwiki.org/job/xwiki-platform-web-trunk/85/com.xpn.xwiki.platform$xwiki-web-wysiwyg/console any idea why ?  \nmflorea - (27/08/2008 16:00): :| it builds fine on my machine. Maybe this is the problem  \nmflorea - (27/08/2008 16:00): [WARNING] repository metadata for: 'snapshot com.totsp.gwt:maven-googlewebtoolkit2-plugin:1.5.3-SNAPSHOT' could not be retrieved from repository: gwt-maven due to an error: Error transferring file  \nmflorea - (27/08/2008 16:01): jvdrean: ping  \njvdrean - (27/08/2008 16:03): mflorea: xwiki-web will be rebuilt in a few minutes, we'll see if the error persist  \nmflorea - (27/08/2008 16:03): ok  \ngpaul44 - (27/08/2008 16:22): vmassol: a few days ago I've said that I would update the api for the selenium tests...here it is:http://pastebin.com/m1801370c  \ngpaul44 - (27/08/2008 16:22): vmassol\\_:a few days ago I've said that I would update the api for the selenium tests...here it is:http://pastebin.com/m1801370c  \nvmassol\\_ - (27/08/2008 17:10): sdumitriu: see http://www.icegreen.com/greenmail/ :)  \nsdumitriu - (27/08/2008 17:10): Cool  \nvmassol\\_ - (27/08/2008 17:12): this will make it real easy to use in our Selenium tests  \ndaning - (27/08/2008 18:10): vmassol\\_: Hi.  \nvmassol\\_ - (27/08/2008 18:10): daning: hi  \ndaning - (27/08/2008 18:11): vmassol\\_: When I use HTMLCleaner, I meet a error.  \ndaning - (27/08/2008 18:11): vmassol\\_: Can't cast from Text to jdom 's Document  \ndaning - (27/08/2008 18:12): vmassol\\_: the input is <ul> <ul><li>test</li></ul></ul>.  \ndaning - (27/08/2008 18:12): vmassol\\_: There is a space between the first two <ul>  \nvmassol\\_ - (27/08/2008 18:12): daning: ok I'll try your test input. I need to finish something first. Unless you have a patch already?  \nvmassol\\_ - (27/08/2008 18:13): I know the pb  \nvmassol\\_ - (27/08/2008 18:13): I think  \ndaning - (27/08/2008 18:13): in the 121 line of ListCleaningFilter.java  \nvmassol\\_ - (27/08/2008 18:13): I should check for the cast I'm doin  \nvmassol\\_ - (27/08/2008 18:13): doing  \nvmassol\\_ - (27/08/2008 18:40): daning: looking into it now  \ndaning - (27/08/2008 18:40): vmassol\\_: OK.  \nvmassol\\_ - (27/08/2008 19:14): daning: fixed, thanks for reporting the issue!  \ndaning - (27/08/2008 19:14): vmassol\\_: ;)  \ndaning - (27/08/2008 19:14): vmassol\\_: Have to go to bed.  \ndaning - (27/08/2008 19:14): vmassol\\_: Bye.  \nvmassol\\_ - (27/08/2008 19:17): bye  \nxwikibot - (27/08/2008 19:27): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (27/08/2008 20:26): Main.ReleaseNotes was modified by XWiki.jvdrean - http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotes  \ntrifon\\_ - (27/08/2008 22:07): hi  \nlucaa - (27/08/2008 22:16): hi  \n\n"}