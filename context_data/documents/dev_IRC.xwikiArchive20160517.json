{"id": "dev:IRC.xwikiArchive20160517", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160517", "title": "IRC Archive for channel #xwiki on 17 May 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n06:12\u00a0<mflorea>\u00a0has joined #xwiki  \n07:02\u00a0<msmeria>\u00a0has joined #xwiki  \n08:04\u00a0<msmeria1>\u00a0has joined #xwiki  \n08:06\u00a0<msmeria>\u00a0has quit  \n08:08\u00a0<abusenius>\u00a0has joined #xwiki  \n08:17\u00a0<vmassol>\u00a0has joined #xwiki  \n08:39\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:40\u00a0<lkrejci>\u00a0has joined #xwiki  \n08:45\u00a0<tmortagne>\u00a0has quit  \n08:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:47\u00a0<mflorea>\u00a0has quit  \n08:51\u00a0<KermitTheFragger>\u00a0has quit  \n09:26\u00a0<mflorea>\u00a0has joined #xwiki  \n09:39\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:40\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:48\u00a0<Pbas>\u00a0has joined #xwiki  \n09:54\u00a0<lkrejci>\u00a0has quit  \n10:00\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:01\u00a0<Denis>\u00a0has joined #xwiki  \n10:21\u00a0<ClemensR>\u00a0hm I probably broke a test at http://ci.xwiki.org/job/xwiki-enterprise-test-escaping/2470/org.xwiki.enterprise$xwiki-enterprise-test-escaping/testReport/org.xwiki.test.escaping/UsersAndGroupsTest/testGetUsersAndGroupsGroups/ \u00a0\u00a0but as this returns JSON and not HTML I am not sure if the complaint is valid ...checking anyway  \n10:23\u00a0<ClemensR>\u00a0this should have failed with the previous version, too :-/  \n10:23\u00a0<Slashman>\u00a0has joined #xwiki  \n10:31\u00a0<lkrejci>\u00a0has joined #xwiki  \n10:33\u00a0<ClemensR>\u00a0it is probably the \u00a0\u00a0\"clsname\" \u00a0: \"aaa\\\"bbb\\'ccc>ddd<eee\", \u00a0\u00a0in the JSON response, but that has not really changed, the previous version returns this, too  \n10:36\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:37\u00a0<ClemensR>\u00a0I have no idea what is going on there, sorry :(  \n10:42\u00a0<evalica>\u00a0has joined #xwiki  \n10:43\u00a0<Enygma`>\u00a0has quit  \n10:44\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:13\u00a0<moep>\u00a0has joined #xwiki  \n11:24\u00a0<flashdel>\u00a0has joined #xwiki  \n11:25\u00a0<flashdel>\u00a0hi folks, i got two pages which are named \"OwnCloud Doku [interne Leute]\" but i cannot access or delete them, so i tried to make it via velocity \"$xwiki.getDocument(\"Administration.OwnCloud Doku [interne Leute]\").delete()\" but that doesn help either, can anybody help me to get rid of these pages?  \n11:26\u00a0<flashdel>\u00a0i am using version 8.0 btw, i upgrade several times (startet at 6.x)  \n11:26\u00a0<vmassol>\u00a0flashdel: what error do you get when accessing the page?  \n11:28\u00a0<flashdel>\u00a0i get an HTTP Status 500 - Invalid URL from tomcat, which tries to access ....Administration/OwnCloud+Doku+[externe+Leute]/] which is not the name of the page, tha page is named ...interne Leute.. but it tries to access ..externe Leute...  \n11:30\u00a0<flashdel>\u00a0vmassol: is it possible to just delete everything where the word \"Leute\" appears? Maybe via velocity?  \n11:30\u00a0<vmassol>\u00a0500 means it doesn't access XWiki  \n11:30\u00a0<vmassol>\u00a0an unknown page in xwiki would still display the ui  \n11:30\u00a0<vmassol>\u00a0so the issue you have is with tomcat it seems, not xwiki  \n11:31\u00a0<vmassol>\u00a0the issue  \n11:31\u00a0<vmassol>\u00a0is probably that you haven't configured tomcat to support \"/\" in ur  \n11:31\u00a0<lkrejci>\u00a0has quit  \n11:31\u00a0<vmassol>\u00a0(unless you've made a mistake in your paste above)  \n11:31\u00a0<lkrejci>\u00a0has joined #xwiki  \n11:31\u00a0<lkrejci>\u00a0has joined #xwiki  \n11:31\u00a0<vmassol>\u00a0is the \"/\" part of the page name?  \n11:32\u00a0<flashdel>\u00a0yes it is  \n11:32\u00a0<vmassol>\u00a0\"\u2026.Administration/OwnCloud+Doku+[externe+Leute]/]\"  \n11:32\u00a0<vmassol>\u00a0ok so that's why  \n11:32\u00a0<vmassol>\u00a0here's the url to read:  \n11:32\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationTomcat#HAllowing222F22inpagenames  \n11:35\u00a0<flashdel>\u00a0vmassol: ok sounds good, i will test that  \n11:35\u00a0<vmassol>\u00a0ok  \n12:01\u00a0<lkrejci>\u00a0has quit  \n12:01\u00a0<lkrejci>\u00a0has joined #xwiki  \n12:01\u00a0<lkrejci>\u00a0has joined #xwiki  \n12:27\u00a0<CylonSputnikk>\u00a0has quit  \n12:31\u00a0<lkrejci>\u00a0has quit  \n12:31\u00a0<lkrejci>\u00a0has joined #xwiki  \n12:54\u00a0<ClemensR>\u00a0Enygma`: is it really \"Corssposted\" ? ;)  \n12:55\u00a0<Enygma`>\u00a0Hi ClemensR. Thanks! :)  \n12:55\u00a0<flashdel>\u00a0vmassol: unfourtunately, it didnt help :( \u00a0If i could just delete these pages, i would be happy, because everything else is working fine  \n12:55\u00a0<ClemensR>\u00a0the two slashes in the link are causing a 404, too ;)  \n12:56\u00a0<ClemensR>\u00a0ok, now :)  \n12:56\u00a0<Enygma`>\u00a0heh... tunnel vision on my side  \n12:56\u00a0<Enygma`>\u00a0thanks  \n12:57\u00a0<ClemensR>\u00a0flashdel: can you access that page as \"$xwiki.getDocument(\"Administration.OwnCloud Doku [interne Leute]/\") then ?  \n12:57\u00a0<ClemensR>\u00a0e.g. $xwiki.getDocument(\"Administration.OwnCloud Doku [interne Leute]/\").isNew() \u00a0is false  \n12:59\u00a0<msmeria>\u00a0has joined #xwiki  \n13:02\u00a0<msmeria1>\u00a0has quit  \n13:02\u00a0<ClemensR>\u00a0I guess: \u00a0$services.query.xwql(\"where doc.name like '%/%'\").execute() \u00a0shows all pages with a slash in them. \u00a0Aside of that I guess if pages with slash are not found there is a frontend running on front of tomcat that causes problems  \n13:03\u00a0<ClemensR>\u00a0XWQL Query docs: http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module  \n13:06\u00a0<flashdel>\u00a0ClemensR: no i cant, the listing of all pages with slashes gives a \"[]\" back  \n13:07\u00a0<ClemensR>\u00a0oh, strange, where is that page gone?  \n13:07\u00a0<flashdel>\u00a0i dont no, maybe i deleted it, but it didnt go away properly  \n13:08\u00a0<ClemensR>\u00a0and \u00a0$xwiki.getDocument(\"Administration.OwnCloud Doku [interne Leute/]\").isNew() \u00a0\u00a0prints \"true\" ?  \n13:08\u00a0<flashdel>\u00a0yes it does  \n13:09\u00a0<ClemensR>\u00a0er, I meant: \u00a0\u00a0$xwiki.getDocument(\"Administration.OwnCloud Doku [interne Leute]/]\").isNew() \u00a0\u00a0\u00a0... that was the name, right?  \n13:10\u00a0<flashdel>\u00a0yeah, but both version print \"true\"  \n13:11\u00a0<ClemensR>\u00a0odd, but you see it in the \"Chlidren\" \u00a0list of the \"Administration\" page ?  \n13:12\u00a0<flashdel>\u00a0yes  \n13:12\u00a0<vmassol>\u00a0you may have another hidden page in there  \n13:12\u00a0<vmassol>\u00a0have you configured your profile to show hidden pages?  \n13:12\u00a0<flashdel>\u00a0cant i just delete every page with the name \"Leute\" in the page-title?  \n13:12\u00a0<flashdel>\u00a0wait, i will have a look  \n13:13\u00a0<vmassol>\u00a0it's possible you have some WebPreferences for example  \n13:14\u00a0<flashdel>\u00a0i can see hidden pages, but that doesnt change anything  \n13:14\u00a0<flashdel>\u00a0maybe i`ll create a new space, move all the pages that are working into that space and then delete the faulty space, would that help?  \n13:18\u00a0<ClemensR>\u00a0yes, or even move the faulty page, if possible  \n13:19\u00a0<ClemensR>\u00a0oh, and maybe $services.query.xwql(\"where doc.fullName like '%Leute%'\").execute() \u00a0will help ... I forgot that doc.name is usyally 'WebHome' nowadays  \n13:20\u00a0<ClemensR>\u00a0or even $services.query.xwql(\"where doc.sapce like '%/%'\").execute() \u00a0\u00a0\u00a0...  \n13:22\u00a0<flashdel>\u00a0$services.query.xwql(\"where doc.fullName like '%Leute%'\").execute() does work, it shows me a list, can i delete them with this command?  \n13:30\u00a0<[1]lanouettea>\u00a0has joined #xwiki  \n13:31\u00a0<ClemensR>\u00a0yupp,with a #foreach loop  \n13:32\u00a0<lanouettea>\u00a0has quit  \n13:32\u00a0<[1]lanouettea>\u00a0is now known as <lanouettea>  \n13:32\u00a0<ClemensR>\u00a0#foreach($name in $services.query.xwql(\"where doc.fullName like '%Leute%'\").execute()) \u00a0\\n \u00a0\u00a0\u00a0$xwiki.getDocument($name).delete() \u00a0\u00a0\\n #end  \n13:33\u00a0<ClemensR>\u00a0something like that ... better check for typos first, or a lot of pages will be gone 8\\  \n13:57\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:58\u00a0<msmeria>\u00a0has quit  \n13:59\u00a0<vmassol>\u00a0Enygma`: hmmm re http://www.xwiki.org/xwiki/bin/view/Blog/Drafts/The+macro+is+not+in+the+list+of+registered+macros/  \n13:59\u00a0<vmassol>\u00a0I don't like it too much  \n13:59\u00a0<vmassol>\u00a0IMO this should be in our documentation and not as a blog post  \n14:00\u00a0<vmassol>\u00a0at the very least as \u00a0a FAQ enry  \n14:00\u00a0<vmassol>\u00a0\\*entry  \n14:00\u00a0<vmassol>\u00a0I don't think a FAQ etntry should link to a blog post but the other way around seems more logical  \n14:01\u00a0<vmassol>\u00a0(that would be a way to advertise for a FAQ entry)  \n14:01\u00a0<vmassol>\u00a0WDYT?  \n14:03\u00a0<msmeria1>\u00a0has quit  \n14:10\u00a0<msmeria>\u00a0has joined #xwiki  \n14:11\u00a0<flashdel>\u00a0ClemensR: that did it! Many thanks!  \n14:11\u00a0<ClemensR>\u00a0ah, ok, good to know  \n14:17\u00a0<flashdel>\u00a0i got one more problem.. some of my pages are duplicate after the upgrade.. They are accessible and working properly, but as said, duplicate. the only difference is, that the children are either named Preferences or WebPrferences, how do i deal with that problem?  \n14:29\u00a0<msmeria>\u00a0has quit  \n14:29\u00a0<msmeria>\u00a0has joined #xwiki  \n14:39\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:40\u00a0<msmeria>\u00a0has quit  \n14:42\u00a0<ujjwal>\u00a0has joined #xwiki  \n14:59\u00a0<msmeria>\u00a0has joined #xwiki  \n15:00\u00a0<msmeria>\u00a0has quit  \n15:00\u00a0<msmeria1>\u00a0has quit  \n15:20\u00a0<vmassol>\u00a0hmmm tmortagne and Denis, something strange  \n15:20\u00a0<vmassol>\u00a0I see a ContentParser in platform-component-wiki module  \n15:20\u00a0<vmassol>\u00a0and it seems the same as the one added by Denis in platform-rendering  \n15:20\u00a0<vmassol>\u00a0any idea?  \n15:21\u00a0<Enygma`>\u00a0vmassol: yes, that`s my opinion also on that draft. It looks more like a FAQ entry and we should probably make it so.  \n15:21\u00a0<vmassol>\u00a0there's also a DefaultContentParser impl there  \n15:21\u00a0<vmassol>\u00a0and to make it even weirder that impl uses MissingParserException from platform-rendering  \n15:21\u00a0<vmassol>\u00a0...  \n15:27\u00a0<moep>\u00a0has quit  \n15:35\u00a0<tmortagne>\u00a0vmassol: I did not know about ContentParser in xwiki-platform-component-wiki, seems to be an internal thing that was introduced by JV for the wiki components only. Then Denis introduced a public tool and probably did not know about this internal thing either  \n15:36\u00a0<vmassol>\u00a0I'm 100% sure Denis knew about it ;)  \n15:36\u00a0<vmassol>\u00a0since it's an exact copy paste for the interface part  \n15:37\u00a0<vmassol>\u00a0maybe Denis forgot to refactor the existing code or left the technical debt for someone else?  \n15:37\u00a0<tmortagne>\u00a0maybe  \n15:38\u00a0<tmortagne>\u00a0it's internal thing so it's easy to get rid of it  \n15:38\u00a0<vmassol>\u00a0yesI'm finishing my stuff first  \n15:39\u00a0<martinus\\_\\_>\u00a0has quit  \n15:46\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n15:55\u00a0<Denis>\u00a0vmassol: if you look at the implementation of the internal one, you will see that it is now using my public one, so, no I have not ignored it  \n15:56\u00a0<vmassol>\u00a0Denis: hmm indeed hasn't seen that. Why did you keep the old one?  \n15:56\u00a0<vmassol>\u00a0s/hasn't/handn't  \n15:56\u00a0<vmassol>\u00a0\\*hadn't  \n15:57\u00a0<lkrejci>\u00a0is now known as <lkrejci-bbl>  \n15:57\u00a0<Denis>\u00a0we;;  \n15:57\u00a0<Denis>\u00a0well, \u00a0I can't remember  \n15:57\u00a0<vmassol>\u00a0:)  \n15:57\u00a0<vmassol>\u00a0seems easy to remove it  \n15:57\u00a0<Denis>\u00a0maybe no time for a more in depth refactoring at that time  \n15:58\u00a0<Denis>\u00a0but, maybe just too lazy :)  \n15:58\u00a0<vmassol>\u00a0actually seems simpler to remove it than modify the impl \u00a0but I guess there was some reason  \n15:58\u00a0<vmassol>\u00a0since I'm working on something related, I'll try to refactor it if I get the time later on  \n15:59\u00a0<vmassol>\u00a0(after I finish the current stuff)  \n15:59\u00a0<Denis>\u00a0let me know if you find why, I am curious :)  \n15:59\u00a0<vmassol>\u00a0:)  \n16:01\u00a0<lkrejci-bbl>\u00a0has quit  \n16:01\u00a0<lkrejci>\u00a0has joined #xwiki  \n16:21\u00a0<vmassol>\u00a0tmortagne: when we add a new module to the WAR we now need to add it in 2 places: XE + platform distribution war right?  \n16:22\u00a0<vmassol>\u00a0(ie we need to keep the 2 in sync for now)  \n16:23\u00a0<tmortagne>\u00a0vmassol: war plugin is vary bad at handling dependencies coming from both WAR and jars so right now XE does not trigger platform WAR as dependency yes. So if you need a module in both will will need to declare it in both.  \n16:23\u00a0<tmortagne>\u00a0we need to find a trick because it's a pain but did not had time to look at it  \n16:23\u00a0<vmassol>\u00a0ok just wanted to eb sure  \n16:23\u00a0<vmassol>\u00a0adding to both for now  \n16:31\u00a0<lkrejci>\u00a0has quit  \n16:31\u00a0<lkrejci>\u00a0has joined #xwiki  \n16:39\u00a0<vmassol>\u00a0we have a problem on our nexus? For the past 3 days I have timeouts on it  \n16:39\u00a0<vmassol>\u00a0(Im not sure the timeout is on nexus actually, could be on some other maven repo)  \n16:39\u00a0<vmassol>\u00a0ah yes it'es apache  \n16:39\u00a0<vmassol>\u00a0for examlpe:  \n16:39\u00a0<vmassol>\u00a0[WARNING] Could not transfer metadata org.xwiki.commons:xwiki-commons-tool-enforcers:8.2-SNAPSHOT/maven-metadata.xml from/to apache.snapshots (http://repository.apache.org/snapshots): Failed to transfer file: http://repository.apache.org/snapshots/org/xwiki/commons/xwiki-commons-tool-enforcers/8.2-SNAPSHOT/maven-metadata.xml. Return code is: 502 , ReasonPhrase:Proxy Error.  \n16:39\u00a0<vmassol>\u00a0have you seen this too?  \n16:40\u00a0<vmassol>\u00a0it's hanging for about 1 minute  \n16:40\u00a0<vmassol>\u00a0every time  \n16:43\u00a0<moep>\u00a0has joined #xwiki  \n16:48\u00a0<mflorea>\u00a0has quit  \n16:54\u00a0<tmortagne>\u00a0vmassol: Denis reported this some time ago  \n16:54\u00a0<tmortagne>\u00a0I never have this kind of issue on my side  \n16:56\u00a0<Denis>\u00a0I get out of those issues by installing package by smaller chunk, else I was unable to upgrade my wiki. I do not feel alone anymore :)  \n16:59\u00a0<moep>\u00a0has quit  \n17:00\u00a0<ClemensR>\u00a0currently https://repository.apache.org/ \u00a0is completely down  \n17:00\u00a0<lkrejci>\u00a0has quit  \n17:01\u00a0<lkrejci>\u00a0has quit  \n17:03\u00a0<vmassol>\u00a0tmortagne: FYI I've got this in my local wiki: https://gist.github.com/vmassol/9d8c4f45bc3c8ad0ab1851cb515916df  \n17:04\u00a0<vmassol>\u00a0seems we need to fix something in the shceduler plugi  \n17:04\u00a0<vmassol>\u00a0\\*plugin  \n17:04\u00a0<vmassol>\u00a0because right now everyone will get this in their logs  \n17:04\u00a0<vmassol>\u00a0so we need to fix this before 8.1 final  \n17:05\u00a0<tmortagne>\u00a0ClemensR reported this during last BFD, did you had time to look at it ?  \n17:05\u00a0<tmortagne>\u00a0(asking ClemensR)  \n17:05\u00a0<ClemensR>\u00a0ah, no, I wasted my time with bad javascript hacks, sorry  \n17:06\u00a0<ClemensR>\u00a0on that BFD, I mean  \n17:07\u00a0<tmortagne>\u00a0didn't you create a jira issue about this ?  \n17:07\u00a0<tmortagne>\u00a0I think I commented on it  \n17:07\u00a0<tmortagne>\u00a0http://jira.xwiki.org/browse/XWIKI-13407  \n17:07\u00a0<tmortagne>\u00a0that's the one  \n17:07\u00a0<tmortagne>\u00a0setting 8.0  \n17:07\u00a0<tmortagne>\u00a08.1  \n17:08\u00a0<tmortagne>\u00a0my comment was \"WatchListJob initialization is quite a mess, looks like it's redoing (badly) what AbstractJob is already doing. \"  \n17:08\u00a0<tmortagne>\u00a0did not had time to work on it  \n17:08\u00a0<tmortagne>\u00a0half of the content of that class seems useless to me  \n17:10\u00a0<moep>\u00a0has joined #xwiki  \n17:52\u00a0<ujjwal>\u00a0has quit  \n17:58\u00a0<KermitTheFragger>\u00a0has quit  \n18:30\u00a0<lkrejci>\u00a0has quit  \n18:30\u00a0<lkrejci>\u00a0has joined #xwiki  \n18:41\u00a0<ujjwal>\u00a0has joined #xwiki  \n18:47\u00a0<gdelhumeau>\u00a0has quit  \n18:55\u00a0<ClemensR>\u00a0has quit  \n19:03\u00a0<sorinello>\u00a0has quit  \n19:13\u00a0<lanouettea>\u00a0has quit  \n19:13\u00a0<[1]lanouettea>\u00a0has joined #xwiki  \n19:39\u00a0<evalica>\u00a0has quit  \n19:43\u00a0<Enygma`>\u00a0has quit  \n20:03\u00a0<cjd>\u00a0has joined #xwiki  \n20:13\u00a0<Inge-\\_>\u00a0has joined #xwiki  \n20:16\u00a0<cjd>\u00a0has quit  \n20:18\u00a0<Inge->\u00a0has quit  \n20:55\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n20:59\u00a0<Slashman>\u00a0has quit  \n21:00\u00a0<lkrejci>\u00a0has quit  \n21:00\u00a0<lkrejci>\u00a0has joined #xwiki  \n21:02\u00a0<tmortagne>\u00a0has quit  \n21:21\u00a0<Slashman>\u00a0has joined #xwiki  \n21:51\u00a0<moep>\u00a0has quit  \n21:59\u00a0<Slashman>\u00a0has quit  \n22:00\u00a0<Slashman>\u00a0has joined #xwiki  \n22:08\u00a0<cjd>\u00a0has joined #xwiki  \n22:20\u00a0<xwikibot>\u00a0has joined #xwiki  \n22:22\u00a0<[1]lanouettea>\u00a0has quit  \n22:30\u00a0<lkrejci>\u00a0has quit  \n22:30\u00a0<lkrejci>\u00a0has joined #xwiki  \n22:38\u00a0<mflorea>\u00a0has joined #xwiki  \n22:41\u00a0<Slashman>\u00a0has quit  \n22:47\u00a0<ujjwal>\u00a0has quit  \n23:39\u00a0<Slashman>\u00a0has joined #xwiki  \n23:42\u00a0<mflorea>\u00a0has quit  \n23:54\u00a0<vmassol>\u00a0has quit\n"}