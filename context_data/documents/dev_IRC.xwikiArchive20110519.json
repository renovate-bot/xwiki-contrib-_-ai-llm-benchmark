{"id": "dev:IRC.xwikiArchive20110519", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110519", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:58\u00a0<jamesxu>\u00a0has quit  \n01:26\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n01:32\u00a0<abusenius>\u00a0has quit  \n02:12\u00a0<DrLou>\u00a0has quit  \n03:17\u00a0<abusenius\\_>\u00a0has quit  \n03:44\u00a0<sdumitriu>\u00a0has quit  \n04:04\u00a0<ThePing>\u00a0has joined #xwiki  \n04:04\u00a0<ThePing>\u00a0has left #xwiki  \n05:59\u00a0<sburjan`>\u00a0has quit  \n05:59\u00a0<sburjan`>\u00a0has joined #xwiki  \n07:03\u00a0<Denis>\u00a0has quit  \n07:09\u00a0<Denis1>\u00a0has joined #xwiki  \n07:51\u00a0<vmassol>\u00a0has joined #xwiki  \n08:24\u00a0<mflorea>\u00a0has joined #xwiki  \n08:31\u00a0<vmassol>\u00a0I'm handling the issue on myxwiki.org  \n08:49\u00a0<@cjdelisle>\u00a0hudsonagent@ks365275:~$ cat /proc/swaps  \n08:49\u00a0<@cjdelisle>\u00a0Filename Type Size Used Priority  \n08:49\u00a0<@cjdelisle>\u00a0/dev/sda3 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0partition 522104 522104 -1  \n08:49\u00a0<@cjdelisle>\u00a0this is bad  \n08:52\u00a0<@cjdelisle>\u00a0I'm trying to understand why my box is running with -Xmx512m -XX:MaxPermSize=256m and it's building fine while agent1 is failing with out of permgen and it has -Xmx1400m -XX:MaxPermSize=512m  \n08:53\u00a0<@cjdelisle>\u00a0I'm going to take a wild guess here and say the heap is big enough that it doesn't collect garbage as agressively and when it runs out of swap and it tries to malloc more permgen and the malloc fails so it reports out of permgen.  \n08:54\u00a0<@cjdelisle>\u00a0At any rate, that swap size is incorrect, it has 3G of memory.  \n09:04\u00a0<@cjdelisle>\u00a0restarting agent1  \n09:18\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:22\u00a0<arkub>\u00a0has joined #xwiki  \n09:27\u00a0<venkatesh>\u00a0has joined #xwiki  \n09:27\u00a0<arkub>\u00a0has quit  \n09:29\u00a0<arkub>\u00a0has joined #xwiki  \n09:49\u00a0<sburjan>\u00a0has joined #xwiki  \n09:55\u00a0<venkatesh>\u00a0has quit  \n10:13\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n10:13\u00a0<abusenius\\_>\u00a0is now known as <abusenius>  \n10:38\u00a0<sdumitriu>\u00a0has joined #xwiki  \n10:49\u00a0<@cjdelisle>\u00a0bed time for me, I'll look at the build when I wake up  \n11:11\u00a0<sdumitriu>\u00a0has quit  \n11:16\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:20\u00a0<+sburjan>\u00a0what is this ?  \n11:20\u00a0<+sburjan>\u00a0Undefined\\_ID ?  \n11:20\u00a0<vmassol>\u00a0a user  \n11:21\u00a0<+sburjan>\u00a0now that's a strange username :))  \n11:23\u00a0<+sburjan>\u00a0http://www.xwiki.org/xwiki/bin/view/Demo/ <-- I guess this shouldn't be here  \n11:28\u00a0<vmassol>\u00a0it' not there for me  \n11:29\u00a0<@sdumitriu>\u00a0I just deleted it  \n11:29\u00a0<vmassol>\u00a0ok we need to fix our bot  \n11:45\u00a0<+sburjan>\u00a0seems that creating and deleting a page does no trigger it  \n11:54\u00a0<npm>\u00a0has quit  \n11:54\u00a0<npm>\u00a0has joined #xwiki  \n12:15\u00a0<lucaa>\u00a0has joined #xwiki  \n12:16\u00a0<+lucaa>\u00a0sdumitriu: there seems to be an issue with class editing, saving properties. Could it be caused by the changes you made recently about the xclass?  \n12:17\u00a0<+lucaa>\u00a0namely, on my build, it just loads indefinitely when I click the save button  \n12:17\u00a0<+lucaa>\u00a0however, it seems to save, though  \n12:18\u00a0<@sdumitriu>\u00a0Checking  \n12:18\u00a0<+lucaa>\u00a0thanks  \n12:24\u00a0<vmassol>\u00a0sdumitriu: btw did you check your commit that I pointed to yesterday (or the day before can't remember)?  \n12:25\u00a0<vmassol>\u00a0I fixed one issue but I haven't checked the other part of the commit which could also contain other issues  \n12:38\u00a0<jamesxu>\u00a0has joined #xwiki  \n12:42\u00a0<SvenDowideit\\_>\u00a0has joined #xwiki  \n12:44\u00a0<SvenDowideit>\u00a0has quit  \n12:44\u00a0<SvenDowideit\\_>\u00a0is now known as <SvenDowideit>  \n13:08\u00a0<jamesxu>\u00a0I want config my eclipse with javacodestyle.xml, but I found the xml files in http://dev.xwiki.org/xwiki/bin/view/Community/JavaCodeStyle can not be downloaded, 404 error occured  \n13:08\u00a0<jamesxu>\u00a0Could anyone tell me where to get them  \n13:13\u00a0<vmassol>\u00a0jamesxu: would be great if you could update that page  \n13:14\u00a0<vmassol>\u00a0with links to the new location on github: https://github.com/organizations/xwiki  \n13:14\u00a0<vmassol>\u00a0for ex validation resources are at https://github.com/xwiki/xwiki-commons/tree/master/xwiki-commons-tools/xwiki-commons-tool-validation-resources/src/main/resources  \n13:16\u00a0<jamesxu>\u00a0ok, I am going to update it~~~  \n13:16\u00a0<vmassol>\u00a0thxs!  \n13:17\u00a0<jamesxu>\u00a0but where to register to be a memeber of dev.xwiki.org  \n13:18\u00a0<vmassol>\u00a0on xwiki.org  \n13:18\u00a0<jamesxu>\u00a0I just found log-in url  \n13:22\u00a0<pulasthi>\u00a0has joined #xwiki  \n13:32\u00a0<jamesxu>\u00a0Ok, I have updated the \u00a0http://dev.xwiki.org/xwiki/bin/view/Community/JavaCodeStyle page  \n13:41\u00a0<kwoot>\u00a0has joined #xwiki  \n13:43\u00a0<kwoot>\u00a0Now I just Know that syntax 2.1 can use a template page in a pagelink. If only I hadn't forget how to do it.  \n13:43\u00a0<kwoot>\u00a0[[ page title text || target=targetpagename \u00a0and something else....]]  \n13:44\u00a0<kwoot>\u00a0anyone? it has been told on a blog some time ago, but can't seem to find the date.  \n13:47\u00a0<jvdrean>\u00a0has joined #xwiki  \n13:56\u00a0<kwoot>\u00a0Got it: [[Create a new thing>>Sandbox.NewPage||queryString=\"template=Blog.BlogPostTemplate\"]]  \n14:00\u00a0<@sdumitriu>\u00a0jamesxu: You should use the raw files: https://github.com/xwiki/xwiki-commons/raw/master/xwiki-commons-tools/xwiki-commons-tool-validation-resources/src/main/resources/codestyle-eclipse.xml  \n14:01\u00a0<@sdumitriu>\u00a0There's a link at the top of the file  \n14:01\u00a0<@sdumitriu>\u00a0raw | blame | history  \n14:06\u00a0<JSeymour>\u00a0has joined #xwiki  \n14:10\u00a0<pulasthi>\u00a0has left #xwiki  \n14:12\u00a0<kwoot>\u00a0has quit  \n14:16\u00a0<vmassol>\u00a0sdumitriu: when you have some time please reply to the VOTE about the new focus for 3.1  \n14:16\u00a0<@sdumitriu>\u00a0Right  \n14:16\u00a0<vmassol>\u00a0jvdrean, lucaa, mflorea and others too ;)  \n14:22\u00a0<arkub>\u00a0has quit  \n14:35\u00a0<@sdumitriu>\u00a0lucaa: Tried the class editor on the last snapshot, and it seems to work fine  \n14:35\u00a0<+lucaa>\u00a0sdumitriu: maybe it's something on my local then  \n14:36\u00a0<+lucaa>\u00a0when is the latest snapshot built?  \n14:37\u00a0<@sdumitriu>\u00a0?  \n14:38\u00a0<+lucaa>\u00a0the snapshot you tested on, I mean  \n14:38\u00a0<@sdumitriu>\u00a0xwiki-enterprise-jetty-hsqldb-3.1-20110517.090317-125.zip  \n14:38\u00a0<@sdumitriu>\u00a0So, 17/05/2011 at 9:03  \n14:42\u00a0<vmassol>\u00a0sdumitriu: is it normal that the following message is only sent in DEBUG level:  \n14:42\u00a0<vmassol>\u00a0Left side ($request.get('captchaAnswerWrong')) of '==' operation has null value. If it is a reference, it may not be in the context or its toString() returned null. /templates/commentsinline.vm[line 46, column 68]  \n14:43\u00a0<vmassol>\u00a0I thought we were sending those as warning before?  \n14:43\u00a0<@sdumitriu>\u00a0Maybe it's a different error  \n14:44\u00a0<vmassol>\u00a0same for:  \n14:44\u00a0<vmassol>\u00a0Null reference [template 'xwiki:Main.Activity', line 19, column 9] : $w cannot be resolved.  \n14:44\u00a0<@sdumitriu>\u00a0I've never seen this one  \n14:44\u00a0<vmassol>\u00a0note: I'm playing with Lilith which is a logviewer for logback  \n14:44\u00a0<@sdumitriu>\u00a0So I guess it's normal  \n14:44\u00a0<vmassol>\u00a0but do you agree these logs should be sent as warnings instead?  \n14:44\u00a0<@sdumitriu>\u00a0Not yet  \n14:45\u00a0<@sdumitriu>\u00a0It's usually slightly sloppy programming  \n14:45\u00a0<@sdumitriu>\u00a0It can help devs write better code  \n14:45\u00a0<@sdumitriu>\u00a0But it will fill logs needlessly for users  \n14:45\u00a0<vmassol>\u00a0well right now we do send application data in logs, so you're suggesting we change this now?  \n14:46\u00a0<vmassol>\u00a0(and wait till we have an app console)  \n14:46\u00a0<@sdumitriu>\u00a0Can you admin https://fisheye2.atlassian.com/changelog/xwiki ?  \n14:46\u00a0<vmassol>\u00a0no  \n14:46\u00a0<vmassol>\u00a0we need to ask them  \n14:46\u00a0<vmassol>\u00a0if we want to make a change  \n14:47\u00a0<+sburjan>\u00a0it's linked to the old repository ?  \n14:47\u00a0<+sburjan>\u00a0instead of github ?  \n14:51\u00a0<vmassol>\u00a0sdumitriu: it's impressive how many errors we have in our velocity code  \n14:51\u00a0<@sdumitriu>\u00a0Yes  \n14:51\u00a0<@sdumitriu>\u00a0vmassol: Should be fixed in time  \n14:51\u00a0<vmassol>\u00a0I wonder how it works  \n14:51\u00a0<@sdumitriu>\u00a0Which package must be set to DEBUG  \n14:51\u00a0<vmassol>\u00a0for ex:  \n14:51\u00a0<vmassol>\u00a02011-05-19 14:40:31,202 [http://localhost:8080/xwiki/bin/skin/resources/js/xwiki/xwiki.js] DEBUG o.x.v.i.DefaultVelocityEngine \u00a0- Null reference [template 'xwiki:resources.js', line 105, column 202] : $super cannot be resolved.  \n14:52\u00a0<@sdumitriu>\u00a0vmassol: Those are normal  \n14:52\u00a0<@sdumitriu>\u00a0Well, not quite normal  \n14:52\u00a0<vmassol>\u00a0we have a lot of those now too:  \n14:52\u00a0<vmassol>\u00a02011-05-19 14:40:31,213 [http://localhost:8080/xwiki/bin/skin/resources/uicomponents/search/searchSuggest.js?h=-2136443712] DEBUG o.x.v.i.DefaultVelocityEngine \u00a0- No class specified for #evaluate() context, so #set calls will now alter the global context and no longer be local. \u00a0This is a change from earlier versions due to VELOCITY-704. \u00a0If you need references within #evaluate to stay local, please use the automatically provided $evalua  \n14:54\u00a0<@sdumitriu>\u00a0vmassol: Build broken  \n14:54\u00a0<@sdumitriu>\u00a0\u00a0/home/hudsonagent/hudson\\_root/workspace/xwiki-platform/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/plugin/rightsmanager/RightsManagerUsersApi.java:437:0::0 Syntax error, parameterized types are only available if source level is 5.0  \n14:55\u00a0<@sdumitriu>\u00a0Doesn't Maven understand java 1.6?  \n14:55\u00a0<vmassol>\u00a0strange I've rebuilt the full codebase  \n14:55\u00a0<vmassol>\u00a0locally that is  \n14:56\u00a0<@sdumitriu>\u00a0Ah, I think it's the change you did in the aspectj configuration for oldcore  \n14:57\u00a0<vmassol>\u00a0you mean it hasn't rebuilt commons yet?  \n14:57\u00a0<vmassol>\u00a0(that's a pain btw, the build ordering is broken)  \n14:58\u00a0<@sdumitriu>\u00a0It should have been built  \n14:58\u00a0<vmassol>\u00a0actually it depends  \n14:58\u00a0<@sdumitriu>\u00a0I'm not sure aspectj knows 1.6  \n14:58\u00a0<vmassol>\u00a0again it all built fine locally  \n14:58\u00a0<@sdumitriu>\u00a0xwiki-commons was built 20 minutes ago  \n14:59\u00a0<@sdumitriu>\u00a0Maybe it was a build order thing  \n14:59\u00a0<@sdumitriu>\u00a0Let's wait for the new platform build  \n14:59\u00a0<vmassol>\u00a0yep  \n14:59\u00a0<florinciu>\u00a0has joined #xwiki  \n15:00\u00a0<@sdumitriu>\u00a0Yes, this time oldcode built fine  \n15:00\u00a0<@sdumitriu>\u00a0False alarm  \n15:00\u00a0<vmassol>\u00a0cool  \n15:02\u00a0<@sdumitriu>\u00a0But the agent is broken, X11 errors again  \n15:02\u00a0<@sdumitriu>\u00a0I'll restart it  \n15:07\u00a0<@sdumitriu>\u00a0vmassol: What did Ludo say about the 2.7 branch?  \n15:07\u00a0<@sdumitriu>\u00a0Can we discard it?  \n15:08\u00a0<vmassol>\u00a0I didn't ask  \n15:08\u00a0<vmassol>\u00a0but IMO we should discard it (according to our rule) and if it's still needed then it can be created from the last 2.7.x tag right?  \n15:09\u00a0<@sdumitriu>\u00a0Yes  \n15:26\u00a0<arkub>\u00a0has joined #xwiki  \n15:57\u00a0<lucaa>\u00a0has quit  \n15:58\u00a0<DrLou>\u00a0has joined #xwiki  \n16:02\u00a0<sdumitriu>\u00a0has quit  \n16:09\u00a0<lucaa>\u00a0has joined #xwiki  \n16:53\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:55\u00a0<vmassol>\u00a0hmm I wonder why enterprise tests are not executing  \n16:55\u00a0<vmassol>\u00a0on jenkins  \n16:56\u00a0<vmassol>\u00a0(btw I need to fix the cluster tests - there's an issue with ports)  \n17:20\u00a0<bartez>\u00a0has joined #xwiki  \n17:21\u00a0<bartez>\u00a0hello there  \n17:22\u00a0<bartez>\u00a0i have this error that i never had before. when i add a new property to a class, insted of showing the new property it displays the whole page like in a frame, saying an error occurred  \n17:26\u00a0<bartez>\u00a0what could trigger an error when adding a new property?  \n17:29\u00a0<@sdumitriu>\u00a0bartez: What does the error say?  \n17:29\u00a0<bartez>\u00a0\u00a0WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of method [com.xpn.xwiki.api.XWiki.parseMessage] in /templates/exceptioninline.vm@1,24  \n17:31\u00a0<@sdumitriu>\u00a0Hm, github doesn't escape XML, #fail  \n17:31\u00a0<bartez>\u00a0well it probably said a bit more  \n17:31\u00a0<@sdumitriu>\u00a0Note that property names have to follow some rules  \n17:31\u00a0<@sdumitriu>\u00a0bartez: What was the name of the property you were trying to add?  \n17:31\u00a0<bartez>\u00a0busena  \n17:32\u00a0<bartez>\u00a0the pretty name was with a utf8 coding  \n17:32\u00a0<bartez>\u00a0but i have other properties with pretty names in utf8 chars  \n17:32\u00a0<bartez>\u00a0and they work fine  \n17:33\u00a0<vmassol>\u00a0sdumitriu: don't know if it's you but someone added a \"comments\" package in ui tests which is not correct since packages are supposed to be app names  \n17:34\u00a0<@sdumitriu>\u00a0Yep, me  \n17:34\u00a0<@sdumitriu>\u00a0Didn't know the rule  \n17:34\u00a0<vmassol>\u00a0and \"framework\" means provided by xwiki-platform in templates  \n17:35\u00a0<bartez>\u00a0sdumitriu: http://g22.ktu.lt/~marius/error.txt  \n17:35\u00a0<@sdumitriu>\u00a0bartez: I think this isn't the name of the class, right? DEKC.Pirmas kursas  \n17:36\u00a0<bartez>\u00a0no  \n17:36\u00a0<@sdumitriu>\u00a0What version are you using?  \n17:36\u00a0<bartez>\u00a03  \n17:36\u00a0<@sdumitriu>\u00a03.0?  \n17:36\u00a0<bartez>\u00a0this is the document  \n17:36\u00a0<@sdumitriu>\u00a0OK, good  \n17:36\u00a0<@sdumitriu>\u00a0Go to that document, open it in the object editor  \n17:36\u00a0<@sdumitriu>\u00a0It should say something about deprecated properties  \n17:36\u00a0<@sdumitriu>\u00a0Does it?  \n17:37\u00a0<bartez>\u00a0yes  \n17:37\u00a0<bartez>\u00a0it does  \n17:37\u00a0<@sdumitriu>\u00a0K, click on the link that offers to remove those properties  \n17:37\u00a0<@sdumitriu>\u00a0wait  \n17:38\u00a0<@sdumitriu>\u00a0before that, remember the values for those properties, in case you need to save them in the new properties  \n17:38\u00a0<@sdumitriu>\u00a0After that, try again to change the class  \n17:38\u00a0<bartez>\u00a0works  \n17:38\u00a0<bartez>\u00a0thank you :)  \n17:39\u00a0<vmassol>\u00a0has quit  \n17:40\u00a0<vmassol>\u00a0has joined #xwiki  \n17:45\u00a0<vmassol>\u00a0ok found the issue with cluster tests I think  \n17:46\u00a0<vmassol>\u00a0seems like we start hsqldb in server mode and the default port for it is 9001 which conflicts with the port I've used for jmx  \n17:46\u00a0<vmassol>\u00a0fixing  \n17:53\u00a0<Denis>\u00a0has quit  \n17:53\u00a0<+sburjan>\u00a0vmassol: fixed the @since and @version. I will refactor the ui-tests and move everything that is not in a application in framework then  \n17:54\u00a0<vmassol>\u00a0ok  \n17:54\u00a0<vmassol>\u00a0thanks  \n17:54\u00a0<vmassol>\u00a0in some future, it would be good to have each app provide its own func tests  \n17:54\u00a0<vmassol>\u00a0to really have apps separated from each other  \n17:54\u00a0<vmassol>\u00a0and modular  \n17:54\u00a0<+sburjan>\u00a0yes, true  \n17:55\u00a0<+sburjan>\u00a0I'm struggling ATM to por everything from selenium 1 to selenium 2  \n17:55\u00a0<+sburjan>\u00a0but i'm the only one doing that, and I code max 4-5 days a month  \n17:55\u00a0<vmassol>\u00a0I think we should focus on making our existing ui tests work right now  \n17:55\u00a0<+sburjan>\u00a0so it's a very slow going process  \n17:55\u00a0<vmassol>\u00a0I'm worried about false postivies  \n17:55\u00a0<vmassol>\u00a0we have way too many  \n17:55\u00a0<vmassol>\u00a0so we need to stabilize our exisitng code  \n17:55\u00a0<vmassol>\u00a0so that we can rely on it  \n17:55\u00a0<+sburjan>\u00a0so not porting and finally getting rid of selenium 1 tests is the priority ?  \n17:55\u00a0<vmassol>\u00a0in several places it's missing some wait  \n17:56\u00a0<vmassol>\u00a0well both are  \n17:56\u00a0<vmassol>\u00a0I'm talking about 3.1 release rightnow  \n17:56\u00a0<vmassol>\u00a0we need all tests to pass  \n17:56\u00a0<+sburjan>\u00a0i'm more focused on the porting  \n17:56\u00a0<+sburjan>\u00a0also true  \n17:56\u00a0<vmassol>\u00a0so porting is not going to help for that  \n17:56\u00a0<vmassol>\u00a0it could go in the other way  \n17:56\u00a0<vmassol>\u00a0:)  \n17:56\u00a0<vmassol>\u00a0let's hope not!  \n17:56\u00a0<vmassol>\u00a0;)  \n17:56\u00a0<vmassol>\u00a0but  \n17:56\u00a0<vmassol>\u00a0on a longer term what you're doing is great  \n17:56\u00a0<vmassol>\u00a0since we do need to port from sel1 to sel2  \n17:57\u00a0<+sburjan>\u00a0i know. but my machine is a total wreck, and I don't get much of flickers on it. so it's more safe for me to port that try to optimize existing ui-tests  \n17:57\u00a0<vmassol>\u00a0if you have some time right now I'd rather you help us stabilize existing tests  \n17:57\u00a0<vmassol>\u00a0before the final 3.1 release  \n17:57\u00a0<vmassol>\u00a0then once it's released you could continue porting the tests  \n17:57\u00a0<vmassol>\u00a0wdyt?  \n17:58\u00a0<vmassol>\u00a0note: it's much more difficult to fix a flickering tests though  \n17:58\u00a0<Denis>\u00a0has joined #xwiki  \n17:58\u00a0<+sburjan>\u00a0okay. but first we have to stabilize the build so tests can run. Then, see which fails and try to fix, right ?  \n17:58\u00a0<vmassol>\u00a0yep  \n17:59\u00a0<+sburjan>\u00a0ok. I can \\_try\\_ that. if the flicker doesn't reproduce on my machine, it's gonna be hard to fix (I have a very slow machine)  \n17:59\u00a0<+sburjan>\u00a0ok. I guess we'll see tomorrow  \n18:00\u00a0<vmassol>\u00a0flicker never reproduce  \n18:00\u00a0<vmassol>\u00a0it's a fact of life  \n18:00\u00a0<vmassol>\u00a0(they never reperoduce on my machine either\u00e0  \n18:00\u00a0<vmassol>\u00a0which is why I said they're hard to fix  \n18:01\u00a0<vmassol>\u00a0you have to analyze potential issues, do trial and errors  \n18:01\u00a0<+sburjan>\u00a0well, I can try. My debugging skills have improved :)  \n18:01\u00a0<+sburjan>\u00a0yes  \n18:01\u00a0<vmassol>\u00a0one good way though is to run the same tests 1000 times  \n18:01\u00a0<vmassol>\u00a0I usually add a loop in the test  \n18:01\u00a0<vmassol>\u00a0to run ti 100 to 1000 times  \n18:01\u00a0<vmassol>\u00a0you'll be surprised by the result...  \n18:02\u00a0<vmassol>\u00a0you'll see tests failing from time to time for different reasons almost every time  \n18:02\u00a0<vmassol>\u00a0it's a bit depressing  \n18:03\u00a0<+sburjan>\u00a0I will ask you more questions when I will actually start doing that (tomorrow)  \n18:04\u00a0<+sburjan>\u00a0I hope we'll have successful build by tomorrow  \n18:05\u00a0<+sburjan>\u00a0going home, have a nice evening  \n18:05\u00a0<vmassol>\u00a0u2  \n18:07\u00a0<sburjan>\u00a0has quit  \n18:18\u00a0<vmassol>\u00a0sdumitriu: platform still hasn't built on jenkins\u2026 :(  \n18:18\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/182/console  \n18:18\u00a0<@sdumitriu>\u00a0I know  \n18:18\u00a0<vmassol>\u00a0no idea why the channel was closed though  \n18:18\u00a0<@sdumitriu>\u00a0It hanged, I restarted it a few minutes ago  \n18:18\u00a0<vmassol>\u00a0timeout?  \n18:19\u00a0<vmassol>\u00a0ah so the channel closed is becuase you killed it  \n18:19\u00a0<@sdumitriu>\u00a0Probably not  \n18:19\u00a0<@sdumitriu>\u00a0The new build failed to start  \n18:19\u00a0<@sdumitriu>\u00a0http://ci.xwiki.org/job/xwiki-platform/183/console  \n18:20\u00a0<vmassol>\u00a0git polling issue?  \n18:20\u00a0<vmassol>\u00a0the good news is that it seems that the global maven opts params are used in teh build now  \n18:21\u00a0<vmassol>\u00a0-Xmx512m -XX:MaxPermSize=256m  \n18:21\u00a0<@cjdelisle>\u00a0Yes, I solved that, the problem was they were being overridden by xwiki-platform configuration.  \n18:21\u00a0<vmassol>\u00a0(at least on agent2)  \n18:21\u00a0<@sdumitriu>\u00a0I can't ssh to the agent  \n18:22\u00a0<vmassol>\u00a0cjdelisle: where?  \n18:22\u00a0<vmassol>\u00a0oh  \n18:22\u00a0<vmassol>\u00a0there was a specific jenkins config for xwiki-platform  \n18:22\u00a0<vmassol>\u00a0indeed should have thought about this!  \n18:22\u00a0<@cjdelisle>\u00a0Those numbers are what I have been using on my box so I considered them a little bit saner than 1400m as they would encourage more agressive garbage collection.  \n18:23\u00a0<vmassol>\u00a0any idea on how to solve http://ci.xwiki.org/job/xwiki-platform/183/console ?  \n18:24\u00a0<@cjdelisle>\u00a0is there any text at all? I don't see any  \n18:24\u00a0<@sdumitriu>\u00a0Yes  \n18:24\u00a0<@sdumitriu>\u00a0Reboot the machine  \n18:24\u00a0<@sdumitriu>\u00a0I repeat:  \n18:24\u00a0<@sdumitriu>\u00a0I can't ssh to the agent  \n18:24\u00a0<@sdumitriu>\u00a0agent1 works  \n18:24\u00a0<@sdumitriu>\u00a0agent2 not  \n18:24\u00a0<@cjdelisle>\u00a0you can't? I'm looking at top right now  \n18:24\u00a0<@cjdelisle>\u00a0on agent2  \n18:25\u00a0<@sdumitriu>\u00a0[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection) ?  \n18:25\u00a0<@cjdelisle>\u00a0or no I'm not  \n18:25\u00a0<@cjdelisle>\u00a0haha shell is not responding  \n18:26\u00a0<@sdumitriu>\u00a0Reminds me of those movies where the burglars put a photo of the hallway in front of the security camera  \n18:26\u00a0<@cjdelisle>\u00a0I think this is a memory exhaustion issue, whenever it died of permgen exhaustion the java process was left because it couldn't kill itself  \n18:27\u00a0<@cjdelisle>\u00a0I tried a SIGINT and it would say it got an OOM responding to a SIGINT so I had to use kill -4 to stop it.  \n18:27\u00a0<@cjdelisle>\u00a0And it ate through all of the swap (there's only 512M of swap for 2G of ram)  \n18:27\u00a0<@sdumitriu>\u00a0Could be  \n18:28\u00a0<@cjdelisle>\u00a0haha  \n18:28\u00a0<@sdumitriu>\u00a0Shouldn't the low memory detector kick in and kill some processes?  \n18:28\u00a0<@cjdelisle>\u00a0I was running top the moment it died  \n18:28\u00a0<@cjdelisle>\u00a0Mem: \u00a0\u00a02038784k total, \u00a02028976k used, \u00a0\u00a0\u00a0\u00a09808k free, \u00a0\u00a0\u00a0\u00a0\u00a0244k buffers  \n18:28\u00a0<@cjdelisle>\u00a0Swap: \u00a0\u00a0522104k total, \u00a0\u00a0522104k used, \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00k free, \u00a0\u00a0\u00a0\u00a02216k cached  \n18:28\u00a0<@sdumitriu>\u00a0Is the same thing happening on agent1?  \n18:29\u00a0<@sdumitriu>\u00a0Nope, just one java process  \n18:29\u00a0<@cjdelisle>\u00a0agent1 has free memory now but I was killing processes earlier when they were dieing of memory exhaustion  \n18:29\u00a0<@cjdelisle>\u00a0\\*permgen  \n18:33\u00a0<arkub>\u00a0has quit  \n18:34\u00a0<@cjdelisle>\u00a0top - 16:24:22 up 100 days, \u00a04:28, \u00a01 user, \u00a0load average: 12.59, 4.94, 2.35  \n18:34\u00a0<@cjdelisle>\u00a0hehehe nice load avg  \n18:34\u00a0<florinciu>\u00a0has quit  \n18:34\u00a0<arkub>\u00a0has joined #xwiki  \n18:35\u00a0<@cjdelisle>\u00a0I just tried \"q kill -4 18775\" if that works then it will start working again.  \n18:45\u00a0<vmassol>\u00a0hmm lots of myxwiki restarts  \n18:45\u00a0<vmassol>\u00a0java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0Exception in thread \"EvictionTimer-6\" java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0Exception in thread \"DefaultQuartzScheduler\\_QuartzSchedulerThread\" java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0Exception in thread \"EvictionTimer-10\" java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0Exception in thread \"http-8080-Acceptor-0\" Exception in thread \"TP-Processor21\" java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0Exception in thread \"TP-Processor23\" java.lang.OutOfMemoryError: Java heap space  \n18:46\u00a0<vmassol>\u00a0java.lang.OutOfMemoryError: Java heap space  \n18:53\u00a0<@cjdelisle>\u00a0I'm starting to think that we may actually have to interrupt agent2's source of electricity.  \n18:54\u00a0<vmassol>\u00a0-Xmx800  \n18:54\u00a0<vmassol>\u00a0(wrong chat)  \n18:54\u00a0<jvdrean>\u00a0has quit  \n18:54\u00a0<vmassol>\u00a0(that's the value for node1 of myxwiki.org)  \n18:55\u00a0<vmassol>\u00a0seems high enough\u2026. althugh we get OOM  \n18:56\u00a0<@cjdelisle>\u00a0are there any stuck threads?  \n18:57\u00a0<vmassol>\u00a0how would that affect mem?  \n18:57\u00a0<@cjdelisle>\u00a0if that thread stuck while holding references then it could  \n18:58\u00a0<@cjdelisle>\u00a0(runs out of memory before exhausting thread count)  \n18:58\u00a0<vmassol>\u00a0btw cjdelisle do you receive the myxwiki mails?  \n18:58\u00a0<@cjdelisle>\u00a0nope  \n18:58\u00a0<vmassol>\u00a0ah yes I wanted to create that mailing list  \n18:58\u00a0<vmassol>\u00a0jerome said he'd do it  \n18:58\u00a0<vmassol>\u00a0let me ping him again  \n18:58\u00a0<@cjdelisle>\u00a0while you're at it mention that agent2 needs to be unplugged  \n18:59\u00a0<@cjdelisle>\u00a0and cjdelisle needs root ;)  \n18:59\u00a0<vmassol>\u00a0already mentined by sdumitriu  \n18:59\u00a0<@cjdelisle>\u00a0ok  \n18:59\u00a0<vmassol>\u00a0but admins seem busy right now  \n18:59\u00a0<@cjdelisle>\u00a0yup  \n19:00\u00a0<@cjdelisle>\u00a0I was kind of thinking of seting up some vpses on my desktop and try running agents on them  \n19:02\u00a0<+sburjan`>\u00a0on your local machine ?  \n19:02\u00a0<@cjdelisle>\u00a0:)  \n19:03\u00a0<@cjdelisle>\u00a0I bought an expensive mb which had a lot of ram sockets so I could use relitively cheap ram  \n19:03\u00a0<@cjdelisle>\u00a0kgpe-d16 I highly recommend it  \n19:04\u00a0<+sburjan`>\u00a0do you have some custom kernel on the machine ? :)  \n19:04\u00a0<@cjdelisle>\u00a0I did but it was crashing so I put back the default debian  \n19:05\u00a0<@cjdelisle>\u00a0whaaat? You mean a git clone is unstable?  \n19:06\u00a0<@cjdelisle>\u00a0bbiab  \n19:08\u00a0<lucaa>\u00a0has quit  \n19:09\u00a0<vmassol>\u00a0sburjan`: the oracle machine is ready! :)  \n19:09\u00a0<vmassol>\u00a0sburjan`: would be good if you can plan a test session on it to verify what works/doesn't work on oracle  \n19:10\u00a0<+sburjan`>\u00a0yepp, already talked to Florin about it. I was waiting for the Oracle machine to be ready also :)  \n19:10\u00a0<+sburjan`>\u00a0Tomorrow I can test on it  \n19:10\u00a0<+sburjan`>\u00a0or whenever you say  \n19:10\u00a0<vmassol>\u00a0asap I'd say  \n19:12\u00a0<+sburjan`>\u00a0tomorrow then. It's gonna be quite challenging to catch oracle specific issues  \n19:14\u00a0<+sburjan`>\u00a0I will ping you tomorrow  \n19:14\u00a0<vmassol>\u00a0challenging?  \n19:14\u00a0<vmassol>\u00a0it's easy I think  \n19:15\u00a0<vmassol>\u00a0just try the normal tests  \n19:15\u00a0<vmassol>\u00a0see what works and doesn't  \n19:15\u00a0<+sburjan`>\u00a0well I don't know how to differentiate oracle specific issues and others  \n19:15\u00a0<vmassol>\u00a0why do you want to differentiate them? :)  \n19:15\u00a0<+sburjan`>\u00a0but I will also look at the console (if i'll have access)  \n19:15\u00a0<vmassol>\u00a0from a user pov it's independent,  \n19:15\u00a0<vmassol>\u00a0they are the same  \n19:15\u00a0<vmassol>\u00a0whether it runs on mysql or oracle  \n19:15\u00a0<vmassol>\u00a0so you need to run the exact same tests  \n19:16\u00a0<+sburjan`>\u00a0from a user POV it is, but we're looking for something that specificly breaks only on oracle, right ?  \n19:16\u00a0<vmassol>\u00a0we want to check all features  \n19:16\u00a0<vmassol>\u00a0for ex  \n19:16\u00a0<vmassol>\u00a0does a page deletion work?  \n19:16\u00a0<vmassol>\u00a0does a rename work?  \n19:16\u00a0<vmassol>\u00a0does an attachment remove work  \n19:16\u00a0<vmassol>\u00a0etc  \n19:16\u00a0<vmassol>\u00a0so anything that calls the db in the end  \n19:16\u00a0<vmassol>\u00a0which is almost everything  \n19:16\u00a0<+sburjan`>\u00a0yepp. okay. So testing only on Firefox is ok, right ?  \n19:16\u00a0<vmassol>\u00a0yep  \n19:16\u00a0<+sburjan`>\u00a0great  \n19:17\u00a0<+sburjan`>\u00a0you made my job /4 easier :)  \n19:17\u00a0<vmassol>\u00a0cool  \n19:25\u00a0<@sdumitriu>\u00a0sburjan`: You should look for stacktraces, not misaligned UI  \n19:26\u00a0<@sdumitriu>\u00a0What usually breaks on Oracle is stuff with empty strings  \n19:26\u00a0<@sdumitriu>\u00a0Or complex queries  \n19:27\u00a0<+sburjan`>\u00a0yes, I know (about looking at stacktraces and not UI). But I must admit I don't know how to create complex queries. Like, don't know at all. Not familiar with hibernae and hsql and xql  \n19:27\u00a0<@sdumitriu>\u00a0You shouldn't create queries  \n19:27\u00a0<@sdumitriu>\u00a0The queries that are used by the platform are important  \n19:28\u00a0<+sburjan`>\u00a0ok. I will test the DB and try to make it break  \n19:28\u00a0<+sburjan`>\u00a0I was saying that I don;t know to write questies on search for example  \n19:32\u00a0<+sburjan`>\u00a0great then :)  \n19:37\u00a0<bartez>\u00a0has quit  \n19:46\u00a0<vmassol>\u00a0has quit  \n19:46\u00a0<@cjdelisle>\u00a0stopping http://ci.xwiki.org/job/xwiki-platform-3.0/19/console  \n19:47\u00a0<@cjdelisle>\u00a0after 3 hours...  \n19:48\u00a0<vmassol>\u00a0has joined #xwiki  \n19:58\u00a0<arkub>\u00a0has quit  \n20:17\u00a0<Chami1>\u00a0has joined #xwiki  \n20:45\u00a0<jvdrean>\u00a0has joined #xwiki  \n21:13\u00a0<Chami1>\u00a0sdumitriu: hi  \n21:34\u00a0<Chami1>\u00a0has left #xwiki  \n22:00\u00a0<@sdumitriu>\u00a0vmassol: You do know that you can put a comment as you close an issue, right?  \n22:00\u00a0<vmassol>\u00a0sdumitriu: that's what I do but it seems there's a small bug in jiraclient  \n22:00\u00a0<@sdumitriu>\u00a0Ah, OK  \n22:00\u00a0<vmassol>\u00a0(it sends them as 2 events)  \n22:00\u00a0<vmassol>\u00a0(apparently)  \n22:17\u00a0<mar3lis>\u00a0has joined #xwiki  \n22:18\u00a0<mar3lis>\u00a0hello guys  \n22:18\u00a0<mar3lis>\u00a0is there an extension for velocity like javascript extension? or maybe some other method, the reason is i need the function Always in this wiki  \n22:18\u00a0<mar3lis>\u00a0so that the code would be executed all the time  \n22:19\u00a0<@sdumitriu>\u00a0You could add some macros in macros.vm  \n22:20\u00a0<@sdumitriu>\u00a0But it depends on what you want to do  \n22:20\u00a0<mar3lis>\u00a0i need to check if some files exist or not  \n22:20\u00a0<mar3lis>\u00a0and if not  \n22:20\u00a0<mar3lis>\u00a0to create them  \n22:20\u00a0<@sdumitriu>\u00a0All the time?  \n22:20\u00a0<@sdumitriu>\u00a0That's not that good for performance  \n22:21\u00a0<mar3lis>\u00a0well I dont know a better way..  \n22:24\u00a0<@sdumitriu>\u00a0Is the list of documents static? Or do they depend on the current user?  \n22:26\u00a0<mar3lis>\u00a0the list of document types is static, only the quantity depends on how many users ar attending to the lecture  \n22:28\u00a0<mar3lis>\u00a0for every new lecture i need to create two files, for every new member i need to create one file, when the lecture starts i need to create a file for each member in that lecture  \n22:28\u00a0<jamesxu>\u00a0has quit  \n22:30\u00a0<vmassol>\u00a0sdumitriu: fyi just learnt that all releases of JBoss Infinispan (successor of jboss cache) are Beer names ;)  \n22:30\u00a0<vmassol>\u00a0\"Yep, toutes les versions d'Infinispan sont nomm\u00e9es apr\u00e8s des bi\u00e8res.  \n22:30\u00a0<vmassol>\u00a0Le vote est fait dans la communaut\u00e9 \u00e0 chaque version :)  \n22:30\u00a0<vmassol>\u00a0JBoss Cache, c'\u00e9tait des piments.\"  \n22:30\u00a0<vmassol>\u00a0(that reminded me of the proposal to use cocktail names for xwiki releases ;))  \n22:33\u00a0<@cjdelisle>\u00a0beer is a little bit more socially acceptable than mixed drinks ofc wines would make for good release cycle names  \n22:34\u00a0<@cjdelisle>\u00a0but then people would be even less likely to upgrade...  \n22:34\u00a0<vmassol>\u00a0got to go  \n22:34\u00a0<vmassol>\u00a0nn  \n22:34\u00a0<vmassol>\u00a0has quit  \n22:34\u00a0<@cjdelisle>\u00a0is there an eta on agent2?  \n22:35\u00a0<@cjdelisle>\u00a0IE should I interrupt the channel thread from master so it stops blocking platform from being built and I can continue debugging?  \n22:38\u00a0<mflorea>\u00a0has quit  \n22:38\u00a0<sdumitriu>\u00a0has quit  \n22:40\u00a0<jamesxu>\u00a0has joined #xwiki  \n23:07\u00a0<vmassol>\u00a0has joined #xwiki  \n23:09\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:09\u00a0<@sdumitriu>\u00a0sed rulz  \n23:11\u00a0<vmassol>\u00a0has quit  \n23:17\u00a0<+sburjan`>\u00a0what is sed ?  \n23:17\u00a0<@cjdelisle>\u00a0haha  \n23:17\u00a0<@cjdelisle>\u00a0http://www.grymoire.com/Unix/Sed.html  \n23:17\u00a0<@cjdelisle>\u00a0sed is awesome and full of win  \n23:58\u00a0<+sburjan`>\u00a0one thing I don't quite understand  \n23:58\u00a0<+sburjan`>\u00a0why JUnit test methods names have to start with test if they are annotated as @Test ?  \n23:59\u00a0<@cjdelisle>\u00a0They do not anymore, it is now only a convention.  \n23:59\u00a0<+sburjan`>\u00a0well mine don;t run if they don't start with test  \n23:59\u00a0<+sburjan`>\u00a0on JUnit 4.8.2  \n\n"}