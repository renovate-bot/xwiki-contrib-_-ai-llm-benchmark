{"id": "dev:IRC.xwikiArchive20100916", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100916", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nbblfish joined #xwiki at 00:16  \nMartinCleaver left at 00:17 (Quit: MartinCleaver  \nrrodriguez joined #xwiki at 00:24  \nbblfish - (00:30): ah restlet est la de nouveau  \nProshot left at 00:48 (Excess Flood  \nProshot joined #xwiki at 00:48  \nrrodriguez left at 00:49 (Quit: rrodriguez  \nProshot left at 00:53 (Read error: Connection reset by peer  \nbblfish left at 01:13 (Quit: Leaving.  \nbblfish joined #xwiki at 01:14  \nbblfish left at 01:19 (Ping timeout: 245 seconds  \nzztr joined #xwiki at 01:53  \nevalica joined #xwiki at 02:00  \nsburjan` left at 02:11 (  \nevalica left at 02:17 (Read error: Connection reset by peer  \nsburjan` joined #xwiki at 02:32  \nnickless left at 02:59 (Ping timeout: 276 seconds  \npenyaskito left at 03:20 (Read error: Connection reset by peer  \nvenkatesh left at 03:54 (Ping timeout: 255 seconds  \nSvenDowideit left at 04:01 (Excess Flood  \nSvenDowideit joined #xwiki at 04:02  \njvdrean joined #xwiki at 04:07  \nzztr left at 04:07 (Ping timeout: 240 seconds  \njvdrean left at 04:08 (Client Quit  \nvenkatesh joined #xwiki at 04:39  \nsdumitriu left at 04:47 (Ping timeout: 240 seconds  \nMartinCleaver joined #xwiki at 04:51  \nMartinCleaver left at 05:52 (Quit: MartinCleaver  \nvenkatesh left at 06:02 (Quit: Ex-Chat  \nvenkatesh joined #xwiki at 06:03  \nrrodriguez joined #xwiki at 07:33  \nmflorea joined #xwiki at 08:33  \ngavin-opensource joined #xwiki at 08:35  \ngavin-opensource - (08:36): hi, can xwiki embed an existing project ?  \ncjdelisle - (08:37): The answer is yes but how difficult it will be depends on what you want to do with it.  \ncjdelisle - (08:38): What did you have in mind?  \ngavin-opensource - (08:39): my project need a wiki module , so ...  \nasrfel joined #xwiki at 08:40  \ncjdelisle - (08:40): There are 2 methods I can think of. You can either pick and choose components such as rendering or captcha to include, or you can include the entire wiki, it sounds like you want the entire wiki.  \nsilviar joined #xwiki at 08:41  \ncjdelisle - (08:41): Do you need to have xwiki use an external authentication mechanism?  \nrrodriguez left at 08:42 (Quit: rrodriguez  \ngavin-opensource - (08:43): I think include rendering is a good idea.  \ncjdelisle - (08:43): If you're looking for a wiki for your project then I think you want to include everything rather than pulling things in one here and one there.  \ngavin-opensource - (08:47): my project is enterprise2.0 platform, I want to enhance it's wiki module.  \ncjdelisle - (08:47): \"enterprise2.0 platform\" you mean you're already using XWiki Enterprise 2.0?  \ngavin-opensource - (08:48): ConcourseConnect, not xwiki  \ncjdelisle - (08:49): And you're planning on porting from concourse to xwiki or integrating them?  \nsburjan joined #xwiki at 08:49  \ngavin-opensource - (08:50): I just want to enhance ConcourseConnect's wiki, easy to use.  \nsdumitriu joined #xwiki at 08:50  \ncjdelisle - (08:51): \"to enhance ConcourseConnect's wiki\" that will be difficult, I think you would be better off to run an XWiki installation on the side.  \ncjdelisle - (08:52): So concourse might be your website and then the community section might be XWiki.  \ngavin-opensource - (08:53): thanks ...  \ncjdelisle - (08:54): Anything else I can help with?  \ngavin-opensource - (08:56): thanks \u00a0let me try the xwiki first.  \ngavin-opensource left at 09:04 (Quit: Leaving.  \nsburjan left at 09:10 (Ping timeout: 264 seconds  \nsilviar left at 09:27 (Ping timeout: 264 seconds  \nfmancinelli joined #xwiki at 09:28  \nsilviar joined #xwiki at 09:36  \ntmortagne joined #xwiki at 09:39  \nlpereira joined #xwiki at 09:42  \narkub joined #xwiki at 09:46  \nvmassol joined #xwiki at 09:50  \nsburjan joined #xwiki at 09:56  \nlucaa joined #xwiki at 10:04  \nbblfish joined #xwiki at 10:20  \ncjdelisle - (10:31): Does anyone remember if we have an issue for the broken formatting of the \"this document is locked by $user\" page?  \nvmassol - (10:35): no idea  \njvdrean joined #xwiki at 10:39  \ngavin-opensource joined #xwiki at 10:40  \ngavin-opensource - (10:40): hi, how to instance class EmbeddableComponentManager  \ngavin-opensource - (10:41): I got an exception, Failed to dynamically load components with annotations  \ncjdelisle - (10:41): Does anyone have any opinions on \"[proposal] Add xcontext.dropPermissions() function to take away all programming/script author permissions when called.\" Alex and I are in favor and I haven't heard any opposition so unless anyone has any questions/comments/concerns, I'd like to apply this today.  \nvmassol - (10:41): gavin-opensource: there's an example here: http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-containers/xwiki-container-servlet/src/main/java/org/xwiki/container/servlet/XWikiServletContextListener.java  \ngavin-opensource - (10:42): good ... , thanks vmassol  \nvmassol - (10:42): gavin-opensource: basically it's just 2 lines  \nbblfish left at 10:49 (Quit: Leaving.  \nbblfish joined #xwiki at 10:50  \nbblfish left at 10:54 (Ping timeout: 245 seconds  \nsburjan left at 10:59 (Quit: Ex-Chat  \nsburjan joined #xwiki at 11:00  \nEnygma` joined #xwiki at 11:07  \nevalica joined #xwiki at 11:07  \ncjdelisle - (11:12): haha sed abuse:  \ncjdelisle - (11:12): find ./ -name '\\*.vm' | sed -e 's/^\\(.\\*\\)$/cat \\1 | sed -e \"s\\/\\\\\\$context\\/\\\\\\$xcontext\\/g\" -e \"s\\/\\\\\\$!context\\/$!xcontext\\/g\" -e \"s\\/\\\\\\${context\\/\\\\\\${xcontext\\/g\" -e \"s\\/\\\\\\$!{context\\/\\\\\\$!{xcontext\\/g\" > \\1\\.new ; mv \\1\\.new \\1/' | sed s/\\\"/\\'/g > script.sh  \nvmassol - (11:13): nice ;)  \ngavin-opensource - (11:20): :)  \ncjdelisle - (11:22): - \u00a0#set($contextLeft \u00a0= 4) \u00a0\u00a0\u00a0hmm oops.  \ncjdelisle - (11:47): fixed.  \ncjdelisle - (11:47): find ./ -name '\\*.vm' | sed -e 's/^\\(.\\*\\)$/cat \\1 | sed -e \"s\\/\\\\\\$context\\\\\\([^a-zA-Z0-9\\_-]\\\\\\)\\/\\\\\\$xcontext\\\\1\\/g\" -e \"s\\/\\\\\\$!context\\\\\\([^a-zA-Z0-9\\_-]\\\\\\)\\/$!xcontext\\\\1\\/g\" -e \"s\\/\\\\\\${context\\\\\\([^a-zA-Z0-9\\_-]\\\\\\)\\/\\\\\\${xcontext\\\\1\\/g\" -e \"s\\/\\\\\\$!{context\\\\\\([^a-zA-Z0-9\\_-]\\\\\\)\\/\\\\\\$!{xcontext\\\\1\\/g\" > \\1\\.new ; mv \\1\\.new \\1/' | sed s/\\\"/\\'/g > script.sh ; sh script.sh  \ncjdelisle - (11:48): probably could skip the generation of script.sh but I find it easier to be able to review the changes.  \nlucaa - (11:52): hi guys  \nlucaa - (11:53): I am looking at implementing the main dashboard using the dashboard macro (basically the column macro), by default  \nlucaa - (11:53): and in order to do that, I would need the various \"zones\" of the main dashboard to be gadgets  \nlucaa - (11:54): the spaces section, the tag cloud, etc  \nlucaa - (11:54): since now gadgets are macros, I would need this to be macros  \nlucaa - (11:55): but, if I remember correctly, in order for a wiki macro to the available in the whole wiki or global, its author must have programming rights...  \ncjdelisle - (11:55): Are you (or anyone) working in /applications/?  \ncjdelisle - (11:56): aka working on code in an existing application which contains '$context'  \nlucaa - (11:56): cjdelisle: is that for me?  \ncjdelisle - (11:57): You or anyone, I have a regex to replace all $context with $xcontext, could ruin your day if you were working on an application.  \nlucaa - (11:58): in the enterprise .xar? or in all the applications?  \ncjdelisle - (11:59): platform/applications/  \nlucaa - (11:59): I think I lost some conversation / mails or something, but why?  \nlucaa - (11:59): I do, yes, very probably the annotations application is using it in a few places  \ncjdelisle - (12:00): Well whenever you don't have anything to commit, I can change all of those at once.  \nlucaa - (12:00): no, I'm not comitting in the annotations  \nlucaa - (12:00): but, again, why?  \ncjdelisle - (12:00): because $context is deprecated AFAIK.  \ncjdelisle - (12:01): Already done for /web/standard/ in r31130  \nlucaa - (12:03): well... ok, but beware, annotations don't really have functional tests  \nvmassol - (12:03): what?  \nvmassol - (12:03): :)  \nlucaa - (12:03): so if something fails we're gonna have a bit of trouble finding out...  \nvmassol - (12:03): how come  \nvmassol - (12:03): so when are you fixing this? ;)  \nlucaa - (12:03): vmassol: well, the dog ate my homework :( because of the lack of time  \nvmassol - (12:04): lack of time is never a good reason  \nlucaa - (12:04): I think sburjan handled writing a few of them  \nvmassol - (12:04): since you have to write them at the same time as you code  \ncjdelisle - (12:04): So replacing all instances of $context with $xcontext might break something?  \nlucaa - (12:04): no, but it's the most frequent  \nvmassol - (12:04): no no  \nvmassol - (12:05): what I mean is that we must never not prove that something work and it's better to do less than deliver something without proof  \nlucaa - (12:05): cjdelisle: no, it shouldn't, but you never know, something might go wrong  \nvmassol - (12:05): so imagine you have 10 features to code, it's better to code only 5 that work (with proof) than 10 not working  \nlucaa - (12:05): vmassol: I know, it is wrong not to have the tess  \nlucaa - (12:05): tests  \nvmassol - (12:05): because you can be sure they're not going to work  \ncjdelisle - (12:05): Wrong? with \\_my\\_ sed command? \u00a0hah \u00a0no i review the patches first to make sure it didn't do anything else.  \nvmassol - (12:06): and you'll spend time fixing them  \nvmassol - (12:06): which is what happened with annotations already I believe  \nvmassol - (12:06): (at least to some degree)  \nvmassol - (12:06): anyway  \nvmassol - (12:06): back to my code and my tests ;)  \nvmassol - (12:06): (trying to fix them actually)  \nlucaa - (12:06): yes, which is why I asked sorin to write some basic tests for the annos  \nlucaa - (12:07): I think they are committed already  \nlucaa - (12:07): but they;re not really covering everything  \nlucaa - (12:07): so I know what I have to do and how to do the job right  \nbblfish joined #xwiki at 12:10  \nsburjan - (12:10): vmassol, : writing the annotation tests is a bit tricky. As I said, there isnt support for double click in Se2. So I can't select text to annotate  \nsburjan - (12:10): maybe It can be accomplised with js  \nsburjan - (12:10): I'll have to look deeper into that  \nlucaa - (12:10): mmh... do you need double click?  \nsburjan - (12:11): as soon as I finid DocumentIndex tests  \nsburjan - (12:11): I need double click to select a work, or any other method to select pieces of text  \nsburjan - (12:11): so I can emulate Ctrl+m and annotate it  \nlucaa - (12:11): ah, ok  \nsburjan - (12:11): \\*word  \nlucaa - (12:11): (didn't know what double click is for)  \nsburjan - (12:12): But I'm hopingto be able to bypass this someway  \nsburjan - (12:12): dunno if js is able tu ui select text  \nlucaa - (12:12): yes, ping me when you start, we should look at that together  \nsburjan - (12:12): like any user would humanly do before annotating  \nsburjan - (12:12): okay.. I will  \nlucaa - (12:12): well, if you have js you can actually manipulate selection  \nlucaa - (12:13): it's not what a user would do, and it's hard to cross browser, but it would do the job  \nlucaa - (12:13): anyway, back to my question  \nlucaa - (12:13): about the macros  \nlucaa - (12:13): in the main dashboard  \nsburjan - (12:13): because Se2 allows parsing with xpath the text, so I can retrieve the text, but I'm stuck at actually selecting the text (holding and dragging mouse cursof over the text)  \nlucaa - (12:14): is this an option? to transform these \"components\" into wiki macros? knowing that they will need programming rights? how do you see this thing (possible issues / solutions)?  \narkub left at 12:16 (Ping timeout: 265 seconds  \ncjdelisle - (12:21): hmm this could be a security issue (doc.creator = '$xcontext.user' or (isPublished.value = 1 and hidden.value = 0))\")  \ncjdelisle - (12:21): blog/src/main/resources/Blog/BlogCode.xml  \ncjdelisle - (12:23): same in panels/src/main/resources/Panels/MyRecentModifications.xml  \ncjdelisle - (12:23): Probably one of those things which is not exploitable but gives me an uneasy feeling.  \nmflorea left at 12:23 (Quit: Leaving.  \nsburjan - (12:23): vmassol, : If I wrote a test, do you have time to look at it ?  \ncjdelisle - (12:27): committed. AFAIK no uses of $context left in /platform/ \u00a0:D  \nflorinciu joined #xwiki at 12:31  \ncjdelisle - (12:32): Anyone working on templates or applications should svn up since that revision hit pretty much all of them.  \nsilviar left at 12:50 (Quit: Leaving.  \nmflorea joined #xwiki at 13:02  \nnickless joined #xwiki at 13:07  \nnickless is now known as abusenius ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \ntmortagne left at 13:46 (Ping timeout: 265 seconds  \ntmortagne joined #xwiki at 13:46  \nsilviar joined #xwiki at 13:53  \nsburjan - (13:59): cjdelisle, , sdumitriu \u00a0: ping  \ncjdelisle - (13:59): pong  \nsdumitriu - (13:59): Pong  \nsburjan - (13:59): do you have time to review a test and commit ?  \nsburjan - (13:59): and give me feedback  \ncjdelisle - (13:59): sure I suppose  \nsburjan - (14:00): okay. I have one new class and 2 classes modified (2 page objects modified)  \nsburjan - (14:00): sending  \nsburjan - (14:02): first one is the new class  \nsburjan - (14:02): the test is pretty straight forward .. but it can be extended  \ncjdelisle - (14:04): In the future it would be easier to just upload to jira.  \ncjdelisle - (14:05): su; cp /home/skype/Downloads/yourFiles /home/user/java; chown user /home/user/yourFiles.  \nsburjan - (14:05): I know, \u00a0I can upload, but I'm almost sure noone will bother looking at it  \ncjdelisle - (14:05): Upload then bug me ;)  \nsburjan - (14:06): okay. next timp I'll do so  \nsburjan - (14:06): \\*time  \ncjdelisle - (14:06): DocumentIndexAttachmentsTabFilterTest.java and LiveTableElement.java?  \ncjdelisle - (14:07): is that all of them?  \nsburjan - (14:07): no  \nsburjan - (14:07): +AllDocspage.java  \ncjdelisle - (14:07): ok I see it.  \nsburjan - (14:07): sdumitriu, : did you committed the test Isent you.. 3 weeks ago ?  \nsburjan - (14:07): i forgot the name  \ncjdelisle - (14:09): Where do these files go?  \nsburjan - (14:10): check the package names  \nsburjan - (14:10): of each file  \nsburjan - (14:11): Test goes to org.xwiki.it.ui.xe  \nsburjan - (14:11): AllDocsPage goes to org.xwiki.it.ui.xe.elements  \nsburjan - (14:12): LiveTableElement goes toorg.xwiki.it.ui.framework.elements  \ncjdelisle - (14:12): Ok. In the future it would be much easier if you can run svn diff > addedTests.patch.  \ncjdelisle - (14:12): That's what I'm going to do next to see what is changed.  \nsburjan - (14:13): added method in AllDocsPage, and fixed an xpath expression in LiveTableElement  \nsburjan - (14:13): yes, next time I'll upload a diff for the existing files  \ncjdelisle - (14:14): oh, when you have new files, just run svn add ./path/to/newFile.java  \ncjdelisle - (14:14): Then svn diff will include the new file too.  \nsburjan - (14:15): I'm not sure I follow  \nsburjan - (14:15): I have no commit rights  \nsburjan - (14:15): so i can't add files to svn  \ncjdelisle - (14:15): You don't need to commit, just use svn add and then the patch will include the new files.  \nsburjan - (14:16): yes, but I don't understand the procedure  \nsburjan - (14:16): I run svn add my/path/to/file  \nsburjan - (14:16): and then, with what am I running svn diff to det the patch with the new file ?  \ncjdelisle - (14:16): yup, then you run svn diff > my.patch  \ncjdelisle - (14:17): then my.patch will include all changes to the old files as well as including the new files.  \nsburjan - (14:17): but I'll have a patch for every file I modified, right ?  \nsburjan - (14:17): oh, I see  \nsburjan - (14:17): I'll try this.. seems very useful  \ncjdelisle - (14:17): Nope, all you have to do is call svn diff from a higher level directory and it will include all changes from subdirectories.  \ncjdelisle - (14:18): It's easiest if you run svn diff from enterprise/trunk/  \ncjdelisle - (14:18): (easiest for the committor who applies the patch)  \nsburjan - (14:18): yeah, but you have to test before, so youhave to apply the patch locally  \ncjdelisle - (14:19): Yup, but I can quickly look at the patch and see what you changed, also I can just apply it in one place instead of copying files.  \ncjdelisle - (14:19): If you want to try making a patch now I can help if you have any trouble.  \nsburjan - (14:20): yes  \nsburjan - (14:20): let me try  \nsburjan - (14:20): let me explain how am I working  \nsburjan - (14:20): i svn checkout enterprise/trunk/  \nsburjan - (14:21): and imported maven project maven project directly from here into eclipse  \nsburjan - (14:21): is it okay ?  \nsburjan - (14:21): and modified the files, added new ones, etc  \ncjdelisle - (14:21): I don't know much about eclipse but I think you're doing the same as me.  \ncjdelisle - (14:21): Yup.  \nsburjan - (14:21): okay.. let me issue the add command  \nsburjan - (14:25): yeah...  \nsburjan - (14:25): works  \nsburjan - (14:25): but the problem is that I made another modif to another class  \nsburjan - (14:26): can I exclude a certain class or something ?  \ncjdelisle - (14:26): You have 2 options.  \nsburjan - (14:26): because I commented the driver.close() method, so FF won;t close after a test .. and this is also reflected in the diff  \ncjdelisle - (14:26): One is to revert that file.  \ncjdelisle - (14:26): svn revert ./path/to/file  \ncjdelisle - (14:27): if you want to save the change to that file you can use svn diff ./path/to/file > temporaryPatch.patch  \ncjdelisle - (14:27): then svn revert  \nsburjan - (14:28): I have another idea  \ncjdelisle - (14:28): The other option would be to do a selective diff.  \nsburjan - (14:28): remove the relating stuff from the diff  \ncjdelisle - (14:28): manually editing a diff works in this case but it's limited.  \nsburjan - (14:28): it's engough for this case  \nsburjan - (14:29): cjdelisle, : don't merge the files I sent (not yet)  \nsburjan - (14:29): so you can test the patch  \ncjdelisle - (14:29): I did, but I'll just pull out a patch and revert as I described to you.  \nsburjan - (14:29): sending diff  \ncjdelisle - (14:30): can you upload it or pastebin it?  \ncjdelisle - (14:30): upload to jira is the best.  \nsburjan - (14:30): okay. uploading on JIRA :D  \nsburjan - (14:31): http://jira.xwiki.org/jira/browse/XE-701  \nsburjan - (14:31): done  \nsburjan - (14:31): now, fingers crossed :)  \ncjdelisle - (14:32): hmm why is the issue closed?  \ncjdelisle - (14:32): oh it's a test, never mind ;)  \nsburjan - (14:33): it's a test sdumitriu requested. anti-regression :)  \ncjdelisle - (14:34): yup. The patch is the same as the patch which I just created.  \ncjdelisle - (14:35): Except you issued the svn diff command from enterprise/trunk/distribution-test/ui-tests/ and I issued it from enterprise/trunk/.  \nsburjan - (14:36): I don't want to go upper that UI-tests just to make sure I won;'t modify something accidentally and then not knowingly include it in the patch  \ncjdelisle - (14:36): The only difference is to apply it, I would have to navigate to enterprise/trunk/distribution-test/ui-tests/ and this isn't a big problem right now but a lot of committers don't have much time.  \ncjdelisle - (14:36): Yup, so here's what you do:  \ncjdelisle - (14:37): cd path/to/enterprise/trunk  \ncjdelisle - (14:37): svn diff ./distribution-test/ui-tests/  \ncjdelisle - (14:37): That command will make a patch from the right place but it will only include changes made in /ui-tests/  \ncjdelisle - (14:38): Once you get the hang of it, the svn/patch system really is easier than copying files around.  \nsburjan - (14:39): okay. so I should re-upload the file to JIRA >?  \ncjdelisle - (14:40): No, it's fine. (this is just for future reference.)  \ncjdelisle - (14:41): What exactly does the DocumentIndexAttachmentsTabFilterTest do in a sentence?  \nsburjan - (14:41): you change the class name if you want, I know it's too long.  \nsburjan - (14:41): well that class is the actual test  \nsburjan - (14:41): read on the JIRA issue  \nsburjan - (14:42): it follows exactly those steps  \ncjdelisle - (14:42): No, actually I just was going to add in a header at the top of the class. I figure you know about the header but just forgot ;)  \nsburjan - (14:43): but it does have a header  \nsburjan - (14:43): the GNU licence  \ncjdelisle - (14:44): Nope, the one between the last import and \"public class...\"  \nsburjan - (14:44): I have all 3 of them opened in eclipse  \nsburjan - (14:45): all of them have the GNU header  \nsburjan - (14:45): but only one is new, so you see only one header in the diff  \ncjdelisle - (14:45): \u00a0\\* Test to prove that XE-701 remains fixed.  \ncjdelisle - (14:45): \u00a0\\* XE-701: Innacurate results when filtering attachments by page in \"Document Index\"  \ncjdelisle - (14:45): \u00a0\\*  \ncjdelisle - (14:45): \u00a0\\* @version $Id$  \ncjdelisle - (14:45): \u00a0\\* @since 2.5M2  \ncjdelisle - (14:45): \u00a0\\*/  \ncjdelisle - (14:45): public class DocumentIndexAttachmentsTabFilterTest  \ncjdelisle - (14:45): That's what I was thinking of.  \nsburjan - (14:46): oh, I never added those ...  \nsburjan - (14:46): I willadd then starting now  \ncjdelisle - (14:47): Yea, I don't see a need to document every function but at least a little explanation of what the test is helps.  \ncjdelisle - (14:48): One other little nitpick, I'm not a big fan of \"import static\" in a large class it allows for too much confusion. Do you mind if fail is switched to Assert.fail?  \nsburjan - (14:48): but i've included a comment there  \nsburjan - (14:48): cjdelisle, : not at all  \nsburjan - (14:48): I have included a comment linking to the JIRA issue  \ncjdelisle - (14:48): Cool. I'll change that and run the test.  \nsburjan - (14:48): you can remove t hat fail() and put Assert.fail  \ncjdelisle - (14:49): in general I try to make the code explain itself as much as possible and Assert.fail tells the reader where the fail function is.  \ncjdelisle - (14:51): oooo we get to see if the ui tests work with maven3.  \nsburjan - (14:52): when ?:D  \nsburjan - (14:53): is maven3 final already out ?  \ncjdelisle - (14:53): right now, I am running the svn snapshot :D  \nsburjan - (14:53): but the test works ?  \nsburjan - (14:53): on maven 2 :)  \ncjdelisle - (14:54): If it works on mvn3 then I'll assume it works on mvn2.  \ncjdelisle - (14:54): mvn3 has some really cool experimental code for doing builds in parallel.  \ncjdelisle - (14:56): nope, didn't hook firefox. now try with mvn2  \nsburjan - (14:56): hmmmmm  \nsburjan - (14:56): didnt hook it at all ?  \nsburjan - (14:57): or failed at some point  \ncjdelisle - (14:57): Didn't start FF, definitly a mvn3 compatability problem.  \nsburjan - (14:58): oh...  \nsburjan - (14:58): try it with maven 2 :P  \ncjdelisle - (14:58): yup, it's downloading the .war right now.  \nsburjan - (14:58): ??  \nsburjan - (14:58): what for ?  \ncjdelisle - (14:59): It downloads the latest version when it runs a test.  \nsburjan - (14:59): just start a local XE and run the test.. it should use that XE  \nsburjan - (14:59): it runs on any version you want on the condition that the version you want to test on is started when the tests start  \ncjdelisle - (15:00): I am running the test from the command line just like the hudson server does.  \nsburjan - (15:00): what command do you issue ?  \nsburjan - (15:00): so I can try locally too  \nsburjan - (15:00): mvn install ?  \ncjdelisle - (15:00): mvn clean install -Dtest=TheTestYouWant  \ncjdelisle - (15:01): issue that command from enterprise/trunk/distribution-test/ui-tests/  \ncjdelisle - (15:01): I have this card which says: \"special offer from nvidia, this code is good for a free trial of starcraft 2, www.geforce.com/trystarcraft2\" Is the number on that card anything you can use?  \nsburjan - (15:02): yes :)  \nsburjan - (15:03): if you don't wanna play it .. hand it over.. in a secure manner :)  \nvmassol - (15:03): mflorea: we need to decide if \"xwe\" is a nice enough name that fits with our naming convention  \nvmassol - (15:04): IMO it's not descriptive enough  \nvmassol - (15:04): $services.wysiwyg is better  \nvmassol - (15:04): I think we defined a rule for this  \nmflorea - (15:04): vmassol: well, $services.wysiwyg didn't sound good to me  \nsburjan - (15:04): cjdelisle, : was that a notice ? :)  \ncjdelisle - (15:04): should be.  \nvmassol - (15:05): mflorea: how can xwe be better? and why isn't wysiwyg good?  \nsburjan - (15:05): recieved it, thanks  \ncjdelisle - (15:05): test passes so I'll commit.  \nvmassol - (15:05): mflorea: the idea (AFAIR) is to name the service with the name of the module  \nmflorea - (15:05): my problem with \"wysiwyg\" is that outside of the xwiki context it is not strictly related to out rich text editor  \nvmassol - (15:05): eg $services.rendering  \nvmassol - (15:06): mflorea: in what module is it located?  \nsburjan - (15:06): cjdelisle, : does it write on the cupon that is valid for 14 days or 7 hours ?  \ncjdelisle - (15:07): no date, I bet it's forever because it was shipped in the box with the video card.  \nvenkatesh left at 15:07 (Remote host closed the connection  \nvmassol - (15:07): mflorea: what does xwe stand for? e = editor? it is a service for all xwiki editors?  \nvmassol - (15:07): (including the wiki editor)  \nvmassol - (15:07): we don't have an editor module AFAIK  \nmflorea - (15:08): vmassol: :) it is located in the wysiwyg module, but this module is located in xwiki's platform/web. While, when you write $services.wysiwyg it sounds generic: what does it mean \"services for what you see is what you get\"?  \nmflorea - (15:08): xwe come from XWiki WYSIWYG Editor  \nmflorea - (15:08): W comes from WYSIWYG  \nvmassol - (15:09): \"\\* We use the namespace: services.<module name>.<method>. Each module  \nvmassol - (15:09): provides only one service entry point.\"  \nvmassol - (15:09): http://markmail.org/message/g4z56pl734lng2ym  \nmflorea - (15:09): sure, but more generally, the name of the module is not very good  \nvmassol - (15:10): I had given some examples:  \nvmassol - (15:10): \\* $syntaxFactory --> $services.rendering.syntaxFactory  \nvmassol - (15:10): \\* $officeimporter --> $services.officeImporter.importer  \nvmassol - (15:10): \\* $ooconfig --> $services.officeImporter.openOfficeConfiguration  \nvmassol - (15:10): \\* $oomanager --> $services.officeImporter.openOfficeManager  \nvmassol - (15:10): \\* $captchaservice --> $services.captcha  \nmflorea - (15:10): \"wysiwyg\" is too generic IMO as a module name  \nvmassol - (15:10): $services.model.\\*  \nvmassol - (15:10): all I'd like is that we are consistent in the naming  \nvmassol - (15:11): xwe doesn't really fit with the current names  \nvmassol - (15:11): it's important  \nvmassol - (15:11): since it's public  \nvmassol - (15:11): and cannot be easily changed once people start using it  \nmflorea - (15:12): how are people using it?  \nvmassol - (15:12): $services.xxx  \nmflorea - (15:12): ah, ok  \nvmassol - (15:12): it's a public API  \nmflorea - (15:12): ok, I'll use \"wysiwyg\" as the hint for now (but I'd like to find a real name for the WYSIWYG editor)  \nvmassol - (15:13): (note: we can always invent a way to add aliases in the future though but that's not in there now)  \nvmassol - (15:13): wysiwygeditor?  \nvmassol - (15:13): wysiwygEditor  \nvmassol - (15:13): ?  \nmflorea - (15:13): too long IMO  \nvmassol - (15:13): officeImporter is not much shorter  \nmflorea - (15:13): indeed  \nvmassol - (15:14): it's descriptive vs easy to type  \nmflorea - (15:14): wysiwygEditor is not very specific either, because the service is for the new WYSIWYG editor  \nvmassol - (15:15): tmortagne: any comment?  \ntmortagne - (15:15): mflorea: what methods will you have in it ?  \nmflorea - (15:16): and in the future we might have wysiwyg editors for other types of content. For instance, color theme has a kind of wysiwyg editor  \nmflorea - (15:16): tmortagne: the service will have two methods for now, isSyntaxSupported and parseAndRender (for refreshing the content of the editor)  \ntmortagne - (15:17): so none of theses methods is actually related to the WYSIWYG ?  \nmflorea - (15:18): they are, the first says if the given syntax is supported by the editor. The second is a utility method used by the editor  \nasrfel left at 15:18 (Quit: Leaving.  \ntmortagne - (15:19): so it's almost internal things  \nmflorea - (15:20): yes, but I couldn't write the code of these methods in velocity so I need a java service  \ntmortagne - (15:20): \"wysiwyg\" seems indeed pretty generic, it's not a service about WYSIWYG in general that could have any implementation behind it  \ntmortagne - (15:22): we would need the name of the future WYSIWYG editor standalone project for this service name  \ntmortagne - (15:23): now since it's pretty internal i guess the name choice is not too critical event if exposed publicly because we don't have other ways to do it  \ntmortagne - (15:25): xwe actually seems the best in the proposed list to me too  \nvmassol - (15:32): x is bad to me  \nvmassol - (15:32): then why not xr  \nvmassol - (15:32): for xwiki rendering  \nvmassol - (15:32): or xm for xwiki model  \nvmassol - (15:33): it doesn't fit our agreed naming scheme  \nvmassol - (15:33): I don't have any problem in changing the naming scheme but it needs a vote and to deprecate/change exsiting names  \nmflorea - (15:34): vmassol: I'm for following the current naming scheme, but this case is a bit special because the API exposed by the \"wysiwyg\" service are mainly internal, i.e. they are meant to be used by the editor itself.  \nvmassol - (15:35): so?  \nvmassol - (15:35): how does that change the naming scheme?  \nvmassol - (15:36): I'd be ok to define a new rule for internal stuff if you want, like an \"internal\" suffix or something but that doesn't change using a full name rather than an abbreviation  \nmflorea - (15:36): $services.officeImporter allows you to use the office importer from velocity. In my case, $services.wysiwyg is not a service to use/control the editor from velocty (or any server side script) but to be used by the editor itself  \nvmassol - (15:37): how does that change the naming scheme?  \nvmassol - (15:37): I don,'t see the relationship  \ntmortagne - (15:37): vmassol: yes what makes this one special is that it's more internal stuff  \ntmortagne - (15:37): which is why it does not fit well in the general rule  \nvmassol - (15:37): I don't understand  \nvmassol - (15:38): ok said differently I'm ?1 for this name right now  \nvmassol - (15:38): until someone explains why it's better than the current naming scheme  \nmflorea - (15:39): the current naming scheme is good IMO. What is not good is the name of the WYSIWYG Editor module, i.e. \"wysiwyg\" which is very generic. Using the name of the module as the service name could create confusion IMO in this case  \nvmassol - (15:40): how is we better than wysiwygEditor?  \nvmassol - (15:40): we = week end?  \nvmassol - (15:40): we = we as in us/them/we?  \nmflorea - (15:40): xwe :) not we  \nvmassol - (15:40): everytihng is about xwiki  \nvmassol - (15:40): so no need for x  \nmflorea - (15:40): $servives.xyz seems generic to me  \ncjdelisle - (15:40): +1  \ncjdelisle - (15:41): (everytihng is about xwiki so no need for x)  \nmflorea - (15:41): I don't think xyz in $services.xyz must be related to xwiki  \nvmassol - (15:41): so you're suggesitng to rename \"$services.rendering\" in  \nvmassol - (15:41): $services.xrendering?  \nvmassol - (15:42): to show it's about xwiki's renderingf  \nmflorea - (15:42): I could create a component that exposes some external service in xwiki and use $servies.foo, where foo has nothing to do with xwiki  \nvmassol - (15:42): should we modify all our xwiki.properties properties and prefix them all with \"xwiki\"?  \nvmassol - (15:43): etc  \nvmassol - (15:43): should we modify all our Java classes and prefix them with XWiki too  \nvmassol - (15:43): you get the point :)  \nmflorea - (15:44): I'm referring just to $services.xyz, where xyz doesn't have to be related to xwiki. While a prop from xwiki.properties or a class form org.xwiki... is expected to be related to xwiki  \nvmassol - (15:44): not true  \nvmassol - (15:44): xwiki.properties is for everyone to use  \nvmassol - (15:44): I can code a class outside of xwiki and have my props in there  \nvmassol - (15:44): again  \nvmassol - (15:45): are you wanting to rename $services.rendering in $services.xrendering?  \nmflorea - (15:45): no  \nvmassol - (15:45): ie change the services naming rule to  \nvmassol - (15:45): $services.x<module name>.\\*  \nvmassol - (15:45): ?  \nvmassol - (15:45): if not then I don't understand  \nsburjan - (15:46): cjdelisle, : I see you already committed  \ncjdelisle - (15:46): yes I did.  \ncjdelisle - (15:46): (before I forgot ;) )  \nmflorea - (15:46): I'm not talking about the general rule. I'm talking about this example here, $services.wysiwyg  \nsburjan - (15:46): so.. I guess you were happy about my code :)  \nvmassol - (15:47): why would we add an 'x' and use the short form for \"internal\" script services? Sounds pretty arbitrary and unnecessary to me  \nvmassol - (15:47): the less rules the better  \ncjdelisle - (15:47): It looks good, it runs successfully, I trusted you that it was actually doing the test, I didn't want to break the change and run it again to see it fail.  \ngavin-opensource left at 15:47 (Ping timeout: 252 seconds  \nvmassol - (15:48): cjdelisle: my only comment re the test is that we should probably group together all tests for the index page  \nvmassol - (15:49): (but it's a detail, not very important)  \ncjdelisle - (15:50): I think I agree, not much to group together at the moment but definitely will become more important as the number of tests grows.  \nsburjan - (15:51): cjdelisle, , vmassol , lucaa : tomorrow I'll continue annotations Test  \nsburjan - (15:51): and try to create multiple tests  \nmflorea - (15:52): vmassol: the root of the problem is IMO that the WYSIWYG rich text editor doesn't have a name. The \"wysiwyg\" module name is too generic. It doesn't even imply editor, or rich text editor. More over, it's not the only rich text editor in xwiki ( http://svn.xwiki.org/svnroot/xwiki/platform/web/trunk/standard/src/main/webapp/resources/js/xwiki/wysiwyg/ ). If the new WYSIWYG rich text editor would have a real name then I would be in favor of using  \nvmassol - (15:58): mflorea: what does xwe stand for? XWiki Wysiwyg Editor, no? In short, it's Wysiwyg Editor, so $services.wysiwygEditor using our naming scheme  \nvmassol - (15:58): so if you want to improve the name, it's fine with me  \nvmassol - (15:58): but xwe is not better than wysiwygEditor for me  \nmflorea - (15:59): I'll keep \"wysiwyg\" for now because it's the name of the module  \nvmassol - (16:00): ok  \ncjdelisle - (16:00): +1 wysiwyg, we know what it is, most people know that a wysiwyg is an editor so 'Editor' is probably not descriptive.  \ncjdelisle - (16:01): xwe sounds cool but the x is not descriptive either.  \nvmassol - (16:06): should we release a XE 2.4.1 ASAP?  \nvmassol - (16:07): it seems to have quite a few interesting fixes  \ntmortagne - (16:07): checking  \nvmassol - (16:07): http://jira.xwiki.org/jira/secure/IssueNavigator.jspa?reset=true&jqlQuery=project+%3D+XWIKI+AND+fixVersion+%3D+%222.4.1%22+AND+resolution+in+(Fixed,+%22Won't+Fix%22,+Duplicate,+Incomplete,+%22Cannot+Reproduce%22)  \nvmassol - (16:07): XWIKI-5453 is important  \nvmassol - (16:08): (at least for balsamiq)  \nvmassol - (16:08): and XWIKI-5428 too for some users  \nabusenius left at 16:08 (Ping timeout: 276 seconds  \nvmassol - (16:09): it would need some manual testing from sburjan maybe before the release, to have a confirmation that what is fixed works fine  \ntmortagne - (16:09): nothing is blocker but most would be more than welcome  \nvmassol - (16:10): I know ludovic was interested in a 2.4.1 release  \nsilviar left at 16:11 (Quit: Leaving.  \nsburjan left at 16:12 (Ping timeout: 245 seconds  \nbblfish left at 16:16 (Quit: Leaving.  \nbblfish joined #xwiki at 16:17  \nbblfish1 joined #xwiki at 16:17  \nbblfish left at 16:17 (Read error: Connection reset by peer  \nflaviusolaru joined #xwiki at 16:23  \nflaviusolaru - (16:25): hi all, \u00a0how do you detect an ajax request in velocity? i can't remember it, i think i saw it somewhere  \ncjdelisle - (16:26): I think a header is usually passed.  \nlucaa - (16:26): detect?  \nlucaa - (16:26): ( flaviusolaru )  \ncjdelisle - (16:27): $request.getHeader('X-Requested-With').equals('XMLHttpRequest')  \ncjdelisle - (16:27): \\*Not for security  \nflaviusolaru - (16:28): (lucaa) yes, see if the request is an ajax request (XmlHttpRequest)  \nflaviusolaru - (16:28): cjdelisle: why not for security?  \ncjdelisle - (16:28): Because you can remove any header when you're sending an ajax request.  \nlucaa - (16:29): if you control both then you can use the standard ajax parameter of xwiki, that you're supposed to pass on 1 when you make an ajax request, if you don't then yes probably request headers  \nflaviusolaru - (16:29): cjdelisle: i believe i saw something different than that  \ncjdelisle - (16:29): So it can be disguised.  \nflaviusolaru - (16:31): lucaa: thanks but i don't want to change more than i should, maybe when all the code in xxwiki will be updated to use ajax param :)  \nlpereira left at 16:32 (Read error: Connection reset by peer  \nlpereira joined #xwiki at 16:32  \nbblfish1 left at 16:40 (Quit: Leaving.  \nbblfish joined #xwiki at 16:41  \ncjdelisle - (16:45): nap time, see ya all later.  \nbblfish left at 16:45 (Ping timeout: 245 seconds  \nbblfish joined #xwiki at 16:52  \nabusenius joined #xwiki at 16:59  \nbblfish left at 17:03 (Quit: Leaving.  \nbblfish joined #xwiki at 17:04  \nlucaa - (17:05): guys, is there a way to find out, in a wiki macro, if a parameter was set or not?  \nlucaa - (17:05): I mean, even if it's not set, it's still there in the parameters map, with the default value, if it's a non-mandatory parameter with a default value  \nlucaa - (17:06): I would like to know if it was actually specified by the user or not  \nlucaa - (17:06): I looked a bit and couldn't find anything in org.xwiki.rendering.macro.wikibridge.WikiMacroParameters  \nlucaa - (17:06): is there an alternative solution>  \nlucaa - (17:06): ?  \nlpereira left at 17:08 (Quit: Leaving.  \nbblfish left at 17:09 (Ping timeout: 255 seconds  \nbblfish joined #xwiki at 17:16  \ntmortagne - (17:16): you can directly look at the MacroBlock  \ntmortagne - (17:17): it's somewhere in $xcontext.macro  \ntmortagne - (17:17): need to finish something right now but i can check in 15 min  \nEnygma` left at 17:20 (Ping timeout: 265 seconds  \narkub joined #xwiki at 17:21  \nlucaa left at 17:23 (Ping timeout: 240 seconds  \nvenkatesh joined #xwiki at 18:03  \nvenkatna joined #xwiki at 18:04  \nlpereira joined #xwiki at 18:21  \nbblfish - (18:24): hi  \nbblfish - (18:24): I think there are still odd problems with the xwiki nameserver  \nbblfish - (18:24): I am not so good yet at reading those recors  \nbblfish - (18:24): recors  \nbblfish - (18:24): records  \nMartinCleaver joined #xwiki at 18:30  \ndtrog joined #xwiki at 18:44  \ndtrog - (18:46): Hi guys  \ndtrog - (18:48): We had a serious issue at a potential customer with XWiki where the session is not maintained  \ndtrog - (18:48): it's like the following issue on the mailing list: http://xwiki.markmail.org/message/boacagxh3srjijej?q=proxy+cookie  \ndtrog - (18:48): I could not find anything in the jira about something like this  \ndtrog - (18:49): in short, I login, I click on something and it asks me to login again  \ndtrog - (18:49): it seems to happen only when behind proxies  \nevalica left at 18:54 (Read error: Connection reset by peer  \nflorinciu left at 19:01 (Read error: Connection reset by peer  \nmflorea left at 19:01 (Quit: Leaving.  \narkub left at 19:03 (Quit: Leaving  \nvmassol left at 19:09 (Quit: Leaving.  \ndtrog left at 19:39 (Quit: dtrog  \nlucaa joined #xwiki at 19:44  \nbblfish left at 19:51 (Quit: Leaving.  \nlucaa left at 19:52 (Ping timeout: 265 seconds  \nbblfish joined #xwiki at 19:54  \nlucaa joined #xwiki at 20:00  \nvenkatna left at 20:09 (Quit: Ex-Chat  \nvenkatesh left at 20:15 (Ping timeout: 276 seconds  \ntmortagne left at 20:16 (Quit: Leaving.  \nlucaa left at 20:51 (Ping timeout: 265 seconds  \njvdrean left at 21:18 (Quit: Leaving.  \nflaviusolaru left at 21:19 (Quit: Leaving.  \nbblfish left at 21:56 (Quit: Leaving.  \nbblfish joined #xwiki at 21:57  \nbblfish left at 22:01 (Ping timeout: 272 seconds  \nlpereira left at 22:18 (Quit: Leaving.  \n\n"}