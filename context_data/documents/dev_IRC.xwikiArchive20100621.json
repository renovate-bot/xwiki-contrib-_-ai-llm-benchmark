{"id": "dev:IRC.xwikiArchive20100621", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100621", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu left at 01:46 (Read error: Connection reset by peer  \nlucaa joined #xwiki at 02:00  \nabusenius left at 03:07 (Quit: Konversation terminated!  \nsdumitriu left at 03:11 (Ping timeout: 265 seconds  \nSvenDowideit left at 03:56 (Changing host  \nSvenDowideit joined #xwiki at 03:56  \njvelociter left at 07:30 (Quit: jvelociter  \nkibahop joined #xwiki at 08:01  \nvmassol joined #xwiki at 08:19  \nsilviar joined #xwiki at 08:49  \nplunden joined #xwiki at 08:56  \nDenis joined #xwiki at 08:59  \nsdumitriu joined #xwiki at 09:22  \nvmassol left at 09:24 (Quit: Leaving.  \nsburjan joined #xwiki at 09:25  \nvmassol joined #xwiki at 09:28  \nvmassol - (09:39): sdumitriu: little detail: shouldn't you add @since 2.4M2 tags?  \nsdumitriu - (09:40): Didn't I?  \nvmassol - (09:40): (just looked at the first commit, reading the others now)  \nvmassol - (09:40): first commit was about BaseClass  \nvmassol - (09:40): for ex: disableField  \nsdumitriu - (09:41): Indeed, missed this commit  \nvmassol - (09:41): the 29579 too  \nvmassol - (09:41): - \u00a0\u00a0\u00a0public void checkField(String name) throws XWikiException  \nvmassol - (09:41): + \u00a0\u00a0\u00a0public void checkField(String name)  \nvmassol - (09:41): I believe this is changing the signature and is thus not backward compat  \nsdumitriu - (09:42): So what should I do about it?  \nvmassol - (09:42): so at least it needs a @since  \nmflorea joined #xwiki at 09:42  \nsdumitriu - (09:42): Before you scream, there are little unit tests  \nsdumitriu - (09:42): Almost none  \nvmassol - (09:42): might be good to ask Denis since he's a power user of these things  \nvmassol - (09:43): see if he's ok to drop backward compat  \ntmortagne joined #xwiki at 09:44  \nvmassol - (09:44): missing a lot of @since  \nvmassol - (09:44): +public class PropertyClass extends BaseCollection implements PropertyClassInterface, PropertyInterface,  \nvmassol - (09:44): + \u00a0\u00a0\u00a0Comparable<PropertyClass>  \nvmassol - (09:44): hey found a test: PropertyClassTest :)  \nkibahop left #xwiki at 09:45  \nvmassol - (09:51): XWIK-99, wow that must feel nice to close that one! :)  \nvmassol - (09:51): XWIKI-99  \nvmassol - (09:51): sdumitriu: I can help you add @since tags if you want  \nsdumitriu - (09:52): vmassol: Sure, thanks, I'm still working on the web part commits  \nsdumitriu - (09:52): I would have committed sooner, but \"IE is being mean to me, again\"  \nvmassol - (09:52): ok, I'll do it, that'll allow me to learn the new code a bit too  \nsdumitriu - (09:53): A good side effect of this fix is that now broken ghost objects don't break documents anymore  \nvmassol - (09:53): cool  \nsdumitriu - (09:53): I mean they do, but now you can see and remove the deprecated properties  \nvmassol - (10:03): tmortagne: good morning  \ntmortagne - (10:04): vmassol: hi  \nvmassol - (10:04): the following requires a since tag since it's changing the signature right?  \nvmassol - (10:04): - \u00a0\u00a0\u00a0public void checkField(String name) throws XWikiException  \nvmassol - (10:04): + \u00a0\u00a0\u00a0public void checkField(String name)  \nvmassol - (10:05): sdumitriu: btw why did you keep checkField() that does nothing? for people who want to override it?  \ntmortagne - (10:05): vmassol: yep this change the signature  \ntmortagne - (10:05): hmm  \ntmortagne - (10:05): for compilation  \ntmortagne - (10:06): i think it's binary compatible  \nvmassol - (10:06): yes it'll break all backward compat  \nvmassol - (10:06): at least at exec  \nvmassol - (10:06): if you recompile it'll also break  \nvmassol - (10:06): since you're adding something more strict  \nvmassol - (10:07): (I'm talking about code that would extend the method)  \nvmassol - (10:07): (and that would have throws Exception clause)  \nlucaa left at 10:09 (Ping timeout: 272 seconds  \nvmassol - (10:10): sdumitriu: if we want to keep checkField methode to allow extender to perform checks, we could remove the commented out code from checkField and instead explain that it can be used by etxtenders, wdyt?  \nvmassol - (10:11): OTOH, if the check cannot raise an exception, it's not very useful, they'll have to use runtime exception  \nvmassol - (10:11): so IMO it's either remove the checkField method altogether or keeping the throws exception  \nvmassol - (10:11): wdyt?  \nsdumitriu - (10:12): +1 remove it  \nsdumitriu - (10:12): It doesn't do validity checks  \nvmassol - (10:12): right now but etxenders could use it for that no?  \nsdumitriu - (10:12): Let me check  \nsdumitriu - (10:13): It wasn't supposed to do checks  \nsdumitriu - (10:13): Just non-null  \nsdumitriu - (10:14): And I doubt it was supposed to be extended  \nvmassol - (10:14): the question is still whether we want to take the risk of breaking user code. tmortagne: any idea?  \nvmassol - (10:14): Denis: if you're there your input would be useful  \ntmortagne - (10:14): vmassol: i don't know very well this checkField method, i would have to look at the code  \nvmassol - (10:15): tmortagne: I'm talking about the removal of throws XWikiException from the signatures  \ntmortagne - (10:15): vmassol: sure but maybe this method is never used  \nsdumitriu - (10:15): tmortagne: checkField {}  \nsdumitriu - (10:15): No code  \ntmortagne - (10:16): s/used/extended/  \nsdumitriu - (10:16): Initially there were two methods  \nsdumitriu - (10:16): get and safeget  \nsdumitriu - (10:16): safeget was supposed to be protected from null by throwing XWikiException  \nsdumitriu - (10:16): But we found out it's not so bad to have null, and actually it doesn't even happen  \nsdumitriu - (10:17): This is really really old code  \nvmassol - (10:17): so safeget should be deprecated too?  \nsdumitriu - (10:17): It has been like this for almost the entire history  \nvmassol - (10:17): yes that's my point actually  \nsdumitriu - (10:17): Yes, it could be deprecated too  \nsdumitriu - (10:18): But it's still used in the rest of the model  \nvmassol - (10:18): is there a need to introduce non backward compat changes at this point?  \nsdumitriu - (10:18): Yep, to reduce cruft  \nvmassol - (10:18): (rather than ditch it when we have the new model)  \nvmassol - (10:19): ok I'm removing checkField + adding @since for now  \nvmassol - (10:19): we'll see if Denis screams  \ntmortagne - (10:20): Denis did his own entire model implemented with the old one, im sure he will have comment on any change in the api  \nvmassol - (10:21): tmortagne: does this need a @since tag:  \nvmassol - (10:21): +public class PropertyClass extends BaseCollection implements PropertyClassInterface, PropertyInterface,  \nvmassol - (10:21): + \u00a0\u00a0\u00a0Comparable<PropertyClass>  \nvmassol - (10:21): ?  \nvmassol - (10:21): wait  \nvmassol - (10:21): this:  \nvmassol - (10:21): -public class PropertyClass extends BaseCollection implements PropertyClassInterface, PropertyInterface  \nvmassol - (10:21): +public class PropertyClass extends BaseCollection implements PropertyClassInterface, PropertyInterface,  \nvmassol - (10:21): + \u00a0\u00a0\u00a0Comparable<PropertyClass>  \nvmassol - (10:21): I think so  \ntmortagne - (10:22): not a since on the class IMO  \ntmortagne - (10:23): but a since on the new implemented methods probably yes  \nvmassol - (10:23): on methods definitely  \nvmassol - (10:23): but even on the class it's not the same one  \ntmortagne - (10:23): hmm  \nvmassol - (10:23): I'm not sure myself  \ntmortagne - (10:24): i don't think i would have added a @since without thinking too much  \nabusenius joined #xwiki at 10:24  \nvmassol - (10:24): on one hand it's feels strange  \nvmassol - (10:24): since the class was there before  \ntmortagne - (10:24): there is many other use case where i did not  \nvmassol - (10:24): OTOH if it's a new class \"signature\"...  \nvmassol - (10:24): ok I won't add it for now  \nlucaa joined #xwiki at 10:26  \nvmassol - (10:29): sdumitriu: a pity we've used the shortcut \"Prop\" for \"Property\" in class names for actions....  \nsdumitriu - (10:29): Yes, I thought about using a better name  \nsdumitriu - (10:30): But it would have been very inconsistent with all the others  \nvmassol - (10:30): that's what I thought  \nsdumitriu - (10:30): Do you think it would have been better to use the full name in the new classes?  \nvmassol - (10:31): I also prefer to fix stuff but it's more work  \nvmassol - (10:31): and you didn't need more work  \nvmassol - (10:31): :)  \nsdumitriu - (10:31): vmassol: Actually XWIKI-99 wasn't the oldest issue  \nvmassol - (10:31): yeah I know  \nvmassol - (10:31): but close  \nsdumitriu - (10:31): There are 58, 69, 70, 94  \nvmassol - (10:31): and they're less important AFAIR  \nsdumitriu - (10:32): Yes, less voted  \nsdumitriu - (10:32): By far  \nsdumitriu - (10:32): The next voted issue is about portlets  \nsdumitriu - (10:33): mflorea: You're in charge of the most voted issue now  \nsdumitriu - (10:33): :)  \nvmassol - (10:33): :)  \nsdumitriu - (10:33): Can you feel the pressure?  \nmflorea - (10:34): sdumitriu: :) what's the number of the issue? I guess it's an old issue  \nsdumitriu - (10:37): XWIKI-602  \nmflorea - (10:38): yes, found it  \nsdumitriu - (10:38): http://jira.xwiki.org/jira/browse/XWIKI#selectedTab=com.atlassian.jira.plugin.system.project%3Apopularissues-panel  \nmflorea - (10:39): I wasn't aware of this :)  \nsdumitriu - (10:40): Who's doing the release? tmortagne?  \ntmortagne - (10:41): yep  \nvmassol - (10:45): sdumitriu: you're fixing DefaultIoService?  \nvmassol - (10:45): (btw this proves it breaks backward compat)  \nsdumitriu - (10:46): vmassol: What's that?  \nvmassol - (10:46): http://hudson.xwiki.org/job/xwiki-platform-core/org.xwiki.platform$xwiki-core-annotations-io/6155/  \nvmassol - (10:46): some plugins might not work anymore too  \nvmassol - (10:46): (would need to be checked)  \nsdumitriu - (10:47): Hm, right  \nsdumitriu - (10:47): Didn't think of that  \nsdumitriu - (10:47): XWikiException is a checked exception  \ntmortagne - (10:49): abusenius, CalebJamesDeLisl: the way ScriptMacroValidator is implemented is wrong IMO  \ntmortagne - (10:49): it should not be a generic  \ntmortagne - (10:49): because you will never have one with anything else than ScriptMacroParameters  \ntmortagne - (10:50): since a ScriptMacroValidator is called for all script macros  \nflorinciu joined #xwiki at 10:50  \ntmortagne - (10:50): so if you use anything else than ScriptMacroParameters you will produce classcastexception for part of the macros  \ntmortagne - (10:55): abusenius, CalebJamesDeLisl: i can take care of fixing it but i would like to have you POV first  \nabusenius - (10:55): looking  \njvelo joined #xwiki at 10:57  \nKermitTheFragger joined #xwiki at 10:58  \nabusenius - (10:59): indeed, seems to be not needed, ScriptMacroParameters parameters would be enough IMO  \ntmortagne - (10:59): abusenius: ok i'm fixing it then  \nevalica joined #xwiki at 10:59  \nsdumitriu - (11:02): vmassol: Nice  \nvmassol - (11:02): I'm documenting the query manager, ie XWQL (I'll move the HQL doc there too)  \nsburjan - (11:06): Guys : the ExtendedToDo Application breaks  \nsburjan - (11:06): just wanted to inform you  \ntmortagne left at 11:07 (Quit: Leaving.  \nabusenius - (11:08): vmassol: re XWQL, seen this one: XWIKI-5271 ?  \nvmassol - (11:08): abusenius: yes, seen it  \nvmassol - (11:09): now someone needs to fix them  \nvmassol - (11:09): I can add a trim for the select if that fixes it (don't know if it's enough though\u00e0)  \nabusenius - (11:09): yes, before we start using xwql everywhere  \nabusenius - (11:11): another problem seems to be exactly the same as fixed SQL version  \nDenis - (11:13): vmassol, sdumitriu: Just back, I have a quick look, I will review this more deeply later but I do not scream, not yet ;)  \nsburjan - (11:13): vmassol : http://code.xwiki.org/xwiki/bin/view/Applications/LiveTableApplication . I guess here is a mistake, because LiveTables are bundled with XE, and above the download link it says it's not.  \nvmassol - (11:14): sburjan: this app is not bundled by default  \nvmassol - (11:14): but we can remove this page IMO  \nvmassol - (11:15): ah no  \nvmassol - (11:15): it's for old installs  \nvmassol - (11:15): as it's mentioned  \nvmassol - (11:15): so all is fine  \nsburjan - (11:15): what do you mean it's not bundled ? If I go to Document Index page, I see the table there  \nvmassol - (11:15): please read that page  \nvmassol - (11:15): it contains all the information  \nDenis - (11:18): vmassol, sdumitriu: While applying codestyle, sergui has it seems somewhat reverted the order of import of my last commit. I am a little puzzled since I use the XWiki config for IntelliJ which has produced such order; is there something I missed ?  \ntmortagne joined #xwiki at 11:37  \nvmassol - (11:50): guys are you ok the the script service for accessing the query manager? I'll code it now  \nsdumitriu - (11:51): Denis: The import order is not defined in the codestyle, it depends on the IDE  \nsdumitriu - (11:51): Eclipse puts java.\\* first, then org.\\*, then the rest  \nDenis - (11:52): sdumitriu: IntelliJ is fully configurable, we should just decide what we want  \nDenis - (11:52): (including where there is blank line)  \njvelo - (12:00): vmassol, +1 for the script service  \nvmassol - (12:00): doing it now  \nDenis - (12:02): sdumitriu: is Eclipse also configurable ?  \ntmortagne - (12:03): Denis: not for imports AFAICS  \nDenis - (12:04): tmortagne: so we should mimic it with Intellij then ?  \nvmassol - (12:04): sdumitriu: what have you chosen? rollback the xwikiexception removal?  \ntmortagne - (12:04): Denis: +1  \ntmortagne - (12:04): Eclipse one looks nice to me anyway  \nDenis - (12:05): tmortagne: could have been better to isolate xwiki import, but else it is just a matter of taste  \ntmortagne - (12:06): yes maybe  \ntmortagne - (12:07): Denis: actually there is maybe some configuration  \ntmortagne - (12:07): but not in the codestyle profile it seems  \ntmortagne - (12:08): i'm checking  \ntmortagne - (12:08): s/codestyle profile/formatter/  \ntmortagne - (12:08): yes there is some configuration actually  \ntmortagne - (12:09): and there is import/export so it can be put in the svn like formatter configuration  \ntmortagne - (12:09): so we have choice actually  \ntmortagne - (12:09): (like i did for code templates some time ago)  \nsdumitriu - (12:14): vmassol: Yes, better to rollback  \nvmassol - (12:15): I agree  \nvmassol - (12:15): ok lunch time, I'm done with the script service, will commit after lunch  \nsburjan - (12:16): does anyone know if xwiki 1.0 syntax supports image borders ?  \nflorinciu left at 12:16 (Read error: Connection reset by peer  \nsburjan - (12:17): I can't get it working  \nsdumitriu - (12:17): sburjan: Only with HTML markup  \nsburjan - (12:17): okay  \nsburjan - (12:17): thanks  \nDenis - (12:28): tmortagne: fine, so, WDYT, is ordering java.\\*<blank line>org.\\*<blank line>com.\\*<blank line>org.xwiki.\\* com.xpn.\\* sounds good ?  \ntmortagne - (12:29): Denis: you should probably send a proposal mail  \ntmortagne - (12:29): (but yes sounds good like this)  \ntmortagne left at 12:37 (Quit: Leaving.  \ntmortagne joined #xwiki at 12:38  \nsdumitriu - (12:38): vmassol: Reverted  \nflorinciu joined #xwiki at 12:39  \nvmassol - (12:40): ok  \nlucaa - (12:51): hi guys  \nlucaa - (12:52): what is the status of the discussion regarding allowing macros defined in wiki pages to specify the types of the parameters?  \nlucaa - (12:52): I looked in the mail arch and on the jira and couldn  \nlucaa - (12:52): couldn't find anything relevant  \ntmortagne - (12:56): lucaa: there is no real discussion about that, it has to be done but nobody is on it  \nlucaa - (12:57): ok, so it's not me missing it, it just doesn't exist. Thanks  \ntmortagne - (12:57): yes  \ntmortagne - (13:02): Denis: i'm checking what is possible with Eclipse before answering your mail (not sure your can choose if you put blank like or not for example)  \nvmassol - (13:02): ok script service done and documented  \nvmassol - (13:02): now we need to fix the security holes :)  \nlucaa left at 13:04 (Ping timeout: 265 seconds  \ntmortagne - (13:07): Denis: impossible to choose if you have a blank like or not, you can only choose groups separated by a blank line always  \ntmortagne - (13:07): so we would have to separates \u00a0org.xwiki.\\* and com.xpn.\\* for example in your proposal  \nvmassol - (13:09): tmortagne: build is failing  \ntmortagne - (13:10): vmassol: build is failing since sdumitriu committs  \nvmassol - (13:10): nope  \nvmassol - (13:10): about your commit  \nvmassol - (13:10): re script macro validator  \ntmortagne - (13:11): checking  \ntmortagne - (13:12): that's weird Eclipse did not failing before i commit  \ntmortagne - (13:13): fixed  \njvelo - (13:14): strange it seems guest has changed oanat password http://www.xwiki.org/xwiki/bin/view/XWiki/oanat?viewer=changes&rev1=2.1&rev2=5.1  \njvelo - (13:14): while no edit right is given to guest on her page  \nsdumitriu - (13:15): jvelo: Could be forgot password?  \nsdumitriu - (13:16): Although it saves with the Admin account, IIRC  \njvelo - (13:17): I asked her, it  \njvelo - (13:17): 's indeed the forgotten password feature  \nDSpair - (13:18): Question. I'm using LiveTable to display a list of objects of a custom class type. It also displays an \"emptyvalue\" for the Class template. How can I filter that out?  \ntmortagne - (13:20): ( Denis: answered on mail )  \nDenis - (13:23): tmortagne: just get it, and I agree for javax, this is poor that blank line could not be manage, but we should do with what we have :)  \nvmassol1 joined #xwiki at 13:31  \nvmassol left at 13:34 (Ping timeout: 260 seconds  \nDSpair - (13:50): Anyone here good with LiveTable? I could use some help.  \nDenis - (13:51): DSpair: yes ?  \nmariusbutuc joined #xwiki at 13:56  \nDSpair - (14:09): Sorry, I was grabbing breakfast.  \nDSpair - (14:09): Question. I'm using LiveTable to display a list of objects of a custom class type. It also displays an \"emptyvalue\" for the Class template. How can I filter that out?  \nDSpair - (14:09): I tried to create my own \"LiveTableResults\" page and use that, but I keep getting errors like: Invalid path: 'obj.id'  \nDSpair - (14:16): Here's the stack trace I gleaned from FireBug: http://pastebin.com/k94h9vEt  \njvelo - (14:21): hi DSpair. which version of Xwiki are you using ?  \njvelo - (14:22): you can use the i18n feature to change \"emptyvalue\" into something else  \njvelo - (14:22): (empty string for example)  \nDSpair - (14:23): I'  \nDSpair - (14:24): I'm using :2.1.1.25889  \nDSpair - (14:24): But just changing it to an empty string is not exactly what I am looking for.  \nlucaa joined #xwiki at 14:25  \nDenis - (14:28): DSpair: if your class template is named properly (<classname>Template), it should be excluded from the results  \nDSpair - (14:28): Hrrmmm . . .  \nDSpair - (14:29): I believe the class got named \"BackupDeviceClass\", so then the template would need to be \"BackupDeviceClassTemplate\"?  \nDenis - (14:29): yes  \nDSpair - (14:29): OK  \nDSpair - (14:29): That helps a lot!!  \nDSpair - (14:31): Denis: Awesome!! That worked perfectly!  \nDSpair - (14:36): OK, next question. displayName was not implemented until 2.3. Is there another way to set the displayName, or would I need to code my own version of the macro as demonstrated in the DevGuide?  \njvelo - (14:44): DSpair, yes priori to 2.3 you can use the i18n feature for that  \njvelo - (14:44): with or without the translationPrefix option  \nDSpair - (14:44): jvelo: I'll look it up.  \nDSpair - (14:46): jvelo: Got a link for how to set i18n on user created classes?  \nDSpair - (14:47): I'm not finding it.  \nKermitTheFragger left at 14:49 (Quit: Leaving  \njvelo - (14:50): sorry, nothing more than http://code.xwiki.org/xwiki/bin/view/Macros/LiveTableMacro . You just have to use what the macro outputs as column header text as an i18n key. (If you use the translationPrefix option, you'll see your prefix before the column name). Maybe this can help http://platform.xwiki.org/xwiki/bin/view/DevGuide/InternationalizingApplications#HUsingpropertieslocatedinXWikipages if you are not familiar with \"user space\" i1  \njvelo - (14:50): 8n yet  \njvelo - (14:50): (DSpair)  \nDSpair - (14:50): jvelo: Thanks!  \nDSpair - (14:54): jvelo: Much appreciated. Worked like a charm.  \njvelo - (14:54): great :)  \ntmortagne - (14:59): note that pretty much all trunk validity tests now fail because of the (not so) new deprecated getSyntaxId  \nflorinciu left at 15:04 (Quit: Leaving.  \ntmortagne - (15:05): it's used in javascript.vm  \ntmortagne - (15:06): (whcih is why it's making everything failing)  \nDSpair left #xwiki at 15:11  \nDSpair joined #xwiki at 15:15  \nflorinciu joined #xwiki at 15:15  \nplunden left #xwiki at 15:25  \nvmassol1 - (15:30): tmortagne: when do we release?  \nvmassol1 - (15:30): (2.4M2)  \ntmortagne - (15:30): vmassol1: (02:59:41 PM) <moi>: note that pretty much all trunk validity tests now fail because of the (not so) new deprecated getSyntaxId  \nvmassol1 - (15:31): I don't understand why it's failing now  \ntmortagne - (15:32): because sdumitriu just added the @Deprecated tag  \ntmortagne - (15:32): (that was missing previously)  \nvmassol1 - (15:43): checking hudson  \njvdrean joined #xwiki at 15:44  \nvmassol1 - (15:46): tmortagne: so what's the solution? we fix all templates? I can help  \nvmassol1 - (15:46): (although I'll start a conf call in a few minutes and it'll last about 2 hours)  \ntmortagne - (15:47): vmassol1: yes probably, in any was we can't release like this (I'm currently enabling back wiki selection in lucene search but i planned to look at it after)  \nvmassol1 - (15:48): ok fixed javascript.vm that should remove a lot of warnings already  \ntmortagne - (16:09): since my last update I get something weird in edit mode UI: the content div does not stops near the panels anymore, it goes below  \ntmortagne - (16:09): sdumitriu: did you changed something on it ?  \nsdumitriu - (16:12): tmortagne: Edit wiki/wysiwyg?  \ntmortagne - (16:12): both  \nsdumitriu - (16:12): No  \njvdrean - (16:12): sdumitriu: I also have issues but I've only rebuilt enterprise locally  \nsdumitriu - (16:13): I have some commits on wiki/wysiwyg to push  \nsdumitriu - (16:13): Starting in a few minutes  \ntmortagne - (16:13): object editor simply does not have any panel  \ntmortagne - (16:14): so i can't add anything  \njvdrean - (16:14): no panel columns (but panels appear) in wiki / wysiwyg, nothing to add an object in the object editor, no l10n in the class editor  \nsdumitriu - (16:14): Yes, the object editor is on purpose panelles  \nsdumitriu - (16:14): panel-less  \ntmortagne - (16:14): sdumitriu: it doe snot for me  \ntmortagne - (16:14): i don't have anything  \ntmortagne - (16:15): i have the proper tools for class editor  \ntmortagne - (16:15): (i.e. new panelless UI)  \nsdumitriu - (16:15): jvdrean: That's a skin issue  \nsdumitriu - (16:16): You either don't have the latest colibri, or you've got an older version in the browser cache  \nsdumitriu - (16:16): Hm, or did I forget to push a file?  \nsdumitriu - (16:16): Probably yes  \nsburjan - (16:16): who coded the Office Importer Application ?  \ntmortagne - (16:16): sdumitriu: how could I have an older skin if I have proper class editor ?  \ntmortagne - (16:17): (and yes i forced browser cache refresh)  \nflorinciu - (16:17): sburjan: Asiri  \nlucaa - (16:31): guys, I just sent a mail on the devs list about the gadgets & dashboard feature, could I have your feedback please? Thanks a lot!  \nmariusbutuc left at 16:58 (Read error: Connection reset by peer  \nmariusbutuc joined #xwiki at 16:58  \nDSpair left at 17:22 (Quit: Leaving  \nsilviar left at 17:24 (Quit: Leaving.  \nflorinciu left at 17:28 (Quit: Leaving.  \nsburjan left at 17:53 (Quit: Ex-Chat  \njvdrean left at 18:00 (Quit: Leaving.  \njvdrean joined #xwiki at 18:08  \nlucaa left at 18:18 (Ping timeout: 248 seconds  \nmariusbutuc left at 18:25 (Ping timeout: 248 seconds  \njvelo left at 18:26 (Quit: Ex-Chat  \nlucaa joined #xwiki at 18:40  \njvdrean left at 19:02 (Quit: Leaving.  \ntmortagne left at 19:11 (Quit: Leaving.  \nabusenius left at 19:20 (Ping timeout: 264 seconds  \nanamarias joined #xwiki at 19:23  \nanamarias left #xwiki at 19:33  \njvdrean joined #xwiki at 19:35  \njvdrean left at 19:59 (Quit: Leaving.  \nabusenius joined #xwiki at 20:02  \nabusenius left at 20:24 (Remote host closed the connection  \nabusenius joined #xwiki at 20:25  \ntmortagne joined #xwiki at 20:28  \nflorinciu joined #xwiki at 20:29  \ntmortagne left #xwiki at 20:32  \nabusenius - (20:46): CalebJamesDeLisl: ping  \nvmassol1 left at 20:52 (Ping timeout: 252 seconds  \nflorinciu left at 20:52 (Quit: Leaving.  \nvmassol joined #xwiki at 20:59  \nCalebJamesDeLisl - (21:17): pong  \nCalebJamesDeLisl - (21:20): abusenius: 64 bytes from Caleb: icmp\\_seq=2 ttl=64 time=0.061 ms  \nabusenius left at 21:21 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 21:21  \nCalebJamesDeLisl - (21:25): abusenius: yes?  \nabusenius - (21:25): :)  \nabusenius - (21:26): I have tested the redirect thing  \nCalebJamesDeLisl - (21:26): What did I do this time?  \nCalebJamesDeLisl - (21:26): So what's wrong with it? ;)  \nabusenius - (21:26): seems to work actually, but there are still some problems  \nCalebJamesDeLisl - (21:27): Go on...  \nabusenius - (21:27): so, first IE can ignore redirect and find out the target url  \nabusenius - (21:28): and other browsers might get this ability with a newer version of xmlrequest  \nabusenius - (21:28): but thats still better than nothing  \nCalebJamesDeLisl - (21:29): W3 says it redirects transparently so I think it's another case of MS shenanigans.  \nabusenius - (21:29): another problem is with Referer headers, they might be dropped by reverse proxies (thats why its less reliable)  \nabusenius - (21:30): and I have no idea what happens in clusters etc, might cause problems too  \nCalebJamesDeLisl - (21:30): Like an apache proxy?  \nabusenius - (21:30): and the last thing is, we need to be careful not to show this secret token anywhere, otherwise its useless  \nabusenius - (21:31): yes, proxies can do strange things, but I have no experience with them  \nCalebJamesDeLisl - (21:31): That's why I like making the param a random number and XORing it against the token so it't a 2 part process.  \nabusenius - (21:31): currently e.g. xwiki.getCurrentUrl() returns the token, and its used in several redirects  \nabusenius - (21:32): well, \\*both\\* parts are refected on the page currently  \nCalebJamesDeLisl - (21:32): meaning in the html?  \nabusenius - (21:32): yes  \nCalebJamesDeLisl - (21:33): But it would be like 20 lines to make it put half in a redirect and half in the page content.  \nabusenius - (21:34): come on, thats easy  \nCalebJamesDeLisl - (21:34): I suppose if there is a proxy messing with the referrer (this shouldn't happen) there could be a setting to switch to your current method.  \nCalebJamesDeLisl - (21:35): I was reading about referrer getting stripped in ssl. It seems to be an option.  \nabusenius - (21:35): yes, the idea is nice, we can make it much harder to do XSS, but we need configuration switch (again)  \nCalebJamesDeLisl - (21:36): Let me check on xwiki.org to see if their apache is stripping the referrer...  \nabusenius - (21:36): yes, I was wrong actually, if used within same site on https only, it works  \nabusenius - (21:36): on public wikis this is rare I guess  \nabusenius - (21:36): anonymous proxies strip them for sure  \nabusenius - (21:38): and companies intranets might have quite complex configuration I guess  \nvmassol - (21:38): upgrading and restarting hudson  \nabusenius - (21:39): another thing I found, ip binding of cookies is broken, I'll report a bug  \nCalebJamesDeLisl - (21:40): Anon proxies usually provide an option. Anyway most wikis want to ban anyone who's playing the proxy game ;)  \nCalebJamesDeLisl - (21:40): xwiki.org supports referrer. The header is called 'referer' though.  \nCalebJamesDeLisl - (21:40): (standards writers can't spell)  \nCalebJamesDeLisl - (21:41): brb  \nabusenius - (21:43): it is always called referer for some reason  \nCalebJamesDeLisl - (21:45): IMO referrer checking is important because it's so hard to forge a referrer.  \nnpm left at 21:47 (Quit: Leaving.  \nmaggo joined #xwiki at 21:52  \nmaggo - (21:54): Hi all, how can i delete spaces, i know about these http://www.xwiki.org/xwiki/bin/view/Main/Spaces/deleteSpace but i can't delete the pages in there, it says the document does not exists. What can i do ?  \nnpm joined #xwiki at 22:02  \nCalebJamesDeLisl - (22:04): abusenius: Just checked that it all works (would be embarassing to find that redirects hide referrer) http://pastebin.com/Sig2qA5j It works.  \nevalica left at 22:04 (Quit: Leaving.  \nCalebJamesDeLisl - (22:05): maggo: To make a space go away you need to delete all of the pages in it. There are some spaces which have hidden pages making it harder, which space are you trying to delete?  \nmaggo - (22:07): CalebJamesDeLisl: hi, the spaces i try to delete are space which was created by false creating pages. If you create a page Spacename.page.name than you get a space named page. And now a space Kunden.exh\\_ottilien\\_de has a page Hausmanager but if i click on this site xwiki says the document does not exists  \nCalebJamesDeLisl - (22:08): Where do you see this space?  \nCalebJamesDeLisl - (22:08): (where is it listed)  \nmaggo - (22:08): so i can't delete the last page in these spaces and i have 4 of them  \nmaggo - (22:08): On Xwiki Main View  \nmaggo - (22:09): an on the page where i pasted the delete spaces code  \nCalebJamesDeLisl - (22:09): try this: {{velocity}} $xwiki.searchDocuments(\"where doc.space = ?\", ['space you want to get rid of...']) {{/velocity}}  \nCalebJamesDeLisl - (22:10): (replacing 'space you want to get rid of...' with the name of the offending space.)  \nmaggo - (22:10): on a new page?  \nmaggo - (22:10): yes replacing is clear, i think ;-)  \nCalebJamesDeLisl - (22:10): Anywhere, you can even just paste it into wiki edit and hit preview.  \nmaggo - (22:11): ok and space name i can copy from the deletspaces page? like Kunden.exh\\_ottilien\\_de  \nCalebJamesDeLisl - (22:11): Sure.  \nmaggo - (22:12): ok now on preview i get [Kunden\\.exh\\_ottilien\\_de.Hausmanager] \u00a0on the first line  \nCalebJamesDeLisl - (22:13): Ok, now try {{velocity}} $xwiki.getDocument('Kunden\\.exh\\_ottilien\\_de.Hausmanager').delete() {{/velocity}}  \nmaggo - (22:14): ok now i see nothing on the preview page is that ok?  \nCalebJamesDeLisl - (22:15): Sure, now go back and check if the space is still there.  \nmaggo - (22:16): it is still there  \nCalebJamesDeLisl - (22:18): hmmm.  \nCalebJamesDeLisl - (22:20): If you go to wiki/bin/Kunden.exh\\_ottilien\\_de/Hausmanager does that work?  \nmaggo - (22:22): There i can see the Notice, The requested document could not be found. and the following pages are in recycle bin  \nmaggo - (22:22): should i delete the pages there?  \nCalebJamesDeLisl - (22:26): Sure, that sounds right.  \nmaggo - (22:27): no sorry the space is still on both pages, Main and deletespaces  \nCalebJamesDeLisl - (22:37): Try running the searchdocuments script again to see if there is any other document in the space.  \nCalebJamesDeLisl - (22:38): I'm not the expert on naming, vmassol, any idea about how to get rid of a space with a . in the name?  \nmaggo - (22:40): you mean that: \u00a0{{velocity}} $xwiki.searchDocuments(\"where doc.space = ?\", ['space you want to get rid of...']) {{/velocity}}  \nmaggo - (22:40): i got that in preview [Kunden\\.exh\\_ottilien\\_de.Hausmanager]  \nCalebJamesDeLisl - (22:41): Does the link to the page still work?  \nCalebJamesDeLisl - (22:41): \u00a0wiki/bin/Kunden.exh\\_ottilien\\_de/Hausmanager  \nmaggo - (22:43): The requested document could not be found.  \nmaggo - (22:43): no  \nvmassol left at 22:43 (Quit: Leaving.  \nmaggo - (22:43): so the space should be empty and automaticly deleted or?  \nCalebJamesDeLisl - (22:44): The space is not an entity, it only exists when a document claims to be in it.  \nCalebJamesDeLisl - (22:45): What's confusing me is that the database search shows the document but it's unaccessable. (I think there's a bug here to be reported)  \nmaggo - (22:53): hm i had such problems on 1.7.1 too before i have upgraded the system, and on xwiki syntax 1.0 i had a code that deleted me this space but it won't work on 2.x i tested it  \nmaggo - (22:53): Where can i report this?  \nCalebJamesDeLisl - (22:55): jira.xwiki.org I can report it if you don't want to but I think we need a little more information.  \nCalebJamesDeLisl - (22:57): Actually the velocity script which finds the page and the url which doesn't find it should be enough.  \nmaggo - (22:57): i think i will do it tomorrow  \nCalebJamesDeLisl - (22:57): Ok.  \nmaggo - (22:57): now i drive home and go sleeep now  \nmaggo - (22:58): bye and thank you for your help  \nCalebJamesDeLisl - (22:58): Good night.  \nCalebJamesDeLisl - (22:58): Sure thing.  \nmaggo left at 22:59 (Quit: maggo  \nvmassol joined #xwiki at 23:12  \nvmassol left at 23:15 (Client Quit  \nmflorea left at 23:16 (Quit: Leaving.  \nnickless joined #xwiki at 23:19  \nabusenius left at 23:19 (Ping timeout: 265 seconds  \nnickless is now known as abusenius ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nnickless joined #xwiki at 23:37  \nabusenius left at 23:38 (Read error: Connection reset by peer  \n\n"}