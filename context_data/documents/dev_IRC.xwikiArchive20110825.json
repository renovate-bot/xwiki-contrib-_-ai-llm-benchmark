{"id": "dev:IRC.xwikiArchive20110825", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110825", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n01:15\u00a0<pturcotte>\u00a0has joined #xwiki  \n01:56\u00a0<npm>\u00a0has quit  \n01:56\u00a0<npm>\u00a0has joined #xwiki  \n02:01\u00a0<npm>\u00a0has quit  \n02:06\u00a0<npm>\u00a0has joined #xwiki  \n04:01\u00a0<DrLou>\u00a0has joined #xwiki  \n04:39\u00a0<DrLou>\u00a0has quit  \n05:03\u00a0<sdumitriu>\u00a0has joined #xwiki  \n07:22\u00a0<mflorea>\u00a0has joined #xwiki  \n07:22\u00a0<sdumitriu>\u00a0has quit  \n07:24\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:28\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:28\u00a0<sdumitriu>\u00a0has quit  \n08:30\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:38\u00a0<vmassol>\u00a0has joined #xwiki  \n08:38\u00a0<sdumitriu>\u00a0has quit  \n08:39\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:44\u00a0<sdumitriu>\u00a0has quit  \n08:46\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:50\u00a0<vmassol>\u00a0sdumitriu: thanks for trying to help with the unit tests. However I didn't commit it on purpose. See my comment on github  \n08:52\u00a0<vmassol>\u00a0good morning everyone  \n08:52\u00a0<vmassol>\u00a0build day today\u00e8  \n08:52\u00a0<vmassol>\u00a0s/\u00e9//  \n08:57\u00a0<@sdumitriu>\u00a0Good morning  \n08:57\u00a0<@cjdelisle>\u00a0good morning and happy build day  \n08:58\u00a0<vmassol>\u00a0btw AddRemoveTagsTest.testTagCaseIsIgnored is flickering. It can be reproduced. So that's one test that we need to fix today too  \n08:58\u00a0<vmassol>\u00a0(in addition to the http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/124/testReport/org.xwiki.test.ui.administration/RegisterFromAdministrationTest/testRegisterJohnSmith/\u00a0 one)  \n09:00\u00a0<@cjdelisle>\u00a0While I was writing up the script for attachment upload for the fellow on the user's list, I discovered attachments being uploaded twice (by wget!), I want to double check that it is not normal because it could provide a clue about the attachment download issue.  \n09:02\u00a0<vmassol>\u00a0yes would be good to check out  \n09:02\u00a0<sdumitriu>\u00a0has quit  \n09:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:11\u00a0<@cjdelisle>\u00a0nope, everything seems to be right.  \n09:13\u00a0<@cjdelisle>\u00a0As a side note, I think in the future, the UI should interface with the core via rest. It would give us the modular plugin ui which skins never really delivered.  \n09:13\u00a0<sdumitriu>\u00a0has quit  \n09:14\u00a0<vmassol>\u00a0personally I don't like this ebcause it's about 1000 slower that it should be  \n09:15\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:15\u00a0<@cjdelisle>\u00a0I disagree. It's fast enough for \\*sql, and it's fast enough for openoffice.  \n09:16\u00a0<@cjdelisle>\u00a0I was reading that at amazon, a single page load can cause as many as 100 internal requests to happen between amazon servers and I think they were all using http too.  \n09:16\u00a0<sdumitriu>\u00a0has quit  \n09:17\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:23\u00a0<+tmortagne>\u00a0working on XE-994 today  \n09:23\u00a0<vmassol>\u00a0hi tmortagne  \n09:24\u00a0<vmassol>\u00a0I'd also like that we fix existing failing tests today  \n09:24\u00a0<vmassol>\u00a0(as a priority)  \n09:24\u00a0<vmassol>\u00a0so that we end the day with all builds green (errr blue on hudson ;))  \n09:25\u00a0<+tmortagne>\u00a0this should not be long, will get back to fixing tests after  \n09:25\u00a0<vmassol>\u00a0ok  \n09:55\u00a0<arkub>\u00a0has joined #xwiki  \n10:12\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:15\u00a0<fmancinelli>\u00a0has quit  \n10:16\u00a0<sdumitriu>\u00a0has quit  \n10:19\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:21\u00a0<@cjdelisle>\u00a0does anyone know why we do: \u00a0if (log.isDebugEnabled()) { log.debug(\"some text\"); } ?  \n10:21\u00a0<@cjdelisle>\u00a0instead of just log.debug(.....)  \n10:22\u00a0<vmassol>\u00a0yes I know why....  \n10:22\u00a0<+tmortagne>\u00a0cjdelisle: it's supposed to be quicker because if would be quicker than method call with internal if but really +1 to remove that  \n10:22\u00a0<vmassol>\u00a0because the person didn't really understand what he/she did! :)  \n10:23\u00a0<vmassol>\u00a0it's completely wrong in this case  \n10:23\u00a0<vmassol>\u00a0and moreover we have almost no reason to use isDebugenabled now that we're using slf4j  \n10:24\u00a0<vmassol>\u00a0(see http://www.slf4j.org/faq.html#logging\\_performance)  \n10:24\u00a0<@cjdelisle>\u00a0IMO even if there is a \"text \" + key + \" more text\" I think it's just fighting the compiler to optimize better.  \n10:24\u00a0<vmassol>\u00a0check http://www.slf4j.org/faq.html#logging\\_performance  \n10:24\u00a0<vmassol>\u00a0you can find some stats on the web btw about perf measurements  \n10:25\u00a0<@cjdelisle>\u00a0ahh I see  \n10:25\u00a0<vmassol>\u00a0\"The following two lines will yield the exact same output. However, the second form will outperform the first form by a factor of at least 30, in case of a disabled logging statement.\"  \n10:25\u00a0<@cjdelisle>\u00a0But how expensive is that compared to a single synchronized statement...  \n10:26\u00a0<vmassol>\u00a0I remember seeing stats  \n10:26\u00a0<vmassol>\u00a0it's not nothing  \n10:26\u00a0<vmassol>\u00a0since you have these logs everywhere in your system  \n10:26\u00a0<vmassol>\u00a0alone they're not much  \n10:26\u00a0<vmassol>\u00a0but counted thousands and thousands of times it's something  \n10:26\u00a0<@cjdelisle>\u00a0true.. \u00a0preprocessor where are you ;)  \n10:26\u00a0<vmassol>\u00a0I remember in a system I wrote a few years back I measure the cost of logging overall and it was high as 10% of the toal time  \n10:27\u00a0<@cjdelisle>\u00a0hmm that is significant indeed  \n10:28\u00a0<@cjdelisle>\u00a0I'm running testRegisterJohnSmith() 1000 times and I'm going to make XWikiCacheStore a little bit more readable before I try fixing it.  \n10:28\u00a0<vmassol>\u00a0you have to use the RegisterWithoutLiveValidationTest test  \n10:28\u00a0<vmassol>\u00a0it's only failing from this test  \n10:29\u00a0<vmassol>\u00a0it's working fine fomr REgisterTest  \n10:29\u00a0<vmassol>\u00a0I get it to fail almost all the time in RegisterWithoutLiveValidationTest  \n10:30\u00a0<@cjdelisle>\u00a0That's the one I'm running, it failed once before but I added code to freeze it when it fails and now it has been working right...  \n10:59\u00a0<mflorea>\u00a0has quit  \n11:14\u00a0<mflorea>\u00a0has joined #xwiki  \n11:24\u00a0<lucaa>\u00a0has joined #xwiki  \n11:35\u00a0<@cjdelisle>\u00a0Just want to run this through here before proposaing it, WDYT of adding a pointer type to the xwiki-platform-store-api submodule.  \n11:35\u00a0<@cjdelisle>\u00a0It would basicly be this: \u00a0public class Pointer<T> { public T target; }  \n11:38\u00a0<@cjdelisle>\u00a0actually \"public final class Pointer\" probably makes more sense.  \n11:39\u00a0<vmassol>\u00a0I'd prefer some AX registers\u2026.. :)  \n11:39\u00a0<vmassol>\u00a0(just kidding)  \n11:39\u00a0<@cjdelisle>\u00a0There are a lot of things about asm which are a total mess.  \n11:40\u00a0<vmassol>\u00a0(pointers evoke C for me)  \n11:40\u00a0<@cjdelisle>\u00a0The use case for right now is I need to add indirection so I can have multiple cache entries point to the same document then the document can be removed when the cache entry needs to expire.  \n11:42\u00a0<@cjdelisle>\u00a0I have also found it useful getting data out of TransactionRunnables since they don't return anything and there's no real way that they could.  \n11:42\u00a0<vmassol>\u00a0exposing cache through api looks wrong to me  \n11:42\u00a0<vmassol>\u00a0(but I don't exactly what you're talking about)  \n11:42\u00a0<vmassol>\u00a0I think best would be for you to write a proposal  \n11:43\u00a0<@cjdelisle>\u00a0ok  \n11:44\u00a0<+mflorea>\u00a0vmassol: can you switch back agents to FF6.0?  \n11:45\u00a0<vmassol>\u00a0they're using FF6  \n11:45\u00a0<vmassol>\u00a0except for one using FF3  \n11:45\u00a0<vmassol>\u00a0see ci.xwiki.org  \n11:45\u00a0<+mflorea>\u00a0can you switch that too?  \n11:45\u00a0<vmassol>\u00a0can you do it?  \n11:45\u00a0<+mflorea>\u00a0I can try  \n11:52\u00a0<+tmortagne>\u00a0guys I just created a big conflict for pretty much anyone working on xwiki-enterprise-test-ui so you should pull as soon as possible before doing more modifications  \n11:52\u00a0<+tmortagne>\u00a0FYI it's for XE-994  \n11:53\u00a0<vmassol>\u00a0mflorea: you need to log on the agents and change the symlink in the home dir  \n11:53\u00a0<vmassol>\u00a0(user = hudsonagent)  \n11:53\u00a0<vmassol>\u00a0then modify the label on jenkins for the agent  \n11:53\u00a0<vmassol>\u00a0(that's if we don't want to run FF 3.x anymore)  \n11:54\u00a0<mflorea>\u00a0has quit  \n11:55\u00a0<rrodriguez>\u00a0has quit  \n11:57\u00a0<vmassol>\u00a0tmortagne: beefing up your stats? ;)  \n11:58\u00a0<vmassol>\u00a0tmortagne: you'll need to add the project to jenkins and configure dependencies  \n11:58\u00a0<vmassol>\u00a0(be careful I changed the way they're declared)  \n11:58\u00a0<+tmortagne>\u00a0done  \n11:58\u00a0<+tmortagne>\u00a0taking care of dependenciesnow  \n11:58\u00a0<vmassol>\u00a0I only trigger after the build succeeds  \n12:00\u00a0<+tmortagne>\u00a0there is some dependencies setup that are not needed IMO  \n12:01\u00a0<+tmortagne>\u00a0for example http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-ui/ properly see it's Upstream Projects  \n12:01\u00a0<vmassol>\u00a0well ping me on skype if you want, but I've reviewed them carefully normally  \n12:08\u00a0<mflorea>\u00a0has joined #xwiki  \n12:14\u00a0<+mflorea>\u00a0arr, who named \"agent-4\" and \"agent-4 (firefox)\"?... now we have two agents with the same name..  \n12:16\u00a0<+tmortagne>\u00a0mflorea: no we don't :)  \n12:16\u00a0<+tmortagne>\u00a0it's just because it has been renamed during a build  \n12:17\u00a0<+tmortagne>\u00a0kill the build of the wrong one and you will see  \n12:17\u00a0<+mflorea>\u00a0I can't configure it anymore  \n12:18\u00a0<+mflorea>\u00a0I stopped the build and now it dissapeard  \n12:18\u00a0<+mflorea>\u00a0how can I bring it back, as agent-5  \n12:19\u00a0<+tmortagne>\u00a0I don't understand  \n12:19\u00a0<+tmortagne>\u00a0there is not agent-5  \n12:19\u00a0<+tmortagne>\u00a0we only have 4 agents  \n12:20\u00a0<+tmortagne>\u00a0it's just a UI bug that it duplicate an agent when you rename it  \n12:20\u00a0<+mflorea>\u00a0ah  \n12:20\u00a0<+mflorea>\u00a0I understand now  \n12:21\u00a0<+mflorea>\u00a0agent-1 is free, is it the one used only for platform builds?  \n12:22\u00a0<+mflorea>\u00a0because there is a queue of functional tests waiting  \n12:32\u00a0<jamesxu>\u00a0has joined #xwiki  \n12:33\u00a0<+tmortagne>\u00a0mflorea: there is no build used only for platfor AFAIK  \n12:33\u00a0<+tmortagne>\u00a0and yes there something wrong since yesterday but I can't find why  \n12:35\u00a0<+tmortagne>\u00a0mflorea: did you untied project that were tied to firefox3 ?  \n12:35\u00a0<+tmortagne>\u00a0looks like xwiki-manager-test-selenium is still tied  \n12:36\u00a0<+tmortagne>\u00a0which is why it's stuck  \n12:36\u00a0<+tmortagne>\u00a0same for xwiki-manager-tests-3.1  \n12:37\u00a0<+tmortagne>\u00a0but I do'nt know why xwiki-enterprise-test-cluster is nit built on agent-1  \n12:37\u00a0<+tmortagne>\u00a0ha found it I think  \n12:38\u00a0<+tmortagne>\u00a0yep it's working now  \n12:38\u00a0<+tmortagne>\u00a0(except for manager jobs that you did not fixed)  \n12:38\u00a0<+tmortagne>\u00a0agent-1 was forced to work only with tied jobs  \n12:39\u00a0<+mflorea>\u00a0tmortagne: my bad, I handled only the xwiki-enterprise-test-\\*, I forgot about xwiki-manager tests  \n12:39\u00a0<+mflorea>\u00a0I think I have to update their poms too  \n12:39\u00a0<+mflorea>\u00a0let me check  \n13:14\u00a0<jamesxu>\u00a0has quit  \n13:14\u00a0<+mflorea>\u00a0should be fine now  \n13:15\u00a0<mflorea>\u00a0has quit  \n13:49\u00a0<pturcotte>\u00a0has quit  \n13:50\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:56\u00a0<DrLou>\u00a0has joined #xwiki  \n14:14\u00a0<mflorea>\u00a0has joined #xwiki  \n14:21\u00a0<Dylan>\u00a0has joined #xwiki  \n14:22\u00a0<Dylan>\u00a0hi, guys  \n14:22\u00a0<Dylan>\u00a0is now known as <Guest60264>  \n14:23\u00a0<Guest60264>\u00a0has quit  \n14:24\u00a0<microblue>\u00a0has joined #xwiki  \n14:24\u00a0<microblue>\u00a0hello~  \n14:25\u00a0<microblue>\u00a0I meet a problem when I use xwiki.  \n14:25\u00a0<+lucaa>\u00a0hi cjdelisle  \n14:26\u00a0<+lucaa>\u00a0I have an issue with attachment storage on the filesystem  \n14:26\u00a0<+lucaa>\u00a0(it's you that coded it, right?)  \n14:27\u00a0<microblue>\u00a0when I upload an file which contained chinese file name, xwiki can not recogenize the name and auto remove the chinese charactor.  \n14:28\u00a0<microblue>\u00a0is there any solution about the chinese named file upload?  \n14:28\u00a0<+lucaa>\u00a0hi microblue . There's this http://jira.xwiki.org/jira/browse/XWIKI-4574 and the related issue http://jira.xwiki.org/jira/browse/XE-324 about that  \n14:28\u00a0<+lucaa>\u00a0sorry for that  \n14:29\u00a0<+lucaa>\u00a0you can vote (once again) for the issue, to show your interest in the issue being fixed  \n14:29\u00a0<vmassol>\u00a0or provide a patch  \n14:31\u00a0<microblue>\u00a0thank you lucaa, got it, \u00a0I noticed the bug has been submitted long time ago.  \n14:31\u00a0<microblue>\u00a0still open.  \n14:32\u00a0<microblue>\u00a0the bug was submit at version 2.0.3 ...  \n14:32\u00a0<+lucaa>\u00a0yes, it's an old and annoying issue, which is why I appologize for it (in general I don't apologize for bugs ;) )  \n14:33\u00a0<microblue>\u00a0hmm.. looks we should fix that ourselves..  \n14:34\u00a0<microblue>\u00a012/Nov/09 11:38 \u00a0\u00a0\u00a0god, \u00a02 years.  \n14:35\u00a0<+lucaa>\u00a0if you do, you could also provide a patch! you're welcome on the list if you want to discuss possible solutions or it makes it easier for you to develop and integrate the solution  \n14:35\u00a0<microblue>\u00a0Affects Version/s: 1.6  \n14:36\u00a0<microblue>\u00a0fix that is easy I think, but I worry about the support about other problems.  \n14:37\u00a0<microblue>\u00a0why it open for 2 years, there is a lot of duplicate bug about this.  \n14:43\u00a0<vmassol>\u00a0sorry guys, was fixing some test framework issues\u2026. (which could be considered build issues\u2026 ;)). Back to functional tests now  \n14:43\u00a0<vmassol>\u00a0so what's the status?  \n14:43\u00a0<vmassol>\u00a0lots of stuff failing on jenkins  \n14:43\u00a0<vmassol>\u00a0hmmm problem on agent3: http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-misc/149/  \n14:43\u00a0<vmassol>\u00a0again a jvm sigfault  \n14:44\u00a0<vmassol>\u00a0triggering it manually \u2026 but we'll need to fix this one\u2026 happens too often  \n14:54\u00a0<vmassol>\u00a0mflorea: what's up with http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/112/testReport/ ?  \n14:55\u00a0<+mflorea>\u00a0I'm fixing it right now  \n14:56\u00a0<+mflorea>\u00a0it's due to the fact that the tests run on FF6 right now  \n15:05\u00a0<+tmortagne>\u00a0mflorea: looks like you still did not fixed xwiki-manager-test-selenium and xwiki-manager-tests-3.1 jenkins jobs  \n15:06\u00a0<+mflorea>\u00a0wiki-manager-test-selenium should be fixed, but not the 3.1 (both xe and xem) . I'll take care  \n15:07\u00a0<+tmortagne>\u00a0mflorea: i'm talking about jenkins job, not the maven project  \n15:07\u00a0<+mflorea>\u00a0ah, right  \n15:07\u00a0<+mflorea>\u00a0doing it now  \n15:08\u00a0<+mflorea>\u00a0for 3.1 I need to change the poms first  \n15:09\u00a0<+tmortagne>\u00a0ok  \n15:09\u00a0<vmassol>\u00a0FYI I'm starting to look at the flickering testTagCaseIsIgnored  \n15:10\u00a0<vmassol>\u00a0anyone working on the testregister issue? cjdelisle, you're still on it?  \n15:10\u00a0<+tmortagne>\u00a0is there a tag on jira for ignored tests issues ? or maybe we don't have any of them anymore  \n15:12\u00a0<vmassol>\u00a0hmm good question  \n15:12\u00a0<vmassol>\u00a0you can search jira for ignore maybe  \n15:12\u00a0<vmassol>\u00a0there was one tag at one point  \n15:12\u00a0<vmassol>\u00a0I see http://jira.xwiki.org/jira/browse/XE-948  \n15:13\u00a0<vmassol>\u00a0ah actually that's the one I'm looking at :)  \n15:13\u00a0<vmassol>\u00a0not going to be easy I reckon....  \n15:13\u00a0<+tmortagne>\u00a0so not tag it seems  \n15:26\u00a0<vmassol>\u00a0ok found the issue for the tags test  \n15:37\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:42\u00a0<sdumitriu>\u00a0has quit  \n15:43\u00a0<microblue>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-4574 \u00a0\u00a0\u00a0\u00a0wish dev team can fix this.  \n15:44\u00a0<microblue>\u00a0wish dev team can fix this bug. \u00a0\u00a0http://jira.xwiki.org/jira/browse/XWIKI-4574  \n15:44\u00a0<vmassol>\u00a0hmm guys I have a build issue with nexus: http://pastebin.com/XuFW3qXV  \n15:44\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:45\u00a0<vmassol>\u00a0hecking nexus logs  \n15:46\u00a0<+tmortagne>\u00a0indeed http://nexus.xwiki.org/nexus/content/groups/public-snapshots/org/xwiki/platform/xwiki-platform-bridge/3.2-SNAPSHOT/xwiki-platform-bridge-3.2-20110825.124644-248.jar does not exists  \n15:46\u00a0<vmassol>\u00a0when I click on the repo in neuxs I get: http://tinycoke.com/\\_6rjYHjkzElvIk/screen\\_shot\\_2011-08-25\\_at\\_3.46.17\\_pm.png  \n15:46\u00a0<vmassol>\u00a0ah ok found why  \n15:47\u00a0<vmassol>\u00a02011-08-25 15:42:15 ERROR [qtp-1031100-766] - o.s.n.r.ContentPlex~ \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Got exception during processing request \"GET http://nexus.xwiki.org/nexus/content/groups/public-snapshots/org/xwiki/platform/xwiki-platform-core/3.2-SNAPSHOT/maven-metadata.xml\":  \n15:47\u00a0<vmassol>\u00a0com.thoughtworks.xstream.io.StreamException: \u00a0: No space left on device  \n15:47\u00a0<vmassol>\u00a0:(  \n15:50\u00a0<sdumitriu>\u00a0has quit  \n15:51\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:55\u00a0<+lucaa>\u00a0guys do we know something about this issue  \n15:55\u00a0<+lucaa>\u00a0http://jira.xwiki.org/jira/browse/XE-844 ?  \n15:55\u00a0<+lucaa>\u00a0i thought it was fixed  \n15:55\u00a0<+lucaa>\u00a0but I see that both this issue and the 'related' one are open  \n16:02\u00a0<fmancinelli>\u00a0has quit  \n16:06\u00a0<fmancinelli>\u00a0has joined #xwiki  \n16:09\u00a0<vmassol>\u00a0tmortagne: polx is committing in curriki now  \n16:09\u00a0<vmassol>\u00a0and I've seen him committing during the past days  \n16:09\u00a0<vmassol>\u00a0so svn access is not off for everyone on curriki  \n16:09\u00a0<+tmortagne>\u00a0vmassol: past days it's normal  \n16:10\u00a0<+tmortagne>\u00a0I just deleted the document  \n16:11\u00a0<+tmortagne>\u00a0and for the now, he is just lucky: I added him just before he commit ;)  \n16:11\u00a0<vmassol>\u00a0ok :)  \n16:12\u00a0<vmassol>\u00a0cjdelisle: you're still on the register test?  \n16:13\u00a0<pturcotte>\u00a0has joined #xwiki  \n16:15\u00a0<@sdumitriu>\u00a0lucaa: Denis did a commit for that issue, IIRC  \n16:17\u00a0<lucaa>\u00a0has quit  \n16:19\u00a0<+tmortagne>\u00a0sdumitriu: you forgot to put XEM 3.2M2 on http://www.xwiki.org/xwiki/bin/view/Main/Download  \n16:19\u00a0<@sdumitriu>\u00a0Should I?  \n16:19\u00a0<+tmortagne>\u00a0you released it  \n16:19\u00a0<+tmortagne>\u00a0so why not ?  \n16:19\u00a0<@sdumitriu>\u00a0We don't usually offer non-finals for XEM  \n16:19\u00a0<+tmortagne>\u00a0we used to  \n16:20\u00a0<@sdumitriu>\u00a0At least that was the practice on SVN  \n16:20\u00a0<+tmortagne>\u00a0but we used to not release it  \n16:20\u00a0<@sdumitriu>\u00a0OK, I can add it  \n16:20\u00a0<+tmortagne>\u00a0since we release it now I don't see why it should not be visible  \n16:23\u00a0<+tmortagne>\u00a0sdumitriu: also version are in the wrong order on http://dev.xwiki.org/xwiki/bin/view/Community/ReleasePlans (it's supposed to be the more recent first)  \n16:56\u00a0<vmassol>\u00a0so nobody is working on fixing RegisterWithoutLiveValidationTest?  \n16:56\u00a0<vmassol>\u00a0it's the last failing test....  \n17:48\u00a0<fmancinelli>\u00a0has quit  \n17:56\u00a0<arkub>\u00a0has quit  \n18:07\u00a0<obiwlan>\u00a0has joined #xwiki  \n18:11\u00a0<obiwlan\\_>\u00a0has quit  \n18:26\u00a0<vmassol>\u00a0mflorea: thanks for fixing the \\\\  \n18:26\u00a0<vmassol>\u00a0this has been bothering me for months (if not years)  \n18:26\u00a0<vmassol>\u00a0:)  \n18:27\u00a0<vmassol>\u00a0(it's not related to FF6 btw, I've been having it in chrome and other browsers too for a very long time)  \n18:27\u00a0<vmassol>\u00a0got to go, bbl  \n18:31\u00a0<+mflorea>\u00a0vmassol: I hope it's the issue you're referring to, because we didn't have it on FF 3.x (I've fixed it because lots of selenium tests were failing on FF 6.0).  \n18:40\u00a0<tmortagne>\u00a0has left #xwiki  \n19:21\u00a0<mflorea>\u00a0has quit  \n19:30\u00a0<Enygma`>\u00a0has quit  \n21:25\u00a0<@cjdelisle>\u00a0vmassol: I ran it in a bash loop when I went to bed, I still can't repeat it...  \n21:28\u00a0<vmassol>\u00a0cjdelisle: strange, let me try again but I think it reproduces easily for me  \n21:28\u00a0<vmassol>\u00a0you need to run it from RegisterWithoutLiveValidationTest  \n21:28\u00a0<vmassol>\u00a0if you run it from RegisterTest it doesn't fail  \n21:29\u00a0<@cjdelisle>\u00a0Yes, that's how I have been testing.  \n21:31\u00a0<@cjdelisle>\u00a0I think what happens is the lightbox doesn't pop up.  \n21:32\u00a0<vmassol>\u00a0running 100 times now  \n21:41\u00a0<vmassol>\u00a0didn't fail \u2026 running another 100  \n21:42\u00a0<vmassol>\u00a0cjdelisle: did you cehck the screenshot taken at http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/132/testReport/org.xwiki.test.ui.administration/RegisterFromAdministrationTest/testRegisterJohnSmith/ ?  \n21:42\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/ws/target/screenshots/RegisterFromAdministrationTest-testRegisterJohnSmith.png  \n21:42\u00a0<fmancinelli>\u00a0has joined #xwiki  \n21:42\u00a0<@cjdelisle>\u00a0hmm that is enabled?  \n21:43\u00a0<vmassol>\u00a0so no wonder this is not working:  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0registrationPage.waitUntilElementsAreVisible(  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0new By[] {By.xpath(\"//td[@class='username']/a[@href='/xwiki/bin/view/XWiki/JohnSmith']\"),  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0By.xpath(\"//dd/span[@class='LV\\_validation\\_message LV\\_invalid']\")  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0},  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0false  \n21:43\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0);  \n21:44\u00a0<vmassol>\u00a0now we need to understand why  \n21:44\u00a0<vmassol>\u00a0note: I haven't started investigating this test yet so I'd need to read what it does first to understand what's going on  \n21:45\u00a0<@cjdelisle>\u00a0ahh I see  \n21:46\u00a0<@cjdelisle>\u00a0what is supposed to happen is the lightbox closes after a successful registration since you probably have no desire to login as that user and it leavs you (the admin) back in the administration/users section  \n22:19\u00a0<vmassol>\u00a0sdumitriu: any plan for today's build day?  \n22:20\u00a0<@sdumitriu>\u00a0No plan  \n22:21\u00a0<@sdumitriu>\u00a0I see there are still failing tests  \n22:21\u00a0<vmassol>\u00a0there are some failing tests  \n22:21\u00a0<@sdumitriu>\u00a0More than there were in the morning  \n22:21\u00a0<vmassol>\u00a0if you want to have a look  \n22:21\u00a0<vmassol>\u00a0for ex: http://ci.xwiki.org/job/xwiki-enterprise-test-selenium/org.xwiki.enterprise$xwiki-enterprise-test-selenium/129/testReport/org.xwiki.test.selenium/UsersGroupsRightsManagementTest/testAddUserToGroup/  \n22:21\u00a0<@sdumitriu>\u00a0Yes, I was looking at that  \n22:21\u00a0<vmassol>\u00a0seems wysiwyg tests are not good either: http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/116/testReport/  \n22:22\u00a0<@sdumitriu>\u00a0Can't help there too much  \n22:22\u00a0<vmassol>\u00a0yeah should be easier for marius  \n22:22\u00a0<vmassol>\u00a0cjdelisle: are you going to be able to fix http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/133/testReport/org.xwiki.test.ui.administration/RegisterFromAdministrationTest/testRegisterJohnSmith/ or do you need hlep?  \n22:23\u00a0<@cjdelisle>\u00a0I should be able to handle it.  \n22:23\u00a0<vmassol>\u00a0ok cool  \n22:44\u00a0<vmassol>\u00a0has quit  \n22:53\u00a0<polx>\u00a0has joined #xwiki  \n22:53\u00a0<polx>\u00a0Hello XWiki experts.  \n22:53\u00a0<polx>\u00a0I'm having a little issue with the rights model.  \n22:53\u00a0<polx>\u00a0I am fiddling inside the .vm files (login.vm among others) but some code there seems to run unprivileged. Is there a way around it?  \n22:55\u00a0<@cjdelisle>\u00a0code in .vm files should never have privileges, if you need privilegs then you can put code into a page.  \n22:55\u00a0<@cjdelisle>\u00a0You can also use $xwiki.parseGroovyFromPage() to get access to (your own) privileged code from an unprivileged context  \n22:57\u00a0<polx>\u00a0parseGroovyFromPage is, precisely, what returns me groovy\\_missingprivileges.,  \n22:58\u00a0<@sdumitriu>\u00a0The .vm files have the same priviledge as the document being rendered  \n22:58\u00a0<pturcotte>\u00a0has quit  \n22:59\u00a0<polx>\u00a0@sdumitriu, this is exactly what I start to realize but this is a problem to me.  \n23:00\u00a0<@sdumitriu>\u00a0Well, you should not put code like that in vms or documents  \n23:00\u00a0<@sdumitriu>\u00a0Make a scriptable service  \n23:00\u00a0<polx>\u00a0So the only solution is to xwiki.includeForm(\"somePrivilegdedPage\") ?  \n23:01\u00a0<@sdumitriu>\u00a0No, the solution is to write a scriptable service component (in Java) that you can use publicly, and put all the priviledged code in it  \n23:02\u00a0<@sdumitriu>\u00a0Since it's in Java, it has access to the internal APIs without rights checking  \n23:02\u00a0<polx>\u00a0sure, that is a beast that can do it all but we started too small...  \n23:18\u00a0<polx>\u00a0thanks... will remember that longer time.  \n23:19\u00a0<polx>\u00a0a scriptable service would be a component or plugin right?  \n23:20\u00a0<@sdumitriu>\u00a0vmassol: Where's the documentation about that?  \n23:22\u00a0<sdumitriu>\u00a0has quit  \n23:22\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:22\u00a0<@sdumitriu>\u00a0Ah, he's not here  \n23:23\u00a0<@sdumitriu>\u00a0Hm, there isn't any...  \n23:24\u00a0<@sdumitriu>\u00a0polx: The basic idea is to implement org.xwiki.script.service.ScriptService  \n23:24\u00a0<@sdumitriu>\u00a0As a component  \n23:25\u00a0<@sdumitriu>\u00a0Then you put the jar in WEB-INF/lib and call it via $services.yourservicename  \n23:25\u00a0<@sdumitriu>\u00a0The service name is the hint of the component implementation  \n23:26\u00a0<@sdumitriu>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/WritingComponents  \n23:27\u00a0<polx>\u00a0but can unprivileged code call that?  \n23:27\u00a0<@sdumitriu>\u00a0Yes  \n23:29\u00a0<@sdumitriu>\u00a0You can look at xwiki-platform/xwiki-platform-core/xwiki-platform-xml/xwiki-platform-xml-script for an example  \n23:29\u00a0<polx>\u00a0Thank you Sergiu.  \n23:32\u00a0<mflorea>\u00a0has joined #xwiki  \n23:39\u00a0<fmancinelli>\u00a0has quit  \n\n"}