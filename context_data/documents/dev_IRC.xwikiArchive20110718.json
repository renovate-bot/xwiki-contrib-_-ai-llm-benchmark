{"id": "dev:IRC.xwikiArchive20110718", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110718", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:06\u00a0<abusenius>\u00a0has quit  \n01:31\u00a0<rrodriguez>\u00a0has joined #xwiki  \n04:35\u00a0<DrLou>\u00a0has quit  \n06:47\u00a0<mflorea>\u00a0has joined #xwiki  \n06:52\u00a0<@sdumitriu>\u00a0Hey mflorea, you're up early  \n06:52\u00a0<+mflorea>\u00a0sdumitriu: Hi, it's not that early here :)  \n06:53\u00a0<@sdumitriu>\u00a07:47 is early for me...  \n06:53\u00a0<+mflorea>\u00a0I know :)  \n06:53\u00a0<@sdumitriu>\u00a0Going to sleep  \n06:53\u00a0<@sdumitriu>\u00a0If you see vmassol, tell him I'll be build manager this week  \n06:54\u00a0<+mflorea>\u00a0ok, did you update the roaster?  \n06:54\u00a0<@sdumitriu>\u00a0Doing it now  \n06:54\u00a0<+mflorea>\u00a0ok  \n06:56\u00a0<@sdumitriu>\u00a0And I'll start the release when I wake up  \n06:56\u00a0<+mflorea>\u00a03.2M1?  \n06:56\u00a0<@sdumitriu>\u00a0Yes  \n06:56\u00a0<+mflorea>\u00a0ok  \n06:56\u00a0<@sdumitriu>\u00a03.0.1 comes next  \n07:21\u00a0<mflorea>\u00a0has quit  \n07:37\u00a0<mflorea>\u00a0has joined #xwiki  \n08:30\u00a0<vmassol>\u00a0has joined #xwiki  \n08:49\u00a0<rrodriguez>\u00a0has quit  \n09:03\u00a0<jamesxu>\u00a0has joined #xwiki  \n09:15\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:35\u00a0<evalica>\u00a0has joined #xwiki  \n09:36\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:02\u00a0<vmassol>\u00a0has quit  \n10:04\u00a0<arkub>\u00a0has joined #xwiki  \n10:08\u00a0<vmassol>\u00a0has joined #xwiki  \n11:12\u00a0<evalica>\u00a0has quit  \n11:39\u00a0<vmassol>\u00a0hmmm  \n11:40\u00a0<vmassol>\u00a0seems the activity stream is buggy on http://ossgtp.myxwiki.org/xwiki/bin/view/XWiki/VincentMassol  \n11:40\u00a0<vmassol>\u00a0I modified several pages today and they're not listed  \n12:02\u00a0<abusenius>\u00a0has joined #xwiki  \n12:04\u00a0<jamesxu>\u00a0has quit  \n12:15\u00a0<abusenius>\u00a0has quit  \n12:56\u00a0<mflorea>\u00a0has quit  \n13:17\u00a0<sburjan`>\u00a0has quit  \n13:33\u00a0<DrLou>\u00a0has joined #xwiki  \n13:48\u00a0<mflorea>\u00a0has joined #xwiki  \n13:50\u00a0<vmassol>\u00a0guys do you agree that in a user profile page, the telehone and address fields should only be displayed when they're not empty?  \n13:57\u00a0<vmassol>\u00a0mflorea: qustion for you  \n13:58\u00a0<vmassol>\u00a0on the profile page there are fields edited with the wysiwyg editor (by default)  \n13:58\u00a0<+mflorea>\u00a0vmassol: ?  \n13:58\u00a0<vmassol>\u00a0how do users swtich to the wiki syntax mode while editing?  \n13:58\u00a0<vmassol>\u00a0(I was just asked this and I don't knw the answer)  \n14:00\u00a0<+mflorea>\u00a0if the WYSIWYG/Source tabs are not displayed then the users can't switch to source (wiki syntax) while editing. The WYSIWYG/Source tabs are no displayed for object properties, because we wanted a \"compact\" view of the editor.  \n14:01\u00a0<vmassol>\u00a0I think we're missing a button for that  \n14:01\u00a0<+mflorea>\u00a0WYSIWYG/Source tabs are not displayed by default. You can change this of course, either for all WYSIWYG object properties or for a single HTML form  \n14:01\u00a0<vmassol>\u00a0I agree we shouldn't haven't  \n14:01\u00a0<vmassol>\u00a0tabs  \n14:01\u00a0<vmassol>\u00a0(not compact enough)  \n14:01\u00a0<vmassol>\u00a0but a button would be just fine IMO  \n14:01\u00a0<+mflorea>\u00a0yes, a toolbar button for switching to source would be nice  \n14:01\u00a0<+mflorea>\u00a0I agree  \n14:02\u00a0<+mflorea>\u00a0ckeditor has one  \n14:03\u00a0<vmassol>\u00a0I'm creating the issue  \n14:04\u00a0<+mflorea>\u00a0thanks, you can assign it to me  \n14:05\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-6798  \n14:05\u00a0<vmassol>\u00a0(not assigned yet)  \n14:05\u00a0<+mflorea>\u00a0I'll do it  \n14:11\u00a0<vmassol>\u00a0ok cool  \n14:19\u00a0<+mflorea>\u00a0vmassol: just to be sure, currently there's no way to \"call\" a component on each request, i.e. to execute some component method on each request. My use case is this: I have to create some xclasses (if they are not already there) and I want to put this code in a component that is called automatically, not hardcoded in oldcore (like it is the case with WikiMacroInitializer).  \n14:20\u00a0<vmassol>\u00a0there's a way  \n14:20\u00a0<vmassol>\u00a0request initializer  \n14:20\u00a0<vmassol>\u00a0but  \n14:21\u00a0<vmassol>\u00a0I think a better way would be to send an event on request init that you could listen to  \n14:21\u00a0<+mflorea>\u00a0yes, that would be better  \n14:21\u00a0<vmassol>\u00a0request initializer may have some side effects  \n14:22\u00a0<vmassol>\u00a0since it's going to be called whenever a new request is created  \n14:22\u00a0<vmassol>\u00a0well right now it'll work I think  \n14:22\u00a0<+mflorea>\u00a0you mean even for \"fake\" requests?  \n14:22\u00a0<vmassol>\u00a0I was thinking about execution context initializer actually  \n14:22\u00a0<vmassol>\u00a0and sometimes we clone it to isolate stuff  \n14:23\u00a0<vmassol>\u00a0when we clone it I think the EC initializers are called again  \n14:23\u00a0<vmassol>\u00a0for requests, I think it's ok FTM  \n14:23\u00a0<+mflorea>\u00a0I see, that's not a big issue, since I test is my classes are already there  \n14:23\u00a0<vmassol>\u00a0(since we don't do request cloning AFAIR)  \n14:23\u00a0<+mflorea>\u00a0I see  \n14:24\u00a0<+mflorea>\u00a0I'll use this for now, and replace it with an event later  \n14:24\u00a0<vmassol>\u00a0ok  \n14:24\u00a0<+mflorea>\u00a0thanks  \n14:25\u00a0<vmassol>\u00a0you can use either a Request initializer or an execution context intiializer as you wish, both are called one after anther actually  \n14:26\u00a0<vmassol>\u00a0in DefaultServletContainerInitializer  \n14:26\u00a0<vmassol>\u00a0initializeRequest() method  \n14:33\u00a0<abusenius>\u00a0has joined #xwiki  \n15:00\u00a0<sburjan`>\u00a0has joined #xwiki  \n15:04\u00a0<cjdelisle>\u00a0has quit  \n15:06\u00a0<cjdelisle>\u00a0has joined #xwiki  \n15:49\u00a0<jamesxu>\u00a0has joined #xwiki  \n16:15\u00a0<pgmjsd>\u00a0has joined #xwiki  \n16:45\u00a0<Spazholio>\u00a0I have a feeling I'm missing something incredibly simple, but can anyone tell me why I might be getting \"Failed to execute the [python] macro\" when I try to do a simple python script in a wiki page?  \n16:45\u00a0<vmassol>\u00a0Spazholio: click on the error  \n16:45\u00a0<vmassol>\u00a0what does it say?  \n16:47\u00a0<Spazholio>\u00a0See?  \n16:47\u00a0<Spazholio>\u00a0Simple.  \n16:47\u00a0<Spazholio>\u00a0It's an access rights issue.  \n16:47\u00a0<vmassol>\u00a0you need programming rights  \n16:47\u00a0<vmassol>\u00a0for this macro  \n16:48\u00a0<Spazholio>\u00a0Taking care of that right now. \u00a0Thanks.  \n17:04\u00a0<Enygma`>\u00a0has quit  \n17:41\u00a0<abusenius>\u00a0has quit  \n17:43\u00a0<mflorea>\u00a0has quit  \n17:51\u00a0<@sdumitriu>\u00a0What's jvelociter doing?  \n17:51\u00a0<vmassol>\u00a0sdumitriu: we're fixing references to code.xwiki.org  \n17:52\u00a0<vmassol>\u00a0there were some still lying around  \n17:52\u00a0<@sdumitriu>\u00a0OK  \n17:52\u00a0<@sdumitriu>\u00a0Any idea why clustering tests are failing? http://ci.xwiki.org/job/xwiki-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-cluster/833/testReport/  \n17:53\u00a0<arkub>\u00a0has quit  \n17:53\u00a0<vmassol>\u00a0no idea, I remember seeing it several times in the past week with teh same error  \n17:54\u00a0<vmassol>\u00a0I asked thomas to fix it but he hasn't apparently  \n17:54\u00a0<@sdumitriu>\u00a0Can I release M1 with those failing?  \n17:54\u00a0<vmassol>\u00a0yes  \n17:55\u00a0<jvelociter>\u00a0has joined #xwiki  \n17:57\u00a0<+jvelociter>\u00a0hello  \n17:57\u00a0<+jvelociter>\u00a0Thomas is not working today ?  \n17:57\u00a0<+jvelociter>\u00a0there are failing tests on xwiki-repository  \n17:57\u00a0<vmassol>\u00a0jvelociter: he's on holidays for 1 week  \n17:58\u00a0<+jvelociter>\u00a0the clustering tests are still failing also apparently  \n17:58\u00a0<+jvelociter>\u00a0I think Thomas said he were fixing them  \n17:58\u00a0<+jvelociter>\u00a0but then had a cyclomatic complexity to solve or something like this  \n17:59\u00a0<vmassol>\u00a0I think that was somerthing else  \n17:59\u00a0<vmassol>\u00a0(not sure though)  \n17:59\u00a0<+jvelociter>\u00a0some escaping tests have errors too  \n17:59\u00a0<@sdumitriu>\u00a0Fixed them  \n18:00\u00a0<+jvelociter>\u00a0ok cool  \n18:00\u00a0<+jvelociter>\u00a0storage tests in error too with a failed to start xwiki  \n18:00\u00a0<+jvelociter>\u00a0what are storage tests BTW ?  \n18:01\u00a0<+jvelociter>\u00a0and lastly web standards but I think a commit just passed on this one  \n18:02\u00a0<+jvelociter>\u00a0in other news, I'm looking for a build manager to replace me :)  \n18:02\u00a0<+jvelociter>\u00a0who would be interested to volunteer ?  \n18:03\u00a0<vmassol>\u00a0sorry but I need to prepare tons of presentation this week, going to be hard for me  \n18:03\u00a0<vmassol>\u00a0(+ some evaluations to do)  \n18:03\u00a0<@sdumitriu>\u00a0jvelociter: I already am  \n18:04\u00a0<@sdumitriu>\u00a0Check the roster  \n18:04\u00a0<+jvelociter>\u00a0ok cool  \n18:04\u00a0<vmassol>\u00a0cool  \n18:08\u00a0<jamesxu>\u00a0has quit  \n18:09\u00a0<jamesxu>\u00a0has joined #xwiki  \n18:28\u00a0<sburjan`>\u00a0has quit  \n18:34\u00a0<jamesxu>\u00a0has quit  \n18:46\u00a0<vmassol>\u00a0sdumitriu: I'm trying to compute number of commits with git. I found git shortlog -s. However I'm not sure if that takes into account commits on all branches or just on the current one  \n18:47\u00a0<vmassol>\u00a0any idea?  \n18:47\u00a0<vmassol>\u00a0I'm trying to understand http://www.kernel.org/pub/software/scm/git/docs/git-log.html but there are a lot of options  \n18:47\u00a0<@sdumitriu>\u00a0git shortlog --all checks all commits in all \u00a0branches  \n18:48\u00a0<vmassol>\u00a0ok cool  \n18:48\u00a0<vmassol>\u00a0thanks  \n18:49\u00a0<@sdumitriu>\u00a0Actually it ignores branches completely and checks in the object database directly, so even discarded commits that haven't been gc-ed yet  \n18:50\u00a0<abusenius>\u00a0has joined #xwiki  \n18:51\u00a0<vmassol>\u00a0ok....  \n18:53\u00a0<vmassol>\u00a0sdumitriu: hmm here's an example:  \n18:53\u00a0<vmassol>\u00a0http://pastebin.com/tWb60zKz  \n18:54\u00a0<vmassol>\u00a0do you know what could be lines 17 and 24?  \n18:54\u00a0<vmassol>\u00a0I guess i can do a git show\u2026 trying  \n18:54\u00a0<@sdumitriu>\u00a0Probably rebased commits  \n18:54\u00a0<@sdumitriu>\u00a0Like:  \n18:54\u00a0<@sdumitriu>\u00a0git commit  \n18:55\u00a0<@sdumitriu>\u00a0git pull --rebase  \n18:55\u00a0<@sdumitriu>\u00a0git push  \n18:55\u00a0<vmassol>\u00a0hmm how do I prevent these \"duplicates\"?  \n18:56\u00a0<vmassol>\u00a0(in my commit counting)  \n18:56\u00a0<@sdumitriu>\u00a0git gc --aggrssive --prune  \n18:56\u00a0<@sdumitriu>\u00a0git gc --aggressive --prune  \n18:56\u00a0<@sdumitriu>\u00a0Then check again  \n18:57\u00a0<jvelociter>\u00a0has quit  \n18:57\u00a0<vmassol>\u00a0I still get it  \n18:57\u00a0<jvelociter>\u00a0has joined #xwiki  \n18:58\u00a0<@sdumitriu>\u00a0Hm...  \n18:58\u00a0<vmassol>\u00a0the only diff in the 2 when I do a git show is  \n18:58\u00a0<vmassol>\u00a0in one it says  \n18:58\u00a0<vmassol>\u00a0git-svn-id: https://svn.xwiki.org/svnroot/xwiki/commons/xwiki-commons-tools/trunk@35183 f329d543-caf0-0310-9063-dda96c69346f  \n18:58\u00a0<vmassol>\u00a0and the other says:  \n18:58\u00a0<vmassol>\u00a0git-svn-id: https://svn.xwiki.org/svnroot/xwiki/commons/xwiki-commons-tools/trunk/xwiki-commons-verification-resources@35183 f329d543-caf0-0310-9063-dda96c69346f  \n19:04\u00a0<@sdumitriu>\u00a0Hm...  \n19:04\u00a0<@sdumitriu>\u00a0Those are real duplicate git commits  \n19:04\u00a0<@sdumitriu>\u00a0The duplicates are on tags  \n19:05\u00a0<vmassol>\u00a0ok\u2026 I think I'm going to extrapolate to make my computations since I have 9 months of data on svn, I can extrapolate to 12 months  \n19:05\u00a0<@sdumitriu>\u00a0They lead up to \"[maven-release-plugin] \u00a0copy for tag xwiki-commons-license-resources-1.2\"  \n19:05\u00a0<vmassol>\u00a0this is probably more accurate than counting git logs since git introduced different habits too  \n19:06\u00a0<vmassol>\u00a0I'm trying to compute number of commits per year  \n19:06\u00a0<vmassol>\u00a0comparing the years  \n19:07\u00a0<@sdumitriu>\u00a0By the way, you can use this instead:  \n19:07\u00a0<@sdumitriu>\u00a0git log \u00a0--until \"3 weeks ago\" --all --grep=\"Improved name\"  \n19:07\u00a0<@sdumitriu>\u00a0--grep greps on the commit message  \n19:07\u00a0<vmassol>\u00a0ah yes nice, i had frogotten it  \n19:09\u00a0<vmassol>\u00a0git gives 262 commits on commons while my extrapolation from svn gives 46  \n19:09\u00a0<vmassol>\u00a0quite a difference  \n19:10\u00a0<vmassol>\u00a0I'll keep the svn ones, they sound more accurate  \n19:39\u00a0<vmassol>\u00a0sdumitriu: does that sounds ok to: https://spreadsheets.google.com/spreadsheet/ccc?key=0Ar5RPahKlsLXdDJNQkUyaTRfMGpfb2FXSS05VXNPZGc&hl=fr ?  \n19:39\u00a0<vmassol>\u00a0(sdumitriu and others)  \n19:42\u00a0<vmassol>\u00a0200906-201006 has had much less commits. It's possible there were less active committers during that time  \n19:42\u00a0<vmassol>\u00a0actually it's less than 10% diffrence  \n20:55\u00a0<@sdumitriu>\u00a0abusenius: Up?  \n20:55\u00a0<+abusenius>\u00a0yep  \n20:55\u00a0<@sdumitriu>\u00a0Can you help me with http://ci.xwiki.org/job/xwiki-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-escaping/834/testReport/junit/org.xwiki.test.escaping/TemplateTest/templates\\_\\_changesinline\\_vm\\_\\_queryString\\_u002C\\_rev1\\_u002C\\_rev2\\_u002C\\_viewer\\_\\_\\_testParameterEscaping/  \n20:56\u00a0<@sdumitriu>\u00a0The changesinline.vm now does have a new redirect  \n20:56\u00a0<+abusenius>\u00a0sure  \n20:56\u00a0<@sdumitriu>\u00a0But it shouldn't be circular  \n20:56\u00a0<@sdumitriu>\u00a0Does the test fail even when there's a single redirect?  \n20:56\u00a0<+abusenius>\u00a0let me have a look  \n21:12\u00a0<+abusenius>\u00a0strange, its not recursive, and opening the url in browser works just fine  \n21:12\u00a0<+abusenius>\u00a0running the test...  \n21:13\u00a0<+abusenius>\u00a0there are some exceptions in the log though  \n21:14\u00a0<+abusenius>\u00a0Invocation of method 'sendRedirect' in \u00a0class com.xpn.xwiki.web.XWikiServletResponse threw exception java.lang.IllegalStateException: Committed at /templates/changesinline.vm[line 52, column 13]  \n21:27\u00a0<mflorea>\u00a0has joined #xwiki  \n21:48\u00a0<+abusenius>\u00a0ok, found the problem  \n21:48\u00a0<+abusenius>\u00a0fixing  \n21:48\u00a0<@sdumitriu>\u00a0Great  \n21:48\u00a0<@sdumitriu>\u00a0Was it the test or the template?  \n21:48\u00a0<+abusenius>\u00a0the circular redirect check only checks for the path to be equal, and ignores the query parameters  \n21:48\u00a0<@sdumitriu>\u00a0Hm, interesting  \n21:49\u00a0<+abusenius>\u00a0trying what happens if I disable the check  \n22:30\u00a0<+abusenius>\u00a0sdumitriu: you will not fix XWIKI-5421 for <3.2?  \n22:30\u00a0<@sdumitriu>\u00a0Didn't I?  \n22:31\u00a0<@sdumitriu>\u00a0No, I didn't  \n22:31\u00a0<@sdumitriu>\u00a0And no, I won't  \n22:31\u00a0<@sdumitriu>\u00a0It's not an important bug, it's more like an enhancement  \n22:32\u00a0<+abusenius>\u00a0ok, I guess I will also commit the fix for tests only to 3.2  \n22:50\u00a0<rrodriguez>\u00a0has joined #xwiki  \n22:51\u00a0<@sdumitriu>\u00a0Thanks abusenius  \n22:51\u00a0<+abusenius>\u00a0np  \n22:52\u00a0<@sdumitriu>\u00a0Hm, this one failed: http://ci.xwiki.org/job/xwiki-platform-3.1/org.xwiki.platform$xwiki-platform-crypto/52/testReport/junit/org.xwiki.crypto.x509/X509KeyServiceTest/newPrivateKeyWrongPassword/  \n22:52\u00a0<@sdumitriu>\u00a0Flicker?  \n22:59\u00a0<+abusenius>\u00a0it never failed before  \n22:59\u00a0<+abusenius>\u00a0strange  \n23:01\u00a0<+abusenius>\u00a0hm, we should have logged the exception message  \n23:20\u00a0<rrodriguez>\u00a0has quit  \n23:23\u00a0<+abusenius>\u00a0yea, its a flicker, but a very rare one  \n23:24\u00a0<mflorea>\u00a0has quit  \n23:24\u00a0<+abusenius>\u00a0with a low probability, decrypting something with the wrong key does not fail, but produces some garbage result, which will behave unpredictably  \n23:24\u00a0<@sdumitriu>\u00a0OK, so it can be ignored for the moment  \n23:24\u00a0<@sdumitriu>\u00a0Thanks for looking into it  \n23:25\u00a0<+abusenius>\u00a0we could log the real error, so that we can see if it is a flicker or not when it fails next time  \n23:36\u00a0<@sdumitriu>\u00a0cjdelisle: \"NOTE: Since I run firefox as a different user, my downloads end up in /home/firefox/Desktop, change accordingly for your setup.\"  \n23:37\u00a0<@sdumitriu>\u00a0Hehe, I also run FF as a different users for untrusted sites  \n\n"}