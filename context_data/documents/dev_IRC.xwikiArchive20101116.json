{"id": "dev:IRC.xwikiArchive20101116", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101116", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsabageru left at 00:04 (Quit: Leaving.  \nrrodriguez left at 01:40 (Ping timeout: 240 seconds  \nlucaa left at 03:25 (Ping timeout: 240 seconds  \nabusenius left at 04:37 (Ping timeout: 264 seconds  \nmarta\\_ left at 04:59 (Ping timeout: 240 seconds  \nvenkatesh joined #xwiki at 05:38  \nvenkatesh left at 05:38 (Client Quit  \nvenkatesh joined #xwiki at 05:39  \nsdumitriu left at 05:58 (Quit: Leaving.  \nDenis left at 06:02 (Read error: Connection reset by peer  \nDenis joined #xwiki at 06:09  \nsabageru joined #xwiki at 07:30  \nrrodriguez joined #xwiki at 07:52  \nvmassol joined #xwiki at 07:56  \nmflorea joined #xwiki at 08:07  \nmflorea left at 08:20 (Ping timeout: 245 seconds  \nrstavro joined #xwiki at 08:22  \nmflorea joined #xwiki at 08:34  \nrrodriguez left at 08:35 (Quit: rrodriguez  \njstoldt joined #xwiki at 08:54  \njvdrean joined #xwiki at 09:12  \nlucaa joined #xwiki at 09:13  \narkub joined #xwiki at 09:14  \nsburjan joined #xwiki at 09:18  \njvdrean left at 09:18 (Quit: Leaving.  \nDenis left at 09:24 (Quit: Leaving.  \nDenis joined #xwiki at 09:24  \nsburjan - (09:27): good morning everyone  \nsburjan - (09:27): vmassol: thanks for the book ! It will be a very nice lecture  \njbrBridge - (09:33): [dirk] Is there a way to suppress the rendering of the TOC macro on an included page ?  \njstoldt - (09:44): small questions about the macro translations. on strings like \"rendering.macro.groovy.parameter.jars.name\" are these used for anything else than displaying? because i noticed that these \\*.name strings are usually in lower-case in the translation files and displayed with first letter in upper case in the dialog  \nevalica joined #xwiki at 09:56  \nsabageru left at 09:57 (Ping timeout: 240 seconds  \ntmortagne joined #xwiki at 10:02  \njstoldt - (10:04): tmortagne: could you tell me if the \\*.name translation strings from macros are only used for display?  \ntmortagne - (10:04): jstoldt: yes they are, for what would you expect them to be used ?  \njstoldt - (10:05): well, i was wondering because for example rendering.macro.groovy.parameter.jars.name says \"jars\" on the translation page  \njstoldt - (10:05): but is displayed as \"Jars\" on the macro panel in WYSIWYG  \njstoldt - (10:06): so i was wondering if there was a reason to make it all lower-caps in the string which is inside the code  \njstoldt - (10:07): unfortunately, i have no prior java skills and the whole source code layout on the svn just confuses me so i need to ask you this rather than seeing for myself  \ntmortagne - (10:07): hmm that's weird you should have exactly the same thing than in translation file I think  \ntmortagne - (10:07): mflorea: any idea ?  \njstoldt - (10:08): well, i noticed that for some other strings already  \njstoldt - (10:08): rendering.macro.chart.parameter.height.name << to name just one  \nlucaa left at 10:08 (Ping timeout: 265 seconds  \njstoldt - (10:08): it's usually the .name ones  \ntmortagne - (10:09): maybe WYSIWYG force capitalize fields names  \nmflorea - (10:09): jstoldt, tmortagne: I'm pretty sure it's css  \njstoldt - (10:10): well, my point is actually, is it save to put \"JARs\" as the german translation without breaking functionality or anything  \ntmortagne - (10:10): mflorea: css would tranform \"jars\" into \"Jars\" ?  \njstoldt - (10:10): and is it fine to use \"H\u00f6he\" where it says \"height\" in the translation and shows \"Height\" in the dialog  \ntmortagne - (10:11): jstoldt: yes anything is safe, best it to quickly check on you local installation if you want to be extra careful  \ntmortagne - (10:12): to summarize it's all used only for display for sure  \njstoldt - (10:12): okay... well, i figure i'll keep translating it like i think and if i notice it screws up i'll just revise the macro strings  \njstoldt - (10:12): okay, that's great then.  \nmflorea - (10:12): jstoldt: you should use lower case in the translation file (unless it's a phrase and you have to start with an upper case and end with . or it your language enforces it). Anyway, whether you use upper case or lower case it doesn't matter. It's just for display purpose  \njstoldt - (10:13): interesting point...  \njstoldt - (10:13): i'll have to think about that for a minute  \njstoldt - (10:14): well, i am talking about nouns here and they are with capital letter at the beginning in German  \nmflorea - (10:14): tmortagne: using text-transform:capitalize; you can display \"jars\" as \"Jars\"  \njstoldt - (10:14): so i figure i haven't violated that, yet  \ntmortagne - (10:15): mflorea: ok  \njstoldt - (10:15): about the particular example with \"Jars\", it would be better to use \"JARs\" in English too, because that's what it says in the description  \nvmassol - (10:15): sburjan:  \nvmassol - (10:15): you're welcome  \njstoldt - (10:16): or use \"Jars\" all together to stay with one way of writing it...  \nvmassol - (10:16): jbrBridge: see http://jira.xwiki.org/jira/browse/XWIKI-4358  \nvmassol - (10:16): (not sure this is what you mean)  \nlucaa joined #xwiki at 10:16  \nfmancinelli joined #xwiki at 10:21  \njvdrean joined #xwiki at 10:28  \nsabageru joined #xwiki at 10:41  \nrstavro - (10:45): hello all, on adding an annotation for a piece of text on a page content -> the content reloads ... there is a problem here: if I have JS observers on elements from the page content, my observers are being lost each time an annotation is being added ... one solution for me would be to do JS override ... but is there another way to handle annotations? otherwise, everytime someone adds JS observers (ex: element.observe('click', function(  \nvmassol - (10:45): lucaa might know  \nlucaa - (10:50): rstavro: \u00a0yes, I know that is an issue, \u00a0I'm not sure if I send events when annotations load  \nlucaa - (10:51): I think that's already an issue with section editing (which dissapear when annotations are loaded), but I am not sure  \nlucaa - (10:52): also the idea is that normally annotations will not be used on pages with a lot of dynamics, etc, because they won't work anyway  \nlucaa - (10:52): but, we need to make it work, for sure  \nvmassol - (10:54): anyone working on http://jira.xwiki.org/jira/browse/XWIKI-5687 ?  \nvmassol - (10:55): (wow the bot is slow)  \nvmassol - (10:55): we need to fix it before 2.6 final, ie today at latest  \nrstavro - (10:56): Main.WebHome has at least the activity stream dynamics .. and annotations are enabled on that page ... this is why I asked for a better annotations solution ... and in my opinion, there shouldn't be such constraints on a document  \nvmassol - (10:56): sabageru: any update on the Activity stream issue with multiwikis?  \nvmassol - (10:56): (which we also need fixed for today for 2.6 final ideally)  \nmarta\\_ joined #xwiki at 10:56  \nsabageru - (10:58): vmassol: i am currently talking with alex in order to setup my env. i had some issues with having a farm on my comp. i will keepy you posted and i think it will be done today  \nvmassol - (10:58): ok thxs  \nlucaa - (11:00): rstavro: what kind of constraints?  \nsdumitriu joined #xwiki at 11:01  \nlucaa - (11:02): sdumitriu: I thought we had this issue before (activity stream js not working after loading annotations) and you fixed it somehow, am I wrong?  \nrstavro - (11:03): lucaa: the JS observers constraints -> on a page with annotations enabled, you should not use JS observers on elements inside the content because on adding an annotation, the observers will be lost due to the content reloading  \nrstavro - (11:04): and yes, you're right, on adding an annotation, the section edit buttons dissapear  \nrstavro - (11:06): I think that solving the problem on the activity stream side does not solve the base problem ... the solution should be on the annotations side  \nevalica - (11:06): are annotations gonna be rewritten at some point? like removing the js from jsx, creating the vm in the skin files so that it works for other skins, etc?  \nsdumitriu - (11:08): rstavro: Ping skype  \nrstavro - (11:15): sdumitriu: yep  \nmflorea left at 11:19 (Quit: Leaving.  \nrstavro left at 11:19 (Quit: Page closed  \nrstavro joined #xwiki at 11:19  \nvmassol - (11:21): quick poll: in the new model, should Server.getEntity(reference) always return an Entity even if the entity doesn't exist in the storage or should it return null? Returning null is more natural but returning an Entity all the time is more performant (saves one access to the DB) so I'm tempted to always return an Entity. WDYT?  \nsdumitriu - (11:21): +1 entity  \nvmassol - (11:21): (actually the cache could help since exists could put the doc in the cache for the subsequent get)  \nvmassol - (11:22): (but then exists would cost slightly more)  \ncjdelisle - (11:22): How does it save a hit to the database? It will either have to populate the fields of the entity or return an empty one.  \nmarta\\_ left at 11:22 (Ping timeout: 245 seconds  \nvmassol - (11:22): exists is 1 hit  \nvmassol - (11:22): get is another hit  \nvmassol - (11:23): if (exists) get  \nvmassol - (11:23): or  \nvmassol - (11:23): get(); if not null get  \nvmassol - (11:23): oops  \nvmassol - (11:23): last one is wrong  \nvmassol - (11:23): indeed you're right cjdelisle  \nvmassol - (11:24): but this means using get as an exists too  \ncjdelisle - (11:24): Server.getEntity should (IMO) call Server.getEntities(new ArrayList<Ref>{{put(reference);}});  \ncjdelisle - (11:25): I think we should really be pushing the code to get all of the entities it needs in one call, then we can do it in one huge db query.  \nvmassol - (11:25): yes but not all  \nvmassol - (11:25): up to a limit  \ncjdelisle - (11:26): Indeed, there is a limit to what can be gotten concurrently but we should push up against that limit.  \nvmassol - (11:26): if there are 1000 objects in a doc  \nvmassol - (11:26): we shouldn't get all 1000 objects at once  \ncjdelisle - (11:26): Why not?  \nvmassol - (11:26): perf  \nvmassol - (11:26): + memory  \ncjdelisle - (11:27): I can't see more than ~10MB of memory in any query (excluding attachments)  \nvmassol - (11:27): with a fixed memory it means saving less docs and the most important part of a doc is the content  \nvmassol - (11:28): in any case  \ncjdelisle - (11:28): I think the biggest performance hit is waiting for tcp connection to the db.  \nvmassol - (11:28): we need a limit  \nvmassol - (11:28): we can talk about that limit later on  \ncjdelisle - (11:28): That's a function of the db driver, it can be performance tweaked later.  \nvmassol - (11:29): sdumitriu: I've changed my mind  \nvmassol - (11:29): you can do: get(ref); if null  \nvmassol - (11:29): which doesn't cost more  \nvmassol - (11:29): if costs more if you do if(exists) get()  \nsburjan - (11:29): guys, the release is still due for tomorrow, right ?  \nvmassol - (11:29): which is already the case now  \nvmassol - (11:29): sburjan: yes  \ncjdelisle - (11:30): Server.getEntities(final List<EntityReference> ref) \u00a0API should IMO have no limit on ref.size()  \nvmassol - (11:30): cjdelisle: we'll see, we can make some tests  \nvmassol - (11:30): we're not there yet  \nvmassol - (11:30): far far from it ;)  \nvmassol - (11:31): cjdelisle: if you're interested I'm working on the model API right now  \ncjdelisle - (11:31): Another question about entities is are they going to be mutable?  \nlucaa - (11:31): evalica: I prefer not to, unless there is a better model of putting jsx, csss but it will probably have to. I don;t want to because I want to keep it very modular, easily detachable when needed (right now you delete a space, if 'bundled' you'll have to go in a lots of places and remove all sort of stuff, edit the vms to remove menu entries, etc)  \nvmassol - (11:32): sdumitriu: \u00a0ift's get(ref) if nul \u00a0\u00a0\u00a0\u00a0\u00a0vs \u00a0\u00a0\u00a0\u00a0get(ref); if new  \nlucaa - (11:32): however, there are some opinions that say it should be very hard bundled  \nvmassol - (11:32): I think I prefer null actually, I'll do that FTM in my POC  \nlucaa - (11:32): rstavro: I agree annotations should not messup the page js, but I cannot think of a solution now (nor could I in the past)  \nevalica - (11:33): lucaa: k thanks - every proposal has its limitations  \nvmassol - (11:33): (unless you have a strong opinion against sdumitriu)  \ncjdelisle - (11:34): XWikiDocument is mutable and the cache poisoning problems have been endless. IMO in the next iteration, the Entity which is loaded from the db should be immutable and a clone operation should be needed before the user can change it.  \nvmassol - (11:34): cjdelisle: I think you're right. Noted.  \ncjdelisle - (11:35): Also we can do shallow cloning if we know that the original is final.  \nvmassol - (11:35): cjdelisle: hmm is that for objects too?  \ncjdelisle - (11:35): Yes, I think it should all be the same.  \nvmassol - (11:35): ie you cannot add objects to a doc for ex?  \nvmassol - (11:35): hmmm  \nvmassol - (11:35): very costly  \ncjdelisle - (11:35): costly?  \nvmassol - (11:35): cloning a whole doc to add an object  \ncjdelisle - (11:36): Only once, and we do that anyway.  \nvmassol - (11:36): once?  \nvmassol - (11:36): every time you add an object  \ncjdelisle - (11:36): Once it's cloned once, it's \"yours\" and now it's read/write.  \nvmassol - (11:36): so it's not immutable  \nvmassol - (11:37): I think you're talking about UUID only  \nvmassol - (11:37): not for all fields  \ncjdelisle - (11:37): Wasn't thinking about UUID at all.  \ncjdelisle - (11:38): What's pulled from the db should be immutable, if you want to change it, it clones and becomes read/write.  \nvmassol - (11:38): meaning if an object isn't perissted you can write to it  \ncjdelisle - (11:38): Yes.  \nvmassol - (11:38): and if it's persisted you need to clone it  \nvmassol - (11:38): to modify ut  \nvmassol - (11:38): this means changing its UUID  \ncjdelisle - (11:38): yup  \ncjdelisle - (11:38): That is indeed a pain.  \nvmassol - (11:38): so that it's a new object  \nvmassol - (11:38): s/object/entity/  \ncjdelisle - (11:39): No, that's wrong. clone should be clone, same UUID, same everything.  \nvmassol - (11:39): what's the use case?  \nvmassol - (11:39): you talked about cache poisoning  \nvmassol - (11:39): what's the pb?  \ncjdelisle - (11:40): The problem now is that we have to be very careful to make sure there is no way for Document to modify the underlying XWikiDocument without cloning it first.  \ncjdelisle - (11:41): I'm for the same pattern of pull from db, clone, modify, save. I just want to have it enforced at a lower level.  \nvmassol - (11:42): I'll check what they do on JRC  \nvmassol - (11:42): JCR  \ncjdelisle - (11:42): I noticed on the Hibernate list they're talking about something called JPA.  \nvmassol - (11:43): cjdelisle: if you have feedback about http://svn.xwiki.org/svnroot/xwiki/contrib/sandbox/xwiki-model/ it's welcome  \nvmassol - (11:43): this is my playground for preparing a proposal for the new odel  \nvmassol - (11:43): model  \nvmassol - (11:44): I'm mimicking a lot JCR  \nvmassol - (11:44): (but with a more strongly-typed api)  \ncjdelisle - (11:44): I'll take a look. Tweaking something in the reporting tool right now. BTW: what do you think about getting some daily reports going out?  \nvmassol - (11:44): cjdelisle: first reacton: more mails  \nvmassol - (11:44): reaction  \nvmassol - (11:45): I don't see how it helps  \nvmassol - (11:45): for me we should improve the existing mails  \nvmassol - (11:45): not add more  \ncjdelisle - (11:45): Well if you don't want to have more mail then we will never be able to get rid of the flood of mail which we have.  \nvmassol - (11:45): I don't see how adding more mails addresses the pb  \ncjdelisle - (11:46): The existing mails have a limitation, each project needs to have it's mail handled separately. That's why I wrote the reporting tool.  \nvmassol - (11:46): so your proposal is to remove all other mails?  \nvmassol - (11:46): that's the part I miss in your proposal  \ncjdelisle - (11:46): Yes but only after we know that the new system adequately replaces it.  \nvmassol - (11:46): you're only talking about the new mails  \nvmassol - (11:46): but not about the existing ones  \nvmassol - (11:47): ok then I don't like not receiving notifications ASAP after a commit  \ncjdelisle - (11:47): There's a report for that.  \ncjdelisle - (11:47): It sends mail out when there's a regression.  \nvmassol - (11:47): cjdelisle: would be great if you could make a global proposal  \nvmassol - (11:47): re mails  \nvmassol - (11:48): what I've seen from you rigth now is only a propsal about additional mails  \nvmassol - (11:48): but not addressing the topic in general  \nvmassol - (11:48): we have a set of use cases  \nvmassol - (11:48): which I've tried to list in some mail before  \nvmassol - (11:48): - early feedback  \nvmassol - (11:48): - know who broke the build  \nvmassol - (11:48): - readble mails  \nvmassol - (11:48): etc  \nvmassol - (11:48): we need to list them again  \nvmassol - (11:48): agree on them  \ncjdelisle - (11:49): see: [xwiki-notifications] Regression Alert: 4 Regressions  \nvmassol - (11:49): and then someone makes a proposal  \nvmassol - (11:49): that answers to the needs  \ncjdelisle - (11:49): IMO we can't know exactly what we need until we see the thing work.  \nvmassol - (11:49): but I don't even know what you're planning to do!  \nvmassol - (11:49): you haven't said it  \nvmassol - (11:50): \"I would like to get reports going out so that we can get a feel for the periodic reports, and work  \nvmassol - (11:50): out bugs and make improvements in real time.\"  \nvmassol - (11:50): this doesn't day at all  \nvmassol - (11:50): what happens to the existing mails  \nvmassol - (11:50): nor does it day how frequently it is sent  \nvmassol - (11:50): s/day/say/  \ncjdelisle - (11:51): I will amend it to include what i see happening later.  \nvmassol - (11:51): I'm fine with experiments but more info is welcome since I'd like to know 1) what happens to existing mails 2) how your report addresses the needs  \nvmassol - (11:51): I don't see the needs listed somewhere visible to all  \nvmassol - (11:52): to ensure we agree about the  \nvmassol - (11:52): them  \nlucaa - (11:52): cjdelisle: I've been told it's you the one who implemented the \"registration successful\" page, to be displayed after registering a user. Do you remember the issue for that, or fix version for it?  \nvmassol - (11:53): ok let me answer your mail  \ncjdelisle - (11:54): !jira Improve Registration interface  \ncamaritei joined #xwiki at 11:54  \ncjdelisle - (11:54): or not  \ncjdelisle - (11:55): ahh that's it XAADMINISTRATION-77  \ncjdelisle - (11:56): There is no separate page for \"registration successful\", that is generated by XWiki.Registration.  \nlucaa - (11:56): ok, but was it there in the 2.0?  \ncjdelisle - (11:57): hehe ^^ sign that unsynchronized version numbers are a pain.  \ncjdelisle - (11:57): I think it was introduced in 2.2 but IIRC it does not depend on anything so it can be backported.  \nvmassol - (11:58): lunch time, bbl  \ncjdelisle - (11:58): Oh there was a slight change to register-inline.vm which I think you want to backport with it.  \nmflorea joined #xwiki at 12:03  \nArcainus joined #xwiki at 12:10  \nArcainus - (12:10): Afternoon  \nArcainus - (12:13): i have xwiki installed using hsql but now the hsql is getting to big to use and am wanting to migrate that hsql to mysql...i tried using the mysql migration toolkit but it does not display the object types to select.  \nabusenius joined #xwiki at 12:14  \nsdumitriu - (12:14): Arcainus: How big?  \nArcainus - (12:15): 600MB  \nsdumitriu - (12:17): You should use this to export the current wiki: http://code.xwiki.org/xwiki/bin/view/Snippets/LargeWikiExportSnippet  \nsdumitriu - (12:19): Then this to import into the new instance: http://code.xwiki.org/xwiki/bin/view/Snippets/LargeXARImportScriptSnippet  \nmarta\\_ joined #xwiki at 12:21  \nArcainus - (12:22): thanks alot sdumitriu :) lemme check it out  \nsburjan - (12:28): guys .. I have found a nasty issue on 2.5.1 final with IE8. We have all the chances that this is present in 2.6 too.  \nsburjan - (12:28): I will report it on JIRA  \nArcainus - (12:28): people still use IE?  \nArcainus - (12:28): ;)  \nsburjan - (12:28): you'd be amazed  \nabusenius left at 12:31 (Ping timeout: 250 seconds  \ncjdelisle - (12:31): lol  \nevalica left at 12:36 (Ping timeout: 255 seconds  \nevalica joined #xwiki at 12:39  \nspliffy left at 12:40 (Ping timeout: 245 seconds  \nspliffy joined #xwiki at 12:40  \njstoldt - (12:41): meh, i get logged out from the l10n.xwiki.org page a couple of times a day after being inactive for a while despite having checked the box on login  \nvmassol - (12:42): jstoldt: the servlet timeout is set to 30 minutes  \nvmassol - (12:42): maybe it's caused by this  \nvmassol - (12:42): s/servlet/servlet session/  \nvmassol - (12:42): but if you have checked the \"remember me\" you shouldn't be logged out  \nvmassol - (12:43): that said I've noticed the problem too on some \\*.xwiki.org wikis  \nvmassol - (12:43): recently  \nvmassol - (12:43): I don't know what the problem is  \njstoldt - (12:44): well, just wanted to bring to your attention. it'd be nice to see that fixed at some point. :-)  \nvmassol - (12:48): yes  \nabusenius joined #xwiki at 13:07  \nflaviusolaru joined #xwiki at 13:10  \nsdumitriu - (13:12): jstoldt: Are you sure your IP doesn't change?  \njstoldt - (13:16): oh very much so!  \nsdumitriu - (13:17): Cookies are bound to an IP address, so when the IP changes, they get invalidated  \njstoldt - (13:17): unless there is some rotation in the IBM proxy setup  \nsdumitriu - (13:18): Yes, rotating proxies do that  \njstoldt - (13:18): well, this might be the reason then but nothing i could do about that... or is there?  \nvmassol - (13:18): jstoldt: you could check that easily by asking your ip when it happens and comparing to the one noted down  \nvmassol - (13:19): http://www.whatismyip.com/  \njstoldt - (13:19): yep  \njstoldt - (13:20): well, just doing some refreshes on that site did not show any change in IP but the rotation might be slower or linked to the network load or anything so i guess i'll have to bear with this... freaking ibm :-D  \njstoldt - (13:26): btw, could i just delete empty translations like rendering.macro.info.content.description via the action column?  \nsdumitriu - (13:27): tmortagne?  \nsburjan - (13:35): XAADMINISTRATION-189 . flaviusolaru will attach a patch.  \nsburjan - (13:35): I will test if this issue appears also on 2.6 (which I think it does)  \nArcainus left at 13:36 (Quit: Page closed  \njstoldt - (13:36): anyone any idea where rightsmanager.searchscope is displayed? checked the adminstration app on space and global level but did not find this  \njstoldt - (13:36): in the rights section, that is  \nsburjan - (13:43): this issue is present in 2.6RC2 too ... so I would recommend we give it a some priority  \nEnygma` joined #xwiki at 13:48  \njstoldt - (13:48): xe.activity.\\* are still in use, right?  \nsdumitriu - (13:50): They are brand new  \njstoldt - (13:50): and in xe.activity.action.addAttachment added {0,choice,1#an attachment|1<{0} attachments}, should I translate choice? I'm a little confused about this...  \njstoldt - (13:50): cool  \njstoldt - (13:54): how about the choice?  \nrstavro left at 13:56 (Quit: Page closed  \nsdumitriu - (13:56): vmassol, tmortagne: We have a debate about activities  \nsabageru - (13:57): i managed to find the issue with virtual wikis and activity stream. all the events are logged on the main wiki, therefore the activity stream shows them only there. Example. I have an event DocumentSaveEvent on stefan.localhost.  \nsabageru - (13:57): and it appears on the activity of localhost while stefan.localhost activity is empty  \nsdumitriu - (13:57): Should all activities be stored in the main wiki, regardless of what wiki they come from, or should each wiki store its own activities?  \nsdumitriu - (13:58): Storing them all in one place means that it would be easier to show farm activity without iterating over databases  \njstoldt - (14:02): sdumitriu: sorry about the nagging but could you give me a hint about the translations that go something like \"added {0,choice,1#an attachment|1<{0} attachments}\"? should i translate \"choice\" or shouldn't I?  \nsdumitriu - (14:03): No  \njstoldt - (14:03): okay  \nsdumitriu - (14:03): That's a keyword  \njstoldt - (14:03): thanks  \njstoldt - (14:04): yeah, i wasn't sure... should probably be added to the global translation rules to avoid confusion  \nsdumitriu - (14:04): Yes  \nsdumitriu - (14:05): So, to be clear, you must translate \"added\", \"an attachment\" and \"attachments\"  \njstoldt - (14:06): yep, that's what i've been going with now  \njstoldt - (14:06): thanks for the input!  \nabusenius left at 14:07 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 14:08  \nsdumitriu - (14:08): You can learn more here: http://download.oracle.com/javase/1.4.2/docs/api/java/text/ChoiceFormat.html and http://download.oracle.com/javase/1.4.2/docs/api/java/text/MessageFormat.html  \ntmortagne - (14:10): jstoldt: \"could i just delete empty translations like rendering.macro.info.content.description\" you are not supposed to delete any translation, if there is one it's that it's needed. IMO you should provide a description and it's en translation which is wrong by not giving any description for the macro content  \ntmortagne - (14:10): sdumitriu: WDYT ?  \nsdumitriu - (14:10): +1  \ntmortagne - (14:11): about l10n not remembering credentials, I reproduce it too but specifically when i go to xwiki.org or myxwiki.org in which I have the same user name and the opposite is true too  \ntmortagne - (14:12): i don't remember if i had the issue without going to xwiki.org and i actually doubt it ever happen (I go almost everyday on xwiki.org or myxwiki.org)  \njstoldt - (14:13): so you're saying i should report missing English strings? well, i can do that, no problem at all  \ntmortagne - (14:14): \u00a0jstoldt: if you can do it that's would be great yes :) (but i was more justifying why we should not delete theses translations ;))  \nrstavro joined #xwiki at 14:15  \njstoldt - (14:15): well, i don't mind either. i'll just prepare a list with some propositions on what the english one could be like and which other ones are weird and make a ticket at some point  \ntmortagne - (14:17): BTW it's very possible some English translations are wrong (or could be better) or even missing in most recent macros so don't hesitate to report it when you have any suggestion  \ntmortagne - (14:17): s/most/some/  \njstoldt - (14:17): okay, i've been doing so here all the while but since i plan to at least read through all of the XE translations at a later time i can do it then  \ntmortagne - (14:19): in any case modifying english translation needs a jira issue so even when you talk about it here someone will have to create it before committing anything  \njstoldt - (14:19): right.  \njstoldt - (14:20): still not used to this kind of professionalism... i usually just use tickets to store my ideas and commit whatever i please ;)  \nvmassol - (14:22): sabageru: the storage of all events in the main wiki is voluntary  \nvmassol - (14:22): AFAIR there' s a field that gives the wiki though  \nvmassol - (14:22): jvdrean is the one who implemented it so he should be able to give us more info  \nsabageru - (14:23): when storing the event there is this part of code if (event.getWiki() == null) {  \nsabageru - (14:23): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0event.setWiki(context.getDatabase());  \nsabageru - (14:23): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \nvenkatesh left at 14:23 (Remote host closed the connection  \ntmortagne - (14:24): sabageru: that's means \"if no wiki is provided set current wiki\"  \ntmortagne - (14:24): probably to support some old events  \ntmortagne - (14:24): existing before JV refactoring or something  \njvdrean - (14:26): as tmortagne pointed I've just refactored bits of the activitystream plugin, I didn't write it  \njvdrean - (14:26): (reading)  \nsdumitriu - (14:27): sabageru: Does the event usually have a wiki?  \nsdumitriu - (14:27): Or it always enters that branch?  \nsabageru - (14:28): not sure yet  \nsabageru - (14:28): checking  \njvdrean - (14:28): https://svn.xwiki.org/svnroot/xwiki/platform/xwiki-tools/trunk/xwiki-configuration-resources/src/main/resources/xwiki.cfg.vm  \njvdrean - (14:28): there's a Activity Stream plugin section  \nsabageru - (14:30): when creating a page from stefan.localhost the field wiki is \"xwiki\"  \nsabageru - (14:30): shouldn;t it be \"stefan\" ?  \nsburjan - (14:31): sdumitriu: ping. I found another error in IE6, I get a LiveValidation::getElementType modal.  \ntmortagne - (14:31): if your id is \"stefan\" then yes i guess the field should be \"stefan\"  \ntmortagne - (14:31): s/your id/your wiki id/  \njvdrean - (14:32): sabageru: you've set up a real wiki farm on your computer right ?  \ntmortagne - (14:32): sburjan: what do you get with $xcontext.database ?  \nsabageru - (14:32): jvdrean : yes  \nsabageru - (14:33): i have a localhost:8080 wiki and a stefan.localhost:8080 wiki and a XEM interface on Main, so i think it is ok  \nsabageru - (14:33): on wikis you adminstrate it says xwiki and stefan  \nsburjan - (14:33): tmortagne: I'm afraid I can't answer that. I will report the issue and attach screenshots  \nsdumitriu - (14:33): sabageru: Check that you are in the virtual wiki, use this in a new page:  \nsdumitriu - (14:33): {{velocity}}$context.database{{/velocity}}  \nsabageru - (14:35): for localhost it says xwiki and for stefan.localhost it says stefan  \nsburjan - (14:35): sdumitriu: I am on 2.6RC2, IE6 and I want to create a Page from the top-left menu  \ntmortagne - (14:35): sabageru: then it looks like activity stream storage bug which does not take care of the current wiki when storing event in database  \ntmortagne - (14:36): do you have access to the database ?  \ntmortagne - (14:36): to check what's really stored  \nsabageru - (14:39): so, my mistake, the activity stream plugin stores correctly the field wiki with value stefan when an event comes from that wiki  \njvdrean - (14:39): phew  \nsabageru - (14:39): i believe the problem lies in the query being done when getting events since they are stored sorrectly  \nsburjan - (14:39): tmortagne, sdumitriu : http://jira.xwiki.org/jira/browse/XE-754  \ntmortagne - (14:40): sabageru: ok good thing, at least existing event in a farm are not all wrong...  \nsabageru - (14:41): well it seems they are not :)  \njvdrean - (14:41): I think we'd have noticed the bug in myxwiki notifications  \nsabageru - (14:41): btw, in myxwiki, do events appear in the main wiki or not ?  \ntmortagne - (14:42): jvdrean: or xwiki.org watchlist mails right ?  \ntmortagne - (14:42): which we look a lot more than myxwiki.org i guess ;)  \njvdrean - (14:42): well yes :)(  \ntmortagne - (14:43): so it does not seems to be related to the plugin itself but more the UI  \nsabageru - (14:50): there is a strange situation. i have set a breakpoint in the searchEvents function. when displaying one page that calls this function from the main wiki, the call is stopped by the breakpoint. but when loading a page from stefan.localhost with the same content \u00a0({{activity/}}) the call does not go through that method...any ideas ?  \ntmortagne - (14:51): sabageru: well you should look at activity macro code then  \nsabageru - (14:52): where can i find it ?  \nsburjan left at 14:52 (Ping timeout: 240 seconds  \ntmortagne - (14:53): no idea  \nsdumitriu - (15:06): vmassol: Icon transformations shouldn't run inside {{code}}  \njstoldt - (15:11): the layout of the invitation app are sometimes a little messed up...  \njstoldt - (15:11): http://img100.imageshack.us/img100/920/invitationslist.png  \njstoldt - (15:11): this is just one example  \njstoldt - (15:11): there are more, e.g. in the history list of a message  \ncjdelisle - (15:13): That's the alternative to having the table expand to the size of it's content and overflow onto everything else.  \njvdrean - (15:14): sabageru: FYI the page http://www.myxwiki.org/xwiki/bin/view/Main/Activity loads indefinitely  \njstoldt - (15:15): well, fine but at least the english headers should be able to display properly, don't you think?  \nsabageru - (15:15): i see ...:(  \ncjdelisle - (15:16): should can be a dangerous word.  \njstoldt - (15:16): i know :-D  \ncjdelisle - (15:17): I remember that table was the source of endless trouble. There are a good number of css rules which name that table explicitly.  \njvelo joined #xwiki at 15:17  \njvelo - (15:17): hey tmortagne fmancinelli  \njstoldt - (15:17): okay. well, i don't want to make you go through that again  \njstoldt - (15:17): so it's fine if you know about it  \njvelo - (15:18): I have an issue with the REST API in multiwiki path-based mode  \njvelo - (15:18): Call any REST url like /rest/wikis/ returns nothing  \njvelo - (15:18): in the logs I have \"Error while handling a server call\"  \njvelo - (15:18): IllegalStateException  \njvelo - (15:19): Is this known ? is there a quick workaround ?  \njvelo - (15:23): fmancinelli: tmortagne full log : http://pastebin.com/m2BwQtKN  \nsdumitriu - (15:23): jvelo: There is something reported on this  \nsdumitriu - (15:23): Not sure if it's the same  \njvdrean - (15:24): jvelo: it shouldn't be a common issue since in this case the infamous tree can't work  \njvelo - (15:25): jvdrean: that's how I realized it  \nfmancinelli - (15:25): jvelo: illegal state exception... sounds like somebody (a filter?) messed up with the response before restlet  \njvelo - (15:25): but since not that many people use path based wikis and not that many pple use the tree... maybe it's the first intersection  \njvelo - (15:26): XWIKI-4773  \njvelo - (15:26): looks just like the same  \njvdrean - (15:26): ah, I read too fast and missed the path-based part  \njvelo - (15:27): XE-718  \njvelo - (15:27): already reported it see,s  \nfmancinelli - (15:29): jvelo: what is the full URI you're trying to access?  \njvelo - (15:30): fmancinelli: http://<server>/xwiki/rest/wikis/  \njvelo - (15:30): for example  \nfmancinelli - (15:30): it doesn't seem pathbased?  \njstoldt - (15:32): btw, where can i enter a memo in the invitation app?  \ntmortagne - (15:32): what's weird is that REST does not really care about multiwiki and anyway you can't have a path based URL targeting REST AFAIK  \ncjdelisle - (15:32): jstoldt, Like a memo to the person who you invite?  \njstoldt - (15:32): yep.  \ntmortagne - (15:33): care about multiwiki= i mean it has it's own multiwiki URL format  \ncjdelisle - (15:33): http://code.xwiki.org/xwiki/bin/view/Applications/InvitationApplication  \njvelo - (15:33): tmortagne: fmancinelli yes, there is no such thing as multiwiki in REST api; it all goes through rest/  \ncjdelisle - (15:33): It's right under where you fill in the subject.  \njvelo - (15:33): but when the wiki is configured in path mode there is that exception  \njstoldt - (15:34): but that's message and not memo  \ncjdelisle - (15:35): I guess I don't know the difference between message and memo then.  \njstoldt - (15:35): hmm... it was confusing to me too  \njstoldt - (15:36): but i found this: xe.invitation.displayMessageTable.memo=Memo  \ntmortagne - (15:36): jvelo: what version of XWiki ? trunk ? i fixed a multiwiki inconsistency in REST very recently, maybe it's related  \nvmassol - (15:36): sdumitriu: code macro shouldn't execute anything inside it. I'll test your use case  \njstoldt - (15:36): and i couldn't figure out where this is shown at all!  \ntmortagne - (15:36): vmassol: that's probably because the transformation is executed after code macro  \ncjdelisle - (15:36): You may well have spotted a mistake. I will do a find-grep over the code to see if it is used.  \nsdumitriu - (15:36): vmassol: {{code language=\"java\"}} (x) {{/code}}  \ntmortagne - (15:36): so it find wordblock etc.  \njstoldt - (15:36): sure  \nvmassol - (15:37): tmortagne: hmm indeed  \njstoldt - (15:37): there are some other strings that bear the string \"memo\" in the label but they refere to \"note\" or \"message\" which makes sense in the way they are used  \ncjdelisle - (15:39): In the code I used memo and at some point I decided that message was friendlier.  \njstoldt - (15:40): yep, agreed  \njstoldt - (15:40): well, i noticed some other inconsistency in those strings and added them to the list i'll report at some point  \njstoldt - (15:41): \\*inconsistencies  \ncjdelisle - (15:44): hah not used. I'll see if there are any others too.  \njstoldt - (15:45): :-D  \njstoldt - (15:45): i'm a troublesome user and translator, huh? ;)  \nvmassol - (15:47): no it's good, keep it up!  \njstoldt - (15:47): haha :)  \ncjdelisle - (15:48): Yes, thanks a lot for translating \\_and\\_ spotting bugs!  \njstoldt - (15:48): you welcome :)  \nvmassol - (15:48): tmortagne: is it normal that the code macro returns WordBlock, SpaceBlock, etc? Shouldn't it return a single verbatim block instead?  \ntmortagne - (15:49): vmassol: and how could you have colors ?  \nvmassol - (15:49): that would prevent other tx to act on its content  \nvmassol - (15:49): we could do that internally  \nvmassol - (15:49): ie generate a single verbatim block from the individual blocs  \nvmassol - (15:49): blocks  \nvmassol - (15:49): I don't know if it's a good idea or not, I 'm just looking for a way to protect the content  \nvmassol - (15:50): so that other txs, macros don't need a special \"if in code macro\"  \ntmortagne - (15:50): problem is that's it's styled content so VerbatimBlock is not an option  \nvmassol - (15:50): indeed  \nvmassol - (15:51): or we need generic marker and have one for protected content  \nvmassol - (15:51): but it means tx and other macros need to be aware of it  \nvmassol - (15:52): which is a bit hard  \nvmassol - (15:52): I don't see many options  \nvmassol - (15:56): so generic marker + a marker for protected content + a ProtectedXDOM implementation excluding protected content from returned results maybe?  \nvmassol - (15:56): ProtectedBlock(Block)  \nvmassol - (15:57): just to make it easy for tx, macros that want to manipualte XDOM without having to handle protected content themselves  \nvmassol - (15:57): (not sure if it works, just an idea at this stage)  \nvmassol - (15:58): FTM I guess I'll have to do an \"if in code macro\" in the 2 txs  \nvmassol - (15:58): (icon \u00a0+ wikiword)  \ntmortagne - (16:01): not great but I don't have better idea than ProtectedBlock-like right now, will need to think about it  \njstoldt - (16:01): well, all macros and the entire invitation app translated to german  \ntmortagne - (16:01): in any case no quick fix idea for 2.6  \nvmassol - (16:01): yeah same here  \nvmassol - (16:02): hmmm or a special tx that runs after all others and restore protected content  \nvmassol - (16:02): or one that runs before remove protected content  \nvmassol - (16:02): and another one that restore it after  \nvmassol - (16:02): yuck  \nvmassol - (16:02): reminds me of the old rendering  \nvmassol - (16:02): :)  \ntmortagne - (16:02): :)  \ntmortagne - (16:03): better name for ProtectedBlock could be FinalBlock (like java final keywork)  \ntmortagne - (16:06): quick fix could be to make it configurable, i mean having a configuration of wikiword which indicate which macro it should skip, that way it's a bit less hardcode and could be usefull anyway to tweak wikiwork tx behavior, like you don't want it to touch info macro for some reason etc...  \ncjdelisle - (16:08): jstoldt, I was wrong, that parameter is used. $msg.get(\"xe.invitation.displayMessageTable.$field\")  \ntmortagne - (16:08): ( vmassol )  \nvmassol - (16:08): tmortagne: hmm yeah maybe, not a bad idea although I'm not sure it's a real use case but I agree  \nabusenius left at 16:08 (Read error: Connection reset by peer  \ncjdelisle - (16:09): Did a bulk find-grep on all of the parameters to find like 10 don't exist in the source, then I remembered I had used lines like the above to construct parameters.  \nvmassol - (16:09): we could imagine some people would want to run the icon tx on code macro content....  \nvmassol - (16:09): who knows....  \nvmassol - (16:09): :)  \ntmortagne - (16:10): yep there is wild people out there  \ncjdelisle - (16:10): Isn't the definition of code something that can be copy-pasted and run?  \njstoldt - (16:10): cjdelisle: so where is that?  \nvmassol - (16:11): cjdelisle: http://jira.xwiki.org/jira/browse/XWIKI-4165  \nvmassol - (16:11): (the idea is to provide a copy button)  \nvmassol - (16:12): cjdelisle: go to http://www.vogella.de/blog/2009/08/12/eclipse-e4/  \nvmassol - (16:12): notice the \"view source\", \"copy to clipboard\", etc  \nvmassol - (16:12): when you hover over the code section  \ncjdelisle - (16:13): From my experience, line numbers need to be excluded from highlighting like google code does.  \ncjdelisle - (16:13): When you try to highlight some code and the line numbers get pulled in (docjar) it is very annoying.  \nvmassol - (16:13): google is only on client side AFAIK  \nvmassol - (16:13): and not sure what you mean by pulled in  \nvmassol - (16:14): what's wrong with copy to clipboard?  \nsdumitriu left at 16:14 (Ping timeout: 255 seconds  \ncjdelisle - (16:14): Maybe you don't want the entire piece of code.  \ncjdelisle - (16:14): Maybe you are like me and you don't enjoy learning new ui's and looking for copy to clipboard buttons.  \nvmassol - (16:15): then you can use ?outputSyntax=plain  \nvmassol - (16:15): in your urls  \nvmassol - (16:15): :)  \nvmassol - (16:15): I'm sure you'll love it!  \nmarta\\_ left at 16:15 (Ping timeout: 276 seconds  \ncjdelisle - (16:16): All I know is: go to page, highlight, ctrl+c, line numbers = bad experience.  \nvmassol - (16:16): that's easy to fix  \nvmassol - (16:16): just put the line number in a different column  \nvmassol - (16:16): (or different div)  \nvmassol - (16:17): but it hasn't much to do with our discussion  \ncjdelisle - (16:17): That works. If it's code then you have to remember that people like me are your target audience ;)  \nvmassol - (16:18): yes but I wouldn't like not to style code content simply because some people (a minority) want plain text  \nvmassol - (16:18): the view source + copy to clipboard is good enough for those IMO  \nvmassol - (16:18): again we're talking about server-side highlighting  \nvmassol - (16:18): not client side highlightinh  \nvmassol - (16:18): which we could also provide as indicated in the issue  \njstoldt - (16:18): could someone tell me where to find xe.themes.colors.mapping.title displayed and explain what is meant by \"Color theme wizard property mapping\"? that looks like a rather random assortment of words to me right now  \ncjdelisle - (16:19): Yup. Server side highlighting doesn't affect copy-paste, only bad insertion of line numbers.  \njvdrean - (16:19): I agree with cjdelisle, line numbers when copy pasting are annoying  \ncjdelisle - (16:26): ``<jstoldt> cjdelisle: so where is that?'' It's where an invitation is shown in a table.  \njstoldt - (16:27): hmm, can't find it but anyway  \njstoldt - (16:27): almost done with XE... yay!  \nvmassol - (16:28): tmortagne: rendering.transformation.icon.excludedMacroIds ?  \ncjdelisle - (16:28): Thanks a lot for your contribution.  \nvmassol - (16:28): (tmortagne: the question is whether the name is ok)  \ntmortagne - (16:29): vmassol: \u00a0no need for the \"Ids\" IMO, you can't put anything else that ids in the configuration file  \nvmassol - (16:29): ok  \ntmortagne - (16:29): so ok for \u00a0rendering.transformation.icon.excludedMacros  \ncjdelisle - (16:31): If it's alright with everyone, I'm going to move Reporter out of the sandbox and start working on a hudson job for it.  \ncjdelisle - (16:32): s/it's alright with everyone/nobody complains/ ;)  \nvmassol - (16:36): tmortagne: I have to do the same for wikiword tx, it's a bit of a pain since I was doing a getChildrenByType  \ntmortagne - (16:37): vmassol: indeed hard to use getChildrenByType now, maybe it should use the same filter system than clone  \ntmortagne - (16:37): BlockFilter  \nsilviar joined #xwiki at 16:43  \njstoldt - (16:45): is XWS also part of the common XE distribution?  \nvmassol - (16:45): I knew it\u2026 I got outside of the cyclomatic complexity allowed range...  \nvmassol - (16:45): jstoldt: no  \nvmassol - (16:45): that project is dead  \nvmassol - (16:45): and is being reintegrated into XE  \nvmassol - (16:45): over time  \nvmassol - (16:45): we already have some stuff from it in  \njstoldt - (16:45): so there is no point to be translating those strings?  \nvmassol - (16:45): like invitation manager  \njstoldt - (16:45): i see  \nvmassol - (16:45): indeed we should remove the XWS app from l10n, from svn too  \nvmassol - (16:46): it's done already for svn  \nvmassol - (16:46): :)  \nvmassol - (16:46): so just need to remove it from l10n  \nvmassol - (16:46): tmortagne: ?  \njstoldt - (16:46): or at least make sure there is a notice stating that there is no need to translate it  \njstoldt - (16:47): how about the Syntax page... are you folks done updating that one for syntax 2.1 or should i just wait a little longer before translating that monster?  \ntmortagne - (16:47): vmassol: indeed, should be removed if it's dead  \nvmassol - (16:48): jstoldt: you could wait  \nvmassol - (16:48): since we want to rewrite it  \ntmortagne - (16:48): jstoldt: 2.1 is not finished \u00a0and still tagged as experimental so as you want  \nvmassol - (16:48): btw evalica any update on this? :)  \nevalica - (16:48): vmassol: sorry no :)  \njstoldt - (16:48): yeah, i read that you were going to update it and already did some of this but i think it would be a waste of time to do it 1.5 times  \nsilviar left at 16:49 (Quit: Leaving.  \nsdumitriu joined #xwiki at 16:50  \nevalica left at 16:50 (Quit: Leaving.  \njstoldt - (16:50): okay, well, so i think tomorrow i will go about reviewing the german translation. wish me luck the servers speed won't be too much of a handicap. ;)  \njvdrean - (16:51): are the \"recent activity\" performance issues (in virtual mode) reported ?  \njstoldt - (16:52): i just noticed the weirdest thing  \njstoldt - (16:52): http://l10n.xwiki.org/xwiki/bin/view/Wysiwyg/WYSIWYGEditorCoreParametrizedResources?action=viewall&language=de  \njstoldt - (16:52): http://l10n.xwiki.org/xwiki/bin/view/Wysiwyg/WYSIWYGEditorCoreParametrizedResources?action=review&language=de  \njstoldt - (16:52): check out the end of the original  \njstoldt - (16:52): in the first there is a {, in the second there isn't  \njstoldt - (16:53): and as far as i can see there is none in the file  \nsdumitriu - (16:53): vmassol: I don't know if we can release tomorrow  \nvmassol - (16:53): sdumitriu: what's missing?  \nsdumitriu - (16:53): The activity stream is still broken  \nvmassol - (16:53): for multiwikis?  \nsdumitriu - (16:53): Yes  \nvmassol - (16:53): I don't think it's a blocker  \nvmassol - (16:53): we can make it a known limitation  \nvmassol - (16:53): and fix it in 2.6.1  \nsdumitriu - (16:54): And there's a bug in the sharepage  \nsdumitriu - (16:54): Doesn't work on incubator  \nvmassol - (16:54): hmmm that's worse but I thought it was working on myxwiki.org  \nvmassol - (16:54): you sent me a mail  \nvmassol - (16:55): ok how long more do we need?  \nvmassol - (16:55): if we don't release tomorrow we'll be late so we'll need to warn people  \ntmortagne - (16:55): jstoldt: i can see i forgot to remove some \"toto\" tests :)  \nflaviusolaru left at 16:55 (Quit: Leaving.  \nsdumitriu - (16:55): It works on www, not on incubator  \njvdrean - (16:55): vmassol: I think that the activity macro problem in XEM is a problem for a final  \ntmortagne - (16:55): checking what's wrong  \ntmortagne - (16:56): it's probabbly an escaping issue  \njvdrean - (16:56): I think I made the farm crash by displaying the activity page  \njvdrean - (16:56): the myxwiki farmn  \njstoldt - (16:56): alright, tmortagne  \nsabageru - (16:56): vmassol sdumitriu : got a hold on the issue on Activity Stream. It seems it is actually a problem in the macro as Thomas indicated. Raluca is working right now to see how it can be solved  \nvmassol - (16:57): ok  \njstoldt - (16:57): well guys, i'll quit for today  \njstoldt - (16:57): see you tomorrow :)  \njstoldt left at 16:57 (Quit: Page closed  \njvdrean - (16:58): on a almost empty farm (20+ wikis, only default wikis, no activity) it can take almost a minute to display the home page  \nvmassol - (17:00): jvdrean: I agree  \nmarta\\_ joined #xwiki at 17:09  \nqwebirc53445 joined #xwiki at 17:11  \nqwebirc53445 - (17:13): Hello, im having a lot of problems with the jetty server going down the error that seems to shutting everything down is \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.XWiki.getArrayList] in xwiki:MegaBoard.WebHome@143,29 Exception in thread \"Timer-0\" java.lang.NullPointerException \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0I have not chenged much of the core code and i am confused as to why this would happen. I hope you  \ncjdelisle - (17:14): sed as to why this would happen. I hope you|<-- cut off here.  \nqwebirc53445 - (17:16): pardon? was that in response to my issue?  \ntmortagne - (17:16): qwebirc53445: we don't have you whole message on IRC  \ntmortagne - (17:16): it stops to \".I hope you\"  \nqwebirc53445 - (17:16): apologies i just said i hope you can give me any advice and thank you in advance  \ncjdelisle - (17:17): Can you pastebin the exception stack trace?  \nqwebirc53445 - (17:17): Exception in thread \"Timer-0\" java.lang.NullPointerException \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.mortbay.util.Scanner.scanFile(Scanner.java:381) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.mortbay.util.Scanner.scanFiles(Scanner.java:301) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.mortbay.util.Scanner.scan(Scanner.java:279) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at org.mortbay.util.Scanner$1.run(Scanner.java:232) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.util.TimerThread.mainLoop(Timer.java:512) \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at java.util.TimerThread.run(Timer.java:462)  \nqwebirc53445 - (17:18): is that what you mean? did you get it all  \nsabageru left at 17:18 (Quit: Leaving.  \nqwebirc53445 - (17:18): Today this started happening when i log on  \ncjdelisle - (17:19): nope. IRC is very limited in how much you can type.  \ncjdelisle - (17:19): try pastebin.com and give us the link.  \nqwebirc53445 - (17:21): oh okay sorry. actually i didnt know about pastebin thats pretty neat submitting now.  \nspliffy left at 17:23 (Ping timeout: 255 seconds  \nspliffy joined #xwiki at 17:23  \nabusenius joined #xwiki at 17:36  \nqwebirc53445 - (17:37): sorry it took so long. here is the exception stack trace \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0http://pastebin.com/raw.php?i=rQXami8T  \nmflorea - (17:41): tmortagne: what's the escape character for \" inside xwiki/2.0 parameter value?  \njvelo left at 17:41 (Quit: Page closed  \ntmortagne - (17:41): mflorea: escaping is always ~ whatever the wiki syntax  \ncamaritei left #xwiki at 17:41  \ntmortagne - (17:42): (whatever the wiki syntax in xwiki/2.0 syntax)  \nqwebirc53445 - (17:45): why is my jetty server crashing http://pastebin.com/raw.php?i=rQXami8T  \ncjdelisle - (17:48): qwebirc53445, I'm not sure about that. I don't see any xwiki code in that stack though, maybe you want to check with the jetty folks.  \nqwebirc53445 - (17:49): okay thank you for your helpo  \nrrodriguez joined #xwiki at 18:02  \nrstavro - (18:02): does anybody know what is the issue related to activity stream in virtual mode ?  \nrstavro - (18:03): anyone  \nrstavro - (18:03): s/what/where or what is the number of the issue  \njvdrean - (18:04): rstavro: I don't know what exactly is the issue but I can help to investigate  \nrstavro - (18:04): thx jvdrean :)  \nrstavro - (18:04): I have the solution, it's in the activity stream macro ...  \nrstavro - (18:04): the search is made on the current database ... but the table is in the main database  \njvdrean - (18:05): the search query is done from the macro ?  \njvdrean - (18:05): isn't it a call to the plugin API ?  \nrstavro - (18:05): I don't know what is the issue number, I'm searching on Jira ...but don't find it  \nrstavro - (18:07): there is a query made on the ActivityEventImpl table in order to get unique page names sorted by date desc  \ntmortagne - (18:08): if it's a direct search it sounds very bad since it supposed to be plugin job  \njvdrean - (18:08): this doesn't sound good, since the storage is configurable  \nrstavro - (18:08): then, on each of these pages there is a call to $xwiki.activitystream.searchEvents  \nrstavro - (18:09): the plugin can't currently handle this  \ntmortagne - (18:11): then it should have been modified to support it  \nrstavro - (18:11): but sure, it would be great to be able to get the list of unique pages ... plus a way to get those pages sorted by event date desc  \nrstavro - (18:12): well, things were made in a big rush  \ntmortagne - (18:12): noone but the plugin (and letter the component) should know the way events are stored  \ntmortagne - (18:12): s/letter/later/  \nrstavro - (18:13): maybe sabageru can help on this  \nrstavro - (18:13): he is offline now  \nrstavro - (18:14): I'll create a Jira issue related to this  \nrstavro - (18:15): thx for the tips jvdrean and tmortagne :)  \nrstavro - (18:15): tips/advices  \ntmortagne - (18:17): rstavro: np (looks like it will make it worst for you to fix the issue O:-))  \nvmassol - (18:17): well that's the price to pay for rushing things and creating technical debt!  \nvmassol - (18:17): :)  \nrstavro - (18:17): the thing is that there are a lot of 'custom stuff' in the activity macro, because there are issues in the activity stream plugin ... for example, on adding an annotation, 2 events are fired istead of one: addAnnotation and update document ... I had to hide these update events ...  \nrstavro - (18:18): the activity stream plugin must be improved  \nvmassol - (18:18): yes it even needs to be ported to components  \nvmassol - (18:18): it's not that complex to do  \ncjdelisle - (18:29): Why is getEntity done at the server level instead of the wiki level?  \ncjdelisle - (18:30): Is the future plan to have all wikis run in the same database?  \nvmassol - (18:30): not that I know of  \nvmassol - (18:30): I wouldn't like it  \nvmassol - (18:30): (I see lots of pros of having several dbs)  \ncjdelisle - (18:32): Then we can't have an instance of Store for each wiki can we?  \ncjdelisle - (18:33): It seems wrong that server is able to load entities from all of the wikis under it.  \nvmassol - (18:33): why not? This is an implementation detail  \ncjdelisle - (18:34): Well look at XHS and count the number of times setDatabase is called.  \ncjdelisle - (18:35): There are transactions which can't possibly be safe because it changes dbs inside of the transaction.  \nvmassol - (18:35): that's an impl detail IMO  \n  \n{{/code}}\n"}