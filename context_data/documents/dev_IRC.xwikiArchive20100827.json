{"id": "dev:IRC.xwikiArchive20100827", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100827", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nEnygma` left at 00:05 (Read error: Operation timed out  \nflorinciu left at 00:13 (Read error: Connection reset by peer  \njvelociter - (00:34): Hi  \njvelociter - (00:34): abusenius: you are there ?  \nabusenius - (00:34): hi, yes  \njvelociter - (00:34): I think you broke 4 tests with your latests commits, no ?  \njvelociter - (00:34): 2 in observation module and 2 in wikibridge macro  \nabusenius - (00:35): hm, it works for me locally  \nabusenius - (00:35): strange  \njvelociter - (00:36): actually sorry  \njvelociter - (00:36): only 2 in wikibridge macro  \njvelociter - (00:36): http://hudson.xwiki.org/job/xwiki-platform-core/org.xwiki.platform$xwiki-core-rendering-macro-wikibridge/6301/testReport/  \nabusenius - (00:36): rerunning tests  \nabusenius - (00:36): it says it cannot find velocity macro  \nabusenius - (00:37): ah, ok, wikibridge also breaks locally  \njvelociter - (00:37): ok, great  \njvelociter - (00:37): :)  \nabusenius - (00:38): I'll look into it  \nabusenius left at 02:02 (Ping timeout: 252 seconds  \nlucaa left at 03:10 (Ping timeout: 265 seconds  \nsdumitriu left at 03:32 (Ping timeout: 240 seconds  \nMartinCleaver left at 03:48 (Quit: MartinCleaver  \nvenkatesh joined #xwiki at 04:41  \nvenkatesh left at 05:17 (Quit: Ex-Chat  \nvenkatesh joined #xwiki at 05:17  \nkibahop joined #xwiki at 08:01  \nkibahop left #xwiki at 08:03  \nkibahop joined #xwiki at 08:04  \nkibahop left #xwiki at 08:04  \nmflorea joined #xwiki at 08:13  \nsilviar joined #xwiki at 08:39  \nflorinciu joined #xwiki at 08:44  \nsburjan joined #xwiki at 08:50  \nlucaa joined #xwiki at 08:59  \nvmassol joined #xwiki at 09:04  \nvmassol left at 09:09 (Quit: Leaving.  \nvmassol joined #xwiki at 09:31  \nflorinciu left at 09:33 (Quit: Leaving.  \nasrfel joined #xwiki at 09:41  \nvmassol left at 09:46 (Quit: Leaving.  \nlucaa left at 10:00 (Ping timeout: 240 seconds  \nflaviusolaru joined #xwiki at 10:01  \nlucaa joined #xwiki at 10:03  \nKermitTheFragger joined #xwiki at 10:06  \nxipe left at 10:14 (Ping timeout: 265 seconds  \nabusenius joined #xwiki at 10:15  \nlucaa left at 10:20 (Ping timeout: 255 seconds  \nlucaa joined #xwiki at 10:24  \nflorinciu joined #xwiki at 10:30  \nsilviar left at 10:31 (Quit: Leaving.  \nlucaa left at 10:34 (Ping timeout: 265 seconds  \nsilviar joined #xwiki at 10:35  \nlucaa joined #xwiki at 10:36  \nvenkatesh left at 10:38 (Remote host closed the connection  \nvenkatesh joined #xwiki at 10:38  \nxwikibot joined #xwiki at 11:09  \nvenkatesh left at 11:36 (Ping timeout: 240 seconds  \nsdumitriu left at 11:50 (Ping timeout: 255 seconds  \nvenkatesh joined #xwiki at 11:53  \nlucaa left at 11:59 (Ping timeout: 255 seconds  \nsburjan` left at 12:13 (Ping timeout: 240 seconds  \nsilviar left at 12:25 (Quit: Leaving.  \nsdumitriu joined #xwiki at 12:30  \nMartinCleaver joined #xwiki at 13:04  \nvenkatesh left at 13:14 (Ping timeout: 255 seconds  \nvenkatesh joined #xwiki at 13:14  \nvenkatesh left at 13:15 (Remote host closed the connection  \nvenkatesh joined #xwiki at 13:15  \nlucaa joined #xwiki at 13:24  \nsilviar joined #xwiki at 13:24  \nmflorea left at 13:30 (Quit: Leaving.  \nsburjan - (13:43): sdumitriu, : ping  \nlpereira joined #xwiki at 13:46  \nasrfel1 joined #xwiki at 14:07  \nflorinciu1 joined #xwiki at 14:07  \nsilviar1 joined #xwiki at 14:07  \nflaviusolaru1 joined #xwiki at 14:08  \nasrfel left at 14:08 (Ping timeout: 240 seconds  \nflaviusolaru left at 14:08 (Ping timeout: 265 seconds  \nsilviar left at 14:08 (Ping timeout: 272 seconds  \nlucaa left at 14:09 (Ping timeout: 264 seconds  \nflorinciu left at 14:09 (Ping timeout: 264 seconds  \nsburjan left at 14:09 (Ping timeout: 258 seconds  \nlucaa joined #xwiki at 14:11  \nsilviar joined #xwiki at 14:12  \nsilviar1 left at 14:12 (Ping timeout: 265 seconds  \nvenkatesh left at 14:15 (Ping timeout: 240 seconds  \nmflorea joined #xwiki at 14:21  \nsburjan joined #xwiki at 14:21  \nflorinciu1 left at 14:38 (Quit: Leaving.  \nsburjan - (14:47): cjdelisle, : are you around ?  \ncjdelisle - (14:56): yup  \ncjdelisle - (14:56): Just put stew out in the solar oven, last night put 30 pounds of sourkraut into the crock :D  \ncjdelisle - (14:57): 1 cabbage left for stew.  \nsburjan - (15:02): you're the echo guy :)  \nsburjan - (15:02): last night i killed about 200 zerglings \u00a0with florin :)  \nsburjan - (15:03): don't want to keep you from your stuff .. I was wondering why InvitationConfig is reported as orphan  \ncjdelisle - (15:03): hmm probably a mistake of mine.  \ncjdelisle - (15:04): \"keep you from your stuff\" ask questions any time. If I don't know the answer then maybe someone else in the channel will.  \nsburjan - (15:05): yeah ...  \ncjdelisle - (15:05): \"the echo guy\"??  \nsburjan - (15:05): so basically Document Index -> Orphan Pages reports this the only orphan page withing all the xwiki (today snapshot )  \nsburjan - (15:05): solar oven ? :)  \nsburjan - (15:06): I heard about micro oven, but not of solar oven :P  \ncjdelisle - (15:06): Oh. It's just a well insulated box with a glass top and a few mirrors.  \nsburjan - (15:07): yeah, so it's an echo device :)  \ncjdelisle - (15:07): It takes all day to make a pot of stew but it makes excellent food.  \ncjdelisle - (15:07): Ok, I see.  \nsdumitriu - (15:07): sburjan: You mean ecological?  \nsburjan - (15:07): yes :)  \nsdumitriu - (15:08): echo = ecou  \ncjdelisle - (15:08): oh eco. Ha me eco. I'm just the food guy.  \nlucaa1 joined #xwiki at 15:08  \nsburjan - (15:09): yeah, my mistake. I though the abbreviation was echo  \ncjdelisle - (15:09): no pb. I was almost convinced because mirrors reflect.  \nsburjan - (15:09): :)  \nlucaa left at 15:10 (Ping timeout: 264 seconds  \nsburjan - (15:10): sdumitriu, ; question : xwiki main page. Information -> bottom section -> backlinks. Isn't more elegant to list the docname once and add in paranthesis the number ofbacklinks instead of listing the same name \\* number of backlinks ?  \nsdumitriu - (15:11): That's not why there are multiple instances of the same name  \nsdumitriu - (15:11): Those are different translations  \nsburjan - (15:12): I see  \nsburjan - (15:12): but the link is the same  \nsdumitriu - (15:12): There's a bug open for it  \nsdumitriu - (15:12): I think there's a patch for it, too  \ncjdelisle - (15:12): re r30747: \u00a0\u00a0is this wrong? \u00a0\u00a0\"\\* @version $Id:$\"  \nsburjan - (15:13): yeah, but it seems closed  \nsdumitriu - (15:13): cjdelisle: The normalized syntax is $Id$  \nsburjan - (15:14): found  \nsdumitriu - (15:14): This is how svn keywords are supposed to be written  \nsburjan - (15:14): but it's very old . since 1.1  \nsdumitriu - (15:14): And I said \"weird stuff\" because normally svn automatically converts it to the normal syntax  \nlpereira left at 15:14 (Read error: No route to host  \nsdumitriu - (15:15): Do you have an older version of subversion, or how did you manage to commit it like that?  \nsilviar - (15:15): Hi! There's a bug with \"Import\" in \"Administer Wiki\" in the latest snapshot. I get this error http://pastebin.com/ZEhSiX5N on xwiki-enterprise-jetty-hsqldb-2.5-20100827.101623-101  \nsdumitriu - (15:15): Hi silviar  \nsdumitriu - (15:15): I'll look into it  \nsilviar - (15:15): Thanks  \narkub joined #xwiki at 15:16  \nsdumitriu - (15:16): Yes, my bad, wrongly fixing abusenius' bad  \nsburjan - (15:16): sdumitriu, : I got this too (what silviar said)  \ncjdelisle - (15:17): off topic but funny: http://silent1.net/gallery/d/5416-1/1278794353625.gif  \nsdumitriu - (15:17): silviar: Fixed  \nsburjan - (15:17): OMG cjdelisle  \nsburjan - (15:18): that's very funny  \ncjdelisle - (15:18): Winx lets you do anything.  \nsilviar - (15:19): sdumitriu: great, thanks!  \nsdumitriu - (15:19): cjdelisle: Yeah, Windows is the more secure than ever  \nsdumitriu - (15:19): Each new version is more secure than the previous  \nsburjan - (15:20): well... this is 98 i think  \ncjdelisle - (15:20): Set bar low, always win.  \nsburjan - (15:21): nice line for a motto :))  \nvmassol joined #xwiki at 15:22  \nsburjan - (15:24): is here someone that knows if the swizzle plugin can import charts too ?  \nsburjan - (15:24): or only issues and their corresponding info  \nabusenius - (15:26): shouldn't platform/trunks/pom.xml have version 34-SNAPSHOT? and not 33-\\*  \ncjdelisle - (15:31): Where are you looking? on my copy it seems to have 34-SNAPSHOT  \nsdumitriu - (15:32): 34-S for me, too  \ncjdelisle - (15:32): svn up? ;)  \ncjdelisle - (15:33): Anyone know if there's a way to get the \"parentNode\" of a selenium2 webelement?  \nabusenius - (15:34): strange  \nsburjan - (15:35): what do you mean by parentNode ?  \nsburjan - (15:35): in DOM ?  \ncjdelisle - (15:35): yea.  \nsburjan - (15:36): afaik no, unless you create another path query  \ncjdelisle - (15:36): Like in js I'd just go element.parentNode but I don't see an equivalent function for selenium2  \nsburjan - (15:36): no  \nsburjan - (15:36): there isnt.. I just asked on their IRC channel  \ncjdelisle - (15:36): Ahh, thank you.  \nsburjan - (15:36): xpath is your only ally  \ncjdelisle - (15:37): yuck.  \nsburjan - (15:37): yeah I know  \ncjdelisle - (15:37): I'll just work up the tree again.  \nsburjan - (15:37): can't you simly rewrite xpath to the parent directly ?  \nsdumitriu left at 15:38 (Ping timeout: 255 seconds  \ncjdelisle - (15:38): like the equivalent of '..' in directories?  \nsburjan - (15:38): well you need to get an element in xpath, right ?  \nsburjan - (15:38): why don't you go from root directly to it  \nsburjan - (15:38): dont go in children and come back to parent  \ncjdelisle - (15:39): yea that works where xpath = \"/..\"  \nsburjan - (15:39): yes  \nsburjan - (15:39): can you do it this way ?  \ncjdelisle - (15:40): Looks as if. Testing...  \nsdumitriu joined #xwiki at 15:41  \ncjdelisle - (15:42): I might be old fasioned but I like to hang a test in the middle with try{while(true){Thread.sleep(10000);}}catch(Exception e){} \u00a0then load the page in the browser and use xpather and firebug.  \nsburjan - (15:43): or you can wait for an element until it's visible  \nsburjan - (15:43): like a div or something  \nsburjan - (15:43): this is how it's done in se2  \nsburjan - (15:43): at least this is how it's done in out ui-tests  \nabusenius - (15:44): hm, just svn checkout-ed http://svn.xwiki.org/svnroot/xwiki/platform/trunks and the version is 33  \ncjdelisle - (15:46): hmm you're right: http://svn.xwiki.org/svnroot/xwiki/platform/trunks/pom.xml  \nvmassol left at 15:46 (Quit: Leaving.  \nsburjan - (15:46): WebDriver will wait until the page has fully loaded (that is, the \u201conload\u201d event has fired) before returning control to your test or script. It\u2019s worth noting that if your page uses a lot of AJAX on load then WebDriver may not know when it has completely loaded. If you need to ensure such pages are fully loaded then you can use \u201cwaits\u201d.  \nabusenius - (15:47): the pom/pom.xml has correct version  \ncjdelisle - (15:47): Ahh I have been looking at the wrong pom.xml then.  \nsburjan - (15:47): cjdelisle, : about the parent/child issue, you could try selecting it with javascript ... using executeScript method  \ncjdelisle - (15:49): This should do the trick /../../span[@class='version']  \nabusenius - (15:53): ah, it is actually version of its dependency, it should still be 34, fixing...  \ncjdelisle - (15:58): http://nighthacks.org/roller/jag/entry/the\\_shit\\_finally\\_hits\\_the <-- oracle suing google for using java on android.  \ncjdelisle - (15:59): Need to take another look at what is needed to support postgres.  \ncjdelisle - (16:00): IMO mysql getting axed is in the cards now.  \nabusenius - (16:01): mmh cant fix it  \nabusenius - (16:01): svn: Server sent unexpected return value (403 Forbidden) in response to MKACTIVITY request for  \ncjdelisle - (16:01): Sure you are in the https checkout?  \nabusenius - (16:01): yes  \nabusenius - (16:02): hm, let me recheck  \nabusenius - (16:02): argh, you're right  \ncjdelisle - (16:03): I did that too :)  \ncjdelisle - (16:03): Eventually I just deleted the http co.  \nabusenius - (16:04): I deleted all of them, but this directory :)  \nlpereira joined #xwiki at 16:12  \nvenkatesh joined #xwiki at 16:19  \nsburjan - (16:22): cjdelisle, \u00a0: have you found out what's with the orphan page ?  \ncjdelisle - (16:22): I'm writing a attachment test at the moment, that's todo listed.  \nsburjan - (16:23): cjdelisle, \u00a0: what kind ofattachment test ?  \nsburjan - (16:23): because I have one already written  \nsburjan - (16:23): ui-test .. for testing the attachments  \ncjdelisle - (16:23): Where is it? has it been committed?  \nsburjan - (16:24): not yet  \ncjdelisle - (16:24): I can merge them together.  \ncjdelisle - (16:24): You have the patch?  \nsburjan - (16:24): well I have the sources  \nsburjan - (16:24): I'll review them on Monday, and send them to you  \nsburjan - (16:25): or give them to sdumitriu to commit  \ncjdelisle - (16:25): It would make sense for me to commit since I have been working on attachment tests and there will no doubt be some merging to do.  \nsburjan - (16:25): okay, then monday I'll send them  \nsburjan - (16:26): so you can merge  \ncjdelisle - (16:26): My tests are largely about proving that the database is acting in a sane way so we probably won't have a lot of test overlap.  \nsburjan - (16:26): you should stop writing ui-tests .. that's one of my roles  \ncjdelisle - (16:26): me stop writing tests? haha  \nflaviusolaru1 left at 16:26 (Quit: Leaving.  \nsburjan - (16:26): well my tests basically attach some files, verify if they are added, and test ifversioningsystem of attachments works  \nsburjan - (16:27): then remove them  \nflaviusolaru joined #xwiki at 16:27  \nsburjan - (16:27): but I implemented some more fucntions, like getSize, getDate , getAttacher, etc  \ncjdelisle - (16:28): I'm testing very specific things about versioning, related to changes which I have been making in the database layer so I doubt we will be doing the same work over.  \nsburjan - (16:28): i'm only at the ui level  \nsburjan - (16:28): dunno if database tests should go tu ui-testing  \ncjdelisle - (16:28): I'm using ui-tests but only because they are the only tests where the database is present.  \nsburjan - (16:29): intresting. I didnt notice the db presence  \ncjdelisle - (16:29): https://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/distribution-test/ui-tests/src/test/it/org/xwiki/it/ui/AttachmentTest.java  \ncjdelisle - (16:30): https://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/distribution-test/ui-tests/src/test/it/org/xwiki/it/ui/framework/elements/AttachmentsPane.java  \ncjdelisle - (16:30): That's what I have so far.  \ncjdelisle - (16:31): As you can see, most of the tests are about proving that a specific bug is fixed.  \nsburjan - (16:31): yeah, intresting approach  \nsburjan - (16:31): I see you've been usingvelocity  \nsdumitriu left at 16:31 (Ping timeout: 245 seconds  \ncjdelisle - (16:32): Yea, not that proud of using velocity but it's the only way I see to do that test.  \nsburjan - (16:32): basically I modeled the panel as a PageObject, and the used those elements .. buttons, forms ,etc  \ncjdelisle - (16:32): The other alternative would be to spend a week mocking everything in the core for each test.  \ncjdelisle - (16:33): If you work compiles and you want to send it today, I can get it applied today.  \ncjdelisle - (16:33): Even if it doesn't compile, I can fix it :)  \nsburjan - (16:33): well dunno, shouldn't sdumitriu take a look at them first ?  \ncjdelisle - (16:34): I think I'm qualified to do review, nobody ever told me otherwise and they did give me commit access ;)  \nsburjan - (16:35): okay them  \nsburjan - (16:35): let me search the sources  \nsdumitriu joined #xwiki at 16:35  \nsburjan - (16:39): sdumitriu, : is it okay if I send the patch for AttachmentTest to cjdelisle so he can merge with his own ?  \nsburjan - (16:39): and then commit  \nasrfel1 left at 16:45 (Quit: Leaving.  \ncjdelisle - (16:47): I wish we had a way to run unit tests with database present. Pasting code into pages and expecting output is really an abuse of ui-tests but I see no way around it.  \nsburjan - (16:49): well I don't paste code, I do an exact simulation of what the user does  \nsburjan - (16:49): but I guess this block my acces from DB  \nsburjan - (16:49): sdumitriu, \u00a0: ping  \ncjdelisle - (16:49): I was referring to my attachment tests. I don't like them but they're better than nothing.  \nsburjan - (16:50): I don't like them either, they can be mush more extended  \nsdumitriu - (16:52): sburjan: Pong  \nsburjan - (16:52): \\*much  \nsdumitriu - (16:52): Which tests?  \nMartinCleaver left at 16:52 (Quit: MartinCleaver  \nsburjan - (16:52): I created 2 AttachmentsTest .. one checks if attaching same wile twices increments the version. .. and others adds 5 files and checks it they apprear on UI  \nsburjan - (16:52): simple test, I know, but i plan to extend them  \nsburjan - (16:53): but a first commit will be okay  \nsdumitriu - (16:53): Sure  \nsburjan - (16:53): so should I send them to cjdelisle or to you .. for reviewing ?  \nsdumitriu - (16:53): To Caleb  \nsburjan - (16:54): okay  \nsburjan - (16:54): sdumitriu, : and final issue  \nsburjan - (16:54): me and silvia have found 2 bugs  \nsburjan - (16:54): she reported one of them  \nsilviar - (16:55): hi, yes; i found an issue with document index -> attachments -> filter by page  \nsilviar - (16:55): http://jira.xwiki.org/jira/browse/XE-701  \nsburjan - (16:55): XWiki Document Index and XWiki Space Document Index. That Live table. When I try a filter with \"or\" I get nothing, and there are a lot of Administrator  \nsburjan - (16:56): cjdelisle, : DCC or skype ?  \ncjdelisle - (16:56): skype or email is fine.  \nsburjan - (16:56): skype then  \ncjdelisle - (16:56): DCC = hole punch nat = difficult.  \nsilviar - (16:57): sburjan: you need to be more specific about the issue and offer details to reproduce; see if this happens only for the doc author as a start  \nvenkatesh left at 16:59 (Ping timeout: 258 seconds  \nsburjan - (17:00): It happens only on :Last Author\" field  \nsilviar - (17:02): sdumitriu: I attached an image to the Main WebHome. I clicked on the History tab and checked the Summary of the modification, which was \u00a0\u00a0\u00a0\"Upload new image <a href=\"/xwiki/bin/downloadrev/Main/WebHome/CustomizeTheme.png?rev=1.1\">CustomizeTheme.png</a>\" \u00a0\u00a0Could you please \u00a0tell me if this is the expected behavior?  \nsdumitriu - (17:03): sburjan: That's \"normal\"  \nsdumitriu - (17:03): You filter not on the full name, but on the username  \nsdumitriu - (17:03): Which is XWiki.Admin  \nsburjan - (17:04): I see  \nsdumitriu - (17:04): I agree that it's very confusing to show something but filter on something else (hidden)  \nsdumitriu - (17:04): But it's not something that easy to fix at the moment  \nsburjan - (17:05): I understand, no problem :)  \nlucaa1 left at 17:09 (Quit: Leaving.  \nlpereira left at 17:10 (Quit: Leaving.  \nsdumitriu left at 17:11 (Ping timeout: 264 seconds  \nlucaa joined #xwiki at 17:11  \nsilviar left at 17:20 (Quit: Leaving.  \nsburjan left at 17:21 (Quit: Ex-Chat  \nflaviusolaru left at 17:24 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 17:25  \nsdumitriu joined #xwiki at 17:31  \nsdumitriu left at 17:37 (Ping timeout: 245 seconds  \nsdumitriu joined #xwiki at 17:38  \nvenkatesh joined #xwiki at 17:59  \nflaviusolaru left at 18:04 (Read error: Connection reset by peer  \nlucaa left at 18:11 (Ping timeout: 258 seconds  \nvenkatesh left at 18:15 (Ping timeout: 255 seconds  \narkub left at 18:19 (Quit: Leaving  \nabusenius left at 18:38 (Ping timeout: 245 seconds  \nvenkatesh joined #xwiki at 18:43  \nabusenius joined #xwiki at 19:03  \nlucaa joined #xwiki at 19:04  \nvmassol joined #xwiki at 19:07  \nvmassol left at 19:07 (Client Quit  \nmflorea left at 19:09 (Quit: Leaving.  \nvmassol joined #xwiki at 19:14  \nlucaa left at 19:15 (Ping timeout: 245 seconds  \nsburjan` joined #xwiki at 19:48  \nsburjan` - (19:48): yes  \nsburjan` - (19:49): so I was saying :)  \ncjdelisle - (19:49): Your method of attaching is to have a function for \"add another attachment\" button.  \nKermitTheFragger left at 19:50 (Quit: Leaving  \nsburjan` - (19:50): I have that function  \nsburjan` - (19:50): I mean a similar one .. that clicks the add another attach  \ncjdelisle - (19:50): What I did was to have one function which automatically clicks on that button if there are no empty fields.  \ncjdelisle - (19:50): public void addFileToAttach(final String filePath)  \nsburjan` - (19:51): yeah .. that's another approach too  \nsburjan` - (19:51): what is the diff between final and without final ?  \ncjdelisle - (19:51): Do you think there will be a need to click the button separately?  \nsburjan` - (19:51): well.. not quite sure  \nsburjan` - (19:52): but you can leave my method too, in case we need some another odd test  \ncjdelisle - (19:52): Ahh 'final' :) \u00a0It means that the String 'filePath' cannot be changed inside of the function.  \nsburjan` - (19:52): I see  \nsburjan` - (19:52): but you can declare it final from the class, right ?  \ncjdelisle - (19:52): I use final whenever I can, I believe it helps document the code.  \nsburjan` - (19:52): on top  \nsburjan` - (19:53): private static final ATTACHMENT1 = \"Attachment1\"  \nsburjan` - (19:53): private static final String ATTACHMENT1 = \"Attachment1\"  \ncjdelisle - (19:53): I try to avoid the 'static' keyword unless I need to use it.  \ncjdelisle - (19:53): Others may disagree with me on that fact but that is my preference.  \nsburjan` - (19:54): it's your commit after all :))  \ncjdelisle - (19:55): Again, when I'm writing the code I avoid static but use for a \"constant\" String is not something I will complain about.  \ncjdelisle - (19:55): Plenty of very good programers favor this technique.  \nsburjan` - (19:55): have you tried the test.. do they run 5 by 5 ?  \nsburjan` - (19:56): or still integrating  \ncjdelisle - (19:56): No I haven't run it yet, I am just beginning to merge them :)  \nsburjan` - (19:57): what wood ? ...  \nsburjan` - (19:57): what kind :D  \ncjdelisle - (19:57): Fire wood.  \nsburjan` - (19:58): heh .. oil pollutes :))  \ncjdelisle - (19:58): lol pollution  \ncjdelisle - (19:59): As long as being cheap and being green are the same, I'm green.  \nsburjan` - (19:59): as long as you don't massacrate/desecrate the woods :))  \ncjdelisle - (20:00): No way, we have more wood than we know what to do with.  \ncjdelisle - (20:00): Although they were talking about building a wood fired powerplant, I didn't like that idea because it makes firewood more expensive.  \nsburjan` - (20:01): are there wolves or bears in your woods ? :D  \ncjdelisle - (20:01): No wolves (that I know of) Definitely bears.  \nvmassol left at 20:01 (Quit: Leaving.  \nsburjan` - (20:01): cool :)  \nsburjan` - (20:01): so they're not yet extinct  \ncjdelisle - (20:02): Meh. They love the compost pile, and if ya keep bees they're real bad news.  \ncjdelisle - (20:02): extinct lol. more of a pest.  \nsburjan` - (20:02): dunno what compost pile is :P  \nsdumitriu left at 20:02 (Ping timeout: 276 seconds  \ncjdelisle - (20:03): Food scraps go outside in a pile, eventually put it on the garden.  \ncjdelisle - (20:03): Makes good fertilizer.  \ncjdelisle - (20:03): Bear will spread it all around the yard.  \ncjdelisle - (20:04): I'm planning on dropping goToAttachmentsPane and only using ViewPage.openAttachmentsDocExtraPane to access the attachments.  \ncjdelisle - (20:04): Sound good?  \nsburjan` - (20:04): no  \nsburjan` - (20:04): brb 5 min  \nsburjan` - (20:05): i'll exlpain  \ncjdelisle - (20:05): ok  \nevalica left at 20:07 (Quit: Leaving.  \nflorinciu1 joined #xwiki at 20:17  \nflorinciu1 left at 20:23 (Ping timeout: 245 seconds  \nsburjan` - (20:26): back  \nsburjan` - (20:26): so  \nsburjan` - (20:26): Sergiu and Vincent insisted I model the pages/sections as PageObjects  \nsburjan` - (20:27): this means that I model a Section as an OOP class  \nsburjan` - (20:27): and using that PageObject Object, to write Tests  \nsburjan` - (20:27): this is a specific aspect of ui-tests  \nsburjan` - (20:27): so oonly ui-tests ue this approach  \ncjdelisle - (20:27): http://image.bayimg.com/aaoodaacj.jpg <-- bear  \nsburjan` - (20:27): so we don't use Velocity or other macros  \nsburjan` - (20:28): hehe  \ncjdelisle - (20:28): not friendly, not cute.  \nsburjan` - (20:28): we baiscally only use Java + Selenium 2 + JUnit  \nsburjan` - (20:28): well, they are wild  \ncjdelisle - (20:30): http://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/distribution-test/ui-tests/src/test/it/org/xwiki/it/ui/framework/elements/ViewPage.java  \ncjdelisle - (20:30): public CommentsPane openCommentsDocExtraPane()  \ncjdelisle - (20:30): public HistoryPane openHistoryDocExtraPane()  \ncjdelisle - (20:30): public AttachmentsPane openAttachmentsDocExtraPane()  \nsburjan` - (20:30): http://code.google.com/p/selenium/wiki/PageObjects?redir=1  \ncjdelisle - (20:31): That's the way I think the attachments should be accessed, I don't think that goes against the page object model.  \nsburjan` - (20:31): check on the ui-tests pane directory... you'll see there sergiu wrote a Comments Pane in the same way I wrote AttachmentsPane  \nlpereira joined #xwiki at 20:31  \ncjdelisle - (20:32): Yes but commentPane doesn't have a function like \"public void goToAttachmentsPane()\"  \nsburjan` - (20:32): http://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/distribution-test/ui-tests/src/test/it/org/xwiki/it/ui/framework/elements/  \ncjdelisle - (20:33): The only way to get to the comment pane is by taking a view page and calling openCommentsDocExtraPane()  \ncjdelisle - (20:34): That's why I propose dropping AttachmentsPane#goToAttachmentsPane() and only having ViewPage#openAttachmentsDocExtraPane()  \nsburjan` - (20:34): can't find a Comments Test  \nsburjan` - (20:35): have you committed ?  \nsburjan` - (20:35): because I see an AttachmentsTest there  \ncjdelisle - (20:36): Yea, that's my commit.  \nsburjan` - (20:37): and I see an AttachmentsPane there in xw/elements  \nsburjan` - (20:37): \\*xe  \nsburjan` - (20:38): is that yours too ?  \ncjdelisle - (20:38): yup  \nsdumitriu joined #xwiki at 20:38  \nsburjan` - (20:38): well .. that's okay too .. but no code of mine is there  \nsburjan` - (20:38): we have 2 versions of attaching attachments  \ncjdelisle - (20:39): No that's from a commit the day before yesterday.  \nsburjan` - (20:40): yeah.. you can remove the gotoAttachmentsPane method and use the one from ViewPage  \nsburjan` - (20:40): I didnt saw it was already imlpemented in ViewPage .. my bad  \ncjdelisle - (20:40): That business of using the test to insert code into pages is bad but one reason why I did it is because it has been possible in the past to add an attachment which fails to save but it ends up in the cache.  \nsburjan` - (20:41): yes  \ncjdelisle - (20:41): So people can download the attachment for a while and then the cache gets purged and it's gone.  \nsburjan` - (20:41): maybe these ui-tests arent state of the art as achieving functionality\" but they are good for simulating very good the UI  \nsburjan` - (20:41): and the actions the user does  \ncjdelisle - (20:41): And people are like \"ZOMG database is eating my attachments!!!!111\"  \nsburjan` - (20:42): so .. besides goToAttachmentsPane() that i t obe removed ..  \nsburjan` - (20:42): any other suggestions ?  \ncjdelisle - (20:42): deleteAttachmentByFileByName I like :)  \nsburjan` - (20:43): huh.. finally something you like :P  \ncjdelisle - (20:43): submitAttachFile vs. clickAttachFiles? What do you think about the naming?  \nsburjan` - (20:44): bad part is that I don't have the code at home  \nsburjan` - (20:44): which one is mine ? :P  \nsburjan` - (20:44): i'd go for the first  \ncjdelisle - (20:44): submit. \u00a0one second, I'll send you your copy.  \nsburjan` - (20:46): sdumitriu corrected another test of mine and told me that click is pretty useless in naming  \nsburjan` - (20:46): because submitting implies a click  \ncjdelisle - (20:47): http://www.xwiki.org/xwiki/bin/download/XWiki/Caleb\\_James\\_DeLisle/AttachmentsPane.java http://www.xwiki.org/xwiki/bin/download/XWiki/Caleb\\_James\\_DeLisle/AttachmentTest.java  \ncjdelisle - (20:47): When you got em, I'll delete them.  \nsdumitriu - (20:48): public void AddAnotherFile()  \nsburjan` - (20:48): done  \nsdumitriu - (20:48): Wait  \nsdumitriu - (20:48): OK, I have them too  \nsdumitriu - (20:49): Who wrote AddAnotherFile?  \nsburjan` - (20:49): me  \ncjdelisle - (20:49): That's sburjan`'s copy. We're working on merging it with the one I wrote.  \nsburjan` - (20:49): sdumitriu: you have an older version ... if you didnt downloaded them now  \nsburjan` - (20:50): what I sent you in the past .. suffered modifs  \ncjdelisle - (20:50): s/suffered/enjoyed/ :)  \nsburjan` - (20:51): well ... I still have some methods you don't like :P  \nsdumitriu - (20:51): Rule, function names start with lower case  \nsburjan` - (20:51): yeah .. dunno how I missed that method  \nsburjan` - (20:51): seems to be the only one  \nsburjan` - (20:52): sorry, didn't noticed until NOW  \ncjdelisle - (20:52): I didn't notice it either.  \nsburjan` - (20:52): I still suck at coding  \nsburjan` - (20:52): :(  \ncjdelisle - (20:53): Nah, you're just writing it in C code style :)  \ncjdelisle - (20:53): Or perl.  \ncjdelisle - (20:54): The desire to improve is far more important than knowledge or ability, that is why I worry for the future of the usa.  \nvenkatesh left at 20:55 (Ping timeout: 245 seconds  \ncjdelisle - (20:56): sburjan`: Do you want to keep addAnotherFile()? or should it be rolled in to \"public void addFileToAttach(final String filePath)\"  \ncjdelisle - (20:56): My thinking is only use addFileToAttach until there is a test which requires clicking on the addAnotherFile link.  \nsdumitriu - (20:56): Keep it  \nsburjan` - (20:57): well .. I wrote this to simulate the UI  \nsburjan` - (20:57): you merged them  \nsburjan` - (20:57): both are okay .. now we have to decide which approach we want  \ncjdelisle - (20:58): I like making the test easy, so maybe keep both?  \nsburjan` - (20:58): well .. mine are more linear  \nsburjan` - (20:58): one line/action  \nsburjan` - (20:58): something like that  \nsburjan` - (20:58): dunno if it is the right approach  \ncjdelisle - (20:59): You have a good point.  \nsburjan` - (20:59): one method/action  \nsburjan` - (20:59): this is not a competition whose code remains and gets committed :))  \ncjdelisle - (21:00): I'm only concerned with using what's best, and talking over each aspect to make sure we think of future use cases.  \nsburjan` - (21:00): me too  \ncjdelisle - (21:01): setFileToUploadFirstRow and setFileToUpload seems a bit awkward to me. I'm not sure how to fix this.  \nsdumitriu left at 21:01 (Ping timeout: 272 seconds  \nsburjan` - (21:01): the point doing this was  \ncjdelisle - (21:01): Maybe setFileToUpload should be the only choice and it fills in the last row which is available?  \ncjdelisle - (21:02): sorry go on...  \nsburjan` - (21:02): when you click on the atachments pane, you get the default attach file input field  \nsburjan` - (21:02): that is the default one  \nsburjan` - (21:02): uniquely identified by xpath  \nsburjan` - (21:02): the oothers are added dynamic  \nsburjan` - (21:02): so there are tests when you only attach one file.. so you use the FirstRow  \nsburjan` - (21:02): and the others are for the dynamic fields  \nsburjan` - (21:03): this is how I thinked the problem  \ncjdelisle - (21:03): It is easy enough to get a list of all fields (including the first) and enter content into the last one.  \ncjdelisle - (21:04): (the last field which exists.)  \ncjdelisle - (21:04): The question is: is it too abstract?  \ncjdelisle - (21:04): Is it too far removed from what the user actually does?  \nsburjan` - (21:04): unfortunately .. I can't answer to that  \nsburjan` - (21:05): the thing is that they are identified separately by xpath  \nsburjan` - (21:05): so I created 2 diffrent methods  \nsburjan` - (21:05): and depending the test scenariu, you know which to call  \nMartinCleaver joined #xwiki at 21:06  \nsburjan` - (21:06): I'd say to leave the, because in the future I will extend the Tests for attachments, and maybe I'll need them for targeted purpose  \nMartinCleaver left at 21:06 (Excess Flood  \ncjdelisle - (21:06): Something which I like to try to avoid (for future reference) is \"/../../span[2]/a[@class='deletelink']\"  \ncjdelisle - (21:07): The span[2] seems a bit fragile to me.  \nsburjan` - (21:07): yeah .. true .. that was written .. 2 months ago :P  \ncjdelisle - (21:07): Like a slight change of the user interface would cause it to break.  \nsburjan` - (21:07): now I improved my kills but hadn't time to refactor these tests  \ncjdelisle - (21:08): I usually try to use By.id(\"someId\") is possible.  \ncjdelisle - (21:08): \\*if possible  \nsburjan` - (21:08): yeah ...  \nsburjan` - (21:08): well ... you can leave it for the moment .. and I will refactor when extending  \nsburjan` - (21:08): with a shorter xpath (if possible)  \ncjdelisle - (21:09): If the thing does not have a unique id then I try to use By.className and if that doesn't work, only then use By.xpath  \nsburjan` - (21:09): the dynamical added fields dont have an id afaik  \ncjdelisle - (21:09): \\* These are my preferences, take with as much salt as you like ;)  \nsburjan` - (21:10): if they had an unique id ... I'm sure it whould have been done in that way  \nsburjan` - (21:10): well.. sergiu told me this too .. so I'll take it as a good thing  \nsburjan` - (21:10): \\*wouldn't  \nsburjan` - (21:10): \\*would  \nsburjan` - (21:10): ong  \ncjdelisle - (21:11): Really the only way you can see what is best is by examining code and seeing what makes it not work well.  \ncjdelisle - (21:11): Read xwiki-core, do something different ;)  \nsburjan` - (21:11): :))  \nsburjan` - (21:12): so .. should we leave these as they are for now ?  \nsburjan` - (21:13): In 3 weeks I think I'll refactor it and have a shorter version (if possible)  \ncjdelisle - (21:13): Do you care if I remove the commented out code when merging?  \nsburjan` - (21:14): no  \ncjdelisle - (21:14): Also what do the // ToDo comments mean?  \nsburjan` - (21:14): nothing  \nsburjan` - (21:14): you can remove them  \nsburjan` - (21:15): but keep the javadoc  \ncjdelisle - (21:15): Yup. no pb. Out of curiosity what were they for?  \nsburjan` - (21:15): the javadoc ?>  \ncjdelisle - (21:16): Ahh, they mean todo: write javadoc?  \nsburjan` - (21:16): javadoc is for me, and I was playing with eclipse to see if it is used in auto-completion mode :)  \nsburjan` - (21:17): :))  \nsburjan` - (21:18): I guess you have no objection agains last methods .. only getters  \ncjdelisle - (21:18): deleteFirstAttachment  \ncjdelisle - (21:18): Not sure what I think of that.  \ncjdelisle - (21:19): On the one hand it seems to duplicate deleteAttachmentByFileByName. On the other hand it could be pretty useful.  \ncjdelisle - (21:20): What is your thinking on the matter?  \nsburjan` - (21:21): it doesnt seem to be used in my tests  \nsburjan` - (21:21): let me think  \nsburjan` - (21:21): dont think it has a purpose, although it wouldnt have been written for nothing  \ncjdelisle - (21:22): deleteAllAttachments uses it, but as with addFileToAttach, deleteAllAttachments is a bit far removed from what the user actually does.  \ncjdelisle - (21:23): On the other hand, I think it would be very useful to have a function for filling in the last attachment field even not knowing which number field that is.  \ncjdelisle - (21:24): IMO \"public void setFileToUpload(String fileName)\" should index through all of the fields and put the file path in the last empty field.  \nsburjan` - (21:24): yeah, because the user doesnt always deletes the first  \nsburjan` - (21:24): yes I remember  \nsburjan` - (21:24): i did it like this .. for maintenance  \nsburjan` - (21:24): deleteAllAttachments is used for clean-up too  \ncjdelisle - (21:25): You should be able to just delete the document and have all attachments be deleted.  \nsburjan` - (21:25): yes, I'll create a method for that  \ncjdelisle - (21:25): So what do you think of deleteAllAttachments. Do you want to keep it?  \nsburjan` - (21:25): are you sure deleting a document deletes it's attachments too ?  \ncjdelisle - (21:25): If it doesn't then there is a serious bug.  \nsburjan` - (21:26): the only reason to keep deleteAllAttachments is when we find a bug that has some connection to attachments  \nsburjan` - (21:26): you can add it //ToDo .. and I can make it  \nsburjan` - (21:27): and a bug that apprears only in particular cases  \nsburjan` - (21:27): can't figure out for a valid scenario now  \ncjdelisle - (21:27): Ok, I'll keep it.  \ncjdelisle - (21:28): I just wanted to subject it to some inspection first :)  \nsburjan` - (21:28): of course :)  \nsburjan` - (21:28): funny thing I discovered  \nsburjan` - (21:28): Don;t think it;s abut. at least.. in some ways acts as a feature  \nsburjan` - (21:29): \\*a bug  \ncjdelisle - (21:29): yes?  \nsburjan` - (21:29): if you want to attach a windows shortcut \\*.lnk .. the filed will be filled with the path to the file pointed  \nsburjan` - (21:30): so if you have a xwiki.exe shortcut and want to upload it, the path will be to the real exe file  \ncjdelisle - (21:30): That sounds like IE or firefox is doing that for you.  \nsburjan` - (21:30): hmm .. odd  \nsburjan` - (21:31): odd is how come it doesnt see the shortcut as another file ..  \nsburjan` - (21:31): ok .. so other inspections ? :P  \ncjdelisle - (21:32): What do you think of merging setFileToUpload and setFileToUploadFirstRow?  \nsburjan` - (21:32): okay  \ncjdelisle - (21:33): To the user there isn't any difference between the first row and subsequent rows, it's just a bit of bad html.  \nsburjan` - (21:33): but afaik ... setFileToUpload wont work if there is only one field to fill  \ncjdelisle - (21:33): Yea, I'll add an if statement so it's handles transparently.  \nsburjan` - (21:33): because FirstRow was added in the scenario user will upload only one file  \nsburjan` - (21:33): okay  \ncjdelisle - (21:34): I don't see List<String> getAttachmentNames()  \ncjdelisle - (21:34): Should that be added?  \nsburjan` - (21:34): +1  \nsburjan` - (21:34): yepp  \nsburjan` - (21:35): hadn't time to create all the methods  \ncjdelisle - (21:35): Ok. I guess that's it for me. Do you have any questions/comments/complaints about the code I did?  \ncjdelisle - (21:35): I will remove the addFileToAttach since it doesn't mirror the user's actions.  \nsburjan` - (21:36): well apart for using Velocity (for what you have your own rationale) .. I'm okay  \ncjdelisle - (21:36): Great. I'm going to take a break and I'll get back to this later on.  \nsburjan` - (21:37): okay  \ncjdelisle - (21:37): See ya.  \nsburjan` - (21:37): peace  \ncjdelisle - (21:37): I'm going to be gone tomorrow and sunday in case anyone asks.  \nsburjan` - (21:37): okay  \ncjdelisle - (21:37): Thanks.  \nsburjan` - (21:37): so you'll commit next week  \ncjdelisle - (21:38): Probably later on today. It's only 4:00 here.  \nsburjan` - (21:38): oh. I see  \nsburjan` - (21:38): addFileToAttach\u000f  \nsburjan` - (21:39): cant find it  \nflorinciu joined #xwiki at 21:55  \nsdumitriu joined #xwiki at 22:02  \nsdumitriu left at 22:14 (Ping timeout: 264 seconds  \ncjdelisle - (22:43): sburjan`: addFileToAttach is in http://svn.xwiki.org/svnroot/xwiki/enterprise/trunk/distribution-test/ui-tests/src/test/it/org/xwiki/it/ui/framework/elements/AttachmentsPane.java  \nsburjan` - (22:49): oh  \nsburjan` - (22:49): okay... remove it  \njvelociter left at 23:00 (Read error: Connection reset by peer  \ncjdelisle - (23:01): fileUrl = this.getClass().getResource(\"/\" + fileName);  \ncjdelisle - (23:02): I'd rather handle that in the test. Similar to what is done for ImportTest  \nsburjan` - (23:04): okay  \ncjdelisle - (23:04): Thanks.  \nlucaa joined #xwiki at 23:06  \nsburjan` - (23:08): yes, it's more elegant that way  \nsburjan` - (23:08): but in this case you'll have to do this 5 times  \nsburjan` - (23:08): for each attachment file  \ncjdelisle - (23:09): Why attaching 5 attachments instead of 2?  \nsburjan` - (23:10): no reason .. you can leave only 2  \nsburjan` - (23:10): I created this to see if toucan breaks at 100 attachments  \nsburjan` - (23:10): there is a bug in the pane head .. Attachments(10) breaks  \nsburjan` - (23:10): it moves the (10) on a new line  \nsburjan` - (23:10): and I wanted to see how it behaves on 100 attachments  \ncjdelisle - (23:10): I see.  \ncjdelisle - (23:11): I have already uploaded 2 little files for attaching so it would make sense to stick with 2 unless there is a reason for 5.  \nsburjan` - (23:11): +1  \ncjdelisle - (23:11): Going to blow up the universe tonight?  \nsburjan` - (23:11): you can use those for versioning test too  \ncjdelisle - (23:17): lol sue everyone http://online.wsj.com/article/SB10001424052748703294904575385241453119382.html?mod=djemalertNEWS  \nsburjan` - (23:19): well .. no offense  \nflorinciu left at 23:19 (Read error: Connection reset by peer  \nsburjan` - (23:19): but this stuff happens only in the USA  \nsburjan` - (23:19): lame pattents  \nsburjan` - (23:19): in EU they are forbidden  \ncjdelisle - (23:20): Yup. Everywhere has it's advantages.  \ncjdelisle - (23:20): Software dev is best over there, speech protection is best here.  \nsburjan` - (23:20): even genes of the human DNA are patented by pharmaceutical companies  \nsburjan` - (23:20): it's like .. they have a copyright on my DNA  \ncjdelisle - (23:20): ya right, good lick with that one.  \nsburjan` - (23:20): yeah, true  \nsburjan` - (23:21): good that Einstein didn't have patents registered :))  \ncjdelisle - (23:21): Problem is these companies aren't agile enough to dissapear (with assets) when threatened with patent suit.  \nsburjan` - (23:22): se would own most of the theoretical psysics from nowdays  \ncjdelisle - (23:22): Love how nobody has the nerve to sue IBM.  \nsburjan` - (23:22): well .. I don't imagine Google dissapearing because of some lame lawsuit  \nsburjan` - (23:22): :))  \nsburjan` - (23:23): yeah, over the architecture of the PC  \nsburjan` - (23:23): :D  \ncjdelisle - (23:23): IBM owns patents on patents.  \ncjdelisle - (23:23): IBM owns all software patents.  \nsburjan` - (23:23): what do you mean all of them ?  \nsburjan` - (23:24): adobe has patents on photoshop  \nsburjan` - (23:24): how could IBM own that ?  \ncjdelisle - (23:24): If you sue IBM, they just go through their warehouse of patents from the 80's and the 70's until they find some patent on some subroutine in your program.  \ncjdelisle - (23:24): Then they countersue and ruin your company.  \nsburjan` - (23:25): yeah ..  \nsburjan` - (23:25): patents are that old in us ?  \nsburjan` - (23:25): i thought it was something that emerged in the 80  \ncjdelisle - (23:26): Yea, Tesla had patents on alternating current in \u00a0~1910  \ncjdelisle - (23:26): http://en.wikipedia.org/wiki/SCO\\_Group#SCO-Linux\\_lawsuits\\_and\\_controversies <-- Case in point never ever mess with IBM.  \nsburjan` - (23:26): Tesla would own this world if he'd came back from the dead and ask money for his patents  \ncjdelisle - (23:27): Nah, they're expired I think.  \ncjdelisle - (23:28): In all this patent mess it begins to look like the pirate party are the only people with any honor.  \nsburjan` - (23:28): :))  \nsburjan` - (23:29): so actually who owns UNIX ? IBM or Novell ?  \ncjdelisle - (23:29): Novell seems to own it at the moment.  \ncjdelisle - (23:29): Patents? All sorts of companies.  \ncjdelisle - (23:30): IBM sells linux boxes so if you sue linux users, you end up like SCO.  \nsburjan` - (23:30): well .. how come the owner of unix don't sue linux for taking parts of their code  \ncjdelisle - (23:31): SCO did but IBM brought them to ruin.  \ncjdelisle - (23:31): And Novell said \"Oh yea, we didn't actually sell you that\"  \ncjdelisle - (23:31): bbiab stew's done.  \nsburjan` - (23:32): i'm off to sleep  \nsburjan` - (23:33): enhoy your meal  \nsburjan` - (23:33): \\*enjoy  \nEnygma` left at 23:40 (Ping timeout: 252 seconds  \nsdumitriu joined #xwiki at 23:42  \nsdumitriu - (23:43): sburjan`: Could you write a test for XE-701 ?  \nsburjan` - (23:58): sdumitriu: of course. Can I write ir on Tuesday ?  \nsburjan` - (23:58): I have a big week comming up :P  \n\n"}