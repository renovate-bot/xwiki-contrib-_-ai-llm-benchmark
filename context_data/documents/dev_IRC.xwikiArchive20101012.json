{"id": "dev:IRC.xwikiArchive20101012", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101012", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu left at 01:04 (Quit: Leaving.  \nsdumitriu joined #xwiki at 01:04  \nsdumitriu is now known as Guest67955 ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nGuest67955 left at 01:05 (Client Quit  \nsdumitriu\\_ joined #xwiki at 01:06  \nsdumitriu\\_ is now known as sdumitriu ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nsdumitriu left at 01:12 (Quit: Leaving.  \nsdumitriu joined #xwiki at 01:12  \njvdrean left at 01:47 (Quit: Leaving.  \njvelo left at 02:02 (Ping timeout: 250 seconds  \nrrodriguez left at 02:51 (Quit: rrodriguez  \nsdumitriu left at 03:25 (Ping timeout: 252 seconds  \nlucaa left at 03:51 (Read error: Connection reset by peer  \nabusenius left at 05:39 (Ping timeout: 240 seconds  \nvenkatesh joined #xwiki at 06:27  \nvenkatesh left at 06:28 (Remote host closed the connection  \nvenkatesh joined #xwiki at 06:28  \nBaur joined #xwiki at 06:58  \nBaur - (06:58): cjdelisle ping  \nBaur - (07:02): I am trying to modify css files of xwiki, I found colorThemesInit.vm file  \nBaur - (07:03): however it says that some of the color variables are overwritten in some other files, user, space, wiki files  \nBaur - (07:03): can you help me plz to find these files  \nDenis left at 07:04 (Ping timeout: 276 seconds  \nvmassol joined #xwiki at 07:04  \nDenis joined #xwiki at 07:09  \nmflorea joined #xwiki at 07:14  \nasrfel joined #xwiki at 08:26  \nsburjan joined #xwiki at 08:41  \ncjdelisle - (09:18): Baur, if you use firebug and find the element you want to change, it will tell you the name of the css file which gives it each of it's properties.  \ncjdelisle - (09:19): bbiab  \narkub joined #xwiki at 09:24  \ntmortagne joined #xwiki at 09:32  \nbblfish joined #xwiki at 09:33  \nbblfish left at 09:35 (Read error: Connection reset by peer  \nmflorea left at 09:36 (Ping timeout: 240 seconds  \nbblfish joined #xwiki at 09:37  \njvdrean joined #xwiki at 09:37  \nmflorea joined #xwiki at 09:40  \nevalica joined #xwiki at 09:49  \njvelo joined #xwiki at 09:55  \nrrodriguez joined #xwiki at 10:05  \njvdrean left at 10:07 (Quit: Leaving.  \nlucaa joined #xwiki at 10:12  \nxwikibot joined #xwiki at 11:09  \nsburjan - (11:09): and maybe this address was caught in a summarized route, that couldnt deliver to the IP address  \nsdumitriu - (11:10): Hi mflorea  \nsdumitriu - (11:10): Are you working on fixing the WYSIWYG tests?  \nsdumitriu - (11:10): Failing with \"Source text area is not editable!\"  \nmflorea - (11:11): Hi sdumitriu, yes, I'm on it, I need 1-2h more because I have to refactor a bit the client side due to XWIKI-5554  \nvmassol - (11:12): tmortagne: we went from 277 classes with 81.7% TPC to 411 classes with 82.3% in the rendering module: http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HTestCoverage Not bad  \ntmortagne - (11:12): yep pretty cool  \ntmortagne - (11:12): looking at it  \ntmortagne - (11:13): and it's doxia which reduce the percentage so it's kind of ok ;)  \nBaur - (11:13): ping  \nsburjan - (11:13): so we kept a god coverage, even the classes doubled  \nsburjan - (11:13): \\*good  \nvmassol - (11:13): tmortagne: I forgot to zip some images apparently, redoing the zip  \nBaur - (11:14): cjdelisle ping  \nbblfish left at 11:14 (Quit: Leaving.  \nBaur - (11:15): anybody can help?  \ntmortagne - (11:16): vmassol: looks like theire is some link that does not work when viewing it using the zip plugin  \ntmortagne - (11:16): for example in the i'm trying to access red boxes in the scheme of the main page  \nvmassol - (11:16): tmortagne: much better now  \nvmassol - (11:16): try again  \ntmortagne - (11:17): ok  \nBaur - (11:17): lucaa ping  \nvmassol - (11:17): tmortagne: seems we're not using http://dev.xwiki.org/xwiki/bin/download/Community/Testing/xwiki-rendering-clover-20101012.zip/org/xwiki/rendering/listener/chaining/TextOnNewLineStateChainingListener.html#TextOnNewLineStateChainingListener  \ntmortagne - (11:17): great it's working well now  \nsburjan - (11:17): can I see the coverage of ui-tests ?  \nvmassol - (11:17): sburjan: no  \nBaur - (11:18): can I embed a flash file to my header?  \ntmortagne - (11:18): vmassol: that does not suprise me, i think I changed the way we are dealing with that a long time ago  \nvmassol - (11:18): tmortagne: we could use this report to find dead code  \nvmassol - (11:19): and clean things  \ntmortagne - (11:19): yep  \nsburjan - (11:19): vmassol: why ?  \nvmassol - (11:19): sburjan: how would you get it?  \nsburjan - (11:20): I don;t know exactly how coverage tests run  \ntmortagne - (11:20): sburjan: we can produce that for java classes but it's hard for the velocity/JS part  \nvmassol - (11:20): sburjan: it can be done and as I said I'm working on it  \nEnygma` joined #xwiki at 11:20  \nsburjan - (11:20): tmortagne: ui-tests are java too  \nsburjan - (11:20): i'll wait for vmassol to finish  \nvmassol - (11:20): but until it's ready I won't be able to show anything for obvious reasons  \ntmortagne - (11:20): sburjan: i did not said there was no java in there  \ntmortagne - (11:21): but there is not only java  \nvmassol - (11:21): sburjan: you should really read up on test coverage though to educate yourself and learn how to make it work in the build  \ntmortagne - (11:21): the point of coverage is not the tests themself  \ntmortagne - (11:21): but to know what code the tests are \"activating\"  \nvmassol - (11:21): sburjan: you can start with http://confluence.atlassian.com/display/CLOVER/Clover-for-Maven+2  \nsburjan - (11:21): vmassol: thanks  \ntmortagne - (11:21): so we don't care that the ui-tests themself are in java  \nbblfish joined #xwiki at 11:22  \nsburjan - (11:22): yeah, I understand  \nsburjan - (11:23): thanks  \nvmassol - (11:23): tmortagne: I'm surprised that XDOM is not more covered  \nvmassol - (11:23): there are some methods that seem not to be used  \nvmassol - (11:23): 2 constructors and the id generator  \ntmortagne - (11:24): vmassol: for the id generator that's weird since it should be use by any test with headers  \nBaur - (11:25): ping bblfish  \nBaur - (11:25): bblfish ping  \nvmassol - (11:26): tmortagne: the report also says 120 tests but maybe it means 120 test case classes  \ntmortagne - (11:27): yep since there is a lot more than 120  \nvmassol - (11:27): hmm no  \ntmortagne - (11:27): we would not have this coverage with 120 tests for sure  \nvmassol - (11:27): somehow the rendering tests are not counted  \ntmortagne - (11:27): ha  \nsdumitriu - (11:27): Hi Baur  \ntmortagne - (11:27): that's a very impressive coverage then  \nsdumitriu - (11:27): What's your question?  \nBaur - (11:27): hi  \nvmassol - (11:27): I think they are counted in the TPC  \nBaur - (11:28): i am trying to embed flafh file to my header  \nBaur - (11:28): i have changed global.vm file  \nvmassol - (11:28): BTW the other day I made some tests and removed the rendering-tests from the report and the result was almost the same but I couldn't believe it  \nBaur - (11:28): but no change  \nfmancinelli joined #xwiki at 11:28  \nsdumitriu - (11:29): Baur: There's a global.vm in skins/colibri as well  \nBaur - (11:29): i think the path is not correct  \ntmortagne - (11:29): vmassol: yes that sounds weird  \nsdumitriu - (11:29): You should change that one  \nvmassol - (11:29): (almost = 10% difference as in 78% vs 82.3%)  \nBaur - (11:29): yup, i changed that one  \nsdumitriu - (11:29): Did you also change the one in templates then?  \nBaur - (11:29): i think i provided worng path to my flash file  \nvmassol - (11:29): tmortagne: RenderingTests are mentioned here: http://dev.xwiki.org/xwiki/bin/download/Community/Testing/xwiki-rendering-clover-20101012.zip/pkg-results.html  \nvmassol - (11:30): (the REsult tab in the dashboard view on the left)  \nvmassol - (11:30): they're just not TestCase classes  \nvmassol - (11:30): that's why they're not counted in the # of tests  \nBaur - (11:30): i can see changes , i mean the width and hieght changed  \nBaur - (11:30): but no flasg is playing  \nvmassol - (11:30): but I think they're executed and counted in the TP  \nvmassol - (11:30): TPC  \ntmortagne - (11:30): ok  \nvmassol - (11:31): tmortagne: they must be counting not from execution but from static files loading  \nvmassol - (11:31): (or maybe we need to configuration the clover plugin to instrument test files to get better info)  \ntmortagne - (11:32): yep, it probably dothe same than junit to find tests but since it does not execute it can't find generated tests  \ntmortagne - (11:32): maybe we can write a plugin or something for clover  \nsburjan - (11:35): vmassol: can I ask you things I don't understand regarding clover ?  \nvmassol - (11:36): sburjan: I suggest you read up first, try to understand things and when you have read it all, searched google and you cannot find an answer then yes you can ask questions! :)  \nvmassol - (11:36): (that's what I'm doing right now myself)  \nBaur - (11:37): @sdumitriu any idea how can i make flash file playing on my header?  \nsburjan - (11:37): I was just wondering in which pom.xml you put the clover dependnecies .. this one I can't find it on google  \nvmassol - (11:37): sburjan: why don't you try finding the anser yourself?  \nsdumitriu - (11:37): It's plain old HTML, there's nothing special to it  \nsdumitriu - (11:38): Baur: What code did you use?  \nvmassol - (11:38): sburjan: have you done a find \u2026 -exec grep -H clover ?  \nflorinciu joined #xwiki at 11:38  \nBaur - (11:38): i have put this peace of code:<object width=\"100%\" height=\"70\"> \u00a0\u00a0\u00a0\u00a0<param name=\"allowScriptAccess\" value=\"sameDomain\" /> \u00a0\u00a0\u00a0\u00a0<param name=\"allowFullScreen\" value=\"false\" /> \u00a0\u00a0\u00a0\u00a0<param name=\"movie\" value=\"9.swf\" /> \u00a0\u00a0\u00a0\u00a0<param name=\"quality\" value=\"high\" /> \u00a0\u00a0\u00a0\u00a0<param name=\"bgcolor\" value=\"#00395d\" /> \u00a0\u00a0\u00a0\u00a0\u00a0<embed src=\"9.swf\" quality=\"high\" bgcolor=\"#00395d\" width=\"100%\" height=\"70\" name=\"kkb\" align=\"middle\" allowScriptAccess=\"sameDomain\" a  \nsburjan - (11:38): I was going to ...  \nvmassol - (11:38): sburjan: as I said please do your homework first  \nvmassol - (11:38): and only after a few hours of searching with no answer found then you can ask  \nvmassol - (11:38): that's the best for learning  \nvmassol - (11:38): otherwise you won't learn  \nvmassol - (11:39): if people give you answer as soon as you have a question  \nvmassol - (11:39): you need to learn to learn ;)  \nsburjan - (11:39): I know :)  \nvmassol - (11:39): (give a man a fish\u2026. blah blah)  \nsburjan - (11:39): but it's pretty time consuming  \nvmassol - (11:39): yes learning always is  \nvmassol - (11:39): asking people is consuming too  \nvmassol - (11:40): not for you but for them  \nvmassol - (11:40): and you don't improve  \nBaur - (11:42): @sdumitriu  \ncjdelisle - (11:43): Give a man a fish and he will eat for a day. Teach a man to fish and he'll sit in a boat and drink beer all day.  \nBaur - (11:43): any comments on my code?  \nsdumitriu - (11:43): Where is 9.swf located?  \nsdumitriu - (11:43): Paths are relative to the current URL  \nBaur - (11:44): it is skins/colibri  \nsdumitriu - (11:44): You might want to use $xwiki.getSkinFile('9.swf') instead  \nvmassol - (11:44): cjdelisle: :)  \nvmassol - (11:44): (didn't know this variant)  \ncjdelisle - (11:46): Saw it in a someone's quit message.  \nBaur - (11:46): thanks a lot  \nBaur - (11:46): it works  \nPanther\\_1 joined #xwiki at 11:55  \nPanther\\_1 - (11:55): hi  \ncjdelisle - (11:56): what's your question?  \nPanther\\_1 - (11:57): cjdelisle: yesterday we have talked about an jvm crash  \nPanther\\_1 - (11:57): cjdelisle: you rember  \ncjdelisle - (11:57): did you find the cause?  \nPanther\\_1 - (11:57): cjdelisle: i have now tested many jvm's and all the same  \nPanther\\_1 - (11:58): cjdelisle: but I have done an strace and see that the crashed was after some hibernate stuff  \nPanther\\_1 - (11:58): cjdelisle: the I have replaced the postgresql-8.4-702.jdbc4.jar with postgresql-9.0-801.jdbc4.jar and it still crashed but in the catalina.out I see some warnings  \ncjdelisle - (11:58): You're using tomcat?  \nPanther\\_1 - (11:59): cjdelisle: yes  \nPanther\\_1 - (11:59): 2010-10-12 11:49:08,072 [http://xwiki.via.de/xwiki-enterprise-web-2.4.3/bin/view/Main/] INFO \u00a0.AbstractXWikiMigrationManager \u00a0- No storage migration required since current version is [15429]  \nPanther\\_1 - (11:59): 2010-10-12 11:49:29,976 [http://xwiki.via.de/xwiki%2Denterprise%2Dweb%2D2.4.3/bin/view/XWiki/Admin] WARN \u00a0util.JDBCExceptionReporter \u00a0\u00a0\u00a0\u00a0\u00a0- SQL Warning: 0, SQLState: 25001  \nPanther\\_1 - (11:59): 2010-10-12 11:49:29,983 [http://xwiki.via.de/xwiki%2Denterprise%2Dweb%2D2.4.3/bin/view/XWiki/Admin] WARN \u00a0util.JDBCExceptionReporter \u00a0\u00a0\u00a0\u00a0\u00a0- there is already a transaction in progress  \nPanther\\_1 - (11:59): #  \nPanther\\_1 - (11:59): # A fatal error has been detected by the Java Runtime Environment:  \ncjdelisle - (12:00): Might be a problem with tomcat native code.  \nPanther\\_1 - (12:01): cjdelisle: i have done it without apr also  \ncjdelisle - (12:02): Try downloading jetty from the mortbay website, put it in a directory and put xwiki in the jetty/webapps/ folder, then start jetty with java -server -jar ./start.jar  \ncjdelisle - (12:02): (from the jetty main folder)  \ncjdelisle - (12:03): If that works and no crash then install another copy of tomcat  \nPanther\\_1 - (12:03): cjdelisle: ok \u00a0I wil try  \nPanther\\_1 - (12:13): cjdelisle: it throws an exception with hibernate  \nPanther\\_1 - (12:13): cjdelisle: on startup  \nPanther\\_1 - (12:13): cjdelisle: with the same hibernate.cfg.xml the tomcat starts  \ncjdelisle - (12:14): You changed the postgres jdbc driver though?  \nPanther\\_1 - (12:14): cjdelisle: I see no error in the hibernate.cfg.xml  \nPanther\\_1 - (12:14): cjdelisle: yes  \nPanther\\_1 - (12:14): cjdelisle: only postgres is active  \ncjdelisle - (12:14): Are you using postgres9.0?  \nPanther\\_1 - (12:14): cjdelisle: no 8.4  \nPanther\\_1 - (12:15): cjdelisle: but the jdbc driver will be compatible  \ncjdelisle - (12:15): and you're using postgresql-9.0-801.jdbc4.jar?  \nsdumitriu - (12:15): tmortagne: Do you have anything else to commit for RC1?  \nPanther\\_1 - (12:15): cjdelisle: yes I also tested \u00a0postgresql-8.4-702.jdbc4.jar  \nPanther\\_1 - (12:17): cjdelisle: with 8.4 it throws also an exception  \ntmortagne - (12:17): sdumitriu: nop  \nPanther\\_1 - (12:18): cjdelisle: see http://xwiki.via.de/xwiki-enterprise-web-2.4.3/bin/view/Main/  \ncjdelisle - (12:20): still haven't gotten rid of those -'s in the name ay?  \nlucaa - (12:21): team, how does xwiki behave when, in a page A I put in an image (with 2.0 syntax) which is attached to B, and then I rename B. Will the image reference be updated?  \ncjdelisle - (12:21): ``Caused by: java.lang.ClassNotFoundException: org.hsqldb.jdbcDriver''  \nPanther\\_1 - (12:22): cjdelisle: i see it but it is commented out  \ntmortagne - (12:22): lucaa: i don't think so, AFAIK only links are refactored right now  \ncjdelisle - (12:24): it's looking for hsqldb, not postgres so it's probably not using the hibernate.cfg file you think it is, or you made a mistek in the hibernate file.  \nPanther\\_1 - (12:24): cjdelisle: the only sections in the WEB-INF/hibernate.cfg.xml \u00a0which are not commented out are \u00a0<!-- Generic parameters common to all Databases --> and !-- PostgreSQL configuration.  \ncjdelisle - (12:25): pastebin the hibernate file?  \nPanther\\_1 - (12:26): cjdelisle: ok  \nvmassol - (12:27): lucaa: a good jira issue to create if not already done. Should be real easy to fix  \nbblfish left at 12:27 (Quit: Leaving.  \nPanther\\_1 - (12:27): cjdelisle: http://pastebin.org/152542  \nbblfish joined #xwiki at 12:29  \nvmassol - (12:29): lucaa: hmm not that easy since we don't maintain image links in backlinks  \nasrfel left at 12:30 (Quit: Leaving.  \ntmortagne - (12:30): vmassol: yep that's the main cause (same thing for links in objects, parents, etc.)  \nvmassol - (12:31): tmortagne: not sure how hard it would be to add more info to the backlink table for parent, images  \ntmortagne - (12:31): (even if parent are handled their own way but i still think backlink should be more generic)  \nvmassol - (12:31): (+1 for more generic indeed)  \nbblfish left at 12:31 (Client Quit  \ncjdelisle - (12:32): Panther\\_1, where did you get that xwiki package from?  \ntmortagne - (12:32): like calling it backreference and store any entityreference in it  \ntmortagne - (12:32): to start  \ncjdelisle - (12:33): hmm nevermind.  \nPanther\\_1 - (12:33): cjdelisle: http://www.xwiki.org/xwiki/bin/view/Main/Download  \ncjdelisle - (12:34): Panther\\_1, I'm stumped but all I can say is when my equipment starts to act like yours is, I start running memtest86 and doing sanity tests on the hardware.  \nPanther\\_1 - (12:34): cjdelisle: I only copied the postgresql jdbc driver changed the hibernate.cfg.xml and activated the superadmin and upload the xwiki-enterprise-wiki-2.4.3.xar  \nPanther\\_1 - (12:35): cjdelisle: its no hardware its only on vm on an large vmware cluster with many vms on it running without any problems  \nPanther\\_1 - (12:36): cjdelisle: \u00a0I use : xwiki-enterprise-web-2.4.3.war \u00a0and xwiki-enterprise-wiki-2.4.3.xar from that side  \nPanther\\_1 - (12:37): cjdelisle: my question is now why wants the jetty instance will use hsqldb  \ncjdelisle - (12:38): To try to solve that problem would take me a a few hours to a few day and definitely require shell access, probably root. I don't have that time to volunteer.  \nPanther\\_1 - (12:39): cjdelisle: ok thx for your help anyway  \nPanther\\_1 - (12:41): cjdelisle: have found it i also copied the war file after removing it jetty starts  \nPanther\\_1 - (12:42): cjdelisle: but jetty dies on the same position with an Segmentation fault  \nlucaa left at 13:00 (Ping timeout: 240 seconds  \nasrfel joined #xwiki at 13:04  \nvmassol - (13:09): sdumitriu: when are you starting the release?  \nsdumitriu - (13:10): When mflorea gives the OK  \nvmassol - (13:10): mflorea: ?  \nmflorea - (13:10): I'm not done yet  \nvmassol - (13:10): I guess we should all check the functional tests and ensure they pass right?  \nsdumitriu - (13:10): Yes  \nvmassol - (13:11): I'll skip the wysiwyg ones since I guess marius is on it  \ncjdelisle - (13:11): I have a document which is always showing isFromCache = true (this is a highly modded version so it might be me) \u00a0\u00a0does tomcat store the heap when you shut it down or something?  \nvmassol - (13:11): sdumitriu: you fixed these ones right: http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-webstandards/58/testReport/ ?  \nsdumitriu - (13:11): Yes, should be fixed  \nabusenius joined #xwiki at 13:21  \nPanther\\_1 left at 13:27 (Read error: Connection reset by peer  \nsilviar joined #xwiki at 13:38  \ncjdelisle - (14:00): ``Every Android application runs in its own process, with its own instance of the Dalvik virtual machine. Dalvik has been written so that a device can run multiple VMs efficiently.''  \nBaur left at 14:02 (Quit: Page closed  \ncjdelisle - (14:02): If that made it to other platforms then java hosting might become a more ubiquitous like php or python.  \ntmortagne - (14:04): sdumitriu: just committed something but it's pretty small, hope it's ok  \ntmortagne - (14:04): (it's mainly a test covering improvement)  \nvmassol - (14:09): tmortagne: this doesn't seem right:  \nvmassol - (14:09): InitializationError.java  \nvmassol - (14:09): oops  \nvmassol - (14:09): wrong paste  \nvmassol - (14:09): - \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0RenderingTestSuite suite = new RenderingTestSuite(\"Test Toc Macro\");  \nvmassol - (14:09): + \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0RenderingTestSuite suite = new RenderingTestSuite(\"Test Toc Macro\", \"\", \"macrotoc11.test\");  \ntmortagne - (14:10): indeed committed by mistake  \ntmortagne - (14:10): fixwing that  \ntmortagne - (14:10): \\*fixing  \nvmassol - (14:10): is it normal to have the toc macro depend on hibernate directly now?  \nvmassol - (14:11): (hib validator)  \nvmassol - (14:11): seems strange  \ntmortagne - (14:11): it's not  \ntmortagne - (14:11): it only use it as implementation of Java bean validation for tests  \nlucaa joined #xwiki at 14:12  \ntmortagne - (14:12): it would use anything else (except that for now there is not other implementation AFAIK)  \ntmortagne - (14:12): s/would/could/  \nvmassol - (14:12): but why not use xwiki-properties?  \ntmortagne - (14:12): it is  \ntmortagne - (14:12): that's not the issue  \ntmortagne - (14:13): again hibernate validator is just an implementation among possible other  \ntmortagne - (14:13): xwiki-properties not does force to use it  \ntmortagne - (14:13): it only depends on the api  \nvmassol - (14:13): so xwiki-properties module's pom doesn't depend on hib validator?  \nvmassol - (14:13): I think it would be good not to have each module using xwiki-rpoperties decide what impl to use  \ntmortagne - (14:14): it's not xwiki-properties job to do that for sure  \ntmortagne - (14:14): maybe shared-test if you want  \ntmortagne - (14:14): or rendering-test here  \nvmassol - (14:14): what i mean is that hib validator should be hidden from module using xwiki-properties  \nvmassol - (14:14): for the xwiki project that is  \ntmortagne - (14:15): i don't agree  \nvmassol - (14:15): it seems to be an impl details that shouldn't be made visible  \ntmortagne - (14:15): again that's not the job of xwiki-properties  \nvmassol - (14:15): it is  \ntmortagne - (14:15): xwiki-properties is based in Java bean valition  \nvmassol - (14:15): the job of xwiki properties is to offer an api that does vliadation  \ntmortagne - (14:15): and it does  \nvmassol - (14:15): you should n't have to depend on anything else to make it work  \ntmortagne - (14:15): it's not the problem  \nvmassol - (14:16): again one module might use hib validator 1.2 and another 2.4 and another use another implementation  \ntmortagne - (14:16): it's like saying that every module should comes with a dependency to the logging framework implementation  \nvmassol - (14:16): I don't feel this is right for platform/XE  \ntmortagne - (14:16): you don't have thi issue  \ntmortagne - (14:16): because no module depends on hibernate validator again  \ntmortagne - (14:17): it's done in web like for log4j  \ntmortagne - (14:17): what is not right is not force the implementation to use for Java bean validation  \ntmortagne - (14:17): that's the point of using standard apis...  \nvmassol - (14:18): we just need one impl  \nvmassol - (14:18): not several in platform/XE  \nvmassol - (14:18): that we can decide to change is fine but we need only one  \ntmortagne - (14:19): and we have only one  \ntmortagne - (14:20): again it's exactly the same thing that slf4j and log4j  \ntmortagne - (14:20): going luch, back in 30min  \nvmassol - (14:20): and we don't want to have each module decide what logging impl to use  \nvmassol - (14:20): bon app  \nsdumitriu - (14:20): vmassol: Do I need to release the master pom? You just committed some changes to it (for cobertura)  \nvmassol - (14:21): sdumitriu: they're minor and not really needed for anyhting  \nsdumitriu - (14:21): K, great  \nvmassol - (14:21): so the answer is no  \nvmassol - (14:21): trying to make ui-tests work with maven3  \nsburjan - (14:24): cool :)  \narkub left at 14:32 (Ping timeout: 276 seconds  \nvmassol - (14:45): for the record I've opened http://jira.codehaus.org/browse/MNG-4861 Still trying to find a workaround  \ntmortagne - (14:48): yep since it's now out it would be great to go to maven3 as recommended build tool for XWiki  \ncjdelisle - (14:49): And threaded builds are real fast. Platform doesn't build properly but it fails fast ;)  \nvmassol - (14:49): I'm eager to try the // paralell build  \nvmassol - (14:49): cjdelisle: heh so you've tried it?  \ncjdelisle - (14:49): yup  \ncjdelisle - (14:49): mvn -T 2C clean install  \ncjdelisle - (14:49): 10 minutes for platform IIRC.  \ntmortagne - (15:01): \"and we don't want to have each module decide what logging impl to use\" it's not the problem, the point is that it's the final build which decide which impl to use and for that all modules only depends on \u00a0the api (which is also why moddules depends on core-component-api, etc...) and it's the exact same for Java bean validation. I already said that we can put hibernate validator in shared tests if you don't want module that needs it fo  \ntmortagne - (15:02): xwiki-properties depends on Java bean validation API exactly like it depends on xwiki-core-component-api. xwiki-properties is NOT here to make Java bean validation hidden (you directly use Java bean validation API) but if you want to put some constraint on your bean it will take care of calling the provided Java bean validation framework if one exists. If none is provided it logs a warning.  \nsdumitriu left at 15:09 (Ping timeout: 252 seconds  \nvenkatesh left at 15:28 (Ping timeout: 260 seconds  \njvdrean1 joined #xwiki at 15:39  \njvdrean left at 15:39 (Read error: Connection reset by peer  \nsdumitriu joined #xwiki at 15:44  \nsilviar left at 15:49 (Quit: Leaving.  \nvmassol - (15:52): ok found the problem with maven3  \nvmassol - (15:52): :)  \nvmassol - (15:52): fixing it  \ncjdelisle - (15:52): not a mvn bug?  \nvmassol - (15:52): this is arguable but not it's not really a maven bug  \nvmassol - (15:53): it's because we have 2 conflicting jars in the classpath  \nvmassol - (15:53): junit:junit:4.8.x  \ncjdelisle - (15:53): ahh  \nvmassol - (15:53): and  \nvmassol - (15:53): junit:junit-dep:4.4  \nvmassol - (15:53): it seems the classapth order might be different for some reason with maven3  \nflorinciu left at 16:04 (Read error: Connection reset by peer  \narkub joined #xwiki at 16:46  \nesdaniel joined #xwiki at 17:17  \nvmassol - (17:17): cjdelisle: you didn't finish the pom.version removal in enteprrise? Is there any pb in replacing it with project.version?  \ncjdelisle - (17:18): nope, I just got the ones in platform.  \nesdaniel - (17:18): salut vmassol on a pense que ca pourra sympa de nous rejoindre pour un moment a #ow2-community  \nJeremyC joined #xwiki at 17:19  \nesdaniel - (17:19): vmassol: mais t'as raison c'est plus efficace d'avoir le chaine ici pour ecouter/repondre a nos questions  \ncjdelisle - (17:19): I can look for my sed command, it got some more stuff than just pom.version  \nvmassol - (17:19): esdaniel: yep except that it's an English-speaking channel :)  \nvmassol - (17:19): (here I mean)  \nesdaniel - (17:20): ow2 is multi-lingual  \nvmassol - (17:20): cjdelisle: if you can do it fine, otherwise I'll do it later  \ngsauthier joined #xwiki at 17:20  \nesdaniel - (17:21): vmassol: we were wondering with new version of xwiki what difference was between virtual wikis and instances on a farm or are they synonomous  \nvmassol - (17:21): esdaniel: virtual wiki, multi wikis, sub wikis are the same thing  \nvmassol - (17:22): (there's only 1 mechanism)  \ngsauthier - (17:22): Is there an unified adminsitration interface to manage the farm of wikis ?  \nvmassol - (17:22): the only difference is how you install it: you can install a XEM bundle or configure a XE to become a farm  \nesdaniel - (17:23): vmassol: re: chronopolys - is it an xwiki 'extension' or standalone?  \nvmassol - (17:23): gsauthier: yes that app is available bundled in XEM or you can install it separtely  \ngsauthier - (17:24): vmassol: Cool :)  \nvmassol - (17:24): gsauthier: http://code.xwiki.org/xwiki/bin/view/Applications/WikiManagerApplication  \ngsauthier - (17:24): vmassol: I think that will probably ease Jeremy's job  \ngsauthier - (17:24): JeremyC: Is this the admin interface you're already using ?  \nvmassol - (17:25): gsauthier: see http://manager.xwiki.org/xwiki/bin/view/AdminGuide/Installation  \nvmassol - (17:25): actually the XEM XAR is probably the best to use: http://www.xwiki.org/xwiki/bin/view/Main/Download#HXWikiEnterpriseManager (it contains the Wiki Manager app and some more)  \nvmassol - (17:26): esdaniel: re chrono it's standalone AFAIK  \nvmassol - (17:26): sorry :)  \nvmassol - (17:26): (there isn't any development done on it either)  \nesdaniel - (17:27): vmassol: looking for a nice tool to track OW2 MO tasks, any other ideas?  \nvmassol - (17:28): esdaniel: well we have a task app but it's basic  \nvmassol - (17:28): it's here:  \nvmassol - (17:28): http://code.xwiki.org/xwiki/bin/view/Applications/TaskManagerApplication  \ngsauthier - (17:28): esdaniel: maybe just something to manage tasks ? is a simple TODO list application enough ?  \nvmassol - (17:28): I'm not using it so I don't know how good or bad it is, I don't even know if it works ;)  \nesdaniel - (17:28): vmassol: because we all share the work we have 5 key reports and then each of us is involved in different degrees supporting each other  \nvmassol - (17:28): there's also:  \nvmassol - (17:28): http://code.xwiki.org/xwiki/bin/view/Applications/ExtendedTodoApplication  \nvmassol - (17:29): and http://code.xwiki.org/xwiki/bin/view/Applications/TodoApplication  \ngsauthier - (17:29): Hey, this is better than the applestore !! :)  \nvmassol - (17:29): :)  \nesdaniel - (17:29): vmassol: need multiple assignees i.e.t eams  \nvmassol - (17:30): it's easy to customize based on your needs I guess but you might need some dev skills if that feature isn't there  \nesdaniel - (17:30): vmassol: it's close though  \nvmassol - (17:30): I don't know these apps personnally  \nvmassol - (17:30): nevery used them  \nvmassol - (17:30): s/never/nevery/  \nesdaniel - (17:31): :-)  \ngsauthier - (17:31): vmassol: It's probably not the first time I ask you that but we're thinking about the migration path from an XWiki pre 1.0 version to an uptodate \u00a0XWiki version.  \nvmassol - (17:31): just note that these apps are contributed so their quality may vary  \nvmassol - (17:32): and the xwiki dev team isn't responsible for them ;)  \nvmassol - (17:32): now we do have a meeting manager app too you could try\u2026 hmmm let me see if it's shared  \ngsauthier - (17:32): I suspect the style stuff will probably have to be re-done, but can we extract the content of the page (at least), and attanchements (if possible)  \nvmassol - (17:32): but it's not really todo  \nvmassol - (17:32): http://code.xwiki.org/xwiki/bin/view/Applications/MeetingManagerApplication  \nvmassol - (17:33): it has some tasks features in it though  \nesdaniel - (17:33): as it happens we checked that one today to see if it would work well for our conference registrations  \ngsauthier - (17:33): Do you know how difficult this migration could be ?  \nesdaniel - (17:33): though it is too short on features currently to be suitable  \nvmassol - (17:34): gsauthier: really depends on how much customization and apps were developed in that pre 1.0 wiki  \nesdaniel - (17:34): i was going to say exactly the same thing!  \ngsauthier - (17:35): not so much app, I thinkk we have some macros (velocity code)  \nesdaniel - (17:35): ok - just browsed extendedtodo, it's all markup so probably worth me putting in a few hours experimenting  \nesdaniel - (17:36): vmassol: thanks, gotta go pick up the kid, ttfn  \nesdaniel left at 17:36 (Remote host closed the connection  \ngsauthier - (17:36): we also have inter wiki links ([jonas:Doc.WebHome])  \nvmassol - (17:36): hehe mine just came back from school with the bus...  \nasrfel left at 17:37 (Quit: Leaving.  \ngsauthier - (17:40): in all cases, I think we will have to migrate our wikis one by one and fix the errors when we see them  \ngsauthier - (17:40): I was just wondering if at least we can extract the content of theses xwikis versions coming from the ages :)  \ntmortagne - (17:43): gsauthier: i don't think the xar format changed much so you should be able to export old wikis and import them on new instance  \ntmortagne - (17:43): some new field as been added but they all have default value in the importer  \ngsauthier - (17:44): tmortagne: I'm not even sure the Xar format existed at this time ...  \ntmortagne - (17:44): ho so it's way older than me working on XWiki then :)  \ntmortagne - (17:45): in any case the database is supposed to be automatically updated  \ngsauthier - (17:45): lol it's possible. theses wikis have been started in 2006/10/23 (history of the first home page in jonas wiki) :)  \ntmortagne - (17:45): not sure how well it's updated for very old version  \nvmassol - (17:45): yes since we added automatic migration later on  \ntmortagne - (17:46): gsauthier: you can maybe try the export script on code.xwiki.org  \ntmortagne - (17:46): http://code.xwiki.org/xwiki/bin/view/Snippets/LargeWikiExportSnippet  \ntmortagne - (17:47): you would probably have had to use it anyway since standard export does not support well big wikis  \ntmortagne - (17:47): at worst ii'm pretty sure this script should not be to hard to make it support your version  \ngsauthier - (17:48): How are we supposed to use it ?  \ntmortagne - (17:48): it has been tested of pretty old version like 1.3, ok it's not before 1.0 but not sure the XWikiDocument and grrovy version changed much since then  \ngsauthier - (17:48): outside of the XWiki instance ?  \ntmortagne - (17:48): nop  \ntmortagne - (17:49): it's a groovy script  \ntmortagne - (17:49): to use in the page of your wiki  \ngsauthier - (17:49): Hmmm, not sure groovy was in xwiki at this time :-/  \ngsauthier - (17:50): too bad JeremyC is not looking at the discussion right now, maybe he could tell us more about the xwiki instances he's managing  \ntmortagne - (17:50): what is your version ?  \ngsauthier - (17:50): not really sure, a pre 1.0 version ...  \ngsauthier - (17:51): again JeremiC can probably find the answer  \ntmortagne - (17:52): groovy is here is a very long time before 1.0 AFAIK  \ntmortagne - (17:52): s/is/since/  \ngsauthier - (17:52): cool, we'll have to try this ...  \ngsauthier - (17:52): thanks for the tip thomas  \ntmortagne - (17:53): np  \ngsauthier - (17:53): vmassol: I remember that we're using the Rss stuff in Xwiki tu publish news. That's probably an application, right ?  \nvmassol - (17:53): gsauthier: everything is an app in XWiki ;) (or almost)  \nvmassol - (17:54): but I don't know your setup so I can't say for sure how it's done  \ngsauthier - (17:55): I understand  \ngsauthier - (17:56): We'll try the groovy exporter and hope that will extract most of our content from the DB, the rest will have to be done by hand  \ngsauthier - (17:57): We'll come back to you crying for help if this option do not work :)  \ngsauthier - (17:59): BTW, Thanks to all for the talk, that was interesting and very helpful  \ntmortagne - (17:59): bonne chance ;)  \nsburjan - (18:01): vmassol: I am running some ui-tests, and I see that some call of \u00a0getUtil().deletePage() get some errors in the console. The method works. I am still unable to trace this further  \ngsauthier - (18:02): tmortagne: merci, on va en avoir besoin je le sens ;)  \nsburjan - (18:02): I also get a javascript warning at the bottom with \"Failed:Server not Responding\"  \nsburjan - (18:03): I will investigate this further tomorrow .. and if I can't find the problem, I'll tell you  \ncjdelisle - (18:04): Server not responding errors seem to be pretty common in the tests, I think the reason is because it's loading the next page so quickly that the js doesn't get a chance to be told that the server has saved the page properly.  \nsburjan - (18:05): thought about that too  \nsburjan - (18:05): but I never got console errors  \ncjdelisle - (18:06): yea, console errors sound like a bigger concern.  \nsburjan - (18:06): I have a bad feeling about something  \nsburjan - (18:07): 3 of the ui tests I run fail .. I guess my machine has something  \nsburjan - (18:08): I'll investigate further tomorrow  \ncjdelisle - (18:09): ZeuS!  \nsburjan - (18:09): what ?  \ncjdelisle - (18:09): Trojan that eats your bank infos.  \ncjdelisle - (18:09): Bunch of people behind it got busted a couple weeks back.  \nsburjan - (18:12): never heard of this  \nsburjan left at 18:13 (Quit: Ex-Chat  \nlpereira joined #xwiki at 18:23  \nsburjan` joined #xwiki at 18:53  \nsburjan` - (18:53): back  \nsdumitriu - (18:55): mflorea: ETA?  \nmflorea - (18:56): still working on it :(  \nmflorea - (18:57): I hope to finish this evening.  \nvmassol - (19:00): mflorea: was it my change causing you this overhead (just curious to know and learn for next time)?  \nvmassol - (19:01): (I don't know what you're workng on)  \nvmassol - (19:02): cjdelisle: doing the project.version change  \ncjdelisle - (19:02): Ok. I'm pretty absorbed in attachments.  \nvmassol - (19:02): np  \ncjdelisle - (19:05): Making java fast, hehe it's like souping up a diesel. When you're done you have so much more to be proud of.  \nmflorea - (19:05): vmassol: your change was perfect for internal links/images. The problem is with external links/images (e.g. link to web page, link to email or insert external image). In these cases the editor was expecting the link reference to be exactly the URL, but now it is always a resource reference serialization. So I had to change the editor so that it parses/serializes the resource reference for external links also. I had to do a refactoring so that internal and ext  \nmflorea - (19:08): i.e. the editor was generating <!--startwikilink:mailto:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)> or <!--startwikilink:http://www.xwiki.org-->and not it has to generate a valid resource reference serialization, like it does for internal links.  \nmflorea - (19:08): s/not/now  \nvmassol - (19:08): ok so it was caused by my changes (improved image support)\u2026 sorry for having done that so close to the release  \nmflorea - (19:10): np :) it had to be done. now link support is more generic  \njvdrean1 left at 19:15 (Quit: Leaving.  \nsdumitriu left at 19:29 (Ping timeout: 240 seconds  \nsburjan` - (19:32): I am going to run the ui-tests on another machine .. see if I still get those errors  \nvmassol - (19:47): guys why do we have 2 UserProfileTest in ui-tests?  \nsburjan` - (19:47): yes, I noticed that  \nsburjan` - (19:47): afaik one is for a bug, and the other is for general functionality  \nsburjan` - (19:47): we should rename them, or merge them  \nvmassol - (19:47): well that's not how we split tests  \nvmassol - (19:47): yes  \nlucaa left at 19:48 (Ping timeout: 276 seconds  \nvmassol - (19:48): is the user profile part of the admin app? (need to check)  \nvmassol - (19:48): it is  \nsburjan` - (19:48): I'm running the tests now .. all the ui-tests ... still getting console errors on some of them  \nvmassol - (19:48): so it's the one outside which needs to be moved  \nfmancinelli left at 19:49 (Ping timeout: 265 seconds  \nsburjan` - (19:50): yes, the one from outside is written by me  \nsburjan` - (19:51): my mistake  \nsburjan` - (19:51): sorry  \nvmassol - (19:51): np  \nvmassol - (19:51): maybe you can merge them  \nsburjan` - (19:52): are you going to move them, or should I create a patch ?  \nvmassol - (19:52): and also check why some tests are failing  \nvmassol - (19:52): see http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-ui/61/testReport/  \nsburjan` - (19:52): goingthat right now  \nvmassol - (19:52): (2 tests are failing)  \nvmassol - (19:52): cool  \nsburjan` - (19:53): I am still wondering wht I was getting errors in console today.. and trying them noe on another machine  \nsburjan` - (19:54): untill now, I got some javaNullPointerException on attachments test, and the usage of a deprecated API method on Invitation test  \nsburjan` - (19:56): yes, I got the same 4 fails as hudson  \nsburjan` - (19:56): so my other machine has a problem  \nsburjan` - (19:56): vmassol : tomorrow I'll fix the 2 UserProfiles tests failing, and create a patch  \nsburjan` - (19:56): but where to attach it ?  \nsburjan` - (19:57): I think I will send them to cjdelisle  \nvmassol - (19:58): ok  \nvmassol - (19:59): just ping us here first time since we need to release quickly now  \nvmassol - (19:59): and whoever is avail can apply your patch  \nsburjan` - (20:00): okay  \narkub left at 20:05 (Quit: Leaving  \ncjdelisle - (20:07): jdbc doesn't allow you to stream data out of the db. They have the functions but you need the result set first and that all goes into ram :/  \ncjdelisle - (20:08): With versioning off I can upload 250MB attachments (with -Xmx512m) but I can't download them.  \ncjdelisle - (20:09): The only reason why I can't upload 500 or 800MB attachments is because postgres panics when it gets that big a transaction.  \nsburjan` - (20:10): odd .. i know postgres is much more scalable than mysql  \ncjdelisle - (20:10): mysql would probably crash and burn around 100.  \nsdumitriu joined #xwiki at 20:11  \nsburjan` - (20:11): i guess this happens because we storeattachments as blob, right ?  \ncjdelisle - (20:11): Actually they are just stored as a byte array.  \ncjdelisle - (20:11): I just found some nifty functions for streaming data into arrays.  \ncjdelisle - (20:19): hehehe I wonder how universal the sql substring function is ;)  \nsdumitriu - (20:19): Not at all  \ncjdelisle - (20:22): Hmm. It's kind of a pain to be able to upload more than you can download. The question is do I want to put some horror into the upload code to cause it to blow up so that nobody ends up with a db entry which they can't retrieve?  \ncjdelisle - (20:27): Hmm well the user can still delete the row so I'll just let that be enough I guess.  \nlucaa joined #xwiki at 20:31  \ntmortagne left at 20:37 (Quit: Leaving.  \nfmancinelli joined #xwiki at 20:42  \nlucaa1 joined #xwiki at 20:48  \nlucaa left at 20:48 (Read error: Connection reset by peer  \nevalica1 left at 20:58 (Quit: Leaving.  \nevalica joined #xwiki at 20:58  \nEnygma`1 joined #xwiki at 21:01  \nEnygma` left at 21:01 (Ping timeout: 264 seconds  \njvdrean joined #xwiki at 21:06  \nvmassol - (21:06): the picture column in the user directory seems too large to me  \nvmassol - (21:07): especially if the avatar image is normalized  \nvmassol - (21:07): wdyt?  \nsdumitriu - (21:08): How large is it?  \nsdumitriu - (21:08): It should be 50px  \nvmassol - (21:09): sdumitriu: http://tinycoke.com/\\_6r5DdycdosVrY/screen\\_shot\\_2010-10-12\\_at\\_9.08.53\\_pm.png  \nsdumitriu - (21:10): Oh, the column  \nsdumitriu - (21:10): Yes, it is big  \nvmassol - (21:10): yes  \nEnygma`1 left at 21:10 (Ping timeout: 240 seconds  \nsdumitriu - (21:13): I can easily fix it for most browsers  \nsdumitriu - (21:13): But not for IE6  \nvmassol left at 21:17 (Quit: Leaving.  \njvdrean left at 21:23 (Quit: Leaving.  \nlucaa joined #xwiki at 21:46  \nlucaa1 left at 21:47 (Ping timeout: 245 seconds  \nlucaa1 joined #xwiki at 21:55  \nlucaa left at 21:56 (Ping timeout: 252 seconds  \nbblfish joined #xwiki at 21:57  \nlucaa joined #xwiki at 22:09  \nlucaa1 left at 22:09 (Ping timeout: 264 seconds  \nlpereira left at 22:17 (Quit: Leaving.  \nfmancinelli left at 22:36 (Ping timeout: 250 seconds  \nlucaa left at 22:57 (Ping timeout: 276 seconds  \n\n"}