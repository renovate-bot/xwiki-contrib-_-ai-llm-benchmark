{"id": "dev:IRC.xwikiArchive20140818", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140818", "title": "IRC Archive for channel #xwiki on 18 August 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n09:45\u00a0<Denis>\u00a0has joined #xwiki  \n09:49\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:51\u00a0<DarkKnightCZ>\u00a0vmassol: hi, about PR #304, should i create another PR to fix those issues (plus i guess you should \"fix\" checkstyle definition, since it was built without any problem)  \n09:52\u00a0<vmassol>\u00a0DarkKnightCZ: hi, give me a few minutes to finish read emails from my inbox and then I'll check your PR  \n09:52\u00a0<DarkKnightCZ>\u00a0yup  \n09:54\u00a0<vmassol>\u00a0Enygma`: good morning  \n09:54\u00a0<vmassol>\u00a0I think the rendering module fails to load because of the new velocity tool you added (cookietool), could you look at it? http://ci.xwiki.org/job/xwiki-rendering/1823/org.xwiki.rendering$xwiki-rendering-syntax-event/testReport/simple\\_bold\\_bold1%20[event\\_1.0,%20OUT\\_.out.txt,%20CTS\\_.inout/xml]/simple\\_bold\\_bold1\\_\\_event\\_1\\_0\\_\\_OUT\\_\\_out\\_txt\\_\\_CTS\\_\\_inout\\_xml\\_/  \n09:55\u00a0<vmassol>\u00a0the pity is that it seems it introduces a dep on servlet and we don't really want that in commons  \n09:55\u00a0<vmassol>\u00a0(it should be possible to execute our velocity code in any env when used outside of xwiki)  \n09:56\u00a0<vmassol>\u00a0add a dep marked <optional>true should work though  \n09:56\u00a0<vmassol>\u00a0s/add/adding  \n09:57\u00a0<vmassol>\u00a0or just <provided> actually  \n10:03\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:11\u00a0<Enygma`>\u00a0Hi vmassol. Was not expecting you `till the 21st :)  \n10:13\u00a0<Enygma`>\u00a0if we have a problem, then it was introduced by velocity-tools  \n10:14\u00a0<Enygma`>\u00a0and it was existing before as well, just that it was masked by the old incomplete velocity-tools 1.4 pom http://repo1.maven.org/maven2/velocity-tools/velocity-tools/1.4/velocity-tools-1.4.pom  \n10:15\u00a0<vmassol>\u00a0Enygma`: yep, I downsized my holidays :)  \n10:15\u00a0<Enygma`>\u00a0the new pom for the 2.0 velocity-tools properly lists the dependencies http://repo1.maven.org/maven2/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.pom  \n10:45\u00a0<vmassol>\u00a0DarkKnightCZ: you have a link to your PR?  \n10:46\u00a0<vmassol>\u00a0(can't find it on https://github.com/xwiki/xwiki-platform/pulls )  \n10:46\u00a0<vmassol>\u00a0ok got it  \n10:46\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/pull/304  \n10:46\u00a0<vmassol>\u00a0it's closed  \n10:47\u00a0<vmassol>\u00a0ok I rememnernow  \n10:47\u00a0<vmassol>\u00a0I did some comments  \n10:48\u00a0<vmassol>\u00a0DarkKnightCZ: yes another PR would be awesome (or reopen this one if you can)  \n10:48\u00a0<vmassol>\u00a0thanks!  \n10:48\u00a0<vmassol>\u00a0:)  \n10:50\u00a0<DarkKnightCZ>\u00a0vmassol: ok, great... how about that bracket thing? i'm using checkstyle plugin in eclipse and it didn't notify me about that... also xwiki-platform was built without problem  \n10:50\u00a0<vmassol>\u00a0maybe it needs to be updated but that's very strange  \n10:51\u00a0<vmassol>\u00a0you're using the definitino from here:  \n10:51\u00a0<DarkKnightCZ>\u00a0oh and should i set that version to 6.2M2 since the internal change? (RenderingCacheAware)  \n10:51\u00a0<vmassol>\u00a0http://dev.xwiki.org/xwiki/bin/view/Community/JavaCodeStyle#HEclipse3.x  \n10:51\u00a0<vmassol>\u00a0?  \n10:51\u00a0<vmassol>\u00a0DarkKnightCZ: you should put the right value for @since, I don't know which one it is  \n10:52\u00a0<vmassol>\u00a0but AFAIR the merge was done after 6.2M1 was released no?  \n10:57\u00a0<abusenius>\u00a0has quit  \n11:14\u00a0<Enygma`>\u00a0vmassol: I`m wondering: at which level should I put servlet-api as provided to fix the rendering issue?  \n11:16\u00a0<Enygma`>\u00a0basically, I would now have to have it set as a dependency in each module that is using (directly or indirectly) xwiki-commons-velocity as a dependency...  \n11:17\u00a0<vfzevaze>\u00a0has joined #xwiki  \n11:25\u00a0<Enygma`>\u00a0brb, lunch  \n11:40\u00a0<DarkKnightCZ>\u00a0vmassol: yup, it was before M1, but since i will move RenderingCacheAware outside internal package, i will put there M2  \n11:49\u00a0<DarkKnightCZ>\u00a0and the formatter is formatting it correctly, but checkstyle is not checking for it  \n11:58\u00a0<Slashman>\u00a0has joined #xwiki  \n12:10\u00a0<andreeapopescu>\u00a0has quit  \n12:26\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n12:30\u00a0<vmassol>\u00a0DarkKnightCZ: ok  \n12:33\u00a0<DarkKnightCZ>\u00a0vmassol: https://github.com/DarkKnightCZ/xwiki-platform/commit/20f984e0c29f3cf8d9eb07e69adba7f1da2a6a18 , is it ok? I had to create new package com.xpn.xwiki.cache.rendering since there was no existing non-internal one  \n12:35\u00a0<vmassol>\u00a0good question, I can't answer right now, I need to look at the code and think a bit about it. I'm just back from holidays and I'm catching up with emails right now :) Will try to catch up with your PR or Thomas will when he's back next week (he's on holidays ATM). Thanks again  \n12:35\u00a0<vmassol>\u00a0you can leave it as you did for now  \n12:36\u00a0<DarkKnightCZ>\u00a0ok great... i will create new PR from it, so it can be merged even if i'm not available  \n12:36\u00a0<vmassol>\u00a0ok good  \n12:39\u00a0<Lyes1>\u00a0has joined #xwiki  \n13:06\u00a0<abusenius>\u00a0has joined #xwiki  \n13:07\u00a0<Denis>\u00a0has quit  \n13:08\u00a0<Denis>\u00a0has joined #xwiki  \n13:15\u00a0<Slashman>\u00a0has quit  \n13:26\u00a0<andreeapopescu>\u00a0has quit  \n13:30\u00a0<Slashman>\u00a0has joined #xwiki  \n13:30\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n13:34\u00a0<Enygma`>\u00a0has quit  \n13:38\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:47\u00a0<Denis>\u00a0has quit  \n13:57\u00a0<vmassol>\u00a0DarkKnightCZ: I'm checking your RenderingCacheAware interface  \n13:57\u00a0<vmassol>\u00a0I don't understand why it has a @Role  \n13:58\u00a0<vmassol>\u00a0I've checked all implementations and none of them are components apparently  \n13:58\u00a0<vmassol>\u00a0ah my bad, they're just missing @Component annotations I think, checking again  \n13:59\u00a0<vmassol>\u00a0hmm no  \n13:59\u00a0<vmassol>\u00a0seems there's no component implementing it  \n14:02\u00a0<Slashman\\_>\u00a0has joined #xwiki  \n14:04\u00a0<Slashman>\u00a0has quit  \n14:08\u00a0<DarkKnightCZ>\u00a0vmassol: yep, there is no component implementing it... it was tmortagne's request -> if skin extensions are finally rewritten, there is no need of rewriting this again (also, if someone creates component, which should be aware of caching, it can implement it)  \n14:11\u00a0<vmassol>\u00a0note that CachedItem needs to be public too  \n14:12\u00a0<vmassol>\u00a0I find it slightly strange that getCacheResources returns CachedItem.UsedExtension too  \n14:12\u00a0<vmassol>\u00a0shouldn't CachedItem be some impl detail not public?  \n14:13\u00a0<vmassol>\u00a0let me read the full patch, I didn't follow, thomas did that  \n14:14\u00a0<DarkKnightCZ>\u00a0yup  \n14:20\u00a0<andreeapopescu>\u00a0has left #xwiki  \n14:42\u00a0<Denis>\u00a0has joined #xwiki  \n15:01\u00a0<msmeria>\u00a0has quit  \n15:37\u00a0<cjd>\u00a0has joined #xwiki  \n16:10\u00a0<DuFFo\\_>\u00a0has joined #xwiki  \n16:11\u00a0<gdelhumeau>\u00a0has quit  \n16:11\u00a0<DuFFo>\u00a0has quit  \n16:11\u00a0<sdumitriu1>\u00a0has quit  \n16:12\u00a0<DuFFo\\_>\u00a0is now known as <DuFFo>  \n16:14\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:17\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:18\u00a0<sburjan>\u00a0has quit  \n16:30\u00a0<vfzevaze>\u00a0has left #xwiki  \n16:36\u00a0<ClemensR>\u00a0has left #xwiki  \n16:42\u00a0<DarkKnightCZ>\u00a0has quit  \n17:08\u00a0<woshilapin>\u00a0Hi xwikiers,  \n17:08\u00a0<woshilapin>\u00a0I'm trying to set up a Tomcat serving 2 instances of XWiki  \n17:08\u00a0<woshilapin>\u00a0But it seems that I have problem with Solr  \n17:09\u00a0<woshilapin>\u00a0The first instance is starting well (located in /appli/ecr)  \n17:09\u00a0<woshilapin>\u00a0correction: in /appli/prj\\*  \n17:09\u00a0<woshilapin>\u00a0But the second (in /appli/ecr/) breaks  \n17:09\u00a0<woshilapin>\u00a0And Solr seems to try to use /appli/prj instead of /appli/ecr  \n17:10\u00a0<woshilapin>\u00a0(just to know, /appli/prj/xwiki and /appli/ecr/xwiki are my two XWiki WAR unzipped)  \n17:10\u00a0<woshilapin>\u00a0See this for the log of Tomcat  \n17:10\u00a0<woshilapin>\u00a0https://ezcrypt.it/Cq9n#8suO3DJPgGJJVUwRQhuMEhF2  \n17:10\u00a0<woshilapin>\u00a0Any idea?  \n17:11\u00a0<woshilapin>\u00a0I don't know how Solr works but because of this line  \n17:12\u00a0<woshilapin>\u00a02014-08-18 16:40:50,611 [coreLoadExecutor-4-thread-1] ERROR o.a.s.c.CoreContainer \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Unable to create core: xwiki  \n17:12\u00a0<woshilapin>\u00a0I made the supposition that for running an instance of Solr, a keyname/namespace (call it what you want) must be given  \n17:12\u00a0<woshilapin>\u00a0In this case, 'xwiki'  \n17:13\u00a0<woshilapin>\u00a0So unable to create it a second time  \n17:13\u00a0<woshilapin>\u00a0Am I on the right way?  \n17:13\u00a0<woshilapin>\u00a0And how can I manage this problem?  \n17:18\u00a0<cjd>\u00a0has quit  \n17:38\u00a0<Enygma`>\u00a0has quit  \n17:52\u00a0<Lyes2>\u00a0has joined #xwiki  \n17:54\u00a0<Lyes1>\u00a0has quit  \n18:03\u00a0<mflorea>\u00a0has quit  \n18:03\u00a0<woshilapin>\u00a0has quit  \n18:15\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n18:43\u00a0<sdumitriu2>\u00a0has quit  \n18:44\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n18:50\u00a0<Lyes2>\u00a0has quit  \n19:01\u00a0<sdumitriu2>\u00a0has quit  \n19:02\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n19:18\u00a0<vmassol>\u00a0has quit  \n19:19\u00a0<sdumitriu2>\u00a0has quit  \n19:20\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n19:25\u00a0<Slashman\\_>\u00a0has quit  \n19:25\u00a0<vmassol>\u00a0has joined #xwiki  \n19:43\u00a0<vmassol>\u00a0has quit  \n19:44\u00a0<gdelhumeau>\u00a0has quit  \n19:44\u00a0<sdumitriu2>\u00a0has quit  \n19:46\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n19:47\u00a0<mflorea>\u00a0has joined #xwiki  \n19:50\u00a0<vmassol>\u00a0has joined #xwiki  \n19:50\u00a0<sdumitriu2>\u00a0has quit  \n19:51\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n20:07\u00a0<vmassol>\u00a0has quit  \n20:07\u00a0<sdumitriu2>\u00a0has quit  \n20:09\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n20:33\u00a0<sdumitriu>\u00a0has quit  \n20:34\u00a0<sdumitriu2>\u00a0has quit  \n20:37\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:54\u00a0<OSIMasson>\u00a0has joined #xwiki  \n21:00\u00a0<vmassol>\u00a0has joined #xwiki  \n21:10\u00a0<vmassol>\u00a0has quit  \n21:13\u00a0<vmassol>\u00a0has joined #xwiki  \n21:24\u00a0<vmassol>\u00a0has quit  \n21:36\u00a0<sburjan>\u00a0has joined #xwiki  \n21:39\u00a0<vmassol>\u00a0has joined #xwiki  \n21:56\u00a0<evalica1>\u00a0has joined #xwiki  \n21:58\u00a0<evalica>\u00a0has quit  \n22:17\u00a0<polx>\u00a0has joined #xwiki  \n22:22\u00a0<polx>\u00a0has quit  \n22:23\u00a0<Lyes>\u00a0has joined #xwiki  \n23:13\u00a0<mflorea>\u00a0has quit  \n23:26\u00a0<Lyes>\u00a0has quit  \n23:45\u00a0<OSIMasson>\u00a0has left #xwiki\n"}