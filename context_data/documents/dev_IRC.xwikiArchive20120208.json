{"id": "dev:IRC.xwikiArchive20120208", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120208", "title": "IRC Archive for channel #xwiki on 08 February 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:18\u00a0<lucaa>\u00a0has joined #xwiki  \n00:22\u00a0<jvdrean>\u00a0has quit  \n00:34\u00a0<fmancinelli>\u00a0has quit  \n00:51\u00a0<lucaa>\u00a0has quit  \n02:06\u00a0<CIA-120>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r7a03241\u000f https://github.com/xwiki/xwiki-platform/commit/7a0324171b101daf6472eb1825a1947bf604d284 \u000f/ (3 files in 3 dirs):\u000f XWIKI-6691: Change the mapping of the event requestId field to varchar(48) ...  \n02:41\u00a0<DrLou\\_>\u00a0has quit  \n02:48\u00a0<tekzilla>\u00a0has quit  \n02:49\u00a0<tekzilla>\u00a0has joined #xwiki  \n02:55\u00a0<CIA-120>\u00a0has quit  \n02:57\u00a0<CIA-120>\u00a0has joined #xwiki  \n03:10\u00a0<pgmjsd>\u00a0has quit  \n03:10\u00a0<xipe\\_>\u00a0has quit  \n03:10\u00a0<CIA-120>\u00a0has quit  \n03:10\u00a0<kayasaman>\u00a0has quit  \n03:10\u00a0<npm>\u00a0has quit  \n03:10\u00a0<tekzilla>\u00a0has quit  \n03:10\u00a0<sdumitriu>\u00a0has quit  \n03:10\u00a0<Denis1>\u00a0has quit  \n03:10\u00a0<recompile>\u00a0has quit  \n03:10\u00a0<SvenDowideit>\u00a0has quit  \n03:10\u00a0<cjd>\u00a0has quit  \n03:11\u00a0<CIA-120>\u00a0has joined #xwiki  \n03:11\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:11\u00a0<pgmjsd>\u00a0has joined #xwiki  \n03:11\u00a0<sdumitriu>\u00a0has joined #xwiki  \n03:11\u00a0<kayasaman>\u00a0has joined #xwiki  \n03:11\u00a0<Denis1>\u00a0has joined #xwiki  \n03:11\u00a0<recompile>\u00a0has joined #xwiki  \n03:11\u00a0<cjd>\u00a0has joined #xwiki  \n03:11\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n03:11\u00a0<npm>\u00a0has joined #xwiki  \n03:11\u00a0<xipe\\_>\u00a0has joined #xwiki  \n03:14\u00a0<xipe\\_>\u00a0has quit  \n03:15\u00a0<xipe\\_>\u00a0has joined #xwiki  \n03:16\u00a0<pgmjsd>\u00a0has quit  \n03:17\u00a0<pgmjsd>\u00a0has joined #xwiki  \n04:47\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n05:11\u00a0<DrLou\\_>\u00a0has quit  \n05:59\u00a0<Denis1>\u00a0has quit  \n06:00\u00a0<Denis>\u00a0has joined #xwiki  \n08:06\u00a0<vmassol>\u00a0has joined #xwiki  \n08:15\u00a0<mflorea>\u00a0has joined #xwiki  \n08:15\u00a0<vmassol>\u00a0sdumitriu: hi  \n08:16\u00a0<vmassol>\u00a0I didn't see your commit on the list for the 2 jira issues you fixed related to indexes  \n08:16\u00a0<vmassol>\u00a0checking github now  \n08:16\u00a0<vmassol>\u00a0it's on github alright  \n08:17\u00a0<vmassol>\u00a0strange that we didn't get mail  \n08:17\u00a0<vmassol>\u00a0s/we/I/  \n08:17\u00a0<vmassol>\u00a0checking spam  \n08:18\u00a0<vmassol>\u00a0note: we'll need to add this to the Release Notes. Might be good to add it asap to not forget it  \n08:19\u00a0<vmassol>\u00a0hmm I don't see any change in the feed plugin mapping file is that normal?  \n08:19\u00a0<vmassol>\u00a0looking at https://github.com/xwiki/xwiki-platform/commit/7a0324171b101daf6472eb1825a1947bf604d284  \n08:20\u00a0<vmassol>\u00a0ah you've committed the AS change only :)  \n08:21\u00a0<vmassol>\u00a0(was tricked by the 2 jira issues)  \n08:52\u00a0<mflorea>\u00a0has quit  \n09:07\u00a0<vmassol>\u00a0has quit  \n09:11\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:11\u00a0<vmassol>\u00a0has joined #xwiki  \n09:20\u00a0<vmassol>\u00a0has quit  \n09:53\u00a0<vmassol>\u00a0has joined #xwiki  \n09:54\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:55\u00a0<jvdrean>\u00a0has quit  \n10:15\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:15\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:25\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:32\u00a0<qwebirc61499>\u00a0has joined #xwiki  \n10:37\u00a0<qwebirc61499>\u00a0Hi guys, do you know how to filter the spaces shown in the search page to those that are actually visible by the user? (actually any user sees in the dropdown other spaces, but he won't get any result for them since he's not allowed to see them)  \n10:38\u00a0<vmassol>\u00a0has quit  \n10:40\u00a0<qwebirc61499>\u00a0e.g. even your website shows all the spaces available, but there's no reason why I should search in a space that I cannot access..  \n11:10\u00a0<sburjan>\u00a0has joined #xwiki  \n11:18\u00a0<+tmortagne>\u00a0qwebirc61499: users will not get pages they can't see in the result  \n11:19\u00a0<+tmortagne>\u00a0as for the list of spaces to search in indeed it's not filtered because anyone can actually see the list  \n11:19\u00a0<+tmortagne>\u00a0there is a list of hidden spaces you can fill but it's exactly what you wanted  \n11:20\u00a0<+tmortagne>\u00a0xwiki.org used to filter the list of spaces to search to (but not based on the current user rights), probably broken by the last upgrade, I will look  \n11:21\u00a0<gdelhumeau>\u00a0has quit  \n11:22\u00a0<+tmortagne>\u00a0looks like $blacklistedSpaces is empty  \n11:23\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:24\u00a0<+tmortagne>\u00a0ha no that's because i'm admin I guess  \n11:24\u00a0<+tmortagne>\u00a0yep that's it some spaces are filtered  \n11:25\u00a0<gdelhumeau>\u00a0has quit  \n11:26\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n11:26\u00a0<qwebirc61499>\u00a0thanks +tmortagne,  \n11:26\u00a0<qwebirc61499>\u00a0i cannot go for the blacklisted solution, since it may vary user by user  \n11:26\u00a0<+tmortagne>\u00a0yep I guess  \n11:27\u00a0<qwebirc61499>\u00a0I'll add a check on user rights  \n11:28\u00a0<qwebirc61499>\u00a0something like #set($currentuser = $context.user) $xwiki.hasAccessLevel('edit', $currentuser, $givenspace)  \n11:28\u00a0<+tmortagne>\u00a0either you provide a general allowed list of space in xwikivars.vm like it's done for blacklistedSpaces or you specifically modify search page, note that checking the right for every spaces can be pretty costy  \n11:28\u00a0<+tmortagne>\u00a0hasAccessLevel only works with pages so you have to choose a page in the space to check  \n11:28\u00a0<+tmortagne>\u00a0wht edit ?  \n11:28\u00a0<+tmortagne>\u00a0swhy  \n11:29\u00a0<+tmortagne>\u00a0why  \n11:29\u00a0<+tmortagne>\u00a0shouldn't you check the view right ?  \n11:29\u00a0<+tmortagne>\u00a0unless you have a specific use case  \n11:29\u00a0<qwebirc61499>\u00a0\"view\", I just copied an example of a page.. and modified  \n11:29\u00a0<+tmortagne>\u00a0ok  \n11:29\u00a0<qwebirc61499>\u00a0my bad  \n11:30\u00a0<+tmortagne>\u00a0and make sure to put a page too, best is to check on a page that does not exist  \n11:30\u00a0<+tmortagne>\u00a0or any page that does not have special right basically  \n11:31\u00a0<+tmortagne>\u00a0so that you get whole space rights  \n11:31\u00a0<qwebirc61499>\u00a0nice!  \n11:32\u00a0<+tmortagne>\u00a0$xwiki.hasAccessLevel('edit', $currentuser, \"${givenspace}.SomePage\")  \n11:32\u00a0<+tmortagne>\u00a0view sorry, did the same thing :)  \n11:35\u00a0<qwebirc61499>\u00a0thanks, I'll go for that one, have a nice day ;)  \n11:35\u00a0<+tmortagne>\u00a0qwebirc61499: you too  \n11:58\u00a0<qwebirc61499>\u00a0has quit  \n13:42\u00a0<DrLou>\u00a0has joined #xwiki  \n14:07\u00a0<vmassol>\u00a0has joined #xwiki  \n15:19\u00a0<vmassol>\u00a0gdelhumeau: wrong extension type  \n15:23\u00a0<vmassol>\u00a0- title to improve  \n15:23\u00a0<vmassol>\u00a0- broken link  \n15:23\u00a0<vmassol>\u00a0- missing description or wrong headings levels  \n15:25\u00a0<gdelhumeau>\u00a0vmassol> are you talking to me ?  \n15:25\u00a0<vmassol>\u00a0yep :)  \n15:25\u00a0<vmassol>\u00a0see above at 3:20  \n15:32\u00a0<vmassol>\u00a0gdelhumeau: let me know when you're done and I can fix the rest if you want  \n15:39\u00a0<gdelhumeau>\u00a0It's ok  \n15:39\u00a0<vmassol>\u00a0ok fixing:  \n15:39\u00a0<vmassol>\u00a0- type  \n15:39\u00a0<vmassol>\u00a0- title  \n15:39\u00a0<vmassol>\u00a0- headings  \n15:40\u00a0<gdelhumeau>\u00a0Type should be \"xar\" I guess  \n15:41\u00a0<vmassol>\u00a0- fixing {{code}} - replaced by ##  \n15:43\u00a0<vmassol>\u00a0gdelhumeau: note that you could/should add a dependency on the Excel Plugin too  \n15:43\u00a0<vmassol>\u00a0so that the EM automatically installs it  \n15:46\u00a0<gdelhumeau>\u00a0I forget to mention that it's based on http://jira.xwiki.org/browse/XWIKI-5458  \n15:46\u00a0<gdelhumeau>\u00a0I wrote it inside the XAR but not in this page  \n15:46\u00a0<vmassol>\u00a0tmortagne: I think we need some help so that users understand how to add Dependencies  \n15:47\u00a0<vmassol>\u00a0of course a full UI would be best but maybe some comments while we wait for the full UI...  \n15:47\u00a0<+tmortagne>\u00a0vmassol: isn't there comment already ? or maybe it's only for versions  \n15:47\u00a0<vmassol>\u00a0I only put for versions  \n15:48\u00a0<+tmortagne>\u00a0ok  \n15:48\u00a0<vmassol>\u00a0unless you added for dep  \n15:48\u00a0<+tmortagne>\u00a0nop  \n15:52\u00a0<+tmortagne>\u00a0XWIKI-7501  \n15:53\u00a0<+tmortagne>\u00a0finsissing something and will add a comment in the meantime  \n15:53\u00a0<vmassol>\u00a0k  \n15:59\u00a0<gdelhumeau>\u00a0how dependencies work? I have put a ExtensionCode.ExtensionDependencyClass object, but what sould I write into it?  \n15:59\u00a0<gdelhumeau>\u00a0\\*should  \n16:01\u00a0<+tmortagne>\u00a0gdelhumeau: you have 3 fields in it  \n16:01\u00a0<+tmortagne>\u00a0the version of the extensions the dependency is linked to  \n16:01\u00a0<+tmortagne>\u00a0then the id and version of the dependency itself  \n16:02\u00a0<+sburjan>\u00a0what is happening on CI ? I see a ton of failures ?  \n16:02\u00a0<+sburjan>\u00a0I wanted to see if we still have the \"Stay on Page\" \"Leave Page\" issue on FF, so I know if still needs to be reported  \n16:03\u00a0<+tmortagne>\u00a0looks like an issue with migration of the DB  \n16:04\u00a0<+tmortagne>\u00a0Denis: any idea ? see http://ci.xwiki.org/job/xwiki-enterprise-test-cluster/org.xwiki.enterprise$xwiki-enterprise-test-cluster/954/console  \n16:04\u00a0<+tmortagne>\u00a0many \"Caused by: com.xpn.xwiki.store.migration.MigrationRequiredException: Database xwiki needs migration(s), it could not be safely used!\"  \n16:05\u00a0<gdelhumeau>\u00a0tmortagne> but what is the id of the dependency ? I am looking at \"Excel Plugin\", the \"id\" field of the extension is empty. Should I change it?  \n16:06\u00a0<+tmortagne>\u00a0gdelhumeau: extension manager require an id if you don't set one the extension will not be installable with EM but one is supposed to be automatically generated for you so it's weird you have nothing  \n16:06\u00a0<+tmortagne>\u00a0checking  \n16:06\u00a0<+tmortagne>\u00a0gdelhumeau: you do have an id  \n16:07\u00a0<+tmortagne>\u00a0it's not empty for me  \n16:07\u00a0<+tmortagne>\u00a0it's \"gdelhumeau:livetableexcelexport-macro\"  \n16:07\u00a0<+tmortagne>\u00a0what is the dependency ?  \n16:07\u00a0<+tmortagne>\u00a0I mean where is it ? on extensions.xwiki.org ?  \n16:08\u00a0<gdelhumeau>\u00a0http://extensions.xwiki.org/xwiki/bin/edit/Extension/Excel+Plugin?editor=object  \n16:08\u00a0<gdelhumeau>\u00a0this one is empty  \n16:08\u00a0<+tmortagne>\u00a0if you want to set http://extensions.xwiki.org/xwiki/bin/view/Extension/Excel+Plugin as dependency you have to make it installable with EM first which is not  \n16:08\u00a0<+tmortagne>\u00a0if EM can't install one of the dependencies it will not install the extension  \n16:09\u00a0<gdelhumeau>\u00a0Ok, so I don't have to add a dependency for my extension  \n16:09\u00a0<+tmortagne>\u00a0not sure why this extension has no id, it mean that sometone explicitely removed it  \n16:09\u00a0<gdelhumeau>\u00a0I just explain it on the extension description  \n16:09\u00a0<+tmortagne>\u00a0well it's better if sometone have it fully working when installing it with EM  \n16:10\u00a0<+tmortagne>\u00a0you could make fix the extension dependency so that it's installable  \n16:10\u00a0<+tmortagne>\u00a0now if it's a realy plugin EM not fully support them anyway  \n16:12\u00a0<gdelhumeau>\u00a0tmortagne> Excel plugin needs some JAR to be installed, so I guess it can not be installable with EM  \n16:12\u00a0<+tmortagne>\u00a0ok I remember why it does not have id, I wanted to put the proper one but the source link was wrong  \n16:12\u00a0<+tmortagne>\u00a0gdelhumeau: EM support any jar or xar  \n16:12\u00a0<+tmortagne>\u00a0it's just that plugin require something in xwiki.cfg to work  \n16:13\u00a0<vmassol>\u00a0errrrrr 3.5M1 was supposed to be released yesterday  \n16:14\u00a0<+tmortagne>\u00a0github seems down or at least very very slow  \n16:14\u00a0<vmassol>\u00a0who's the RM? Marius?  \n16:14\u00a0<+tmortagne>\u00a0from what I remember it's Marius I think  \n16:15\u00a0<vmassol>\u00a0pinging him  \n16:15\u00a0<vmassol>\u00a0we're very late  \n16:15\u00a0<vmassol>\u00a0since RC1 is next Monday  \n16:15\u00a0<+tmortagne>\u00a0does anyone has the slow issue with github ?  \n16:15\u00a0<vmassol>\u00a0web ui?  \n16:15\u00a0<+tmortagne>\u00a0it's pretty much unusable for me right now  \n16:15\u00a0<+tmortagne>\u00a0yes the website  \n16:16\u00a0<vmassol>\u00a0same here  \n16:18\u00a0<+tmortagne>\u00a0ssh access dead too it seems  \n16:18\u00a0<+tmortagne>\u00a0ssh: connect to host github.com port 22: Connection refused  \n16:18\u00a0<+tmortagne>\u00a0fatal: The remote end hung up unexpectedly  \n16:18\u00a0<+tmortagne>\u00a0so not git  \n16:19\u00a0<vmassol>\u00a0it's really a pain now rebuild all commons/rendering/platform/enterprise\u2026 takes forever, I need to find a better way to rebuild only modules which have had changes locally  \n16:19\u00a0<+tmortagne>\u00a0vmassol: isn't there something in maven3 to build only backward dependencies ?  \n16:19\u00a0<vmassol>\u00a0there is  \n16:20\u00a0<vmassol>\u00a0but ti doesn't skip modules which have had no changes  \n16:20\u00a0<vmassol>\u00a0so it you wish to build XE you'll need to build everuything with backward deps  \n16:20\u00a0<vmassol>\u00a0(close to everything)  \n16:20\u00a0<vmassol>\u00a0I need to check the options again  \n16:21\u00a0<+tmortagne>\u00a0sure but if you modify a dependency you have to rebuild the project  \n16:21\u00a0<+tmortagne>\u00a0since the modifcation you made to the dependency could change the project behavior and break some test or something  \n16:21\u00a0<vmassol>\u00a0the jar is the same  \n16:22\u00a0<vmassol>\u00a0the transitive deps could change though  \n16:22\u00a0<vmassol>\u00a0but the jar doesn't need to be recompiled  \n16:22\u00a0<vmassol>\u00a0but yes  \n16:22\u00a0<vmassol>\u00a0if you wish to run the tests  \n16:22\u00a0<vmassol>\u00a0you' ll need to build it  \n16:22\u00a0<gdelhumeau>\u00a0GitHub is own for maintenance  \n16:22\u00a0<+tmortagne>\u00a0actually if you made a binary icompatible change the project need to be rebuilded  \n16:23\u00a0<vmassol>\u00a0basically I'm stuck with my current changes  \n16:23\u00a0<vmassol>\u00a0:(  \n16:23\u00a0<vmassol>\u00a0(on environment)  \n16:23\u00a0<vmassol>\u00a0so takes several hours just to build and verify everything works  \n16:23\u00a0<+tmortagne>\u00a0github seems back  \n16:37\u00a0<vmassol>\u00a0guys we need to decide what to do for the 3.5 release  \n16:38\u00a0<vmassol>\u00a0Marius had a window on last Monday but there were test failures and he didn't have the time to fix anything and then he was busy on other stuff  \n16:43\u00a0<interestedOne>\u00a0has joined #xwiki  \n16:45\u00a0<interestedOne>\u00a0hello there! I'm using XWiki Enterprise 3.3.1 and I'm trying to configure the email SMTP client. I didn't succeed in sending emails, can someone help me out?  \n16:45\u00a0<interestedOne>\u00a0I configured the Email part in administration according to the instructions I found on Xwiki's documentation. My account is a Gmail account.  \n16:58\u00a0<+sburjan>\u00a0interestedOne: has you configured xwiki to use SSL from the \"ADDITIONAL JavaMail Proprieties\" text area ?  \n16:59\u00a0<vmassol>\u00a0Denis: I cannot start XE, I get \"Database xwiki needs migration(s), it could not be safely used!\"  \n17:00\u00a0<vmassol>\u00a0are migrations not activated by default?  \n17:00\u00a0<vmassol>\u00a0cehcking...  \n17:00\u00a0<+sburjan>\u00a0afaik sdumitriu committed recently a migrator  \n17:00\u00a0<vmassol>\u00a0yes  \n17:00\u00a0<vmassol>\u00a0and he hasn't tried it  \n17:01\u00a0<vmassol>\u00a0or I don't know why his XE worked :))  \n17:01\u00a0<+sburjan>\u00a0:))  \n17:02\u00a0<vmassol>\u00a0xwiki.store.migration=1  \n17:02\u00a0<vmassol>\u00a0so it's enabled by default  \n17:02\u00a0<vmassol>\u00a0hmmm  \n17:04\u00a0<vmassol>\u00a0quoi que je pourrais  \n17:04\u00a0<vmassol>\u00a0en throwant une servletexception  \n17:04\u00a0<vmassol>\u00a0cela empecherait l'appli d'etre dispo  \n17:05\u00a0<vmassol>\u00a0oops  \n17:05\u00a0<vmassol>\u00a0wrong chat  \n17:05\u00a0<+sburjan>\u00a0:)  \n17:05\u00a0<vmassol>\u00a02012-02-08 16:59:19,131 [http://localhost:8080/xwiki/bin/view/IRC/IRCBot] WARN \u00a0o.h.u.JDBCExceptionReporter \u00a0\u00a0\u00a0- SQL Error: 0, SQLState: null  \n17:05\u00a0<vmassol>\u00a02012-02-08 16:59:19,131 [http://localhost:8080/xwiki/bin/view/IRC/IRCBot] ERROR o.h.u.JDBCExceptionReporter \u00a0\u00a0\u00a0- failed batch  \n17:05\u00a0<vmassol>\u00a02012-02-08 16:59:19,150 [http://localhost:8080/xwiki/bin/view/IRC/IRCBot] INFO \u00a0.HibernateDataMigrationManager - Failed to migrate database [xwiki]...  \n17:05\u00a0<vmassol>\u00a0com.xpn.xwiki.store.migration.DataMigrationException: Data migration R35000XWIKI6691 failed  \n17:05\u00a0<vmassol>\u00a0so the migration is started  \n17:05\u00a0<vmassol>\u00a0but fails  \n17:05\u00a0<vmassol>\u00a0so it's a bug in sdumitriu code I think  \n17:09\u00a0<+sburjan>\u00a0session.doWork(new Work() this looks odd to me, no closing paranthesis ?  \n17:12\u00a0<+sburjan>\u00a0https://github.com/xwiki/xwiki-platform/commit/7a0324171b101daf6472eb1825a1947bf604d284  \n17:14\u00a0<vmassol>\u00a0guys we need to decide what we do for the 3.5 release  \n17:14\u00a0<vmassol>\u00a0several possibilities:  \n17:15\u00a0<vmassol>\u00a01) release today or tomorrow (who can do it?) and do the RC1 Monday as planned  \n17:15\u00a0<vmassol>\u00a02) skip the M1 release and release RC1 Monday as planned (Marius can do the release)  \n17:15\u00a0<vmassol>\u00a03) postpone everything  \n17:15\u00a0<vmassol>\u00a0I don't like 3)  \n17:15\u00a0<vmassol>\u00a0since we need to get started on 4.0M1  \n17:17\u00a0<vmassol>\u00a0any take on this? I'll send a vote after  \n17:17\u00a0<vmassol>\u00a0I think 2) is not ideal but best given the situation  \n17:17\u00a0<+tmortagne>\u00a0I will not be available friday and not 100% sure we will manage to be fully ready to release tomorrow given the current state of jenkins  \n17:17\u00a0<+sburjan>\u00a0vmassol: Marius won't be available on Monday. We're in transit  \n17:17\u00a0<+tmortagne>\u00a0I guess 2 is ok  \n17:18\u00a0<vmassol>\u00a0Marius told me he can do Friday  \n17:18\u00a0<vmassol>\u00a0so Friday or Tuesday I guess  \n17:18\u00a0<vmassol>\u00a0that doesn't change the possibitiies I think  \n17:18\u00a0<vmassol>\u00a0anyone else ok with 2)?  \n17:19\u00a0<vmassol>\u00a0I'm slighty worried by sergiu's change of yesterday which could cause issues  \n17:19\u00a0<vmassol>\u00a0and by the one I'm going to commit  \n17:19\u00a0<vmassol>\u00a0I could hold my commit for 4.0M1 though if we think it's too dangerous  \n17:19\u00a0<+tmortagne>\u00a0what was the need for a new migrator ?  \n17:20\u00a0<vmassol>\u00a0note that skipping M1 means renaming all @since 3.5M1 to @since 3.5RC1  \n17:20\u00a0<vmassol>\u00a0tmortagne: sergiu changed the size of a DB field  \n17:20\u00a0<vmassol>\u00a0so that it can b automatically indexed  \n17:20\u00a0<+tmortagne>\u00a0ok  \n17:20\u00a0<vmassol>\u00a0it was of type text which cannot be indexed since it's over 255 chars for Mysql  \n17:20\u00a0<vmassol>\u00a0it can be but manually  \n17:20\u00a0<vmassol>\u00a0using a mysql syntax that says to index only the first 255 charsq  \n17:21\u00a0<+tmortagne>\u00a0hmm hope it does not mean we are going to break some stuff that was too big and used to work  \n17:21\u00a0<vmassol>\u00a0but hibernate doesn't support this  \n17:21\u00a0<vmassol>\u00a0probably, I don't know sergiu's migrator code but it probably truncates data  \n17:21\u00a0<+tmortagne>\u00a0it does not have much choice  \n17:21\u00a0<+tmortagne>\u00a0you remember which field it was about ?  \n17:21\u00a0<vmassol>\u00a0I don't recall a vote on this though  \n17:21\u00a0<vmassol>\u00a0did we have one?  \n17:21\u00a0<+tmortagne>\u00a0did not even know we did that  \n17:22\u00a0<vmassol>\u00a0I see he's doing:  \n17:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0stmt.addBatch(\"UPDATE activitystream\\_events SET ase\\_groupid = ase\\_requestid\");  \n17:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0stmt.addBatch(\"ALTER TABLE activitystream\\_events DROP COLUMN ase\\_requestid\");  \n17:22\u00a0<+tmortagne>\u00a0activity stream ok so maybe it's ok since it's mostly internal stuff  \n17:22\u00a0<vmassol>\u00a0so he seems to be adding a new colum  \n17:22\u00a0<vmassol>\u00a0ase\\_groupid  \n17:22\u00a0<vmassol>\u00a0and removing the ase\\_requestid one  \n17:31\u00a0<vmassol>\u00a0gdelhumeau: would be great if you could use xwiki-contrib  \n17:31\u00a0<vmassol>\u00a0(instead of your own github repo)  \n17:32\u00a0<vmassol>\u00a0that will give you a JIRA, mailing list, etc  \n17:32\u00a0<vmassol>\u00a0see http://contrib.xwiki.org  \n17:38\u00a0<sburjan>\u00a0has quit  \n18:14\u00a0<sdumitriu>\u00a0Up  \n18:14\u00a0<vmassol>\u00a0hi sdumitriu been waiting for you\u2026 I'm stuck with my work since XE doesn't start and I can't test my local work  \n18:14\u00a0<sdumitriu>\u00a0Of course I tried it, both on MySQL and HSQLDB, but only on an existing database  \n18:15\u00a0<vmassol>\u00a0well you should have built XE I think  \n18:15\u00a0<vmassol>\u00a0to ensure it worked  \n18:15\u00a0<vmassol>\u00a0since it's not someone obvious  \n18:15\u00a0<vmassol>\u00a0I have no idea why it fails ATM  \n18:15\u00a0<vmassol>\u00a0haven't debuged it  \n18:15\u00a0<vmassol>\u00a0(I have 70 modified files locally and I don't want to mess my local setup ;))  \n18:16\u00a0<sdumitriu>\u00a0Denis: I remember you mentioned that you'd fix the \"migrators shouldn't be run on an empty database\" problem, did you?  \n18:16\u00a0<+Denis>\u00a0yes, it did not run any migration on an empty database  \n18:17\u00a0<+Denis>\u00a0vmassol: you can cheat the version in xwiki.cfg  \n18:18\u00a0<vmassol>\u00a0Denis: ah cool  \n18:18\u00a0<vmassol>\u00a0I can't find a prop for that  \n18:18\u00a0<vmassol>\u00a0at least it's not documented  \n18:18\u00a0<vmassol>\u00a0right?  \n18:18\u00a0<+Denis>\u00a0it was an old props  \n18:18\u00a0<+Denis>\u00a0it is not too visible, it is for geek  \n18:18\u00a0<+Denis>\u00a0let me check  \n18:19\u00a0<+Denis>\u00a0by the way, you ay also ignore a migration  \n18:19\u00a0<vmassol>\u00a0even better  \n18:19\u00a0<+Denis>\u00a0xwiki.store.migration.ignored  \n18:20\u00a0<vmassol>\u00a0it's not documented voluntarily?  \n18:20\u00a0<vmassol>\u00a0what value do I put?  \n18:20\u00a0<+Denis>\u00a0just assign it the hint of the migration you want to ignore  \n18:20\u00a0<vmassol>\u00a0ok  \n18:21\u00a0<+Denis>\u00a0oups  \n18:21\u00a0<+Denis>\u00a0no  \n18:21\u00a0<+Denis>\u00a0put the version  \n18:21\u00a0<+Denis>\u00a0or the class name  \n18:21\u00a0<+Denis>\u00a0it was an old option  \n18:22\u00a0<vmassol>\u00a0xwiki.store.migration.ignored=R35000XWIKI6691DataMigration ?  \n18:22\u00a0<vmassol>\u00a0FQN?  \n18:22\u00a0<+Denis>\u00a0>FQN  \n18:22\u00a0<+Denis>\u00a0or simply put 35000  \n18:22\u00a0<vmassol>\u00a0ok simpler  \n18:23\u00a0<+Denis>\u00a0by the way, it is not good  \n18:23\u00a0<+Denis>\u00a0it should be 34999  \n18:24\u00a0<+Denis>\u00a0so you get your database to version 35000  \n18:24\u00a0<+Denis>\u00a0and not 35001  \n18:25\u00a0<vmassol>\u00a0thanks Denis it works  \n18:26\u00a0<+Denis>\u00a0sure  \n18:26\u00a0<+Denis>\u00a0it is like this migration never existed  \n18:27\u00a0<+Denis>\u00a0FYI, to cheat the DB version, the key is xwiki.store.migration.version  \n18:27\u00a0<vmassol>\u00a0ok  \n18:30\u00a0<+Denis>\u00a0sdumitriu: the version of your migration should be the latest version on which your migration should be applied, the resulting db version is your migration version+1  \n18:35\u00a0<jvdrean>\u00a0has quit  \n18:36\u00a0<+Denis>\u00a0vmassol: it was correct initially, you may use either the version or the hint.  \n18:36\u00a0<vmassol>\u00a0ok  \n18:53\u00a0<CIA-120>\u00a0tmortagne\u000f master\u000f \\* r02c9b8b\u000f https://github.com/xwiki/xwiki-platform/commit/02c9b8b49a31d2e00666ef7de7c0d6f2d5df8ddf \u000f/ (52 files in 17 dirs):\u000f XWIKI-7493: Resolve complete informations about core extension from ...  \n18:57\u00a0<tmortagne>\u00a0has quit  \n18:57\u00a0<gdelhumeau>\u00a0has quit  \n19:00\u00a0<fmancinelli>\u00a0has quit  \n19:21\u00a0<vmassol>\u00a0has quit  \n19:25\u00a0<vmassol>\u00a0has joined #xwiki  \n19:27\u00a0<CIA-120>\u00a0cjdelisle\u000f feature-store-attachments-newstore\u000f \\* rcd7d71f\u000f https://github.com/xwiki/xwiki-platform/commit/cd7d71f197f15c8aa135f66583d331359405675c \u000f/ (39 files in 17 dirs):\u000f Made small change to API and fixed a few bugs which were holding up the integration tests. - http://git.io/LHpNlQ  \n19:30\u00a0<abusenius>\u00a0has joined #xwiki  \n20:29\u00a0<fmancinelli>\u00a0has joined #xwiki  \n20:34\u00a0<fmancinelli>\u00a0has quit  \n21:01\u00a0<vmassol>\u00a0sdumitriu: are you fixing the build? (the migration issue)  \n21:01\u00a0<sdumitriu>\u00a0Yes, looking at it  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r429afb5\u000f https://github.com/xwiki/xwiki-commons/commit/429afb58fed5ced4ec0db13fb0bc9356526309f4 \u000f/ (3 files in 3 dirs):\u000f XCOMMONS-92: Allow injecting Providers in superclasses - http://git.io/N-oiPQ  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r47ec766\u000f https://github.com/xwiki/xwiki-commons/commit/47ec76608cbf438e90096fc0a3d49045b72a7b73 \u000f/ xwiki-commons-core/xwiki-commons-legacy/xwiki-commons-legacy-component/src/main/java/org/xwiki/component/logging/VoidLogger.java :\u000f Improved deprecation message - http://git.io/MQ0DUg  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r377d102\u000f https://github.com/xwiki/xwiki-commons/commit/377d102ca553aa73c828f4dd4cb1f2402a7a843c \u000f/ (20 files in 19 dirs):\u000f XCOMMONS-91: Add notion of Environment - http://git.io/WvlXsQ  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r700cf1d\u000f https://github.com/xwiki/xwiki-platform/commit/700cf1dca8a3708b90c9ecb26c132ac9b743a053 \u000f/ (2 files in 2 dirs):\u000f Removed unused class (was a previous leftover) - http://git.io/4tVMwg  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rb245d86\u000f https://github.com/xwiki/xwiki-platform/commit/b245d86bea602940589a66a4f0a5545cb3b112e1 \u000f/ (54 files in 41 dirs):\u000f XWIKI-7502: Replace notion of Container's ApplicationContext with the notion of Environment - http://git.io/qkNBDg  \n21:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r0241490\u000f https://github.com/xwiki/xwiki-enterprise/commit/024149040c0022ddcb2e0e0ffaf2783fdfeb4766 \u000f/ (2 files in 2 dirs):\u000f XE-1112: Change default configuration property for the permanent directory - http://git.io/nNvs5g  \n21:16\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rc959629\u000f https://github.com/xwiki/xwiki-commons/commit/c95962949124b9ecd7099653451e0c55d3c7ac35 \u000f/ pom.xml :\u000f XCOMMONS-81: Upgrade Maven Surefire Plugin to 2.12 - http://git.io/l36NKw  \n21:23\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r1a530ac\u000f https://github.com/xwiki/xwiki-commons/commit/1a530ac5a1cb2e14caa807d1d036b9aa683cdf01 \u000f/ xwiki-commons-core/xwiki-commons-legacy/pom.xml :\u000f [Misc] Removed CLIRR skip which is no longer needed - http://git.io/yekc3g  \n21:29\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r0f3313f\u000f https://github.com/xwiki/xwiki-platform/commit/0f3313f066d3ec50c1355efe2f9d6f234bff0928 \u000f/ xwiki-platform-core/xwiki-platform-cache/xwiki-platform-cache-oscache/pom.xml :\u000f XWIKI-7505: Upgrade OSCache to version 2.4.1 - http://git.io/3NmNfQ  \n21:33\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r7fb46d3\u000f https://github.com/xwiki/xwiki-platform/commit/7fb46d3aba96f16fb9ece84c31dbfd26491922d6 \u000f/ xwiki-platform-core/xwiki-platform-legacy/pom.xml :\u000f [Misc] Removed CLIRR skip which is no longer needed - http://git.io/9NbnhA  \n21:35\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r86616c6\u000f https://github.com/xwiki/xwiki-platform/commit/86616c6e3643328246d82bddc896cfe493b2cc0e \u000f/ xwiki-platform-core/xwiki-platform-office/xwiki-platform-office-importer/pom.xml :\u000f [Misc] Removed no longer needed comments - http://git.io/BTeDig  \n21:55\u00a0<mflorea>\u00a0has joined #xwiki  \n22:10\u00a0<fmancinelli>\u00a0has joined #xwiki  \n22:14\u00a0<abusenius>\u00a0has quit  \n22:19\u00a0<vmassol>\u00a0has quit  \n22:43\u00a0<vmassol>\u00a0has joined #xwiki  \n23:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* re387c64\u000f https://github.com/xwiki/xwiki-platform/commit/e387c6489157bc8b239d8698a28bf7d33c45cade \u000f/ xwiki-platform-core/pom.xml :\u000f XWIKI-7473: Add new Zip Explorer Module ...  \n23:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n23:44\u00a0<vmassol>\u00a0has quit  \n  \n{{/code}}\n"}