{"id": "dev:IRC.xwikiArchive20140710", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140710", "title": "IRC Archive for channel #xwiki on 10 July 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<OSIMasson>\u00a0has joined #xwiki  \n00:54\u00a0<abusenius>\u00a0has quit  \n03:09\u00a0<sburjan`>\u00a0has joined #xwiki  \n03:11\u00a0<sburjan>\u00a0has quit  \n03:14\u00a0<sburjan`>\u00a0has quit  \n03:17\u00a0<Denis>\u00a0has quit  \n03:52\u00a0<xwikiorg\\_guest\\_8>\u00a0has joined #xwiki  \n03:53\u00a0<xwikiorg\\_guest\\_8>\u00a0has quit  \n04:23\u00a0<teekay>\u00a0has joined #xwiki  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:00\u00a0<Denis>\u00a0has quit  \n06:05\u00a0<mflorea>\u00a0has joined #xwiki  \n07:08\u00a0<msmeria>\u00a0has joined #xwiki  \n07:30\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n08:19\u00a0<vmassol>\u00a0has joined #xwiki  \n08:36\u00a0<mflorea>\u00a0has quit  \n08:37\u00a0<vmassol>\u00a0good morning  \n08:37\u00a0<vmassol>\u00a0what xwiki day would like to have today?  \n09:00\u00a0<mflorea>\u00a0has joined #xwiki  \n09:13\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:20\u00a0<evalica>\u00a0has joined #xwiki  \n09:21\u00a0<evalica>\u00a0has quit  \n09:22\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:27\u00a0<evalica>\u00a0has joined #xwiki  \n09:28\u00a0<polx>\u00a0has joined #xwiki  \n09:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:34\u00a0<Lyes>\u00a0has joined #xwiki  \n09:49\u00a0<cjd>\u00a0has joined #xwiki  \n09:51\u00a0<vmassol>\u00a0I've proposed a deprecation fixing day  \n09:52\u00a0<vmassol>\u00a0hope it's ok  \n09:56\u00a0<Lyes1>\u00a0has joined #xwiki  \n09:56\u00a0<Lyes>\u00a0has quit  \n09:57\u00a0<lucaa>\u00a0has joined #xwiki  \n09:59\u00a0<andreeapopescu>\u00a0vmassol: Hello! Sorry if I bother you. Can you please give me full rights on test.xwiki.org? Because I can\u2019t modify a page name (i.e. for an deprecated test)  \n09:59\u00a0<tmortagne>\u00a0vmassol: +1  \n10:02\u00a0<vmassol>\u00a0andreeapopescu: you know have full permissions, use them wisely :)  \n10:02\u00a0<vmassol>\u00a0(full admin rights)  \n10:02\u00a0<andreeapopescu>\u00a0vmassol: Thank you very much!  \n10:05\u00a0<teekay>\u00a0has quit  \n10:10\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:45\u00a0<vmassol>\u00a0Lyes1: would be good if you could participate too to this XWiki Day  \n10:45\u00a0<vmassol>\u00a0(see mail on the list)  \n10:45\u00a0<vmassol>\u00a0I propose that you send PR for replacing old calls to the mail sender plugin to new API calls  \n10:46\u00a0<vmassol>\u00a0right now I'm trying to upgrade ResetPassword.xml  \n10:48\u00a0<Lyes1>\u00a0Ok  \n10:56\u00a0<vmassol>\u00a0Lyes1: I think we need to fix the way \"from\" is computed  \n11:03\u00a0<Slashman>\u00a0has joined #xwiki  \n11:08\u00a0<woshilapin>\u00a0has quit  \n11:08\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:28\u00a0<lucaa1>\u00a0has joined #xwiki  \n11:29\u00a0<lucaa>\u00a0has quit  \n11:32\u00a0<Lyes2>\u00a0has joined #xwiki  \n11:32\u00a0<Lyes1>\u00a0has quit  \n12:01\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n12:09\u00a0<DuFFo>\u00a0has quit  \n12:13\u00a0<DuFFo>\u00a0has joined #xwiki  \n12:38\u00a0<cjd>\u00a0vmassol: 11:14 < xwikibot> platform:Main.WebHome was modified by xwiki:XWiki.user1 (Added comment) -  \n12:38\u00a0<cjd>\u00a0he's back :)  \n12:38\u00a0<vmassol>\u00a0with a new ip?  \n12:38\u00a0<cjd>\u00a0think so  \n13:12\u00a0<lucaa>\u00a0has joined #xwiki  \n13:14\u00a0<lucaa1>\u00a0has quit  \n13:18\u00a0<polx>\u00a0has quit  \n13:19\u00a0<polx>\u00a0has joined #xwiki  \n13:36\u00a0<Lyes2>\u00a0has quit  \n13:52\u00a0<lucaa>\u00a0has quit  \n13:59\u00a0<msmeria>\u00a0has quit  \n14:04\u00a0<vmassol>\u00a0Enygma`: I think I've observed a lot more queries than that in practice ;)  \n14:06\u00a0<Lyes1>\u00a0has joined #xwiki  \n14:17\u00a0<polx>\u00a0has quit  \n14:49\u00a0<Lyes2>\u00a0has joined #xwiki  \n14:49\u00a0<Lyes1>\u00a0has quit  \n15:11\u00a0<andreeapopescu>\u00a0has quit  \n15:24\u00a0<polx>\u00a0has joined #xwiki  \n15:24\u00a0<lucaa>\u00a0has joined #xwiki  \n15:30\u00a0<polx\\_>\u00a0has joined #xwiki  \n15:31\u00a0<polx>\u00a0has quit  \n15:31\u00a0<polx\\_>\u00a0is now known as <polx>  \n16:21\u00a0<vmassol>\u00a0guys lots of spam done by this guy: http://www.xwiki.org/xwiki/bin/view/XWiki/armukul  \n16:24\u00a0<vmassol>\u00a0btw deleting a revision doesn't remove attachments added in that revision\u2026 :(  \n16:25\u00a0<cjd>\u00a0\"popularity sucks\" --ircerr  \n16:25\u00a0<gdelhumeau>\u00a0bb in 30min  \n16:39\u00a0<famous\\_user1>\u00a0has joined #xwiki  \n16:39\u00a0<famous\\_user1>\u00a0has quit  \n16:40\u00a0<famous\\_user1>\u00a0has joined #xwiki  \n16:40\u00a0<cjd>\u00a0hey user1  \n16:40\u00a0<cjd>\u00a0how goes it?  \n16:41\u00a0<famous\\_user1>\u00a0has quit  \n16:41\u00a0<cjd>\u00a0y u no talk to meee :(  \n16:44\u00a0<cjd>\u00a0I wonder if he's faking the user agent  \n16:44\u00a0<cjd>\u00a0windows, chrome, firefox, \\*poof\\* linux  \n16:57\u00a0<KermitTheFragger>\u00a0has quit  \n16:58\u00a0<cjd>\u00a0goodbye user1 :(  \n17:04\u00a0<evalica>\u00a0has quit  \n17:06\u00a0<Enygma`>\u00a0has quit  \n17:36\u00a0<woshilapin>\u00a0has quit  \n17:40\u00a0<cjd>\u00a0vmassol: what do you make of this? https://ezcrypt.it/pY8n#IonMCyIswrMsNSnHGYMdw6jP  \n17:40\u00a0<cjd>\u00a0it looks like it just deadlocked with itself o\\_O  \n17:41\u00a0<vmassol>\u00a0at first glance indeed it looks like it  \n17:41\u00a0<cjd>\u00a0I've got a whole thread dump where every thread is in a suicide deadlock state  \n17:43\u00a0<cjd>\u00a0https://issues.apache.org/jira/browse/POOL-230  \n17:47\u00a0<vmassol>\u00a0(finding lots of bugs in the mail sender api...)  \n17:48\u00a0<cjd>\u00a0I've 322 unique thread dumps so I'm now able to really tune my analyzer to know the difference between normal and abnormal  \n17:50\u00a0<vmassol>\u00a0cool  \n17:50\u00a0<vmassol>\u00a0interesting approach  \n17:50\u00a0<vmassol>\u00a0(if it works)  \n17:51\u00a0<cjd>\u00a0my goal is to have the shortest possible recommendation for 90% of the cases  \n17:52\u00a0<cjd>\u00a0like \"check permgen\", \"look for memory leaks\", \"this is a deadlock\"  \n17:53\u00a0<vmassol>\u00a0this is something I wanted to do but from within xwiki itself, ie self checks  \n17:53\u00a0<vmassol>\u00a0ofc it can work only for some cases and not everything  \n17:53\u00a0<vmassol>\u00a0when it's dead it's too late  \n17:53\u00a0<vmassol>\u00a0:)  \n17:53\u00a0<cjd>\u00a0yeap  \n17:54\u00a0<cjd>\u00a0I'm a little bit excited to pay with oprofile because I might be able to make flamegraphs with good symbols, inside of java and in the jvm and even in the kernel  \n17:58\u00a0<cjd>\u00a0ok I got the answer, it's using Object.wait() on the lock which is not the same as attempting to acquire it, I read too fast  \n17:59\u00a0<vmassol>\u00a0it acquired it at: - locked <0x8f5e5f18> (a org.apache.commons.pool.impl.GenericObjectPool$Latch)  \n18:00\u00a0<vmassol>\u00a0but the waiting is about waiting for the lock to be released  \n18:00\u00a0<vmassol>\u00a0but since it's in the same thread that's not going to happen, no?  \n18:00\u00a0<cjd>\u00a0yeah, it looks like what happened was a resource leak and that's just the strange way that it puts the thread to sleep when there are no mysql connections available  \n18:01\u00a0<cjd>\u00a0synchronized (theLock) { \u00a0theLock.wait(someMilliseconds); }  \n18:01\u00a0<cjd>\u00a0synchronized (theLock) { \u00a0if (thereAreNoMysqlConnections()) { theLock.wait(someMilliseconds); } }  \n18:01\u00a0<cjd>\u00a0s/if/while/  \n18:11\u00a0<cjd>\u00a0has quit  \n18:14\u00a0<vmassol>\u00a0I wish today had been a BFD \u2026  \n19:00\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n19:10\u00a0<gdelhumeau>\u00a0has quit  \n19:13\u00a0<mflorea>\u00a0has quit  \n19:14\u00a0<polx\\_>\u00a0has joined #xwiki  \n19:15\u00a0<polx\\_>\u00a0is now known as <polx>  \n19:19\u00a0<abusenius>\u00a0has joined #xwiki  \n19:38\u00a0<lucaa>\u00a0has quit  \n19:58\u00a0<polx>\u00a0has quit  \n20:03\u00a0<andreeapopescu>\u00a0has left #xwiki  \n20:08\u00a0<polx>\u00a0has joined #xwiki  \n20:08\u00a0<polx>\u00a0has quit  \n20:11\u00a0<polx>\u00a0has joined #xwiki  \n20:12\u00a0<polx>\u00a0has quit  \n20:18\u00a0<tmortagne>\u00a0has quit  \n20:25\u00a0<Slashman>\u00a0has quit  \n20:29\u00a0<Lyes2>\u00a0has quit  \n21:20\u00a0<vmassol>\u00a0has quit  \n22:00\u00a0<lucaa>\u00a0has joined #xwiki  \n22:06\u00a0<polx>\u00a0has joined #xwiki  \n22:27\u00a0<grimeton>\u00a0has left #xwiki\n"}