{"id": "dev:IRC.xwikiArchive20100619", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100619", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nlucaa joined #xwiki at 00:23  \nflorinciu left at 00:35 (Read error: Connection reset by peer  \nabusenius left at 01:04 (Quit: Konversation terminated!  \nsdumitriu left at 01:12 (Read error: Operation timed out  \nflorinciu joined #xwiki at 08:04  \nvmassol joined #xwiki at 08:59  \nvmassol left at 09:22 (Quit: Leaving.  \nvmassol joined #xwiki at 09:24  \nsdumitriu joined #xwiki at 10:14  \nlucaa left at 10:51 (Ping timeout: 245 seconds  \nmflorea joined #xwiki at 12:06  \nflorinciu1 joined #xwiki at 12:51  \ntmortagne joined #xwiki at 13:24  \ntmortagne left #xwiki at 13:25  \nflorinciu left at 13:34 (Quit: Leaving.  \nmflorea left at 14:03 (Quit: Leaving.  \nlucaa joined #xwiki at 15:18  \nflorinciu joined #xwiki at 15:42  \nabusenius joined #xwiki at 15:57  \nDSpair joined #xwiki at 17:11  \nDSpair - (17:11): Good morning all...  \nDSpair - (17:11): I'm hoping one of you could help me with some API questions.  \nlucaa - (17:12): hi DSpair, what's up  \nDSpair - (17:12): I wrote a Groovy script to import some attachments into a document (http://pastebin.com/krf5sZap) and when I run it on subsequent days, it does not do versioning of the attachments.  \nDSpair - (17:13): I'm wondering what I need to do differently to get it to do versioning.  \nvmassol left at 17:35 (Ping timeout: 258 seconds  \nvmassol joined #xwiki at 17:41  \nCalebJamesDeLisl - (17:47): I'm not the guy to ask about attachment versioning but you could look at this: http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/java/com/xpn/xwiki/web/UploadAction.java  \nDSpair - (17:48): Thanks, I'll read up on that now.  \nCalebJamesDeLisl - (17:56): \"Java is high performance. By high performance we mean adequate. By adequate we mean slow.\" - \u00a0Mr. Bunny  \nsdumitriu - (17:57): CalebJamesDeLisl: Is that a quote from 1995?  \nCalebJamesDeLisl - (17:58): I don't know I just found it. I'm doing a little project trying to escape xml faster. It turns out to be really hard to keep massive amounts of garbage from piling up.  \nsdumitriu - (17:59): Well, yeah, bad algorithms perform badly in all languages  \nsdumitriu - (18:00): Not to imply that you wrote a bad algorithm :)  \nCalebJamesDeLisl - (18:01): I'm sure it is bad. The problem is 3 lines of python blows the doors off of a couple hunderd lines of threaded java.  \nCalebJamesDeLisl - (18:03): But it's not just java, I was reading about an xml parser written in x86 assembly which can parse 200MB/s  \nCalebJamesDeLisl - (18:19): The book's from 1999. Close.  \nDSpair - (18:25): CalebJamesDeLisl: Thanks for the link. That appears to have done it... Much appreciated.  \nCalebJamesDeLisl - (18:27): Great.  \nflorinciu1 left at 18:27 (Ping timeout: 245 seconds  \nvmassol - (18:38): jvelociter: I'm downloading nexus 1.7  \nflorinciu left at 19:03 (Quit: Leaving.  \nDSpair - (19:58): Hrrmmm . . . Well, the version number is incrementing, but there's not previous versions.  \nDSpair - (19:59): I'm obviously doing something wrong.  \nvmassol - (20:02): jvelociter: ping. I don't have root access on nexus.xwiki.org. Could you untar the nexus 1.7 in the maven home repo in /usr/local? Thanks  \nvmassol - (20:03): (when you have time, no hurry)  \nDSpair - (20:04): Vincent, I'm looking at http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/java/com/xpn/xwiki/web/UploadAction.java, but even after emulating that code, I'm not getting versions for my attachments. Any suggestions?  \nsdumitriu - (20:12): vmassol: Any idea what this means?  \nsdumitriu - (20:12): The method removeMeaningfulParameters(WikiParameters) is undefined for the type XWikiReferenceTagHandler  \nsdumitriu - (20:20): Hm, somehow the enterprise build ended up with two versions of each xwiki jar  \nsdumitriu - (20:21): One from 19 and one from 17  \nsdumitriu - (20:21): That's why it was failing  \nflorinciu joined #xwiki at 20:23  \nvmassol1 joined #xwiki at 20:37  \nvmassol left at 20:38 (Ping timeout: 258 seconds  \nDSpair - (21:11): Has the API for XWikiAttachment changed since 1.9.3?  \nflorinciu1 joined #xwiki at 21:17  \nDSpair - (21:33): I'm making a call to \"getAttachmentRevisionURL(String filename, String revision, XWikiContext context)\" from Groovy and getting an error that the call doesn't match the prototype. Any ideas?  \nvmassol1 - (21:39): sdumitriu: not sure what you're referring to  \nDSpair - (21:40): I've looked at the source for the 1.9.3 version of XWikiDocument, and it looks like I've called the method with the right arguments.  \nvmassol1 - (21:42): DSpair: maybe you're mixing Document and XWikiDocument?  \nDSpair - (21:42): Hmmm . . . . Perhaps.  \nvmassol1 - (21:42): $doc is Document  \nDSpair - (21:42): I'm using: XWikiDocument myDoc = xwiki.getDocument(\"NorthAmericaNetwork\",\"CiscoDeviceBackups\").getDocument() ;  \nDSpair - (21:44): Here's a pastebin: http://pastebin.com/HbD9BTF4  \nvmassol1 - (21:44): not sure why you're using this signature btw for getDocument  \nvmassol1 - (21:44): are you sure you don't want: xwiki.getDocument(\"space.page\")?  \nDSpair - (21:44): vmassol1: I'm fumbling blind. Got a better method?  \nDSpair - (21:44): OK  \nvmassol1 - (21:45): (that's probably not the pb though)  \nvmassol1 - (21:45): you have PR right?  \nDSpair - (21:45): PR?  \nvmassol1 - (21:46): programming right  \nDSpair - (21:46): Oh. definitely.  \nvmassol1 - (21:46): but you do probablt since otherwise the groovy wouldn't execute  \nvmassol1 - (21:46): I don't know the apis you're usig  \nvmassol1 - (21:46): so I'm not much help  \nDSpair - (21:46): There's a pastebin above: http://pastebin.com/HbD9BTF4  \nDSpair - (21:47): Short script. Any help would be greatly appreciated!! :)  \nvmassol1 - (21:47): you're calling:  \nvmassol1 - (21:47): myDoc.getAttachment(simpleFileName) ;  \nvmassol1 - (21:47): are you sure this method exists?  \nvmassol1 - (21:47): sounds very strange  \nvmassol1 - (21:47): especially since there's on xwikicontext passed  \nDSpair - (21:48): I copied that from the upload code in XWiki.  \nDSpair - (21:48): UploadAction.java  \nvmassol1 - (21:48): indeed  \nvmassol1 - (21:48): it's there  \nvmassol1 - (21:49): so what's wrong?  \nDSpair - (21:49): The call to doc.getAttachmentRevisionURL(simpleFileName, nextVersion, xcontext.getContext()) says that the signature is invalid for the given arguments.  \nDSpair - (21:49): I'll pastebin the StackTrace  \nvmassol1 - (21:50): you're calling it with doc  \nvmassol1 - (21:50): is that normal?  \nvmassol1 - (21:50): doc is Document I guess  \nDSpair - (21:50): Doh!!! Thank you!!!  \nDSpair - (21:50): That's the problem.  \nDSpair - (21:51): Gah, just takes a different set of eyes sometimes... Much appreciated. You guys got a PayPal donation link?  \nvmassol1 - (21:54): not yet but we've thought about doing this  \nvmassol1 - (21:54): you think we should set one up?  \nDSpair - (21:54): Definitely. Whenever I get code help on IRC, I like to donate to the project as a way of saying thanks.  \nDSpair - (21:55): Heck, I must have donated about $200 to Tarus over at OpenNMS.  \nvmassol1 - (21:56): that's nice of you to do so. I'll bring it up with the others but we need to setup some non for profit association to handle the money I guess so it might take some time to set up something  \nDSpair - (21:56): Understood. Any other way I might be able to contribute?  \nvmassol1 is now known as vmassol ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nvmassol - (21:57): DSpair: I can see 2 ways: http://dev.xwiki.org/xwiki/bin/view/Community/Contributing or sponsoring some feature from XWiki SAS (http://xwiki.com)  \nvmassol - (21:57): (or take some support from xwiki.com)  \nvmassol - (21:57): (since xwiki.com sponsors most of the xwiki committers)  \nvmassol - (21:58): I can ask Guillaule Lerouge to contact you if you want. I'm sure he'd love just to gather feedback from you  \nvmassol - (21:58): \\*guillaume  \nDSpair - (21:59): Well, sharing code is definitely an option. I'm going to be taking this simple Groovy script much further to handle automated backup of Cisco/Telnet devices. Think that would be a valuable contribution?  \nvmassol - (22:00): yes contributing on code.xwiki.org helps. It might help others.  \nDSpair - (22:00): I'd love to give feedback too. I've implemented XWiki at all of my last 3 positions, and my bosses have LOVED it.  \nvmassol - (22:00): oh that's cool  \nDSpair - (22:00): I'm about to implement it for our parent company in India.  \nvmassol - (22:00): could i give you're email or skype id to guillaume? He'd love to hear success stories  \nDSpair - (22:00): There you go.  \nvmassol - (22:01): great thanks  \nDSpair - (22:01): I don't use Skype though.  \nvmassol - (22:01): np  \nDSpair - (22:02): Thank you for getting this project working so well.  \nvmassol - (22:02): cool glad you like it!  \nDSpair - (22:02): XWiki saves me and my co-workers hundreds of man hours a year.  \nDSpair - (22:03): And now that I'm starting to get familiar with Groovy scripting, it will save us even more time.  \nvmassol - (22:03): excellent  \nvmassol - (22:04): one thing you might consider too is adding one or several references on http://www.xwiki.org/xwiki/bin/view/References/  \nDSpair - (22:04): Excellent, your help was just what I needed to finish that script. Now when it imports the attachments, it keeps the revisions.  \nvmassol - (22:04): (if you have any project that would allow this)  \nvmassol - (22:04): great  \nvmassol - (22:04): note to self: we really need to add a livetable on http://www.xwiki.org/xwiki/bin/view/References/  \nDSpair - (22:05): I'll ask my boss if I can put a reference up. Not my decision to make.  \nvmassol - (22:05): sure  \nDSpair - (22:06): OK, added a note to my task list to ask him when he gets back from vacation in a week.  \nDSpair - (22:07): One more question if I could. Is there a way to call another page to be rendered from a Groovy script?  \nDSpair - (22:07): i.e., in scheduler, I want to call Main.MyGroovyScript.  \nCalebJamesDeLisl - (22:23): I would use xwiki.getDocument().getRenderedContent()  \nDSpair - (22:23): CalebJamesDeLisl: Thanks, I'll try that.  \nCalebJamesDeLisl - (22:24): I think it has some parameters, you'll have to check the api doc.  \nDSpair - (22:32): CalebJamesDeLisl: Got it...  \nDSpair - (22:32): Thanks  \nCalebJamesDeLisl - (22:32): Cool.  \nflorinciu left at 22:39 (Read error: Connection reset by peer  \nabusenius left at 22:59 (Ping timeout: 258 seconds  \nvmassol left at 23:01 (Quit: Leaving.  \nabusenius joined #xwiki at 23:14  \nflorinciu1 left at 23:46 (Read error: Connection reset by peer  \n\n"}