{"id": "dev:IRC.xwikiArchive20161116", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20161116", "title": "IRC Archive for channel #xwiki on 16 November 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sdumitriu1>\u00a0has quit  \n01:07\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n02:31\u00a0<Pbas>\u00a0has quit  \n02:32\u00a0<Pbas>\u00a0has joined #xwiki  \n03:13\u00a0<zzeroo>\u00a0has quit  \n04:48\u00a0<zzeroo>\u00a0has joined #xwiki  \n05:19\u00a0<edvorg>\u00a0has joined #xwiki  \n06:35\u00a0<mflorea>\u00a0has joined #xwiki  \n07:09\u00a0<zzeroo>\u00a0has quit  \n07:16\u00a0<zzeroo>\u00a0has joined #xwiki  \n07:47\u00a0<mflorea>\u00a0has quit  \n08:57\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:25\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:40\u00a0<msmeria>\u00a0has joined #xwiki  \n09:52\u00a0<vmassol>\u00a0has joined #xwiki  \n10:07\u00a0<gdelhumeau>\u00a0vmassol: you told me about CoreConfiguration yesterday  \n10:07\u00a0<gdelhumeau>\u00a0it's an interface created in 1.8RC2  \n10:08\u00a0<gdelhumeau>\u00a0so it's ok to break it?  \n10:08\u00a0<vmassol>\u00a0Hi gdelhumeau  \n10:08\u00a0<vmassol>\u00a0what I mentioned yesterday is this  \n10:08\u00a0<vmassol>\u00a0(in the comment)  \n10:08\u00a0<vmassol>\u00a0you can add a default method to the interface to preserve backward comaptibility  \n10:09\u00a0<gdelhumeau>\u00a0indeed sorry  \n10:09\u00a0<gdelhumeau>\u00a0well  \n10:10\u00a0<gdelhumeau>\u00a0it means I cannot backport it in 7.4.x (java 7)  \n10:10\u00a0<gdelhumeau>\u00a0but I think it's ok  \n10:10\u00a0<gdelhumeau>\u00a0since 8.4 will become our LTS soon  \n10:10\u00a0<vmassol>\u00a0indeed but you don't need to IMO  \n10:10\u00a0<vmassol>\u00a0we don't need a proper configuration in 7.4.x for this  \n10:10\u00a0<vmassol>\u00a0we can leave it the way it was done IO  \n10:10\u00a0<vmassol>\u00a0\\*IMO  \n10:11\u00a0<gdelhumeau>\u00a0you mean injecting the script service directly?  \n10:11\u00a0<vmassol>\u00a0what you did is an improvement by exposing the configuration  \n10:11\u00a0<vmassol>\u00a0but before your change the config property was already retrieved, just not through an api  \n10:11\u00a0<gdelhumeau>\u00a0ah you're suggesting to look at the configurationsource directly?  \n10:11\u00a0<vmassol>\u00a0you could leave this for 7.4.x if you want to backport it  \n10:12\u00a0<vmassol>\u00a0yes  \n10:12\u00a0<gdelhumeau>\u00a0yes but before I did not need the configuration in the refactoring module  \n10:12\u00a0<vmassol>\u00a0sure  \n10:12\u00a0<gdelhumeau>\u00a0it wad only used in a script service  \n10:12\u00a0<vmassol>\u00a0it would be a duplicate code  \n10:12\u00a0<gdelhumeau>\u00a0so we will have code duplciation  \n10:12\u00a0<vmassol>\u00a0but that's ok for 7.4.x IMO  \n10:12\u00a0<gdelhumeau>\u00a0ok  \n10:13\u00a0<vmassol>\u00a0now you may want to check with some other committer that they agree about my proposal of reusing CoreConfiguration :) But I think it makes sense  \n10:20\u00a0<gdelhumeau>\u00a0the other solution could be to create a parentchild module  \n10:20\u00a0<gdelhumeau>\u00a0or a hierarchy module  \n10:21\u00a0<gdelhumeau>\u00a0but I think it does not deserve that much attention  \n10:21\u00a0<vmassol>\u00a0yes but that doesn't look like a large-enough domain  \n10:22\u00a0<vmassol>\u00a0the laternative  \n10:22\u00a0<vmassol>\u00a0is to not expose this config  \n10:22\u00a0<vmassol>\u00a0since we could imagine it's a temporary one  \n10:22\u00a0<vmassol>\u00a0but we know how long temporary stuff stays in xwiki ;)  \n10:23\u00a0<vmassol>\u00a0btw aren't we supposed to remove this in 9.x?  \n10:23\u00a0<vmassol>\u00a0we'll need to rediscuss this  \n10:23\u00a0<vmassol>\u00a0it was meant to be a transient config to allow migrating to NS  \n10:24\u00a0<gdelhumeau>\u00a0yes I'm thinking about living with this code duplication  \n10:24\u00a0<vmassol>\u00a0if we consider it temporary and if we want to remove it in 9.0+ then what you did makes sense  \n10:25\u00a0<gdelhumeau>\u00a0indeed  \n10:25\u00a0<gdelhumeau>\u00a0so better in its own class then  \n10:25\u00a0<vmassol>\u00a0yes but then it needs some explanation  \n10:25\u00a0<vmassol>\u00a0since it's not the \"best practice\"  \n10:25\u00a0<vmassol>\u00a0it's valid only if it's meant to be temporary and removed soon  \n10:32\u00a0<mflorea>\u00a0has joined #xwiki  \n10:33\u00a0<Slashman>\u00a0has joined #xwiki  \n10:53\u00a0<gdelhumeau>\u00a0mflorea: since you designed the refactoring module, I just wanted to know if you are comfortable with my change: https://github.com/xwiki/xwiki-platform/commit/cfe61ddf3bcc5a33bcece9797e4dc16d3ab4388d#commitcomment-19832308  \n10:54\u00a0<gdelhumeau>\u00a0Basically it's adding some code in DefaultModelBridge to update the \"parent\" field of the document on the update() method  \n10:56\u00a0<gdelhumeau>\u00a0Initially I wanted to put the if (isParentChildMechanismEnabled) in MoveJob but the refactoring-api module does not depends on oldcore and this information is \"old core\" oriented  \n11:02\u00a0<vmassol>\u00a0tmortagne: question. If in velocity I pass to a method call a paramter of \"a,b,c\", on the java side I can have List<String> as the method signature for that param right? (just making sure)  \n11:02\u00a0<mflorea>\u00a0gdelhumeau: As I said on the jira issue, I'm not a big fan of this change (keeping the parent field in sync with the parent reference). Otherwise your commit is ok.  \n11:02\u00a0<vmassol>\u00a0ok found ArrayListConverter  \n11:02\u00a0<gdelhumeau>\u00a0mflorea: thx  \n11:03\u00a0<gdelhumeau>\u00a0IMO it makes sense, otherwise we should as well remove this parent field  \n11:03\u00a0<tmortagne>\u00a0vmassol: yes there is support for list  \n11:03\u00a0<tmortagne>\u00a0but wouldn't vararg be nicer ?  \n11:04\u00a0<vmassol>\u00a0and I can have something like List<FeatureId> and each string will use a converter right?  \n11:04\u00a0<tmortagne>\u00a0yes  \n11:04\u00a0<vmassol>\u00a0cool  \n11:05\u00a0<tmortagne>\u00a0hmm, List<FeatureId> is supported by converters, just not 100% sure the generic part is provided in Method API  \n11:05\u00a0<tmortagne>\u00a0I think it is but need to be checked  \n11:08\u00a0<edvorg>\u00a0has quit  \n11:11\u00a0<edvorg>\u00a0has joined #xwiki  \n12:09\u00a0<evalica>\u00a0has joined #xwiki  \n12:10\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:36\u00a0<evalica>\u00a0has quit  \n12:36\u00a0<Slashman>\u00a0has quit  \n12:39\u00a0<Enygma`>\u00a0has quit  \n12:52\u00a0<Slashman>\u00a0has joined #xwiki  \n13:11\u00a0<Slashman>\u00a0has quit  \n13:28\u00a0<edvorg>\u00a0has quit  \n14:04\u00a0<evalica>\u00a0has joined #xwiki  \n14:05\u00a0<Enygma`>\u00a0has joined #xwiki  \n14:06\u00a0<D-Spair>\u00a0has quit  \n14:19\u00a0<Enygma`>\u00a0has quit  \n14:20\u00a0<Enygma`>\u00a0has joined #xwiki  \n14:34\u00a0<Slashman>\u00a0has joined #xwiki  \n14:47\u00a0<Enygma`>\u00a0has quit  \n15:26\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:46\u00a0<Enygma`>\u00a0has quit  \n15:51\u00a0<Enygma`>\u00a0has joined #xwiki  \n17:23\u00a0<msmeria>\u00a0has quit  \n17:56\u00a0<mflorea>\u00a0has quit  \n18:15\u00a0<gdelhumeau>\u00a0has quit  \n18:22\u00a0<tmortagne>\u00a0has quit  \n18:24\u00a0<evalica>\u00a0has quit  \n18:29\u00a0<evalica>\u00a0has joined #xwiki  \n19:08\u00a0<evalica>\u00a0has quit  \n19:09\u00a0<evalica>\u00a0has joined #xwiki  \n19:22\u00a0<vmassol>\u00a0has quit  \n19:23\u00a0<evalica>\u00a0has quit  \n19:25\u00a0<evalica>\u00a0has joined #xwiki  \n19:39\u00a0<Enygma`>\u00a0has quit  \n19:41\u00a0<Enygma`>\u00a0has joined #xwiki  \n20:21\u00a0<Slashman>\u00a0has quit  \n23:07\u00a0<evalica>\u00a0has quit  \n23:16\u00a0<evalica>\u00a0has joined #xwiki  \n23:17\u00a0<Enygma`>\u00a0has quit  \n23:42\u00a0<evalica>\u00a0has quit\n"}