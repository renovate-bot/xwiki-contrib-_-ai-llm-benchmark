{"id": "dev:IRC.xwikiArchive20130529", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130529", "title": "IRC Archive for channel #xwiki on 29 May 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<polx>\u00a0has quit  \n00:30\u00a0<abusenius\\_>\u00a0has quit  \n01:33\u00a0<Denis>\u00a0has quit  \n03:16\u00a0<SvenDowideit\\_>\u00a0has quit  \n03:16\u00a0<SvenDowideit\\_>\u00a0has joined #xwiki  \n03:16\u00a0<SvenDowideit\\_>\u00a0is now known as <SvenDowideit>  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n05:17\u00a0<sdumitriu>\u00a0has quit  \n05:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n05:22\u00a0<altker1281>\u00a0hrm, where did tmo go?  \n05:51\u00a0<Denis>\u00a0has quit  \n06:30\u00a0<altker1281>\u00a0Hi all. \u00a0Anyone here? \u00a0I'm curious which file to modify to store attachments to filesystem and not database.  \n07:35\u00a0<polx>\u00a0has joined #xwiki  \n07:46\u00a0<mflorea>\u00a0has joined #xwiki  \n08:17\u00a0<vmassol>\u00a0has joined #xwiki  \n08:32\u00a0<Denis>\u00a0has joined #xwiki  \n08:55\u00a0<msmeria>\u00a0has joined #xwiki  \n08:58\u00a0<evalica>\u00a0has joined #xwiki  \n08:58\u00a0<vmassol>\u00a0has quit  \n09:05\u00a0<cjd>\u00a0has quit  \n09:23\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:35\u00a0<altker1281>\u00a0Hi tmortagne  \n09:35\u00a0<tmortagne>\u00a0altker1281: Hi  \n09:35\u00a0<sburjan>\u00a0has joined #xwiki  \n09:37\u00a0<altker1281>\u00a0tmortagne: Looks like that small bug we discovered has been fixed, thanks! \u00a0I used the most current xwiki-postgresql packages in a brand new Debain VM (i.e. nothing else is installed). . \u00a0I have two issues. \u00a01. \u00a0Performance can be quite bad, right after loading tomcat, it can take ~12 seconds before xwiki responds. \u00a0I also find on the order of 400ms to 700 ms response times with XWiki. \u00a0Server is a quad-core Core i7, I've done all  \n09:37\u00a0<altker1281>\u00a0the perfomrance tuning, JAVA\\_OPTS has 1.6G allocated.  \n09:38\u00a0<altker1281>\u00a0Any suggestions? \u00a0I really want to use XWiki , but the slowness is a big deal.  \n09:38\u00a0<altker1281>\u00a0Client machine is quad-core Xeon (core i7), so it is not client rendering times  \n09:38\u00a0<tmortagne>\u00a0altker1281: 1. XWiki is initailizing lots of stuff during the first request and several indexing like lucene and core extensions are started  \n09:39\u00a0<altker1281>\u00a0tmortagne: What about subsequent requests still responding slowly?  \n09:39\u00a0<tmortagne>\u00a0once all those initialization stuff are done and you have some document in the cache it should be quick  \n09:40\u00a0<altker1281>\u00a0I set the document cache to 1000 and persistance to 1 hr  \n09:40\u00a0<tmortagne>\u00a0the indexing stuff are done on background  \n09:40\u00a0<tmortagne>\u00a0so after the first response too  \n09:41\u00a0<altker1281>\u00a0If it doesn't get better?  \n09:41\u00a0<altker1281>\u00a0Anything else to adjust?  \n09:41\u00a0<tmortagne>\u00a0but that's mostly for the really first start since the lucene index is not recreated at each restart  \n09:41\u00a0<tmortagne>\u00a0altker1281: it does not not get better in how much time ?  \n09:41\u00a0<altker1281>\u00a0It feels like 200 to 300 ms  \n09:42\u00a0<tmortagne>\u00a0I mean how much time after the start  \n09:42\u00a0<altker1281>\u00a0You mean after the initial delay?  \n09:42\u00a0<tmortagne>\u00a0you can look a search admin UI to see where is it in the indexing process  \n09:43\u00a0<altker1281>\u00a0This is BTW what tomcat server-status module reports  \n09:43\u00a0<altker1281>\u00a0http-bio-8080\"  \n09:43\u00a0<altker1281>\u00a0Max threads: 200 Current thread count: 10 Current thread busy: 2  \n09:43\u00a0<altker1281>\u00a0Max processing time: 12372 ms Processing time: 14.889 s Request count: 29 Error count: 2 Bytes received: 0.00 MB Bytes sent: 0.10 MB  \n09:44\u00a0<altker1281>\u00a0So I have NOT restarted tomcat, it's been about an hr since I accessed xwiki, I just accessed it and the page load time was on the order of a few seconds.  \n09:45\u00a0<tmortagne>\u00a0altker1281: did you try several pages or only the home page ?  \n09:45\u00a0<tmortagne>\u00a0coul you try a page that does not exist for example  \n09:45\u00a0<altker1281>\u00a0If I go to Profile, and click on items, the delay is 2-3 seconds  \n09:45\u00a0<altker1281>\u00a0consistently.  \n09:46\u00a0<altker1281>\u00a0That is, profiles in the upper right  \n09:47\u00a0<altker1281>\u00a0Preferences, Watchlist, Network -- clicking any of those is at least a 3 second wait  \n09:47\u00a0<tmortagne>\u00a0could you try something like /xwiki/bin/view/WrongSpace/WrongPage  \n09:47\u00a0<altker1281>\u00a0fairly fast  \n09:48\u00a0<altker1281>\u00a0But then clicking edit this page take 2-3 seconds...  \n09:48\u00a0<altker1281>\u00a0If you give me a second, I can grant you access to the site and you can see for yourself  \n09:49\u00a0<tmortagne>\u00a0if you save that page with empty content it become slow like others ?  \n09:49\u00a0<altker1281>\u00a0No, then it's more reasonable  \n09:49\u00a0<altker1281>\u00a0after saving it  \n09:49\u00a0<altker1281>\u00a0but if I click on WYSWYG editing, that take a second or two to load...  \n09:50\u00a0<altker1281>\u00a0Is 40.246.0.109 your IP?  \n09:50\u00a0<tmortagne>\u00a0if it's the very first time you load the WYSIWYG it's probably expected  \n09:50\u00a0<tmortagne>\u00a0then it's in your browser cache  \n09:50\u00a0<altker1281>\u00a0Not the first time, I can go back to it and it's still that way  \n10:13\u00a0<vmassol>\u00a0has joined #xwiki  \n10:30\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:34\u00a0<altker1281>\u00a0vmassol: Ping  \n10:36\u00a0<vmassol>\u00a0yes?  \n10:38\u00a0<altker1281>\u00a0I'm trying to debug some performance issues with xwiki. tmortagne has very kindly been helping me. \u00a0The biggest issue is large pauses when interacting with xwiki, sometimes on the order of a few seconds.  \n10:38\u00a0<cjd>\u00a0has joined #xwiki  \n10:39\u00a0<altker1281>\u00a0Server is very powerful (Core i7 quad-core ; JAVA\\_OPTS have been set to allocate 1.6GB) and client is fast too (Xeon-E3, quad-core). \u00a0This is using the xwiki Debian packages on a fresh Wheezy configuration.  \n10:41\u00a0<altker1281>\u00a0vmassol: Can you provide any further assistance in debugging?  \n10:43\u00a0<Slashman>\u00a0has joined #xwiki  \n10:46\u00a0<tmortagne>\u00a0from what we seen with altker1281: it does not seems to be so much the page execution time but downloading all the web resources takes a long time, expecially /xwiki/bin/skin/resources/js/xwiki/xwiki-min.js?defer=false&language=en  \n11:39\u00a0<altker1281>\u00a0vmassol: If you have some ideas, please let me know. \u00a0I feel that this issue might affect more than just me -- I'm using an almost vanilla setup from the XWiki website.  \n12:33\u00a0<altker1281>\u00a0has quit  \n12:39\u00a0<altker1281>\u00a0has joined #xwiki  \n12:44\u00a0<vmassol1>\u00a0has joined #xwiki  \n12:48\u00a0<vmassol>\u00a0has quit  \n13:14\u00a0<mflorea>\u00a0has quit  \n13:35\u00a0<\\_Frank>\u00a0has quit  \n13:52\u00a0<sburjan>\u00a0Hello devs. can someone tell me how can I hide a action from a LiveTable depending on some checks, like for rights ?  \n13:57\u00a0<vmassol1>\u00a0\"action\"?  \n14:00\u00a0<mflorea>\u00a0has joined #xwiki  \n14:00\u00a0<sburjan>\u00a0vmassol1, : \\_actions column .. I \u00a0have a custom action which I want to hide if the user is not logged in  \n14:00\u00a0<vmassol1>\u00a0\\_actions is fixed  \n14:00\u00a0<vmassol1>\u00a0you can create your own column  \n14:02\u00a0<sdumitriu>\u00a0vmassol1: What do you think about removing ancient snippets that don't work anymore from e.x.o?  \n14:02\u00a0<sdumitriu>\u00a0Like this one: extensions.xwiki.org/xwiki/bin/view/Extension/RSS+Feed+On+Keyword  \n14:02\u00a0<vmassol1>\u00a0I don't know  \n14:02\u00a0<vmassol1>\u00a0it's mentioned where it works  \n14:03\u00a0<sdumitriu>\u00a0There's no XWiki.WebRssCode anymore, the performance is horrible, and there's already a nice link for that in the search app (RSS for that search query)  \n14:03\u00a0<vmassol1>\u00a0it can provide inspiration  \n14:03\u00a0<sdumitriu>\u00a0Bad inspiration  \n14:03\u00a0<vmassol1>\u00a0for the api  \n14:03\u00a0<vmassol1>\u00a0I was answering the general question  \n14:04\u00a0<vmassol1>\u00a0if your question is just about this one  \n14:04\u00a0<tmortagne>\u00a0it's not good inspiration for API, it should use the query service  \n14:04\u00a0<vmassol1>\u00a0then I guess it can be removed if we verify that the RSS feed on keyword is correctly documented  \n14:05\u00a0<vmassol1>\u00a0but I don't fully agree about blindly removing old snippets that don't work  \n14:05\u00a0<vmassol1>\u00a0for me it's on a case by case basis  \n14:05\u00a0<sdumitriu>\u00a0vmassol1: True  \n14:05\u00a0<tmortagne>\u00a0same for me  \n14:05\u00a0<tmortagne>\u00a0some should be rewritten because they are important (some snippet written in 1.0 syntax that are impossible to use since 5.0)  \n14:05\u00a0<vmassol1>\u00a0yrp  \n14:05\u00a0<vmassol1>\u00a0yep  \n14:06\u00a0<sdumitriu>\u00a0That would be my next question  \n14:06\u00a0<sdumitriu>\u00a0Some snippets have both 1.0 and 2.0 examples, should we remove the 1.0 examples?  \n14:06\u00a0<tmortagne>\u00a0most of them were left in xwiki/1.0 syntax to work in as many versions as possible but with 5.0 it's more complex  \n14:06\u00a0<sdumitriu>\u00a0We're trying to deprecate the 1.0 syntax  \n14:07\u00a0<vmassol1>\u00a0good question, I think we should remove the 1.0 version indeed  \n14:07\u00a0<tmortagne>\u00a0I'm +1 to remove 1.0 versions  \n14:12\u00a0<mflorea>\u00a0tmortagne: was that needed for 5.1M1 (in commons master)?  \n14:12\u00a0<mflorea>\u00a0vmassol: the issue with whitespace in XML attribute values is the only issue preventing me from releasing 5.1M1. Unfortunately, EscapeTool.xml calls XMLUtils.escape which simply calls XMLUtils.escapeAttributeValue, so escapeAttributeValue doesn't do anything special. Moreover, it's public API and escaping the whitespace would mean changing the behaviour. So the options I see are:  \n14:12\u00a0<mflorea>\u00a0(1) write the implementation in EscapeTool.xmlAttribute  \n14:13\u00a0<mflorea>\u00a0(2) do the escaping in the wiki page, with replaceAll  \n14:13\u00a0<vmassol1>\u00a0since we're late maybe you could do (2) and make a proposal for (1) for M2?  \n14:14\u00a0<vmassol1>\u00a0unless you're sure of yourself, in which case you could do (1)  \n14:14\u00a0<vmassol1>\u00a0(personally I don't know yet what's best in term of apis)  \n14:14\u00a0<mflorea>\u00a0vmassol1: note that you broke it :)  \n14:14\u00a0<vmassol1>\u00a0I fixed a bug! :)  \n14:14\u00a0<vmassol1>\u00a0but yes  \n14:14\u00a0<sdumitriu>\u00a0I'd go for (1) now  \n14:14\u00a0<mflorea>\u00a0sure, but you have to handle the side effects  \n14:14\u00a0<vmassol1>\u00a0I know mflorea  \n14:15\u00a0<vmassol1>\u00a0which is why for me (2) is the simplest to fix by you no?  \n14:15\u00a0<mflorea>\u00a0yes  \n14:16\u00a0<mflorea>\u00a0right now it's the only place where we know it fails  \n14:16\u00a0<mflorea>\u00a0because there was a test  \n14:16\u00a0<mflorea>\u00a0but if there are other place, an escape tool would be nice  \n14:17\u00a0<mflorea>\u00a0I'm going to do (2) for now, with a FIXME comment  \n14:17\u00a0<vmassol1>\u00a0ok, thanks, creating a jira issue might be good too  \n14:17\u00a0<mflorea>\u00a0for the escape tool, sure  \n14:18\u00a0<vmassol1>\u00a0(yes for the escapetool idea)  \n14:18\u00a0<mflorea>\u00a0I'll open on  \n14:18\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n14:18\u00a0<vmassol>\u00a0thanks  \n14:24\u00a0<polx>\u00a0has quit  \n15:13\u00a0<vmassol>\u00a0has quit  \n15:38\u00a0<vmassol>\u00a0has joined #xwiki  \n16:12\u00a0<vmassol>\u00a0FTR the image macro got broken for a while and that's why florian tried to fix the chart macro page\u2026 :)  \n16:12\u00a0<vmassol>\u00a0(I talked to him and reverted his changes)  \n16:15\u00a0<polx>\u00a0has joined #xwiki  \n16:17\u00a0<msmeria>\u00a0vmassol: regarding http://jira.xwiki.org/browse/XWIKI-9111 what is the correct behaviour after recreating the subwiki with the same wiki name ? getting the DW or not ?  \n16:18\u00a0<msmeria>\u00a0I just retested this and when I accesed the subwiki for the second time I didn't get the DW  \n16:18\u00a0<vmassol>\u00a0msmeria: you should get it if you create a new empty subwiki  \n16:18\u00a0<vmassol>\u00a0it \u00a0= the DW  \n16:20\u00a0<msmeria>\u00a0yes, I just created another subwiki and got the DW  \n16:20\u00a0<msmeria>\u00a0so I guess the bug still isn't fixed ?  \n16:20\u00a0<msmeria>\u00a0should I have restarted the wiki ?  \n16:20\u00a0<vmassol>\u00a0tmortagne: ?  \n16:20\u00a0<vmassol>\u00a0msmeria: no  \n16:21\u00a0<vmassol>\u00a0msmeria: yes it seems the bug isn't fixed, tmortagne might know more  \n16:21\u00a0<msmeria>\u00a0vmassol: thanks  \n16:23\u00a0<tmortagne>\u00a0msmeria: when you delete the wiki do you still have corresponding status ? something like status/distribution/wiki/mywiki/status.xml  \n16:24\u00a0<tmortagne>\u00a0in you data folder  \n16:24\u00a0<msmeria>\u00a0tmortagne: let me check again with another wiki  \n16:24\u00a0<msmeria>\u00a0I already recreated the first one  \n16:28\u00a0<msmeria>\u00a0tmortagne: when I delete the subwiki the folder mywiki containing status.xml is automatically deleted  \n16:29\u00a0<tmortagne>\u00a0msmeria: I think I know what's wrong, the issue itself is true since the metadata is deleted but XWiki still remember the old one. You will probably get the DW if you restart  \n16:29\u00a0<tmortagne>\u00a0looking at it  \n16:30\u00a0<msmeria>\u00a0that's why I asked if I should have restarted the wiki  \n16:30\u00a0<msmeria>\u00a0tmortagne: trying now  \n16:30\u00a0<vmassol>\u00a0msmeria: normally you shouldn't restart the wiki, that's a bug  \n16:32\u00a0<tmortagne>\u00a0vmassol: I did not said it was rigth, I reopenned the issue  \n16:32\u00a0<vmassol>\u00a0tmortagne: I was replying to msmeria  \n16:32\u00a0<msmeria>\u00a0:)  \n16:34\u00a0<msmeria>\u00a0tmortagne, vmassol: I got the DW after restarting the wiki  \n16:34\u00a0<vmassol>\u00a0cool  \n16:34\u00a0<tmortagne>\u00a0msmeria: ok so that's it, good catch, committing a fix  \n16:34\u00a0<msmeria>\u00a0my pleasure  \n16:35\u00a0<tmortagne>\u00a0should be ok now  \n16:36\u00a0<sdumitriu>\u00a0Since everybody agreed to remove the GIF icons, should I do it now before M1?  \n16:36\u00a0<sdumitriu>\u00a0Or it's a bit dangerous?  \n16:36\u00a0<Enygma`>\u00a0has joined #xwiki  \n16:37\u00a0<sdumitriu>\u00a0Hey Enygma`, how's it going?  \n16:37\u00a0<vmassol>\u00a0sdumitriu: I think mflorea is close to being ready to release now, let's ask him\u2026 mflorea?  \n16:37\u00a0<Enygma`>\u00a0Hi sdumitriu  \n16:37\u00a0<Enygma`>\u00a0going well, thanks :)  \n16:38\u00a0<mflorea>\u00a0sdumitriu: please leave it for M2. I'm waiting for the ci build to finish. platform build failed again due to JVM crash..  \n16:39\u00a0<sdumitriu>\u00a0OK mflorea  \n16:40\u00a0<qwebirc55983>\u00a0has joined #xwiki  \n16:44\u00a0<sdumitriu>\u00a0Oh, not again  \n16:54\u00a0<sburjan>\u00a0has quit  \n16:55\u00a0<msmeria>\u00a0has quit  \n16:56\u00a0<sburjan>\u00a0has joined #xwiki  \n17:15\u00a0<Denis>\u00a0has quit  \n17:20\u00a0<evalica>\u00a0has quit  \n17:20\u00a0<evalica>\u00a0has joined #xwiki  \n17:21\u00a0<evalica>\u00a0has quit  \n17:22\u00a0<Enygma`>\u00a0has quit  \n17:27\u00a0<vmassol>\u00a0having some fun with http://extensions.xwiki.org/xwiki/bin/view/Extension/List+All+Spaces  \n17:27\u00a0<vmassol>\u00a0:)  \n17:27\u00a0<vmassol>\u00a0tmortagne: do you agree with \"note 3\"?  \n17:29\u00a0<tmortagne>\u00a0vmassol: if we want to make it configurable I guess  \n17:38\u00a0<vmassol>\u00a0has quit  \n17:50\u00a0<tmortagne>\u00a0has quit  \n18:14\u00a0<qwebirc55983>\u00a0Hello, #xwiki. \u00a0Is anyone available to talk about forms today? \u00a0I'll be around for several hours.  \n18:28\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n18:51\u00a0<polx>\u00a0has quit  \n18:59\u00a0<polx>\u00a0has joined #xwiki  \n18:59\u00a0<polx>\u00a0has quit  \n19:01\u00a0<polx>\u00a0has joined #xwiki  \n19:06\u00a0<polx>\u00a0has quit  \n19:08\u00a0<gdelhumeau>\u00a0has quit  \n19:14\u00a0<Denis1>\u00a0has joined #xwiki  \n19:16\u00a0<Denis1>\u00a0is now known as <Denis>  \n19:19\u00a0<Slashman>\u00a0has quit  \n19:27\u00a0<mflorea>\u00a0has quit  \n19:28\u00a0<sburjan>\u00a0has quit  \n19:30\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:54\u00a0<vmassol>\u00a0has joined #xwiki  \n19:59\u00a0<sdumitriu1>\u00a0vmassol: I'm not sure the SpaceList snippet is the right place to put future ideas  \n19:59\u00a0<sdumitriu1>\u00a0It's supposed to be a simple place where users go to find out how to do stuff  \n19:59\u00a0<sdumitriu1>\u00a0Too much code and too many notes might be confusing  \n20:06\u00a0<vmassol>\u00a0sdumitriu: I don't agree  \n20:06\u00a0<vmassol>\u00a0it's a didactic place  \n20:06\u00a0<vmassol>\u00a0and the comments explains why the code is like it is  \n20:07\u00a0<sdumitriu1>\u00a0OK  \n20:07\u00a0<vmassol>\u00a0ofc it's not the place to put design ideas  \n20:07\u00a0<vmassol>\u00a0but here I added it because I thought  \n20:08\u00a0<vmassol>\u00a0people might wonder why it's so complex  \n20:08\u00a0<vmassol>\u00a0I actually hesitated  \n20:08\u00a0<vmassol>\u00a0I removed it once and put it back after more thoughts  \n20:08\u00a0<vmassol>\u00a0maybe I was wrong  \n20:08\u00a0<vmassol>\u00a0but I don't think it's such a big deal  \n20:08\u00a0<sdumitriu1>\u00a0True  \n20:09\u00a0<sdumitriu1>\u00a0I guess every user sees the content on e.x.o in his own way  \n20:09\u00a0<qwebirc55983>\u00a0is now known as <\\_Frank>  \n20:09\u00a0<sdumitriu1>\u00a0Some just want a quick solution, others an inspiration or code example  \n20:10\u00a0<vmassol>\u00a0sdumitriu: actually I even wondered if this code snippet was in the right place on e.x.o  \n20:10\u00a0<vmassol>\u00a0vs being in the API guide  \n20:10\u00a0<vmassol>\u00a0I decided to leave it there ATM  \n20:14\u00a0<\\_Frank>\u00a0I've been working with the FAQ application tutorial and I have a few questions about what XWiki can do with forms.  \n20:15\u00a0<\\_Frank>\u00a0I should start by saying that the tutorial was very helpful and I'm impressed with XWiki.  \n20:19\u00a0<\\_Frank>\u00a0Something I will need to do is make a more flexible form. \u00a0I might have a set of fields together that I need to repeat an arbitrary number of times.  \n20:20\u00a0<\\_Frank>\u00a0A (completely made-up) example - I want to keep track of all the cars a person has owned. \u00a0I'd have fields for make, model, year, color.  \n20:21\u00a0<\\_Frank>\u00a0Then I'd want to be able to repeat those fields and fill them in over and over for each car so I have seperate info in each.  \n20:23\u00a0<\\_Frank>\u00a0Is that something that can be done with a class, properties, and a form?  \n20:23\u00a0<sdumitriu1>\u00a0Yep, kind of  \n20:23\u00a0<sdumitriu1>\u00a0You'll have to use more than one class  \n20:23\u00a0<sdumitriu1>\u00a0One main class for the person, and one secondary class for cars  \n20:24\u00a0<\\_Frank>\u00a0I see  \n20:24\u00a0<sdumitriu1>\u00a0And in the sheet that displays the person you display not just the person, but every instance of car  \n20:24\u00a0<\\_Frank>\u00a0So I'd end up with several objects associated with the page  \n20:24\u00a0<sdumitriu1>\u00a0Yes  \n20:25\u00a0<\\_Frank>\u00a0That sounds like a plan.  \n20:25\u00a0<sdumitriu1>\u00a0The main problem is that if you're editing in inline (form) mode, it's a bit complex to handle the dynamic addition of new cars  \n20:25\u00a0<sdumitriu1>\u00a0Since it has to be done with a separate request to the /objectadd/ action  \n20:25\u00a0<sdumitriu1>\u00a0And then those objects remain there even if you cancel instead of save  \n20:25\u00a0<sdumitriu1>\u00a0That's something we need to improve in the platform at some point  \n20:26\u00a0<sdumitriu1>\u00a0Anyway, the best way of doing this is through an AJAX call  \n20:26\u00a0<sdumitriu1>\u00a0Look for example how the comments area works  \n20:26\u00a0<\\_Frank>\u00a0So it would be possible to create \"orphan\" objects in the process, is that right?  \n20:26\u00a0<sdumitriu1>\u00a0commentsinline.vm  \n20:26\u00a0<sdumitriu1>\u00a0Yes, exactly  \n20:26\u00a0<sdumitriu1>\u00a0You click to add a new car, then change your mind and click cancel  \n20:27\u00a0<sdumitriu1>\u00a0While all the other changes aren't saved, you still have a new empty car obect  \n20:27\u00a0<\\_Frank>\u00a0The car is created but the person is not.  \n20:27\u00a0<sdumitriu1>\u00a0Of course, you can work around that with an EventListener that deletes all empty cars whenever a document is saved or the edit action is canceled  \n20:28\u00a0<\\_Frank>\u00a0That's exactly what I was thinking of.  \n20:28\u00a0<sdumitriu1>\u00a0Hm, not at save, since that's going to reverse the /objectadd/ action instantly  \n20:28\u00a0<sdumitriu1>\u00a0But yeah, you can listen to the cancel action  \n20:29\u00a0<\\_Frank>\u00a0I'd be happy to do clean-up once a day or something like that.  \n20:30\u00a0<\\_Frank>\u00a0Aside from the potential for some empty objects, this is really good news.  \n20:31\u00a0<\\_Frank>\u00a0Is there any documentation about how to set up a form to work with multiple classes?  \n20:32\u00a0<sdumitriu1>\u00a0Don't remember...  \n20:33\u00a0<sdumitriu1>\u00a0I can show you an example, but it's an extremely complex one, it will probably be more confusing than helpful  \n20:33\u00a0<sdumitriu1>\u00a0As for daily cleanup, yes, you can write a scheduler job that does the cleanup  \n20:35\u00a0<sdumitriu1>\u00a0Another trick that I've been doing is to replace the cancel button with a rollback, which automatically rolls back to the version that was last saved  \n20:41\u00a0<sdumitriu1>\u00a0Ah, this one is a pretty good example: http://extensions.xwiki.org/xwiki/bin/view/Extension/Polls+Application  \n20:51\u00a0<\\_Frank>\u00a0Awesome, I will look at that.  \n20:55\u00a0<\\_Frank>\u00a0I'll be back later when I've had time to run it through.  \n21:11\u00a0<Denis>\u00a0has quit  \n22:05\u00a0<Denis>\u00a0has joined #xwiki  \n22:44\u00a0<altker1281>\u00a0Is anyone here using XWiki and NOT using something like Apache or nginx in-front?  \n22:44\u00a0<altker1281>\u00a0i.e. just using tomcat?  \n22:50\u00a0<sdumitriu1>\u00a0altker1281: We don't but there are users that do that  \n22:51\u00a0<sdumitriu1>\u00a0The most important reason for putting another layer is that there are much more tools for Apache than for Tomcat  \n22:51\u00a0<sdumitriu1>\u00a0So you can plug in mod\\_security and mod\\_cache, for example  \n22:51\u00a0<sdumitriu1>\u00a0Or a load balancer  \n22:52\u00a0<altker1281>\u00a0sdumitriu1: I've been trying to trouble shoot a performance related issue with tmortagne running on pure tomcat7  \n22:54\u00a0<altker1281>\u00a0sdumitriu1: Basically it seems like things are not being cached and it takes a very long time for content to download from the xwiki server. \u00a0I know this is vague, I can provide direct access to the machine if it will help someone in debugging. \u00a0Not sure what to do at this point.  \n22:55\u00a0<sdumitriu1>\u00a0Hm, that could be uncached additional resources (js, css), or internal java caches  \n22:55\u00a0<sdumitriu1>\u00a0Do you know which one it is?  \n22:58\u00a0<altker1281>\u00a0sdumitriu1: My log file from the conversation with tmortagne is abit corrupted ( had to reboot the IRC client)  \n22:58\u00a0<altker1281>\u00a0sdumitriu1: Give me a second  \n22:59\u00a0<altker1281>\u00a0sdumitriu1: May I msg you privately?  \n23:00\u00a0<sdumitriu1>\u00a0altker1281: Yes  \n23:00\u00a0<sdumitriu1>\u00a0I'm reading the logs from today  \n23:39\u00a0<sdumitriu1>\u00a0has quit  \n23:41\u00a0<vmassol>\u00a0has quit  \n23:57\u00a0<sdumitriu>\u00a0has quit  \n23:59\u00a0<sdumitriu>\u00a0has joined #xwiki\n"}