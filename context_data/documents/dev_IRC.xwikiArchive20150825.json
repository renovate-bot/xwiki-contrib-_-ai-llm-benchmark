{"id": "dev:IRC.xwikiArchive20150825", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150825", "title": "IRC Archive for channel #xwiki on 25 August 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n00:45\u00a0<Pbas>\u00a0has quit  \n00:50\u00a0<martin-h>\u00a0has quit  \n00:52\u00a0<martin-h>\u00a0has joined #xwiki  \n00:53\u00a0<vmassol>\u00a0has joined #xwiki  \n00:58\u00a0<Pbas>\u00a0has joined #xwiki  \n00:59\u00a0<vmassol>\u00a0has quit  \n01:11\u00a0<Chuguniy>\u00a0has joined #xwiki  \n04:35\u00a0<cpe>\u00a0has quit  \n04:36\u00a0<cpe\\_>\u00a0has joined #xwiki  \n04:36\u00a0<cpe\\_>\u00a0is now known as <cpe>  \n05:08\u00a0<Chuguniy>\u00a0has quit  \n05:14\u00a0<martin-h>\u00a0has quit  \n05:15\u00a0<martin-h>\u00a0has joined #xwiki  \n05:25\u00a0<\\_cjd\\_>\u00a0has quit  \n05:26\u00a0<\\_cjd\\_>\u00a0has joined #xwiki  \n05:43\u00a0<mflorea>\u00a0has joined #xwiki  \n07:11\u00a0<Ramona1>\u00a0has joined #xwiki  \n07:22\u00a0<martin-h>\u00a0has quit  \n07:22\u00a0<Ramona1>\u00a0has quit  \n07:24\u00a0<martin-h>\u00a0has joined #xwiki  \n07:54\u00a0<\\_init\\_cjd>\u00a0has joined #xwiki  \n07:57\u00a0<\\_cjd\\_>\u00a0has quit  \n08:05\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:10\u00a0<\\_init\\_cjd>\u00a0has quit  \n08:15\u00a0<Ramona2>\u00a0has joined #xwiki  \n08:19\u00a0<sorinello>\u00a0has joined #xwiki  \n08:19\u00a0<sorinello>\u00a0has joined #xwiki  \n08:30\u00a0<msmeria>\u00a0has joined #xwiki  \n08:39\u00a0<evalica>\u00a0has joined #xwiki  \n08:42\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:43\u00a0<vmassol>\u00a0has joined #xwiki  \n08:56\u00a0<Ramona2>\u00a0has quit  \n08:56\u00a0<Ramona2>\u00a0has joined #xwiki  \n09:01\u00a0<\\_init\\_cjd>\u00a0has joined #xwiki  \n09:13\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:59\u00a0<Ramona2>\u00a0has quit  \n09:59\u00a0<Ramona3>\u00a0has joined #xwiki  \n10:02\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:49\u00a0<Trefex>\u00a0has joined #xwiki  \n11:00\u00a0<tmortagne>\u00a0has quit  \n11:22\u00a0<gsmeria>\u00a0has quit  \n11:22\u00a0<Ramona3>\u00a0has quit  \n11:23\u00a0<Ramona2>\u00a0has joined #xwiki  \n11:37\u00a0<\\_init\\_cjd>\u00a0I just found an issue w/ 7.2 zipexplorer  \n11:38\u00a0<cjd>\u00a0has joined #xwiki  \n11:42\u00a0<\\_init\\_cjd>\u00a0has quit  \n12:18\u00a0<vmassol>\u00a0FYI, starting to work on the oracle bug for 7.2M3  \n12:18\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-12425  \n12:19\u00a0<cjd>\u00a0Is there a known issue with zipexplorer on 7.2 ?  \n12:19\u00a0<vmassol>\u00a0i don't tink so cjd  \n12:19\u00a0<vmassol>\u00a0\\*think  \n12:20\u00a0<cjd>\u00a0ok heads up that I notices on 7.2 I'm getting this: \u00a0\u00a0http://81.220.71.54:8080/xwiki/bin/download/SyntaxHighlighting/SyntaxHighlighting/codemirror.zip/codemirror-3.14/lib/codemirror.js --> 404  \n12:20\u00a0<vmassol>\u00a0this plugin has not been touched in the past 8 years or so :)  \n12:20\u00a0<cjd>\u00a0and the zip exists and it has the file in it  \n12:20\u00a0<vmassol>\u00a0ah  \n12:20\u00a0<vmassol>\u00a0wait  \n12:20\u00a0<vmassol>\u00a0thomas has updated commons compress  \n12:20\u00a0<vmassol>\u00a0maybe we use that  \n12:20\u00a0<vmassol>\u00a0in this plugin  \n12:20\u00a0<cjd>\u00a0was thinking more like path parsing or something...  \n12:21\u00a0<vmassol>\u00a0hmm no  \n12:21\u00a0<vmassol>\u00a0ah yes you're right  \n12:21\u00a0<vmassol>\u00a0It must be me  \n12:21\u00a0<vmassol>\u00a0who broke it when intoducing url schemes  \n12:21\u00a0<vmassol>\u00a0a jira issue would be nice  \n12:22\u00a0<cjd>\u00a0can do  \n12:22\u00a0<vmassol>\u00a0the problem must exist since 6.x  \n12:22\u00a0<cjd>\u00a0will test w/ 7.1  \n12:22\u00a0<vmassol>\u00a0try with 6.4  \n12:22\u00a0<vmassol>\u00a0it should fail too IMO  \n12:22\u00a0<vmassol>\u00a0or 6.4.4  \n12:23\u00a0<cjd>\u00a0also battling an odd issue where the wrong version of Syntax Highlighting Application is being installed  \n12:23\u00a0<cjd>\u00a0but Yann does not have the issue (he's on Windows, I'm on Mac, everything else is equal)  \n12:23\u00a0<cjd>\u00a0right down to the .zip file we unpack  \n12:25\u00a0<cjd>\u00a0so Extension Manager is installing Syntax Highlighting 2.2 for me and 3.1 for him (it should be detecting the XWiki version and installing 3.1)  \n12:26\u00a0<cjd>\u00a0Testing now on Linux to see if it's a Mac issue...  \n12:27\u00a0<cjd>\u00a0same issue on linux  \n12:28\u00a0<cjd>\u00a0http://openpass-recoengin.devxwiki.com:8080/xwiki/bin/download/SyntaxHighlighting/SyntaxHighlighting/codemirror.zip/codemirror-3.14/lib/codemirror.js  \n12:28\u00a0<cjd>\u00a07.1.2 -> works  \n12:29\u00a0<cjd>\u00a0http://81.220.71.54:8080/xwiki/bin/download/SyntaxHighlighting/SyntaxHighlighting/codemirror.zip/codemirror-3.14/lib/codemirror.js  \n12:29\u00a0<cjd>\u00a0(You'll have to trust me on that one)  \n12:29\u00a0<cjd>\u00a07.2-milestone-2 -> fails  \n12:29\u00a0<vmassol>\u00a0ok  \n12:30\u00a0<cjd>\u00a0creating issue  \n12:33\u00a0<cjd>\u00a0http://jira.xwiki.org/browse/XWIKI-12438  \n12:33\u00a0<vmassol>\u00a0thanks  \n12:34\u00a0<cjd>\u00a0sure thing  \n12:34\u00a0<cjd>\u00a0still tracking down this issue of versions being wrong  \n12:39\u00a0<vmassol>\u00a0lunch bbl  \n12:41\u00a0<gsmeria>\u00a0has joined #xwiki  \n12:52\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:53\u00a0<Ramona3>\u00a0has joined #xwiki  \n13:53\u00a0<Ramona2>\u00a0has quit  \n13:58\u00a0<vmassol>\u00a0has quit  \n13:59\u00a0<vmassol1>\u00a0has joined #xwiki  \n14:02\u00a0<ClemensR>\u00a0has joined #xwiki  \n14:08\u00a0<vmassol1>\u00a0ok I've reproduced XWIKI-12425 now debugging  \n14:20\u00a0<Ramona3>\u00a0has quit  \n14:20\u00a0<Ramona2>\u00a0has joined #xwiki  \n14:41\u00a0<vmassol1>\u00a0mflorea: FTR lucene and solr 5.3.0 are out :)  \n14:42\u00a0<mflorea>\u00a0ok  \n14:42\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n14:43\u00a0<vmassol>\u00a0we should probably wait for 7.3 to upgrade\u2026  \n14:50\u00a0<martin-h>\u00a0has quit  \n14:53\u00a0<martin-h>\u00a0has joined #xwiki  \n14:54\u00a0<mflorea>\u00a0yes  \n15:22\u00a0<gsmeria>\u00a0has quit  \n15:23\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:28\u00a0<Ramona2>\u00a0has quit  \n15:29\u00a0<Ramona2>\u00a0has joined #xwiki  \n15:29\u00a0<Ramona2>\u00a0has quit  \n15:30\u00a0<Ramona2>\u00a0has joined #xwiki  \n15:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:55\u00a0<gsmeria>\u00a0has quit  \n15:56\u00a0<gsmeria>\u00a0has joined #xwiki  \n15:56\u00a0<gsmeria>\u00a0has left #xwiki  \n15:59\u00a0<gsmeria>\u00a0has joined #xwiki  \n16:07\u00a0<Trefex>\u00a0hey tmortagne vmassol ClemensR. it's me :)  \n16:07\u00a0<Trefex>\u00a0I created my second sub-wiki, and the process is stuck at Installing document [https://lcsb-wiki.uni.lu/xwiki/wiki/iman/view/Main/ \u00bb https://lcsb-wiki.uni.lu/xwiki/wiki/iman/view/Stats/ \u00bb https://lcsb-wiki.uni.lu/xwiki/wiki/iman/view/Stats/Style]  \n16:07\u00a0<Trefex>\u00a0however on another tab, i can login, is there some heavy duty background task going on?  \n16:11\u00a0<vmassol>\u00a0still 25 issues left for 7.2M3 :(  \n16:11\u00a0<vmassol>\u00a0and still 7 blockers  \n16:12\u00a0<Trefex>\u00a0it's stuck on Installing document Stats >> Style and htop reports 200% CPU usage on jave processes, something is weird  \n16:12\u00a0<martin-h>\u00a0has quit  \n16:13\u00a0<Trefex>\u00a0do you have any ideas what I could try to do?  \n16:13\u00a0<vmassol>\u00a0moved 2 blockers for RC1  \n16:14\u00a0<vmassol>\u00a0Trefex: sorry I'm not an expert in DW  \n16:14\u00a0<vmassol>\u00a0(or EM)  \n16:14\u00a0<Trefex>\u00a0what's DW or EM vmassol ?  \n16:14\u00a0<martin-h>\u00a0has joined #xwiki  \n16:15\u00a0<vmassol>\u00a0distribution wizard  \n16:15\u00a0<vmassol>\u00a0extension manager  \n16:15\u00a0<Trefex>\u00a0ah, is this also used when you create a new sub-wiki ?  \n16:15\u00a0<Trefex>\u00a0i guess so  \n16:24\u00a0<vmassol>\u00a0mflorea: you're our JS expert and I don't feel confident implementing XWIKI-12205 alone by myself, I'd need at least some guidance from you and probably more than that. ATM I'm starting working on XWIKI-12438 since I know you're busy but we need to fix 12205 for M3 since it causes several other provlems  \n16:24\u00a0<vmassol>\u00a0(TBH i'd be more confident that someone more knowledgable about xwiki js apis work on it than myself)  \n16:25\u00a0<vmassol>\u00a0(but I'm ok to learn and try if need be, with someone who know js to guide me ;))  \n16:28\u00a0<vrachieru>\u00a0has joined #xwiki  \n16:29\u00a0<msmeria>\u00a0has quit  \n16:37\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:44\u00a0<Trefex>\u00a0vmassol: the snippet http://extensions.xwiki.org/xwiki/bin/view/Extension/Gravatar+Import  \n16:44\u00a0<Trefex>\u00a0doesn't work in xWiki 7.1.2, as is, i get a Nullpointer  \n16:45\u00a0<vmassol>\u00a0interesting  \n16:45\u00a0<vmassol>\u00a0it should work unless we've broken some apis  \n16:45\u00a0<vmassol>\u00a0I'll check it  \n16:46\u00a0<vmassol>\u00a0works for me  \n16:46\u00a0<vmassol>\u00a0except for one small detail  \n16:47\u00a0<vmassol>\u00a0I've used services.query.xwql() instyead of the deprecated api in the snippet  \n16:47\u00a0<vmassol>\u00a0(for which you need a legacy build)  \n16:47\u00a0<vmassol>\u00a0snippet updated  \n16:52\u00a0<Enygma`>\u00a0has quit  \n16:52\u00a0<Trefex>\u00a0vmassol: thanks  \n16:52\u00a0<vmassol>\u00a0works for you?  \n16:52\u00a0<Enygma`>\u00a0has joined #xwiki  \n16:53\u00a0<Trefex>\u00a0vmassol: i'll try now  \n16:53\u00a0<Trefex>\u00a0nope, same  \n16:54\u00a0<Trefex>\u00a0https://paste.fedoraproject.org/259039/44051443/  \n16:55\u00a0<vmassol>\u00a0I think it just means you have some users without an \"email\" proerty  \n16:56\u00a0<vmassol>\u00a0seems the null is at \u00a0def email = userObj.getProperty(\"email\").getValue()  \n16:56\u00a0<vmassol>\u00a0when calling getValue() on some null  \n16:56\u00a0<vmassol>\u00a0so getProperty must have returned null  \n16:56\u00a0<vmassol>\u00a0so email is probably not existing  \n16:56\u00a0<Trefex>\u00a0hah  \n16:57\u00a0<Trefex>\u00a0<\u2014 idiot  \n16:57\u00a0<Trefex>\u00a0i didn't do the email LDAP mapping  \n16:57\u00a0<Trefex>\u00a0...  \n16:58\u00a0<Trefex>\u00a0vmassol: do you have somewhere the full list of user properties?  \n16:58\u00a0<vmassol>\u00a0in the XWiki.XWikiUsers xclass  \n17:01\u00a0<Trefex>\u00a0not sure how to find those  \n17:02\u00a0<vmassol>\u00a0go to that page and edit using the class editor  \n17:04\u00a0<Trefex>\u00a0gotcha  \n17:05\u00a0<vrachieru>\u00a0has quit  \n17:06\u00a0<mflorea>\u00a0vmassol: I'd like to help but I'm busy with integrating the tree in the create/copy/rename UI. I should be able to finish today, but there is still some work needed to make the copy/rename async (with progress), similar to what gdelhumeau did for the delete action  \n17:07\u00a0<gdelhumeau>\u00a0mflorea: I am thinking about adding the logs in the REST JobStatus  \n17:07\u00a0<mflorea>\u00a0would be good  \n17:07\u00a0<gdelhumeau>\u00a0but I'm affraid that the JSON would become too loud  \n17:08\u00a0<vmassol>\u00a0verbose?  \n17:08\u00a0<gsmeria>\u00a0has left #xwiki  \n17:08\u00a0<Slashman>\u00a0has joined #xwiki  \n17:10\u00a0<mflorea>\u00a0vmassol: so either gdelhumeau/Enygma` help with you XWIKI-12205, or they help me with the progress bar on the copy/rename and I help you (tomorrow, after I commit my work), or we add the progress bar in RC1 and I help you tomorrow  \n17:10\u00a0<vmassol>\u00a0:)  \n17:10\u00a0<vmassol>\u00a0tomorrow is fine  \n17:10\u00a0<Trefex>\u00a0vmassol: it's not possible to sync all ldap accounts or? eg i know added email mapping  \n17:10\u00a0<Trefex>\u00a0but it only updated my own account, not for all ldap entries  \n17:10\u00a0<mflorea>\u00a0ok :)  \n17:10\u00a0<vmassol>\u00a0I need some time to finish XWIKI-12438  \n17:10\u00a0<vmassol>\u00a0it's complex actually  \n17:11\u00a0<gdelhumeau>\u00a0I'm doing a test with a delete of 500 documents, and the log is ~132 ko in JSON  \n17:11\u00a0<gdelhumeau>\u00a0the full log  \n17:11\u00a0<vmassol>\u00a0Trefex: no idea, I don't use LDAP  \n17:12\u00a0<cjd>\u00a0zipexplorer and nested spaces just don't get along that well  \n17:12\u00a0<Trefex>\u00a0anybody else can help me with LDAP?  \n17:12\u00a0<vmassol>\u00a0cjd: \"The real fix is that the zipexplorer plugin would need its own action instead of reusing the download one...\"  \n17:12\u00a0<gdelhumeau>\u00a0but we don't often delete 500 documents so maybe it's ok to have a big log  \n17:12\u00a0<vmassol>\u00a0what doesn't get along is the old plugin mechanism and the new URL schemes  \n17:12\u00a0<tmortagne>\u00a0Trefex: synchronization happen only on the user that login  \n17:12\u00a0<cjd>\u00a0yeap  \n17:13\u00a0<vmassol>\u00a0old plugin interface had a downloadAttachment() method  \n17:13\u00a0<vmassol>\u00a0accepting an attachment  \n17:13\u00a0<Trefex>\u00a0tmortagne: crap, so now i can't do gravatar snippet, because each user have to login first  \n17:13\u00a0<vmassol>\u00a0the reason it workes before was because of a hack in the download action  \n17:13\u00a0<vmassol>\u00a0\\*worked  \n17:14\u00a0<vmassol>\u00a0that action was supporting/ignoring variable-lenght paths  \n17:14\u00a0<tmortagne>\u00a0Trefex: I think there is some scripts in http://extensions.xwiki.org to import all users but never used them myself  \n17:14\u00a0<vmassol>\u00a0so the zipexplorer could use it fine  \n17:14\u00a0<vmassol>\u00a0but it's no longer the case  \n17:14\u00a0<vmassol>\u00a0so the real solution is a custom action for the zipexplorer plugin  \n17:14\u00a0<vmassol>\u00a0so that it can parse its own url format  \n17:14\u00a0<vmassol>\u00a0(which is something specific)  \n17:15\u00a0<tmortagne>\u00a0Trefex: I guess it would be enough to import users once and then cound on active users to log enough for there profile to be up to date  \n17:15\u00a0<tmortagne>\u00a0s/cound/count/  \n17:15\u00a0<Trefex>\u00a0tmortagne: i just wanted to map the email field on existing users  \n17:15\u00a0<vmassol>\u00a0gdelhumeau: how long would it be for 1.4M docs? :)  \n17:15\u00a0<vmassol>\u00a0\\*large  \n17:16\u00a0<tmortagne>\u00a0not sure there is up to date scripts to import uses actually  \n17:16\u00a0<Trefex>\u00a0it's not to import, rather to sync existing ones  \n17:16\u00a0<Trefex>\u00a0so foreach xwiki.user -> ldap sync  \n17:16\u00a0<tmortagne>\u00a0yep but it's pretty much the same code  \n17:17\u00a0<Trefex>\u00a0ok well then no gravatar for now :D  \n17:17\u00a0<tmortagne>\u00a0it's not a very hard script to write  \n17:17\u00a0<tmortagne>\u00a0sine the whole sync thing is a one method call  \n17:17\u00a0<tmortagne>\u00a0all the script has to do is the foreach  \n17:17\u00a0<Trefex>\u00a0that i can do  \n17:17\u00a0<Trefex>\u00a0off to find the one method call  \n17:18\u00a0<gdelhumeau>\u00a0it's around 350 bytes per document so ~4.56 Go  \n17:19\u00a0<tmortagne>\u00a0Trefex: com.xpn.xwiki.plugin.ldap.XWikiLDAPUtils.updateUserFromLDAP  \n17:19\u00a0<tmortagne>\u00a0you will have to use Groovy  \n17:19\u00a0<vmassol>\u00a0gdelhumeau: I hope we don't need to read it all in memory inside xwiki or it won't work  \n17:19\u00a0<tmortagne>\u00a0or any other real language (not Velocity basically)  \n17:19\u00a0<gdelhumeau>\u00a0do you think we often delete a document having 1.4M children? (it's a real question)  \n17:20\u00a0<gdelhumeau>\u00a0hmm and I think it's logged on the jobstatus anyway  \n17:20\u00a0<gdelhumeau>\u00a0(in mean, in XWiki, not in the REST resource)  \n17:22\u00a0<vmassol>\u00a0cjd: http://jira.xwiki.org/browse/XWIKI-12438?focusedCommentId=87491&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-87491  \n17:22\u00a0<cjd>\u00a0sounds right  \n17:23\u00a0<cjd>\u00a0so hax to make zipexplorer work and let everything else be broken  \n17:23\u00a0<vmassol>\u00a0still pondering if I'll do a hax or do it properly with a custom action ;)  \n17:23\u00a0<vmassol>\u00a0need more time to decide...  \n17:24\u00a0<tmortagne>\u00a0has quit  \n17:29\u00a0<Trefex>\u00a0this my first groovy script in xwiki, and getting  \n17:29\u00a0<Trefex>\u00a0Caused by: javax.script.ScriptException: javax.script.ScriptException: groovy.lang.MissingMethodException: No signature of method: static com.xpn.xwiki.plugin.ldap.XWikiLDAPUtils.searchUserAttributesByUid() is applicable for argument types: (java.lang.String, [Ljava.lang.String;) values: [christophe.trefois, [mail]]  \n17:29\u00a0<Trefex>\u00a0and the header in the javadoc states it should be (String, [] String) so no idea what's going on  \n17:31\u00a0<cjd>\u00a0If you want to make code which stands the test of time, hack it in a few minutes with the full intent of replacing it :)  \n17:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:44\u00a0<ClemensR>\u00a0has left #xwiki  \n17:46\u00a0<Ramona2>\u00a0has quit  \n17:47\u00a0<Ramona2>\u00a0has joined #xwiki  \n17:56\u00a0<Trefex>\u00a0damn, this is tough. how do i get this sorted?  \n17:56\u00a0<Trefex>\u00a0Caused by: javax.script.ScriptException: javax.script.ScriptException: groovy.lang.MissingMethodException: No signature of method: com.xpn.xwiki.plugin.ldap.XWikiLDAPConfig.getLDAPBindDN() is applicable for argument types: (com.xpn.xwiki.api.Context) values: [com.xpn.xwiki.api.Context@1abd9dd]  \n17:58\u00a0<cjd>\u00a0Without much knowledge of that particular function, I'm going to take a wild guess and suggest it requires an XWikiContext object, not a Context ?  \n17:58\u00a0<Trefex>\u00a0cjd i have no clue how to get that  \n17:58\u00a0<cjd>\u00a0in which case xcontext.getContext() will yield the object you are looking for  \n17:58\u00a0<Trefex>\u00a0ah!  \n18:02\u00a0<Trefex>\u00a0ah well i give up, don't understand shit :)  \n18:06\u00a0<evalica>\u00a0has quit  \n18:06\u00a0<cjd>\u00a0has quit  \n18:07\u00a0<Enygma`>\u00a0vmassol: I guess you could do XWIKI-12205 by passing an XWiki.EntityReference to the constructor of XWiki.Document and then doing something like https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/js/xwiki/create/create.js#L244 to create the URL.  \n18:07\u00a0<Enygma`>\u00a0you`d also still have to support the old method signature for backwards compatibility  \n18:08\u00a0<vmassol>\u00a0the whole thing has to be rewritten, it's not just for getting a url  \n18:08\u00a0<vmassol>\u00a0(whole api using space and page)  \n18:08\u00a0<cjd>\u00a0has joined #xwiki  \n18:08\u00a0<Enygma`>\u00a0by \"whole API\", WDYM? XWiki.Document ?  \n18:09\u00a0<vmassol>\u00a0yes and possible any other js api using space/page  \n18:09\u00a0<vmassol>\u00a0\\*poosibly  \n18:09\u00a0<vmassol>\u00a0\\*possibly  \n18:09\u00a0<Enygma`>\u00a0XWiki.resource looks pretty pointless to me now, maybe we could retire it  \n18:10\u00a0<vmassol>\u00a0right now the first decision to take si whether to go in the driection of the patch I put on the issue  \n18:10\u00a0<vmassol>\u00a0yes the api is really strange  \n18:10\u00a0<vmassol>\u00a0there are strange and redundant things in several places  \n18:11\u00a0<tmortagne>\u00a0has quit  \n18:11\u00a0<vmassol>\u00a0patch = either pass a serilalized ref or a json structure with the various ref elements  \n18:11\u00a0<Enygma`>\u00a0iiih... a patch file... haven`t seen one of those in a while :)  \n18:11\u00a0<vmassol>\u00a0in this patch, i've gone the serialized wy  \n18:11\u00a0<vmassol>\u00a0\\*way  \n18:12\u00a0<vmassol>\u00a0(right now I'm on the zipexplorer thing)  \n18:16\u00a0<KermitTheFragger>\u00a0has quit  \n18:16\u00a0<Ramona2>\u00a0has quit  \n18:16\u00a0<Ramona2>\u00a0has joined #xwiki  \n18:22\u00a0<Trefex>\u00a0vmassol: well i can't get it done, can't even connect to LDAP it seems, used https://github.com/xwiki-contrib/application-ldaptools/blob/master/src/main/resources/XWiki/SynchronizeLdapUsers.xml to inspire myself but it's in vein  \n18:22\u00a0<vmassol>\u00a0sorry can't help on this. I'm also busy on something else atm  \n18:22\u00a0<Trefex>\u00a0yeah no worries, just gonna abandon this  \n18:25\u00a0<cjd>\u00a0has quit  \n18:38\u00a0<Ramona2>\u00a0has quit  \n18:42\u00a0<tmortagne>\u00a0has joined #xwiki  \n18:46\u00a0<Enygma`>\u00a0vmassol: what about if for XWIKI-12372 we only disable the terminal document checkbox (that only appears for advanced users anyway), since it would be more explicit this way towards what is actually going on?  \n18:46\u00a0<Enygma`>\u00a0(I actually already did this in a previous commit :) by \"mistake\" )  \n18:47\u00a0<tmortagne>\u00a0has quit  \n18:48\u00a0<vmassol>\u00a0Enygma`: by disable you mean it would be visible but not selectable?  \n18:48\u00a0<Enygma`>\u00a0the \"tocreate=space\" parameter is still supported by the create action and the title says \"Create Space\", but the rest of the UI talks about pages anyway  \n18:48\u00a0<Enygma`>\u00a0yes  \n18:48\u00a0<vmassol>\u00a0what's the rationale of making it visible?  \n18:48\u00a0<vmassol>\u00a0it has not meaning for a space AFAIK  \n18:48\u00a0<vmassol>\u00a0\\*no  \n18:48\u00a0<vmassol>\u00a0I'd rather we don't show it at all  \n18:48\u00a0<Enygma`>\u00a0a space is nothing more than a non-terminal document... to an advanced user this would make sense  \n18:49\u00a0<vmassol>\u00a0exactly so why show the option?  \n18:49\u00a0<vmassol>\u00a0it has no meaning to me  \n18:49\u00a0<vmassol>\u00a0and the rest of the UI is just wrong IMO  \n18:51\u00a0<Enygma`>\u00a0so you want to add yet another layer of labels to the same UI to make it \"look\" like something else?  \n18:52\u00a0<Enygma`>\u00a0I`m not sure what you are suggesting  \n18:52\u00a0<vmassol>\u00a0I'm suggesting that showing the terminal page option when creating a space is plain wrong  \n18:53\u00a0<vmassol>\u00a0it has no meaning at all  \n18:53\u00a0<Enygma`>\u00a0I`ve just explained that it can be understood as a status or information on what you are about to create, not necessarily as an option, since that checkbox is checked or not depending on the action you are about to perform  \n18:53\u00a0<vmassol>\u00a0what you're saying is that we should simply remove create space and only have create page even when the user wants to create a space which is going backward in term of usability  \n18:54\u00a0<vmassol>\u00a0s/saying/hinting  \n18:54\u00a0<Enygma`>\u00a0painting an apple orange does not make it an orange  \n18:54\u00a0<vmassol>\u00a0a space is not a page  \n18:54\u00a0<vmassol>\u00a0oterhwie we wouldbn't have spaces ...  \n18:54\u00a0<Enygma`>\u00a0a non-terminal page is a space :)  \n18:54\u00a0<vmassol>\u00a0no  \n18:54\u00a0<vmassol>\u00a0otehrwise we wouldn't have spaces  \n18:55\u00a0<vmassol>\u00a0(in the UI)  \n18:55\u00a0<Enygma`>\u00a0then what does the create space action actually create?  \n18:56\u00a0<vmassol>\u00a0you're confusing model and UI  \n18:56\u00a0<Enygma`>\u00a0you could argue that you can create a space even with a terminal page, but we don`t expose that in the UI  \n18:57\u00a0<vmassol>\u00a0I really don't get it why you want to make it hard for the user  \n18:57\u00a0<vmassol>\u00a0(harder than it can be that is)  \n18:58\u00a0<Enygma`>\u00a0so making them juggle 2 concepts instead of 1 and then going through the struggle of explaining them which is which is easier? :)  \n18:58\u00a0<Enygma`>\u00a0anyway. I`ll do it the way you suggested. But the rest of the UI still talks about pages currently.  \n18:58\u00a0<Enygma`>\u00a0(except for the title, of course)  \n18:59\u00a0<vmassol>\u00a0well you get my POV, maybe others don't agree and would side with you :)  \n18:59\u00a0<vmassol>\u00a0I agree that it's not normal that the rest of the UI talks about pages  \n19:00\u00a0<Enygma`>\u00a0ATM we no longer really have a space creation UI, just a deprecated set of parameters in the create action  \n19:00\u00a0<vmassol>\u00a0my POV is that we shouldn't expose the impl in the UI  \n19:00\u00a0<vmassol>\u00a0(impl of spaces)  \n19:00\u00a0<Enygma`>\u00a0if we want to change that, we could talk about it for 7.3M1 probably  \n19:00\u00a0<vmassol>\u00a0and that it should be 2 concepts: Space and Page  \n19:01\u00a0<Enygma`>\u00a0weren`t we doing Nested Documents in the UI?  \n19:01\u00a0<vmassol>\u00a0or that comments = xobjects  \n19:01\u00a0<vmassol>\u00a0etc  \n19:01\u00a0<vmassol>\u00a0sure, we're talking about NS here not ND  \n19:02\u00a0<vmassol>\u00a0(create space will not exist by default anymore in ND)  \n19:03\u00a0<OSIMasson>\u00a0has quit  \n19:04\u00a0<vmassol>\u00a0\"Note that even though we'll remove the Add > Space menu entry in Flamingo, we should still probably continue supporting the create space template action for extension that might call it or simply for other skins which might want to create spaces since the Space concept still exist at the model level.\"  \n19:04\u00a0<vmassol>\u00a0so in the default UI we won't see create space  \n19:07\u00a0<vmassol>\u00a0so to summarize, the fact that a space is implemented as a page should remain an implementation details for me and not exposed in the UI as much as possible.  \n19:09\u00a0<vmassol>\u00a0(Enygma`)  \n19:09\u00a0<Enygma`>\u00a0so basically you are proposing that we use a parallel set of labels to apply in this case to the create UI  \n19:09\u00a0<vmassol>\u00a0yes  \n19:09\u00a0<vmassol>\u00a0and a different ui  \n19:10\u00a0<vmassol>\u00a0there are commo parts but they're different uis  \n19:10\u00a0<Enygma`>\u00a0why? (except for terminal page checkbox maybe)  \n19:10\u00a0<vmassol>\u00a0creating a space for ex only requires a space name while creating a page requires space + page  \n19:11\u00a0<Enygma`>\u00a0not really  \n19:11\u00a0<Enygma`>\u00a0creating a space requires a parent space, a space identifier and perhaps a space title  \n19:11\u00a0<vmassol>\u00a0yes with NS we cheat a bit  \n19:11\u00a0<vmassol>\u00a0s/NS/ND  \n19:12\u00a0<vmassol>\u00a0but they don't mean the same thing  \n19:12\u00a0<Enygma`>\u00a0actually, the current implementation of the backwards compatible space handling is that, indeed, only top level spaces can be created  \n19:12\u00a0<vmassol>\u00a0anyway we should reuse to the max the common elements  \n19:12\u00a0<vmassol>\u00a0to avoid copy paste  \n19:14\u00a0<vmassol>\u00a0note: we could imagine allowing to set rights before creating the page or space too for example  \n19:15\u00a0<vmassol>\u00a0(not saying we should do it :))  \n19:19\u00a0<vmassol>\u00a0bbiab  \n19:27\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:33\u00a0<Enygma`>\u00a0vmassol: created XWIKI-12445  \n19:46\u00a0<gdelhumeau>\u00a0has quit  \n19:53\u00a0<vmassol>\u00a0ok thanks Enygma`  \n20:03\u00a0<mflorea>\u00a0has quit  \n20:07\u00a0<Enygma`>\u00a0has quit  \n20:43\u00a0<cjd>\u00a0has joined #xwiki  \n20:56\u00a0<Trefex>\u00a0has quit  \n21:54\u00a0<Slashman>\u00a0has quit  \n23:22\u00a0<vmassol>\u00a0has quit\n"}