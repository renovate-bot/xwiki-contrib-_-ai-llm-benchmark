{"id": "dev:IRC.xwikiArchive20110106", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110106", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:36\u00a0<Menso>\u00a0wait wut  \n00:58\u00a0<lucaa>\u00a0has quit  \n01:11\u00a0<npm\\_>\u00a0has joined #xwiki  \n01:14\u00a0<lucaa>\u00a0has joined #xwiki  \n01:15\u00a0<npm>\u00a0has quit  \n01:23\u00a0<npm\\_\\_>\u00a0has joined #xwiki  \n01:27\u00a0<npm\\_>\u00a0has quit  \n01:50\u00a0<sabageru>\u00a0has joined #xwiki  \n01:52\u00a0<sabageru>\u00a0has quit  \n02:36\u00a0<lucaa>\u00a0has quit  \n02:48\u00a0<cjdelisle>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Web+IDE+Application?viewer=changes  \n02:48\u00a0<cjdelisle>\u00a0looks like a change was logged and no change was made.  \n02:52\u00a0<@sdumitriu>\u00a0Empty save, that's normal  \n02:53\u00a0<cjdelisle>\u00a0Menso doesn't seem to remember saving it though. Also why does it show supposed changes to an object instead of just saying \"no changes\"?  \n02:54\u00a0<@sdumitriu>\u00a0\"Object number 1 of type ExtensionCode.ExtensionVersionClass added \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"  \n02:55\u00a0<cjdelisle>\u00a0Oh ic.  \n02:55\u00a0<@sdumitriu>\u00a0Textarea properties get diffs from time to time  \n02:56\u00a0<@sdumitriu>\u00a0Might be different newlines  \n03:22\u00a0<cjdelisle>\u00a0I have to clear the empty directories which are left after deleting attachments.  \n03:22\u00a0<cjdelisle>\u00a01. I can do it on each delete operation but I have to tell theFileDeleteRunnable what the top level directory is otherwise it might eat empty directories with it doesn't own.  \n03:22\u00a0<cjdelisle>\u00a02. I can do it on system start by adding a line to the public void initialize() but there will be empty dirs left after shutdown.  \n03:23\u00a0<cjdelisle>\u00a03. I can override finalize() but I remember reading someone considered that an antipattern and it does seem like it would introduce unnecessary complexity.  \n03:24\u00a0<cjdelisle>\u00a01 would be more resource expensive because it has to recursively list directories and look for files.  \n03:24\u00a0<cjdelisle>\u00a0I'm leaning toward 2 as the lesser of 3 evils.  \n03:25\u00a0<abusenius>\u00a0has quit  \n03:26\u00a0<npm\\_\\_>\u00a0is now known as <npm>  \n03:45\u00a0<venkatna>\u00a0has joined #xwiki  \n03:46\u00a0<venkatna>\u00a0has quit  \n03:50\u00a0<@sdumitriu>\u00a0cjdelisle: -1 for 3  \n03:50\u00a0<@sdumitriu>\u00a0finalize is not guaranteed to run  \n03:50\u00a0<cjdelisle>\u00a0Ahh that's good to know.  \n03:51\u00a0<cjdelisle>\u00a0I remember reading that you should never use it anyway because it's internal.  \n03:52\u00a0<cjdelisle>\u00a0I just implemented 2, I think it's easy enough to change later if we decide.  \n03:52\u00a0<cjdelisle>\u00a0implements Uninitializable perhaps.  \n06:07\u00a0<sdumitriu>\u00a0has quit  \n07:00\u00a0<Enygma`>\u00a0has joined #xwiki  \n07:05\u00a0<Enygma`>\u00a0has quit  \n07:14\u00a0<sburjan`>\u00a0has quit  \n07:47\u00a0<vmassol>\u00a0has joined #xwiki  \n07:58\u00a0<vmassol>\u00a0has quit  \n08:15\u00a0<vmassol>\u00a0has joined #xwiki  \n08:23\u00a0<sburjan>\u00a0has joined #xwiki  \n08:24\u00a0<+sburjan>\u00a0good morning  \n08:24\u00a0<vmassol>\u00a0good morning sburjan  \n08:25\u00a0<+sburjan>\u00a0how are you, are you busy today ?  \n08:25\u00a0<vmassol>\u00a0fine, always busy as all of us I guess :)  \n08:25\u00a0<vmassol>\u00a0what's up?  \n08:25\u00a0<+sburjan>\u00a0I was wondering if we can figure out how to create some tests for XEM :)  \n08:26\u00a0<vmassol>\u00a0we do have some tests for xem already AFAIR  \n08:26\u00a0<+sburjan>\u00a0i mean ui/selenium tests .. afaik we don't have those  \n08:26\u00a0<vmassol>\u00a0we have sekenium ones  \n08:27\u00a0<vmassol>\u00a0http://svn.xwiki.org/svnroot/xwiki/manager/trunk/distribution-test/  \n08:27\u00a0<vmassol>\u00a0not many though  \n08:27\u00a0<vmassol>\u00a0one: http://svn.xwiki.org/svnroot/xwiki/manager/trunk/distribution-test/selenium-tests/src/test/it/org/xwiki/test/selenium/xem/WikiManagementCreate.java  \n08:27\u00a0<vmassol>\u00a0what needs ot be fixed is the ability to create a wiki in HQLDB if we want to test this  \n08:28\u00a0<vmassol>\u00a0it should be possible by using the latest hsqldb  \n08:28\u00a0<vmassol>\u00a0see segiu's question and answer from the hsqldb guy on the list  \n08:28\u00a0<vmassol>\u00a0fyi this is http://jira.xwiki.org/jira/browse/XWIKI-1740  \n08:30\u00a0<vmassol>\u00a0thread: http://xwiki.markmail.org/thread/enudt55tlxuj3joa  \n08:30\u00a0<+sburjan>\u00a0I see. So after fixing this, it would make things much easier for us in testing area  \n08:30\u00a0<vmassol>\u00a0\"3. Version 2.0.x supports multiple schemas. All such features of 1.8.x  \n08:30\u00a0<vmassol>\u00a0have been kept.\"  \n08:31\u00a0<vmassol>\u00a0not sure if this means it's in 1.8.X too but we didn't find it AFAIR  \n08:32\u00a0<+sburjan>\u00a0I see  \n08:35\u00a0<+sburjan>\u00a0I'd like to write a new Automated Test for XE (haven't coded in some time and I'm a bit eager to do so) ... could you tell me what tests we need so I can choose one of them to implement ?  \n08:38\u00a0<+sburjan>\u00a0i mean ui-tests  \n08:39\u00a0<vmassol>\u00a0let me think  \n08:40\u00a0<vmassol>\u00a0let's think about a recent new feature  \n08:40\u00a0<vmassol>\u00a0activity stream could be one  \n08:40\u00a0<vmassol>\u00a0I don't think we have tests for it do we?  \n08:40\u00a0<+sburjan>\u00a0we don't. at least I didn't saw anything .. nor wrote anything  \n08:40\u00a0<+sburjan>\u00a0ok. So AS it is  \n08:41\u00a0<+sburjan>\u00a0I'll have to find a use case for the test first. I'll get back to you and ask for your opinion  \n08:42\u00a0<vmassol>\u00a0sburjan: wait  \n08:42\u00a0<vmassol>\u00a0there's another idea  \n08:42\u00a0<vmassol>\u00a0something that need to be done and would be a good exercise for you  \n08:42\u00a0<+sburjan>\u00a0shoot  \n08:42\u00a0<vmassol>\u00a0we need to convert existing selenium1 tests to selenium2  \n08:42\u00a0<vmassol>\u00a0so you could take 1 or 2 and convert them  \n08:42\u00a0<vmassol>\u00a0I did some of them already but there are left  \n08:42\u00a0<vmassol>\u00a0we need to remove completely selenium1 tests  \n08:43\u00a0<+sburjan>\u00a0yes, good exercise. I will svn up and take a look  \n08:43\u00a0<vmassol>\u00a0k  \n08:45\u00a0<vmassol>\u00a0bb in 30  \n08:45\u00a0<cjdelisle>\u00a0\"java.security.NoSuchAlgorithmException: Cannot find any provider supporting DES/ECB/PKCS5Padding\"  \n08:45\u00a0<cjdelisle>\u00a0This is bad.  \n08:45\u00a0<cjdelisle>\u00a0DES is an ancient 56(?) bit algorithm.  \n08:46\u00a0<+sburjan>\u00a0I have a question : how come latest snapshot is from 3 jan, but I see a lot of commits daily .. including yesterday. How come those commits didn't triggered a new build ?  \n08:46\u00a0<cjdelisle>\u00a0ECB is not good for anything big but I suppose not a danger for a cookie.  \n08:46\u00a0<cjdelisle>\u00a0Looks like it's securityfilter's fault this time.  \n08:48\u00a0<venkatna>\u00a0has joined #xwiki  \n08:48\u00a0<cjdelisle>\u00a0sburjan, http://hudson.xwiki.org/  \n08:48\u00a0<cjdelisle>\u00a0all agents seem to be offline.  \n08:49\u00a0<+sburjan>\u00a0hmmm  \n08:50\u00a0<venkatna>\u00a0has quit  \n08:50\u00a0<+sburjan>\u00a0too bad I can't see since when they are down  \n08:50\u00a0<venkatna>\u00a0has joined #xwiki  \n08:52\u00a0<cjdelisle>\u00a0http://upload.wikimedia.org/wikipedia/commons/f/f0/Tux\\_ecb.jpg  \n08:52\u00a0<cjdelisle>\u00a0There's an example of the dangers of encrypting with ECB. That image was encrypted using ECB.  \n08:53\u00a0<cjdelisle>\u00a0Known plaintext attacks become rather trivial.  \n08:54\u00a0<cjdelisle>\u00a0s/rather trivial/much easier/ \u00a0\u00a0a good cypher should resist known plaintext attacks even if every block is known as with that image.  \n09:01\u00a0<mflorea>\u00a0has joined #xwiki  \n09:04\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:08\u00a0<+sburjan>\u00a0sdumitriu: ping  \n09:12\u00a0<sabageru>\u00a0has joined #xwiki  \n09:14\u00a0<ggueneau>\u00a0has joined #xwiki  \n09:24\u00a0<lucaa>\u00a0has joined #xwiki  \n09:28\u00a0<+sburjan>\u00a0does any committer have any time to merge 2 distribution/ui-tests that have the same name but in different packages .. or someone willing to apply a patch ?  \n09:40\u00a0<lucaa1>\u00a0has joined #xwiki  \n09:41\u00a0<lucaa>\u00a0has quit  \n09:44\u00a0<lucaa1>\u00a0has quit  \n09:45\u00a0<vmassol>\u00a0sburjan: you could create a jira with the patch attached and when some committer will have the time he can apply it  \n09:45\u00a0<arkub>\u00a0has joined #xwiki  \n09:46\u00a0<+sburjan>\u00a0vmassol: okay. It's a very simple patch.. basically I copied one test from one class to another and deleted the old one. I will create a JIRA and attach the patch  \n09:46\u00a0<vmassol>\u00a0ok if it's that simple I can do it  \n09:46\u00a0<vmassol>\u00a0just tell me what to do  \n09:47\u00a0<+sburjan>\u00a0I will create the issue and give you the issue number  \n09:47\u00a0<+sburjan>\u00a0I also got a lot of there when running the tests : 2011-01-06 10:36:12,999 [http://localhost:8080/xwiki/bin/view/XWiki/Admin] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($pages.size()) of '>' operation has null value at unknown namespace[line 645, column 21]  \n09:47\u00a0<vmassol>\u00a0these need to be fixed, please create jira issues for them too  \n09:47\u00a0<+sburjan>\u00a0first I have to reproduce  \n09:48\u00a0<vmassol>\u00a0it helps if you mention in the jira issue the URL that leads to them  \n09:48\u00a0<vmassol>\u00a0yep  \n09:48\u00a0<+sburjan>\u00a0but .. they only appear on 3.0 SNAP, and AFAIR we don't create JIRA's for snapshots  \n09:53\u00a0<+sburjan>\u00a0vmassol: http://jira.xwiki.org/jira/browse/XWIKI-5860 .. I hope you like my patch :)  \n09:55\u00a0<+sburjan>\u00a0sdumitriu: I got this : 2011-01-06 10:54:21,813 [http://localhost:8080/xwiki/bin/view/Main/] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($aTags.size()) of '>' operation has null value at unknown namespace[line 108, column 56]  \n09:55\u00a0<+sburjan>\u00a02011-01-06 10:54:21,814 [http://localhost:8080/xwiki/bin/view/Main/] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($pages.size()) of '>' operation has null value at unknown namespace[line 645, column 21] \u00a0on EACH refresh. Running latest 3.0 snap  \n09:58\u00a0<vmassol>\u00a0note: \" Check that the content of the first comment isn't used as the \"About\" information in the user profile. See  \n09:58\u00a0<vmassol>\u00a0- \u00a0\u00a0\u00a0\u00a0\\* XAADMINISTRATION-157\" shouldn't be a functional tests ideally  \n09:58\u00a0<vmassol>\u00a0also tear down fixture should never be done in the test method itself  \n09:58\u00a0<vmassol>\u00a0it should be in the test class fixture  \n09:58\u00a0<vmassol>\u00a0(not your fault, sburjan, just commenting on the existing test)  \n09:59\u00a0<cjdelisle>\u00a0I think I want to merge ChainingTransactionRunnable with TransactionRunnable because my experience has shown that sooner or later I inevitably want to link another runnable to anything and everything. Does this make sense?  \n09:59\u00a0<vmassol>\u00a0sburjan: I don't understand  \n09:59\u00a0<vmassol>\u00a0seems you removed one test  \n09:59\u00a0<vmassol>\u00a0is that normal?  \n09:59\u00a0<vmassol>\u00a0testCommentDoesntOverrideAboutInformation  \n10:00\u00a0<vmassol>\u00a0or it was alreayd there?  \n10:00\u00a0<vmassol>\u00a0\u00a0checing  \n10:00\u00a0<vmassol>\u00a0(I'm just readin the diff right now)  \n10:01\u00a0<vmassol>\u00a0sburjan: also next time please don't mix formatting with patches  \n10:01\u00a0<vmassol>\u00a0it makes it harder to review the real patch  \n10:01\u00a0<sabageru>\u00a0has quit  \n10:02\u00a0<vmassol>\u00a0errr you attaced a new patch?  \n10:03\u00a0<vmassol>\u00a0ok so you added back the test you had removed  \n10:03\u00a0<vmassol>\u00a0glad I checked :)  \n10:06\u00a0<+sburjan>\u00a0I basically moved one test to another class, and deleted it's class ... it's basically a copy-paste patch  \n10:06\u00a0<vmassol>\u00a0it wasn't  \n10:06\u00a0<vmassol>\u00a0but you fixed it  \n10:07\u00a0<+sburjan>\u00a0I \"adapted\" it :)  \n10:07\u00a0<vmassol>\u00a0no  \n10:07\u00a0<vmassol>\u00a0you sent 2 patches  \n10:07\u00a0<vmassol>\u00a0the first one is the one I got  \n10:07\u00a0<vmassol>\u00a0and I commented above  \n10:07\u00a0<vmassol>\u00a0then you created a second patch  \n10:07\u00a0<vmassol>\u00a0you should have told me  \n10:07\u00a0<vmassol>\u00a0would have save me typing and trouble  \n10:07\u00a0<vmassol>\u00a0:)  \n10:07\u00a0<+sburjan>\u00a0?? I only attached only one file to the JIRA issue  \n10:08\u00a0<vmassol>\u00a0there were 2  \n10:08\u00a0<vmassol>\u00a0that's strange  \n10:08\u00a0<+sburjan>\u00a0very  \n10:08\u00a0<vmassol>\u00a0I have 2 versions locally  \n10:08\u00a0<vmassol>\u00a0oh wait it's my bad  \n10:09\u00a0<vmassol>\u00a0in the first version I got  \n10:09\u00a0<vmassol>\u00a0for some reason the top part was hidden in my text editor  \n10:09\u00a0<vmassol>\u00a0then I got the jira mail about the attachment  \n10:09\u00a0<vmassol>\u00a0and I thought it was a new version  \n10:09\u00a0<vmassol>\u00a0since when I got it it was different  \n10:09\u00a0<vmassol>\u00a0:)  \n10:10\u00a0<+sburjan>\u00a0no :) I checked the notification mailing list, and I'm 100% I only attached one file to the issue :P  \n10:10\u00a0<vmassol>\u00a0as I said it's my bad  \n10:10\u00a0<vmassol>\u00a0sorry about that  \n10:10\u00a0<+sburjan>\u00a0no problem. :)) I was a little bit confused :d  \n10:11\u00a0<+sburjan>\u00a0I created this patch because we have another UserProfileTest in selenium-tests which I'd like to port ...  \n10:11\u00a0<vmassol>\u00a0wait  \n10:11\u00a0<vmassol>\u00a0I'm checking if your parch is correct  \n10:11\u00a0<+sburjan>\u00a0okay  \n10:11\u00a0<vmassol>\u00a0I'm still no tusre  \n10:11\u00a0<vmassol>\u00a0there was a reason there were two files  \n10:12\u00a0<+sburjan>\u00a0check the file from the jira issue .. that is my patch. I don't know where the second file appeared on your machine  \n10:14\u00a0<vmassol>\u00a0btw the test sergiu comitter from you is not following some best practices  \n10:14\u00a0<vmassol>\u00a0you should no thave try finall in test methods  \n10:14\u00a0<vmassol>\u00a0it's an anti pattern  \n10:15\u00a0<+sburjan>\u00a0I guess you're referring to the Annotations Test ?  \n10:15\u00a0<vmassol>\u00a0no  \n10:15\u00a0<vmassol>\u00a0but hold on I'm still trying to understand something  \n10:15\u00a0<+sburjan>\u00a0ask  \n10:18\u00a0<vmassol>\u00a0ok the patch is wrong  \n10:20\u00a0<+sburjan>\u00a0why ?  \n10:20\u00a0<vmassol>\u00a0you did it the wrong way  \n10:21\u00a0<vmassol>\u00a0the correct location is administration package  \n10:21\u00a0<vmassol>\u00a0and you should have moved ProfilePage to the administration package too  \n10:21\u00a0<vmassol>\u00a0since user profile is located in the administration app  \n10:21\u00a0<+sburjan>\u00a0IMO in the Admininstration package are tests for the XAADMINISTRATION  \n10:21\u00a0<vmassol>\u00a0yes exactly  \n10:22\u00a0<vmassol>\u00a0see http://svn.xwiki.org/svnroot/xwiki/platform/xwiki-applications/trunk/administration/src/main/resources/XWiki/  \n10:23\u00a0<vmassol>\u00a0userprofile is part of the admin app  \n10:23\u00a0<vmassol>\u00a0I'm fixing that  \n10:24\u00a0<+sburjan>\u00a0sorry for that. I thought that User Profile is \\_not\\_ in XAADMINISTRATION since you can't reach the User Profile page fron Administer Wiki section  \n10:24\u00a0<vmassol>\u00a0in some future I guess we'll have a user app  \n10:24\u00a0<vmassol>\u00a0but FTM it's in the admin app indeed  \n10:25\u00a0<lucaa>\u00a0has joined #xwiki  \n10:25\u00a0<+sburjan>\u00a0yes, my bad. I was thinking from an UI perspective when grouping tests  \n10:27\u00a0<+sburjan>\u00a0I was going on the idea that in Administration package are the tests only for the section from \"Administer Wiki\" :)  \n10:27\u00a0<esdaniel>\u00a0has joined #xwiki  \n10:28\u00a0<vmassol>\u00a0also your previous patch for user profile was a bit unbalanced  \n10:28\u00a0<vmassol>\u00a0you should have had 3 classes  \n10:28\u00a0<vmassol>\u00a0one for the base profile page  \n10:28\u00a0<sabageru>\u00a0has joined #xwiki  \n10:28\u00a0<vmassol>\u00a0and one for each tab  \n10:28\u00a0<+sburjan>\u00a0you mean test classes. Because the PageObject classes are separate  \n10:29\u00a0<vmassol>\u00a0you had ProfilePage and PrefrencesPage  \n10:29\u00a0<vmassol>\u00a0and switchToProfile() returns a ProfilePage which isn't logical  \n10:29\u00a0<vmassol>\u00a0and PReferenesPage doesn't have any switch  \n10:29\u00a0<vmassol>\u00a0I'm fixing it  \n10:31\u00a0<vmassol>\u00a0that's the problem with me applying patches\u2026. :) I want to have completely right\u2026. thus it takes me too much time ;)  \n10:31\u00a0<+sburjan>\u00a0yes. true. copy pasting from ProfilePage to PreferencesPage + adding the WebElement should do the job  \n10:32\u00a0<vmassol>\u00a0no copy paste  \n10:32\u00a0<vmassol>\u00a0that's ba  \n10:32\u00a0<vmassol>\u00a0bad  \n10:32\u00a0<vmassol>\u00a0inheritance from a base profile page is better  \n10:32\u00a0<+sburjan>\u00a0yes. didn't think of that  \n10:33\u00a0<esdaniel>\u00a0hi, trying to exclude content via logic in skin, but failing :-( #if (!$docextras && !$isGuest && $doc.fullName != 'Main.WebHome')  \n10:33\u00a0<esdaniel>\u00a0want to remove the 'extras' only if the user is a guest and viewing homepage... any ideas?  \n10:34\u00a0<cjdelisle>\u00a0!$docextra will never return true AFAIK  \n10:35\u00a0<esdaniel>\u00a0cjdelisle: thanks, useful to know... however i think the issue is with the other two clauses  \n10:35\u00a0<cjdelisle>\u00a0#if ($isGuest && $doc.fullName == 'Main.WebHome') #set( $docextras = [] ) #end  \n10:35\u00a0<esdaniel>\u00a0cjdelisle: fyi i used longform of $isGuest to check it was not that  \n10:35\u00a0<cjdelisle>\u00a0I may be wrong on the name $docextras  \n10:35\u00a0<cjdelisle>\u00a0!search xwiki scripting  \n10:36\u00a0<cjdelisle>\u00a0Last one has the name I'm looking for ^  \n10:36\u00a0<cjdelisle>\u00a0something you set to [] and it makes all the extras go away.  \n10:37\u00a0<cjdelisle>\u00a0#set($docextras = []) yup that's it.  \n10:39\u00a0<cjdelisle>\u00a0If you have a page which says something controversial and you don't want comments, just put {{velocity}} #set($docextras = []) {{/velocity}} in that page.  \n10:39\u00a0<esdaniel>\u00a0cjdelisle: nice one dude, that's done it  \n10:41\u00a0<esdaniel>\u00a0cjdelisle: not so much controversial, just trying to make a home/landing page look more like a home/landing page ;-) cheers again - ps. happy new year to everyone in the channel  \n10:41\u00a0<cjdelisle>\u00a0Yup. Happy new year to you as well.  \n10:42\u00a0<vmassol>\u00a0cjdelisle/esdaniel: could you add to http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Configuration#HTurningoffcommentsorattachments ?  \n10:42\u00a0<esdaniel>\u00a0good idea  \n10:42\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:43\u00a0<esdaniel>\u00a0lol  \n10:44\u00a0<vmassol>\u00a0sburjan: btw this profile test is really slow. Takes 153 seconds to execute  \n10:44\u00a0<vmassol>\u00a0(locally)  \n10:44\u00a0<vmassol>\u00a0prbably because of the AS  \n10:45\u00a0<vmassol>\u00a0but I saw it was blocked at some point on the avatar upload  \n10:45\u00a0<vmassol>\u00a0it was just waiting for some timeout  \n10:45\u00a0<vmassol>\u00a0so something must be wrong there  \n10:45\u00a0<+sburjan>\u00a0maybe. IMO it is slowly because the part when you switch to WYSIWYG, Text, and saving, etc  \n10:45\u00a0<vmassol>\u00a0yes but not 3 minutes  \n10:45\u00a0<+sburjan>\u00a0mine didn't lasted 3 minutes. and my machine is ultra slow and old  \n10:46\u00a0<vmassol>\u00a0ah re avatar I know  \n10:46\u00a0<+sburjan>\u00a093 seconds took on my machine  \n10:46\u00a0<vmassol>\u00a0the test references administration/avatar.png  \n10:46\u00a0<vmassol>\u00a0but it wasn't there  \n10:46\u00a0<vmassol>\u00a0seems like the tests doesn't test much tne  \n10:46\u00a0<vmassol>\u00a0then  \n10:47\u00a0<+sburjan>\u00a0well at least we have a ground base if we want to extend. I hope you're not gonna delete those tests ;)  \n10:49\u00a0<+sburjan>\u00a0the avatar test verifies if the image is displayed.  \n10:52\u00a0<vmassol>\u00a0ok better now 78 sec  \n10:52\u00a0<+sburjan>\u00a0what did you do ?  \n10:53\u00a0<vmassol>\u00a0you'll see  \n10:54\u00a0<+sburjan>\u00a0okay. tell me when you committed.  \n10:55\u00a0<vmassol>\u00a0you'll see when you receive the mail  \n10:55\u00a0<vmassol>\u00a0:)  \n10:55\u00a0<+lucaa>\u00a0sburjan: you have the notification on the notifications list. Are you subscribed?  \n10:55\u00a0<+sburjan>\u00a0ofc. but you know the delays  \n10:56\u00a0<+sburjan>\u00a0don't want dead times in my schedule :d wanna start coding :)  \n10:58\u00a0<esdaniel>\u00a0cjdelisle: actually we can skip setting the obj and just use: #if (!$docextras && !($isGuest && $doc.fullName == 'Main.WebHome'))  \n10:59\u00a0<cjdelisle>\u00a0Does that assign $docextras?  \n10:59\u00a0<vmassol>\u00a0total: 1 hour 30 minutes to apply patch :)  \n11:00\u00a0<vmassol>\u00a0(not bad for a small patch!)  \n11:00\u00a0<esdaniel>\u00a0cjdelisle: no, i.e. less overhead  \n11:00\u00a0<+sburjan>\u00a0vmassol: sorry for that ... I only intended to merge them, not to fine tune those tests :P  \n11:01\u00a0<cjdelisle>\u00a0Oh so you put the docextras .vm into the if statement. that works too.  \n11:02\u00a0<+sburjan>\u00a0vmassol: Nice coommit comment :)  \n11:02\u00a0<cjdelisle>\u00a0if ((i = something | 0xFF) & 1<<3) <-- reminds me of this.  \n11:03\u00a0<+sburjan>\u00a0let me svn up and see diff  \n11:04\u00a0<florinciu>\u00a0has joined #xwiki  \n11:04\u00a0<vmassol>\u00a0sburjan: yeah that's my problem with applying patch. I have a hard time not to improve them if I see easy improvements  \n11:05\u00a0<vmassol>\u00a0which is normal since I'm responsible  \n11:05\u00a0<vmassol>\u00a0as committer, the patch becomes mine  \n11:05\u00a0<vmassol>\u00a0so if something is wrong in the future, it'll be my fault ;)  \n11:06\u00a0<vmassol>\u00a0ok back to my planned work!  \n11:06\u00a0<esdaniel>\u00a0cjdelisle: edit docextra.vm, add: #set ($homePage = ($isGuest && $doc.fullName == 'Main.WebHome')) then use !$homePage in author/tag/extras logic  \n11:07\u00a0<+sburjan>\u00a0vmassol: thanks  \n11:08\u00a0<cjdelisle>\u00a0I would have just added {{velocity}} #set($docextras = []) {{/velocity}} to the content of webhome.  \n11:08\u00a0<cjdelisle>\u00a0No need to edit .vm's at all.  \n11:08\u00a0<esdaniel>\u00a0i want to display the info when it's a registered user  \n11:09\u00a0<cjdelisle>\u00a0{{velocity}} #if ($isGuest) #set($docextras = []) #end {{/velocity}}  \n11:09\u00a0<esdaniel>\u00a0thus registered users see page properties of home page but visitors do not  \n11:10\u00a0<esdaniel>\u00a0which is more performant?  \n11:10\u00a0<esdaniel>\u00a0yours or mine?  \n11:11\u00a0<cjdelisle>\u00a0I don't think it would be measurable.  \n11:12\u00a0<esdaniel>\u00a0\"if you don't monitor, you can't measure, if you can't measure you can't improve\" :-p  \n11:12\u00a0<cjdelisle>\u00a0I am very specific about how I do things, so I give everyone else the benefit of assuming that they are too and there are multiple valid ways to solve a problem.  \n11:13\u00a0<esdaniel>\u00a0i'd love to be specific :-)  \n11:13\u00a0<esdaniel>\u00a0but i don't know as much as you about xwiki ;-)  \n11:13\u00a0<cjdelisle>\u00a0I like my solution because it's easy to read and maintain.  \n11:17\u00a0<esdaniel>\u00a0well it's been nice chatting, thanks for your help, always appreciated - better get back to the grindstone, ttfn  \n11:17\u00a0<esdaniel>\u00a0has left #xwiki  \n11:19\u00a0<vmassol>\u00a0btw cjdelisle, IMO we should have an object in the future for customizing these kind of things, an object attached to the page  \n11:19\u00a0<cjdelisle>\u00a0I think every part of the UI should be registered.  \n11:20\u00a0<vmassol>\u00a0yep  \n11:20\u00a0<cjdelisle>\u00a0If you want to add a menu to the top or an entry to the menu, just like adding them to the DOM in js.  \n11:20\u00a0<vmassol>\u00a0we do have this but at the level of the wiki or space, we don't have the notion of xwikipreferences at the level of the page  \n11:20\u00a0<vmassol>\u00a0for a given property, we should say whether it's applicable at the level of the page, space and/or wiki  \n11:20\u00a0<cjdelisle>\u00a0That's a bit more persistent than I was thinking.  \n11:21\u00a0<vmassol>\u00a0it's metadata after all  \n11:21\u00a0<cjdelisle>\u00a0I thought it would be added per page load.  \n11:21\u00a0<vmassol>\u00a0and object is for storing metadata  \n11:21\u00a0<cjdelisle>\u00a0So you'd still have to figure out how to get the code run.  \n11:21\u00a0<vmassol>\u00a0the template could use it  \n11:22\u00a0<cjdelisle>\u00a0XUL is a good source of inspiration for this problem.  \n11:22\u00a0<vmassol>\u00a0(if there's such an object get the data from it)  \n11:22\u00a0<vmassol>\u00a0there are several params we need at page level  \n11:22\u00a0<vmassol>\u00a0and when you need finer-grained level, then it's script  \n11:23\u00a0<cjdelisle>\u00a0\"several params we need at page level\" this sounds like it could be bad.  \n11:23\u00a0<vmassol>\u00a0page type  \n11:23\u00a0<cjdelisle>\u00a0more code >> XWikiDocument.java  \n11:23\u00a0<vmassol>\u00a0we already have about 10 or so  \n11:23\u00a0<vmassol>\u00a0except they're hard coded in the XWikiDocument code  \n11:23\u00a0<vmassol>\u00a0page type is one we need in the future  \n11:24\u00a0<vmassol>\u00a0actually no it's the opposite cjdelisle  \n11:24\u00a0<vmassol>\u00a0more objects == smaller XWikiDocument  \n11:24\u00a0<vmassol>\u00a0:)  \n11:24\u00a0<cjdelisle>\u00a0Everything seems to become a lot easier if we make objects nestable.  \n11:24\u00a0<vmassol>\u00a0(since you 'd remove hardcoded metadata)  \n11:25\u00a0<cjdelisle>\u00a0Document == object, Space == object. haha nested spaces. Document toXML is handles because it's just another XObject.  \n11:26\u00a0<vmassol>\u00a0document == object is one of the thing I'm still hesitating on  \n11:26\u00a0<vmassol>\u00a0I've resisted the temptation to go there so far  \n11:26\u00a0<+sburjan>\u00a0vmassol: as a strategy. how the porting process should work ? 1. Rewrite class using SE2 in ui-tests and remove the old one from selenium-tests. ?  \n11:26\u00a0<vmassol>\u00a0(ie to make the document == content stored as an object field)  \n11:26\u00a0<vmassol>\u00a0sburjan: yes  \n11:27\u00a0<+sburjan>\u00a0and I have to create a JIRA/patch for each class individually ? Or I can port multiple classes in one patch ? This would affect the complexity of the patch ..  \n11:28\u00a0<cjdelisle>\u00a0It's another huge job of course but it makes storage, (de)serialization, and a number of APIs able to be dropped instead of rewriting.  \n11:28\u00a0<vmassol>\u00a0sburjan: multiple is easier for applying I believe  \n11:28\u00a0<vmassol>\u00a0but just start with one  \n11:28\u00a0<+sburjan>\u00a0okay. thanks  \n11:28\u00a0<vmassol>\u00a0since there may be comments that you could apply to the others later on  \n11:28\u00a0<vmassol>\u00a0review comments that is  \n11:28\u00a0<+sburjan>\u00a0yes ..  \n11:30\u00a0<cjdelisle>\u00a0Trouble with document == object is we have to make java classes able to become XClasses which is also a giant project and will have to play with com.sun serialization apis.  \n11:30\u00a0<vmassol>\u00a0cjdelisle: there are probably 2 levels: one typed api when you have a document class and a lower level which is more generic  \n11:31\u00a0<vmassol>\u00a0the JCR api shows what such a lower level could be  \n11:31\u00a0<vmassol>\u00a0brb  \n11:31\u00a0<cjdelisle>\u00a0ok  \n11:31\u00a0<cjdelisle>\u00a0Got to get back to testing Transaction\\*.  \n11:32\u00a0<abusenius>\u00a0has joined #xwiki  \n11:38\u00a0<+lucaa>\u00a0sdumitriu: what's the status of forceSkinAction in jsrx, should I start on it?  \n11:38\u00a0<+lucaa>\u00a0I will need it soon to implement XWIKI-5843  \n11:39\u00a0<+lucaa>\u00a0ssrx do be very precise  \n11:44\u00a0<evalica>\u00a0has joined #xwiki  \n12:05\u00a0<+sburjan>\u00a0vmassol: FYI I will start porting the UserProfileTest from selenium-tests .. it's pretty small ... good for starting  \n12:10\u00a0<abusenius>\u00a0has quit  \n12:15\u00a0<vmassol>\u00a0sburjan: ok  \n12:16\u00a0<sabageru>\u00a0has quit  \n12:23\u00a0<arkub>\u00a0has quit  \n12:56\u00a0<venkatna>\u00a0has quit  \n13:01\u00a0<vmassol>\u00a0sdumitriu: when we click on the syntax help; the url called is http://localhost:8080/xwiki/bin/view/XWiki/XWikiSyntax?xpage=print One problem is that this prints logo, breadcrumb and tags. Do we have another URL to display only the content?  \n13:11\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:31\u00a0<lucaa>\u00a0has quit  \n13:32\u00a0<lucaa>\u00a0has joined #xwiki  \n13:40\u00a0<lucaa>\u00a0has quit  \n13:49\u00a0<+sburjan>\u00a0vmassol: ping  \n13:50\u00a0<+sburjan>\u00a0it seems the current version of Se WebDriver we are using (2.0a7) is not supporting js popup windows. The guys from selenium recomended we switch to the beta version  \n13:50\u00a0<+sburjan>\u00a0saying this because I have a test thatthrows a js alert, and I am unable to catch it  \n13:52\u00a0<cjdelisle>\u00a0Upgrading selenium would be a good idea.  \n13:52\u00a0<sabageru>\u00a0has joined #xwiki  \n13:54\u00a0<+sburjan>\u00a0again, my hands are tied :P committers have to decide  \n13:54\u00a0<cjdelisle>\u00a0I'd do the upgrade locally and see how it goes.  \n13:54\u00a0<+sburjan>\u00a0great idea ;)  \n13:55\u00a0<vmassol>\u00a0sburjan: indeed we should upgrade to b1: http://repo2.maven.org/maven2/org/seleniumhq/selenium/selenium/  \n13:55\u00a0<vmassol>\u00a0sburjan: try it locally and let us know  \n13:56\u00a0<+sburjan>\u00a0ok. I will update locally, code, test and include the update in the diff patch if everything is ok  \n13:56\u00a0<sdumitriu>\u00a0has quit  \n13:56\u00a0<lucaa>\u00a0has joined #xwiki  \n13:58\u00a0<vmassol>\u00a0sburjan: I've created the jira issue: http://jira.xwiki.org/jira/browse/XE-799  \n13:58\u00a0<vmassol>\u00a0I've put the link to the release notes  \n13:58\u00a0<+sburjan>\u00a0vmassol: you got me confused now :)) If I create a patch that does the port and modifies also the pom.xml of ui-tests, on which issue should I attach the patch >  \n13:59\u00a0<sdumitriu>\u00a0has joined #xwiki  \n14:01\u00a0<ggueneau>\u00a0has quit  \n14:01\u00a0<vmassol>\u00a0sburjan: i don't understand the question  \n14:01\u00a0<vmassol>\u00a0or maybe I do but it's obivous  \n14:02\u00a0<lucaa>\u00a0has quit  \n14:02\u00a0<vmassol>\u00a0the fix for XE-799 should go in XE-799  \n14:02\u00a0<+sburjan>\u00a0oh, okay  \n14:02\u00a0<vmassol>\u00a0and the fix for other issues should go in other issues  \n14:02\u00a0<+sburjan>\u00a0I was imagining them in one patch  \n14:09\u00a0<arkub>\u00a0has joined #xwiki  \n14:14\u00a0<+sburjan>\u00a0I have changed the pom.xml to 2.0b1, but in eclipse It's still shown 2.0a7 in the Referenced Library. And I ran mvn -U clean install  \n14:14\u00a0<+sburjan>\u00a0any idea ?  \n14:32\u00a0<+sburjan>\u00a0someone ?  \n14:37\u00a0<+sburjan>\u00a0fixed, omg .. m2eclipse bug I guess  \n14:54\u00a0<sburjan>\u00a0has quit  \n15:08\u00a0<abusenius>\u00a0has joined #xwiki  \n15:26\u00a0<jvelo>\u00a0has joined #xwiki  \n15:49\u00a0<doj>\u00a0has joined #xwiki  \n15:50\u00a0<doj>\u00a0has left #xwiki  \n16:04\u00a0<sabageru>\u00a0has quit  \n16:37\u00a0<lucaa>\u00a0has joined #xwiki  \n16:41\u00a0<sabageru>\u00a0has joined #xwiki  \n16:42\u00a0<arkub>\u00a0has quit  \n16:42\u00a0<sabageru1>\u00a0has joined #xwiki  \n16:46\u00a0<sabageru>\u00a0has quit  \n16:58\u00a0<abusenius>\u00a0has quit  \n17:08\u00a0<Enygma`>\u00a0has quit  \n17:09\u00a0<vmassol>\u00a0jvdrean: starting release of 2.6.1?  \n17:09\u00a0<+jvdrean>\u00a0preparing it  \n17:09\u00a0<vmassol>\u00a0nice  \n17:09\u00a0<+jvdrean>\u00a0I plan to do it tomorrow  \n17:09\u00a0<+jvdrean>\u00a0ftm I just make some paperwork in advance  \n17:10\u00a0<vmassol>\u00a0ok cool, glad you're doing it :)  \n17:13\u00a0<vmassol>\u00a0has quit  \n17:14\u00a0<vmassol>\u00a0has joined #xwiki  \n17:27\u00a0<sabageru1>\u00a0has quit  \n17:38\u00a0<abusenius>\u00a0has joined #xwiki  \n17:38\u00a0<vmassol>\u00a0has quit  \n17:38\u00a0<vmassol>\u00a0has joined #xwiki  \n17:43\u00a0<vmassol1>\u00a0has joined #xwiki  \n17:43\u00a0<vmassol>\u00a0has quit  \n18:04\u00a0<sabageru>\u00a0has joined #xwiki  \n18:09\u00a0<florinciu>\u00a0has quit  \n18:09\u00a0<vmassol>\u00a0has joined #xwiki  \n18:10\u00a0<sabageru>\u00a0has quit  \n18:10\u00a0<vmassol1>\u00a0has quit  \n18:15\u00a0<vmassol>\u00a0has quit  \n18:16\u00a0<mflorea>\u00a0has quit  \n18:17\u00a0<vmassol>\u00a0has joined #xwiki  \n18:40\u00a0<vmassol>\u00a0has quit  \n18:41\u00a0<sdumitriu>\u00a0has quit  \n18:51\u00a0<vmassol>\u00a0has joined #xwiki  \n19:01\u00a0<qwebirc97390>\u00a0has joined #xwiki  \n19:02\u00a0<arkub>\u00a0has joined #xwiki  \n19:03\u00a0<qwebirc97390>\u00a0is now known as <webgraphics>  \n19:04\u00a0<webgraphics>\u00a0hello  \n19:10\u00a0<jvdrean>\u00a0has quit  \n19:12\u00a0<sburjan`>\u00a0has joined #xwiki  \n19:43\u00a0<arkub>\u00a0has quit  \n19:49\u00a0<vmassol>\u00a0has quit  \n20:22\u00a0<vmassol>\u00a0has joined #xwiki  \n20:30\u00a0<webgraphics>\u00a0has quit  \n20:34\u00a0<lucaa>\u00a0has quit  \n20:43\u00a0<mflorea>\u00a0has joined #xwiki  \n21:58\u00a0<vmassol>\u00a0has quit  \n22:15\u00a0<sabageru>\u00a0has joined #xwiki  \n22:27\u00a0<jvdrean>\u00a0has joined #xwiki  \n23:14\u00a0<mflorea>\u00a0has quit  \n23:20\u00a0<jvdrean>\u00a0has quit  \n23:36\u00a0<npm>\u00a0I noticed in http://dev.xwiki.org/xwiki/bin/view/Community/ReleasePlans that 2.6.1 has later versions of modules than 2.7 .. will there be a matching 2.7.1?  \n23:37\u00a0<npm>\u00a0also, was there a particular problem w/ 2.6 that got it a patch release, and would 2.7 be better to use than 2.6.1 ??  \n23:50\u00a0<ldubost>\u00a0has joined #xwiki  \n23:50\u00a0<ldubost>\u00a0has quit  \n\n"}