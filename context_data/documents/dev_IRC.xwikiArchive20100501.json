{"id": "dev:IRC.xwikiArchive20100501", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100501", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nanamarias left at 00:22 (Quit: anamarias  \nnickless left at 00:31 (Ping timeout: 240 seconds  \nanamarias joined #xwiki at 08:51  \nsdumitriu joined #xwiki at 09:20  \nanamarias left at 09:25 (Quit: anamarias  \nplunden left at 09:49 (Ping timeout: 252 seconds  \nsdumitriu - (10:23): CalebJamesDeLisl: Ping  \nCalebJamesDeLisl - (10:28): ping  \nsdumitriu - (10:28): You're supposed to say \"pong\"  \nsdumitriu - (10:28): Anyway, there's a problem with the \\ fix  \nsdumitriu - (10:29): On HSQLDB we can't search for stuff containing \\  \nsdumitriu - (10:29): For example, create something containing \"C:\\Program Files\"  \nCalebJamesDeLisl - (10:30): Even when it's parametrized?  \nsdumitriu - (10:30): And search for \"C:\\\"  \nsdumitriu - (10:30): I don't know, didn't try  \nsdumitriu - (10:30): Probably not, only with a direct HQL  \nCalebJamesDeLisl - (10:31): It wouldn't be too hard to check the database but it seems that searching for \\ without parameters is an incompatibility time bomb.  \nsdumitriu - (10:32): I don't know if it used to work on the other databases, it could be a fix for the rest of them  \nCalebJamesDeLisl - (10:33): \\\\ is the correct way for literal \\ on most databases AFAIK.  \nCalebJamesDeLisl - (10:36): Well at least it's not something like depleting all of the connections or eating unicode characters... \" there's a problem with the \\ fix\" was scary.  \nsdumitriu - (10:37): http://dev.mysql.com/doc/refman/5.5/en/server-sql-mode.html#sqlmode\\_no\\_backslash\\_escapes  \nCalebJamesDeLisl - (10:40): Hmm. So we can't immediately know by the db name whether or not \\ is an escape char.  \nsdumitriu - (10:40): Right  \nsdumitriu - (10:41): I really really don't like that almost no database respects the standards  \nsdumitriu - (10:41): It's so hard to make a query that will work everywhere  \nsdumitriu - (10:41): It's so hard to predict what a query will do  \nCalebJamesDeLisl - (10:42): I have been thinking it would be nice to implement SQL with java objects.  \nsdumitriu - (10:42): WDYM?  \nCalebJamesDeLisl - (10:43): SelectQuery sq = new SelectQuery(XWikiDocument).as(\"doc\").where(\"doc.name\").equals(\"Page\");  \nsdumitriu - (10:44): I think that something like that exists already  \nsdumitriu - (10:44): There's QBE (Query By Example)  \nCalebJamesDeLisl - (10:45): Rule #1 A partially completed select query cannot be reverted so if I give you a SelectQuery(XWikiDocument.fullName) you can only use it to query full names of documents.  \nCalebJamesDeLisl - (10:47): Rule #2 You can only union a query if you have a reference to it so you can't do union injection.  \nCalebJamesDeLisl - (10:48): And of course we force lazy programmers to parametrize their inputs ;)  \nCalebJamesDeLisl - (10:54): Writing the \\ filter I avoided escaping only \\' because I would have to make sure there was an even number of \\ behind the '. Maybe what we ought to do is just take everything in quotes and parametrize it.  \nnickless joined #xwiki at 10:55  \ngvallarelli joined #xwiki at 10:56  \ngvallarelli - (10:57): Hi all  \nCalebJamesDeLisl - (10:57): \"Parametrize everything\" is dangerous but would make databases all behave alike. Maybe we should use a configuration param?  \nCalebJamesDeLisl - (10:57): Hi gvallarelli.  \nvenkatesh joined #xwiki at 11:02  \nvenkatesh left #xwiki at 11:04  \nCalebJamesDeLisl - (11:05): http://download.oracle.com/docs/cd/B10500\\_01/text.920/a96518/cqspcl.htm  \nCalebJamesDeLisl - (11:05): Looks like oracle also supports { and } for an escape sequence.  \ngvallarelli left at 11:48 (Quit: Leaving.  \njvelociter joined #xwiki at 14:34  \nannacondan joined #xwiki at 14:54  \nvmassol joined #xwiki at 16:16  \njvelociter - (16:25): sdumitriu: Hi  \njvelociter - (16:25): I have a question  \njvelociter - (16:25): What's the form/syntax for handling plurals with i18n keys ?  \njvelociter - (16:26): I think I've seen you reply to a commit to explain that but I can't find it  \nsdumitriu - (16:29): Hi  \nsdumitriu - (16:29): Wait a bit  \nsdumitriu - (16:33): There {0,choice,0#are no files|1#is one file|1<are {0} files}  \nflorinciu joined #xwiki at 16:38  \njvelociter - (16:38): thanks  \nannacondan left at 16:49 (Quit: annacondan  \nvmassol left at 17:00 (Quit: Leaving.  \nflorinciu left at 17:21 (Read error: Connection reset by peer  \nannacondan joined #xwiki at 17:33  \nvmassol joined #xwiki at 18:04  \nannacondan left at 18:06 (Quit: annacondan  \nvmassol left at 19:01 (Quit: Leaving.  \nvmassol joined #xwiki at 19:34  \nannacondan joined #xwiki at 19:54  \nannacondan left at 22:33 (Quit: annacondan  \nflorinciu joined #xwiki at 23:03  \nvmassol left at 23:37 (Quit: Leaving.  \n\n"}