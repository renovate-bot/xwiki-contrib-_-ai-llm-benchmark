{"id": "dev:IRC.xwikiArchive20131129", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20131129", "title": "IRC Archive for channel #xwiki on 29 November 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:09\u00a0<vmassol>\u00a0has joined #xwiki  \n02:07\u00a0<vmassol>\u00a0has quit  \n02:27\u00a0<sdumitriu>\u00a0has quit  \n02:29\u00a0<sdumitriu>\u00a0has joined #xwiki  \n03:02\u00a0<vmassol>\u00a0has joined #xwiki  \n03:06\u00a0<vmassol>\u00a0has quit  \n04:03\u00a0<vmassol>\u00a0has joined #xwiki  \n04:07\u00a0<vmassol>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n05:04\u00a0<vmassol>\u00a0has joined #xwiki  \n05:08\u00a0<vmassol>\u00a0has quit  \n06:04\u00a0<Denis>\u00a0has quit  \n06:04\u00a0<vmassol>\u00a0has joined #xwiki  \n06:09\u00a0<vmassol>\u00a0has quit  \n06:14\u00a0<j-simard>\u00a0has quit  \n06:15\u00a0<j-simard>\u00a0has joined #xwiki  \n07:05\u00a0<vmassol>\u00a0has joined #xwiki  \n07:10\u00a0<vmassol>\u00a0has quit  \n08:06\u00a0<vmassol>\u00a0has joined #xwiki  \n08:10\u00a0<vmassol>\u00a0has quit  \n08:10\u00a0<vmassol>\u00a0has joined #xwiki  \n08:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:16\u00a0<vmassol>\u00a0this guys is going to spam us\u2026 :)  \n08:17\u00a0<DarkKnightCZ>\u00a0vmassol: don't you wanna buy something? :)  \n08:20\u00a0<vmassol>\u00a0nope thanks :)  \n08:25\u00a0<vmassol>\u00a0hmm that's the 5th user he creates\u2026  \n08:25\u00a0<vmassol>\u00a0removing them  \n08:28\u00a0<sdumitriu>\u00a0It's a bot  \n08:28\u00a0<vmassol>\u00a0looks like it indeed  \n08:29\u00a0<Denis>\u00a0has joined #xwiki  \n08:31\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:39\u00a0<vmassol1>\u00a0has joined #xwiki  \n08:39\u00a0<vrachieru>\u00a0has quit  \n08:40\u00a0<vrachieru>\u00a0has joined #xwiki  \n08:41\u00a0<tillo>\u00a0has quit  \n08:41\u00a0<tillo>\u00a0has joined #xwiki  \n08:41\u00a0<vmassol>\u00a0has quit  \n08:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:52\u00a0<cjd>\u00a0has joined #xwiki  \n08:57\u00a0<camil7>\u00a0has joined #xwiki  \n09:22\u00a0<mflorea>\u00a0has joined #xwiki  \n09:31\u00a0<msmeria>\u00a0has joined #xwiki  \n09:36\u00a0<sburjan>\u00a0has joined #xwiki  \n09:48\u00a0<sburjan>\u00a0vmassol1: good morning  \n09:50\u00a0<chalx>\u00a0has joined #xwiki  \n09:57\u00a0<lucaa>\u00a0has joined #xwiki  \n10:00\u00a0<evalica>\u00a0has joined #xwiki  \n10:00\u00a0<j-simard>\u00a0has quit  \n10:06\u00a0<vmassol1>\u00a0sburjan: hi  \n10:07\u00a0<vmassol1>\u00a0checking build now  \n10:09\u00a0<sburjan>\u00a0vmassol1: retesting what I was doing yesterday, I'll report back if it still failes  \n10:10\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n10:10\u00a0<vmassol>\u00a0sburjan: ok  \n10:12\u00a0<tmortagne>\u00a0vmassol: question for you on skype  \n10:13\u00a0<vmassol>\u00a0thanks  \n10:27\u00a0<vmassol>\u00a0mflorea: trying to debug http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-administration-test-tests/4684/testReport/junit/org.xwiki.administration.test.ui/AdministrationTest/verifyGlobalAndSpaceSections/ the image looks ok though. I don't have any idea ATM. will try to reproduce locally by running N times  \n10:54\u00a0<chalx>\u00a0has quit  \n10:58\u00a0<mflorea>\u00a0tmortagne, vmassol: anything left to commit for RC1?  \n10:58\u00a0<vmassol>\u00a0mflorea: be careful sburjan reportred a blocker for RC1  \n10:59\u00a0<mflorea>\u00a0which one?  \n10:59\u00a0<tmortagne>\u00a0mflorea: yep, finishing a test, will commit in a few minutes  \n10:59\u00a0<tmortagne>\u00a0some unit tests were not executed  \n10:59\u00a0<vmassol>\u00a0on IRC about the new migration from GD for wikis  \n10:59\u00a0<vmassol>\u00a0he's retesting right now (see message above)  \n10:59\u00a0<sburjan>\u00a0yes  \n11:00\u00a0<vmassol>\u00a0there are also functional tests failing that I'm looking at but I'm progressing slowly  \n11:00\u00a0<mflorea>\u00a0ok, so it's reported. but you haven't answered my question  \n11:00\u00a0<vmassol>\u00a0getting other issues when trying to reproduce locally  \n11:00\u00a0<mflorea>\u00a0I wasn't talking about those. I meant planned commits for RC1  \n11:00\u00a0<vmassol>\u00a0mflorea: ok, nothing from me  \n11:01\u00a0<mflorea>\u00a0tmortagne: you have an issue marked in progress  \n11:01\u00a0<tmortagne>\u00a0lokking problem jost forgot to close it  \n11:01\u00a0<mflorea>\u00a0sorry, was GD not you  \n11:01\u00a0<mflorea>\u00a0is GD available today?  \n11:02\u00a0<vmassol>\u00a0no  \n11:02\u00a0<mflorea>\u00a0:(  \n11:02\u00a0<vmassol>\u00a0unfortunately  \n11:02\u00a0<vmassol>\u00a0yeah :(  \n11:02\u00a0<DarkKnightCZ>\u00a0what is the easiest way to get user, who updated certain document for the last time?  \n11:03\u00a0<vmassol>\u00a0no easy way I think ;)  \n11:03\u00a0<vmassol>\u00a0maybe using the activity stream  \n11:03\u00a0<vmassol>\u00a0not sure you get attachment uploads in there though so you might need to load the docs one by one  \n11:04\u00a0<mflorea>\u00a0isn't this the author?  \n11:06\u00a0<sburjan>\u00a0mflorea: http://jira.xwiki.org/browse/XWIKI-9708 is very important to be fixed if we want a usable DW, also it's a must for 5.2.2  \n11:07\u00a0<mflorea>\u00a0sburjan: that is not a new issue, is has been like that from the start, so definitely not a blocker  \n11:07\u00a0<mflorea>\u00a0it's important, we don't aim to have a perfect DW on 5.2.2  \n11:07\u00a0<vmassol>\u00a0mflorea: I'd say blocker for 5.x for sure  \n11:07\u00a0<mflorea>\u00a0yes  \n11:07\u00a0<mflorea>\u00a0that is different  \n11:07\u00a0<mflorea>\u00a0but we have 5.4 and 5.5 for that  \n11:08\u00a0<sburjan>\u00a0:(  \n11:08\u00a0<sburjan>\u00a0I was hoping it will get in 5.2.2  \n11:08\u00a0<vmassol>\u00a0maybe it needs to be documented in release notes though?  \n11:08\u00a0<mflorea>\u00a0and the fix is not trivial, not for 5.3 in any case, and dangerous for 5.2.2 IMO  \n11:08\u00a0<DarkKnightCZ>\u00a0mflorea: yep, you're right... if document is updated, editor is author of that revision, thanks  \n11:09\u00a0<vmassol>\u00a0mflorea: lots of issues planned for 5.3  \n11:09\u00a0<vmassol>\u00a0I wonder if we'll not need a RC2 in that case?  \n11:09\u00a0<mflorea>\u00a0let me review them  \n11:10\u00a0<mflorea>\u00a0but first we need to decide what we do with these  \n11:10\u00a0<mflorea>\u00a0http://jira.xwiki.org/issues/?jql=Project%20in%20%28%22XWiki%20Commons%22%2C%20%22XWiki%20Rendering%22%2C%20%22XWiki%20Platform%22%2C%20%22XWiki%20Enterprise%22%29%20and%20fixVersion%20in%20%28%225.3-rc-1%22%29%20and%20resolution%20in%20%28%22Unresolved%22%29  \n11:10\u00a0<vmassol>\u00a0+ I'm sure GD will need a lot of additional fixes if we release RC1 now  \n11:10\u00a0<sburjan>\u00a0mflorea: okay, I don't know how easy or hard is to fix .... all I know that DW will get a lot of hate because of it. And it makes DW totally inappropriate for large wikis  \n11:10\u00a0<vmassol>\u00a0so either RC2 or fix more for RC1  \n11:11\u00a0<vmassol>\u00a0I've removed one mflorea  \n11:11\u00a0<vmassol>\u00a0I think GD might need help for XE-1347  \n11:12\u00a0<mflorea>\u00a0so I guess we cannot release today  \n11:12\u00a0<vmassol>\u00a0I don't see how we could  \n11:12\u00a0<vmassol>\u00a0a RC is supposed to not contain any important known issue  \n11:12\u00a0<mflorea>\u00a0all versions contain know issues, some of which are important :)  \n11:12\u00a0<vmassol>\u00a0RC is RC  \n11:12\u00a0<mflorea>\u00a0we even have a link in the release notes  \n11:12\u00a0<mflorea>\u00a0\"known issues\"  \n11:13\u00a0<vmassol>\u00a0right now the fact that there are issues planned for 5.3 final  \n11:13\u00a0<vmassol>\u00a0means RC is not RC  \n11:13\u00a0<vmassol>\u00a0so if we release a RC1 today we need a RC2 I think  \n11:13\u00a0<vmassol>\u00a0too tight I think anyway  \n11:13\u00a0<mflorea>\u00a0yeah, but it's not like we never committed after RC  \n11:13\u00a0<vmassol>\u00a0sure  \n11:13\u00a0<vmassol>\u00a0but that shouldn't be our standard practice I think right?  \n11:14\u00a0<mflorea>\u00a0I agree it's not good, but we made a practice out if it.. unfortunately  \n11:14\u00a0<vmassol>\u00a0not really  \n11:14\u00a0<vmassol>\u00a0we've always tried to avoid it and done it at last resort only  \n11:14\u00a0<vmassol>\u00a0and only when there were very few issues  \n11:14\u00a0<vmassol>\u00a0this is not the case here there are too many  \n11:15\u00a0<vmassol>\u00a0I woudln't feel comfrotable about the quality of that release personally  \n11:15\u00a0<sburjan>\u00a0guys, sorry for the delay, but it takes 5 minutes on my powerful machine to create a subwiki, and I need 3 of them to run my test  \n11:15\u00a0<vmassol>\u00a0I think one problem is that we took too much for 5.3  \n11:15\u00a0<mflorea>\u00a05 issues for me is not that much  \n11:16\u00a0<vmassol>\u00a0it's a lot + all the ones that will be created because it's not been tested yet  \n11:16\u00a0<vmassol>\u00a0your search has not been retested yet + GD's migrations  \n11:16\u00a0<sburjan>\u00a0GD's migrations totally fail  \n11:16\u00a0<sburjan>\u00a0but I want to confirm, give me more 10 minutes  \n11:16\u00a0<vmassol>\u00a0:(  \n11:17\u00a0<mflorea>\u00a0in this case I'll go back to Solr, the remaining issues are somehow easier to fix.  \n11:18\u00a0<vmassol>\u00a0yup that's the best to do I think, we're a bit stuck that GD is not here today  \n11:18\u00a0<sburjan>\u00a0vmassol: you should talk to him so on Monday I can coordinate with him so we can fix the issues  \n11:19\u00a0<vmassol>\u00a0sburjan: report the issues in jira please  \n11:19\u00a0<sburjan>\u00a0vmassol: I can't  \n11:19\u00a0<vmassol>\u00a0jira is not working?  \n11:19\u00a0<vmassol>\u00a0:)  \n11:19\u00a0<sburjan>\u00a0they don't affect the latest released versions. The bad things were introduced 2 days ago  \n11:19\u00a0<vmassol>\u00a0and?  \n11:19\u00a0<vmassol>\u00a0that doesn't prevent you from commenting on existing jiras  \n11:20\u00a0<sburjan>\u00a0you want ome to report a jira issue on a spanshot ?  \n11:20\u00a0<sburjan>\u00a0ah ok  \n11:20\u00a0<vmassol>\u00a0anything you comment will help GD  \n11:20\u00a0<vmassol>\u00a0and he might even see them before Monday who knows  \n11:30\u00a0<evalica>\u00a0has quit  \n11:30\u00a0<sburjan>\u00a0vmassol, mflorea: I confirm. GD's migrators are not working proiperly. They are not failing or giving stacktraces, but the descriptors are not properly migrated. From a 5.2.1 working subwiki, I get a broken subwiki in 5.3. I am totally -1 for releasing today  \n11:30\u00a0<sburjan>\u00a0also, DW does not kick in  \n11:30\u00a0<evalica>\u00a0has joined #xwiki  \n11:31\u00a0<sburjan>\u00a0vmassol: http://jira.xwiki.org/browse/XWIKI-9738 this is the issue where I should comment, right ?  \n11:33\u00a0<vmassol>\u00a0yes  \n11:35\u00a0<sburjan>\u00a0thanks. I will comment, but I don't know if I should reopen it  \n11:36\u00a0<DarkKnightCZ>\u00a0what exactly does \"registering UI extension\" means? more likely, what does extension installer do to pages to make extensions work on them?  \n11:36\u00a0<vmassol>\u00a0sburjan: yes reopen please  \n11:40\u00a0<tmortagne>\u00a0DarkKnightCZ: extension manager does not do anything special, UI extensions need to have an author with the proper rights to be registered when it's saved  \n11:40\u00a0<tmortagne>\u00a0and that author is you by default  \n11:41\u00a0<tmortagne>\u00a0so what triggers \"registering UI extension\" is just saving a document that contains a UI extension  \n11:42\u00a0<vmassol>\u00a0btw DarkKnightCZ, what's your name (I like to know whom I talk to :))?  \n12:00\u00a0<vmassol>\u00a0I cant' make verifyGlobalAndSpaceSections locally...  \n12:11\u00a0<DarkKnightCZ>\u00a0vmassol: Lukas (Lucas), im asking because of XWIKI-9741  \n12:13\u00a0<DarkKnightCZ>\u00a0got to go  \n12:13\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n13:24\u00a0<Slashman>\u00a0has joined #xwiki  \n13:37\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:40\u00a0<DarkKnightCZ>\u00a0tmortagne: hi, what do you want to know about that page? (about bug 9741), page is Livetable created with App within minutes, but that shouldnt be the problem, on other livetables it works  \n13:41\u00a0<DarkKnightCZ>\u00a0also, i noticed today it isn't probably page specific (when i installed autocompletition, other pages (different ones) had that error)  \n13:59\u00a0<vmassol>\u00a0msmeria: hi  \n13:59\u00a0<vmassol>\u00a0I think you reported in the wrong project  \n13:59\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XINFRA-129  \n13:59\u00a0<msmeria>\u00a0vmassol: hello  \n13:59\u00a0<vmassol>\u00a0ah maybe not  \n13:59\u00a0<msmeria>\u00a0why so ?  \n13:59\u00a0<vmassol>\u00a0it's just translations not keys  \n13:59\u00a0<msmeria>\u00a0yes  \n13:59\u00a0<vmassol>\u00a0my bad  \n14:00\u00a0<vmassol>\u00a0ow  \n14:00\u00a0<vmassol>\u00a0now  \n14:00\u00a0<vmassol>\u00a0why don't you also report for all the other languages?  \n14:00\u00a0<vmassol>\u00a0:)  \n14:01\u00a0<vmassol>\u00a0theoretical questin  \n14:01\u00a0<vmassol>\u00a0it's ok  \n14:01\u00a0<vmassol>\u00a0don't worry  \n14:01\u00a0<vmassol>\u00a0jsut asking myself  \n14:01\u00a0<vmassol>\u00a0:)  \n14:01\u00a0<vmassol>\u00a0but it's fine, anyone can report just for a subset  \n14:01\u00a0<vmassol>\u00a0I'm just wondering what we will do  \n14:02\u00a0<vmassol>\u00a0if someone reports the same for say german  \n14:02\u00a0<vmassol>\u00a0I think we might close a won't fix  \n14:02\u00a0<vmassol>\u00a0in other words  \n14:02\u00a0<vmassol>\u00a0maybe we shouldn't report translation needs on XINFRA  \n14:02\u00a0<vmassol>\u00a0because we would have hundred of thousands of issues otherwise  \n14:02\u00a0<vmassol>\u00a0translation needs are already reported on l10n  \n14:03\u00a0<vmassol>\u00a0that's unless the xwiki.org project says it wants FR translations to be perfect at each release  \n14:03\u00a0<vmassol>\u00a0but that's not the case ATM  \n14:04\u00a0<msmeria>\u00a0ok so you want me to close the issue ?  \n14:10\u00a0<tmortagne>\u00a0we don't need a jira issue to know that there is keys to translation so the issue is pretty useless IMO  \n14:10\u00a0<tmortagne>\u00a0and even if it was a XE requirement it would not be on XINFRA  \n14:22\u00a0<j-simard>\u00a0has joined #xwiki  \n14:29\u00a0<camil7>\u00a0ah, but this reminds me quite a few German translations are missing, seems there are a few new keys, too  \n14:30\u00a0<msmeria>\u00a0I'm closing it as Invalid  \n14:30\u00a0<msmeria>\u00a0we have l10n  \n14:33\u00a0<vmassol>\u00a0camil7: cool reminder :) Actually it would be nice to have this feature on l10n: to send emails to people who register when new keys are added  \n14:36\u00a0<camil7>\u00a0yes, that would be cool, but for now I guess I will just add a note to my monitor: \"XWiki RC pending? better check l10n!\" ;)  \n14:37\u00a0<vmassol>\u00a0hmm if transaltion pages for a given language were located in a space you could use the watchlist on that space  \n14:38\u00a0<tmortagne>\u00a0vmassol: yes you can use watchlist  \n14:39\u00a0<vmassol>\u00a0tmortagne: for ex I see http://l10n.xwiki.org/xwiki/bin/view/Platform/PlatformAnnotationCodeTranslations\\_76175129\\_annotations-action-validate-tooltip\\_fr  \n14:39\u00a0<vmassol>\u00a0for FR  \n14:39\u00a0<vmassol>\u00a0how do you set up a watchlist only for FR?  \n14:39\u00a0<vmassol>\u00a0(for all keys)  \n14:39\u00a0<tmortagne>\u00a0well it's not very wel filtered so you will get everything that happen in that space, not only new keys  \n14:39\u00a0<tmortagne>\u00a0since everything is in the same space  \n14:40\u00a0<DarkKnightCZ>\u00a0has quit  \n14:40\u00a0<tmortagne>\u00a0vmassol: as I said you can't, everything is in the same space  \n14:40\u00a0<vmassol>\u00a0\"vmassol: yes you can use watchlist\"  \n14:40\u00a0<vmassol>\u00a0:)  \n14:40\u00a0<vmassol>\u00a0s/can/can't/?  \n14:40\u00a0<tmortagne>\u00a0read the other messages  \n14:40\u00a0<vmassol>\u00a0ok  \n14:41\u00a0<vmassol>\u00a0too bad we don't have a space per language  \n14:41\u00a0<vmassol>\u00a0wouldn't be hard to do I guess  \n14:41\u00a0<vmassol>\u00a0since keys are probably foind only by xobjects and not by doc location  \n14:41\u00a0<tmortagne>\u00a0it's a very big change  \n14:41\u00a0<vmassol>\u00a0\\*found  \n14:41\u00a0<vmassol>\u00a0ok  \n14:42\u00a0<vmassol>\u00a0one doc contains all keys for all languages?  \n14:42\u00a0<tmortagne>\u00a0no  \n14:42\u00a0<tmortagne>\u00a0en work like others languages  \n14:42\u00a0<tmortagne>\u00a0you have one document containing the en version of a key  \n14:43\u00a0<tmortagne>\u00a0en is just not listed  \n14:43\u00a0<vmassol>\u00a0yes but I wasn't talking about en  \n14:43\u00a0<tmortagne>\u00a0actually you were, keys are what you have in the en version  \n14:44\u00a0<tmortagne>\u00a0en version is the reference version  \n14:46\u00a0<tmortagne>\u00a0now we could easily send mails at the end of the import process  \n14:51\u00a0<camil7>\u00a0oh, I did not mean to trigger a big discussion about l10n while the RC is pending .... there are not that many active translators, that maybe a mail to the xwiki-users list tells more people top look into it ;)  \n14:54\u00a0<tmortagne>\u00a0camil7: it's a not very costly discussion, as usual with l10n the hard part is finding someone with time to do it ;)  \n15:00\u00a0<vmassol>\u00a0camil7: interested in coming to FOSDEM 2013?  \n15:00\u00a0<vmassol>\u00a0there's a wiki room for us, call for paper is ending soon now: https://lists.fosdem.org/pipermail/wikis-devroom/2013-October/000000.html  \n15:01\u00a0<Slashman\\_>\u00a0has joined #xwiki  \n15:01\u00a0<camil7>\u00a0ah, would be FOSDEM 2014  \n15:01\u00a0<vmassol>\u00a0indeed  \n15:03\u00a0<camil7>\u00a0would really like to, but have to ask my boss, work load is a bit tight at the moment, and end of February are two deadlines :-/  \n15:04\u00a0<camil7>\u00a0ah, deadline is tomorrow, will quickly try to get some info  \n15:04\u00a0<Slashman>\u00a0has quit  \n15:31\u00a0<j-simard>\u00a0has quit  \n15:33\u00a0<j-simard>\u00a0has joined #xwiki  \n15:58\u00a0<msmeria>\u00a0has quit  \n16:04\u00a0<vrachieru>\u00a0has quit  \n16:14\u00a0<xwikiorg\\_guest\\_3>\u00a0has joined #xwiki  \n16:15\u00a0<xwikiorg\\_guest\\_3>\u00a0Hello, i a updateing out company wiki from version 5.0.1 to 5.2.1, and its now VERY VERRRYYY slow.... i see every second or minute \"Deprecated usage of method\" log entrys in the tomcat log, is that the reason?  \n16:15\u00a0<xwikiorg\\_guest\\_3>\u00a0what is that wiki doing? i cant understand, why it is sooooo slow...  \n16:17\u00a0<camil7>\u00a0is it slow after starting, and uses lots of CPU, or is it slow even a long time after starting and uses nearly no CPU time?  \n16:19\u00a0<xwikiorg\\_guest\\_3>\u00a0the second one, this machine has 4 cpu's and a load of 15-40%  \n16:19\u00a0<vmassol>\u00a0it's indexing probably  \n16:19\u00a0<vmassol>\u00a0solr indexing  \n16:20\u00a0<vmassol>\u00a0give it some time to settle  \n16:20\u00a0<tmortagne>\u00a0it's easy to check if that's solr  \n16:20\u00a0<tmortagne>\u00a0look in admin  \n16:20\u00a0<vmassol>\u00a0you can check the indexing queue size  \n16:21\u00a0<vmassol>\u00a0so admin > search  \n16:21\u00a0<vmassol>\u00a0admin > search > queue size  \n16:22\u00a0<xwikiorg\\_guest\\_3>\u00a0i am trying to open that page  \n16:22\u00a0<vmassol>\u00a0you should also check the memory settings you have I think  \n16:23\u00a0<xwikiorg\\_guest\\_3>\u00a0memory is 3300452k used, \u00a0\u00a0646920k free  \n16:24\u00a0<xwikiorg\\_guest\\_3>\u00a0search is set to datebase, cause lucence did not work so well  \n16:24\u00a0<vmassol>\u00a0tmortagne: will solr still index even if not selected?  \n16:25\u00a0<tmortagne>\u00a0vmassol: what you select is only the default UI, the indexer always work  \n16:25\u00a0<vmassol>\u00a0xwikiorg\\_guest\\_3: you should use SOLR now, it should work well  \n16:25\u00a0<vmassol>\u00a0select it and check the queue size  \n16:26\u00a0<xwikiorg\\_guest\\_3>\u00a0cant select it  \n16:26\u00a0<xwikiorg\\_guest\\_3>\u00a0have only lucence and database for choose  \n16:26\u00a0<vmassol>\u00a0you didn't get the Distribution Wizard?  \n16:26\u00a0<xwikiorg\\_guest\\_3>\u00a0and the page seems broken now...  \n16:26\u00a0<xwikiorg\\_guest\\_3>\u00a0there are things like \" If the document doesn't exist don't display it either. \u00a0\u00a0#if (!$searchAdminDoc.isNew())\"  \n16:27\u00a0<xwikiorg\\_guest\\_3>\u00a0i have follow the steps from the update wizard  \n16:27\u00a0<xwikiorg\\_guest\\_3>\u00a0followed  \n16:27\u00a0<xwikiorg\\_guest\\_3>\u00a0or \"$searchAdminDoc.displayTitle\"  \n16:28\u00a0<xwikiorg\\_guest\\_3>\u00a0appears as text  \n16:28\u00a0<xwikiorg\\_guest\\_3>\u00a0what can i do now?  \n16:28\u00a0<tmortagne>\u00a0does not sounds like the pages have been upgraded  \n16:29\u00a0<camil7>\u00a0what does the \"Extension Updater\" say ? everything up to date?  \n16:29\u00a0<xwikiorg\\_guest\\_3>\u00a0i have click to \"next\" if he ask for merging, wuthout changing the default option  \n16:29\u00a0<tmortagne>\u00a0when you go to admin -> installed extensions do you have 5.2.1 extensions installed ?  \n16:29\u00a0<xwikiorg\\_guest\\_3>\u00a0check it  \n16:31\u00a0<xwikiorg\\_guest\\_3>\u00a0this page is broken too :(((  \n16:31\u00a0<xwikiorg\\_guest\\_3>\u00a0\"NOTE: We don't use #template because it currently registers the Velocity macros in a different namespace which makes them unavailable in the current wiki page or the current template. We also tried #parse but it \"randomly\" fails to\" \u00a0\u00a0and so on....  \n16:31\u00a0<xwikiorg\\_guest\\_3>\u00a0\"Failed to execute the [include] macro\"  \n16:31\u00a0<xwikiorg\\_guest\\_3>\u00a0\"#displayExtensionSearchBar() Es wurden keine Erweiterungen f\u00fcr '' gefunden\"  \n16:31\u00a0<camil7>\u00a0hm, this should give a stack trace if clicking in the error message  \n16:32\u00a0<tmortagne>\u00a05.0.1 whas the first version ever of that wiki ?  \n16:32\u00a0<xwikiorg\\_guest\\_3>\u00a0org.xwiki.rendering.macro.MacroExecutionException: Current user [xwiki:XWiki.Admin] doesn't have view rights on document [xwiki:XWiki.ExtensionManagerMacros] at org.xwiki.rendering.internal.macro.include.IncludeMacro.execute(IncludeMacro.java:151) at org.xwiki.rendering.internal.macro.include.IncludeMacro.execute(IncludeMacro.java:55) at org.xwiki.rendering.internal.transformation.macro.MacroTransformation.transformOnce(Ma  \n16:32\u00a0<xwikiorg\\_guest\\_3>\u00a0hmm...\"doesn't have view rights on document\"  \n16:32\u00a0<xwikiorg\\_guest\\_3>\u00a0im logged in as Admin  \n16:32\u00a0<camil7>\u00a0this should not happen, of course  \n16:32\u00a0<xwikiorg\\_guest\\_3>\u00a0tmortagne: no  \n16:33\u00a0<camil7>\u00a0does the Admin still have admin rights ?  \n16:33\u00a0<xwikiorg\\_guest\\_3>\u00a0but i have updated the UI the first time, from version 4.x  \n16:35\u00a0<xwikiorg\\_guest\\_3>\u00a0i cant open admin -> rights too, with same message  \n16:35\u00a0<xwikiorg\\_guest\\_3>\u00a0so my installation is now destroyed...  \n16:35\u00a0<xwikiorg\\_guest\\_3>\u00a0is it enough to restore the database backup?  \n16:35\u00a0<xwikiorg\\_guest\\_3>\u00a0and chancel the distribution wizard?  \n16:36\u00a0<camil7>\u00a0I wonder why the view permissions got lost, that shpuld not happen, too  \n16:36\u00a0<tmortagne>\u00a0has quit  \n16:36\u00a0<camil7>\u00a0anyway, recover from backup should help, if you also have a backup of the permDir  \n16:37\u00a0<xwikiorg\\_guest\\_3>\u00a0can i set this right manuell in the database?  \n16:37\u00a0<xwikiorg\\_guest\\_3>\u00a0(mysql)  \n16:37\u00a0<camil7>\u00a0if not, backup will still help, but one has to tell the update wizard to go away then  \n16:37\u00a0<camil7>\u00a0well, you cannot go to the \"Rights\" panel and see if Admin still has the proper rights?  \n16:38\u00a0<xwikiorg\\_guest\\_3>\u00a0yes, cause \"Current user [xwiki:XWiki.Admin] doesn't have view rights\"  \n16:38\u00a0<camil7>\u00a0ah, but you can enter the wiki admin at all ?  \n16:39\u00a0<xwikiorg\\_guest\\_3>\u00a0yes i see the admin overview panel page, but cant open subpages like rights or search application  \n16:39\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:39\u00a0<camil7>\u00a0can you see the global permission objects via the object editor? i.e. /xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n16:40\u00a0<camil7>\u00a0ah, or maybe, before you continue, activate the \"superadmin\" and log in as that one  \n16:40\u00a0<xwikiorg\\_guest\\_3>\u00a0good idea  \n16:41\u00a0<xwikiorg\\_guest\\_3>\u00a0and yes can open xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n16:44\u00a0<camil7>\u00a0you can check the permissions manually there - these are the \" Objects of Type XWiki.XWikiGlobalRights\"  \n16:46\u00a0<xwikiorg\\_guest\\_3>\u00a0there is no user in the XWikiAdminGroup  \n16:46\u00a0<xwikiorg\\_guest\\_3>\u00a0i will add the Administrator to it  \n16:46\u00a0<camil7>\u00a0ah, maybe the upgrade added / overwrote the XWikiAdminGroup - should not have done that  \n16:47\u00a0<xwikiorg\\_guest\\_3>\u00a0yes seems like this  \n16:47\u00a0<camil7>\u00a0same for the XWikiAllGroup - maybe check their history  \n16:47\u00a0<camil7>\u00a0something like /xwiki/bin/view/XWiki/XWikiAllGroup?viewer=history&showminor=true  \n16:48\u00a0<xwikiorg\\_guest\\_3>\u00a0will try it  \n16:48\u00a0<camil7>\u00a0should tell you on the comment if the upgrader added a new version. if it did, try reverting to the revision before - maybe better than to fix it manually  \n16:49\u00a0<vmassol>\u00a0yes rollback is better  \n16:49\u00a0<vmassol>\u00a0XWikiAllGroup and XWikiAdminGroup  \n16:49\u00a0<vmassol>\u00a0again the DW should really not overwrite allgroup and admingroup, not without a warning\u2026 I remember commenting on that \u2026. it's very dangerous  \n16:50\u00a0<tmortagne>\u00a0vmassol: you call displaying a conflict \"without a warning\" ?  \n16:50\u00a0<vmassol>\u00a0yes  \n16:50\u00a0<vmassol>\u00a0for that use case definitely  \n16:50\u00a0<vmassol>\u00a0How can use know that if they answer the wrong question on this one, their wiki will be unusuable\u2026 that requires a deep understanding  \n16:51\u00a0<vmassol>\u00a0s/use/user  \n16:51\u00a0<vmassol>\u00a0you've got a proof here, what more do you need?  \n16:51\u00a0<vmassol>\u00a0(and I got another one before)  \n16:51\u00a0<vmassol>\u00a0there are some very dangerous pages  \n16:51\u00a0<camil7>\u00a0there is some change in the the XWikiAllGroup between 5.0.1 and \u00a0later versions - normally the wizard it should have merged then  \n16:51\u00a0<tmortagne>\u00a0that's why the default a conflict give priority to current, it should not have changed  \n16:52\u00a0<vmassol>\u00a0camil7: no  \n16:52\u00a0<tmortagne>\u00a0what we really need is reproduce exactly and understand why it ovewrite with empty  \n16:52\u00a0<vmassol>\u00a0because you make changes to AllGroup  \n16:52\u00a0<vmassol>\u00a0(when you add a user)  \n16:52\u00a0<tmortagne>\u00a0does not make much sense to me  \n16:52\u00a0<vmassol>\u00a0so you'll always get a conflict when we change that page  \n16:52\u00a0<tmortagne>\u00a0again priority goes to current, not new version  \n16:53\u00a0<tmortagne>\u00a0so it should not get en empty group if he keep the default proposed merge version  \n16:53\u00a0<camil7>\u00a0I thought I have seen the option to use \"merged version\" last time ... maybe I do not remmeber correctly  \n16:53\u00a0<tmortagne>\u00a0it's perfectly normal to get a conflict here because we modified standard pages, what is not normal is to get an empty one as a result  \n16:53\u00a0<tmortagne>\u00a0especially when none of the 3 version were empty  \n16:54\u00a0<tmortagne>\u00a0camil7: the merged version is the default  \n16:54\u00a0<camil7>\u00a0it is a bit tricky to remember because the results of the upgrade are not written to \u00a0the xwiki.log (or I manager to mess up my log config)  \n16:54\u00a0<xwikiorg\\_guest\\_3>\u00a0it seems to be all given rights to our groups and users are lost, i hope i cant restore it with the history  \n16:54\u00a0<camil7>\u00a0yes, I thought so, too  \n16:54\u00a0<tmortagne>\u00a0and for each element of a document when getting a conflict the merged version get the current version  \n16:54\u00a0<camil7>\u00a0yes, restore form last revision, that should o  \n16:55\u00a0<camil7>\u00a0s/should o/should do/  \n16:56\u00a0<xwikiorg\\_guest\\_3>\u00a0ok, will activate first the superuser account and then will try to restore that rights page with the history feature  \n16:56\u00a0<camil7>\u00a0I see the incoming change to the XWikiAllGroup is indeed adding a new empty group object - that will (should) create a conflict, and choosing the \"clean version from distro\" is probably the wrong decision here  \n16:57\u00a0<camil7>\u00a0I remember, too, that \"merged\" or \"keep own\" is the default, for those who do not see the options  \n16:57\u00a0<tmortagne>\u00a0camil7: \"clean version from distro\" is not the default  \n16:58\u00a0<camil7>\u00a0btw, I \u00a0cannot reproduce it, but sometimes indeed the menu with the option to look at the differences and choose to resolve the conflict is not shown  \n16:58\u00a0<tmortagne>\u00a0someone who does not know what to do is usually choosing the default which is pretty much what is already in the database  \n16:58\u00a0<camil7>\u00a0I think it is a bug in the brwoser, failing to handle the Nth ajax update  \n16:59\u00a0<camil7>\u00a0because just reloading the page shows the options to compare and pick  \n16:59\u00a0<tmortagne>\u00a0xwikiorg\\_guest\\_3: you clicked continue for all conflicts without changing anything ?  \n17:00\u00a0<xwikiorg\\_guest\\_3>\u00a0yes  \n17:00\u00a0<xwikiorg\\_guest\\_3>\u00a0i dont understand that conflict management, so i have click on next for all changes  \n17:00\u00a0<tmortagne>\u00a0then there is a bug IMO  \n17:00\u00a0<xwikiorg\\_guest\\_3>\u00a0ok  \n17:01\u00a0<tmortagne>\u00a0you should never have got an empty group in that case by default  \n17:01\u00a0<tmortagne>\u00a0need to try to reproduce it  \n17:02\u00a0<camil7>\u00a0maybe it merged the two different XWikiGroup objects \"sucessfully\", and then as only one XWikiGroup object per group page makes sense, it accidentially has thrown away the wrong one ?  \n17:02\u00a0<camil7>\u00a0anyway, reverting the XWiikiAdminGroup and XWikiAllGroup to the version before the upgrade should help  \n17:02\u00a0<tmortagne>\u00a0camil7: it compare object by object  \n17:03\u00a0<tmortagne>\u00a0if two objects with the same number are different it's a conflict and the current version is choosen  \n17:03\u00a0<tmortagne>\u00a0that's how it's supposed to work  \n17:03\u00a0<camil7>\u00a0yes, sorry, I should go and try to reproduce instead of speculating, but speculating is soo much easier ;)  \n17:04\u00a0<vmassol>\u00a0mflorea: very cool facet: http://jira.xwiki.org/secure/attachment/26811/searchClassFacet.png :)  \n17:05\u00a0<mflorea>\u00a0thanks :)  \n17:05\u00a0<camil7>\u00a0btw, where is the place where the DW kicks in at startup? \u00a0we need to disable that for some customer with a completely paranoid firewall, which does not allow their intranet servers to connect to \u00a0the rest of the world :-/  \n17:05\u00a0<tmortagne>\u00a0camil7: you could remove the DW jar module  \n17:06\u00a0<camil7>\u00a0ah, yes, that would work for sure, thanks  \n17:06\u00a0<vmassol>\u00a0camil7: the solution for that use case is to set up an internal xwiki extension repository  \n17:06\u00a0<tmortagne>\u00a0no need for it to be a xwiki extension repository  \n17:06\u00a0<tmortagne>\u00a0a simple maven repository could do  \n17:06\u00a0<vmassol>\u00a0either a maven repo or the xwiki repository app  \n17:07\u00a0<vmassol>\u00a0a maven repo is an xwiki extension repo ;)  \n17:07\u00a0<camil7>\u00a0ah, yes, we will just redirect then to file:///dev/null for the time being, until they are softened up to the idea of unpackign some zip file with stuff in the server :D  \n17:07\u00a0<vmassol>\u00a0because without one I don't know how you'll handle installs, upgrades, etc  \n17:07\u00a0<vmassol>\u00a0it'll be painful to do them all through the Import  \n17:08\u00a0<tmortagne>\u00a0the old way :)  \n17:08\u00a0<camil7>\u00a0yes, I remember, tried something like a local maven repo is a similar case, works very well, indeed  \n17:08\u00a0<camil7>\u00a0import ... they just wanted a database dump for now :D  \n17:08\u00a0<sburjan>\u00a0has quit  \n17:14\u00a0<xwikiorg\\_guest\\_3>\u00a0after adding the Administrator to the admin group and open the rights page in the admin panel, it seems there are all rights overwritten with the blank checkboxes...now i cant open anymore /xwiki/bin/login/XWiki/XWikiLogin :(  \n17:14\u00a0<xwikiorg\\_guest\\_3>\u00a0so i cant login to xwiki (with the superadmin)  \n17:14\u00a0<xwikiorg\\_guest\\_3>\u00a0why is it possible to deactivate the login page at all?!  \n17:16\u00a0<camil7>\u00a0should not be possible to disable that one  \n17:16\u00a0<camil7>\u00a0did you restore the XWikiAllGroup from the last revision before the update ?  \n17:17\u00a0<camil7>\u00a0anyway, what is the exact error message now ?  \n17:20\u00a0<tmortagne>\u00a0hmm I just tried the following:  \n17:20\u00a0<tmortagne>\u00a0\\* start XWiki jetty/hsqldb 5.0.1  \n17:20\u00a0<tmortagne>\u00a0\\* replaced the webapps/xwiki/ folder with the one coming from 5.2.1  \n17:20\u00a0<tmortagne>\u00a0\\* started  \n17:20\u00a0<tmortagne>\u00a0\\* got DW, executed. Got conflict on AllGoup and AdminGroup the UI propose me a merge version with the only difference with the current one being that it's now a hidden document, click continue for each  \n17:20\u00a0<tmortagne>\u00a0\\* I still have the right users in both group  \n17:20\u00a0<tmortagne>\u00a0so standard use case works well  \n17:21\u00a0<tmortagne>\u00a0camil7: did you restored your groups to previous state or added user by hand ?  \n17:21\u00a0<tmortagne>\u00a0would it be possible to get an export of those groups or is it two sensitive from security point of view ?  \n17:22\u00a0<camil7>\u00a0I just speculated what might happen  \n17:22\u00a0<tmortagne>\u00a0sorry meant xwikiorg\\_guest\\_3  \n17:22\u00a0<camil7>\u00a0ah, and by the way, I see now: \u00a0\u00a0(04:33:15 PM) xwikiorg\\_guest\\_3: but i have updated the UI the first time, from version 4.x  \n17:23\u00a0<tmortagne>\u00a0basically what I would love to have is the groups document in the exact state they had before the upgrade  \n17:23\u00a0<camil7>\u00a0so if I understand correctly, even though 5.0.1 was the last installed version, on the upgrade to 5.2.1 it was the first time the Distribution wizard was used ?  \n17:23\u00a0<tmortagne>\u00a0so that I can reproduce and debug the behavior  \n17:24\u00a0<tmortagne>\u00a0ha right if it was not a merge this is indeed different, but even in that case he would get a group with only Admin in it  \n17:24\u00a0<camil7>\u00a0I hope xwikiorg\\_guest\\_3 can someone get back into his/her wiki so we can know. Unfortunately I never had that kind of problem, so I am not a big help in reproducing ...  \n17:24\u00a0<tmortagne>\u00a0not an empty one  \n17:24\u00a0<xwikiorg\\_guest\\_3>\u00a0maybe it would be possible, but how i cant login now? sorry that I only partly there, i currently have to do several of parallel things  \n17:26\u00a0<camil7>\u00a0\"cant login\" with the \"superadmin\" is something from the \"this cannot happen\" realm, unless someone scrapped the superadmin from the xwiki.cfg and restarted the server without asking you ...  \n17:26\u00a0<xwikiorg\\_guest\\_3>\u00a0i dont can open the login page  \n17:26\u00a0<xwikiorg\\_guest\\_3>\u00a0cause it means i have no rights to open the login page  \n17:26\u00a0<xwikiorg\\_guest\\_3>\u00a0so i cant login...and cant enter the superadmin credentials  \n17:27\u00a0<xwikiorg\\_guest\\_3>\u00a0there are no login forms to enter it...  \n17:28\u00a0<xwikiorg\\_guest\\_3>\u00a0with using URL \"xwiki/bin/login/XWiki/XWikiLogin\"...there are any other way to login?  \n17:28\u00a0<camil7>\u00a0what is the error message there?  \n17:28\u00a0<xwikiorg\\_guest\\_3>\u00a0\"Fehler: Sie sind nicht zur Anzeige dieses Dokuments oder zur Ausf\u00fchrung dieser Aktion berechtigt.\"  \n17:28\u00a0<camil7>\u00a0I guess you are still logged in as Admin  \n17:28\u00a0<tmortagne>\u00a0this is weird, there is no real XWikiLogin page by default, it actually land in a login.vm template  \n17:28\u00a0<camil7>\u00a0can you try to log out  \n17:29\u00a0<xwikiorg\\_guest\\_3>\u00a0i can restart the tomcat, so the session should be termineted if there is one  \n17:29\u00a0<tmortagne>\u00a0so it should not be possible to not see that template that you see most of the time because you don't have the right  \n17:29\u00a0<xwikiorg\\_guest\\_3>\u00a0a logout page is not visible  \n17:29\u00a0<xwikiorg\\_guest\\_3>\u00a0or button  \n17:29\u00a0<camil7>\u00a0try to go to \u00a0'/xwiki/bin/logout/XWiki/XWikiLogout?' , or if that does not help, clear cookies  \n17:30\u00a0<xwikiorg\\_guest\\_3>\u00a0ok  \n17:32\u00a0<cjd>\u00a0has quit  \n17:44\u00a0<cjd>\u00a0has joined #xwiki  \n17:48\u00a0<xwikiorg\\_guest\\_3>\u00a0im logged in now and restored successfully the XWikiAllGroup page, now when i open the admin panel and go to Rights,, i see only blank checkboxes of rights and groups  \n17:49\u00a0<xwikiorg\\_guest\\_3>\u00a0how i can restore that rights?  \n17:49\u00a0<camil7>\u00a0has the XWikiPreferences group been imported, too?  \n17:49\u00a0<camil7>\u00a0then \u00a0rollback that one, too  \n17:50\u00a0<xwikiorg\\_guest\\_3>\u00a0i think so  \n17:51\u00a0<xwikiorg\\_guest\\_3>\u00a0with url /xwiki/bin/view/XWiki/XWikiPreferences?viewer=history&showminor=true ?  \n17:51\u00a0<j-simard>\u00a0has quit  \n17:51\u00a0<camil7>\u00a0history should be at /xwiki/bin/view/XWiki/XWikiPreferences?viewer=history&showminor=true  \n17:51\u00a0<lucaa>\u00a0has quit  \n17:51\u00a0<xwikiorg\\_guest\\_3>\u00a0ok thanks i try it  \n17:52\u00a0<evalica>\u00a0has quit  \n17:55\u00a0<camil7>\u00a0the last revison should have a comment \"Import\" if generated the upgrader process  \n17:55\u00a0<xwikiorg\\_guest\\_3>\u00a0yes  \n17:55\u00a0<evalica>\u00a0has joined #xwiki  \n17:57\u00a0<camil7>\u00a0after \"Rollback\" to the version just below of it all the rights should be \u00a0back  \n17:58\u00a0<xwikiorg\\_guest\\_3>\u00a0yes seems so, there are only view rights, but i think we have the most of the rights on space level, i check it right now  \n17:59\u00a0<camil7>\u00a0ah, if on space level, every space has its own SapceName.WebPreferences page ... which might need a similar treatment (hopefully not)  \n18:00\u00a0<xwikiorg\\_guest\\_3>\u00a0ok, the space rights are not overwritten, all rights are there :)  \n18:02\u00a0<xwikiorg\\_guest\\_3>\u00a0so the next problem i see is the performance, its very very slow... and i can only choose between \"lucence\" and \"database\" in the search application, admin panel  \n18:02\u00a0<xwikiorg\\_guest\\_3>\u00a0how i can set it to solr?  \n18:02\u00a0<camil7>\u00a0phew, I hope you can now come back to the original problem ;)  \n18:02\u00a0<xwikiorg\\_guest\\_3>\u00a0yes that is the original problem :)  \n18:02\u00a0<camil7>\u00a0wiki admin -> \"Applications\" -> \"Search\"  \n18:03\u00a0<xwikiorg\\_guest\\_3>\u00a0i can only choose between \"lucence\" and \"database\"  \n18:03\u00a0<xwikiorg\\_guest\\_3>\u00a0ther  \n18:03\u00a0<xwikiorg\\_guest\\_3>\u00a0there  \n18:03\u00a0<camil7>\u00a0but that should have \"solr\" now .... why has the upgrade imported everything except the interesting pages ? ...  \n18:04\u00a0<xwikiorg\\_guest\\_3>\u00a0dont know :(  \n18:04\u00a0<vmassol>\u00a0are you sure you didn't choose to keep the current version for those pages?  \n18:04\u00a0<xwikiorg\\_guest\\_3>\u00a0yes im sure  \n18:05\u00a0<vmassol>\u00a0I don't know where this is defined but mflorea probably knows  \n18:06\u00a0<xwikiorg\\_guest\\_3>\u00a0maybe i can delete the search application and reinstall it new  \n18:06\u00a0<xwikiorg\\_guest\\_3>\u00a0according to installed extensions, the \"Solr Search Application\" 5.2.1 is installed  \n18:08\u00a0<xwikiorg\\_guest\\_3>\u00a0and the Search Application in Version 5.2.1 too  \n18:08\u00a0<xwikiorg\\_guest\\_3>\u00a0i am trying to deinstall it  \n18:09\u00a0<cjd>\u00a0has quit  \n18:09\u00a0<lucaa>\u00a0has joined #xwiki  \n18:11\u00a0<camil7>\u00a0bettr do not deinstall not the \"Search Application\" \u00a0...  \n18:11\u00a0<xwikiorg\\_guest\\_3>\u00a0too late  \n18:11\u00a0<tmortagne>\u00a0has quit  \n18:11\u00a0<mflorea>\u00a0xwikiorg\\_guest\\_3: do you have Main.SolrSearch page?  \n18:12\u00a0<xwikiorg\\_guest\\_3>\u00a0check it  \n18:12\u00a0<camil7>\u00a0uh, oh, uninstalling the complete \"Search application\" might remove larger parts of the UI ... just uninstalling the \"Solr Search app\" might be less of a problem, but ...  \n18:13\u00a0<xwikiorg\\_guest\\_3>\u00a0page is there but only with content \"SolrSearch\"  \n18:14\u00a0<xwikiorg\\_guest\\_3>\u00a0hmm...i had not thought of that happening...  \n18:14\u00a0<mflorea>\u00a0that doesn't matter, so you have it. Do you have XWiki.SolrSearchAdmin page?  \n18:14\u00a0<xwikiorg\\_guest\\_3>\u00a0is it even possible to install it again?  \n18:15\u00a0<camil7>\u00a0well, it seems the uninstall did not really happen, as the \u00a0Main.SolrSearch is still there  \n18:15\u00a0<xwikiorg\\_guest\\_3>\u00a0no, there is no view/XWiki/SolrSearchAdmin  \n18:15\u00a0<mflorea>\u00a0yes, just import http://maven.xwiki.org/releases/org/xwiki/platform/xwiki-platform-search-solr-ui/5.2.1/xwiki-platform-search-solr-ui-5.2.1.xar  \n18:15\u00a0<xwikiorg\\_guest\\_3>\u00a0ok thanks, try it  \n18:20\u00a0<xwikiorg\\_guest\\_3>\u00a0ok, now there is a SolrSearchAdmin page  \n18:23\u00a0<xwikiorg\\_guest\\_3>\u00a0but in the search application, i can still only choose between lucene and database :(  \n18:27\u00a0<xwikiorg\\_guest\\_3>\u00a0is it possible to update this page manually?  \n18:27\u00a0<mflorea>\u00a0try to edit and save XWiki.SolrSearchAdmin  \n18:27\u00a0<xwikiorg\\_guest\\_3>\u00a0ok  \n18:28\u00a0<mflorea>\u00a0actually, edit in object mode and check if you have an object of type UIExtensionClass, then save  \n18:30\u00a0<xwikiorg\\_guest\\_3>\u00a0ok this object exist  \n18:30\u00a0<xwikiorg\\_guest\\_3>\u00a0with point id \"org.xwiki.platform.search\" and some extension parameters  \n18:30\u00a0<mflorea>\u00a0good, now save and check again the search admin section  \n18:30\u00a0<xwikiorg\\_guest\\_3>\u00a0ok  \n18:34\u00a0<mflorea>\u00a0I have to go, sorry  \n18:34\u00a0<mflorea>\u00a0has quit  \n18:34\u00a0<xwikiorg\\_guest\\_3>\u00a0the page is still loading :(  \n18:34\u00a0<xwikiorg\\_guest\\_3>\u00a0hmm and its doesn work...  \n18:34\u00a0<xwikiorg\\_guest\\_3>\u00a0damn it.  \n18:35\u00a0<camil7>\u00a0about the performance: maybe try the brute force and get a few stack traces ...  \n18:36\u00a0<xwikiorg\\_guest\\_3>\u00a0how i can do that?  \n18:36\u00a0<vmassol>\u00a0thread dump  \n18:37\u00a0<camil7>\u00a0(oh, and are there errors in the xwiki.log directly after starting the server ? maybe the indexer, whichever runs there, cannot write to its index dir ...)  \n18:37\u00a0<xwikiorg\\_guest\\_3>\u00a0i think that would take to long...i have to decide if i restore and chancel the update...  \n18:38\u00a0<evalica>\u00a0has quit  \n18:39\u00a0<xwikiorg\\_guest\\_3>\u00a0there is only \"Starting embedded Solr server...\", \"Using Solr home directory: /var/cache....\" and \"Started embedded Solr server.\" in the log  \n18:40\u00a0<vmassol>\u00a0do you have enough free disk space in /var? \u00a0BTW you should really edit xwiki.properties and set a correct permanent dir  \n18:40\u00a0<vmassol>\u00a0(you must have a warning in the logs about that)  \n18:40\u00a0<xwikiorg\\_guest\\_3>\u00a0but after restarting the tomcat the \"New index directory detected\" message appears again  \n18:41\u00a0<camil7>\u00a0it seems /var/cache/... is the permdir ? Is this from the Debian installer ?  \n18:41\u00a0<camil7>\u00a0the log message: \u00a0\"New index directory detected: old=null new=some/other/dir\" is normal  \n18:42\u00a0<camil7>\u00a0as long as \"old=null\"  \n18:42\u00a0<xwikiorg\\_guest\\_3>\u00a0environment.permanentDirectory is leave comment in  \n18:42\u00a0<xwikiorg\\_guest\\_3>\u00a0so default is using  \n18:42\u00a0<xwikiorg\\_guest\\_3>\u00a0i am using the .war file  \n18:42\u00a0<xwikiorg\\_guest\\_3>\u00a0and deploy it to tomcat6  \n18:44\u00a0<camil7>\u00a0ah, ok, so how did solr find an index dir of /var/cache/... \u00a0(me looking around in local config ...)  \n18:44\u00a0<vmassol>\u00a0tmp dir  \n18:44\u00a0<vmassol>\u00a0if no perm dir is set then:  \n18:44\u00a0<vmassol>\u00a01) we issue a warning  \n18:44\u00a0<vmassol>\u00a02) we fall back to the tmp dur  \n18:44\u00a0<vmassol>\u00a0\\*dir  \n18:45\u00a0<xwikiorg\\_guest\\_3>\u00a0all \"solr.\" parameters in the xwiki.properties are leave default so comment in  \n18:45\u00a0<xwikiorg\\_guest\\_3>\u00a0only lucene is configured  \n18:45\u00a0<xwikiorg\\_guest\\_3>\u00a0but i can configure it...and set it to a /tmp dir  \n18:46\u00a0<camil7>\u00a0seems the warning is not issued in 5.2.1 .... anyway, it should say \u00a0\"New index directory detected: old=null new=data/solr/./data/index/\" \u00a0\u00a0then  \n18:46\u00a0<xwikiorg\\_guest\\_3>\u00a0so will set solr.embedded.home to /tmp/index, maybe this can help?  \n18:46\u00a0<vmassol>\u00a0but i can configure it...and set it to a /tmp dir\u2014\u2014> no no, the opposite  \n18:47\u00a0<vmassol>\u00a0prem dir is permanernt  \n18:47\u00a0<vmassol>\u00a0that's the opposite of tmp  \n18:47\u00a0<vmassol>\u00a0:)  \n18:47\u00a0<vmassol>\u00a0s/prem/perm  \n18:47\u00a0<vmassol>\u00a0camil7: re warning let me check  \n18:47\u00a0<xwikiorg\\_guest\\_3>\u00a0is it an idea to set solr.embedded.home to /tmp/index or make that no sense?  \n18:47\u00a0<vmassol>\u00a0I see:  \n18:47\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.logger.warn(\"No permanent directory configured. Using temporary directory [{}].\",  \n18:47\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.permanentDirectory);  \n18:48\u00a0<vmassol>\u00a0you should have it  \n18:48\u00a0<xwikiorg\\_guest\\_3>\u00a0i see that warning  \n18:48\u00a0<xwikiorg\\_guest\\_3>\u00a0\" No permanent directory configured. Using temporary directory [/var/cache/tomcat6/Catalina/....\"  \n18:48\u00a0<vmassol>\u00a0if no perm dir is set  \n18:48\u00a0<vmassol>\u00a0if you use the tmp dir that dir might get removed at any time by your OS, by some crontab, by some other users  \n18:48\u00a0<camil7>\u00a0ah, ok, that is why a /var/cache/... there  \n18:49\u00a0<vmassol>\u00a0it's not safe  \n18:49\u00a0<vmassol>\u00a0it's not the cause of your problem ofc  \n18:49\u00a0<vmassol>\u00a0but still not a good thing to have  \n18:49\u00a0<vmassol>\u00a0check xwiki.proprties  \n18:49\u00a0<vmassol>\u00a0there are comments that explains it  \n18:49\u00a0<xwikiorg\\_guest\\_3>\u00a0what make sense to do now?  \n18:50\u00a0<vmassol>\u00a0do a thread dump and pastebin it  \n18:50\u00a0<camil7>\u00a0but the tomcat process can write there, so maybe check something like \u00a0\u00a0\u00a0find \u00a0\u00a0/var/cache/tomcat6/Catalina/ \u00a0-mmin -5 \u00a0\u00a0\u00a0and see if something changes there  \n18:50\u00a0<vmassol>\u00a0did you check disk space as i mentioned up there?  \n18:50\u00a0<xwikiorg\\_guest\\_3>\u00a0in /var/cache/tomcat6/Catalina/wiki.procilon.com/xwiki/solr/data/index there are many files  \n18:51\u00a0<xwikiorg\\_guest\\_3>\u00a0and changed today  \n18:51\u00a0<camil7>\u00a0yes, and if they get updated from time to time, the solr indexer is working  \n18:51\u00a0<xwikiorg\\_guest\\_3>\u00a0yes seems so  \n18:51\u00a0<xwikiorg\\_guest\\_3>\u00a0updated 20min ago  \n18:51\u00a0<camil7>\u00a0h, that is quite some time ago  \n18:51\u00a0<xwikiorg\\_guest\\_3>\u00a0there are enough space  \n18:52\u00a0<camil7>\u00a0I do not think the solr indexer is making the wiki slow then  \n18:53\u00a0<camil7>\u00a0any movement in the /var/cache/tomcat6/Catalina/localhost/xwiki/xwiki-temp/aether-repository/ \u00a0\u00a0directory ?  \n18:54\u00a0<xwikiorg\\_guest\\_3>\u00a0no, last change in year 2012  \n18:57\u00a0<xwikiorg\\_guest\\_3>\u00a0how can i create a thread dump?  \n18:59\u00a0<camil7>\u00a0kill -3 <pid> \u00a0I think, results written to \u00a0catalina.out (normally)  \n18:59\u00a0<xwikiorg\\_guest\\_3>\u00a0ok works  \n18:59\u00a0<xwikiorg\\_guest\\_3>\u00a0thanks  \n18:59\u00a0<xwikiorg\\_guest\\_3>\u00a0will upload it  \n19:08\u00a0<xwikiorg\\_guest\\_3>\u00a0its avaible now under http://codepad.org/43LH7YQ1  \n19:09\u00a0<xwikiorg\\_guest\\_3>\u00a0i see, that service dont like so much lines too....  \n19:09\u00a0<vmassol>\u00a0errr  \n19:09\u00a0<vmassol>\u00a0that's not a thread dump :)  \n19:10\u00a0<xwikiorg\\_guest\\_3>\u00a0its produced with kill -3  \n19:10\u00a0<xwikiorg\\_guest\\_3>\u00a0javacore.20131129.190222.5495.0001.txt  \n19:12\u00a0<camil7>\u00a0ah, well, but there should be some stack traces in /var/log/tomcat6/catalina.out, or the like, telling what the server is doing right now  \n19:14\u00a0<xwikiorg\\_guest\\_3>\u00a0there is nothing that could explain the problem  \n19:14\u00a0<xwikiorg\\_guest\\_3>\u00a0only warning about \u00a0Deprecated usage of method and getter  \n19:15\u00a0<xwikiorg\\_guest\\_3>\u00a0after updateing the tomcat \u00a0just works very slowly...  \n19:15\u00a0<xwikiorg\\_guest\\_3>\u00a0there are a log line in one minute...and another log line in the next minute...  \n19:16\u00a0<xwikiorg\\_guest\\_3>\u00a0its just slow...  \n19:16\u00a0<xwikiorg\\_guest\\_3>\u00a0login takes up to 10 minutes  \n19:16\u00a0<xwikiorg\\_guest\\_3>\u00a0and to open a page takes again 5-10 minutes  \n19:16\u00a0<camil7>\u00a0the deprecation messages are \"somewhat normal\"  \n19:16\u00a0<camil7>\u00a0that does not explain the performance  \n19:17\u00a0<vmassol>\u00a0well they mean the pages have not been updated I think  \n19:17\u00a0<xwikiorg\\_guest\\_3>\u00a0is it possible to repair this?  \n19:18\u00a0<xwikiorg\\_guest\\_3>\u00a0maybe with updating to the next version?  \n19:19\u00a0<xwikiorg\\_guest\\_3>\u00a0or it only gets worse...  \n19:19\u00a0<camil7>\u00a0I am not sure if an \"old style\" \u00a0import of the xwiki-enterprise-ui-\\*.xar would help, but I feel that is not the problem with the performance either  \n19:20\u00a0<camil7>\u00a0I have to admit that I have not tried the IBM JVM lately  \n19:21\u00a0<xwikiorg\\_guest\\_3>\u00a0i think i can change to sun/oracle  \n19:22\u00a0<camil7>\u00a0and the javacore.\\*.txt really should be the thread dump with an IMB jvm, I just learned, it is just that this time it refuses to dump the thread :-/  \n19:25\u00a0<Slashman\\_>\u00a0has quit  \n19:28\u00a0<camil7>\u00a0... everything modulo typos :-/ \u00a0\u00a0I am sorry, but I am here for more than ten hours, and it starts to show. gotta go home soon  \n19:29\u00a0<xwikiorg\\_guest\\_3>\u00a0ok, \u00a0wish you an nice evening  \n19:32\u00a0<xwikiorg\\_guest\\_3>\u00a0i do not know what i can do now, i think i have destroyed our wiki... a working with it is no longer possible, its just too slow :((  \n19:32\u00a0<xwikiorg\\_guest\\_3>\u00a0i hope i can restore it with restoring the war content and the database... cause i have no backup of the permdir  \n19:33\u00a0<vmassol>\u00a0this is really strange and the first time I see something like this, there must be simple reason  \n19:33\u00a0<vmassol>\u00a0would be great if you can restore it and start over so that we can follow with you  \n19:33\u00a0<vmassol>\u00a0but not now, need to go too :)  \n19:33\u00a0<xwikiorg\\_guest\\_3>\u00a0ok i think about it  \n19:34\u00a0<vmassol>\u00a0without perm dir shoudl be ok unless you had installed etxensions, in which case you'll need to reinstall them  \n19:34\u00a0<xwikiorg\\_guest\\_3>\u00a0ok, we have used extensions, but i think its no problem to reinstall  \n19:34\u00a0<vmassol>\u00a0xwiki will not know they are installed without the perm dir  \n19:35\u00a0<vmassol>\u00a0the pages will be there  \n19:35\u00a0<vmassol>\u00a0but if these extensions need some jars they won't work  \n19:35\u00a0<vmassol>\u00a0which is why you'll need to reinstall them  \n19:38\u00a0<camil7>\u00a0has quit  \n19:40\u00a0<lucaa>\u00a0has quit  \n19:56\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n20:29\u00a0<xwikiorg\\_guest\\_3>\u00a0i have restored my wiki now from version 5.2.1 to 5.0.1 without restoring the permdir, now there are extensions installled in version 5.2.1 eg. XWiki Enterprise - UI - Main wiki , is that bad?  \n20:29\u00a0<xwikiorg\\_guest\\_3>\u00a0how can i downgrade this extensions?  \n20:29\u00a0<abusenius>\u00a0has joined #xwiki  \n20:30\u00a0<Denis>\u00a0has quit  \n20:33\u00a0<xwikiorg\\_guest\\_3>\u00a0there is no downgrade oder reinstall button or something like that :(  \n20:33\u00a0<xwikiorg\\_guest\\_3>\u00a0ok found http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Manager+Application#HDowngrade hope it helps  \n20:33\u00a0<Denis>\u00a0has joined #xwiki  \n20:43\u00a0<xwikiorg\\_guest\\_3>\u00a0its very confusing... the extension manager says \"XWiki Platform - Sheet - UI 5.0.1\" and in yellow \"Version 5.2.1 is installed\", then i click on \"downgrade\" and its say \"This extension is already installed.\", after reloading the page, the button is gray and the yellow text still appears...i think that dont work too...  \n21:01\u00a0<cjd>\u00a0has joined #xwiki  \n21:08\u00a0<xwikiorg\\_guest\\_3>\u00a0mockups now dont working and i cant downrade any extension...is there a other way except the webfrontend  \n21:09\u00a0<xwikiorg\\_guest\\_3>\u00a0is documentation is no explaination  \n22:14\u00a0<xwikiorg\\_guest\\_3>\u00a0has quit  \n22:19\u00a0<DarkKnightCZ>\u00a0has quit  \n23:50\u00a0<Denis>\u00a0has quit\n"}