{"id": "dev:IRC.xwikiArchive20130422", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130422", "title": "IRC Archive for channel #xwiki on 22 April 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has quit  \n01:32\u00a0<jvdrean>\u00a0has quit  \n01:39\u00a0<jvdrean>\u00a0has joined #xwiki  \n02:14\u00a0<jvdrean>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:34\u00a0<polx\\_>\u00a0has joined #xwiki  \n04:37\u00a0<polx>\u00a0has quit  \n04:37\u00a0<polx\\_>\u00a0is now known as <polx>  \n05:51\u00a0<Denis>\u00a0has quit  \n07:03\u00a0<vmassol>\u00a0has joined #xwiki  \n07:34\u00a0<evalica>\u00a0has joined #xwiki  \n07:47\u00a0<polx>\u00a0has quit  \n08:00\u00a0<vmassol>\u00a0has quit  \n08:00\u00a0<vmassol1>\u00a0has joined #xwiki  \n08:07\u00a0<dpatriche>\u00a0has joined #xwiki  \n08:10\u00a0<mflorea>\u00a0has joined #xwiki  \n08:31\u00a0<Denis>\u00a0has joined #xwiki  \n09:01\u00a0<msmeria>\u00a0has joined #xwiki  \n09:01\u00a0<polx>\u00a0has joined #xwiki  \n09:20\u00a0<sburjan>\u00a0has joined #xwiki  \n09:52\u00a0<polx>\u00a0has quit  \n09:59\u00a0<polx>\u00a0has joined #xwiki  \n10:10\u00a0<vmassol1>\u00a0sdumitriu: hi  \n10:20\u00a0<AlexCH>\u00a0has joined #xwiki  \n10:49\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:57\u00a0<polx>\u00a0has quit  \n11:02\u00a0<Slashman>\u00a0has joined #xwiki  \n11:11\u00a0<polx>\u00a0has joined #xwiki  \n11:14\u00a0<polx>\u00a0has quit  \n11:16\u00a0<polx>\u00a0has joined #xwiki  \n11:16\u00a0<polx>\u00a0has quit  \n11:32\u00a0<tdelafosse>\u00a0has joined #xwiki  \n12:33\u00a0<Denis>\u00a0has quit  \n12:35\u00a0<jvdrean>\u00a0has joined #xwiki  \n12:42\u00a0<AlexCH>\u00a0has quit  \n12:52\u00a0<bouquetf>\u00a0Nice feedback and use case : http://www.xwiki.com/lang/fr/BlogFr/SocomoreXWiki  \n12:52\u00a0<bouquetf>\u00a0May Xwiki be an alternative to google reader ? :)  \n12:52\u00a0<bouquetf>\u00a0(link in french)  \n12:57\u00a0<mflorea>\u00a0has quit  \n13:43\u00a0<Denis2>\u00a0has joined #xwiki  \n13:47\u00a0<mflorea>\u00a0has joined #xwiki  \n14:09\u00a0<sdumitriu>\u00a0tdelafosse: Hi, do you have time to fix the failing tests for the Change Password feature today?  \n14:09\u00a0<sdumitriu>\u00a0http://ci.xwiki.org/job/xwiki-platform/3776/  \n14:09\u00a0<tdelafosse>\u00a0sdumitriu : I'm on it  \n14:10\u00a0<sdumitriu>\u00a0K  \n14:10\u00a0<tdelafosse>\u00a0It seems to work fine, I just add a little more test and it should be Ok  \n14:34\u00a0<vmassol1>\u00a0sdumitriu: hi, have you fixed platform on master?  \n14:34\u00a0<vmassol1>\u00a0(the revert)  \n14:35\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n14:39\u00a0<sdumitriu>\u00a0vmassol: tdelafosse just fixed the tests  \n14:39\u00a0<vmassol>\u00a0ok cool  \n14:39\u00a0<sdumitriu>\u00a0vmassol: I've set up Travis on PhenoTips yesterday, with the help of a GSoC student, and it's a cool platform  \n14:40\u00a0<sdumitriu>\u00a0It's not the same as Jenkins, but it can do automatic pull request builds  \n14:40\u00a0<sdumitriu>\u00a0So this way we can see if a PR breaks tests before merging it  \n14:40\u00a0<sdumitriu>\u00a0WDYT, should we try to set it up for XWiki?  \n14:40\u00a0<sdumitriu>\u00a0travis-ci.org  \n14:44\u00a0<sdumitriu>\u00a0vmassol: https://github.com/compbio-UofT/phenotips/pull/400  \n14:45\u00a0<sdumitriu>\u00a0Although the problem is that they have a hard limit on 50 minutes of build time  \n14:45\u00a0<sdumitriu>\u00a0If the build takes longer than that, it is stopped and considered a failure  \n14:46\u00a0<sdumitriu>\u00a0Maybe https://wiki.jenkins-ci.org/display/JENKINS/Github+pull+request+builder+plugin would be a better choice for us  \n14:49\u00a0<vmassol>\u00a0otp  \n15:05\u00a0<gdelhumeau>\u00a0has quit  \n15:07\u00a0<tdelafosse>\u00a0has quit  \n15:08\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:14\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n15:26\u00a0<tdelafosse>\u00a0has joined #xwiki  \n15:53\u00a0<evalica>\u00a0has quit  \n15:57\u00a0<AlexCH>\u00a0has joined #xwiki  \n16:01\u00a0<vmassol>\u00a0sdumitriu: \"but it can do automatic pull request builds\" jenkins too  \n16:01\u00a0<sburjan>\u00a0Hello. Cna someone point me to the page where we have listed all the XWIki Java Events ?  \n16:01\u00a0<vmassol>\u00a0I don't think we should stray away from jenkins  \n16:01\u00a0<vmassol>\u00a0it's the most used CI tool by far  \n16:01\u00a0<vmassol>\u00a0it's about xwiki.org events  \n16:01\u00a0<vmassol>\u00a0not annunced yet  \n16:01\u00a0<vmassol>\u00a0(not fully ready)  \n16:02\u00a0<vmassol>\u00a0but it's here:  \n16:02\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/Main/Events  \n16:02\u00a0<sburjan>\u00a0because I need to listen on certain events from java, and I am interested in the events available (interested in create page event)  \n16:02\u00a0<sburjan>\u00a0thanks vmassol  \n16:03\u00a0<vmassol>\u00a0ah wait  \n16:03\u00a0<vmassol>\u00a0talking about something else :)  \n16:03\u00a0<sdumitriu1>\u00a0vmassol: I think sburjan asks about the observation manager, not social events  \n16:03\u00a0<vmassol>\u00a0yep just realized :)  \n16:03\u00a0<sburjan>\u00a0yes :)  \n16:04\u00a0<vmassol>\u00a0sburjan: we don't have any new doc on that  \n16:04\u00a0<vmassol>\u00a0we need some tutoriam  \n16:04\u00a0<vmassol>\u00a0we had this before:  \n16:04\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/GroovyNotificationTutorial  \n16:04\u00a0<vmassol>\u00a0actually we do have some doc  \n16:04\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Observation+Module+Local  \n16:04\u00a0<sdumitriu1>\u00a0sburjan: You can look at the class hierarchy \u00a0of Event  \n16:05\u00a0<sdumitriu1>\u00a0In your IDE  \n16:05\u00a0<sburjan>\u00a0thanks. Another short question. If I want to create a custom Event Listener, it will be a component, right ?  \n16:06\u00a0<sdumitriu1>\u00a0Yes  \n16:06\u00a0<sburjan>\u00a0thanks sdumitriu, vmassol  \n16:31\u00a0<Slashman>\u00a0has quit  \n16:31\u00a0<Denis2>\u00a0has quit  \n16:38\u00a0<Denis2>\u00a0has joined #xwiki  \n16:38\u00a0<Denis2>\u00a0has quit  \n16:46\u00a0<Slashman>\u00a0has joined #xwiki  \n16:49\u00a0<dpatriche>\u00a0has quit  \n16:57\u00a0<msmeria>\u00a0has quit  \n17:01\u00a0<tdelafosse>\u00a0has quit  \n17:11\u00a0<tdelafosse>\u00a0has joined #xwiki  \n17:18\u00a0<sdumitriu1>\u00a0I wonder what this means: http://ci.xwiki.org/job/xwiki-platform/3777/console  \n17:18\u00a0<sdumitriu1>\u00a0Is it a JMock error, or a MessageToolVelocityContextInitializer error?  \n17:19\u00a0<vmassol>\u00a0yeah we get it all the time  \n17:19\u00a0<vmassol>\u00a0this test class is really large and complex  \n17:19\u00a0<vmassol>\u00a0over 1K lines  \n17:19\u00a0<vmassol>\u00a0I've pinged thomas about it a few times  \n17:19\u00a0<sdumitriu1>\u00a0It's a JMock error  \n17:19\u00a0<vmassol>\u00a0but he hasn't looked  \n17:19\u00a0<sdumitriu1>\u00a0Apparently tests aren't supposed to be run multithreaded  \n17:20\u00a0<vmassol>\u00a0not true  \n17:20\u00a0<vmassol>\u00a0I proposed that he should convert it to Mockito  \n17:20\u00a0<sdumitriu1>\u00a0In org.jmock.internal.InvocationDispatcher.dispatch(Invocation)  \n17:20\u00a0<vmassol>\u00a0I have configured our jmock test to be multihreaded  \n17:20\u00a0<sdumitriu1>\u00a0No, I mean that JMock considers that tests aren't multithreaded, not that we shouldn't run them like that  \n17:20\u00a0<sdumitriu1>\u00a0JMock uses an unsynchronized ArrayList  \n17:21\u00a0<vmassol>\u00a0I have done this:  \n17:21\u00a0<sdumitriu1>\u00a0So it's their bug, but we're triggering it  \n17:21\u00a0<vmassol>\u00a0http://jmock.org/threads.html  \n17:21\u00a0<vmassol>\u00a0yep  \n17:21\u00a0<sdumitriu1>\u00a0Anyway, I'm stopping the build  \n17:21\u00a0<vmassol>\u00a0which is why I suggsted converting to mockito since we use that now  \n17:21\u00a0<vmassol>\u00a0the test could also ebr efactored to not use multihreading maybe  \n17:21\u00a0<vmassol>\u00a0but I don't know it enough  \n17:22\u00a0<vmassol>\u00a0for the record  \n17:22\u00a0<vmassol>\u00a0I have the following in JMockRule:  \n17:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Several of our tests run with several threads (for example there can be Finalizer threads) and when we mock  \n17:22\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// mocks are not threadsafe. Thus we make them thread safe to be on the safe side.  \n17:24\u00a0<vmassol>\u00a0hmm actually I wonder if this test uses JMockRule  \n17:25\u00a0<vmassol>\u00a0I'm going to try adding the policy to that test  \n17:26\u00a0<vmassol>\u00a0I'm not correct  \n17:26\u00a0<vmassol>\u00a0it does use it  \n17:27\u00a0<vmassol>\u00a0so that's not it  \n17:27\u00a0<vmassol>\u00a0jsut some jmock bug  \n17:34\u00a0<cardinot>\u00a0has joined #xwiki  \n17:40\u00a0<cardinot>\u00a0has quit  \n18:08\u00a0<polx>\u00a0has joined #xwiki  \n18:14\u00a0<Slashman>\u00a0has quit  \n18:26\u00a0<Slashman>\u00a0has joined #xwiki  \n18:30\u00a0<vmassol>\u00a0has quit  \n18:32\u00a0<mflorea>\u00a0has quit  \n18:32\u00a0<sburjan>\u00a0has quit  \n18:50\u00a0<tdelafosse>\u00a0has quit  \n19:22\u00a0<abusenius>\u00a0has joined #xwiki  \n19:28\u00a0<Slashman>\u00a0has quit  \n19:54\u00a0<gdelhumeau>\u00a0has quit  \n20:02\u00a0<AlexCH>\u00a0has quit  \n21:26\u00a0<jvdrean>\u00a0has quit  \n22:21\u00a0<aps>\u00a0has joined #xwiki  \n22:55\u00a0<aps>\u00a0has left #xwiki  \n23:01\u00a0<diadara>\u00a0has joined #xwiki  \n23:03\u00a0<polx>\u00a0has quit  \n23:24\u00a0<diadara>\u00a0has quit\n"}