{"id": "dev:IRC.xwikiArchive20150323", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150323", "title": "IRC Archive for channel #xwiki on 23 March 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<lucaa>\u00a0has joined #xwiki  \n00:16\u00a0<mflorea1>\u00a0has quit  \n00:39\u00a0<lucaa>\u00a0has quit  \n00:39\u00a0<lucaa>\u00a0has joined #xwiki  \n00:46\u00a0<lucaa>\u00a0has quit  \n00:53\u00a0<lucaa>\u00a0has joined #xwiki  \n06:11\u00a0<mflorea>\u00a0has joined #xwiki  \n06:36\u00a0<cjd>\u00a0has quit  \n07:08\u00a0<msmeria>\u00a0has joined #xwiki  \n07:22\u00a0<cjd>\u00a0has joined #xwiki  \n08:03\u00a0<cjd>\u00a0has quit  \n08:07\u00a0<lucaa>\u00a0has quit  \n08:40\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:45\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:58\u00a0<Pbas>\u00a0has joined #xwiki  \n08:59\u00a0<cjd>\u00a0has joined #xwiki  \n09:22\u00a0<Slashman>\u00a0has joined #xwiki  \n09:29\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:56\u00a0<lucaa>\u00a0has joined #xwiki  \n09:58\u00a0<vmassol>\u00a0has joined #xwiki  \n09:58\u00a0<vmassol>\u00a0good morning  \n09:58\u00a0<cjd>\u00a0gm  \n09:58\u00a0<vmassol>\u00a0sorry I was disconnected and didn't realize...  \n09:58\u00a0<vmassol>\u00a0usually my irc client always reconnect by itsself... but not this time  \n09:59\u00a0<vmassol>\u00a0so we need to release 7.0RC1 today and possibly this morning. I hope we're good for the release  \n09:59\u00a0<vmassol>\u00a0tmortagne: all ready?  \n09:59\u00a0<vmassol>\u00a0mflorea: were you able to do what you wanted to do?  \n09:59\u00a0<vmassol>\u00a0edy isn't here\u2026. I hope he also was able to finish what he wanted  \n10:00\u00a0<vmassol>\u00a0hmmm  \n10:00\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-11754 isn't closed :(  \n10:00\u00a0<tmortagne>\u00a0there is still several open issues  \n10:00\u00a0<mflorea>\u00a0vmassol: almost done, I need 2h to wrap up and commit  \n10:00\u00a0<tmortagne>\u00a0including a blocker  \n10:00\u00a0<vmassol>\u00a0there are commits for it though  \n10:00\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-11506 isn't closed either indeed  \n10:01\u00a0<vmassol>\u00a0and http://jira.xwiki.org/browse/XWIKI-11892 is also still open :(  \n10:01\u00a0<vmassol>\u00a0and nobody warned on Friday that they won't be able to finish before Monday morning\u2026 nice  \n10:01\u00a0<vmassol>\u00a0\"However we need to fully ready to release http://airmail.calendar/2015-03-23%2009:00:00%20CET to not postpone more. \" and everyone said +1 ;)  \n10:02\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:02\u00a0<tmortagne>\u00a0gdelhumeau is currently working on XWIKI-11892 \u00a0AFAIK  \n10:03\u00a0<vmassol>\u00a0Enygma`: hi. XWIKI-11754 isn't closed, you forgot to close it?  \n10:04\u00a0<vmassol>\u00a0gdelhumeau: you think you can finish this morning  \n10:04\u00a0<vmassol>\u00a0?  \n10:04\u00a0<evalica>\u00a0has joined #xwiki  \n10:05\u00a0<vmassol>\u00a0Enygma`: same question if it's not already finished  \n10:05\u00a0<gdelhumeau>\u00a0I don't think so  \n10:05\u00a0<vmassol>\u00a0trying to see \u00a0if we can release this afternoon  \n10:05\u00a0<vmassol>\u00a0gdelhumeau: what's complex?  \n10:05\u00a0<gdelhumeau>\u00a0msmeria told me that my previous fix did not workj  \n10:05\u00a0<vmassol>\u00a0seems pretty simple to fix oracle issues in general  \n10:05\u00a0<gdelhumeau>\u00a0first: I don't reproduce  \n10:06\u00a0<gdelhumeau>\u00a0that does not help  \n10:06\u00a0<vmassol>\u00a0you cannot do as msmeria does?  \n10:09\u00a0<gdelhumeau>\u00a0I've tried to run xwiki and oracle on a windows VM, but I still dit not reproduce  \n10:09\u00a0<gdelhumeau>\u00a0we have the same oracle version  \n10:10\u00a0<Enygma`>\u00a0vmassol, tmortagne: XWIKI-11754 is done, just need to document and close it. There is work left to do to improve it, since the current implementation (act on event listener) is probably not performant at all in large environments and we need to use a queue + a processing job for it. I will create a new issue for the remaining work.  \n10:12\u00a0<tmortagne>\u00a0Enygma`: what does it means exactly for performances ?  \n10:12\u00a0<tmortagne>\u00a0the save of a document will be stuck waiting to save the notifications ?  \n10:12\u00a0<vmassol>\u00a0Enygma`: note that the new mail system can help also on the performances  \n10:13\u00a0<tmortagne>\u00a0s/save/send.  \n10:13\u00a0<vmassol>\u00a0since it has 2 queues already  \n10:13\u00a0<vmassol>\u00a0but the watchlist probably needs a third one  \n10:14\u00a0<vmassol>\u00a0in any case you should have a look at UsersAndGroupsMimeMessageIterator as an example  \n10:14\u00a0<vmassol>\u00a0and I can also explain how it works  \n10:14\u00a0<vmassol>\u00a0(just ping me on skype and I can walk you through it)  \n10:15\u00a0<vmassol>\u00a0(actually the entry point is UsersAndGroupsMimeMessageFactory)  \n10:15\u00a0<tmortagne>\u00a0document save is quite slow already so I hope we are not going to load all users each time a document is saved  \n10:17\u00a0<Enygma`>\u00a0tmortagne: that`s pretty much the problem. On each save, a cache of subscribed users for realtime notifications is used. However, once the list of users is returned from the cache, each user's watchlist is checked independently to see if the document being saved matches their watchlist preferences. If it does, then a mail notification is sent. So yes, save performance is clearely impacted and this needs to be done similar to what we did for Solr.  \n10:18\u00a0<tmortagne>\u00a0do you plan to fix that for 7.0 final ?  \n10:18\u00a0<Enygma`>\u00a0vmassol: from what I recall, there is some queuing done in the mail module, but watchlist needs to do other stuff as well, so as you said, we need a new layer on top of that  \n10:18\u00a0<vmassol>\u00a0not sure  \n10:19\u00a0<Enygma`>\u00a0tmortagne: I`m starting work for it today. If I manage it, I will try to push it into final.  \n10:19\u00a0<vmassol>\u00a0and if not?  \n10:20\u00a0<vmassol>\u00a0it seems to me that the current listener you've coded cannot work in term of performances even on an average size wiki  \n10:20\u00a0<vmassol>\u00a0meaning the save will become very very slow  \n10:20\u00a0<tmortagne>\u00a0the minimum solution which is a daemon thread and a concurrent queue should be very easy to do so there should be no issue to have that in 7.0  \n10:21\u00a0<Enygma`>\u00a0tmortagne: that is why I`ve committed it.  \n10:21\u00a0<tmortagne>\u00a0we could probably even wit for it for the RC  \n10:21\u00a0<tmortagne>\u00a0s/wit/wait/  \n10:21\u00a0<Enygma`>\u00a0vmassol: if you like, if I am not done by thursday evening, I will do a commit that disables this feature for the final release  \n10:21\u00a0<vmassol>\u00a0tmortagne: I don't think so  \n10:22\u00a0<vmassol>\u00a0not unless we postpone the final release date  \n10:22\u00a0<vmassol>\u00a0we've arleady pushed RC1 to the latest possible date  \n10:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:22\u00a0<vmassol>\u00a0and ideally we should't have any commit between RC1 and final since we have only 1 week  \n10:24\u00a0<vmassol>\u00a0if worse comes to worse, I'll prefer to have the feature disabled and release on the given date  \n10:24\u00a0<Enygma`>\u00a0vmassol: then that is what I will do  \n10:27\u00a0<vmassol>\u00a0Enygma`: ping skype  \n10:39\u00a0<vfzevaze>\u00a0has joined #xwiki  \n10:39\u00a0<vfzevaze>\u00a0hi there!  \n10:41\u00a0<vfzevaze>\u00a0vmassol can't find the hpqc-macro in the extensionmanager, do you know why? did i miss a step?  \n10:43\u00a0<tmortagne>\u00a0vfzevaze: did you imported it on http://extensions.xwiki.org ?  \n10:44\u00a0<tmortagne>\u00a0search is supposed only in XWiki repositories right now (you can install extension from a maven repository using \"advanced search\" which ask for exact id and version)  \n10:47\u00a0<tmortagne>\u00a0s/supposed/supported/  \n10:47\u00a0<vfzevaze>\u00a0i will do that, now i know why i could not find it in the xml: http://extensions.xwiki.org/xwiki/rest/repository/extensions/  \n10:51\u00a0<gdelhumeau>\u00a0I've retried to reproduce XWIKI-11892, I still cannot  \n11:01\u00a0<vfzevaze>\u00a0it worked, thanks  \n11:12\u00a0<vmassol>\u00a0vfzevaze: hi  \n11:13\u00a0<vmassol>\u00a0vfzevaze: do you want me to create a jira project for the HPQC macro?  \n11:16\u00a0<vmassol>\u00a0msmeria: you can reproduce XWIKI-11892 consistently?  \n11:16\u00a0<vmassol>\u00a0msmeria: maybe you could detail the exact steps you do in xwiki since maybe gdelhumeau uses something different?  \n11:43\u00a0<Trefex>\u00a0has joined #xwiki  \n12:24\u00a0<martin-h>\u00a0has joined #xwiki  \n13:04\u00a0<msmeria>\u00a0vmassol, gdelhumeau: testing XWIKI-11892 on the latest snapshot now...  \n13:04\u00a0<gdelhumeau>\u00a0nothing have changed recently  \n13:09\u00a0<lucaa>\u00a0has quit  \n13:10\u00a0<lucaa>\u00a0has joined #xwiki  \n13:13\u00a0<msmeria>\u00a0gdelhumeau: something seems to have changed from my POV at least  \n13:14\u00a0<gdelhumeau>\u00a0you do not reproduce?  \n13:14\u00a0<msmeria>\u00a0the behaviour is different from the last snapshot I tested on  \n13:14\u00a0<msmeria>\u00a0no  \n13:14\u00a0<msmeria>\u00a0but 2 other things  \n13:14\u00a0<msmeria>\u00a0I wasn't asked to login in the middle of DW  \n13:14\u00a0<tmortagne>\u00a0msmeria: that's expected yes  \n13:14\u00a0<tmortagne>\u00a0I improved that part  \n13:14\u00a0<vmassol>\u00a0msmeria: normal, thomas just changed that this morning  \n13:14\u00a0<msmeria>\u00a0and I got a merge conflict for xwiki.xwikiallgroup  \n13:14\u00a0<gdelhumeau>\u00a0oh yes of course!  \n13:15\u00a0<tmortagne>\u00a0conflict on xwiki.xwikiallgroup is not really new, it's probably the cause of the issue from the start  \n13:15\u00a0<msmeria>\u00a0but yeah, XWIKI-11892 is fixed  \n13:15\u00a0<tmortagne>\u00a0you got it when you logged with superadmin last time  \n13:15\u00a0<tmortagne>\u00a0it's different  \n13:15\u00a0<tmortagne>\u00a0the conflit is part of XWIKI-11892 IMO  \n13:15\u00a0<tmortagne>\u00a0so it's not really fixed  \n13:15\u00a0<tmortagne>\u00a0it's hidden by my change that's all  \n13:15\u00a0<gdelhumeau>\u00a0the conflict is because the mandatory initializer create an empty group meanwhile that XAR containing XWikiAllGroup have members  \n13:16\u00a0<tmortagne>\u00a0that's not a reason to have a conflict  \n13:16\u00a0<tmortagne>\u00a0to have a conflict you need 3 different versions  \n13:16\u00a0<tmortagne>\u00a0and here you should not have a difference between current and previous  \n13:17\u00a0<tmortagne>\u00a0since previous and current are both supposed to be what come from the mandatory initializer  \n13:18\u00a0<tmortagne>\u00a0we have an initializer for XWikiPreference with a lots of differences and you don't get a conflict for it  \n13:20\u00a0<vmassol>\u00a0mflorea: any ETA?  \n13:20\u00a0<vmassol>\u00a0tmortagne: what's blocking the release?  \n13:21\u00a0<tmortagne>\u00a0vmassol: XWIKI-11892 is still not fixed  \n13:21\u00a0<vmassol>\u00a0tmortagne: that could be done between RC1 and final I think  \n13:21\u00a0<vmassol>\u00a0we must not wait further than today for the release  \n13:21\u00a0<vmassol>\u00a0or we won't be able to test it at all  \n13:21\u00a0<tmortagne>\u00a0if a blocker bug does not block a realease then nothing does...  \n13:22\u00a0<vmassol>\u00a0why is it a blocker bug?  \n13:22\u00a0<tmortagne>\u00a0getting a conflict when you install a new wiki is a blocker bug for sure  \n13:22\u00a0<vmassol>\u00a0I've jsut heard that manuel cannot reproduce  \n13:23\u00a0<tmortagne>\u00a0no you just heard that manual was not asked to login  \n13:23\u00a0<tmortagne>\u00a0it does not change the fact that getting a conflict when installing a new wiki does not make any sense  \n13:23\u00a0<vmassol>\u00a0\"but yeah, XWIKI-11892 is fixed\"  \n13:23\u00a0<vmassol>\u00a0seems pretty explicit to me  \n13:24\u00a0<vmassol>\u00a0that's a different issue  \n13:24\u00a0<tmortagne>\u00a0the conflict was part of the issue  \n13:24\u00a0<tmortagne>\u00a0then we should create another issue but again we still have a blocker issue  \n13:24\u00a0<vmassol>\u00a0msmeria: this conflict, is it happening only on oracle?  \n13:25\u00a0<msmeria>\u00a0I've only tested on Oracle for now  \n13:25\u00a0<msmeria>\u00a0looking at hsqldb  \n13:25\u00a0<vmassol>\u00a0would be interesting to know if it happens on other dbs  \n13:25\u00a0<vmassol>\u00a0thanks  \n13:47\u00a0<msmeria>\u00a0vmassol: tmortagne gdelhumeau: XWIKI-11952 doesn't reproduce on hsqldb  \n13:51\u00a0<vfzevaze>\u00a0has quit  \n13:57\u00a0<tmortagne>\u00a0msmeria: could you attach a diff between previous and current to the issue  \n13:58\u00a0<tmortagne>\u00a0the bug if that there is a difference between the document that has been saved and then loaded  \n13:58\u00a0<tmortagne>\u00a0some field is not properly handing null vs empty in Oracle context IMO  \n13:58\u00a0<msmeria>\u00a0tmortagne: iirc the diff was that a new xwiki.xwikigroups object has been added  \n13:58\u00a0<msmeria>\u00a0i might be wrong though  \n13:58\u00a0<msmeria>\u00a0checking  \n13:58\u00a0<tmortagne>\u00a0no  \n13:58\u00a0<tmortagne>\u00a0between previous and current  \n13:59\u00a0<tmortagne>\u00a0the object is added in new version  \n13:59\u00a0<msmeria>\u00a0ah, ok  \n13:59\u00a0<msmeria>\u00a0I need to retest  \n13:59\u00a0<tmortagne>\u00a0the current and previous version are supposed to be identical which should lead to no conflict  \n13:59\u00a0<tmortagne>\u00a0but in Oracle form some reason there are different  \n14:10\u00a0<msmeria>\u00a0tmortagne: it says \"No changes\" when I compare Previous with current  \n14:11\u00a0<tmortagne>\u00a0well there is a change as otherwise there would not be a conflict but maybe the diff convert null to empty string automatically for any field  \n14:14\u00a0<msmeria>\u00a0tmortagne: previous - new: http://s24.postimg.org/g93wt3vc5/previous\\_new.png if it helps...  \n14:14\u00a0<vmassol>\u00a0ouch bad news, I cannot create a subwiki on master\u2026 it fails. Since I have a build of a few days old, I'll rebuild  \n14:14\u00a0<tmortagne>\u00a0difference between previous and new is expected  \n14:15\u00a0<tmortagne>\u00a0no what we need is finding the field that does not handle Oracle false null properly  \n14:15\u00a0<msmeria>\u00a0tmortagne: is there anything more I can do to help ?  \n14:15\u00a0<tmortagne>\u00a0and looks like the diff is not going to help  \n14:15\u00a0<vmassol>\u00a0tmortagne: https://gist.githubusercontent.com/vmassol/1e9c487a3ad80a478920/raw/d93be5f01a716fc90ce2bdc19278e4f64beaf629/gistfile1.txt  \n14:15\u00a0<vmassol>\u00a0any idea?  \n14:15\u00a0<tmortagne>\u00a0msmeria: yes actually there is, you should have he conflict in the lof  \n14:15\u00a0<tmortagne>\u00a0log  \n14:16\u00a0<tmortagne>\u00a0vmassol: I created several subwikis with a build from a few hours ago  \n14:16\u00a0<tmortagne>\u00a0gdelhumeau too  \n14:16\u00a0<vmassol>\u00a0404 is not found so that's strange  \n14:17\u00a0<msmeria>\u00a0tmortagne: what log ?  \n14:17\u00a0<vmassol>\u00a0well it's normal it's not finding it on e.x.o  \n14:17\u00a0<tmortagne>\u00a0msmeria: the install log  \n14:17\u00a0<vmassol>\u00a0but it should find it on maven.xwiki.org  \n14:17\u00a0<vmassol>\u00a0checking my conf  \n14:17\u00a0<tmortagne>\u00a0vmassol: maybe because Fabio started to move nexus or something  \n14:18\u00a0<msmeria>\u00a0ok. waiting for the UI to finish installing  \n14:18\u00a0<tmortagne>\u00a0check if you can access the artifact on nexus  \n14:18\u00a0<vmassol>\u00a0http://nexus.xwiki.org/nexus/content/groups/public/ seems to respond  \n14:18\u00a0<tmortagne>\u00a0msmeria: you have the log in the UI  \n14:18\u00a0<tmortagne>\u00a0search a red line  \n14:21\u00a0<msmeria>\u00a0tmortagne: Collision found on property [member] \u00a0between from value [] and to [XWiki.Admin]  \n14:21\u00a0<msmeria>\u00a0that's all there is  \n14:21\u00a0<msmeria>\u00a0it doesn't expand  \n14:24\u00a0<msmeria>\u00a0tmortagne: + another mini bug related to XWIKI-11379: if you try scrolling up while the UI is installing, the log will automatically scroll down to the last line  \n14:24\u00a0<msmeria>\u00a0so you have to wait for the UI to be installed to fully check the log  \n14:25\u00a0<tmortagne>\u00a0lets see what is the type of member property  \n14:33\u00a0<gdelhumeau>\u00a0Back  \n14:34\u00a0<tmortagne>\u00a0yep looks like it BaseStringProperty#getValue() is going to return null for the loaded document and \"\" for the document generated by the initializer -> conflict  \n14:35\u00a0<tmortagne>\u00a0so classical Oracle null vs \"\" issue  \n14:35\u00a0<tmortagne>\u00a0not sure what is the best here  \n14:36\u00a0<tmortagne>\u00a0it depends if we thing null is valid for a text field and seems to be it's not, either there is an empty string either there is no property at all in the xobject  \n14:36\u00a0<Trefex>\u00a0has quit  \n14:38\u00a0<tmortagne>\u00a0msmeria: you don't see it in the diff because the diff is based on the displayer which automatically replace null with empty string  \n14:40\u00a0<msmeria>\u00a0I see  \n14:48\u00a0<tmortagne>\u00a0msmeria: btw did you tried on 6.4.x ? because this initializer exist since 6.4.2 as far as I can see  \n14:50\u00a0<tmortagne>\u00a0committed something that should hopefully fix the conflict on Oracle (at least for this field)  \n14:51\u00a0<msmeria>\u00a0tmortagne: I didn't test on 6.4.2+  \n14:51\u00a0<tmortagne>\u00a0pretty sure you will have the exact same issue  \n14:51\u00a0<msmeria>\u00a0I did some tests on 6.4.1: http://www.xwiki.org/xwiki/bin/view/TestReports/ManualTestReportXWiki641#HTestedBrowsers26Databases and didn't found any issue while installing the UI  \n14:51\u00a0<msmeria>\u00a0I'll test tomorrow  \n14:51\u00a0<tmortagne>\u00a0the initializer was introduced in 6.4.2  \n14:54\u00a0<tmortagne>\u00a0merging in 6.4.x  \n15:00\u00a0<Enygma`>\u00a0tmortagne: I`m done with XWIKI-11754 fr 7.0RC1. Disabled it by default and marked it as experimental, as discussed with vmassol .  \n15:00\u00a0<vmassol>\u00a0Enygma`: ok cool  \n15:00\u00a0<vmassol>\u00a0mflorea: status?  \n15:00\u00a0<mflorea>\u00a0almost there  \n15:01\u00a0<mflorea>\u00a0I'm doing the final tests  \n15:02\u00a0<msmeria>\u00a0has quit  \n16:18\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n17:08\u00a0<mflorea>\u00a0tmortagne: no more issues opened for 7.0RC1. I hope the build is fine. Sorry for the long delay.  \n17:10\u00a0<Enygma`>\u00a0has quit  \n17:11\u00a0<Enygma`>\u00a0has joined #xwiki  \n17:19\u00a0<vmassol>\u00a0cool, let's release (once we know the build is fine) :)  \n17:20\u00a0<tmortagne>\u00a0I doubt I will have time to release today o it will be tomorrow morning  \n17:22\u00a0<tmortagne>\u00a0hmm org.xwiki.crypto.x509.DefautX509CryptoServiceTest.testNewCertAndPrivateKeyWithWrongPassword is failing on 6.4  \n17:23\u00a0<vmassol>\u00a0and on master: http://ci.xwiki.org/job/xwiki-platform-6.4.x/org.xwiki.platform$xwiki-platform-legacy-crypto-script/179/testReport/org.xwiki.crypto.x509/DefautX509CryptoServiceTest/testNewCertAndPrivateKeyWithWrongPassword/  \n17:23\u00a0<vmassol>\u00a0ah no it's 6.4  \n17:24\u00a0<vmassol>\u00a0strange error: http://ci.xwiki.org/job/xwiki-platform-5.4.x/100/console  \n17:25\u00a0<vmassol>\u00a0hmm no it's not strange, just need to find why the postbuild script has marked it as failed  \n17:26\u00a0<vmassol>\u00a0ouch  \n17:26\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform-5.4.x/configure  \n17:26\u00a0<vmassol>\u00a0groovy error in the script...  \n17:26\u00a0<vmassol>\u00a0some put \"// Note: Ignore the red errors below. The classpath is not checked when validating this script so the class is marked as not found/resolved.\"  \n17:27\u00a0<vmassol>\u00a0must be Enygma`, doesn't look nice  \n17:29\u00a0<vmassol>\u00a0hmmm Enygma` it seems the badges are not longer displayed  \n17:29\u00a0<vmassol>\u00a0any idea?  \n17:30\u00a0<vmassol>\u00a0for example there's no badge for http://ci.xwiki.org/job/xwiki-platform-5.4.x/100/  \n17:31\u00a0<vmassol>\u00a0hmm actually maybe we have several groovy post build need to check that  \n17:32\u00a0<vmassol>\u00a0no there's only one\u2026 I don't get it  \n17:40\u00a0<vfzevaze>\u00a0has joined #xwiki  \n17:41\u00a0<Enygma`>\u00a0vmassol: by badge you mean the warning markers the postbuild adds?  \n17:42\u00a0<vfzevaze>\u00a0hi there! i am having a hard time releasing the hpqc-macro with git: http://i.imgur.com/jLrCD3H.png  \n17:43\u00a0<vfzevaze>\u00a0could someone give me the rights?  \n17:44\u00a0<vfzevaze>\u00a0i can commit via git bash, but i can't release? weird  \n17:45\u00a0<Enygma`>\u00a0vfzevaze: did you ask for a nexus.xwiki.org user name/password and have correctly set up you maven settings.xml file?  \n17:46\u00a0<Enygma`>\u00a0vfzevaze: http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome#HReleasetheproject  \n17:48\u00a0<tmortagne>\u00a0vfzevaze: commit are local so not need for any special right but maybe you forgot to add your ssh key to your github account  \n17:48\u00a0<vfzevaze>\u00a0well i have a nexus user, and have released in the past for redmine-macro, but i am faling already with the prepare cmd  \n17:48\u00a0<tmortagne>\u00a0http://i.imgur.com/jLrCD3H.png is not related to nexus,  \n17:48\u00a0<tmortagne>\u00a0as far as I understand github does not recognize your ssh key  \n17:49\u00a0<Enygma`>\u00a0ah, right, it`s a github permission failure  \n17:49\u00a0<Enygma`>\u00a0not a nexus one  \n17:49\u00a0<vfzevaze>\u00a0well that's the thing 1) my ssh key is added and git is pushing while doing the release:prepare cmd  \n17:49\u00a0<tmortagne>\u00a0no it's not  \n17:49\u00a0<tmortagne>\u00a0the push fail  \n17:49\u00a0<tmortagne>\u00a0\"The git-push command failed\"  \n17:49\u00a0<vfzevaze>\u00a0look the push fail it's general  \n17:50\u00a0<vfzevaze>\u00a0great i did read that, but as one can see in the repo, maven is pushing via git  \n17:51\u00a0<vfzevaze>\u00a0i meant, that holding to that error msg \"push fail\" is to general  \n17:52\u00a0<vfzevaze>\u00a0it seams more complicated than that  \n17:52\u00a0<vfzevaze>\u00a0i've tried many times with different setups  \n17:53\u00a0<vfzevaze>\u00a0git is working well on my cmd and can push  \n17:53\u00a0<vfzevaze>\u00a0but for an unknow reason it seams to need more rights!?  \n17:54\u00a0<Enygma`>\u00a0vfzevaze: perhaps there are issues in your pom.xml regarding scm configuration  \n17:54\u00a0<Enygma`>\u00a0and the URL used by the release step is wrong  \n17:54\u00a0<vfzevaze>\u00a0well i guess the pom is correczt  \n17:56\u00a0<Enygma`>\u00a0looks good :/  \n17:56\u00a0<vfzevaze>\u00a0can i go back to using svn or is git a standard in the contrib repo?  \n17:57\u00a0<Enygma`>\u00a0what git version are you using?  \n17:57\u00a0<vfzevaze>\u00a0git is just not working for me completely only partial, i mean i can do everything else only not mvn release:prepare  \n17:58\u00a0<vfzevaze>\u00a0git version 1.9.4.msysgit.2  \n17:58\u00a0<Enygma`>\u00a0vfzevaze: svn is not the solution here, I am sure of that  \n17:58\u00a0<vfzevaze>\u00a0well i know for sure i could release with svn  \n17:58\u00a0<vfzevaze>\u00a0so, this would be a solution for me  \n17:59\u00a0<vfzevaze>\u00a0i am not aware of any extra git or repo rights that can be set in github  \n17:59\u00a0<vfzevaze>\u00a0oh and i am using second auth, but again git is pushing normally to github via cli  \n18:01\u00a0<Enygma`>\u00a0what is your \"git remote -v\" output?  \n18:02\u00a0<vfzevaze>\u00a0origin \u00a0https://github.com/xwiki-contrib/macro-hpqc.git (fetch)  \n18:02\u00a0<Enygma`>\u00a0try using ssh instead of https  \n18:02\u00a0<vfzevaze>\u00a0ok  \n18:03\u00a0<Enygma`>\u00a0i.e. git remote remove origin; git remote add origin [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection):xwiki-contrib/macro-hpqc.git  \n18:03\u00a0<Enygma`>\u00a0double check it was added correctly with git remote -v  \n18:03\u00a0<vfzevaze>\u00a0well how? i did check this out with the githubs-client  \n18:03\u00a0<Enygma`>\u00a0I just gave you the commands  \n18:04\u00a0<vfzevaze>\u00a0oh that's the cmd, sorry  \n18:06\u00a0<Enygma`>\u00a0it should look something like:  \n18:06\u00a0<vfzevaze>\u00a0origin \u00a0[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection):xwiki-contrib/macro-hpqc.git (fetch)  \n18:06\u00a0<vfzevaze>\u00a0origin \u00a0[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection):xwiki-contrib/macro-hpqc.git (push)  \n18:06\u00a0<Enygma`>\u00a0origin \u00a0[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection):xwiki/xwiki-platform.git (push)  \n18:06\u00a0<Enygma`>\u00a0k, now try your release  \n18:06\u00a0<vfzevaze>\u00a0trying  \n18:09\u00a0<vfzevaze>\u00a0http://i.imgur.com/27ivAxx.png  \n18:09\u00a0<vfzevaze>\u00a0same thing  \n18:10\u00a0<Enygma`>\u00a0is your ssh key properly configured to be used by git and is it registered on your github account?  \n18:11\u00a0<vfzevaze>\u00a0yes, but how could it in anyhow not be since it is pushing to github?  \n18:11\u00a0<vfzevaze>\u00a0i give up, using svn ...  \n18:11\u00a0<vfzevaze>\u00a0i love github, but this time github sucks  \n18:12\u00a0<Enygma`>\u00a0what does this command say? ssh -T [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \n18:12\u00a0<Enygma`>\u00a0if your credentials are properly set up, you should get a greeting with your name  \n18:12\u00a0<Enygma`>\u00a0if not, fix your credentials  \n18:13\u00a0<Enygma`>\u00a0svn is not the solution, you are probably just hasting and missing some part in the process  \n18:13\u00a0<vmassol>\u00a0vfzevaze: if you go back to svn then you need to ask for the removal of the contrib prohject you asked to create. It's not the solution  \n18:13\u00a0<vmassol>\u00a0\\*project  \n18:13\u00a0<vmassol>\u00a0I've released your hpqc macro last Friday and it's working very well  \n18:14\u00a0<vmassol>\u00a0github has not problem for sure  \n18:14\u00a0<cjd>\u00a0there's a maven release flag not to push to git  \n18:15\u00a0<vfzevaze>\u00a0i dont want the project to be removed  \n18:15\u00a0<cjd>\u00a0then you can do the push manually  \n18:15\u00a0<vfzevaze>\u00a0and i could release with svn  \n18:15\u00a0<vfzevaze>\u00a0github is maybe not the problem - even if we dont know that for sure, but ok, lets assume  \n18:15\u00a0<vfzevaze>\u00a0git is not working with github right now for release  \n18:16\u00a0<cjd>\u00a0what OS ?  \n18:16\u00a0<vmassol>\u00a0it is working  \n18:16\u00a0<vfzevaze>\u00a0windows  \n18:16\u00a0<vmassol>\u00a0I told you that i did the release  \n18:16\u00a0<cjd>\u00a0good luck  \n18:16\u00a0<vmassol>\u00a0seamlessly  \n18:16\u00a0<vmassol>\u00a0so it is working for sure  \n18:16\u00a0<vfzevaze>\u00a0hey not my choice  \n18:16\u00a0<vmassol>\u00a0what's not working is your git setup probably  \n18:16\u00a0<cjd>\u00a0/nod I feel ya  \n18:16\u00a0<vfzevaze>\u00a0it's my working laptop  \n18:16\u00a0<cjd>\u00a0is setting up a vm a possibility?  \n18:17\u00a0<vfzevaze>\u00a0oh boy  \n18:17\u00a0<cjd>\u00a0I personally think that bringing up an ubuntu vm is actually faster than debigging windows issues, but I'm biased  \n18:17\u00a0<vfzevaze>\u00a0so no chance any config or permission on github must be set for right?  \n18:17\u00a0<gdelhumeau>\u00a0has quit  \n18:17\u00a0<vmassol>\u00a0vfzevaze: I really don't think so  \n18:17\u00a0<evalica>\u00a0vfzevaze: just make sure you have the passwords configured as stated in http://contrib.xwiki.org/xwiki/bin/view/Main/WebHome#HReleasetheproject  \n18:17\u00a0<vmassol>\u00a0it's working for all other users  \n18:18\u00a0<vmassol>\u00a0other contributors who have the same permission as you  \n18:18\u00a0<vmassol>\u00a0(ie they are in the xwikiorg team as you are)  \n18:18\u00a0<vmassol>\u00a0maybe you're not using the right user?  \n18:19\u00a0<vmassol>\u00a0vfzevaze: have you tried what Enygma` was suggesting to try  \n18:19\u00a0<vfzevaze>\u00a0guys the settings.xml is not the problem when preparig the release  \n18:19\u00a0<vfzevaze>\u00a0i should be able to prepare the release without it  \n18:19\u00a0<vfzevaze>\u00a0only when performing the release those credentials are need  \n18:19\u00a0<vmassol>\u00a0I've seen commits done by you on the list  \n18:20\u00a0<vmassol>\u00a0which means commits are working  \n18:20\u00a0<vfzevaze>\u00a0thank you  \n18:20\u00a0<vfzevaze>\u00a0that's correct  \n18:22\u00a0<vmassol>\u00a0vfzevaze: have you pasted the error you get when doing the perform? Can you try running the perform with -v to try to get more details?  \n18:24\u00a0<vfzevaze>\u00a0you mean release:perform?  \n18:24\u00a0<vmassol>\u00a0yes  \n18:24\u00a0<vfzevaze>\u00a0i dont get to that, i am running release:prepare, that is failing  \n18:24\u00a0<vmassol>\u00a0ok then pastebin that with -v  \n18:25\u00a0<vmassol>\u00a0why do you keep reverting?  \n18:25\u00a0<vmassol>\u00a0you can resume from where you stopped normally no need to revert  \n18:26\u00a0<cjd>\u00a0has quit  \n18:26\u00a0<vmassol>\u00a0bbiab  \n18:27\u00a0<vfzevaze>\u00a0you want me to release:perform -Dresume=true ?  \n18:27\u00a0<vfzevaze>\u00a0i keep reverting because i the cmd is failing  \n18:28\u00a0<vfzevaze>\u00a0so i dont want to iterate on every tryout or get the error that the release 1.0.5 already exists or the error that it is not a snaphot project  \n18:28\u00a0<vfzevaze>\u00a0it messes up with the files  \n18:34\u00a0<KermitTheFragger>\u00a0has quit  \n18:35\u00a0<vfzevaze>\u00a0nevermind, this is not xwiki related, but windows github related  \n18:36\u00a0<vfzevaze>\u00a0i hate windows, there should be laws garanting devs the right to use the os of their choice  \n18:36\u00a0<vfzevaze>\u00a0thx alot guys  \n18:36\u00a0<vfzevaze>\u00a0i will continuing to be disturbing on that particular repo hpqc-macro untill i have the solution  \n18:38\u00a0<evalica>\u00a0has quit  \n18:38\u00a0<vfzevaze>\u00a0using maven 3.2.3  \n18:42\u00a0<Enygma`>\u00a0vfzevaze: again, check the output of ssh -T [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection) (or whatever you have on windows for it). If your ssh credentials are not properly set up, even if you can commit, your maven release commits will fail.  \n18:42\u00a0<Enygma`>\u00a0I`m out  \n18:42\u00a0<Enygma`>\u00a0good luk  \n18:42\u00a0<Enygma`>\u00a0\\*luck  \n18:42\u00a0<Enygma`>\u00a0has quit  \n18:51\u00a0<vfzevaze>\u00a0seams lots of folks did have same problems like me: http://stackoverflow.com/questions/21540547/jenkins-release-artifact-job-running-on-windows-fails-in-git-push-command/21568234#21568234  \n18:51\u00a0<vfzevaze>\u00a0i will try that thank  \n18:51\u00a0<vfzevaze>\u00a0\\*you  \n18:52\u00a0<vfzevaze>\u00a0https://jira.codehaus.org/browse/MRELEASE-885  \n18:54\u00a0<mflorea>\u00a0has quit  \n19:06\u00a0<tmortagne>\u00a0has quit  \n19:12\u00a0<abusenius>\u00a0has joined #xwiki  \n19:15\u00a0<Bugen\\_do>\u00a0has quit  \n19:16\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n19:17\u00a0<cjd>\u00a0has joined #xwiki  \n19:18\u00a0<vfzevaze>\u00a0got it  \n19:18\u00a0<vfzevaze>\u00a01.) delete all ssh keys on github  \n19:18\u00a0<vfzevaze>\u00a03.) shutdown githubs client  \n19:18\u00a0<vfzevaze>\u00a0---  \n19:55\u00a0<Bugen\\_do>\u00a0has quit  \n19:56\u00a0<vfzevaze>\u00a0vmassol it seams that i don't have the right to release the staging repo on nexus  \n19:57\u00a0<Slashman>\u00a0has quit  \n20:33\u00a0<vmassol>\u00a0vfzevaze: are you sure you really want to import the API module?  \n20:34\u00a0<vmassol>\u00a0I don't think you should  \n20:34\u00a0<vfzevaze>\u00a0i dont understand, what do you mean?  \n20:34\u00a0<vmassol>\u00a0you imported it!  \n20:34\u00a0<vfzevaze>\u00a0oh  \n20:34\u00a0<vmassol>\u00a0users should only see the HPQC UI when they install/search for it  \n20:34\u00a0<vfzevaze>\u00a0it's not needed?  \n20:34\u00a0<vfzevaze>\u00a0great  \n20:34\u00a0<vmassol>\u00a0I don't believe anyone will want the API part without the macro  \n20:35\u00a0<vmassol>\u00a0right?  \n20:35\u00a0<vmassol>\u00a0importing is only for documentation + searching  \n20:35\u00a0<vmassol>\u00a0importing on e.x.o that is  \n20:35\u00a0<lucaa>\u00a0has quit  \n20:36\u00a0<vmassol>\u00a0ok :)  \n20:36\u00a0<vmassol>\u00a0dinner time here  \n20:36\u00a0<vmassol>\u00a0I see you succeeded in releasing?  \n20:36\u00a0<vmassol>\u00a0that's cool  \n20:36\u00a0<vfzevaze>\u00a0yes thanks, but still no right for nexus to release  \n20:36\u00a0<vfzevaze>\u00a0cheers  \n20:36\u00a0<vmassol>\u00a0hmmm wdym?  \n20:37\u00a0<vmassol>\u00a0you asked someone to promote the release?  \n20:37\u00a0<vfzevaze>\u00a0no  \n20:37\u00a0<vmassol>\u00a0but I see 1.0.6 on e.x.o  \n20:37\u00a0<vfzevaze>\u00a0http://nexus.xwiki.org/nexus/#stagingRepositories  \n20:38\u00a0<vfzevaze>\u00a0there it is  \n20:38\u00a0<vmassol>\u00a0you cannot have 1.0.6 if it's not released  \n20:38\u00a0<vmassol>\u00a0so I don't get it  \n20:38\u00a0<vfzevaze>\u00a0well maybe it happens autmactly  \n20:38\u00a0<vfzevaze>\u00a0i dont know  \n20:38\u00a0<vfzevaze>\u00a01.0.6 is released  \n20:38\u00a0<vmassol>\u00a0BTW you're releasing a lot of empty versions  \n20:38\u00a0<vmassol>\u00a0not very nice for your users  \n20:39\u00a0<vmassol>\u00a0just released the staging repo fyi  \n20:39\u00a0<vmassol>\u00a0and yes you don't need to refresh e.x.o it happens automatically eveyr night at midnight  \n20:39\u00a0<vfzevaze>\u00a0thx  \n20:39\u00a0<vfzevaze>\u00a0i dont want to release that many  \n20:40\u00a0<vfzevaze>\u00a0two versions by now  \n20:40\u00a0<tillo>\u00a0has quit  \n20:40\u00a0<vfzevaze>\u00a0105 and 106  \n20:40\u00a0<vmassol>\u00a0got to go, all should be fine now  \n20:41\u00a0<vfzevaze>\u00a0great  \n20:41\u00a0<vfzevaze>\u00a0bye  \n20:41\u00a0<vmassol>\u00a0see you later  \n20:42\u00a0<vfzevaze>\u00a0thy  \n20:42\u00a0<tillo>\u00a0has joined #xwiki  \n20:52\u00a0<vfzevaze>\u00a0has quit  \n20:53\u00a0<vfzevaze>\u00a0has joined #xwiki  \n20:57\u00a0<vfzevaze>\u00a0has quit  \n22:46\u00a0<lucaa>\u00a0has joined #xwiki  \n23:39\u00a0<xwikibot>\u00a0has joined #xwiki\n"}