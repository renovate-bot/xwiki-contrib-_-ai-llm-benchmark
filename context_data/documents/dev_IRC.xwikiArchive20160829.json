{"id": "dev:IRC.xwikiArchive20160829", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160829", "title": "IRC Archive for channel #xwiki on 29 August 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n09:25\u00a0<ol-ow2>\u00a0has joined #xwiki  \n09:28\u00a0<ol-ow2>\u00a0Hi !, i've few xwiki children, i would like user can make a search (SOLR) on multiple xwiki but not from the main, there is a way to do that ? vmassol,sdumitriu  \n09:28\u00a0<DarkKnightCZ>\u00a0has quit  \n09:30\u00a0<vmassol>\u00a0ol-ow2: I have a few children too. They're aged 11, 15 and 18 ;)  \n09:30\u00a0<vmassol>\u00a0seriously I don't think there's any restriction. Maybe PR is required but that's all I could think of  \n09:30\u00a0<ol-ow2>\u00a0:D  \n09:31\u00a0<vmassol>\u00a0it doesn't work?  \n09:31\u00a0<vmassol>\u00a0what error do you get?  \n09:31\u00a0<ol-ow2>\u00a0that's works from main, no issue, all results come from child  \n09:32\u00a0<ol-ow2>\u00a0but if i made a request from child, the result contains only this child not other docs from other child  \n09:33\u00a0<ol-ow2>\u00a0(i mean with the search field)  \n09:36\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:37\u00a0<ol-ow2>\u00a0(xwiki 6.4)  \n09:38\u00a0<ol-ow2>\u00a0i would like from child A: include result from child B, child C and exclude main xwiki and child D  \n09:38\u00a0<edvorg>\u00a0has joined #xwiki  \n09:40\u00a0<edvorg>\u00a0has quit  \n09:40\u00a0<ol-ow2>\u00a0it seems possible only from main, with #set ($wikisSearchableFromMainWiki = [\"wiki1\", \"wiki2\", \"wiki3\"])  \n09:43\u00a0<edvorg>\u00a0has joined #xwiki  \n09:44\u00a0<vmassol>\u00a0ah I understand  \n09:44\u00a0<vmassol>\u00a0I thought you were talking about API level  \n09:45\u00a0<vmassol>\u00a0at the API level there's no problem  \n09:45\u00a0<vmassol>\u00a0but you're referring to the default search feature in the UI  \n09:45\u00a0<ol-ow2>\u00a0yes exactly  \n09:45\u00a0<vmassol>\u00a0FTR this is what we do on xwiki.org  \n09:46\u00a0<ol-ow2>\u00a0FTR ?  \n09:46\u00a0<vmassol>\u00a0the trick we're using is to replace Main.Search with:  \n09:46\u00a0<vmassol>\u00a0{{velocity}}  \n09:46\u00a0<vmassol>\u00a0{{/velocity}}  \n09:46\u00a0<vmassol>\u00a0(on the subwikis)  \n09:46\u00a0<vmassol>\u00a0so we redirect to the main wiki  \n09:46\u00a0<vmassol>\u00a0FTR = for the record  \n09:47\u00a0<ol-ow2>\u00a0:)  \n09:47\u00a0<ol-ow2>\u00a0hum..  \n09:48\u00a0<vmassol>\u00a0but you could keep staying on the subwiki too  \n09:49\u00a0<ol-ow2>\u00a0better in my case  \n09:49\u00a0<ol-ow2>\u00a0keep staying on subwiki  \n09:50\u00a0<vmassol>\u00a0you'll need to make changes to Main.Search or Main.SolrSearch  \n09:50\u00a0<vmassol>\u00a0cant give you the changes, I've not done this  \n09:50\u00a0<vmassol>\u00a0IMO it could be a nice feature to have  \n09:50\u00a0<vmassol>\u00a0you could raise a jira improvement ticket if you want for the future  \n09:50\u00a0<ol-ow2>\u00a0yes, good idea  \n09:51\u00a0<vmassol>\u00a0found the location I think  \n09:51\u00a0<vmassol>\u00a0here:  \n09:51\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/blob/205e3fde65eadc3a7caaf3488236714bb169d224/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-solr/xwiki-platform-search-solr-ui/src/main/resources/Main/SolrSearchMacros.xml#L681-L681  \n09:51\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/blob/205e3fde65eadc3a7caaf3488236714bb169d224/xwiki-platform-core/xwiki-platform-search/xwiki-platform-search-solr/xwiki-platform-search-solr-ui/src/main/resources/Main/SolrSearchMacros.xml#L681-L687  \n09:52\u00a0<vmassol>\u00a0if you change this line it shoudl work as you want  \n09:52\u00a0<vmassol>\u00a0you need to edit Main.SolrSearchMacros  \n09:52\u00a0<vmassol>\u00a0and have the same line for both main wiki and subwiki  \n09:53\u00a0<vmassol>\u00a0or you just remove the #if #else #end  \n09:53\u00a0<vmassol>\u00a0and replace by one line  \n09:53\u00a0<vmassol>\u00a0#set ($discard = $filters.put('wiki', $solrConfig.wikisSearchableFromMainWiki))  \n09:53\u00a0<edvorg>\u00a0has quit  \n09:53\u00a0<vmassol>\u00a0that'll search in all wikis  \n09:53\u00a0<vmassol>\u00a0even for subwikis  \n09:53\u00a0<ol-ow2>\u00a0ok, thanks, i understood  \n09:53\u00a0<ol-ow2>\u00a0:)  \n09:56\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:13\u00a0<edvorg>\u00a0has joined #xwiki  \n10:26\u00a0<evalica>\u00a0has joined #xwiki  \n10:27\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:27\u00a0<edvorg>\u00a0has quit  \n10:52\u00a0<evalica>\u00a0has quit  \n10:54\u00a0<evalica>\u00a0has joined #xwiki  \n10:59\u00a0<evalica>\u00a0has quit  \n11:02\u00a0<evalica>\u00a0has joined #xwiki  \n11:02\u00a0<evalica>\u00a0has quit  \n11:04\u00a0<evalica>\u00a0has joined #xwiki  \n11:04\u00a0<evalica>\u00a0has quit  \n11:05\u00a0<evalica>\u00a0has joined #xwiki  \n11:05\u00a0<evalica>\u00a0has quit  \n11:06\u00a0<evalica>\u00a0has joined #xwiki  \n11:06\u00a0<evalica>\u00a0has quit  \n11:08\u00a0<evalica>\u00a0has joined #xwiki  \n11:12\u00a0<evalica1>\u00a0has joined #xwiki  \n11:12\u00a0<evalica>\u00a0has quit  \n11:14\u00a0<evalica1>\u00a0has quit  \n11:15\u00a0<evalica>\u00a0has joined #xwiki  \n11:15\u00a0<evalica1>\u00a0has joined #xwiki  \n11:15\u00a0<evalica>\u00a0has quit  \n11:16\u00a0<evalica1>\u00a0is now known as <evalica>  \n11:28\u00a0<Ramona2>\u00a0has joined #xwiki  \n11:29\u00a0<Ramona2>\u00a0has quit  \n11:29\u00a0<Vlad3>\u00a0has joined #xwiki  \n11:38\u00a0<vmassol>\u00a0ol-ow2: would still be nice to report a jira issue IMO  \n11:39\u00a0<vmassol>\u00a0since it could be a useful option in general  \n11:42\u00a0<ol-ow2>\u00a0i'm looking for the best place in your jira  \n11:42\u00a0<ol-ow2>\u00a0xwiki commons ?  \n11:45\u00a0<ol-ow2>\u00a0vmassol:  \n11:58\u00a0<vmassol>\u00a0in xwiki  \n11:58\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI  \n11:58\u00a0<vmassol>\u00a0(ol-ow2)  \n11:58\u00a0<vmassol>\u00a0component: search  \n11:59\u00a0<ol-ow2>\u00a0project ?  \n11:59\u00a0<ol-ow2>\u00a0vmassol:  \n11:59\u00a0<vmassol>\u00a0follow the link :)  \n11:59\u00a0<vmassol>\u00a0\"XWIKI\" is a project  \n12:01\u00a0<ol-ow2>\u00a0\"XWiki platform\" ;)  \n12:07\u00a0<vmassol>\u00a0yep  \n12:14\u00a0<vmassol>\u00a0thx  \n15:25\u00a0<ol-ow2>\u00a0has quit  \n15:41\u00a0<Vlad3>\u00a0has quit  \n15:51\u00a0<ubchn[m]>\u00a0has quit  \n15:51\u00a0<M-jsimard>\u00a0has quit  \n15:51\u00a0<M-mouhb>\u00a0has quit  \n15:51\u00a0<blabla2[m]>\u00a0has quit  \n15:51\u00a0<M-cjd1>\u00a0has quit  \n15:51\u00a0<jihad[m]>\u00a0has quit  \n15:51\u00a0<M-vmassol1>\u00a0has quit  \n16:02\u00a0<vmassol>\u00a0tmortagne: should we recommend http://extensions.xwiki.org/xwiki/bin/view/Extension/XWiki+Authenticator+Headers ?  \n16:02\u00a0<vmassol>\u00a0(ie what's the quality, support)  \n16:03\u00a0<tmortagne>\u00a0vmassol: you should ask Denis, it changed a lot since the last time I worked on it  \n16:03\u00a0<vmassol>\u00a0ok  \n16:19\u00a0<blabla2[m]>\u00a0has joined #xwiki  \n16:38\u00a0<acotiuga>\u00a0has quit  \n16:45\u00a0<msmeria>\u00a0has quit  \n17:28\u00a0<Chris[m]>\u00a0has joined #xwiki  \n17:28\u00a0<Craeckie[m]>\u00a0has joined #xwiki  \n17:28\u00a0<jihad[m]>\u00a0has joined #xwiki  \n17:29\u00a0<M-jsimard>\u00a0has joined #xwiki  \n17:29\u00a0<M-yflory>\u00a0has joined #xwiki  \n17:29\u00a0<M-mouhb>\u00a0has joined #xwiki  \n17:29\u00a0<M-cjd>\u00a0has joined #xwiki  \n17:29\u00a0<M-vmassol>\u00a0has joined #xwiki  \n17:29\u00a0<ubchn[m]>\u00a0has joined #xwiki  \n17:40\u00a0<vmassol>\u00a0tmortagne: does http://extensions.xwiki.org/xwiki/bin/view/Extension/Repository+Application register an entry in the app panel?  \n17:40\u00a0<vmassol>\u00a0(it's not documented)  \n17:41\u00a0<tmortagne>\u00a0vmassol: it does AFAIR  \n17:41\u00a0<vmassol>\u00a0k  \n17:41\u00a0<vmassol>\u00a0I've added it to the recommended list  \n17:47\u00a0<tmortagne>\u00a0vmassol: trusted ldap is now \"merged\" into new LDAP authenticator (could not resist) so you can remove the trusted one from the recommended list probably  \n17:54\u00a0<vmassol>\u00a0tmortagne: is the doc merged and is the extension released?  \n17:54\u00a0<vmassol>\u00a0removing from recomended, thanks  \n17:54\u00a0<vmassol>\u00a0:)  \n17:55\u00a0<vmassol>\u00a0(can it be installed on 7.4.4?)  \n17:56\u00a0<vmassol>\u00a0got my answer on skype ;)  \n17:56\u00a0<vmassol>\u00a0(for the last question)  \n17:57\u00a0<tmortagne>\u00a0everything is merged yes  \n17:57\u00a0<tmortagne>\u00a0hmm not yet actually forgot one thing  \n18:03\u00a0<tmortagne>\u00a0it could use some more documentation but lets say there is no less document than in the Trusted LDAP auth extension :)  \n18:03\u00a0<vmassol>\u00a0ok :) indeed, now that it's recommended, we should work on having some nicer doc  \n18:04\u00a0<tmortagne>\u00a0there is also no UI for the new features (since there was no UI in the trusted auth)  \n18:05\u00a0<tmortagne>\u00a0anyway many people need LDAP auth so the best extension we have on the subject should appear in the list  \n18:05\u00a0<vmassol>\u00a0that's even more important indeed  \n18:05\u00a0<vmassol>\u00a0(ui)  \n18:06\u00a0<tmortagne>\u00a0UI is not too critical, the target of the extension is sys admins  \n18:21\u00a0<mflorea>\u00a0has quit  \n18:39\u00a0<tmortagne>\u00a0has quit  \n18:39\u00a0<tmortagne>\u00a0has joined #xwiki  \n18:39\u00a0<tmortagne>\u00a0has quit  \n18:54\u00a0<gdelhumeau>\u00a0has quit  \n18:57\u00a0<evalica>\u00a0has quit  \n19:00\u00a0<Enygma`>\u00a0has quit  \n19:48\u00a0<ubchn[m]>\u00a0has left #xwiki  \n20:36\u00a0<woshilapin>\u00a0has quit  \n20:36\u00a0<woshilapin>\u00a0has joined #xwiki  \n21:17\u00a0<vmassol>\u00a0has quit  \n22:33\u00a0<mflorea>\u00a0has joined #xwiki\n"}