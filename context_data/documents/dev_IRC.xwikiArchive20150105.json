{"id": "dev:IRC.xwikiArchive20150105", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150105", "title": "IRC Archive for channel #xwiki on 05 January 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol1>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:04\u00a0<Denis>\u00a0has quit  \n07:07\u00a0<msmeria>\u00a0has joined #xwiki  \n08:09\u00a0<\\_cjd>\u00a0has quit  \n08:29\u00a0<DuFFo>\u00a0has quit  \n08:33\u00a0<mflorea>\u00a0has joined #xwiki  \n08:37\u00a0<vmassol>\u00a0has joined #xwiki  \n08:44\u00a0<Lyes>\u00a0has joined #xwiki  \n08:52\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:55\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:58\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:03\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:06\u00a0<msmeria>\u00a0has quit  \n09:10\u00a0<cjd>\u00a0has joined #xwiki  \n09:25\u00a0<Slashman>\u00a0has joined #xwiki  \n09:27\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:28\u00a0<lucaa>\u00a0has joined #xwiki  \n09:31\u00a0<vmassol1>\u00a0has joined #xwiki  \n09:31\u00a0<vmassol>\u00a0has quit  \n09:38\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:43\u00a0<Emenems>\u00a0has joined #xwiki  \n09:47\u00a0<evalica>\u00a0has joined #xwiki  \n09:53\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:12\u00a0<vmassol1>\u00a0good morning  \n10:12\u00a0<vmassol1>\u00a0today is supposed to be the 6.4M3 release  \n10:12\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n10:13\u00a0<vmassol>\u00a0and Caty is currently defined as the RM: http://dev.xwiki.org/xwiki/bin/view/Community/ReleaseManagerRoster  \n10:13\u00a0<vmassol>\u00a0evalica: hope you had some good holidays!  \n10:13\u00a0<vmassol>\u00a0I hope you all had some good holidays! :)  \n10:14\u00a0<vmassol>\u00a0for those I haven't seen on the past few days, I wish you a nice 2015 year!  \n10:14\u00a0<vmassol>\u00a0full of xwiki candies!  \n10:14\u00a0<evalica>\u00a0vmassol: hi - thanks - happy new year to you too! :)  \n10:15\u00a0<vmassol>\u00a0on the status for the release  \n10:15\u00a0<evalica>\u00a0yes - there are some falling tests on wysiywg - Thomas is taking also taking a look at extensions  \n10:15\u00a0<vmassol>\u00a0I know that Lyes (and I) are a bit behind on the batch feature of the mail sender  \n10:15\u00a0<vmassol>\u00a0hopefully we can merge our branch this morning  \n10:15\u00a0<vmassol>\u00a0and finish the tuning for the RC  \n10:16\u00a0<gsmeria>\u00a0has joined #xwiki  \n10:17\u00a0<tmortagne>\u00a0extension test should be ok now  \n10:18\u00a0<evalica>\u00a0vmassol: so let me know after you commit if the tests are good \u2026 and maybe we can figure out what is failing on wysiwyg meanwhile  \n10:18\u00a0<evalica>\u00a0tmortagne: thanks  \n10:18\u00a0<tmortagne>\u00a0hmm the WYSIWYG test buld is full of htmlcleaner exceptions  \n10:18\u00a0<tmortagne>\u00a0I think gdelhumeau worked on some imprivement to support HTML5 better  \n10:19\u00a0<tmortagne>\u00a012:00:18.990 [Thread-13] ERROR o.x.t.i.XWikiLogOutputStream - java.lang.NullPointerException 12:00:18.990 [Thread-13] ERROR o.x.t.i.XWikiLogOutputStream - at org.xwiki.rendering.wikimodel.xhtml.impl.XhtmlHandler$TagStack.popStackParameter(XhtmlHandler.java:452)  \n10:19\u00a0<gdelhumeau>\u00a0Hi  \n10:20\u00a0<gdelhumeau>\u00a0I have made some progress on the HTML5 part, but it won't be finished for the M3  \n10:20\u00a0<gdelhumeau>\u00a0let me look at the WYSIWYG stuff  \n10:30\u00a0<gdelhumeau>\u00a0I haven't made the XWiki product uses the HTML5 Renderer  \n10:30\u00a0<gdelhumeau>\u00a0yet  \n10:37\u00a0<tmortagne>\u00a0gdelhumeau: yes but could be a side effect of the modification in HTMLUtils or something like this maybe  \n10:40\u00a0<gdelhumeau>\u00a0tmortagne: where do you see there is htmlcleaner errors?  \n10:41\u00a0<tmortagne>\u00a0not htmlcleaner directly \u00a0but during the HTML manipulation by the WYSIWYG  \n10:41\u00a0<tmortagne>\u00a0look at the build log  \n10:42\u00a0<tmortagne>\u00a0looks like there is something the html parser does not like which make it produce a nullpointer  \n10:43\u00a0<tmortagne>\u00a0which is why I tough about an issue in the htmlcleaner executed before the parsing  \n11:00\u00a0<evalica>\u00a0tmortagne: can you take a look at extension? it looks blocked  \n11:03\u00a0<tmortagne>\u00a0yes it does not seems to move but it's not really clear why, it also seems to have some failing tests but it's working well when I build it locally  \n11:04\u00a0<tmortagne>\u00a0forcing it to stop for now  \n11:04\u00a0<evalica>\u00a0k - thanks  \n11:09\u00a0<gdelhumeau>\u00a0locally I do have some stack traces indeed, but tests are not failing  \n11:10\u00a0<tmortagne>\u00a0gdelhumeau: ok, still weird to not having failing test with html content that fail to save but I guess most WYSIWYG test are about WYSIWYG manipulation and they don't look much at save result  \n11:12\u00a0<tmortagne>\u00a0extension test seems to be quite slow, I guess it's caused by rating UI  \n11:25\u00a0<tmortagne>\u00a0evalica: xwiki-enterprise-test-extension is OK for the release, something is make some of the test very slow I will have to debug it  \n11:26\u00a0<evalica>\u00a0tmortagne: k - thanks  \n11:26\u00a0<tmortagne>\u00a0maybe it's the same kind of issue with WYSIWYG since it worked well for Guillaume  \n11:50\u00a0<gdelhumeau>\u00a0the stack traces I have locally does not correspond to the failing tests on ci  \n12:15\u00a0<msmeria1>\u00a0vmassol: hello  \n12:15\u00a0<msmeria1>\u00a0is now known as <msmeria>  \n12:15\u00a0<vmassol>\u00a0msmeria: hi  \n12:15\u00a0<msmeria>\u00a0I've found a pretty nasty bug: http://jira.xwiki.org/browse/XWIKI-11607  \n12:15\u00a0<msmeria>\u00a0might be cool to have it fixed fot 6.4 final  \n12:16\u00a0<msmeria>\u00a0also could be related to http://jira.xwiki.org/browse/XWIKI-11457  \n12:17\u00a0<vmassol>\u00a0msmeria: ok thanks, I'll check but we've changed a lot of things for 6.4M3 (currently on a branc)  \n12:17\u00a0<msmeria>\u00a0vmassol: you're welcome  \n12:19\u00a0<tmortagne>\u00a0adding 6.2.5 in the fix for in case it's caused by XWIKI-11607  \n12:20\u00a0<vmassol>\u00a0msmeria: maybe you've used a wrong gmail port?  \n12:20\u00a0<vmassol>\u00a0msmeria: could you mention in the issue how you've configured the smtp server in xwiki?  \n12:21\u00a0<tmortagne>\u00a0msmeria: would be great if you could check on 6.2.5-SNAPSHOT  \n12:21\u00a0<msmeria>\u00a0vmassol, tmortagne: no wrong gmail port. same settings for both M1 & M2. I'll mention my settings in the Jira and also test on snapshot :)  \n12:22\u00a0<vmassol>\u00a0thanks  \n12:36\u00a0<D-Spair>\u00a0has quit  \n12:52\u00a0<Slashman>\u00a0hello, I have upgraded a wiki from 5.4 to 6.3 and now I cannot attach any documents... I have the following error: \"an error occured while uploading xxxxxxx\", no log is generated in the catalina.out during the transfer/error, any idea?  \n12:56\u00a0<Slashman>\u00a0okay, it works for any files < 1M and fail for every others :/  \n12:56\u00a0<msmeria>\u00a0vmassol: tmortagne: I've tested XWIKI-11607 on 6.2.5-snapshot: the Velocity code from the issue generates the same error, but sharing a page by email works  \n12:57\u00a0<tmortagne>\u00a0msmeria: I'm pretty sure share by email still use old stuff  \n12:58\u00a0<msmeria>\u00a0shouldn't we use the new Api everywhere ?  \n12:58\u00a0<tmortagne>\u00a0msmeria: ideally yes but it's work  \n12:58\u00a0<msmeria>\u00a0I see  \n12:58\u00a0<tmortagne>\u00a0vmassol: do you confirm share by email hasn't been moved to new API ?  \n13:02\u00a0<tmortagne>\u00a0msmeria: I see reference to $xwiki.mailsender in shareinline.vm so it seems to be using old stuff indeed  \n13:03\u00a0<msmeria>\u00a0tmortagne: so basically we need to do 2 things: make the email work with the new API and then use the new API everywhere in the code  \n13:04\u00a0<tmortagne>\u00a0msmeria: I guess it's only auth that has an issue with the new API but yes pretty much  \n13:11\u00a0<vmassol>\u00a0tmortagne: share by email is still using the old stuff yes  \n13:56\u00a0<Pbas>\u00a0has joined #xwiki  \n14:31\u00a0<vmassol>\u00a0msmeria: I think I know the problem  \n14:31\u00a0<vmassol>\u00a0the password is hashed apparently  \n14:31\u00a0<vmassol>\u00a0(at least on 6.4M3-SNAP)  \n14:32\u00a0<vmassol>\u00a0I guess htat's because in the UI we use a password-type xperoperty  \n14:32\u00a0<vmassol>\u00a0(I changed that when I refactored the admin ui)  \n14:33\u00a0<vmassol>\u00a0it was using a pure string before  \n14:33\u00a0<vmassol>\u00a0and you were typing your password in clear...  \n14:33\u00a0<vmassol>\u00a0now I need to figure out how to handle this and I don't see any solution except putting back a string  \n14:34\u00a0<vmassol>\u00a0let me test htat first to see if it's the problem  \n14:34\u00a0<vmassol>\u00a0ah I can set a clear storage instead of a hash  \n14:36\u00a0<vmassol>\u00a0yes works fine now for me  \n14:36\u00a0<vmassol>\u00a0what is strange is that I see you're using the old admin UI and that doesn't fit  \n14:39\u00a0<msmeria>\u00a0vmassol: the screenshot I uploaded is just to see the information from the fields. it's from a previous version  \n14:40\u00a0<vmassol>\u00a0ah ok that explains it  \n14:40\u00a0<OSIMasson>\u00a0has quit  \n14:41\u00a0<msmeria>\u00a0vmassol: don't use a string for the pw. I've just closed http://jira.xwiki.org/browse/XWIKI-11555 :D  \n14:42\u00a0<vmassol>\u00a0nice :)  \n14:42\u00a0<vmassol>\u00a0I won't  \n14:42\u00a0<vmassol>\u00a0I've fixed it by using a clear storage instead  \n14:42\u00a0<msmeria>\u00a0good job!  \n14:42\u00a0<vmassol>\u00a0something we need to mention  \n14:42\u00a0<vmassol>\u00a0in the doc  \n14:42\u00a0<vmassol>\u00a0because it's not safe  \n14:44\u00a0<tmortagne>\u00a0msmeria: you told me you had the issue in 6.2.5-SNAPSHOT too, right ?  \n14:46\u00a0<vmassol>\u00a0indeed that would be weird to have it on 6.2.x  \n14:48\u00a0<vmassol>\u00a0if it's there then it means it's a different problem because I'm pretty sure we were using a string before to store the password  \n14:48\u00a0<vmassol>\u00a0there was a problem with auth in 6.2.4 but it was http://jira.xwiki.org/browse/XWIKI-11457  \n14:48\u00a0<tmortagne>\u00a0maybe a backport issue with http://jira.xwiki.org/browse/XWIKI-11457  \n14:49\u00a0<Slashman>\u00a0hello, I have an issue with attachment upload with xwiki 6.3: when I try to upload an attachment with a size >= to 1MB, it fails with the error \"an error occured while uploading xxxxxxx\", the \"Maximum Upload Size\" is \"52428800\" (50MB), when I try a document with a size < 1MB, I still have the error message but it works. Nothing in the catalina.out, can someone tell me how I can debug this?  \n14:49\u00a0<vmassol>\u00a0checking the backport  \n14:49\u00a0<msmeria>\u00a0vmassol: tmortagne: yes, it's in 6.2.5 too when using the velocity snippet, but not the \"share by email\" feature  \n14:49\u00a0<vmassol>\u00a0msmeria: you srue you get the exact sale error?  \n14:49\u00a0<vmassol>\u00a0\\*same  \n14:49\u00a0<msmeria>\u00a0quote: vmassol: tmortagne: I've tested XWIKI-11607 on 6.2.5-snapshot: the Velocity code from the issue generates the same error, but sharing a page by email works  \n14:50\u00a0<msmeria>\u00a0testing to make sure  \n14:50\u00a0<vmassol>\u00a0the backport is ok  \n14:50\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-mail/xwiki-platform-mail-send/xwiki-platform-mail-send-default/src/main/java/org/xwiki/mail/internal/configuration/DefaultMailSenderConfiguration.java#L274  \n14:50\u00a0<vmassol>\u00a0forget share by email  \n14:50\u00a0<vmassol>\u00a0that's the old mailsender  \n14:51\u00a0<vmassol>\u00a0oops wrong paste  \n14:52\u00a0<vmassol>\u00a0you might be right tmortagne  \n14:53\u00a0<tmortagne>\u00a0I'm not sure they are talking about documentation and stuff but maybe there is one thing hidden that is important  \n14:53\u00a0<vmassol>\u00a0checking in github now but it seems I forgot to merge stuff  \n14:56\u00a0<msmeria>\u00a0vmassol: tmortagne: stacktrace from 6.2.5-snap: https://gist.githubusercontent.com/anonymous/083e99319b9887f02b9e/raw/6f02a4f84d449f745a2c24143e6f05e581194646/gistfile1.txt  \n14:56\u00a0<vmassol>\u00a0I think I forgot to merge https://github.com/xwiki/xwiki-platform/commit/fb96e3eb0beedad47856640c72585f33c72e4dd4  \n14:56\u00a0<vmassol>\u00a0msmeria: yes I was expecting that  \n14:56\u00a0<vmassol>\u00a0it's not the same message :)  \n14:56\u00a0<vmassol>\u00a0(and thus not the same issue)  \n14:57\u00a0<vmassol>\u00a0that error matches the missing merge  \n14:57\u00a0<vmassol>\u00a0doing it now  \n14:57\u00a0<vmassol>\u00a0thanks for catching this!  \n14:57\u00a0<vmassol>\u00a0no need for a new issue since 6.2.5 is not released yet  \n14:59\u00a0<msmeria>\u00a0vmassol: you're welcome  \n15:00\u00a0<lucaa>\u00a0has quit  \n15:01\u00a0<msmeria>\u00a0has quit  \n15:01\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:03\u00a0<evalica>\u00a0tmortagne: thanks Thomas for the Release notes  \n15:09\u00a0<tmortagne>\u00a0mflorea: I just looked at the screenshot for extension test failing in 6.2.x and it seems weird to me: http://ci.xwiki.org/job/xwiki-enterprise-test-extension-6.2.x/ws/xwiki-enterprise-test/xwiki-enterprise-test-extension/target/screenshots/ExtensionTest-testUpgrade.png  \n15:09\u00a0<tmortagne>\u00a0any idea what could cause this ?  \n15:09\u00a0<tmortagne>\u00a0weird=empty details  \n15:10\u00a0<tmortagne>\u00a0something wrong with the skin ?  \n15:12\u00a0<evalica>\u00a0should not be related to skin \u2026  \n15:12\u00a0<mflorea>\u00a0looks strange indeed, the display is broken  \n15:13\u00a0<mflorea>\u00a0it looks like the search bar overflows the extension display  \n15:14\u00a0<mflorea>\u00a0since the \"Description\" tab is displayed as a link I assume it is not selected and that's why you don't see the details. Maybe some broken/unexpected HTML for the extension JS code  \n15:15\u00a0<mflorea>\u00a0I mean the \"Description\" tab label  \n15:15\u00a0<tmortagne>\u00a0the tab seems to be there, just behind the extension header  \n15:15\u00a0<mflorea>\u00a0that's the label  \n15:16\u00a0<mflorea>\u00a0when you click on a tab label the corresponding tab is displayed. The tab content is in a different div that is hidden until you click on the tab label  \n15:16\u00a0<tmortagne>\u00a0right  \n15:16\u00a0<mflorea>\u00a0afaik the label for the selected tab is not a link, and in this case the label is a link  \n15:17\u00a0<mflorea>\u00a0so I guess the \"Description\" tab is not actually selected  \n15:17\u00a0<tmortagne>\u00a0when selected it does not display a link no (looking at the 6.4-SNAPSHOT UI right now)  \n15:18\u00a0<tmortagne>\u00a0but there is only one tab so that would mean for some reason whatever automatically select the tab did not worked  \n15:18\u00a0<tmortagne>\u00a0and it's not looks like a flickering it's failing like that since a few builds already  \n15:19\u00a0<tmortagne>\u00a0s/it's/it does/  \n15:19\u00a0<mflorea>\u00a0yes, in any case, the extension display is broken so we should be able to reproduce this.  \n15:20\u00a0<tmortagne>\u00a0it's failing like this since December 23 it seems  \n15:21\u00a0<tmortagne>\u00a0not sure it's the same cause but it's the same tests at least  \n15:22\u00a0<mflorea>\u00a0actually, the extension display just looks broken because the highlight color is almost the same as the background of the search bar  \n15:22\u00a0<mflorea>\u00a0the highlight color was yellow in colibri and it is gray in flamingo default color theme  \n15:23\u00a0<mflorea>\u00a0so the only issue is that the \"Description\" tab is not selected  \n15:26\u00a0<tmortagne>\u00a0could it be a timing issue ? I did not tried to build it locally  \n15:27\u00a0<tmortagne>\u00a0(like it does not select or load it's content quickly enough or something like this)  \n15:27\u00a0<tmortagne>\u00a0s/it's/its/  \n16:15\u00a0<D-Spair>\u00a0has joined #xwiki  \n16:19\u00a0<mflorea>\u00a0has quit  \n16:22\u00a0<OSIMasson>\u00a0has quit  \n16:34\u00a0<sburjan`>\u00a0has joined #xwiki  \n16:37\u00a0<sburjan>\u00a0has quit  \n16:37\u00a0<sburjan`>\u00a0is now known as <sburjan>  \n16:41\u00a0<cjd>\u00a0has quit  \n16:42\u00a0<OSIMasson>\u00a0has joined #xwiki  \n17:00\u00a0<gsmeria>\u00a0has quit  \n17:03\u00a0<mflorea>\u00a0has joined #xwiki  \n17:31\u00a0<lucaa>\u00a0has quit  \n17:48\u00a0<lucaa>\u00a0has joined #xwiki  \n17:59\u00a0<cjd>\u00a0has joined #xwiki  \n18:04\u00a0<gdelhumeau>\u00a0has quit  \n18:07\u00a0<tmortagne>\u00a0has quit  \n18:16\u00a0<evalica>\u00a0has quit  \n18:17\u00a0<Enygma`>\u00a0has quit  \n18:24\u00a0<cjd>\u00a0has quit  \n18:40\u00a0<KermitTheFragger>\u00a0has quit  \n18:59\u00a0<lucaa>\u00a0has quit  \n19:15\u00a0<benoitc>\u00a0has quit  \n19:16\u00a0<benoitc>\u00a0has joined #xwiki  \n19:31\u00a0<Lyes>\u00a0has quit  \n19:35\u00a0<Slashman>\u00a0has quit  \n19:45\u00a0<DuFFo>\u00a0has joined #xwiki  \n19:57\u00a0<mflorea>\u00a0has quit  \n20:17\u00a0<lucaa>\u00a0has joined #xwiki  \n20:32\u00a0<lucaa>\u00a0has quit  \n20:40\u00a0<cjd>\u00a0has joined #xwiki  \n21:05\u00a0<lucaa>\u00a0has joined #xwiki  \n21:35\u00a0<Lyes>\u00a0has joined #xwiki  \n21:54\u00a0<lucaa>\u00a0has quit  \n23:31\u00a0<vmassol>\u00a0has quit\n"}