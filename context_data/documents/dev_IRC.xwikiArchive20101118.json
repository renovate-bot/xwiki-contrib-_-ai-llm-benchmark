{"id": "dev:IRC.xwikiArchive20101118", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101118", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nrrodriguez left at 00:13 (Quit: rrodriguez  \nabusenius left at 00:46 (Ping timeout: 240 seconds  \nsburjan` joined #xwiki at 00:51  \nEnygma` left at 00:57 (Ping timeout: 276 seconds  \njbrBridge left at 01:09 (Ping timeout: 276 seconds  \ncjdelisle left at 01:09 (Ping timeout: 272 seconds  \nlucaa joined #xwiki at 01:11  \njvdrean left at 01:30 (Quit: Leaving.  \nuser\\_ joined #xwiki at 01:35  \ncjdelisle joined #xwiki at 01:36  \nuser\\_ is now known as jbrBridge ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nDragosRusu left at 02:11 (Ping timeout: 276 seconds  \nlucaa left at 03:01 (Ping timeout: 250 seconds  \nvenkatesh joined #xwiki at 03:42  \nvenkatesh left at 03:45 (Client Quit  \nvenkatesh joined #xwiki at 03:45  \nsdumitriu left at 04:33 (Quit: Leaving.  \nvenkatna joined #xwiki at 04:45  \nvenkatna left at 04:47 (Client Quit  \nDenis left at 06:03 (Read error: Connection reset by peer  \nDenis joined #xwiki at 06:10  \nvmassol joined #xwiki at 07:31  \nrstavro joined #xwiki at 07:48  \nrrodriguez joined #xwiki at 07:56  \nsburjan` left at 08:22 (Read error: Connection reset by peer  \nsburjan` joined #xwiki at 08:22  \nmflorea joined #xwiki at 08:26  \nsabageru joined #xwiki at 08:31  \nflaviusolaru joined #xwiki at 08:35  \njstoldt joined #xwiki at 08:50  \njstoldt - (08:52): morning  \nrrodriguez left at 09:12 (Quit: rrodriguez  \nlucaa joined #xwiki at 09:17  \nsburjan joined #xwiki at 09:29  \nvmassol left at 09:39 (Ping timeout: 265 seconds  \nvmassol joined #xwiki at 09:39  \narkub joined #xwiki at 09:40  \nmflorea left at 09:54 (Quit: Leaving.  \nmflorea joined #xwiki at 09:58  \nrrodriguez joined #xwiki at 10:06  \njvdrean joined #xwiki at 10:07  \ntmortagne joined #xwiki at 10:23  \nsabageru left at 10:23 (Quit: Leaving.  \nEnygma` joined #xwiki at 10:23  \nevalica joined #xwiki at 10:27  \nfmancinelli joined #xwiki at 10:33  \nflaviusolaru1 joined #xwiki at 10:34  \nflaviusolaru left at 10:36 (Ping timeout: 240 seconds  \nflaviusolaru1 - (10:37): i did not left the room :))  \nSvenDowideit joined #xwiki at 10:37  \nSvenDowideit\\_ left at 10:38 (Ping timeout: 260 seconds  \nflaviusolaru1 left at 10:40 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 10:40  \nlucaa left at 10:42 (Quit: Leaving.  \njstoldt - (10:44): crated XWIKI-5703  \njstoldt - (10:45): \\*created  \npigopl\\_ joined #xwiki at 10:47  \nvenkatesh left at 10:47 (Remote host closed the connection  \npigopl\\_ - (10:50): Hi - I want to enhance the IncludeMacro20 macro to be able to specify which parts of the included page should be output e.g. from:Second Heading to:Fifth Heading (as I was able to do in MoinMoin). \u00a0Has anyone done anything like this already? \u00a0Any tips on how to go about it right?  \njstoldt - (10:54): error when saving reviews on http://l10n.xwiki.org/xwiki/bin/view/L10NCode/UpdateReviews  \njstoldt - (10:54): Error number 4001 in 4: Error while parsing velocity page L10NCode.UpdateReviews Wrapped Exception: Failed to evaluate content with id Update Reviews  \njstoldt - (10:54): pigopl\\_: there is a Jira issue open for that  \njstoldt - (10:55): anyway, you'd have to edit the sources for all i know  \njstoldt - (10:56): disregard the error i posted above... got logged out... again...  \nsabageru joined #xwiki at 11:00  \ntmortagne - (11:00): pigopl\\_: see http://jira.xwiki.org/jira/browse/XWIKI-1776  \ntmortagne - (11:00): but i don't think Sergiu is currently working on it so if you want to contribute this improvement go for it ;)  \npigopl\\_ - (11:01): Thanks - taking a look at XWIKI-1776 now :-)  \ntmortagne - (11:02): basically include works the following way: document content is manipulated with what we call XDOM which contains SectionBlock, WordBlock, etc.. so instead of just inserting the whole XDOM of the included document you into includer document XDOM you need to extract for the the included XDOM  \ntmortagne - (11:03): include macro code is on http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-rendering/xwiki-rendering-macros/xwiki-rendering-macro-include/  \ntmortagne - (11:04): s/extract for/extract part of/  \npigopl\\_ - (11:04): tmortagne - thanks for your help. \u00a0I guess in terms of what I should do is look at the source and write a user macro to do what I want it to do first  \ntmortagne - (11:05): pigopl\\_: either that or modify include macro directly and post a patch on http://jira.xwiki.org/jira/browse/XWIKI-1776  \nvmassol - (11:05): IMO it's a modification of the existing include macro  \nrrodriguez left at 11:06 (Quit: rrodriguez  \nvmassol - (11:06): {{include document=\"\u2026\" section=\"...\"  \npigopl\\_ - (11:06): Thanks everyone. I'll read through the code and have a think.  \nrrodriguez joined #xwiki at 11:07  \nrrodriguez left at 11:07 (Client Quit  \nsilviar joined #xwiki at 11:07  \nrrodriguez joined #xwiki at 11:08  \nqwebirc51292 joined #xwiki at 11:11  \nqwebirc51292 - (11:11): Hello all  \njstoldt - (11:11): vmassol: what's the status on todays release? do i still have some time to review my translations?  \nvmassol - (11:11): jstoldt: waiting for the last issue to be fixed (multiwiki with activity stream)  \nvmassol - (11:11): guys, any update on this?  \njstoldt - (11:12): okay  \nvmassol - (11:13): jstoldt: we'll probably start the release sometimes this afternoon at best  \nqwebirc51292 - (11:13): Can someone help me with minor problem on XE 2.5.1?  \njstoldt - (11:14): that should work just fine for me  \nqwebirc51292 - (11:15): After migration 2.3.1>2.51, avatar don't appear anymore. Only Noavatar is display. Someone already see that?  \njstoldt - (11:17): vmassol: it'd also be nice if XWIKI-5703 could make it for the upcoming release. it's prolly only a minor change  \nvmassol - (11:19): probably too late for it jstoldt, it could make it in 2.6.1  \njstoldt - (11:19): okay, sure  \nqwebirc51292 - (11:21): Im not in the right IRC to found answer about installation problems on V2.5.1?  \nmflorea left at 11:25 (Quit: Leaving.  \nvmassol - (11:27): this AttachmentTest is driving me crazy....  \nArcainus - (11:36): afternoon guys  \npigopl\\_ left at 11:37 (Ping timeout: 240 seconds  \nArcainus - (11:39): tmortagne: i zipped up the contents of the exported folder, renamed to .xar (i even tried export.zip.xar) but i still get \"java.util.zip.ZipException: error in opening zip file\"  \nArcainus - (11:39): i put that .xar under the /opt/tomcat/webapps/ and also the /opt/tomcat/webapps/xwiki/  \nflaviusolaru left at 11:39 (Quit: Leaving.  \ntmortagne - (11:40): Arcainus: do you have more in the error ? stack trace or something  \nArcainus - (11:40): lemme check catalina  \nArcainus - (11:41): only shows me:  \nArcainus - (11:41): Hibernate: select distinct xwikidocum0\\_.XWD\\_WEB as col\\_0\\_0\\_, xwikidocum0\\_.XWD\\_NAME as col\\_1\\_0\\_, xwikidocum0\\_.XWD\\_DATE as col\\_2\\_0\\_ from xwikidoc xwikidocum0\\_ where (xwikidocum0\\_.XWD\\_HIDDEN<>1 or xwikidocum0\\_.XWD\\_HIDDEN is null) and 1=1 and xwikidocum0\\_.XWD\\_AUTHOR='XWiki.Admin' order by xwikidocum0\\_.XWD\\_DATE desc limit ?  \ntmortagne - (11:42): yep i doubt you would have anything in the log since it's a script exception  \ntmortagne - (11:43): but sometimes you can click on the \u00a0error and get the full error  \nArcainus - (11:43): no such luck  \ntmortagne - (11:43): ok  \ntmortagne - (11:43): hmm  \ntmortagne - (11:44): you put /opt/tomcat/webapps/ and also the /opt/tomcat/webapps/xwiki/myfile.xar in the field ?  \nArcainus - (11:44): yep  \ntmortagne - (11:44): let me try to add some log for you in the script  \nArcainus - (11:44): thanks :)  \nsdumitriu joined #xwiki at 11:47  \nrstavro - (11:49): vmassol: I wrote on the chant yesterday that me and Stefan attached patches to XPAS-30 and XE-755  \nsdumitriu - (11:49): I'll apply them shortly  \nrstavro - (11:49): someone should apply the patches since neither me or Stefan have commit rights  \nrstavro - (11:49): k, thx  \nsdumitriu - (11:50): I don't like sabageru's patch a bit  \nvmassol - (11:50): sdumitriu: ok , was going to ask if anyone was checking them out  \nsdumitriu - (11:50): sabageru: Can you replace <T> with the real type? It's supposed to be returning events, not generic objects  \nvmassol - (11:51): myxwiki.org isn't feeling well  \nsburjan - (11:51): myxwiki.org isn't feeling well from a long time  \nsdumitriu - (11:52): vmassol: I have a patch for xwik-xar-plugin to support custom encoding, + UTF-8 by default  \nvmassol - (11:52): sdumitriu: ok  \nsdumitriu - (11:52): Right now it generates files using the system encoding, but forces latin1 in package.xml  \nsabageru - (11:53): sdumitriu. it is not actually returning events, but objects with 2 fields as you can see in macro implementation. a field for page and one for date. and the macro gets those objects and retrieves the values for page and date  \nsdumitriu - (11:53): Thus non-ASCII chars will end up as files not found  \nsdumitriu - (11:53): sabageru: OK, but still <T> is wrong  \nsdumitriu - (11:53): It means that it can return any type you ask it too  \nsabageru - (11:53): should i replace it with Object ?  \nsdumitriu - (11:53): Yes  \nsabageru - (11:54): ok..will do that.  \ntmortagne - (12:04): Arcainus: could you try http://pastebin.com/uXhk7333 ?  \ntmortagne - (12:05): http://pastebin.com/rpMrL6ua a bit more detailed  \nrrodriguez left at 12:12 (Quit: rrodriguez  \nflaviusolaru joined #xwiki at 12:14  \nvmassol - (12:14): guys how can I check the id when I listen to the following event which is triggered: \u00a0document.fire(\"xwiki:docextra:activated\", {\"id\": extraID});  \nvmassol - (12:15): I have: document.observe('xwiki:docextra:activated', function() {\u2026})  \nvmassol - (12:17): wait no need I can do the observe on the right element  \nsburjan - (12:17): to all devs involved in the release : http://jira.xwiki.org/jira/browse/XE-754  \nvmassol - (12:18): ah no  \nsdumitriu - (12:22): vmassol:  \nvmassol - (12:22): (jvdrean helped me)  \nsdumitriu - (12:22): document.observe('xwiki:docextra:activated', function(event) {  \nsdumitriu - (12:22): \u00a0\u00a0if (event.memo.id == 'abc')  \nsdumitriu - (12:22): })  \nvmassol - (12:23): I'm trying with event.id  \nvmassol - (12:23): do I need memo?  \nsdumitriu - (12:23): Yes  \nsdumitriu - (12:23): The extra parameters you give to fire() are placed in event.memo  \njvdrean - (12:24): oh, didn't know that  \nvmassol - (12:24): indeed  \nlucaa joined #xwiki at 12:25  \nmflorea joined #xwiki at 12:28  \nArcainus - (12:28): tmortagne: aaah, must add that file into the WEB-INF  \ntmortagne - (12:29): which file ?  \nArcainus - (12:29): the .xar  \ntmortagne - (12:29): you mean because you have rights restrictions ?  \ntmortagne - (12:30): otherwise no you can have this file anywhere you want  \nArcainus - (12:30): have to add export.xar to /opt/tomcat/webapps/xwiki/WEB-INF/ :)  \nvmassol - (12:30): lunch time...  \nArcainus - (12:30): that was the correct dirrectory to place the xar file  \nArcainus - (12:31): not in the /opt/tomcat/webapps/ or /opt/tomcat/webapps/xwiki/  \ntmortagne - (12:31): Arcainus: you can put the full path in the field  \ntmortagne - (12:31): so you can have the file anywhere you want  \ntmortagne - (12:32): WEB-INF is the current path so when you give only the file name it tried to find it there  \nArcainus - (12:32): i'm sure i tried the full path, but anyhoo that worked perfect :)  \nArcainus - (12:33): thanks alot for the assist and help!  \ntmortagne - (12:33): Arcainus: no prob, no the script is better ;)  \ntmortagne - (12:33): s/no/now/  \nArcainus - (12:36): so importing that script would put it all into the mysqldb automatically right?  \nArcainus - (12:37): ye, nvm  \nArcainus - (12:37): i answered my own question  \nArcainus - (12:37): heh  \nrrodriguez joined #xwiki at 12:39  \ntmortagne - (12:39): note that you will probably have to reimport standard XE xar after since you are broken it when old wiki xar  \ntmortagne - (12:39): s/when/with/  \njstoldt - (12:45): small question, the disable button in the object editor, where is the localization for that one?  \nvmassol - (12:57): cjdelisle: I'm stuck on the AttachmentTest\u2026. here's the latest I have: http://tinypaste.com/86e2b  \nvenkatna joined #xwiki at 12:59  \nvmassol - (13:00): so the observer is called even when the test times out but in the page source when it fails there's the \"hidden\" class value  \nsdumitriu - (13:12): jstoldt: The object or the class editor?  \njstoldt - (13:19): actually it might be class editor  \njstoldt - (13:19): let me check real quick  \njstoldt - (13:20): class editor  \nArcainus - (13:21): tmortagne: i been having an issue with the xwiki and i thought it was dude to me using the Standalone version where it would make the CPU(JAVA) go anywhere from 100% - 200% CPU usage under load of about 5 - 10 people using it.  \nArcainus - (13:22): i thought going to tomcat, mysql and WAR would solve the issue, but seems like it persists.  \ntmortagne - (13:23): yep something standalone should support a more than 5 -10 people so it should be something else but always hard to find  \njstoldt - (13:23): also, i noticed the following weird layout on importing a ppt file i created with PowerPoint 2003: http://img413.imageshack.us/img413/9409/systemauswahlendgueltig.jpg  \njstoldt - (13:23): is this a known issue?  \nvmassol - (13:24): jstoldt: you could file a jira issue with your file attached to be able to reproduce it  \njstoldt - (13:24): OO.o server is 3.2.something... just installed it a month ago or so  \njstoldt - (13:24): okay, will do that, just wanted to ask if it's known first  \nvmassol - (13:24): I don't know  \njstoldt - (13:24): :-D okay  \njstoldt - (13:27): btw, updated XWIKI-5701  \nsdumitriu - (13:32): jstoldt: I think some of the empty keys were actually removed  \njstoldt - (13:33): sdumitriu: but i can not find \"Disabled\" anywhere in http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/ApplicationResources.properties  \njstoldt - (13:34): and yet it's displayed in the class editor to disable properties  \nsilviar left at 13:34 (Quit: Leaving.  \njstoldt - (13:34): which strikes me as fairly weird  \nArcainus - (13:35): tmortagne: yeah, now trying to diagnose this needle in a haystack :D  \nArcainus - (13:36): tmortagne: i must say this is on a virtualized environment  \nArcainus - (13:36): not a physical machine  \njstoldt - (13:37): about the ppt thing: XWIKI-5706  \ntmortagne - (13:38): Arcainus: we pretty much always use virtual machines for our servers  \nfmancinelli left at 13:40 (Ping timeout: 264 seconds  \nflorinciu joined #xwiki at 13:41  \nsilviar joined #xwiki at 13:43  \ncjdelisle - (13:45): vmassol, I'll be around some today, going to pull some wire with my dad. Still working on the regression notices, at some point I'll take a look at the attachment test.  \nvmassol - (13:46): cjdelisle: ok, I'm still trying to fix it...  \nflorinciu left at 13:51 (Read error: Connection reset by peer  \nsdumitriu - (13:51): jstoldt: Unfortunately Disabled is not translatable at the moment  \nsdumitriu - (13:52): Nor all the other class field properties  \nsdumitriu - (13:52): (Validation Regular Expression, Pretty Name, Size of the corresponding form element in edit mode...)  \nsdumitriu - (13:52): But it should be easy to add support for it  \nsdumitriu - (13:53): Do you feel like writing some Java code and providing a patch? :)  \njstoldt - (13:53): okay, i thought it was because somewhere else the enable status was references in a string and i wanted to make sure it receives a similar translation  \nvmassol - (13:54): something I'd like us to do in 3.0 is moving translation pages in applications, see comments on http://jira.xwiki.org/jira/browse/XSKINX-44?focusedCommentId=55438&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#action\\_55438  \nvmassol - (13:54): (and finish that xwiki-localization module)  \njstoldt - (13:54): well, the major problem would be that i don't have eclipse, am a git user and c++ coder with no noteworthy java skills  \njstoldt - (13:55): but if you give me a couple of hints i might give it a shot  \ntmortagne - (13:55): jstoldt: java is like baby code for c++ programmer ;)  \ncjdelisle - (13:56): Java is c++ with garbage collection instead of speed ;)  \ncjdelisle - (13:58): Anyone have an idea how I can cause a trigger on hudson from the code that is being run? I have to prevent it from sending an email if there is nothing to send.  \njstoldt - (13:58): X-D yeah, i figured that much... well, like i said, i'd need some help... like figuring out what the apropriate files are and the patch would just be a C&P sort of patch because i don't want to install CVS on this crappy stoneage notebook which usually runs with 150% of the physical memory  \njstoldt - (13:58): and i'd have to do it incognito because there is a reason i use C++ and not Java! ;)  \ncjdelisle - (13:59): Actually java does have some awesome constructs which make code really clean and easy.  \nfmancinelli joined #xwiki at 13:59  \ncjdelisle - (14:00): Re hudson trigger: What I'm thinking now is throwing an exception if there is nothing to report so that the build will be unstable.  \ncjdelisle - (14:00): Then catching that.  \ncjdelisle - (14:00): Obviously if there is a cleaner way to do it, I'd like to know.  \njstoldt - (14:00): yeah, so i've heard... well, i got started on c++ as a hobby and don't even have enough time to pursue my own projects properly, so really learning another language is out of the picture  \njstoldt - (14:01): anyhow, i'd have to know the proper file which speciefies the output for the class editor  \njstoldt - (14:01): and then i could go about writing a patch  \ncjdelisle - (14:02): Is this re the bug where property names are not translated?  \njstoldt - (14:05): according to sdumitriu the strings in the class editor are not being translated  \njstoldt - (14:05): or rather can not be translated  \nsdumitriu - (14:06): Meta-properties  \nrrodriguez left at 14:08 (Quit: rrodriguez  \ncjdelisle - (14:23): ``Locks and Latches plugin  \ncjdelisle - (14:23): This plugin allows you to control the parallel execution of jobs.''  \nvenkatna left at 14:24 (Remote host closed the connection  \nqwebirc51292 - (14:26): Someone could help me for a minor problem on XE 2.5.1?  \njstoldt - (14:42): yay, all reviewed  \nabusenius joined #xwiki at 14:46  \ntmortagne left at 14:50 (Quit: Leaving.  \ntmortagne joined #xwiki at 14:52  \nEnygma` left at 14:52 (Read error: Connection reset by peer  \nEnygma` joined #xwiki at 14:52  \nsdumitriu - (14:55): sabageru: hsqldb doesn't support this query:  \nsdumitriu - (14:55): select act.page, max(act.date) from ActivityEventImpl as act group by act.page order by act.date desc  \nsdumitriu - (14:55): It works as:  \nsdumitriu - (14:55): select act.page, max(act.date) from ActivityEventImpl as act group by act.page order by 2 desc  \nsabageru - (14:56): i have tested on mysql because this is what XEM supports  \nqwebirc51292 - (14:56): I have \"java.lang.NoClassDefFoundError\" on debian SQL. XE 2.5.1  \nqwebirc51292 - (14:56): An idea?  \nsdumitriu - (14:56): qwebirc51292: Which class?  \nsabageru - (14:56): sdumitriu: i will see if it is ok in mysql as well and let you know  \nsdumitriu - (14:56): sabageru: I tested it on myxwiki, it works  \nsabageru - (14:57): sdumitriu: i will modify the query then  \nsdumitriu - (14:57): (although it's slow, the activity stream database should be pruned from time to time)  \nsdumitriu - (14:57): sabageru: Don't do it, I already changed it locally  \nsdumitriu - (14:57): It was just FYI  \nqwebirc51292 - (14:57): sdumitriu, i don't no what class is  \nsabageru - (14:58): oh..thanks  \ntmortagne - (14:58): qwebirc51292: copy paste the entire error/log on pastebin.com  \nqwebirc51292 - (14:59): Just no image can be show on XE  \nqwebirc51292 - (14:59): done  \nsdumitriu - (15:00): qwebirc51292: Are you running XWiki on a server without X?  \nqwebirc51292 - (15:00): All my test is with X, gnome session  \nqwebirc51292 - (15:01): debian  \nqwebirc51292 - (15:01): i follow http://www.howtoforge.com/xwiki-tomcat-mysql-debian-etch  \nsdumitriu - (15:01): qwebirc51292: You should paste here the URL to the snippet you posted on pastebin.com  \nqwebirc51292 - (15:01): o sry  \nqwebirc51292 - (15:02): http://pastebin.com/erS6wAZb  \ntmortagne - (15:02): looks a lot like the kind of error we got we there is no X  \nqwebirc51292 - (15:03): All migration fedora XE2.3.1> Debian2.5.1 is ok. I have all my data. Just image don't appear  \nsdumitriu - (15:03): qwebirc51292: What JDK are you using?  \nqwebirc51292 - (15:03): With Fedora i havnt X, and all wass fine...  \ntmortagne - (15:03): indeed maybe it's gcj or something like that  \nqwebirc51292 - (15:03): sun-java5-jdk  \nsdumitriu - (15:04): Are you sure it's the one in use? Debian can have more than one JDK installed, and it can use different ones for different purposes  \nsdumitriu - (15:05): I'm asking because the class it's complaining about is in com.sun.imageio.plugins.jpeg.JPEGImageReaderSpi  \nsdumitriu - (15:05): Which is a sun class  \nqwebirc51292 - (15:06): i dont have experience with how see which JDK \u00a0use  \nqwebirc51292 - (15:06): i use  \nsdumitriu - (15:07): Write in a console:  \nsdumitriu - (15:07): java -version  \nqwebirc51292 - (15:07): java 1.5.0  \nqwebirc51292 - (15:07): gij 4.3.2  \nsdumitriu - (15:07): So it's gij, not sun  \nqwebirc51292 - (15:08): Im not enough knowlege about that  \nsdumitriu - (15:08): Me neither, not a Debian user  \ntmortagne - (15:08): qwebirc51292: execute \"sudo update-alternatives --config java\"  \ntmortagne - (15:09): and choose the proper java alternative in the list (sun one)  \nqwebirc51292 - (15:09): i try looking for this, thx for your impressive work  \ntmortagne - (15:09): you maybe don't need \"sudo\"  \nqwebirc51292 - (15:09): i have 3 choice tmortagne  \ntmortagne - (15:10): put the number corresponding to sun  \nqwebirc51292 - (15:10): oki is the third, java-1.5.0-sun  \nqwebirc51292 - (15:10): this config is hard?  \nqwebirc51292 - (15:10): if i reboot, that keep sun?  \ntmortagne - (15:10): what do you mean by \"hard\" ?  \ntmortagne - (15:10): yes  \ntmortagne - (15:11): the choice is saved  \nqwebirc51292 - (15:11): i never found without you guys  \ntmortagne - (15:11): i don't remember were excactly but it is ;)  \ntmortagne - (15:12): try \"java -version\" now to check you have the right one  \nqwebirc51292 - (15:17): After reboot, the problem not resolve  \nqwebirc51292 - (15:18): java 1.5.0\\_22  \nqwebirc51292 - (15:19): java 2 Runtim Environnement and Hotspot client VM build 1.5.0.\\_22-b03  \nqwebirc51292 - (15:19): mixed mode, sharing  \nqwebirc51292 - (15:23): Now correct JDK but i dont see any change...  \nsdumitriu - (15:24): qwebirc51292: Did you restart the server?  \nsdumitriu - (15:25): Yes, you rebooted  \nqwebirc51292 - (15:25): Tomcat5.5 no change, and afeter a reboot  \nqwebirc51292 - (15:26): i have change with java -version  \nqwebirc51292 - (15:28): java version \"1.5.0\\_22\" Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0\\_22-b03) Java HotSpot(TM) Client VM (build 1.5.0\\_22-b03, mixed mode, sharing)  \nztane left at 15:31 (Ping timeout: 260 seconds  \nqwebirc51292 - (15:35): in adress bar, \"ouvertk.jpg?height=227&width=313\" -> Error  \nqwebirc51292 - (15:35): ouvertk.jpg -> ok  \nqwebirc51292 - (15:35): ?!  \njvdrean - (15:36): has something changed in the way we handle virtual wikis?  \nnpm\\_\\_ joined #xwiki at 15:37  \njvdrean - (15:37): with apache / tomcat / xem war / emtpy DB I'm always redirected to \"this wiki does not exist\"  \ntmortagne - (15:37): jvdrean: are you using IP adress ?  \njvdrean - (15:38): no, testing it now  \ntmortagne - (15:38): if you are using host there is no way xwiki can find the proper wiki and this is not new  \ntmortagne - (15:39): s/host/domain/  \njstoldt - (15:39): i'm out for today  \njstoldt - (15:39): see you tomorrow  \ntmortagne - (15:39): jstoldt: bye  \njstoldt - (15:39): i'll try to make a patch then  \njstoldt - (15:39): bye  \njvdrean - (15:39): tmortagne: indeed, thanks  \njstoldt left at 15:40 (Quit: Page closed  \ntmortagne - (15:40): there is also a special case if you domain starts with \"www.\"  \ntmortagne - (15:40): by default this goes to main wiki if not \"grabbed\" by another wiki descriptor  \ntmortagne - (15:41): jvdrean: see http://manager.xwiki.org/xwiki/bin/view/AdminGuide/AccessWiki ;)  \nnpm\\_ left at 15:42 (Ping timeout: 276 seconds  \njvdrean - (15:42): gnagnagna ;)  \ntmortagne - (15:42): :)  \nSvenDowideit left at 15:45 (Ping timeout: 276 seconds  \nqwebirc51292 - (15:45): My extension and APi: http://pastebin.com/60niXZbc  \nqwebirc51292 - (15:46): just in case you see something  \njvelociter\\_ joined #xwiki at 15:48  \njvelociter left at 15:48 (Read error: Connection reset by peer  \njvelociter\\_ is now known as jvelociter ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \ntmortagne - (15:48): qwebirc51292: you need to find a way to make sure what is the jvm used by tomcat  \ntmortagne - (15:49): how do you start it ? automatically in /etc/init.d/tomcat.sh ?  \nqwebirc51292 - (15:49): You think tomcat dont change the jvm with \"update-alternatives --config java\"  \ntmortagne - (15:50): qwebirc51292: I hope it does not, it's not supposed to do that  \ntmortagne - (15:50): when you change java it's supposedly for all soft which calls \"java\"  \ntmortagne - (15:51): but apparently for some reason it's not the case for tomcat  \ntmortagne - (15:51): mayeb the tomcat script you have does not call java but specifically one implementation  \nqwebirc51292 - (15:51): in /etc/init.d/tomcat5.5?  \ntmortagne - (15:52): which is why i'm asking you how you start tomcat so that we can check what it does  \ntmortagne - (15:52): is it started automatically when you reboot ?  \nqwebirc51292 - (15:52): i start tomcat with runlevel i think  \nqwebirc51292 - (15:52): yes  \ntmortagne - (15:52): so yes it should be the script in /etc/init.d/  \ntmortagne - (15:53): could you copy paste the content of the script in pastebin ?  \nqwebirc51292 - (15:53): of course  \nqwebirc51292 - (15:54): in this script i just change Xmx1024  \nqwebirc51292 - (15:54): http://pastebin.com/sA6nQfMR  \ntmortagne - (15:56): qwebirc51292: coudl you execute \"echo $JAVA\\_HOME\" ?  \nqwebirc51292 - (15:57): Nothing  \ntmortagne - (15:57): hmm  \nqwebirc51292 - (15:57): blank  \ntmortagne - (15:57): that's weird since i can see  \ntmortagne - (15:57): \u00a0 \u00a0 \u00a0 \u00a0 if [ -z \"$JAVA\\_HOME\" ]; then \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 log\\_failure\\_msg \"no JDK found - please set JAVA\\_HOME\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 exit 1 \u00a0 \u00a0 \u00a0 \u00a0 fi  \nqwebirc51292 - (15:58): This is environnement variable?  \ntmortagne - (15:58): i mean the script is checking for JAVA\\_HOME  \nsburjan left at 15:58 (Quit: Ex-Chat  \ntmortagne - (15:58): and is supposed to send an error when it can't find it  \ntmortagne - (15:58): yes  \ntmortagne - (15:59): and \"sudo echo $JAVA\\_HOME\" ?  \nqwebirc51292 - (15:59): Export commands, don't configure this variable?  \ntmortagne - (16:00): yes it does but tomcat is working so the variable is set at some point  \nqwebirc51292 - (16:00): Same result, im in a root terminal  \nqwebirc51292 - (16:00): ok i stop tomcat, and i export JAVA\\_HOME eand JAVA\\_OPTS again  \ntmortagne - (16:01): could you modify the script, put an \"echo $JAVA\\_HOME\" just before the \"if [ -z \"$JAVA\\_HOME\" ];\" and restart tomcat  \ntmortagne - (16:01): to see what is the value of the variable just before it check it  \nqwebirc51292 - (16:01): ok i try this  \nqwebirc51292 - (16:03): http://pastebin.com/sA6nQfMR  \nqwebirc51292 - (16:03): sry  \nrstavro left at 16:03 (Quit: Page closed  \nqwebirc51292 - (16:04): \"/usr/lib/jvm/java-1.5.0-sun\"  \ntmortagne - (16:04): so it seems tomcat is definitely using the right one, do you have the same issue if you check now with XWiki ?  \nqwebirc51292 - (16:05): yes same issue  \ntmortagne - (16:06): then i don't understand :(  \nsdumitriu - (16:06): Can you uograde to 1,6?  \nqwebirc51292 - (16:06): i try to understand but java is like dark vador  \nqwebirc51292 - (16:07): yes, i can but not today... i spend all time i can, i return to production for today  \nSvenDowideit joined #xwiki at 16:07  \nqwebirc51292 - (16:08): See you soon, thanx a lot. Keep good work !  \ntmortagne - (16:08): i can find the classed in Java 5 sources so i doubt it's java 6 vs java 5 issue  \nflaviusolaru - (16:08): hi all, i have #set($text = $mydoc.getRenderedContent()) where $mydoc does a $response.sendRedirect then i have a redirect too on this document  \nflaviusolaru - (16:08): is this the desired behaviour?  \nsabageru left at 16:14 (Quit: Leaving.  \ntmortagne - (16:15): flaviusolaru: i guess  \ntmortagne - (16:16): another name for \"getRenderedContent\" could probably be \"execute\"  \ntmortagne - (16:17): what are you trying to do ?  \nflorinciu joined #xwiki at 16:17  \nflaviusolaru - (16:18): tmortagne: i had a script that returned a portion of text from each document found that met some requirements  \ntmortagne - (16:19): so you just want to exact part of the content and not execute the document ?  \ntmortagne - (16:19): part of the source i mean  \nflaviusolaru - (16:19): tmortagne: part of the rendered text  \ntmortagne - (16:20): for this you need to exact the source you are interested in and then execute it so that not the whole document is executed  \ntmortagne - (16:20): will you have xwiki/1.0 documents ?  \nflaviusolaru - (16:21): tmortagne: yes  \ntmortagne - (16:21): hmm less easy  \ntmortagne - (16:22): with other syntaxes you could exact the content you are interested in from the XDOM and and include it using a macro  \ntmortagne - (16:23): if the xwiki/1.0 contents are not too conmplex you could still do this counting or 1.0/2.0 on the fly converter  \ntmortagne - (16:23): s/or/on/  \nrrodriguez joined #xwiki at 16:24  \nflaviusolaru - (16:24): what would getRenderedContent() on a document with $response.sendRedirect('Main.WebHome') will return in a java plugin... just wondering  \ntmortagne - (16:25): it has nothing to do with what is calling getRenderedContent, sendRedirect modify the HTTP Response  \ntmortagne - (16:26): so the only way is to put a \"dummy\" HTTP Response in the context  \ntmortagne - (16:26): so that sendRedirect has no effect  \njvelociter - (16:26): no it  \ntmortagne - (16:28): the object type is HttpServletResponse to me more precise  \ntmortagne - (16:29): maybe it's possible to cancel a redirect after the call to getRenderedContent  \ntmortagne - (16:31): could try calling sendRedirect(null) maybe  \nspliffy left at 16:32 (Ping timeout: 260 seconds  \nspliffy joined #xwiki at 16:32  \nflaviusolaru - (16:33): tmortagne: this also cancels the execution in velocity  \ntmortagne - (16:34): but it's possible the first sendRedirect answer to the client right away  \ntmortagne - (16:34): flaviusolaru: WDYM ?  \nflaviusolaru - (16:34): tmortagne: now the returned page is completely blank  \nflaviusolaru - (16:34): tmortagne: not even html tag  \ntmortagne - (16:35): what is \"this\"  \ntmortagne - (16:35): ?  \nrrodriguez left at 16:36 (Quit: rrodriguez  \nflaviusolaru - (16:36): $response.sendRedirect($xwiki.null) right after #set($text = $mydoc.getRenderedContent())  \ntmortagne - (16:37): it's possible sendRedirect modify several things like putting size of the response to 0 or something like that  \ntmortagne - (16:37): i don't know it very well  \nflaviusolaru - (16:38): thanks tmortagne, i will try by setting a dummy HttpServletResponse in context before using getRenderedContent  \nvmassol - (16:38): guys, what's the eta for the release?  \nvmassol - (16:38): sdumitriu: ?  \ntmortagne - (16:39): flaviusolaru: you can use com.xpn.xwiki.web.XWikiServletResponseStub  \nvmassol - (16:39): we're only missing the multiwiki thing for AS?  \nsdumitriu - (16:39): vmassol: Checking the build before committing  \nsdumitriu - (16:39): Should be done in 30 minutes  \nvmassol - (16:40): sdumitriu: ok good, anything else remaining after that?  \nvmassol - (16:40): (checking that tests pass of course)  \ntmortagne - (16:40): flaviusolaru: it's maybe possible to \"unset\" $response velocity variable, so that $response.sendRedirect do nothing  \nsdumitriu - (16:40): Not on my side  \nsdumitriu - (16:41): We might want to look into the JS error that sburjan` reported  \ntmortagne - (16:41): like when you call a method that does no exist on some object in velocity  \nvmassol - (16:41): sdumitriu: ok I'll start the release tomorrow morning first thing  \nvmassol - (16:41): please have a look at teh functional tests after your commits  \nvmassol - (16:42): to ensure we have no regressions  \nvmassol - (16:42): (web standard tests, etc)  \nvmassol - (16:42): and so that I can start tomorrow morning  \nsdumitriu - (16:44): Sure  \nqwebirc51292 - (16:51): Re, im back with my JDK error...  \nqwebirc51292 - (16:54): Only image resize doesnt be display, all other work  \nsdumitriu - (16:54): Are you sure the server has X?  \nqwebirc51292 - (16:54): gdm?  \nqwebirc51292 - (16:55): im not sure understand your question  \nsdumitriu - (16:56): Try adding -Djava.awt.headless=true \u00a0in CATALINA\\_OPTS or JAVA\\_OPTS inside /etc/init.d/tomcat5.5  \nqwebirc51292 - (16:58): have this: JAVA\\_OPTS=\"-Djava.awt.headless=true -Xmx1024M\"  \nsdumitriu - (17:00): Yes  \nsdumitriu - (17:00): Was it there already?  \nsdumitriu - (17:00): Or you just added it?  \nrrodriguez joined #xwiki at 17:00  \nqwebirc51292 - (17:00): Already there  \nsdumitriu - (17:01): Then try removing it :)  \nqwebirc51292 - (17:01): No ! My Xmx parameter  \nqwebirc51292 - (17:02): ok i ty  \nsdumitriu - (17:02): Ah, yes, I was talking about the headless parameter  \nqwebirc51292 - (17:02): ok, i put False?  \nsdumitriu - (17:02): Yes  \nqwebirc51292 - (17:04): Wrapped Exception: \u00a0java.lang.NoClassDefFoundError at com.sun.imageio.plugins.jpeg.JPEGImageReaderSpi.createReaderInstance(JPEGImageReaderSpi.java:89)  \nqwebirc51292 - (17:04): same result  \nsdumitriu - (17:05): Hold on  \nsdumitriu - (17:06): Is this error displayed in the browser?  \nqwebirc51292 - (17:06): yes, firefox  \nsdumitriu - (17:06): Ctrl+U  \nsdumitriu - (17:07): Copy the message from the source  \nsdumitriu - (17:07): I think it should look different  \nqwebirc51292 - (17:07): when i right click on my pics (Who is not display), and i left click on \"display pic\"  \nqwebirc51292 - (17:09): http://pastebin.com/8pnLiqpv  \nevalica left at 17:15 (Quit: Leaving.  \nqwebirc51292 - (17:15): Its possible a class is missing in my JVM?  \nsdumitriu - (17:17): Yes  \nqwebirc51292 - (17:17): just resize of image cant be display  \nqwebirc51292 - (17:18): images are display without resize  \nqwebirc51292 - (17:18): Reinstall JVm can solve this?  \nEnygma` left at 17:18 (Ping timeout: 245 seconds  \ntmortagne - (17:20): qwebirc51292: try to install jdk if you only have the jvm  \ntmortagne - (17:20): s/jvm/jre/  \nsilviar left at 17:20 (Read error: Connection reset by peer  \nsdumitriu - (17:21): OK, the missing class is com.sun.imageio.plugins.jpeg.JPEGImageReader  \nqwebirc51292 - (17:21): with this: apt-get install java-package  \nsdumitriu - (17:22): Which is weird, since com.sun.imageio.plugins.jpeg.JPEGImageReaderSpi exists  \nsdumitriu - (17:22): It looks like a broken setup  \nsdumitriu - (17:23): Try reinstalling the JDK  \nqwebirc51292 - (17:23): apt-get install java-package?  \ntmortagne - (17:24): sun-java5-jdk  \ntmortagne - (17:24): apt-get install \u00a0sun-java5-jdk  \ntmortagne - (17:25): or  \ntmortagne - (17:25): apt-get install \u00a0sun-java6-jdk  \nqwebirc51292 - (17:25): thx. i need to remove it before  \nqwebirc51292 - (17:25): i will ty java6  \ntmortagne - (17:26): (i personally recommend\u00a0 using java6)  \nqwebirc51292 - (17:26): its really long to download with my connection  \nqwebirc51292 - (17:26): BB tomorrow  \nqwebirc51292 - (17:27): Again a big thx, you are all really smart !  \nqwebirc51292 - (17:27): bye  \ntmortagne - (17:30): qwebirc51292: bye  \ncjdelisle left at 17:38 (Ping timeout: 255 seconds  \njbrBridge left at 17:39 (Ping timeout: 264 seconds  \nsburjan` - (17:39): vmassol: have you been able to see what fails the epic test ?  \nvmassol - (17:39): sburjan`: getting closer but slowly  \nvmassol - (17:41): for some reason window.activeDocExtraTab becomes undefined from time to time (just before the click)  \nsburjan` - (17:43): odd .. because commentsTest use the tab too, but those don't fail  \nvmassol - (17:44): comments are the default  \nvmassol - (17:44): (default tab)  \nuser\\_\\_ joined #xwiki at 18:10  \njbrBridge joined #xwiki at 18:15  \njbrBridge left at 18:17 (Client Quit  \nuser\\_\\_ left at 18:17 (Quit: leaving  \njvelociter - (18:18): sdumitriu: got exceptions on the dashboard page on trunk  \njvelociter - (18:18): Wrapped Exception: unexpected token: 1 near line 1, column 108 [select act.page, max(act.date) from com.xpn.xwiki.plugin.activitystream.impl.ActivityEventImpl as actwhere 1=1 and act.space in ('Reader') and act.wiki in ('xwiki') and not (act.version not like '%.1' and act.type = 'update') group by act.page order by 2 desc]  \ncjdelisl1 joined #xwiki at 18:20  \ncjdelisle joined #xwiki at 18:21  \ncjdelisl1 left at 18:25 (Quit: leaving  \njbrBridge joined #xwiki at 18:29  \njbrBridge left #xwiki at 18:29  \njbrBridge joined #xwiki at 18:30  \nfmancinelli left at 18:32 (Ping timeout: 255 seconds  \ncjdelisle - (18:34): !shutdown  \nsdumitriu - (18:34): jvelociter: Lookin  \nsdumitriu - (18:34): g  \nrrodriguez left at 18:34 (Quit: rrodriguez  \nsdumitriu - (18:34): jvelociter: My bad  \nsdumitriu - (18:35): Fixed  \nflaviusolaru left at 18:38 (Quit: Leaving.  \nmflorea left at 18:59 (Quit: Leaving.  \nvmassol left at 19:05 (Ping timeout: 255 seconds  \nlucaa left at 19:11 (Ping timeout: 240 seconds  \nvmassol joined #xwiki at 19:21  \nfmancinelli joined #xwiki at 19:24  \nvmassol left at 19:26 (Ping timeout: 276 seconds  \nvmassol joined #xwiki at 19:31  \nvmassol left at 19:39 (Ping timeout: 250 seconds  \nvmassol joined #xwiki at 19:40  \narkub left at 19:55 (Quit: Leaving  \nflorinciu left at 20:24 (Quit: Leaving.  \ntmortagne left at 20:25 (Ping timeout: 245 seconds  \njvdrean left at 20:53 (Quit: Leaving.  \nnpm joined #xwiki at 20:53  \nnpm\\_\\_ left at 20:57 (Ping timeout: 252 seconds  \ncjdelisle - (20:59): I'm going to add ``Files Found Trigger'' and ``Hudson Centralized Job(Re)Action plugin'' and restart hudson.  \ncjdelisle - (20:59): [if no complaints]  \nmflorea joined #xwiki at 21:24  \nmflorea left at 21:39 (Quit: Leaving.  \nrrodriguez joined #xwiki at 22:14  \nflorinciu joined #xwiki at 22:15  \nharro joined #xwiki at 22:26  \nharro is now known as kaitwin (ae722140@gateway/web/freenode/ip.174.114.33.64  \nkaitwin left #xwiki at 22:31  \nfmancinelli left at 22:44 (Ping timeout: 240 seconds  \nflorinciu left at 22:44 (Read error: Connection reset by peer  \nlucaa joined #xwiki at 23:02  \nsdumitriu left at 23:30 (Ping timeout: 240 seconds  \nvmassol left at 23:34 (Ping timeout: 245 seconds  \nsdumitriu joined #xwiki at 23:43  \nrrodriguez left at 23:59 (Quit: rrodriguez  \n\n"}