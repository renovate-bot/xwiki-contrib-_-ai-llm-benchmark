{"id": "dev:IRC.xwikiArchive20100901", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100901", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nabusenius left at 00:56 (Quit: Konversation terminated!  \njbrBridge - (01:54): [Ricardo Rodr&#xED;guez] I'm stuck with a doubt here about global users and virtual wikis. Anybody able to help? Thanks!  \nlucaa left at 02:03 (Ping timeout: 265 seconds  \njvelociter - (02:11): jbrBridge: what's your question ?  \njbrBridge - (02:12): [Ricardo Rodr&#xED;guez] thanks, Jerome. Must I be able to add a Global User to a local group in a virtual wiki?  \njvelociter - (02:13): yes. though we fixed a bug recently regarding this  \njvelociter - (02:14): I think in 2.3.something  \njvelociter - (02:14): let me check  \njvelociter - (02:15): OK, somebody reported this today : http://jira.xwiki.org/jira/browse/XAADMINISTRATION-167 but that was not waht I had in mind  \njbrBridge - (02:15): [Ricardo Rodr&#xED;guez] working with 2.4.30451 here  \njbrBridge - (02:15): [Ricardo Rodr&#xED;guez] I'll check this issue  \njvelociter - (02:16): what I had in mind was this one : XWIKI-4566  \njvelociter - (02:16): (which I hit not very long ago, but upgrading to 2.4 fixed the issue)  \njbrBridge - (02:17): [Ricardo Rodr&#xED;guez] I'm having similar problems working with a clean 2.4.30451 installation. I'll check this JIRA issues and come back with more info.  \njbrBridge - (02:18): [Ricardo Rodr&#xED;guez] The first problem I detected was that the groups and users lists generation stuck the first time that an user access them.  \njbrBridge - (02:18): [Ricardo Rodr&#xED;guez] I don't know if this is a related issue, but it happens consistently  \njbrBridge - (02:21): [Ricardo Rodr&#xED;guez] I'll do some Firebug research and use several Internet browsers. Thanks for pointing me toward this JiRA issues.  \njvelociter - (02:35): ok, Thanks for the investigation Ricardo  \nsdumitriu left at 04:41 (Read error: Operation timed out  \nsdumitriu joined #xwiki at 07:16  \nvmassol joined #xwiki at 07:40  \nlucaa joined #xwiki at 07:52  \nmflorea joined #xwiki at 07:59  \nvmassol left at 08:00 (Quit: Leaving.  \nsilviar joined #xwiki at 08:46  \nlucaa left at 08:57 (Quit: Leaving.  \nsburjan joined #xwiki at 09:13  \nsilviar left at 09:19 (Quit: Leaving.  \nsilviar joined #xwiki at 09:23  \nlpereira joined #xwiki at 09:24  \nevalica joined #xwiki at 09:26  \narkub joined #xwiki at 09:38  \nflorinciu joined #xwiki at 09:40  \nlpereira1 joined #xwiki at 09:42  \nlpereira left at 09:42 (Read error: Connection reset by peer  \nvmassol joined #xwiki at 09:44  \nsburjan - (09:53): sdumitriu, cjdelisle \u00a0: ping  \ncjdelisle - (09:53): pong  \nsburjan - (09:54): I still found a issue regarding lucene  \nsburjan - (09:54): but unable to reproduce it  \nsburjan - (09:54): I'll give you the stack trace  \ncjdelisle - (09:58): http://pastebin.com/TyKCTcur  \nsburjan - (09:58): yes, that  \ncjdelisle - (09:59): Probably something else caused by my change. Debugging...  \ncjdelisle - (10:02): doc.getAttachment(this.filename);  \ncjdelisle - (10:02): Returning null.  \ncjdelisle - (10:03): brb need a coffee.  \nKermitTheFragger joined #xwiki at 10:08  \nxwikibot joined #xwiki at 15:44  \nvmassol - (15:44): (restarted the bot)  \nsburjan - (15:48): cjdelisle, : from what version Invitation App is bundled ?  \nMartinCleaver joined #xwiki at 15:57  \nMartinCleaver left at 15:57 (Excess Flood  \nsilviar left at 16:02 (Quit: Leaving.  \nMartinCleaver joined #xwiki at 16:04  \nlucaa - (16:07): guys, I need a little advice. I'm trying to implement the dashboard macro as described at http://dev.xwiki.org/xwiki/bin/view/Design/GadgetIntegration#HOption429Columnmacroforlayouting2Cdashboardextendscolumnmacro  \nlucaa - (16:07): and I would need to be able to filterout all wiki content in the columns (the column macro) which is not a macro call  \nlucaa - (16:07): my idea is that I would extend the section macro with a dashboard macro, to mark that the specific columned section is a dashboard  \nlucaa - (16:08): but how could I make sure that the columns content is correct?  \nlucaa - (16:09): I see 2 options:  \nlucaa - (16:09): 1/ create a dashboard column macro which will handle filtering  \nlucaa - (16:09): 2/ transform all the subtree in the dashboard macro, and filter  \nlucaa - (16:09): any ideas?  \nsburjan - (16:10): http://jira.xwiki.org/jira/browse/XE-706  \nvenkatesh left at 16:15 (Ping timeout: 276 seconds  \njvelociter - (16:16): lucaa: wdym bu make sure columns content is correct ?  \nlucaa - (16:16): well, the idea would be that the content is wiki content, but all the stuff which are not macro calls (gadget macro calls) are ignored and not rendered  \nlucaa - (16:17): and I was thinking to do this \"filtering\" in the dashboard macro, somehow  \nlucaa - (16:17): as in, only when the column is in a dashboard macro, it will have this behaviour  \njvelociter - (16:18): I think thomas added an API to remove blocks  \nlucaa - (16:18): ok, that's great, I didn't know that can be a problem  \njvelociter - (16:19): (I did that already before the API exist, by calling something like parentBlock.removeChildren)  \nlucaa - (16:19): but my question would be how to approach the filtering, since the column macro, by default just returns all its content  \njvelociter - (16:19): are we sure we want to forbid to have anything else than macros under the dashboard ?  \nlucaa - (16:19): I should  \nlucaa - (16:19): 3/ modify the column macro and make it aware of its parent  \nlucaa - (16:20): well, we wouldn't be able to edit anything, so I would say yes, forbid it  \nlucaa - (16:20): e.g. I wouldn't know how we could handle, from the dashboard editor, some plain xwiki text  \njvelociter - (16:20): I would think the UI should prevent you to do that, but if you really want to do it by hand it should not strip your content  \njvelociter - (16:21): anyway, IMO it should be the parent macro that do the filtering  \nlucaa - (16:21): yes, but how ?  \njvelociter - (16:21): not the column that explore upper the tree  \nlucaa - (16:22): yes, but how would the parent do it?  \nlucaa - (16:22): the column XDOM is not \"expanded\" at the execution of the section/dashboard macro  \nlucaa - (16:22): so I cannot reach the contents  \njvelociter - (16:22): right, it's executed before the cu=olumn  \nlucaa - (16:22): yep  \njvelociter - (16:22): column  \nlucaa - (16:22): so, see my 2 solutions above  \nlucaa - (16:22): is there any solution that I am missing?  \njvelociter - (16:23): you can either force the rendering of the columns  \njvelociter - (16:23): yes, 3rd option is to have a dedicated Tx  \nlucaa - (16:23): explain a bit more  \nlucaa - (16:23): dedicated Tx?  \njvelociter - (16:24): rendering transformation  \njvelociter - (16:24): that would execute after the macro transformation  \njvelociter - (16:24): and do the cleanup  \nlucaa - (16:25): you mean independent of the dashboard macro, it would just explore the XDOM of the page and handle this filtering  \njvelociter - (16:25): yes  \nlucaa - (16:26): yes, that's an idea as well  \njvelociter - (16:26): not sure it's better, but it would work  \njvelociter - (16:26): I don't like he option of the column macro doing the cleanup  \njvelociter - (16:26): the other 2 are more elegant IMHO  \nlucaa - (16:26): me neither, column macro should not be parent aware  \nsburjan - (16:31): cjdelisle, : should I report a JIRA issue regarding the orphan page ?  \ncjdelisle - (16:31): I just found and fixed it.  \ncjdelisle - (16:32): Thanks for continuing to remind me, I can forget easily ;)  \nsburjan - (16:32): okay :)  \nsburjan - (16:32): no problem  \ncjdelisle - (16:32): The problem was with an automatically generated document so checking all of the documents with grep did not yield the problem.  \nsburjan - (16:32): so you fixed the lucene bug too ?  \ncjdelisle - (16:34): It hasn't shown up since I fixed another bug :/  \ncjdelisle - (16:35): It's nature makes it look like a very hard to detect concurrency bug but I think it was just the other bug which I fixed.  \nasrfel left at 16:36 (Quit: Leaving.  \ncjdelisle - (16:36): I just built the latest and I'm running the tests, the AttachmentTest seems to cause that stack trace sometimes so I will run it a couple times over.  \nlucaa - (16:38): cjdelisle: I just looked at the orphaned InvitationConfig page...  \nlucaa - (16:38): and I don't really understand, why is it generated?  \ncjdelisle - (16:39): Because if it already exists and the user imports it then their configuration is wiped.  \nlucaa - (16:39): but this is the problem for all xwiki applications  \nlucaa - (16:39): and the solution is the application manager, not this, I would say  \nlucaa - (16:40): I mean, yeah, it fixes it, but it's not \\_THE\\_ solution  \ncjdelisle - (16:40): I agree. If we had something working I definitely would have used it.  \nlucaa - (16:40): how about applications which don't have java backend to generate the config objs? How would these fix it?  \ncjdelisle - (16:40): \"don't have java backend\"? This is done entirely with velocity.  \ncjdelisle - (16:41): Invitation doesn't have any java code.  \nlucaa - (16:41): ok  \nlucaa - (16:41): how with velocity?  \nlucaa - (16:41): I mean when is the document created?  \ncjdelisle - (16:41): On first load of the Invitation.WebHome document  \nlucaa - (16:42): and when would that happen?  \nlucaa - (16:42): I would assume not when user accesses it, right?  \ncjdelisle - (16:42): Correct, or when the user views the configuration page.  \nlucaa - (16:43): because, the configuration class is the Invitation.WebHome?  \nlucaa - (16:43): or why?  \nlucaa - (16:43): (because that is another thing which I find at least non-semantic, to use a delicate word)  \ncjdelisle - (16:44): It's another ugly hack which includes the WebHome when the config page is loaded.  \ncjdelisle - (16:45): I have been meaning to work on an application for handling import upgradability but If I handled everything correctly for each project then I would be rewriting xwiki-core.  \nlucaa - (16:47): well anyway, all I don't like about all these (that I said above) is that they're hacky and inconsistent  \nlucaa - (16:47): I prefer that all applications have the same type of bugs (config wiped out on upgrade) than that they are inconsistent  \nlucaa - (16:47): that's only my personal opinion  \ncjdelisle - (16:48): I agree it's a hack. I actually ripped the idea from the search application.  \nlucaa - (16:48): really?  \nlucaa - (16:48): so it becomes consistent now...  \nlucaa - (16:48): :)  \ncjdelisle - (16:49): Consistently ugly.  \ncjdelisle - (16:49): But it doesn't burn the user on upgrade. We really should talk about how to fix this right though, I'm glad you reminded me.  \nlucaa - (16:51): I think it's burning more the user on upgrades in general if it's gonna magically work fine for some applications and for others not  \nlucaa - (16:51): (which is why consistency rocks, it allows people to learn)  \nlucaa - (16:52): well I see here: https://svn.xwiki.org/svnroot/xwiki/platform/xwiki-applications/trunk/search/src/main/resources/XWiki/ that in the case of the search app the config class is stored in a dedicated document (following the general rule of xwiki apps)  \nlucaa - (16:53): so one less hack  \ncjdelisle - (16:53): Same with Invitation.InvitationConfig.  \ncjdelisle - (16:54): On the other hand the user suddenly has to save out more and more documents, they will probably be bitten by the new ones.  \ncjdelisle - (16:54): The real answer is a mechanism to revert the configuration documents.  \ncjdelisle - (16:54): revert or prevent import.  \nlucaa - (16:55): I would say the real answer is a merge + prevent import or asking the user (as ubuntu does with modified config files on upgrade, for example)  \ncjdelisle - (16:56): \"config class\" ahh yes. the class is WebHome after all.  \ncjdelisle - (16:58): Actually, IMO there needs to be the ability to run import scripts. Scripts which run before or after import have always been in redhat rpms. I think they're present in deb package files aswell.  \nsburjan left at 17:03 (Ping timeout: 240 seconds  \nlpereira1 left at 17:04 (Quit: Leaving.  \nflaviusolaru left at 17:09 (Quit: Leaving.  \nlucaa - (17:15): that is an approach  \nsdumitriu - (17:26): sburjan`: I'm available now  \nlucaa - (17:28): sdumitriu: sburjan` just left, I guess he will be back soon from his place...  \nkwoot joined #xwiki at 17:30  \nkwoot - (17:30): simple question: where can I find how many pages I have in my wiki? or in separate spaces?  \nkwoot left #xwiki at 17:31  \nlucaa left at 17:34 (Ping timeout: 276 seconds  \nvmassol - (17:47): anyone working on XE-700 ?  \nsburjan` - (17:51): sdumitriu : I'm at home .. just wanted to tell you I reported 2 JIRA bugs .. one on the XEM and onether regarding some inconsistencies in the UI  \njvelociter - (18:02): vmassol: no I don't think so. I discussed it quickly with thomas ydaym he was saying continuing supporting this might not be very easy  \njvelociter - (18:02): (was working because of a bug, previously)  \nvmassol - (18:02): hmm  \njvelociter - (18:02): though for luis it appears as a regression, of course  \nvmassol - (18:03): yep  \nvmassol - (18:03): (for his users)  \njvelociter - (18:03): IMHO we need to decide if we invest in it, and if not we should probably provide the migration script  \njvelociter - (18:03): (or include a migrator that does it automatically)  \nvmassol - (18:04): ok, I'll talk to thomas when he's online about it  \nvmassol - (18:05): thanks  \njvelociter - (18:06): btw sburjan` XEM-175 is probably a XWIKI issue, not a XEM issue  \njvelociter - (18:06): (XEM project is mostly packaging)  \njvelociter - (18:07): you can ping thomas about it tomorrow, he'll tell you if you have to move it to the XWIKI project  \nlucaa joined #xwiki at 18:23  \nSvenDowideit left at 18:26 (Ping timeout: 265 seconds  \nSvenDowideit\\_ joined #xwiki at 18:26  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nvmassol left at 18:30 (Quit: Leaving.  \nmflorea left at 18:51 (Quit: Leaving.  \nlucaa left at 19:16 (Ping timeout: 258 seconds  \nMartinCleaver left at 19:52 (Quit: MartinCleaver  \nevalica1 joined #xwiki at 20:09  \nevalica1 left at 20:09 (Client Quit  \nevalica left at 20:12 (Ping timeout: 272 seconds  \nMartinCleaver joined #xwiki at 20:15  \nmflorea joined #xwiki at 20:54  \nKermitTheFragger left at 21:14 (Ping timeout: 240 seconds  \nvmassol joined #xwiki at 21:23  \nKermitTheFragger joined #xwiki at 21:35  \nKermitTheFragger left at 21:37 (Read error: Connection reset by peer  \nabusenius joined #xwiki at 22:06  \nlpereira joined #xwiki at 22:11  \nlpereira left at 22:36 (Quit: Leaving.  \nvmassol left at 23:07 (Quit: Leaving.  \nMartinCleaver\\_ joined #xwiki at 23:14  \nMartinCleaver left at 23:17 (Ping timeout: 260 seconds  \nMartinCleaver\\_ is now known as MartinCleaver (~martincle@foswiki/developer/MartinCleaver  \nMartinCleaver left at 23:40 (Quit: MartinCleaver  \n\n"}