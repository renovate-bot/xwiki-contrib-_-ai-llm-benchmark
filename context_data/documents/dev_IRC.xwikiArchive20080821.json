{"id": "dev:IRC.xwikiArchive20080821", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20080821", "title": "IRC Archive for channel #xwiki on 21 August 2008 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nxwikibot - (21/08/2008 09:48): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 09:51): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 09:52): XWiki.hanoli1446 was modified by XWiki.hanoli1446 (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/hanoli1446  \nxwikibot - (21/08/2008 09:52): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 09:55): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 09:58): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 09:59): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nvmassol - (21/08/2008 10:35): morning everyone  \nvmassol - (21/08/2008 10:35): thomasmortagne: we have a memory leak in our rendering tests somewhere... I'll try to fix it  \ndaning - (21/08/2008 10:35): vmassol: morning.  \ndaning - (21/08/2008 10:36): vmassol: actually, it's 4:36 am in my region ;)  \nthomasmortagne - (21/08/2008 10:36): vmassol: ok  \nxwikibot - (21/08/2008 10:36): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nvmassol - (21/08/2008 10:36): thomasmortagne: It's easting 64M after all tests run...  \nthomasmortagne - (21/08/2008 10:37): vmassol: it's a lot yes  \nthomasmortagne - (21/08/2008 10:37): we don't have any per-lookup compnent ?  \nvmassol - (21/08/2008 10:37): thomasmortagne: nope :) I thought about this already   \nthomasmortagne - (21/08/2008 10:37): ok  \nvmassol - (21/08/2008 10:37): I think it must some map that keeps growing or something  \nvmassol - (21/08/2008 10:38): it may be in the testing framework itself  \nvmassol - (21/08/2008 10:38): I'll run some profiling  \nvmassol - (21/08/2008 10:38): daning: I've implemented a first version of converting XHTML links to wiki syntax  \nvmassol - (21/08/2008 10:39): daning: but I've found 2 issues with the wikimodel XHTML parser so it's not perfect yet but it should be working for your needs  \ndaning - (21/08/2008 10:39): vmassol: OK. I will see it later. I'm working on the document and code clean.  \nvmassol - (21/08/2008 10:39): daning: do you know what's the format of the URL you get after the conversion?  \ndaning - (21/08/2008 10:39): vmassol: a normal <a> tag. I think.  \nvmassol - (21/08/2008 10:39): daning: yes I know but what's the HREF value?  \nvmassol - (21/08/2008 10:40): (I want to make sure I handle the urls correctly)  \ndaning - (21/08/2008 10:40): vmassol: Most of the href is the absolute url. If this have some index in the document, there will be some inpage link like <a href=#chaper1>  \nvmassol - (21/08/2008 10:41): daning: ok then it should work fine, except that absolute url will currently not get converted to wiki link syntax but that's ok I think  \nvmassol - (21/08/2008 10:42): so you'll get something like: [[http://...]]  \ndaning - (21/08/2008 10:42): the absolute url can have http:// or without it, just \"www.url.com\"  \nvmassol - (21/08/2008 10:42): anchors will work fine too so that's cool  \ndaning - (21/08/2008 10:42): vmassol: yes. That enough for now, I think.  \ndaning - (21/08/2008 10:42): how about the target attribute.  \ndaning - (21/08/2008 10:43): <a href=\"url\" target=\"\\_blank\">  \nvmassol - (21/08/2008 10:43): daning: that's http://code.google.com/p/wikimodel/issues/detail?id=39 :)  \nvmassol - (21/08/2008 10:43): btw it should be target but rel  \nvmassol - (21/08/2008 10:43): so we'll need to make the conversion in the HTMLCleaner  \nvmassol - (21/08/2008 10:44): s/should/shouldn't/  \ndaning - (21/08/2008 10:44): vmassol: OK.  \nvmassol - (21/08/2008 10:44): target doesn't exist in XHTML  \ndaning - (21/08/2008 10:46): vmassol: But read this page.http://www.w3schools.com/tags/tag\\_a.asp. the target exist.  \nvmassol - (21/08/2008 10:49): daning: you need to read better :)  \nvmassol - (21/08/2008 10:49): see the rightmost column  \nvmassol - (21/08/2008 10:49): it says TF  \nvmassol - (21/08/2008 10:49): there's no S  \nvmassol - (21/08/2008 10:49): which means it's not supported by XHTML 1.0  \ndaning - (21/08/2008 10:50): vmassol: sorry.  \nvmassol - (21/08/2008 10:50): np :)  \nxwikibot - (21/08/2008 10:53): Design.OfficeConverter was modified by xwiki:XWiki.daning - http://dev.xwiki.org/xwiki/bin/view/Design/OfficeConverter  \nxwikibot - (21/08/2008 11:06): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 11:07): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 11:09): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 11:10): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 11:10): Drafts.Documenting XWiki Velocity Macros was modified by xwiki:XWiki.LudovicDubost - http://dev.xwiki.org/xwiki/bin/view/Drafts/Documenting+XWiki+Velocity+Macros  \nxwikibot - (21/08/2008 11:15): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 11:17): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nvmassol - (21/08/2008 12:04): memory leak fixed!  \nxwikibot - (21/08/2008 12:14): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 12:18): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 12:22): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (Data has been added) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 12:31): XWiki.Test Page was modified by XWiki.VidyaKhairnar - http://www.xwiki.org/xwiki/bin/view/XWiki/Test+Page  \nxwikibot - (21/08/2008 12:31): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (deleted document) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 12:45): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 12:49): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 13:46): XWiki.VidyaKhairnar was modified by XWiki.VidyaKhairnar - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nvmassol - (21/08/2008 14:23): daning: I'm applying your patch on wikimodel and xwiki  \nvmassol - (21/08/2008 14:23): daning: I think there's a mistake in that you've added support for <s> in wikimodel  \nvmassol - (21/08/2008 14:23): daning: since <s> is not supported in XHTML  \nvmassol - (21/08/2008 14:24): same for <strike>  \nvmassol - (21/08/2008 14:25): anyway I'll leave it for now till we get an answer from mikhail (wikimodel) but I think it's wrong since the parser in wikimodel is a XHTML parser and not a HTML one  \nvmassol - (21/08/2008 14:26): however we must have support for <span class=\"underline\"> in wikimodel somehow  \nvmassol - (21/08/2008 14:26): and in our HTMLCleaner we should convert <s> and <strike> into <span class=\"underline\">  \nvmassol - (21/08/2008 14:26): wdyt?  \nvmassol - (21/08/2008 14:27): same for <u>  \nxwikibot - (21/08/2008 14:31): Features.XMLRPC was modified by xwiki:XWiki.LudovicDubost - http://platform.xwiki.org/xwiki/bin/view/Features/XMLRPC  \nxwikibot - (21/08/2008 14:36): Features.XMLRPC was modified by xwiki:XWiki.LudovicDubost - http://platform.xwiki.org/xwiki/bin/view/Features/XMLRPC  \ndaning - (21/08/2008 14:37): vmassol: Do the <span class=\"underline\"> is the stand way to show underline in the xhtml?  \nxwikibot - (21/08/2008 14:37): Features.XMLRPC was modified by xwiki:XWiki.LudovicDubost - http://platform.xwiki.org/xwiki/bin/view/Features/XMLRPC  \nvmassol - (21/08/2008 14:37): daning: there's no standard way  \nvmassol - (21/08/2008 14:38): daning: but wikimodel should provide a way to emit some event for span elements somehow. We need to talk to Mikhail aboutt his since I don't know how this can be done  \ndaning - (21/08/2008 14:38): vmassol: so I think this is the matter about how to parser class in the wikimodel  \nBC-bd - (21/08/2008 14:41): is there a way to restrict uploading to certein file types? e.g. forbid .exe or application/executeable?  \nBC-bd - (21/08/2008 14:42): s/certein/certain/  \nvmassol - (21/08/2008 14:44): BC-bd: yes by creating a plugin that intercepts the attachment. It's very easy to do  \nvmassol - (21/08/2008 14:45): (but requires java programming)  \nvmassol - (21/08/2008 14:45): there's no OOB configuration AFAIK  \nBC-bd - (21/08/2008 14:57): vmassol: can you give me an url that would get me started on this? plugin api? and what to intercept?  \nvmassol - (21/08/2008 14:58): BC-bd: for writing plugins see the plugin tutorial on http://platform.xwiki.org/xwiki/bin/view/DevGuide/  \nvmassol - (21/08/2008 14:58): BC-bd: and the api you need to implement in your plugin is \u00a0\u00a0\u00a0\u00a0XWikiAttachment downloadAttachment(XWikiAttachment attachment, XWikiContext context);   \nBC-bd - (21/08/2008 14:59): vmassol: thanks  \nvmassol - (21/08/2008 14:59): BC-bd: only thing I'm not sure about is how do you cancel the download. The downloadAttachment takes an attachment and generates a transformed one  \nvmassol - (21/08/2008 15:00): I don't know what happens if you return null for example  \nvmassol - (21/08/2008 15:00): checking  \nvmassol - (21/08/2008 15:01): not good, you'll get a NPE if you do  \nBC-bd - (21/08/2008 15:01): NPE?  \nvmassol - (21/08/2008 15:01): so I don't think there's a way currently to cancel the download   \nvmassol - (21/08/2008 15:01): NullPointerException  \nvmassol - (21/08/2008 15:02): only thing you can do is replace it with something else I think  \nvmassol - (21/08/2008 15:02): so your other option is to act on the download attachment vm file  \nBC-bd - (21/08/2008 15:02): e.g. not display it?  \nvmassol - (21/08/2008 15:03): hmm no you're right that won't work. I was thinkig about intercepting it  \nvmassol - (21/08/2008 15:03): but that's done in the core code  \nvmassol - (21/08/2008 15:03): BC-bd: hehe  \nvmassol - (21/08/2008 15:04): ok I don't know how to do it. I'd need to research it  \nvmassol - (21/08/2008 15:04): you could try asking on the list maybe?  \nBC-bd - (21/08/2008 15:04): vmassol: dev list?  \nvmassol - (21/08/2008 15:04): users one should be ok  \nvmassol - (21/08/2008 15:04): but yes a jira for filtering attachments might be good too  \nBC-bd - (21/08/2008 15:04): ok so lets start on the users list.  \nBC-bd - (21/08/2008 15:05): let me see what comes out of me asking  \nBC-bd - (21/08/2008 15:05): but i'll keep it in mind  \nBC-bd - (21/08/2008 15:05): not sure on how to filter though, because extensions can be changed, e.g. .zip => .zup  \nBC-bd - (21/08/2008 15:05): so we would need something like mim filtering  \nBC-bd - (21/08/2008 15:05): mime even  \nvmassol - (21/08/2008 15:22): daning: patch applied. I think we'll have to fix the code when wikimodel applies the patch. Anyway applied for now but we need to be prepared to modify our code.  \ngpaul44 - (21/08/2008 15:22): vmassol: I was thinking...there are some selenium tests that need a little bit of update: meaning: DocExtraTest doesn't have a setUp method...and others like that...  \ngpaul44 - (21/08/2008 15:23): wdyt ?  \ngpaul44 - (21/08/2008 15:23): plus some all API(like open(\"/xwiki/.../Main\"))  \ngpaul44 - (21/08/2008 15:23): wdyt ?  \ngpaul44 - (21/08/2008 15:23): and I was thinking of updating  \nvmassol - (21/08/2008 15:24): gpaul44: yep sounds good  \ngpaul44 - (21/08/2008 15:25): I think I've fixed DocExtraTest...now I'm testing it  \nvmassol - (21/08/2008 15:26): ok  \nxwikibot - (21/08/2008 15:27): XWiki.Test Page was modified by XWiki.VincentMassol (deleted document) - http://www.xwiki.org/xwiki/bin/view/XWiki/Test+Page  \nxwikibot - (21/08/2008 15:27): XWiki.VidyaKhairnar was modified by XWiki.VincentMassol (deleted document) - http://www.xwiki.org/xwiki/bin/view/XWiki/VidyaKhairnar  \nxwikibot - (21/08/2008 15:28): XWiki.SharadaL was modified by XWiki.SharadaL (Created user) - http://www.xwiki.org/xwiki/bin/view/XWiki/SharadaL  \nasyd - (21/08/2008 15:28): \u007f/s 14  \nvmassol - (21/08/2008 15:33): asyd: could you explain all those numbers. You keep sending them every day (or almost every day) but I have no clue what they mean?  \nvmassol - (21/08/2008 15:33): :)  \nasyd - (21/08/2008 15:33): sure  \nasyd - (21/08/2008 15:34): \u00a0/s is an alias for chaning windows in my irc client  \nasyd - (21/08/2008 15:34): so somethines I miss the space, for sometimes du to lag the first / is interpreted as a character rather as a command :/  \nvmassol - (21/08/2008 15:35): ok :)  \nvmassol - (21/08/2008 15:35): my curiosity is satisfied  \nxwikibot - (21/08/2008 16:15): Development.WebHome was modified by xwiki:XWiki.lucaa - http://watch.xwiki.org/xwiki/bin/view/Development/  \nxwikibot - (21/08/2008 16:32): Development.SpeedingUp was modified by xwiki:XWiki.lucaa - http://watch.xwiki.org/xwiki/bin/view/Development/SpeedingUp  \nxwikibot - (21/08/2008 16:36): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 16:37): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 16:38): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 16:39): Development.SpeedingUp was modified by xwiki:XWiki.lucaa - http://watch.xwiki.org/xwiki/bin/view/Development/SpeedingUp  \nxwikibot - (21/08/2008 16:47): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 16:51): Development.SpeedingUp was modified by xwiki:XWiki.lucaa - http://watch.xwiki.org/xwiki/bin/view/Development/SpeedingUp  \nBBurns - (21/08/2008 16:55): hi, what would be the easiest way to allow a user to attach.pdf documents to a page and for those documents to be access protected?  \nvmassol - (21/08/2008 16:56): BBurns: modifying the vm that displays the attachments I guess  \nBBurns - (21/08/2008 16:57): vmassol: but would there be anything to stop a registered user logging on, viewing the document and then emailing the link to a friend  \nBBurns - (21/08/2008 16:57): couldn't the friend just go to the link and view the document without any log in?  \nvmassol - (21/08/2008 16:57): BBurns: ok then you need to implement a plugin  \nvmassol - (21/08/2008 16:57): and override the method downloadAttahcments()  \nvmassol - (21/08/2008 16:57): in there you can do a check  \nBBurns - (21/08/2008 17:03): vmassol: actually, I tried it and it doesn't seem to be a problem.   \nBBurns - (21/08/2008 17:03): if I upload an attachment to a wiki which requires a log in to view any page, is the attachment viewable by the general public?  \nxwikibot - (21/08/2008 17:13): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:14): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:16): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:17): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:23): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nasyd - (21/08/2008 17:43): ouaaa  \nasyd - (21/08/2008 17:43): vmassol: I just tried the last version of xwiki, very impressive !  \nasyd - (21/08/2008 17:44): (the new administration pages are really nice and useful)  \nxwikibot - (21/08/2008 17:46): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:49): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:50): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 17:51): Design.NewWysiwygEditorInterface was modified by xwiki:XWiki.GuillaumeLerouge - http://dev.xwiki.org/xwiki/bin/view/Design/NewWysiwygEditorInterface  \nxwikibot - (21/08/2008 17:51): Design.NewWysiwygEditorInterface was modified by xwiki:XWiki.GuillaumeLerouge - http://dev.xwiki.org/xwiki/bin/view/Design/NewWysiwygEditorInterface  \nxwikibot - (21/08/2008 18:00): Macros.WebHome was modified by xwiki:XWiki.StephaneBarbey - http://code.xwiki.org/xwiki/bin/view/Macros/  \nxwikibot - (21/08/2008 18:01): Macros.WebHome was modified by xwiki:XWiki.StephaneBarbey - http://code.xwiki.org/xwiki/bin/view/Macros/  \nxwikibot - (21/08/2008 18:01): Macros.WebHome was modified by xwiki:XWiki.StephaneBarbey - http://code.xwiki.org/xwiki/bin/view/Macros/  \nxwikibot - (21/08/2008 18:02): Macros.WebHome was modified by xwiki:XWiki.StephaneBarbey - http://code.xwiki.org/xwiki/bin/view/Macros/  \nvmassol - (21/08/2008 18:04): asyd: cool glad you like it :)  \nxwikibot - (21/08/2008 18:17): Design.NewWysiwygEditorInterface was modified by xwiki:XWiki.GuillaumeLerouge - http://dev.xwiki.org/xwiki/bin/view/Design/NewWysiwygEditorInterface  \nxwikibot - (21/08/2008 18:26): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \nxwikibot - (21/08/2008 18:27): UserGuide.WebHome was modified by xwiki:XWiki.ToussaintWattinne - http://enterprise.xwiki.org/xwiki/bin/view/UserGuide/  \ndaning - (21/08/2008 18:37): vmassol: Do I need to add license head in the my project?  \nvmassol - (21/08/2008 18:37): daning: ye  \nvmassol - (21/08/2008 18:37): s  \ndaning - (21/08/2008 18:38): vmassol: If there is a Class name in the javadoc, Should I use <code>classname</code> or {@link classname}?  \nvmassol - (21/08/2008 18:38): daning: @link is better since it creates a link  \ndaning - (21/08/2008 18:38): vmassol: got it.  \ndaning - (21/08/2008 18:39): vmassol: Do you add the license head by pasting it to every file or some more smart way?  \nvmassol - (21/08/2008 18:39): daning: pasting. That's easy enough  \ndaning - (21/08/2008 18:40): vmassol: OK.  \nvmassol - (21/08/2008 18:42): daning: well it's easy when you do it as you progress.... here you have to do it all at once  \nvmassol - (21/08/2008 18:42): daning: the smart way is to modify your IDE class template  \nvmassol - (21/08/2008 18:43): so that it adds it automatically when you create a new class  \ndaning - (21/08/2008 18:44): vmassol: OK. Thanks. I'll try it.  \nxwikibot - (21/08/2008 18:55): Design.NewWysiwygEditorInterface was modified by xwiki:XWiki.GuillaumeLerouge - http://dev.xwiki.org/xwiki/bin/view/Design/NewWysiwygEditorInterface  \nxwikibot - (21/08/2008 19:15): Design.NewWysiwygEditorInterface was modified by xwiki:XWiki.VincentMassol (Added TOC) - http://dev.xwiki.org/xwiki/bin/view/Design/NewWysiwygEditorInterface  \n\n"}