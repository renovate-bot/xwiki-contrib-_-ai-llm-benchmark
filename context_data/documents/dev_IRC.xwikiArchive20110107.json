{"id": "dev:IRC.xwikiArchive20110107", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110107", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:05\u00a0<lucaa>\u00a0has joined #xwiki  \n00:08\u00a0<evalica>\u00a0has quit  \n00:13\u00a0<lucaa1>\u00a0has joined #xwiki  \n00:15\u00a0<lucaa>\u00a0has quit  \n00:16\u00a0<lucaa>\u00a0has joined #xwiki  \n00:19\u00a0<lucaa1>\u00a0has quit  \n01:20\u00a0<sabageru>\u00a0has quit  \n01:53\u00a0<lucaa>\u00a0has quit  \n02:30\u00a0<abusenius>\u00a0has quit  \n04:16\u00a0<DrLou>\u00a0has quit  \n05:11\u00a0<venkatna>\u00a0has joined #xwiki  \n05:12\u00a0<venkatna>\u00a0has quit  \n05:17\u00a0<npm>\u00a0has quit  \n05:20\u00a0<npm>\u00a0has joined #xwiki  \n05:30\u00a0<sdumitriu>\u00a0has joined #xwiki  \n06:10\u00a0<npm\\_>\u00a0has joined #xwiki  \n06:11\u00a0<npm>\u00a0has quit  \n06:45\u00a0<sdumitriu>\u00a0has quit  \n07:07\u00a0<Menso>\u00a0has quit  \n07:45\u00a0<vmassol>\u00a0has joined #xwiki  \n07:46\u00a0<vmassol>\u00a0has quit  \n08:18\u00a0<mflorea>\u00a0has joined #xwiki  \n08:31\u00a0<sabageru>\u00a0has joined #xwiki  \n08:37\u00a0<jstoldt>\u00a0has joined #xwiki  \n08:37\u00a0<jstoldt>\u00a0good morning :)  \n08:38\u00a0<cjdelisle>\u00a0good morning  \n08:55\u00a0<jstoldt>\u00a0i want to create a page that will display all documents in the wiki according to their hirarchy. i was thinking about a simple list where WebHome would be \"\\* [[...]]\", first level beneath would be \"\\*\\* [[...]]\" and so forth. any good way to achieve this without having to write a huge logic?  \n08:57\u00a0<cjdelisle>\u00a0The logic isn't that hard but it's going to slam the database.  \n08:57\u00a0<jstoldt>\u00a0note that the having the pages as links might be a nice to have. what i really care about is the names  \n08:57\u00a0<jstoldt>\u00a0too much requests at once, i take it?  \n08:57\u00a0<cjdelisle>\u00a0Actually you can do queries in a loop and it won't be bad.  \n08:57\u00a0<cjdelisle>\u00a0$xwiki.getDocument() <-- expensive.  \n08:58\u00a0<cjdelisle>\u00a0^-- and overused.  \n08:58\u00a0<jstoldt>\u00a0i see. well, prolly should mention that this is a page i will only use every once in a while. i need it to get a good overview about my progress, so i'll most likely delete it at a later point  \n09:00\u00a0<jstoldt>\u00a0so WDYT would be my best approach to this?  \n09:00\u00a0<cjdelisle>\u00a0#macro(getChildrenOf, $docName, $outList)  \n09:00\u00a0<cjdelisle>\u00a0$outList.clear()  \n09:00\u00a0<cjdelisle>\u00a0$outList.addAll($xwiki.searchDocuments('where doc.parent = ?', [$docName])  \n09:00\u00a0<cjdelisle>\u00a0)  \n09:00\u00a0<cjdelisle>\u00a0#if ($outList.size() > 0)  \n09:01\u00a0<cjdelisle>\u00a0#foreach($name in $outList)  \n09:01\u00a0<cjdelisle>\u00a0#set(newOutList = [])  \n09:02\u00a0<cjdelisle>\u00a0#getChildrenOf($name, $newOutList)  \n09:02\u00a0<cjdelisle>\u00a0lol  \n09:03\u00a0<cjdelisle>\u00a03 lines up, before #foreach, \u00a0#set($finalOutList = [])  \n09:03\u00a0<cjdelisle>\u00a0$finalOutList.addAll($newOutList)  \n09:03\u00a0<cjdelisle>\u00a0#end  \n09:03\u00a0<cjdelisle>\u00a0#end  \n09:03\u00a0<cjdelisle>\u00a0#end  \n09:04\u00a0<cjdelisle>\u00a0#set($list = [])  \n09:04\u00a0<cjdelisle>\u00a0#getChildrenOf('XWiki.WebHome', $list)  \n09:04\u00a0<cjdelisle>\u00a0#foreach($child in $list)  \n09:05\u00a0<cjdelisle>\u00a0[[$child]]  \n09:05\u00a0<cjdelisle>\u00a0#end  \n09:05\u00a0<cjdelisle>\u00a0something like that.  \n09:06\u00a0<jstoldt>\u00a0okay, will try to understand this. bear with me  \n09:06\u00a0<cjdelisle>\u00a0hehe.  \n09:06\u00a0<jstoldt>\u00a0anyway, thanks are due. i am really impressed with your expertise! ;)  \n09:12\u00a0<cjdelisle>\u00a0#macro(getChildrenOf, $docName, $level)  \n09:12\u00a0<cjdelisle>\u00a0\u00a0#foreach($name in $xwiki.searchDocuments('where doc.parent = ?', [$docName]))  \n09:12\u00a0<cjdelisle>\u00a0\u00a0\u00a0$level [[$name]]  \n09:12\u00a0<cjdelisle>\u00a0\u00a0\u00a0#set($nextLevel = $level + '\\*')  \n09:12\u00a0<cjdelisle>\u00a0\u00a0\u00a0#getChildrenOf($name, $nextLevel)  \n09:12\u00a0<cjdelisle>\u00a0\u00a0#end  \n09:13\u00a0<cjdelisle>\u00a0#end  \n09:13\u00a0<cjdelisle>\u00a0#getChildrenOf('Main.WebHome', '\\*')  \n09:13\u00a0<cjdelisle>\u00a0Give that a try.  \n09:13\u00a0<cjdelisle>\u00a0Recursion.  \n09:13\u00a0<cjdelisle>\u00a0It makes hard problems  \n09:13\u00a0<cjdelisle>\u00a0into stack overflows.  \n09:13\u00a0<jstoldt>\u00a0is that all xwiki 2 syntax with velocity macro?  \n09:14\u00a0<cjdelisle>\u00a0yea, inside of {{velocity}}  \n09:14\u00a0<jstoldt>\u00a0ok  \n09:15\u00a0<jstoldt>\u00a0hold on, you mean to replace the whole macro block, right? i am a little confused  \n09:16\u00a0<cjdelisle>\u00a0Just put {{velocity}} ^^ that stuff up there \u00a0{{/velocity}}  \n09:16\u00a0<jstoldt>\u00a0okay  \n09:16\u00a0<cjdelisle>\u00a0on a page and see what blows up  \n09:17\u00a0<jstoldt>\u00a0looks good  \n09:18\u00a0<jstoldt>\u00a0exactly what i wanted!  \n09:18\u00a0<jstoldt>\u00a0thanks a bunch!  \n09:18\u00a0<cjdelisle>\u00a0hah nice.  \n09:18\u00a0<jstoldt>\u00a0only a small error, any child page is added to another level  \n09:18\u00a0<jstoldt>\u00a0but i think i can fix that somehow  \n09:19\u00a0<cjdelisle>\u00a0hmm. can't see why.  \n09:20\u00a0<cjdelisle>\u00a0Now make Main.WebHome have one of it's children as it's parent and watch the sparks fly.  \n09:20\u00a0<jstoldt>\u00a0well, i think the problem here is we don't write all retrieved documents in one iteration of the macro  \n09:21\u00a0<jstoldt>\u00a0so we use another iteration and that creates a new level  \n09:21\u00a0<jstoldt>\u00a0you mean having a circle like parent structure? yeah, that'd be bad indeed ;)  \n09:21\u00a0<jstoldt>\u00a0but i didn't do that anywhere :-D  \n09:22\u00a0<cjdelisle>\u00a0It just goes to like 20 rounds and gives up.  \n09:23\u00a0<jstoldt>\u00a0:)  \n09:27\u00a0<jstoldt>\u00a0hmmm, i really don't get it... so apparently the \u00a0\u00a0\u00a0\u00a0#set($nextLevel = $level + '\\*') needs to be placed before the foreach in the macro so it won't be raised on any child but only when calling the next child. anyway, this messes things epically for me.  \n09:27\u00a0<jstoldt>\u00a0http://paste.codebasehq.com/pastes/275 << does not work either  \n09:27\u00a0<jstoldt>\u00a0am i missing something?  \n09:28\u00a0<sburjan>\u00a0has joined #xwiki  \n09:28\u00a0<+sburjan>\u00a0good morning  \n09:29\u00a0<jstoldt>\u00a0hi  \n09:29\u00a0<cjdelisle>\u00a0can you paste the output from each? I suspect I know what's happening.  \n09:31\u00a0<cjdelisle>\u00a0try moving #set($nextLevel = $level + '\\*') up above #foreach.  \n09:31\u00a0<jstoldt>\u00a0not helping either  \n09:31\u00a0<jstoldt>\u00a0hold on, posting the pictures in a sec  \n09:32\u00a0<jstoldt>\u00a0my code as posted above: http://img442.imageshack.us/i/snap1j.png/  \n09:32\u00a0<jstoldt>\u00a0your code as initially posted: http://img401.imageshack.us/i/snap2dz.png/  \n09:33\u00a0<jstoldt>\u00a0moving the #set before #foreach: http://img196.imageshack.us/i/snap3nx.png/  \n09:34\u00a0<cjdelisle>\u00a0heh cool  \n09:34\u00a0<jstoldt>\u00a0yeah, don't get it either. so i tried using a new var to control this within the foreach  \n09:34\u00a0<jstoldt>\u00a0but i think the var is not reset on every recursion  \n09:35\u00a0<cjdelisle>\u00a0#set($nextLevel = \"$level\" + '\\*')  \n09:35\u00a0<jstoldt>\u00a0ah no, i suppose my way couldn't work under any circumstances :-D  \n09:35\u00a0<cjdelisle>\u00a0If that doesn't work then it's losing the original var.  \n09:36\u00a0<jstoldt>\u00a0we are actually using $nextLevel right now...  \n09:36\u00a0<jstoldt>\u00a0but i think we are on the right track with this  \n09:37\u00a0<jstoldt>\u00a0i suppose $level is not reset in the \"current\" iteration but as soon as we go into the next iteration  \n09:37\u00a0<jstoldt>\u00a0and then it's lost for the \"current\" iteration  \n09:38\u00a0<jstoldt>\u00a0apparently the variables are reused indipendently from the calls  \n09:38\u00a0<cjdelisle>\u00a0\u00a0#getChildrenOf($name, \"$nextLevel\")  \n09:38\u00a0<cjdelisle>\u00a0hehe  \n09:38\u00a0<cjdelisle>\u00a0I think I know.  \n09:38\u00a0<cjdelisle>\u00a0That \\_should\\_ fix it.  \n09:39\u00a0<jstoldt>\u00a0nope  \n09:39\u00a0<jstoldt>\u00a0but i think i have an idea  \n09:39\u00a0<jstoldt>\u00a0how about removing a \\* after the #end from #foreach?  \n09:39\u00a0<jstoldt>\u00a0that should work, imo  \n09:39\u00a0<jstoldt>\u00a0raise it before the #foreach and decline it afterwards  \n09:40\u00a0<cjdelisle>\u00a0hang on, I'll start my wiki. This is too interesting.  \n09:40\u00a0<jstoldt>\u00a0only problem, how would i remove the last bit of a string effectively?  \n09:40\u00a0<jstoldt>\u00a0cool  \n09:40\u00a0<jstoldt>\u00a0will \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0#set($nextLevel = $level - '\\*') work? ;)  \n09:41\u00a0<cjdelisle>\u00a0\u00a0\u00a0#set($nextLevel = \"${level}\\*\") might  \n09:42\u00a0<jstoldt>\u00a0nope, using that in my attempt with the raised var is not working  \n09:44\u00a0<cjdelisle>\u00a0Velocity always works by passing pointers so if you call #doSomethingManyTimes($xwiki.getDocument('Main.WebHome')) then the getDocument gets invoked each time that variable is used inside of the macro.  \n09:47\u00a0<arkub>\u00a0has joined #xwiki  \n09:49\u00a0<jstoldt>\u00a0okay but i don't see how this would be related to what we are seeing here... or how to fix it  \n09:56\u00a0<cjdelisle>\u00a0all variables are global :/  \n09:56\u00a0<cjdelisle>\u00a0#macro(getChildrenOf, $docName, $level)  \n09:56\u00a0<cjdelisle>\u00a0\u00a0#set($level = \"${level}\\*\")  \n09:56\u00a0<cjdelisle>\u00a0\u00a0#foreach($name in $xwiki.searchDocuments('where doc.parent = ?', [$docName]))  \n09:56\u00a0<cjdelisle>\u00a0\u00a0\u00a0$level [[$name]]  \n09:56\u00a0<cjdelisle>\u00a0\u00a0\u00a0#getChildrenOf($name, $level)  \n09:56\u00a0<cjdelisle>\u00a0\u00a0#end  \n09:56\u00a0<cjdelisle>\u00a0\u00a0#set($level = $level.substring(0, $mathtool.add($level.length(),-1)))  \n09:56\u00a0<cjdelisle>\u00a0#end  \n09:56\u00a0<cjdelisle>\u00a0#getChildrenOf('Main.WebHome', '')  \n09:56\u00a0<jstoldt>\u00a0got it!  \n09:56\u00a0<cjdelisle>\u00a0I thought that was fixed.  \n09:56\u00a0<jstoldt>\u00a0http://paste.codebasehq.com/pastes/276  \n09:56\u00a0<jstoldt>\u00a0lol, we had the same idea! ;)  \n09:57\u00a0<cjdelisle>\u00a0That was supposed to be changed in the new version of velocity.  \n09:57\u00a0<jstoldt>\u00a0i see  \n09:57\u00a0<jstoldt>\u00a0well, nothing like a nice little brain teaser in the morning, right? ;)  \n09:58\u00a0<cjdelisle>\u00a0I little brain teaser to distract me from a big one.  \n09:59\u00a0<jstoldt>\u00a0well, if you want to do some brain storming i'll be in for that but don't expect too much expertise from me...  \n10:08\u00a0<+sburjan>\u00a0we have a ton of tests that fail on hudson  \n10:24\u00a0<vmassol>\u00a0has joined #xwiki  \n10:26\u00a0<evalica>\u00a0has joined #xwiki  \n10:31\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:37\u00a0<+sburjan>\u00a0hello vmassol  \n10:38\u00a0<vmassol>\u00a0hi sburjan  \n10:38\u00a0<+sburjan>\u00a0I have an issue with the logic of the UserProfileTest. One of tests is failing locally, and there is a thing I don't understand  \n10:39\u00a0<+sburjan>\u00a0in the testChangeDefaultEditor() method  \n10:39\u00a0<vmassol>\u00a0sburjan: I'm starting a meeting in 5 minutes  \n10:40\u00a0<vmassol>\u00a0for about 2 hours  \n10:40\u00a0<+sburjan>\u00a0oh .. okay  \n10:40\u00a0<vmassol>\u00a0I'm sorry I won't have time to look at it right now  \n10:43\u00a0<+sburjan>\u00a0ok. ping me when you finish with the meeting  \n10:45\u00a0<+sburjan>\u00a0cjdelisle: ping. There are a lot of invitation tests that fail, did you changed something ?  \n10:45\u00a0<cjdelisle>\u00a0hmm nope.  \n10:46\u00a0<+sburjan>\u00a0http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests/org.xwiki.enterprise$xwiki-enterprise-test-ui/271/testReport/  \n10:47\u00a0<+sburjan>\u00a0amd I looking in the wrong place ?  \n10:47\u00a0<+sburjan>\u00a0\\*am  \n10:48\u00a0<jstoldt>\u00a0cjdelisle: i want to get a list of documents where the parent string is something like \"xwiki:Something.OrNothing\"... so basically all documents with the xwiki: at the beginning of the parent string. i am trying $xwiki.searchDocuments(\"where doc.parent= 'xwiki:%'\") but it fails to execute the velocity macro... any hints?  \n10:49\u00a0<cjdelisle>\u00a0\"where doc.parent like ?\", [\"xwiki:$name\"]  \n10:49\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:49\u00a0<jstoldt>\u00a0ah, okay, thanks  \n10:49\u00a0<abusenius>\u00a0has joined #xwiki  \n10:50\u00a0<cjdelisle>\u00a0sburjan, looks like something changed in the administration app. I'm pretty busy at the moment, do you think you can try debugging it?  \n10:50\u00a0<cjdelisle>\u00a0Here's a hint:  \n10:51\u00a0<cjdelisle>\u00a0try{while(true){Thread.sleep(1000);}}catch(Exception e){}  \n10:51\u00a0<cjdelisle>\u00a0put that right above the line that fails then look at the page using firebug and see why the element you're looking for is missing.  \n10:51\u00a0<cjdelisle>\u00a0(running the test on local)  \n10:52\u00a0<+sburjan>\u00a0I'll try, I never did this type of debug before on automated tests  \n10:52\u00a0<+sburjan>\u00a0I'll try  \n10:53\u00a0<sabageru>\u00a0has quit  \n10:55\u00a0<cjdelisle>\u00a0Be sure and ask questions if you find something you can't figure out.  \n10:58\u00a0<Enygma`>\u00a0has quit  \n10:59\u00a0<+sburjan>\u00a0cjdelisle: something is ultra messy here. Annotations and Invitation. Admin App panel : This configuration cannot be displayed because it was last edited by Admin who doesn't have permission to edit this page.  \n11:00\u00a0<+sburjan>\u00a0snapshot trunk from yesterday  \n11:00\u00a0<cjdelisle>\u00a0I see.  \n11:00\u00a0<+sburjan>\u00a0so it's not the test \u00a0that it's faulty ...  \n11:00\u00a0<cjdelisle>\u00a0I think that is a sandboxing script going haywire.  \n11:01\u00a0<cjdelisle>\u00a0Unless for some reason XWiki.Admin nolonger exists or nolonger has permission to edit XWiki.XWikiPreferences.  \n11:04\u00a0<+sburjan>\u00a0seems this happens on husdon, and also on my local .. so it's not my local instance haywired  \n11:11\u00a0<cjdelisle>\u00a0argh  \n11:11\u00a0<cjdelisle>\u00a0checkstyle:  \n11:11\u00a0<cjdelisle>\u00a0sactionException.java:55:5: The field 'total' must be declared final.  \n11:11\u00a0<cjdelisle>\u00a0javac  \n11:11\u00a0<cjdelisle>\u00a0ore/TransactionException.java:[116,16] cannot assign a value to final variable total  \n11:12\u00a0<+sburjan>\u00a0so you found it  \n11:13\u00a0<cjdelisle>\u00a0no that's checkstyle apparently trying to force me to write code that won't compile.  \n11:15\u00a0<lucaa>\u00a0has joined #xwiki  \n11:15\u00a0<jvelo>\u00a0has quit  \n11:40\u00a0<sabageru>\u00a0has joined #xwiki  \n11:41\u00a0<jstoldt>\u00a0if anybody has a better name please share!  \n11:45\u00a0<+sburjan>\u00a0jstoldt: could you put 1 px black border to the image ? :)  \n12:01\u00a0<mflorea>\u00a0has quit  \n12:06\u00a0<jstoldt>\u00a0sburjan: will do  \n12:10\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:11\u00a0<jstoldt>\u00a0okay, added the picture but for some odd reason rev 1.1 is displayed instead of rev 1.2  \n12:11\u00a0<jstoldt>\u00a0no idea what's happening  \n12:12\u00a0<cjdelisle>\u00a0that's not good.  \n12:14\u00a0<cjdelisle>\u00a0cache issues. It just automagically fixed.  \n12:15\u00a0<jstoldt>\u00a0huh?  \n12:16\u00a0<jstoldt>\u00a0so it's a bug in XWiki?  \n12:16\u00a0<cjdelisle>\u00a0If there is no cache in front of it then yes it is.,  \n12:17\u00a0<jstoldt>\u00a0well, i am behind a proxy  \n12:18\u00a0<jstoldt>\u00a0so there might be the proxy cache involved here  \n12:18\u00a0<cjdelisle>\u00a0No, I saw it too.  \n12:18\u00a0<jstoldt>\u00a0okay  \n12:18\u00a0<cjdelisle>\u00a0I'm behind 7 proxies!  \n12:19\u00a0<jstoldt>\u00a0LOL X-D  \n12:33\u00a0<arkub>\u00a0has quit  \n12:48\u00a0<mflorea>\u00a0has joined #xwiki  \n13:05\u00a0<+sburjan>\u00a0:))  \n13:06\u00a0<+sburjan>\u00a0jstoldt: I'm not behind any proxy. the image is ok now :)  \n13:09\u00a0<jstoldt>\u00a0yeah, it is okay here too, now  \n13:09\u00a0<+sburjan>\u00a0cjdelisle, vmassol : we should fix that issue today  \n13:09\u00a0<jstoldt>\u00a0but at first it was weird  \n13:09\u00a0<jstoldt>\u00a0and by weird i mean outdated  \n13:09\u00a0<+sburjan>\u00a0i've seen this happening too :) .. cache issues  \n13:09\u00a0<cjdelisle>\u00a0which issue?  \n13:09\u00a0<jstoldt>\u00a0ok  \n13:09\u00a0<vmassol>\u00a0sburjan: still in meeting, not sure what issue  \n13:10\u00a0<+sburjan>\u00a0vmassol, cjdelisle : the issue with Invitation application and Annotations pages from XAADMINISTRATION  \n13:10\u00a0<+sburjan>\u00a0This configuration cannot be displayed because it was last edited by Admin who doesn't have permission to edit this page.  \n13:10\u00a0<+sburjan>\u00a0this is why a lot of tests failed on Hudson  \n13:10\u00a0<cjdelisle>\u00a0Were you able to determine whether XWiki.Admin had been deleted or stripped of it's permissions?  \n13:12\u00a0<+sburjan>\u00a0well if by stripped you mean \\_no\\_ green signs on View, Comment, Edit, etc from Rights Panel, yes, all the checkboxes are blank  \n13:13\u00a0<DrLou>\u00a0has joined #xwiki  \n13:14\u00a0<cjdelisle>\u00a0If you freeze the test at and log in as admin, are you able to go to /bin/edit/XWiki/XWikiPreferences?editor=object  \n13:15\u00a0<vmassol>\u00a0has quit  \n13:15\u00a0<+sburjan>\u00a0cjdelisle: I got this from browsing normal wiki, not only within testes  \n13:15\u00a0<+sburjan>\u00a0so it's not a test issue  \n13:16\u00a0<+sburjan>\u00a0I got those errors when browsing local wiki, not only when running tests  \n13:16\u00a0<cjdelisle>\u00a0So you say admin has lost his permissions?  \n13:16\u00a0<cjdelisle>\u00a0if you log in as admin, are you able to go to /bin/edit/XWiki/XWikiPreferences?editor=object  \n13:16\u00a0<cjdelisle>\u00a0?  \n13:16\u00a0<+sburjan>\u00a0Notice  \n13:16\u00a0<+sburjan>\u00a0A problem occurred while trying to process your request. Please contact the webmaster if this happens again.  \n13:16\u00a0<+sburjan>\u00a0I'm not able  \n13:17\u00a0<cjdelisle>\u00a0Is there anything interesting in the log?  \n13:19\u00a0<+sburjan>\u00a0trillions of velociry errors like :  \n13:19\u00a0<+sburjan>\u00a02011-01-07 11:57:32,266 [http://localhost:8080/xwiki/bin/view/Main/] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($aTags.size()) of '>' operation has null value at unknown namespace[line 108, column 56]  \n13:19\u00a0<+sburjan>\u00a02011-01-07 11:57:32,267 [http://localhost:8080/xwiki/bin/view/Main/] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($pages.size()) of '>' operation has null value at unknown namespace[line 645, column 21]  \n13:19\u00a0<+sburjan>\u00a0but I don't think there are the cause  \n13:21\u00a0<cjdelisle>\u00a0Nope. You're looking for a stack trace.  \n13:21\u00a0<cjdelisle>\u00a0Maybe paste the log into a text editor and search for the word \"Exception\"?  \n13:22\u00a0<+sburjan>\u00a0well these are the only thype of errors I get in the console  \n13:22\u00a0<+sburjan>\u00a0do i need to look in some log file?  \n13:23\u00a0<cjdelisle>\u00a0Everything should be in the console.  \n13:24\u00a0<abusenius>\u00a0has quit  \n13:24\u00a0<ralucaM>\u00a0has joined #xwiki  \n13:25\u00a0<bacon\\_>\u00a0has joined #xwiki  \n13:25\u00a0<bacon\\_>\u00a0hi  \n13:26\u00a0<bacon\\_>\u00a0i'm facing a little issue: I can't find how to edit correctly an object in xwiki to set the max\\_upload class propertie in the WikiPreference page  \n13:26\u00a0<bacon\\_>\u00a0any help around? ^\\_^  \n13:26\u00a0<jstoldt>\u00a0first you need to open XWikiPreferences in the class editor  \n13:26\u00a0<cjdelisle>\u00a0xwiki/bin/edit/XWiki/XWikiPreferences?editor=object  \n13:27\u00a0<jstoldt>\u00a0right, the property exists already, doesn't it? that should be changed in the docs...  \n13:27\u00a0<lucaa>\u00a0has quit  \n13:27\u00a0<+sburjan>\u00a0cjdelisle: not getting any stack trace in console  \n13:28\u00a0<cjdelisle>\u00a0Those errors are indeed the most fun.  \n13:28\u00a0<cjdelisle>\u00a0I'm on the edge of a commit, I'll be able to take a look later.  \n13:28\u00a0<+sburjan>\u00a0ok :)  \n13:29\u00a0<+sburjan>\u00a0Registrations fail also  \n13:36\u00a0<jstoldt>\u00a0bacon\\_: http://www.xwiki.org/xwiki/bin/view/FAQ/Howtoincreasethemaximumattachmentsize << btw ;)  \n13:37\u00a0<bacon\\_>\u00a0jstoldt: I was reading this page but I have difficulties to apply it ^^ thanks anyway :):)  \n13:37\u00a0<bacon\\_>\u00a0I mean  \n13:37\u00a0<jstoldt>\u00a0still got difficulties after the link cjdelisle gave you?  \n13:37\u00a0<bacon\\_>\u00a0I can open the \u00a0object editor  \n13:38\u00a0<jstoldt>\u00a0but?  \n13:38\u00a0<sdumitriu>\u00a0has joined #xwiki  \n13:39\u00a0<bacon\\_>\u00a0but I have to create a new object and I don't really understand all the field that must be filled  \n13:40\u00a0<bacon\\_>\u00a0i'm very nooby with java and xwiki, that's why I'm getting difficulties :)  \n13:40\u00a0<+sburjan>\u00a0@all devs : blog doesn't work. Nasty stack trace in console when trying toaccess blog  \n13:40\u00a0<jstoldt>\u00a0so you already got the field?  \n13:41\u00a0<jstoldt>\u00a0field = property  \n13:41\u00a0<bacon\\_>\u00a0\"Objects of type XWiki.XWikiPreferences (1)\" there is only XWikiPreferences 0: $tdoc.getRenderedTitle(\"plain/1.0\") ($doc.fullName) - XWiki  \n13:41\u00a0<jstoldt>\u00a0yeah, click that and search for Maximum Upload Size  \n13:41\u00a0<bacon\\_>\u00a0The max\\_upload parameter is already present in the class (I've seen it while editing the class, not the object)  \n13:41\u00a0<bacon\\_>\u00a0ok  \n13:41\u00a0<jstoldt>\u00a0right below that just enter your desired max  \n13:42\u00a0<bacon\\_>\u00a0ook i understood  \n13:45\u00a0<@sdumitriu>\u00a0sburjan: What version?  \n13:45\u00a0<+sburjan>\u00a0sdumitriu: XWiki Enterprise 3.0-SNAPSHOT.33798  \n13:46\u00a0<+sburjan>\u00a0sdumitriu: http://localhost:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Annotations we have some major bug here ... also failing a lot of tests because of this  \n13:46\u00a0<+sburjan>\u00a0also Invitation and Registration pages are affected  \n13:47\u00a0<@sdumitriu>\u00a0Could be the velocity 1.7 update  \n13:47\u00a0<+sburjan>\u00a0+ tons of there in console  \n13:47\u00a0<+sburjan>\u00a02011-01-07 11:57:32,267 [http://localhost:8080/xwiki/bin/view/Main/] ERROR internal.DefaultVelocityEngine \u00a0- Left side ($pages.size()) of '>' operation has null value at unknown namespace[line 645, column 21]  \n13:47\u00a0<+sburjan>\u00a0so bsically we have aprox 20 auto tests failing due to the first issue I've mentioned  \n13:58\u00a0<arkub>\u00a0has joined #xwiki  \n13:58\u00a0<jstoldt>\u00a0i have the impression that RTF output is broken...  \n13:59\u00a0<jstoldt>\u00a0i can open the files in WordPad on Win XP but it won't open in neither OOo nor Word  \n14:04\u00a0<vmassol>\u00a0has joined #xwiki  \n14:06\u00a0<vmassol>\u00a0has quit  \n14:07\u00a0<abusenius>\u00a0has joined #xwiki  \n14:14\u00a0<ralucaM>\u00a0has quit  \n14:22\u00a0<lucaa>\u00a0has joined #xwiki  \n14:24\u00a0<mbryant>\u00a0has joined #xwiki  \n14:26\u00a0<+sburjan>\u00a0sdumitriu: were you able to reproduce the problem ?  \n14:26\u00a0<@sdumitriu>\u00a0No, I'm doing something else at the moment  \n14:50\u00a0<vmassol>\u00a0has joined #xwiki  \n14:56\u00a0<bacon\\_>\u00a0jstoldt: please, I can read that I have to enter the value in bytes, so I suppose that for 40MB it will be something around \"40000\" ?  \n14:56\u00a0<bacon\\_>\u00a0jstoldt: and if i understood well, no unit has to be specified  \n14:56\u00a0<jstoldt>\u00a040\\*1024\\*1024 to be precise  \n14:56\u00a0<jstoldt>\u00a0nope  \n14:56\u00a0<jstoldt>\u00a0just the value in bytes  \n14:57\u00a0<bacon\\_>\u00a0ok ! thanks a lot  \n14:57\u00a0<jstoldt>\u00a0np  \n15:01\u00a0<jstoldt>\u00a0mflorea: wouldn't it be neat to be able to export to .doc/.odt via the Office plugin?  \n15:01\u00a0<jstoldt>\u00a0or rather OOo Server  \n15:02\u00a0<jstoldt>\u00a0because right now i am spending hours to fix the problems the .rtf export caused... all the German Umlaute (\u00c4, \u00d6, \u00dc, \u00e4, \u00f6, \u00fc) as well as \u00df are screwed up here and much rather than just screwing those up Word Pad decided to take the following char along to the depths of nowhereness  \n15:03\u00a0<+mflorea>\u00a0jstoldt: sure, note that there was a discussion on the \u00a0devs/users mailing list about using the oo server for export  \n15:03\u00a0<jstoldt>\u00a0oh, i did not know. will check  \n15:03\u00a0<jstoldt>\u00a0i think, as an alternative, it might be very benefitial!  \n15:04\u00a0<+mflorea>\u00a0we talked about using the oo for pdf/rtf export, but it would be trivial to add other export type, provided they are supported by the oo server  \n15:04\u00a0<bacon\\_>\u00a0I wonder: does the object variable like the on i'm trying to set are automatically update after a save&view/continue ?  \n15:04\u00a0<bacon\\_>\u00a0or must I restart tomcat?  \n15:04\u00a0<bacon\\_>\u00a0well, I have to say that I can\"t see any change with and w/o a restart :P  \n15:04\u00a0<jstoldt>\u00a0nope, you should be able to use the new settings at once  \n15:04\u00a0<jstoldt>\u00a0for all i know  \n15:04\u00a0<bacon\\_>\u00a0ok thx, my error must be somewhere else so ^^  \n15:04\u00a0<jstoldt>\u00a0what's your DB?  \n15:04\u00a0<bacon\\_>\u00a0pgsql  \n15:05\u00a0<jstoldt>\u00a0you mean postgreSQL, right?  \n15:05\u00a0<jstoldt>\u00a0well i got the same setup then and it works for me  \n15:05\u00a0<bacon\\_>\u00a0not under mysql limitation, and the message is still the famous \"XWiki has a default limit of around 10Mb for attached files. This limit can be changed using the upload\\_maxsize parameter. Check the FAQ for more information.\"  \n15:05\u00a0<jstoldt>\u00a0try checking the logs  \n15:05\u00a0<bacon\\_>\u00a0yup  \n15:05\u00a0<cjdelisle>\u00a0set that number to 9999999999999999  \n15:06\u00a0<jstoldt>\u00a0and have you tried uploading a file that has like 39 MB in size? just to be sure it's not over precise?  \n15:06\u00a0<cjdelisle>\u00a0;)  \n15:06\u00a0<bacon\\_>\u00a038MB :p  \n15:06\u00a0<jstoldt>\u00a0hahaha, cjdelisle we'll do that once you wrote the new plugin  \n15:06\u00a0<bacon\\_>\u00a0maybe it's where the issue resiede  \n15:06\u00a0<jstoldt>\u00a0well, check the logs  \n15:06\u00a0<jstoldt>\u00a0stdout is the one, i think  \n15:06\u00a0<bacon\\_>\u00a0catalina.out nah?  \n15:06\u00a0<cjdelisle>\u00a0Superusers should be exempt from that IMO.  \n15:07\u00a0<bacon\\_>\u00a0just a question: the max\\_upload parameter only apply to the object I suppose?  \n15:07\u00a0<jstoldt>\u00a0bacon\\_: /logs/service-stdout.DATE.log  \n15:07\u00a0<jstoldt>\u00a0where date is the current date, obviously  \n15:07\u00a0<bacon\\_>\u00a0thx !  \n15:08\u00a0<jstoldt>\u00a0that's where i usually find the most interesting stuff  \n15:08\u00a0<jstoldt>\u00a0max\\_upload applies to the entire wiki, for all i know  \n15:08\u00a0<bacon\\_>\u00a0jstoldt: ho ok so it's not a good idea to set it to 9999999999 I suppose :p  \n15:08\u00a0<jstoldt>\u00a0well, it is... if you can be certain no moron will try that :-D  \n15:08\u00a0<bacon\\_>\u00a0jstoldt: under which distribution is runnings your xwiki? logs files place depends on your OS  \n15:09\u00a0<jstoldt>\u00a0Win 7 x64  \n15:09\u00a0<bacon\\_>\u00a0ok =)  \n15:09\u00a0<jstoldt>\u00a0here it's /Tomcat/logs/...  \n15:09\u00a0<bacon\\_>\u00a0i run debian ;)  \n15:09\u00a0<cjdelisle>\u00a0Huge number == no limit is set except for the hard (memory) limit at around 60M (you can make that go away by disabling versioning.)  \n15:11\u00a0<jstoldt>\u00a0interesting. well, i set 50 MB here... :-D  \n15:14\u00a0<bacon\\_>\u00a0well what is strange is that the message still tells me that limit is around 10MB, even after I changed the value :/  \n15:14\u00a0<bacon\\_>\u00a0I think I'll simply try to export my database  \n15:14\u00a0<bacon\\_>\u00a0from one wiki to another  \n15:15\u00a0<cjdelisle>\u00a0Yes, the message does not change.  \n15:15\u00a0<cjdelisle>\u00a0999999999999  \n15:15\u00a0<bacon\\_>\u00a0lol  \n15:15\u00a0<bacon\\_>\u00a0ok let's give it a try  \n15:17\u00a0<jstoldt>\u00a0i think the message should be appendend... i was thinking about something along the lines of \"IT'S OVER 9000!!!!1111\"  \n15:17\u00a0<jvelo>\u00a0has joined #xwiki  \n15:17\u00a0<jvelo>\u00a0hi there  \n15:17\u00a0<jstoldt>\u00a0hi  \n15:17\u00a0<jvelo>\u00a0is there an LDAP expert around \u00a0here by any luck ?  \n15:18\u00a0<bacon\\_>\u00a0hi  \n15:19\u00a0<bacon\\_>\u00a0lol ok i was stupidely creating a new object to set up the value  \n15:19\u00a0<bacon\\_>\u00a0it seems to work better if i declare it in the first and yet used object :)  \n15:19\u00a0<jstoldt>\u00a0that might indeed be benefitial  \n15:19\u00a0<bacon\\_>\u00a0(i said that it seems because page is still loading :p)  \n15:20\u00a0<+sburjan>\u00a0vmassol: busy ?  \n15:26\u00a0<Menso>\u00a0has joined #xwiki  \n15:32\u00a0<Enygma`>\u00a0has quit  \n15:35\u00a0<bacon\\_>\u00a0ok it failed :p  \n15:35\u00a0<bacon\\_>\u00a02011-01-07 15:30:57,873 [http://192.168.0.40:8080/xwiki/bin/upload/XWiki/Import] [http://192.168.0.40:8080/xwiki/bin/upload/XWiki/Import] ERROR util.JDBCExceptionReporter \u00a0\u00a0\u00a0\u00a0\u00a0- Packet for query is too large (40901496 > 16777216). You can change this value on the server by setting the max\\_allowed\\_packet' variable  \n15:35\u00a0<bacon\\_>\u00a0it seems that the value is set elsewhere  \n15:36\u00a0<bacon\\_>\u00a0but I couldn't find it in xwiki.cfg  \n15:36\u00a0<jstoldt>\u00a0nope, it's in XWikiPreferences  \n15:36\u00a0<jstoldt>\u00a0I am certain of that  \n15:36\u00a0<jstoldt>\u00a0because i changed it  \n15:36\u00a0<florinciu>\u00a0has joined #xwiki  \n15:36\u00a0<jstoldt>\u00a0and it works here  \n15:36\u00a0<bacon\\_>\u00a0but why is it a different name?  \n15:36\u00a0<bacon\\_>\u00a0\"max\\_allowed\\_packet\"  \n15:37\u00a0<jstoldt>\u00a0weird indeed... well, her ei got upload\\_maxsize...  \n15:37\u00a0<bacon\\_>\u00a0this is an output from my tomcat serv  \n15:37\u00a0<+sburjan>\u00a0@devs : it seems that using Selenium 2 beta allows me to do stuff that Se 2 alpha didn't supported. So I am +1 for moving to Se2 beta  \n15:37\u00a0<bacon\\_>\u00a0I'm going to google it a bit  \n15:37\u00a0<jstoldt>\u00a0anyway, you might want to check out these:  \n15:37\u00a0<jstoldt>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Large+Wiki+Export  \n15:37\u00a0<+sburjan>\u00a0sdumitriu: the patch for this would only mean to change the version of Se2 from the ui-tests pom.xml, right ?  \n15:37\u00a0<jstoldt>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Large+XAR+Import  \n15:38\u00a0<bacon\\_>\u00a0from http://platform.xwiki.org/xwiki/bin/view/AdminGuide/InstallationMySQL it seems that this is the error due to mysql limitation, but i'm running on pgsql :o  \n15:38\u00a0<bacon\\_>\u00a0thanks for the links !  \n15:39\u00a0<jstoldt>\u00a0u welcome  \n15:39\u00a0<jstoldt>\u00a0O\\_o wow, that's special  \n15:40\u00a0<bacon\\_>\u00a0ho damn.  \n15:40\u00a0<bacon\\_>\u00a0this is a dev environement. And... i used mysql on this one, not pg... please slap me hard  \n15:41\u00a0<vmassol>\u00a0question for css experts: will the following work in all browsers:  \n15:41\u00a0<bacon\\_>\u00a0:cry:  \n15:41\u00a0<vmassol>\u00a0(% style=\"width:100%;table-layout:fixed;overflow:hidden;word-wrap:break-word\" %)  \n15:41\u00a0<vmassol>\u00a0|=(% width=\"10%\" %)Feature|=XWiki Syntax 1.0|=XWiki Syntax 2.0|=(% width=\"15%\" %)Result XWiki Syntax 1.0|=(% width=\"15%\" %)Result XWiki Syntax 2.0  \n15:41\u00a0<jstoldt>\u00a0should i tell you \"you're a dirty bitch\", too? :-P  \n15:41\u00a0<vmassol>\u00a0this is a modification I'm planning to do for the XWikiSyntax page  \n15:41\u00a0<bacon\\_>\u00a0jstoldt: yes :p  \n15:41\u00a0<jstoldt>\u00a0lol  \n15:41\u00a0<bacon\\_>\u00a0vmassol: I'm an expert in nothing sorry =/  \n15:42\u00a0<jstoldt>\u00a0vmassol: iirc there was some trouble with using (% style... %) before tables with IE7  \n15:43\u00a0<jstoldt>\u00a0i'll just give it a shot  \n15:43\u00a0<vmassol>\u00a0thanks  \n15:44\u00a0<vmassol>\u00a0jstoldt: it's what we use on l10n.xwiki.org  \n15:44\u00a0<vmassol>\u00a0so you could test that page  \n15:44\u00a0<vmassol>\u00a0(the home page)  \n15:45\u00a0<jstoldt>\u00a0well, just added it to my wiki and it looks about the same in Opera 11 and IE 7  \n15:45\u00a0<jstoldt>\u00a0so i figure it's working alright  \n15:50\u00a0<vmassol>\u00a0mflorea: how does a wysiwyg user enter , for example, a bold label for a link?  \n15:51\u00a0<vmassol>\u00a0(answer: he doesn't)  \n15:51\u00a0<vmassol>\u00a0we'll need to find a way for that too to improve the wysiwyg  \n15:51\u00a0<+mflorea>\u00a0vmassol: he makes the text bold, then selects it and add the link, \\_without changing the label\\_, or he add the link then makes the text nold  \n15:51\u00a0<jstoldt>\u00a0LOL  \n15:52\u00a0<vmassol>\u00a0mflorea: ah ok indeed hadn't thought of this ;)  \n15:52\u00a0<+mflorea>\u00a0;)  \n15:52\u00a0<jstoldt>\u00a0XD  \n15:52\u00a0<jstoldt>\u00a0i liked the determination in the answer you gave yourself, vmassol  \n15:52\u00a0<vmassol>\u00a0jstoldt: ok thanks  \n15:53\u00a0<vmassol>\u00a0good I asked though....  \n15:53\u00a0<jstoldt>\u00a0^^  \n15:53\u00a0<+sburjan>\u00a0:))  \n15:53\u00a0<+sburjan>\u00a0have a nice evening guys  \n15:53\u00a0<jstoldt>\u00a0cu  \n15:55\u00a0<sburjan>\u00a0has quit  \n15:58\u00a0<vmassol>\u00a0bbl  \n15:58\u00a0<jstoldt>\u00a0nice, finally found a way to screw with the database and the tomcat server just nicely... create an activity macro that displays also minor edits, 100 entries and 20 subentries :-D  \n16:06\u00a0<jstoldt>\u00a0uhmm... about core.create.page.space.hint... what is the meaning of Containing there?  \n16:07\u00a0<jstoldt>\u00a0like the space that will contain the new page?  \n16:10\u00a0<@sdumitriu>\u00a0Yes  \n16:10\u00a0<jstoldt>\u00a0okay  \n16:12\u00a0<abusenius>\u00a0has quit  \n16:24\u00a0<cjdelisle>\u00a0http://svn.xwiki.org/svnroot/xwiki/contrib/sandbox/xwiki-store/xwiki-store-transaction/src/main/java/org/xwiki/store/TransactionRunnable.java  \n16:24\u00a0<cjdelisle>\u00a0That could be the best code I've ever written.  \n16:25\u00a0<cjdelisle>\u00a0If you get a runnable to save a document, you simply cannot run it outside of a database transaction, the compiler won't let you.  \n16:26\u00a0<cjdelisle>\u00a0It has no start function so it can't be started manually and it won't allow you to add it to any other runnable except for a hibernate runnable.  \n16:29\u00a0<cjdelisle>\u00a0bed time for me. Have to recheck tonight and see if I missed anything.  \n16:31\u00a0<jstoldt>\u00a0gn8  \n16:37\u00a0<bacon\\_>\u00a0gn  \n16:52\u00a0<jstoldt>\u00a0mflorea: when talking about export via OOo server, were you referring to the thread about GSOC in february 2010?  \n16:54\u00a0<+mflorea>\u00a0jstoldt: no, it's a more recent one. http://jira.xwiki.org/jira/browse/XWIKI-5296  \n16:54\u00a0<jstoldt>\u00a0ah, thanks  \n16:55\u00a0<+mflorea>\u00a0that's the jira, there is a mail thread too, but I can't find it  \n16:55\u00a0<jstoldt>\u00a0okay, will search some more  \n16:55\u00a0<jstoldt>\u00a0stupid jira wouldn't let me vote with opera :-/  \n16:57\u00a0<+mflorea>\u00a0this is related http://jira.xwiki.org/jira/browse/XWIKI-5251  \n16:57\u00a0<jstoldt>\u00a0yeah, i noticed the rtf bit  \n16:57\u00a0<jstoldt>\u00a0although it's generally broken here  \n16:59\u00a0<jstoldt>\u00a0i think i'll file an issue  \n17:05\u00a0<jstoldt>\u00a0XWIKI-5866  \n17:07\u00a0<jstoldt>\u00a0i'm out  \n17:07\u00a0<jstoldt>\u00a0see you!  \n17:08\u00a0<jstoldt>\u00a0has quit  \n17:12\u00a0<arkub>\u00a0has quit  \n17:15\u00a0<abusenius>\u00a0has joined #xwiki  \n17:21\u00a0<evalica>\u00a0has quit  \n17:22\u00a0<sabageru>\u00a0has quit  \n17:23\u00a0<sabageru>\u00a0has joined #xwiki  \n17:36\u00a0<bacon\\_>\u00a0re  \n17:38\u00a0<bacon\\_>\u00a0vmassol> may I ask you a little thing? after fresh export I want to add a new user, and after having click on \"users\", in the main administration page, here is what's present on the page  \n17:39\u00a0<bacon\\_>\u00a0(I know you will understand :p)  \n17:39\u00a0<bacon\\_>\u00a0Vous pouvez \u00e9diter les utilisateurs du wiki sur la page des utilisateurs.  \n17:39\u00a0<bacon\\_>\u00a0which link to this page : xwiki/bin/view/XWiki/XWikiUsers  \n17:39\u00a0<bacon\\_>\u00a0but I don't remember this way of adding users before  \n17:45\u00a0<bacon\\_>\u00a0btw if anyone has an idea about why I don't see the classic user (and groups, it does the same thing) management form, it would be appreciated :D  \n17:47\u00a0<jvelo>\u00a0has quit  \n17:50\u00a0<florinciu>\u00a0has quit  \n18:13\u00a0<bacon\\_>\u00a0has quit  \n18:16\u00a0<arkub>\u00a0has joined #xwiki  \n18:19\u00a0<lucaa1>\u00a0has joined #xwiki  \n18:19\u00a0<lucaa>\u00a0has quit  \n18:23\u00a0<mflorea>\u00a0has quit  \n18:24\u00a0<sabageru>\u00a0has quit  \n18:57\u00a0<florinciu>\u00a0has joined #xwiki  \n19:04\u00a0<vmassol>\u00a0has quit  \n19:15\u00a0<lucaa1>\u00a0has quit  \n19:23\u00a0<jvdrean>\u00a0has quit  \n19:24\u00a0<arkub>\u00a0has quit  \n19:54\u00a0<jvdrean>\u00a0has joined #xwiki  \n20:14\u00a0<mflorea>\u00a0has joined #xwiki  \n20:45\u00a0<mbryant>\u00a0has quit  \n22:20\u00a0<mflorea>\u00a0has quit  \n23:14\u00a0<vmassol>\u00a0has joined #xwiki  \n23:18\u00a0<vmassol>\u00a0has quit  \n23:19\u00a0<florinciu>\u00a0has quit  \n\n"}