{"id": "dev:IRC.xwikiArchive20121026", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121026", "title": "IRC Archive for channel #xwiki on 26 October 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has joined #xwiki  \n00:14\u00a0<fooobarrr>\u00a0I think I understand the error - the author hard coded in the uri 'xwiki/XWikiService' instead of using the string \"GWT.getModuleBaseURL()+XWikiService\"  \n00:17\u00a0<fooobarrr>\u00a0is it wrong to use a base other than a folder other than 'xwiki'?  \n00:21\u00a0<vmassol>\u00a0has quit  \n00:32\u00a0<Denis>\u00a0has quit  \n00:37\u00a0<mflorea>\u00a0has quit  \n00:47\u00a0<vmassol>\u00a0has joined #xwiki  \n00:51\u00a0<fmancinelli>\u00a0has quit  \n00:58\u00a0<vmassol>\u00a0has quit  \n01:25\u00a0<vmassol>\u00a0has joined #xwiki  \n01:35\u00a0<vmassol>\u00a0has quit  \n02:02\u00a0<vmassol>\u00a0has joined #xwiki  \n02:12\u00a0<vmassol>\u00a0has quit  \n02:37\u00a0<fooobarrr>\u00a0don't worry I'll be back with my questions  \n02:37\u00a0<fooobarrr>\u00a0has quit  \n02:39\u00a0<vmassol>\u00a0has joined #xwiki  \n02:49\u00a0<vmassol>\u00a0has quit  \n03:16\u00a0<vmassol>\u00a0has joined #xwiki  \n03:26\u00a0<vmassol>\u00a0has quit  \n03:54\u00a0<vmassol>\u00a0has joined #xwiki  \n04:05\u00a0<vmassol>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:31\u00a0<vmassol>\u00a0has joined #xwiki  \n04:41\u00a0<vmassol>\u00a0has quit  \n05:08\u00a0<vmassol>\u00a0has joined #xwiki  \n05:16\u00a0<tekzilla>\u00a0has quit  \n05:18\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:18\u00a0<vmassol>\u00a0has quit  \n05:45\u00a0<vmassol>\u00a0has joined #xwiki  \n05:56\u00a0<vmassol>\u00a0has quit  \n06:00\u00a0<Denis>\u00a0has quit  \n06:23\u00a0<vmassol>\u00a0has joined #xwiki  \n06:33\u00a0<vmassol>\u00a0has quit  \n07:00\u00a0<vmassol>\u00a0has joined #xwiki  \n07:10\u00a0<vmassol>\u00a0has quit  \n07:37\u00a0<vmassol>\u00a0has joined #xwiki  \n07:47\u00a0<vmassol>\u00a0has quit  \n07:59\u00a0<coud6>\u00a0has joined #xwiki  \n08:02\u00a0<vmassol>\u00a0has joined #xwiki  \n08:04\u00a0<vmassol>\u00a0has quit  \n08:05\u00a0<vmassol>\u00a0has joined #xwiki  \n08:35\u00a0<Denis>\u00a0has joined #xwiki  \n08:38\u00a0<vmassol>\u00a0nice sonar plugin: http://docs.codehaus.org/display/SONAR/Switch+Off+Violations+Plugin  \n08:58\u00a0<mflorea>\u00a0has joined #xwiki  \n09:06\u00a0<vmassol>\u00a0Denis: so back to the issue of yesterday, I guess I could change my algorithm to cache irc logs and only commit them after some time has elapsed (like every minute)  \n09:07\u00a0<vmassol>\u00a0the only issue is that this will just hide the problem and not make us fix it  \n09:07\u00a0<vmassol>\u00a0(good morning btw :))  \n09:08\u00a0<Denis>\u00a0good morning :)  \n09:10\u00a0<Denis>\u00a0yes, from my research yesterday, the only suspicious thing I have doubt with is that soft reference, but since we have no unit test to reproduce and it does not seems easy to craft one, I am afraid we will have to live with it until we rewrite that versioning solution  \n09:29\u00a0<mrvanes>\u00a0has joined #xwiki  \n09:34\u00a0<vmassol>\u00a0hmm someone broke the livetable when documents have dots in their names\u2026 checking why  \n09:34\u00a0<vmassol>\u00a0the problem is that the ref is escaped with \\ and the json genertaes a new line instead...  \n09:37\u00a0<vmassol>\u00a0ok found why  \n09:38\u00a0<vmassol>\u00a0mflorea: you broke it....  \n09:38\u00a0<mflorea>\u00a0vmassol: ?  \n09:38\u00a0<vmassol>\u00a0in XWIKI-7622  \n09:38\u00a0<mflorea>\u00a0and?  \n09:39\u00a0<vmassol>\u00a0code before:  \n09:39\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"doc\\_fullName\" : \"$escapetool.javascript($fullname)\",  \n09:39\u00a0<vmassol>\u00a0new code:  \n09:39\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0#set($discard = $row.put('doc\\_fullName', $fullname))  \n09:39\u00a0<mflorea>\u00a0and?  \n09:39\u00a0<vmassol>\u00a0where :  \n09:39\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0#set($fullname = $services.model.serialize($itemDoc.documentReference, 'default'))  \n09:39\u00a0<vmassol>\u00a0you've removed the escapetool usage!!  \n09:39\u00a0<mflorea>\u00a0no  \n09:39\u00a0<mflorea>\u00a0the value is escaped when the map is serialized  \n09:40\u00a0<mflorea>\u00a0that's the point of building the json in memory  \n09:40\u00a0<vmassol>\u00a0ah checking  \n09:40\u00a0<vmassol>\u00a0do you know where this is done?  \n09:41\u00a0<mflorea>\u00a0$jsontool.serialize($map)  \n09:41\u00a0<mflorea>\u00a0you should check the generated json  \n09:41\u00a0<vmassol>\u00a0it's buggy then  \n09:41\u00a0<vmassol>\u00a0I have checked it  \n09:41\u00a0<vmassol>\u00a0it's not correct  \n09:41\u00a0<vmassol>\u00a0this is what I'm tracking  \n09:42\u00a0<mflorea>\u00a0what is the page name, so that I can reproduce with a simple map  \n09:42\u00a0<mflorea>\u00a0full name  \n09:42\u00a0<vmassol>\u00a0going to add a unit test for jsontool  \n09:42\u00a0<vmassol>\u00a0hold on  \n09:44\u00a0<vmassol>\u00a0I think the problem is that somehow wiki syntax is executed on it  \n09:45\u00a0<mflorea>\u00a0ah  \n09:45\u00a0<vmassol>\u00a0my input is:  \n09:45\u00a0<vmassol>\u00a0wiki:space.my\\.page  \n09:45\u00a0<mflorea>\u00a0I tried this: {{{$jsontool.serialize({'fullName': 'a\\b\"c''d'})}}}  \n09:46\u00a0<mflorea>\u00a0I get {\"fullName\":\"wiki:space.my\\\\.page\"}  \n09:46\u00a0<vmassol>\u00a0yep  \n09:46\u00a0<vmassol>\u00a0and then \\\\ is a newline  \n09:46\u00a0<mflorea>\u00a0?  \n09:46\u00a0<vmassol>\u00a0in wiki syntax  \n09:46\u00a0<vmassol>\u00a0what I get is:  \n09:46\u00a0<vmassol>\u00a0https://gist.github.com/3957492  \n09:46\u00a0<vmassol>\u00a0try running it with jsonlint  \n09:46\u00a0<vmassol>\u00a0I don't render anything  \n09:46\u00a0<vmassol>\u00a0this is LT  \n09:47\u00a0<mflorea>\u00a0\\ is escaping character in json  \n09:47\u00a0<mflorea>\u00a0so it is escaped  \n09:47\u00a0<vmassol>\u00a0default, basic LT  \n09:47\u00a0<mflorea>\u00a0it is perfectly normal  \n09:47\u00a0<vmassol>\u00a0yes so the problem is not with jsontool  \n09:47\u00a0<vmassol>\u00a0it's with the LT code  \n09:47\u00a0<mflorea>\u00a0I mean, the output of json tool is correct  \n09:47\u00a0<mflorea>\u00a0ok  \n09:48\u00a0<mflorea>\u00a0hmm, this is the response for the livetable results  \n09:48\u00a0<vmassol>\u00a0I see we have: {{velocity output=\"false\"}}  \n09:48\u00a0<mflorea>\u00a0so it is rendered as wiki syntax  \n09:48\u00a0<vmassol>\u00a0which means wiki is executed  \n09:49\u00a0<vmassol>\u00a0in LiveTableResultsMacros  \n09:49\u00a0<mflorea>\u00a0yes, but there are only macros  \n09:49\u00a0<mflorea>\u00a0LiveTableResults generates the output  \n09:50\u00a0<mflorea>\u00a0and livetable results uses wiki=\"false\"  \n09:50\u00a0<mflorea>\u00a0{{velocity wiki=\"false\"}}  \n09:51\u00a0<vmassol>\u00a0wait  \n09:51\u00a0<vmassol>\u00a0ok found it  \n09:51\u00a0<vmassol>\u00a0sorry for the false alarm  \n09:52\u00a0<vmassol>\u00a0I have a custom JSON for the FAQ app, I had forgotten about it  \n09:52\u00a0<vmassol>\u00a0and it doesn't have wiki=false  \n09:52\u00a0<mflorea>\u00a0has quit  \n09:53\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n09:53\u00a0<vmassol>\u00a0we should review all our custom JSON btw  \n09:53\u00a0<vmassol>\u00a0I'm sure there are other places with this issue  \n09:54\u00a0<vmassol>\u00a0found another one  \n09:54\u00a0<vmassol>\u00a0(from me too\u2026 oops :))  \n09:55\u00a0<sburjan`>\u00a0has quit  \n09:55\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n09:55\u00a0<mflorea>\u00a0has joined #xwiki  \n09:56\u00a0<mflorea>\u00a0vmassol: I had the power down for a moment  \n09:56\u00a0<vmassol>\u00a0ah yes\u2026 hmm I need an irc botlet to print the link to the irc log  \n09:56\u00a0<vmassol>\u00a0http://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121026  \n09:57\u00a0<mflorea>\u00a0ok :)  \n09:58\u00a0<sburjan>\u00a0has joined #xwiki  \n10:12\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:14\u00a0<vmassol>\u00a0has quit  \n10:25\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:25\u00a0<vmassol>\u00a0has joined #xwiki  \n10:32\u00a0<evalica>\u00a0has joined #xwiki  \n10:32\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:33\u00a0<vmassol>\u00a0tmortagne: good morning, could you fix http://ci.xwiki.org/view/Commons/job/xwiki-commons%20Quality%20Checks/ please? :)  \n10:34\u00a0<tmortagne>\u00a0vmassol: yes  \n10:39\u00a0<Slashman>\u00a0has joined #xwiki  \n10:47\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:50\u00a0<vmassol>\u00a0guys we need to spend some time fixing http://ci.xwiki.org/view/All/  \n10:50\u00a0<vmassol>\u00a0there are lots of failing tests  \n10:50\u00a0<vmassol>\u00a0I'm fiinishing writing one test and I'll have a look at some but please help  \n10:50\u00a0<vmassol>\u00a0we need to stabilize it again and stop getting flickers  \n10:58\u00a0<vmassol>\u00a0mflorea: dunno if you've seen the last comment on http://platform.xwiki.org/xwiki/bin/view/Features/WysiwygEditor  \n11:05\u00a0<mflorea>\u00a0vmassol: the documentation is a bit outdated. The paste feature has been moved from the Import menu to the tool bar a long time ago. Since this is user documentation, non- technical, I think the QA/community could help maintain it. I should have update it when I made the change.  \n11:06\u00a0<vmassol>\u00a0since we have doc fields now in jira  \n11:06\u00a0<vmassol>\u00a0I think we're safe for the future  \n11:07\u00a0<vmassol>\u00a0(not 100% of course but still)  \n11:07\u00a0<vmassol>\u00a0now for the past, yes, we just need to fix it  \n11:07\u00a0<mflorea>\u00a0yes  \n11:07\u00a0<vmassol>\u00a0if you can convince someone else to do it, all the better, but if not, it needs to be udpated ;)  \n11:08\u00a0<vmassol>\u00a0re community unfortunately it doesn't work so far....  \n11:08\u00a0<vmassol>\u00a0maybe if we had an open edit it would work better, don't know  \n11:09\u00a0<mflorea>\u00a0yeah, but still we would need to review the edits  \n11:10\u00a0<vmassol>\u00a0sure but we do that every day already  \n11:10\u00a0<vmassol>\u00a0acrtually even more than every day with the bot  \n11:10\u00a0<vmassol>\u00a0cf the discussion of 2 weeks ago on this topic here  \n11:10\u00a0<vmassol>\u00a0(when I asked dokuwiki how they do it)  \n11:11\u00a0<mflorea>\u00a0review + accept/reject is one thing, review + adjust/rewording is anther thing (in order to have a consistent doc)  \n11:11\u00a0<vmassol>\u00a0so what you're saying is that a wiki cannot be used for writing reference doc?  \n11:12\u00a0<vmassol>\u00a0(cannot in the sense as it's too coslty)  \n11:12\u00a0<vmassol>\u00a0I think it's ok  \n11:13\u00a0<mflorea>\u00a0I think you still needs a team to make sure the documentation is consistent, follows some structure, etc.  \n11:13\u00a0<sburjan>\u00a0Please create a XWIKIORG JIRA issue and assign it to me about this  \n11:13\u00a0<mflorea>\u00a0:)  \n11:13\u00a0<vmassol>\u00a0mfa  \n11:13\u00a0<sburjan>\u00a0I'll refresh the page  \n11:14\u00a0<vmassol>\u00a0mflorea: don't worry you won't have tons of edits  \n11:14\u00a0<vmassol>\u00a0:)  \n11:14\u00a0<vmassol>\u00a0that's in our wildest dreams  \n11:14\u00a0<mflorea>\u00a0sure :)  \n11:14\u00a0<vmassol>\u00a0in practice you'll get very little  \n11:14\u00a0<vmassol>\u00a0so I don't think you need a team  \n11:14\u00a0<mflorea>\u00a0indeed  \n11:14\u00a0<vmassol>\u00a0we should be enough  \n11:14\u00a0<vmassol>\u00a0now if we were wikipedia maybe  \n11:14\u00a0<vmassol>\u00a0:)  \n11:21\u00a0<cdop>\u00a0has quit  \n11:25\u00a0<vmassol>\u00a0mflorea: just reproduced again on a fresh snapshot  \n11:25\u00a0<vmassol>\u00a0(faq uninstall issue)  \n11:25\u00a0<vmassol>\u00a0maybe the trick is setting virtual=1  \n11:26\u00a0<mflorea>\u00a0I will try later with virtual=1  \n11:26\u00a0<vmassol>\u00a0I didn't install on the farm  \n11:26\u00a0<vmassol>\u00a0just installed on the main wiki  \n11:27\u00a0<mflorea>\u00a0ok  \n11:32\u00a0<vmassol>\u00a0anyone would have an idea why panels are not displayed when I create a minimal distribution and draw the panels app?  \n11:32\u00a0<vmassol>\u00a0there are no errors and I don't see which \"module\" I'm missing  \n11:32\u00a0<mflorea>\u00a0wiki components?  \n11:32\u00a0<vmassol>\u00a0ah  \n11:32\u00a0<mflorea>\u00a0afaik, panels are ui extension points now  \n11:32\u00a0<vmassol>\u00a0inded it's been refactored  \n11:32\u00a0<vmassol>\u00a0so jvdrean forgot that  \n11:43\u00a0<jvdrean>\u00a0vmassol: indeed  \n12:58\u00a0<vmassol>\u00a0GWT 2.5 out mflorea (fyi)  \n12:58\u00a0<mflorea>\u00a0thanks, I'll upgrade  \n12:59\u00a0<vmassol>\u00a0https://developers.google.com/web-toolkit/doc/latest/ReleaseNotes  \n12:59\u00a0<vmassol>\u00a0\"Elemental\" that's for you ;)  \n12:59\u00a0<vmassol>\u00a0\"new library for fast, lightweight, and \"to the metal\" web programming in GWT.\"  \n13:06\u00a0<fmancinelli>\u00a0ok, I think I have a working xwiki-debug-idea that allows you to import projects inside idea and debug/update/recompile without never leaving the ide  \n13:06\u00a0<vmassol>\u00a0oh nice :)  \n13:06\u00a0<fmancinelli>\u00a0I mean, let's say that what Thomas did with xwiki-debug-eclipse actually work also (modulo some differences) with Idea :)  \n13:07\u00a0<vmassol>\u00a0that\"s great  \n13:53\u00a0<vmassol>\u00a0has quit  \n13:55\u00a0<Denis>\u00a0has quit  \n13:56\u00a0<Denis>\u00a0has joined #xwiki  \n14:05\u00a0<vmassol>\u00a0has joined #xwiki  \n14:41\u00a0<vmassol>\u00a0has quit  \n14:44\u00a0<mrvanes>\u00a0has quit  \n15:03\u00a0<mflorea>\u00a0has quit  \n15:12\u00a0<vmassol>\u00a0has joined #xwiki  \n15:30\u00a0<mflorea>\u00a0has joined #xwiki  \n15:34\u00a0<mrvanes>\u00a0has joined #xwiki  \n16:53\u00a0<fmancinelli>\u00a0has quit  \n17:02\u00a0<sburjan>\u00a0has quit  \n17:12\u00a0<fmancinelli>\u00a0has joined #xwiki  \n17:28\u00a0<mflorea>\u00a0has quit  \n17:34\u00a0<Enygma`1>\u00a0has joined #xwiki  \n17:34\u00a0<Enygma`>\u00a0has quit  \n17:44\u00a0<vmassol>\u00a0I really like our functional test PageObject strategy. I find the tests really concise and easy to read: https://gist.github.com/3959517  \n17:44\u00a0<vmassol>\u00a0:)  \n18:16\u00a0<vmassol>\u00a0btw  \n18:17\u00a0<vmassol>\u00a0I'm on holidays!  \n18:17\u00a0<vmassol>\u00a0for 1 week  \n18:17\u00a0<vmassol>\u00a0:)  \n18:21\u00a0<vmassol>\u00a0has quit  \n18:51\u00a0<vmassol>\u00a0has joined #xwiki  \n18:52\u00a0<evalica>\u00a0has quit  \n18:55\u00a0<Enygma`1>\u00a0has quit  \n19:00\u00a0<vmassol>\u00a0has quit  \n19:16\u00a0<fooobarrr>\u00a0has joined #xwiki  \n19:17\u00a0<fooobarrr>\u00a0bag again-hopefully someone is here now. Is it 'bad' to change the name of the ROOT directory of xwiki  \n19:17\u00a0<fooobarrr>\u00a0i.e. xwiki -> my\\_wiki\\_name  \n19:17\u00a0<fooobarrr>\u00a0so links are then <my\\_host>:<my\\_port>/my\\_wiki\\_name/whatever  \n19:20\u00a0<tmortagne>\u00a0fooobarrr: no it's not bad  \n19:21\u00a0<tmortagne>\u00a0it's just less commons so you might have a bug in some badly written application which hardcode /xwiki/  \n19:21\u00a0<tmortagne>\u00a0(but I don't have any example in mind)  \n19:21\u00a0<Slashman>\u00a0has quit  \n19:23\u00a0<Denis>\u00a0fooobarrr: but you may need to update some mapping, homePage, login page link and so on in your web.xml and xwiki.cfg  \n19:24\u00a0<tmortagne>\u00a0has quit  \n19:25\u00a0<Denis>\u00a0fooobarrr: you may be interested in http://platform.xwiki.org/xwiki/bin/view/Main/ShortURLs if you d'like to have better URLs  \n19:29\u00a0<vmassol>\u00a0has joined #xwiki  \n19:35\u00a0<vmassol>\u00a0has quit  \n19:45\u00a0<fmancinelli>\u00a0has quit  \n20:00\u00a0<vmassol>\u00a0has joined #xwiki  \n20:09\u00a0<vmassol>\u00a0has quit  \n20:23\u00a0<fooobarrr>\u00a0Denis: Thanks- I did update all that stuff. My wiki runs fine. As tmortagne points out im running into an issue with an app that hard codes /xwiki  \n20:25\u00a0<fooobarrr>\u00a0it seems somewhere they refer to xwiki service URL and they point at /xwiki/XWikiService  \n20:25\u00a0<fooobarrr>\u00a0instead of using GWT.getModuleBaseURL()  \n20:25\u00a0<fooobarrr>\u00a0just a guess though  \n20:33\u00a0<abusenius>\u00a0has joined #xwiki  \n20:35\u00a0<vmassol>\u00a0has joined #xwiki  \n20:45\u00a0<vmassol>\u00a0has quit  \n21:12\u00a0<vmassol>\u00a0has joined #xwiki  \n21:15\u00a0<Denis>\u00a0has quit  \n21:23\u00a0<vmassol>\u00a0has quit  \n21:49\u00a0<vmassol>\u00a0has joined #xwiki  \n22:00\u00a0<vmassol>\u00a0has quit  \n22:04\u00a0<mrvanes>\u00a0has quit  \n22:27\u00a0<vmassol>\u00a0has joined #xwiki  \n22:38\u00a0<vmassol>\u00a0has quit  \n22:41\u00a0<fmancinelli>\u00a0has joined #xwiki  \n22:44\u00a0<vmassol>\u00a0has joined #xwiki  \n22:51\u00a0<vmassol>\u00a0has quit  \n23:22\u00a0<vmassol>\u00a0has joined #xwiki  \n23:31\u00a0<vmassol>\u00a0has quit  \n23:39\u00a0<fooobarrr>\u00a0has quit  \n23:48\u00a0<abusenius>\u00a0has quit  \n23:57\u00a0<vmassol>\u00a0has joined #xwiki\n"}