{"id": "dev:IRC.xwikiArchive20110829", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110829", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:03\u00a0<rrodriguez>\u00a0has quit  \n00:07\u00a0<lpereira>\u00a0has quit  \n00:41\u00a0<sburjan`>\u00a0has joined #xwiki  \n01:48\u00a0<amon>\u00a0has quit  \n03:47\u00a0<DrLou>\u00a0has quit  \n05:42\u00a0<amon>\u00a0has joined #xwiki  \n06:44\u00a0<mflorea>\u00a0has joined #xwiki  \n07:20\u00a0<cjdelisl1>\u00a0mflorea: amon was having trouble getting fonts and juttification to work in the wysiwyg and I gave him a hand (while learning it myself) and it occured to me that it might make more sense to enable \"the works\" by default and do an if(hasAdmin) test and if true, put up a little message about how to remove features for a faster load time.  \n07:21\u00a0<cjdelisl1>\u00a0Ofc it's your choice, I just wanted to give you some user feedback since I just learned it myself.  \n07:25\u00a0<+mflorea>\u00a0cjdelisl1: we talked about this (enable by default or not) when these features were implemented and the main reason they were left disabled by default is that we choose to encourage people to focus on the content an not on the presentation. This way wiki pages can have a consistent look. Of course we can discuss this again on the mailing list  \n07:28\u00a0<+mflorea>\u00a0I'm more in favor of enabling the \"style\" WYSIWYG editor plugin by default, with a list of default styles, because, unlike the font and color plugins, it ensures that the applied styles have a semantic and that styles are applied consistently across wiki pages.  \n07:28\u00a0<cjdelisl1>\u00a0I don't think another discussion on the list is necessary, I just wanted to share my user experience.  \n07:28\u00a0<+mflorea>\u00a0ok :) thanks  \n08:00\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:27\u00a0<vmassol>\u00a0has joined #xwiki  \n08:33\u00a0<cjdelisl1>\u00a0http://interactives.wwlp.com/photomojo/gallery/919/3/hurricane-irene-in-western-mass/hurricane-irene-in-western-mass/ <-- That's walking distance from here  \n08:34\u00a0<+mflorea>\u00a0:|  \n08:35\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n08:35\u00a0<cjdelisl1>\u00a0I'll probably go out for a walk later on and hee how much damage there was.  \n08:37\u00a0<vmassol>\u00a0hope your property is fine cjdelisl1  \n08:37\u00a0<vmassol>\u00a0mflorea: good morning, you're the build manager this week?  \n08:37\u00a0<vmassol>\u00a0(you've got some flickering on wysiwyg btw ;))  \n08:37\u00a0<cjdelisl1>\u00a0I'm visiting my mom but up in the hills if we flood then the rest of the world is gone :)  \n08:38\u00a0<+mflorea>\u00a0vmassol: yes  \n08:39\u00a0<+mflorea>\u00a0I'm handling the 4 failing wysiwyg tests now  \n08:39\u00a0<vmassol>\u00a0ok cool  \n08:57\u00a0<cjdelisl1>\u00a0has quit  \n09:00\u00a0<cjdelisle>\u00a0has joined #xwiki  \n09:36\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:44\u00a0<@cjdelisle>\u00a0What do you guys think of making private methods static when they don't touch any object state? I like to be able to look at code and learn as much about it as possible and when I see a call to a static function, I don't have to read the function to find out if it has any weird sideeffects so I think it's nicer. WDYT?  \n09:44\u00a0<vmassol>\u00a0big ?1 for static  \n09:44\u00a0<vmassol>\u00a0btw private methods are usually a bad design  \n09:45\u00a0<vmassol>\u00a0it means some objects has not been materialized properly  \n09:45\u00a0<@cjdelisle>\u00a0How do you break up a big task then?  \n09:45\u00a0<vmassol>\u00a0(but sometimes it's overkill to materialize/expose this other object)  \n09:45\u00a0<vmassol>\u00a0cjdelisle: is the question: how do you code in OO?  \n09:46\u00a0<@cjdelisle>\u00a0heh ok I'm done  \n09:47\u00a0<vmassol>\u00a0now there can be special cases but generally I'm ?1 on static as a strategy  \n09:48\u00a0<vmassol>\u00a0(that's one of the reasons we use components btw)  \n09:48\u00a0<vmassol>\u00a0(you cannot remove/add static in a jvm and the jvm behavior doesn't guarantee your static are correctly loaded when unloaded/reloaded)  \n09:49\u00a0<vmassol>\u00a0(makes them hard to unit test too)  \n09:49\u00a0<@cjdelisle>\u00a0I agree with you as far as static variables because they are global and horrible and I agree with you as far as static public functions because you lose any structure.  \n09:49\u00a0<arkub>\u00a0has joined #xwiki  \n09:50\u00a0<@cjdelisle>\u00a0Can you show me some code which you think really adheres to your idea of OOP? eg: no private  \n09:51\u00a0<vmassol>\u00a0what I mentioned about design is mentioned here too: http://junit.sourceforge.net/doc/faq/faq.htm#tests\\_11  \n09:51\u00a0<vmassol>\u00a0\"Testing private methods may be an indication that those methods should be moved into another class to promote reusability.\"  \n09:51\u00a0<vmassol>\u00a0but as I said sometime it's a bit overkill for what you're doing and leas to too much reusability  \n09:52\u00a0<vmassol>\u00a0it really depends of how much private you have  \n09:52\u00a0<vmassol>\u00a0if it's a simple helper method it's fine  \n09:52\u00a0<vmassol>\u00a0if it starts to be large  \n09:52\u00a0<vmassol>\u00a0then it means you're missing a class  \n09:52\u00a0<@cjdelisle>\u00a0I'm talking about general private methods which don't touch state, I've seen you commit some to the rendering system.  \n09:52\u00a0<vmassol>\u00a0this is about design so it's never black or white\u2026. it's not an exact science :)  \n09:53\u00a0<vmassol>\u00a0you have an example?  \n09:53\u00a0<vmassol>\u00a0you mean utility classes?  \n09:53\u00a0<@cjdelisle>\u00a0The static keyword would just tell me as a reader that I don't need to look for sideeffects.  \n09:53\u00a0<@cjdelisle>\u00a0One perfect example is in the cache, the getKey() function.  \n09:54\u00a0<@cjdelisle>\u00a0it should (IMO) be private static  \n09:54\u00a0<vmassol>\u00a0we have singletons for that  \n09:54\u00a0<vmassol>\u00a0(singelton components that is)  \n09:55\u00a0<vmassol>\u00a0a cache is perfectly implemented as a singleton component  \n09:55\u00a0<vmassol>\u00a0this is what we do in xwiki-cache modules btw  \n09:56\u00a0<@cjdelisle>\u00a0sure the cache makes sense to be a component but the getKey function should be a component?  \n09:56\u00a0<vmassol>\u00a0either part of an existing singleton comppnent  \n09:56\u00a0<vmassol>\u00a0or as a singleton component itself, why not. (KeyProvider role)  \n09:57\u00a0<vmassol>\u00a0again  \n09:57\u00a0<vmassol>\u00a0I'm talking generally speaking  \n09:57\u00a0<vmassol>\u00a0I know this is in the oldcore where all bets are off  \n09:57\u00a0<vmassol>\u00a0so YMMV  \n09:57\u00a0<@cjdelisle>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/store/XWikiCacheStore.java#L257  \n09:57\u00a0<vmassol>\u00a0I was just answering to your global question \"What do you guys think of making private methods static when they don't touch any object state?\"  \n09:58\u00a0<vmassol>\u00a0for oldcore eveything is good\u2026 the code is already so horrible  \n09:58\u00a0<vmassol>\u00a0anything that doesn't break is good actually :)  \n09:58\u00a0<@cjdelisle>\u00a0Ok so I'm to understand that a private methos which is private and doesn't touch object state should not be static.  \n09:58\u00a0<@cjdelisle>\u00a0private method which is private and I need some coffee  \n09:59\u00a0<vmassol>\u00a0outside of old core yes I'm definitely for not using static as much as possible  \n09:59\u00a0<@cjdelisle>\u00a0IMO private static tells me as the reader that there are things I \\*don't\\* have to worry about while reading it and that is good.  \n09:59\u00a0<abusenius\\_>\u00a0has quit  \n10:00\u00a0<@cjdelisle>\u00a0There are bugs which can't happen.  \n10:00\u00a0<vmassol>\u00a0for me static is an error in java design :)  \n10:00\u00a0<vmassol>\u00a0it makes java not a full OO language  \n10:00\u00a0<@cjdelisle>\u00a0A public static function is very bad because anyone can reach it.  \n10:00\u00a0<+tmortagne>\u00a0cjdelisle: -1 for you proposal to put it as a rule but as long as it's private you can do whatever you want IMO  \n10:00\u00a0<vmassol>\u00a0(but makes it easier for people to use)  \n10:00\u00a0<@cjdelisle>\u00a0tmortagne: Yea, I don't want to make a rule and push people around, I'm more looking for guidance.  \n10:01\u00a0<+tmortagne>\u00a0I tend to avoid static like vmassol  \n10:01\u00a0<@cjdelisle>\u00a0Now I totally agree that static \\*variables\\* should never have been put into the java language.  \n10:01\u00a0<@cjdelisle>\u00a0In fact I think globals were a mistake all the way back in C.  \n10:01\u00a0<vmassol>\u00a0bb in 20mn  \n10:02\u00a0<+tmortagne>\u00a0when I really need some internal toolkit I add an internal component until I'm happy enough with it to move as public component  \n10:02\u00a0<@cjdelisle>\u00a0hmm  \n10:03\u00a0<@cjdelisle>\u00a0Something else I would like to try is some performance testing with some of the oldcore classes set to final to see if function inlining is something we are missing out on.  \n10:27\u00a0<vmassol>\u00a0has quit  \n10:29\u00a0<vmassol>\u00a0has joined #xwiki  \n10:34\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n10:34\u00a0<lucaa>\u00a0has joined #xwiki  \n10:52\u00a0<DrLou>\u00a0has joined #xwiki  \n11:03\u00a0<@cjdelisle>\u00a0hehe  \n11:04\u00a0<@cjdelisle>\u00a0in ZipExplorerPlugin:  \n11:04\u00a0<@cjdelisle>\u00a0\u00a0// This is safe, since ByteArrayInputStream ignores close() calls.  \n11:04\u00a0<@cjdelisle>\u00a0That will need to be fixed since we don't use BAIS and have not for a while now.  \n11:05\u00a0<abusenius\\_>\u00a0has quit  \n11:05\u00a0<vmassol>\u00a0nice....  \n11:06\u00a0<@cjdelisle>\u00a0Easy fix using a BufferedInputStream  \n11:57\u00a0<arkub>\u00a0has quit  \n12:19\u00a0<microblue>\u00a0has quit  \n12:27\u00a0<evalica>\u00a0has joined #xwiki  \n12:28\u00a0<mflorea>\u00a0has quit  \n12:59\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:00\u00a0<vmassol>\u00a0has quit  \n13:17\u00a0<mflorea>\u00a0has joined #xwiki  \n13:17\u00a0<JuanDaugherty>\u00a0has quit  \n14:23\u00a0<jstoldt>\u00a0has joined #xwiki  \n14:25\u00a0<arkub>\u00a0has joined #xwiki  \n14:25\u00a0<pturcotte>\u00a0has quit  \n14:29\u00a0<jstoldt>\u00a0hi everyone  \n14:30\u00a0<jstoldt>\u00a0do you guys have some links to MSDN ressources regarding LDAP that you referenced in your implementation?  \n14:30\u00a0<jstoldt>\u00a0i was going to translate those strings but i don't want to produce improper translations due to different choices in the wording...  \n14:35\u00a0<vmassol1>\u00a0jstoldt: hi, no idea on my side  \n14:35\u00a0<jstoldt>\u00a0hi vincent :) okay. do you know who did the implementation?  \n14:36\u00a0<vmassol1>\u00a0maybe tmortagne has some idea  \n14:36\u00a0<jstoldt>\u00a0i'll idle a while and see if he or anybody else comes up with something :)  \n14:38\u00a0<vmassol1>\u00a0yes tmortagne is busy but I'm sure he'll answer later  \n14:38\u00a0<+tmortagne>\u00a0jstoldt: I don't undesrtand the relationship with MSDN, LDAP is not Microsoft stuff  \n14:39\u00a0<jstoldt>\u00a0it's not?  \n14:39\u00a0<jstoldt>\u00a0whoops, i thought it was  \n14:39\u00a0<jstoldt>\u00a0my bad  \n14:39\u00a0<jstoldt>\u00a0still, do you have any docs that could help me translating that?  \n14:40\u00a0<jstoldt>\u00a0like any ressource that offers multilingual support or something?  \n14:40\u00a0<+tmortagne>\u00a0well  \n14:40\u00a0<+tmortagne>\u00a0always found only en documentation on the net as far as I remember  \n14:41\u00a0<jstoldt>\u00a0i see  \n14:41\u00a0<jstoldt>\u00a0i'll figure something out...  \n14:41\u00a0<+tmortagne>\u00a0jstoldt: now to come back to MSDN it's still possible you find something in there since ActiveDirectory implements LDAP  \n14:42\u00a0<pturcotte>\u00a0has joined #xwiki  \n14:42\u00a0<jstoldt>\u00a0okay  \n14:42\u00a0<jstoldt>\u00a0also, is the person responsible for xe.dashboard.wiki.personal.empty around?  \n14:45\u00a0<+tmortagne>\u00a0jstoldt: http://msdn.microsoft.com/en-us/library/aa367008%28v=VS.85%29.aspx seems generic enough (but did not checked if they translated it)  \n14:45\u00a0<jstoldt>\u00a0thanks!  \n14:47\u00a0<jstoldt>\u00a0hahaha, there is not even an auto translation of that article. still thanks, i think it can still help me understanding what i am translating  \n14:51\u00a0<+tmortagne>\u00a0jstoldt: did you tried wikipedia ?  \n14:51\u00a0<+tmortagne>\u00a0seems pretty good in english maybe there is translations  \n14:51\u00a0<jstoldt>\u00a0not yet but i really should... doing it now  \n14:52\u00a0<+tmortagne>\u00a0there is one in \u00a0french at least  \n14:52\u00a0<jstoldt>\u00a0German is there as well... apparently they did not translate a lot of the words either  \n14:52\u00a0<+tmortagne>\u00a0yep it's a bit light  \n14:54\u00a0<+tmortagne>\u00a0well just found php LDAP api german version: http://php.net/manual/es/ref.ldap.php could help ;)  \n14:55\u00a0<jstoldt>\u00a0nice, really appreciate it!  \n15:04\u00a0<pgmjsd>\u00a0has joined #xwiki  \n15:21\u00a0<vmassol1>\u00a0has quit  \n15:24\u00a0<vmassol>\u00a0has joined #xwiki  \n15:30\u00a0<patrek>\u00a0has joined #xwiki  \n15:30\u00a0<pturcotte>\u00a0has quit  \n15:48\u00a0<+mflorea>\u00a0vmassol: do you know what's happening with the CI? I've done some commits and no build has been triggered..  \n15:52\u00a0<vmassol>\u00a0no idea, it should trigger fine  \n15:53\u00a0<vmassol>\u00a0github is sending the trigger  \n15:53\u00a0<vmassol>\u00a0\\*is supposed to send  \n15:53\u00a0<+mflorea>\u00a0github is up  \n15:53\u00a0<vmassol>\u00a0I see some builds in progress on ci  \n15:53\u00a0<lucaa>\u00a0has quit  \n15:53\u00a0<+mflorea>\u00a0there's just one  \n15:53\u00a0<+mflorea>\u00a0xwiki-platform on agent-3  \n15:54\u00a0<+mflorea>\u00a0the rest are idle and the queue is empty  \n15:54\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/509/  \n15:54\u00a0<vmassol>\u00a0that was triggered by thomas's change  \n15:54\u00a0<vmassol>\u00a0and pushed by github  \n15:54\u00a0<vmassol>\u00a0indeed  \n15:55\u00a0<+mflorea>\u00a0yes, but I did some commits in enterprise tests  \n15:55\u00a0<vmassol>\u00a0started 3 hours ago....  \n15:55\u00a0<vmassol>\u00a0seems stuck  \n15:55\u00a0<+mflorea>\u00a0so the functional tests should have started  \n15:55\u00a0<vmassol>\u00a0we should check disk space  \n15:55\u00a0<vmassol>\u00a0can someone do it?  \n15:55\u00a0<vmassol>\u00a0(I'm busy on something else right now)  \n15:55\u00a0<+mflorea>\u00a0I'll try  \n16:02\u00a0<+mflorea>\u00a0there's seems to be enough free space on all agents. Agent 1 has the most used space, 46% on /home but there's still enough space.  \n16:04\u00a0<+mflorea>\u00a0http://ci.xwiki.org/job/xwiki-platform/509/consoleText doesn't ends with an exception, I don't see what could be the problem  \n16:05\u00a0<+mflorea>\u00a0I'll stop the build  \n16:05\u00a0<vmassol>\u00a0wait  \n16:05\u00a0<+mflorea>\u00a0ok  \n16:05\u00a0<vmassol>\u00a0I was referring to the space on the remote repo  \n16:05\u00a0<+mflorea>\u00a0maven machine  \n16:05\u00a0<+mflorea>\u00a0I can check that too  \n16:06\u00a0<vmassol>\u00a0hmm it's copyong on the same machine actually  \n16:06\u00a0<vmassol>\u00a0[JENKINS] Archiving /home/hudsonagent/hudson\\_root/workspace/xwiki-platform/xwiki-platform-core/xwiki-platform-watchlist/xwiki-platform-watchlist-ui/target/xwiki-platform-watchlist-ui.xar to /home/maven/.hudson/jobs/xwiki-platform/modules/org.xwiki.platform$xwiki-platform-watchlist-ui/builds/2011-08-29\\_12-56-30/archive/org.xwiki.platform/xwiki-platform-watchlist-ui/3.2-20110829.112006-219/xwiki-platform-watchlist-ui-3.2-20110829.112006-21  \n16:06\u00a0<vmassol>\u00a0but that may be on the jenkins machine  \n16:06\u00a0<vmassol>\u00a0not on the agents  \n16:07\u00a0<+mflorea>\u00a0indeed, maven machine is full  \n16:08\u00a0<vmassol>\u00a0we had the same problem 2-3 days ago  \n16:08\u00a0<vmassol>\u00a0I posted on infra  \n16:08\u00a0<vmassol>\u00a0but nobody from infra replied  \n16:08\u00a0<+mflorea>\u00a0how do we free space? Is there a standard procedure?  \n16:08\u00a0<vmassol>\u00a0you need to post on infra  \n16:08\u00a0<+mflorea>\u00a0ok, I'll ask again  \n16:08\u00a0<vmassol>\u00a0what I did  \n16:08\u00a0<vmassol>\u00a0was simply run the nexus clean task  \n16:08\u00a0<vmassol>\u00a0but apparently that's not enough and it gets filled again quickly  \n16:08\u00a0<+mflorea>\u00a0ok  \n16:08\u00a0<vmassol>\u00a0you can check the last run time  \n16:09\u00a0<vmassol>\u00a0and the size of it  \n16:09\u00a0<vmassol>\u00a0http://nexus.xwiki.org/nexus/index.html#schedules-config  \n16:09\u00a0<vmassol>\u00a0hmm thjere's a problem  \n16:09\u00a0<+mflorea>\u00a0I don't have a user/pass  \n16:10\u00a0<vmassol>\u00a0mflorea: you're now admin  \n16:13\u00a0<vmassol>\u00a0mflorea: I'm changing the run time for the clean trash to try something  \n16:14\u00a0<vmassol>\u00a0and forcing clean task to run now  \n16:14\u00a0<+mflorea>\u00a0ok  \n16:14\u00a0<vmassol>\u00a0you can follow logs here: http://nexus.xwiki.org/nexus/index.html#view-logs  \n16:14\u00a0<+mflorea>\u00a0let's see how much space is freed  \n16:15\u00a0<vmassol>\u00a0it frees a lot but it's filled quickly  \n16:16\u00a0<vmassol>\u00a0so basically we're missing disk space IMO  \n16:16\u00a0<+mflorea>\u00a0ok, I'll stress the sysadmins :)  \n16:18\u00a0<vmassol>\u00a0:)  \n16:29\u00a0<lucaa>\u00a0has joined #xwiki  \n16:50\u00a0<+mflorea>\u00a0it's pretty slow, only 7% freed so far  \n16:50\u00a0<vmassol>\u00a0yes  \n16:50\u00a0<vmassol>\u00a0it's always slow  \n16:50\u00a0<vmassol>\u00a0not sure why  \n16:50\u00a0<vmassol>\u00a0it's doing verifications but still it's slow  \n16:52\u00a0<tmortagne>\u00a0has quit  \n17:00\u00a0<+mflorea>\u00a0empty trash finished, only 9% freed.  \n17:07\u00a0<tmortagne>\u00a0has joined #xwiki  \n17:37\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:41\u00a0<tmortagne>\u00a0has quit  \n17:56\u00a0<arkub>\u00a0has quit  \n19:02\u00a0<evalica>\u00a0has quit  \n19:07\u00a0<Enygma`>\u00a0has quit  \n19:17\u00a0<mflorea>\u00a0has quit  \n20:28\u00a0<mflorea>\u00a0has joined #xwiki  \n20:37\u00a0<+lucaa>\u00a0is anyone willing to help me with  \n20:37\u00a0<+lucaa>\u00a0https://github.com/xwiki/xwiki-platform/commit/fe1209643b6d1638a5bb19336cc3c81b5bb487a8#L1R60  \n20:37\u00a0<+lucaa>\u00a0?  \n20:38\u00a0<+lucaa>\u00a0I need to  \n20:38\u00a0<+lucaa>\u00a01/ understand why  \n20:38\u00a0<+lucaa>\u00a02/ figure \u00a0out how big of a bug that is...  \n20:54\u00a0<vmassol>\u00a0has quit  \n20:56\u00a0<+lucaa>\u00a0I reported here http://jira.xwiki.org/jira/browse/XWIKI-6885  \n20:56\u00a0<vmassol>\u00a0has joined #xwiki  \n20:56\u00a0<vmassol>\u00a0has quit  \n20:57\u00a0<vmassol>\u00a0has joined #xwiki  \n21:11\u00a0<vmassol>\u00a0has quit  \n21:44\u00a0<lucaa>\u00a0has quit  \n22:02\u00a0<vmassol>\u00a0has joined #xwiki  \n22:13\u00a0<lucaa>\u00a0has joined #xwiki  \n22:15\u00a0<vmassol>\u00a0has quit  \n22:30\u00a0<patrek>\u00a0has quit  \n22:47\u00a0<mflorea>\u00a0has quit  \n\n"}