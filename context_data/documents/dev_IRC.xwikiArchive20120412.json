{"id": "dev:IRC.xwikiArchive20120412", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120412", "title": "IRC Archive for channel #xwiki on 12 April 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:07\u00a0<abusenius\\_>\u00a0has quit  \n00:10\u00a0<jvdrean>\u00a0has quit  \n00:49\u00a0<polx>\u00a0has quit  \n00:54\u00a0<foss\\_student>\u00a0has joined #xwiki  \n02:19\u00a0<Shaddox>\u00a0has quit  \n02:29\u00a0<jacktrick>\u00a0has quit  \n03:03\u00a0<foss\\_student>\u00a0has quit  \n05:13\u00a0<DrLou>\u00a0has quit  \n07:11\u00a0<foss\\_student>\u00a0has joined #xwiki  \n07:26\u00a0<mflorea>\u00a0has joined #xwiki  \n07:38\u00a0<vmassol>\u00a0has joined #xwiki  \n08:01\u00a0<foss\\_student>\u00a0Hi. I've installed XWiki Enterprise (Version 3.5, linux platform) on my computer, I've run the jar file. I've encountered some issues, most notably an UnknownHostException in java.net.InetAddress.getLocalHost(InetAddress.java:1426) is thrown when I run start\\_xwiki.sh. Where would be the best place to post my issue and work through it?  \n08:04\u00a0<vmassol>\u00a0foss\\_student: you can paste it using pastebin or github gist for ex  \n08:07\u00a0<foss\\_student>\u00a0Thanks. http://pastebin.com/xgvNVm3r  \n08:08\u00a0<vmassol>\u00a0it's working fine  \n08:08\u00a0<vmassol>\u00a0logback issues an error though:  \n08:08\u00a0<vmassol>\u00a0Failed to get local hostname java.net.UnknownHostException: n115lt29: n115lt29  \n08:08\u00a0<vmassol>\u00a0as it says it cannot get the hostname for some reason I don't know  \n08:09\u00a0<foss\\_student>\u00a0Ok thanks. I will try and figure it out.  \n08:12\u00a0<vmassol>\u00a0foss\\_student: this is the logback code: http://logback.qos.ch/xref/ch/qos/logback/core/util/ContextUtil.html  \n08:12\u00a0<foss\\_student>\u00a0Thanks. I got some help. I needed to edit /etc/hosts to add my host name.  \n08:49\u00a0<polx>\u00a0has joined #xwiki  \n09:26\u00a0<jvdrean>\u00a0has joined #xwiki  \n09:48\u00a0<foss\\_student>\u00a0has quit  \n09:55\u00a0<vmassol>\u00a0good morning  \n09:55\u00a0<vmassol>\u00a0ok we need to solve the build issue on jenkins for rendering standalone today  \n09:56\u00a0<vmassol>\u00a0going to try to reproduce it locally now  \n09:57\u00a0<vmassol>\u00a0grrr  \n09:57\u00a0<vmassol>\u00a0can't reproduce  \n09:57\u00a0<vmassol>\u00a0mflorea: I've removed all my commons artifacts from my local repo and then build rendering-standalone  \n09:57\u00a0<vmassol>\u00a0and it worked....  \n09:58\u00a0<vmassol>\u00a0s/build/built/  \n09:59\u00a0<vmassol>\u00a0going to download and try with 3.0.4 now  \n10:01\u00a0<vmassol>\u00a0ahah  \n10:02\u00a0<vmassol>\u00a0was able to reproduce!  \n10:02\u00a0<vmassol>\u00a0so it works with 3.0.3 and fails with 3.0.4  \n10:02\u00a0<vmassol>\u00a0checking jenkins setup to see what it uses  \n10:03\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:04\u00a0<vmassol>\u00a0ok we're using 3.0.4 on jenkins agents  \n10:04\u00a0<+mflorea>\u00a0you said yesterday that agent-5 was using 3.0.3  \n10:04\u00a0<vmassol>\u00a0I was wrong  \n10:04\u00a0<vmassol>\u00a0maven 3.0.3 is installed there  \n10:04\u00a0<vmassol>\u00a0but it's not the one used  \n10:04\u00a0<+mflorea>\u00a0ok  \n10:04\u00a0<vmassol>\u00a0when you log with hudsonagent user  \n10:04\u00a0<vmassol>\u00a0you get maven 3.0.3  \n10:04\u00a0<vmassol>\u00a0but the agent uses /home/hudsonagent/maven  \n10:04\u00a0<vmassol>\u00a0which is maven 3.0.4  \n10:04\u00a0<vmassol>\u00a0ok so mystery solved but that's not very good..  \n10:05\u00a0<vmassol>\u00a0so we have 2 choices  \n10:05\u00a0<+mflorea>\u00a0the quick solution is to downgrade  \n10:05\u00a0<vmassol>\u00a01/ find a workaround for 3.0.4  \n10:05\u00a0<vmassol>\u00a02/ downgrade and in the building page recommend maven 3.0.3  \n10:05\u00a0<+mflorea>\u00a0the workaround is to build locally commons/commons-pom/rendering (with -N, so just the poms)  \n10:06\u00a0<+mflorea>\u00a0it worked for me at least  \n10:06\u00a0<vmassol>\u00a0that didn't work when I tried it on agent5  \n10:06\u00a0<vmassol>\u00a0btw  \n10:06\u00a0<vmassol>\u00a0that doesn't solve the issue  \n10:06\u00a0<vmassol>\u00a0imagine this:  \n10:06\u00a0<vmassol>\u00a0several days later agent5 builds standalone again  \n10:07\u00a0<vmassol>\u00a0it'll generate a jar that might contains old stuff, won't it?  \n10:07\u00a0<vmassol>\u00a0since it only uses what's in the lcoal repo AFAIU  \n10:07\u00a0<+mflorea>\u00a0probably yes, it will use the local version of commons, not the version from maven.xwiki.org  \n10:07\u00a0<vmassol>\u00a0so we cannot trust what it generates  \n10:07\u00a0<evalica>\u00a0has joined #xwiki  \n10:08\u00a0<vmassol>\u00a0the only reason we didn't get bitten by this is because we release XWiki all together from the same machine ;)  \n10:08\u00a0<+mflorea>\u00a0yes  \n10:08\u00a0<vmassol>\u00a0so I think we need to downgrade  \n10:08\u00a0<vmassol>\u00a0put this in the building page  \n10:08\u00a0<vmassol>\u00a0raise a jira for maven  \n10:08\u00a0<vmassol>\u00a0and wait for 3.0.5  \n10:08\u00a0<vmassol>\u00a0wdyt?  \n10:09\u00a0<vmassol>\u00a0the alternative is:  \n10:09\u00a0<+mflorea>\u00a0I'm +1. not sure if this is a maven issue or a maven shade plugin issue. i.e. maven 3.0.5 might not fix the problem  \n10:09\u00a0<vmassol>\u00a0debug the shade plugin and upload a patched version in our remote repo  \n10:10\u00a0<vmassol>\u00a0right but shade 1.7 might  \n10:10\u00a0<+mflorea>\u00a0yes  \n10:10\u00a0<vmassol>\u00a0so we would either wait for maven 3.0.5 or shade 1.7  \n10:10\u00a0<vmassol>\u00a0whichever fixes the issue  \n10:10\u00a0<+mflorea>\u00a0yep  \n10:10\u00a0<vmassol>\u00a0now we could aslo debug it and fix the issue....  \n10:11\u00a0<vmassol>\u00a0are there features of maven 3.0.4 that we need?  \n10:11\u00a0<+mflorea>\u00a0don't know  \n10:11\u00a0<vmassol>\u00a0http://maven.apache.org/docs/3.0.4/release-notes.html  \n10:11\u00a0<vmassol>\u00a0there are some stuff we might want  \n10:11\u00a0<vmassol>\u00a0OTOH  \n10:12\u00a0<vmassol>\u00a0I've been using 3.0.3  \n10:12\u00a0<vmassol>\u00a0and haven't had any issue wih our build  \n10:12\u00a0<vmassol>\u00a0actually if we really wante  \n10:12\u00a0<vmassol>\u00a0wanted  \n10:12\u00a0<vmassol>\u00a0we could build with 3.0.4 everything except rendering-standlaone that we would build with 3.0.3  \n10:13\u00a0<vmassol>\u00a0maybe that's best  \n10:13\u00a0<+mflorea>\u00a0yes, that would be great  \n10:13\u00a0<vmassol>\u00a0checking if we can override the maven lcoation for a job  \n10:13\u00a0<evalica>\u00a0has quit  \n10:13\u00a0<+mflorea>\u00a0I'm trying to remember if I had any issue with maven 3.0.3 when releasing..  \n10:14\u00a0<+mflorea>\u00a0bad news https://jira.codehaus.org/browse/MRELEASE-730  \n10:14\u00a0<+mflorea>\u00a0see my comment  \n10:14\u00a0<vmassol>\u00a0that's fine  \n10:15\u00a0<vmassol>\u00a0it works with 3.0.4  \n10:15\u00a0<vmassol>\u00a0:)  \n10:15\u00a0<+mflorea>\u00a0ah, right  \n10:15\u00a0<+mflorea>\u00a0we can use 3.0.4 at release time  \n10:15\u00a0<vmassol>\u00a0yep  \n10:15\u00a0<vmassol>\u00a0I'm checking now how to configure jenkins to exclude a module from a job + change maven version for a given job  \n10:19\u00a0<foss\\_student>\u00a0has joined #xwiki  \n10:21\u00a0<vmassol>\u00a0mflorea: maybe I can make it easier for us and build the whole rendering with maven 3.0.3, wdyt?  \n10:23\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r8ab4f62\u000f https://github.com/xwiki/xwiki-rendering/commit/8ab4f627e84a5843e248b0e301df9fb7f350cfe9 \u000f/ xwiki-rendering-standalone/pom.xml :\u000f Improved TODO message - http://git.io/zgppsw  \n10:27\u00a0<vmassol>\u00a0starting rendering build with 3.0.3  \n10:28\u00a0<vmassol>\u00a0nice:  \n10:28\u00a0<vmassol>\u00a0Unpacking http://archive.apache.org/dist/maven/binaries/apache-maven-3.0.3-bin.zip to /home/hudsonagent/hudson\\_root/tools/Maven\\_3.0.3 on agent-5  \n10:28\u00a0<vmassol>\u00a0;)  \n10:28\u00a0<vmassol>\u00a0I put auto install of maven 3.0.3  \n10:31\u00a0<vmassol>\u00a0hmmm  \n10:31\u00a0<vmassol>\u00a0still fails  \n10:32\u00a0<+mflorea>\u00a0strange  \n10:33\u00a0<+mflorea>\u00a0same error I guess  \n10:33\u00a0<vmassol>\u00a0rying manually on agent  \n10:35\u00a0<vmassol>\u00a0hmm  \n10:35\u00a0<vmassol>\u00a0I've now deleted all commons artifacts from the agent and rebuilt and it works  \n10:35\u00a0<+mflorea>\u00a0:|  \n10:37\u00a0<vmassol>\u00a0note that if I do the same with 3.0.4 it doesn't work  \n10:37\u00a0<+mflorea>\u00a0ok  \n10:38\u00a0<vmassol>\u00a0triggering build now  \n10:41\u00a0<vmassol>\u00a0ok build passed  \n10:42\u00a0<vmassol>\u00a0I have no clue why removing local artifacts was needed though....  \n10:43\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Platform/job/xwiki-platform/1796/console: jvm crash\u2026 let's hope the next build in progress will be ok  \n10:50\u00a0<foss\\_student>\u00a0has quit  \n11:09\u00a0<evalica>\u00a0has joined #xwiki  \n11:28\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:30\u00a0<vmassol>\u00a0guys what do you think about http://jira.xwiki.org/jira/browse/XCOMMONS-149 ?  \n11:30\u00a0<vmassol>\u00a0I'm about to commit it but I would like at least one committer to agree with it ;)  \n12:08\u00a0<jvdrean>\u00a0has quit  \n12:10\u00a0<vmassol>\u00a0he's back\u2026 let's see if he's understood this time\u2026 ;)  \n12:10\u00a0<vmassol>\u00a0this is where fabio's chat extension would come handy...  \n12:11\u00a0<vmassol>\u00a0not nice: http://ci.xwiki.org/job/xwiki-enterprise-test-extension/526/console  \n12:11\u00a0<vmassol>\u00a0trigging it again  \n12:43\u00a0<vmassol>\u00a0all blue: http://ci.xwiki.org/ :)  \n12:43\u00a0<vmassol>\u00a0(for master)  \n12:43\u00a0<vmassol>\u00a0btw we need 4.x jobs now  \n12:44\u00a0<vmassol>\u00a0Denis/sdumitriu: what's the status on the postgresql upgrade?  \n12:44\u00a0<vmassol>\u00a0ie the blocker for 3.5.1 release  \n12:44\u00a0<vmassol>\u00a0I haven't seen any jira reported about the issue  \n12:44\u00a0<vmassol>\u00a0is there one?  \n12:45\u00a0<+Denis>\u00a0vmassol: I see no relation between 3.5.1 and the postgresql migration we discussed yesterday evening with sdumitriu  \n12:46\u00a0<vmassol>\u00a0sdumitriu said we had to fix the issue before we can release 3.5.1  \n12:46\u00a0<vmassol>\u00a0i don't know the details  \n12:46\u00a0<+Denis>\u00a0where ?  \n12:46\u00a0<vmassol>\u00a0on skype  \n12:46\u00a0<vmassol>\u00a0not here  \n12:46\u00a0<vmassol>\u00a0actually re-reading  \n12:47\u00a0<vmassol>\u00a0he's not answered to my question directly  \n12:47\u00a0<vmassol>\u00a0so I guess he was only referring to 4.x  \n12:47\u00a0<+Denis>\u00a0probably a mistake, since what I discuss yesterday with sdumitriu is about \u00a04.x exactly  \n12:47\u00a0<vmassol>\u00a0yep  \n12:47\u00a0<vmassol>\u00a0so what about RC1?  \n12:47\u00a0<+Denis>\u00a0the RC1 is out no ?  \n12:47\u00a0<vmassol>\u00a0do we have any jira issue to fix for 4.0 final?  \n12:47\u00a0<vmassol>\u00a0yes  \n12:47\u00a0<vmassol>\u00a0but not 4.0  \n12:48\u00a0<vmassol>\u00a0and this looks like a blocker  \n12:48\u00a0<+Denis>\u00a0yes we need this migration to be fixed  \n12:48\u00a0<vmassol>\u00a0you're on it?  \n12:48\u00a0<+Denis>\u00a0we have the plan, and sdumitriu should be on it  \n12:48\u00a0<vmassol>\u00a0ok, let's wait for him to comment then  \n12:48\u00a0<vmassol>\u00a0would have been to create a jira issue  \n12:48\u00a0<vmassol>\u00a0so that others can know about it  \n12:49\u00a0<vmassol>\u00a0I talked to sdumitriu yesterday and said \"we need a jira issue for it, marked as blocker for 4.0\"  \n12:49\u00a0<+Denis>\u00a0if not, I may do so  \n12:49\u00a0<vmassol>\u00a0ok  \n12:49\u00a0<vmassol>\u00a0I guess it's Thomas who will be doing the final release  \n12:49\u00a0<vmassol>\u00a0he's on holiday this week  \n12:49\u00a0<vmassol>\u00a0but he should be back for next Monday  \n12:53\u00a0<+Denis>\u00a0vmassol: by the way, do you know if other test has been conducted, in particular under oracle  \n12:54\u00a0<vmassol>\u00a0let's check the test report to see if it's mentioned  \n12:54\u00a0<vmassol>\u00a0(if not it should be)  \n12:54\u00a0<vmassol>\u00a0yep  \n12:54\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/TestReports/ManualTestReportXE351  \n12:55\u00a0<+Denis>\u00a0sure, ludovic has proposed to do so, I though it have follow up on this, but seeing the issue on postgresql, I am afraid of having the same under oracle  \n12:55\u00a0<vmassol>\u00a0hmm I need to talk to sorin since the report doesn't mention tesitng upgrades  \n12:56\u00a0<+Denis>\u00a0not 3.5.1, but 4.x  \n12:56\u00a0<vmassol>\u00a04.x has not been tested yet  \n12:56\u00a0<vmassol>\u00a0AFAIK  \n12:56\u00a0<vmassol>\u00a0I mean not by sorin  \n12:56\u00a0<vmassol>\u00a0I've tested a few things here and there but nothing compelte  \n12:57\u00a0<+Denis>\u00a0this is bad, we may have same migration issue on other DB, and the fix we discuss with sdumitriu may works for them too, but we should know about the issue  \n13:06\u00a0<mflorea>\u00a0has quit  \n13:09\u00a0<+Denis>\u00a0vmassol, sdumitriu: http://jira.xwiki.org/browse/XWIKI-7712  \n13:25\u00a0<vmassol>\u00a0Denis: thanks  \n13:56\u00a0<mflorea>\u00a0has joined #xwiki  \n14:02\u00a0<jvdrean>\u00a0has joined #xwiki  \n14:20\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* rb9b751f\u000f https://github.com/xwiki/xwiki-commons/commit/b9b751fc9d2c23757fb65ceee75b4aeb20bea64e \u000f/ (29 files in 19 dirs):\u000f XCOMMONS-149: Split the Commons Legacy Component module into 2 modules to mimick the non-legacy module organization - http://git.io/J1j3Yg  \n14:20\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* ra988109\u000f https://github.com/xwiki/xwiki-commons/commit/a988109a6bdfc5d1666c7589dd10427bf0db9644 \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-149: Split the Commons Legacy Component module into 2 modules to mimick the non-legacy module organization ...  \n14:20\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r0be702d\u000f https://github.com/xwiki/xwiki-enterprise/commit/0be702d44867872bda6288fdab2cf9195aeaf10b \u000f/ xwiki-enterprise-web/pom.xml :\u000f XCOMMONS-149: Split the Commons Legacy Component module into 2 modules to mimick the non-legacy module organization - http://git.io/lcmFxA  \n\n"}