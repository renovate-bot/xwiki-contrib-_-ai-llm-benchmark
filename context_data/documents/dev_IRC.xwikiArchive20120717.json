{"id": "dev:IRC.xwikiArchive20120717", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120717", "title": "IRC Archive for channel #xwiki on 17 July 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:06\u00a0<ssavi>\u00a0has joined #xwiki  \n01:43\u00a0<polx>\u00a0has quit  \n02:11\u00a0<evalica>\u00a0has quit  \n04:55\u00a0<ssavi>\u00a0has quit  \n05:11\u00a0<ssavi>\u00a0has joined #xwiki  \n06:21\u00a0<mflorea>\u00a0has joined #xwiki  \n08:35\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:01\u00a0<polx>\u00a0has joined #xwiki  \n09:09\u00a0<@cjd>\u00a0Good morning, this spammer here seems to have an odd fixation with modifying UserDirectory, the odd thing is they are not adding any obvious links to commercial products  \n09:12\u00a0<vmassol>\u00a0has joined #xwiki  \n09:27\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r9ec289e\u000f https://github.com/xwiki/xwiki-platform/commit/9ec289edf454e5c4ab80dc1a6d9a86e2bdcc1c62 \u000f/ xwiki-platform-tools/xwiki-platform-tool-packager-plugin/src/main/java/com/xpn/xwiki/tool/backup/AbstractPackager.java :\u000f XWIKI-8067: There is not even produced by the packager maven plugin to let extensions initialize the database - http://git.io/95eysQ  \n10:14\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r6f03af1\u000f https://github.com/xwiki/xwiki-platform/commit/6f03af1000ae62f0970edc74da4fc9d5b7ca5a0b \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f [Small EM UI improvements] - http://git.io/o-B6hA  \n10:15\u00a0<vmassol>\u00a0good morning  \n10:15\u00a0<jvdrean>\u00a0has quit  \n10:16\u00a0<vmassol>\u00a0mflorea: the 2 failing tests should start to work fine in a few minutes (thomas is adding the new missing dep: wikimacro-store)  \n10:16\u00a0<+mflorea>\u00a0great  \n10:16\u00a0<+mflorea>\u00a0I'm planning to start the release after lunch  \n10:17\u00a0<+mflorea>\u00a0I think we still have the issue with the annotations right?  \n10:17\u00a0<vmassol>\u00a0yes but  \n10:17\u00a0<vmassol>\u00a0we can test quickly if it's caused by dots in the page name  \n10:19\u00a0<vmassol>\u00a0mm btw renaming a page seems to loose the annotations, strange  \n10:20\u00a0<vmassol>\u00a0ah no  \n10:20\u00a0<vmassol>\u00a0must because of the dtos  \n10:20\u00a0<vmassol>\u00a0so indeed page with dots fail annotations  \n10:20\u00a0<vmassol>\u00a0see http://incubator.myxwiki.org/xwiki/bin/view/Main/Test.Annotations.txt#Annotations  \n10:20\u00a0<vmassol>\u00a0it says 3 annotations (which is true)  \n10:20\u00a0<vmassol>\u00a0but they're not displayed  \n10:21\u00a0<vmassol>\u00a0hmm I was able to add a new one  \n10:21\u00a0<vmassol>\u00a0but the old ones are lost, I don't know if that's caused by the dots or not  \n10:21\u00a0<vmassol>\u00a0it's not the dots  \n10:22\u00a0<vmassol>\u00a0it's becuase the rename doesn't rename the AnnotationClass data  \n10:22\u00a0<vmassol>\u00a0see http://incubator.myxwiki.org/xwiki/bin/edit/Main/Test.Annotations.txt?editor=object  \n10:22\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r0e4d6c9\u000f https://github.com/xwiki/xwiki-platform/commit/0e4d6c9d45ce412b5133a28cb85581487c412ea2 \u000f/ (2 files in 2 dirs):\u000f Add missing dependency - http://git.io/sOD1ng  \n10:22\u00a0<vmassol>\u00a0(the \"Target\" field isn't updated)  \n10:22\u00a0<+mflorea>\u00a0right..  \n10:23\u00a0<vmassol>\u00a0so we need to try to reproduce on his wiki  \n10:23\u00a0<vmassol>\u00a0trying  \n10:23\u00a0<+tmortagne>\u00a0looks at what maven does not like about xwiki-platform-extension-script  \n10:24\u00a0<vmassol>\u00a0?  \n10:24\u00a0<+tmortagne>\u00a0http://ci.xwiki.org/job/xwiki-platform/2324/org.xwiki.platform$xwiki-platform-extension-script/console  \n10:24\u00a0<+tmortagne>\u00a0Eclipse does not say anything  \n10:25\u00a0<+tmortagne>\u00a0s/looks/looking/  \n10:25\u00a0<vmassol>\u00a0bbin 15mn  \n10:29\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:32\u00a0<+mflorea>\u00a0I can't register on his wiki  \n10:34\u00a0<+tmortagne>\u00a0forgot to push commons...  \n10:36\u00a0<gdelhumeau>\u00a0has quit  \n10:38\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* r7df9aa7\u000f https://github.com/xwiki/xwiki-platform/commit/7df9aa769bb91cdecd0be957f9424515ffcedf35 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-script/src/main/java/org/xwiki/extension/script/internal/safe/AbstractNoExceptionSafeObject.java :\u000f XWIKI-8065: Allow script with PR to fully use all repositories APIs - http://git.io/HTQX7A  \n10:47\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:49\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:54\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:11\u00a0<vmassol>\u00a0has quit  \n11:13\u00a0<vmassol>\u00a0has joined #xwiki  \n11:13\u00a0<vmassol>\u00a0back  \n11:28\u00a0<sburjan>\u00a0has joined #xwiki  \n11:30\u00a0<ssavi>\u00a0has quit  \n11:32\u00a0<evalica>\u00a0has joined #xwiki  \n11:39\u00a0<vmassol>\u00a0mflorea: ok I've finished the analysis of http://jira.xwiki.org/browse/XWIKI-8057 and it's no longer a blocker for 4.2M1 IMO  \n11:39\u00a0<+mflorea>\u00a0ok  \n11:40\u00a0<+mflorea>\u00a0I'll start the release after lunch  \n11:43\u00a0<cjd>\u00a0has quit  \n11:44\u00a0<gdelhumeau>\u00a0has quit  \n11:55\u00a0<vmassol>\u00a0ok going to publish 4.1.3 to maven central  \n11:56\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n12:01\u00a0<cjd>\u00a0has joined #xwiki  \n12:03\u00a0<vmassol>\u00a0hmmm I'm wondering about something  \n12:03\u00a0<vmassol>\u00a0if you look at http://xwiki.475771.n2.nabble.com/  \n12:03\u00a0<vmassol>\u00a0look at the last 2 threads  \n12:03\u00a0<+tmortagne>\u00a0http://jira.xwiki.org/browse/XWIKI-8069 sounds like a real bug  \n12:03\u00a0<vmassol>\u00a0I do'nt think they made it to the list  \n12:03\u00a0<vmassol>\u00a0and I fear that when you post with nabble you have the choice to post to the list or not  \n12:04\u00a0<vmassol>\u00a0and if not, the message stays on nabble but we don't see them if we just look at the lists  \n12:04\u00a0<vmassol>\u00a0which, if I'm correct, means we've lost a lot of messages in the past...  \n12:05\u00a0<vmassol>\u00a0tmortagne: have you been able to reproduce it?  \n12:05\u00a0<+tmortagne>\u00a0not yet  \n12:05\u00a0<vmassol>\u00a0did we change anything related to lucene recently?  \n12:06\u00a0<vmassol>\u00a0so the guy says it's something that was done between 3.5.x and 4.1.3  \n12:06\u00a0<+tmortagne>\u00a0about the mail the same guy complain that he did not get any answer from the list but I can't find his mail so maybe it's the same issue  \n12:06\u00a0<vmassol>\u00a0tmortagne: yeah I fear tat's the reason  \n12:07\u00a0<vmassol>\u00a0if you check http://xwiki.475771.n2.nabble.com/  \n12:07\u00a0<vmassol>\u00a0there's no subforum value  \n12:07\u00a0<vmassol>\u00a0which is a good thing to check if the message was on the list or not  \n12:07\u00a0<vmassol>\u00a0I see quite a few without subforums\u2026 yuck  \n12:08\u00a0<vmassol>\u00a0and even spam  \n12:08\u00a0<vmassol>\u00a0http://xwiki.475771.n2.nabble.com/broken-link-CI-tools-td7579507.html  \n12:09\u00a0<vmassol>\u00a0same here: http://xwiki.475771.n2.nabble.com/XWiki-users-in-the-San-Francisco-Bay-Area-td7579522.html  \n12:09\u00a0<vmassol>\u00a0too bad we didn't answer to this guy  \n12:09\u00a0<vmassol>\u00a0:(  \n12:09\u00a0<+tmortagne>\u00a0si we need to find a way to force nabble to send mails  \n12:09\u00a0<vmassol>\u00a0yes  \n12:09\u00a0<+tmortagne>\u00a0but maybe it's for users who are not registered  \n12:10\u00a0<vmassol>\u00a0it is  \n12:10\u00a0<vmassol>\u00a0I've tried the other day  \n12:10\u00a0<vmassol>\u00a0and I was able to post without registering to the list  \n12:10\u00a0<vmassol>\u00a0but then the mail stays on nabble  \n12:10\u00a0<+tmortagne>\u00a0then we need to forbid that then  \n12:10\u00a0<+tmortagne>\u00a0and not force to send to the mailing list since it's not going to work  \n12:11\u00a0<vmassol>\u00a0checking options  \n12:12\u00a0<+mflorea>\u00a0guys, what's the safest/cleanest way to display a link to a document if you have the document reference as a Velocity variable. My first approach was [[$services.model.serialize($ref)]] but the serialization could contain ]] or any other wiki syntax..  \n12:14\u00a0<+mflorea>\u00a0basically I need to escape wiki syntax and afaik we don't have an API for this currently so I have to use HTML..  \n12:18\u00a0<+tmortagne>\u00a0mflorea: indeed don't see much clean option for this use case in velocity  \n12:18\u00a0<vmassol>\u00a0tmortagne: fyi I've just added you as admin on the nabble forum for xwiki  \n12:18\u00a0<+tmortagne>\u00a0vmassol: ok, did you find something ?  \n12:18\u00a0<vmassol>\u00a0yes  \n12:19\u00a0<+tmortagne>\u00a0cool  \n12:19\u00a0<vmassol>\u00a0not sure it's going to change something  \n12:33\u00a0<gdelhumeau>\u00a0has quit  \n12:45\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n13:12\u00a0<vmassol>\u00a0mflorea: wait before releasing. The old chart macro is not working (just tesed). I need to fix it - probably just a missing dep, but I have to go for lunch now  \n13:13\u00a0<+mflorea>\u00a0vmassol: ok  \n13:30\u00a0<+sburjan>\u00a0vmassol, mflorea : going to start testing the latest 4.2 snapshot  \n13:30\u00a0<+mflorea>\u00a0great, thanks  \n13:30\u00a0<+sburjan>\u00a0gonna follow the MTR  \n13:31\u00a0<+sburjan>\u00a0is there any priotary thing that should be tested ?  \n13:32\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r58f9ddb\u000f https://github.com/xwiki/xwiki-platform/commit/58f9ddb6298c1c33145587874b8072c05c1434d1 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f XWIKI-8070: Improve the display of extension log messages by handling different argument types - http://git.io/QhhHPg  \n13:38\u00a0<+mflorea>\u00a0sburjan: first of all, what is listed in the RN should be working  \n13:55\u00a0<polx>\u00a0has quit  \n13:55\u00a0<vmassol>\u00a0sburjan: in term of priority it's more important that you test 4.1.3 IMO  \n13:56\u00a0<vmassol>\u00a04.2M1 is just a milestone which means we can still fix stuff for M2, RC, etc  \n13:56\u00a0<vmassol>\u00a0your choice though, just stating what comes to mind  \n13:56\u00a0<vmassol>\u00a0;)  \n13:59\u00a0<+tmortagne>\u00a0yep 4.1.3 would be better  \n14:03\u00a0<+sburjan>\u00a0Raluca started 4.1.3 yesterday  \n14:24\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r0089b07\u000f https://github.com/xwiki/xwiki-platform/commit/0089b078e0853ab1e3a43fe67bc194daf2eec1b2 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f XWIKI-8070: Improve the display of extension log messages by handling different argument types - http://git.io/GhZYDg  \n14:43\u00a0<gdelhumeau>\u00a0has quit  \n14:55\u00a0<+sburjan>\u00a0vmassol: I am on the latest 4.2 snapshot and if I search for \"jira\" I only get the contrib maco, but not he one you wrote in java. what am I missing ?  \n14:56\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:00\u00a0<+sburjan>\u00a0I am not able to install your macro :(  \n15:04\u00a0<+tmortagne>\u00a0vmassol: cannot reproduce http://jira.xwiki.org/browse/XWIKI-8069 with fresh jetty/hsqldb distribution  \n15:05\u00a0<+tmortagne>\u00a0so it's probably not a blocker and more related to his environment  \n15:05\u00a0<vmassol>\u00a0tmortagne: ok  \n15:05\u00a0<vmassol>\u00a0sburjan: let me check  \n15:05\u00a0<polx>\u00a0has joined #xwiki  \n15:10\u00a0<vmassol>\u00a0@sorin: it's normal  \n15:10\u00a0<vmassol>\u00a04.2M1 is not released yet  \n15:10\u00a0<vmassol>\u00a0thus I haven't updated the jira extension page with the download  \n15:11\u00a0<vmassol>\u00a0you need to add a snapshot repo  \n15:11\u00a0<vmassol>\u00a0then you'll be able to add it  \n15:12\u00a0<+sburjan>\u00a0is there any documentation on doing this ?  \n15:12\u00a0<vmassol>\u00a0yes  \n15:13\u00a0<vmassol>\u00a0if you can't find it it's not a good sign ;)  \n15:13\u00a0<vmassol>\u00a0IMO it could be improved  \n15:13\u00a0<vmassol>\u00a0(the location)  \n15:13\u00a0<vmassol>\u00a0we \u00a0also need a UI in the future for this  \n15:14\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Extension+Module#HConfiguringExtensionRepositories  \n15:16\u00a0<+sburjan>\u00a0thanks  \n15:19\u00a0<vmassol>\u00a0mflorea: almost ready but I'm trying to analyse a last isseu  \n15:22\u00a0<+sburjan>\u00a0vmassol: I am not able to activate the snapshot repository. I added the \"extension.repositories=maven-xwiki-snapshot:maven:http://nexus.xwiki.org/nexus/content/groups/public-snapshots/\" right after line 428 from xwiki.proprieties and restarted the wiki. My line is not commented. Now I can't find anything :)  \n15:22\u00a0<vmassol>\u00a0becaue you did't read completely the doc :)  \n15:23\u00a0<vmassol>\u00a0sburjan: you've just configured one repo only  \n15:23\u00a0<vmassol>\u00a0so it's normal  \n15:23\u00a0<+sburjan>\u00a0well I was expecting to have the default repos + the one I added  \n15:23\u00a0<vmassol>\u00a0I know what you were expecting  \n15:24\u00a0<+sburjan>\u00a0I think a dumb user would expect this  \n15:24\u00a0<+sburjan>\u00a0me being dumb ATM  \n15:24\u00a0<vmassol>\u00a0sure but we don't want dumb users ;)  \n15:24\u00a0<vmassol>\u00a0this is not for dumb users  \n15:24\u00a0<vmassol>\u00a0for dumb users we'll provide a UI  \n15:25\u00a0<vmassol>\u00a0otherwise we can't allow to change the repos which would remove a feature  \n15:25\u00a0<+sburjan>\u00a0then I'm dumb at reading documentation  \n15:25\u00a0<vmassol>\u00a0improve it if you want  \n15:25\u00a0<vmassol>\u00a0i thought I had been very very specific  \n15:26\u00a0<vmassol>\u00a0I even gave a full example  \n15:26\u00a0<+sburjan>\u00a0yes, for Maven local repo  \n15:27\u00a0<+sburjan>\u00a0but the line from snapshots doesn't seem to work  \n15:27\u00a0<vmassol>\u00a0so you assumed that adding a different repo makes the rule different?  \n15:27\u00a0<vmassol>\u00a0I've put \"...\"  \n15:27\u00a0<vmassol>\u00a0\"doesn't seem to work\" = ?  \n15:27\u00a0<vmassol>\u00a0it works  \n15:27\u00a0<vmassol>\u00a0what happens is that you don't know  \n15:27\u00a0<vmassol>\u00a0that there are 2 types of repositories  \n15:28\u00a0<vmassol>\u00a0searchable ones and non searchable ones  \n15:28\u00a0<vmassol>\u00a0maven repos are not searchable  \n15:28\u00a0<vmassol>\u00a0so you need to use the advanced install  \n15:29\u00a0<vmassol>\u00a0tmortagne: it would be nice in the search results to display the list of non searchable repos  \n15:29\u00a0<+sburjan>\u00a0ok, so I assume that the snapshot repo, being a maven repo is not searchable. so I have to use advanced search so I can find your JIra extension  \n15:29\u00a0<vmassol>\u00a0s/tmortagne/mflorea/  \n15:29\u00a0<vmassol>\u00a0;)  \n15:29\u00a0<vmassol>\u00a0ie list the repos from which results are returned from and explicitly mention non searchable repos to inform the user  \n15:29\u00a0<vmassol>\u00a0sburjan: you can create a jira issue for mflorea if you wish, would be a good thing  \n15:30\u00a0<+tmortagne>\u00a0sburjan: yes you need to use advanced search  \n15:31\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* rc23d05f\u000f https://github.com/xwiki/xwiki-enterprise/commit/c23d05fd88b5c80bcef915380a65e9803ee8e2d0 \u000f/ (pom.xml xwiki-enterprise-web/pom.xml):\u000f XWIKI-8016: Remove the Chart plugin - http://git.io/A6I4gQ  \n15:32\u00a0<+mflorea>\u00a0vmassol: I'm not sure about displaying the list of repos, I find it a bit too technical  \n15:32\u00a0<+sburjan>\u00a0vmassol: success. I was able to find it.  \n15:32\u00a0<vmassol>\u00a0mflorea: maybe, but we need to have a way to let the user understands why he's not finding something  \n15:32\u00a0<vmassol>\u00a0@mflorea why not do this only if there's no search result  \n15:33\u00a0<vmassol>\u00a0?  \n15:33\u00a0<vmassol>\u00a0dunno actually  \n15:33\u00a0<vmassol>\u00a0food for thought  \n15:33\u00a0<+sburjan>\u00a0and I got a small stack :)  \n15:33\u00a0<+sburjan>\u00a0Could not find extension dependency [com.atlassian.jira:jira-rest-java-client-0.3.1]  \n15:34\u00a0<+sburjan>\u00a0I can't explain why everything fails when I want to play with something. I never used to break my toys when I was a chil  \n15:34\u00a0<+sburjan>\u00a0d  \n15:34\u00a0<vmassol>\u00a0becuase your toys were not computer programs at the time  \n15:34\u00a0<vmassol>\u00a0;)  \n15:34\u00a0<vmassol>\u00a0if they were they'd have broken  \n15:35\u00a0<+mflorea>\u00a0well, there are bigger problems than this, the search is very fragile if you use special characters..  \n15:35\u00a0<+mflorea>\u00a0sburjan: that's not a stack  \n15:35\u00a0<vmassol>\u00a0tmortagne: see I told you it looked too technical ;)  \n15:35\u00a0<+sburjan>\u00a0mflorea: let me pastebin it.  \n15:36\u00a0<+sburjan>\u00a0http://pastebin.com/ZGMqkhRX  \n15:36\u00a0<vmassol>\u00a0that's really a stack ;)  \n15:37\u00a0<+sburjan>\u00a0I need a more technical training on EM to understand its backend. I can't say if this is because I am using a snapshot repo or not ... don't know much about EM backend  \n15:38\u00a0<+tmortagne>\u00a0it just mean it could not find this extension, then it depends where it is supposed to be and if you have this repository  \n15:38\u00a0<+mflorea>\u00a0sburjan: did you change xwiki.properties?  \n15:38\u00a0<+tmortagne>\u00a0it does not seems to be on maven central at least  \n15:39\u00a0<+tmortagne>\u00a0sburjan: do you have only the snapshot repository or did you also put the default repository like vmassol told you ?  \n15:39\u00a0<+sburjan>\u00a0mflorea: yes, I added this line: extension.repositories=maven-xwiki-snapshot:maven:http://nexus.xwiki.org/nexus/content/groups/public-snapshots/ at line 429, saved, restarted the wiki and used advanced search to find the java jira macro  \n15:39\u00a0<+sburjan>\u00a0only what I added is \\_not\\_ commented  \n15:39\u00a0<+sburjan>\u00a0the other two are commented  \n15:40\u00a0<+mflorea>\u00a0so you have only this one  \n15:40\u00a0<+sburjan>\u00a0yes, only this one is uncommented  \n15:40\u00a0<+tmortagne>\u00a0sburjan: you need to have them as vmassol told you to otherwise you have only yours  \n15:40\u00a0<+sburjan>\u00a0let me try uncommenting the other two (the defaults)  \n15:41\u00a0<+tmortagne>\u00a0it's like that because sometime you don't want the default repositories like during test for example or when you want to use only a local repository in an intranet without access to internet  \n15:41\u00a0<gdelhumeau>\u00a0has quit  \n15:42\u00a0<+sburjan>\u00a0yes, so basically as long as there is no other repo added, it uses the default. If I add another one, I have to manually uncomment so the defaults can also be taken into account  \n15:43\u00a0<vmassol>\u00a0you're doing an override  \n15:43\u00a0<vmassol>\u00a0mflorea: ready on my side  \n15:43\u00a0<+tmortagne>\u00a0sburjan: said another whay when you start customizing your are on your own  \n15:44\u00a0<vmassol>\u00a0mflorea: there's a little issue with the old chart macro displaying some warning in the console but it's not a showtopper and it was there before I believe  \n15:44\u00a0<vmassol>\u00a0sburjan: actually you shouldn't even try this  \n15:44\u00a0<vmassol>\u00a0as a normal user  \n15:44\u00a0<+mflorea>\u00a0vmassol: ok  \n15:44\u00a0<vmassol>\u00a0the only reason you have to try this is because it's not released yet  \n15:44\u00a0<vmassol>\u00a0now we need to understand why it's failing  \n15:45\u00a0<+sburjan>\u00a0yes, but it's nice usually to test before relasing, right ?  \n15:45\u00a0<vmassol>\u00a0yep  \n15:45\u00a0<vmassol>\u00a0this is an issue we're going to have more and more  \n15:45\u00a0<vmassol>\u00a0so we'll need to find a solution  \n15:45\u00a0<+sburjan>\u00a0we'll have to find a way so I can test properly on snapshots too  \n15:45\u00a0<+sburjan>\u00a0because it's still not working :(  \n15:45\u00a0<+sburjan>\u00a0I uncommented the 2 defaults, added my third line with snapshots, now the install is hanging  \n15:46\u00a0<vmassol>\u00a0normal  \n15:46\u00a0<vmassol>\u00a0;)  \n15:46\u00a0<vmassol>\u00a0the first install didn't go through  \n15:46\u00a0<vmassol>\u00a0so it's still installing it for some reason  \n15:46\u00a0<vmassol>\u00a0the UI is a pain for this, its not yet finished  \n15:47\u00a0<+sburjan>\u00a0all I wanted is just to play a little bit with your jira macro :)  \n15:47\u00a0<+tmortagne>\u00a0well sburjan should have rested so I don't see wht the install would still running  \n15:47\u00a0<vmassol>\u00a0mflorea needs to add a simpler view to see ongoing jobs in progress  \n15:47\u00a0<+tmortagne>\u00a0restarted  \n15:47\u00a0<+tmortagne>\u00a0plus he never started any install  \n15:47\u00a0<vmassol>\u00a0if it's restarted then it's different indeed  \n15:47\u00a0<+tmortagne>\u00a0was just install plan  \n15:47\u00a0<+sburjan>\u00a0tmortagne: I restarted, re-searched the extension and pressed Install  \n15:47\u00a0<+mflorea>\u00a0vmassol: yes, it's \u00a0planned  \n15:48\u00a0<+sburjan>\u00a0wait. Now I have a list of 20 dependencies :D  \n15:48\u00a0<+tmortagne>\u00a0sburjan: so that's why it took a long time  \n15:48\u00a0<+tmortagne>\u00a0it resolve each dependency one by one in the dependency tree to get informations  \n15:48\u00a0<+sburjan>\u00a0wow vmassol 20 dependencies, looks a serious extension :)  \n15:49\u00a0<vmassol>\u00a0strange  \n15:49\u00a0<vmassol>\u00a0how did you figure out the extension id sorin? :)  \n15:49\u00a0<vmassol>\u00a0(just curious)  \n15:50\u00a0<vmassol>\u00a0org.xwiki.platform:xwiki-platform-jira  \n15:51\u00a0<+sburjan>\u00a0found it on maven and rebuilt by the rule: groupId:artefactId  \n15:51\u00a0<vmassol>\u00a0ok so you are indeed an expert in EM ;)  \n15:51\u00a0<+sburjan>\u00a0looking at the URL  \n15:51\u00a0<+sburjan>\u00a0:))  \n15:51\u00a0<vmassol>\u00a0I've tried  \n15:51\u00a0<vmassol>\u00a0and there are only 2 depds  \n15:51\u00a0<vmassol>\u00a02 deps  \n15:52\u00a0<+sburjan>\u00a0where can I post an image online ? :)  \n15:52\u00a0<vmassol>\u00a0argh I've used the wrong extension :)  \n15:53\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n15:53\u00a0<vmassol>\u00a0it's org.xwiki.platform:xwiki-rendering-macro-jira  \n15:53\u00a0<vmassol>\u00a0tmortagne: it's really slow....  \n15:53\u00a0<vmassol>\u00a0e.x.o doesn't seem taht slow though  \n15:53\u00a0<+sburjan>\u00a0then I installed something else :) I used org.xwiki.platform:xwiki-platform-jira with 4.2-SNAPSHOT as version  \n15:53\u00a0<vmassol>\u00a0and maven.xwiki.org is fast too  \n15:54\u00a0<vmassol>\u00a0sburjan: that's not hte JIRa macro  \n15:54\u00a0<vmassol>\u00a0\"Component for using Atlassian's JIRA REST API to access JIRA instances\"  \n15:54\u00a0<vmassol>\u00a0but it has only 2 deps  \n15:54\u00a0<vmassol>\u00a0it's taking forever  \n15:54\u00a0<+sburjan>\u00a0so you see, I am not an EM expert ! :)  \n15:54\u00a0<vmassol>\u00a0to install  \n15:55\u00a0<vmassol>\u00a0ah ok I understans what you meant now  \n15:55\u00a0<vmassol>\u00a0it has 2 deps  \n15:55\u00a0<vmassol>\u00a0but lots of transitivie ones  \n15:55\u00a0<+tmortagne>\u00a0vmassol: it's doing one request by extension, on several repositories if it's not in the first one listed  \n15:55\u00a0<+sburjan>\u00a0yes  \n15:55\u00a0<+tmortagne>\u00a0so with a big dependency tree it can probably takes time  \n15:55\u00a0<vmassol>\u00a0oops  \n15:55\u00a0<vmassol>\u00a0wrong id agai  \n15:56\u00a0<vmassol>\u00a0org.xwiki.rendering:xwiki-rendering-macro-jira  \n15:56\u00a0<vmassol>\u00a0tmortagne: sure but it's really slow  \n15:56\u00a0<vmassol>\u00a0by really I mean several minutes  \n15:56\u00a0<vmassol>\u00a0like 3-4  \n15:57\u00a0<+sburjan>\u00a0vmassol: yes, this one has only 2 deps: jDom and XWiki Rendering - Macro - JIRA  \n15:59\u00a0<+sburjan>\u00a0success. vmassol, but I don't see the content text area, where I put the issues  \n15:59\u00a0<+sburjan>\u00a0when I add it using WYSIWYG  \n16:04\u00a0<+sburjan>\u00a0I get a org.xwiki.rendering.macro.MacroExecutionException: Unknown JIRA style [table]  \n16:04\u00a0<+sburjan>\u00a0the macro seems broken  \n16:06\u00a0<vmassol>\u00a0sburjan: I rthink you've found a bug  \n16:06\u00a0<vmassol>\u00a0it works fine in wiki mode but the descriptor is missing the content field  \n16:07\u00a0<vmassol>\u00a0mflorea: do I have 30mn more?  \n16:12\u00a0<+sburjan>\u00a0;)  \n16:13\u00a0<gdelhumeau>\u00a0has quit  \n16:13\u00a0<+sburjan>\u00a0I feel hated  \n16:13\u00a0<vmassol>\u00a0I've fixed it, now retesting  \n16:13\u00a0<vmassol>\u00a0why? you should feel useful  \n16:14\u00a0<+sburjan>\u00a0yes, but blocking the release and keeping you from doing what you have on the toDo list for with dumb questions on IRC ...  \n16:14\u00a0<vmassol>\u00a0well this was a bug you found  \n16:15\u00a0<vmassol>\u00a0which btw is in 4.1.3  \n16:17\u00a0<+mflorea>\u00a0vmassol: yes, I need to commit an update to EM tests  \n16:20\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rafc74c0\u000f https://github.com/xwiki/xwiki-platform/commit/afc74c01fd6dd9d200eefa35a84efed9276feb93 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f XWIKI-8070: Improve the display of extension log messages by handling different argument types - http://git.io/Y1-rsw  \n16:24\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:25\u00a0<polx>\u00a0has quit  \n16:28\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r96a932d\u000f https://github.com/xwiki/xwiki-enterprise/commit/96a932d13a20869b80f77d9eef013d2b55e75220 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/src/test/it/org/xwiki/test/ui/extension/ExtensionTest.java :\u000f XWIKI-8070: Improve the display of extension log messages by handling different argument types - http://git.io/a8xbZw  \n16:36\u00a0<vmassol>\u00a0tmortagne: I have a serious problem with EM  \n16:36\u00a0<vmassol>\u00a0while trying to install the jira macro  \n16:36\u00a0<vmassol>\u00a0it installs fine but it seems the components are not registered properly  \n16:37\u00a0<vmassol>\u00a0https://gist.github.com/3129749  \n16:37\u00a0<+tmortagne>\u00a0vmassol: could it be the same issue than with script service when whetver need thoses components is requesting them on root CM only ?  \n16:37\u00a0<vmassol>\u00a0yes it could  \n16:37\u00a0<vmassol>\u00a0but it's not a scritp service  \n16:37\u00a0<vmassol>\u00a0ah no it's different then  \n16:37\u00a0<vmassol>\u00a0it's similar in the sense that it's a component not being registered  \n16:37\u00a0<+tmortagne>\u00a0sure but I 'm sure we have the same issue with lots of other things  \n16:37\u00a0<+tmortagne>\u00a0no  \n16:38\u00a0<+tmortagne>\u00a0it's registered  \n16:38\u00a0<vmassol>\u00a0but you fixed that no?  \n16:38\u00a0<+tmortagne>\u00a0but it's not lokkuped on the right XM  \n16:38\u00a0<+tmortagne>\u00a0CM  \n16:38\u00a0<+tmortagne>\u00a0it has nothing to do with ELM  \n16:38\u00a0<+tmortagne>\u00a0EM  \n16:38\u00a0<+tmortagne>\u00a0what I fixed is the script service  \n16:38\u00a0<vmassol>\u00a0well it has  \n16:38\u00a0<+tmortagne>\u00a0no  \n16:38\u00a0<vmassol>\u00a0becuase it works fine if not installed with EM  \n16:38\u00a0<+tmortagne>\u00a0the EM register the component where it is asked to  \n16:38\u00a0<+tmortagne>\u00a0in this case on some wiki  \n16:38\u00a0<+tmortagne>\u00a0yes  \n16:38\u00a0<+tmortagne>\u00a0because in lib it ends up in root CM  \n16:39\u00a0<vmassol>\u00a0there's nothing special here  \n16:39\u00a0<vmassol>\u00a0just standard annotations  \n16:39\u00a0<+tmortagne>\u00a0teh issue is not with the registered extension but with the code that lookup it  \n16:40\u00a0<+tmortagne>\u00a0registered component  \n16:40\u00a0<vmassol>\u00a0the code that does the lookup does it the snatdard way:  \n16:40\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0@Inject  \n16:40\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0private ComponentManager componentManager;  \n16:40\u00a0<vmassol>\u00a0and then:  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0JIRADataSource source;  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0try {  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0source = this.componentManager.getInstance(JIRADataSource.class, parameters.getSource());  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0} catch (ComponentLookupException e) {  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0throw new MacroExecutionException(String.format(\"Unknown JIRA source [%s]\", parameters.getSource()), e);  \n16:41\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \n16:41\u00a0<vmassol>\u00a0if that doesn't work with EM then nothing works with EM  \n16:41\u00a0<vmassol>\u00a0because it's our standard way of doing it everywhere  \n16:41\u00a0<+tmortagne>\u00a0yes it does the standard way which is not the right way  \n16:41\u00a0<+tmortagne>\u00a0it has to use context CM  \n16:42\u00a0<vmassol>\u00a0then we have a huge issue  \n16:42\u00a0<+tmortagne>\u00a0its not about EM, it's about multi CM, wiki macro works exactly this way  \n16:43\u00a0<vmassol>\u00a0from the user POV EM is not working  \n16:43\u00a0<vmassol>\u00a0so right now EM cannot install 99% of all our code  \n16:44\u00a0<vmassol>\u00a0that's pretty serious  \n16:44\u00a0<+tmortagne>\u00a0it's not 99%..  \n16:44\u00a0<vmassol>\u00a0ok 90%  \n16:44\u00a0<vmassol>\u00a0;)  \n16:44\u00a0<vmassol>\u00a0even if 50% if still is serious  \n16:50\u00a0<CIA-114>\u00a0Vincent Massol\u000f master\u000f \\* r139e8e9\u000f https://github.com/xwiki/xwiki-rendering/commit/139e8e96a748a19e51f53cb68d16021dbefb917f \u000f/ xwiki-rendering-macros/xwiki-rendering-macro-jira/src/main/java/org/xwiki/rendering/internal/macro/jira/JIRAMacro.java :\u000f XRENDERING-213: Add JIRA Macro - http://git.io/Gft2hA  \n16:53\u00a0<CIA-114>\u00a0Vincent Massol\u000f stable-4.1.x\u000f \\* recc713a\u000f https://github.com/xwiki/xwiki-rendering/commit/ecc713a9f53b2a49ebaaff654200fb6a352e49cc \u000f/ xwiki-rendering-macros/xwiki-rendering-macro-jira/src/main/java/org/xwiki/rendering/internal/macro/jira/JIRAMacro.java :\u000f XRENDERING-213: Add JIRA Macro - http://git.io/qgwQpQ  \n16:55\u00a0<vmassol>\u00a0mflorea: we have an important blocker: all extensions using components with lookups done like this are failing: @Inject private ComponentManager componentManager  \n16:55\u00a0<vmassol>\u00a0(AFAIU)  \n16:56\u00a0<+mflorea>\u00a0so the problem is just with injecting the CM, because I have a integration test with @Inject  \n16:56\u00a0<+tmortagne>\u00a0no it's not with inject CM  \n16:56\u00a0<+mflorea>\u00a0but it's a simple component that is injected, not the CM  \n16:56\u00a0<vmassol>\u00a0if I understand correctly the EM will register components in the wiki CM  \n16:56\u00a0<+tmortagne>\u00a0it's because this CM is the root CM  \n16:57\u00a0<vmassol>\u00a0hmm no that cannot be that  \n16:57\u00a0<vmassol>\u00a0because the root CM is the parent of the wiki CM  \n16:57\u00a0<+tmortagne>\u00a0yes  \n16:57\u00a0<+tmortagne>\u00a0and ?  \n16:57\u00a0<vmassol>\u00a0so if they are registered in the wiki CM  \n16:57\u00a0<vmassol>\u00a0then the root CM will see them  \n16:57\u00a0<+tmortagne>\u00a0no  \n16:57\u00a0<+tmortagne>\u00a0if they are registered in the root CM the wiki CM will see them  \n16:58\u00a0<vmassol>\u00a0ah yes int's inverted  \n16:58\u00a0<vmassol>\u00a0so all components registered by the EM will get int he wiki CM  \n16:58\u00a0<vmassol>\u00a0and almost all our code uses the root CM  \n16:58\u00a0<vmassol>\u00a0(to lookup components dynamically)  \n16:59\u00a0<+tmortagne>\u00a0not all  \n16:59\u00a0<+tmortagne>\u00a0you can regsiter on the root CM  \n16:59\u00a0<+tmortagne>\u00a0I mean install extension for the whole farm  \n17:00\u00a0<+tmortagne>\u00a0in multiwiki  \n17:00\u00a0<+mflorea>\u00a0vmassol: Thomas and I though that it is better to install using the 'xwiki' namespace for XE  \n17:00\u00a0<vmassol>\u00a0tmortagne: I'm on a single wiki  \n17:00\u00a0<+tmortagne>\u00a0in case you make you XE a multiwiki  \n17:00\u00a0<vmassol>\u00a0so it doens't make much sense to reigster in the wiki CM  \n17:00\u00a0<+tmortagne>\u00a0so that you don't sudennly ends up with all your extension all all wikis  \n17:01\u00a0<vmassol>\u00a0mflorea: fine but you didn't think about the consequences ....  \n17:01\u00a0<+tmortagne>\u00a0s/all all/in all/  \n17:01\u00a0<vmassol>\u00a0consequences is that a portion of extensions installed through EM are not working now  \n17:01\u00a0<vmassol>\u00a0including the new jira macro  \n17:02\u00a0<+tmortagne>\u00a0it's \u00a0not exactly a consequence mflorea could have in mind and when we did it I tough context CM was the default injected CM  \n17:02\u00a0<+tmortagne>\u00a0which I learn after is not true  \n17:02\u00a0<vmassol>\u00a0basically it menas that right now an extension writer needs to be aware if his extension is going to be installed from EM or not  \n17:02\u00a0<vmassol>\u00a0(or said differently if his extension is going ot be used in multi wiki or not)  \n17:03\u00a0<+tmortagne>\u00a0not an extension writer  \n17:03\u00a0<vmassol>\u00a0yes the etxension writer  \n17:03\u00a0<+tmortagne>\u00a0code in root CM that lookup dynamically  \n17:03\u00a0<vmassol>\u00a0for ex if I want to make my jira macro work everywhere  \n17:03\u00a0<vmassol>\u00a0I need to \u00a0get the context CM  \n17:03\u00a0<+tmortagne>\u00a0there is nothing you can do at \u00a0extension level  \n17:04\u00a0<vmassol>\u00a0you mean it's not going to work if I get injected a context CM?  \n17:04\u00a0<+tmortagne>\u00a0if you extension is installed on a wiki you will be injected with the wiki CM  \n17:04\u00a0<vmassol>\u00a0(in my jira macro)  \n17:04\u00a0<vmassol>\u00a0only if I ask for it  \n17:04\u00a0<+tmortagne>\u00a0the \u00a0issue has nothing to do with your extension  \n17:05\u00a0<+tmortagne>\u00a0your extension is supposed to be injected with its CM with is the wiki CM already  \n17:05\u00a0<vmassol>\u00a0no  \n17:05\u00a0<vmassol>\u00a0my extension works fine with @Inject CM cm  \n17:05\u00a0<vmassol>\u00a0I even have tests to proveit  \n17:05\u00a0<+tmortagne>\u00a0where did I said it was not working ?  \n17:06\u00a0<+tmortagne>\u00a0i'm explaining you what it mean to have a component on a wiki CM  \n17:06\u00a0<vmassol>\u00a0you said that I needed to use the context CM in my extension, didn't you?  \n17:06\u00a0<+tmortagne>\u00a0no  \n17:06\u00a0<+tmortagne>\u00a0I said that a root component has to use context CM  \n17:06\u00a0<vmassol>\u00a0\"yes it does the standard way which is not the right way  \n17:06\u00a0<vmassol>\u00a04:38  \n17:06\u00a0<vmassol>\u00a0it has to use context CM\"  \n17:06\u00a0<+tmortagne>\u00a0otherwise it only knows about root CM  \n17:07\u00a0<vmassol>\u00a0I'm lost but if it has nothing to do with my extension please fix the issue  \n17:07\u00a0<vmassol>\u00a0because right now my extension doesn't install properly with the EM  \n17:07\u00a0<+tmortagne>\u00a0vmassol: you did not said this code was from your extension and as I said many time the issue is with components on root CM  \n17:07\u00a0<+tmortagne>\u00a0it is properly installed  \n17:08\u00a0<vmassol>\u00a0you're playing on works tmortagne  \n17:08\u00a0<vmassol>\u00a0it's not working  \n17:08\u00a0<vmassol>\u00a0\\*words  \n17:08\u00a0<+tmortagne>\u00a0if you lookup does not work then maybe there is a bug in EmbeddededCM which inject the root CM instead of the current CM  \n17:08\u00a0<+tmortagne>\u00a0no i'm not  \n17:08\u00a0<+tmortagne>\u00a0I'm trying ti understand the issue here  \n17:08\u00a0<vmassol>\u00a0ah ok I thought you knew the problem  \n17:08\u00a0<+tmortagne>\u00a0I don't see the point in saying it's all EM fault just fix it  \n17:09\u00a0<vmassol>\u00a0because so far you said you knew exactly what was the problem  \n17:09\u00a0<vmassol>\u00a0I personally don't undestand a thing now  \n17:09\u00a0<vmassol>\u00a0I thought I understood but not I'm fully lost  \n17:10\u00a0<vmassol>\u00a0s/not/now  \n17:12\u00a0<vmassol>\u00a0all I understand is that there's been a regression recently wchich from my understanding comes from the fact that now components are registered in the wiki CM even on single wikis. So we need to decide how to fix this before we can release 4.2M1  \n17:12\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r8a4b386\u000f https://github.com/xwiki/xwiki-platform/commit/8a4b38620ed1ee504264c54700660c6c706b65cf \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-test-pageobjects/src/main/java/org/xwiki/extension/test/po/MergeConflictPane.java :\u000f XWIKI-7983: Add test page objects for the Extension Manager UI - http://git.io/h6tW0Q  \n17:13\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r0d5ce35\u000f https://github.com/xwiki/xwiki-enterprise/commit/0d5ce35fc03f413aece01917b492f6c062a8f2c4 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-extension/src/test/it/org/xwiki/test/ui/extension/ExtensionTest.java :\u000f XE-1204: Add functional tests for Extension Manager - http://git.io/VX0Pmw  \n17:13\u00a0<vmassol>\u00a0we can also say that adding the feature to install only a given wiki has caused this regression, but we still need to a way to fix the issue  \n17:14\u00a0<vmassol>\u00a0s/only a given wiki/only on a given wiki  \n17:14\u00a0<vmassol>\u00a0mflorea: you need a new test for this apparently ;)  \n17:16\u00a0<+mflorea>\u00a0vmassol: sure, I can add one, re regression, are you sure the jira macro was working in XEM when installed in a subwiki? Because now XE behaves like a normal wiki, which makes it easier to detect bugs we have in multiwiki with EM  \n17:17\u00a0<vmassol>\u00a0I don't know but I don't see why not since it's using only the root CM  \n17:17\u00a0<vmassol>\u00a0the macro was not coded to be installed in a given subwiki only  \n17:18\u00a0<+mflorea>\u00a0ok, to me it looks like that's the issue  \n17:18\u00a0<vmassol>\u00a0this is what I was saying  \n17:18\u00a0<+mflorea>\u00a0that you expect the extension to be installed 'globally' (in the root)  \n17:18\u00a0<vmassol>\u00a0right now it means that all extensio, developers need to be aware that their extension might be installed on subwikis and thus they need to code accordingly  \n17:18\u00a0<vmassol>\u00a0but thomas said no  \n17:18\u00a0<vmassol>\u00a0and that it has nothing to do with how the extension is written  \n17:19\u00a0<+mflorea>\u00a0Thomas is saying that the @Inject mechanism should use the right CM  \n17:19\u00a0<+mflorea>\u00a0so that the extension creator doesn't care where the extension is installed  \n17:19\u00a0<vmassol>\u00a0ok so he's proposing something new here right?  \n17:19\u00a0<+mflorea>\u00a0i.e. in which namespace (wiki, user, etc.)  \n17:19\u00a0<vmassol>\u00a0not something that exist  \n17:20\u00a0<vmassol>\u00a0that looks a bit dangerous  \n17:20\u00a0<vmassol>\u00a0at least we need to be careful  \n17:20\u00a0<vmassol>\u00a0because for ex  \n17:20\u00a0<vmassol>\u00a0the extension writer may need to explictley get the root CM  \n17:21\u00a0<+mflorea>\u00a0why?  \n17:21\u00a0<vmassol>\u00a0(and not another CM)  \n17:21\u00a0<+mflorea>\u00a0as Thomas explained, if you have a wiki CM you get components from root CM  \n17:21\u00a0<vmassol>\u00a0imagine I want to write a compoent that lists all components located in which CM  \n17:22\u00a0<vmassol>\u00a0also  \n17:23\u00a0<vmassol>\u00a0maybe there are problems if I ask explicitely for a given CM but considering I'm on the root CM  \n17:23\u00a0<vmassol>\u00a0I don't know realyl the use case because I haven't thought about it  \n17:23\u00a0<vmassol>\u00a0I'm just saying that dynamically deciding to inject different things depending on the context can be dnagerous  \n17:24\u00a0<vmassol>\u00a0if we were starting from scratch for ex, it would be better  \n17:24\u00a0<+mflorea>\u00a0I don't see otherwise how you can achieve namespace in CM  \n17:24\u00a0<vmassol>\u00a0to inject the contetx CM when you wanted to use the context CM  \n17:24\u00a0<+tmortagne>\u00a0we will go back to whole farm as default in XE for 4.1 branch for now and I will debug this use case to understand what's wrong exactly but getting the root CM when you are a wiki component is definitely a bug  \n17:25\u00a0<+tmortagne>\u00a0so it's that's the issue I will fix it  \n17:25\u00a0<vmassol>\u00a0yes we can fix in 4.2M2  \n17:25\u00a0<+tmortagne>\u00a0s/it's/if/  \n17:25\u00a0<vmassol>\u00a0it seems too complex to fix just now for 4.2M1  \n17:26\u00a0<vmassol>\u00a0does it mean we need to remove the \"install in a wiki\" feature in 4.2M1?  \n17:27\u00a0<vmassol>\u00a0so in 4.2M1 when someone installs a jar extension with components in a multiwiki it'll be installed for all subwikis right?  \n17:27\u00a0<vmassol>\u00a0XARs will work, it's \"just \" a problem with jar extebsions with components  \n17:27\u00a0<vmassol>\u00a0we probably need a warning in the RN  \n17:28\u00a0<+tmortagne>\u00a0install on a wiki is not a new feature  \n17:28\u00a0<+tmortagne>\u00a0the UI is just more clear now  \n17:28\u00a0<vmassol>\u00a0I know but that doesn't make it less dangerous  \n17:28\u00a0<+mflorea>\u00a0vmassol: I have a integration test that installs a jar extension with a component and a script serivice and it works, so I don't see why you're talking about all jar extensions with components  \n17:28\u00a0<vmassol>\u00a0it's not all mflorea  \n17:29\u00a0<vmassol>\u00a0it's all that do dynamic lookups  \n17:29\u00a0<vmassol>\u00a0on the root CM and not on the cotext CM  \n17:29\u00a0<+mflorea>\u00a0ok  \n17:30\u00a0<+sburjan>\u00a0bbl  \n17:30\u00a0<sburjan>\u00a0has quit  \n17:31\u00a0<vmassol>\u00a0personally I'm also fine if we say that all components need to use the context CM if they want to be usable in multiwiki but in this case we need to do some checks somehow and prevent installing in a subwiki extensions that won't work there  \n17:32\u00a0<vmassol>\u00a0and we need a vote and ensure that all devs agree about this  \n17:32\u00a0<vmassol>\u00a0it's an important decision  \n17:33\u00a0<vmassol>\u00a0or we say that the context CM doesn't \u00a0exist anymore and you're injecting automatically the right CM if you ask for the \"default\" CM  \n17:33\u00a0<vmassol>\u00a0\\*injected  \n17:33\u00a0<vmassol>\u00a0but all this is for post 4.2M1 I agree  \n17:33\u00a0<vmassol>\u00a0we're too much in a hurry now  \n17:34\u00a0<vmassol>\u00a0mflorea: for my knowledge, was this done only on 4.2M1 or is it also in 4.1.3?  \n17:35\u00a0<ssavi>\u00a0has joined #xwiki  \n17:36\u00a0<+mflorea>\u00a0vmassol: on my side, I committed in 4.1.3 the change to install using non-null namespace in XE  \n17:36\u00a0<vmassol>\u00a0so it means we have the same issue in 4.1.3?  \n17:37\u00a0<+mflorea>\u00a0yes  \n17:37\u00a0<vmassol>\u00a0ouch  \n17:37\u00a0<vmassol>\u00a0that makes it a huge regression on 4.1.3  \n17:37\u00a0<vmassol>\u00a0ie extensions that were working not working anymore  \n17:37\u00a0<+mflorea>\u00a0tmortagne: needs to confirm this  \n17:39\u00a0<+tmortagne>\u00a0yes it's the same in 4.1.3 since all that is old stuff and the only thing that changed is that an extension is installed on xwiki wiki instead of the whole farm by default  \n17:39\u00a0<+mflorea>\u00a0but as I said (and if I understood correctly), this change only showed that we have an issue when installing in subwikis extensions that do dynamic lookup (EM handles XE as any wiki after this change)  \n17:40\u00a0<vmassol>\u00a0mflorea: so you're saying that we don't have any extension like this?  \n17:40\u00a0<vmassol>\u00a0which is wrong  \n17:40\u00a0<vmassol>\u00a0obviously  \n17:40\u00a0<vmassol>\u00a0since we have the jira macro for example  \n17:40\u00a0<+mflorea>\u00a0no, I'm saying that we had this issue before for subwikis, and now that XE is handles by EM as a normal wiki we have this in XE too  \n17:40\u00a0<vmassol>\u00a0this means the jira macro which was released on 4.1.3 to be usable in 4.1.3 cannot be used through the EM in 4.1.3  \n17:41\u00a0<vmassol>\u00a0ok  \n17:41\u00a0<vmassol>\u00a0that still makes it an issue I think  \n17:43\u00a0<+mflorea>\u00a0yes, but reverting the change (i.e. use null namespace for XE) is just a temporary workaround, because we need to support installing in subwikis extensions that do dynamic lookups  \n17:43\u00a0<vmassol>\u00a0yes  \n17:44\u00a0<vmassol>\u00a0at least right now users can install them on the main wiki and get them for the whole farm  \n17:44\u00a0<vmassol>\u00a0s/right now/before/  \n17:44\u00a0<vmassol>\u00a0and since the ui wasn't easy to use for installing in a given wiki, that's what people were doing I guess  \n17:44\u00a0<vmassol>\u00a0;)  \n17:45\u00a0<+mflorea>\u00a0they can do this now too  \n17:45\u00a0<vmassol>\u00a0why would they?  \n17:45\u00a0<vmassol>\u00a0unless they understand completely the issue  \n17:45\u00a0<+mflorea>\u00a0sure, they may be tempted to install in a subwiki  \n17:45\u00a0<vmassol>\u00a0which I doubt  \n17:46\u00a0<vmassol>\u00a0exzctly  \n17:48\u00a0<vmassol>\u00a0note: I have to go in 15mn  \n17:48\u00a0<vmassol>\u00a0(I'll be back online later though)  \n17:48\u00a0<+mflorea>\u00a0ok, I propose to keep the change in the 4.1 branch, at least for a few days, and if Thomas can fix the problem and the fix is not too dangerous we can merge it in 4.1 and release 4.1.4, otherwise I 'll revert my change .  \n17:48\u00a0<+mflorea>\u00a0now we need to decide about 4.2M1  \n17:49\u00a0<vmassol>\u00a0yes ok for 4.1.3 since we're not going to release 4.1.4 just now anyway  \n17:49\u00a0<+mflorea>\u00a0yes  \n17:49\u00a0<vmassol>\u00a0mflorea: but  \n17:49\u00a0<vmassol>\u00a0we should still add some notes in the RN of 4.1.3 about this  \n17:50\u00a0<+mflorea>\u00a0ok, I'll write a test to reproduce the issue and then I'll add a note at the top of 4.1.3 RN  \n17:51\u00a0<+mflorea>\u00a0re 4.2M1, I'm for releasing it as is and let Thomas take time to fix it in 4.2M2  \n17:52\u00a0<vmassol>\u00a0yeah I'm kind of ok with this since we're short on time for 4.2M1  \n17:52\u00a0<vmassol>\u00a0but again with some notes in the RN  \n17:52\u00a0<+mflorea>\u00a0sure, is there a jira issue opened for this bug?  \n17:52\u00a0<vmassol>\u00a0no  \n17:52\u00a0<vmassol>\u00a0I wonder if we also need to send a mail on the user list  \n18:09\u00a0<+tmortagne>\u00a0indeed the issue is that a wiki component get injected with the root CM and not his own CM. That's because we handle that with an actual component which is registered with ComponentManager role but it is done only once in the root CM (the DefaultComponentManager is listed in component.txt).  \n18:09\u00a0<Enygma`>\u00a0has quit  \n18:10\u00a0<+tmortagne>\u00a0should change that so that one is registered in each CM  \n18:18\u00a0<jvdrean>\u00a0has quit  \n18:30\u00a0<+tmortagne>\u00a0fixed  \n18:31\u00a0<+tmortagne>\u00a0but might be dangerous for 4.1 as always when playing with EmbeddableComponentManager even if I'm pretty confident about it  \n18:31\u00a0<+tmortagne>\u00a0committing on 4.2 for now, will see  \n18:31\u00a0<+mflorea>\u00a0great  \n18:34\u00a0<evalica>\u00a0has quit  \n18:34\u00a0<+tmortagne>\u00a0(fixed=a component gets injected with it's own CM instead of root and I also added a registered the root CM on \"root\" hint if anyone really want to get it)  \n18:38\u00a0<gdelhumeau>\u00a0has quit  \n18:40\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* rf7843fd\u000f https://github.com/xwiki/xwiki-commons/commit/f7843fd4828f5c706b49696ad44a823d03da875d \u000f/ (5 files in 4 dirs):\u000f XCOMMONS-232: Component get always injected with root ComponentManager instead of it's own Component Manager - http://git.io/PUdaaA  \n18:41\u00a0<+tmortagne>\u00a0mflorea: pushed it on master waiting for all Jenkins tests to pass before putting it on 4.1  \n18:42\u00a0<+mflorea>\u00a0good  \n18:48\u00a0<ssavi>\u00a0tmortagne: Hi  \n18:53\u00a0<+tmortagne>\u00a0ssavi: Hi  \n18:54\u00a0<ssavi>\u00a0Hi , I was trying to create Mock ups. It is giving the following error...  \n18:54\u00a0<ssavi>\u00a0A problem occurred while trying to process your request. Please contact the webmaster if this happens again.  \n18:54\u00a0<ssavi>\u00a0Using Balsamiq mockup  \n18:55\u00a0<+tmortagne>\u00a0where ?  \n18:55\u00a0<+tmortagne>\u00a0incubation.myxwiki.org ?  \n18:56\u00a0<ssavi>\u00a0yes  \n18:59\u00a0<+tmortagne>\u00a0I did not used balsamiq myself recently maybe our license is not up to date or a recent upgrade of myxwiki.org broke it  \n18:59\u00a0<ssavi>\u00a0oh ...  \n19:00\u00a0<+tmortagne>\u00a0trying to reproduce  \n19:00\u00a0<+tmortagne>\u00a0maybe you need special right  \n19:06\u00a0<ssavi>\u00a0tmortagne: Thanks thomas  \n19:07\u00a0<+tmortagne>\u00a0ssavi: I have same issue but no idea what is wrong, checking if I can find something in the log  \n19:11\u00a0<+tmortagne>\u00a0looks like we broke it during an upgrade, there is some struts actions missing in the configuration  \n19:13\u00a0<ssavi>\u00a0tmortagne: i'll manage with this temporarily, till the issue is fixed http://builds.balsamiq.com/b/mockups-web-demo/  \n19:13\u00a0<+tmortagne>\u00a0ssavi: ok  \n19:15\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:16\u00a0<polx>\u00a0has joined #xwiki  \n19:19\u00a0<abusenius>\u00a0has joined #xwiki  \n19:27\u00a0<+tmortagne>\u00a0ssavi: I think I may have fixed it  \n19:27\u00a0<+tmortagne>\u00a0at least it does not fail right away  \n19:27\u00a0<polx>\u00a0has quit  \n19:27\u00a0<ssavi>\u00a0tmortsgne: It is working. Thanks a lot :)  \n19:28\u00a0<+tmortagne>\u00a0no problem, seems we are using a very old plugin, we might need to upgrade it  \n19:30\u00a0<ssavi>\u00a0:)  \n19:32\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* ra616e09\u000f https://github.com/xwiki/xwiki-commons/commit/a616e09cf5dea9df8cf1d5a24c4c4a476f152184 \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-232: Component get always injected with root ComponentManager instead of it's own Component Manager - http://git.io/aKmcQg  \n19:33\u00a0<polx>\u00a0has joined #xwiki  \n19:44\u00a0<CIA-114>\u00a0tmortagne\u000f master\u000f \\* rea6f88a\u000f https://github.com/xwiki/xwiki-platform/commit/ea6f88a18ea6071e2608228dba737473d8a68eba \u000f/ (2 files in 2 dirs):\u000f XWIKI-8066: Upgrade to Tika 1.2 - http://git.io/Ccc2yg  \n19:48\u00a0<tmortagne>\u00a0has quit  \n19:50\u00a0<sdumitriu>\u00a0has quit  \n20:07\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rea1b626\u000f https://github.com/xwiki/xwiki-platform/commit/ea1b626f2012eb206341d6b2d882d7facbc0bd17 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-ui/src/main/resources/XWiki/ExtensionManagerMacros.xml :\u000f XWIKI-8070: Improve the display of extension log messages by handling different argument types - http://git.io/E1dqyA  \n20:15\u00a0<cjd>\u00a0has quit  \n20:16\u00a0<polx>\u00a0has quit  \n20:17\u00a0<polx>\u00a0has joined #xwiki  \n20:26\u00a0<cjd>\u00a0has joined #xwiki  \n20:59\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r54686e4\u000f https://github.com/xwiki/xwiki-platform/commit/54686e40778c60545a1c5aebd4e67a859cfe20f6 \u000f/ xwiki-platform-core/xwiki-platform-ircbot/xwiki-platform-ircbot-api/src/test/java/org/xwiki/ircbot/internal/wiki/DefaultWikiIRCBotListenerManagerTest.java :\u000f Remove unused import. - http://git.io/WXUpYg  \n20:59\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r69907f0\u000f https://github.com/xwiki/xwiki-platform/commit/69907f07a78c8f8025780243c594edbc5060b999 \u000f/ xwiki-platform-core/xwiki-platform-chart/xwiki-platform-chart-macro/src/test/java/org/xwiki/rendering/internal/macro/chart/source/table/AbstractMacroContentTableBlockDataSourceTest.java :\u000f Renamed DefaultComponentManager to RootComponentManager. - http://git.io/vxm\\_pw  \n21:22\u00a0<sdumitriu>\u00a0has joined #xwiki  \n21:29\u00a0<sdumitriu>\u00a0has quit  \n22:09\u00a0<ssavi>\u00a0has quit  \n23:04\u00a0<abusenius>\u00a0has quit  \n23:09\u00a0<vmassol>\u00a0mflorea: FTR I've rebuilt XE and tried again installing the jira macro and it still fails as before  \n23:10\u00a0<vmassol>\u00a0(thought thomas had fixed something)  \n23:11\u00a0<+mflorea>\u00a0I'll extend one of my functional tests to include this use case  \n23:11\u00a0<+mflorea>\u00a0I know thomas added some unit test for his change  \n23:27\u00a0<vmassol>\u00a0I jiust built XE, maybe jenkins didn't build platform fine  \n23:27\u00a0<vmassol>\u00a0hmm no  \n23:27\u00a0<vmassol>\u00a0it says it's ok  \n23:29\u00a0<vmassol>\u00a0has quit  \n23:44\u00a0<jvdrean>\u00a0has joined #xwiki  \n23:59\u00a0<CIA-114>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r48f0852\u000f https://github.com/xwiki/xwiki-enterprise/commit/48f0852c32264f191ee11b9ab3a956cab817241f \u000f/ (2 files in 2 dirs):\u000f Extend the test to cover the dynamic component lookup use case. - http://git.io/tBv3jQ  \n\n"}