{"id": "dev:IRC.xwikiArchive20140214", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140214", "title": "IRC Archive for channel #xwiki on 14 February 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n00:39\u00a0<UCC>\u00a0has quit  \n00:41\u00a0<sburjan`>\u00a0has quit  \n00:41\u00a0<sburjan>\u00a0has joined #xwiki  \n00:45\u00a0<lucaa>\u00a0has quit  \n00:55\u00a0<vmassol>\u00a0has joined #xwiki  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n07:20\u00a0<dpatriche>\u00a0has joined #xwiki  \n07:26\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n07:52\u00a0<evalica>\u00a0has joined #xwiki  \n07:56\u00a0<msmeria>\u00a0has joined #xwiki  \n08:20\u00a0<mflorea>\u00a0has joined #xwiki  \n08:21\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:30\u00a0<woshilapin>\u00a0has quit  \n08:34\u00a0<Denis>\u00a0has joined #xwiki  \n08:39\u00a0<DarkKnightCZ>\u00a0if job is instantiated in EventListener, is XWikiContext retrieved from injected Provider the correct one for the subwiki where event was triggered? i need to get several subwiki documents in that job... i can set wiki to work with to QueryManager, i cannot do the same for context  \n08:41\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:51\u00a0<DarkKnightCZ>\u00a0tmortagne: hi, how is determined which xwiki should XWikiContext retrieved from Provider have? (eventlistener is instantiating job which retrieves this xwikicontext, i need to get several documents from subwiki where that event was triggered)  \n08:51\u00a0<tmortagne>\u00a0DarkKnightCZ: there is only one XWiki class instance  \n08:51\u00a0<tmortagne>\u00a0it's a singleton  \n08:52\u00a0<tmortagne>\u00a0unless you are talking about something else  \n08:53\u00a0<tmortagne>\u00a0if your question is how xwiki.getDocument() knows which database to search on it's xcontext.setDatabase()  \n08:53\u00a0<DarkKnightCZ>\u00a0yes, i mean XWiki class.. oh i see DocumentReference is created from space reference and wiki name  \n08:54\u00a0<tmortagne>\u00a0yes when you use DocumentReference based API you always indicate the wiki  \n08:57\u00a0<DarkKnightCZ>\u00a0ok, thanks... and i guess it's better to use job for executing code which can take several seconds, instead of \"halting listener thread\"  \n09:02\u00a0<tmortagne>\u00a0DarkKnightCZ: Job if you want to display progress etc or just a simple thread if you don't care  \n09:05\u00a0<DarkKnightCZ>\u00a0ok  \n09:09\u00a0<tmortagne>\u00a0DarkKnightCZ: I'm planning to work on allowing listener to just declare that they want to be asynch so that they don't need to deal with threads etc  \n09:09\u00a0<DarkKnightCZ>\u00a0tmortagne: nice :)  \n09:24\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:54\u00a0<benoitc>\u00a0has quit  \n09:56\u00a0<benoitc>\u00a0has joined #xwiki  \n09:56\u00a0<lucaa>\u00a0has joined #xwiki  \n10:07\u00a0<vmassol>\u00a0tmortagne: do you know why http://localhost:8080/xwiki/bin/get/Sandbox/WebHome&outputSyntax=xwiki&outputVersion=2.1 doesn't work?  \n10:07\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:07\u00a0<vmassol>\u00a0arf  \n10:07\u00a0<vmassol>\u00a0s/&/?  \n10:08\u00a0<tmortagne>\u00a0right  \n10:08\u00a0<tmortagne>\u00a0I was still searching...  \n10:08\u00a0<vmassol>\u00a0:)  \n10:27\u00a0<polx>\u00a0has joined #xwiki  \n10:27\u00a0<tmortagne>\u00a0msmeria: if you have the status.xml generated by the 4.5.3 that would be great  \n10:27\u00a0<tmortagne>\u00a0makes it quicker for me to reproduce and debug  \n10:29\u00a0<msmeria>\u00a0tmortagne: http://hastebin.com/numoniqulu.xml  \n10:29\u00a0<msmeria>\u00a0I hope it's the right one  \n10:30\u00a0<tmortagne>\u00a0looks like it is: <string>4.5.3</string>  \n10:30\u00a0<tmortagne>\u00a0thanks  \n10:30\u00a0<test>\u00a0has joined #xwiki  \n10:30\u00a0<msmeria>\u00a0yw  \n10:30\u00a0<test>\u00a0has left #xwiki  \n10:36\u00a0<DarkKnightCZ>\u00a0what is the equivalent of api.Document.getValue() for XWikiDocument? (or way to get Document instance inside java component)  \n10:42\u00a0<tmortagne>\u00a0DarkKnightCZ: you have typed methods in XWikiDocument but usually the cleanest is to ask for the object and then in the object ask for the field  \n10:43\u00a0<tmortagne>\u00a0XWikiDocument#getStringValue(String fieldName)  \n10:43\u00a0<DarkKnightCZ>\u00a0hmm, and what about non-string fields?  \n10:43\u00a0<tmortagne>\u00a0you have other methods  \n10:43\u00a0<tmortagne>\u00a0look at the javadoc  \n10:44\u00a0<tmortagne>\u00a0one for each tipe  \n10:44\u00a0<tmortagne>\u00a0\\*type  \n10:45\u00a0<tmortagne>\u00a0(http://maven.xwiki.org/site/docs/xwiki-javadoc-5.0.x/com/xpn/xwiki/doc/XWikiDocument.html)  \n10:48\u00a0<DarkKnightCZ>\u00a0yep, looking at it right now... so what method exactly can get Date type field?  \n10:50\u00a0<tmortagne>\u00a0looks like there is everything but date  \n10:51\u00a0<tmortagne>\u00a0you will have to go trough object  \n10:52\u00a0<tmortagne>\u00a0document.getXObject(classreference).getDateValue(fieldname)  \n10:52\u00a0<DarkKnightCZ>\u00a0yep, thanks  \n10:58\u00a0<vmassol>\u00a0restarting jenkins  \n10:58\u00a0<vmassol>\u00a0reminder: 5.4.2 is planned for Monday  \n10:58\u00a0<vmassol>\u00a0what's our status on 5.4.2 btw? mflorea you were the one with the most stuff to do for 5.4.x, how is it progressing?  \n11:00\u00a0<woshilapin>\u00a0has quit  \n11:02\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:04\u00a0<mflorea>\u00a0vmassol: I'm currently working on XWIKI-10003. I'll look at the IE11 afterwards. Besides this, there is also XWIKI-10004 for which I might need one more day. There is also XWIKI-10048 for Thomas, and XWIKI-10046 for Anca, which are easy to fix, 1-2h. There are other issues assigned to me for 5.4.2, but they were not mandatory.  \n11:05\u00a0<mflorea>\u00a0so at this point, I think I may need one more day.  \n11:14\u00a0<vmassol>\u00a0ok, thanks let's review this at the end of today and announce a new release date if need be  \n11:17\u00a0<mflorea>\u00a0ok  \n11:20\u00a0<woshilapin>\u00a0has quit  \n11:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:30\u00a0<vmassol>\u00a0guys note that we have the same problem that I have on jenkins for rendering: http://ci.xwiki.org/view/Rendering/job/xwiki-rendering/  \n11:31\u00a0<vmassol>\u00a0note that this started at about the time we switched to java 7, I hope it's not related  \n11:31\u00a0<vmassol>\u00a0tmortagne: did you change anything  \n11:31\u00a0<vmassol>\u00a0?  \n11:31\u00a0<vmassol>\u00a0for example I see in  \n11:31\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Rendering/job/xwiki-rendering/org.xwiki.rendering$xwiki-rendering-syntax-apt/1620/testReport/org.xwiki.rendering.test.cts/RenderingTest/simple\\_list\\_list1\\_\\_apt\\_1\\_0\\_\\_IN\\_\\_in\\_txt\\_\\_CTS\\_\\_inout\\_xml\\_/  \n11:32\u00a0<vmassol>\u00a0it's expecting:  \n11:32\u00a0<vmassol>\u00a0<list[>  \n11:32\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0<listItem>  \n11:32\u00a0<vmassol>\u00a0but got:  \n11:32\u00a0<vmassol>\u00a0<list[ parameters=\"\">  \n11:32\u00a0<tmortagne>\u00a0I did not changed anything except the move to Java 7  \n11:32\u00a0<vmassol>\u00a0so it seems there's now an extra parameters=\"\"  \n11:32\u00a0<tmortagne>\u00a0IMO it's Java 7 related  \n11:33\u00a0<DarkKnightCZ>\u00a0does XWikiDocument.addAttachment() requires doc.saveAllAttachments() afterwards?  \n11:34\u00a0<tmortagne>\u00a0DarkKnightCZ: never use saveAllAttachments as much as possible, after you called addAttachment you are supposed to use xwiki.saveDocument  \n11:35\u00a0<DarkKnightCZ>\u00a0ok  \n11:49\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n12:00\u00a0<ClemensR>\u00a0has joined #xwiki  \n12:09\u00a0<vmassol>\u00a0guys I'm ready to send an email for the next xwiki day. I'm going to propose a deprecation fixing day, is that ok for you?  \n12:10\u00a0<vmassol>\u00a0(just testing the waters)  \n12:18\u00a0<ClemensR>\u00a0deprecation fixing is probably easy enough for me ;) \u00a0I am not sure how to divide the work (aside of the possibility that some other project might eat me then)  \n12:18\u00a0<tmortagne>\u00a0vmassol: very useful day but not sure how to get numbers  \n12:19\u00a0<vmassol>\u00a0that's in my mail :)  \n12:19\u00a0<tmortagne>\u00a0ok  \n12:19\u00a0<vmassol>\u00a0ok sending  \n12:20\u00a0<cjd>\u00a0has quit  \n12:20\u00a0<tmortagne>\u00a0sonar ok  \n12:23\u00a0<Slashman>\u00a0has joined #xwiki  \n12:24\u00a0<vmassol>\u00a0hmm I didn't take into account deprecation calling fro wiki pages and templates but we're not supposed to have any AFAIK  \n12:24\u00a0<vmassol>\u00a0actually our webstandards tests should fail if there are so we're good on that probably  \n12:24\u00a0<tmortagne>\u00a0at least not in code executed during integration tests  \n12:25\u00a0<tmortagne>\u00a0but I'm sure we don't have 100 coverage  \n12:25\u00a0<tmortagne>\u00a0\\*100%  \n12:25\u00a0<cjd>\u00a0has joined #xwiki  \n13:06\u00a0<ClemensR>\u00a0oh, compilation failure on the 5.4-stable :(  \n13:13\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n13:21\u00a0<ClemensR>\u00a0has quit  \n13:23\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:43\u00a0<msmeria>\u00a0has quit  \n13:44\u00a0<vmassol>\u00a0bb in 45mn  \n14:03\u00a0<polx>\u00a0has quit  \n14:40\u00a0<evalica>\u00a0has quit  \n14:59\u00a0<polx>\u00a0has joined #xwiki  \n15:27\u00a0<andreeapopescu>\u00a0has left #xwiki  \n15:34\u00a0<polx>\u00a0has quit  \n15:35\u00a0<polx>\u00a0has joined #xwiki  \n15:49\u00a0<polx>\u00a0has quit  \n15:51\u00a0<polx>\u00a0has joined #xwiki  \n16:03\u00a0<polx>\u00a0has quit  \n16:06\u00a0<polx>\u00a0has joined #xwiki  \n16:13\u00a0<polx>\u00a0has quit  \n16:30\u00a0<tmortagne>\u00a0has quit  \n16:43\u00a0<polx>\u00a0has joined #xwiki  \n16:46\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n16:48\u00a0<polx>\u00a0has quit  \n17:25\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:25\u00a0<tmortagne>\u00a0joel1: it's supposed to work reasonably well AFAIK  \n17:26\u00a0<tmortagne>\u00a0the binding for the XWiki context is \"xcontext\"  \n17:26\u00a0<tmortagne>\u00a0(same for all scripting languages)  \n17:27\u00a0<tmortagne>\u00a0works well on http://tuska.myxwiki.org/xwiki/bin/view/Test/Python for example  \n17:27\u00a0<tmortagne>\u00a0http://tuska.myxwiki.org/xwiki/bin/view/Test/Python?viewer=code  \n17:32\u00a0<joel1>\u00a0I'll give it another try then. Is there a way to control which python version it's using?  \n17:32\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n17:32\u00a0<joel1>\u00a0I'll try grep my installation. :)  \n17:34\u00a0<tmortagne>\u00a0joel1: it's using Jython so I guess you just need to change Jython jar but note that Jython is a bit late on supported Python versions  \n17:34\u00a0<tmortagne>\u00a0see http://www.jython.org/  \n17:35\u00a0<tmortagne>\u00a0there is a Jython 2.7beta 1 with Jython 2.7 support and recent version of XWiki embbed Jython 2.5 which mean Python 2.5 plus a bit of Python 2.6 as far as I understood  \n17:36\u00a0<tmortagne>\u00a0the main difference with CPython is the speed, Jythong is still a bit slower  \n17:39\u00a0<polx>\u00a0has quit  \n17:39\u00a0<woshilapin>\u00a0has quit  \n17:42\u00a0<joel1>\u00a0Thanks! :)  \n17:44\u00a0<tmortagne>\u00a0s/Jythong/Jython/  \n17:47\u00a0<polx>\u00a0has joined #xwiki  \n18:13\u00a0<mflorea>\u00a0has quit  \n18:44\u00a0<KermitTheFragger>\u00a0has quit  \n18:45\u00a0<vmassol>\u00a0has quit  \n18:52\u00a0<ClemensR>\u00a0tmortagne: I just noticed that in French the week for MoccaCalendar starts on Tuesday. Is this correct ?  \n19:00\u00a0<GuillaumeF>\u00a0has quit  \n19:03\u00a0<tmortagne>\u00a0ClemensR: nop it's not correct, I guess I did a mistake  \n19:03\u00a0<tmortagne>\u00a0checking  \n19:03\u00a0<ClemensR>\u00a0ah, ok, then I guess I just fix it to 1=monday instead of 2=tuesday  \n19:05\u00a0<tmortagne>\u00a0ClemensR: I guess I started counting at 1 instead of 0  \n19:05\u00a0<ClemensR>\u00a0ah, ok, might explain it  \n19:05\u00a0<tmortagne>\u00a0good catch :)  \n19:07\u00a0<lucaa>\u00a0has quit  \n19:11\u00a0<tmortagne>\u00a0ClemensR: actually it's because there is firstDayOfWeek=1 in MoccaCalendarTranslations and I expected the first day to be Sunday, US style  \n19:12\u00a0<tmortagne>\u00a0so I did +1  \n19:12\u00a0<ClemensR>\u00a0ah, yes, I see, that is what I am about to fix, actually (via MOCCACAL-31)  \n19:13\u00a0<ClemensR>\u00a0seems we have been a bit \u00a0to secular here and expected Monday to be the universal default :)  \n19:13\u00a0<tmortagne>\u00a0yea like metric system...  \n19:17\u00a0<Slashman>\u00a0has quit  \n19:17\u00a0<Slashman>\u00a0has joined #xwiki  \n19:35\u00a0<tmortagne>\u00a0has quit  \n19:52\u00a0<dpatriche>\u00a0has quit  \n20:27\u00a0<Slashman>\u00a0has quit  \n20:36\u00a0<dpatriche>\u00a0has joined #xwiki  \n20:48\u00a0<ClemensR>\u00a0has quit  \n20:50\u00a0<dpatriche>\u00a0has quit  \n21:33\u00a0<UCC>\u00a0has quit  \n22:37\u00a0<vmassol>\u00a0has joined #xwiki  \n22:41\u00a0<vmassol>\u00a0has quit  \n22:43\u00a0<Denis>\u00a0has quit  \n22:59\u00a0<andreeapopescu>\u00a0has left #xwiki  \n23:25\u00a0<abusenius\\_>\u00a0has quit\n"}