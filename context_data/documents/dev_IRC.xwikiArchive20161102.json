{"id": "dev:IRC.xwikiArchive20161102", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20161102", "title": "IRC Archive for channel #xwiki on 02 November 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sagarhani>\u00a0has quit  \n02:22\u00a0<sagarhani>\u00a0has joined #xwiki  \n02:27\u00a0<jonesmeier>\u00a0has quit  \n02:29\u00a0<jonesmeier>\u00a0has joined #xwiki  \n08:39\u00a0<msmeria>\u00a0has joined #xwiki  \n09:24\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:33\u00a0<vmassol>\u00a0has joined #xwiki  \n09:34\u00a0<mflorea>\u00a0has joined #xwiki  \n09:42\u00a0<systemd>\u00a0has quit  \n09:45\u00a0<vmassol>\u00a0good morning  \n09:45\u00a0<vmassol>\u00a0mflorea: question: was the build failing for the expired annotation? If not, I'll need to fix the unstable anno checker  \n09:46\u00a0<mflorea>\u00a0it was, that's why I fixed it :)  \n09:46\u00a0<vmassol>\u00a0ah yes  \n09:46\u00a0<vmassol>\u00a0master is 9.0-SNAP now?  \n09:46\u00a0<mflorea>\u00a0yes  \n09:46\u00a0<vmassol>\u00a0ok that's why  \n09:46\u00a0<vmassol>\u00a0cool  \n09:46\u00a0<vmassol>\u00a0(just catching up)  \n09:48\u00a0<vmassol>\u00a0mflorea: question: should we also list transitive dep upgrades on http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/Data/XWiki/8.4RC1/#HUpgrades ? or \u00a0the contrib upgrades?  \n09:48\u00a0<vmassol>\u00a0I think it could make sense to list the contrib upgrades  \n09:48\u00a0<vmassol>\u00a0wdyt?  \n09:49\u00a0<vmassol>\u00a0(like ckeditor integration extension upgrade)  \n09:49\u00a0<mflorea>\u00a0we should list all the explicit upgrades we did in our poms, no mater if they come from contrib or not  \n09:49\u00a0<vmassol>\u00a0(don't know if we also upgraded others like tour, etc)  \n09:50\u00a0<mflorea>\u00a0but I don't think we should list transitive deps upgrade  \n09:50\u00a0<vmassol>\u00a0yes (by transtivite I was thinking about CKEditor itself instead of the ckeditor integration)  \n09:50\u00a0<mflorea>\u00a0I don't know about Tour, if someone upgraded the Tour version he should have added this to the RN  \n09:50\u00a0<vmassol>\u00a0ie either we consider conrib extensions as \"bundled\" and not external  \n09:50\u00a0<vmassol>\u00a0or we consider them as external  \n09:51\u00a0<vmassol>\u00a0I'm fine with either  \n09:51\u00a0<mflorea>\u00a0I see them as external because they have a different release cycle  \n09:51\u00a0<vmassol>\u00a0ok makes sense  \n09:51\u00a0<vmassol>\u00a0so all dep upgrades for deps that have a different release cycle should be listed  \n09:52\u00a0<vmassol>\u00a0tmortagne, sdumitriu: ok?  \n09:52\u00a0<mflorea>\u00a0yes, ofc, as long as it is runtime dep (and not a build time dep)  \n09:52\u00a0<vmassol>\u00a0yep  \n09:52\u00a0<vmassol>\u00a0if we agree, I'll update the RN template with a better description  \n09:52\u00a0<mflorea>\u00a0I'm +1  \n09:53\u00a0<tmortagne>\u00a0+1  \n09:55\u00a0<vmassol>\u00a0is the text ok at http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/Data/XWiki/8.4RC1/#HUpgrades ?  \n09:56\u00a0<tmortagne>\u00a0looks ok  \n09:57\u00a0<vmassol>\u00a0ok copying to RN template  \n10:00\u00a0<vmassol>\u00a0mflorea: you preferred grouping the CKEditor improvement in one entry vs having 3-4 changes entries? (which is more the logic of the RN app)  \n10:02\u00a0<mflorea>\u00a0if you take each improvement separately they are not all very important, so I felt it's better to group them  \n10:03\u00a0<vmassol>\u00a0yes but they are better related to their images  \n10:03\u00a0<vmassol>\u00a0they're still important separately IMO ;)  \n10:03\u00a0<vmassol>\u00a0the only issue ATM is a technical one  \n10:03\u00a0<vmassol>\u00a0which is to group issues for the same category together  \n10:03\u00a0<vmassol>\u00a0also we get better titles  \n10:04\u00a0<vmassol>\u00a0(instead of the generic \"CKEditor improvements\")  \n10:04\u00a0<vmassol>\u00a0anyway, that's my POV, it's open to debate :)  \n10:04\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:04\u00a0<vmassol>\u00a0(at least that's the spirit I used to code the RN app: plenty of small changes)  \n10:04\u00a0<mflorea>\u00a0I'm not against it, it's just it felt better for me to group them  \n10:48\u00a0<acotiuga>\u00a0has joined #xwiki  \n11:07\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:09\u00a0<circ-user-fMnzI>\u00a0has joined #xwiki  \n11:11\u00a0<circ-user-fMnzI>\u00a0How to enable LDAP authentication in xwiki? I did everything from LDAP Application docs, still disabled.  \n11:12\u00a0<tmortagne>\u00a0circ-user-fMnzI: you sure you have exactly xwiki.authentication.authclass=org.xwiki.contrib.ldap.XWikiLDAPAuthServiceImpl ?  \n11:12\u00a0<tmortagne>\u00a0and not some other class  \n11:12\u00a0<tmortagne>\u00a0like the old one that used to be in xwiki.cfg file  \n11:12\u00a0<circ-user-fMnzI>\u00a0with that class i can't login as admin user  \n11:12\u00a0<tmortagne>\u00a0circ-user-fMnzI: it's not because of the class  \n11:13\u00a0<tmortagne>\u00a0it's because you did not enabled local user auth  \n11:13\u00a0<tmortagne>\u00a0you should copy everything you have in http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/  \n11:13\u00a0<tmortagne>\u00a0xwiki.authentication.ldap.trylocal is enabled in the example  \n11:14\u00a0<circ-user-fMnzI>\u00a0Thanks, will try  \n11:14\u00a0<tmortagne>\u00a0the example you have in this page is what used to be in xwiki.cfg by default plus a few new things  \n11:16\u00a0<circ-user-fMnzI>\u00a0i don't have anything related to ldap in my default xwiki.cfg  \n11:16\u00a0<circ-user-fMnzI>\u00a08.3 version  \n11:16\u00a0<tmortagne>\u00a0yes that's normal  \n11:16\u00a0<tmortagne>\u00a0I'm talking about what used to be in xwiki.cfg  \n11:17\u00a0<tmortagne>\u00a0LDAP was removed from XE in 8.3  \n11:17\u00a0<tmortagne>\u00a0it's now a separated extension  \n11:17\u00a0<tmortagne>\u00a0makes easier to benefit from improvement around LDAP features in older version of XWiki  \n11:17\u00a0<circ-user-fMnzI>\u00a0do i need add ldap server configuration block in xwiki.cfg? since those options presents in ldap menu in xwiki web interface?  \n11:17\u00a0<tmortagne>\u00a0circ-user-fMnzI: you don't have to  \n11:18\u00a0<circ-user-fMnzI>\u00a0ok thanks  \n11:18\u00a0<tmortagne>\u00a0I was just suggesting it in case you were expecting older XWiki default behavior  \n11:18\u00a0<tmortagne>\u00a0so that you are a bit less lost :)  \n11:18\u00a0<tmortagne>\u00a0but all properties can be set on wiki side  \n11:18\u00a0<tmortagne>\u00a0(except or the class)  \n11:19\u00a0<tmortagne>\u00a0it's possible the UI does not list all the properties (even if all of them can be set directly in the object)  \n11:20\u00a0<circ-user-fMnzI>\u00a0yay, it's working now very thanks  \n11:32\u00a0<circ-user-fMnzI>\u00a0has quit  \n11:55\u00a0<circ-user-qFjti>\u00a0has joined #xwiki  \n11:56\u00a0<circ-user-qFjti>\u00a0xwiki.authentication.ldap.bind\\_DN=cn={0}  \n11:56\u00a0<circ-user-qFjti>\u00a0can someone explain what should be in this option?  \n11:57\u00a0<tmortagne>\u00a0circ-user-qFjti: it depends what you want to do  \n11:58\u00a0<tmortagne>\u00a0this is the credential used to access the LDAP server  \n11:58\u00a0<circ-user-qFjti>\u00a0configure ldap authentication in xwiki :>  \n11:58\u00a0<tmortagne>\u00a0either you put some admin acount always the same which will search for the user or you use {0} to connect with the user itself  \n11:58\u00a0<circ-user-qFjti>\u00a0xwiki username for ldap?  \n11:58\u00a0<tmortagne>\u00a0nothing to do with XWiki  \n11:58\u00a0<tmortagne>\u00a0it's LDAP credentials  \n11:59\u00a0<tmortagne>\u00a0some credentials to connect to LDAP server  \n11:59\u00a0<tmortagne>\u00a0so search for user, groups, etc.  \n11:59\u00a0<circ-user-qFjti>\u00a0should i put them in {}?  \n11:59\u00a0<tmortagne>\u00a0look at the example in http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/  \n12:00\u00a0<circ-user-qFjti>\u00a0>>{0} is replaced with the user name  \n12:00\u00a0<tmortagne>\u00a0as I told you either you put a complete LDAP DN or you use the {0} to automatically create the DN from the current user  \n12:00\u00a0<circ-user-qFjti>\u00a0i mean should i put username in {}?  \n12:00\u00a0<circ-user-qFjti>\u00a0or without them  \n12:00\u00a0<tmortagne>\u00a0again it's your choice  \n12:00\u00a0<tmortagne>\u00a0I don't know you setup  \n12:01\u00a0<tmortagne>\u00a0if all your users have the same kind of DN then you can use {0} trick, otherwsise you will have to put some admin account which is allowed to search in LDAP server  \n12:01\u00a0<tmortagne>\u00a0you can find some use cases in http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/UseCases/  \n12:03\u00a0<circ-user-qFjti>\u00a0>> you will have to put some admin account which is allowed to search in LDAP server  \n12:03\u00a0<circ-user-qFjti>\u00a0what option for this?  \n12:05\u00a0<tmortagne>\u00a0circ-user-qFjti: if you know nothing about LDAP you will have a very hard time setting up the LDAP authentication  \n12:05\u00a0<tmortagne>\u00a0you have to understand what is a bind DN  \n12:06\u00a0<tmortagne>\u00a0XWiki need to access the LDAP server at some point and for this you need to tell it how it can access this LDAP server  \n12:06\u00a0<tmortagne>\u00a0among other things it needs LDAP credentials  \n12:07\u00a0<tmortagne>\u00a0so you have to put here some LDAP DN which is allowed to connect and execute search queries  \n12:07\u00a0<circ-user-qFjti>\u00a0i have few services with ldap authentication, but xwiki config a bit harder to understand :(  \n12:09\u00a0<tmortagne>\u00a0bind DN is very standard LDAP stuff, nothing specific to XWiki here  \n12:10\u00a0<circ-user-qFjti>\u00a0i need syntax example, just it  \n12:16\u00a0<tmortagne>\u00a0circ-user-qFjti: as I said you have an example in extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/  \n12:16\u00a0<tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/  \n12:16\u00a0<tmortagne>\u00a0and several others in http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/UseCases/  \n12:16\u00a0<tmortagne>\u00a0it depends on you LDAP server  \n12:17\u00a0<tmortagne>\u00a0the only XWiki thing here is that you can replace any part of the bind DN if you want using {0}  \n12:17\u00a0<tmortagne>\u00a0nothing more  \n12:17\u00a0<tmortagne>\u00a0but you can directly put some standard full DN without the {0}  \n12:18\u00a0<circ-user-qFjti>\u00a0i have AD server with all users in same OU  \n12:18\u00a0<circ-user-qFjti>\u00a0base\\_DN= dc=my,dc=domain,dc=com is enough?  \n12:19\u00a0<circ-user-qFjti>\u00a0bind\\_DN={?}  \n12:19\u00a0<gdelhumeau>\u00a0Jello  \n12:20\u00a0<gdelhumeau>\u00a0I would like to release 7.4.6 soon  \n12:20\u00a0<gdelhumeau>\u00a0For the release notes, what should I use? The new app? Or I create a page like we used to have?  \n12:20\u00a0<gdelhumeau>\u00a0vmassol?  \n12:21\u00a0<vmassol>\u00a0gdelhumeau: hi, good question  \n12:21\u00a0<vmassol>\u00a0you should use the RN app for sure  \n12:21\u00a0<vmassol>\u00a0ie have a RN entry  \n12:21\u00a0<gdelhumeau>\u00a0ok  \n12:21\u00a0<vmassol>\u00a0now you don't need to have changes  \n12:22\u00a0<vmassol>\u00a0s/changes/RN changes  \n12:22\u00a0<gdelhumeau>\u00a0yes, that was my next question  \n12:22\u00a0<gdelhumeau>\u00a0no change but a jira macro instead  \n12:22\u00a0<vmassol>\u00a0yes  \n12:22\u00a0<vmassol>\u00a0I think that's the easiest for now  \n12:22\u00a0<vmassol>\u00a0and then we need to improve this for the future  \n12:23\u00a0<vmassol>\u00a0not even sure we need that jira macro since there's already a link  \n12:23\u00a0<vmassol>\u00a0(for having the full list)  \n12:23\u00a0<vmassol>\u00a0but in the future I need to improve the RN app to support having chages that have several versions probably  \n12:35\u00a0<vmassol>\u00a0tmortagne: question: I'm testing that the \"add extensions\" admin ui displays extensions by ratings but I get this https://www.evernote.com/l/AHdnYD27c9dNI4zjl-0ZDUKaXPzgTO3f2Eo (which doesn't appear to be sorted by ratings). Any idea why?  \n12:37\u00a0<sdumitriu1>\u00a0has quit  \n12:37\u00a0<ClemensR>\u00a0has quit  \n12:57\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n13:15\u00a0<vmassol1>\u00a0has joined #xwiki  \n13:15\u00a0<vmassol>\u00a0has quit  \n13:16\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:22\u00a0<circ-user-qFjti>\u00a0xwiki.authentication.ldap.bind\\_DN=cn=xwiki,ou=Users,ou=something,dc=ad,dc=domain,dc=net xwiki.authentication.ldap.bind\\_pass=pass - i have this in xwiki.xfg but still can't login as any user in this OU, can someone turn me in right way  \n13:22\u00a0<circ-user-qFjti>\u00a0base\\_DN=ou=something,dc=ad,dc=domain,dc=net  \n13:26\u00a0<acotiuga>\u00a0circ-user-qFjti: in your case (cn=xwiki) is xwiki your username with rights to connect to the AD server?  \n13:26\u00a0<circ-user-qFjti>\u00a0yes  \n13:31\u00a0<acotiuga>\u00a0do you have the xwiki.authentication.ldap.UID\\_attr=cn enabled? Check the XWikiPreferences object for this property.  \n13:32\u00a0<circ-user-qFjti>\u00a0xwiki.authentication.ldap.UID\\_attr=sAMAccountName  \n13:32\u00a0<acotiuga>\u00a0and you're trying to login with the cn?  \n13:32\u00a0<circ-user-qFjti>\u00a0with AD username  \n13:33\u00a0<acotiuga>\u00a0which is xwiki from cn=xwiki?  \n13:34\u00a0<acotiuga>\u00a0you need to use the value from the sAMAccountName property from AD  \n13:35\u00a0<circ-user-qFjti>\u00a0i though i need to put username of ad user who can search other users on ad server in xwiki.authentication.ldap.bind\\_DN=cn=xwik  \n13:36\u00a0<acotiuga>\u00a0xwiki.authentication.ldap.UID\\_attr represents the property from the AD that holds the value used as username at login  \n13:36\u00a0<circ-user-qFjti>\u00a0it's correct  \n13:36\u00a0<circ-user-qFjti>\u00a0i'm using sAMAccountName to login in xwiki  \n13:40\u00a0<acotiuga>\u00a0you can use http://snippets.xwiki.org/xwiki/bin/view/Extension/LDAP+Query to check your connection.  \n13:43\u00a0<tmortagne>\u00a0vmassol1: xwiki.org does not have latest changes  \n13:44\u00a0<vmassol1>\u00a0ah ok so even though it's fixed, users won't see it till we upgrade  \n13:44\u00a0<vmassol1>\u00a0I'll comment a bit in the RN  \n13:44\u00a0<vmassol1>\u00a0thanks  \n13:45\u00a0<tmortagne>\u00a0vmassol1: they will see it as soon as xwiki.org is upgraded so it's not really related to the version of XWiki from EM point of view  \n13:46\u00a0<vmassol1>\u00a0can we patch xwiki.org?  \n13:46\u00a0<vmassol1>\u00a0(quickly that is)  \n13:46\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n13:47\u00a0<tmortagne>\u00a0vmassol: dangerous patches are starting to pile on xwiki.org  \n13:47\u00a0<vmassol>\u00a0ok, so the answer is no. I'll document in the RN  \n13:47\u00a0<tmortagne>\u00a0it's always possible if we really really want to but I would prefer to upgrade xwiki.org to 8.4 which is not very far  \n13:48\u00a0<vmassol>\u00a0np  \n14:50\u00a0<circ-user-qFjti>\u00a0Can someone paste his xwiki.cfg part with ldap configuration for Active Directory?  \n14:51\u00a0<tmortagne>\u00a0circ-user-qFjti: that's what http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/UseCases/#HActiveDirectory is, someone pasted a configuration that works with Active Directory  \n14:52\u00a0<circ-user-qFjti>\u00a0i don't understand  \n14:52\u00a0<circ-user-qFjti>\u00a0this sample  \n14:52\u00a0<tmortagne>\u00a0circ-user-qFjti: what exactly in this sample ?  \n14:53\u00a0<circ-user-qFjti>\u00a0xwiki.authentication.ldap.bind\\_DN=subdomain\\\\{0} xwiki.authentication.ldap.bind\\_pass={1}  \n14:53\u00a0<circ-user-qFjti>\u00a0this  \n14:53\u00a0<tmortagne>\u00a0subdomain is your domain  \n14:53\u00a0<tmortagne>\u00a0AD have special syntax for bind DN (but it also support standard LDAP DNs)  \n14:54\u00a0<tmortagne>\u00a0as the example indicate {0} is automatically replaced by the login of the user when he enters it in the login form  \n14:54\u00a0<tmortagne>\u00a0so XWiki user the current user credentials to access the AD server  \n14:54\u00a0<tmortagne>\u00a0s/XWiki user/XWiki uses/  \n14:56\u00a0<circ-user-qFjti>\u00a0it's should be xwiki.authentication.ldap.bind\\_DN=my.domain.net\\\\{0}?  \n14:57\u00a0<circ-user-qFjti>\u00a0and where should i put creds of a ad user for xwiki?  \n14:57\u00a0<tmortagne>\u00a0for example  \n14:57\u00a0<tmortagne>\u00a0circ-user-qFjti: you don't  \n14:57\u00a0<tmortagne>\u00a0again the user enter his LDAP credential when he log in XWiki  \n14:57\u00a0<circ-user-qFjti>\u00a0so only this xwiki.authentication.ldap.bind\\_DN=my.domain.net\\\\{0} right?  \n14:58\u00a0<tmortagne>\u00a0and then {0} is replaced by whatever user entered  \n15:05\u00a0<circ-user-qFjti>\u00a0it's not working  \n15:12\u00a0<edvorg>\u00a0has joined #xwiki  \n15:23\u00a0<edvorg>\u00a0has quit  \n15:24\u00a0<edvorg>\u00a0has joined #xwiki  \n15:24\u00a0<circ-user-qFjti>\u00a0xwiki.authentication.ldap.server=adserver xwiki.authentication.ldap.port=389 xwiki.authentication.ldap.base\\_DN=dc=subdomain,dc=domain,dc=suffix xwiki.authentication.ldap.bind\\_DN=subdomain\\\\{0} xwiki.authentication.ldap.bind\\_pass={1} xwiki.authentication.ldap.UID\\_attr=sAMAccountName \u00a0- \u00a0why this won't let me login as AD user?  \n15:26\u00a0<edvorg>\u00a0has quit  \n15:27\u00a0<edvorg>\u00a0has joined #xwiki  \n15:28\u00a0<tmortagne>\u00a0circ-user-qFjti: you are not using xwiki.authentication.ldap.bind\\_DN=subdomain\\\\{0}, right ?  \n15:28\u00a0<tmortagne>\u00a0because you need to use your own domain here  \n15:29\u00a0<circ-user-qFjti>\u00a0lmao, i'm using my own domain there  \n15:29\u00a0<tmortagne>\u00a0also if you want to understand what is happening exactly during auth and what exactly is falling you should look at debug log  \n15:29\u00a0<tmortagne>\u00a0see http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/#HEnableLDAPdebuglog  \n15:50\u00a0<circ-user-qFjti>\u00a0Local LDAP authentication failed. org.xwiki.contrib.ldap.XWikiLDAPException: Error number 0 in 5: LDAP bind failed with LDAPException.  \n15:51\u00a0<circ-user-qFjti>\u00a0seems something wrong  \n15:57\u00a0<msmeria>\u00a0has quit  \n15:59\u00a0<acotiuga>\u00a0has quit  \n16:20\u00a0<lynxt\\_>\u00a0has joined #xwiki  \n16:20\u00a0<tillo\\_>\u00a0has joined #xwiki  \n16:22\u00a0<lynxt>\u00a0has quit  \n16:22\u00a0<lynxt\\_>\u00a0is now known as <lynxt>  \n16:23\u00a0<tillo\\_>\u00a0is now known as <tillo>  \n16:55\u00a0<circ-user-qFjti>\u00a0DEBUG x.c.l.XWikiLDAP AuthServiceImpl - The provided user is null. We don't try to authenticate, it prob ably means the user is in non logged mode.  \n16:55\u00a0<circ-user-qFjti>\u00a0it's normal?  \n17:31\u00a0<tmortagne>\u00a0circ-user-qFjti: yes, that's when you access a page as guest (not authenticated)  \n17:31\u00a0<circ-user-qFjti>\u00a0i see this in log when trying to login as AD user  \n17:31\u00a0<tmortagne>\u00a0no  \n17:31\u00a0<tmortagne>\u00a0when you access a page before you login  \n17:31\u00a0<circ-user-qFjti>\u00a0ok  \n17:31\u00a0<tmortagne>\u00a0you should have authentication log after that  \n17:36\u00a0<circ-user-qFjti>\u00a0has quit  \n17:44\u00a0<mflorea>\u00a0has quit  \n18:10\u00a0<vmassol>\u00a0has quit  \n19:00\u00a0<tmortagne>\u00a0has quit  \n19:24\u00a0<ClemensR>\u00a0has quit  \n19:59\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:00\u00a0<tmortagne>\u00a0has quit  \n20:56\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n22:36\u00a0<gdelhumeau>\u00a0has quit\n"}