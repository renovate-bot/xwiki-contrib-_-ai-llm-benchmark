{"id": "dev:IRC.xwikiArchive20130429", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130429", "title": "IRC Archive for channel #xwiki on 29 April 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n07:36\u00a0<mflorea>\u00a0has joined #xwiki  \n08:02\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:06\u00a0<vmassol>\u00a0has joined #xwiki  \n08:22\u00a0<evalica>\u00a0has joined #xwiki  \n08:26\u00a0<evalica>\u00a0has quit  \n08:32\u00a0<msmeria>\u00a0has joined #xwiki  \n08:38\u00a0<dpatriche>\u00a0has joined #xwiki  \n08:49\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:05\u00a0<dpatriche>\u00a0has quit  \n09:07\u00a0<evalica>\u00a0has joined #xwiki  \n09:08\u00a0<evalica>\u00a0has quit  \n09:09\u00a0<evalica>\u00a0has joined #xwiki  \n09:14\u00a0<Denis1>\u00a0has joined #xwiki  \n09:15\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:15\u00a0<vmassol>\u00a0has quit  \n09:52\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:54\u00a0<vmassol>\u00a0has joined #xwiki  \n10:01\u00a0<vmassol>\u00a0good morning  \n10:01\u00a0<vmassol>\u00a0so today is release day hopefully :)  \n10:01\u00a0<sburjan>\u00a0has joined #xwiki  \n10:11\u00a0<alexch>\u00a0has joined #xwiki  \n10:11\u00a0<tmortagne>\u00a0vmassol: sburjan seems to have reported blocker on the mailing list but maybe they were fixed since  \n10:12\u00a0<sburjan>\u00a0tmortagne: don't think so, since I tested them friday and I didn't see many commits since then  \n10:13\u00a0<vmassol>\u00a0sburjan: what issue?  \n10:13\u00a0<sburjan>\u00a0vmassol: check devlist  \n10:13\u00a0<vmassol>\u00a0I have the devlist  \n10:13\u00a0<vmassol>\u00a0and I've read it all  \n10:13\u00a0<vmassol>\u00a0otherwise I wouldn't ask  \n10:13\u00a0<vmassol>\u00a0:)  \n10:13\u00a0<vmassol>\u00a0so I mlust have missed this one  \n10:13\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n10:13\u00a0<vmassol>\u00a0title?  \n10:13\u00a0<sburjan>\u00a0[xwiki-devs] 5.0 final release  \n10:13\u00a0<vmassol>\u00a0ok thanks  \n10:14\u00a0<sburjan>\u00a0msmeria: was also able to reproduce them  \n10:14\u00a0<alexch>\u00a0has quit  \n10:14\u00a0<vmassol>\u00a0ok found it  \n10:14\u00a0<vmassol>\u00a0so some DW problems it seems  \n10:20\u00a0<tdelafosse>\u00a0has joined #xwiki  \n10:51\u00a0<sburjan>\u00a0guys, I'd like to trigger a new build for 5.0, last one is from friday  \n11:02\u00a0<sburjan>\u00a0agent 1 seems offline, is that normal ?  \n11:07\u00a0<GuillaumeF>\u00a0has quit  \n11:24\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n11:41\u00a0<vmassol>\u00a0sburjan: agent1 is offline because mflorea started the release process I guess  \n11:41\u00a0<vmassol>\u00a0mflorea/tmortagne: what's the plan for the release?  \n11:41\u00a0<vmassol>\u00a0you're working on fixing the DW issues raised by sburjan/msmeria?  \n11:41\u00a0<tmortagne>\u00a0vmassol: I'm currently looking at what sburjan reported  \n11:41\u00a0<vmassol>\u00a0ok  \n11:43\u00a0<sburjan>\u00a0vmassol: I am going to start a draft page on DW  \n11:43\u00a0<sburjan>\u00a0to create the Documentation  \n11:43\u00a0<vmassol>\u00a0ok  \n11:44\u00a0<mflorea>\u00a0sburjan: don't trigger any build, there were no commits. We just got rid of flickers, leave it like this  \n11:44\u00a0<sburjan>\u00a0mflorea: too late, I already triggered on 30 minutes ago :(  \n11:44\u00a0<mflorea>\u00a0...  \n11:45\u00a0<mflorea>\u00a0you'll be taking care of the flickers then  \n11:46\u00a0<mflorea>\u00a0vmassol: I'm trying to reproduce the problems reported by sburjan and msmeria. I'll evaluate afterwards if it's block for release or not.  \n11:46\u00a0<vmassol>\u00a0ok  \n11:51\u00a0<giusepp\\_\\_>\u00a0has joined #xwiki  \n11:51\u00a0<giusepp\\_\\_>\u00a0has left #xwiki  \n11:53\u00a0<ekarlso>\u00a0yo  \n11:53\u00a0<ekarlso>\u00a0is there bootstrap support yet for xwiki ?  \n11:59\u00a0<tmortagne>\u00a0ekarlso: no official support no  \n11:59\u00a0<ekarlso>\u00a0awww :)  \n11:59\u00a0<ekarlso>\u00a0too bad tmortagne ;)=  \n11:59\u00a0<tmortagne>\u00a0but there is an extension  \n11:59\u00a0<vmassol>\u00a0ekarlso: but there are some skins beeing created  \n11:59\u00a0<vmassol>\u00a0btw Denis what's the status of your bootstrap skin?  \n11:59\u00a0<tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Lyrebird+Skin  \n12:00\u00a0<tmortagne>\u00a0but it's not perfect AFAIK  \n12:00\u00a0<ekarlso>\u00a0what's the best one ?  \n12:00\u00a0<vmassol>\u00a0colibri skin :)  \n12:00\u00a0<vmassol>\u00a0but not bootstrap  \n12:01\u00a0<ekarlso>\u00a0awww  \n12:01\u00a0<vmassol>\u00a0you could also work on implementing the skin proposed by caty  \n12:01\u00a0<vmassol>\u00a0here:  \n12:01\u00a0<vmassol>\u00a0http://incubator.myxwiki.org/xwiki/bin/view/Improvements/Skin4x  \n12:01\u00a0<vmassol>\u00a0:)  \n12:03\u00a0<ekarlso>\u00a0is that ready yet ?  \n12:03\u00a0<Denis>\u00a0bluebird skin is demonstrated here: http://incubator.myxwiki.org/xwiki/bin/view/BluebirdSkin/, looks a little bit like Cathy's proposed Flamingo skin, but not fully finished, with some feature totally unsupported and others not being designed properly  \n12:06\u00a0<mflorea>\u00a0has quit  \n12:06\u00a0<mflorea>\u00a0has joined #xwiki  \n12:06\u00a0<Denis>\u00a0lyrebird has taken the approach of adapting bootstrap to the generated html, bluebird has the inverse approach, keep bootstrap as is (and benefit from all bootstrap themes), but change the html generated, and therefore the .vm templates used  \n12:07\u00a0<Denis>\u00a0however, XWiki generate html not only from .vm templates, but also from java, javascripts, etc\u2026 and these could not be simply adapted by a skin change  \n12:09\u00a0<Denis>\u00a0see http://markmail.org/thread/ymuv7hzqwvwpkscf for a discussion about this  \n12:33\u00a0<ekarlso>\u00a0Denis: / vmassol will there land a default bootstrap ish thing sopon ?  \n12:37\u00a0<vmassol>\u00a0ekarlso: It all depends on who's active on this but my guess is nothing soon  \n12:42\u00a0<rafaelav>\u00a0has joined #xwiki  \n12:42\u00a0<ekarlso>\u00a0awww, so sad vmassol :)  \n12:45\u00a0<giusepp\\_\\_>\u00a0has joined #xwiki  \n12:56\u00a0<ekarlso>\u00a0would you guys want to add etherpad like support to xwiki ?  \n12:56\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/RealTime+Wiki+Editor  \n12:57\u00a0<ekarlso>\u00a0is that still in alpha / beta or ?  \n12:58\u00a0<giusep\\_\\_\\_>\u00a0has joined #xwiki  \n13:01\u00a0<giusepp\\_\\_>\u00a0has quit  \n13:01\u00a0<ekarlso>\u00a0what do one usually put in front of xwiki / tomcat ?  \n13:08\u00a0<rafaelav1>\u00a0has joined #xwiki  \n13:09\u00a0<rafaelav1>\u00a0has left #xwiki  \n13:10\u00a0<rafaelav1>\u00a0has joined #xwiki  \n13:10\u00a0<sburjan>\u00a0tmortagne, mflorea : are you able to reproduce what I have reported ?  \n13:11\u00a0<rafaelav>\u00a0has quit  \n13:11\u00a0<tmortagne>\u00a0sburjan: did not went that far yet, fixing http://jira.xwiki.org/browse/XCOMMONS-388  \n13:11\u00a0<sburjan>\u00a0ok  \n13:11\u00a0<giusep\\_\\_\\_>\u00a0has quit  \n13:18\u00a0<mflorea>\u00a0has quit  \n13:44\u00a0<sburjan>\u00a0tmortagne: bbl in 1 hour  \n13:44\u00a0<tmortagne>\u00a0sburjan: same for me  \n13:45\u00a0<tmortagne>\u00a0I'm done with XCOMMONS-388 so I will try to reproduce  \n13:51\u00a0<GuillaumeF>\u00a0has quit  \n14:06\u00a0<mflorea>\u00a0has joined #xwiki  \n14:06\u00a0<rafaelav1>\u00a0has quit  \n14:06\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n14:07\u00a0<ekarlso>\u00a0Denis: is the bluebird stuff working ok or ?  \n14:11\u00a0<Denis>\u00a0ekarlso: as I said, it is an experimental skin with limitations due to my inability to change the html markup of some XWiki features using only skin, this is why I have not publish it really, but if you found it useful I can provide you a tarball  \n14:20\u00a0<rafaelav>\u00a0has joined #xwiki  \n14:22\u00a0<giusepp\\_\\_>\u00a0has joined #xwiki  \n14:26\u00a0<giusepp\\_\\_>\u00a0has quit  \n14:32\u00a0<Denis>\u00a0has quit  \n14:35\u00a0<Denis>\u00a0has joined #xwiki  \n14:36\u00a0<vmassol>\u00a0Denis: see above :)  \n14:38\u00a0<nIMBVS>\u00a0has joined #xwiki  \n14:39\u00a0<Denis>\u00a0vmassol: cool :)  \n14:48\u00a0<vmassol>\u00a0sdumitriu: this is not correct  \n14:48\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/commit/0490efebb53c336494f0f73cba798e77fa309e8f  \n14:48\u00a0<sdumitriu>\u00a0Why?  \n14:48\u00a0<vmassol>\u00a0because the user app deosn't depend on the admin app  \n14:48\u00a0<vmassol>\u00a0and shouldn't  \n14:48\u00a0<vmassol>\u00a0and for testing you don't need that  \n14:49\u00a0<sdumitriu>\u00a0It's for the integration tests  \n14:49\u00a0<vmassol>\u00a0you jsut need to use the superadmin user  \n14:49\u00a0<vmassol>\u00a0we already have several other tests like this  \n14:49\u00a0<sdumitriu>\u00a0And how do I do that?  \n14:49\u00a0<vmassol>\u00a0hold on  \n14:50\u00a0<vmassol>\u00a0IRCBot test modue  \n14:50\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0<xwikiCfgSuperadminPassword>pass</xwikiCfgSuperadminPassword>  \n14:50\u00a0<vmassol>\u00a0and in the test:  \n14:50\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// Login as superadmin to have delete rights.  \n14:50\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0getDriver().get(getUtil().getURLToLoginAs(\"superadmin\", \"pass\"));  \n14:50\u00a0<sdumitriu>\u00a0Isn't that more complex than just depending on the admin application?  \n14:51\u00a0<vmassol>\u00a0well it brings a lot of stuff  \n14:51\u00a0<vmassol>\u00a0that are not needed  \n14:51\u00a0<vmassol>\u00a0it's nice to have the minimal needed IMO  \n14:51\u00a0<sdumitriu>\u00a0In a real wiki you would not use the superadmin account to fix rights  \n14:51\u00a0<vmassol>\u00a0exactly  \n14:51\u00a0<vmassol>\u00a0this allows us to verify we don't have deps issues  \n14:51\u00a0<vmassol>\u00a0I've found a lot of them like this  \n14:51\u00a0<vmassol>\u00a0becaise we always assume we have everything in XE  \n14:51\u00a0<sdumitriu>\u00a0\"exactly\" what?  \n14:52\u00a0<vmassol>\u00a0so we don't see the problems  \n14:52\u00a0<sdumitriu>\u00a0IMO, what I said doesn't sustain what you said  \n14:52\u00a0<vmassol>\u00a0in this case you're not going to test that it works without the adin app  \n14:52\u00a0<vmassol>\u00a0admin app  \n14:53\u00a0<vmassol>\u00a0and it should work without the admin app  \n14:53\u00a0<vmassol>\u00a0don't you think?  \n14:54\u00a0<vmassol>\u00a0I think that func tests should never have any extra dep  \n14:54\u00a0<vmassol>\u00a0and that all transitive deps should come from their runtime deps  \n14:54\u00a0<vmassol>\u00a0to be sure that all required deps are defined in runtime module dep definitions  \n15:00\u00a0<tmortagne>\u00a0sburjan: are you here ?  \n15:00\u00a0<tmortagne>\u00a0I have several questions  \n15:00\u00a0<tmortagne>\u00a0regarding the DW issues you reported  \n15:20\u00a0<vmassol>\u00a0guys I'd like to modify WatchListJob's init. Right now it initializes a Servlet Container environment but that's wrong since it's a daemon thread. I'm proposing to change that and only initialize the Execution Context. I've done that locally and it seems to work fine. ok for you?  \n15:23\u00a0<tmortagne>\u00a0not sure what you mean by a \"Servlet Container environment\"  \n15:23\u00a0<sdumitriu>\u00a0+1  \n15:23\u00a0<vmassol>\u00a0tmortagne: ServletContainerInitializer  \n15:25\u00a0<tmortagne>\u00a0ok, yes it does not seems to make much sense to me to use ServletContainerInitializer in WatchListJob  \n15:25\u00a0<vmassol>\u00a0ok doing it  \n15:25\u00a0<vmassol>\u00a0no jira since it's a technical internal refactoring  \n15:25\u00a0<vmassol>\u00a0hope I'm not breaking anything but there's only one way of checking that...  \n15:25\u00a0<vmassol>\u00a0(I tested all I could locally)  \n15:26\u00a0<tmortagne>\u00a0you send a mail ?  \n15:26\u00a0<tmortagne>\u00a0sent  \n15:26\u00a0<vmassol>\u00a0yes locally  \n15:26\u00a0<tmortagne>\u00a0I mean waited for a mail  \n15:26\u00a0<vmassol>\u00a0es  \n15:26\u00a0<vmassol>\u00a0yes  \n15:26\u00a0<tmortagne>\u00a0IMO the goal was to generate proper request object for URL generation but the one provided by daemon XWikiContext should be enough  \n15:27\u00a0<vmassol>\u00a0yes strangely it works fine  \n15:27\u00a0<vmassol>\u00a0I didn't have to set the URL factory  \n15:29\u00a0<vmassol>\u00a0FTR I needed for the new xwiki-platform-url module  \n15:29\u00a0<vmassol>\u00a0\\*I needed it  \n15:35\u00a0<rafaelav>\u00a0has quit  \n15:41\u00a0<sburjan>\u00a0tmortagne: yes, I am back now  \n15:42\u00a0<tmortagne>\u00a03) and 4) don't seems valid to be (you should not have the DW in the first place anyway) so the blocker here is 2)  \n15:42\u00a0<tmortagne>\u00a0sburjan  \n15:44\u00a0<sburjan>\u00a0tmortagne: yes, they shouldn't exist. But since DW does not install globally on all subwikis, DW will be triggered on each wiki  \n15:44\u00a0<tmortagne>\u00a0I'm looking at it, looks like for some reason the way workspaces copy wiki template, EM does not receive any event about it and the new wiki does not have any associated extension  \n15:44\u00a0<sburjan>\u00a0ok, so you are able to reproduce it. That's good  \n15:44\u00a0<tmortagne>\u00a0mflorea was able to reproduce 2)  \n15:45\u00a0<tmortagne>\u00a0\"But since DW does not install globally on all subwikis, DW will be triggered on each wiki\" you are mixing things, I'm not talking about upgrade but about install  \n15:46\u00a0<tmortagne>\u00a0when you install a new workspace you should not get DW on it whatever is your configuration  \n15:46\u00a0<tmortagne>\u00a0from what I understand from your mail 3) and 4) are not talking about upgrade  \n15:47\u00a0<tmortagne>\u00a0DW is supposed to show up only when it's needed  \n15:47\u00a0<tmortagne>\u00a0and in a worskpace it's not  \n15:47\u00a0<tmortagne>\u00a0s/worskpace/new workspace/  \n15:49\u00a0<sburjan>\u00a0tmortagne: so if Global upgrade does not work, you are prompted to upgrade on each wiki when you access it  \n15:49\u00a0<sburjan>\u00a0this is what I was trying to say in my e-mail  \n15:49\u00a0<tmortagne>\u00a0sburjan: again I was not talking about 1) here, there is different things in your email  \n15:49\u00a0<sburjan>\u00a0now if workspaces should get or not get DW, I don't know  \n15:50\u00a0<sburjan>\u00a0I still don't understand. If 1) would work, I wouldn't get 2), right ?  \n15:50\u00a0<tmortagne>\u00a0sburjan: you reported the fact to get DW on a new workspace as an issue in your mail  \n15:51\u00a0<sburjan>\u00a0no, not a new NEW workspace. But on an existing one  \n15:51\u00a0<tmortagne>\u00a0sburjan: you should not get 2) watever is you configuration  \n15:51\u00a0<tmortagne>\u00a0it's really not clear in your mail  \n15:51\u00a0<sburjan>\u00a0I am not familiar with all the details, I only reported things that didn't make sense for me :)  \n15:52\u00a0<sburjan>\u00a0tmortagne: I didn't use \"new\" word anywhere in my e-mail, all my tests were based on pre-existing workspaces  \n15:52\u00a0<sburjan>\u00a0created on 4.5.3 and migrated  \n16:03\u00a0<nIMBVS>\u00a0has quit  \n16:23\u00a0<msmeria>\u00a0has quit  \n16:26\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:32\u00a0<gdelhumeau>\u00a0has quit  \n16:45\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:58\u00a0<evalica>\u00a0has quit  \n17:07\u00a0<sburjan>\u00a0has quit  \n17:34\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:35\u00a0<sdumitriu1>\u00a0has left #xwiki  \n17:35\u00a0<tmortagne>\u00a0all I can think of is a very weird side effect related to XCOMMONS-388 or you modified the home page before upgrading and you indeed got a merge issue but when you install 4.5.3 and upgrade right away what is happening is that new version is applied since there is no difference between old and current version  \n17:47\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:49\u00a0<Denis>\u00a0has quit  \n17:51\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n18:08\u00a0<vmassol>\u00a0tmortagne: I think you forgot to remove the CLIRR exclusions on master when you branched for 5.0RC1, I can do it if you want  \n18:12\u00a0<tmortagne>\u00a0vmassol: I was waiting for a final 5.0 release  \n18:12\u00a0<vmassol>\u00a0ok doing it since I'm going to add some on platform and I don't want to mix  \n18:14\u00a0<tmortagne>\u00a0vmassol: when I created the branch it was not possible to remove all excelusions anyway  \n18:15\u00a0<vmassol>\u00a0at this time no I agree  \n18:15\u00a0<vmassol>\u00a0we could have removed them only when 5.0RC1 was released  \n18:26\u00a0<tmortagne>\u00a0has quit  \n18:27\u00a0<Denis>\u00a0has joined #xwiki  \n18:27\u00a0<Denis>\u00a0has quit  \n18:27\u00a0<vmassol>\u00a0we = I since I released 5.0RC1 ;)  \n18:36\u00a0<gdelhumeau>\u00a0has quit  \n19:16\u00a0<tdelafosse>\u00a0has quit  \n19:35\u00a0<Denis2>\u00a0has joined #xwiki  \n19:35\u00a0<Denis2>\u00a0is now known as <Denis>  \n19:52\u00a0<mflorea>\u00a0has quit  \n20:05\u00a0<GuillaumeF>\u00a0has quit  \n20:15\u00a0<abusenius>\u00a0has joined #xwiki  \n22:54\u00a0<xwikibot>\u00a0has joined #xwiki  \n23:15\u00a0<Denis>\u00a0has quit  \n23:36\u00a0<vmassol>\u00a0has quit  \n23:53\u00a0<abusenius>\u00a0has quit\n"}