{"id": "dev:IRC.xwikiArchive20100421", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100421", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nlucaa joined #xwiki at 00:02  \njvdrean joined #xwiki at 00:46  \njvdrean left at 00:48 (Client Quit  \njvelociter left at 00:59 (Quit: jvelociter  \nnickless left at 03:41 (Ping timeout: 276 seconds  \nsdumitriu left at 04:34 (Ping timeout: 276 seconds  \nslhommed joined #xwiki at 05:51  \nslhommed - (05:51): hi all  \nslhommed - (05:52): anyone here know of a plugin or module, etc. to enable chat with other logged in users?  \nslhommed - (05:52): if not, at least a way to display logged in users  \nslhommed left at 06:46 (Quit: Leaving  \nmflorea joined #xwiki at 07:03  \nflorinciu joined #xwiki at 07:35  \nvmassol joined #xwiki at 07:57  \nplunden1 joined #xwiki at 08:08  \nmariusbutuc joined #xwiki at 08:13  \nflorinciu left at 08:20 (Quit: Leaving.  \nDenis joined #xwiki at 08:48  \nmariusbutuc left at 08:56 (Ping timeout: 265 seconds  \nmariusbutuc joined #xwiki at 08:57  \nEnygma` joined #xwiki at 09:00  \nlucaa left #xwiki at 09:05  \nevalica joined #xwiki at 09:16  \nlucaa joined #xwiki at 09:36  \nmariusbutuc left #xwiki at 09:39  \nKermitTheFragger joined #xwiki at 09:57  \nEnygma` left at 10:06 (Quit: Leaving.  \nEnygma` joined #xwiki at 10:10  \nglerouge joined #xwiki at 10:11  \ntmortagne joined #xwiki at 10:13  \narkub joined #xwiki at 10:22  \nanamarias joined #xwiki at 10:38  \njvdrean joined #xwiki at 10:43  \njvelociter joined #xwiki at 11:02  \nanamarias left at 11:09 (Ping timeout: 264 seconds  \nflorinciu joined #xwiki at 11:42  \nmflorea left at 11:53 (Quit: Leaving.  \nnickless joined #xwiki at 12:09  \ntemporalfox left at 12:17 (Quit: temporalfox  \nflorinciu left at 12:22 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 12:25  \ngvallarelli joined #xwiki at 12:29  \ngvallarelli - (12:29): Hi  \nsdumitriu joined #xwiki at 12:35  \nnickless left at 12:36 (Ping timeout: 260 seconds  \nCalebJamesDeLisl - (12:41): hmm, I just segfaulted jetty.  \nCalebJamesDeLisl - (12:41): By creating a user and loading a page.  \nCalebJamesDeLisl - (12:42): Ok, who's using com.sun.misc.Unsafe? ;)  \nsdumitriu - (12:47): Sun JRE  \nsdumitriu - (12:47): Segfaults are usually bugs in the JVM  \nCalebJamesDeLisl - (12:48): JavaThread \"http://localhost:8081/xwikiTrunk/bin/download/XWiki/XWikiUserSheet/noavatar.png?width=120\"  \nCalebJamesDeLisl - (12:48): I know stack overflowing the GC will lead to a spectacular blowup, maybe I'll do that and compare the dumps.  \nCalebJamesDeLisl - (12:52): It was libxcb.so so looks like it's X11 that bombed out.  \narkub left at 13:19 (Ping timeout: 258 seconds  \nCalebJamesDeLisl - (13:42): Should I have a vote to include xwiki-invitation in XE before getting a jira project?  \nbougie - (13:45): how can desactivate the registration ?  \nvmassol - (13:45): CalebJamesDeLisl: to include xwiki-invitation in the platform yes, including it in XE is another matter  \nflorinciu left at 13:46 (Read error: Connection reset by peer  \nbougie - (13:46): or redirect the register/xwiki/Register to another page  \nvmassol - (13:46): bougie: remove the register right to guests/users  \nCalebJamesDeLisl - (13:46): I meant in platform/applications but do I need to have the vote before the jira project?  \nvmassol - (13:47): yes  \nvmassol - (13:47): (since jira reflects that)  \nCalebJamesDeLisl - (13:47): Ok, I'll just put it in the sandbox without issue tracking until I have the vote.  \nCalebJamesDeLisl - (13:48): (I want something in the sandbox so we know what we're voting on.)  \nvmassol - (13:48): k  \nvmassol - (13:51): guys we're already late by 2 days for the 2.3RC2 (or final) release so we need to plan it  \nvmassol - (13:51): is there anyimportant bug fix that someone is working on that needs to go in?  \nvmassol - (13:51): (or any blocker that anyone knows about?)  \nmflorea joined #xwiki at 13:52  \nvmassol - (13:52): mflorea: hi. There's one failing test for 2.3 release: http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests-2.3/com.xpn.xwiki.products$xwiki-enterprise-test-wysiwyg/16/testReport/com.xpn.xwiki.it.selenium/TabsTest/testSwitchToSourceBeforeWysiwygLoad/  \nmflorea - (13:53): vmassol: flickering..  \nvmassol - (13:53): oops, got to go, I have a meeting I had forgotten. Please let me know if you're working on stuff for RC2/final in the meantime  \nmflorea - (13:54): I'm working on adding support for special characters in page name  \nmflorea - (13:54): in the WYSIWYG editor  \nDenis left at 14:15 (Quit: Leaving.  \nflorinciu joined #xwiki at 14:37  \ntmortagne - (14:42): vmassol: there is a right issue reported by Jos\u00e9 (http://jira.xwiki.org/jira/browse/XWIKI-5128) and Ludo but i i don't think it's a regression so it's not blocker  \nEnygma` left at 14:44 (Quit: Leaving.  \ntmortagne - (14:47): i just had an issue on trunk, i tried to create a user and it did not worked but I did not get any error, the user is just not here  \ntmortagne - (14:48): sending this warning before looking more in case someone already knows what is the issue  \ntmortagne - (14:49): i get an error when looking with firebug:  \ntmortagne - (14:50): registry is undefined  \ntmortagne - (14:50): var respondersForEvent \u00a0= registry.get(eventName);  \nlucaa left at 14:51 (Quit: Leaving.  \nlucaa joined #xwiki at 14:51  \nlucaa left at 14:57 (Quit: Leaving.  \nlucaa joined #xwiki at 14:57  \nvmassol - (15:01): back  \nvmassol - (15:04): strange I was pretty sure we had some tests for this  \ntmortagne - (15:05): it's not the first time i see this \"registry is undefined\" but i don't remember what was the cause last time  \ntmortagne - (15:06): it's probably on my side only  \ntmortagne - (15:07): hmm i have the user after a restart of XWiki actually  \ntmortagne - (15:07): but i still have the error  \ntmortagne - (15:07): just by going to http://127.0.0.1:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Users#|t=userstable&p=1&wiki=local  \ntmortagne - (15:07): don't even need to try to create a user  \narkub joined #xwiki at 15:09  \ntmortagne - (15:09): note that i have this error only on the user list page and not on the group list page  \ntmortagne - (15:11): i remember, last time I had this it was because some js files were not loaded because a subwiki was loading skin files on main wiki so the user did not had the right to get the skin resources  \ntmortagne - (15:12): but here i'm user standard Admin user on a fresh wiki  \nflorinciu left at 15:16 (Quit: Leaving.  \nCalebJamesDeLisl - (15:17): registry.get(eventName); \u00a0Seem to remember that one... is the error inside prototype?  \ntmortagne - (15:17): CalebJamesDeLisl: i don't know  \nCalebJamesDeLisl - (15:18): You can set firebug to break on error, I found that very helpful.  \ntmortagne - (15:18): i'm updating an retesting with very last xar build  \nCalebJamesDeLisl - (15:19): Another thing, I noticed the class editor has a bad html macro but my copy is old.  \nplunden1 left #xwiki at 15:20  \nCalebJamesDeLisl - (15:21): I don't know if this was fixed http://127.0.0.1:8081/xwikiTrunk/bin/view/XWiki/XWikiRights it's ClassSheet  \ntmortagne - (15:24): another firebug error: when it finish importing i get  \ntmortagne - (15:24): this.url.match is not a function  \ntmortagne - (15:24): \u00a0\u00a0\u00a0\u00a0var m \u00a0= this.url.match(/^\\s\\*https?:\\/\\/[^\\/]\\*/);  \ntmortagne - (15:24): and it says it's in prototype.js \u00a0(line 1517)  \ntmortagne - (15:24): did we upgraded prototype or something ?  \ntmortagne - (15:24): rerstesting user list  \ntmortagne - (15:25): still get the error  \nCalebJamesDeLisl - (15:25): I know there are a lot of js issues (especially if you turn on strict checking in about:config)  \ntmortagne - (15:25): it says it's in prototype.js \u00a0(line 4440)  \nCalebJamesDeLisl - (15:25): Can you look up the stack?  \ntmortagne - (15:26): CalebJamesDeLisl: how do i do that ?  \ntmortagne - (15:26): hmm wait  \nCalebJamesDeLisl - (15:27): You have to turn on the script section of firebug  \ntmortagne - (15:27): the ajax request just before the error  \ntmortagne - (15:27): ha no nothing  \nCalebJamesDeLisl - (15:27): attempting to repeat: \u00a0in users->add user?  \ntmortagne - (15:28): script tab seems on, i go there whet i click on \" prototype.js \u00a0(line 4440)\"  \ntmortagne - (15:28): CalebJamesDeLisl: no need  \ntmortagne - (15:28): just going to the page  \ntmortagne - (15:29): i get the error just by loading user list admin page  \ntmortagne - (15:29): it's working now  \ntmortagne - (15:30): i mean i dont get the error anymore when i go to the page  \ntmortagne - (15:30): looks like it's kind of random  \ntmortagne - (15:30): restarting  \ntmortagne - (15:31): even after restarting i don't get the error anymore, trying to create a user then  \ntmortagne - (15:32): ha this time i get something real  \ntmortagne - (15:32): but it's redirecting before i could see it  \ntmortagne - (15:32): trying to copy it fast  \ntmortagne - (15:33): note that i got an error but this timee it worked  \ntmortagne - (15:33): looks like there is something ugly somewhere  \nCalebJamesDeLisl - (15:33): XWikiUserSheet.  \nCalebJamesDeLisl - (15:33): Looked up the stack, that's what's causing the call.  \nCalebJamesDeLisl - (15:34): To get a stack trace you have to go in console and in the upper left corner there is a pause button and click that.  \nCalebJamesDeLisl - (15:34): It breaks on error and you get to look at the stack, and the heap.  \ntmortagne - (15:35): CalebJamesDeLisl: i can't get the error anymore, now i just have a different error (a 400 bad request on some ajax call) \u00a0i don't have time to look before it's redirect  \ntmortagne - (15:36): http://127.0.0.1:8080/xwiki/bin/register/XWiki/XWikiPreferences?xpage=registeruser?ajax=1  \ntmortagne - (15:36): got it this time  \nCalebJamesDeLisl - (15:36): You can use the net section of firebug for that. Click persist and you can still see the requests.  \ntmortagne - (15:36): this return a \"400 bad request\"  \ntmortagne - (15:37): to reproduce just try to create a user from the admin user section  \ntmortagne - (15:37): but again it''s working well, i did created thee user  \ntmortagne - (15:37): i can't reproduce the first issue i had where user did not shows up in the list  \nCalebJamesDeLisl - (15:38): Hmm, no 400 here. but for me the link is bin/view/XWiki/XWikiPreferences?xpage=registeruser  \ntmortagne - (15:40): i have many  \ntmortagne - (15:40): 2010-04-21 15:39:43,605 [http://127.0.0.1:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Users] ERROR web.XWikiAction \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Connection aborted  \ntmortagne - (15:40): in the log  \ntmortagne - (15:40): looks like it's related  \nCalebJamesDeLisl - (15:43): I'm still just getting the first issue. I'll have to look at it later.  \ntmortagne - (15:45): CalebJamesDeLisl: Persist doe snot seems to help for the redirect, i still loose previous logs  \nCalebJamesDeLisl - (15:46): It hides them under a collapse menu, make sure it's not doing that.  \ntmortagne - (15:46): ok  \ntmortagne - (15:48): found it so it's always the same thing, just before doing the redirect there is a  \ntmortagne - (15:48): http://127.0.0.1:8080/xwiki/bin/register/XWiki/XWikiPreferences?xpage=registeruser?ajax=1 \u00a0\u00a0\u00a0\u00a0\u00a0400 Bad Request  \ntmortagne - (15:48): a POST  \ntmortagne - (15:49): hmm  \ntmortagne - (15:49): i'm looking at the \"Post\" tag in the details of the request  \ntmortagne - (15:49): i see  \ntmortagne - (15:49): xwikiname \u00a0\u00a0qq  \ntmortagne - (15:49): among other things  \nCalebJamesDeLisl - (15:50): xwikiname=qq ?!  \nCalebJamesDeLisl - (15:50): that your test name?  \ntmortagne - (15:50): ha i know i thing that's how the user name is called in this request  \ntmortagne - (15:50): yep  \ntmortagne - (15:51): i tought i was the wiki name when seeing \"xwikiname\"  \ntmortagne - (15:51): very bad parameter name...  \ntmortagne - (15:52): to be more precise in the Net section i get  \ntmortagne - (15:53): http://127.0.0.1:8080/xwiki/bin/register/XWiki/XWikiPreferences?xpage=registeruser?ajax=1 \u00a0\u00a0\u00a0400 Bad Request  \ntmortagne - (15:53): just before the redirect and then  \ntmortagne - (15:53): http://127.0.0.1:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Users \u00a0\u00a0\u00a0Aborted  \ntmortagne - (15:53): just after the redirect  \ntmortagne - (15:53): only thing in red in the list  \ntmortagne - (15:54): (first one is a POST and second one a GET and seems to be the target of the redirect)  \ntmortagne - (15:54): i don't have the second one in the Console, just in Net  \ntmortagne - (15:55): and i think the second one is directly related to  \ntmortagne - (15:55): 2010-04-21 15:46:48,172 [http://127.0.0.1:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Users] ERROR web.XWikiAction \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Connection aborted  \ntmortagne - (15:55): either the server or the client close the connection before it's finished for some reason  \ntmortagne - (15:55): looks more like the client  \nCalebJamesDeLisl - (15:56): Yup repeated.  \nCalebJamesDeLisl - (15:56): Looks like the fragile lightbox has been broken. I don't see any livevalidation in the fields.  \nCalebJamesDeLisl - (15:58): Wait a second! \u00a0There are supposed to be stars next to the fields indicating they are mandatory. Has it been completely reverted?!  \ntmortagne - (16:00): CalebJamesDeLisl: something else i did not noticed previously, i created a user with a password shorter than 6 chars and it worked  \ntmortagne - (16:00): so yes it seems there is old code used here  \nCalebJamesDeLisl - (16:01): That's what i'd say. Should have removed that template when I had the chance ;)  \nCalebJamesDeLisl - (16:02): Yea, user sheet has been reverted.  \nCalebJamesDeLisl - (16:04): r27393. you broke it ;)  \nCalebJamesDeLisl - (16:06): Looks like it was just a bad merge.  \nCalebJamesDeLisl - (16:07): Or not, svn doesn't allow that.  \ntmortagne - (16:07): on which page ?  \nCalebJamesDeLisl - (16:09): XWikiUsersSheet lines 111 and 112  \ntmortagne - (16:09): you mean AdminUserSheet ? there is no modification on XWikiUserSheet on r27393  \ntmortagne - (16:10): i don't understand why i changed \"registerinline\" for \"registeruser\", probably a copy past from older branch yes  \ntmortagne - (16:10): it was not on purpose for sure  \nvmassol - (16:10): guys please make sure to add a functional test  \nvmassol - (16:11): so does it mean registration has no functional test?  \nvmassol - (16:11): (make sure you add it before you fix the pb ;))  \ntmortagne - (16:11): CalebJamesDeLisl: are you taking care of that ?  \nCalebJamesDeLisl - (16:12): I wasn't but I can if you want.  \ntmortagne - (16:12): i'm working on an important right bug right now  \nCalebJamesDeLisl - (16:12): Ok, I'll do it.  \ntmortagne - (16:12): thanks  \ngvallarelli left at 16:12 (Ping timeout: 252 seconds  \nCalebJamesDeLisl - (16:13): Good luck in the /user/impl  \nCalebJamesDeLisl - (16:13): My conclusion when I read it was I would never ever touch anything.  \ntmortagne - (16:13): yea i'm starting to know it pretty well :)  \ntmortagne - (16:13): (but my eyes still hurt ;))  \nCalebJamesDeLisl - (16:13): I know how you feel.  \njvdrean - (16:23): Nice, chuck norris on xwiki.org (page deleted)  \nvmassol - (16:51): CalebJamesDeLisl: you closed without a functional test. I think it would be worth to add some func tests. Do you already have some for the new registration features?  \nCalebJamesDeLisl - (16:51): I do have some tests of the existing registration page. There is also a test to make sure the user is registered.  \nvmassol - (16:52): so add some test so that next time it's caught?  \nCalebJamesDeLisl - (16:52): I have been avoiding functional tests because I am going to have to spend a few days with selenium2 before I can make any sense of it.  \nCalebJamesDeLisl - (16:52): I know it's no excuse but that is the real reason.  \nvmassol - (16:52): ok\u2026 It hink you shoudl start by this actually then :)  \nvmassol - (16:53): I can help if you have questions  \nCalebJamesDeLisl - (16:53): Thanks. Is there a lot of build up? It seems like to rest one thing one has to define a bunch of classes.  \nCalebJamesDeLisl - (16:53): s/rest/test/  \nvmassol - (16:54): CalebJamesDeLisl: not too much since it's quite new  \nvmassol - (16:54): but it's easy to add where required  \nvmassol - (16:54): the strategy is page objects indeed  \nvmassol - (16:55): so that other tests can then build up on yours  \nvmassol - (16:55): that prevents duplication  \nCalebJamesDeLisl - (16:55): Ok, I'm going to post the invitation code to sandbox and then I will get started right away.  \nvmassol - (16:55): great  \nvmassol - (16:55): cool to get someone else to look at it  \nvmassol - (16:55): so far only jerome and I have looked at it  \nvmassol - (16:56): we need to all know it so that new tests are built on selenium2 instead of seleinum2  \nCalebJamesDeLisl - (16:56): I am anxious about writing the right inferstructure classes.  \nCalebJamesDeLisl - (16:56): I don't know how the test might be used in the future.  \nCalebJamesDeLisl - (16:57): I've learned that success is nothing but failure and stubbornness and I have both in spades.  \nvmassol - (17:00): we all have, that's how we progress :)  \nmariusbutuc joined #xwiki at 17:17  \nCalebJamesDeLisl - (17:19): Hmm. am I not allowed to commit to sandbox?  \nvmassol - (17:19): your user need to be added to the committer group on sandbox.xwiki.org  \nvmassol - (17:19): I can do that  \nvmassol - (17:20): contrib.xwiki.org  \nCalebJamesDeLisl - (17:20): Thanks.  \nvmassol - (17:20): what user? (you have 2)  \nvmassol - (17:21): ah no  \nvmassol - (17:21): 3  \nvmassol - (17:21): ok found it  \nvmassol - (17:22): CalebJamesDeLisl: can you try now?  \nCalebJamesDeLisl - (17:22): Hmm, nope. Did you chose cjdelisle?  \nvmassol - (17:22): yes  \nvmassol - (17:23): ok i know  \nvmassol - (17:24): CalebJamesDeLisl: can you try again?  \nCalebJamesDeLisl - (17:24): Nope.  \nvmassol - (17:26): you sure you have done a proper checkout?  \nvmassol - (17:27): (don't know if it matters)  \nvmassol - (17:27): with https  \nCalebJamesDeLisl - (17:27): I checked out with https.  \nvmassol - (17:27): then I don't know what the problem is  \nCalebJamesDeLisl - (17:27): What is the file that should be returning my name?  \nvmassol - (17:27): I don't really know how the code works for authentication against the svn  \nvmassol - (17:28): I don't know  \nvmassol - (17:28): there's a script somewhere indeed  \nCalebJamesDeLisl - (17:28): I saw it once when there was an update of xwiki.org and the bot was running.  \nvmassol - (17:29): ok found it  \nvmassol - (17:29): http://www.xwiki.org/xwiki/bin/view/XWiki/GetCommitters  \nvmassol - (17:30): you're there: http://www.xwiki.org/xwiki/bin/view/XWiki/GetCommitters?project=contrib  \nvmassol - (17:30): missing xwiki: prefix  \nvmassol - (17:30): no  \nvmassol - (17:30): that's what i thought initially  \nvmassol - (17:30): but I've tried with both  \nCalebJamesDeLisl - (17:31): And now it works.  \ntemporalfox joined #xwiki at 17:31  \nCalebJamesDeLisl - (17:31): Funny those things.  \nvmassol - (17:31): I put back the value I put in my first try\u2026 strange  \nCalebJamesDeLisl - (17:32): Cache?  \nmariusbutuc left #xwiki at 17:44  \nevalica left at 17:54 (Quit: Leaving.  \nlucaa left at 17:56 (Quit: Leaving.  \nlucaa joined #xwiki at 17:56  \nCalebJamesDeLisl - (18:20): So looking at these tests it looks like I need to add a page element like \"class LightBox<? extends BasePage>\" then I need to make sure the things in the page still work in the lightbox.  \nCalebJamesDeLisl - (18:23): Of course if then a page is made where things are pointed to with full xpath like /html/body/.... then that would obviously break.  \nvmassol - (18:24): lightbox sounds too generic to me  \nvmassol - (18:24): RegisterUserLightBox maybe? (or RegisterUserLightBoxPage)  \nCalebJamesDeLisl - (18:26): Ok, so then each test gets it's own element? ;)  \nvmassol - (18:26): the goal of the Page object is to provide actions done on that page  \nvmassol - (18:26): so that the tests can use a high level DSL and not do any tech stuff  \nvmassol - (18:27): for example for a user reg lightbox page, you'd have a registerUser() method probably  \nvmassol - (18:27): wihch would fill all the fields  \nvmassol - (18:27): and then press the add button  \nCalebJamesDeLisl - (18:27): I have been largely doing that in selenium1 tests with all of the helper methods.  \nvmassol - (18:27): the test would use that page \u00a0and then assert the result  \nvmassol - (18:28): the result would need a user admin page  \nvmassol - (18:28): with a hasUser() method  \nvmassol - (18:28): which would be used in the test assert  \nCalebJamesDeLisl - (18:28): Would you say it's a best practice to keep xpaths out of the test class?  \nvmassol - (18:28): in selenium1 there was a bit or reuse but it was way less organized  \nvmassol - (18:28): it was all in a flat space  \nvmassol - (18:29): yes definitely  \nvmassol - (18:29): there should definitely be no xpath or no technical name in the test  \nvmassol - (18:29): tech name := id, class, etc  \nCalebJamesDeLisl - (18:29): Hmm, that will slow things down in cases where there is no reuse.  \nvmassol - (18:30): yes it'll slow down by something like 1-5 minutes  \nvmassol - (18:30): it's worth it  \nvmassol - (18:30): IMO  \nvmassol - (18:30): much better than trying to second guess the reuse  \nnickless joined #xwiki at 18:30  \nvmassol - (18:30): which inevitably fail to work  \nvmassol - (18:30): since people take the shortcut and then no reuse  \nvmassol - (18:31): which is what we had in selenium1  \nCalebJamesDeLisl - (18:31): I'm not making a judgment at this point on it. It's always hard to read the future.  \nvmassol - (18:31): I added method initially for the reuse as new methodes were required people didn't no refactor  \nvmassol - (18:31): s/as/but as/  \nvmassol - (18:32): I find the page object a better pattern  \nvmassol - (18:32): I discovered it on the selenium best practice page  \nvmassol - (18:32): s/selenium/selenium2/  \nvmassol - (18:32): didn't knowit before  \nCalebJamesDeLisl - (18:33): Yes the lack of name spacing and all of the globals was an eyesore but \"it's just a test\" was what I understood to be the rationale.  \nvmassol - (18:33): one thing missing in our fwk for selenium2 is the notion of skin, we'll need to add that at one point  \nCalebJamesDeLisl - (18:34): Anyway. I have to have some idea of how this stuff might be reused before I go and code nice clean code which is not reusable because it's too specialized.  \nvmassol - (18:34): IMO jsut add a registerUser method, should be enough for now  \nvmassol - (18:35): + the isUserAvailable() for the other Page object  \nvmassol - (18:35): do you need more right now?  \nCalebJamesDeLisl - (18:35): Seems like the page in the lightbox should be an extension of the page outside of the lightbox.  \nvmassol - (18:36): could be indeed  \nCalebJamesDeLisl - (18:36): Create a register page, add fields, logic to fill them in etc. Then create a class for in lightbox and start over. Sounds wrong.  \nvmassol - (18:36): you wouldn't create a register page  \nvmassol - (18:36): you would do this:  \nvmassol - (18:37): on the user page, you'd have a getRegistrationPage()  \nvmassol - (18:37): but I agree that it's better  \nvmassol - (18:37): to directly have a registerUser() method in the user page  \nvmassol - (18:37): that method would click on register, fill the fields and press save  \nvmassol - (18:37): hmm we need also a way to test the cancel  \nvmassol - (18:38): (the cross at the top right)  \nCalebJamesDeLisl - (18:38): In the user page? Don't you need registration before you have access to the user?  \nvmassol - (18:38): cancelling the registration lightbox  \nvmassol - (18:38): so maybe 2 classes are good after all  \nCalebJamesDeLisl - (18:39): Yes. The upper right hand X is intrinsic to the lightbox, the fields and buttons are intrinsic to the register page, how do we reuse both?  \nvmassol - (18:39): by having a lightbox page  \nvmassol - (18:40): extended by the register user lightbox \"age\"  \nvmassol - (18:40): s/age/page/  \nCalebJamesDeLisl - (18:40): LightBoxRegister extends Register?  \nvmassol - (18:40): err?  \nvmassol - (18:40): what is Register?  \nCalebJamesDeLisl - (18:40): RegisterPage  \nCalebJamesDeLisl - (18:41): public class RegisterPageInLightBox extends RegisterPage?  \nvmassol - (18:41): I don't think so  \nvmassol - (18:41): actually I'm against it  \nvmassol - (18:41): it's wrong  \nvmassol - (18:41): for ex, the register page has a register button  \nCalebJamesDeLisl - (18:41): You lose the X from the lightbox.  \nvmassol - (18:41): this would mean the register lightbox page would also have a register button  \nvmassol - (18:41): which is not hte case  \nvmassol - (18:42): the register lightbox page is NOT a register page  \nvmassol - (18:42): I don't understand your problem actually  \nCalebJamesDeLisl - (18:42): Actually it is. There are some hacks to recognize the lightbox and behave differently.  \nvmassol - (18:43): where is the delete user in the user reg lightbox?  \nvmassol - (18:43): where is the register user in the user reg lightbox?  \nvmassol - (18:43): where are the menus int he suer reg ligthbox ?  \nvmassol - (18:43): so it's not a reg page  \nCalebJamesDeLisl - (18:43): The user reg lightbox is view/XWiki/Registration  \nvmassol - (18:44): it doesn't matter what it is technically  \nvmassol - (18:44): it's from a user pob  \nvmassol - (18:44): pov  \nvmassol - (18:44): when I have:  \nvmassol - (18:45): UserRegistrationLightBox urlb =....  \nvmassol - (18:45): then  \nvmassol - (18:45): I shouldn't be able to write:  \nvmassol - (18:45): urlb.deleteUser()  \nvmassol - (18:45): or urlb.deletePage()  \nvmassol - (18:45): FTM I can imagine 2 versb on urlb  \nCalebJamesDeLisl - (18:46): You can do that from /register/XWiki/Register?  \nvmassol - (18:46): urlb.registerUser(\u2026.)  \nvmassol - (18:46): and  \nvmassol - (18:46): urlb.cancel()  \nvmassol - (18:46): ah you're talking about something else I think  \nvmassol - (18:46): are you talking about the reg page that is not in the admin ?  \nvmassol - (18:47): (I was only talking about the page in the admin + its lightbox)  \nCalebJamesDeLisl - (18:47): It's also in the admin section.  \nCalebJamesDeLisl - (18:47): Admin->Users->Add user  \nvmassol - (18:47): name mixup  \nCalebJamesDeLisl - (18:47): Livetable? I mess that up all the time.  \nvmassol - (18:48): is it the same code used in both places?  \nCalebJamesDeLisl - (18:48): Yup.  \nvmassol - (18:48): ok then we can have an additional class  \nvmassol - (18:49): for sharing that UI  \nvmassol - (18:49): let's call it RegistrationElement for now  \nCalebJamesDeLisl - (18:49): Can you explain what it provides?  \nvmassol - (18:49): so UserRegistrationLightBox extends RegElement  \nvmassol - (18:49): the filling of the fields  \nvmassol - (18:49): and maybe (if it's shared) the submit button  \nvmassol - (18:50): then RegistrationPage exteds RegElement  \nCalebJamesDeLisl - (18:50): No the submit button is the \"detect the lightbox\" hack I referred to.  \nvmassol - (18:50): ok then it's not common  \nvmassol - (18:50): IMO  \nvmassol - (18:51): all this shows a UI issue BTW  \nmflorea left at 18:51 (Quit: Leaving.  \nCalebJamesDeLisl - (18:51): I agree having to detect the lightbox is wrong.  \nvmassol - (18:51): hmm actually we should differentiate user addition from registration in term of wording, at least for now  \nCalebJamesDeLisl - (18:52): Wording in the tests?  \nvmassol - (18:52): actually I think that difference is also in the UI  \nvmassol - (18:52): if I remember well  \nCalebJamesDeLisl - (18:53): Are you referring to registeruser.vm vs. registerinline.vm?  \nvmassol - (18:53): I have no idea what these are  \nvmassol - (18:54): http://myxwiki.org/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Users#|t=userstable&p=1&wiki=local  \nvmassol - (18:54): indeed the button is 'add user'  \nvmassol - (18:54): while http://myxwiki.org/xwiki/bin/register/XWiki/Register is about registration  \nvmassol - (18:54): so we should keep this wording difference in the tests IMO  \nCalebJamesDeLisl - (18:55): Even though it's internally the same thing?  \nCalebJamesDeLisl - (18:55): copy-paste code reuse ;)  \nvmassol - (18:55): Im' not sure what we are talking about  \nvmassol - (18:55): we've already talked about the code reuse  \nvmassol - (18:55): anyway  \nvmassol - (18:55): the best is that you do it  \nvmassol - (18:56): we can talk after based on something tangible maybe  \nglerouge left at 18:56 (Quit: Leaving.  \njvdrean left at 18:56 (Quit: Leaving.  \nvmassol - (18:56): it's taking lot of time here for something that would be expressed in 30 seconds verbally I believe ;)  \nCalebJamesDeLisl - (18:57): Perhaps so. I will hack something together and you can see what you think.  \nvmassol - (18:57): great  \ngvallarelli joined #xwiki at 18:58  \ngvallarelli - (18:58): Hi  \nCalebJamesDeLisl - (18:58): Actually I'm going to take a break and go try pulling off a gear for the garden tractor. See ya later.  \nvmassol - (18:58): hehe see ya  \nvmassol - (18:59): I'll go and d some cement to set up a fence in the garden too ;)  \nvmassol - (18:59): s/d/do/  \nvmassol - (19:00): tmortagne: you're sure of yourself for 2.2 for the hasAccessLevel? Isn't it risky? (unless you're ok to do a 2.2.6 if it's not working ;))  \ntmortagne - (19:01): vmassol: the next release is already 2.2.6 in 2.2 branch  \nvmassol - (19:01): ah right  \nvmassol - (19:01): then 2.2.7  \nvmassol - (19:02): I think it's good to have it in 2.2.6 if you're confident about the fix and if we're all ok to do a 2.2.7 should there be a pb  \ntmortagne - (19:02): and yes i don't think it's risky (it's even a potential security risk to keep 2.2 the way it is currently)  \nvmassol - (19:02): ok  \ntmortagne - (19:03): and anyway yes i'm ok with a 2.2.7  \ntmortagne - (19:03): one more one less...  \nvmassol - (19:03): :)  \ntmortagne - (19:03): (i'm currently adding some more unit test, good thing is that this test commes with lot's of multiwiki unit tests)  \ntmortagne - (19:03): at last  \nvmassol - (19:04): cool  \nKermitTheFragger left at 19:10 (Quit: Leaving  \nlucaa left at 19:28 (Quit: Leaving.  \narkub left at 19:40 (Ping timeout: 258 seconds  \nflorinciu joined #xwiki at 19:43  \nflorinciu left at 19:45 (Read error: Connection reset by peer  \nmflorea joined #xwiki at 19:50  \njfx joined #xwiki at 19:53  \njfx left #xwiki at 19:53  \ngvallarelli - (20:09): got to go goodbye  \ngvallarelli - (20:09): and good work  \ngvallarelli left #xwiki at 20:09  \nnpm left at 20:13 (Quit: Leaving.  \nnpm joined #xwiki at 20:18  \njvdrean joined #xwiki at 21:06  \nflorinciu joined #xwiki at 21:49  \njvdrean left at 22:12 (Quit: Leaving.  \njvdrean joined #xwiki at 23:00  \ntmortagne left at 23:00 (Quit: Leaving.  \ntmortagne joined #xwiki at 23:04  \ntmortagne left at 23:04 (Client Quit  \nvmassol left at 23:09 (Quit: Leaving.  \nmflorea left at 23:19 (Remote host closed the connection  \nmflorea joined #xwiki at 23:19  \nflorinciu left at 23:47 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 23:49  \n\n"}