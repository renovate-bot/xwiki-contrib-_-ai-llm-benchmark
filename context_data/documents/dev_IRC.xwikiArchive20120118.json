{"id": "dev:IRC.xwikiArchive20120118", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120118", "title": "IRC Archive for channel #xwiki on 18 January 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:00\u00a0<vmassol>\u00a0has quit  \n00:54\u00a0<rrodriguez>\u00a0has quit  \n02:25\u00a0<tekzilla>\u00a0has quit  \n02:27\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:00\u00a0<DrLou>\u00a0has quit  \n05:14\u00a0<CIA-121>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r12db777\u000f \u000f/ xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-ui/src/main/resources/AnnotationCode/Style.xml :\u000f XWIKI-7391: Add border or shadows to annotation modal window ...  \n05:48\u00a0<CIA-121>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r8a0b055\u000f \u000f/ xwiki-enterprise-ui/src/main/resources/Main/Activity.xml :\u000f [misc] Hide the message stream form also when using the /edit/ action, not just the deprecated /inline/ one. - http://git.io/mIh4Cw  \n06:00\u00a0<Denis1>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n07:38\u00a0<vmassol>\u00a0has joined #xwiki  \n07:41\u00a0<sdumitriu>\u00a0has quit  \n07:59\u00a0<mflorea>\u00a0has joined #xwiki  \n08:23\u00a0<vmassol>\u00a0has quit  \n08:53\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:54\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r5ebe7d9\u000f \u000f/ (2 files):\u000f [misc] Extend the WYSIWYG Editor page objects to be able to move a test for Selenium 1 to Selenium 2. - http://git.io/YOITeA  \n08:54\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r77a77a1\u000f \u000f/ (3 files in 2 dirs):\u000f Fix failing WYSIWYG tests (+ moved one of them to ui-tests). - http://git.io/4gPypQ  \n09:18\u00a0<jvelo>\u00a0has joined #xwiki  \n09:35\u00a0<sburjan>\u00a0has joined #xwiki  \n09:48\u00a0<jvdrean>\u00a0has quit  \n09:52\u00a0<vmassol>\u00a0has joined #xwiki  \n09:55\u00a0<Denis1>\u00a0is now known as <Denis>  \n09:56\u00a0<+sburjan>\u00a0seems that ui-tests are stuck on jenkins  \n10:03\u00a0<vmassol>\u00a0has quit  \n10:13\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:37\u00a0<evalica>\u00a0has joined #xwiki  \n10:56\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:14\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:32\u00a0<evalica>\u00a0has quit  \n11:33\u00a0<Enygma`>\u00a0has quit  \n12:16\u00a0<mflorea>\u00a0has quit  \n12:20\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* r8bcbae0\u000f \u000f/ (6 files in 6 dirs):\u000f XWIKI-7384: Provide UI to import and synchronize an external extension ...  \n12:20\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* rb7ab43d\u000f \u000f/ xwiki-platform-core/pom.xml :\u000f XWIKI-7407: Upgrade to Restlet 2.0.11 - http://git.io/2M1\\_gw  \n12:41\u00a0<vmassol>\u00a0has joined #xwiki  \n12:50\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* rec2810e\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/web/XWikiAction.java :\u000f XWIKI-7410: \"Can't find any begin event corresponding to [class ...  \n12:52\u00a0<mflorea>\u00a0has joined #xwiki  \n12:58\u00a0<silviar>\u00a0has joined #xwiki  \n13:14\u00a0<+mflorea>\u00a0tmortagne: platform build fails due to a compilation failure on xwiki-platform-extension-repository-xwiki-server-api http://ci.xwiki.org/job/xwiki-platform/1371/consoleText  \n13:16\u00a0<+mflorea>\u00a0cannot find symbol AbstractXHTMLLinkTypeRenderer  \n13:18\u00a0<evalica>\u00a0has joined #xwiki  \n13:24\u00a0<+tmortagne>\u00a0mflorea: that's weird, this is not new, it's part of rendering  \n13:24\u00a0<+tmortagne>\u00a0checking something  \n13:25\u00a0<+mflorea>\u00a0the last 3 failures are all strange..  \n13:25\u00a0<+mflorea>\u00a0plarform failures  \n13:25\u00a0<+mflorea>\u00a0platform  \n13:28\u00a0<+tmortagne>\u00a0mflorea: trying with html syntax module as direct dependency, it's cleaner anyway since it directly use it it should directly depends on it  \n13:29\u00a0<+mflorea>\u00a0ok  \n13:30\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* r2d08842\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-repositories/xwiki-platform-extension-repository-xwiki/xwiki-platform-extension-repository-xwiki-server-api/pom.xml :\u000f Put xhtml syntax module as direct dependency - http://git.io/hKEWog  \n13:30\u00a0<+tmortagne>\u00a0lets see  \n13:31\u00a0<sburjan>\u00a0has quit  \n13:33\u00a0<sburjan>\u00a0has joined #xwiki  \n13:34\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* r8890c08\u000f \u000f/ (7 files):\u000f Apply codestyle - http://git.io/rH7UzA  \n13:34\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:42\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r7ea7b85\u000f \u000f/ (4 files in 2 dirs):\u000f Extend the WYSIWYG editor page objects to be able to move the tests that require windows focus from wysiwyg-tests to ui-tests. - http://git.io/lVSpCQ  \n13:42\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rcc94626\u000f \u000f/ (5 files in 3 dirs):\u000f Move tests that require window focus to ui-tests. - http://git.io/XgIciw  \n14:12\u00a0<jvelo>\u00a0has quit  \n14:40\u00a0<+tmortagne>\u00a0mflorea: looks like test-ui always get stuck  \n14:41\u00a0<+mflorea>\u00a0yes, I'll take care of it asap  \n14:53\u00a0<vmassol>\u00a0hi guys, just back from my morning meeting\u2026  \n14:53\u00a0<vmassol>\u00a0so what's up? how is the release doing? :)  \n14:53\u00a0<vmassol>\u00a0(have we been able to start it already?)  \n14:57\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r3cf8296\u000f \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-wysiwyg/src/test/it/org/xwiki/test/wysiwyg/SubmitTest.java :\u000f XE-947: WYSWYG SubmitTest#testShortcutsForSaveAndView() and SubmitTest#testShortcutsForSaveAndContinue() fail erroniously. ...  \n14:58\u00a0<+mflorea>\u00a0nop, I'm looking at the ui-tests  \n14:58\u00a0<vmassol>\u00a0mflorea: you've been able to track down the hanging?  \n14:58\u00a0<+mflorea>\u00a0not yet  \n15:01\u00a0<+mflorea>\u00a0yeah, found it!!!  \n15:01\u00a0<+mflorea>\u00a0we get a popup \"To display this page, Firefox must send information that will repeat any action (such as a search or order confirmation) that was performed earlier.\"  \n15:01\u00a0<vmassol>\u00a0ahah  \n15:02\u00a0<+mflorea>\u00a0how can we fix this?  \n15:02\u00a0<vmassol>\u00a0indeed I should have thought about this...  \n15:02\u00a0<vmassol>\u00a0(I got ot locally when I upgraded at some point)  \n15:02\u00a0<vmassol>\u00a0let's google to find how to avoid it  \n15:02\u00a0<vmassol>\u00a0there might be some startup mapram  \n15:02\u00a0<vmassol>\u00a0\\*param  \n15:03\u00a0<vmassol>\u00a0In the URL window of firefox type about:config  \n15:03\u00a0<vmassol>\u00a0Change this setting in firefox  \n15:03\u00a0<vmassol>\u00a0browser.sessionstore.postdata;  \n15:03\u00a0<vmassol>\u00a0Change from a 0 to 1  \n15:04\u00a0<vmassol>\u00a0but that needs to start it  \n15:04\u00a0<vmassol>\u00a0visually  \n15:04\u00a0<+mflorea>\u00a0but why do we get this in the first place? do we refresh the page after a post?  \n15:05\u00a0<vmassol>\u00a0reading http://support.mozilla.org/en-US/questions/695164  \n15:05\u00a0<+mflorea>\u00a0I'm looking at testRedirectBackAfterLogin  \n15:06\u00a0<vmassol>\u00a0or  \n15:06\u00a0<vmassol>\u00a0Tools,Options, Advance,  \n15:06\u00a0<vmassol>\u00a0uncheck \"Tell me when a Website asks to store ...  \n15:07\u00a0<vmassol>\u00a0more info about the param here: http://kb.mozillazine.org/Browser.sessionstore.postdata  \n15:08\u00a0<vmassol>\u00a0actually  \n15:08\u00a0<vmassol>\u00a0we could possibly set some param in java  \n15:09\u00a0<vmassol>\u00a0checking  \n15:09\u00a0<vmassol>\u00a0maybe it's possible to set the prop in a profile: http://code.google.com/p/selenium/wiki/FirefoxDriver  \n15:09\u00a0<vmassol>\u00a0something similar to:  \n15:10\u00a0<vmassol>\u00a0firefoxProfile.setPreference(\"extensions.firebug.currentVersion\", \"1.8.1\"); // Avoid startup screen  \n15:12\u00a0<+mflorea>\u00a0ok, but maybe we can fix the test. I'm looking at the LoginTest and for instance I see that testLoginWithInvalidUsername fails when run separately. There might be other mistakes too.  \n15:12\u00a0<vmassol>\u00a0yep seem it' possible, see http://rostislav-matl.blogspot.com/2011/09/setting-firefox-preferences-via.html  \n15:13\u00a0<vmassol>\u00a0mflorea: sure we could try making the test work without doing a back()  \n15:13\u00a0<vmassol>\u00a0apparently it fails when: it's doing a back() and the previous URL was sending post data  \n15:13\u00a0<vmassol>\u00a0right?  \n15:14\u00a0<+mflorea>\u00a0could be, yes  \n15:14\u00a0<vmassol>\u00a0at least we could easily try: http://rostislav-matl.blogspot.com/2011/09/setting-firefox-preferences-via.html  \n15:14\u00a0<+mflorea>\u00a0but I'm trying to see if this is a problem with a particular test or it's something related to the order in which tests are run  \n15:14\u00a0<vmassol>\u00a0(with the \"browser.sessionstore.postdata\" prop)  \n15:14\u00a0<vmassol>\u00a0ok  \n15:46\u00a0<lucaa>\u00a0has joined #xwiki  \n15:54\u00a0<+mflorea>\u00a0ok, I understood the problem. recacheSecretToken is called before each test, and it navigates back after the token is cached. As a consequence, if you have a test that leaves the browser in a \"POST-form-submitted\" state (like testLoginWithInvalidCredentials which just POSTs invalid credentials) then the next test will face the \"resubmit POST data\" popup.  \n15:56\u00a0<vmassol>\u00a0makes sense  \n15:59\u00a0<+mflorea>\u00a0so I see three options: (1) don't go back in recacheSecretToken (I have to see where it is used) (2) make a GET request in tearDown (in LoginTest at least) or (3) configure the FF profile.  \n16:00\u00a0<+mflorea>\u00a0re (3) I'm wondering if could miss some bugs if we prevent the \"resend POST data\" popup  \n16:02\u00a0<+mflorea>\u00a0or, instead of using the Back button, I could save the current URL before caching the csrf token and GET the URL after  \n16:04\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n16:06\u00a0<+mflorea>\u00a0I'll try this last approach  \n16:13\u00a0<vmassol>\u00a0I agree that if we can avoid (3) it's better  \n16:23\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r2a8b016\u000f \u000f/ xwiki-platform-core/xwiki-platform-test/src/main/java/org/xwiki/test/ui/TestUtils.java :\u000f Fix the functional UI tests hanging issue. - http://git.io/ULQsnQ  \n16:24\u00a0<sburjan`>\u00a0has quit  \n16:24\u00a0<sburjan`>\u00a0has joined #xwiki  \n16:55\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:58\u00a0<+sburjan>\u00a0sdumitriu: Nice work on Annotations Modal ! :)  \n17:02\u00a0<+evalica>\u00a0I don't like the blue shadow  \n17:03\u00a0<@sdumitriu>\u00a0Yep, seen the comment evalica  \n17:04\u00a0<@sdumitriu>\u00a0sburjan: You didn't tell me yesterday, is the 3.3.1 build good?  \n17:16\u00a0<vmassol>\u00a0mflorea: btw how did you find about the FF popup blocking the test?  \n17:16\u00a0<+mflorea>\u00a0vmassol: I run all LoginTests  \n17:17\u00a0<vmassol>\u00a0locally?  \n17:17\u00a0<+mflorea>\u00a0yes  \n17:17\u00a0<vmassol>\u00a0ok so it wasn't an issue of the agent  \n17:17\u00a0<+mflorea>\u00a0it didn't reproduce when I run each test individually  \n17:17\u00a0<+mflorea>\u00a0yep  \n17:17\u00a0<vmassol>\u00a0so we were right that it could be caused by other tests running before the hanging test  \n17:18\u00a0<+mflorea>\u00a0yep  \n17:18\u00a0<vmassol>\u00a0ok  \n17:18\u00a0<vmassol>\u00a0cool that it's not related to the agent  \n17:18\u00a0<vmassol>\u00a0so the tests should be all ok now?  \n17:19\u00a0<vmassol>\u00a0sdumitriu: hi  \n17:19\u00a0<vmassol>\u00a0could you fix the extensions test?  \n17:19\u00a0<vmassol>\u00a0(there should be only 1, thomas fixed the XR test AFAIK)  \n17:25\u00a0<+sburjan>\u00a0sdumitriu: yes, I also tested it on Oracle  \n17:25\u00a0<+sburjan>\u00a0only issues I found were reported but only fixed in 3.4  \n17:29\u00a0<rrodriguez>\u00a0has joined #xwiki  \n17:44\u00a0<vmassol>\u00a0snif\u2026 we still have 12 failures in ui tests  \n17:44\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/903/testReport/  \n17:44\u00a0<vmassol>\u00a0(snif being French and meaning \\*sob\\*)  \n17:46\u00a0<vmassol>\u00a0mflorea: I reported this on the webdriver mailing list: \"Element cannot be scrolled into view\"  \n17:46\u00a0<vmassol>\u00a0it started appearing in 2.16.0  \n17:46\u00a0<vmassol>\u00a0which is why I didn't upgrade to 2.16.0 earlier (remember now :))  \n17:46\u00a0<+mflorea>\u00a0I'll check if there is any workaround  \n17:46\u00a0<vmassol>\u00a0s/2.16/2.15/  \n17:46\u00a0<vmassol>\u00a0https://groups.google.com/forum/#!topic/webdriver/R2jwSWrIK44  \n17:46\u00a0<vmassol>\u00a0ah seems the thread has grown now  \n17:47\u00a0<vmassol>\u00a0\"\u00a0Unfortunately this hasn't been fixed in 2.17, but will  \n17:47\u00a0<vmassol>\u00a0hopefully be in 2.18 which should be out soon.\"  \n17:47\u00a0<sburjan>\u00a0has quit  \n17:47\u00a0<vmassol>\u00a0https://code.google.com/p/selenium/issues/detail?id=3075  \n17:48\u00a0<vmassol>\u00a0btw 2.17 is out apparenty: http://code.google.com/p/selenium/source/browse/trunk/java/CHANGELOG  \n17:49\u00a0<vmassol>\u00a0\"FIXED: 3154, 3144: Issues launching Firefox 9 due to modal dialog\" interesting  \n17:49\u00a0<vmassol>\u00a0(probably not the problem we had though)  \n17:56\u00a0<abusenius>\u00a0has joined #xwiki  \n17:58\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* rf38f323\u000f \u000f/ xwiki-enterprise-installers/xwiki-enterprise-installer-debian/xwiki-enterprise-installer-debian-tomcat/xwiki-enterprise-installer-debian-tomcat-pgsql/pom.xml :\u000f XE-1092: PosgreSQL debian package has the wrong driver set in hibernate ...  \n18:05\u00a0<silviar>\u00a0has quit  \n18:05\u00a0<tmortagne>\u00a0has quit  \n18:11\u00a0<CIA-121>\u00a0tmortagne\u000f master\u000f \\* rf5925ce\u000f \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-repositories/xwiki-platform-extension-repository-xwiki/xwiki-platform-extension-repository-xwiki-server-api/src/main/java/org/xwiki/extension/repository/xwiki/internal/resources/ExtensionRESTResource.java :\u000f Remove unneeded imports - http://git.io/j-sYpQ  \n18:53\u00a0<abusenius>\u00a0has quit  \n19:00\u00a0<abusenius>\u00a0has joined #xwiki  \n19:03\u00a0<gdelhumeau>\u00a0has quit  \n19:03\u00a0<vmassol>\u00a0has quit  \n19:12\u00a0<mflorea>\u00a0has quit  \n19:45\u00a0<mflorea>\u00a0has joined #xwiki  \n20:09\u00a0<evalica>\u00a0has quit  \n20:23\u00a0<sburjan`>\u00a0has quit  \n20:24\u00a0<lucaa>\u00a0has quit  \n20:25\u00a0<vmassol>\u00a0has joined #xwiki  \n20:48\u00a0<Enygma`>\u00a0has quit  \n21:56\u00a0<xwikibot>\u00a0has joined #xwiki  \n22:10\u00a0<rrodriguez>\u00a0has quit  \n22:29\u00a0<CIA-121>\u00a0Marius Dumitru Florea\u000f master\u000f \\* ree32659\u000f \u000f/ xwiki-platform-core/xwiki-platform-test/src/main/java/org/xwiki/test/ui/po/BasePage.java :\u000f Fix some of the functional UI tests that are failing because of the changes made for XWIKI-6018 (and possibly also because of the Selenium upgrade). - http://git.io/3GdbiQ  \n22:46\u00a0<abusenius>\u00a0has quit  \n23:05\u00a0<vmassol>\u00a0has quit  \n\n"}