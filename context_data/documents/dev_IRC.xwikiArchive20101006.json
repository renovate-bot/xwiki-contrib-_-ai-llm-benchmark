{"id": "dev:IRC.xwikiArchive20101006", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101006", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nBK33 - (00:00): Is there a way to automatically refresh a page once when you re visit it?  \ncjdelisle - (00:02): You could add an html meta refersh tag  \ncjdelisle - (00:02): You want to refresh right away?  \nBK33 - (00:02): Yes  \nBK33 - (00:02): like on a back button click or just anytime you visit the page  \nBK33 - (00:03): I was looking that the meta refresh but i dont think i did it right  \ncjdelisle - (00:03): Back button can be weird since sometimes the browser saves state and will revisit the same state again.  \ncjdelisle - (00:04): Thus it thinks it already did the refresh.  \nBK33 - (00:04): I C  \ncjdelisle - (00:05): {{velocity}}#if(\"$request.getParameter('refreshed')\" == ''){{html}}<meta http-equiv=\"refresh\" content=\"5;url=$doc.getUrl()?refreshed=1\" />{{/html}}#end{{/velocity  \ncjdelisle - (00:05): there's a proof of concept for meta refresh.  \nBK33 - (00:07): so i wouldnt use something like this? \u00a0<meta http-equiv=\"refresh\" content=\"600\">  \ncjdelisle - (00:07): that would refresh every 600 seconds.  \nBK33 - (00:07): ok  \ncjdelisle - (00:08): One thing about reloading a page though is some users (me) will feel like their browser is being hijacked and taken somewhere else.  \nBK33 - (00:11): So sorry this could be a dumb question, im really new and trying to learn but.... could you create something that is like a meta refresh but then stops... so you would set it to \u00a0something like content= 1 and it does it once then not again  \ncjdelisle - (00:13): Well the little script I pasted is a hack to do just that. It passes a parameter \"refreshed\" and if that parameter exists then it doesn't create the refresh tag again.  \ncjdelisle - (00:13): Hmm I have a better way...  \nBK33 - (00:15): k  \ncjdelisle - (00:16): {{velocity}}#if(!$request.getHeader('referrer').contains($request.getRequestURI())){{html}}<meta http-equiv=\"refresh\" content=\"5;url=$doc.getUrl()\" />{{/html}}#end{{/velocity}}  \ncjdelisle - (00:16): That compares the referrer to the request uri, if they're the same then it assumes the page has been refreshed.  \ncjdelisle - (00:17): In which case it doesn't send another refresh tag.  \ncjdelisle - (00:17): Might need some debugging, I don't have my wiki running (new desktop)  \nlucaa left at 00:19 (Ping timeout: 252 seconds  \nBK33 - (00:19): So I would add that line of code then the meta code, and the meta code will refresh once that stop?  \nBK33 - (00:20): then  \ncjdelisle - (00:21): That line generates the meta code if it's needed.  \ncjdelisle - (00:21): Or perhaps not (untested ;) \u00a0)  \nBK33 - (00:22): ok, So make a change and wait 5 seconds ;)  \ncjdelisle - (00:23): err oh yea content=\"5  \ncjdelisle - (00:23): content=\"0  \ncjdelisle - (00:23): that should fix it.  \nBK33 - (00:23): k  \ncjdelisle - (00:23): copy-paste  \nBK33 - (00:33): It refreshes right away but only says \u00a0getURI( )  \ncjdelisle - (00:35): getURL()  \ncjdelisle - (00:36): {{velocity}}#if(!$request.getHeader('referrer').contains($request.getRequestURI())){{html}}<meta http-equiv=\"refresh\" content=\"5;url=$doc.getURL()\" />{{/html}}#end{{/velocity}}  \ncjdelisle - (00:36): all caps in getURL()  \nBK33 - (00:39): Sends it into a loop haha  \ncjdelisle - (00:40): {{velocity}}$request.getHeader('referrer') $request.getRequestURI() \u00a0{{/velocity}}  \ncjdelisle - (00:40): see what that outputs.  \nBK33 - (00:40): Does nothing  \nBK33 - (00:41): It displays the URL it was to reload actually but doesnt reload it  \nBK33 - (00:41): wants  \ncjdelisle - (00:41): Does it display the same thing twice?  \nBK33 - (00:42): it displays \u00a0\u00a0{{velocity}}$request.getHeader('referrer') /wiki/bin/preview/BBCode/TopicClassSheet {{/velocity}}  \nBK33 - (00:42): At the top of the page... but does nothing  \ncjdelisle - (00:43): oh you're using syntax v 1.0  \ncjdelisle - (00:44): $request.getHeader('referer') \u00a0\u00a0<-- give that a try, sometimes they misspell referrer  \nBK33 - (00:44): the Bulletin Board Application must be... because for all my other pages i use 2.0  \ncjdelisle - (00:45): Oh yea, that. Yup it's pretty old so definitely 1.0  \nBK33 - (00:46): Thats why I am trying to do this, its annoying to have to hit refresh and see if someone else has posted  \ncjdelisle - (00:46): Oh it's just for you?  \ncjdelisle - (00:47): As in, you don't want every user to have this functionality?  \nBK33 - (00:47): No for our team  \nBK33 - (00:48): We have people in multiple locations within the united states and it would be nice if it refreshed  \ncjdelisle - (00:49): Why do you want it to refresh only once? Shouldn't it refresh every 500 seconds or something?  \nsdumitriu - (00:49): BK33: Let's clearly define what you are trying to achieve  \nsdumitriu - (00:50): You want the page to refresh automatically every 5 minutes?  \nBK33 - (00:50): I have noticed that within the Bulletin Board Application, unless you click refresh on the page it doenst refresh  \nBK33 - (00:50): Sorry if im being confusing  \njvdrean joined #xwiki at 00:51  \nBK33 - (00:51): So say I make a post, then go back to the topics section, I then someone else post I wouldnt know  \nBK33 - (00:51): If  \ncjdelisle - (00:53): Refreshing every minute or few minutes forever will make it so you can do something else and when you look at the bulliton board, any new posts will always be there. \u00a0Refreshing only once will make sure when you load a page it loads twice but never loads again.  \nBK33 - (00:54): OOOOOOOH  \ncjdelisle - (00:55): Based on your need, I'm guessing you are looking for the first option in which case \u00a0<meta http-equiv=\"refresh\" content=\"120\" /> \u00a0should be all you need.  \ncjdelisle - (00:55): 120 = 2 minutes, adjust to your needs.  \nBK33 - (00:56): Got it now, Thanks  \ncjdelisle - (00:56): I just ran git gc on all the repos and tared everything, it's 750MB is that right?  \nsdumitriu - (00:57): It's a bit too much  \ncjdelisle - (00:57): is there something other than git gc to run?  \nsdumitriu - (00:57): I use git gc --prune --aggressive  \ncjdelisle - (00:59): I will rerun then. \u00a0I'm thinking about pulling everything from the svn repo then packing as a .7z and sharing.  \nsdumitriu - (01:03): Actually it would be better if there was something official  \nsdumitriu - (01:03): git.xwiki.org  \ncjdelisle - (01:04): Indeed it would.  \nBK33 left at 01:05 (Quit: Page closed  \nsdumitriu - (01:06): Actually 750M should be OK  \nsdumitriu - (01:10): cjdelisle: If you want to see all the folders that once were in the repo, you can check https://fisheye2.atlassian.com/browse/xwiki  \nsdumitriu - (01:10): (requires scripts)  \ncjdelisle - (01:10): this is strange, I built core and now I can't get rid of the /target/ dirs. git clean not effective, git status says nothing to commit.  \nsdumitriu - (01:11): mvn clean  \nsdumitriu - (01:11): Or what do you mean \"get rid\" ?  \nsdumitriu - (01:11): Git doesn't track folders  \ncjdelisle - (01:11): set it back to exactly how it was.  \nsdumitriu - (01:11): Only files  \nsdumitriu - (01:11): So git is absolutely blind about folders  \ncjdelisle - (01:12): like svn revert \\* -R; ~/svn-clean.pl  \njvdrean left at 01:16 (Quit: Leaving.  \ncjdelisle - (01:20): user@debo8:~/wrk/xwiki/platform/core$ git blame ./target/.plxarc  \ncjdelisle - (01:20): 00000000 (Not Committed Yet 2010-10-05 19:21:00 -0400 1) maven-shared-archive-resources  \ncjdelisle - (01:20): user@debo8:~/wrk/xwiki/platform/core$ git-clean -df  \ncjdelisle - (01:35): fixed!  \ncjdelisle - (01:35): all that stuff was gitignore'd  \nevalica left at 01:37 (Quit: Leaving.  \nsdumitriu left at 03:15 (Read error: Operation timed out  \nabusenius left at 04:04 (Ping timeout: 255 seconds  \ncjdelisle left at 05:48 (Remote host closed the connection  \nvenkatesh joined #xwiki at 06:09  \nDenis left at 07:01 (Read error: Connection reset by peer  \nDenis joined #xwiki at 07:08  \nvmassol joined #xwiki at 07:17  \nvmassol left at 07:19 (Client Quit  \nmflorea joined #xwiki at 07:20  \ncjdelisle joined #xwiki at 07:33  \nmflorea left at 07:54 (Quit: Leaving.  \nmflorea joined #xwiki at 07:56  \nsilviar joined #xwiki at 09:01  \nlucaa joined #xwiki at 09:06  \nrrodriguez\\_\\_ left at 09:12 (Quit: rrodriguez\\_\\_  \nevalica joined #xwiki at 09:29  \njvdrean joined #xwiki at 09:35  \nsburjan joined #xwiki at 09:41  \nasrfel joined #xwiki at 09:45  \nsilviar left at 09:48 (Quit: Leaving.  \njvdrean left at 09:49 (Quit: Leaving.  \nsilviar joined #xwiki at 09:51  \nvenkatesh left at 09:52 (Ping timeout: 240 seconds  \nEnygma` joined #xwiki at 10:06  \nSvenDowideit left at 10:10 (Read error: Connection reset by peer  \nSvenDowideit joined #xwiki at 10:14  \nsdumitriu joined #xwiki at 10:32  \nfmancinelli joined #xwiki at 10:34  \njvdrean joined #xwiki at 10:39  \nkwoot joined #xwiki at 10:45  \ncjdelisle - (10:50): On this computer I'm having trouble getting xwiki-gwt-dom to build. I get an `java.net.ConnectException: Connection refused' and I see 2 ports are listened to and neither is the port which it trys to connect to.  \nlucaa left at 10:53 (Ping timeout: 245 seconds  \nsdumitriu - (11:03): Did you enable a firewall or something?  \ncjdelisle - (11:04): Yes but -i lo -j ACCEPT  \nfmancinelli left at 11:05 (Quit: Lost terminal  \nrrodriguez joined #xwiki at 11:17  \nmflorea left at 11:44 (Quit: Leaving.  \nvmassol joined #xwiki at 12:00  \ncjdelisle - (12:05): Can anyone who knows more about gwt tell me what might be happening here? http://pastebin.com/nac0nDMm  \ncjdelisle - (12:06): Is there a particular port I should try capturing packets on?  \nlucaa joined #xwiki at 12:07  \ncjdelisle - (12:09): hmm. looks like it thinks it's running on my other computer. It's calling the wrong ip addr.  \nfmancinelli joined #xwiki at 12:19  \narkub joined #xwiki at 12:19  \nSvenDowideit left at 12:24 (Changing host  \nSvenDowideit joined #xwiki at 12:24  \ncjdelisle - (12:25): http://www.zeropaid.com/news/90967/nsa-yelled-at-france-over-three-strikes-legislation/ \u00a0<-- politics makes for some strange bedfellows.  \nbauyrzhan joined #xwiki at 12:30  \nbauyrzhan - (12:30): helo everybody  \nbauyrzhan - (12:30): can anybody help me with xwiki  \nbauyrzhan - (12:30): ?  \nvenkatesh joined #xwiki at 12:31  \ncjdelisle - (12:31): what's the problem?  \nbauyrzhan - (12:31): i am using xwiki in russian language  \nbauyrzhan - (12:31): however not all words are being translated  \nbauyrzhan - (12:31): how can i get into localization file ans do translation on my own?  \nbauyrzhan - (12:32): and one more, i cant see xwiki/bin directory  \nbauyrzhan - (12:32): how can i get into that directory?  \ncjdelisle - (12:32): The localization file is inside of the xwiki-core-<version>.jar  \nbauyrzhan - (12:33): where can I find that file?  \ncjdelisle - (12:33): Did you unzip the .war file?  \nsdumitriu - (12:33): bauyrzhan: What container are you using? Tomcat, or the default Jetty that comes in the standalone distribution?  \nbauyrzhan - (12:33): I have downloaded xwiki enterprize for windows  \nbauyrzhan - (12:34): i gues jetty  \ncjdelisle - (12:34): so you're using the .exe file?  \nbauyrzhan - (12:34): yyup  \nbauyrzhan - (12:35): xwiki-enterprise-installer-windows-2.4.3.exe  \ncjdelisle - (12:36): Hmm. I'm not sure how the .exe file is packed. (I don't run windows) \u00a0\u00a0If you were using the zip file then you could unzip it and you'd find the .jar you're looking for.  \nsdumitriu - (12:36): Did you find where XWiki was installed?  \nbauyrzhan - (12:36): yup  \nsdumitriu - (12:36): There should be a webapps\\xwiki\\WEB-INF\\lib folder  \nbauyrzhan - (12:36): D:\\webapps\\xwiki  \nbauyrzhan - (12:36): ok i can see it  \nsdumitriu - (12:36): There is xwiki-core-2.something.jar  \nsdumitriu - (12:37): Since XWiki is a java servlet application, the URLs don't correspond to actual folders  \nsdumitriu - (12:37): So there's no xwiki/bin folder  \nsdumitriu - (12:37): If you want to change translations, you have to:  \nsdumitriu - (12:38): 1. copy xwiki-core-2.\\*.jar as xwiki-core-2.\\*.zip (jars are zips with a different extension)  \nsdumitriu - (12:38): 2. Unpack the zip  \nsdumitriu - (12:39): 3. Copy ApplicationResources\\_ru.properties to webapps\\xwiki\\WEB-INF\\classes\\  \nsdumitriu - (12:39): Edit webapps\\xwiki\\WEB-INF\\classes\\ApplicationResources\\_ru.properties  \nsdumitriu - (12:39): The changes are not automatically detected, you have to restart XWiki if you want to see them  \nsdumitriu - (12:40): An alternative is to use a wiki document to hold the translations  \nbauyrzhan - (12:40): ok, give me 5 minutes and i'll be back  \nbauyrzhan - (12:40): thank s  \nrrodriguez left at 12:41 (Quit: rrodriguez  \nsilviar left at 12:46 (Quit: Leaving.  \nbauyrzhan - (12:47): i am back  \nbauyrzhan - (12:47): Blog.BlogClass\\_blogType=\\u0422\\u0438\\u043F \\u0431\\u043B\\u043E\\u0433\\u0430  \nsilviar joined #xwiki at 12:47  \nbauyrzhan - (12:47): it gives me unicode numbers instead of words  \nbauyrzhan - (12:48): how can i fix it  \nrrodriguez joined #xwiki at 12:49  \nrrodriguez left at 12:52 (Read error: No route to host  \ncjdelisle - (12:54): haha fixd. I had changed ip after installing but the original ip was statically set in the etc/hosts file.  \nrrodriguez joined #xwiki at 12:54  \nbauyrzhan - (12:56): ok chages work  \nbauyrzhan - (12:56): but when i open ApplicationsResources file  \nbauyrzhan - (12:56): russian words are written with unicode numbers  \nbauyrzhan - (12:57): i guess it something to do with my computer  \nsdumitriu - (12:57): No  \nsdumitriu - (12:57): You need to convert it to UTF8 and then back to escapes  \nsdumitriu - (12:57): There's a tool for that  \nsdumitriu - (12:58): Open a command prompt  \nsdumitriu - (12:59): native2ascii -reverse -encoding UTF-8 ApplicationResources\\_ru.properties  \nsdumitriu - (12:59): To go back to escapes:  \nsdumitriu - (13:00): native2ascii -encoding UTF-8 ApplicationResources\\_ru.properties  \nvmassol - (13:00): sdumitriu: do you plan to commit the email this page feature in RC1 or do you keep it for 2.6?  \nsdumitriu - (13:01): I hope RC1  \nmflorea joined #xwiki at 13:03  \nvmassol - (13:04): RC1 is for next Monday and we shouldn't postpone it. Next is whether this includes a risk for a RC  \nbauyrzhan - (13:04): got it  \nbauyrzhan - (13:04): thanks guys  \nbauyrzhan - (13:05): i just opened applicationresource file in netbeans  \nbauyrzhan - (13:05): and it worked  \nbauyrzhan - (13:11): og god, so many words to translate  \nflaviusolaru joined #xwiki at 13:13  \nbauyrzhan - (13:16): are you guys developers or just users?  \nsdumitriu - (13:16): Both  \nbauyrzhan - (13:33): cool  \narkub left at 13:34 (Quit: Leaving  \nvmassol - (13:36): mflorea: I'd like to consider attachment references as black box in the xwiki-rendering and refactor the code to that effect  \nvmassol - (13:37): this means for example changing the WikiModel api signature you introduced to:  \nvmassol - (13:37): \u00a0\u00a0\u00a0\u00a0String getAttachmentURL(String attachmentReference);  \nmflorea - (13:38): hmm, I introduced getImageURL, iirc  \nvmassol - (13:38): \u00a0\u00a0\u00a0\u00a0String getImageURL(String attachmentReference, Map<String, String> parameters);  \nmflorea - (13:39): ok, this shouldn't be a problem  \nmflorea - (13:41): getImageURL calls getAttachmentURL, in our implementation so it's just one line to update the implementation  \nflaviusolaru left at 13:41 (Quit: Leaving.  \nvmassol - (13:41): yep  \nvmassol - (13:42): I think it's better to consider the attachment ref as a bloc box  \nvmassol - (13:42): same as we do for the doc reference  \nvmassol - (13:42): the only little \"downside\" is for the ALT attribute that we generate: it would be the full reference name and not just the filename  \nvmassol - (13:43): if you have any opinion on this, please let me know  \nmflorea - (13:43): yes, the attachment ref might be independent of the document name in other wikis  \nvmassol - (13:43): I would have liked to have thomas' opinion but he's offline appareltny  \nmflorea - (13:44): why do you need this change?  \nvmassol - (13:44): because I'd like to implement http://jira.xwiki.org/jira/browse/XWIKI-5554 and http://jira.xwiki.org/jira/browse/XWIKI-5549  \nvmassol - (13:44): I'd need to redo them a lot if I make this refactoring after  \nmflorea - (13:44): ok  \nvmassol - (13:45): so I prefer to do the refactoring first  \nbauyrzhan left at 13:55 (Quit: Page closed  \nflaviusolaru joined #xwiki at 13:59  \nrrodriguez left at 14:11 (Quit: rrodriguez  \nabusenius joined #xwiki at 14:11  \nrrodriguez joined #xwiki at 14:23  \nflaviusolaru left at 14:39 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 14:41  \nsburjan left at 14:51 (Quit: Ex-Chat  \nrrodriguez left at 14:59 (Ping timeout: 276 seconds  \nsdumitriu left at 15:23 (Ping timeout: 264 seconds  \nvenkatesh left at 15:26 (Ping timeout: 255 seconds  \ntmortagne joined #xwiki at 15:37  \ntmortagne left at 15:37 (Client Quit  \nkwoot left at 16:41 (Ping timeout: 265 seconds  \nsilviar left at 17:07 (Quit: Leaving.  \nasrfel - (17:10): hello guys, does anybody know how to use this type of file ? http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-rendering/xwiki-rendering-macros/xwiki-rendering-macro-message/src/test/resources/macromessage1.test  \nvmassol - (17:10): asrfel: sure, what is the question?  \nasrfel - (17:11): well, I have to do a SuccessMessageMacro just as the ones called Info and Error  \nasrfel - (17:11): and i see there are these test files and i do not know how to use them  \nvmassol - (17:11): This file is used in http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-rendering/xwiki-rendering-macros/xwiki-rendering-macro-message/src/test/java/org/xwiki/rendering/RenderingTests.java  \nasrfel - (17:11): in order to write one for success as well  \nasrfel - (17:12): and this suite is run when doing the build i believe  \nvmassol - (17:12): yes  \nasrfel - (17:12): ok, thank you vmassol :)  \nvmassol - (17:12): np  \nasrfel left at 17:46 (Quit: Leaving.  \nflaviusolaru left at 17:55 (Quit: Leaving.  \nDrPoO left at 17:56 (Remote host closed the connection  \nflaviusolaru joined #xwiki at 17:58  \nrrodriguez\\_ joined #xwiki at 17:59  \nlucaa left at 18:00 (Ping timeout: 252 seconds  \nevalica - (18:01): sburjan`: can you test something?  \nevalica - (18:03): when you're editing the page, you have to double save the page using the shortcut (Alt+Shift+S) in order for the change to be applied. Works ok if you press the Save buttons  \nevalica - (18:03): for the M2  \nflaviusolaru left at 18:26 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 18:28  \nlucaa joined #xwiki at 18:37  \nfmancinelli - (18:39): do you know on hudson where can I find the maven output of the enterprise/distribution/jetty/hsqldb module build?  \nvenkatesh joined #xwiki at 18:41  \njvdrean - (18:42): fmancinelli: http://hudson.xwiki.org/job/xwiki-product-enterprise/6370/com.xpn.xwiki.products$xwiki-enterprise-jetty-hsqldb/console ?  \nfmancinelli - (18:43): yep! Thanks  \nflaviusolaru left at 18:43 (Quit: Leaving.  \nfmancinelli - (18:43): is it maven 3.0 building the stuff?  \njvdrean - (18:44): maven 2.2.0 according to the configuration  \nfmancinelli - (18:46): ok, so with maven 3.0 that module fails because for some reason the root webapp is unpacked in the root of the final zip (http://pastebin.com/fUukKV7g line 10 and 13)  \nfmancinelli - (18:46): keep it in mind if you decide to upgrade  \nfmancinelli - (18:46): :)  \nflaviusolaru joined #xwiki at 18:48  \nvenkatesh left at 18:50 (Ping timeout: 240 seconds  \nvmassol left at 18:57 (Quit: Leaving.  \nasrfel joined #xwiki at 18:58  \njvdrean left at 19:04 (Quit: Leaving.  \nsdumitriu joined #xwiki at 19:06  \nflaviusolaru left at 19:07 (Quit: Leaving.  \nvenkatesh joined #xwiki at 19:13  \nflaviusolaru joined #xwiki at 19:16  \nEnygma` left at 19:29 (Ping timeout: 255 seconds  \nflaviusolaru left at 19:30 (Quit: Leaving.  \nrrodriguez\\_ left at 19:33 (Ping timeout: 245 seconds  \nmflorea left at 19:33 (Quit: Leaving.  \njvdrean joined #xwiki at 19:47  \nvenkatesh left at 19:50 (Quit: Leaving  \nlucaa left at 19:59 (Ping timeout: 252 seconds  \nfmancinelli left at 19:59 (Ping timeout: 276 seconds  \nrrodriguez\\_ joined #xwiki at 20:16  \njvdrean left at 20:17 (Quit: Leaving.  \nlucaa joined #xwiki at 20:34  \nflorinciu joined #xwiki at 20:55  \nflaviusolaru joined #xwiki at 21:04  \nflaviusolaru left at 21:26 (Quit: Leaving.  \ndegro joined #xwiki at 22:23  \ndegro left at 22:31 (Quit: Leaving.  \nevalica left at 22:44 (Quit: Leaving.  \nrrodriguez\\_ left at 23:06 (Ping timeout: 245 seconds  \nrrodriguez\\_ joined #xwiki at 23:07  \nsburjan` - (23:27): sdumitriu ping  \nsdumitriu - (23:27): Pong  \nsburjan` - (23:27): I have a short question. I was looking at Grails (Groovy on Rails) ... framework  \nsburjan` - (23:28): and I see that groovy scripts get compiled  \nsdumitriu - (23:28): Yes  \nsburjan` - (23:28): they have a groovyc compiler  \nsburjan` - (23:28): how do we use groovy within xwiki, where is the compiler ?  \nsdumitriu - (23:28): It's a Java compiler  \nsdumitriu - (23:28): It runs in the platform  \nsburjan` - (23:29): i know. but it's not oldschool javac as I see  \nsdumitriu - (23:29): No  \nsburjan` - (23:29): so if a xwiki instance uses groovy scripts, the OS hosting it must have groovyc installed ?  \nsdumitriu - (23:29): No  \nsdumitriu - (23:30): It's all Java  \nsburjan` - (23:30): I don't understand the mechanism  \nsdumitriu - (23:30): It runs in the JVM  \nsburjan` - (23:30): i know  \nsburjan` - (23:30): but javac must support groovy, right ?  \nsdumitriu - (23:30): No  \nsburjan` - (23:30): velocity has some jar files that allows it to run  \nsdumitriu - (23:30): javac is just a tool that converts java source files to classes  \nsburjan` - (23:31): yes  \nsdumitriu - (23:31): javac is code that gets executed  \nsdumitriu - (23:31): groovyc is code that gets executed  \nsdumitriu - (23:31): It doesn't have to be a standalone program  \nsburjan` - (23:31): and what converts groovy scripts/files to java source ?  \nsdumitriu - (23:31): The same process that runs the platform  \nsdumitriu - (23:32): It creates a thread that does compiling  \nsdumitriu - (23:32): Like, there's a process that runs in tomcat  \nsburjan` - (23:32): and we allow only rendering groovy, right ? or we can create groovy classes too ?  \nsdumitriu - (23:32): At one moment, it starts running the class/function that compiles  \nsburjan` - (23:32): afaik these are 2 separate things  \nsdumitriu - (23:33): Compiling is not something extraordinary  \nsdumitriu - (23:33): It's just code that is executed  \nsburjan` - (23:33): and the wiki-groovy-plugin converts on the server side the groovy scripts ?  \nsburjan` - (23:33): something similar to how velocity operates ?  \nsdumitriu - (23:34): It can either be executed as a new process launched, or it can just be code launched inside a running process, like a servlet thread  \nsdumitriu - (23:34): Groovy code gets compiled to bytecode, which is then executed by the JVM  \nsburjan` - (23:35): and what entity converts groovy code to bytecode ? the groovy plugin ?  \nsdumitriu - (23:35): There are many tools that generate bytecode  \nsdumitriu - (23:35): javac is the most famous one  \nsdumitriu - (23:35): But there's the groovy compiler also  \nsburjan` - (23:35): I see  \nsdumitriu - (23:35): And other java-based languages  \nsburjan` - (23:35): and what does XWiki use ?  \nsdumitriu - (23:35): There are tools that change existing bytecode  \nsdumitriu - (23:36): For example AspectJ does this  \nsdumitriu - (23:37): So, since Groovy is a java application that compiles Groovy source code into java bytecode, the Groovy compiler is just java code  \nsdumitriu - (23:37): And that code can be used in two ways:  \nsdumitriu - (23:37): As a standalone program, groovyc  \nsdumitriu - (23:37): Or as a library, like any other library, inside an application  \nsdumitriu - (23:38): So, to compile some groovy, just call a Java method  \nsburjan` - (23:38): what I don't understand is that groovy code is not 100% java code... I mean the syntax .. so tehre must be something that converts that groovy code into bytecode that JVN runs after.  \nsburjan` - (23:38): I see. and we use the second method (library)  \nsdumitriu - (23:38): Yes  \nsdumitriu - (23:38): Compiling is simple  \nsburjan` - (23:39): I see  \nsdumitriu - (23:39): Parse the file, obtain a logical structure, print it as bytecode  \nsburjan` - (23:39): and when you say library within the project, you mean the xwiki-groovy-plugin, right ?  \nsburjan` - (23:40): that comes bundled with default XW  \nsburjan` - (23:40): \\*XE  \nsdumitriu - (23:40): No, that's our wrapper around the Groovy library  \nsdumitriu - (23:41): groovy-all-1.7.5.jar is the Groovy library  \nsburjan` - (23:41): I see. and this lib is included in groovy-plugin and wrapped with more custom functionality ?  \nsdumitriu - (23:42): xwiki-groovy-plugin is the bridge between the wiki, which only knows it has some \"groovy content\", and the Groovy core which knows what to do with the groovy content  \nsburjan` - (23:42): I see  \nsburjan` - (23:43): and I guess Php plugin works a bit diffrent, because that is not translated to bytecode  \nsburjan` - (23:45): i see Quercus and Resin libs  \nsdumitriu - (23:50): Well, there are two different kinds of executions  \nsdumitriu - (23:51): Interpreting and compiling  \nsdumitriu - (23:51): Whatever gets compiled goes to a similar process  \nsburjan` - (23:51): yes, but php is only interpreted afaik  \nsdumitriu - (23:51): No  \nsdumitriu - (23:51): The default is to interpret, under the PHP implementation  \nsdumitriu - (23:52): But it can get compiled  \nsburjan` - (23:52): compiled as what ? what results from a php compile ?  \nsdumitriu - (23:52): Facebook's new implementation compiles it to machine code  \nsdumitriu - (23:52): I'm not sure, but I think Quercus compiles it to bytecode  \nsburjan` - (23:53): so what, and then gets executed by JVM ?  \nsdumitriu - (23:53): Yes  \nsburjan` - (23:53): lol  \nsdumitriu - (23:53): Velocity is interpreted  \nsburjan` - (23:53): I knew PHP is like CGI  \nsburjan` - (23:54): request comes, page is interpreted, response thrown back at user  \nsburjan` - (23:54): on request  \nsdumitriu - (23:54): No, CGI doesn't mean that  \nsdumitriu - (23:54): You can write CGIs in C and compile them  \nsburjan` - (23:54): but apache interprets PHP, right ?  \nsburjan` - (23:55): not Jakarta (the java version) .. the plain Apache.. sudo-apt get install apache2  \nsdumitriu - (23:55): By definition, CGI is an executable program that receives an input in a special format, has some environment variables at its disposal, and must print the result in a given format  \nsdumitriu - (23:55): It doesn't matter how it achieves that  \nsdumitriu - (23:55): It's not Apache that interprets PHP  \nsdumitriu - (23:55): It's the PHP Apache module that does it  \nsburjan` - (23:55): the php module within apache  \nsburjan` - (23:56): yes  \nsburjan` - (23:56): but that's still interpreted on request, right ?  \nsburjan` - (23:56): not compiled or anything  \nsdumitriu - (23:56): By default, yes  \nsdumitriu - (23:56): You can speed it up somehow  \nsburjan` - (23:56): so you can use JVM to speed up php ?  \nsdumitriu - (23:57): I'm not too knowledgable about it, but I think the Zend engine has something to do with it  \nsburjan` - (23:57): I'll look into .. for curiosity  \nsburjan` - (23:57): I knew php is a scripting like language, and all the scripting language is interpreted, not compiled  \nsdumitriu - (23:57): Technically, Quercus can make PHP faster  \nsdumitriu - (23:57): Since it compiles it into Java bytecode which is faster  \nsburjan` - (23:58): yes.. I'm reading now .. Quercus : PHP in Java .. lol  \nsburjan` - (23:59): and from you know, a php script within xwiki must have a certain complexity ? or only minor stuff are supported ? I am thinking it's pretty hard to translate to bytecode a complex php script  \n\n"}