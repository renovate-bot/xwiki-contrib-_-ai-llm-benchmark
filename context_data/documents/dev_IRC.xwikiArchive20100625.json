{"id": "dev:IRC.xwikiArchive20100625", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100625", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nabusenius left at 00:17 (Quit: Konversation terminated!  \nabusenius joined #xwiki at 00:17  \nnpm - (00:42): caleb -- fyi, the way to solve the issue w/ registration page in multiwiki is to enable registration for unregistered users in the root wiki. you have to check/set the registration field for unregistered users in Rights-Management on the root wiki in order to have other virtual wikis registration feature not automatically send you to \"login\" (2.3.1)  \nnpm - (00:43): ^^^ CalebJamesDeLisl -- do you think this behavior is a bug, or a feature? How would you disable registration on the root wiki, assuming people could get to that wiki?  \nabusenius left at 01:38 (Ping timeout: 240 seconds  \nnpm - (01:42): ^^^ actually, it's not \"enable registration\" but rather disabling registration for unreg-users in the root wiki's Rights is what causes other wikis' registration to redirect to login.  \nspaci joined #xwiki at 01:42  \nspaci - (01:43): I have a blank xwiki install, and having some trouble getting the standard package of pages in  \nspaci - (01:44): I get the page for uploading the xar, and I do so, and it looks like it's going to import but I press \"import\" and get this:  \nspaci - (01:44): Importing xwiki-enterprise-wiki-2.4-milestone-1.xar: Error while preparing importing  \nCalebJamesDeLisl - (02:17): npm: Good that you solved the problem. I would say yes it's a bug because the root wiki should be able to be closed for security reasons. You want to report it on jira?  \nCalebJamesDeLisl - (02:18): spaci: Can you pastebin the log from the console? I think there must be a real stack trace for this.  \nspaci - (02:19): there's no stack trace in the localhost log, but the catalina log has this line:  \nspaci - (02:19): Jun 24, 2010 4:54:11 PM org.apache.catalina.users.MemoryUserDatabase save  \nspaci - (02:19): WARNING: User database is not persistable - no write permissions on directory  \nspaci - (02:19): i was going to try to track down what directory it's talking about  \nCalebJamesDeLisl - (02:19): Yes XWiki needs write access in the work directory.  \nCalebJamesDeLisl - (02:20): You're using the default HSQLDB database?  \nspaci - (02:20): no, i'm using tomcat6 and postgresql  \nspaci - (02:20): don't know where the work directory is  \nspaci - (02:21): oh wait  \nCalebJamesDeLisl - (02:21): Another postgres user :D  \nspaci - (02:21): :)  \nCalebJamesDeLisl - (02:22): Did you add the permissions to the tomcat security manager?  \nCalebJamesDeLisl - (02:22): http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HInstallandconfigureaServletContainer  \nspaci - (02:24): right I set TOMCAT6\\_SECURITY=no  \nDSpair left at 02:25 (Quit: Leaving  \nCalebJamesDeLisl - (02:25): Ok. Even with a database you need filesystem access to upload attachments.  \nspaci - (02:28): well, the xar seems to still be in the system after restarting tomcat  \nCalebJamesDeLisl - (02:28): In xwiki.cfg file it specifies a couple of directories which the XWiki user has to have write access to.  \nCalebJamesDeLisl - (02:28): I assume you are running it as a user who has few permissions.  \nxwikibot joined #xwiki at 02:47  \nspaci - (02:47): hey thanks :) this is a personal wiki though  \nspaci - (02:58): well, results seem the same.  \nspaci - (02:59): some pages seem ok  \nspaci - (02:59): i'm pretty new to xwiki so i'm uncertain what I should expect it to look like  \nspaci - (03:00): but the admin page and webpreferences show the \"your wiki seems empty\" message  \nspaci - (03:02): oh heck. i think i might have figured it out  \nspaci - (03:05): yes it seems that there is import/XWiki/XWikiPreferences and admin/XWiki/WebPreferences.  \nspaci - (03:05): they look the same, but the former works and the latter gives an error  \nCalebJamesDeLisl - (03:07): Yes. you should be directed to admin/XWiki/XWikiPreferences from the admin button in the upper left.  \nspaci - (03:09): it gave me an import page before. now it gives me a login page, and past that the Wiki Preferences page  \nspaci - (03:09): but the import didn't work from admin/XWiki/WebPreferences  \nspaci - (03:10): anyway, I much appreciate you helping me through that  \nCalebJamesDeLisl - (03:10): You lose your permissions when the documents are loaded in and you have to login as \"Admin\" password \"admin\" (capitalism counts)  \nspaci - (03:12): was that login active before importing the xar? I thought I tried that  \nCalebJamesDeLisl - (03:13): Before importing, there are no permissions so guest equals admin.  \nspaci - (03:37): sweet. i think things look good with this fresh install.  \nspaci - (03:40): thanks again, and good night  \nspaci left at 03:40 (Quit: Leaving.  \nDenis left at 07:01 (Read error: Connection reset by peer  \nDenis joined #xwiki at 07:09  \nvmassol joined #xwiki at 08:18  \nsilviar joined #xwiki at 08:59  \nvmassol left at 09:21 (Quit: Leaving.  \nflorinciu joined #xwiki at 09:23  \nvmassol joined #xwiki at 09:23  \njvelociter joined #xwiki at 09:37  \nKermitTheFragger joined #xwiki at 09:48  \nCalebJamesDeLisl - (10:21): Fixed the flickering tests. The problem is the way I fixed them was to put some words into the search box and make sure they don't disappear (indicating a page load)  \nCalebJamesDeLisl - (10:21): I can't find anything on detecting page loads with webdriver.  \nvmassol - (10:21): CalebJamesDeLisl: you don't detect page loads I think  \nvmassol - (10:22): but instead wait on an element in the page  \nCalebJamesDeLisl - (10:22): Wait for what?  \nvmassol - (10:22): for whatever you need to be there  \nCalebJamesDeLisl - (10:22): I want to fail the test if the page loads.  \nCalebJamesDeLisl - (10:22): So it sounds like it would depend on a wait timeout.  \nvmassol - (10:23): don't you want to verify that livervalidation has printed statuses?  \nCalebJamesDeLisl - (10:23): The problem is even if livevalidation fails, the page will load and the server provides the exact same error messages.  \nCalebJamesDeLisl - (10:24): No javascript = almost exact same experience.  \nvmassol - (10:25): but it you don't click on submit  \nvmassol - (10:25): then there will be no new page  \nCalebJamesDeLisl - (10:25): I can't figure out any other way to relyably trigger liveValidation.  \nvmassol - (10:25): strange  \nvmassol - (10:25): focusing the fields should work  \nvmassol - (10:26): this is what we do manually  \nvmassol - (10:26): would be interesting to ask on the webdriver mailing list  \nvmassol - (10:26): (if it doesn't work)  \nCalebJamesDeLisl - (10:26): When you blur the field, livevalidation will act after some number of milliseconds.  \nabusenius joined #xwiki at 10:26  \nvmassol - (10:26): yes  \nvmassol - (10:26): but we can wait for that  \nvmassol - (10:27): same as I waited for the \"saved\" mesasge at the bottom of the screen in save&continue  \nCalebJamesDeLisl - (10:27): If you are expecting an error message.  \nvmassol - (10:27): yes but we know what we are expecting, aren't we?  \nvmassol - (10:27): we control the inputs  \nCalebJamesDeLisl - (10:27): validateAndRegister doesn't know whether it's being called to try a valid registration or an invalid one.  \ntmortagne joined #xwiki at 10:28  \nvmassol - (10:28): then  \nvmassol - (10:28): we can gather all messages  \nvmassol - (10:28): and return them  \nvmassol - (10:28): and let the test do the assert  \nvmassol - (10:29): we just wait for messages (not for the message content)  \nCalebJamesDeLisl - (10:29): rewrite test?  \nlucaa left at 10:29 (Ping timeout: 260 seconds  \nvmassol - (10:29): if the test requires rewrite sure  \nvmassol - (10:29): (I don't know it)  \nCalebJamesDeLisl - (10:31): It's not setup to know whether the registration is expected to succeed or fail.  \nvmassol1 joined #xwiki at 10:31  \nvmassol left at 10:32 (Read error: No route to host  \nCalebJamesDeLisl - (10:37): Ok, I'll pass a parameter to validateAndRegister whether the registration is expected to succeed.  \nvmassol joined #xwiki at 10:39  \nvmassol1 left at 10:39 (Read error: Connection reset by peer  \nvmassol1 joined #xwiki at 10:41  \nvmassol left at 10:44 (Ping timeout: 240 seconds  \nlucaa joined #xwiki at 10:52  \njvdrean joined #xwiki at 10:54  \nevalica joined #xwiki at 11:06  \nvmassol1 - (11:08): guys annotations are broken!  \nvmassol1 - (11:08): (a functional test might be good btw ;))  \nvmassol1 - (11:08): lucaa: is that something you can look at?  \nvmassol1 - (11:08): before the 2.4M2 release ie before a few days ago  \nvmassol1 - (11:09): ;)  \nlucaa - (11:09): vmassol1: sure I will investigate  \nvmassol1 - (11:09): thanks  \nlucaa - (11:09): but in the future, not in the past  \nlucaa - (11:09): :)  \nvmassol1 - (11:09): come on  \nvmassol1 - (11:09): use your special powers  \nvmassol1 - (11:10): note to tmortagne: wait for this to be fixed before we release  \ntmortagne - (11:10): sure, adding it to the releaseplan  \nvmassol1 - (11:10): note to sergiu: don't take this as an excuse to be even more late...  \nlucaa - (11:12): mmh, what changed? I was doing an #includeTopic() in a velo macro in a html macro that included a document with some macro definitions, and it started to fail at one point (don't know which).  \nlucaa - (11:12): Now I replaced that with a big {{include}} on top of my document, outside the velo macro and it all works fine  \nlucaa - (11:12): anyone has any idea why?  \nvmassol1 - (11:13): hmm I don't see  \nvmassol1 - (11:13): maybe thomas has an idea  \nCalebJamesDeLisl - (11:14): macro cache...  \nvmassol1 - (11:14): ahah  \ntmortagne - (11:15): lucaa: includeTopic is supposed to work in a different context, i'm even supprised it did worked for you before  \nlucaa - (11:15): I love these bugs :)  \nlucaa - (11:17): ok... is {{include}} supposed to work in a velocity macro?  \nlucaa - (11:17): because it doens't really work and I don't understand...  \nCalebJamesDeLisl - (11:17): To velocity, {{include}} is text. it doesn't work until it is printed.  \nlucaa - (11:18): CalebJamesDeLisl: it's wiki syntax, it should work  \nlucaa - (11:18): ah right  \nlucaa - (11:18): I see what you mean  \nCalebJamesDeLisl - (11:18): I think #includeInContext should work but I didn't review the macro cache change.  \nCalebJamesDeLisl - (11:20): Great I have Schrodenger's flickering test. It only fails when I test with the browser minimized :/  \nlucaa - (11:22): tmortagne: what would be the right method to include a document with macros in a page with velocity script?  \nlucaa - (11:22): preferably only when I need it, i.e. not make an include on top whether I need it or not  \ntmortagne - (11:22): lucaa: why do you need it to be in the velocity macro ? do you have an if around this include or something ?  \nlucaa - (11:23): yes, that's the idea  \nlucaa - (11:23): I mean, I can just put it on top, it doens't do harm  \nlucaa - (11:23): but it would be suboptimal  \ntmortagne - (11:23): you have have several velocity macros  \nlucaa - (11:23): ok  \nlucaa - (11:23): with an include between them, right?  \ntmortagne - (11:24): but i think in this case i would just put the include  \ntmortagne - (11:24): if it only contaisn macros  \nabusenius - (11:24): CalebJamesDeLisl: thats probably because it focuses some inputs to enter text  \ntmortagne - (11:24): 1/ that way it's listed when you edit the document  \nCalebJamesDeLisl - (11:24): Oh focus doesn't work when the browser is miminized?  \ntmortagne - (11:25): 2/ the source is simpliers and i doubt it's costly  \ntmortagne - (11:25): listed:listed as include in the right panel  \nlucaa - (11:25): it was working before as well ;)  \nlucaa - (11:25): the listing  \nlucaa - (11:25): maybe it's a bug too ;)  \nabusenius - (11:25): it doesnt work for me too (focus)  \ntmortagne - (11:25): because of a ugly search for #include\\*  \ntmortagne - (11:26): for backward compatibility  \ntmortagne - (11:26): it's not a bug but a hack  \ntmortagne - (11:27): (of course at some point we will try to support include macro inside other macros but it's realy not a priority right now)  \nlucaa - (11:28): ok, lemme fix that. Max 1h  \nvmassol joined #xwiki at 11:28  \nvmassol1 left at 11:29 (Ping timeout: 264 seconds  \nvmassol1 joined #xwiki at 11:29  \nvmassol left at 11:32 (Ping timeout: 240 seconds  \nCalebJamesDeLisl - (11:43): Yup looks like the problem is focus and blur. Can't even blur programmatically with js.  \nCalebJamesDeLisl - (11:43): So the only solution is submit.  \nCalebJamesDeLisl - (11:43): Can't detect page load.  \nvmassol1 - (11:43): CalebJamesDeLisl: you should ask on the webdriver list too IMO  \nCalebJamesDeLisl - (11:44): I'll send out a message.  \nvmassol1 - (11:44): http://groups.google.com/group/webdriver  \nvmassol1 - (11:45): there are lots of messages when you search for focus or blur  \nvmassol1 - (11:45): \"As an aside, Firefox only reliably fires focus events when its window  \nvmassol1 - (11:45): is the active one. It's possible that may be causing you trouble,  \nvmassol1 - (11:45): though I doubt it in this case; it's probably webdriver not doing the  \nvmassol1 - (11:45): Right Thing :)\"  \nvmassol1 - (11:46): but then  \nvmassol1 - (11:46): \"Would you mind trying the newest version? I've patched the Firefox and  \nvmassol1 - (11:46): IE drivers, so hopefully things will now be better.\"  \nvmassol1 - (11:46): http://groups.google.com/group/webdriver/browse\\_thread/thread/804746eb0696585c/ffa37757d33e2e9b?lnk=gst&q=blur#ffa37757d33e2e9b  \nCalebJamesDeLisl - (11:46): Hmm. Well if that gets fixed then the current method will work.  \nvmassol1 - (11:46): we have the new version  \nvmassol1 - (11:46): I've updtaed to 2.0a4 yesterday  \nCalebJamesDeLisl - (11:46): I don't see any place to put my address in the mailing list.  \nvmassol1 - (11:48): CalebJamesDeLisl: btw note that we do force the focus in our seleinum1 tests on hudson  \nvmassol1 - (11:48): using some shell script  \nvmassol1 - (11:49): jvdrean is the one who did this so he might have more info  \nCalebJamesDeLisl - (11:49): I see. focus seems to be forces in selenium2 as well since I have to push the browser off to another workspace to avoid it jumping up at me.  \njvdrean - (11:54): vmassol1: iirc the wysiwyg has been modified in such way that forcing the focus is no longer necessary  \nvmassol1 - (11:54): jvdrean: ah ok cool  \njvdrean - (11:54): we should ask mflorea  \nlucaa - (12:11): guys I need an advice on how to commit these changes in the annos. It would be the only change causing the release of an 1.5, so I would say I need a jira for it  \njvdrean left at 12:11 (Quit: Leaving.  \nlucaa - (12:11): however I cannot reproduce it for neither 2.4M1 or 2.3.1, so I cannot report a bug from a user perspective  \nlucaa - (12:12): should I just fill in an improvement issue describing the refactor?  \ntmortagne - (12:12): lucaa: you already committed stuff in annotaion app  \nlucaa - (12:12): did I?  \ntmortagne - (12:12): XAANNOTATIONS-23: If there are no annotations, the content of the document should not be replaced with the annotated one  \nlucaa - (12:12): for M2?  \nlucaa - (12:12): ah I did  \ntmortagne - (12:12): after M1 for sire  \ntmortagne - (12:12): sure  \nlucaa - (12:12): it was so fast I didn't even remember it :)  \nlucaa - (12:13): well, I guess I need a jira anyway  \nlucaa - (12:13): so I'll do a technical jira  \nlucaa - (12:13): 'though I don't really like it that much  \nlucaa - (12:18): tmortagne: can you point me to a reference where it says that #includeTopic should not work in {{velocity}} macros which I could refer in my issue?  \ntmortagne - (12:20): lucaa: i never said #includeTopic does not work in {{velocity}}, #includeTopic is supposed to work in a different context and it's not bahave like in xwiki/1.0 because vmassol1 fixed the fact that xwiki/2.0 velocity code was always executed in the same namespace previously  \ntmortagne - (12:20): s/not/now/  \nvmassol1 - (12:21): so in essence you were benefitting from a bug  \nlucaa - (12:21): yeah I seem to have an affinity for it :)  \ntmortagne - (12:21): you where doing something that would never work in xwiki/1.0 to be summurize  \nlucaa - (12:21): can you point me to the issue?  \ntmortagne - (12:21): s/be//  \nlucaa - (12:21): xwiki/2.0 I assume  \nvmassol1 - (12:21): http://code.xwiki.org/xwiki/bin/view/Macros/IncludeTopicMacro  \nvmassol1 - (12:22): let me find it  \nlucaa - (12:22): so include topic should have NEVER worked to include macros?  \nlucaa - (12:22): I mean, by design?  \nlucaa - (12:23): not in xwiki 1 not in xwiki 2?  \nlucaa - (12:23): that's what I understand from this page...  \ntmortagne - (12:23): yes  \nlucaa - (12:23): :)  \nvmassol1 - (12:23): http://jira.xwiki.org/jira/browse/XWIKI-5278  \nlucaa - (12:23): thanks for the info  \nlucaa - (12:26): I don't really understand how XWIKI-5278 fixed the fact that #includeTopic worked for including macros, but I will trust you  \nlucaa - (12:26): was it working in xwiki/1.0 as well or only in 2.0 {{velocity}} macros?  \nlucaa - (12:27): ok, read the history, I got it  \nlucaa - (12:32): done with the commit, can go ahead with the rel  \nvmassol1 - (12:32): thxs  \nvmassol1 - (12:33): there's still the mystery as to why it fails on xwiki.org  \nlucaa - (12:34): yes, going there now  \nlucaa - (12:34): link to a page?  \nCalebJamesDeLisl left at 12:37 (Quit: reconnect  \nvmassol1 - (12:37): hmmm  \nvmassol1 - (12:37): I don't see annotations on xwiki.org  \nvmassol1 - (12:37): maybe I meant myxwiki.org  \nlucaa - (12:37): :)  \nCalebJamesDeLisl joined #xwiki at 12:37  \nlucaa - (12:38): that would make more sense re version, re annotations existance, re annotations interface (will not quite work on toucan :( )  \nvmassol1 - (12:38): tmortagne: just tried adding an object and it seems ok now  \nCalebJamesDeLisl left at 12:40 (Client Quit  \nsdumitriu joined #xwiki at 12:42  \nvmassol1 - (12:44): lunch time  \nCalebJamesDeLisl joined #xwiki at 12:47  \njvdrean joined #xwiki at 12:50  \nlucaa - (13:06): vmassol1: \u00a0it also works on myxwiki... at least on the incubator  \nvmassol1 - (13:08): checking my browsing history....  \nvmassol1 - (13:11): my history suggests xwiki.org  \nvmassol1 - (13:11): but I don't see how it's possible since there's no annotations menu....  \nlucaa - (13:11): you pointed me to a local host link after you told me that annos don't work on xwiki org...  \nvmassol1 - (13:11): anyway let's froget it for me  \nvmassol1 - (13:11): s/me/now/  \nlucaa - (13:11): +1  \nCalebJamesDeLisl - (13:19): Maybe I could register an event handler to squash the submit event so the page isn't loaded.  \nCalebJamesDeLisl - (13:20): I didn't send mail to the webdriver people because I realize there is no good way to detect a page load without waiting for one and then you have wait timeouts which take a long time.  \nSvenDowideit left at 13:21 (Ping timeout: 276 seconds  \nSvenDowideit joined #xwiki at 13:22  \nCalebJamesDeLisl - (13:26): Asked over on #selenium  \nvmassol1 - (13:42): tmortagne: are we ready to release?  \nvmassol1 - (13:43): lucaa: hmm, annotations are failing on the user profile  \nvmassol1 - (13:43): here's what I did:  \nvmassol1 - (13:44): 1) selected \"Administrator\" in \"Profile of Administrator\" and added an annotation  \nvmassol1 - (13:44): so far so good  \ntmortagne - (13:44): vmassol1: apart from the fact that tests are still failing yes  \nvmassol1 - (13:44): 2) selected \"Administrator\" under \"First Name\" and added an annotation  \nvmassol1 - (13:44): so far so good  \nvmassol1 - (13:44): 3) selected the \"show annotation\" check box  \nvmassol1 - (13:44): boom  \nlucaa - (13:44): boom?  \nvmassol1 - (13:44): the annotations are displayed are wrong places  \nlucaa - (13:44): that's not a boom  \nvmassol1 - (13:45): s/are wrong/at wrong/  \nlucaa - (13:45): boom is when you don't see anything on the page :)  \nvmassol1 - (13:45): it's a boom as in a Steve Job's boom :)  \nlucaa - (13:45): oh I thought bsod boom  \nlucaa - (13:45): it's normal, I have a feeling that that page is a big html macro  \nlucaa - (13:45): in which annos are not working  \nvmassol1 - (13:45): ok\u2026.. still a pb to fix  \nlucaa - (13:46): because html macro is only supposed to be used in special special exceptionally special cases  \nlucaa - (13:46): ;)  \nvmassol1 - (13:46): the annotation module should protect itself  \nvmassol1 - (13:46): ideally  \nvmassol1 - (13:46): for ex, refuse to add annotations in an html macro  \nlucaa - (13:47): well the anno module puts the annotation around the html macro iirc  \nlucaa - (13:47): so if the html macro is an innocent inline one, it will work fine  \nlucaa - (13:47): but not otherwise, like in this case  \nlucaa - (13:47): \u00a0Imean in this case it still puts it around but around != fine  \nlucaa - (13:47): I should parse HTML syntax and mark the annotation right inside  \nvmassol1 - (13:48): fyi this is what I see: http://tinycoke.com/\\_6reI9l7LbhPIk/screen\\_shot\\_2010-06-25\\_at\\_1.47.11\\_pm.png  \nlucaa - (13:48): because this thing that html macro is so special and exceptional is just not true  \nlucaa - (13:48): yes, I see the same  \nvmassol1 - (13:50): sdumitriu: we have lots of failing tests  \nvmassol1 - (13:50): related to your change  \nvmassol1 - (13:51): just tested property delete and it seems ok  \nvmassol1 - (13:51): sdumitriu: all these are failing because of you object editor change I believe: http://hudson.xwiki.org/view/Functional%20Tests/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-selenium/996/testReport/  \nvmassol1 - (13:52): (except possibly 1 or 2)  \nvmassol1 - (13:53): we need the tests to pass before we can release  \nvmassol1 - (13:54): Can you please fix them quickly so that we can release?  \nvmassol1 - (13:54): (they've been failing like this for the past 2-3 days)  \nCalebJamesDeLisl - (13:57): Well I can stop the flickering test with this:  \nCalebJamesDeLisl - (13:57): executeScript(  \nCalebJamesDeLisl - (13:57): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"var div = document.createElement('div');\"  \nCalebJamesDeLisl - (13:57): \u00a0\u00a0\u00a0\u00a0+ \"div.setAttribute('id', 'this-should-not-dissapear');\"  \nCalebJamesDeLisl - (13:57): \u00a0\u00a0\u00a0\u00a0+ \"document.body.appendChild(div);\");  \ntmortagne - (13:58): sdumitriu: would be great if you would put some datas in http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise24M2#HObjectsandclasseseditorimprovements  \nCalebJamesDeLisl - (13:58): #selenium didn't have much to say about detecting page loads (yet)  \nsdumitriu - (13:58): K  \nvmassol1 - (14:01): ah we still have deprecations in the console  \nvmassol1 - (14:01): 2010-06-25 13:49:37,768 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in @15,68  \nvmassol1 - (14:01): 2010-06-25 13:49:37,881 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in /templates/editwysiwygnew.vm@25,43  \nvmassol1 - (14:01): 2010-06-25 13:49:37,883 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in /templates/macros.vm@2341,54  \nvmassol1 - (14:02): ah yes  \nvmassol1 - (14:02): I forgot to check the skins  \ntmortagne - (14:02): the only getSyntaxId i can find in templates is in preview.vm in colibri  \nvmassol1 - (14:02): yep  \nvmassol1 - (14:02): fixing  \ntmortagne - (14:02): editwysiwygnew.vm does not seems to have that  \nvmassol1 - (14:05): hmm I still get the deprecation  \nvmassol1 - (14:05): s  \ntmortagne - (14:05): vmassol1: are you up to date ?  \nvmassol1 - (14:05): yes  \nvmassol1 - (14:09): I need to remember how velocity deprecations work  \nvmassol1 - (14:09): some uberspector  \nvmassol1 - (14:09): checking  \nvmassol1 - (14:10): ok it's velocity calls to getMethod which is intercepted  \ntmortagne - (14:10): yep some unberspector, it's supposed to be thing directly called from velocity  \ntmortagne - (14:10): so it's either template or pages but i can't find any in template (and skins)  \nvmassol1 - (14:10): so calls to to XWikiDcoument from velocity will also generate  \nvmassol1 - (14:10): a deprecation on getSyntaxId  \nvmassol1 - (14:10): not just on Document  \ntmortagne - (14:11): any metod called with @Deprecate  \nvmassol1 - (14:11): but yes you have to call it from velocity  \nvmassol1 - (14:11): methods calling other methods internally  \ntmortagne - (14:11): @Deprecated  \nvmassol1 - (14:11): will not generate deprecations at the velo level  \ntmortagne - (14:11): yes  \nvmassol1 - (14:11): so I don't understand  \ntmortagne - (14:11): where do you go to have the deprecation warning ?  \nvmassol1 - (14:11): I just start XE  \ntmortagne - (14:12): on main page ?  \nvmassol1 - (14:12): then I edit he home page and click on preview, then cancel  \nvmassol1 - (14:12): yes  \nvmassol1 - (14:12): then create a new page  \nvmassol1 - (14:12): and save it  \nvmassol1 - (14:12): that's all I did  \nvmassol1 - (14:12): and I got the 3 deprecations metnioned above  \ntmortagne - (14:12): or preview get me:  \ntmortagne - (14:12): 2010-06-25 14:12:34,542 [http://127.0.0.1:8080/xwiki/bin/preview/Main/WebHome] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of method [com.xpn.xwiki.api.Document.getSyntaxId] in @11,47  \ntmortagne - (14:12): this one is pretty weird  \ntmortagne - (14:13): (no resource name)  \nvmassol1 - (14:13): the template name is not mentioned for a few cases as I recall  \nvmassol1 - (14:13): \"\" is used  \ntmortagne - (14:14): trying to see who is calling it in debug mode then  \ntmortagne - (14:15): actually this one is the one you just fixed  \ntmortagne - (14:15): fixing it on my side too  \nvmassol1 - (14:15): I redeployed the colibri skin locally  \nvmassol1 - (14:16): ah yes it's different  \nvmassol1 - (14:16): the ones I have are:  \nvmassol1 - (14:16): 2010-06-25 14:05:00,034 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in @15,68  \nvmassol1 - (14:16): 2010-06-25 14:05:00,384 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in /templates/editwysiwygnew.vm@25,43  \nvmassol1 - (14:16): 2010-06-25 14:05:00,385 [http://localhost:8080/xwiki/bin/edit/Main/NewPage?parent=Main.WebHome&template=&title=NewPage] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getSyntaxId] in /templates/macros.vm@2341,54  \nvmassol1 - (14:17): theh'yre generated when you create a new page  \ntmortagne - (14:17): so just calling preview does not produce any warning for me, trying other use case you listed  \ntmortagne - (14:18): searching getSyntaxId in pages  \nvmassol1 - (14:18): ah I didn't search syntaxId  \nvmassol1 - (14:18): I searched getSyntaxId  \nvmassol1 - (14:18): researching  \ntmortagne - (14:19): indeed could be that  \nvmassol1 - (14:19): yep!  \nvmassol1 - (14:19): fixing  \ntmortagne - (14:19): ok  \nvmassol1 - (14:24): grrr there's still one out there  \nvmassol1 - (14:24): checking in skins  \nvmassol1 - (14:25): found 2 more in blogs app  \nvmassol1 - (14:28): adding the blog?  \ntmortagne - (14:29): was already there  \nvmassol1 - (14:29): ok  \ntmortagne - (14:29): removed \"annotation broken\"  \nvmassol1 - (14:29): I can't find the last deprecation  \nvmassol1 - (14:29): I have only 1 now when creating a new page  \ntmortagne - (14:31): vmassol1: did you fixed the one in Macros.xml ?  \ntmortagne - (14:31): it's in target actually  \ntmortagne - (14:32): (ther eis one in IRC bot btw ;))  \nvmassol1 - (14:32): I know  \nvmassol1 - (14:32): fixed  \ntmortagne - (14:32): i can only find one in RssCode.xml  \nvmassol1 - (14:32): at least part of it fixed  \ntmortagne - (14:32): in blog  \nvmassol1 - (14:32): I haven't fixed the set  \nvmassol1 - (14:32): gixed too  \ntmortagne - (14:33): yep seen it  \nvmassol1 - (14:33): \\*fixed  \ntmortagne - (14:33): can't find any other one by search  \ntmortagne - (14:33): maybe some generated template of something  \ntmortagne - (14:33): s/template/page/  \nvmassol1 - (14:35): debugging  \ntmortagne - (14:35): you fixed edit.vm in colibri ?  \ntmortagne - (14:35): updating  \nvmassol1 - (14:36): I don't see any syntaxIf in edit.vm of colibri  \ntmortagne - (14:36): it's a capital S actually :)  \ntmortagne - (14:36): doc.SyntaxId  \nvmassol1 - (14:36): ohhhhh  \ntmortagne - (14:37): (i did a case-insentive search)  \ntmortagne - (14:37): i did not know that worked actually (capital first letter)  \nvmassol1 - (14:37): yeah velocity is kind  \nvmassol1 - (14:37): that's the only one with capital S?  \ntmortagne - (14:38): no  \ntmortagne - (14:38): there is the same in edit.vm in template  \ntmortagne - (14:39): searching in pages now  \ntmortagne - (14:40): can't find any in pages  \nvmassol1 - (14:40): ok page creation is ok now  \nvmassol1 - (14:40): thanks for the catch :)  \nvmassol1 - (14:40): should be good now  \ntmortagne - (14:40): ok  \njvdrean - (14:47): vmassol1: about the title problem you've noticed on the user profile, I've reproduced the issue on incubator  \njvdrean - (14:47): http://incubator.myxwiki.org/xwiki/bin/view/Test/TestTitleComputation1  \njvdrean - (14:48): Doc1 doesn't have a title set, neither do Doc2. Doc2 has a first level heading ('My Title')  \njvdrean - (14:59): IIRC the heading from Doc2 should be used as the main title when Doc1 is displayed  \nlucaa left at 15:12 (Ping timeout: 245 seconds  \nlucaa joined #xwiki at 15:14  \n\n"}