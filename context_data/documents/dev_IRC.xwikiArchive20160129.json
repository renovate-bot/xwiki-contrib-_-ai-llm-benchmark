{"id": "dev:IRC.xwikiArchive20160129", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160129", "title": "IRC Archive for channel #xwiki on 29 January 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<cjd>\u00a0ahh thanks for the notice part  \n00:08\u00a0<vmassol>\u00a0thanks for deleting  \n00:08\u00a0<cjd>\u00a0You can actually point people somewhere in case they want to register  \n00:09\u00a0<cjd>\u00a0e.g. here  \n00:09\u00a0<cjd>\u00a0they ask, we make them an account  \n00:09\u00a0<cjd>\u00a0for the amount of new accounts people are likely to want it's probably just fine  \n00:09\u00a0<vmassol>\u00a0you should use http://www.xwiki.org/xwiki/bin/view/Admin/CleanSpam to delete spam  \n00:09\u00a0<vmassol>\u00a0as it also deletes AS events  \n00:10\u00a0<vmassol>\u00a0deleting the events now  \n00:10\u00a0<cjd>\u00a0ahh ok  \n00:11\u00a0<cjd>\u00a0could actually be good to drag people into an irc conversation when they want to register, because excluding the spammers often people want to register in order to test  \n00:11\u00a0<cjd>\u00a0the changes to the page did improve that a bit though  \n00:11\u00a0<cjd>\u00a0Also perhaps only put the notice on Registration and not on every page ?  \n00:12\u00a0<vmassol>\u00a0done  \n00:12\u00a0<vmassol>\u00a0sounds a bit complex though, we need a better solution IMO  \n00:12\u00a0<vmassol>\u00a0we can improve tomorrow  \n00:12\u00a0<cjd>\u00a0/nod  \n00:13\u00a0<cjd>\u00a0good night  \n00:13\u00a0<vmassol>\u00a0thanks for helping out  \n00:13\u00a0<vmassol>\u00a0you too  \n00:13\u00a0<vmassol>\u00a0nn  \n00:16\u00a0<vmassol>\u00a0has quit  \n00:40\u00a0<abusenius>\u00a0has quit  \n06:55\u00a0<mflorea>\u00a0has joined #xwiki  \n07:51\u00a0<sorinello>\u00a0has quit  \n08:02\u00a0<cjd>\u00a0has quit  \n08:18\u00a0<msmeria>\u00a0has joined #xwiki  \n08:39\u00a0<vmassol>\u00a0has joined #xwiki  \n08:47\u00a0<cjd>\u00a0has joined #xwiki  \n09:20\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:23\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:36\u00a0<vmassol>\u00a0good morning  \n09:36\u00a0<cjd>\u00a0gm  \n09:36\u00a0<vmassol>\u00a0working on fixing XRENDERING-427 this morning. I think I have actually found 2 bugs inside one ;)  \n09:37\u00a0<vmassol>\u00a0I'd like to include the fix in the 7.4.1 release  \n09:39\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:42\u00a0<msmeria>\u00a0has quit  \n10:38\u00a0<ol-ow2>\u00a0has joined #xwiki  \n10:39\u00a0<ol-ow2>\u00a0Hi, how can i check if an user is member of group from another xwiki children or farm ? $xwiki.getUser().isUserInGroup(\"xwiki:XWiki.aGroup\") doesn't work  \n10:40\u00a0<ol-ow2>\u00a0i'm logged as xwiki:XWiki.username  \n11:06\u00a0<Slashman>\u00a0has joined #xwiki  \n11:29\u00a0<ol-ow2>\u00a0cjd vmassol any idea ?  \n11:30\u00a0<vmassol>\u00a0sorry no idea, busy on something else too  \n11:40\u00a0<ol-ow2>\u00a0no problem, thnx ;) vmassol  \n12:00\u00a0<martinus\\_\\_>\u00a0tmortagne, hello !  \n12:00\u00a0<martinus\\_\\_>\u00a0I'm playing around with http://extensions.xwiki.org/xwiki/bin/view/Extension/XWiki+Authenticator+Headers  \n12:00\u00a0<martinus\\_\\_>\u00a0and I have a question : everytime the users log in, the fields attribute are not sync'd to xwiki ?  \n12:01\u00a0<martinus\\_\\_>\u00a0is it intended and what prevent then to have inconsistent attribute value in the mapped fields  \n12:02\u00a0<martinus\\_\\_>\u00a0(As you can still edit first\\_name in xwiki once logged in for example)  \n12:27\u00a0<msmeria1>\u00a0has quit  \n12:27\u00a0<msmeria>\u00a0has joined #xwiki  \n12:33\u00a0<ol-ow2>\u00a0has quit  \n13:20\u00a0<msmeria1>\u00a0has joined #xwiki  \n13:24\u00a0<msmeria>\u00a0has quit  \n13:50\u00a0<xwikibot>\u00a0has joined #xwiki  \n13:50\u00a0<vmassol>\u00a0ok I got fed up by the watchlist messages from Irina which are spamming us every day :)  \n13:50\u00a0<vmassol>\u00a0so I've excluded them from the ircbot  \n13:51\u00a0<vmassol>\u00a0(specifically I've excluded reporting of changes done to the xwiki:XWiki.IrinaHrehorciuc page)  \n13:59\u00a0<tmortagne>\u00a0martinus\\_\\_: indeed as far as I can see in the code there is no synchronization  \n14:00\u00a0<tmortagne>\u00a0I cannot really tell you why it's like this (I'm worked on it a bit but I'm not really the one who is the \"founder\" of the extension)  \n14:02\u00a0<tmortagne>\u00a0I guess you could ask for it on http://jira.xwiki.org/browse/AUTHHEADER but I don't think anybody currently work actively on it, if the question is \"do you agree that it would be interresting and I'm going to propose a pull request for it\" then the answer is yes I would happily apply a pull request related to this ;)  \n14:02\u00a0<msmeria>\u00a0has joined #xwiki  \n14:03\u00a0<msmeria1>\u00a0has quit  \n14:07\u00a0<cjd>\u00a0I have a maven question, I need a maven maven  \n14:07\u00a0<cjd>\u00a0I have a build with dependency on xwiki-enterprise-ui-all but I seem to not get XWiki.Admin page  \n14:07\u00a0<vmassol>\u00a0haha  \n14:07\u00a0<cjd>\u00a0version 4.5.4  \n14:07\u00a0<vmassol>\u00a0sorry someone taught me maven, I cannot answer  \n14:08\u00a0<cjd>\u00a0hehe  \n14:08\u00a0<cjd>\u00a0It seems to be correct for 4.5.4 and it seems that \\*some\\* pages are getting pulled in but not all  \n14:08\u00a0<vmassol>\u00a0Admin is somewhere else  \n14:09\u00a0<vmassol>\u00a0https://gist.github.com/vmassol/8705907d90676a45d44f  \n14:09\u00a0<vmassol>\u00a0don't remember when it was moved though  \n14:09\u00a0<vmassol>\u00a0so it's in xwiki-enterprise-ui-admin-user  \n14:09\u00a0<tmortagne>\u00a0xwiki-enterprise-ui-all is the all in one XAR so it's supposed to contain it  \n14:10\u00a0<cjd>\u00a0hmm  \n14:10\u00a0<tmortagne>\u00a0unless you are talking about xwiki-enterprise-ui  \n14:10\u00a0<vmassol>\u00a0I don't think it exists  \n14:10\u00a0<cjd>\u00a0nopw, it was pulling in -ui-all  \n14:10\u00a0<vmassol>\u00a0at least not in recent versions  \n14:11\u00a0<cjd>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/xwiki-enterprise-4.5.3/xwiki-enterprise-distribution/xwiki-enterprise-ui-all/pom.xml  \n14:11\u00a0<vmassol>\u00a0we have a ui-all for the main wiki and for the subwikis now  \n14:11\u00a0<cjd>\u00a0oops https://github.com/xwiki/xwiki-enterprise/blob/xwiki-enterprise-4.5.4/xwiki-enterprise-distribution/xwiki-enterprise-ui-all/pom.xml  \n14:11\u00a0<tmortagne>\u00a0cjd is talking about 4.5.4  \n14:11\u00a0<vmassol>\u00a0in the old times the Admin user was in platform  \n14:11\u00a0<vmassol>\u00a0probably in the adminidstration app  \n14:11\u00a0<cjd>\u00a0so this pulls in xwiki-platform-administration-ui  \n14:11\u00a0<vmassol>\u00a0yes I'd say it was there  \n14:11\u00a0<vmassol>\u00a0so it's strange if you don't have it  \n14:12\u00a0<tmortagne>\u00a0the XAR does containt Admin  \n14:12\u00a0<tmortagne>\u00a0I just downloaded and opened it  \n14:13\u00a0<tmortagne>\u00a0so the issue is not in xwiki-enterprise-ui-all xar  \n14:13\u00a0<cjd>\u00a0ok then it must be my pom.xml is not doing the right thing  \n14:13\u00a0<cjd>\u00a0https://ncry.pt/p/m3Bn#-1-lqczPb\\_PGfzsBZqmQTzHDhlfyKlao1H7gecHwSFo  \n14:13\u00a0<cjd>\u00a0this is the pom  \n14:14\u00a0<cjd>\u00a0I commented the excludes just to \"exclude\" the possibility that they're causing some problem  \n14:14\u00a0<cjd>\u00a0also http://localhost:8080/xwiki/bin/view/XWiki/ClassTemplate is nonexistant  \n14:14\u00a0<cjd>\u00a0so perhaps it is really not extending the existing xar...  \n14:21\u00a0<tmortagne>\u00a0cjd: by default a dependency is just a dependency, like with jars  \n14:21\u00a0<tmortagne>\u00a0if you want to create a big XAR you need to tell it  \n14:21\u00a0<tmortagne>\u00a0see <includeDependencies>true</includeDependencies>  \n14:21\u00a0<tmortagne>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/xwiki-enterprise-4.5.4/xwiki-enterprise-distribution/xwiki-enterprise-ui-all/pom.xml#L73  \n14:21\u00a0<cjd>\u00a0OK, thank you very much  \n14:22\u00a0<cjd>\u00a0Because pom.xml don't execute left-to-right top-to-bottom, I really have no idea how much magic there is  \n14:37\u00a0<vmassol>\u00a0FTR I've enabled registration again  \n14:37\u00a0<vmassol>\u00a0I've increased security on cloudflare  \n14:37\u00a0<vmassol>\u00a0let's see what happens :)  \n14:37\u00a0<cjd>\u00a0Hold my beer and watch this !  \n14:43\u00a0<ClemensR>\u00a0has joined #xwiki  \n14:46\u00a0<msmeria>\u00a0has quit  \n14:52\u00a0<sdumitriu>\u00a0has quit  \n14:58\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:03\u00a0<woshilapin>\u00a0Hi dev, I have a XWiki distribution built from packager plugin and I've tried to install EM without success  \n16:03\u00a0<woshilapin>\u00a0I've put org.xwiki.platform:xwiki-platform-extension-ui as a dependency in my build  \n16:04\u00a0<woshilapin>\u00a0The UI of EM does appear  \n16:04\u00a0<woshilapin>\u00a0But it's like he don't know about any distant repository  \n16:05\u00a0<woshilapin>\u00a0I've uncommented extension.repositories in xwiki.properties (using the default parameters) but not more happened  \n16:05\u00a0<woshilapin>\u00a0Maybe I'm not looking at the right place?  \n16:06\u00a0<woshilapin>\u00a0Something else that I forgot?  \n16:09\u00a0<tmortagne>\u00a0probably missing xwiki-commons-extension-repository-maven and xwiki-commons-extension-repository-xwiki  \n16:10\u00a0<tmortagne>\u00a0one deal with maven repository and come with xwiki.org nexus repository as default one and the other is for XWiki protocol and it comes with extension.xwiki.org  \n16:10\u00a0<tmortagne>\u00a0(yes each extension can \"inject\" a default repository)  \n16:16\u00a0<woshilapin>\u00a0OK, I'll try that, thanks  \n17:12\u00a0<cjd>\u00a0has quit  \n17:19\u00a0<woshilapin>\u00a0tmortagne: By the way, it seems it's not sufficient to add this 2 repos as dependencies  \n17:20\u00a0<tmortagne>\u00a0woshilapin: not sufficient for ?  \n17:20\u00a0<woshilapin>\u00a0To get the list of extensions to display in the EM  \n17:20\u00a0<tmortagne>\u00a0unless you have custom value in xwiki.properties the default repositories come from those two extension I listed  \n17:21\u00a0<tmortagne>\u00a0as for \"list of extensions to display in the EM\" I guess you mean search and this work only with XWiki reposiory, no search in Maven repositories  \n17:22\u00a0<woshilapin>\u00a0I mean I can find Tour Application for example  \n17:22\u00a0<woshilapin>\u00a0https://imgur.com/p8THJi3  \n17:22\u00a0<woshilapin>\u00a0This is what I get  \n17:22\u00a0<tmortagne>\u00a0hope ours anti spam hack on extension.xwiki.org don't stop extension manager access  \n17:23\u00a0<tmortagne>\u00a0testing a standard XE  \n17:23\u00a0<tmortagne>\u00a0make sure you don't have anything set in xwiki.properties  \n17:24\u00a0<tmortagne>\u00a0are you really sure you have xwiki-commons-extension-repository-xwiki in your WEB-INF/lib ?  \n17:25\u00a0<tmortagne>\u00a0search work well for me so not an issue on extensions.xwiki.org side  \n17:26\u00a0<vmassol>\u00a0tmortagne: nope  \n17:26\u00a0<woshilapin>\u00a0I've put dependencies xwiki-platform-extension-repository-maven and xwiki as you told  \n17:26\u00a0<vmassol>\u00a0no FR ip was blocked  \n17:26\u00a0<woshilapin>\u00a0But it seems they're not in the final build  \n17:26\u00a0<tmortagne>\u00a0the only way to not get anything is to either have extension.repositories set in xwiki.properties or to not have xwiki-commons-extension-repository-xwiki  \n17:26\u00a0<woshilapin>\u00a0<type>jar</type> ?  \n17:26\u00a0<tmortagne>\u00a0maybe you did not used the right scope  \n17:27\u00a0<woshilapin>\u00a0Ah, I didn't use any scope  \n17:27\u00a0<woshilapin>\u00a0Which scope should I use ?  \n17:27\u00a0<tmortagne>\u00a0actually it depends where you put them I guess  \n17:27\u00a0<tmortagne>\u00a0if it's as dependency of the plugin I don't think you need scope  \n17:28\u00a0<tmortagne>\u00a0I never user this plugin the way you use it, only for test for me  \n17:28\u00a0<tmortagne>\u00a0better ask vmassol  \n17:28\u00a0<woshilapin>\u00a0It's a dependency for my jetty packaging  \n17:28\u00a0<tmortagne>\u00a0you don't have any other dependency than those two ?  \n17:28\u00a0<woshilapin>\u00a0I have a lot of others and they work well  \n17:29\u00a0<woshilapin>\u00a0Note: a lot of JAR dependencies  \n17:29\u00a0<tmortagne>\u00a0well if you do the same than with other I don't see why it would not work  \n17:29\u00a0<tmortagne>\u00a0those are jar dependencies too  \n17:29\u00a0<tmortagne>\u00a0they don't have anything special  \n17:30\u00a0<woshilapin>\u00a0OK, that's what I thought  \n17:30\u00a0<woshilapin>\u00a0Something weird is going on...  \n17:33\u00a0<vmassol>\u00a0hmmm we can't cancel save with an EventListener\u2026  \n17:33\u00a0<tmortagne>\u00a0no you can't  \n17:33\u00a0<tmortagne>\u00a0there is an issue about that AFAIK  \n17:33\u00a0<vmassol>\u00a0yep I'm looking for it  \n17:34\u00a0<tmortagne>\u00a0need to make Document\\*ingEvent events cancelable  \n17:35\u00a0<woshilapin>\u00a0OK, the JAR were there (I was not looking for the right name, searched for xwiki-platform-something)  \n17:35\u00a0<woshilapin>\u00a0So the compilation was OK  \n17:35\u00a0<woshilapin>\u00a0But still the EM is not showing extensions  \n17:35\u00a0<tmortagne>\u00a0then only other possibility is xwiki.properties  \n17:36\u00a0<woshilapin>\u00a0What properties should I check?  \n17:36\u00a0<tmortagne>\u00a0(05:26:41 PM) tmortagne: the only way to not get anything is to either have extension.repositories set in xwiki.properties  \n17:36\u00a0<woshilapin>\u00a0Because I didn't touch any of the configuration except superadmin password  \n17:37\u00a0<tmortagne>\u00a0it's possible packager plugin disable repositories by default since it was designed for tests  \n17:37\u00a0<woshilapin>\u00a0extension.repositories is comented  \n17:37\u00a0<vmassol>\u00a0XWIKI-9054  \n17:37\u00a0<vmassol>\u00a0I'll do it, seems easy enough  \n17:37\u00a0<tmortagne>\u00a0it should yes  \n17:38\u00a0<woshilapin>\u00a0So uncommenting should reactivate it?  \n17:38\u00a0<tmortagne>\u00a0just need to implement cancelable event and add some handling of canceled events in XWiki#saveDocument etc  \n17:38\u00a0<tmortagne>\u00a0no  \n17:38\u00a0<tmortagne>\u00a0it should be commented  \n17:38\u00a0<tmortagne>\u00a0otherwise it won't use default repositories  \n17:39\u00a0<woshilapin>\u00a0Yes, but with your hypothesis that packager plugin may deactivate it  \n17:39\u00a0<tmortagne>\u00a0yes by setting it to empty  \n17:40\u00a0<tmortagne>\u00a0make sure it's not set somewhere else at the en or the beginning of the file  \n17:40\u00a0<tmortagne>\u00a0you don't have anything in the log ?  \n17:42\u00a0<tmortagne>\u00a0woshilapin: do you have xwiki-platform-extension-script jar ?  \n17:44\u00a0<woshilapin>\u00a0Nothing particular in the log  \n17:44\u00a0<woshilapin>\u00a0looking for the jar  \n17:44\u00a0<woshilapin>\u00a0I don't have this jar  \n17:45\u00a0<woshilapin>\u00a0will add it and see if better  \n17:45\u00a0<tmortagne>\u00a0well without this jar the UI just call unexisting method so no wonder it does not work :)  \n17:46\u00a0<woshilapin>\u00a0Yes, I guessed that from the name of the JAR :-) And indeed, no chance it works without it  \n17:46\u00a0<tmortagne>\u00a0I tough the UI would crash everywhere without the script service mflorea :)  \n17:47\u00a0<woshilapin>\u00a0Much better :-D  \n17:47\u00a0<woshilapin>\u00a0Thank you very much for the patient with the boulet of Friday evening ;-)  \n17:47\u00a0<woshilapin>\u00a0patience\\*  \n17:47\u00a0<tmortagne>\u00a0:)  \n18:08\u00a0<woshilapin>\u00a0has quit  \n18:13\u00a0<tmortagne>\u00a0has quit  \n18:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n18:21\u00a0<tmortagne>\u00a0has quit  \n18:26\u00a0<mflorea>\u00a0has quit  \n18:33\u00a0<ClemensR>\u00a0has left #xwiki  \n18:50\u00a0<HdsfjBjdvh>\u00a0has joined #xwiki  \n18:54\u00a0<HdsfjBjdvh>\u00a0has quit  \n19:35\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:37\u00a0<tmortagne>\u00a0has quit  \n19:39\u00a0<vmassol>\u00a0has quit  \n19:55\u00a0<abusenius>\u00a0has joined #xwiki  \n20:11\u00a0<cjd>\u00a0has joined #xwiki  \n20:35\u00a0<vmassol>\u00a0has joined #xwiki  \n20:42\u00a0<vmassol>\u00a0has quit  \n20:58\u00a0<Slashman>\u00a0has quit  \n22:35\u00a0<vmassol>\u00a0has joined #xwiki  \n23:37\u00a0<cjd>\u00a0has quit\n"}