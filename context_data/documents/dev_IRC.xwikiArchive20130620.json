{"id": "dev:IRC.xwikiArchive20130620", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130620", "title": "IRC Archive for channel #xwiki on 20 June 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n07:50\u00a0<mflorea>\u00a0has joined #xwiki  \n08:08\u00a0<motofix>\u00a0has quit  \n08:12\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n08:26\u00a0<abusenius\\_>\u00a0has quit  \n08:37\u00a0<evalica>\u00a0has joined #xwiki  \n08:50\u00a0<msmeria>\u00a0has joined #xwiki  \n09:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:09\u00a0<mflorea>\u00a0created for the past 1200 days! Let's do this!  \n10:22\u00a0<sburjan>\u00a0has joined #xwiki  \n10:29\u00a0<vmassol>\u00a0nice: http://corporate.tuenti.com/en/dev/blog/video-recordings-of-browser-tests  \n10:29\u00a0<vmassol>\u00a0(Im on holidays today btw ;))  \n10:33\u00a0<vmassol>\u00a0mflorea: I won't be able to look at http://jira.xwiki.org/browse/XWIKI-9238 today but I can work on it tomorrow  \n10:34\u00a0<mflorea>\u00a0vmassol: I'm going to take a quick look maybe I can spot the problem. Otherwise I'll leave it for you for tomorrow  \n10:34\u00a0<vmassol>\u00a0from the outside I don't see what I have changed that could cause the issue  \n10:34\u00a0<vmassol>\u00a0ok  \n10:35\u00a0<vmassol>\u00a0ah only one thing I did in this area  \n10:35\u00a0<vmassol>\u00a0hmm not even  \n10:35\u00a0<vmassol>\u00a0ah yes I did somethinh on the unique filter  \n10:36\u00a0<vmassol>\u00a0something that wasn't required for the issue in the end  \n10:36\u00a0<vmassol>\u00a0here's teh story  \n10:36\u00a0<vmassol>\u00a0I started using the language filter combined with the unique filter  \n10:36\u00a0<vmassol>\u00a0to later realized they couldn't work toegther  \n10:36\u00a0<vmassol>\u00a0but in the meantime I fixed the unique filter  \n10:36\u00a0<vmassol>\u00a0since it had some limitation  \n10:36\u00a0<vmassol>\u00a0it wasn't support extra user columns  \n10:36\u00a0<vmassol>\u00a0\\*supporting  \n10:37\u00a0<vmassol>\u00a0I probably made a mistake there  \n10:37\u00a0<vmassol>\u00a0should be easy to fix  \n10:37\u00a0<vmassol>\u00a0you ca look at the git history of UniqueDocumentFilter  \n10:37\u00a0<vmassol>\u00a0\\*can  \n10:39\u00a0<tmortagne>\u00a0vmassol: \"Insufficient code coverage for INSTRUCTION: 60.71% < 60.84%\" on irc bot  \n10:40\u00a0<vmassol>\u00a0mflorea: the simple quick solution if you don't want to both is to revert all changes done on UniqueDocumentFilter, the limitation will still be there, we'll just push it to later  \n10:40\u00a0<vmassol>\u00a0s/both/spend too much time  \n10:40\u00a0<mflorea>\u00a0vmassol: ok, I'll debug a bit  \n10:41\u00a0<vmassol>\u00a0tmortagne: can you reduce the TPC for now? I'll check test level tomorrow  \n10:44\u00a0<mflorea>\u00a0vmassol: it's quite easy to fix. in filterResults, you remove the extra (e.g. sort) columns but you don't \"unwrap\" the array if it has only one item. I'll just add an if for the array size.  \n10:45\u00a0<mflorea>\u00a0[[item1], [item2], ...] -> [item1, item2, ...]  \n10:46\u00a0<tdelafosse>\u00a0has joined #xwiki  \n10:46\u00a0<vmassol>\u00a0ok cool  \n10:46\u00a0<vmassol>\u00a0thanks  \n10:58\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:58\u00a0<vmassol>\u00a0has quit  \n10:59\u00a0<Slashman>\u00a0has joined #xwiki  \n11:02\u00a0<evalica>\u00a0has quit  \n11:03\u00a0<evalica>\u00a0has joined #xwiki  \n12:29\u00a0<msmeria>\u00a0has quit  \n12:32\u00a0<msmeria>\u00a0has joined #xwiki  \n12:43\u00a0<npm>\u00a0has quit  \n13:10\u00a0<gdelhumeau>\u00a0has quit  \n13:17\u00a0<kstuart>\u00a0has joined #xwiki  \n13:30\u00a0<kstuart>\u00a0has quit  \n13:34\u00a0<mflorea>\u00a0has quit  \n13:49\u00a0<chalx>\u00a0has joined #xwiki  \n14:35\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n14:41\u00a0<mflorea>\u00a0has joined #xwiki  \n14:41\u00a0<chalx>\u00a0has quit  \n14:58\u00a0<npm>\u00a0has joined #xwiki  \n15:03\u00a0<gdelhumeau>\u00a0WARN \u00a0.x.x.s.XWikiHibernateBaseStore - Incompatible session (SessionImpl(PersistenceContext[entityKeys=[],collectionKeys=[  \n15:03\u00a0<gdelhumeau>\u00a0]];ActionQueue[insertions=[] updates=[] deletions=[] collectionCreations=[] collectionRemovals=[] collectionUpdates=[]])) and transaction (null) status  \n15:03\u00a0<gdelhumeau>\u00a0How can it happen ?  \n15:06\u00a0<evalica>\u00a0tmortagne: XWIKI-3585 it is now closed as a duplicate, but it was reported as a bug \u2026  \n15:07\u00a0<tmortagne>\u00a0did not seen you closed it, I moved it to implrovement because it's not a bug  \n15:08\u00a0<tmortagne>\u00a0if you force the lock it's your responsibility, I don't see how the fact that you end up overriding someone else work is a bug...  \n15:08\u00a0<evalica>\u00a0appearently we were looking both at the same issue :) I will put it again as a bug - if that's ok with you, you are messing my BFD score :P  \n15:08\u00a0<tmortagne>\u00a0as you want  \n15:48\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n15:52\u00a0<GuillaumeF>\u00a0hello, I have an issue installing a new wiki via Extension Manager with XWiki 5.0 and postgresql  \n15:53\u00a0<sburjan>\u00a0GuillaumeF: what's the error ?  \n15:53\u00a0<GuillaumeF>\u00a0I can download the extension, but when I click install, I get the previous screen with this error in the bottom  \n15:53\u00a0<GuillaumeF>\u00a0Direct buffer memoryclass java.lang.OutOfMemoryError: Direct buffer memory  \n15:53\u00a0<sburjan>\u00a0never seen that, but I don't think it's related to postgres  \n15:55\u00a0<GuillaumeF>\u00a0so DB is empty, I got Distribution Wizard. I click on install, about \"XWiki Enterprise - UI 5.0\"  \n15:55\u00a0<tmortagne>\u00a0generally java.lang.OutOfMemoryError mean that you did not gave enough memory to your application server  \n15:55\u00a0<GuillaumeF>\u00a0Yes but I have 1GB allocated  \n15:55\u00a0<GuillaumeF>\u00a0and nothing else in the logs  \n15:55\u00a0<GuillaumeF>\u00a0I mean, I really have nothing in the logs at all, since the startup of the app  \n15:56\u00a0<GuillaumeF>\u00a0I see this error in DW  \n15:56\u00a0<sburjan>\u00a0GuillaumeF: I never saw this java error in my life. And I use postgres a LOT lately ...  \n15:58\u00a0<tmortagne>\u00a0first time I see reference to \"Direct buffer memory\", not sure what this is about exactly  \n15:58\u00a0<sburjan>\u00a0so it's new for you too  \n15:58\u00a0<tmortagne>\u00a0GuillaumeF: could you put the full error stack somewhere ?  \n15:59\u00a0<GuillaumeF>\u00a0damn, it worked at 4th try  \n15:59\u00a0<GuillaumeF>\u00a0I'll clean the DB and try agazin  \n16:08\u00a0<GuillaumeF>\u00a0cannot reproduce :( It happened several time, even after a restart, but now everything's fine  \n16:08\u00a0<GuillaumeF>\u00a0thanks anyway  \n16:08\u00a0<tmortagne>\u00a0can't find clear explanation of what is \"direct buffer memory\" and what it's supposed to be used for, I suspect something like String.intern but I tough this was in the permgen  \n16:10\u00a0<msmeria>\u00a0has quit  \n16:18\u00a0<evalica>\u00a0has quit  \n17:05\u00a0<GuillaumeF>\u00a0has quit  \n17:30\u00a0<sburjan>\u00a0has quit  \n18:18\u00a0<tmortagne>\u00a0has quit  \n18:25\u00a0<Slashman>\u00a0has quit  \n19:21\u00a0<gdelhumeau>\u00a0has quit  \n19:52\u00a0<mflorea>\u00a0has quit  \n19:54\u00a0<vmassol>\u00a0has joined #xwiki  \n20:26\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n20:26\u00a0<tdelafosse>\u00a0has quit  \n21:06\u00a0<mflorea>\u00a0has joined #xwiki  \n22:12\u00a0<vmassol>\u00a0has quit  \n22:31\u00a0<xwikibot>\u00a0has joined #xwiki  \n23:02\u00a0<qwebirc19331>\u00a0has joined #xwiki  \n23:04\u00a0<sdumitriu1>\u00a0has quit  \n23:06\u00a0<qwebirc19331>\u00a0has quit  \n23:31\u00a0<mflorea>\u00a0has quit  \n23:44\u00a0<abusenius\\_>\u00a0has quit\n"}