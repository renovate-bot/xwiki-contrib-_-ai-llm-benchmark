{
  "id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
  "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
  "title": "OpenID Connect Authenticator",
  "collection": "Eval_fr",
  "mimetype": "text/markdown",
  "language": "fr",
  "content": "| openid_connect_16x16.png | **Permettre à une instance XWiki de s'authentifier sur un fournisseur OpenID Connect** |\n| --- | --- |\n\n**Recommandé**\n\n| Type | JAR |\n| --- | --- |\n| Catégorie | Authentificateur |\n| Développé par | [Thomas Mortagne](https://xwiki.org/xwiki/bin/view/XWiki/ThomasMortagne) |\n| Installations actives | 146 |\n| Note | *  * [1](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \"Médiocre\") * [2](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \"Satisfaisant\") * [3](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \"Bon\") * [4](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \"Très bon\") * [5](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \"Excellent\")    1 Vote |\n| Licence | GNU Lesser General Public License 2.1 |\n\n| Compatibilité | XWiki 14.10+ est requis. |\n| --- | --- |\n\n**Installable avec le Gestionnaire d'Extensions**\n\n[Télécharger v2.8.6](https://extensions.xwiki.org/xwiki/rest/repository/extensions/org.xwiki.contrib.oidc%3Aoidc-authenticator/versions/2.8.6/file?rid=maven-xwiki)[Sources](https://github.com/xwiki-contrib/oidc/tree/master/oidc-authenticator)[Problèmes](https://jira.xwiki.org/browse/OIDC)\n\nTable des matières\n\n* [Description](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDescription)\n* [Principales limitations](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HMainlimitations)\n* [Configuration](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HConfiguration)\n\t+ [Guides de configuration pour des systèmes spécifiques](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HConfigurationGuidesforspecificsystems)\n\t\t- [Lemon LDAP / Open PAAS](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HLemonLDAP2FOpenPAAS)\n\t\t- [Authentification OpenID avec Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HOpenIDAuthenticationwithKeycloak)\n\t\t- [Univention Corporate Server](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HUniventionCorporateServer)\n\t+ [Fichiers de configuration](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HConfigurationfiles)\n\t\t- [xwiki.cfg](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#Hxwiki.cfg)\n\t\t- [xwiki.properties](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#Hxwiki.properties)\n\t+ [Configuration dans le wiki](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HIn-wikiconfiguration)\n\t+ [Authentification avec une instance basée sur un domaine](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HAuthenticationwithadomain-basedinstance)\n* [Points de terminaison](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HEndpoints)\n\t+ [Callback](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HCallback)\n\t+ [Déconnexion par canal secondaire](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HBack-ChannelLogout)\n* [Contourner OpenID Connect](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HBypassOpenIDConnect)\n* [Synchronisation des groupes](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HGroupsynchronization)\n* [Personnalisation](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HCustomization)\n\t+ [Templates](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HTemplates)\n\t+ [Listeners](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HListeners)\n* [Dépannage](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HTroubleshooting)\n\t+ [Activer le journal DEBUG](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HEnableDEBUGlog)\n\t\t- [Avec l'interface d'administration des journaux](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HWiththeLoggingAdminUI)\n\t\t- [Avec le fichier de configuration Logback](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HWiththeLogbackconfigurationfile)\n* [URLs courtes](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HShortURLs)\n* [Prérequis et instructions d'installation](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions)\n* [Dépendances](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies)\n\n# Description\n\nPermettre à une instance XWiki de s'authentifier sur un fournisseur OpenId Connect. Il effectue également une synchronisation automatique.\n\nVoir aussi [Fournisseur OpenID Connect](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/).\n\n![oidc_client_provider.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\n\nLes notes de version peuvent être trouvées sur la [page du projet OpenID Connect](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\n\n# Principales limitations\n\n* [Authentifier automatiquement l'utilisateur lors du retour](https://jira.xwiki.org/browse/OIDC-16)\n\n# Configuration\n\n## Guides de configuration pour des systèmes spécifiques\n\n### Lemon LDAP / Open PAAS\n\nUn [guide de configuration](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) est disponible pour connecter XWiki à LemonLDAP / OpenPAAS en utilisant le client OpenIDC XWiki.\n\n### Authentification OpenID avec Keycloak\n\nUn [exemple de configuration pour Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) est disponible.\n\n### Univention Corporate Server\n\nUn [exemple de configuration pour Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) est disponible.\n\n## Fichiers de configuration\n\n### xwiki.cfg\n\n#-# La classe de gestion de l'authentification.  \nxwiki.authentication.authclass=org.xwiki.contrib.oidc.auth.OIDCAuthServiceImpl### xwiki.properties\n\n#-# L'URL de base du fournisseur OpenId Connect à utiliser comme point de départ pour découvrir la configuration du fournisseur.  \n#-# Voir les propriétés des points de terminaison suivants si le fournisseur ne prend pas en charge la découverte OpenID Connect.  \n#-# Si non indiqué et aucun point de terminaison personnalisé n'est fourni, il sera demandé à l'utilisateur.  \n# oidc.provider=https://xwikiorg-node1.xwikisas.com/xwiki/oidc  \n  \n#-# Les points de terminaison OpenId Connect génériques à utiliser pour communiquer avec le fournisseur.  \n#-# Il n'est généralement pas nécessaire de les fournir lorsque le point de terminaison de découverte du fournisseur est fourni (qui est censé fournir ces points de terminaison).  \n# oidc.endpoint.authorization=https://xwikiorg-node1.xwikisas.com/xwiki/oidc/authorization  \n# oidc.endpoint.token=https://xwikiorg-node1.xwikisas.com/xwiki/oidc/token  \n# oidc.endpoint.userinfo=https://xwikiorg-node1.xwikisas.com/xwiki/oidc/userinfo  \n# oidc.endpoint.logout=https://xwikiorg-node1.xwikisas.com/xwiki/oidc/logout  \n  \n#-# Il est possible d'ajouter des en-têtes HTTP personnalisés au point de terminaison (généralement nécessaire uniquement pour les fournisseurs mauvais ou non-oidc)  \n#-# en ajoutant le suffixe \".headers\" à la clé de propriété du point de terminaison et en listant les en-têtes personnalisés au format clé:valeur.  \n#-# Notez que cela n'est pas pris en compte pour le point de terminaison oidc.endpoint.authorization car il est utilisé comme redirection.  \n#-# Voici un exemple pour envoyer les en-têtes HTTP \"Accept: application/json\" et \"SomeOtherHeader: header\" avec la requête userinfo.  \n# oidc.endpoint.userinfo.headers=Accept:application/json  \n# oidc.endpoint.userinfo.headers=SomeOtherHeader:header value  \n  \n#-# Les scopes à utiliser lors de la redirection vers le fournisseur  \n#-# Les scopes standard de la connexion OpenID sont :  \n#-# \\* openid: Informe le serveur d'autorisation que le client effectue une demande OpenID Connect (OBLIGATOIRE).  \n#-# \\* profile: Demande que l'accès aux revendications de profil par défaut de l'utilisateur final au point de terminaison UserInfo soit accordé par le jeton d'accès émis.  \n#-# \\* email: Demande que l'accès aux revendications email et email\\_verified au point de terminaison UserInfo soit accordé par le jeton d'accès émis.  \n#-# \\* address: Demande que l'accès à la revendication d'adresse au point de terminaison UserInfo soit accordé par le jeton d'accès émis.  \n#-# \\* phone: Demande que l'accès aux revendications {phone\\_number et phone\\_number\\_verified au point de terminaison UserInfo soit accordé par le jeton d'accès émis.  \n#-# \\* offline\\_access: Demande qu'un jeton d'actualisation OAuth 2.0 soit émis, pouvant être utilisé pour obtenir un jeton d'accès accordant l'accès au point de terminaison UserInfo de l'utilisateur final même lorsque l'utilisateur n'est pas présent (non connecté).  \n#-#   \n#-# Mais selon le fournisseur, d'autres peuvent être listés.  \n#-#   \n#-# La valeur par défaut est :  \n# oidc.scope=openid,profile,email,address,phone  \n  \n#-# Le type de réponse pour contrôler le flux utilisé par le protocole OpenId Connect.  \n#-# Cela est souvent utilisé pour contrôler si les informations sur l'utilisateur doivent  \n#-# être récupérées à partir du point de terminaison userinfo avec une requête de XWiki au fournisseur (\"code\", par défaut)  \n#-# ou le jeton id directement fourni lorsque le fournisseur redirige vers XWiki (\"id\\_token\")  \n#-# mais il est également possible de combiner.  \n#-# Voir https://openid.net/specs/openid-connect-core-1\\_0.html#rfc.section.3 pour plus de détails.  \n#-# Pour un flux hybride, utilisez la syntaxe de liste (donc virgule ou plusieurs ensembles) au lieu de l'espace blanc  \n#-# documenté dans la spécification pour séparer les mots.  \n#-#  \n#-# La valeur par défaut est :  \n# oidc.responseType=code  \n  \n#-# La méthode utilisée pour accéder au point de terminaison userinfo.  \n#-#   \n#-# Les valeurs prises en charge sont :  \n#-# \\* GET: utiliser la méthode HTTP GET  \n#-# \\* POST: utiliser la méthode HTTP POST  \n#-#   \n#-# La valeur par défaut est :  \n# oidc.endpoint.userinfo.method=GET  \n  \n#-# Le modèle à utiliser pour générer le nom d'utilisateur XWiki.  \n#-#   \n#-# Les variables suivantes sont disponibles :  \n#-# oidc.user.subject: l'identifiant unique de l'utilisateur dans le fournisseur  \n#-# oidc.user.mail: l'email de l'utilisateur  \n#-# oidc.user.familyName : le nom de famille de l'utilisateur  \n#-# oidc.user.givenName: le prénom de l'utilisateur  \n#-# oidc.user.preferredUsername: la chaîne recommandée à utiliser comme identifiant pour l'utilisateur  \n#-# oidc.provider: l'URL du fournisseur XWiki (uniquement lorsqu'un fournisseur XWiki est utilisé)  \n#-# oidc.provider.host: l'hôte de l'URL du fournisseur  \n#-# oidc.provider.path: le chemin de l'URL du fournisseur  \n#-# oidc.provider.protocol: le protocole (généralement https) de l'URL du fournisseur  \n#-# oidc.provider.port: le port de l'URL du fournisseur  \n#-# oidc.issuer: l'URI de l'émetteur  \n#-# oidc.issuer.host: l'hôte de l'URI de l'émetteur  \n#-# oidc.issuer.path: le chemin de l'URI de l'émetteur  \n#-# oidc.issuer.scheme: le schéma (généralement https) de l'URI de l'émetteur  \n#-# oidc.issuer.port: le port de l'URI de l'émetteur  \n#-#   \n#-# Les JSON userinfo et id token reçus du fournisseur sont également disponibles en utilisant respectivement :  \n#-# \\* \"oidc.user.\" pour le userinfo  \n#-# \\* \"oidc.idtoken.\" pour le id token  \n#-# Par exemple, si le fournisseur envoie le JSON suivant pour le user info :  \n#-# {  \n#-#   \"sub\"                : \"248289761001\",  \n#-#   \"name\"               : \"Jane Doe\",  \n#-#   \"given\\_name\"         : \"Jane\",  \n#-#   \"family\\_name\"        : \"Doe\",  \n#-#   \"preferred\\_username\" : \"j.doe\",  \n#-#   \"email\"              : \"[[email protected]](https://extensions.xwiki.org/cdn-cgi/l/email-protection)\",  \n#-#   \"picture\"            : \"http://example.com/janedoe/me.jpg\"  \n#-#   \"customobject\"        :  \n#-#   {  \n#-#     \"customproperty\"   :  \"customvalue\"  \n#-#   }  \n#-# }  \n#-# vous pouvez utiliser la variable ${oidc.user.customobject.customproperty}.  \n#-#  \n#-# Les suffixes suivants peuvent être ajoutés :  \n#-# \\* \".\\_lowerCase\": la version en minuscules de la chaîne  \n#-# \\* \".\\_upperCase\": la version en majuscules de la chaîne   \n#-# \\* \".\\_clean\": une version de la chaîne dépouillée des caractères \".\", \":\", \",\", \"@\", \"^\" et \"\\s\" (toutes les formes d'espaces blancs).  \n#-#             Elle peut elle-même être suffixée par \".\\_lowerCase\" et \".\\_upperCase\".  \n#-#  \n#-# La syntaxe des variables a également d'autres fonctionnalités (valeur de secours, etc.) détaillées sur https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html.  \n#-#   \n#-# La valeur par défaut est :   \n# oidc.user.nameFormater=${oidc.issuer.host.\\_clean}-${oidc.user.preferredUsername.\\_clean}  \n  \n#-# Le modèle à utiliser pour générer l'identifiant unique de l'utilisateur dans le fournisseur OpenId Connect.  \n#-# Il est utilisé pour éviter les collisions avec des utilisateurs ayant des noms similaires.  \n#-#   \n#-# La syntaxe est la même que celle décrite pour la propriété oidc.user.nameFormater.  \n#-#   \n#-# La valeur par défaut est :   \n# oidc.user.subjectFormater=${oidc.user.subject}  \n  \n#-# Il est possible d'associer des propriétés non standard provenant du fournisseur OpenID Connect avec l'utilisateur XWiki.  \n#-# C'est une carte avec le nom de la propriété de l'utilisateur XWiki et un format similaire à celui défini dans oidc.user.nameFormater pour le côté OpenID Connect.  \n#-#   \n# oidc.user.mapping=myxproperty1=${oidc.user.subject}  \n# oidc.user.mapping=myxproperty2=myprefix-${oidc.user.subject}  \n  \n#-# Les droits que chaque nouvel utilisateur doit avoir sur son propre profil"
}