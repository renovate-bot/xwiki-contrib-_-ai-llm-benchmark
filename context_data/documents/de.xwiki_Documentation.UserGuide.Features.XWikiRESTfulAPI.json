{
  "id": "xwiki:Documentation.UserGuide.Features.XWikiRESTfulAPI",
  "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI",
  "title": "REST API",
  "collection": "Eval_de",
  "mimetype": "text/markdown",
  "language": "de",
  "content": "**Inhalt**\n\n* [Zugriff auf den Dienst](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HAccessingtheservice)\n* [Datensatz](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HDataset)\n* [Verständnis von Ressourcen und Repräsentationen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HUnderstandingresourcesandrepresentations)\n\t+ [Beziehungen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HRelations)\n\t+ [Das \"HATEOAS\"-Diagramm](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HThe22HATEOAS22Graph)\n* [Interaktion mit der XWiki RESTful API](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HInteractingwiththeXWikiRESTfulAPI)\n\t+ [Authentifizierung](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HAuthentication)\n\t+ [Senden von Repräsentationen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HSendingrepresentations)\n\t+ [Überwindung von Browser-Einschränkungen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HOvercomingbrowserlimitations)\n\t+ [PUT vs POST](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HPUTvsPOST)\n\t+ [Header](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HHeaders)\n* [XWiki RESTful API Dokumentation](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HXWikiRESTfulAPIDocumentation)\n\t+ [Root-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HRootresources)\n\t+ [Space-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HSpaceresources)\n\t+ [Seiten-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HPageresources)\n\t+ [Tag-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HTagresources)\n\t+ [Kommentar-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HCommentsresources)\n\t+ [Anhang-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HAttachmentsresources)\n\t+ [Objekt-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HObjectresources)\n\t+ [Klassen-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HClassresources)\n\t+ [Job-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HJobresources)\n\t+ [Lokalisierungs-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HLocalizationresources)\n\t+ [Icon-Theme-Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HIconThemeresources)\n\t+ [Andere Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HOtherresources)\n* [Benutzerdefinierte Ressourcen](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HCustomresources)\n\t+ [In Wiki-Seiten](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HInWikiPages)\n\t+ [In Java](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HInJava)\n* [Generieren einer REST-URL für eine Ressource](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HGenerateaRESTURLforaresource)\n* [Verwendung der RESTful API](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HUsingtheRESTfulAPI)\n\t+ [Tutorial](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HTutorial)\n\t+ [Erstellen eines XWiki-Objekts](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HCreatinganXWikiObject)\n\t+ [Formate von Dateien](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HFormatsoffiles)\n* [Beispiele](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HExamples)\n\t+ [Abrufen der Benutzerliste](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HGettingthelistofusers)\n\t+ [Abrufen der Benutzerliste mit XWQL](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HGettingthelistofusersusingXWQL)\n\nXWiki bietet über eine API, die auf HTTP-Semantik basiert, d. h. eine RESTful API, feinkörnigen Zugriff auf praktisch jedes Element. Auf dieser Seite finden Sie alle Details, um diese API optimal zu nutzen, sowie Anweisungen zur vollständigen Nutzung ihres Potenzials.\n\n# Zugriff auf den Dienst\n\nStandardmäßig ist der Einstiegspunkt der XWiki RESTful API unter der folgenden URI verwurzelt:\n\n   \n  http://host:port/xwiki/rest  \n Alle in der [XWiki RESTful API Dokumentation](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI#HXWikiRESTfulAPIDocumentation) beschriebenen Ressourcenverweise sollten relativ zu dieser URL verstanden werden.\n\nZum Beispiel können die /wikis-Ressourcen auf einem Server, der auf localhost auf Port 8080 läuft, mit der folgenden URL abgerufen werden: http://localhost:8080/xwiki/rest/wikis\n\nZusätzlich zum Abrufen von Inhalten im XML-Format können Sie diese auch im JSON-Format abrufen, indem Sie den Parameter ?media=json in die URL einfügen. Zum Beispiel: http://localhost:8080/xwiki/rest/wikis?media=json\n\n# Datensatz\n\nDieser Abschnitt enthält eine kurze und hochrangige Beschreibung des XWiki-Datensatzes, der als Grundlage für die Präsentation von Ressourcen und deren zugehörigen Operationen dienen soll.\n\nXWiki hat **Seiten**, die in **Spaces** organisiert sind. Jede **Seite** ist in mehreren **Versionen** (ihre **Historie**) und **Übersetzungen** verfügbar. Übersetzte Seiten haben ihre eigenen **Versionen** und **Historien**, die unabhängig sind. Jede Seite kann **Anhänge** haben. Jeder Anhang hat seine eigene **Historie**. Anhänge werden unter allen verschiedenen Übersetzungen einer Seite geteilt (d. h. derselbe Satz von Anhängen ist unabhängig von der Seitensprache derselbe). Seiten können ein oder mehrere **Objekte** haben. Objekte sind Instanzen einer **Klasse**, die eine Reihe von **Eigenschaften** enthält. Einige Objekte können direkt als erstklassige Entitäten ausgesetzt werden, wie **Kommentare** und **Tags**. Objekte, wie Anhänge, werden unter allen Seitenübersetzungen geteilt.\n\n# Verständnis von Ressourcen und Repräsentationen\n\n\"Ein wichtiges Konzept in REST ist die Existenz von Ressourcen (Quellen spezifischer Informationen), von denen jede mit einem globalen Bezeichner (z. B. einer URI in HTTP) referenziert wird. Um diese Ressourcen zu manipulieren, kommunizieren die Komponenten des Netzwerks (Benutzeragenten und Ursprungsserver) über eine standardisierte Schnittstelle (z. B. HTTP) und tauschen Repräsentationen dieser Ressourcen aus (die tatsächlichen Dokumente, die die Informationen übermitteln).\" ([Wikipedia](http://en.wikipedia.org/wiki/Representational_State_Transfer#Central_principle))\n\nRessourcen in XWiki sind Seiten, Anhänge, Objekte, Eigenschaften, Spaces und alle *Dinge*, die wir im vorherigen Abschnitt beschrieben haben. XWiki hat eine Standardmethode, um die Informationen über diese Ressourcen zu übermitteln, d. h. durch Bereitstellung gut definierter XML-Repräsentationen, die alle mit der Ressource verbundenen Informationen im XML-Format enthalten. Dieses Format wird mithilfe einer [XML-Schema-Definitionsdatei](https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-model/src/main/resources/xwiki.rest.model.xsd) beschrieben.\n\nNatürlich kann dieselbe Ressource auf viele verschiedene Arten dargestellt werden. Dies muss noch dokumentiert werden.\n\nEin weiterer wichtiger Aspekt von Repräsentationen ist, dass sie nützliche Informationen zum Verlinken verwandter Ressourcen enthalten. Dies ist eine Umsetzung des *Hypermedia As The Engine Of The Application State (HATEOAS)*-Prinzips. In XML-Repräsentationen werden diese Informationen durch das <link>-Tag übermittelt. Dieses Tag hat zwei wichtige Parameter: **rel** und **href**. **rel** gibt die \"Semantik\" des Links an, während **href** die URI der verlinkten Ressource ist.\n\nZum Beispiel können wir in der Repräsentation einer Seite Links zu den Kommentaren, Tags, Anhängen haben, die unabhängige Ressourcen sind, die mit der aktuellen Seite verbunden sind. Diese Links werden in der XML-Repräsentation einer Seite bereitgestellt und ermöglichen es einem Client, zu verwandten Ressourcen zu navigieren... So wie wir es jeden Tag tun, wenn wir auf einen Link in einer Webseite klicken.\n\n![representation](https://www.xwiki.org/xwiki/bin/download/Documentation/UserGuide/Features/XWikiRESTfulAPI/representation?height=430&rev=1.1)\n\n## Beziehungen\n\nDie verfügbaren Beziehungen, die Sie in den XML-Ressourcenrepräsentationen finden könnten, sind die folgenden:\n\n\n\n| Rel | Semantik |\n| --- | --- |\n| http://www.xwiki.org/rel/wikis | Die Repräsentation, die die Liste der virtuellen Wikis enthält. |\n| http://www.xwiki.org/rel/spaces | Die Repräsentation, die die Liste der Spaces in einem Wiki enthält. |\n| http://www.xwiki.org/rel/pages | Die Repräsentation, die die Liste der Seiten in einem Space enthält. |\n| http://www.xwiki.org/rel/translation | Die Repräsentation, die eine Übersetzung einer Seite enthält. |\n| http://www.xwiki.org/rel/page | Die Repräsentation für eine Seite. |\n| http://www.xwiki.org/rel/space | Die Repräsentation für einen Space. |\n| http://www.xwiki.org/rel/parent | Die Repräsentation für die Seite, die das übergeordnete Element der aktuellen Ressource ist. |\n| http://www.xwiki.org/rel/home | Die Repräsentation für die Seite, die das Zuhause der aktuellen Ressource ist. |\n| http://www.xwiki.org/rel/attachmentData | Die Repräsentation der tatsächlichen Anhangsdaten. |\n| http://www.xwiki.org/rel/comments | Die Repräsentation der Liste der Kommentare, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/attachments | Die Repräsentation der Liste der Anhänge, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/objects | Die Repräsentation der Liste der Objekte, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/object | Die Repräsentation für ein Objekt. |\n| http://www.xwiki.org/rel/classes | Die Repräsentation der Liste der Klassen, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/history | Die Repräsentation der Liste der Historie-Informationen, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/class | Die Repräsentation für eine Klasse. |\n| http://www.xwiki.org/rel/property | Die Repräsentation für eine Eigenschaft. |\n| http://www.xwiki.org/rel/propertyValues | Die Repräsentation für die Liste der Eigenschaftswerte. |\n| http://www.xwiki.org/rel/properties | Die Repräsentation der Liste der Eigenschaften, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/modifications | Die Repräsentation der Liste der Änderungen, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/children | Die Repräsentation der Liste der Kinder, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/tags | Die Repräsentation der Liste der Tags, die mit der aktuellen Ressource verbunden sind. |\n| http://www.xwiki.org/rel/tag | Die Repräsentation eines Tags. |\n| http://www.xwiki.org/rel/search | Die Repräsentation für eine Suchressource. |\n| http://www.xwiki.org/rel/syntaxes | Die Repräsentation für eine Syntaxressource. |\n\nBeziehungen werden als URIs definiert, um eine Art Namensraum bereitzustellen. Derzeit sind diese URIs keine Links zu echten Webseiten, aber in Zukunft könnten sie auf Beschreibungen ihrer Semantik auf tatsächlichen Webseiten (oder anderen Arten von Repräsentationen) verweisen.\n\n## Das \"HATEOAS\"-Diagramm\n\nUm die Beziehungen zwischen Ressourcen besser zu verstehen, können Sie sich dieses [Diagramm](https://www.xwiki.org/xwiki/bin/download/Documentation/UserGuide/Features/XWikiRESTfulAPI/XWikiHATEOAS.pdf?rev=1.2) ansehen, das alle in der XWiki RESTful API verfügbaren Ressourcen und die Beziehungen zwischen ihnen darstellt. In diesem Diagramm sind Knoten [URI-Vorlagen](http://code.google.com/p/uri-templates/), die Klassen von Ressourcen darstellen. Kanten sind die möglichen Links, die Sie in einer Repräsentation einer bestimmten Ressource finden könnten, und ihre zugehörigen Beziehungen.\n\nDieses Diagramm zeigt, dass ein Client, der vom API-Einstiegspunkt aus startet, alle Ressourcen nur durch das Folgen der in den Repräsentationen bereitgestellten Links (und durch Kenntnis ihrer Semantik) navigieren und entdecken kann. Genau so wurde dieses Diagramm erstellt.\n\n# Interaktion mit der XWiki RESTful API\n\nDie XWiki RESTful API ist über HTTP zugänglich, daher können Sie im Prinzip jeden Client verwenden, der in der Lage ist, \"HTTP zu sprechen\", um mit ihr zu interagieren. Sogar ein Webbrowser!  \nWenn Sie komplexere Programme schreiben möchten, können Sie eine HTTP-Bibliothek für Ihre bevorzugte Sprache herunterladen (z. B. <http://hc.apache.org/>), siehe [diesen Beitrag](https://www.xwiki.org/xwiki/bin/view/Blog/Use%20the%20Apache%20HTTP%20library%20to%20interact%20with%20the%20XWiki%20RESTful%20API) von [Mohamed Boussaa](https://www.xwiki.org/xwiki/bin/view/XWiki/mouhb).\n\nJava-Benutzer können das [JAXB](http://jaxb.java.net/)-Framework und seinen [XJC-Bindungskompilator](http://jaxb.java.net/2.2.4/docs/xjc.html) nutzen, um Domänenobjektmodelle direkt aus der [XML-Schema-Definition](https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-rest/xwiki-platform-rest-model/src/main/resources/xwiki.rest.model.xsd) zu generieren und diese zum Serialisieren und Deserialisieren von XML-Repräsentationen zu verwenden.\n\nWenn Sie diesen Ansatz (Apache HTTP Client + JAXB) verwenden, werden Sie Code wie diesen schreiben:\n\nimport javax.xml.bind.JAXBContext;  \nimport javax.xml.bind.Unmarshaller;  \n  \nimport org.apache.commons.httpclient.HttpClient;  \nimport org.apache.commons.httpclient.methods.GetMethod;  \nimport org.xwiki.rest.model.jaxb.Page;  \n  \n...  \nHttpClient httpClient = new HttpClient();  \nJAXBContext context = JAXBContext.newInstance(\"org.xwiki.rest.model.jaxb\");  \nUnmarshaller unmarshaller = context.createUnmarshaller();  \n  \nGetMethod getMethod = new GetMethod(\"http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main/pages/WebHome\");  \ngetMethod.addRequestHeader(\"Accept\", \"application/xml\");  \nhttpClient.executeMethod(getMethod);  \n  \nPage page = (Page) unmarshaller.unmarshal(getMethod.getResponseBodyAsStream());Und Sie haben alle Informationen über die Main.WebHome-Seite im Page-Objekt, ohne direkt mit XML umgehen zu müssen.\n\nAufgrund der großen Vielfalt an verfügbaren HTTP-Frameworks bieten wir kein vollständiges Tutorial zur Verwendung dieser an. Um Ihnen jedoch zu zeigen, wie Sie mit der XWiki RESTful API interagieren können, verwenden wir [curl](http://curl.haxx.se): einen Standard-HTTP-Client für die Befehlszeile, der eine Schnittstelle zu allen Funktionen des HTTP-Protokolls bietet.\n\nDurch die Verwendung von curl wäre das vorherige Beispiel:\n\n$ curl http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main/pages/WebHome  \n  \n<page xmlns=\"http://www.xwiki.org\">  \n <link rel=\"http://www.xwiki.org/rel/space\" href=\"http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Main\"/>  \n        ...## Authentifizierung\n\nDie XWiki RESTful API unterstützt mehrere Arten der Authentifizierung:\n\n* **HTTP BASIC Auth**: Sie geben Ihre Anmeldeinformationen mithilfe des Authorization HTTP-Headers an.\n* **XWiki-Sitzung**: Wenn Sie in XWiki angemeldet sind und die von der Authentifizierungsmechanismus bereitgestellten Cookies verwenden, werden Sie auch bei der XWiki RESTful API authentifiziert. Dies ist nützlich, wenn Sie beispielsweise mit der API über das XMLHttpRequest-Objekt eines Browsers mit Javascript interagieren.\n* **Benutzerdefinierte Authentifizierungsmethoden:** Wenn Sie einen benutzerdefinierten Authentifizierer auf"
}