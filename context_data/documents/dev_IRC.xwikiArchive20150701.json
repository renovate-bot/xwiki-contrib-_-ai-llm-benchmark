{"id": "dev:IRC.xwikiArchive20150701", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150701", "title": "IRC Archive for channel #xwiki on 01 July 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n01:45\u00a0<vmassol>\u00a0has joined #xwiki  \n01:49\u00a0<vmassol>\u00a0has quit  \n02:05\u00a0<OSIMasson>\u00a0has quit  \n02:26\u00a0<[d\\_\\_d]>\u00a0has quit  \n02:37\u00a0<[d\\_\\_d]>\u00a0has joined #xwiki  \n02:57\u00a0<OSIMasson>\u00a0has joined #xwiki  \n03:11\u00a0<xwikiorg\\_guest\\_2>\u00a0has joined #xwiki  \n03:14\u00a0<xwikiorg\\_guest\\_2>\u00a0Quick question. I deleteed the out of the box Navigation control and want to recreate it. I recreate the control i the panels and used the panel wizard to add it to the left sidebar. But it \\*only\\* seems to display contents while in the panel wizard administration page. When I save the changes and view the space normally, the new Nav panel is empty. Any idea what may be wrong?  \n03:14\u00a0<OSIMasson>\u00a0has quit  \n03:16\u00a0<xwikiorg\\_guest\\_2>\u00a0Example: http://puu.sh/iIV6x/f225e09e05.png (content viewable while administering the panel wizard)  \n03:16\u00a0<xwikiorg\\_guest\\_2>\u00a0Example: http://puu.sh/iIV9N/fd4b2cbdf6.png (content not viewable while viewing the space)  \n03:17\u00a0<xwikiorg\\_guest\\_2>\u00a0is now known as <ryanewtaylor>  \n03:42\u00a0<ryanewtaylor>\u00a0New clues. When I use the FF debugger I see that http://localhost:8080/xwiki/bin/view/Main/tree-finder.js cannot be found when not administering a page. However, when administering a page this is found http://localhost:8080/xwiki/bin/admin/Main/tree-finder.js  \n03:54\u00a0<ryanewtaylor>\u00a0has quit  \n06:50\u00a0<mflorea>\u00a0has joined #xwiki  \n08:13\u00a0<cjd>\u00a0has quit  \n08:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:42\u00a0<mflorea>\u00a0has quit  \n08:45\u00a0<msmeria>\u00a0has joined #xwiki  \n08:50\u00a0<woshilapin>\u00a0has quit  \n09:03\u00a0<vmassol>\u00a0has joined #xwiki  \n09:04\u00a0<Trefex>\u00a0has joined #xwiki  \n09:07\u00a0<mflorea>\u00a0has joined #xwiki  \n09:13\u00a0<mflorea>\u00a0has quit  \n09:13\u00a0<mflorea1>\u00a0has joined #xwiki  \n09:20\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:25\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:28\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:39\u00a0<cjd>\u00a0has joined #xwiki  \n10:06\u00a0<Slashman>\u00a0has joined #xwiki  \n10:22\u00a0<lucaa>\u00a0has joined #xwiki  \n10:43\u00a0<msmeria1>\u00a0has joined #xwiki  \n10:44\u00a0<msmeria>\u00a0has quit  \n11:47\u00a0<evalica>\u00a0has joined #xwiki  \n11:57\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:07\u00a0<evalica>\u00a0has quit  \n12:15\u00a0<evalica>\u00a0has joined #xwiki  \n12:27\u00a0<cjd>\u00a0has quit  \n12:58\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:19\u00a0<msmeria>\u00a0has joined #xwiki  \n13:22\u00a0<msmeria1>\u00a0has quit  \n13:25\u00a0<lucaa>\u00a0has quit  \n13:46\u00a0<woshilapin>\u00a0has quit  \n14:06\u00a0<OSIMasson>\u00a0has joined #xwiki  \n14:21\u00a0<msmeria1>\u00a0has joined #xwiki  \n14:22\u00a0<msmeria>\u00a0has quit  \n14:37\u00a0<cjd>\u00a0has joined #xwiki  \n14:38\u00a0<woshilapin>\u00a0has joined #xwiki  \n14:42\u00a0<lucaa>\u00a0has joined #xwiki  \n15:44\u00a0<tillo>\u00a0has quit  \n15:44\u00a0<lynxt>\u00a0has quit  \n16:10\u00a0<vmassol>\u00a0ok I've done a POC so that typing http://localhost:8080/xwiki/bin/view/Main/Test2/ leads to Main.Test2.WebHome  \n16:11\u00a0<vmassol>\u00a0one problem is that it's no longer possible to create Main.Test2 pages (ie terminal pages)  \n16:12\u00a0<vmassol>\u00a0(since I do a forward to Main.Test2.WebHome and thus clicking edit creates Main.Test2.WebHome)  \n16:13\u00a0<vmassol>\u00a0hmm no strike that  \n16:14\u00a0<vmassol>\u00a0we're supposed to show the Add Page UI when clicking edit (if the user is advanced)  \n16:14\u00a0<vmassol>\u00a0so it is still possible :)  \n16:14\u00a0<vmassol>\u00a0(just forgot that momentarily)  \n16:14\u00a0<vmassol>\u00a0hmmm  \n16:14\u00a0<vmassol>\u00a0s/hmmm/  \n16:16\u00a0<vmassol>\u00a0so in that Add Page UI we'll need to handle when the passed page name is \"WebHome\"  \n16:19\u00a0<vmassol>\u00a0if you're interested this is my POC: https://gist.githubusercontent.com/vmassol/3d1ae62c28f438eb5aa1/raw/b2558f102593ca989d4ebbc6468d5bab87ba5aa8/gistfile1.txt  \n16:22\u00a0<vmassol>\u00a0we have a problem for /view/Test for example since that leads to view.Test (and thus view.Test.WebHome). I can change the parsing to lead to Main.Test (and thus to Main.Test.WebHome) but I don't see how to lead to Test.WebHome...  \n16:24\u00a0<gsmeria>\u00a0has quit  \n16:24\u00a0<vmassol>\u00a0tmortagne, Enygma`: any idea?  \n16:25\u00a0<vmassol>\u00a0basically in the standard URL scheme I've implemented only NS and the ND part if in XWikiAction ATM  \n16:25\u00a0<vmassol>\u00a0I guess this could mean that we need to implement ND in the URL module which means it would need DB access\u2026. which I wanted to avoid...  \n16:26\u00a0<vmassol>\u00a0s/if in XWikiAction/is in XWikiAction  \n16:27\u00a0<msmeria1>\u00a0has quit  \n16:28\u00a0<vmassol>\u00a0so I'm being tempted once more to introduce some different resource types for ND\u2026 (ie equivalent of \"bin\", \"wiki\" for ND shortcuts)  \n16:31\u00a0<KermitTheFragger>\u00a0has quit  \n16:32\u00a0<vmassol>\u00a0note that it would have some consequences: 1) each url scheme will need to implement that too (instead of only once in XWikiAction) and 2) it's more performant since there's no DB check, 3) users may find it a bit strange to see the various resource types in URLs  \n16:33\u00a0<OSIMasson>\u00a0has quit  \n16:36\u00a0<Trefex1>\u00a0has joined #xwiki  \n16:38\u00a0<evalica1>\u00a0has joined #xwiki  \n16:46\u00a0<evalica>\u00a0has quit  \n16:46\u00a0<Trefex>\u00a0has quit  \n16:55\u00a0<vmassol>\u00a0actually the new resource type would not work with Short URLs. And BTW I think that short URL don't work with path-based multiwiki right now  \n16:55\u00a0<vmassol>\u00a0strike that last part, it does  \n16:55\u00a0<vmassol>\u00a0(you just have a long url for path-based)  \n16:55\u00a0<vmassol>\u00a0(you cannot remove the /wiki/ type)  \n16:56\u00a0<vmassol>\u00a0so only the main wiki can have short urls...  \n16:57\u00a0<vmassol>\u00a0so with special resource types for ND short url would work but only for one type  \n16:58\u00a0<vmassol>\u00a0which would be a problem  \n17:04\u00a0<tmortagne>\u00a0has quit  \n17:05\u00a0<vmassol>\u00a0ok I could do a special handling when we have just a single element after the action\u2026 and consider it's a space and not a page\u2026  \n17:10\u00a0<Enygma`>\u00a0I thought we agreed that if the user types a manual URL of /A/B he will be allowed to create the terminal document  \n17:10\u00a0<Enygma`>\u00a0and from the UI we will ensure that he always lands on /A/B/  \n17:11\u00a0<Enygma`>\u00a0so that underneath there is just NS  \n17:11\u00a0<Enygma`>\u00a0and ND is only exposed by the UI  \n17:11\u00a0<Enygma`>\u00a0otherwise, if we go beyond this, we can not really support terminal documents anymore, for the reasons you mentioned above  \n17:14\u00a0<mflorea1>\u00a0has quit  \n17:14\u00a0<vmassol>\u00a0this is ok Enygma`  \n17:14\u00a0<vmassol>\u00a0\"(just forgot that momentarily)\"  \n17:14\u00a0<vmassol>\u00a0it's the part after that causes problems  \n17:15\u00a0<vmassol>\u00a0ie the part that starts with \"we have a problem for /view/Test for example \"  \n17:15\u00a0<vmassol>\u00a0but I tihnk I'll just handle it as a special case in the url parser and we'll put that in the backward compat part of release notes  \n17:17\u00a0<Enygma`>\u00a0yes, I mean the user should land on /view/Test/... however, /view/Test is a problem even right now IMO, since right now it resolves to view.Test which is plain wrong  \n17:17\u00a0<vmassol>\u00a0Enygma`: I can fix that easily  \n17:17\u00a0<vmassol>\u00a0(as I mentioned above)  \n17:17\u00a0<vmassol>\u00a0but it would still be a problem  \n17:18\u00a0<Enygma`>\u00a0so, IMO, that is a bug and we should fix it accordingly...  \n17:18\u00a0<Enygma`>\u00a0Main.Test you mean?  \n17:18\u00a0<vmassol>\u00a0you're mixing 2 things  \n17:18\u00a0<vmassol>\u00a0yes normally view/Test should lead to Main.Test  \n17:18\u00a0<vmassol>\u00a0but that wouldn't work with ND  \n17:18\u00a0<Enygma`>\u00a0why?  \n17:18\u00a0<Enygma`>\u00a0that would just be a terminal document  \n17:18\u00a0<Enygma`>\u00a0and we`re fine with it  \n17:18\u00a0<vmassol>\u00a0yes which is why it wouldn't work with ND  \n17:18\u00a0<vmassol>\u00a0:)  \n17:19\u00a0<Enygma`>\u00a0I don`t understand  \n17:19\u00a0<vmassol>\u00a0when you type view/Test in ND you expect to go to Test.WebHome  \n17:19\u00a0<Enygma`>\u00a0no, that`s the thing... you don`t \\*type\\* /view/Test :)  \n17:19\u00a0<vmassol>\u00a0you do  \n17:19\u00a0<Enygma`>\u00a0if you do, then you know what you are doing  \n17:19\u00a0<Enygma`>\u00a0and understand that you are in NS  \n17:19\u00a0<vmassol>\u00a0otherwise we woumdn't have this discussion at all  \n17:19\u00a0<vmassol>\u00a0:)  \n17:19\u00a0<vmassol>\u00a0and we can forget all that I'm doing  \n17:20\u00a0<vmassol>\u00a0much simpler for sure!  \n17:20\u00a0<Enygma`>\u00a0so you mean regular users manipulate the URL?  \n17:20\u00a0<vmassol>\u00a0ofc  \n17:20\u00a0<vmassol>\u00a0that's even part of the user stories  \n17:20\u00a0<Enygma`>\u00a0I bet they can`t even guess the current URL, most of them :)  \n17:22\u00a0<vmassol>\u00a0in any case we need some logic in the URL and it wouldn't be nice that all URL point to WebHome except when you're not in a nested space  \n17:22\u00a0<Enygma`>\u00a0about the user stories... normally we should be perfectly fine with /A/, however, if you were to migrate from a previous system and you want to keep your URLs, then indeed /A is not the same as /A/  \n17:22\u00a0<Enygma`>\u00a0so you would need the action to do the work :/  \n17:22\u00a0<vmassol>\u00a0I would have loved for /A/ to be fine :)  \n17:22\u00a0<vmassol>\u00a0(for the use'r)  \n17:23\u00a0<vmassol>\u00a0\\*user  \n17:23\u00a0<vmassol>\u00a0but we can't expect that  \n17:24\u00a0<vmassol>\u00a0btw the same exists for /Test (without \"view\" in front)  \n17:25\u00a0<vmassol>\u00a0(right now that goes to the default space)  \n17:25\u00a0<vmassol>\u00a0these 2 are edge cases so I don't think they'd be any major issue  \n17:30\u00a0<vmassol>\u00a0Enygma`: we have a story that says \"As a wiki user, I can move my document from its current path such that it no longer has a parent document and has a top-level path, so that I can move sub aspects out from my team's document path.\"  \n17:30\u00a0<vmassol>\u00a0so the user will expect that /view/MyDoc is going to display his doc  \n17:50\u00a0<Enygma`>\u00a0I know  \n17:50\u00a0<Enygma`>\u00a0I just was not aware that we really want /view/A instead of /view/A/  \n17:50\u00a0<Enygma`>\u00a0now I get it  \n17:51\u00a0<vmassol>\u00a0ok  \n18:30\u00a0<vmassol>\u00a0Enygma`: I don't like to have some special condition in the url module for nested doc but I don't see a way out of this ATM  \n18:31\u00a0<vmassol>\u00a0if you have a suggestion please let me know\u2026 we can brainstorm together too if you want  \n18:31\u00a0<vmassol>\u00a0(skype call I mean)  \n18:45\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n18:55\u00a0<vmassol>\u00a0ok I have something working  \n18:55\u00a0<vmassol>\u00a0I'm not very proud of the code though  \n18:56\u00a0<cjd>\u00a0/topic 18:55:48 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0@vmassol | I'm not very proud of the code though  \n18:56\u00a0<cjd>\u00a0oops  \n18:56\u00a0<vmassol>\u00a0yeah we're simulating nested documents when what we have in the model is nested spaces  \n18:56\u00a0<vmassol>\u00a0and we're offering simulated URLs too  \n18:57\u00a0<vmassol>\u00a0so this can only lead to \"hack\"s in the code...  \n18:57\u00a0<cjd>\u00a0C:\\Sounds\\\\ Good\\\\ To\\\\ Me\\\\  \n18:57\u00a0<vmassol>\u00a0:)  \n19:10\u00a0<Trefex1>\u00a0has quit  \n19:23\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:28\u00a0<mflorea>\u00a0has joined #xwiki  \n19:28\u00a0<woshilapin>\u00a0has quit  \n19:29\u00a0<abusenius\\_>\u00a0has quit  \n19:32\u00a0<mflorea>\u00a0has quit  \n19:47\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n20:06\u00a0<cjd>\u00a0has quit  \n20:35\u00a0<lucaa>\u00a0has quit  \n20:37\u00a0<cjd>\u00a0has joined #xwiki  \n20:43\u00a0<lynxt>\u00a0has joined #xwiki  \n20:44\u00a0<tillo>\u00a0has joined #xwiki  \n20:46\u00a0<cjd>\u00a0has quit  \n20:47\u00a0<lucaa1>\u00a0has joined #xwiki  \n21:13\u00a0<lucaa1>\u00a0has quit  \n21:16\u00a0<gdelhumeau>\u00a0has quit  \n21:21\u00a0<lynxt>\u00a0has quit  \n21:22\u00a0<tillo>\u00a0has quit  \n21:44\u00a0<lynxt>\u00a0has joined #xwiki  \n21:44\u00a0<tillo>\u00a0has joined #xwiki  \n22:06\u00a0<Bugen\\_do>\u00a0has quit  \n22:21\u00a0<cjd>\u00a0has joined #xwiki  \n22:35\u00a0<woshilapin>\u00a0has joined #xwiki  \n22:46\u00a0<Slashman>\u00a0has quit  \n22:48\u00a0<gsmeria>\u00a0has joined #xwiki  \n23:32\u00a0<gsmeria>\u00a0has quit  \n23:51\u00a0<gsmeria>\u00a0has joined #xwiki\n"}