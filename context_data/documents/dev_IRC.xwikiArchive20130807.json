{"id": "dev:IRC.xwikiArchive20130807", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130807", "title": "IRC Archive for channel #xwiki on 07 August 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:50\u00a0<polx>\u00a0has quit  \n01:33\u00a0<sdumitriu1>\u00a0has quit  \n01:33\u00a0<kstuart>\u00a0has quit  \n04:29\u00a0<Denis>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n05:51\u00a0<Denis>\u00a0has quit  \n06:20\u00a0<sdumitriu>\u00a0has quit  \n06:20\u00a0<sdumitriu>\u00a0has joined #xwiki  \n08:00\u00a0<mflorea>\u00a0has joined #xwiki  \n08:31\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:31\u00a0<polx>\u00a0has joined #xwiki  \n08:58\u00a0<evalica>\u00a0has joined #xwiki  \n09:01\u00a0<msmeria>\u00a0has joined #xwiki  \n09:36\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:44\u00a0<vmassol>\u00a0has joined #xwiki  \n10:20\u00a0<kstuart>\u00a0has joined #xwiki  \n10:38\u00a0<Slashman>\u00a0has joined #xwiki  \n10:51\u00a0<vmassol>\u00a0has quit  \n10:51\u00a0<vmassol1>\u00a0has joined #xwiki  \n11:30\u00a0<polx\\_>\u00a0has joined #xwiki  \n11:34\u00a0<polx>\u00a0has quit  \n11:34\u00a0<polx\\_>\u00a0is now known as <polx>  \n12:30\u00a0<polx>\u00a0has quit  \n12:30\u00a0<polx>\u00a0has joined #xwiki  \n12:59\u00a0<vmassol1>\u00a0has quit  \n13:00\u00a0<vmassol>\u00a0has joined #xwiki  \n13:25\u00a0<Denis>\u00a0has joined #xwiki  \n15:15\u00a0<sdumitriu>\u00a0mflorea: I have a question about the gwtrpc servlet mapping  \n15:16\u00a0<sdumitriu>\u00a0Currently it maps using extensions, to \\*.gwtrpc  \n15:16\u00a0<sdumitriu>\u00a0This works because nothing else is mapped to /resources  \n15:17\u00a0<sdumitriu>\u00a0The servlet specification says that path mappings have priority over extension mappings  \n15:18\u00a0<sdumitriu>\u00a0And that we can't combine path and extension in the same mapping  \n15:18\u00a0<mflorea>\u00a0yes  \n15:18\u00a0<sdumitriu>\u00a0So if we map another servlet to / or /resources, then gwtrpc stops working  \n15:18\u00a0<vmassol>\u00a0AFAIK there's no other mapping matching \\*.gwtrc  \n15:18\u00a0<vmassol>\u00a0yes  \n15:19\u00a0<mflorea>\u00a0sdumitriu: what is the question?  \n15:19\u00a0<sdumitriu>\u00a0I don't know how GWT works, could we use /gwtrpc as a prefix to the mapping, instead of extensions?  \n15:19\u00a0<vmassol>\u00a0hehe...  \n15:19\u00a0<mflorea>\u00a0:)  \n15:19\u00a0<vmassol>\u00a0the question I asked mflorea  \n15:19\u00a0<vmassol>\u00a02 days ago ;)  \n15:20\u00a0<sdumitriu>\u00a0Ah  \n15:20\u00a0<sdumitriu>\u00a0:)  \n15:20\u00a0<vmassol>\u00a0it would help indeed  \n15:20\u00a0<vmassol>\u00a0sdumitriu: fyi I'm going to make a proposal soon to support short url natively  \n15:21\u00a0<vmassol>\u00a0(still working on it)  \n15:22\u00a0<mflorea>\u00a0first of all I don't think this is GWT's fault, if the servlet spec supports extension mapping then why not using it. As for the reason I'm using it is because GWT provides annotations that mapps automatically a GWT-RPC services to a URL (\\*.gwtrpc). There's no such annotation for path prefix and so I would have to manually configure each of my GWTRPC services which is not nice I don't want to do it  \n15:24\u00a0<sdumitriu>\u00a0But the extension could be kept  \n15:24\u00a0<mflorea>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/cleaner/HTMLCleaner.java#L34  \n15:24\u00a0<sdumitriu>\u00a0Just that instead of starting with /resources, the URL would start with /gwtrpc or /gwtrpc/resources  \n15:25\u00a0<mflorea>\u00a0I don't control that, the URL is relative to the URL of the module and the module is loaded from /resources/..  \n15:25\u00a0<sdumitriu>\u00a0K  \n15:25\u00a0<vmassol>\u00a0that should work  \n15:25\u00a0<vmassol>\u00a0you could have something like:  \n15:26\u00a0<mflorea>\u00a0http://www.gwtproject.org/javadoc/latest/com/google/gwt/user/client/rpc/RemoteServiceRelativePath.html  \n15:26\u00a0<mflorea>\u00a0\u00a0\u00a0GWT.getModuleBaseURL() + value()  \n15:26\u00a0<vmassol>\u00a0\u00a0\u00a0/resources/.../gwtrpc/.....gwtrpc  \n15:26\u00a0<vmassol>\u00a0no?  \n15:27\u00a0<mflorea>\u00a0again, I don't compute that URL, it is computed by the annotation  \n15:27\u00a0<mflorea>\u00a0ah  \n15:27\u00a0<sdumitriu>\u00a0I think the module has both services and static files in the same directory  \n15:27\u00a0<sdumitriu>\u00a0So it might not know how to get the static files then  \n15:28\u00a0<mflorea>\u00a0sdumitriu: there are no services on the file system  \n15:28\u00a0<mflorea>\u00a0it's just an URL  \n15:28\u00a0<sdumitriu>\u00a0I know, that's what I'm saying  \n15:28\u00a0<sdumitriu>\u00a0It's a virtual directory in the URL  \n15:28\u00a0<mflorea>\u00a0@RemoteServiceRelativePath(\"HTMLCleaner.gwtrpc\")  \n15:28\u00a0<mflorea>\u00a0@RemoteServiceRelativePath(\"/gwtrpc/HTMLCleaner\")  \n15:28\u00a0<sdumitriu>\u00a0With virtual \\*.gwtrpc \"files\" that are actually a service, next to real files on the filesystem  \n15:29\u00a0<vmassol>\u00a0mflorea: then the mapping would be /resources/\\*/gwtrpc/\\*  \n15:29\u00a0<vmassol>\u00a0which is path mapping and longer than /resources so winning  \n15:29\u00a0<mflorea>\u00a0in web.xml?  \n15:29\u00a0<vmassol>\u00a0yes  \n15:31\u00a0<mflorea>\u00a0A string beginning with a \u2018/\u2019 character and ending with a \u2018/\\*\u2019 suffix is used for path mapping.  \n15:32\u00a0<mflorea>\u00a0it doesn't say if \\* is allowed inside  \n15:33\u00a0<mflorea>\u00a0and I don't see any examples that use \\* inside  \n15:34\u00a0<vmassol>\u00a0indeed  \n15:34\u00a0<vmassol>\u00a0SRV.11.2 Specification of Mappings  \n15:34\u00a0<vmassol>\u00a0http://www.scribd.com/doc/23278127/107/SRV-11-2-Specification-of-Mappings  \n15:35\u00a0<vmassol>\u00a0how many .gwtrpc urls do we have?  \n15:36\u00a0<vmassol>\u00a0(full path mapping would work, if we have a few it could work, if we have a lot it might be too painful to list all)  \n15:36\u00a0<mflorea>\u00a0html cleaner, syntax conversion, link, import, macro, genera wiki service  \n15:37\u00a0<vmassol>\u00a0since gwt doesn't support dynamicity anyway  \n15:37\u00a0<mflorea>\u00a0I don't like it  \n15:37\u00a0<vmassol>\u00a0yeah it's not perfect  \n15:37\u00a0<vmassol>\u00a0anyway I have a global solution  \n15:38\u00a0<vmassol>\u00a0which is to do basically what https://code.google.com/p/urlrewritefilter/ does but in our own Filter and have only 1 mapping in web.xml (the mapping for that filter)  \n15:38\u00a0<vmassol>\u00a0and do all mapping dynamically in the code  \n15:38\u00a0<vmassol>\u00a0(in platform-url module)  \n15:38\u00a0<vmassol>\u00a0this is the only way to support several URL schemes  \n15:38\u00a0<vmassol>\u00a0natively  \n15:39\u00a0<vmassol>\u00a0without having the user make changes and understand all the wires  \n15:39\u00a0<vmassol>\u00a0this is the proposal I need to send...  \n15:39\u00a0<vmassol>\u00a0(that I was mentioning above)  \n15:39\u00a0<vmassol>\u00a0in that way we could have a real url module that really controls URLs  \n16:05\u00a0<sdumitriu>\u00a0has quit  \n16:06\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:40\u00a0<vmassol>\u00a0Denis: isn't it you who developed http://www.xwiki.org/xwiki/bin/view/References/ADETEM ?  \n16:41\u00a0<vmassol>\u00a0ah no  \n16:41\u00a0<vmassol>\u00a0it's nearbee  \n16:41\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n16:52\u00a0<evalica>\u00a0has quit  \n16:55\u00a0<mflorea>\u00a0has quit  \n16:56\u00a0<evalica>\u00a0has joined #xwiki  \n16:57\u00a0<evalica>\u00a0has quit  \n17:16\u00a0<tmortagne1>\u00a0has joined #xwiki  \n17:18\u00a0<tmortagne>\u00a0has quit  \n17:28\u00a0<vmassol>\u00a0anyone interested in helping out for 5.2 to implement \"Add UI extension point in key places\"?  \n18:02\u00a0<polx\\_>\u00a0has joined #xwiki  \n18:04\u00a0<polx>\u00a0has quit  \n18:04\u00a0<polx\\_>\u00a0is now known as <polx>  \n18:10\u00a0<vmassol>\u00a0has quit  \n18:53\u00a0<KermitTheFragger>\u00a0has quit  \n18:58\u00a0<GuillaumeF>\u00a0has quit  \n18:58\u00a0<tmortagne1>\u00a0has quit  \n19:14\u00a0<abusenius>\u00a0has joined #xwiki  \n19:19\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n19:23\u00a0<msmeria>\u00a0has quit  \n19:28\u00a0<Slashman>\u00a0has quit  \n19:33\u00a0<polx>\u00a0has quit  \n19:52\u00a0<vmassol>\u00a0has joined #xwiki  \n20:01\u00a0<vmassol>\u00a0has quit  \n20:08\u00a0<vmassol>\u00a0has joined #xwiki  \n20:21\u00a0<vmassol>\u00a0has quit  \n21:01\u00a0<Mariah>\u00a0has joined #xwiki  \n22:43\u00a0<chalx>\u00a0has joined #xwiki  \n23:20\u00a0<vmassol>\u00a0has joined #xwiki  \n23:21\u00a0<vmassol>\u00a0has quit  \n23:22\u00a0<Mariah>\u00a0everybody  \n23:23\u00a0<Mariah>\u00a0i cant attach images  \n23:23\u00a0<Mariah>\u00a0:(  \n23:28\u00a0<cjd>\u00a0what happens when you try?  \n23:40\u00a0<xwikibot>\u00a0has joined #xwiki\n"}