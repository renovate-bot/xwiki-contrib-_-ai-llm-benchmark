{"id": "dev:IRC.xwikiArchive20130704", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130704", "title": "IRC Archive for channel #xwiki on 04 July 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<evalica>\u00a0has quit  \n00:43\u00a0<sdumitriu1>\u00a0has quit  \n04:38\u00a0<kstuart>\u00a0has quit  \n04:39\u00a0<kstuart>\u00a0has joined #xwiki  \n05:27\u00a0<kstuart>\u00a0has quit  \n07:07\u00a0<msmeria>\u00a0has joined #xwiki  \n07:31\u00a0<mflorea>\u00a0has joined #xwiki  \n07:32\u00a0<vmassol>\u00a0has joined #xwiki  \n08:25\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:47\u00a0<evalica>\u00a0has joined #xwiki  \n09:30\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:07\u00a0<sburjan>\u00a0has joined #xwiki  \n10:50\u00a0<tmortagne>\u00a0has quit  \n10:51\u00a0<msmeria>\u00a0has quit  \n10:54\u00a0<msmeria>\u00a0has joined #xwiki  \n11:03\u00a0<vmassol>\u00a0restartig jenkins  \n11:11\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:15\u00a0<Enygma`>\u00a0has quit  \n11:20\u00a0<evalica>\u00a0has quit  \n11:20\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:20\u00a0<evalica>\u00a0has joined #xwiki  \n11:20\u00a0<evalica>\u00a0has quit  \n11:25\u00a0<lynxt\\_>\u00a0has joined #xwiki  \n11:25\u00a0<itools>\u00a0has joined #xwiki  \n11:26\u00a0<gdelhumeau>\u00a0has quit  \n11:30\u00a0<evalica>\u00a0has joined #xwiki  \n11:30\u00a0<Denis>\u00a0has joined #xwiki  \n11:32\u00a0<mflorea>\u00a0has quit  \n11:32\u00a0<lynxt>\u00a0has quit  \n11:32\u00a0<lynxt\\_>\u00a0is now known as <lynxt>  \n11:32\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:38\u00a0<itools>\u00a0Hello! Livetable macro in our XWiki (version 3.5) returns only first result of query. What to do?  \n11:39\u00a0<mflorea>\u00a0has joined #xwiki  \n11:39\u00a0<vmassol>\u00a0itools: check the returned JSON  \n11:39\u00a0<vmassol>\u00a0and verify it's valid  \n11:39\u00a0<vmassol>\u00a0using jsonlint  \n11:47\u00a0<vmassol>\u00a0itools: see http://extensions.xwiki.org/xwiki/bin/view/Extension/Livetable+Macro#HHowtodebuganissuewiththeLivetabledisplay  \n11:50\u00a0<itools>\u00a0vmassol: Json is corerct. May be I should explain what I want to do :) We have list of users, every user has several ip and mac addresses assosiated with him. Addresses are represented as objects of class TechSupport.AddressPool. I do set($columns = [\"fullname\", \"type\", \"macaddress\", \"ipaddress\"]); ...; $options ={ \"className\":\"TechSupport.AddressPool\" }; \u00a0livetable(\"addresses\" $columns $columnsProperties $options). But it returns only first object attached  \n11:52\u00a0<vmassol>\u00a0if you have one entry then the json is not correct :)  \n11:52\u00a0<vmassol>\u00a0ah  \n11:52\u00a0<vmassol>\u00a0yes  \n11:52\u00a0<vmassol>\u00a0I unsersand`  \n11:53\u00a0<vmassol>\u00a0so  \n11:53\u00a0<vmassol>\u00a0the usual best practice is one object per doc  \n11:53\u00a0<vmassol>\u00a0that's what the default json generation will return  \n11:53\u00a0<vmassol>\u00a0ie LivetableResults  \n11:53\u00a0<vmassol>\u00a0if you really really want to use several objects  \n11:53\u00a0<vmassol>\u00a0then you'll need to use a custom JSON page  \n11:54\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Livetable+Macro#HCustomJSON  \n11:54\u00a0<itools>\u00a0ok, thanks, will read about it  \n11:54\u00a0<vmassol>\u00a0I recommend using one object per doc  \n11:54\u00a0<vmassol>\u00a0that'll make it much simpler for you  \n11:54\u00a0<vmassol>\u00a0hmm maybe your use case isn't good for that though  \n11:55\u00a0<vmassol>\u00a0yes I think you might want some custom JSON for your use case  \n12:24\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n12:54\u00a0<mflorea>\u00a0has quit  \n12:56\u00a0<itools>\u00a0vmassol: I'm using http://extensions.xwiki.org/xwiki/bin/view/Extension/List+all+objects as a reference, but I can't understand how can I retrieve properties of my custom class  \n12:56\u00a0<vmassol>\u00a0itools: see http://platform.xwiki.org/xwiki/bin/view/DevGuide/APIGuide  \n13:04\u00a0<itools>\u00a0vmassol: It seams to me that page will not help. I've got a query set ($result = $services.query.xwql(\"select obj.className, obj.name, doc.date from BaseObject as obj, Document as doc \u00a0where obj.className like :objectFilter and obj.name like :pageFilter and obj.name \u00a0= doc.fullName $hiddenClause $sortClause\").bindValue(\"objectFilter\", \"TechSupport.AddressPool\").bindValue(\"pageFilter\", $pageFilter).setLimit($limit).setOffset($offset).execute()). How can I re  \n13:04\u00a0<vmassol>\u00a0yes indeed using a query to retrieve all data is nice  \n13:05\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/DatabaseSchema might help to undertand the dabatase schema  \n13:05\u00a0<camil7>\u00a0has joined #xwiki  \n13:08\u00a0<camil7>\u00a0Hi, is bugfixing day today, and can I ask about XWIKI-7403 and XWIKI-9232 (and our pull requests)?  \n13:20\u00a0<vmassol>\u00a0camil7: regarding XWIKI-7403, I can apply it, did you update your PR?  \n13:20\u00a0<camil7>\u00a0yes, actually Denis Gotthans (\"nedgot\") did it  \n13:20\u00a0<vmassol>\u00a0ok I'll apply it in 10 minutes, finishing something first  \n13:21\u00a0<camil7>\u00a0yes, thanks!  \n13:21\u00a0<camil7>\u00a0btw we did it on the 5.0.x-stable branch, which is now outdated, I guess .... maybe we should have done this on a branch directly from the master or the like ?  \n13:22\u00a0<vmassol>\u00a0master is better indeed  \n13:22\u00a0<vmassol>\u00a0but it should apply fine I guess, we'll see  \n13:22\u00a0<camil7>\u00a0yes, ok, thanks for the info  \n13:28\u00a0<camil7>\u00a0looks good :)  \n13:34\u00a0<vmassol>\u00a0camil7: done  \n13:34\u00a0<vmassol>\u00a0hope it works :)  \n13:34\u00a0<camil7>\u00a0vmassol: yes, thanks! \u00a0should work for sure .... ;)  \n13:35\u00a0<camil7>\u00a0if it does not, you know whom to blame ;)  \n13:35\u00a0<vmassol>\u00a0:)  \n13:37\u00a0<vmassol>\u00a0camil7: what's your name IRL?  \n13:38\u00a0<camil7>\u00a0vmassol: Clemens Robbenhaar. \u00a0However it was Denis Gotthans (nedgot) \u00a0who provided the bugfix  \n13:38\u00a0<vmassol>\u00a0ok, you're from espresto too?  \n13:38\u00a0<camil7>\u00a0same as the issue reporter  \n13:39\u00a0<camil7>\u00a0yes, both from espresto  \n13:39\u00a0<vmassol>\u00a0very cool to see you guys send PR :)  \n13:39\u00a0<camil7>\u00a0I am just the proxy because he is a bit hesitating, thinking his English is not good enough  \n13:40\u00a0<camil7>\u00a0well, I hope we can send you a few more in the future  \n13:40\u00a0<vmassol>\u00a0maybe you'll become committers one day! After you swamp us with PR and we're fed up to apply them and we'll let you do it directly :)  \n13:40\u00a0<camil7>\u00a0yes, but first lets get the existing patches straight ;)  \n13:40\u00a0<vmassol>\u00a0yeah :)  \n13:41\u00a0<camil7>\u00a0who can review XWIKI-9232 \u00a0? actually Denis G. also wrote a test for it ... even though the Lucene search is on the slow road to deprecation (I guess) he would like someone to look at it  \n13:42\u00a0<camil7>\u00a0needed nearly two days for him to figure out how that test stuff works (and what did not work) \u00a0...  \n13:42\u00a0<vmassol>\u00a0I could but might be better if tmortagne looks at it since he's working on search ATM  \n13:42\u00a0<camil7>\u00a0ah, ok, thanks  \n13:42\u00a0<vmassol>\u00a0if not, I'll do it later today  \n13:44\u00a0<camil7>\u00a0yes, this would be very appreciated, thanks!  \n14:12\u00a0<tmortagne>\u00a0camil7: looking at it  \n14:13\u00a0<tmortagne>\u00a0(and yes it would be better to work on master)  \n14:13\u00a0<camil7>\u00a0tmortagne: thanks!  \n14:14\u00a0<camil7>\u00a0and, yes, next time were branch.patch from master  \n14:14\u00a0<mflorea>\u00a0has joined #xwiki  \n14:27\u00a0<tmortagne>\u00a0camil7: another detail: it would be better to put in each commit a reference to the related jira issue (that way when you go to the jira issue you can see all related commits)  \n14:29\u00a0<camil7>\u00a0yep, we forgot about that for the XWIKI-9232 and only remembered it after pushing it :-/  \n14:35\u00a0<camil7>\u00a0thanks, looks good :)  \n14:55\u00a0<itools>\u00a0from BaseObject as obj, Document as doc, StringProperty as macaddress  \n14:55\u00a0<itools>\u00a0where obj.name=doc.fullName \u00a0and obj.id=macaddress.id and macaddress.name='macaddress'  \n14:56\u00a0<vmassol>\u00a0itools: you should really use XWQL  \n14:56\u00a0<vmassol>\u00a0it's so much simpler  \n14:57\u00a0<itools>\u00a0vmassol: sorry, can you explain what do you mean?  \n14:58\u00a0<vmassol>\u00a0!search XWQL  \n14:58\u00a0<tmortagne>\u00a0itools: see http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module  \n14:58\u00a0<vmassol>\u00a0no luck :)  \n14:58\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module  \n14:59\u00a0<tmortagne>\u00a0vmassol: code wiki still exist ?  \n14:59\u00a0<tmortagne>\u00a0the irc bot should probably not search in it at least  \n14:59\u00a0<vmassol>\u00a0yep I'll exclude  \n15:01\u00a0<vmassol>\u00a0I won't do it\u2026 too hard for now  \n15:02\u00a0<vmassol>\u00a0note that the WikiSearchBotListener should use SOLR now  \n15:02\u00a0<msmeria>\u00a0has quit  \n15:13\u00a0<tmortagne>\u00a0vmassol: do we really need to keep code wiki open ?  \n15:13\u00a0<tmortagne>\u00a0especially since you can't really access it anymore AFAIK  \n15:14\u00a0<tmortagne>\u00a0if we remove it then the ircbot won't find anything in it  \n15:15\u00a0<vmassol>\u00a0tmortagne: trying to remember why we kept it  \n15:15\u00a0<vmassol>\u00a0I thought it was just a redirect  \n15:15\u00a0<vmassol>\u00a0but if the bot finds it it must still exist  \n15:15\u00a0<vmassol>\u00a0http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerCode  \n15:15\u00a0<vmassol>\u00a0\"XWiki Code. It's now deprecated and has been replaced by the \"extensions\" wiki. However we're keeping it since it has a home page redirecting to the \"extensions\" wiki and there are probably still lots of references to the \"code\" wiki around on the web.\"  \n15:16\u00a0<vmassol>\u00a0maybe it's time to remove it now  \n15:16\u00a0<vmassol>\u00a0but I remember seeing references to it on web sites  \n15:16\u00a0<vmassol>\u00a0that's why I kept it  \n15:17\u00a0<vmassol>\u00a0we could remove it from the DB and keep an apache redirect  \n15:18\u00a0<vmassol>\u00a0one example: http://www.wikimatrix.org/forum/p1873-2008-04-04  \n15:19\u00a0<tmortagne>\u00a0vmassol: don't we have a redirect directly in apache ?  \n15:19\u00a0<tmortagne>\u00a0for code -> extensions  \n15:19\u00a0<tmortagne>\u00a0the example on http://www.wikimatrix.org/forum/p1873-2008-04-04 does not end up on code wiki  \n15:20\u00a0<tmortagne>\u00a0so removing it won't make anything worst  \n15:22\u00a0<vmassol>\u00a0hmm indeed, there must be a redirect  \n15:22\u00a0<vmassol>\u00a0ok removing the code wiki  \n15:22\u00a0<vmassol>\u00a0ok everyone?  \n16:05\u00a0<kstuart>\u00a0has joined #xwiki  \n16:06\u00a0<Overthere>\u00a0has joined #xwiki  \n16:07\u00a0<Overthere>\u00a0has quit  \n16:08\u00a0<adk\\_>\u00a0has joined #xwiki  \n16:09\u00a0<adk\\_>\u00a0Hi is it possible to get a list of anchors (eg headings) in a given Xwiki page / set of pages  \n16:10\u00a0<vmassol>\u00a0adk\\_: you need to get the page's content in the form of an AST  \n16:10\u00a0<vmassol>\u00a0doc.getXDOM()  \n16:11\u00a0<vmassol>\u00a0from java? from a script?  \n16:13\u00a0<adk\\_>\u00a0which ever is easiest, the final output I'm trying to generate is a plain text of all the possible links  \n16:13\u00a0<adk\\_>\u00a0to then use as input for autocomplete  \n16:14\u00a0<adk\\_>\u00a0I'll have a google around on the basis of your pointer thanks  \n16:14\u00a0<vmassol>\u00a0you want to do autocomplete? Hmm you should check this out:  \n16:14\u00a0<vmassol>\u00a0https://github.com/xwiki-contrib/wiki-editor-devtools  \n16:14\u00a0<vmassol>\u00a0(adk\\_)  \n16:15\u00a0<vmassol>\u00a0FTR I'm planning to fully finish and package it during July  \n16:15\u00a0<vmassol>\u00a0(packaged as a clean extension)  \n16:18\u00a0<adk\\_>\u00a0will do looks interesting  \n16:18\u00a0<adk\\_>\u00a0although in the short term the outputs actually destined for \u00a0emacs  \n16:21\u00a0<mflorea>\u00a0sdumitriu: ping  \n16:26\u00a0<vmassol>\u00a0wow  \n16:26\u00a0<vmassol>\u00a0the job failures is growing by the minute and is more and more impressive  \n16:26\u00a0<vmassol>\u00a0http://ci.xwiki.org/  \n16:41\u00a0<jbwiv\\_>\u00a0has joined #xwiki  \n16:43\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n16:43\u00a0<jbwiv\\_>\u00a0good morning guys. We have a requirement to write a \"daily briefing\" application, where each of our team leads will log in each morning and create a briefing page with 5 different bits of information specific to their teams. This briefing will also pull in Company News, Location News, and HR News from forms populated by other groups. Once populated, the user will print the rendered version, and the application should keep the ren  \n16:43\u00a0<jbwiv\\_>\u00a0dered version around with the data as it existed that day (even though Company News may change, it shouldn't change again for that specific briefing)  \n16:44\u00a0<jbwiv\\_>\u00a0We have a custom version of this already developed but it's lacking. I was thinking about using XWiki to develop this as a showcase of its features  \n16:44\u00a0<jbwiv\\_>\u00a0however, I'm not 100% sure it's a good fit  \n16:44\u00a0<jbwiv\\_>\u00a0my questions are:  \n16:44\u00a0<jbwiv\\_>\u00a01. Does this sound like a viable application for XWiki?  \n16:45\u00a0<jbwiv\\_>\u00a02. Would you recommend using the XWiki data model to store this data, or should we simply connect to an external database and store it there (and just use XWiki for authentication and rendering)?  \n16:46\u00a0<vmassol>\u00a0haven't full read it all yet but  \n16:46\u00a0<vmassol>\u00a01. XWiki is turing-complete so yes :)  \n16:46\u00a0<jbwiv\\_>\u00a0vmassol: lol  \n16:46\u00a0<jbwiv\\_>\u00a0but so is assembly ;-)  \n16:46\u00a0<vmassol>\u00a0yep  \n16:46\u00a0<vmassol>\u00a0:)  \n16:47\u00a0<jbwiv\\_>\u00a0but I thought if I could really pull this off well in xwiki, it'll help me sell its capabilities to our employees  \n16:48\u00a0<vmassol>\u00a0seems a good fit and seems the xwiki model would work fine  \n16:48\u00a0<jbwiv\\_>\u00a0I think it would consist of an Authoring Template, assuming I could pull default data into that template from other completed data (Company News, etc), and then an ability to store the completed form  \n16:48\u00a0<jbwiv\\_>\u00a0at least, if I understand the developer guide so far I think this is what would be done  \n16:49\u00a0<jbwiv\\_>\u00a0vmassol: is there a sample application which does a similar thing ( i know nothing is going to be \\*too\\* similar ) you'd recommend me reviewing?  \n16:50\u00a0<jbwiv\\_>\u00a0also, as an aside, \"XWiki.XWikiClasses\" doesn't show up in our search results, even though I can navigate to it manually. any idea why that might be?  \n16:57\u00a0<sburjan>\u00a0has quit  \n16:58\u00a0<jbwiv\\_>\u00a0hmm...never mind. I think the FAQ example will get me far enough along. Didn't realize there was one which wasn't app-in-5-minutes  \n16:59\u00a0<vmassol>\u00a0sorry busy on something else  \n17:06\u00a0<jbwiv\\_>\u00a0vmassol: no worries at all ;)  \n17:11\u00a0<sdumitriu1>\u00a0has quit  \n17:12\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n17:24\u00a0<vmassol>\u00a0mflorea: did you know about http://jira.xwiki.org/browse/XE-1261#comment-76668 ?  \n17:26\u00a0<mflorea>\u00a0vmassol: doesn't seem to be related to the WYSIWYG editor or its tests  \n17:28\u00a0<npm\\_>\u00a0has joined #xwiki  \n17:30\u00a0<npm>\u00a0has quit  \n17:50\u00a0<cjd>\u00a0has joined #xwiki  \n17:57\u00a0<sburjan`>\u00a0has joined #xwiki  \n18:00\u00a0<tmortagne>\u00a0has quit  \n18:02\u00a0<tekzilla>\u00a0hi, i just used the \"Large XAR import\" plugin, and an articles history is there from the first revision, but the creation date shown in the page is the import-date  \n18:02\u00a0<gdelhumeau>\u00a0has quit  \n18:02\u00a0<tekzilla>\u00a0is this to be expected, any way around it ?  \n18:03\u00a0<adk\\_>\u00a0has quit  \n18:12\u00a0<tekzilla>\u00a0the data was from version 3.0 by the way, i`m on the current version now  \n18:25\u00a0<itools>\u00a0has left #xwiki  \n18:28\u00a0<camil7>\u00a0I guess that is because of saving the document via the \"official API\" - which sets the \"last modified\" as a side effect  \n18:32\u00a0<tekzilla>\u00a0camil7: thanks for your input, i was thinking the same, because it seems the pages ARE actually recreated on import  \n18:32\u00a0<tekzilla>\u00a0but i assumed, as the full history is present, that xwiki would change the creation date to something appropriate  \n18:33\u00a0<tekzilla>\u00a0seems it wouldnt be too hard to write a little script that resets each articles creation-date, but i`n ever gotten into that for xwiki..  \n18:35\u00a0<camil7>\u00a0obviously there is no \"setCreationDate\" is the offical XWiki doc api, so the normal \u00a0(small xar) importer \u00a0instead does something nasty in some code in a a dark corner to fix that  \n18:36\u00a0<tekzilla>\u00a0aaah ok thanks, so the normal import would actually give me the expected result  \n18:36\u00a0<camil7>\u00a0no Idea how to apply that trick to a groovy page; if it just needs a a pragmatic solution for some migration I would read / write the creationdates from the database directly  \n18:37\u00a0<tekzilla>\u00a0yeah seems like a reasonable way if its not possible in the API anyway  \n18:38\u00a0<tekzilla>\u00a0but i guess i`ll try chopping my export in smaller pieces with another extension  \n18:38\u00a0<tekzilla>\u00a0and then try the normal import function (which doesnt let me upload XARs larger than 32mb, regardless of the XWiki setting)  \n18:39\u00a0<camil7>\u00a0\"upload XARs larger than 32mb\" -> is that some database limit ?  \n18:40\u00a0<tekzilla>\u00a0damn, it might even be in this case, i switched the sql server! thanks for pointing that out  \n18:40\u00a0<camil7>\u00a0I think I uploaded import/xars larger than that but then I routinely confuse MB and GB - seems I am getting old ;)  \n18:41\u00a0<tekzilla>\u00a0on previous tries, i actually changed the sql-server settings and got the same error from xwiki  \n18:41\u00a0<camil7>\u00a0ah, the I hope it helps to have a word with the sql server config  \n18:41\u00a0<tekzilla>\u00a0yeah i`ll try talking some sense into it :)  \n18:42\u00a0<camil7>\u00a0ok, I hope that helps. me gotta run home now ...  \n18:42\u00a0<camil7>\u00a0has quit  \n18:47\u00a0<evalica>\u00a0has quit  \n18:48\u00a0<evalica>\u00a0has joined #xwiki  \n19:35\u00a0<mflorea>\u00a0has quit  \n19:38\u00a0<kstuart>\u00a0has quit  \n19:50\u00a0<evalica>\u00a0has quit  \n19:53\u00a0<bouquetf>\u00a0has quit  \n20:11\u00a0<vmassol>\u00a0has quit  \n20:12\u00a0<vmassol>\u00a0has joined #xwiki  \n20:42\u00a0<kstuart>\u00a0has joined #xwiki  \n20:43\u00a0<tdelafosse>\u00a0has quit  \n21:01\u00a0<npm\\_>\u00a0is now known as <npm>  \n21:04\u00a0<vmassol>\u00a0restarting a6  \n21:07\u00a0<evalica>\u00a0has joined #xwiki  \n21:08\u00a0<vmassol>\u00a0I've restarted all agents  \n21:11\u00a0<evalica>\u00a0has quit  \n21:23\u00a0<evalica>\u00a0has joined #xwiki  \n21:30\u00a0<evalica>\u00a0has quit  \n21:52\u00a0<kstuart>\u00a0has quit  \n22:00\u00a0<abusenius>\u00a0has joined #xwiki  \n22:49\u00a0<sdumitriu1>\u00a0has quit  \n23:10\u00a0<abusenius>\u00a0has quit\n"}