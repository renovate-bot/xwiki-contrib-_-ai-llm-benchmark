{"id": "dev:IRC.xwikiArchive20120607", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120607", "title": "IRC Archive for channel #xwiki on 07 June 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:08\u00a0<jvdrean>\u00a0has joined #xwiki  \n00:46\u00a0<jvdrean>\u00a0has quit  \n01:02\u00a0<polx>\u00a0has quit  \n01:07\u00a0<polx>\u00a0has joined #xwiki  \n01:22\u00a0<polx>\u00a0has quit  \n01:23\u00a0<polx>\u00a0has joined #xwiki  \n01:23\u00a0<polx>\u00a0has quit  \n02:08\u00a0<Shaddox\\_>\u00a0has quit  \n02:26\u00a0<npm>\u00a0has quit  \n02:26\u00a0<npm>\u00a0has joined #xwiki  \n03:08\u00a0<ssavi>\u00a0sdumitriu:  \n03:09\u00a0<ssavi>\u00a0Can you please tell me what is the limit of page content when creating a page from REST or XMLRPC  \n03:09\u00a0<ssavi>\u00a0?  \n03:14\u00a0<@sdumitriu>\u00a0Hi ssavi  \n03:14\u00a0<@sdumitriu>\u00a0At least 200 000 characters  \n03:14\u00a0<@sdumitriu>\u00a0But that depends on the database  \n03:15\u00a0<ssavi>\u00a0Am using mysql. Is there a way to increase it  \n03:16\u00a0<@sdumitriu>\u00a0Yes, you can do that directly in the table definition in mysql on your local instance  \n03:16\u00a0<@sdumitriu>\u00a0Or do you want to increase that limit in general in XWiki?  \n03:17\u00a0<ssavi>\u00a0I have a page with 44000 characters  \n03:17\u00a0<ssavi>\u00a0Error number 3201 in 3: Exception while saving document xwiki:Alpha.FirstTestPage  \n03:17\u00a0<ssavi>\u00a0Wrapped Exception: Failed to commit or rollback transaction. Root cause []%  \n03:19\u00a0<ssavi>\u00a0sdumitriu: In general in XWiki and will do that for mysql too  \n03:25\u00a0<ssavi>\u00a0sdumitriu: Looks like the problem is at the XWiki side..  \n03:26\u00a0<ssavi>\u00a0In the xwikidoc table, XWD\\_CONTENT has few rows with char length more than 40k  \n03:26\u00a0<ssavi>\u00a0it looks like XWiki is not allowing to create  \n04:03\u00a0<@sdumitriu>\u00a0Can you check the value for max\\_allowed\\_packet in my.cnf?  \n04:51\u00a0<ssavi>\u00a0has quit  \n06:10\u00a0<ssavi>\u00a0has joined #xwiki  \n06:14\u00a0<ssavi>\u00a0has quit  \n07:03\u00a0<Denis>\u00a0has joined #xwiki  \n07:05\u00a0<ssavi>\u00a0has joined #xwiki  \n07:05\u00a0<ssavi>\u00a0phone  \n07:05\u00a0<Denis1>\u00a0has quit  \n07:06\u00a0<ssavi>\u00a0or skype  \n07:06\u00a0<ssavi>\u00a0has left #xwiki  \n07:07\u00a0<ssavi>\u00a0has joined #xwiki  \n07:09\u00a0<ssavi>\u00a0sdumitriu: Hi  \n07:10\u00a0<@sdumitriu>\u00a0Hi ssavi  \n07:12\u00a0<ssavi>\u00a0sdumitriu: I have a page with 44000 characters. Throwing this error..  \n07:12\u00a0<ssavi>\u00a0\u00a0Error number 3201 in 3: Exception while saving document xwiki:Alpha.FirstTestPage  \n07:12\u00a0<ssavi>\u00a0Wrapped Exception: Failed to commit or rollback transaction. Root cause []%  \n07:13\u00a0<@sdumitriu>\u00a0Can you check the value for max\\_allowed\\_packet in my.cnf?  \n07:14\u00a0<mflorea>\u00a0has joined #xwiki  \n07:17\u00a0<ssavi>\u00a0sdumitriu: Could you please tell me where my.cnf file is?  \n07:17\u00a0<ssavi>\u00a0I couldn't find it  \n07:18\u00a0<@sdumitriu>\u00a0Are you on Linux?  \n07:19\u00a0<ssavi>\u00a0yes  \n07:20\u00a0<@sdumitriu>\u00a0Try /etc/mysql/my.cnf  \n07:20\u00a0<ssavi>\u00a0i checked under etc/my.cnf. It is empty  \n07:21\u00a0<ssavi>\u00a0it is set to 32MB  \n07:22\u00a0<@sdumitriu>\u00a0Hm...  \n07:22\u00a0<@sdumitriu>\u00a0Can you pastebin the whole stacktrace?  \n07:31\u00a0<ssavi>\u00a0sdumitriu: http://pastebin.com/eDskm1pP  \n07:31\u00a0<@sdumitriu>\u00a0Are you sure that's all?  \n07:32\u00a0<ssavi>\u00a0yep  \n07:49\u00a0<mflorea>\u00a0has quit  \n08:08\u00a0<mflorea>\u00a0has joined #xwiki  \n08:27\u00a0<polx>\u00a0has joined #xwiki  \n08:37\u00a0<tekzilla>\u00a0has quit  \n08:39\u00a0<tekzilla>\u00a0has joined #xwiki  \n08:57\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r18ffc65\u000f https://github.com/xwiki/xwiki-platform/commit/18ffc659e6b0cc80f93e874c041593d2e475affc \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/resources/ApplicationResources.properties :\u000f XWIKI-7862: Display all document changes in the merge conflic resolution UI - http://git.io/c-GJPw  \n08:57\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f stable-4.1.x\u000f \\* r4361345\u000f https://github.com/xwiki/xwiki-platform/commit/436134508e6333fac887a9ee623abc18933af00f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/resources/ApplicationResources.properties :\u000f XWIKI-7862: Display all document changes in the merge conflic resolution UI - http://git.io/d3G3-g  \n09:01\u00a0<Inge->\u00a0names  \n09:03\u00a0<vmassol>\u00a0has joined #xwiki  \n09:38\u00a0<ssavi>\u00a0has left #xwiki  \n09:46\u00a0<+mflorea>\u00a0vmassol: if you have a few minutes, I have an interesting problem.  \n09:46\u00a0<vmassol>\u00a0mflorea: oops\u2026 I'm always afraid of interesting problems ;)  \n09:46\u00a0<+mflorea>\u00a0:)  \n09:47\u00a0<vmassol>\u00a0I have a few ones too btw regarding windows7 ;)  \n09:47\u00a0<vmassol>\u00a0anyway shoot  \n09:47\u00a0<+mflorea>\u00a0I want to write a selenium test for http://jira.xwiki.org/browse/XWIKI-7855  \n09:48\u00a0<vmassol>\u00a0testing for stff that don't exist is always lengthy  \n09:48\u00a0<vmassol>\u00a0(takes time I mean)  \n09:49\u00a0<vmassol>\u00a0I have added an api for that  \n09:49\u00a0<vmassol>\u00a0ok what's your question? :)  \n09:49\u00a0<+mflorea>\u00a0I don't want to hardcode the technical pages that are created by AppWithinMinues, so I want to tests that only the non-technical pages are displayed, and for this I want to reply on the space index  \n09:49\u00a0<vmassol>\u00a0ok  \n09:49\u00a0<vmassol>\u00a0in general  \n09:49\u00a0<+mflorea>\u00a0so I want to assert that the application space index lists only the application home page and the application entries (I create one just for test)  \n09:50\u00a0<vmassol>\u00a0it's better to not draw unnecessary depenecnies  \n09:50\u00a0<+mflorea>\u00a0well, that's the issue, I rely on the space index  \n09:50\u00a0<+mflorea>\u00a0now  \n09:50\u00a0<vmassol>\u00a0why don't  \n09:50\u00a0<vmassol>\u00a0IMO it's much simpler to dependon the tech page names  \n09:50\u00a0<vmassol>\u00a0and verify if the page exists  \n09:50\u00a0<vmassol>\u00a0by navigating to them for ex  \n09:51\u00a0<vmassol>\u00a0so that you don't rely on any other feature  \n09:51\u00a0<vmassol>\u00a0(like livetable)  \n09:51\u00a0<vmassol>\u00a0we should have a testutil api for testing if a page exists IMO  \n09:51\u00a0<vmassol>\u00a0(don't know if we have one already or not)  \n09:51\u00a0<+mflorea>\u00a0so you're saying that I should check if the technical pages created by AWM are marked as hiddden  \n09:52\u00a0<vmassol>\u00a0that seems the most straightforward way  \n09:52\u00a0<vmassol>\u00a0and that's what you said your test is supposed to verify ;)  \n09:53\u00a0<vmassol>\u00a0even though most func tests are currently in XE  \n09:53\u00a0<+mflorea>\u00a0I don't like it because (1) it hardcodes the technical pages in test, and if at some point AWM creates a new technical page the test won't fail  \n09:53\u00a0<vmassol>\u00a0in the future they need to be moved to their modules in platform  \n09:53\u00a0<vmassol>\u00a0and thus have minimum deps on others  \n09:53\u00a0<+mflorea>\u00a0and (2) it's not UI focused  \n09:53\u00a0<vmassol>\u00a0now  \n09:54\u00a0<vmassol>\u00a0the app within minutes already depend on the livetable UI module  \n09:54\u00a0<+mflorea>\u00a0yes  \n09:54\u00a0<vmassol>\u00a0so its test can use it  \n09:54\u00a0<vmassol>\u00a0what i'm saying  \n09:54\u00a0<vmassol>\u00a0is that your test is going to take very very long to execute  \n09:54\u00a0<vmassol>\u00a0like several minutes  \n09:54\u00a0<vmassol>\u00a0if you do it the way you want  \n09:55\u00a0<vmassol>\u00a0instead of a few seconds  \n09:55\u00a0<vmassol>\u00a0because asserting something that doesn't exist takes all the timeout period  \n09:55\u00a0<vmassol>\u00a0hmmm actually that's not true  \n09:55\u00a0<vmassol>\u00a0forget that  \n09:55\u00a0<vmassol>\u00a0provided the livetable is loaded you don't need to wait more  \n09:55\u00a0<vmassol>\u00a0but you need to be careful to sue the the \"notwait\" api  \n09:55\u00a0<+mflorea>\u00a0well no, I'm going to assert that the livetable has only 2 rows: home page and the entry I just created  \n09:56\u00a0<vmassol>\u00a0that's not safe  \n09:56\u00a0<vmassol>\u00a0if AWM creates 3 pages  \n09:56\u00a0<vmassol>\u00a0user pages  \n09:56\u00a0<vmassol>\u00a0then the test will fail even though it's normal  \n09:56\u00a0<+mflorea>\u00a0sure, but it will force me to update the test  \n09:56\u00a0<vmassol>\u00a0you have the same kind of stability issue you mentioned  \n09:56\u00a0<vmassol>\u00a0same as for the otehr way around :)  \n09:57\u00a0<+mflorea>\u00a0nop  \n09:57\u00a0<+mflorea>\u00a0if I test for tehnical pages I know the test won't fail  \n09:57\u00a0<vmassol>\u00a0indeed you're right  \n09:57\u00a0<+mflorea>\u00a0i.e. if I test that page X, Y, X are not displayed  \n09:57\u00a0<vmassol>\u00a0ok you've voncinved me  \n09:57\u00a0<+mflorea>\u00a0good, not to the real problem :)  \n09:58\u00a0<+mflorea>\u00a0s/not/now  \n09:58\u00a0<+mflorea>\u00a0I wan to click the space index link  \n09:58\u00a0<+mflorea>\u00a0we have a SpaceIndexPage in xe.pageobjects  \n09:58\u00a0<vmassol>\u00a0side note: you coudl also create a page using the {{documents}} macro  \n09:58\u00a0<+mflorea>\u00a0and I was thinking to create a SpaceMenu pageobject with a method clickDocumentIndex  \n09:58\u00a0<vmassol>\u00a0(with comes in the index ui app)  \n09:59\u00a0<+mflorea>\u00a0hmm  \n09:59\u00a0<vmassol>\u00a0but using the exiting ui is nicer probably  \n09:59\u00a0<+mflorea>\u00a0indeed, but suppose I want to create the SpaceMenu page object  \n09:59\u00a0<vmassol>\u00a0ViewPage should have all apis to click on menu entries  \n09:59\u00a0<+mflorea>\u00a0yes, but here is the issue, SpaceIndex is in xe  \n10:00\u00a0<+mflorea>\u00a0because it is an app  \n10:00\u00a0<vmassol>\u00a0and?  \n10:00\u00a0<+mflorea>\u00a0and more generally, the menu could be dynamic, i.e. an app could add its entry to the space menu  \n10:01\u00a0<+mflorea>\u00a0so we can't have viewPage.getSpaceMenu().clickDocumentIndex()  \n10:01\u00a0<vmassol>\u00a0that's not a problem  \n10:01\u00a0<vmassol>\u00a0we control the environment  \n10:01\u00a0<vmassol>\u00a0your func tests for AWM should be in platform btw  \n10:01\u00a0<vmassol>\u00a0that'll allow you to control even more your env  \n10:01\u00a0<+mflorea>\u00a0yes, but I'm talking more about maven dependnecies  \n10:02\u00a0<vmassol>\u00a0checking where spaceindex is  \n10:02\u00a0<vmassol>\u00a0platform-index  \n10:02\u00a0<vmassol>\u00a0platform-index-ui  \n10:02\u00a0<+mflorea>\u00a0xwiki-platform-test (ViewPage) can't depend on xwiki-platform-index-pageobjects (let's say, where SpaceIndexPage po wold be moved)  \n10:02\u00a0<vmassol>\u00a0so it means you'll need to depend on this app with the maven test scope  \n10:03\u00a0<vmassol>\u00a0ah ok I understand no  \n10:03\u00a0<vmassol>\u00a0now  \n10:03\u00a0<vmassol>\u00a0ViewPage is in platform--test  \n10:03\u00a0<vmassol>\u00a0the solution is simple  \n10:03\u00a0<vmassol>\u00a0and already covered by the strategy I've started implementing  \n10:03\u00a0<vmassol>\u00a0each module in platform is supposed to provide his own pageobjects in its func tests  \n10:04\u00a0<+mflorea>\u00a0so the issue is that we have a generic po ViewPage (or BasePage) that has a menu with links pointing to po defines in other modules  \n10:04\u00a0<vmassol>\u00a0yep but as I said we have a solution for this  \n10:04\u00a0<vmassol>\u00a0\"each module in platform is supposed to provide his own pageobjects in its func tests\"  \n10:04\u00a0<vmassol>\u00a0that'll work right?  \n10:05\u00a0<vmassol>\u00a0you can check xwiki-platform-index-test-pageobjects  \n10:05\u00a0<vmassol>\u00a0right now we have only AllDocsPage in there but we can add more  \n10:05\u00a0<vmassol>\u00a0basically we're coming from a monoliothic app  \n10:05\u00a0<vmassol>\u00a0and now we're moving to several apps  \n10:05\u00a0<+mflorea>\u00a0I don't see how it can work, because you have cyclic dependnecy  \n10:05\u00a0<vmassol>\u00a0why would index ui use AWM?  \n10:06\u00a0<+mflorea>\u00a0no, I mean ViewPage -> SpaceIndex -> ViewPage  \n10:08\u00a0<+mflorea>\u00a0I can write something custom for AWM, but I was thinking that clicking on Document Index links is something generic that some other tests would need  \n10:08\u00a0<vmassol>\u00a0no  \n10:08\u00a0<vmassol>\u00a0viewpage shoudl never call spaceindex  \n10:08\u00a0<sburjan>\u00a0has joined #xwiki  \n10:09\u00a0<+mflorea>\u00a0ok, so this means we can't model the view page top menu  \n10:09\u00a0<vmassol>\u00a0we can but each module contributig his own entries will prvodie his own PO  \n10:09\u00a0<vmassol>\u00a0that's the direction we're taking  \n10:09\u00a0<vmassol>\u00a0(even though we're not there yet ATM)  \n10:24\u00a0<vmassol>\u00a0has quit  \n10:26\u00a0<vmassol>\u00a0has joined #xwiki  \n10:27\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:30\u00a0<jvelo>\u00a0has joined #xwiki  \n11:02\u00a0<abusenius>\u00a0has joined #xwiki  \n11:23\u00a0<jvelo\\_>\u00a0has joined #xwiki  \n11:25\u00a0<jvelo>\u00a0has quit  \n11:25\u00a0<jvelo\\_>\u00a0is now known as <jvelo>  \n11:27\u00a0<lucaa>\u00a0has joined #xwiki  \n11:28\u00a0<vmassol>\u00a0sburjan: I'm changing my mind about the data dir on windows7  \n11:28\u00a0<vmassol>\u00a0instead of %PROGRAMDATA% I think I'm going to swtich to %APPDATA% instead  \n11:29\u00a0<+sburjan>\u00a0yepp, +1 for APPDATA  \n11:29\u00a0<vmassol>\u00a0because %PROGRAMDATA% is for eveyrone and it doesn't make sense that eveyrone has access to xwiki data  \n11:29\u00a0<+sburjan>\u00a0most of apps user APPDATA, at least Firefox, Thunderbird, etc  \n11:29\u00a0<+sburjan>\u00a0\\*use  \n11:29\u00a0<vmassol>\u00a0so the idea is that the user installs XWiki with the user he uses to run xwiki  \n11:29\u00a0<+sburjan>\u00a0and most and best inegrated Windows apps, which can be used by multiple users user APPDATA  \n11:30\u00a0<+sburjan>\u00a0exactly, IMO this is the most flexible and standard way to do a modern installer  \n11:30\u00a0<vmassol>\u00a0this means changing shortcuts too so that only the currnet users has them  \n11:30\u00a0<vmassol>\u00a0xwiki is a server  \n11:30\u00a0<vmassol>\u00a0and it shouldn't be executed by several user anyway IMO  \n11:32\u00a0<+sburjan>\u00a0now the idea is: do you want everyone to be able to install even if they are not admin ? or do you want for each user to has its own database ?  \n11:32\u00a0<+sburjan>\u00a0ok, I see  \n11:32\u00a0<vmassol>\u00a0only one user installs it  \n11:32\u00a0<vmassol>\u00a0but if you really want to install it with several users  \n11:32\u00a0<vmassol>\u00a0each one will have his db  \n11:32\u00a0<vmassol>\u00a0ofc they need to be adin  \n11:32\u00a0<vmassol>\u00a0admin  \n11:33\u00a0<vmassol>\u00a0so that the registry can be modified, etc  \n11:33\u00a0<vmassol>\u00a0but that's ok  \n11:33\u00a0<vmassol>\u00a0fyi I'm installing in %APPDATA%\\XWiki\\${project.version}\\data  \n11:34\u00a0<vmassol>\u00a0to support several versions  \n11:35\u00a0<vmassol>\u00a0now I need to run some bat file during install to change permissions....  \n11:37\u00a0<+sburjan>\u00a0let me present a possible scenario, and you'll chose if it's the best  \n11:38\u00a0<+sburjan>\u00a01) If izpack is able to determine if the user has admin rights, it could propose the default install dir (where the servlet container resides) to be Program Files. if not in his user home. If it is a regular user, the default path to be his home dir  \n11:39\u00a0<+AndreasJonsson>\u00a0The parameter 'templateName' passed to VelocityEngine.evaluate is used for loggin according to the javadoc, but in VelocityMacro.java there is a comment that claims that it is used as a cache key.  \n11:39\u00a0<+sburjan>\u00a02) we will use %APPDATA%\\XWiki\\${project.version}\\data for all users, even if they are admin or not  \n11:39\u00a0<+AndreasJonsson>\u00a0s/loggin/logging/  \n11:39\u00a0<vmassol>\u00a0AndreasJonsson: it's used for both indeed  \n11:39\u00a0<vmassol>\u00a0jaavdoc should be amended  \n11:39\u00a0<vmassol>\u00a0well  \n11:39\u00a0<vmassol>\u00a0the fact that it's used for a cache key is an internal thing  \n11:39\u00a0<+AndreasJonsson>\u00a0Ok, I'll add it to the javadoc comment.  \n11:40\u00a0<vmassol>\u00a0wait  \n11:40\u00a0<vmassol>\u00a0it shouldn't be visible from VelocityEngine  \n11:40\u00a0<+sburjan>\u00a0now this looks almost ok, but what happens if 2 users start their wiki simultaneously .. there will be a port conflict. We might chose a random port if 8080 is already used  \n11:40\u00a0<+AndreasJonsson>\u00a0I don't understand what you mean.  \n11:41\u00a0<vmassol>\u00a0the fact that VelcoityMacro uses the templateName is internal to it  \n11:41\u00a0<vmassol>\u00a0that shouldn't be visible in VelcityEngine  \n11:41\u00a0<+sburjan>\u00a0so basically a combo between %HOMEPATH% and %APPDATA%  \n11:41\u00a0<vmassol>\u00a0so the javadocs are correct  \n11:41\u00a0<+AndreasJonsson>\u00a0Is it VelocityMacro that does the caching?  \n11:42\u00a0<vmassol>\u00a0hmm I don't remember  \n11:42\u00a0<+AndreasJonsson>\u00a0Not the engine?  \n11:42\u00a0<vmassol>\u00a0good point  \n11:42\u00a0<vmassol>\u00a0this needs to be checked  \n11:42\u00a0<vmassol>\u00a0if it's done by the engine then I agree  \n11:42\u00a0<vmassol>\u00a0that the javadoc should mention both  \n11:43\u00a0<+AndreasJonsson>\u00a0\"This name is used internally by Velocity as a cache index key for caching macros.\"  \n11:43\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f master\u000f \\* rca29d4e\u000f https://github.com/xwiki/xwiki-platform/commit/ca29d4edca309748fe66431c8e3ef569f08a466b \u000f/ (4 files in 3 dirs):\u000f XWIKI-7855: Automatically hide technical pages created by AppWithinMinutes - http://git.io/Yg338w  \n11:43\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f stable-4.1.x\u000f \\* r6d2ac66\u000f https://github.com/xwiki/xwiki-platform/commit/6d2ac66f3f2df8ae430a64122af5a26cc9abc0f8 \u000f/ (4 files in 3 dirs):\u000f XWIKI-7855: Automatically hide technical pages created by AppWithinMinutes - http://git.io/t2Aqow  \n11:46\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f master\u000f \\* re52788b\u000f https://github.com/xwiki/xwiki-enterprise/commit/e52788b156aed69276d42cbc132e39d2c3ce6fe3 \u000f/ (4 files in 3 dirs):\u000f XWIKI-7855: Automatically hide technical pages created by AppWithinMinutes - http://git.io/SwrQgg  \n11:46\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:46\u00a0<CIA-117>\u00a0Marius Dumitru Florea\u000f stable-4.1.x\u000f \\* r56a896e\u000f https://github.com/xwiki/xwiki-enterprise/commit/56a896e0b0630ad9d8d7348320ae2f31a71929e5 \u000f/ (4 files in 3 dirs):\u000f XWIKI-7855: Automatically hide technical pages created by AppWithinMinutes - http://git.io/UyvS7A  \n11:56\u00a0<+sburjan>\u00a0vmassol: wdyt ?  \n11:57\u00a0<vmassol>\u00a01) is currently way too complex  \n11:57\u00a0<vmassol>\u00a0I actually don't even undertand 1)  \n11:57\u00a0<+sburjan>\u00a01) is not really consistent  \n11:58\u00a0<+sburjan>\u00a0so what about a combo between %HOMEPATH% and %APPDATA% ?  \n11:58\u00a0<vmassol>\u00a0what combo?  \n11:58\u00a0<+sburjan>\u00a0no matter if the user is admin or not  \n11:58\u00a0<+sburjan>\u00a0XWiki installs in %HOMEPATH% and data is in %APPDATA%  \n11:58\u00a0<vmassol>\u00a0no  \n11:58\u00a0<vmassol>\u00a0the right dir program files  \n11:59\u00a0<+sburjan>\u00a0but that will require elevation  \n11:59\u00a0<vmassol>\u00a0so?  \n11:59\u00a0<vmassol>\u00a0I don't understand what you're saying  \n11:59\u00a0<vmassol>\u00a0of course you need to be admin to install a server app  \n12:00\u00a0<vmassol>\u00a0in addition how do you register shortcuts and registry?  \n12:00\u00a0<vmassol>\u00a0I fail to see what is your problem  \n12:00\u00a0<+sburjan>\u00a0I was thinking you want to evade that, and allow a simple user to install xwiki in his homedir  \n12:01\u00a0<vmassol>\u00a0definitely not  \n12:01\u00a0<vmassol>\u00a0I don't see why we would want that  \n12:01\u00a0<Inge->\u00a0can't a simple user just start the standalone xwiki with Jetty and HSQLDB?  \n12:01\u00a0<vmassol>\u00a0and loose all the niceties we're built  \n12:01\u00a0<vmassol>\u00a0yes  \n12:02\u00a0<vmassol>\u00a0but if what you want is jsut a zip  \n12:02\u00a0<vmassol>\u00a0then you shouldn't use the exe  \n12:02\u00a0<vmassol>\u00a0the point of the exe is to make it easy  \n12:02\u00a0<vmassol>\u00a0put files in right locations  \n12:02\u00a0<vmassol>\u00a0create shortcuts  \n12:02\u00a0<vmassol>\u00a0register as an valid app  \n12:02\u00a0<vmassol>\u00a0that you can uninstall through the control panel  \n12:02\u00a0<vmassol>\u00a0etc  \n12:02\u00a0<+sburjan>\u00a0Ok, I see where you're going with this  \n12:03\u00a0<evalica>\u00a0has joined #xwiki  \n12:04\u00a0<+sburjan>\u00a0now let's hope other users will be able to start xwiki  \n12:04\u00a0<+sburjan>\u00a0we'll have to test that  \n12:04\u00a0<vmassol>\u00a0other users?  \n12:04\u00a0<+sburjan>\u00a0so you don't want that iether ?  \n12:04\u00a0<+sburjan>\u00a0\\*either  \n12:04\u00a0<vmassol>\u00a0no  \n12:04\u00a0<vmassol>\u00a0I don't want that  \n12:04\u00a0<lucaa>\u00a0has quit  \n12:05\u00a0<+sburjan>\u00a0then XWiki won't be available for all users. meaning, when you are asked to install shortcuts on Desktop you can only do that for the Admin user  \n12:05\u00a0<vmassol>\u00a0not admin user  \n12:05\u00a0<vmassol>\u00a0the current user  \n12:05\u00a0<+sburjan>\u00a0most of apps ask you if you want to install only for current user, or all users.  \n12:05\u00a0<vmassol>\u00a0I need to check if I can disable \"all users\"  \n12:06\u00a0<tmortagne>\u00a0has quit  \n12:06\u00a0<+sburjan>\u00a0and we're dropping \"all users\"  \n12:06\u00a0<vmassol>\u00a0all users is a security hole  \n12:06\u00a0<tmortagne>\u00a0has joined #xwiki  \n12:06\u00a0<florinciu>\u00a0has joined #xwiki  \n12:06\u00a0<vmassol>\u00a0it means anyone is allowed to read/write xwiki's data files  \n12:07\u00a0<vmassol>\u00a0(anyone on the machine)  \n12:07\u00a0<vmassol>\u00a0and that means hainv xiwki data filesin %PROGRAMDATA%  \n12:07\u00a0<vmassol>\u00a0not in %APPDATA%  \n12:21\u00a0<lucaa>\u00a0has joined #xwiki  \n12:26\u00a0<alexis\\_>\u00a0has joined #xwiki  \n12:26\u00a0<alexis\\_>\u00a0hi all  \n12:27\u00a0<alexis\\_>\u00a0ok so here I go: is there and where can I find guidelines to configure xwiki to use tomcat realm authentication system?  \n12:31\u00a0<mflorea>\u00a0has quit  \n12:38\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:50\u00a0<Inge->\u00a0isn't there a whole document on authentication?  \n12:50\u00a0<Inge->\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Authentication  \n13:34\u00a0<mflorea>\u00a0has joined #xwiki  \n14:12\u00a0<alexis\\_>\u00a0Yeah, I already looked at this link, but I though I would only need to change few configuration files to indicate to use a tomcat realm...  \n14:14\u00a0<alexis\\_>\u00a0In other words: where should I start to do this? What I've done until now is modify the web.xml to protect some pages with the basic authentication using the realm, but it's just a completely distinct authentication step than the default one  \n14:27\u00a0<alexis\\_>\u00a0Ok, I changed the authentification method to BASIC to simplify the problem. So now I can I tell xwiki to use my Realm instead of the default one?  \n14:29\u00a0<+tmortagne>\u00a0alexis\\_: I think you will have to write your own custom authenticator  \n14:30\u00a0<+tmortagne>\u00a0actually maybe not  \n14:30\u00a0<+tmortagne>\u00a0it's possible com.xpn.xwiki.user.impl.xwiki.AppServerTrustedAuthServiceImpl is what you need  \n14:31\u00a0<+tmortagne>\u00a0it's suppossed to use whatever the application server authenticated to create and authenticate the XWiki user  \n14:31\u00a0<+tmortagne>\u00a0actually not sure it create the user  \n14:32\u00a0<+tmortagne>\u00a0but it is supposed to authenticate the user  \n14:32\u00a0<alexis\\_>\u00a0argh... thanks for your answer  \n14:32\u00a0<+tmortagne>\u00a0forget that I checked and yes it does create the user  \n14:32\u00a0<alexis\\_>\u00a0in fact I don't need the user creation  \n14:32\u00a0<+tmortagne>\u00a0so seems to be what you need  \n14:32\u00a0<+tmortagne>\u00a0well you kind of do  \n14:32\u00a0<+tmortagne>\u00a0if you want to put that user in some groups, give hiem rights etc.  \n14:32\u00a0<+tmortagne>\u00a0him  \n14:33\u00a0<+tmortagne>\u00a0XWiki need some real XWiki user to associate it to groups and rights  \n14:33\u00a0<alexis\\_>\u00a0in fact I have users already defined in a database, with a custom tomcat webapp,  \n14:34\u00a0<+tmortagne>\u00a0anyway here is what this authenticator do:  \n14:34\u00a0<+tmortagne>\u00a0\\* it ask the application server for the current user  \n14:34\u00a0<+tmortagne>\u00a0\\* it create a profile for it if it does not exist and set it as current XWiki user  \n14:34\u00a0<alexis\\_>\u00a0And as I easily created a Realm to use it, I though it would be simple to take xwiki and configue it  \n14:35\u00a0<+tmortagne>\u00a0thing is XWiki can only work with XWiki user so what we do with LDAP for example is that when we authenticate we synchronize user data from LDAP on the wiki  \n14:36\u00a0<alexis\\_>\u00a0Ok I understand LDAP and all this, let me explain a little more what I aim:  \n14:36\u00a0<+tmortagne>\u00a0but the AppServerTrustedAuthServiceImpl does not synchronize anything, it just create an empty user with an id comming from the application server authenticator  \n14:36\u00a0<alexis\\_>\u00a0I have a tomcat webapp with users in a database  \n14:37\u00a0<alexis\\_>\u00a0I want to setup a wiki system in a sso way  \n14:37\u00a0<alexis\\_>\u00a0so I succeeded to create a tomcat realm to connect against my database  \n14:38\u00a0<alexis\\_>\u00a0I though it would be easy to configure xwiki for this, and finally configure tomcat for the sso functionnality  \n14:38\u00a0<alexis\\_>\u00a0By the way, isn't there already a template for a basic tomcat realm authenticator somewhere?  \n14:39\u00a0<+tmortagne>\u00a0tomcat is suppose to set a \"remote user\" in the Request object it gives to XWiki and AppServerTrustedAuthServiceImpl look at it  \n14:39\u00a0<+tmortagne>\u00a0so as I said AppServerTrustedAuthServiceImpl seems to be what you need  \n14:40\u00a0<+tmortagne>\u00a0Tomcat will do the authentication and give the user id to XWiki  \n14:40\u00a0<+tmortagne>\u00a0which will create a user to work with it  \n14:40\u00a0<alexis\\_>\u00a0ok, so I'll look at this, thanks for your help tmortagne  \n14:40\u00a0<+tmortagne>\u00a0now if you want to syncronize more than the id in XWiki you will have to write your own XWik authenticator which get information from your database like we do with LDAP  \n14:52\u00a0<vmassol>\u00a0going to do a series of commits on master....  \n14:52\u00a0<vmassol>\u00a0hope I won't disturb the build too much....  \n15:01\u00a0<Enygma`>\u00a0has quit  \n15:02\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:03\u00a0<Enygma`>\u00a0has quit  \n15:04\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:05\u00a0<Enygma`1>\u00a0has joined #xwiki  \n15:05\u00a0<Enygma`>\u00a0has quit  \n15:06\u00a0<Enygma`1>\u00a0has quit  \n15:08\u00a0<Enygma`>\u00a0has joined #xwiki  \n15:10\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r2626dfa\u000f https://github.com/xwiki/xwiki-commons/commit/2626dfa3ccebef68eabc3d32401eba669db882fe \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-187: The Permanent Data directory resolver should support System Property \"xwiki.data.dir\" - http://git.io/X7\\_JxQ  \n15:10\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r4b31dcf\u000f https://github.com/xwiki/xwiki-platform/commit/4b31dcf5353ffbc671bb5928338039d32eb55fdf \u000f/ (3 files in 2 dirs):\u000f XWIKI-7887: Remove usage of xwiki.work.dir and xwiki.temp.dir configuration properties - http://git.io/DZTK\\_g  \n15:10\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r203e1e8\u000f https://github.com/xwiki/xwiki-platform/commit/203e1e8c67ad74a420c91754c474cc0d640219d4 \u000f/ (6 files in 3 dirs):\u000f XWIKI-7888: Configure Jetty to use the xwiki.data.dir for its log location - http://git.io/2caaww  \n15:12\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r7637120\u000f https://github.com/xwiki/xwiki-manager/commit/7637120889e8e1ce575ee0686b2a6999e85952fe \u000f/ (4 files in 4 dirs):\u000f XEM-218: Modify the standalone distribution to use the xwiki.data.dir system property - http://git.io/1nIuVQ  \n15:22\u00a0<jvdrean>\u00a0has quit  \n15:24\u00a0<qwebirc38525>\u00a0has joined #xwiki  \n15:24\u00a0<qwebirc38525>\u00a0Hello and good afternoon  \n15:24\u00a0<qwebirc38525>\u00a0Can i ask sthg to working directly in the database related to authentication?  \n15:25\u00a0<jvdrean>\u00a0has joined #xwiki  \n15:26\u00a0<qwebirc38525>\u00a0I lost the \"Admin\" password. Now i thought easiest is to replace the sha-512-hash directly in the DB, but it isn't working and i am not deeply enough in xwiki to understand why?  \n15:30\u00a0<+florinciu>\u00a0hi qwebirc38525. you could try using the superadmin account to replace your old password http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Configuration#HEnablesuperadminaccount  \n15:31\u00a0<Inge->\u00a0If it was my design, the password would be salted before hashing, so you can't just sha2 hash your new password...  \n15:33\u00a0<vmassol>\u00a0qwebirc38525: use superadmin  \n15:33\u00a0<vmassol>\u00a0it's meant for that  \n15:34\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Configuration#HEnablesuperadminaccount  \n15:39\u00a0<qwebirc38525>\u00a0Thanks, checking  \n15:40\u00a0<qwebirc38525>\u00a0Solved... Did search for \"reset\" and \"admin password\" and \"reset admin\" here in the wiki, but didn't find this superadmin, sorry for that simple question. Have a nice day, bye  \n15:52\u00a0<qwebirc38525>\u00a0has quit  \n15:55\u00a0<+mflorea>\u00a0guys, I introduced a serious problem with one of my commits in 4.1M1. This is the commit https://github.com/xwiki/xwiki-platform/commit/14a6cfcb921751e7d251f29954e5846179bac762 . The important change is that I moved the shared maven-antrun-plugin config to xwiki-platform-legacy (parent) pom, in a pluginManagement section. Since the, only at release time, the component.txt files are not merged anymore for legacy modules..  \n15:55\u00a0<+mflorea>\u00a0see http://jira.xwiki.org/browse/XWIKI-7833 but the problem affects all legacy modules  \n15:55\u00a0<vmassol>\u00a0mflorea: I don't know about this specific problem but you can check how I did the merging of components.txt in some legacy module's pom  \n15:56\u00a0<vmassol>\u00a0(I remember I did it for several modules)  \n15:56\u00a0<+mflorea>\u00a0yes, and as I said, I moved the shared part to parent pom  \n15:56\u00a0<+mflorea>\u00a0because all legacy modules were doing the same thing  \n15:57\u00a0<+mflorea>\u00a0and it works fine for a normal build but not for release  \n16:00\u00a0<+mflorea>\u00a0this is what we have in the legacy parent pom http://pastebin.com/aHts3yeK (pluginManagement section)  \n16:01\u00a0<+mflorea>\u00a0and this http://pastebin.com/nLvX9gg3 is what we have in legacy modules  \n16:27\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r6b2b4e5\u000f https://github.com/xwiki/xwiki-enterprise/commit/6b2b4e534e8fc29b3bd10b10b4c9c7076b97110f \u000f/ (11 files in 8 dirs):\u000f XE-1182: Modify the standalone distribution to use the xwiki.data.dir system property - http://git.io/zOEbZA  \n16:27\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r7a11bc8\u000f https://github.com/xwiki/xwiki-enterprise/commit/7a11bc817d0a92a892dc083e6275b5bcc7aa5e4d \u000f/ (4 files):\u000f XE-1183: Support installing several XWiki Enterprise versions in the Generic and Windows Installers - http://git.io/Es2xLg  \n16:32\u00a0<alexis\\_>\u00a0hi again, one dummy developer question: where should I start to develop in xwiki? for example is there a guide to get source code an develop in eclipse?  \n16:32\u00a0<vmassol>\u00a0alexis\\_: developer guide  \n16:33\u00a0<vmassol>\u00a0alexis\\_: more precisely:  \n16:33\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/WebHome  \n16:34\u00a0<vmassol>\u00a0now you might also want to check http://dev.xwiki.org for checking out sources/ building/etc  \n16:36\u00a0<vmassol>\u00a0mflorea: seems we have the same problem as before: http://ci.xwiki.org/job/xwiki-rendering/843/console  \n16:36\u00a0<+mflorea>\u00a0yes  \n16:38\u00a0<alexis\\_>\u00a0thanks for the links, I was looking at \"developer guide\" but I think dev.xwiki.org is more adapted  \n16:38\u00a0<alexis\\_>\u00a0just to confirm: if I only want to work on a authentication class, I need to check out the full source and completely rebuild xwiki, or is there a lighter way?  \n16:41\u00a0<+mflorea>\u00a0you need to rebuild only the module that contains the class, i.e. the module you modify. The build will probably generate a jar which you can use to overwrite the corresponding jar from WEB-INF/lib in your XWiki instance  \n16:47\u00a0<polx\\_>\u00a0has joined #xwiki  \n16:49\u00a0<polx>\u00a0has quit  \n16:49\u00a0<polx\\_>\u00a0is now known as <polx>  \n16:51\u00a0<alexis\\_>\u00a0thanks \u00a0mflorea, so this also means I could simply create an eclipse java project, add jars to my build path, create my own class in my own jar, copy it to WEB-INF/lib (and change xwiki.authentication.authclass to point mine)  \n16:55\u00a0<+mflorea>\u00a0yes, although we would use maven to create the project and manage its dependencies, but it doesn't really matter how you build the jar as long as it is valid and you make sure it has all needed runtime dependencies  \n16:55\u00a0<alexis\\_>\u00a0thanks, I'll try this tomorrow!  \n16:56\u00a0<alexis\\_>\u00a0see you  \n16:56\u00a0<alexis\\_>\u00a0has quit  \n16:56\u00a0<+mflorea>\u00a0bye  \n17:05\u00a0<vmassol>\u00a0has quit  \n17:12\u00a0<jvdrean1>\u00a0has joined #xwiki  \n17:14\u00a0<jvdrean>\u00a0has quit  \n17:14\u00a0<jvdrean2>\u00a0has joined #xwiki  \n17:16\u00a0<jvdrean1>\u00a0has quit  \n17:18\u00a0<sburjan>\u00a0has quit  \n17:22\u00a0<lucaa>\u00a0has quit  \n17:22\u00a0<SvenDowideit>\u00a0has quit  \n17:52\u00a0<florinciu>\u00a0has quit  \n17:52\u00a0<mflorea>\u00a0has quit  \n17:54\u00a0<tmortagne>\u00a0has left #xwiki  \n17:59\u00a0<jvdrean2>\u00a0has quit  \n18:11\u00a0<CIA-117>\u00a0Ecaterina Moraru (Valica)\u000f master\u000f \\* r9671355\u000f https://github.com/xwiki/xwiki-platform/commit/96713557142e4ac05f377d8f52ceb1804f0cd873 \u000f/ xwiki-platform-core/xwiki-platform-dashboard/xwiki-platform-dashboard-ui/src/main/resources/Dashboard/WebHome.xml :\u000f XWIKI-7875: Remove the notion of sending messages from the activity macro - http://git.io/LPgiYA  \n18:13\u00a0<CIA-117>\u00a0Ecaterina Moraru (Valica)\u000f stable-4.1.x\u000f \\* r2bf4674\u000f https://github.com/xwiki/xwiki-platform/commit/2bf4674c2e3288d10b61cbeec58e2d695018272f \u000f/ xwiki-platform-core/xwiki-platform-dashboard/xwiki-platform-dashboard-ui/src/main/resources/Dashboard/WebHome.xml :\u000f XWIKI-7875: Remove the notion of sending messages from the activity macro - http://git.io/MAC9jg  \n19:15\u00a0<jamie\\_\\_wiki>\u00a0has joined #xwiki  \n19:35\u00a0<jamie\\_\\_wiki>\u00a0Any chance of XWIKI-6935 (Cannot change the page parent from \"inline\" mode) being fixed for 4.1?  \n19:36\u00a0<jamie\\_\\_wiki>\u00a0Looks like the parent html input is outside the inline form, so it doesn't get submitted on save..  \n19:43\u00a0<pgmjsd>\u00a0has quit  \n19:46\u00a0<pgmjsd>\u00a0has joined #xwiki  \n19:47\u00a0<pgmjsd>\u00a0has left #xwiki  \n20:26\u00a0<evalica>\u00a0has quit  \n20:27\u00a0<jamie\\_\\_wiki>\u00a0Could someone else test my pull request as well? To fix XWIKI-6935 I modified editinline.vm and added a pull request with the (minor) changes: https://github.com/xwiki/xwiki-platform/pull/51  \n20:36\u00a0<pgmjsd>\u00a0has joined #xwiki  \n21:26\u00a0<mflorea>\u00a0has joined #xwiki  \n21:28\u00a0<ssavi>\u00a0has joined #xwiki  \n21:30\u00a0<rrodriguez>\u00a0has joined #xwiki  \n21:44\u00a0<jvdrean>\u00a0has joined #xwiki  \n21:48\u00a0<jvdrean>\u00a0has quit  \n22:13\u00a0<Enygma`>\u00a0has quit  \n22:35\u00a0<Enygma`>\u00a0has joined #xwiki  \n22:37\u00a0<Enygma`1>\u00a0has joined #xwiki  \n22:39\u00a0<Enygma`>\u00a0has quit  \n22:53\u00a0<Enygma`1>\u00a0has quit  \n22:54\u00a0<Enygma`>\u00a0has joined #xwiki  \n23:01\u00a0<abusenius>\u00a0has quit  \n23:02\u00a0<Enygma`>\u00a0has quit  \n23:09\u00a0<Enygma`>\u00a0has joined #xwiki  \n23:17\u00a0<Enygma`>\u00a0has quit  \n23:19\u00a0<Enygma`>\u00a0has joined #xwiki  \n23:25\u00a0<Enygma`>\u00a0has quit  \n23:28\u00a0<mflorea>\u00a0has quit  \n23:42\u00a0<Enygma`>\u00a0has joined #xwiki  \n23:44\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n23:48\u00a0<CIA-117>\u00a0Andreas Jonsson\u000f master\u000f \\* rb7aca9b\u000f https://github.com/xwiki/xwiki-enterprise/commit/b7aca9b03682fda98403e39ce257eb10497a61b0 \u000f/ xwiki-enterprise-ui/src/main/resources/Main/Activity.xml :\u000f XWIKI-7878: Using the new restricted rendering method to render comment content in activity stream. - http://git.io/m4deng  \n\n"}