{"id": "dev:IRC.xwikiArchive20100708", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100708", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu left at 00:54 (Quit: Leaving.  \nDSpair joined #xwiki at 01:38  \nabusenius left at 01:43 (Ping timeout: 248 seconds  \nEnygma` left at 02:55 (Ping timeout: 265 seconds  \nflorinciu left at 02:59 (Quit: Leaving.  \nDSpair left at 03:26 (Quit: Leaving  \nnpm\\_ left at 07:13 (Remote host closed the connection  \nnpm joined #xwiki at 07:13  \nvenkatesh joined #xwiki at 07:58  \nmflorea joined #xwiki at 08:11  \nsburjan joined #xwiki at 08:46  \nflorinciu joined #xwiki at 09:07  \ntmortagne joined #xwiki at 09:29  \nKermitTheFragger joined #xwiki at 09:34  \nvenkatesh left at 09:44 (Ping timeout: 260 seconds  \njvdrean joined #xwiki at 09:52  \nlucaa left at 09:59 (Ping timeout: 240 seconds  \nlpereira joined #xwiki at 10:02  \nvmassol joined #xwiki at 10:09  \nabusenius joined #xwiki at 10:14  \nvmassol left at 10:16 (Quit: Leaving.  \nkibahop joined #xwiki at 10:19  \nlucaa joined #xwiki at 10:22  \nziggystar joined #xwiki at 10:23  \nziggystar - (10:24): Hi. Can someone help me with writing queries? I couldn't find any good documentation. First I don't know the implicit part of the XWQL queries and second I have no idea about the database schema. I could only find some examples.  \nnpm left at 10:28 (Read error: Connection reset by peer  \nnpm joined #xwiki at 10:28  \narkub joined #xwiki at 10:29  \nsdumitriu joined #xwiki at 10:29  \nsdumitriu - (10:31): tmortagne: I found a fix for the last issue (unparsed macros)  \nsdumitriu - (10:31): I'll commit it now  \ntmortagne - (10:37): sdumitriu: ok great  \nEnygma` joined #xwiki at 10:40  \nevalica joined #xwiki at 10:40  \nsdumitriu - (10:50): tmortagne: I'm done, going to eat  \nsdumitriu - (10:50): Bye  \nsdumitriu left at 10:50 (Quit: Leaving.  \ntmortagne - (10:50): ok thanks  \nvmassol joined #xwiki at 11:04  \ntmortagne - (11:17): I will start the 2.4RC1 release pretty soon  \nvenkatesh joined #xwiki at 11:28  \nevalica left at 11:32 (Quit: Leaving.  \nevalica joined #xwiki at 11:32  \nEnygma` left at 11:33 (Read error: Connection reset by peer  \nEnygma` joined #xwiki at 11:33  \nziggystar - (11:46): Any chance someone gives me a hint about where to find information on the database schema that is queried using XWQL and also on the implicit part of the queries (the part, that's not contained in your query but assumed by XWIKI)?  \nlucaa - (11:46): hi ziggystar  \nziggystar - (11:46): Hello.  \nziggystar - (11:47): You're one of the two people helping me yesterday, right?  \nlucaa - (11:47): yes  \nziggystar - (11:47): Got to thakn you agan.  \nziggystar - (11:48): It looks very promising that I can create what I need only with very little coding.  \nlucaa - (11:48): I'm not an expert in xwql  \nlucaa - (11:48): I haven't really used it before  \nlucaa - (11:48): I used the hibernate querying, with hibernate query language  \nlucaa - (11:48): but  \nlucaa - (11:48): have you seen this? \u00a0\u00a0p, li { white-space: pre-wrap; } \u00a0http://incubator.myxwiki.org/xwiki/bin/view/XWQL/  \nziggystar - (11:48): I could only find examples of queries. But I have no idea how the database I'm querying is looking.  \nziggystar - (11:49): Yes, I've found many examples. But no general explanation.  \nlucaa - (11:49): well, the db is more or less important, you'd need to know the model that you're querying  \nziggystar - (11:49): \\*nod\\*  \nziggystar - (11:49): I'd even say its \"more\" important.  \nziggystar - (11:49): I've found this: http://platform.xwiki.org/xwiki/bin/view/DevGuide/DatabaseSchema  \nziggystar - (11:50): But I can't get the names on this side and the names inside the example queries together.  \nlucaa - (11:51): if you want to do hibernate queries, you can use the hibernate config files and figure out what you need to query  \nziggystar - (11:51): Like in the queries it says creationDate and on that page it says XWD\\_CREATION\\_DATE  \nlucaa - (11:51): the names of the fields, etc  \nlucaa - (11:51): yes, you can figure this out from the hibernate config file  \nlucaa - (11:51): for the hibernate queries  \nziggystar - (11:51): I thought I try to stick with WXQL since it seems to be the preferred method. It also doesn't need programming rights in some cases.  \nlucaa - (11:51): lemme read a bit more about the xwql because that's the future  \nlucaa - (11:51): you should use that  \nlucaa - (11:52): the xwql  \nmflorea left at 11:52 (Quit: Leaving.  \nlucaa - (11:52): look here: http://dev.xwiki.org/xwiki/bin/view/DesignArchive/XWikiQueryLanguageSpecification  \nlucaa - (11:53): it explains how you should use it...  \nlucaa - (11:53): I think  \nziggystar - (11:53): Examples again.  \nziggystar - (11:53): I know them.  \nlucaa - (11:53): well it says also this:  \nlucaa - (11:53): \"where <expr>\" means \"select doc.fullName where <expr>\"  \ntmortagne left at 11:53 (Read error: No route to host  \ntmortagne joined #xwiki at 11:54  \nziggystar - (11:54): I've tried to read up about the language which is a superset of WXQL. It says all queries start with select (or delete, update)  \nziggystar - (11:54): But in WXQL, there seems to be an implicit part before the query. You can omit the select.  \nlucaa - (11:54): well yes, see above what I wrote  \nziggystar - (11:54): Ah ,thanks for that pointer.  \nlucaa - (11:54): and see the page where it says what from means and what where means  \nziggystar - (11:56): So using the short form I can only query Documents. And for Objects I need to use select. That means that querying for objects needs programming rights.  \nlucaa - (11:56): see below in the table in the page I sent you  \nlucaa - (11:56): the last 2 lines in the big table  \nlucaa - (11:57): it's querying for objects  \nziggystar - (11:57): Only the last one is querying for objects? I think the second to last is for documents again.  \nlucaa - (11:57): last 3 queries  \nlucaa - (11:57): use objects  \nziggystar - (11:58): But considering this \"where <expr>\" means \"select doc.fullName where <expr>\", everything starting with where is a query for documents.  \nlucaa - (12:00): yes  \nziggystar - (12:00): But think now I understand better. One last thing. You mentioned those hibernate config files where I can read up on the db layout. Can you give me a hint where to find those files?  \nlucaa - (12:00): the document names holding the objects that match the conditions  \nlucaa - (12:01): I'll point you to the one in the svn  \nlucaa - (12:01): I mean to it in the svn  \nlucaa - (12:01): it's only one  \nziggystar - (12:01): ok  \nlucaa - (12:01): this is it: https://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-core/src/main/resources/xwiki.hbm.xml  \nlucaa - (12:02): the documents are mapped with this, objects, and various property types  \nziggystar - (12:02): I've noticed that the document with the query examples is the same as http://platform.xwiki.org/xwiki/bin/view/DevGuide/QueryGuide  \nziggystar - (12:02): The only difference is that the QueryGuide is lacking theexplanation of the abbreviated queries.  \nziggystar - (12:03): Maybe if you have write access to the wiki you could paste those five lines into the query guide document. That would be very helpful for other readers.  \nlucaa - (12:03): that's for all the querying, HQL has an implicit part as well, but it's not explained there either  \nlucaa - (12:04): from that page, there is a link to: http://code.xwiki.org/xwiki/bin/view/Modules/QueryModule  \nlucaa - (12:04): which says that  \nlucaa - (12:04): actually it's saying  \nlucaa - (12:04): \"see also the documentation of the Query \u00a0Module for additional technical details\"  \nlucaa - (12:05): so it's pretty correct, in my view. If you want additional details you go to that page and that page explains the implicit part of the queries  \nziggystar - (12:05): You're right. I've missed that one.  \nlucaa - (12:05): I discover now that xwql is pretty cool. Will use the next time I need querying :)  \njvdrean left at 12:28 (Quit: Leaving.  \nziggystar - (12:31): Maybe you can give me a hint. How would you query all objects (their ID) of given task using WXQL? Another question would then be how to get it as a \"real\" object, since the objects are stored in several tables (each property in its own table according to its type)  \nziggystar - (12:32): s/task/class/  \nziggystar - (12:36): Ok, I think I've got the first part:  \nziggystar - (12:36): select obj.id from BaseObject obj where obj.className='Bibliography.BibTexEntryClass'  \nvenkatesh left at 12:39 (Remote host closed the connection  \nziggystar - (12:39): The API is documented only very sparsely.  \nmariusbutuc joined #xwiki at 12:44  \narkub left at 12:58 (Ping timeout: 276 seconds  \nmariusbutuc left at 13:07 (Ping timeout: 240 seconds  \njvdrean joined #xwiki at 13:10  \ntmortagne left at 13:12 (Read error: Connection reset by peer  \ntmortagne joined #xwiki at 13:12  \nmflorea joined #xwiki at 13:20  \nziggystar - (13:24): Is there any way of debugging this velocity script stuff? Or force the evaluation of something. I'm writing $myObject.getPropertyNames and instead of giving an error in case it can't find this method, it simply prints the code, which isn't helpful at all.  \nziggystar - (13:25): I've tried many different methods on an object and the only one that seems to be working is toString.  \nlucaa - (13:35): well, when it prints the code it means that either the method exists and returns null, or it doesn't exist, or the object you call the method on does not exist  \nlucaa - (13:36): sorry, is null I meant, the object  \nlucaa - (13:36): now, there's no way to debug the velocity  \nlucaa - (13:37): but you can debug the java behind the velocity by doing remote java debugging  \nlucaa - (13:37): however, usually when I have problems in velocity I follow execution by printing a lot of stuff: objects, their types (object.class), etc  \nlucaa - (13:38): once you have an object's type you can go to the API reference and checkout the methods available there  \nziggystar - (13:40): Meanwhile I've found my mistake. Using .class seems to be a good idea. Would have shown my error easily.  \nziggystar - (13:40): Is this API doc I can access from the developer guide pages up to date?  \nziggystar - (13:41): I can't find this object $services, that is used to do the wxql queries.  \nziggystar - (13:41): Ah, using .class it might work. :)  \nziggystar - (13:42): DefaultScriptServiceManager is not listed in those docs.  \nboeserWicht joined #xwiki at 13:48  \nboeserWicht - (13:53): Hi there! Our team is looking into xwiki and we want to find out if it's possible to embed the rendering engine in our own webapp.  \nboeserWicht - (13:54): Does anyone of you have a few minutes to answer some questions, whether our idea is feasible?  \nboeserWicht - (13:54): because I couldn't (yet) find something on the faq page or documentation  \nvmassol - (14:02): boeserWicht: you could check out some doc at http://code.xwiki.org/xwiki/bin/view/Modules/RenderingModule  \nvmassol - (14:02): it has some explanations on using the rendering engine outside of xwiki  \nDSpair joined #xwiki at 14:15  \nabusenius - (14:22): if somebody wahttp://maven.xwiki.org/site/xwiki-core-parent/xwiki-core-script/apidocs/index.htmlnts to test CSRF protection, ping me, I'll update the patches  \nabusenius - (14:22): ups  \nabusenius - (14:22): ziggystar: http://maven.xwiki.org/site/xwiki-core-parent/xwiki-core-script/apidocs/index.html  \nziggystar - (14:23): abusenius: thank you  \nabusenius - (14:24): the best way is to look at the code though, javadoc is missing sometimes  \ntmortagne left at 14:27 (Quit: Leaving.  \nboeserWicht - (14:34): vmassol: thanks. we followed the hints in that page already and tried to build a small prototype. We ran into a problem with the initialization of the EmbeddableComponentManager  \nboeserWicht - (14:35): it seems like we encounter the problem with class relocation that the page warns about  \nboeserWicht - (14:35): and the component manager cannot find all its components, as soon as it's deployed to a tomcat and we try to invoke it during JSP tag rendering  \nboeserWicht - (14:36): and eventually, it throws an exception. short stacktrace:  \nboeserWicht - (14:36): java.lang.RuntimeException: Failed to dynamically load components with annotationsjava.lang.  \nboeserWicht - (14:36): RuntimeException: Failed to dynamically load components with annotations  \nboeserWicht - (14:36): at org.xwiki.component.annotation.ComponentAnnotationLoader.initialize(ComponentAnnotationLoader.java:136)  \nboeserWicht - (14:36): at org.xwiki.component.embed.EmbeddableComponentManager.initialize(EmbeddableComponentManager.java:69)  \nboeserWicht - (14:36): at de.iteratec.iteraplan.presentation.tags.TagUtils.convertXWikiTextFormatedXhtml(TagUtils.java:171)  \nboeserWicht - (14:37): sorry for being so noisy... but i believe a stacktrace helps to identify the problem  \nziggystar - (14:44): If I have the id of an object inside the db, is there a function to assemble such an object as a real Java object for me?  \nziggystar - (14:45): One way of getting all objects of a given class seems to be to find all documents containing them and the get the objects from the document objects. Is this a big overhead, since the documents have to be created first?  \njvdrean1 joined #xwiki at 14:49  \nabusenius left at 14:50 (Ping timeout: 248 seconds  \nabusenius joined #xwiki at 14:51  \njvdrean left at 14:51 (Ping timeout: 240 seconds  \nsdumitriu joined #xwiki at 14:53  \nkibahop left at 15:03 (Remote host closed the connection  \npenyaskito joined #xwiki at 15:04  \npenyaskito - (15:05): Hi all, I'm having problems deleting a tag with tildes  \npenyaskito - (15:05): and I wondered how I could do it at the database level, I understood the classes-objects-properties model, but I cannot find where the relations with tags are stored  \npenyaskito - (15:06): any hint?  \njvdrean1 - (15:06): penyaskito: which XE version do you use ?  \npenyaskito - (15:07): jvdrean1, Hi Jean Vincent, I'm usign XE 2.3.1.29118  \njvdrean1 - (15:09): penyaskito: I'm not able to reproduce, from where do you try to delete the tag ?  \npenyaskito - (15:11): it's from a space, and it's a tag with tilde \u00e1\u00e9\u00ed\u00f3\u00fa  \npenyaskito - (15:13): jvdrean1, the tag cami\u00f3n rendered as cami\u00c3\u00b3n  \npenyaskito - (15:13): and now clicking on delete, the delete doesn't happen  \njvdrean1 - (15:14): ok then I think it's an encoding configuration problem  \npenyaskito - (15:14): Yep, sure  \njvdrean1 - (15:14): http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Encoding  \npenyaskito - (15:14): I have xwiki working in jboss, with apache + mod\\_redirect + mod\\_proxy  \njvdrean1 - (15:14): (could have been a bug but I think it's only because of the config since I can't reproduce)  \npenyaskito - (15:16): yep, I have more components that can interact in a bad way :/  \npenyaskito - (15:16): so the first thing I want to do is delete those tags, where in the database could I modify this?  \njvdrean1 - (15:22): I think tag values are stored in the xwikilargestrings table  \njvdrean1 - (15:23): now to get only tag values from this table you'll need a complex query, involving xwikiobjects and xwikiproperties  \nsdumitriu left at 15:28 (Ping timeout: 276 seconds  \ntmortagne joined #xwiki at 15:36  \nsburjan - (15:37): hello. does anyone have any idea where is the driver.close() statement in selenium 2 ui test suite ?  \nabusenius - (15:47): sburjan, PersistentTestContext  \nabusenius - (15:47): (grep rules)  \nsburjan - (15:48): thanks  \nsburjan - (16:06): abusenius, : could you tell me in what project / jar the org.xwiki.test package is located ?  \nsburjan - (16:07): oh.. found  \nsburjan left at 16:25 (Quit: Ex-Chat  \nlucaa left at 16:43 (Ping timeout: 276 seconds  \nlucaa joined #xwiki at 16:54  \nziggystar - (16:59): I'm still trying to retrieve an object from the database. I could access an objects properties by querying the db, but isn't there a way to assemble an object as a xwiki object automatically?  \nziggystar - (17:03): It seems that the only methods that will return an Object are found in Document. And I guess that they will only return Objects that are located inside the Document.  \nlpereira left at 17:08 (Quit: Leaving.  \narkub joined #xwiki at 17:15  \npenyaskito - (17:36): jvdrean1, I cannot find them :/  \nDSpair left at 17:44 (Quit: Leaving  \nziggystar left #xwiki at 17:49  \ntmortagne left at 18:01 (Quit: Leaving.  \nsdumitriu joined #xwiki at 18:03  \nlucaa left at 18:09 (Ping timeout: 260 seconds  \nsdumitriu left at 18:28 (Ping timeout: 240 seconds  \nabusenius left at 18:52 (Read error: Operation timed out  \njvdrean1 left at 18:58 (Quit: Leaving.  \njvdrean joined #xwiki at 18:58  \njvdrean left at 18:58 (Client Quit  \nmflorea left at 19:08 (Quit: Leaving.  \narkub left at 19:13 (Ping timeout: 240 seconds  \nsdumitriu joined #xwiki at 19:15  \nabusenius joined #xwiki at 19:22  \nKermitTheFragger left at 19:54 (Quit: Leaving  \nvmassol left at 20:08 (Quit: Leaving.  \nboeserWicht left at 20:19 (Quit: Miranda IM! Smaller, Faster, Easier. http://miranda-im.org  \nmaggo joined #xwiki at 20:20  \nmaggo - (20:23): Hi all, back again to ask you questions ;-) I have a problem, my xwiki is connected to Windows 2008 Active Directory and i do not have the right permissions so set any Acces rights with the colibri skin but with toucan i can set acces rights, i know on colobri skin i can set acces rights if i do a mouse over edit in editing mode. what happen here?  \nmaggo - (20:38): is there someon online?  \nsdumitriu - (20:38): maggo: Yep  \nmaggo - (20:39): Hi sdumitrio do you have read the last lines i wrote?  \nsdumitriu - (20:39): Yes  \nmaggo - (20:39): any idea?  \nsdumitriu - (20:40): What do you mean you can't set rights in Colibri?  \nmaggo - (20:42): In colibri my colleague is editing a page and if he goes over the edit on the page top there cames a menu with set acces rights, and if i do that with my account and i am in the same groups i don't get such a menue  \nmaggo - (20:42): or is there an other way to get to the acces right site as admin for a page?  \nsdumitriu - (20:43): I think you need to set your account as Advanced User  \nmaggo - (20:43): ok and how can i do that?  \nmaggo - (20:45): ah ok i found it, it is in the users option  \nmaggo - (20:46): now i'll give it a try  \nmaggo - (20:46): ah here we go  \nsdumitriu - (20:46): maggo: Solved?  \nmaggo - (20:46): one other question do you know something about the calender plugin  \nmaggo - (20:46): yes solved  \nmaggo - (20:47): on xwiki there that page http://www.xwiki.org/xwiki/bin/view/Main/EventCalendar  \nmaggo - (20:47): in earlier version ther was a calender and i installed the new jar and xar but it won't work  \nsdumitriu - (20:47): Any exceptions?  \nmaggo - (20:48): no the same that xwiki.org shows  \nmaggo - (20:49): or do you mean in a log file?  \nsdumitriu - (20:59): When you say it doesn't work, what exactly doesn't work?  \nsdumitriu - (21:00): Did you enable the plugin in xwiki.cfg?  \nmaggo - (21:05): The calendar sheet is not shown, but enabling the plugin in xwiki.cfg is a very good idea ;-)  \nmaggo - (21:09): yep that's it, thank you  \nsdumitriu - (21:09): You're welcome  \nmaggo - (21:10): on last, do you know how to get the fields as big as it was in the versions before?  \nmaggo left at 21:18 (Quit: maggo  \nlucaa joined #xwiki at 21:22  \nevalica left #xwiki at 21:25  \nflorinciu left at 21:47 (Quit: Leaving.  \nmflorea joined #xwiki at 22:16  \nmflorea left at 22:16 (Client Quit  \n\n"}