{"id": "dev:IRC.xwikiArchive20141017", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20141017", "title": "IRC Archive for channel #xwiki on 17 October 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sdumitriu>\u00a0has quit  \n00:39\u00a0<polx>\u00a0has joined #xwiki  \n00:45\u00a0<sdumitriu>\u00a0has joined #xwiki  \n00:50\u00a0<polx>\u00a0has quit  \n00:57\u00a0<abusenius>\u00a0has quit  \n01:10\u00a0<woshilapin>\u00a0has quit  \n01:10\u00a0<Slashman>\u00a0has quit  \n02:03\u00a0<lucaa>\u00a0has quit  \n03:50\u00a0<Denis>\u00a0has joined #xwiki  \n04:04\u00a0<woshilapin>\u00a0has joined #xwiki  \n04:07\u00a0<Denis>\u00a0has quit  \n04:42\u00a0<woshilapin>\u00a0has quit  \n06:55\u00a0<msmeria>\u00a0has joined #xwiki  \n07:16\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:58\u00a0<polx>\u00a0has joined #xwiki  \n08:13\u00a0<mflorea>\u00a0has joined #xwiki  \n08:16\u00a0<polx>\u00a0has quit  \n08:21\u00a0<Denis>\u00a0has joined #xwiki  \n08:31\u00a0<DarkKnightCZ1>\u00a0has joined #xwiki  \n08:32\u00a0<DarkKnightCZ2>\u00a0has joined #xwiki  \n08:33\u00a0<DarkKnightCZ>\u00a0has quit  \n08:36\u00a0<DarkKnightCZ1>\u00a0has quit  \n08:38\u00a0<DarkKnightCZ2>\u00a0has quit  \n08:39\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n09:05\u00a0<AFKGeek>\u00a0has joined #xwiki  \n09:06\u00a0<cjd>\u00a0has joined #xwiki  \n09:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:20\u00a0<tmortagne>\u00a0XWIKI-11242 sounds like a serious issue  \n09:25\u00a0<polx>\u00a0has joined #xwiki  \n09:29\u00a0<tmortagne>\u00a0will start 6.3M1 release shortly  \n09:36\u00a0<Lyes>\u00a0has joined #xwiki  \n09:38\u00a0<tmortagne>\u00a0mflorea: is XWIKI-11235 done ?  \n09:38\u00a0<tmortagne>\u00a0I see there is a commit  \n09:46\u00a0<mflorea>\u00a0vmassol: closed. I was waiting for tmortagne's fix. done now  \n09:47\u00a0<tmortagne>\u00a0did it sounded like vmassol ? :)  \n09:47\u00a0<mflorea>\u00a0ah, sorry :)  \n09:47\u00a0<mflorea>\u00a0yes, it sounded like him :P  \n09:56\u00a0<lucaa>\u00a0has joined #xwiki  \n10:04\u00a0<vmassol>\u00a0has joined #xwiki  \n10:11\u00a0<DarkKnightCZ>\u00a0hmm, is there any easy way, how to obtain currently accessed subwiki main URL and name? (i guess by obtaining its descriptor, but how to get it)  \n10:12\u00a0<Slashman>\u00a0has joined #xwiki  \n10:14\u00a0<vmassol>\u00a0good morning  \n10:14\u00a0<DarkKnightCZ>\u00a0ha, $services.wiki.getById($xcontext.database).prettyName, found it  \n10:14\u00a0<vmassol>\u00a0just upgraded my blog on myxwiki.org  \n10:14\u00a0<vmassol>\u00a0just noticed a problem with one blog panel though  \n10:14\u00a0<vmassol>\u00a0http://massol.myxwiki.org/xwiki/bin/view/XWiki/VincentMassol  \n10:14\u00a0<vmassol>\u00a0\"#getBlogEntriesBaseQuery($query)\" is displayed  \n10:14\u00a0<vmassol>\u00a0is this something known? does it ring a bell for anyone?  \n10:17\u00a0<polx>\u00a0has quit  \n10:18\u00a0<polx>\u00a0has joined #xwiki  \n10:23\u00a0<tmortagne>\u00a0[WARN] starting he release  \n10:23\u00a0<tmortagne>\u00a0s/he/the/  \n10:26\u00a0<AFKGeek>\u00a0has quit  \n10:28\u00a0<AFKGeek>\u00a0has joined #xwiki  \n10:33\u00a0<tmortagne>\u00a0vmassol: looks like you forgot to release 6.2.2 on jira  \n10:33\u00a0<tmortagne>\u00a0at least xwiki-commons  \n10:38\u00a0<vmassol>\u00a0tmortagne: strange, checking  \n10:38\u00a0<vmassol>\u00a0thanks  \n10:39\u00a0<vmassol>\u00a0for all of them apparently  \n10:39\u00a0<vmassol>\u00a0fixing  \n10:39\u00a0<tmortagne>\u00a0yep  \n10:39\u00a0<vmassol>\u00a0not all  \n10:39\u00a0<vmassol>\u00a0;)  \n10:40\u00a0<vmassol>\u00a0done  \n10:58\u00a0<Slashman>\u00a0hello, I'm looking at an xwiki mailing list for release announcement, I found some mailing list for developers on the wiki but no such announcement list, does one exist?  \n10:59\u00a0<vmassol>\u00a0Slashman: no we don't have one  \n11:00\u00a0<vmassol>\u00a0we do have a twitter account for that though  \n11:00\u00a0<vmassol>\u00a0and blog posts  \n11:00\u00a0<vmassol>\u00a0(ie RSS feeds)  \n11:00\u00a0<Slashman>\u00a0I want a minimal traffic channel, not sure twitter or RSS for all blog post is fitting  \n11:01\u00a0<msmeria>\u00a0has quit  \n11:01\u00a0<vmassol>\u00a0RSS is minimal  \n11:01\u00a0<vmassol>\u00a0because we have categories  \n11:01\u00a0<vmassol>\u00a0and twitter is pretty minimal too  \n11:01\u00a0<vmassol>\u00a0http://twitter.com/xwikiorg  \n11:01\u00a0<tmortagne>\u00a0twitter is minimal but in the blog you can ask for a RSS with only the release so it's probably what you want  \n11:02\u00a0<vmassol>\u00a0Slashman: http://www.xwiki.org/xwiki/bin/view/Blog/Releases  \n11:02\u00a0<vmassol>\u00a0rss feed: http://www.xwiki.org/xwiki/bin/view/Blog/CategoryRss?xpage=plain&category=Blog.Releases  \n11:03\u00a0<tmortagne>\u00a0it depends what is your preferred way of receiving information between rss and tweeter  \n11:03\u00a0<Slashman>\u00a0I may just watch the page I think  \n11:03\u00a0<tmortagne>\u00a0or that yes :)  \n11:04\u00a0<vmassol>\u00a0watching the download page would work yes  \n11:04\u00a0<Slashman>\u00a0I'm receiving almost security/announcement via e-mail (tomcat, httpd, etc), so I prefer this :p  \n11:04\u00a0<Slashman>\u00a0+all  \n11:04\u00a0<tmortagne>\u00a0Slashman: you would watch the download page and receive mails when it's modified  \n11:05\u00a0<tmortagne>\u00a0s/would/could/  \n11:05\u00a0<Slashman>\u00a0watching http://www.xwiki.org/xwiki/bin/view/Blog/Releases could work too I guess ?  \n11:05\u00a0<vmassol>\u00a0no  \n11:05\u00a0<vmassol>\u00a0that page doesn't change  \n11:05\u00a0<vmassol>\u00a0its content doesn't change  \n11:05\u00a0<vmassol>\u00a0it's a dynamic page  \n11:05\u00a0<tmortagne>\u00a0no because http://www.xwiki.org/xwiki/bin/view/Blog/Releases itself is not modified  \n11:05\u00a0<Slashman>\u00a0oh right, it's velocity :D  \n11:05\u00a0<tmortagne>\u00a0but http://www.xwiki.org/xwiki/bin/view/Main/Download is  \n11:08\u00a0<Slashman>\u00a0okay, tahnk you, I'll watch this page  \n11:09\u00a0<vmassol>\u00a0good BFD yesterday, well done everyone: http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=12694  \n11:09\u00a0<vmassol>\u00a07 participants, nice  \n11:09\u00a0<polx>\u00a0has quit  \n11:10\u00a0<tmortagne>\u00a0vmassol: I actually forgot about it and evalica add the tag ;)  \n11:10\u00a0<vmassol>\u00a0ok you missed Edy's email then  \n11:11\u00a0<tmortagne>\u00a0no I saw it and them I concentrated on release needs  \n11:11\u00a0<tmortagne>\u00a0s/them/then/  \n11:13\u00a0<Slashman>\u00a0hm, seems like I cannot watch http://enterprise.xwiki.org/xwiki/bin/view/Main/Download  \n11:14\u00a0<Slashman>\u00a0any idea why?  \n11:14\u00a0<tmortagne>\u00a0hmm indeed looks like watchlist is not available in xwiki.org skin, that's weird  \n11:14\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:14\u00a0<tmortagne>\u00a0vmassol: any idea ?  \n11:15\u00a0<vmassol>\u00a0don't remember, do we have an smtp server set up for xwiki.org?  \n11:15\u00a0<tmortagne>\u00a0I can see it in my profile so it's really a skin issue  \n11:16\u00a0<vmassol>\u00a0it's possible it's disabled at xwiki.cfg level  \n11:16\u00a0<tmortagne>\u00a0we receive watclist mails from xwiki.org everydays so yes i'm pretty sure it's configured :)  \n11:16\u00a0<vmassol>\u00a0ah yes  \n11:16\u00a0<vmassol>\u00a0indeed  \n11:16\u00a0<tmortagne>\u00a0so it's probably something related to the xwiki.org custom skin  \n11:16\u00a0<vmassol>\u00a0hmm I can watch on my profile page  \n11:16\u00a0<vmassol>\u00a0on home page too  \n11:16\u00a0<tmortagne>\u00a0also I don't think watchlist is disabled when we don't have smtp anyway  \n11:16\u00a0<evalica>\u00a0has joined #xwiki  \n11:17\u00a0<vmassol>\u00a0seems to be just on the download page :)  \n11:17\u00a0<tmortagne>\u00a0right it's working on main wiki  \n11:17\u00a0<vmassol>\u00a0ah enterprise.xwiki.org  \n11:17\u00a0<tmortagne>\u00a0yes  \n11:17\u00a0<Slashman>\u00a0yeah that's a different domain  \n11:17\u00a0<tmortagne>\u00a0sounds like subwiki bug  \n11:17\u00a0<vmassol>\u00a0no because it works for http://platform.xwiki.org/xwiki/bin/view/Main/WebHome  \n11:17\u00a0<tmortagne>\u00a0yes it's not that  \n11:17\u00a0<Enygma`1>\u00a0has joined #xwiki  \n11:18\u00a0<tmortagne>\u00a0enterprise wiki issue it seems  \n11:18\u00a0<vmassol>\u00a0maybe the watchist extebsion is not installed on it  \n11:18\u00a0<vmassol>\u00a0checkig  \n11:19\u00a0<tmortagne>\u00a0that would not make much sense since it's a XE dependency  \n11:19\u00a0<Enygma`>\u00a0has quit  \n11:21\u00a0<tmortagne>\u00a0ok it's not XE there  \n11:22\u00a0<tmortagne>\u00a0looks like XWiki.org Flavor is missing watchlist as dependency among other issues  \n11:22\u00a0<vmassol>\u00a0I'm checking the skin here: http://www.xwiki.org/xwiki/bin/edit/XWikiOrgCode/Skin?editor=object  \n11:22\u00a0<tmortagne>\u00a0we should get rid of it and move to standard XE when upgrading  \n11:23\u00a0<vmassol>\u00a0hasWatch is false on enterprise  \n11:23\u00a0<tmortagne>\u00a0but http://enterprise.xwiki.org/xwiki/bin/view/XWiki/WatchListManager is there  \n11:23\u00a0<tmortagne>\u00a0not sure on what hasWatch is based  \n11:23\u00a0<vmassol>\u00a0#set ($hasWatch = $xwiki.watchlist && !$isGuest && !$isSuperAdmin && $xwiki.exists($services.model.serialize($services.model.createDocumentReference($xcontext.database, 'XWiki', 'XWikiUserWatchListSheet'), 'local')))  \n11:24\u00a0<vmassol>\u00a0checking hwich one is missing  \n11:24\u00a0<tmortagne>\u00a0anyway the extension is not installed because of Wiki.org Flavor  \n11:24\u00a0<tmortagne>\u00a0so installing it  \n11:24\u00a0<vmassol>\u00a0wait  \n11:25\u00a0<vmassol>\u00a0ok so it's  \n11:25\u00a0<vmassol>\u00a0$xwiki.exists($services.model.serialize($services.model.createDocumentReference($xcontext.database, 'XWiki', 'XWikiUserWatchListSheet'), 'local')))  \n11:25\u00a0<vmassol>\u00a0which returns fzlase  \n11:25\u00a0<vmassol>\u00a0\\*false  \n11:25\u00a0<vmassol>\u00a0this page is not there apparently  \n11:25\u00a0<vmassol>\u00a0http://enterprise.xwiki.org/xwiki/bin/view/XWiki/XWikiUserWatchListSheet  \n11:25\u00a0<vmassol>\u00a0deleted by marius ;)  \n11:27\u00a0<tmortagne>\u00a0Slashman: should be ok now  \n11:27\u00a0<Slashman>\u00a0incredible, thank you :)  \n11:28\u00a0<Slashman>\u00a0I didn't want to bother you this much for that :p  \n11:28\u00a0<cjd>\u00a011:24 < vmassol> $xwiki.exists($services.model.serialize($services.model.createDocumentReference($xcontext.database, 'XWiki', \u00a0'XWikiUserWatchListSheet'), 'local')))  \n11:28\u00a0<vmassol>\u00a0np we have dedicated our lives to bug fixing anyway :)  \n11:29\u00a0<cjd>\u00a0I don't have anything to add  \n11:29\u00a0<tmortagne>\u00a0Slashman: it's good that you catched it actually  \n11:29\u00a0<tmortagne>\u00a0$xwiki.exists('XWiki.XWikiUserWatchListSheet') works too :)  \n11:30\u00a0<vmassol>\u00a0no it doesn't  \n11:30\u00a0<vmassol>\u00a0you're missing the wiki  \n11:31\u00a0<cjd>\u00a0vmassol: u trollin  \n11:31\u00a0<vmassol>\u00a0why?  \n11:32\u00a0<tmortagne>\u00a0vmassol: $xcontext.database  \n11:32\u00a0<tmortagne>\u00a0so no you are not really missing the wiki since it's the current one  \n11:33\u00a0<vmassol>\u00a0hmm indeed, didn't think of that, exists will use a current resolver  \n11:33\u00a0<tmortagne>\u00a0yes  \n11:34\u00a0<tmortagne>\u00a0vmassol: also $xwiki.exists($services.model.serialize($services.model.createDocumentReference($xcontext.database, 'XWiki', \u00a0'XWikiUserWatchListSheet'), 'local'))) exactly produce $xwiki.exists('XWiki.XWikiUserWatchListSheet')  \n11:35\u00a0<tmortagne>\u00a0since it's using a 'local' serializer  \n11:35\u00a0<tmortagne>\u00a0so it's instead a bit extreme :)  \n11:35\u00a0<vmassol>\u00a0sergiu did this apparently, and yes we could simplify it in this case, provided that nobody ever introduces some reserved char in the space or page name  \n11:35\u00a0<tmortagne>\u00a0I don't understand  \n11:36\u00a0<vmassol>\u00a0actually no he probably imported it from svn  \n11:36\u00a0<tmortagne>\u00a0what reserved char ?  \n11:36\u00a0<tmortagne>\u00a0it's 'XWiki.XWikiUserWatchListSheet'  \n11:36\u00a0<tmortagne>\u00a0we don't take it from a variable  \n11:36\u00a0<vmassol>\u00a0\"provided that nobody ever introduces some reserved char in the space or page name\"  \n11:36\u00a0<vmassol>\u00a0for example  \n11:36\u00a0<tmortagne>\u00a0seriously ? a reserved char in standard page ?  \n11:37\u00a0<vmassol>\u00a0imagine that when we introduce nested spaces and that we move XWikiUserWatchListSheet in a subspace  \n11:37\u00a0<cjd>\u00a011:37 < vmassol> imagine that when we introduce nested spaces  \n11:37\u00a0<vmassol>\u00a0we would need to change it in this case  \n11:37\u00a0<vmassol>\u00a0but it's ok to simplify for now and put back something more complex if we ever need it  \n11:38\u00a0<Lyes>\u00a0has quit  \n11:38\u00a0<evalica>\u00a0has quit  \n11:39\u00a0<cjd>\u00a0it's a rare occasion that it's both Friday and I got enough sleep the night before so I'm in a fairly good mood :)  \n11:39\u00a0<tmortagne>\u00a06.3M1 git/maven release is all done, you can resume breaking master branch  \n11:40\u00a0<vmassol>\u00a0do you troll more when you're in a good mood?  \n11:40\u00a0<cjd>\u00a0I talk more when I'm happy  \n11:40\u00a0<vmassol>\u00a0ok so you troll more  \n11:40\u00a0<vmassol>\u00a0:)  \n11:41\u00a0<cjd>\u00a0well, I often want to raise issues but I don't want to always be complaining so I try to add some humor  \n11:42\u00a0<Lyes>\u00a0has joined #xwiki  \n11:43\u00a0<evalica>\u00a0has joined #xwiki  \n11:44\u00a0<vmassol>\u00a0wow, already 9 issues for 6.2.3: http://jira.xwiki.org/issues/?filter=13390&jql=category%20in%20(%22Top%20Level%20Projects%22)%20AND%20fixVersion%20in%20(%226.2.3%22)%20AND%20resolution%20in%20(Fixed)  \n11:45\u00a0<vmassol>\u00a0so 2 days after it's been released...  \n11:49\u00a0<tmortagne>\u00a0vmassol: including a blocker  \n11:50\u00a0<vmassol>\u00a0yes indeed \u2026 although a small blocker\u2026  \n11:50\u00a0<tmortagne>\u00a0and XWIKI-11242 which is very close to a blocker  \n11:51\u00a0<vmassol>\u00a0actually we should almost have a \"regression\" type of issue  \n11:51\u00a0<vmassol>\u00a0instead of using blocker  \n11:52\u00a0<vmassol>\u00a0and keep blocker for very important issues  \n11:52\u00a0<vmassol>\u00a0not a big deal though, I don't think we need to change anything now\u2026  \n11:53\u00a0<tmortagne>\u00a0regression is quite a very important issue by definition  \n11:53\u00a0<vmassol>\u00a0depends  \n11:54\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:54\u00a0<vmassol>\u00a0a regression a not very used feature of xwiki is not that blocker  \n11:54\u00a0<vmassol>\u00a0s/a not/on a not  \n11:54\u00a0<vmassol>\u00a0at least not the same level as an issue that prevents viewing pages for example  \n11:54\u00a0<vmassol>\u00a0anyway....  \n12:42\u00a0<vmassol>\u00a0lunch bbl  \n12:44\u00a0<ClemensR>\u00a0is anyone looking at the failing \u00a0ApplicationNameTest ? ( I have a vague idea what it might be, but I guess I am not the only one ;))  \n12:45\u00a0<Enygma`1>\u00a0ClemensR: I`ve just fixed that. It`s the test, not the code.  \n12:45\u00a0<Enygma`1>\u00a0however, I have unfortunately introduced a bug in AWM  \n12:45\u00a0<ClemensR>\u00a0Enygma`1: \u00a0yes, I thought so (about the test) ... ah, already fixed, I am lagging behind  \n12:46\u00a0<Enygma`1>\u00a0the problem is when you are in the class editor, you click next and go to the livetable. Then you click previous to go back to the class editor and then click next again. You end up in the AppNameCode space instead of the AppName space.  \n12:46\u00a0<Enygma`1>\u00a0this is the failing test that caught it http://ci.xwiki.org/job/xwiki-enterprise-test-ui/157/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.appwithinminutes/WizardTest/testCreateApplication/  \n12:46\u00a0<Enygma`1>\u00a0fixing it now  \n12:53\u00a0<Enygma`1>\u00a0damn  \n12:54\u00a0<Enygma`1>\u00a0with the change I did yesterday, we now have a data space that is called whatever the user enters \"my space\", but a code space that is cleaned \"myspace.myspaceClass\"  \n12:54\u00a0<Enygma`1>\u00a0from the data space you can easily obtain the code space name, but not the other way around  \n12:54\u00a0<Enygma`1>\u00a0is now known as <Enygma>  \n12:55\u00a0<Enygma>\u00a0is now known as <Enygma`>  \n12:55\u00a0<Enygma`>\u00a0I have set the class title to the name of the data space, I might just use that to obtain the data space name.  \n12:56\u00a0<Enygma`>\u00a0just need to remove the \"Class: \" prefix from the title  \n12:56\u00a0<Enygma`>\u00a0not very clean :/  \n12:57\u00a0<Enygma`>\u00a0actually, I can have the wizards to not append the \"Class: \" prefix in the class document's title and have the sheets use that only when displaying  \n12:58\u00a0<Enygma`>\u00a0this way it's sort of cleaner to extract the class \"pretty name\" from the title, without anything else in it  \n12:58\u00a0<Enygma`>\u00a0but I am not sure this will be backwards compatible  \n12:58\u00a0<Enygma`>\u00a0with previously created apps  \n13:05\u00a0<Denis>\u00a0has quit  \n13:06\u00a0<ClemensR>\u00a0It seems the code uses something like \"$stringtool.removeEnd($classFullName, 'Class'))\" \u00a0quite a lot. If you do not remove it, it might be backwards compatible (does not remove \"Class\" if it is simply not there), but people are never allowed to add an application that ends with \"Class\", then :-/  \n13:10\u00a0<Enygma`>\u00a0yes, something like that  \n13:10\u00a0<Enygma`>\u00a0the title of the class document is set to \"AppName Class\"  \n13:10\u00a0<Enygma`>\u00a0so that it looks nice in the XWiki.ClassSheet  \n13:11\u00a0<Enygma`>\u00a0and then in the class editor of AWM, it does something like \"Class: $doc.title.removeEnd('Class')\"  \n13:11\u00a0<Enygma`>\u00a0that`s not very nice  \n13:12\u00a0<Enygma`>\u00a0instead, we should update XWiki.ClassSheet to add the \" Class\" suffix when displaying class documents in view mode  \n13:12\u00a0<Enygma`>\u00a0and in AWM we just set the name, without suffix.  \n13:13\u00a0<Enygma`>\u00a0but again, this change will not be backwads compatible, and older apps will display \"Class: AppName Class\" while in class edit mode.  \n13:14\u00a0<Enygma`>\u00a0we can either add a migrator (yuck!) or we could just keep removing \" Class\" from the end of the AppName when displaying the title or computing the DataSpace, with the limitation ClemensR described (no apps named \"something Class\")  \n13:15\u00a0<Enygma`>\u00a0for the display of the title it's not really that much of an issue if users see \"Class: AppName Class\". The problem is computing the data space for older apps.  \n13:16\u00a0<Enygma`>\u00a0since we don`t know when the title is clean or when we need to remove the suffix.  \n13:16\u00a0<ClemensR>\u00a0... or add a \"compatibility\" field for the AppWithinMinutes.LiveTableClass, so we know if it is \"before\" or \"after\" the Class.  \n13:17\u00a0<ClemensR>\u00a0(Ah, but that would mean to have to handle both cases ... make the code even messier. forget it)  \n13:17\u00a0<Enygma`>\u00a0and that would mean that we can already get from the class to the data space (live table object) which we can`t  \n13:17\u00a0<Enygma`>\u00a0and if we could, we would no longer need to do anything else :)  \n13:18\u00a0<Enygma`>\u00a0another option would be to add an object to the class document to link to the data space  \n13:18\u00a0<Enygma`>\u00a0when there is no such object, extract from title with removing the suffix. When the object exists, use it to locate the data space.  \n13:19\u00a0<Enygma`>\u00a0However, this would mean that we have a bidirectional relation between data space and code space, since in the livetable object we already link to the class  \n13:19\u00a0<Denis>\u00a0has joined #xwiki  \n13:19\u00a0<Enygma`>\u00a0sure, the other option is to just use this object as a marker to know how to handle the title. New apps have it, old ones don`t.  \n13:21\u00a0<Enygma`>\u00a0ultimately I don`t think it's that much of a limitation to not support \"AppName Class\" application names... and we might remove this compatibility code at some point in the future.  \n13:21\u00a0<Enygma`>\u00a0the UI could be updated to pop an error if a user tries to use such a name.  \n13:21\u00a0<Enygma`>\u00a0mflorea: WDYT?  \n13:23\u00a0<mflorea>\u00a0Enygma`: about what? You had a pretty long conversion with ClemensR, should I read it all?  \n13:23\u00a0<Enygma`>\u00a0no, let me summarize  \n13:23\u00a0<Enygma`>\u00a0with the latest change, the app data space is the pretty name entered by the user and the data space is a cleaned name  \n13:24\u00a0<Enygma`>\u00a0the problem with this is that in the class editor, in wizard=true mode, we can not go to the next step (homepage editor)  \n13:24\u00a0<Enygma`>\u00a0because we can not compute the pretty name from the cleaned name  \n13:25\u00a0<Enygma`>\u00a0I have already set the pretty name inside the class document title, so we could use the class document title to find the data space.  \n13:25\u00a0<Enygma`>\u00a0but right now the class title is suffixed with \" Class\" so that the class document looks nice in view mode with XWIki.ClassSheet applied  \n13:25\u00a0<Enygma`>\u00a0I proposed to stop suffixing and directly use the class title to find the data space  \n13:26\u00a0<Enygma`>\u00a0but we need a solution for backwards compatibility  \n13:26\u00a0<Enygma`>\u00a0so that old apps are still editable  \n13:26\u00a0<Enygma`>\u00a0the obvious solution is to keep assuming we have a suffix in the class document title and keep removing it. This means we introduce a limitation on the possible app names for the users to choose from  \n13:27\u00a0<Enygma`>\u00a0so... no \"AppName Class\" application names.  \n13:27\u00a0<Enygma`>\u00a0would that be such a big problem?  \n13:28\u00a0<Enygma`>\u00a0\"my app Class\" <-- error, please select a different name.  \n13:31\u00a0<Enygma`>\u00a0ClemensR: wdyt?  \n13:33\u00a0<ClemensR>\u00a0this means the code is not getting simpler, all \u00a0the \"Class\" scrubbing is still left in, for b/w compat, but nobody can really test it  \n13:36\u00a0<Enygma`>\u00a0well I don`t see how we can avoid the \"Class\" scrubbing if we want to have backwards compat  \n13:37\u00a0<Enygma`>\u00a0my main question is if we should use the class document title or a new object to hold the app pretty name / data space name  \n13:37\u00a0<Enygma`>\u00a0it might be cleaner with the object in the sense that we don`t introduce limitations  \n13:37\u00a0<ClemensR>\u00a0yes, so I started wondering if it is worth the hassle to scrap it at all  \n13:38\u00a0<Enygma`>\u00a0not sure what you mean  \n13:39\u00a0<Enygma`>\u00a0brb in 10 minutes  \n13:46\u00a0<vmassol>\u00a0btw I ahven't followed the discussion but FTR I don't like cleaning in general.I believe we should support all characters in space and page names  \n13:46\u00a0<vmassol>\u00a0maybe the discussion is about something else though ;) (just jumping in)  \n13:48\u00a0<polx>\u00a0has joined #xwiki  \n13:52\u00a0<ClemensR>\u00a0ah, I managed to misunderstood the problem after thinking about it long enough. Personally I think having an explicit field to store the information where to find the data space is better than using the title. Users will not really be tempted to edit the title in the first place, but some might, with \"interesting\" consequences. Folks who mess with the object editor to change fields are expected to know what they are doing, however, unlike someone who edits t  \n13:52\u00a0<mflorea>\u00a0Enygma`: using the class title is too fragile. So I would go for a different solution. The extreme is to not clean the name of the code space at all. The main issue afaik is that the class ref is used to compute the id of the fields in edit mode, and normally XML names support a limited set of chars. But I'm not sure, I don't remember if there are other issues  \n13:53\u00a0<vmassol>\u00a0actually I remove what I said  \n13:54\u00a0<vmassol>\u00a0since the user is not entering a space name but a name for the app if I understand correctly  \n14:06\u00a0<tmortagne>\u00a0mflorea: the limit we have right now in XAR XML format is with class property which is used as XML element name (seriously...)  \n14:06\u00a0<Enygma`>\u00a0mflorea: yes, I have made sure that the class name and code space names are XML escaped  \n14:07\u00a0<Enygma`>\u00a0so that the displayers properly set the form element IDs in edit mode  \n14:07\u00a0<Enygma`>\u00a0so indeed, it looks like I will be going for the object solution where we explicitly state the application's data space  \n14:08\u00a0<Enygma`>\u00a0for old apps (that don`t have this object), I will be extracting it from the class title since we really have no option  \n14:16\u00a0<Enygma`>\u00a0wondering what name to pick for the class of this object, only ApplicationDescriptor comes to my mind :D  \n14:16\u00a0<Enygma`>\u00a0MetadataClass works also  \n14:25\u00a0<polx>\u00a0has quit  \n14:25\u00a0<vmassol>\u00a0has quit  \n14:29\u00a0<vmassol>\u00a0has joined #xwiki  \n14:39\u00a0<polx>\u00a0has joined #xwiki  \n14:55\u00a0<AFKGeek>\u00a0has quit  \n15:06\u00a0<ClemensR>\u00a0has left #xwiki  \n15:42\u00a0<Lyes1>\u00a0has joined #xwiki  \n15:44\u00a0<Lyes>\u00a0has quit  \n16:18\u00a0<DarkKnightCZ>\u00a0has quit  \n16:38\u00a0<evalica>\u00a0has quit  \n16:43\u00a0<Denis>\u00a0has quit  \n17:02\u00a0<evalica>\u00a0has joined #xwiki  \n17:14\u00a0<tmortagne>\u00a0vmassol: ContextualAuthorizationManager does not exist in 5.4.x  \n17:14\u00a0<vmassol>\u00a0argh  \n17:14\u00a0<vmassol>\u00a0thanks  \n17:14\u00a0<vmassol>\u00a0looking ito \u00a0it  \n17:38\u00a0<vmassol>\u00a0this.wikiDescriptorManager.getAllIds() doesn't exist either...  \n17:38\u00a0<vmassol>\u00a0fixing both  \n17:53\u00a0<OSIMasson>\u00a0has joined #xwiki  \n18:02\u00a0<cjd>\u00a0has quit  \n18:19\u00a0<tmortagne>\u00a0has quit  \n18:47\u00a0<mflorea>\u00a0has quit  \n19:05\u00a0<evalica>\u00a0has quit  \n19:05\u00a0<Enygma`>\u00a0has quit  \n19:11\u00a0<polx>\u00a0has quit  \n19:25\u00a0<Slashman>\u00a0has quit  \n19:32\u00a0<vmassol>\u00a0has quit  \n19:41\u00a0<polx>\u00a0has joined #xwiki  \n20:04\u00a0<lucaa>\u00a0has quit  \n20:14\u00a0<abusenius>\u00a0has joined #xwiki  \n20:37\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:37\u00a0<tmortagne>\u00a0has quit  \n20:43\u00a0<polx>\u00a0has quit  \n20:59\u00a0<polx>\u00a0has joined #xwiki  \n21:01\u00a0<polx>\u00a0has quit  \n21:04\u00a0<polx>\u00a0has joined #xwiki  \n21:12\u00a0<polx>\u00a0has quit  \n21:15\u00a0<polx>\u00a0has joined #xwiki  \n21:29\u00a0<polx>\u00a0has quit  \n21:40\u00a0<polx>\u00a0has joined #xwiki  \n22:00\u00a0<xwikibot>\u00a0has joined #xwiki  \n22:39\u00a0<mflorea>\u00a0has joined #xwiki  \n22:41\u00a0<mflorea>\u00a0has quit\n"}