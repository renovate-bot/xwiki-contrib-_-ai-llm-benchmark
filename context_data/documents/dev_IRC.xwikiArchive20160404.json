{"id": "dev:IRC.xwikiArchive20160404", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160404", "title": "IRC Archive for channel #xwiki on 04 April 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:22\u00a0<seanthegeek>\u00a0has left #xwiki  \n01:04\u00a0<abusenius>\u00a0has quit  \n06:07\u00a0<mflorea>\u00a0has joined #xwiki  \n06:10\u00a0<Bugendolf>\u00a0has quit  \n06:11\u00a0<Bugendolf>\u00a0has joined #xwiki  \n07:18\u00a0<Aranjedeath>\u00a0has quit  \n07:52\u00a0<Pbas>\u00a0has joined #xwiki  \n08:09\u00a0<cjd>\u00a0has quit  \n08:18\u00a0<mflorea>\u00a0has quit  \n08:18\u00a0<vmassol>\u00a0has joined #xwiki  \n08:40\u00a0<vmassol1>\u00a0has joined #xwiki  \n08:44\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:01\u00a0<cjd>\u00a0has joined #xwiki  \n09:17\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:19\u00a0<lkrejci>\u00a0has joined #xwiki  \n09:35\u00a0<M-vmassol>\u00a0has quit  \n09:35\u00a0<M-vmassol>\u00a0has joined #xwiki  \n09:36\u00a0<mflorea>\u00a0has joined #xwiki  \n09:42\u00a0<KermitTheFragger>\u00a0has quit  \n09:43\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:44\u00a0<Bugendolf>\u00a0has quit  \n09:44\u00a0<Bugendolf>\u00a0has joined #xwiki  \n09:47\u00a0<KermitTheFragger>\u00a0has quit  \n09:49\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:50\u00a0<Denis>\u00a0has joined #xwiki  \n09:55\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:58\u00a0<evalica>\u00a0has joined #xwiki  \n10:00\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:06\u00a0<Slashman>\u00a0has joined #xwiki  \n10:20\u00a0<vmassol>\u00a0has joined #xwiki  \n10:20\u00a0<vmassol1>\u00a0has quit  \n10:32\u00a0<acotiuga>\u00a0has joined #xwiki  \n10:43\u00a0<tmortagne>\u00a0vmassol: re you working on failing rest test ?  \n10:44\u00a0<tmortagne>\u00a0there is something it does not like much about the new tips panel but did not digged yet  \n10:45\u00a0<vmassol>\u00a0tmortagne: nope I'm not on the rest test  \n10:45\u00a0<tmortagne>\u00a0looks like summary links are wrong  \n10:45\u00a0<tmortagne>\u00a0for NS  \n10:45\u00a0<tmortagne>\u00a0the link is Help.TipsPanel/pages/WebHome  \n10:45\u00a0<tmortagne>\u00a0http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Help.TipsPanel/pages/WebHome  \n10:45\u00a0<tmortagne>\u00a0should be http://localhost:8080/xwiki/rest/wikis/xwiki/spaces/Help/spaces/TipsPanel/pages/WebHome  \n10:46\u00a0<tmortagne>\u00a0is this our first subpage in XE ?  \n10:47\u00a0<tmortagne>\u00a0I tough we started adding some already but maybe not  \n10:48\u00a0<Enygma`>\u00a0might be  \n10:48\u00a0<vmassol>\u00a0I think it's our first one yes  \n10:52\u00a0<tmortagne>\u00a0the page summary code seems to be using some nested space related tool, will have to debug that  \n10:58\u00a0<tmortagne>\u00a0found it, REST module need serious cleanup to reuse stuff more  \n10:59\u00a0<vmassol>\u00a0k  \n11:17\u00a0<vmassol>\u00a0trying to understand this error ATM: http://ci.xwiki.org/job/xwiki-enterprise-test-webstandards/lastCompletedBuild/org.xwiki.enterprise$xwiki-enterprise-test-webstandards/testReport/org.xwiki.test.webstandards.framework/DefaultValidationTest/Validating\\_HTML5\\_validity\\_for\\_\\_xwiki\\_Panels\\_EditModes\\_\\_\\_executed\\_with\\_credentials\\_Admin\\_admin/  \n11:52\u00a0<Enygma`>\u00a0that javascrip looks like it`s missing some variables  \n11:52\u00a0<Enygma`>\u00a0${formname} and $param  \n11:55\u00a0<vmassol>\u00a0yup  \n11:55\u00a0<vmassol>\u00a0it's in edit.vm  \n12:15\u00a0<Enygma`>\u00a0$param does not seem to be anywhere whough  \n12:15\u00a0<Enygma`>\u00a0\\*though  \n12:20\u00a0<Enygma`>\u00a0the only missing ; that might be added would be between \"})\", at the end of the javascript  \n12:20\u00a0<Enygma`>\u00a0though I`m not sure if it`s required (maybe our validators are more strict)  \n13:53\u00a0<M-vmassol>\u00a0has quit  \n13:53\u00a0<M-yflory>\u00a0has quit  \n13:58\u00a0<seanthegeek>\u00a0has joined #xwiki  \n13:59\u00a0<seanthegeek>\u00a0How can I get the XWiki version in a Java component?  \n14:03\u00a0<M-cjd>\u00a0has joined #xwiki  \n14:05\u00a0<vmassol>\u00a0seanthegeek: Hi, let me find the reference doc  \n14:05\u00a0<vmassol>\u00a0basically you ask the extension manager  \n14:06\u00a0<vmassol>\u00a0@Inject  \n14:06\u00a0<vmassol>\u00a0private CoreExtensionRepository coreExtensionRepository;  \n14:06\u00a0<vmassol>\u00a0and hten  \n14:06\u00a0<vmassol>\u00a0CoreExtension distributionExtension = this.coreExtensionRepository.getEnvironmentExtension()  \n14:06\u00a0<vmassol>\u00a0version is:  \n14:06\u00a0<vmassol>\u00a0distributionExtension.getId().getVersion()  \n14:07\u00a0<vmassol>\u00a0I'll udpate some doc  \n14:10\u00a0<vmassol>\u00a0seanthegeek: I've added it to http://www.xwiki.org/xwiki/bin/view/FAQ/How+can+I+find+the+version+of+XWiki+I%27m+running  \n14:52\u00a0<M-jsimard>\u00a0has joined #xwiki  \n14:52\u00a0<M-vmassol>\u00a0has joined #xwiki  \n14:52\u00a0<M-yflory>\u00a0has joined #xwiki  \n14:53\u00a0<M-mouhb>\u00a0has joined #xwiki  \n14:56\u00a0<seanthegeek>\u00a0has quit  \n14:57\u00a0<seanthegeek>\u00a0has joined #xwiki  \n15:09\u00a0<vmassol>\u00a0Enygma`: so where do we stand on the release? Only CI to fix or are there more things?  \n15:09\u00a0<vmassol>\u00a0on CI who's doing anything?  \n15:09\u00a0<vmassol>\u00a0(make sure to claim build errors - does that send an email btw?)  \n15:12\u00a0<Enygma`>\u00a0vmassol: most of the issues are fixed AFAIK  \n15:12\u00a0<Enygma`>\u00a0but the build is taking ages  \n15:15\u00a0<vmassol>\u00a0taking http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-flamingo-skin-test-tests/2716/testReport/org.xwiki.flamingo.test.ui/DeletePageTest/testDeleteChildren/  \n15:17\u00a0<Enygma`>\u00a0was about to mention it, but it might be a flake  \n15:18\u00a0<vmassol>\u00a0I'm trying to fix it  \n15:18\u00a0<vmassol>\u00a0we need to fix flickers  \n15:37\u00a0<Enygma`>\u00a0new flake http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/2332/testReport/junit/org.xwiki.test.wysiwyg/MacroTest/testWhiteSpacesInsideCodeMacroArePreserved/ ?  \n15:42\u00a0<acotiuga>\u00a0@Vincent: moving here for http://pastebin.com/tFP1FjPi NPE  \n15:42\u00a0<acotiuga>\u00a0For steps to reproduce, here's my code http://pastebin.com/bm22YxWh  \n15:43\u00a0<acotiuga>\u00a0I created a new component  \n15:43\u00a0<acotiuga>\u00a0RatingsConfiguration interface with DefaultRatingsConfiguration  \n15:43\u00a0<acotiuga>\u00a0I added DefaultRatingsConfiguration to META-INF/components.txt  \n15:44\u00a0<acotiuga>\u00a0and I marked DefaultRatingsConfiguration class as @Unstable and I've done the same to the getConfigurationDocument() method implementation  \n15:44\u00a0<acotiuga>\u00a0Would you like me to create a Jira tichet ?  \n15:47\u00a0<acotiuga>\u00a0@vmassol: ping  \n15:48\u00a0<Enygma`>\u00a0testing \u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/2332/testReport/junit/org.xwiki.test.wysiwyg/MacroTest/testWhiteSpacesInsideCodeMacroArePreserved/ locally  \n15:49\u00a0<vmassol>\u00a0acotiuga: reading  \n15:51\u00a0<vmassol>\u00a0I'll try to reproduce it but first, I need to finish something, should be done in 10-15mn  \n15:52\u00a0<vmassol>\u00a0you can create a jira tticket yes  \n15:52\u00a0<vmassol>\u00a0thanks  \n15:52\u00a0<Enygma`>\u00a0AFAIK, the @Unstable annotation is only for classes/interfaces  \n15:52\u00a0<Enygma`>\u00a0as https://github.com/xwiki/xwiki-commons/blob/master/xwiki-commons-tools/xwiki-commons-tool-verification-resources/src/main/java/org/xwiki/tool/checkstyle/UnstableAnnotationCheck.java#L79 also seems to suggest  \n15:53\u00a0<vmassol>\u00a0@Enygma`he's using the anno on clas/interface  \n15:53\u00a0<vmassol>\u00a0acotiuga: note that you don't need the anno on internal packages  \n15:53\u00a0<vmassol>\u00a0(you shoudn't use it there)  \n15:53\u00a0<vmassol>\u00a0it's only on public api that it has a meaning  \n15:53\u00a0<Enygma`>\u00a0vmassol: he`s also using it on a method  \n15:53\u00a0<vmassol>\u00a0ahhhh  \n15:54\u00a0<Enygma`>\u00a0\"and I've done the same to the getConfigurationDocument() method implementation\"  \n15:54\u00a0<vmassol>\u00a0there are several issues in there  \n15:54\u00a0<vmassol>\u00a01) the whole file is@since 8.1M1 so there shouldn't be anything on methid  \n15:55\u00a0<vmassol>\u00a02) this is in the intenral package so there should be no anno  \n15:55\u00a0<vmassol>\u00a0then the issue is:  \n15:55\u00a0<vmassol>\u00a0you're missing the @since javadoc comment  \n15:56\u00a0<vmassol>\u00a0I need to check for that instead of the NPE  \n15:56\u00a0<vmassol>\u00a0so that's 3)  \n15:56\u00a0<vmassol>\u00a0basically it doesn't find the since in the javadoc and fails  \n15:56\u00a0<vmassol>\u00a0(acotiuga)  \n15:56\u00a0<acotiuga>\u00a0I see  \n15:57\u00a0<vmassol>\u00a0at this line: https://github.com/xwiki/xwiki-commons/blob/a1a7caa68ed7f5f798951bda3d333ad72b617f3c/xwiki-commons-tools/xwiki-commons-tool-verification-resources/src/main/java/org/xwiki/tool/checkstyle/UnstableAnnotationCheck.java#L97-L97  \n15:57\u00a0<vmassol>\u00a0cmt is null  \n15:57\u00a0<vmassol>\u00a0acotiuga: could you open a jira issue so that I can imrpvoe it?  \n15:57\u00a0<acotiuga>\u00a0sure  \n15:57\u00a0<vmassol>\u00a0I've always put @since so I 've never seen it  \n15:58\u00a0<vmassol>\u00a0(and you should do that too!)  \n15:58\u00a0<vmassol>\u00a0;)  \n16:00\u00a0<woshilapin>\u00a0has quit  \n16:01\u00a0<acotiuga>\u00a0I just wrote a very small description as my use case is wrong.  \n16:02\u00a0<acotiuga>\u00a0http://jira.xwiki.org/browse/XCOMMONS-956  \n16:14\u00a0<vmassol>\u00a0thanks  \n16:29\u00a0<vmassol>\u00a0tmortagne: we're lagging behind in term of FF version on the agents, we're using FF 32.0.1 but latest is 45.0.1. What distribution do we use for upgrading FF on agents? Just a wget on https://download.mozilla.org/?product=firefox-45.0.1-SSL&os=linux&lang=en-US ?  \n16:30\u00a0<Enygma`>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-wysiwyg/org.xwiki.enterprise$xwiki-enterprise-test-wysiwyg/2332/testReport/junit/org.xwiki.test.wysiwyg/MacroTest/testWhiteSpacesInsideCodeMacroArePreserved/ passes locally, just a timing issue on the wysiwyg loading apparently  \n16:30\u00a0<tmortagne>\u00a0AFAIK we do it by hand but usually putting the last version is not a good idea depending on the version of surefire  \n16:30\u00a0<tmortagne>\u00a0vmassol:  \n16:30\u00a0<vmassol>\u00a0surefire?  \n16:30\u00a0<vmassol>\u00a0selenium?  \n16:30\u00a0<tmortagne>\u00a0yes sorry  \n16:30\u00a0<vmassol>\u00a0yes we should upgrade to version 44  \n16:30\u00a0<Enygma`>\u00a0we`ve stopped upgrading when selenium stopped supporting native events  \n16:31\u00a0<Enygma`>\u00a0AFAIR  \n16:31\u00a0<tmortagne>\u00a0remember we also build 7.4.x  \n16:31\u00a0<tmortagne>\u00a0so we need a FF version supported by whatever version of selenium we have in 7.4.x basically  \n16:31\u00a0<tmortagne>\u00a0hmm we still have 7.1.x too probably  \n16:32\u00a0<vmassol>\u00a0ah that's a pain and a problem  \n16:33\u00a0<vmassol>\u00a0I'll wait for the release to be done and then I'll try some upgrades  \n16:40\u00a0<tmortagne>\u00a0maybe we can setup something with several different version of FF like we have several different version of Java  \n16:40\u00a0<tmortagne>\u00a0would probably be the simplest, that way we can upgrade FF when we want for master without breaking other branches (and contrib extension can choose the verison of FF they want)  \n16:49\u00a0<vmassol>\u00a0yes, it's not too hard to do, just need to introduce some maven properties for overriding the location of FF in the factory  \n16:51\u00a0<vmassol>\u00a0WebDriverFactory  \n16:53\u00a0<fitz\\_>\u00a0has joined #xwiki  \n16:53\u00a0<tmortagne>\u00a0vmassol: actually a env var is enough  \n16:54\u00a0<tmortagne>\u00a0we indicate somewhere the path of FF in jenkins, that's probably the part we need to make configurable  \n16:54\u00a0<vmassol>\u00a0FirefoxBinary binary = new FirefoxBinary(new File(\"path/to/binary\"));  \n16:54\u00a0<vmassol>\u00a0FirefoxProfile profile = new FirefoxProfile();  \n16:55\u00a0<vmassol>\u00a0yes or what you say, we have both options indeed  \n16:56\u00a0<vmassol>\u00a0the env option has the advantage that it can work on existing branches  \n16:56\u00a0<vmassol>\u00a0it's also probably more logical to leave environment stuff to the ci  \n16:57\u00a0<vmassol>\u00a0we do that already for office btw  \n16:57\u00a0<vmassol>\u00a0XWIKI\\_OFFICE\\_HOME  \n17:00\u00a0<vmassol>\u00a0we might need https://wiki.jenkins-ci.org/display/JENKINS/EnvInject+Plugin though  \n17:00\u00a0<vmassol>\u00a0and it means confguring it for all jobs that run func tests  \n17:04\u00a0<acotiuga>\u00a0I'm looking to see the usage of a class in Ratings App and I see something which looks like a dead end: https://github.com/xwiki/xwiki-platform/search?utf8=%E2%9C%93&q=ConfiguredReputationAlgorithmProvider  \n17:05\u00a0<tmortagne>\u00a0vmassol: whatever we choose we will have to set something in all jobs I think  \n17:05\u00a0<acotiuga>\u00a0Does this mean that the code can be removed because is not used anywhere?  \n17:05\u00a0<tmortagne>\u00a0at least the job not using the default  \n17:05\u00a0<acotiuga>\u00a0Also I'm considering \"// TODO: replace this system by a default component dynamically taking into account the configuration behind the scene\" comment  \n17:06\u00a0<tmortagne>\u00a0acotiuga: this component use used as ConfiguredProvider<ReputationAlgorithm>  \n17:06\u00a0<tmortagne>\u00a0not directly  \n17:07\u00a0<tmortagne>\u00a0you will have the same thing for most components implementations classes  \n17:07\u00a0<tmortagne>\u00a0s/use used/is used/  \n17:08\u00a0<acotiuga>\u00a0yep, I understang  \n17:15\u00a0<vmassol>\u00a0FTR last time platform built ok was exactly 1 month ago\u2026  \n17:15\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/2597/  \n17:15\u00a0<acotiuga>\u00a0What is the best approach in terms of processing the document in java? Is it better to work with XWikiDocuments and in the end to get the Document?  \n17:16\u00a0<vmassol>\u00a0(and not even the full build, just a small part)  \n17:23\u00a0<tmortagne>\u00a0Enygma`: sorry for the late coming but find out something that was not very right in XWIKI-13217  \n17:23\u00a0<tmortagne>\u00a0\\*commit  \n17:26\u00a0<tmortagne>\u00a0I mean XCOMMONS-930  \n17:30\u00a0<Enygma`>\u00a0vmassol: because of the flaky functional tests that we now have in platform  \n17:30\u00a0<Enygma`>\u00a0tmortagne: it`s ok as long as you did not introduce new bugs :)  \n17:31\u00a0<vmassol>\u00a0Enygma`: I know why, but that doesn't make it better :)  \n17:31\u00a0<Enygma`>\u00a0it`s late to do the release today  \n17:31\u00a0<vmassol>\u00a0I know that the entropy is positive in a closed system in the universe but we need to fight it and do something about it...  \n17:40\u00a0<KermitTheFragger>\u00a0has quit  \n17:41\u00a0<lkrejci>\u00a0has quit  \n17:44\u00a0<fitz\\_>\u00a0has quit  \n17:44\u00a0<tmortagne>\u00a0hmm \"missing documentation for closed JIRA issues for version 8.1-milestone-1\" in release note seems broken  \n17:48\u00a0<tmortagne>\u00a0ha no it's noscript FF plugin that does not like it  \n17:48\u00a0<cjd>\u00a0heh JIRA is using XSS  \n17:51\u00a0<tmortagne>\u00a0modified it to something noscript like better  \n17:51\u00a0<tmortagne>\u00a011 issue without documentation for me, looks like I have some work  \n17:51\u00a0<tmortagne>\u00a0s/issue/issues/  \n18:25\u00a0<cjd>\u00a0has quit  \n18:30\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n18:32\u00a0<evalica>\u00a0has quit  \n18:36\u00a0<Enygma`>\u00a0has quit  \n18:40\u00a0<tmortagne>\u00a0has quit  \n19:25\u00a0<mflorea>\u00a0has quit  \n19:36\u00a0<vmassol>\u00a0acotiuga: I'm done on the issue  \n19:36\u00a0<vmassol>\u00a0took the time to add unit tests  \n19:36\u00a0<acotiuga>\u00a0ok, thanks  \n19:36\u00a0<vmassol>\u00a0I learnt how to write unit tests for custom checkstyle checks in the process ;)  \n19:36\u00a0<vmassol>\u00a0pretty simple actually  \n19:36\u00a0<acotiuga>\u00a0using the annotations correct, I didn't have any problems  \n19:40\u00a0<acotiuga>\u00a0I guess there are not tests for Ratings Application  \n19:40\u00a0<vmassol>\u00a0really? that's bad  \n19:40\u00a0<acotiuga>\u00a0and I will create a PR without tests for now, is it ok?  \n19:40\u00a0<acotiuga>\u00a0I've done a lot of changes  \n19:40\u00a0<vmassol>\u00a0hehe  \n19:40\u00a0<acotiuga>\u00a0and I can start tomorrow to write some tests, WDYS?  \n19:40\u00a0<vmassol>\u00a0there's a problem with  \n19:41\u00a0<vmassol>\u00a0\"I've done a lot of changes\" and \"I will create a PR without tests for now\" :)  \n19:41\u00a0<vmassol>\u00a0sure  \n19:41\u00a0<acotiuga>\u00a0well, there is no test module ...or I can't find it  \n19:41\u00a0<vmassol>\u00a0that's very bad and I wonder how thomas could have accepeted it ;)  \n19:42\u00a0<vmassol>\u00a0(he was the one who committed the code AFAIR)  \n19:42\u00a0<acotiuga>\u00a0maybe there are in some other place ?  \n19:42\u00a0<vmassol>\u00a0maybe  \n19:45\u00a0<vmassol>\u00a0@all: have a good evening, stopping on my side  \n19:45\u00a0<vmassol>\u00a0for the day  \n19:46\u00a0<acotiuga>\u00a0good evening :)  \n19:50\u00a0<acotiuga>\u00a0has quit  \n20:04\u00a0<abusenius>\u00a0has joined #xwiki  \n20:05\u00a0<seanthegeek>\u00a0has quit  \n20:22\u00a0<Denis1>\u00a0has joined #xwiki  \n20:25\u00a0<Denis>\u00a0has quit  \n20:27\u00a0<cjd>\u00a0has joined #xwiki  \n20:35\u00a0<Slashman>\u00a0has quit  \n20:54\u00a0<vmassol>\u00a0has quit  \n21:30\u00a0<lkrejci>\u00a0has joined #xwiki  \n21:49\u00a0<lkrejci>\u00a0has quit  \n21:54\u00a0<lkrejci>\u00a0has joined #xwiki  \n22:57\u00a0<tmortagne>\u00a0has joined #xwiki  \n22:59\u00a0<abusenius>\u00a0has quit  \n22:59\u00a0<abusenius>\u00a0has joined #xwiki  \n23:02\u00a0<tmortagne>\u00a0has quit  \n23:05\u00a0<abusenius>\u00a0has quit  \n23:30\u00a0<vmassol>\u00a0has joined #xwiki  \n23:32\u00a0<Aranjedeath>\u00a0has quit  \n23:35\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n23:45\u00a0<daemoen>\u00a0is now known as <Daemoen>  \n23:49\u00a0<lkrejci>\u00a0has quit\n"}