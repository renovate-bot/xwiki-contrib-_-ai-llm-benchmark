{"id": "dev:IRC.xwikiArchive20140414", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140414", "title": "IRC Archive for channel #xwiki on 14 April 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has joined #xwiki  \n00:41\u00a0<polx>\u00a0has quit  \n01:58\u00a0<Denis>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n06:00\u00a0<Denis>\u00a0has quit  \n06:42\u00a0<mflorea>\u00a0has joined #xwiki  \n06:52\u00a0<evalica>\u00a0has joined #xwiki  \n07:01\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:25\u00a0<DarkKnightCZ>\u00a0has quit  \n07:26\u00a0<xwikiorg\\_guest\\_7>\u00a0has joined #xwiki  \n07:26\u00a0<xwikiorg\\_guest\\_7>\u00a0is now known as <teekay>  \n07:27\u00a0<teekay>\u00a0is now known as <teekayz>  \n07:28\u00a0<teekayz>\u00a0hey guys, just having a problem with my new xwiki install (5.4.4) and was wondering if anyone was here :)  \n08:08\u00a0<polx>\u00a0has joined #xwiki  \n08:12\u00a0<polx>\u00a0has quit  \n08:14\u00a0<msmeria>\u00a0has joined #xwiki  \n08:15\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:17\u00a0<DarkKnightCZ>\u00a0has quit  \n08:17\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:17\u00a0<18VAAEBB7>\u00a0has quit  \n08:38\u00a0<cjd>\u00a0has joined #xwiki  \n08:44\u00a0<polx>\u00a0has joined #xwiki  \n08:47\u00a0<teekayz>\u00a0oh nvm i fixed it :D  \n09:01\u00a0<teekayz>\u00a0has quit  \n09:05\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n09:08\u00a0<mflorea>\u00a0has quit  \n09:20\u00a0<polx\\_>\u00a0has joined #xwiki  \n09:21\u00a0<polx>\u00a0has quit  \n09:21\u00a0<polx\\_>\u00a0is now known as <polx>  \n09:29\u00a0<mflorea>\u00a0has joined #xwiki  \n09:33\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:38\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:38\u00a0<DarkKnightCZ>\u00a0hi, i'm in process of implementing SSO auth (spnego) into xwiki, using only this SSO isn't problem... the problematic part is to have fallback mode (default login form), any ideas, how to do this? (i've thought of two login pages, if sso fails, second will take place)  \n09:45\u00a0<spu7nic>\u00a0has joined #xwiki  \n09:46\u00a0<spu7nic>\u00a0Good morning :)  \n09:50\u00a0<spu7nic>\u00a0Is there an example how to process custom multi-select lists in inline-edit mode? :)  \n09:51\u00a0<msmeria>\u00a0tmortagne: good morning!  \n09:51\u00a0<tmortagne>\u00a0DarkKnightCZ: usually fallbacking on default is just about calling super.whatevermethodImoverriding in a catch  \n09:51\u00a0<spu7nic>\u00a0I got it working, when I append the parameters via query string, but those seem to be ignored with inline editing :/  \n09:51\u00a0<tmortagne>\u00a0msmeria: Hi  \n09:51\u00a0<lucaa>\u00a0has joined #xwiki  \n09:52\u00a0<msmeria>\u00a0I was testing XWIKI-10200 and now I don't get any stacktrace  \n09:52\u00a0<msmeria>\u00a0plus the xar is properly generated  \n09:52\u00a0<msmeria>\u00a0but when I import it I get an error for 2 of the 3 files inside it  \n09:52\u00a0<DarkKnightCZ>\u00a0tmortagne: yep, but since i dont use own spnego authenticator (tomcat handles that), i've got to have two pages (spnego will return 403 if user cancels the basic auth fallback)  \n09:53\u00a0<msmeria>\u00a0if I use \"xwiki instance output\" the pages are properly imported in xwiki  \n09:53\u00a0<spu7nic>\u00a0And I may have an improvement for the livetable component which could be useful for everyone :)  \n09:53\u00a0<DarkKnightCZ>\u00a0i guess it could be done by overriding xwiki.authentication.errorpage, but that will override the default error handling  \n09:54\u00a0<tmortagne>\u00a0msmeria: not sure I understand, you mean importing the XAR works well with wikistream UI but not with standard import UI ?  \n09:55\u00a0<spu7nic>\u00a0Or at least for those who use custom mapped classes  \n09:55\u00a0<tmortagne>\u00a0DarkKnightCZ: but will tomcat let the user pass through if the SSO is not valid ?  \n09:55\u00a0<msmeria>\u00a0tmortagne: I use wikistream to generate a XAR from a confluence zip  \n09:55\u00a0<msmeria>\u00a0but when I import that xar I get an error for 2 files  \n09:55\u00a0<tmortagne>\u00a0yes I understood how you exported it  \n09:56\u00a0<tmortagne>\u00a0I'm asking how you import it when you get an error  \n09:56\u00a0<msmeria>\u00a0I import it in Administration - Import  \n09:56\u00a0<msmeria>\u00a0as a normal xar archive  \n09:56\u00a0<tmortagne>\u00a0ok so standard import UI  \n09:56\u00a0<msmeria>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a01 Document(s) installed \u00a0\u00a0\u00a0\u00a00 Document(s) skipped \u00a0\u00a0\u00a0\u00a02 Document(s) with error  \n09:57\u00a0<tmortagne>\u00a0and you don't get error when importing with wikistream ?  \n09:57\u00a0<msmeria>\u00a0the docs with error are the ones with actual content  \n09:57\u00a0<tmortagne>\u00a0importing the XAR I mean  \n09:57\u00a0<msmeria>\u00a0I didn't try with WS  \n09:57\u00a0<msmeria>\u00a0testing  \n09:58\u00a0<tmortagne>\u00a0I was refering to \"if I use \"xwiki instance output\" the pages are properly imported in xwiki\"  \n09:58\u00a0<tmortagne>\u00a0anyway would be great if you could create a jira issue with details on how to end up with these error in standard import  \n09:59\u00a0<tmortagne>\u00a0you don't have to test with wikistream UI :)  \n10:00\u00a0<msmeria>\u00a0tmortagne: ok I'll create an issue  \n10:00\u00a0<tmortagne>\u00a0thanks !  \n10:00\u00a0<vmassol>\u00a0has joined #xwiki  \n10:00\u00a0<msmeria>\u00a0you're welcome  \n10:01\u00a0<DarkKnightCZ>\u00a0tmortagne: if SSO is not valid, it returns 401 (Unauthorized)  \n10:01\u00a0<tmortagne>\u00a0DarkKnightCZ: what I mean is that it won't access XWik in that case  \n10:02\u00a0<tmortagne>\u00a0so not sure hat you can do at XWiki level  \n10:02\u00a0<tmortagne>\u00a0s/hat/what/  \n10:03\u00a0<tmortagne>\u00a0or do you mean that tomcat ask for basic auth when there is no SSO informations and you want to take into account this basic auth credentials at XWiki level ?  \n10:04\u00a0<tmortagne>\u00a0IMO in all cases from XWiki point of view there should be a user id in request.getRemoteUser()  \n10:04\u00a0<vmassol>\u00a0good morning, FTR still no internet at home, ATM at a friend's place\u2026  \n10:06\u00a0<spu7nic>\u00a0^\\_\u00b0  \n10:07\u00a0<DarkKnightCZ>\u00a0tmortagne: yep, authenticating the user in xwiki is not problem... i'm now trying to find out if tomcat lets xwiki to handle that 401 (otherwise i guess there could be separate page for sso without any redirection)  \n10:08\u00a0<tmortagne>\u00a0(have to go, back in 1h)  \n10:10\u00a0<polx>\u00a0has quit  \n10:13\u00a0<polx>\u00a0has joined #xwiki  \n10:20\u00a0<polx>\u00a0has quit  \n10:21\u00a0<polx>\u00a0has joined #xwiki  \n10:22\u00a0<lucaa1>\u00a0has joined #xwiki  \n10:23\u00a0<lucaa>\u00a0has quit  \n10:25\u00a0<vmassol>\u00a0has quit  \n10:26\u00a0<vmassol>\u00a0has joined #xwiki  \n10:27\u00a0<polx\\_>\u00a0has joined #xwiki  \n10:27\u00a0<polx>\u00a0has quit  \n10:31\u00a0<cjd>\u00a0vmassol: fyi setting a user to inactive seems to be pretty effective, at least they stoppped making pages as soon as I did it  \n10:35\u00a0<vmassol>\u00a0has quit  \n10:35\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:37\u00a0<polx\\_>\u00a0has joined #xwiki  \n10:37\u00a0<polx>\u00a0has quit  \n10:37\u00a0<polx\\_>\u00a0is now known as <polx>  \n10:39\u00a0<polx>\u00a0has quit  \n10:44\u00a0<polx>\u00a0has joined #xwiki  \n10:45\u00a0<vmassol>\u00a0has joined #xwiki  \n10:45\u00a0<spu7nic>\u00a0Hmmm, strange behavior - it works with preview, but not with save & continue or save & view :/  \n10:49\u00a0<vmassol>\u00a0has quit  \n10:54\u00a0<vmassol>\u00a0has joined #xwiki  \n10:59\u00a0<vmassol>\u00a0has quit  \n11:06\u00a0<vmassol>\u00a0has joined #xwiki  \n11:08\u00a0<polx>\u00a0has quit  \n11:10\u00a0<polx>\u00a0has joined #xwiki  \n11:11\u00a0<vmassol>\u00a0has quit  \n11:29\u00a0<polx>\u00a0has quit  \n11:31\u00a0<vmassol>\u00a0has joined #xwiki  \n11:37\u00a0<vmassol>\u00a0has quit  \n11:45\u00a0<vmassol>\u00a0has joined #xwiki  \n11:46\u00a0<sdumitriu>\u00a0has quit  \n11:46\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:49\u00a0<vmassol>\u00a0has quit  \n11:59\u00a0<xwikibot>\u00a0has joined #xwiki  \n11:59\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n12:41\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:47\u00a0<Denis>\u00a0has joined #xwiki  \n12:50\u00a0<DarkKnightCZ>\u00a0has quit  \n13:01\u00a0<benoitc>\u00a0has quit  \n13:01\u00a0<benoitc>\u00a0has joined #xwiki  \n13:18\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:22\u00a0<DarkKnightCZ>\u00a0tmortagne: any ideas, what could cause bad permissions when using custom authenticator? ( http://pastebin.com/4HqR6DYT ), user is logged in, but he cannot do anything (no rights)  \n13:38\u00a0<DarkKnightCZ>\u00a0has quit  \n13:39\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:44\u00a0<DarkKnightCZ>\u00a0ok, so the problem is for subwikis (users have rights for main wiki)  \n13:51\u00a0<DarkKnightCZ>\u00a0has quit  \n13:51\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n13:57\u00a0<DarkKnightCZ>\u00a0has quit  \n13:57\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:18\u00a0<vmassol>\u00a0has joined #xwiki  \n14:25\u00a0<vmassol>\u00a0has quit  \n14:27\u00a0<tmortagne>\u00a0DarkKnightCZ: right is usually about groups  \n14:27\u00a0<tmortagne>\u00a0maybe main wiki users don't have right on subwikis  \n14:28\u00a0<tmortagne>\u00a0I don't think it has anything to do with your authenticator  \n14:28\u00a0<tmortagne>\u00a0just make sure you allow main wiki XWikiAllGroup group to access subwikis  \n14:29\u00a0<tmortagne>\u00a0you can probably reproduce the exact same issue by creating a new main wiki user from the user admin UI  \n14:31\u00a0<vmassol>\u00a0has joined #xwiki  \n14:32\u00a0<vmassol1>\u00a0has joined #xwiki  \n14:35\u00a0<vmassol>\u00a0has quit  \n14:38\u00a0<vmassol1>\u00a0has quit  \n14:39\u00a0<DarkKnightCZ>\u00a0tmortagne: if i use LDAP authenticator, users have correct access (user is in specified group has correct access), but i think i've found the problem... url for user in bin is /xwiki/bin/view/XWiki/user, in subwikis it's /xwiki/wiki/SUB/view/XWiki/user, \u00a0so \u00a0String user = context.getDatabase()+\":XWiki.\"+username; ?  \n14:40\u00a0<DarkKnightCZ>\u00a0i mean xwiki:XWiki.username  \n14:40\u00a0<vmassol>\u00a0has joined #xwiki  \n14:43\u00a0<DarkKnightCZ>\u00a0has quit  \n14:43\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n14:48\u00a0<DarkKnightCZ>\u00a0yup, it looks like it's working  \n14:54\u00a0<vmassol>\u00a0has quit  \n15:14\u00a0<tmortagne>\u00a0DarkKnightCZ: depends how you use the LDAP auth  \n15:14\u00a0<tmortagne>\u00a0by default if you don't configure it otherwise it might create the user on each wiki  \n15:16\u00a0<vmassol>\u00a0has joined #xwiki  \n15:17\u00a0<DarkKnightCZ>\u00a0has quit  \n15:20\u00a0<ClemensR>\u00a0has joined #xwiki  \n15:28\u00a0<evalica>\u00a0has quit  \n15:30\u00a0<vmassol>\u00a0has quit  \n15:36\u00a0<cjd>\u00a0has quit  \n15:36\u00a0<cjd>\u00a0has joined #xwiki  \n15:58\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n16:18\u00a0<spu7nic>\u00a0Hello :) - is there an example for searching documents in groovy?  \n16:19\u00a0<cjd>\u00a0def docs = xwiki.searchDocuments(\"where doc.fullName = ?\", 'Main.WebHome');  \n16:19\u00a0<cjd>\u00a0println(docs)  \n16:19\u00a0<cjd>\u00a0note the parameterized query, this will protect you against SQL inj3ct1on  \n16:20\u00a0<cjd>\u00a0def docs = xwiki.searchDocuments(\"where doc.fullName = ? and doc.author = ?\", 'Main.WebHome', userInput);  \n16:20\u00a0<cjd>\u00a0for example...  \n16:20\u00a0<tmortagne>\u00a0would be better to use query service  \n16:20\u00a0<tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module  \n16:21\u00a0<tmortagne>\u00a0xwiki.search\\* methods are deprected  \n16:32\u00a0<spu7nic>\u00a0is the services variable accessible from every groovy script - I am inheriting from EventListener and got xwiki and context?  \n16:32\u00a0<tmortagne>\u00a0you have it when you use {{goovy}} macro  \n16:33\u00a0<tmortagne>\u00a0\\*groovy  \n16:33\u00a0<tmortagne>\u00a0work exactly like xwiki and context binding  \n16:34\u00a0<tmortagne>\u00a0(xcontext not context btw, context has nothing to do with the XWiki context in groovy scripts)  \n16:34\u00a0<spu7nic>\u00a0I used the TitleUpdater example  \n16:35\u00a0<tmortagne>\u00a0if you have \"xwiki\" binding you should also have \"services\" binding  \n16:35\u00a0<spu7nic>\u00a0The xwiki and context variables are injected in the constructor  \n16:36\u00a0<tmortagne>\u00a0then do the same for services  \n16:36\u00a0<tmortagne>\u00a0(either services or the query service)  \n16:39\u00a0<spu7nic>\u00a0Hmm, in which order does xwiki inject constructor parameters? I just ask, because they are not typed in the example :)  \n16:39\u00a0<spu7nic>\u00a0http://pastebin.com/LNu2s8pa  \n16:39\u00a0<tmortagne>\u00a0not sure I understand what you mean  \n16:39\u00a0<tmortagne>\u00a0this is not XWiki but groovy  \n16:40\u00a0<spu7nic>\u00a0i know :)  \n16:40\u00a0<tmortagne>\u00a0it's not injected in any way  \n16:40\u00a0<tmortagne>\u00a0you have some other code that call this constructor  \n16:41\u00a0<spu7nic>\u00a0ahhh, the missing gap :) - sometimes you have to scroll down to find the answer ^\\_^  \n16:41\u00a0<spu7nic>\u00a0def listener = new TitleUpdater(xwiki, xcontext)  \n16:41\u00a0<tmortagne>\u00a0yep that's it  \n16:41\u00a0<tmortagne>\u00a0something else you can do it put the misterious \"context\" instead of all that  \n16:41\u00a0<tmortagne>\u00a0context is the script context  \n16:41\u00a0<tmortagne>\u00a0which means the map containing all theses variables  \n16:42\u00a0<spu7nic>\u00a0Thx, good to know :)  \n16:42\u00a0<tmortagne>\u00a0that's in all languages except Velocity  \n16:42\u00a0<tmortagne>\u00a0legacy, retro-compatibility etc...  \n16:45\u00a0<spu7nic>\u00a0Hmm, is there a wrapDocs in groovy macro's available too?  \n16:46\u00a0<spu7nic>\u00a0Indeed :)  \n16:46\u00a0<spu7nic>\u00a0It's working - great ;D  \n16:47\u00a0<tmortagne>\u00a0spu7nic: you might be interrested in http://platform.xwiki.org/xwiki/bin/view/SRD/Navigation?xpage=embed if you don't already know it  \n16:47\u00a0<tmortagne>\u00a0everything in there is available to all languages  \n16:51\u00a0<spu7nic>\u00a0It's the first link I open every morning atm :)  \n16:51\u00a0<tmortagne>\u00a0ok  \n16:56\u00a0<vmassol>\u00a0has joined #xwiki  \n17:00\u00a0<cjd\\_>\u00a0has joined #xwiki  \n17:01\u00a0<cjd>\u00a0has quit  \n17:02\u00a0<vmassol>\u00a0has quit  \n17:02\u00a0<vmassol>\u00a0has joined #xwiki  \n17:06\u00a0<DarkKnightCZ>\u00a0has quit  \n17:47\u00a0<cjd\\_>\u00a0is now known as <cjd>  \n17:49\u00a0<spu7nic>\u00a0has quit  \n18:08\u00a0<vmassol>\u00a0has quit  \n18:10\u00a0<msmeria>\u00a0has quit  \n18:31\u00a0<mflorea>\u00a0has quit  \n18:47\u00a0<lucaa1>\u00a0has quit  \n18:54\u00a0<cjd>\u00a0has quit  \n19:02\u00a0<lucaa>\u00a0has joined #xwiki  \n19:19\u00a0<ClemensR>\u00a0has left #xwiki  \n19:22\u00a0<abusenius>\u00a0has joined #xwiki  \n19:23\u00a0<tmortagne>\u00a0has quit  \n20:07\u00a0<lucaa>\u00a0has quit  \n20:09\u00a0<GuillaumeF>\u00a0has quit  \n20:31\u00a0<gdelhumeau>\u00a0has quit  \n20:34\u00a0<lucaa>\u00a0has joined #xwiki  \n21:01\u00a0<lucaa>\u00a0has quit  \n21:21\u00a0<OSIMasson>\u00a0has joined #xwiki  \n21:32\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n21:51\u00a0<OSIMasson>\u00a0has quit  \n21:51\u00a0<OSIMasson>\u00a0has joined #xwiki  \n21:55\u00a0<OSIMasson>\u00a0has quit  \n21:57\u00a0<OSIMasson>\u00a0has joined #xwiki  \n22:20\u00a0<OSIMasson>\u00a0has quit  \n22:22\u00a0<OSIMasson>\u00a0has joined #xwiki  \n23:08\u00a0<DarkKnightCZ>\u00a0has quit  \n23:43\u00a0<abusenius>\u00a0has quit\n"}