{"id": "dev:IRC.xwikiArchive20160315", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160315", "title": "IRC Archive for channel #xwiki on 15 March 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius\\_>\u00a0has quit  \n01:12\u00a0<Chuguniy>\u00a0has quit  \n02:09\u00a0<ujjwal>\u00a0has quit  \n05:48\u00a0<mflorea>\u00a0has joined #xwiki  \n06:18\u00a0<Chuguniy>\u00a0has joined #xwiki  \n06:37\u00a0<mflorea>\u00a0has quit  \n06:48\u00a0<lambainsaan>\u00a0has quit  \n07:03\u00a0<lambainsaan>\u00a0has joined #xwiki  \n07:13\u00a0<cjd>\u00a0has quit  \n07:23\u00a0<msmeria>\u00a0has joined #xwiki  \n08:04\u00a0<lambainsaan>\u00a0has quit  \n08:17\u00a0<lambainsaan>\u00a0has joined #xwiki  \n08:26\u00a0<mflorea>\u00a0has joined #xwiki  \n08:26\u00a0<mflorea>\u00a0has quit  \n08:26\u00a0<mflorea1>\u00a0has joined #xwiki  \n08:28\u00a0<msmeria1>\u00a0has joined #xwiki  \n08:30\u00a0<msmeria>\u00a0has quit  \n08:36\u00a0<msmeria1>\u00a0has quit  \n08:36\u00a0<msmeria>\u00a0has joined #xwiki  \n08:51\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:26\u00a0<woshilapin>\u00a0has quit  \n09:26\u00a0<msmeria>\u00a0hello, Devs  \n09:27\u00a0<msmeria>\u00a0I get this warning multiple times in a console on a server using XWiki 8.0RC1/MySQL 5.7.11  \n09:27\u00a0<msmeria>\u00a0WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server cert  \n09:29\u00a0<lambainsaan>\u00a0has quit  \n09:33\u00a0<acotiuga>\u00a0has joined #xwiki  \n09:45\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:46\u00a0<lambainsaan>\u00a0has joined #xwiki  \n10:11\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:14\u00a0<vmassol>\u00a0has joined #xwiki  \n10:14\u00a0<vmassol>\u00a0oops just realized now that my irc client didn't reconnect automatically this morning  \n10:14\u00a0<vmassol>\u00a0good morning btw! :)  \n10:19\u00a0<Slashman>\u00a0has joined #xwiki  \n10:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:29\u00a0<tmortagne>\u00a0currently committing XWIKI-13157  \n10:33\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:34\u00a0<evalica>\u00a0has joined #xwiki  \n10:35\u00a0<M-vmassol1>\u00a0ok  \n11:08\u00a0<sdumitriu>\u00a0has quit  \n11:13\u00a0<lambainsaan>\u00a0has quit  \n11:23\u00a0<sdumitriu>\u00a0has joined #xwiki  \n11:29\u00a0<cjd>\u00a0has joined #xwiki  \n11:38\u00a0<vmassol>\u00a0@evalica: as agreed on the list, it would be nice to put xwiki.org-specific UI pages inside XWikiOrg.UI  \n11:38\u00a0<vmassol>\u00a0I'm thinking about http://www.xwiki.org/xwiki/bin/view/Menu/MenuXWikiOrg for example  \n11:38\u00a0<vmassol>\u00a0wdyt?  \n11:57\u00a0<cjd>\u00a0has quit  \n12:01\u00a0<siddharthsingh>\u00a0has joined #xwiki  \n12:01\u00a0<siddharthsingh>\u00a0has quit  \n12:26\u00a0<sdumitriu>\u00a0has quit  \n12:26\u00a0<flashdel>\u00a0has quit  \n12:27\u00a0<flashdel>\u00a0has joined #xwiki  \n12:40\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:58\u00a0<acotiuga>\u00a0has quit  \n13:02\u00a0<acotiuga>\u00a0has joined #xwiki  \n13:37\u00a0<acotiuga>\u00a0vmassol: could you release for me notes aplication on Jira: https://jira.xwiki.org/browse/NOTES ?  \n13:44\u00a0<vmassol>\u00a0acotiuga: doing it  \n13:45\u00a0<vmassol>\u00a0acotiuga: version 1.1 right?  \n13:45\u00a0<acotiuga>\u00a0yes  \n13:45\u00a0<acotiuga>\u00a01.1 was released  \n13:45\u00a0<vmassol>\u00a0done  \n13:46\u00a0<acotiuga>\u00a0thanks  \n13:46\u00a0<vmassol>\u00a0btw  \n13:46\u00a0<vmassol>\u00a0do you want to be the lead FTM for this app?  \n13:46\u00a0<vmassol>\u00a0it was Gabriela but she's no longer active  \n13:46\u00a0<vmassol>\u00a0(acotiuga)  \n13:52\u00a0<cjd>\u00a0has joined #xwiki  \n13:54\u00a0<acotiuga>\u00a0Yes, I can lead Notes App  \n13:54\u00a0<vmassol>\u00a0great, you're the \"lead \"now :)  \n13:57\u00a0<vmassol>\u00a0guys any take on the orphan tab in alldocs?  \n13:57\u00a0<vmassol>\u00a0I wonder if we should slip this in 8.0 final  \n13:57\u00a0<vmassol>\u00a0tmortagne: any idea?  \n13:57\u00a0<vmassol>\u00a0might be too late, we can do it in 8.1  \n13:57\u00a0<vmassol>\u00a0(and in 7.4.3)  \n13:58\u00a0<vmassol>\u00a0see last mail  \n13:58\u00a0<vmassol>\u00a0(on devs list)  \n14:02\u00a0<vmassol>\u00a0mflorea1: thanks, I missed that we did it :)  \n14:02\u00a0<mflorea1>\u00a0vmassol: partially, we still need to handle the Orphan Page panel  \n14:02\u00a0<vmassol>\u00a0yes creating jira now  \n14:21\u00a0<Chuguniy>\u00a0has quit  \n14:22\u00a0<vmassol>\u00a0tmortagne: when do we start the release? :)  \n14:23\u00a0<tmortagne>\u00a0vmassol: currently looking at jenkins and I need to finish the Release Note (big work for final releases)  \n14:23\u00a0<vmassol>\u00a0ok do you need help somewhere?  \n14:24\u00a0<tmortagne>\u00a0never too many people to look at jenkins  \n14:24\u00a0<vmassol>\u00a0ok  \n14:24\u00a0<tmortagne>\u00a0I4m taking care of http://ci.xwiki.org/job/xwiki-commons\\_Quality-8.0.x/, it's probably my fault  \n14:25\u00a0<vmassol>\u00a0I'm committing the revapi stuff in a few minut'es and then I'll check the ci again (I did that yesterday but it's such a pain to see all those jobs failing because of false positives....)  \n14:26\u00a0<vmassol>\u00a0hmm just got an error building platform: Caused by: java.net.UnknownHostException: forge.octo.com: unknown error  \n14:27\u00a0<vmassol>\u00a0Caused by: org.eclipse.aether.collection.DependencyCollectionException: Failed to collect dependencies at org.xwiki.platform:xwiki-platform-flavor-api:jar:8.1-SNAPSHOT -> org.xwiki.platform:xwiki-platform-extension-script:jar:8.1-SNAPSHOT -> org.xwiki.platform:xwiki-platform-oldcore:jar:8.1-SNAPSHOT -> org.xwiki.platform:xwiki-platform-captcha:jar:8.1-SNAPSHOT -> com.octo.captcha:jcaptcha-extension-sound-freetts:jar:2.0-alpha-1-SNAPSHO  \n14:27\u00a0<vmassol>\u00a0maybe we don't proxy it through our nexus, checking  \n14:27\u00a0<vmassol>\u00a0hmm we should since there's no forge.octo.com repo in our pom.xml...  \n14:28\u00a0<tmortagne>\u00a0acotiuga: I see Forum is now 2.0, are data from pre 2.0 compatible with this new version ? i.e. will I break everything if I upgrade the extension  \n14:28\u00a0<vmassol>\u00a0ah actually it could be in a third-paty pom  \n14:28\u00a0<vmassol>\u00a0\\*party  \n14:33\u00a0<vmassol>\u00a0indeed it's there  \n14:34\u00a0<vmassol>\u00a0so it's looking for this jar in the octo forge which is now down: Caused by: org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact com.sun.speech.freetts:freetts:pom:1.2.1 from/to 3rd-party (http://forge.octo.com/archiva/repository/3rd-party):  \n14:51\u00a0<mflorea1>\u00a0has quit  \n15:00\u00a0<msmeria>\u00a0has quit  \n15:01\u00a0<avisser>\u00a0has quit  \n15:05\u00a0<avisser>\u00a0has joined #xwiki  \n15:13\u00a0<mflorea>\u00a0has joined #xwiki  \n15:17\u00a0<ClemensR>\u00a0has joined #xwiki  \n15:22\u00a0<M-jsimard>\u00a0has quit  \n15:40\u00a0<ujjwal>\u00a0has joined #xwiki  \n15:41\u00a0<avisser>\u00a0has quit  \n15:51\u00a0<avisser>\u00a0has joined #xwiki  \n16:01\u00a0<vmassol>\u00a0@acotiuga: should I move https://jira.xwiki.org/browse/XWIKI-13037 to meetings jira project?  \n16:11\u00a0<vmassol>\u00a0acotiuga: ?  \n16:11\u00a0<acotiuga>\u00a0ack  \n16:12\u00a0<vmassol>\u00a0acotiuga: see above :)  \n16:14\u00a0<acotiuga>\u00a0There is also an issue on Meetings. I guess it should be closed as Won't fix..  \n16:14\u00a0<acotiuga>\u00a0there is a link to that issue  \n16:16\u00a0<vmassol>\u00a0acotiuga: you know that we can move issue?  \n16:16\u00a0<vmassol>\u00a0there's no need to create new issue and close the other one as won't fix!  \n16:16\u00a0<vmassol>\u00a0I still need to move the issue anyway :(  \n16:16\u00a0<vmassol>\u00a0doing it  \n16:16\u00a0<acotiuga>\u00a0FIrst I created it on Meeting and \u00a0from what I investigated first time I tought it is general  \n16:16\u00a0<vmassol>\u00a0ah ok  \n16:16\u00a0<vmassol>\u00a0so it's not a dup, it's an invalid  \n16:17\u00a0<acotiuga>\u00a0Anyway, I'm not allowed to move issues from/to XWIKI project, or to close them  \n16:17\u00a0<vmassol>\u00a0your comment is misleading \"This is a Meetings Application issue and it shouldn't have been created here.\"  \n16:17\u00a0<vmassol>\u00a0you didn't say there was already an issue there  \n16:18\u00a0<acotiuga>\u00a0Is the one linked  \n16:18\u00a0<vmassol>\u00a0I know but liking doesn't explain anything  \n16:18\u00a0<acotiuga>\u00a0but I got the idea  \n16:18\u00a0<vmassol>\u00a0\\*linking  \n16:19\u00a0<acotiuga>\u00a0I updated the comment  \n16:21\u00a0<vmassol>\u00a0closed  \n16:23\u00a0<cjd>\u00a0has quit  \n16:24\u00a0<tmortagne>\u00a0mflorea: any idea if http://ci.xwiki.org/job/xwiki-enterprise-test-ui-8.0.x/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-ui/testReport/org.xwiki.test.ui.appwithinminutes/WizardTest/testCreateApplication/ is a flickering  \n16:25\u00a0<tmortagne>\u00a0(don't find it in the list)  \n16:27\u00a0<cjd>\u00a0has joined #xwiki  \n16:27\u00a0<mflorea>\u00a0tmortagne: it's a \"special\" test, that creates apps with random names. Some of these random names can break the xpaths we use in page objects because we don't do proper escaping  \n16:27\u00a0<mflorea>\u00a0I've fixed some of the xpath, but it seems there are a few remaining  \n16:28\u00a0<tmortagne>\u00a0mflorea: do you want to look at it or should we create a flickering test issue ?  \n16:28\u00a0<tmortagne>\u00a0all seems ok, I will start git/maven release in about 15 minutes  \n16:28\u00a0<mflorea>\u00a0we should create a flickering test issue for now  \n16:29\u00a0<tmortagne>\u00a0can I let you do it  \n16:29\u00a0<tmortagne>\u00a0?  \n16:29\u00a0<mflorea>\u00a0sure  \n16:29\u00a0<tmortagne>\u00a0thanks  \n16:38\u00a0<mflorea>\u00a0tmortagne: http://jira.xwiki.org/browse/XE-1539  \n16:52\u00a0<acotiuga>\u00a0has quit  \n16:54\u00a0<tmortagne>\u00a0\u00a0\u00a0p, li { white-space: pre-wrap; } \u00a0[release] done with translation starting the git/maven release  \n17:10\u00a0<ujjwal>\u00a0has quit  \n17:12\u00a0<woshilapin>\u00a0Hi devs, trying to work my way out with VFS API but I'm having some difficulties  \n17:13\u00a0<woshilapin>\u00a0I'm trying to test the presence of a file into a ZIP (which is in an ZIP attachment, of course)  \n17:13\u00a0<vmassol>\u00a0hi woshilapin  \n17:13\u00a0<woshilapin>\u00a0hi vmassol  \n17:13\u00a0<woshilapin>\u00a0VFS, so you pop :-)  \n17:14\u00a0<woshilapin>\u00a0Basically, I've identified $niotool.isRegularFile() to test the existence of the file  \n17:14\u00a0<vmassol>\u00a0:)  \n17:14\u00a0<vmassol>\u00a0yep isRegularFile() sounds good to test if an entry is a file  \n17:14\u00a0<woshilapin>\u00a0I've also identified that this method take a Path as an argument  \n17:14\u00a0<vmassol>\u00a0yup  \n17:14\u00a0<woshilapin>\u00a0But don't know how to create a Path from the String  \n17:14\u00a0<vmassol>\u00a0haha  \n17:14\u00a0<vmassol>\u00a0that's magic  \n17:15\u00a0<vmassol>\u00a0you pass it as a string  \n17:15\u00a0<woshilapin>\u00a0Then it's seems it's not because it's not working  \n17:15\u00a0<vmassol>\u00a0and it's convereted automatically  \n17:15\u00a0<woshilapin>\u00a0I've tried the snippet of the documentation  \n17:15\u00a0<woshilapin>\u00a0looping over the files with newDirectoryStream  \n17:15\u00a0<woshilapin>\u00a0And isRegularFile works fine  \n17:15\u00a0<cjd>\u00a0has quit  \n17:16\u00a0<woshilapin>\u00a0But if I take the value of the entry and try to make the string from scratch and send it to the isRegularFile, it return directly  \n17:16\u00a0<woshilapin>\u00a0$niotool.isRegularFile($myString)  \n17:16\u00a0<vmassol>\u00a0you're probably using a wrong format  \n17:16\u00a0<woshilapin>\u00a0Not the result of it  \n17:16\u00a0<vmassol>\u00a0that would mean a null is returned  \n17:17\u00a0<vmassol>\u00a0show me the format you use  \n17:17\u00a0<woshilapin>\u00a0attach://xwiki:space.page/file.zip/file.txt  \n17:17\u00a0<woshilapin>\u00a0This is what is returned by $entry when using the snippet about looping over files  \n17:17\u00a0<vmassol>\u00a0FTR this is the code: https://github.com/xwiki/xwiki-platform/blob/08dbdd593c8d1f0dae363976930593d56d0ebd96/xwiki-platform-core/xwiki-platform-vfs/xwiki-platform-vfs-api/src/main/java/org/xwiki/vfs/internal/script/PathConverter.java#L51-L51  \n17:18\u00a0<vmassol>\u00a0you have some examples here: https://github.com/xwiki/xwiki-platform/blob/08dbdd593c8d1f0dae363976930593d56d0ebd96/xwiki-platform-core/xwiki-platform-vfs/xwiki-platform-vfs-api/src/test/java/org/xwiki/vfs/internal/script/PathConverterTest.java#L45-L45  \n17:19\u00a0<vmassol>\u00a0\"attach:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/a/b/c\"  \n17:19\u00a0<vmassol>\u00a0I think you're mixing 2 formats  \n17:19\u00a0<vmassol>\u00a0one is the format XWiki standardizes on  \n17:20\u00a0<vmassol>\u00a0and another one is the format we convert into internally for the VFS api calls  \n17:20\u00a0<vmassol>\u00a0(since VFS only supports hierarchical URLs)  \n17:20\u00a0<vmassol>\u00a0the xwiki format is: \"attach:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/a/b/c\"  \n17:20\u00a0<vmassol>\u00a0that's our API  \n17:20\u00a0<woshilapin>\u00a0Yep I remark there is 2  \n17:21\u00a0<woshilapin>\u00a0But I guess if I use $niotool.isRegularFile()) I need the not-xwiki-format  \n17:22\u00a0<woshilapin>\u00a0which looks like prefix+://+path  \n17:22\u00a0<woshilapin>\u00a0From the test file you have, this looks ok attach://xwiki:space.page/file.zip/file.txt  \n17:22\u00a0<vmassol>\u00a0no  \n17:23\u00a0<vmassol>\u00a0all APIs use the XWiki format  \n17:23\u00a0<vmassol>\u00a0you just need to know that there's only 1 format  \n17:23\u00a0<vmassol>\u00a0the xwiki one  \n17:23\u00a0<vmassol>\u00a0(for input)  \n17:23\u00a0<vmassol>\u00a0I guess the issue is that if you check some output results you'll get the vfs one\u2026 hmmm  \n17:24\u00a0<vmassol>\u00a0I may be have wrapped outputs actually  \n17:24\u00a0<vmassol>\u00a0s/be have/may not have/  \n17:25\u00a0<woshilapin>\u00a0Ah, you mean if I input a String, it'll be converted to a VFS Path through the velocity converter you gave me the link  \n17:25\u00a0<woshilapin>\u00a0Didn't thought about that  \n17:25\u00a0<woshilapin>\u00a0Let me test  \n17:26\u00a0<woshilapin>\u00a0Wait, no, $niotool.isRegularFile() returns null or an error because Velocity is printing it raw  \n17:26\u00a0<woshilapin>\u00a0So it's not even a problem of the format of the path  \n17:27\u00a0<woshilapin>\u00a0mm  \n17:27\u00a0<woshilapin>\u00a0This would be the consequence if the converter was not in the platform, right?  \n17:28\u00a0<vmassol>\u00a0yes but it cannot not be there  \n17:28\u00a0<woshilapin>\u00a0?  \n17:28\u00a0<vmassol>\u00a0it's because you're using the wrong format probabmy  \n17:28\u00a0<woshilapin>\u00a0isRegularFile return true or false  \n17:28\u00a0<KermitTheFragger>\u00a0has quit  \n17:28\u00a0<woshilapin>\u00a0So if wrong format, Velocity should print false, right?  \n17:28\u00a0<vmassol>\u00a0$niotool.isRegularFile(\"\"attach:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/a/b/c\")  \n17:28\u00a0<vmassol>\u00a0(with one \"\" only)  \n17:29\u00a0<vmassol>\u00a0that's what you need  \n17:29\u00a0<woshilapin>\u00a0Yes, yes, that the other one I tested  \n17:29\u00a0<vmassol>\u00a0and it's not working?  \n17:29\u00a0<woshilapin>\u00a0no  \n17:30\u00a0<woshilapin>\u00a0(let me check carefully the paths I'm using)  \n17:30\u00a0<woshilapin>\u00a0Ah  \n17:30\u00a0<woshilapin>\u00a0attach:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/a/b/c is yours  \n17:30\u00a0<woshilapin>\u00a0And mine is  \n17:30\u00a0<woshilapin>\u00a0attach:xwiki:[[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)/a/b/c  \n17:31\u00a0<woshilapin>\u00a0Could it be the problem? \u00a0What option should I use for $services.model.serialize to have what I need?  \n17:31\u00a0<woshilapin>\u00a0s/option/hint/  \n17:32\u00a0<woshilapin>\u00a0\"compactwiki\"  \n17:32\u00a0<vmassol>\u00a0the wiki part is ok  \n17:32\u00a0<vmassol>\u00a0that should be supported  \n17:33\u00a0<woshilapin>\u00a0ok, in any cases, with 'compactwiki', I indeed have the same result  \n17:34\u00a0<woshilapin>\u00a0I'm doing this at the moment  \n17:34\u00a0<woshilapin>\u00a0{{{$imagePath}}} - $niotool.isRegularFile($imagePath)  \n17:34\u00a0<woshilapin>\u00a0First part is printed with the path I just checked  \n17:35\u00a0<woshilapin>\u00a0And second part is printed raw  \n17:35\u00a0<vmassol>\u00a0so imagePath is a string?  \n17:35\u00a0<vmassol>\u00a0$imagePath.class.name to know  \n17:36\u00a0<vmassol>\u00a0actually it should work even ifi t's ot a string  \n17:36\u00a0<vmassol>\u00a0\\*even if it's not a string  \n17:36\u00a0<vmassol>\u00a0provided there's a toString() method that returns a string  \n17:36\u00a0<woshilapin>\u00a0java.lang.String  \n17:37\u00a0<vmassol>\u00a0what I don't understand  \n17:37\u00a0<vmassol>\u00a0is that if the example at http://extensions.xwiki.org/xwiki/bin/view/Extension/VFS+API works  \n17:37\u00a0<vmassol>\u00a0then it's working\u2026  \n17:37\u00a0<vmassol>\u00a0finishing something and I'll retest the API  \n17:38\u00a0<woshilapin>\u00a0The loop with entry  \n17:38\u00a0<woshilapin>\u00a0#foreach ($entry in $dirStream)  \n17:39\u00a0<woshilapin>\u00a0In this case, entry are net.java.truevfs.access.TPath  \n17:41\u00a0<tmortagne>\u00a0[release] git/maven 8.0 release done  \n17:52\u00a0<woshilapin>\u00a0tmortagne: \\o/  \n18:19\u00a0<gdelhumeau>\u00a0has quit  \n18:22\u00a0<ujjwal>\u00a0has joined #xwiki  \n18:39\u00a0<woshilapin>\u00a0has quit  \n18:44\u00a0<mflorea>\u00a0has quit  \n18:49\u00a0<ClemensR>\u00a0has quit  \n18:57\u00a0<evalica>\u00a0has quit  \n18:58\u00a0<Enygma`>\u00a0has quit  \n19:03\u00a0<tmortagne>\u00a0has quit  \n20:37\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n20:38\u00a0<Chuguniy>\u00a0has joined #xwiki  \n20:59\u00a0<woshilapin>\u00a0has joined #xwiki  \n21:12\u00a0<cjd>\u00a0has joined #xwiki  \n21:24\u00a0<Slashman>\u00a0has quit  \n23:34\u00a0<vmassol>\u00a0has quit  \n23:47\u00a0<ujjwal>\u00a0has quit\n"}