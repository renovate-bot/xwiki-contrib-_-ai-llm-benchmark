{"id": "dev:IRC.xwikiArchive20141105", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20141105", "title": "IRC Archive for channel #xwiki on 05 November 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<momomomomo>\u00a0has quit  \n01:10\u00a0<abusenius>\u00a0has quit  \n06:01\u00a0<Denis1>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n06:27\u00a0<mflorea>\u00a0has joined #xwiki  \n07:03\u00a0<msmeria>\u00a0has joined #xwiki  \n07:15\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:45\u00a0<mflorea>\u00a0Good Morning. I'd like to release 6.3RC1 today. I'm currently working on fixing the tests (caused by my recent changes related to the jstree integration)  \n08:23\u00a0<vmassol>\u00a0has joined #xwiki  \n08:26\u00a0<Lyes>\u00a0has joined #xwiki  \n08:26\u00a0<DuFFo>\u00a0has quit  \n08:35\u00a0<cjd>\u00a0has joined #xwiki  \n09:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:22\u00a0<mflorea>\u00a0has quit  \n09:33\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:36\u00a0<vmassol>\u00a0gdelhumeau: good morning  \n09:36\u00a0<vmassol>\u00a0I think you forgot to import this extension: http://extensions.xwiki.org/xwiki/bin/view/Extension/Icon+Theme+Application  \n09:36\u00a0<gdelhumeau>\u00a0hi vmassol  \n09:36\u00a0<vmassol>\u00a0(there's no download link for example)  \n09:37\u00a0<gdelhumeau>\u00a0the id is good but it seems it is not \"imported\" properly, indeed  \n09:37\u00a0<gdelhumeau>\u00a0it's done :)  \n09:41\u00a0<mflorea>\u00a0has joined #xwiki  \n09:42\u00a0<vmassol>\u00a0cool  \n09:42\u00a0<vmassol>\u00a0wait  \n09:43\u00a0<vmassol>\u00a0no, not cool  \n09:43\u00a0<vmassol>\u00a0:)  \n09:43\u00a0<vmassol>\u00a0you imported the wrong id  \n09:43\u00a0<gdelhumeau>\u00a0no  \n09:43\u00a0<vmassol>\u00a0should have been xwiki-platform-icon-ui  \n09:43\u00a0<vmassol>\u00a0yes  \n09:43\u00a0<gdelhumeau>\u00a0what is not cool is the pom.xml I think  \n09:43\u00a0<vmassol>\u00a0\"Icon Theme Application  \n09:43\u00a0<vmassol>\u00a0\"  \n09:43\u00a0<vmassol>\u00a0is this the API?  \n09:43\u00a0<vmassol>\u00a0or the UI?  \n09:43\u00a0<vmassol>\u00a0you need 2 extensions  \n09:43\u00a0<vmassol>\u00a0one for each  \n09:43\u00a0<vmassol>\u00a0that's probably the imstake  \n09:44\u00a0<vmassol>\u00a0actually for this module you need in total 3 modules  \n09:44\u00a0<vmassol>\u00a0- api + default + script  \n09:44\u00a0<vmassol>\u00a0- fa  \n09:44\u00a0<vmassol>\u00a0- ui  \n09:45\u00a0<vmassol>\u00a0(since there's no point in having 3 extensions documented for api/default/script)  \n09:45\u00a0<vmassol>\u00a0I'll let you sort this out :)  \n09:45\u00a0<msmeria1>\u00a0has joined #xwiki  \n09:46\u00a0<gdelhumeau>\u00a0actuallly it is strange that title description is not good \"XWiki Platform - Icon - Parent POM\" because the pom is correct, and the id is too  \n09:46\u00a0<vmassol>\u00a0no it's not correct  \n09:46\u00a0<vmassol>\u00a0the top level pom has <name>XWiki Platform - Icon - Parent POM</name>  \n09:46\u00a0<vmassol>\u00a0oh  \n09:46\u00a0<vmassol>\u00a0wait  \n09:46\u00a0<vmassol>\u00a0you've used org.xwiki.platform:xwiki-platform-icon-ui  \n09:46\u00a0<vmassol>\u00a0which is correct  \n09:47\u00a0<vmassol>\u00a0thought you had put the parent pom  \n09:47\u00a0<vmassol>\u00a0you just changed it?  \n09:47\u00a0<gdelhumeau>\u00a0no  \n09:47\u00a0<gdelhumeau>\u00a0it was good since the beginning  \n09:47\u00a0<vmassol>\u00a0hmm  \n09:47\u00a0<vmassol>\u00a0something to check with tmortagne  \n09:47\u00a0<vmassol>\u00a0;)  \n09:48\u00a0<tmortagne>\u00a0something to check with effective pom  \n09:48\u00a0<gdelhumeau>\u00a0but I don't think we need a documentation for api + default + script  \n09:48\u00a0<gdelhumeau>\u00a0everything is there already  \n09:48\u00a0<msmeria>\u00a0has quit  \n09:49\u00a0<vmassol>\u00a0gdelhumeau: maybe not, it depends, we do that for other modules  \n09:49\u00a0<vmassol>\u00a0we're not perfectly clear on our strategy  \n09:49\u00a0<gdelhumeau>\u00a0for example, I have done http://extensions.xwiki.org/xwiki/bin/view/Extension/LESS+Module for which it makes sense  \n09:49\u00a0<vmassol>\u00a0yes when there's no UI at all for sure  \n09:50\u00a0<vmassol>\u00a0when there's a UI this is where we're not clear but IMO documenting the UI is different because it's for users, while documenting the api is for devs  \n09:50\u00a0<vmassol>\u00a0anyway leave it like this for now after the sumary is fixed  \n09:50\u00a0<vmassol>\u00a0but we need to review this and make some official proposal  \n09:52\u00a0<tmortagne>\u00a0script and UI documentation are 2 very different document IMO for different target so probably better as different pages (nothing prevent those pages to link each other )  \n10:02\u00a0<Slashman>\u00a0has joined #xwiki  \n10:09\u00a0<lucaa>\u00a0has joined #xwiki  \n10:09\u00a0<woshilapin>\u00a0has joined #xwiki  \n10:20\u00a0<Lyes>\u00a0has quit  \n10:27\u00a0<Lyes>\u00a0has joined #xwiki  \n10:28\u00a0<cjd>\u00a0has quit  \n10:32\u00a0<cjd>\u00a0has joined #xwiki  \n11:41\u00a0<DarkKnightCZ>\u00a0is there an url scheme to display raw content of attachment without setting content-disposition header? I've got html attachment which is forcing to download instead of displaying on the website  \n12:00\u00a0<Enygma`>\u00a0has joined #xwiki  \n12:01\u00a0<DarkKnightCZ>\u00a0has quit  \n12:11\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n12:11\u00a0<evalica>\u00a0has joined #xwiki  \n12:17\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n12:30\u00a0<cjd>\u00a0has quit  \n13:15\u00a0<evalica>\u00a0has quit  \n13:15\u00a0<evalica>\u00a0has joined #xwiki  \n13:37\u00a0<Enygma`>\u00a0gdelhumeau: http://ci.xwiki.org/job/xwiki-enterprise-test-selenium/lastBuild/testReport/ caused by https://github.com/xwiki/xwiki-platform/commit/28b8f95026b637ce418495d41420bc7860f6162b  \n13:38\u00a0<gdelhumeau>\u00a0grr thanks  \n13:38\u00a0<gdelhumeau>\u00a0sorry for that  \n13:40\u00a0<Enygma`>\u00a0np  \n13:49\u00a0<evalica>\u00a0has quit  \n14:12\u00a0<Lyes>\u00a0has quit  \n14:19\u00a0<evalica>\u00a0has joined #xwiki  \n14:29\u00a0<vmassol>\u00a0just before the RC release ;)  \n14:29\u00a0<cjd>\u00a0has joined #xwiki  \n14:29\u00a0<Lyes>\u00a0has joined #xwiki  \n14:30\u00a0<vmassol>\u00a0it always worries me, but I shouldn't I guess\u2026 anyway we'll see!  \n14:31\u00a0<DarkKnightCZ>\u00a0is there a way how to get document without content-disposition header? (without the need of creating extra page that outputs the raw content of attachment?  \n14:47\u00a0<msmeria>\u00a0has joined #xwiki  \n14:50\u00a0<evalica>\u00a0has quit  \n14:50\u00a0<evalica>\u00a0has joined #xwiki  \n14:51\u00a0<msmeria1>\u00a0has quit  \n14:58\u00a0<OSIMasson>\u00a0has joined #xwiki  \n15:12\u00a0<DarkKnightCZ>\u00a0has quit  \n15:13\u00a0<vmassol>\u00a0BTW maven fails quite often locally, don't know if you've experienced it too. That's maven 3.2.3  \n15:13\u00a0<vmassol>\u00a0it fails to find some deps  \n15:13\u00a0<vmassol>\u00a0but if I rerun it, it works  \n15:13\u00a0<Lyes>\u00a0has quit  \n15:13\u00a0<Lyes>\u00a0has joined #xwiki  \n15:13\u00a0<vmassol>\u00a0I believe it's broken somewhere, maybe I should rollback to an older version  \n15:15\u00a0<tmortagne>\u00a0I'm still on maven 3.0.5  \n15:16\u00a0<vmassol>\u00a0mflorea/all: 6.3 final is on the 10th and build/ci is not stabillized yet, not sure how we're going to meet that but we need to, in order not to delay 6.4 :) (and thus not delay start of 7.0)\u2026  \n15:18\u00a0<mflorea>\u00a0vmassol: as I said this morning, I'm working on fixing the build and them I'm going to release 6.3RC1. My intention is to release it today  \n15:18\u00a0<Enygma`>\u00a0vmassol: noticed that too in the past weeks. Rarely happens on jenkins as well. But the frequency is not that often though. I remember it failed for me once or twice during a release, which was annoying.  \n15:19\u00a0<vmassol>\u00a0Enygma`: jenkins is on maven 3.0.5 AFAIK  \n15:19\u00a0<vmassol>\u00a0so it shouldn't happen there  \n15:19\u00a0<vmassol>\u00a0(I believe the issue is really with maven 3.2.3, I didn't have it when I was on 3.0.5)  \n15:20\u00a0<vmassol>\u00a0(could be in an intermediary version too)  \n15:20\u00a0<mflorea>\u00a0vmassol: yes, 6.3 final on Monday if no blocker is found till then  \n15:20\u00a0<Enygma`>\u00a0vmassol: I`m sure I saw it once or twice on jenkins. Build would fail just because of an undownloaded dependency.  \n15:21\u00a0<Enygma`>\u00a0maybe there is a maven config that we can set to increase the retry count  \n15:24\u00a0<tmortagne>\u00a0vmassol: missing dependency is something I saw but it's very far from \"fails quite often\"  \n15:24\u00a0<tmortagne>\u00a0was probably more related to nexus than maven  \n15:25\u00a0<vmassol>\u00a0tmortagne: it's very different with maven 3.2.3  \n15:25\u00a0<vmassol>\u00a0happens all the time  \n15:26\u00a0<vmassol>\u00a0strangely it happens at the same kid of places all the time  \n15:26\u00a0<vmassol>\u00a0\\*kind  \n15:26\u00a0<tmortagne>\u00a0maybe there is a real issue but more visible with 3.2.3  \n15:26\u00a0<tmortagne>\u00a0random missing dependencies was never ever happenning before and we are using 3.0.5 since a very long time  \n15:27\u00a0<vmassol>\u00a0one place where it happens all the time  \n15:27\u00a0<vmassol>\u00a0is when I build enterprise and it reaches:  \n15:27\u00a0<vmassol>\u00a0xwiki-enterprise-data/xwiki-enterprise-data-hsqldb/  \n15:27\u00a0<vmassol>\u00a0this one fails  \n15:28\u00a0<tmortagne>\u00a0and when you build xwiki-enterprise-data/xwiki-enterprise-data-hsqldb/ alone ?  \n15:28\u00a0<vmassol>\u00a0then I do a -rf on it and it works  \n15:28\u00a0<vmassol>\u00a0right now I also built the xwiki-platform-rendering-macro-cache  \n15:28\u00a0<vmassol>\u00a0and it failed  \n15:28\u00a0<vmassol>\u00a0I just ran it again  \n15:28\u00a0<vmassol>\u00a0and it worked  \n15:35\u00a0<tmortagne>\u00a0when it fail is it really on dependency you don't have locally ?  \n15:35\u00a0<vmassol>\u00a0didn't check  \n15:35\u00a0<vmassol>\u00a0will do next time  \n15:35\u00a0<vmassol>\u00a0let me try  \n15:36\u00a0<vmassol>\u00a0by removing what I have in my local repo  \n15:36\u00a0<msmeria>\u00a0has quit  \n15:36\u00a0<vmassol>\u00a0FTR this is what I got https://gist.githubusercontent.com/vmassol/dbee84004b16f0a17a5d/raw/dc99e3d529d8945480a3a0cde227a258ed7b9881/gistfile1.txt  \n15:37\u00a0<Lyes>\u00a0has quit  \n15:37\u00a0<vmassol>\u00a0so the problem was with: org.xwiki.commons:xwiki-commons-tool-license-resources:jar:6.3-SNAPSHOT  \n15:37\u00a0<Lyes>\u00a0has joined #xwiki  \n15:38\u00a0<vmassol>\u00a0yep I can reproduce cool  \n15:39\u00a0<vmassol>\u00a0I've removed that artifact from my local repo  \n15:39\u00a0<vmassol>\u00a0and rebuilt just the cache macro  \n15:39\u00a0<vmassol>\u00a0it fails  \n15:39\u00a0<vmassol>\u00a0and I have the artifact in my lcoal repo now  \n15:39\u00a0<vmassol>\u00a0and if I build again it works  \n15:39\u00a0<tmortagne>\u00a0what is weird is that the log suggest that it could download it  \n15:39\u00a0<tmortagne>\u00a0just before  \n15:40\u00a0<tmortagne>\u00a0maybe there is a bug with plugin dependencies (since here it's not just a simple dependency)  \n15:41\u00a0<vmassol>\u00a0yes it's a plugin dep  \n15:41\u00a0<vmassol>\u00a0I also think it could be caused by this fact  \n15:48\u00a0<vmassol>\u00a0FTR it works well in 3.0.5 on my machine  \n15:48\u00a0<vmassol>\u00a0seems like a maven regression  \n15:50\u00a0<vmassol>\u00a0fails also on 3.1.1 and 3.2.2  \n15:50\u00a0<vmassol>\u00a0aether was changed in 3.1  \n15:50\u00a0<vmassol>\u00a0could be the cause  \n15:52\u00a0<vmassol>\u00a0so tmortagne, stay on 3.0.5! ;)  \n15:53\u00a0<tmortagne>\u00a0ok  \n15:54\u00a0<vmassol>\u00a0I guess we could add an ungly explicit dependency to force it...  \n15:54\u00a0<vmassol>\u00a0\\*ugly  \n15:54\u00a0<vmassol>\u00a0so who's on maven > 3.0.5 here?  \n15:54\u00a0<vmassol>\u00a0would be good to verify it fails for you too  \n15:55\u00a0<vmassol>\u00a0you just need to:  \n15:55\u00a0<vmassol>\u00a01) cd xwiki-platform/xwiki-platform-core/xwiki-platform-rendering/xwiki-platform-rendering-macros/xwiki-platform-rendering-macro-cache  \n15:55\u00a0<vmassol>\u00a02) rm -Rf ~/.m2/repository/org/xwiki/commons/xwiki-commons-tool-license-resources/  \n15:55\u00a0<vmassol>\u00a03) mvn clean install  \n15:58\u00a0<tmortagne>\u00a0works for me  \n15:59\u00a0<tmortagne>\u00a0in 3.0.5, I will try with other version  \n16:02\u00a0<tmortagne>\u00a0fail with 3.2.3  \n16:02\u00a0<vmassol>\u00a0ok same good so it's a maven issue  \n16:03\u00a0<tmortagne>\u00a0yep clear regression probably related to plugin dependencies  \n16:03\u00a0<vmassol>\u00a0now we need to decide if we want xwiki's build to work on maven 3.1+  \n16:03\u00a0<vmassol>\u00a0if so we might need to add an explicit normal dep with a comment and open a jira issue on their tracker  \n16:03\u00a0<tmortagne>\u00a0we can also report the issue :)  \n16:04\u00a0<tmortagne>\u00a0I'm sure we want to work with the current version of Maven  \n16:04\u00a0<tmortagne>\u00a0does not make much sense to not want that  \n16:04\u00a0<vmassol>\u00a0well we don't know right now apparently and since 3.1\u2026  \n16:04\u00a0<vmassol>\u00a0it's strnage we haven't seen this before  \n16:05\u00a0<tmortagne>\u00a0it's maybe not as simple as just \"plugin dependencies don't work\"  \n16:05\u00a0<tmortagne>\u00a0there is maybe several things  \n16:05\u00a0<tmortagne>\u00a0as I'm sure they would have noticed an issue like this  \n16:06\u00a0<tmortagne>\u00a0but at least we found a \"stable\" way to reproduce so we can report the issue and I guess it won't be too hard to fix if they can reproduce it too  \n16:11\u00a0<Lyes>\u00a0has quit  \n16:11\u00a0<Lyes>\u00a0has joined #xwiki  \n16:17\u00a0<mflorea>\u00a0gdelhumeau: ping  \n16:18\u00a0<gdelhumeau>\u00a0mflorea: yes?  \n16:18\u00a0<mflorea>\u00a0are you working on fixing tests?  \n16:19\u00a0<gdelhumeau>\u00a0I did some fixed on xwiki-enterprise-selenium  \n16:19\u00a0<gdelhumeau>\u00a0\\*fixes  \n16:20\u00a0<mflorea>\u00a0ok, I see there are still 2 failures, but maybe your fixes haven't been built yet. I'll take a look at the test that fails in ui  \n16:24\u00a0<mflorea>\u00a0(org.xwiki.test.ui.PreviewTest.previewWithSheet)  \n16:42\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:42\u00a0<Lyes1>\u00a0has joined #xwiki  \n16:45\u00a0<Lyes1>\u00a0has quit  \n16:45\u00a0<Lyes1>\u00a0has joined #xwiki  \n16:46\u00a0<Lyes>\u00a0has quit  \n17:13\u00a0<momomomomo\\_>\u00a0has joined #xwiki  \n17:14\u00a0<Enygma`>\u00a0has quit  \n17:16\u00a0<mflorea>\u00a0has quit  \n17:16\u00a0<momomomomo>\u00a0has quit  \n17:16\u00a0<momomomomo\\_>\u00a0is now known as <momomomomo>  \n17:17\u00a0<evalica>\u00a0has quit  \n17:41\u00a0<lucaa>\u00a0has quit  \n17:43\u00a0<momomomomo\\_>\u00a0has joined #xwiki  \n17:46\u00a0<momomomomo>\u00a0has quit  \n17:46\u00a0<momomomomo\\_>\u00a0is now known as <momomomomo>  \n17:48\u00a0<momomomomo>\u00a0has quit  \n17:55\u00a0<lucaa>\u00a0has joined #xwiki  \n17:56\u00a0<woshilapin>\u00a0has quit  \n18:16\u00a0<KermitTheFragger>\u00a0has quit  \n18:18\u00a0<momomomomo>\u00a0has joined #xwiki  \n18:20\u00a0<tmortagne>\u00a0has quit  \n18:30\u00a0<gdelhumeau>\u00a0has quit  \n18:55\u00a0<momomomomo>\u00a0has quit  \n18:58\u00a0<cjd>\u00a0has quit  \n19:46\u00a0<Slashman>\u00a0has quit  \n20:41\u00a0<mflorea>\u00a0has joined #xwiki  \n21:13\u00a0<mflorea>\u00a0vmassol: ping  \n21:16\u00a0<lucaa>\u00a0has quit  \n21:20\u00a0<vmassol>\u00a0has quit  \n21:34\u00a0<OSIMasson>\u00a0has quit  \n21:42\u00a0<momomomomo>\u00a0has joined #xwiki  \n21:56\u00a0<OSIMasson>\u00a0has joined #xwiki  \n21:57\u00a0<OSIMasson>\u00a0has quit  \n22:31\u00a0<mflorea>\u00a0has quit  \n23:15\u00a0<Lyes1>\u00a0has quit  \n23:45\u00a0<momomomomo>\u00a0has quit  \n23:47\u00a0<momomomomo>\u00a0has joined #xwiki\n"}