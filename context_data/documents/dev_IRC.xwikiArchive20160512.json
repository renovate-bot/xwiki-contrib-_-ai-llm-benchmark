{"id": "dev:IRC.xwikiArchive20160512", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20160512", "title": "IRC Archive for channel #xwiki on 12 May 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n01:40\u00a0<Aranjedeath>\u00a0has quit  \n01:42\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n01:56\u00a0<sdumitriu1>\u00a0has quit  \n02:11\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n02:52\u00a0<Aranjedeath>\u00a0has quit  \n06:16\u00a0<vmassol>\u00a0has joined #xwiki  \n06:24\u00a0<CylonSputnikk>\u00a0How can I display a panel but only for an admin?  \n06:28\u00a0<CylonSputnikk>\u00a0also, anyway to sort a document tree?  \n06:33\u00a0<vmassol>\u00a0CylonSputnikk: hi, you can use #if ($isAdmin) in the panel's code  \n06:34\u00a0<CylonSputnikk>\u00a0i'll try that, though i'm not familiar with velocity  \n06:34\u00a0<CylonSputnikk>\u00a0i'm reading that sorting a doc tree is impossible?  \n06:34\u00a0<CylonSputnikk>\u00a0at least, a dynamic one  \n06:35\u00a0<CylonSputnikk>\u00a0(I'd make them static but I have a need that menus auto generate when users add pages)  \n06:40\u00a0<CylonSputnikk>\u00a0if ($isAdmin == true) ?  \n06:40\u00a0<CylonSputnikk>\u00a0just #if ($isAdmin) doesn't seem to work for me  \n06:52\u00a0<CylonSputnikk>\u00a0!search sort  \n06:52\u00a0<CylonSputnikk>\u00a0!search alphabetical  \n06:59\u00a0<vmassol>\u00a0has quit  \n07:19\u00a0<vmassol>\u00a0has joined #xwiki  \n07:27\u00a0<Inge->\u00a0has quit  \n07:28\u00a0<vmassol>\u00a0has quit  \n07:39\u00a0<acotiuga>\u00a0has joined #xwiki  \n07:41\u00a0<msmeria>\u00a0has joined #xwiki  \n07:50\u00a0<D-Spair>\u00a0has quit  \n07:56\u00a0<D-Spair>\u00a0has joined #xwiki  \n08:00\u00a0<Inge->\u00a0has joined #xwiki  \n08:04\u00a0<CylonSputnikk>\u00a0unc: links don't seem to be working :(  \n08:04\u00a0<CylonSputnikk>\u00a0at least not for network resources like \\\\server  \n08:07\u00a0<CylonSputnikk>\u00a0oh nvm. didn't put [[]]  \n08:20\u00a0<vmassol>\u00a0has joined #xwiki  \n08:55\u00a0<mflorea>\u00a0has joined #xwiki  \n08:55\u00a0<Inge->\u00a0has quit  \n09:20\u00a0<ClemensR>\u00a0has joined #xwiki  \n09:40\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:47\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:00\u00a0<Inge->\u00a0has joined #xwiki  \n10:35\u00a0<vmassol>\u00a0who's DarkKnightCZ?  \n10:35\u00a0<vmassol>\u00a0:)  \n10:36\u00a0<ClemensR>\u00a0sorry, I pushed with git push --all and forgot that I had some stale local branched around  \n10:37\u00a0<ClemensR>\u00a0which got pushed as well, so I had to delete them again - that one was a local check to see if a pull request could be merged  \n10:37\u00a0<ClemensR>\u00a0from 2015 or 2014 .... I guess I should just delete and re-clone my local checkout from time to time  \n10:55\u00a0<CylonSputnikk>\u00a0Is it possible to sort a {{tree}} or {{documentTree}} (the navigation panel basically) by alphabet?  \n10:55\u00a0<CylonSputnikk>\u00a0the dynamic ones  \n10:56\u00a0<vmassol>\u00a0sorting an unlimited tree doesn't scale for for {{documentTree}} I don't think you can  \n10:56\u00a0<vmassol>\u00a0for {{tree}} I don't know  \n10:56\u00a0<vmassol>\u00a0s/for for/so for  \n10:57\u00a0<CylonSputnikk>\u00a0no way to reorder them then. hmmm  \n10:58\u00a0<ClemensR>\u00a0well, one could sort the results in the backend in the JSONService ...  \n11:00\u00a0<CylonSputnikk>\u00a0i wouldn't know where to get started w/ that  \n11:04\u00a0<msmeria1>\u00a0has joined #xwiki  \n11:04\u00a0<ClemensR>\u00a0yes, its stuff in the DocumentTreeMacros ... not trivial. I thought I have written a mail about that to the mailinglist , but that was half a year ago ... need some time to find it  \n11:06\u00a0<msmeria>\u00a0has quit  \n11:06\u00a0<vmassol>\u00a0you'd need to be able to sort in the query used to generate the json  \n11:07\u00a0<CylonSputnikk>\u00a0While i'm firing away questions  \n11:07\u00a0<CylonSputnikk>\u00a0Is there a better editor thats currently working? THe default editor is a bit lacking in buttons for actual wiki syntax  \n11:07\u00a0<vmassol>\u00a0actually marius tells me that the documenttree macro is already sorted!  \n11:07\u00a0<vmassol>\u00a0:)  \n11:07\u00a0<vmassol>\u00a0(by page name)  \n11:08\u00a0<vmassol>\u00a0you cannot sort by title  \n11:08\u00a0<vmassol>\u00a0ATM  \n11:08\u00a0<vmassol>\u00a0we could sort by raw titles  \n11:09\u00a0<vmassol>\u00a0the issue is that we can scripts in titles  \n11:09\u00a0<vmassol>\u00a0so it cannot be perfec  \n11:09\u00a0<vmassol>\u00a0but we could offer it as an option  \n11:09\u00a0<vmassol>\u00a0so that if the user of it knows the displayed pages only have static titles it could work  \n11:09\u00a0<vmassol>\u00a0there's an issue already for this btw  \n11:09\u00a0<vmassol>\u00a0(jira issue)  \n11:09\u00a0<ClemensR>\u00a0the discusssion on the mailing list that I mentioned is at http://markmail.org/thread/yo4n5cfl5qltjzna  \n11:09\u00a0<vmassol>\u00a0!jira document tree sort title  \n11:10\u00a0<vmassol>\u00a0400 grrr  \n11:10\u00a0<ClemensR>\u00a0better editor: \u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/CKEditor+Integration  \n11:10\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-12832  \n11:10\u00a0<vmassol>\u00a0CylonSputnikk: is that what you want?  \n11:12\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:19\u00a0<CylonSputnikk>\u00a0yes  \n11:44\u00a0<CylonSputnikk>\u00a0isn't it #if ($hasAdmin) not isadmin?  \n11:44\u00a0<CylonSputnikk>\u00a0yup  \n11:52\u00a0<CylonSputnikk>\u00a0is it possible to hide breadcrumbs? or do i have to do it with css  \n11:59\u00a0<leonidas\\_o>\u00a0has joined #xwiki  \n12:03\u00a0<ClemensR>\u00a0css or override the \"hierarchy.vm\" in a custom skin  \n12:06\u00a0<leonidas\\_o>\u00a0I'm using the current stable xwiki 8 version. Inside my profile -> My Dashboard, I've set \"Display my dashboard on the wiki home when I'm logged in (instead of the default dashboard)\" to yes and created my own dashboard. Now when I change to another wiki, I haven't got a dashboard anymore. Just an empty site, only in that one wiki I can see it. When I revert that, and use the global dashboard, I see in every wiki the standard global dashb  \n12:06\u00a0<leonidas\\_o>\u00a0oard again. Can someone help?  \n12:13\u00a0<CylonSputnikk>\u00a0i swear i saw a css editor in administration somewhere  \n12:16\u00a0<ClemensR>\u00a0CylonSputnikk: \u00a0I cannot remember a css editor, I do my changes via http://platform.xwiki.org/xwiki/bin/view/DevGuide/SkinExtensionsTutorial  \n12:16\u00a0<ClemensR>\u00a0but maybe you mean the color theme editor?  \n12:18\u00a0<ClemensR>\u00a0leonidas\\_o: so the setting to use your own dashboard carries over to subwikis, just that they do not show any dashboard at all?  \n12:18\u00a0<ClemensR>\u00a0looks like a bug to me, but I \u00a0have not reproduced this yet  \n12:26\u00a0<CylonSputnikk>\u00a0how do you give a new user programming rights  \n12:32\u00a0<ClemensR>\u00a0user must be in main wiki. just put 'em in the XWikiAdmin group I think.  \n12:33\u00a0<CylonSputnikk>\u00a0yeah i did that and then gave xwikiadmin script to xwiki. resaved myfirststyleextension per that link. can't get the always option to show up  \n12:36\u00a0<ClemensR>\u00a0programming rights: only in mail wiki. they would not work as expected in subwikis  \n12:37\u00a0<CylonSputnikk>\u00a0i only have one  \n12:41\u00a0<CylonSputnikk>\u00a0hmmm. tried the same process with superadmin. surely that user has programming rights. still can't get always to appear  \n12:42\u00a0<leonidas\\_o>\u00a0ClemensR: It is an odd behaviour, inside this other wiki, if I try to add a gadget to the dashboard, it seems nothing was done, but if I return to the main wiki, the gadget was added.  \n12:55\u00a0<ClemensR>\u00a0leonidas\\_o: ah, ok, it seems like the dashboard operates on the main wiki always, even if in subwiki, and subwiki cannot display it ... looks even more like a bug to me.  \n12:56\u00a0<leonidas\\_o>\u00a0ClemensR: ok thank, I will report a bug  \n12:56\u00a0<ClemensR>\u00a0I have something else to fix first and then will try to reproduce. but if you want you can file a bug report ar jira.xwiki.org/browse/XWIKIt  \n12:56\u00a0<ClemensR>\u00a0ah, ok sync :)  \n12:56\u00a0<ClemensR>\u00a0CylonSputnikk: programming rights only exists on the wiki level  \n12:59\u00a0<moep>\u00a0has joined #xwiki  \n13:00\u00a0<CylonSputnikk>\u00a0I go to wiki index. See my one and only main wiki. Click Edit, then access rights. I see \"Script\". Is that it?  \n13:06\u00a0<CylonSputnikk>\u00a0ok i also see adminstrer wiki ->users & groups -> both the group i belong to and the user has \"program\" checked. still not getting the menu option :(  \n13:11\u00a0<ClemensR>\u00a0no Admin wiki -> there rights  \n13:11\u00a0<ClemensR>\u00a0edit is editing the rights if the start page  \n13:12\u00a0<ClemensR>\u00a0ok, but which menu option? programming right is about writing stuff in velocity macros  \n13:12\u00a0<ClemensR>\u00a0and groovy macros, etc pp  \n13:14\u00a0<CylonSputnikk>\u00a0i need programming rights to do the CssExtension you linked me to  \n13:15\u00a0<CylonSputnikk>\u00a0XWikiAdminGroup has View,Comment,Edit,Script,Delete,Admin,Register & Program across the board  \n13:18\u00a0<ClemensR>\u00a0ok, looks good. then css style sheet is saved with \"Use this extension\" : \"Always\" ?  \n13:20\u00a0<msmeria>\u00a0has joined #xwiki  \n13:24\u00a0<msmeria1>\u00a0has quit  \n13:24\u00a0<CylonSputnikk>\u00a0the always option doesn't show up in the drop down  \n13:28\u00a0<CylonSputnikk>\u00a0i even logged in as superadmin, still no always option  \n13:43\u00a0<ClemensR>\u00a0ah, its \"On this wiki\" , not \"Always\" ... cross wiki css does not work too well, lots of permission problems  \n13:43\u00a0<CylonSputnikk>\u00a0well that walkthrough lied then!  \n13:53\u00a0<tmortagne>\u00a0has quit  \n13:59\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n13:59\u00a0<gdelhumeau>\u00a0has quit  \n14:28\u00a0<leonidas\\_o>\u00a0The Display Gadged has a reference field for e.g. the page what to display. How to find out what the reference of other pages is to use inside such a gadget?  \n14:34\u00a0<ClemensR>\u00a0leonidas\\_o: there is no good UI to pick the reference to a page yet. what I use as a workaround is to edit a page in the sandbox, put in a link to the page I want and the look in the source tab what the \u00a0link looks like  \n14:34\u00a0<ClemensR>\u00a0no need to save the page with the dummy link. \u00a0the reference is the past after the '>>doc:'  \n14:35\u00a0<ClemensR>\u00a0in the old times before nested pages it was always <spacename>.<pagename> that was easy enough just to type it in  \n14:41\u00a0<Slashman>\u00a0has joined #xwiki  \n14:43\u00a0<leonidas\\_o>\u00a0ClemensR: I've edited a sandbox page with the wiki editor. Insert a internal link, put in the url from where the page is and then? Where is the source tab?  \n14:45\u00a0<ClemensR>\u00a0\u00a0leonidas\\_o:ah, no, in the wysiwyg editor, there is a nice tree to navigate to the page you want  \n14:46\u00a0<ClemensR>\u00a0if you can type in a link in the wiki editor, you can type in a reference to the page, it is essentially the same  \n14:48\u00a0<tmortagne>\u00a0has joined #xwiki  \n14:49\u00a0<sdumitriu1>\u00a0has quit  \n14:49\u00a0<tmortagne>\u00a0has quit  \n14:51\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n14:56\u00a0<acotiuga>\u00a0has quit  \n14:58\u00a0<leonidas\\_o>\u00a0ClemensR: Ohh I see, got it, thanks  \n14:58\u00a0<ClemensR>\u00a0just a small helpful trick ;)  \n15:06\u00a0<msmeria1>\u00a0has joined #xwiki  \n15:06\u00a0<msmeria>\u00a0has quit  \n15:11\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:35\u00a0<lkrejci>\u00a0has joined #xwiki  \n15:59\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n16:00\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n16:00\u00a0<gdelhumeau>\u00a0has quit  \n16:02\u00a0<msmeria1>\u00a0has quit  \n16:05\u00a0<lkrejci>\u00a0has quit  \n16:05\u00a0<lkrejci>\u00a0has joined #xwiki  \n16:05\u00a0<lkrejci>\u00a0has quit  \n16:08\u00a0<boubou>\u00a0ClemensR hi ;)  \n16:08\u00a0<boubou>\u00a0how are u ?  \n16:08\u00a0<boubou>\u00a0;)  \n16:08\u00a0<ClemensR>\u00a0hi, here BFD, and I cannot get my fix running :/ but fine aside of that  \n16:12\u00a0<boubou>\u00a0ClemensR I checked the procedure to enable https on my Tomcat and xwiki but it wont work  \n16:12\u00a0<boubou>\u00a0:(  \n16:13\u00a0<ClemensR>\u00a0oh, yeah, tomcat and https ... I usually use apache httpd in front of it, if only for the https part  \n16:20\u00a0<boubou>\u00a0how did you configure it ?  \n16:31\u00a0<ClemensR>\u00a0well, apache reads in https from network and uses mod\\_proxy\\_ajp to talk to tomcat; thee are quite a few tutorials out there how to do such a setup  \n16:32\u00a0<boubou>\u00a0I will prefer to change the http and setup https port in my server.xml  \n16:33\u00a0<boubou>\u00a0I will try to ask in the mailling list  \n16:35\u00a0<lkrejci>\u00a0has quit  \n16:35\u00a0<lkrejci>\u00a0has joined #xwiki  \n16:35\u00a0<lkrejci>\u00a0has quit  \n17:24\u00a0<moep>\u00a0?  \n17:30\u00a0<leonidas\\_o>\u00a0has quit  \n17:32\u00a0<inev>\u00a0has joined #xwiki  \n17:33\u00a0<ClemensR>\u00a0if they switch to \"advanced\" mode, they can see the \"rights\" editor for pages they can edit, so I think yes  \n17:33\u00a0<inev>\u00a0hi. a user needed to make some changes on the xwiki templates, so i did a chmod -R g+w on the expanded xwiki war directory. but unfortunately now all we get is a blank page... any idea how i can fix this?  \n17:53\u00a0<lkrejci>\u00a0has quit  \n17:58\u00a0<ClemensR>\u00a0inev: chmod should not stop wiki from running (otherwise you would just need to chmod -R g-w). but maybe someone used the opportunity to edit the files and that went wrong. any changes to the webapp since you did the chmod?  \n18:00\u00a0<inev>\u00a0ClemensR, that was my thought and the first thing i did (chmod -R g-w). I also had enabled the stick bit (removed that as well). What i did find was a template file with no EOL, but after replacing it with the original (recently extracted from the war file) xwiki reaches 50% initialization and just displays a blank page  \n18:00\u00a0<mflorea>\u00a0has quit  \n18:01\u00a0<ClemensR>\u00a0hm, and there is nothing in the logs ?  \n18:02\u00a0<inev>\u00a0catalina logs give me an error \"Unable to process Jar entry for annotations\" though these were also present on the first startup and there were no issues then  \n18:02\u00a0<Enygma`>\u00a0has quit  \n18:03\u00a0<ClemensR>\u00a0uh, but it did not say which jars ?  \n18:03\u00a0<Enygma`>\u00a0has joined #xwiki  \n18:03\u00a0<inev>\u00a0javassist-3.19.0-GA.jar  \n18:05\u00a0<moep>\u00a0ClemensR oh, I see, I thought they could just... like access the \"administer page\" button on pages they own, but that is fine too, ty  \n18:14\u00a0<Signum>\u00a0has quit  \n18:18\u00a0<chaas>\u00a0has joined #xwiki  \n18:22\u00a0<ClemensR>\u00a0inev: stange, is that jar rotten? maybe replace the complete WEB-INF/lib from the \\*.war and retry ...  \n18:23\u00a0<evalica>\u00a0has quit  \n18:23\u00a0<vmassol>\u00a0has quit  \n18:26\u00a0<Enygma`>\u00a0has quit  \n18:27\u00a0<inev>\u00a0ClemensR, so i moved the original \"xwiki\" folder from the tomcat webapps. Re-added the changes to the hibernate file and the jdbc. Start it up again: same thing. Blank page at 50%  \n18:28\u00a0<moep>\u00a0ClemensR it's odd, I created a page as an unprivileged user, and I also see the rights-icon in the page overview, but when I click it I get an \"Error: You are not allowed to view this page or perform this action.\"  \n18:30\u00a0<ClemensR>\u00a0moep: ok, I might need to check of access rights have been changed, and only admins are allowed to do rights management, in that case it would be wrong that the menu entry is shown for non-admin users  \n18:30\u00a0<tmortagne>\u00a0has quit  \n18:31\u00a0<ClemensR>\u00a0inev: I have md5sum: \u00a0\u00a0\u00a060974bfbf014085986b1d1eac44222c8 \u00a0webapps/xwiki/WEB-INF/lib/javassist-3.19.0-GA.jar \u00a0\u00a0\u00a0\u00a0same for you?  \n18:33\u00a0<inev>\u00a0ClemensR, correct  \n18:33\u00a0<ClemensR>\u00a0seem to be a common problem with tomcat, e.g. https://github.com/jboss-javassist/javassist/issues/29  \n18:34\u00a0<ClemensR>\u00a0I never have seen that problem before, though  \n18:34\u00a0<tmortagne>\u00a0has joined #xwiki  \n18:34\u00a0<tmortagne>\u00a0has quit  \n18:34\u00a0<inev>\u00a0ClemensR, and when i first installed the server that error was still present, and there were no issues  \n18:35\u00a0<ClemensR>\u00a0ah, ok, then maybe the problem is something different  \n18:36\u00a0<ClemensR>\u00a0there are no other problems in the log, and the tomcat process is just doing nothing ?  \n18:37\u00a0<inev>\u00a0yeah pretty much. there is only xwiki installed in the whole VM as well  \n18:37\u00a0<inev>\u00a0my guess right now is that i could e something in the database itself  \n18:38\u00a0<inev>\u00a0since i removed the xwiki folder from the webapps directory and the error persists  \n18:40\u00a0<ClemensR>\u00a0hm, have you configured your environment.permanentDirectory ? maybe tomcat has scrapped that ...  \n18:41\u00a0<ClemensR>\u00a0but the init message \"Server started, you can now open ...\" \u00a0from XWiki appears somewhere ?  \n18:43\u00a0<inev>\u00a0ClemensR, i did forget the permanent directory... added that and restarting. ill look up the xwiki message  \n18:45\u00a0<inev>\u00a0not even with the permanent directory... where would that xwiki message show up? (which logfile by default i mean)  \n18:46\u00a0<ClemensR>\u00a0see WEB-INF/classes/logback.xml - if you have not configured it , it should write to catalina.out - or wherever tomcat dumps the stdout of the webapps  \n18:47\u00a0<ClemensR>\u00a0I remember I have sometimes happy logfile hunts with tomcat ... \u00a0find /var/lib/tomcatX -mmin -5 \u00a0to find them all ;)  \n18:48\u00a0<inev>\u00a0ah, i do get the server startup in X ms  \n18:48\u00a0<inev>\u00a0and xwiki.war has finished in Y  \n19:02\u00a0<inev>\u00a0Amazing. Created a new database, changed the config on xwiki, did a find and delete on all \"status.xml\" files and i cant even get the distribution wizard to show up  \n19:06\u00a0<ujjwal>\u00a0has joined #xwiki  \n19:07\u00a0<gdelhumeau\\_>\u00a0has quit  \n19:08\u00a0<ClemensR>\u00a0hm, but no literal \"Server started, you can now open ...\" \u00a0from XWiki?  \n19:08\u00a0<ClemensR>\u00a0ah, that is maybe only from the jetty distro  \n19:08\u00a0<inev>\u00a0None that i could see. Managed to start it up with a blank database, reverted the DB name and trying again....  \n19:09\u00a0<inev>\u00a0and yup, problem lies with the database  \n19:09\u00a0<ClemensR>\u00a0uh,oh  \n19:53\u00a0<inev>\u00a0ClemensR, well, the people who are working with xwiki managed to restore a backup to the new database, and now we can login, woo!  \n19:53\u00a0<ClemensR>\u00a0phew  \n19:56\u00a0<ClemensR>\u00a0has quit  \n20:10\u00a0<lkrejci>\u00a0has joined #xwiki  \n20:10\u00a0<lkrejci>\u00a0has joined #xwiki  \n20:42\u00a0<Slashman>\u00a0has quit  \n20:47\u00a0<lkrejci>\u00a0has quit  \n21:23\u00a0<sdumitriu1>\u00a0has quit  \n22:15\u00a0<martinus\\_\\_>\u00a0has quit  \n22:18\u00a0<martinus\\_\\_>\u00a0has joined #xwiki  \n22:42\u00a0<marcules>\u00a0has joined #xwiki  \n22:45\u00a0<moep>\u00a0has quit  \n22:58\u00a0<ujjwal>\u00a0has quit  \n22:58\u00a0<ujjwal>\u00a0has joined #xwiki  \n23:47\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n23:52\u00a0<marcules>\u00a0has quit  \n23:52\u00a0<abusenius>\u00a0has joined #xwiki\n"}