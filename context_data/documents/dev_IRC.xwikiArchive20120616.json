{"id": "dev:IRC.xwikiArchive20120616", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120616", "title": "IRC Archive for channel #xwiki on 16 June 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:14\u00a0<thebishop>\u00a0has quit  \n00:44\u00a0<ries>\u00a0has quit  \n00:48\u00a0<ssavi>\u00a0has quit  \n01:18\u00a0<ssavi>\u00a0has joined #xwiki  \n01:27\u00a0<jamie\\_\\_wiki>\u00a0has quit  \n02:01\u00a0<Shaddox>\u00a0has joined #xwiki  \n02:01\u00a0<Rich\\_Morin>\u00a0has joined #xwiki  \n02:02\u00a0<Rich\\_Morin>\u00a0FYI, there is now an Enterprise Wikis mailing list: \u00a0https://groups.google.com/forum/#!forum/ent-wiki  \n02:11\u00a0<@cjd>\u00a0Thanks, I looked around for an example of ajax in a wiki page and didn't find anything so it's on my (long) todo list heh  \n02:19\u00a0<tekzilla>\u00a0has quit  \n02:21\u00a0<tekzilla>\u00a0has joined #xwiki  \n02:41\u00a0<ries>\u00a0has joined #xwiki  \n03:02\u00a0<Shaddox>\u00a0has quit  \n03:02\u00a0<ssavi>\u00a0has quit  \n03:50\u00a0<sdumitriu>\u00a0has quit  \n06:19\u00a0<sasinda>\u00a0has joined #xwiki  \n06:31\u00a0<sasinda>\u00a0has quit  \n06:32\u00a0<sasinda>\u00a0has joined #xwiki  \n07:03\u00a0<Denis1>\u00a0has joined #xwiki  \n07:05\u00a0<Denis>\u00a0has quit  \n07:15\u00a0<sasinda>\u00a0Hi, Good day everybody!. This is regarding the xwiki anrdroid project. I need to post a blog object to a blog page.A blog object is composed of othe xobject classes. So to make the things general I intend to do a stripped down replication or make something similer to the java classes in com.xpn.xwiki.objects and its 2 sub packages .classes, .meta to the xwiki android platform. This is to make  \n07:15\u00a0<sasinda>\u00a0the relevent blog post using pojos and convert to the xml string later to be posted.Then the things will be general not only for blog client app. Can someone explain why there are 3 classes for X<Type>Class, X<Type>Property and X<Type>Meta ? I don't have a good idea on it :-).  \n07:39\u00a0<jvelociter>\u00a0has quit  \n08:03\u00a0<sasinda>\u00a0has quit  \n08:05\u00a0<sasinda>\u00a0has joined #xwiki  \n08:26\u00a0<sasinda>\u00a0has quit  \n08:27\u00a0<sasinda>\u00a0has joined #xwiki  \n09:10\u00a0<sasinda>\u00a0has quit  \n10:18\u00a0<ssavi>\u00a0has joined #xwiki  \n10:44\u00a0<ssavi\\_>\u00a0has joined #xwiki  \n10:46\u00a0<ssavi>\u00a0has quit  \n10:46\u00a0<ssavi\\_>\u00a0is now known as <ssavi>  \n11:13\u00a0<ssavi>\u00a0has quit  \n11:31\u00a0<ssavi>\u00a0has joined #xwiki  \n11:36\u00a0<ssavi>\u00a0has quit  \n12:06\u00a0<jvelociter>\u00a0has joined #xwiki  \n12:43\u00a0<sasinda>\u00a0has joined #xwiki  \n12:58\u00a0<vmassol>\u00a0has joined #xwiki  \n13:17\u00a0<jvelo\\_>\u00a0has joined #xwiki  \n13:20\u00a0<jvelo>\u00a0has quit  \n13:20\u00a0<jvelo\\_>\u00a0is now known as <jvelo>  \n13:21\u00a0<jvelociter>\u00a0has quit  \n13:21\u00a0<jvelociter>\u00a0has joined #xwiki  \n14:12\u00a0<sasinda>\u00a0has quit  \n16:31\u00a0<vmassol>\u00a0has quit  \n16:31\u00a0<sasinda>\u00a0has joined #xwiki  \n16:44\u00a0<Denis1>\u00a0is now known as <Denis>  \n16:52\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:17\u00a0<jvelociter>\u00a0has quit  \n17:31\u00a0<sasinda>\u00a0has quit  \n17:32\u00a0<sasinda>\u00a0has joined #xwiki  \n19:07\u00a0<sasinda>\u00a0has left #xwiki  \n19:15\u00a0<ries\\_>\u00a0has joined #xwiki  \n19:15\u00a0<ries>\u00a0has quit  \n19:15\u00a0<ries\\_>\u00a0is now known as <ries>  \n20:57\u00a0<ssavi>\u00a0has joined #xwiki  \n21:38\u00a0<npm>\u00a0may i ask a really dumb question associated w/ a really dumb move on my part? :-)  \n21:39\u00a0<npm>\u00a0if I want to bulk-undelete documents from the recyclebin, all i have to do is delete the associated document entries from the recyclebin table \u00a0(in mysql)?  \n21:44\u00a0<@cjd>\u00a0that won't bulk-undelete  \n21:44\u00a0<npm>\u00a0yeah i was just rtfming  \n21:44\u00a0<@cjd>\u00a0in general, doing things in mysql can only cause corruption  \n21:45\u00a0<@cjd>\u00a0in some cases it \"works\", I think what would happen in this case is the recycled entries would vanish  \n21:46\u00a0<@cjd>\u00a0If you want to bulk undelete, I would use a script to undelete all of the documents.  \n21:46\u00a0<npm>\u00a0i've been looking but all i've found are scripts for bulk delete  \n21:47\u00a0<npm>\u00a0e.g. WIP http://www.nielsmayer.com/bin/view/Sandbox/MwDelDocs?viewer=code  \n21:47\u00a0<npm>\u00a0i think there needs to be a \"are you really sure\" for deleting WebHome in XWiki :-)  \n21:48\u00a0<npm>\u00a0for the tired and used-to-click-away-dialogs  \n21:48\u00a0<@cjd>\u00a0Actually something I was thinking would be nice at times is a universal rollback  \n21:48\u00a0<npm>\u00a0or any document containing child documetns that automatically get deleted  \n21:48\u00a0<@cjd>\u00a0so if you really stuff it up, you can revert to an hour ago  \n21:49\u00a0<npm>\u00a0the subwiki was actually functional after that, just world writable :-/  \n21:49\u00a0<@cjd>\u00a0but that's a huge undertaking which requires logging everything  \n21:49\u00a0<npm>\u00a0actually the activity stream has what was done so if there was a way of rolling back to a point in the activity stream...  \n21:50\u00a0<@cjd>\u00a0yeah, the AS logging is pretty good, we'd have to make sure it was perfect and then we could do something like that  \n21:52\u00a0<@cjd>\u00a0as far as bulk-undelete, you could actually do it in javascript which would give faster feedback and it would be something where you can find what to post to using firebug  \n21:52\u00a0<npm>\u00a0any suggestions on modifying XWiki.DeletedDocuments to point at a different database/wiki?  \n21:52\u00a0<npm>\u00a0seems like a safe alternative for my f-up  \n21:53\u00a0<@cjd>\u00a0I don't know that particular document but \u00a0$xcontext.getContext().setDatabase('other-wiki') \u00a0is how you switch wikis.  \n21:53\u00a0<@cjd>\u00a0(you need PR to make that call)  \n21:54\u00a0<npm>\u00a0yeah that's why i was playing w/ listing docs from the subwiki's recyclebin  \n21:54\u00a0<npm>\u00a0http://www.nielsmayer.com/bin/view/Sandbox/MwDelDocs?viewer=code  \n21:54\u00a0<npm>\u00a0decided i'd already screwed up enough things for one evening and went to sleep  \n21:55\u00a0<@cjd>\u00a0heh /nod  \n21:55\u00a0<ries>\u00a0has quit  \n21:57\u00a0<npm>\u00a0well maybe i'll play with a subwiki version of \u00a0XWiki.DeletedDocuments and see where that gets me.  \n21:58\u00a0<npm>\u00a0the reason why i asked about direct db surgery is that i'm seeing all the deleted entries still in xwikidoc table  \n21:58\u00a0<npm>\u00a0e.g. XWiki.XWikiUserNetworkSheet etc..  \n21:59\u00a0<npm>\u00a0and that entry is of course also in recyclebin  \n21:59\u00a0<npm>\u00a0and it appears attachments go to their recycle bin only on actual delete right?  \n21:59\u00a0<npm>\u00a0so i was thinking it should be easy... what other tables get touched in the \"undelete\" process  \n22:00\u00a0<@cjd>\u00a0all of them :)  \n22:00\u00a0<@cjd>\u00a0having a deleted document in the recycle bin doesn't make the document be deleted.  \n22:01\u00a0<@cjd>\u00a0The document registers as deleted when there is no xwikidoc entry and there is something in the recycle bin  \n22:01\u00a0<npm>\u00a0i realize that. but removing it from the recycle bin makes it undeleted right?  \n22:01\u00a0<@cjd>\u00a0removing the recycle bin entry makes it \"never have existed\"  \n22:02\u00a0<npm>\u00a0but what about the existing entry, e.g. \u00a0XWiki.DeletedDocuments in xwikidoc  \n22:03\u00a0<@cjd>\u00a0if there is a document and also an entry in xwikirecyclebin then you won't see the recycled entry unless you delete the document again.  \n22:03\u00a0<npm>\u00a0i.e there is a xwikidoc entry, and an associated recyclebin entry  \n22:03\u00a0<@cjd>\u00a0If you delete the document again then you see the list of all instances of that document in the recycle bin next to the date of deletion.  \n22:04\u00a0<@cjd>\u00a0so if the same document existed 3 ties and was deleted twice, when you delete it the third time, you'll see all three of them in the recycling.  \n22:04\u00a0<npm>\u00a0hmm.  \n22:05\u00a0<npm>\u00a0thus your \"use the API\" warnings.  \n22:05\u00a0<npm>\u00a0well thanks for preventing a disaster (one with a backup, and i seem to be willing to destroy in order to create :-) )  \n22:06\u00a0<@cjd>\u00a0if you want to save space, you can permanently remove entries from the recycling but please back up your database first, manually removing xwikirecyclebin entries \"should be ok\" but I can't remember well enough.  \n22:06\u00a0<npm>\u00a0speaking of saving space, and also the activity stream cleaner perhaps not working...  \n22:06\u00a0<@cjd>\u00a0We don't treat a database as a normal relational store but more as a filesystem so in some cases there are \"pointers\" to things and when you remove them, the pointers are still kicking around.  \n22:06\u00a0<npm>\u00a0what about manually deleting stuff in activitystream table ?  \n22:07\u00a0<@cjd>\u00a0As far as I remember, that is ok, please back up your database first though.  \n22:09\u00a0<npm>\u00a0which will eventually overflow \u00a0w/ warning \"InnoDB free: 5120 kB\"  \n22:10\u00a0<npm>\u00a0i figure i could just do a delete command that deletes activitystream\\_event entries earlier than a certain date  \n\n"}