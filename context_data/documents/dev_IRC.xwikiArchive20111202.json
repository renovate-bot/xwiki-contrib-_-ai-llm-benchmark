{"id": "dev:IRC.xwikiArchive20111202", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111202", "title": "IRC Archive for channel #xwiki on 02 December 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:57\u00a0<polx>\u00a0has quit  \n03:05\u00a0<tekzilla>\u00a0has quit  \n03:09\u00a0<tekzilla>\u00a0has joined #xwiki  \n03:17\u00a0<DrLou>\u00a0has quit  \n03:18\u00a0<gac410>\u00a0has joined #xwiki  \n04:48\u00a0<Enygma`>\u00a0has quit  \n06:03\u00a0<Denis1>\u00a0has joined #xwiki  \n06:03\u00a0<Denis2>\u00a0has quit  \n06:14\u00a0<gac410>\u00a0has left #xwiki  \n06:37\u00a0<polx>\u00a0has joined #xwiki  \n06:58\u00a0<polx>\u00a0has quit  \n07:49\u00a0<vmassol>\u00a0has joined #xwiki  \n07:52\u00a0<SvenDowideit>\u00a0has quit  \n08:20\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* rb89d5c4\u000f \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/xe/DocumentIndexAttachmentsTabFilterTest.java :\u000f Removed debug leftover + improved assertion - http://git.io/9uBmYQ  \n08:20\u00a0<vmassol>\u00a0has quit  \n08:26\u00a0<nIMBVS>\u00a0has quit  \n08:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:34\u00a0<polx>\u00a0has joined #xwiki  \n09:46\u00a0<vmassol>\u00a0has joined #xwiki  \n09:48\u00a0<sburjan>\u00a0has joined #xwiki  \n10:01\u00a0<vmassol>\u00a0good morning  \n10:01\u00a0<vmassol>\u00a0so we need to check the status for the RC1 release  \n10:01\u00a0<vmassol>\u00a0sdumitriu/sburjan: what's the status with oracle support?  \n10:02\u00a0<vmassol>\u00a0sburjan: what's the status with the new XEM. Is it ready to be released?  \n10:02\u00a0<+sburjan>\u00a0vmassol: afaik sdumitriu fixed both issues I reported, but I am unaware if there are any other issues reported on the mailing lists  \n10:03\u00a0<vmassol>\u00a0sburjan: maybe you could do a quick oracle scan on the list?  \n10:03\u00a0<+sburjan>\u00a0ok  \n10:03\u00a0<vmassol>\u00a0(and in jira)  \n10:03\u00a0<vmassol>\u00a0I see:  \n10:03\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-7107  \n10:04\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XE-1032  \n10:04\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-6683  \n10:04\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-5783  \n10:04\u00a0<+sburjan>\u00a0and status of XEM, I'm not done testing it, but personally I wouldn't recommend it production yet.  \n10:04\u00a0<+sburjan>\u00a0XWIKI-6683 can be closed, I can't reproduce it anymore  \n10:04\u00a0<vmassol>\u00a0sburjan: what's missing in XEM?  \n10:04\u00a0<vmassol>\u00a0it's supposed to be production ready when we release 3.3  \n10:05\u00a0<+sburjan>\u00a0speed, and IMO it's not yet fully integrated  \n10:05\u00a0<vmassol>\u00a0the docuemtnation is also probabyl not there  \n10:05\u00a0<vmassol>\u00a0we need that one  \n10:05\u00a0<vmassol>\u00a0it's important to separate the 2 use cases and have them documented in the proper places on xwiki.org  \n10:05\u00a0<+sburjan>\u00a0it's on extensions, the install guide  \n10:05\u00a0<vmassol>\u00a0+ explain the new XEM in the RN and how do you achieve the farm use case  \n10:05\u00a0<vmassol>\u00a0sburjan: manager.xwiki.org  \n10:06\u00a0<vmassol>\u00a0this is the wiki for XEM  \n10:06\u00a0<+sburjan>\u00a0yes, I am not familiar with xem or workspaces, so somebody else will have to write that doc  \n10:06\u00a0<vmassol>\u00a0well you're the one who knows it the best by far  \n10:06\u00a0<vmassol>\u00a0I've never even seen it!  \n10:06\u00a0<vmassol>\u00a0but since you've been testing it  \n10:06\u00a0<vmassol>\u00a0you know it really well  \n10:06\u00a0<vmassol>\u00a0better than any of us  \n10:07\u00a0<vmassol>\u00a0you can get help from Enygma  \n10:07\u00a0<+sburjan>\u00a0it's already hard enough to test it without having proper knowledge about it and how should it behave. Eddy didn't have me nothing but the page from extensions which has the install guide and some screensnhots  \n10:07\u00a0<vmassol>\u00a0he's supposed to do that  \n10:07\u00a0<vmassol>\u00a0but on your side you're supposed to make sure it happens  \n10:07\u00a0<vmassol>\u00a0since you're the QA guy  \n10:07\u00a0<vmassol>\u00a0:)  \n10:07\u00a0<+sburjan>\u00a0as a QA guy, all I can say for the moment that I don't think it's fully integrated, slow, and I wouldn't recommend it for production  \n10:08\u00a0<vmassol>\u00a0I just want you guys to be professional in the sense that we release something professional  \n10:08\u00a0<vmassol>\u00a0ie documented and working  \n10:08\u00a0<vmassol>\u00a0it's a combo eddy and you  \n10:08\u00a0<vmassol>\u00a0eddy isn't there right now a pity  \n10:08\u00a0<+sburjan>\u00a0yes, that's what I'm trying to do :) you're telling me I should shout when I don't like something. I am shouting now :)  \n10:08\u00a0<vmassol>\u00a0yes but that's not enough  \n10:08\u00a0<vmassol>\u00a0:)  \n10:08\u00a0<vmassol>\u00a0we need to make things move  \n10:08\u00a0<vmassol>\u00a0we already postponed the release  \n10:08\u00a0<vmassol>\u00a0now we need to move  \n10:08\u00a0<vmassol>\u00a0I already listened to you  \n10:08\u00a0<vmassol>\u00a0by postponing the release by 1 week  \n10:09\u00a0<vmassol>\u00a0i put the XEM as one of the reasons  \n10:09\u00a0<vmassol>\u00a0now we both need to push for XEM to be finished  \n10:09\u00a0<vmassol>\u00a0ASAP  \n10:09\u00a0<vmassol>\u00a0since we're releasing RC1 monday  \n10:09\u00a0<vmassol>\u00a0and final the week after  \n10:09\u00a0<+sburjan>\u00a0I will finish testing XEM today, but sincen Eddy isn't here, I don't have who to ask about it, so I'll have to report anything I find suspicious, even if it's not a bug  \n10:09\u00a0<vmassol>\u00a0you need to tell him precisely what's missing  \n10:09\u00a0<vmassol>\u00a0are there jira issues about that already?  \n10:10\u00a0<+sburjan>\u00a0I reported a few, yes  \n10:10\u00a0<vmassol>\u00a0I saw some that were closed by him  \n10:10\u00a0<+sburjan>\u00a0yes  \n10:10\u00a0<+sburjan>\u00a0and the most annoying thing is that creating a subwiki/workspace is extremely slow due to some translation issues  \n10:10\u00a0<+sburjan>\u00a0and that import lasts a llifetime of a bacteria  \n10:10\u00a0<vmassol>\u00a0slower than creating \u00a0a subwiki in XEM?  \n10:11\u00a0<+sburjan>\u00a0creating a workspace or a subwiki is the same, because they both use the same template  \n10:11\u00a0<vmassol>\u00a0not really  \n10:11\u00a0<vmassol>\u00a0the templates have changed  \n10:11\u00a0<vmassol>\u00a0by XEM I meant the old XEM  \n10:11\u00a0<vmassol>\u00a0if it's the same speed as before it's ok it's not a regression  \n10:11\u00a0<+sburjan>\u00a0oh.. old XEM ruled at speed :)  \n10:12\u00a0<vmassol>\u00a0you joking?  \n10:12\u00a0<+sburjan>\u00a0this one is 10x+ slower  \n10:12\u00a0<vmassol>\u00a0it was taking like 1 minute to create a subwiki  \n10:12\u00a0<+sburjan>\u00a0not at all vmassol  \n10:12\u00a0<+tmortagne>\u00a0does anyone know any standard Aggregated Iterable I could reuse ? I have several Iterable of the same type and I would like to make them looks like one big Iterable  \n10:12\u00a0<vmassol>\u00a0I have no clue what an Iterable is actually :)  \n10:12\u00a0<+sburjan>\u00a0vmassol: I will install latest snapshot of trunk and count the seconds to create a workspace :)  \n10:13\u00a0<vmassol>\u00a0sburjan: is that the only issue remaining?  \n10:13\u00a0<+tmortagne>\u00a0sburjan: again ans as Enyma said I think you mix subwiki creation with subwiki+import  \n10:13\u00a0<+tmortagne>\u00a0what's slow is import  \n10:13\u00a0<+tmortagne>\u00a0the way to create wiki did not changed a bit AFAIK  \n10:14\u00a0<+sburjan>\u00a0well when I create a subwiki/wirkspace, the db is created, then the template is imported into it, right ?  \n10:14\u00a0<+sburjan>\u00a0and that template is very slow at import  \n10:14\u00a0<+sburjan>\u00a0much slower that we had in the old XEM  \n10:15\u00a0<+tmortagne>\u00a0I don't know what workspaces init does but what i'm tallikng you is that creating a wiki is not slower than before, you just feel it's slow because first thing workspaces does is creating automatically a templace wiki while we use to do nothing before  \n10:15\u00a0<+sburjan>\u00a0ok, I'll count the number of seconds it takes the first run of XEM  \n10:16\u00a0<+sburjan>\u00a0then I will count the number of seconds to create a Workspace  \n10:16\u00a0<+sburjan>\u00a0and return with the results  \n10:17\u00a0<+sburjan>\u00a0I created a lot of subwikis using the default template (templatexe) and wasn't that slow as it is now  \n10:17\u00a0<+tmortagne>\u00a0ok that would be nice, I'm sure Enygma started to review it closely anyway as he sais but I really don't see why creating a wiki would be slower than before since it's supposed to be the excat same code  \n10:17\u00a0<+sburjan>\u00a0because the template changed  \n10:17\u00a0<+tmortagne>\u00a0AFAIK the templace is just a XE as before with maybe one or two pages added  \n10:18\u00a0<+tmortagne>\u00a0s/template/new template/  \n10:18\u00a0<+sburjan>\u00a0I am not familiar with the changes, all I can see is that the new template is \\_much\\_ slower  \n10:18\u00a0<+tmortagne>\u00a0do you have the size of the template ?  \n10:19\u00a0<+tmortagne>\u00a0I don't know much either about what has been added  \n10:20\u00a0<+tmortagne>\u00a0to compare with the size of standard XE xar  \n10:20\u00a0<+sburjan>\u00a0let me intall latest snapshot and I will tell you the size. but IMO it's not the size.. it's the annoying translations issue that keep eating seconds  \n10:24\u00a0<+sburjan>\u00a0ok. installed XEM platform. now importing the XEM xar.. xwiki-manager-ui-all-3.3-20111202.074339-274.xar which has 3.2 MB  \n10:25\u00a0<+sburjan>\u00a0starting cound to measure import time  \n10:25\u00a0<+tmortagne>\u00a0this one is not very important  \n10:28\u00a0<+sburjan>\u00a0ok. importing this took 01:55 minutes, with console errors. I guess it's the issue you were talking with Edy about having t o convert some pages to syntax 2.0  \n10:28\u00a0<+sburjan>\u00a001:55 is much more than it took for the old XEM to import this  \n10:29\u00a0<+tmortagne>\u00a0probably  \n10:29\u00a0<+tmortagne>\u00a0(the error)  \n10:30\u00a0<+tmortagne>\u00a0it's standard import so I it's not supposed to be inluenced by anything new in workspaces  \n10:30\u00a0<+sburjan>\u00a0well something is happening there since I got those errors  \n10:31\u00a0<+sburjan>\u00a0also after logging in, I have to wait 1+ minutes in order to get Main.WebHome  \n10:31\u00a0<+tmortagne>\u00a0if it's link error they have nothing to do with workspaces, it's just 1.0 syntax pasers which find link where it should not  \n10:31\u00a0<+tmortagne>\u00a0you should have the exact same error if you import that on XE  \n10:32\u00a0<+tmortagne>\u00a0that could be a useful test btw to compare how much time it take to import the XEM XAR on XE  \n10:32\u00a0<+tmortagne>\u00a0at least you would be sure it has nothing to do with workspaces if it takes the same time  \n10:33\u00a0<+sburjan>\u00a0I'll try that, yes  \n10:33\u00a0<+sburjan>\u00a0now monitoring the time used to create a workspace  \n10:37\u00a0<+sburjan>\u00a0ok. creating a workspace took 02:43  \n10:37\u00a0<+sburjan>\u00a0I'm sure creating a subwiki didn't take that much time  \n10:39\u00a0<+sburjan>\u00a0tmortagne: workspace-template.xar has 992 kb. I don't how much did the old template have (templatexe)  \n10:40\u00a0<+tmortagne>\u00a0old templace is XE  \n10:40\u00a0<+tmortagne>\u00a0plain standard XE  \n10:40\u00a0<+sburjan>\u00a0well that was much more faster importing than this one :)  \n10:40\u00a0<+tmortagne>\u00a0and as far as I can see it's the excat same size  \n10:41\u00a0<+sburjan>\u00a0I am going to continue testing, I'll let Edy figure out the speed issues (if there are really any) .. and I'll report anything suspicious  \n10:41\u00a0<+tmortagne>\u00a0ok  \n10:41\u00a0<+tmortagne>\u00a0could you try importing XEM xar on XE ?  \n10:41\u00a0<+tmortagne>\u00a0see if it's any quicker  \n10:42\u00a0<+sburjan>\u00a0so download a XE + jetty + mysql flavor and import the 3.2 mb XAR into XE ?  \n10:43\u00a0<+tmortagne>\u00a0yep basically does the same thing that XEM but with XE war  \n10:43\u00a0<+sburjan>\u00a0ok, where can I find the XE with jetty and mysql package, because I can't see it  \n10:43\u00a0<+tmortagne>\u00a0if it's quicker then it probably mean there is some slow document listener which react to each document imported in workspaces  \n10:43\u00a0<+tmortagne>\u00a0sburjan: there is none  \n10:44\u00a0<+tmortagne>\u00a0take the XE jetty/hsqldb  \n10:44\u00a0<+sburjan>\u00a0ok  \n10:44\u00a0<+tmortagne>\u00a0and replace hibernate conf and put mysql  \n10:44\u00a0<+sburjan>\u00a0ok  \n10:44\u00a0<+tmortagne>\u00a0mysql jar  \n10:44\u00a0<+tmortagne>\u00a0(take the ones from XEM)  \n10:44\u00a0<+sburjan>\u00a0yepp  \n10:54\u00a0<+sburjan>\u00a0tmortagne: testing now on XE :) (I'm curious too\\)  \n10:57\u00a0<+sburjan>\u00a0tmortagne: 01:51 .. so aprox the same time.  \n10:58\u00a0<+tmortagne>\u00a0ok so it's just slow to import a xar of this size in general  \n10:58\u00a0<+sburjan>\u00a0odd, I didn't got the same errors in console when importing the xar in XE  \n10:59\u00a0<+tmortagne>\u00a0there is ways to improve standard import (it's very bad right now) but it did not changed in a while  \n10:59\u00a0<+tmortagne>\u00a0hmm  \n10:59\u00a0<+tmortagne>\u00a0that's weird indeed  \n10:59\u00a0<+tmortagne>\u00a0ha no  \n10:59\u00a0<+tmortagne>\u00a0it's normal  \n10:59\u00a0<+tmortagne>\u00a0you don't have virtual=1  \n11:00\u00a0<+tmortagne>\u00a0so it does not try to \u00a0go to the wrong wiki  \n11:00\u00a0<+tmortagne>\u00a0its just ignore the wiki part  \n11:00\u00a0<+sburjan>\u00a0I see. but how come those syntax errors are related to virtual=1 ?  \n11:00\u00a0<+tmortagne>\u00a0they are not  \n11:00\u00a0<+tmortagne>\u00a0its not syntax error  \n11:01\u00a0<+sburjan>\u00a0I mean pages that are in 1.0 syntax  \n11:01\u00a0<+tmortagne>\u00a01.0 parser thing that [toto:somthingwhichisnotalinbutprobablyavelocitytable] is a link  \n11:01\u00a0<+tmortagne>\u00a0and try to see if that document exists  \n11:01\u00a0<+sburjan>\u00a0oh  \n11:01\u00a0<+tmortagne>\u00a0so you get an error when it try to switch to \"toto\" wiki  \n11:01\u00a0<+sburjan>\u00a0the feature vmassol committed .. the link checker >?  \n11:01\u00a0<+tmortagne>\u00a0no  \n11:01\u00a0<+tmortagne>\u00a0nothing to do with that  \n11:01\u00a0<+sburjan>\u00a0ok, \u00a0understand now  \n11:02\u00a0<+tmortagne>\u00a0backlinks  \n11:02\u00a0<+tmortagne>\u00a0each time you save a page it's content is scanned to find backlinks  \n11:02\u00a0<+tmortagne>\u00a0and 1.0 parser is not very restrictive to say the least  \n11:05\u00a0<+sburjan>\u00a0understand. but do we still have pages in 1.0 ?  \n11:06\u00a0<+sburjan>\u00a0in the xars ?  \n11:06\u00a0<+tmortagne>\u00a0yes  \n11:06\u00a0<+sburjan>\u00a0that's bad  \n11:06\u00a0<+tmortagne>\u00a0in XEM  \n11:06\u00a0<+tmortagne>\u00a0yes  \n11:06\u00a0<fmancinelli>\u00a0has joined #xwiki  \n12:29\u00a0<evalica>\u00a0has joined #xwiki  \n12:38\u00a0<Enygma`>\u00a0has joined #xwiki  \n13:58\u00a0<vmassol>\u00a0tmortagne: have you seen that this is failing : http://ci.xwiki.org/job/xwiki-enterprise-test-extension/  \n13:59\u00a0<+tmortagne>\u00a0vmassol: yes that's because theses are based on old UI and sdumitriu did not updated them yet  \n13:59\u00a0<vmassol>\u00a0sdumitriu: when can you fix those tests?  \n14:05\u00a0<+tmortagne>\u00a0did anyone ever tried a where on a boolean property with XWQL ? looks like it's not taken into account for me  \n14:06\u00a0<+tmortagne>\u00a0looks like  \n14:06\u00a0<+tmortagne>\u00a0\"select count(extension.id) from Document doc, doc.object(ExtensionCode.ExtensionClass) as extension where extension.validExtension = 1\"  \n14:08\u00a0<+tmortagne>\u00a0I get all the extension no matter the value of the validExtension field  \n14:12\u00a0<vmassol>\u00a0never tried it before  \n14:13\u00a0<vmassol>\u00a0have you tried true?  \n14:13\u00a0<vmassol>\u00a0(just in case there's some conversion done)  \n14:14\u00a0<vmassol>\u00a0hmm actually it's translated as HQL so you should be able to see the generated HQL  \n14:14\u00a0<+tmortagne>\u00a0yep I tried to look at it but I did not seen anything wrong in it  \n14:14\u00a0<+tmortagne>\u00a0si was askin first if someone used it before already  \n14:15\u00a0<+sburjan>\u00a0is the search working on EM ? I see myself invoked in the mail from devlist.  \n14:15\u00a0<DrLou>\u00a0has joined #xwiki  \n14:17\u00a0<+tmortagne>\u00a0sburjan: the search work for me yes but as I just said I have an hard time making XWQL filter only valid extensions right now  \n14:18\u00a0<+tmortagne>\u00a0not sure I understand the relationship with dev mailing list  \n14:18\u00a0<+sburjan>\u00a0vmassol: sent an e-mail about postponing the release, and asks me about EM (which I haven't tested since the release of M2)  \n14:19\u00a0<+sburjan>\u00a0I'll take a look at it after i finish with XEM  \n14:19\u00a0<+tmortagne>\u00a0sburjan: what's new is extensions.xwiki.org, EM is testable with a local instance of XR since a long time  \n14:20\u00a0<+tmortagne>\u00a0but I don't know how stable the new UI is supposed to be  \n14:22\u00a0<+tmortagne>\u00a0ho I think I known  \n14:22\u00a0<+tmortagne>\u00a0nothing to do with the field  \n14:22\u00a0<+tmortagne>\u00a0just a mess with a list of \"or\" and \"and\" not properly separated by ()  \n14:49\u00a0<vmassol>\u00a0Enygma`: you're doing XWIKI-7220?  \n14:50\u00a0<+Enygma`>\u00a0vmassol: if I get the time... no promises  \n14:50\u00a0<+Enygma`>\u00a0tmortagne: do you have any idea why the Application Manager Application, when installed in a template and the template is used to create a new wiki, ends up in the new wiki with all its pages having as content only #includeInContext(\"workspacetemplate:XAppManager.WebHome\") ? It is extremely weird :)  \n14:51\u00a0<+Enygma`>\u00a0it's not handled like just any collection of spaces and pages... it ends up as pages referencing the template pages :|  \n14:53\u00a0<+tmortagne>\u00a0Enygma`: an application can indicate in its descriptor which pages to link instead of copy when installed in another wiki  \n14:54\u00a0<+Enygma`>\u00a0hmm  \n14:54\u00a0<+tmortagne>\u00a0so that you can just update the page on the template  \n14:54\u00a0<+Enygma`>\u00a0looking into this (did not know about this... feature :) )  \n14:54\u00a0<+tmortagne>\u00a0yep very old feature but not much used  \n14:55\u00a0<+tmortagne>\u00a0look at application manager application descriptor itself for example  \n14:55\u00a0<+tmortagne>\u00a0you will find several lists  \n14:58\u00a0<+Enygma`>\u00a0brb  \n15:08\u00a0<+sburjan>\u00a0what is the role of XAppManager within a XEM ?  \n15:10\u00a0<+tmortagne>\u00a0exactly that in the original design: be able to setup dynamic templates  \n15:10\u00a0<+tmortagne>\u00a0you update the template and it reflect on the subwiki in most part of it's properly setup  \n15:11\u00a0<fmancinelli>\u00a0sburjan: If your question is actually \"why there is a link to AppManager in the landing page of a workspace\" then I've proposed to remove that section :)  \n15:11\u00a0<+tmortagne>\u00a0(because it's include instead of copy)  \n15:11\u00a0<+sburjan>\u00a0yes, I was wondering what is that and why is that on the landing page :)  \n15:11\u00a0<+sburjan>\u00a0thanks for answering me  \n15:12\u00a0<+tmortagne>\u00a0hmm looks like I found a bug in the object properties events  \n15:14\u00a0<fmancinelli>\u00a0sburjan: as Thomas said it's something used by wikimanager, but for the user it is not something relevant  \n15:14\u00a0<+tmortagne>\u00a0unless the user need an application manager ;)  \n15:16\u00a0<+sburjan>\u00a0i'm not familiar with wikimanager, so this is why I don't know about AppManager  \n15:16\u00a0<fmancinelli>\u00a0tmortagne, but for this there will be EM :)  \n15:17\u00a0<+tmortagne>\u00a0sburjan: said another way wiki manager reuse one of the application manager feature to setup a wiki template as a big application  \n15:17\u00a0<+tmortagne>\u00a0fmancinelli: sure but this feature exists since XEM 1.0  \n15:19\u00a0<gac410>\u00a0has joined #xwiki  \n15:20\u00a0<+sburjan>\u00a0so is the new XEM gonna still support creation of subwikis ?  \n15:21\u00a0<+sburjan>\u00a0I mean, I see we replaced the old XEM homepage with the new one  \n15:22\u00a0<+tmortagne>\u00a0sburjan: we don't remove anything, just change the main entry point  \n15:22\u00a0<+tmortagne>\u00a0wokspaces use wiki manager to create subwiki anyway, it does not replace it  \n15:25\u00a0<gac410>\u00a0ping vmassol  \n15:29\u00a0<+sburjan>\u00a0ok, I have a question. I have created a subwiki, the old way (not a Workspace).. and when I want to administer it, in the admin app I can't click on users. subwikis require another type of template than workspaces ?  \n15:30\u00a0<+sburjan>\u00a0maybe I have to import the vanilla XE in order to be able to create subwikis (the old way) properly ?  \n15:32\u00a0<fmancinelli>\u00a0sburjan: I think so because the workspace template has a custom way of handling users. Enygma` could confirm this  \n15:33\u00a0<+sburjan>\u00a0yes it has  \n15:34\u00a0<+sburjan>\u00a0it has another system handling the users. but I was more interested on how to create a subwiki the old way. there will be people needing that too  \n15:36\u00a0<vmassol>\u00a0yes definitely we still need this use case and have it documented  \n15:37\u00a0<gac410>\u00a0vmassol: \u00a0you were asking about 403 on foswiki.org \u00a0sent to your link checker?  \n15:37\u00a0<vmassol>\u00a0gac410: yep :)  \n15:38\u00a0<vmassol>\u00a0gac410: you have some news on this?  \n15:38\u00a0<gac410>\u00a0We block null UserAgent strings as part of bot controls. \u00a0\u00a0The SEO site you referenced uses an empty UserAgent for it's HEAD request.  \n15:38\u00a0<vmassol>\u00a0ah ok, I can fix this in our link checker  \n15:38\u00a0<vmassol>\u00a0I thought there was a default useragent string specificed  \n15:39\u00a0<vmassol>\u00a0I'll check this out now, thanks gac410  \n15:39\u00a0<gac410>\u00a0we are debating a bit if that is important to block or not - \u00a0but searching around, it does seem to be a common technique.  \n15:39\u00a0<gac410>\u00a0Let me know. \u00a0\u00a0It's more a guess, as I don't know your IP to try to find when the link-checker actually hit. \u00a0But that was definitely the issue with the seo site you referenced.  \n15:40\u00a0<vmassol>\u00a0will let you know  \n15:40\u00a0<vmassol>\u00a0gac410: although I'm really surprised that no useragent is set  \n15:40\u00a0<vmassol>\u00a0we're using Apache Commons HTTP Client  \n15:41\u00a0<+sburjan>\u00a0vmassol: issue is that I am not able to make it work properly. So I will create an issue, I have no specification on this  \n15:41\u00a0<vmassol>\u00a0and I was pretty sure a default useragent is speeficied  \n15:41\u00a0<vmassol>\u00a0sburjan: the solution is: install XE, install App manager and Wiki manager plugins + apps  \n15:41\u00a0<gac410>\u00a0If that's not it, \u00a0maybe we can coordinate a time that you could try a link-check and I'll see if we can figure out what is causing the 403.  \n15:42\u00a0<gac410>\u00a0Either that or it has a useragent that matches one of the bad bot strings - \u00a0no idea where our list comes from.  \n15:42\u00a0<vmassol>\u00a0gac410: let me find out what useragent is used first  \n15:42\u00a0<gac410>\u00a0It was inherited from twiki  \n15:42\u00a0<vmassol>\u00a0should be something like \"\"Jakarta Commons-HttpClient/3.1\"  \n15:42\u00a0<vmassol>\u00a0(found this on http://stackoverflow.com/questions/5512081/why-default-user-agent-is-jakarta-commons-httpclient-3-1 )  \n15:43\u00a0<gac410>\u00a0okay - I'll check our server.  \n15:43\u00a0<vmassol>\u00a0I'll check at execution time to see what's really used  \n15:44\u00a0<gac410>\u00a0hm. \u00a0Got a 403 trying your agent string. \u00a0I'll look at the server. \u00a0\u00a0\u00a0The seo site though was an empty string.  \n15:45\u00a0<gac410>\u00a0okay - it's the Jakarta. \u00a0\u00a0\u00a0\u00a0No idea why that is blocked. \u00a0It's a default in our sample configs.  \n15:45\u00a0<gac410>\u00a0That's easy enough to remove.  \n15:46\u00a0<vmassol>\u00a0ah ok, I can change the useragent though it's a good idea  \n15:46\u00a0<vmassol>\u00a0(gac410)  \n15:48\u00a0<+sburjan>\u00a0vmassol: I already have a XEM, the only issue is the template which seems to be different between a workspace and a subwiki in order to work  \n15:48\u00a0<gac410>\u00a0server reloaded - your link checker should work vmassol  \n15:49\u00a0<vmassol>\u00a0gac410: thanks a lot, I'll also put a better useragent name  \n15:57\u00a0<+sburjan>\u00a0I am stopping the XEM testing. Tested what I knew and understood from it  \n15:57\u00a0<gac410>\u00a0has left #xwiki  \n16:00\u00a0<fmancinelli>\u00a0sburjan: I am writing a patch to solve this issue. Standard subwiki creation would work as before with standard XEM  \n16:01\u00a0<+sburjan>\u00a0fmancinelli: creating the jira issue then  \n16:01\u00a0<fmancinelli>\u00a0sburjan: yep  \n16:08\u00a0<+sburjan>\u00a0fmancinelli: XEM-205  \n16:11\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* r13e9d53\u000f \u000f/ xwiki-rendering-transformations/xwiki-rendering-transformation-linkchecker/src/main/java/org/xwiki/rendering/internal/transformation/linkchecker/DefaultHTTPChecker.java :\u000f XRENDERING-164: Set a XWiki user-agent in the Link Checker to be a good citizen ...  \n16:14\u00a0<+Enygma`>\u00a0sburjan: workspaces uses a diferent template than wiki manager  \n16:14\u00a0<+Enygma`>\u00a0wiki manager uses a standard XE template. You have to go to XemManager.Install to install it  \n16:15\u00a0<+Enygma`>\u00a0workspaces uses a standard XE + some extra stuff. You have to go to WorkspaceManager.Install to install it (but it is installed automatically on first open of Main.WebHome)  \n16:16\u00a0<+sburjan>\u00a0yes. I get \"No action needed.\" on XemManager.Install. I see the XAR attached  \n16:17\u00a0<+sburjan>\u00a0but when creating a subwiki, I get \\_no\\_ templatexe in the template dropdown. I only get the workspacetemplate  \n16:18\u00a0<+Enygma`>\u00a0about the \"No action needed.\" you are right. It's a bug that needs fixing since it considers the workspace template as the XEM template. It needs to look for something else. Fixing...  \n16:18\u00a0<fmancinelli>\u00a0Enygma`, I wrote the patch already :)  \n16:18\u00a0<+Enygma`>\u00a0cool  \n16:19\u00a0<+Enygma`>\u00a0you just have to do what I do for WorkspaceManager.Install  \n16:19\u00a0<+Enygma`>\u00a0look specifically for the templatexe subwiki template :)  \n16:19\u00a0<CIA-102>\u00a0Vincent Massol\u000f master\u000f \\* r59c66bd\u000f \u000f/ xwiki-rendering-transformations/xwiki-rendering-transformation-linkchecker/src/main/java/org/xwiki/rendering/internal/transformation/linkchecker/DefaultHTTPChecker.java :\u000f XRENDERING-164: Set a XWiki user-agent in the Link Checker to be a good citizen ...  \n16:22\u00a0<vmassol>\u00a0sburjan: XEM is not supposed to be a product/packaging for creating farms anywmore. We need to decide if we still want that feature in it or not. IMO we don't since you don't need/want workspaces when you create a farm  \n16:22\u00a0<vmassol>\u00a0(but we still need to document how to create a Farm setup on xwiki.org)  \n16:26\u00a0<+sburjan>\u00a0I guess we'll have to vote this. So the old XEM will have to be created from a XE + other stuff in it ?  \n16:26\u00a0<+sburjan>\u00a0I don't like this  \n16:27\u00a0<+Enygma`>\u00a0XE + Wiki Manager plugin  \n16:27\u00a0<+Enygma`>\u00a0A.K.A. farm plugin  \n16:27\u00a0<vmassol>\u00a0sburjan: we've already voted :)  \n16:28\u00a0<+sburjan>\u00a0I only saw the vote about merging WOrkspaces into XEM. But I didn't saw anything about XEM not being a farm creation tool anymore  \n16:28\u00a0<vmassol>\u00a0its in there though  \n16:28\u00a0<vmassol>\u00a0trying to find the mail  \n16:28\u00a0<vmassol>\u00a0you cannot have both  \n16:28\u00a0<vmassol>\u00a0they're completely different  \n16:29\u00a0<+sburjan>\u00a0yes, this why I am so confused ATM, because it's very hard to test something you don;t know nothing about  \n16:29\u00a0<vmassol>\u00a0let me find the email for you  \n16:29\u00a0<vmassol>\u00a0so that you can read it  \n16:30\u00a0<+sburjan>\u00a0So people who will want a farm will have to go through a more complex process of achieving it as until now, which is bad IMO  \n16:30\u00a0<vmassol>\u00a0found it: http://markmail.org/thread/qrslkpum3tgzyxg5  \n16:30\u00a0<vmassol>\u00a0it's all explained  \n16:30\u00a0<vmassol>\u00a0clearly  \n16:30\u00a0<vmassol>\u00a0with numbered points  \n16:30\u00a0<vmassol>\u00a0:)  \n16:30\u00a0<+sburjan>\u00a0ok, let me see if I understand something from it :)  \n16:31\u00a0<vmassol>\u00a0it's point D)  \n16:32\u00a0<vmassol>\u00a0(in my original vote mail)  \n16:32\u00a0<vmassol>\u00a0except that eddy and others pointed out that we don't need a new module  \n16:32\u00a0<vmassol>\u00a0it might still be nice to have that new module to make it easy to install the farm (multiwiki) in one install though  \n16:33\u00a0<vmassol>\u00a0(one install from the EM that is)  \n16:33\u00a0<vmassol>\u00a0actually discard this  \n16:33\u00a0<vmassol>\u00a0since wiki manager depends on app manager  \n16:33\u00a0<vmassol>\u00a0the user just needs to install the wiki manager app (xar)  \n16:33\u00a0<vmassol>\u00a0and it'll get all needed deps  \n16:33\u00a0<vmassol>\u00a0:)  \n16:34\u00a0<+sburjan>\u00a0I wonder how migrations will be done from an old farm to a new XEM that has Worspaces  \n16:34\u00a0<vmassol>\u00a0answer: you install the new wiki manager app  \n16:35\u00a0<vmassol>\u00a0you don't want to install the new XEM in you're in a farm  \n16:35\u00a0<vmassol>\u00a0since a farm is NOT about workspaces  \n16:36\u00a0<vmassol>\u00a0workspaces == \"one wiki only with work spaces\" (each work space being technically implemented as a wiki but that's technical only)  \n16:36\u00a0<vmassol>\u00a0farm = multiple independent wikis  \n16:36\u00a0<vmassol>\u00a0s/in you're/if you're/  \n16:37\u00a0<vmassol>\u00a0so to summarize:  \n16:37\u00a0<+sburjan>\u00a0yes, but as far as I can see, each workspace has a database, exactly like a farm does. so basically a workspace is a subwiki but that aspect is \"hidden\" from the user ?  \n16:38\u00a0<vmassol>\u00a0- UC1: \"I want a workspaces\", I install XE and then install the workspaces app with the EM UI  \n16:38\u00a0<vmassol>\u00a0- UC2: \"I want a farm\", I install XE and then install the wiki manager app with the EM UI  \n16:38\u00a0<vmassol>\u00a0\"(each work space being technically implemented as a wiki but that's technical only)\"  \n16:38\u00a0<vmassol>\u00a0the difference is in usage  \n16:38\u00a0<vmassol>\u00a0in a farm each wiki is independent  \n16:39\u00a0<vmassol>\u00a0in a new XEM they're all part of the same web site and users are shared  \n16:39\u00a0<vmassol>\u00a0we coud have implemented workspaces with workspaces being spaces but we decided to map them to wikis for more liberty and technical reasons  \n16:40\u00a0<vmassol>\u00a0is that more clear?  \n16:41\u00a0<+sburjan>\u00a0yes, it's more clearer, but not 100% clear :)  \n16:41\u00a0<+sburjan>\u00a0I am looking at UC1 and UC2, they look okay from my POV. But then, why to we still have the XEM now ? :)  \n16:42\u00a0<+sburjan>\u00a0\\*do  \n16:42\u00a0<vmassol>\u00a0for 2 reasons  \n16:42\u00a0<vmassol>\u00a01) because the EM is not fully ready  \n16:42\u00a0<vmassol>\u00a02) because we need to decide/vote if we're ok to drop the XEM packaging/distribution  \n16:42\u00a0<+sburjan>\u00a0I understand :)  \n16:42\u00a0<+sburjan>\u00a0fair enough  \n16:43\u00a0<+sburjan>\u00a0and a farm is more complex that a workspace because there are global and local users and that makes everything more complex ?  \n16:44\u00a0<+sburjan>\u00a0because both support subdomain names afaik .. that's why we had vote regarding virtual path  \n16:51\u00a0<CIA-102>\u00a0tmortagne\u000f master\u000f \\* r2da3183\u000f \u000f/ (25 files in 13 dirs):\u000f XWIKI-7216: Improve extension search API result for easier pagination and streamed results ...  \n16:52\u00a0<+sburjan>\u00a0Enygma`: then I guess you'll have to create another issue to make templatexe visible when creating a subwiki  \n16:53\u00a0<+Enygma`>\u00a0yes, fmancinelli is doing it  \n16:54\u00a0<+Enygma`>\u00a0the old issue was not really usable for the fix fmancinelli is going to push  \n16:55\u00a0<+sburjan>\u00a0yepp  \n16:57\u00a0<+tmortagne>\u00a0restarting xwiki.org  \n\n"}