{"id": "dev:IRC.xwikiArchive20120918", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120918", "title": "IRC Archive for channel #xwiki on 18 September 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:18\u00a0<sdumitriu>\u00a0has joined #xwiki  \n00:44\u00a0<polx>\u00a0has quit  \n00:47\u00a0<polx>\u00a0has joined #xwiki  \n01:00\u00a0<polx>\u00a0has quit  \n01:01\u00a0<Denis>\u00a0has quit  \n01:18\u00a0<jvdrean>\u00a0has quit  \n03:44\u00a0<CIA-122>\u00a0has joined #xwiki  \n04:48\u00a0<CIA-122>\u00a0Sergiu Dumitriu\u000f master\u000f \\* rb1a7a93\u000f https://github.com/xwiki/xwiki-commons/commit/b1a7a933c1653c4cb03754b216be9cd4ddf4ea26 \u000f/ pom.xml :\u000f XCOMMONS-263: Upgrade to Apache commons-codec 1.7 - http://git.io/CIGbTA  \n06:57\u00a0<vmassol>\u00a0has joined #xwiki  \n07:07\u00a0<polx>\u00a0has joined #xwiki  \n07:17\u00a0<CIA-122>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r44d0055\u000f https://github.com/xwiki/xwiki-platform/commit/44d00555cc94cb52a4707427fc8d3015feb99857 \u000f/ xwiki-platform-core/xwiki-platform-index/xwiki-platform-index-ui/src/main/resources/Main/SpaceIndex.xml :\u000f XWIKI-8204: The link from the space index macro to the full space index is wrong when the space name contains special URL characters - http://git.io/oaJx\\_w  \n07:33\u00a0<CIA-122>\u00a0Sergiu Dumitriu\u000f master\u000f \\* r78827f4\u000f https://github.com/xwiki/xwiki-platform/commit/78827f40b53d4b93214d11fea3c27eb089ba946c \u000f/ xwiki-platform-core/xwiki-platform-web/src/main/webapp/templates/macros.vm :\u000f XWIKI-8205: HTML special characters in document names are displayed escaped in the space index - http://git.io/XyYmkQ  \n07:42\u00a0<vmassol>\u00a0sdumitriu: ping  \n07:44\u00a0<vmassol>\u00a0nm  \n08:01\u00a0<DSpair\\_AFK>\u00a0has quit  \n08:04\u00a0<DSpair\\_AFK>\u00a0has joined #xwiki  \n08:12\u00a0<mflorea>\u00a0has joined #xwiki  \n08:20\u00a0<polx>\u00a0has quit  \n08:45\u00a0<Denis>\u00a0has joined #xwiki  \n08:58\u00a0<vmassol>\u00a0has quit  \n09:05\u00a0<cjd>\u00a0has quit  \n09:08\u00a0<polx>\u00a0has joined #xwiki  \n09:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:55\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:08\u00a0<mflorea>\u00a0has quit  \n10:18\u00a0<vmassol>\u00a0has joined #xwiki  \n10:19\u00a0<polx>\u00a0has quit  \n10:40\u00a0<polx>\u00a0has joined #xwiki  \n10:40\u00a0<polx>\u00a0has quit  \n10:45\u00a0<polx>\u00a0has joined #xwiki  \n10:47\u00a0<cjd>\u00a0has joined #xwiki  \n10:51\u00a0<vmassol>\u00a0sdumitriu: we really need better documentation for the new field types from http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWikiEnterprise42M2 These are great features but they lack documentation to tell the user about how great they are and how to use them  \n10:51\u00a0<vmassol>\u00a0I wanted to put them in a presentation I'm doing but there are no screenshots of examples, nothing  \n10:52\u00a0<vmassol>\u00a0(same for custom displayers)  \n11:01\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* ref5fa71\u000f https://github.com/xwiki/xwiki-platform/commit/ef5fa715b51e0638d0384aede984e210dae4305c \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-distribution/src/main/java/org/xwiki/extension/distribution/internal/job/DistributionJob.java :\u000f XWIKI-8206: Enable second installer step only if there is outdated extensions - http://git.io/fjZJuQ  \n11:02\u00a0<evalica>\u00a0has joined #xwiki  \n11:02\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r6361e44\u000f https://github.com/xwiki/xwiki-platform/commit/6361e446ef96d26f3d67d7cafc9e6f3c1525b9b7 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-distribution/src/main/java/org/xwiki/extension/distribution/internal/job/DistributionJob.java :\u000f [cleanup] Remove leftover - http://git.io/LQbcCA  \n11:03\u00a0<polx>\u00a0has quit  \n11:07\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:22\u00a0<cjd>\u00a0has quit  \n11:22\u00a0<cjd\\_>\u00a0has joined #xwiki  \n11:23\u00a0<mflorea>\u00a0has joined #xwiki  \n11:24\u00a0<polx>\u00a0has joined #xwiki  \n11:26\u00a0<+mflorea>\u00a0vmassol: tmortagne told me that you think http://jira.xwiki.org/browse/XWIKI-8203 is a blocker. Why?  \n11:27\u00a0<vmassol>\u00a0mflorea: because ${platform.version} is not user-friendly  \n11:28\u00a0<+mflorea>\u00a0sure, but I don't see why this is a \"blocking\" issue  \n11:28\u00a0<+mflorea>\u00a0the user can still use the feature  \n11:28\u00a0<vmassol>\u00a0because this is user facing  \n11:28\u00a0<vmassol>\u00a0and one of the frist thing he'll see  \n11:28\u00a0<vmassol>\u00a0it's not acceptable  \n11:28\u00a0<vmassol>\u00a0for a quality product to show this kind of mess  \n11:29\u00a0<+mflorea>\u00a0well, the user has to look for deps to see this, it's not quite the first thing  \n11:29\u00a0<vmassol>\u00a0it's our home page now  \n11:29\u00a0<vmassol>\u00a0sure  \n11:29\u00a0<vmassol>\u00a0but he'll click  \n11:29\u00a0<vmassol>\u00a0just disable the button if it's not ready  \n11:29\u00a0<vmassol>\u00a0we can have less features  \n11:29\u00a0<vmassol>\u00a0but we cannot have not working things  \n11:29\u00a0<vmassol>\u00a0that's rule #1  \n11:30\u00a0<+mflorea>\u00a0it's not something that is not working, it's just some info that is not well displayed and can be improved in later versions  \n11:31\u00a0<vmassol>\u00a0no  \n11:31\u00a0<vmassol>\u00a0don't hsow it if it's not working  \n11:31\u00a0<vmassol>\u00a0${plaform.version}\u00a0is a huge bug  \n11:31\u00a0<vmassol>\u00a0it shows of a not finished product  \n11:31\u00a0<vmassol>\u00a0we cannot accept this for 4.3 final  \n11:31\u00a0<vmassol>\u00a0it's acceptable for a milestone  \n11:31\u00a0<vmassol>\u00a0but definitely not for a final version  \n11:32\u00a0<vmassol>\u00a0again just hide the button if it's not working  \n11:32\u00a0<vmassol>\u00a0display less stuff  \n11:33\u00a0<vmassol>\u00a0don't display the versio if you don't have it  \n11:33\u00a0<vmassol>\u00a0pick whatever is the easiest for you  \n11:33\u00a0<vmassol>\u00a0\"unknown license\" is also not profressional  \n11:34\u00a0<vmassol>\u00a0not a very nice descrition....  \n11:35\u00a0<+mflorea>\u00a0first of all, if this is a huge bug then 80% of the open jira issues should be blockers too. Then, re \"if you don't have the version\" --> that is the version, I have it, that is the value of the version. re \"unkown license\" --> again, that is the license name.  \n11:35\u00a0<+mflorea>\u00a0from display pov there is nothing wrong  \n11:35\u00a0<vmassol>\u00a0I'm really adamant about this marius  \n11:36\u00a0<vmassol>\u00a0I'd rather we don't have the feature at all than dusplaying this mess  \n11:36\u00a0<vmassol>\u00a0as it is, it's not ready for usage  \n11:36\u00a0<vmassol>\u00a0not even discussing the long time to load whcih is also a big issue that we need to talk about but I fear this one is harder to fix  \n11:37\u00a0<vmassol>\u00a0ping me on skype if you feel like discussing it verbally  \n11:37\u00a0<+tmortagne>\u00a0the long time is because the UI try to resolve all the dependencies and there is quite a lot of them  \n11:37\u00a0<vmassol>\u00a0I know why tmortagne  \n11:37\u00a0<vmassol>\u00a0that doesn't help our users  \n11:38\u00a0<+tmortagne>\u00a0the page does not take a long time to load, it's only when you require details  \n11:39\u00a0<vmassol>\u00a0ok then we need to load the details asynchronously in the future maybe  \n11:39\u00a0<vmassol>\u00a0maybe in the meantime we can simply not show the button  \n11:39\u00a0<+mflorea>\u00a0details are loaded asynchronously  \n11:40\u00a0<vmassol>\u00a0ok i need to try myself, I'm just basing my comments on what sorin has reported  \n11:41\u00a0<+sburjan>\u00a0it loads slowly only when clicking \"Show Details\". if you don't touch \"Show Details\" everything is ok  \n11:42\u00a0<+mflorea>\u00a0sburjan: \"it\" != the page  \n11:42\u00a0<+mflorea>\u00a0it's not clear what you are referring to when you say \"it loads slowly\"  \n11:43\u00a0<+sburjan>\u00a0ok, let me improve the description  \n11:44\u00a0<+sburjan>\u00a0done  \n11:45\u00a0<polx>\u00a0has quit  \n11:46\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* r85ee82c\u000f https://github.com/xwiki/xwiki-enterprise/commit/85ee82ca114054b2c13f1ca20af98b6c3458c33b \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-262: Enforce usage of Commons Lang 3.x - http://git.io/HuAaug  \n11:49\u00a0<vmassol>\u00a0RC1 is tomorrow btw...  \n11:49\u00a0<vmassol>\u00a0I've pinged Enygma` to see whether he's planning to do the release  \n11:49\u00a0<vmassol>\u00a0if not we'll need someone  \n11:49\u00a0<vmassol>\u00a0since the release is tomorrow we need to ensure eveyrone is ready  \n11:50\u00a0<vmassol>\u00a0mflorea: is XWIKI-8203 the last issue you have for 4.2 final?  \n11:51\u00a0<vmassol>\u00a0tmortagne: anything on your side?  \n11:51\u00a0<vmassol>\u00a0I'm finishing a presentation on xwiki and when it's done I'd like to test the dsitirbution wizard too  \n11:52\u00a0<+tmortagne>\u00a0I would have liked to work on handling standard generated classes in EM but I'm \u00a0never going to have time to finish that for tomorrow  \n11:56\u00a0<vmassol>\u00a0this is about not generating conflicts for classes created when xwiki starts?  \n11:56\u00a0<vmassol>\u00a0(tmortagne)  \n11:57\u00a0<vmassol>\u00a0I've tested this morning XE 4.2M3 by removing my data/ dir (hsqldb distrb) and indeed it asked me to resolve 1 conflict for XWikiPreferences  \n11:57\u00a0<vmassol>\u00a0(even though I had no DB)  \n11:57\u00a0<vmassol>\u00a0is that it?  \n11:57\u00a0<+tmortagne>\u00a0yes  \n11:57\u00a0<+sburjan>\u00a0vmassol: i encounterd about 3 conflicts, not just one  \n11:57\u00a0<vmassol>\u00a0funnily i had only 1  \n11:57\u00a0<+tmortagne>\u00a0from EM point of view you are installing a documen you already have and that is different so it's a conflict  \n11:57\u00a0<vmassol>\u00a0there was also somerhing strange  \n11:57\u00a0<+sburjan>\u00a0are you sure you finished instaling ?  \n11:58\u00a0<+sburjan>\u00a0\\*installing  \n11:58\u00a0<+tmortagne>\u00a0you should get it for all the classes that we also have in the XAR  \n11:58\u00a0<vmassol>\u00a0it directed me to the loging page  \n11:58\u00a0<+tmortagne>\u00a0so not all of them but a fex I think  \n11:58\u00a0<vmassol>\u00a0and then once logged continued the installation  \n11:58\u00a0<+mflorea>\u00a0vmassol: I wanted to do more, but I'm not sure I'll have time. Besides XWIKI-8203 I wanted to display the install plan live while it is built and also mark invalid extensions differently on the UI  \n11:58\u00a0<vmassol>\u00a0maybe I didn't finish  \n11:58\u00a0<+sburjan>\u00a0yes, i got that too ! (the redirect) bu it'd not finished !  \n11:58\u00a0<vmassol>\u00a0I know why it's doing it  \n11:58\u00a0<vmassol>\u00a0but we need to tell the user what's oging on I think  \n11:59\u00a0<vmassol>\u00a0we need to decide what we do for 4.2 final now  \n11:59\u00a0<vmassol>\u00a0it seems it' smissing a few things to work flawlessly for the user  \n11:59\u00a0<vmassol>\u00a0we have several possibilities  \n11:59\u00a0<vmassol>\u00a01) don't enable the wizard by default  \n12:00\u00a0<vmassol>\u00a02) add some explanation explaining that it's experimental and that the user can skip it and list stuff that are currently not finished  \n12:00\u00a0<vmassol>\u00a03) assess how long we need to finish the missing details and decide if we agree to postpone to get them in 4.2 final  \n12:01\u00a0<vmassol>\u00a0I need to try the latest snapshot to test the user experience  \n12:02\u00a0<vmassol>\u00a0let me know what's your POV about 1, 2, or 3. Or 4 if you have some other idea :)  \n12:02\u00a0<+sburjan>\u00a0so FTM if I want to install a XEM instead of XE, I have to skip the wizard and import the XEM xar using the standard method, right ?  \n12:03\u00a0<vmassol>\u00a0inded we need to test XEM too  \n12:03\u00a0<vmassol>\u00a0tmortagne: is XEM supposed to work?  \n12:03\u00a0<+sburjan>\u00a0I have seen lately a serious performance issue, and I want to test it now before it's to late for 4.2  \n12:04\u00a0<+sburjan>\u00a0vmassol: if you're gonna test too, pay attention to the time needed to nstal workspace or create a new subwiki. It seems it takes very much time.  \n12:04\u00a0<+sburjan>\u00a0but that might be my laptop's fault  \n12:05\u00a0<+mflorea>\u00a0vmassol: I'm +1 for 2)  \n12:09\u00a0<+sburjan>\u00a0even importing the xar takes forever  \n12:11\u00a0<polx>\u00a0has joined #xwiki  \n12:12\u00a0<vmassol>\u00a0mflorea: for 2) I mean in the distribution wizard UI itself  \n12:13\u00a0<vmassol>\u00a0(release notes wouldn't be enough IMO)  \n12:13\u00a0<+mflorea>\u00a0sure  \n12:16\u00a0<polx>\u00a0has quit  \n12:30\u00a0<polx>\u00a0has joined #xwiki  \n12:40\u00a0<mflorea>\u00a0has quit  \n12:42\u00a0<polx>\u00a0has quit  \n13:05\u00a0<+Enygma`>\u00a0sdumitriu: will you be handling http://jira.xwiki.org/browse/XWIKI-8189 for 4.2-rc-1 (tomorrow?)  \n13:08\u00a0<+Enygma`>\u00a0Moving http://jira.xwiki.org/browse/XWIKI-8057 to 4.3M1  \n13:10\u00a0<+Enygma`>\u00a0vmassol: so, will we have http://jira.xwiki.org/browse/XWIKI-8203 in 4.2RC1 as well? (based on the chat above)  \n13:10\u00a0<vmassol>\u00a0Enygma`: yes, we still need to decide how we want to address it though  \n13:11\u00a0<vmassol>\u00a0I probably need to talk to marius  \n13:11\u00a0<vmassol>\u00a0but he seems offline ATM  \n13:11\u00a0<vmassol>\u00a0keep it  \n13:11\u00a0<vmassol>\u00a0it = the issue  \n13:12\u00a0<vmassol>\u00a0for 4.3RC1  \n13:12\u00a0<vmassol>\u00a0I'm building latest XE to test this  \n13:12\u00a0<+Enygma`>\u00a0ok (assuming you meant 4.2RC1 above)  \n13:16\u00a0<vmassol>\u00a0yep 4.2RC1 sorry...  \n13:20\u00a0<vmassol>\u00a0tmortagne: just built XE from master and I get an error at startup  \n13:21\u00a0<vmassol>\u00a0http://pastebin.com/rekcVEcU  \n13:22\u00a0<vmassol>\u00a0I hope that our functional tests fail too  \n13:26\u00a0<cjd\\_>\u00a0is now known as <cjd>  \n13:41\u00a0<vmassol>\u00a0hi cjd, how's life?  \n13:41\u00a0<vmassol>\u00a0tmortagne: please ping me when you're back online since right now I cannot test XE  \n13:42\u00a0<silviar>\u00a0has joined #xwiki  \n13:49\u00a0<+Enygma`>\u00a0hm, xwiki-platform just finished successfully to build on CI, but xwiki-enterprise is not automatically triggered  \n13:50\u00a0<+Enygma`>\u00a0in the configuration, I see no post-build trigger (like I see in enterprise to trigger manager for example). Was it removed?  \n13:52\u00a0<vmassol>\u00a0checking  \n13:52\u00a0<vmassol>\u00a0it was thre before for sure  \n13:53\u00a0<vmassol>\u00a0there' s a trigger Enygma`  \n13:53\u00a0<vmassol>\u00a0see http://ci.xwiki.org/view/Enterprise/job/xwiki-enterprise/configure  \n13:54\u00a0<vmassol>\u00a0\"Build whenever a SNAPSHOT dependency is built\"  \n13:54\u00a0<vmassol>\u00a0is checked  \n13:54\u00a0<Denis>\u00a0has quit  \n13:55\u00a0<+Enygma`>\u00a0hm, how does that work?  \n13:56\u00a0<+Enygma`>\u00a0in the case of manager, I see that it is explicitly triggered by enterprise, in enterprise's \"post-build actions\" section  \n13:56\u00a0<vmassol>\u00a0click on the question mark on the right  \n13:56\u00a0<Denis>\u00a0has joined #xwiki  \n13:56\u00a0<vmassol>\u00a0it explains how it works  \n13:56\u00a0<vmassol>\u00a0checking XEM config  \n13:57\u00a0<+Enygma`>\u00a0I see  \n13:57\u00a0<vmassol>\u00a0I don't know why XEM is not setup with the other checkbox  \n13:57\u00a0<vmassol>\u00a0it shoud IMO  \n13:57\u00a0<vmassol>\u00a0let's wait for tmortagne  \n13:57\u00a0<vmassol>\u00a0there might have been a good reason  \n13:58\u00a0<vmassol>\u00a0the difference is that in one case there'll be a reuibld if any of the deps has been rebuilt  \n13:58\u00a0<+Enygma`>\u00a0but the original question still stands: why did not the just finished xwiki-platform build trigger xwiki-enterprise?  \n13:58\u00a0<vmassol>\u00a0while with the manual check  \n13:58\u00a0<vmassol>\u00a0it's only if the specified jobs have been done  \n13:59\u00a0<vmassol>\u00a0Enygma`: latest build is XE  \n13:59\u00a0<vmassol>\u00a0let me check its trigger  \n13:59\u00a0<vmassol>\u00a0Started by upstream project http://ci.xwiki.org/job/xwiki-platform/ build number http://ci.xwiki.org/job/xwiki-platform/2568/\"  \n13:59\u00a0<vmassol>\u00a0so it's ok  \n13:59\u00a0<vmassol>\u00a0why do you say it's not been triggered?  \n14:00\u00a0<+Enygma`>\u00a0I see... so it must be me that got things mixed up, probably because of some opened tabs that I did not refresh properly  \n14:00\u00a0<vmassol>\u00a0the history order is here: http://ci.xwiki.org/portlet/dashboard\\_portlet\\_9/  \n14:00\u00a0<vmassol>\u00a0ok  \n14:00\u00a0<+Enygma`>\u00a0thanks for clarifying it  \n14:06\u00a0<+sburjan>\u00a0tmortagne: seems that there is no \"Continue\" button when installing the XEM xar using your wizard. I remember having it yesterday on XE. is this known ?  \n14:07\u00a0<vmassol>\u00a0sburjan: I can't even start XE now  \n14:08\u00a0<vmassol>\u00a0it fails immediatly at sartup with latest from master  \n14:08\u00a0<vmassol>\u00a0(jetty/hsqldb)  \n14:08\u00a0<+sburjan>\u00a0ouch :|  \n14:08\u00a0<+sburjan>\u00a0I'm using MySQL so i can test speed and the wizard we have in experimental phase  \n14:11\u00a0<+sburjan>\u00a0tmortagne: ok, refreshing the page takes out the Skip/Cancel putton and puts the Continue button  \n14:11\u00a0<polx>\u00a0has joined #xwiki  \n14:11\u00a0<+sburjan>\u00a0I think this deserves an issue  \n14:12\u00a0<+sburjan>\u00a0Enygma`: I have a question. Does the workspace-template.xar comes by default on the XEM xar ?  \n14:13\u00a0<+sburjan>\u00a0because i get the following error when trying to instal XEM  \n14:13\u00a0<+sburjan>\u00a0Error installing the workspace template. The file \"workspace-template.xar\" is not attached to the document WorkspaceManager.Install. Please attach a base template that will be used for all newly created workspaces. You can download one from here and rename it to \"workspace-template.xar\" before attaching it.  \n14:14\u00a0<+sburjan>\u00a0and I see one attachment on WorkspaceManager/Install workspace-template-features.xar instead of workspace-template.xar  \n14:18\u00a0<mflorea>\u00a0has joined #xwiki  \n14:28\u00a0<+Enygma`>\u00a0sburjan: seems that tmortagne did some changes recently  \n14:28\u00a0<+Enygma`>\u00a0yes, normally, XEM should come with a default workspace-template.xar (XE.xar)  \n14:28\u00a0<+sburjan>\u00a0just wanted to raise an alarm, maybe we fix this before RC-1  \n14:29\u00a0<+Enygma`>\u00a0if you install Workspaces separaterly (like on top of XE), you will have to attache workspace-template.xar manually  \n14:29\u00a0<+sburjan>\u00a0yes. but I am testing a XEM distributio xwki-manager-jetty-mysql  \n14:30\u00a0<+tmortagne>\u00a0back  \n14:30\u00a0<+sburjan>\u00a0so I should have the workspace-template.xar out of the box, right ?  \n14:30\u00a0<+tmortagne>\u00a0looking at http://pastebin.com/rekcVEcU  \n14:30\u00a0<+tmortagne>\u00a0about XEM I did not do any change to its UI  \n14:31\u00a0<+sburjan>\u00a0I've started fresh to see fi Ican repoduce. if I can reproduce it agai, i will eport it  \n14:35\u00a0<+tmortagne>\u00a0vmassol: I don't see how http://pastebin.com/rekcVEcU can make impossible to start XWiki (those error will just mark some installed extension as invalid but they don't break the init, seems like one of the extension listed has a wrong id), looks like it started properly according to your log  \n14:35\u00a0<vmassol>\u00a0tmortagne: 2 things  \n14:35\u00a0<vmassol>\u00a01) it's not normal so we need to fix something  \n14:36\u00a0<vmassol>\u00a02) when I call a URL it fails  \n14:36\u00a0<vmassol>\u00a0it tries to laod the distributino wizard  \n14:36\u00a0<vmassol>\u00a0and doesn't succeed  \n14:36\u00a0<vmassol>\u00a0spinning icon displayed  \n14:36\u00a0<vmassol>\u00a0I'm sure you can reproduce  \n14:36\u00a0<vmassol>\u00a0just build hsqldb/jetty and you should have it too  \n14:36\u00a0<+tmortagne>\u00a01) I said there was an issue and I'm looking at it right now but for 2) it's something else  \n14:37\u00a0<vmassol>\u00a0for 2 I'm preparing a screenshot  \n14:37\u00a0<vmassol>\u00a0tmortagne: http://www.evernote.com/shard/s119/sh/20b6e243-f0b4-4586-a2a9-7f0874fff698/b9cba3673a13d06c6e5422d4f2867511  \n14:41\u00a0<+mflorea>\u00a0vmassol: wdym by \"when I call a URL it fails\"?  \n14:41\u00a0<+mflorea>\u00a0it takes time to collect the invalid and outdated extensions  \n14:42\u00a0<+mflorea>\u00a0the loading icon is displayed because the upgrade plan is being created  \n14:42\u00a0<+mflorea>\u00a0(I know that a message to explain this is needed)  \n14:43\u00a0<vmassol>\u00a0mflorea: http://localhost:8080  \n14:43\u00a0<vmassol>\u00a0I've left it spin for 5 minutes and it wasn't moving so I doubt it's working at all  \n14:45\u00a0<polx>\u00a0has quit  \n14:45\u00a0<vmassol>\u00a0after several minutes it started moving  \n14:45\u00a0<vmassol>\u00a0sorry  \n14:46\u00a0<vmassol>\u00a0not moving  \n14:48\u00a0<+Enygma`>\u00a0sburjan: the latest snapshot build seems to contain the workspace-template.xar attachment: http://maven.xwiki.org/snapshots/org/xwiki/manager/xwiki-manager-ui-all/4.2-SNAPSHOT/  \n14:48\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r9f20f89\u000f https://github.com/xwiki/xwiki-platform/commit/9f20f8946aa908a1b8cceb32ed59a8d1b800f0b0 \u000f/ xwiki-platform-tools/xwiki-platform-tool-packager-plugin/src/main/java/com/xpn/xwiki/tool/backup/ImportMojo.java :\u000f XWIKI-8184: Make importer mojo of packager plugin support generating extensions index - http://git.io/6FK\\_kg  \n14:50\u00a0<+tmortagne>\u00a0Enygma`, sburjan: I know what's wrong, the template is attached in xwiki-manager-ui-all while I expected xwiki-manager-ui-all to be just what this name suggest: a all in one package of what's already in xwiki-manager-ui and its dependencies  \n14:50\u00a0<+tmortagne>\u00a0sburjan: in you case you installed xwiki-manager-ui  \n14:50\u00a0<+sburjan>\u00a0tmortagne: I downloaded xwiki-jetty-mysql distro, started, and installed what the wizard suggested me to install.  \n14:50\u00a0<+tmortagne>\u00a0installing xwiki-manager-ui-all is not very nice from EM point of view  \n14:51\u00a0<+tmortagne>\u00a0sburjan: yes that's what I'm saying  \n14:51\u00a0<+Enygma`>\u00a0because of the new install wizard...  \n14:51\u00a0<+tmortagne>\u00a0the wyzard installe tyje clean extension  \n14:52\u00a0<+tmortagne>\u00a0installing a all in one package it pretty bad in a system where you have dependency management and you want too the actual extension separately  \n14:52\u00a0<+tmortagne>\u00a0Enygma`: the package is attached in a page of the workspaces application ?  \n14:52\u00a0<+tmortagne>\u00a0that's why you do it in the ui-all ?  \n14:53\u00a0<+Enygma`>\u00a0yes, the package is the default XE xar and it is attached to the WorkspaceManager.Install page  \n14:54\u00a0<+Enygma`>\u00a0I could not do this directly from the workspace application without hitting a cyclic dependency  \n14:54\u00a0<+tmortagne>\u00a0we really need to avoid having special thing in \\*-ui-all since this package is supposed to be only a distribution oriented all in one package  \n14:54\u00a0<+Enygma`>\u00a0well, it is  \n14:54\u00a0<+Enygma`>\u00a0that`s why I did it in -ui-all  \n14:54\u00a0<+tmortagne>\u00a0would be better to find a way to do it at ui level  \n14:54\u00a0<+Enygma`>\u00a0because it is supposed to work only in manager  \n14:54\u00a0<+tmortagne>\u00a0yoou foget ui  \n14:54\u00a0<+tmortagne>\u00a0forget  \n14:54\u00a0<+tmortagne>\u00a0manager-ui  \n14:55\u00a0<+tmortagne>\u00a0it's related to manager too  \n14:55\u00a0<+sburjan>\u00a0I reported: http://jira.xwiki.org/browse/XWIKI-8207  \n14:55\u00a0<+tmortagne>\u00a0I did not say you need to have everything in platform  \n14:55\u00a0<+sburjan>\u00a0not related to what we're discussing now  \n14:55\u00a0<+Enygma`>\u00a0well, no, because in -ui I am not allowed to bring in another application and modify its pages  \n14:55\u00a0<+Enygma`>\u00a0while in -ui-all I am allowed  \n14:55\u00a0<+tmortagne>\u00a0we could extract this particular page  \n14:56\u00a0<+tmortagne>\u00a0because we want to ovewrite this one  \n14:56\u00a0<+Enygma`>\u00a0I know, but forking that page is not safe. It contains the installation code as well  \n14:56\u00a0<+tmortagne>\u00a0when you install mananger-ui you are supposed to get a working manager ui  \n14:56\u00a0<@sdumitriu>\u00a0Enygma`: I don't know how to fix http://jira.xwiki.org/browse/XWIKI-8189  \n14:56\u00a0<+tmortagne>\u00a0Enygma`: I dod nt said fork  \n14:56\u00a0<+tmortagne>\u00a0I said extract it  \n14:56\u00a0<+tmortagne>\u00a0at built time  \n14:57\u00a0<@sdumitriu>\u00a0So no, I can't fix it for 4.2  \n14:57\u00a0<+Enygma`>\u00a0sdumitriu: ok, marking it for 4.3-m1  \n14:57\u00a0<+tmortagne>\u00a0Enygma`: we can use xar plugin to uzip the workspaces application to get the page  \n14:58\u00a0<+Enygma`>\u00a0tmortagne: so I just take what I have in -ui-all and move it to -ui but make sure to keep only the build-time-modified page and not the rest of the WorkspaceApplication (since it already comes as a dependency)  \n14:59\u00a0<+tmortagne>\u00a0Enygma`: yep something like this  \n14:59\u00a0<+tmortagne>\u00a0i.e. only what you modify  \n15:00\u00a0<+tmortagne>\u00a0it would not be the first page with specific modification  \n15:00\u00a0<+tmortagne>\u00a0we have Main.WebHome and quicklinks panel  \n15:00\u00a0<+Enygma`>\u00a0what will happen when the Workspace application gets installed as a dependency?  \n15:00\u00a0<+Enygma`>\u00a0will the original version of the page override my modified page?  \n15:01\u00a0<+tmortagne>\u00a0a dependency is installed first, always  \n15:01\u00a0<+tmortagne>\u00a0since you are supposed to need it to work  \n15:01\u00a0<+tmortagne>\u00a0so the manager-ui will be the last thing installed  \n15:01\u00a0<+Enygma`>\u00a0right...  \n15:01\u00a0<+Enygma`>\u00a0and on an update?  \n15:02\u00a0<+Enygma`>\u00a0actually... nevermind for the update, since my modified page will be updated too  \n15:02\u00a0<+tmortagne>\u00a0on an \u00a0upgrade you will be told to upgrade to manager-ui something and again it will first upgrade its dependencies  \n15:02\u00a0<+Enygma`>\u00a0ok, doing it  \n15:02\u00a0<+Enygma`>\u00a0thanks  \n15:02\u00a0<+tmortagne>\u00a0sorry to tell you only now I should have seen it before  \n15:21\u00a0<+Enygma`>\u00a0sburjan: did you create an issue for the XEM/Workspaces problem?  \n15:22\u00a0<+sburjan>\u00a0Enygma`: nope.  \n15:22\u00a0<+sburjan>\u00a0should I ?  \n15:26\u00a0<+Enygma`>\u00a0I`ll do it  \n15:41\u00a0<vmassol>\u00a0hmm when running platform locally I got:  \n15:41\u00a0<vmassol>\u00a0Building XWiki Platform - Extension - Script 4.2-SNAPSHOT  \n15:41\u00a0<vmassol>\u00a0...  \n15:41\u00a0<vmassol>\u00a0Running org.xwiki.extension.script.internal.ExtensionManagerScriptServiceTest  \n15:41\u00a0<vmassol>\u00a0Exception in thread \"Thread-16\" java.util.ConcurrentModificationException  \n15:42\u00a0<vmassol>\u00a0http://pastebin.com/p4x6xcRm  \n15:42\u00a0<vmassol>\u00a0seems we have some threading issue somewhere  \n15:43\u00a0<vmassol>\u00a0at org.xwiki.job.internal.DefaultJobManager.run(DefaultJobManager.java:140)  \n15:43\u00a0<vmassol>\u00a0the job must be running on its own thread I guess  \n15:44\u00a0<+tmortagne>\u00a0vmassol: it's actually multithread issue with jmock which is fixed in the next version  \n15:44\u00a0<vmassol>\u00a0it probably just mean that jmock mocks are not threadsafe which means the test is not correctly written  \n15:44\u00a0<+tmortagne>\u00a0let me find your the link  \n15:44\u00a0<vmassol>\u00a0yes I remmeber about it  \n15:44\u00a0<+tmortagne>\u00a0http://www.jmock.org/threading-synchroniser.html  \n15:44\u00a0<+tmortagne>\u00a0here  \n15:44\u00a0<vmassol>\u00a0we could also fix the test  \n15:44\u00a0<+tmortagne>\u00a0fixed in 2.6  \n15:44\u00a0<vmassol>\u00a0so that it doesn't do multi threads  \n15:44\u00a0<+tmortagne>\u00a0it's not trivial  \n15:45\u00a0<+tmortagne>\u00a0I was wondering if we could move to jmock 2.6RC2  \n15:45\u00a0<vmassol>\u00a0we could  \n15:45\u00a0<+tmortagne>\u00a0it's not the test itself which do multithread actually it's something it's calling on which it does not have much control  \n15:46\u00a0<+tmortagne>\u00a0and which happen to need to call a XWiki method  \n15:48\u00a0<vmassol>\u00a0sure but there are ways  \n15:49\u00a0<vmassol>\u00a0I've removed the need to mock the xwiki class in some other tests for ex  \n15:49\u00a0<vmassol>\u00a0the need to use the xwiki class at all actually  \n15:49\u00a0<vmassol>\u00a0by introducing some facade, etc  \n15:49\u00a0<vmassol>\u00a0I haven't looked at this tests specifcially  \n15:50\u00a0<+tmortagne>\u00a0in this case it's using it to get a document  \n15:50\u00a0<+tmortagne>\u00a0so it's going to be hard to avoid it  \n15:51\u00a0<vmassol>\u00a0DMB is not enough?  \n15:51\u00a0<vmassol>\u00a0anyway we need to fix this build issue somehow  \n15:51\u00a0<vmassol>\u00a0ideally without threading is better but if it's too complex with threading  \n15:58\u00a0<+tmortagne>\u00a0actually it's not when getting document but when initializing XWikiContext  \n16:03\u00a0<Denis>\u00a0has quit  \n16:08\u00a0<polx>\u00a0has joined #xwiki  \n16:11\u00a0<vmassol>\u00a0tmortagne, mflorea: with thomas's last commit XE master works  \n16:11\u00a0<vmassol>\u00a0and I don't get to see the distribution wizard, cool :)  \n16:11\u00a0<vmassol>\u00a0now going to remove data/ to test that  \n16:12\u00a0<+tmortagne>\u00a0vmassol: my last commit fixes the wrongly invalid extension at startup which indirectly mean that you don't get the Wyzard anymore (you don't have any outdated extension and the UI is already the right one)  \n16:13\u00a0<+tmortagne>\u00a0btw it means we can get rid of the hack to disable the wyzard in the ui tests  \n16:13\u00a0<vmassol>\u00a0btw it's wizard :)  \n16:13\u00a0<+tmortagne>\u00a0yea yea, I like it with a y  \n16:13\u00a0<vmassol>\u00a0cool  \n16:13\u00a0<vmassol>\u00a0the ui test hack removal  \n16:17\u00a0<vmassol>\u00a0btw guys  \n16:17\u00a0<vmassol>\u00a0have you thought about the load we're going to have to extensions.xwiki.org? :)  \n16:17\u00a0<polx>\u00a0has quit  \n16:17\u00a0<vmassol>\u00a0when everyone is going to use the Distribution Wizard  \n16:17\u00a0<+tmortagne>\u00a0it's actually mostly on nexus  \n16:18\u00a0<vmassol>\u00a0ok  \n16:18\u00a0<vmassol>\u00a0still  \n16:18\u00a0<+tmortagne>\u00a0since thoses extension are not on extensions.xwiki.org  \n16:18\u00a0<vmassol>\u00a0ok there's load and bandwidth  \n16:18\u00a0<vmassol>\u00a0I hope xwiki sas has unlilited bandwidth ;)  \n16:18\u00a0<vmassol>\u00a0\\*unlimited  \n16:18\u00a0<+tmortagne>\u00a0but yes it's probably going to increase it  \n16:18\u00a0<vmassol>\u00a0also  \n16:18\u00a0<vmassol>\u00a0it means it's going to be important now that it answers fast  \n16:19\u00a0<vmassol>\u00a0which wasn't our requirement so far  \n16:19\u00a0<vmassol>\u00a0wasn't a strong one  \n16:19\u00a0<vmassol>\u00a0and we were not monitoring it  \n16:19\u00a0<CIA-122>\u00a0Eduard Moraru\u000f master\u000f \\* rf10e04e\u000f https://github.com/xwiki/xwiki-manager/commit/f10e04e9f113b7be2d3ae05d3c065d5e9e88f240 \u000f/ (2 files in 2 dirs):\u000f XEM-223: The default workspace template is not bundled with XEM by default - http://git.io/tidhBA  \n16:19\u00a0<vmassol>\u00a0I just clicked on \"show details\" for enteprise web and it took several seconds to display it  \n16:19\u00a0<@cjd>\u00a0most stuff on OVH is limited but the overage price is 1 euro per terabyte  \n16:19\u00a0<vmassol>\u00a0I'm wondering why it's so slow  \n16:19\u00a0<+tmortagne>\u00a0note that anyone building some SNAPSHOT XWiki module produce more load on nexus than the installer  \n16:19\u00a0<vmassol>\u00a0cjd is alive! :)  \n16:20\u00a0<vmassol>\u00a0ah cool  \n16:20\u00a0<vmassol>\u00a0tmortagne: sure but dev uptime and perf is not the same as XE perf  \n16:20\u00a0<@cjd>\u00a0I was without much internet for the last week but now I'll be here until the 28th  \n16:20\u00a0<vmassol>\u00a0cjd: ok I'll be in paris tomorrow, will you be at the office?  \n16:21\u00a0<@cjd>\u00a0I plan on it  \n16:21\u00a0<+tmortagne>\u00a0vmassol: sure but I mean it will probably not increase a lot the load  \n16:21\u00a0<vmassol>\u00a0ok for the load  \n16:21\u00a0<+tmortagne>\u00a0now it has to be fast, of course  \n16:21\u00a0<vmassol>\u00a0tmortagne: I'm still unsure why it's so slow now  \n16:21\u00a0<vmassol>\u00a0does it mean nexus is currently slow?  \n16:21\u00a0<+tmortagne>\u00a0it's doing one connection for each dependency  \n16:22\u00a0<vmassol>\u00a0it's gathering the data for all the tabs?  \n16:22\u00a0<vmassol>\u00a0not just desirption  \n16:22\u00a0<+tmortagne>\u00a0we should probably \u00a0stop doing that in the details panel IMO  \n16:22\u00a0<vmassol>\u00a0?  \n16:22\u00a0<+tmortagne>\u00a0I guess  \n16:22\u00a0<vmassol>\u00a0yep  \n16:23\u00a0<+tmortagne>\u00a0it's not the description that require all this time for sure  \n16:23\u00a0<vmassol>\u00a0yes it does  \n16:23\u00a0<vmassol>\u00a0that's why it's slow  \n16:23\u00a0<vmassol>\u00a0btw the URL is also wrong for deps  \n16:23\u00a0<vmassol>\u00a0for ex I get: http://localhost:8080/xwiki/bin/distribution/XWiki/Distribution?extensionId=org.xwiki.platform%3Axwiki%2Dplatform%2Dlivetable%2Dui&extensionVersion=4.2%2DSNAPSHOT&xback=%2Fxwiki%2Fbin%2Fdistribution%2FXWiki%2FDistribution%3Fxredirect%3D%2Fxwiki%2Fbin%2Fview%2FMain%2F  \n16:24\u00a0<vmassol>\u00a0hmm maybe its ok  \n16:24\u00a0<vmassol>\u00a0trying  \n16:24\u00a0<vmassol>\u00a0it works actually :)  \n16:24\u00a0<+mflorea>\u00a0:)  \n16:24\u00a0<+tmortagne>\u00a0vmassol: this is a link to the EM UI  \n16:24\u00a0<vmassol>\u00a0arf  \n16:24\u00a0<+tmortagne>\u00a0to display the extension \"alone\"  \n16:24\u00a0<vmassol>\u00a0now when I click \"back to list\"  \n16:24\u00a0<vmassol>\u00a0and click on details again  \n16:24\u00a0<vmassol>\u00a0it downloads again  \n16:24\u00a0<vmassol>\u00a0ouch  \n16:24\u00a0<vmassol>\u00a015 seconds lomre  \n16:24\u00a0<vmassol>\u00a0\\*more  \n16:25\u00a0<vmassol>\u00a0missing some caches or a different flow  \n16:25\u00a0<vmassol>\u00a0I guess when I click install it's going to get the info again  \n16:25\u00a0<vmassol>\u00a0s / info/data  \n16:26\u00a0<+tmortagne>\u00a0actually you have some cache on AETHER side  \n16:27\u00a0<vmassol>\u00a0not really working for me :)  \n16:27\u00a0<vmassol>\u00a0seen the long time it takes  \n16:27\u00a0<+tmortagne>\u00a0it's supposed to not download again the pom.xml  \n16:48\u00a0<CIA-122>\u00a0Eduard Moraru\u000f master\u000f \\* r7445430\u000f https://github.com/xwiki/xwiki-manager/commit/7445430a6dea0ec04775f51b7344e3c054b11f24 \u000f/ xwiki-manager-distribution/xwiki-manager-ui-all/pom.xml :\u000f XEM-223: The default workspace template is not bundled with XEM by default - http://git.io/pDGd8Q  \n16:49\u00a0<silviar>\u00a0has left #xwiki  \n16:51\u00a0<CIA-122>\u00a0Vincent Massol\u000f master\u000f \\* rfd0fd38\u000f https://github.com/xwiki/xwiki-enterprise/commit/fd0fd38f88ba9eed9c84b8c130c63f6087c06b00 \u000f/ (xwiki-enterprise-ui/pom.xml xwiki-enterprise-web/pom.xml):\u000f [Misc] Improve description which are now very important since they're displayed to the user in the Distribution Wizard - http://git.io/pJJwiQ  \n17:05\u00a0<vmassol>\u00a0hmm we have some errors in the install logs  \n17:05\u00a0<vmassol>\u00a0like: \"Failed to create wiki component(s) for document [XWiki.AddExtensions]: Registering UI extensions requires admin rights at the wiki level\"  \n17:05\u00a0<vmassol>\u00a0hmm tmortagne do you know why I have a conflict on Main.WebHome  \n17:05\u00a0<vmassol>\u00a0?  \n17:05\u00a0<vmassol>\u00a0I had deleted my data/ dir before starting XE  \n17:06\u00a0<cjd>\u00a0has quit  \n17:07\u00a0<+tmortagne>\u00a0vmassol: no idea, if you have a conflict it means the document was there  \n17:07\u00a0<vmassol>\u00a0we also have the refresh issue after the install, the user needs to refresh his browser cache to get the right color theme  \n17:07\u00a0<vmassol>\u00a0it wasn't :)  \n17:07\u00a0<vmassol>\u00a0not installed by me  \n17:07\u00a0<vmassol>\u00a0at least  \n17:07\u00a0<+tmortagne>\u00a0don't know where it comes from but it was there when EM trying to import it  \n17:07\u00a0<cjd>\u00a0has joined #xwiki  \n17:07\u00a0<+tmortagne>\u00a0that's all I can tell you  \n17:07\u00a0<+tmortagne>\u00a0s/trying/tried/  \n17:07\u00a0<vmassol>\u00a0well it means we have a bug somewhere  \n17:08\u00a0<vmassol>\u00a0for the end user it's not normal  \n17:08\u00a0<+tmortagne>\u00a0did you see what differences you had ?  \n17:08\u00a0<vmassol>\u00a0yes  \n17:08\u00a0<vmassol>\u00a0pretty much everything  \n17:08\u00a0<vmassol>\u00a0but I didn\"t save it  \n17:08\u00a0<vmassol>\u00a0it's easy to redo though  \n17:08\u00a0<vmassol>\u00a0default XE, remove data/ dir, run  \n17:08\u00a0<+tmortagne>\u00a0then you can see what is the actial hope page you have  \n17:09\u00a0<+tmortagne>\u00a0\\*actual  \n17:09\u00a0<vmassol>\u00a0doing it again  \n17:09\u00a0<vmassol>\u00a0(5 more mins! :))  \n17:09\u00a0<vmassol>\u00a0we'll need to fix the reported warnings too, when the user sees that he always wonders it's nomrla or not  \n17:09\u00a0<+tmortagne>\u00a0don't we have some listener that create a space home page when a page is created is created ?  \n17:10\u00a0<vmassol>\u00a0I don't remember if it's was committed ornot  \n17:10\u00a0<vmassol>\u00a0I'm tringy again and I'll try to create a apge in a new psace to see  \n17:10\u00a0<+tmortagne>\u00a0you don't need too  \n17:11\u00a0<+tmortagne>\u00a0you have standard classes created automatically  \n17:11\u00a0<+tmortagne>\u00a0unless they don't go trough XWiki  \n17:11\u00a0<vmassol>\u00a0I want to check if we are doing this or not  \n17:11\u00a0<vmassol>\u00a0unless you remember  \n17:12\u00a0<+tmortagne>\u00a0I have no idea, I remember someone worked on it and it would explain \u00a0the conflict you got but I don't know if it has been finished  \n17:12\u00a0<vmassol>\u00a0sergiu worked on it FAIR  \n17:12\u00a0<vmassol>\u00a0AFAIR  \n17:12\u00a0<vmassol>\u00a0or was supposed to work on it  \n17:12\u00a0<sdumitriu>\u00a0has quit  \n17:12\u00a0<vmassol>\u00a0but don't know if he committed it, I'll test it  \n17:12\u00a0<vmassol>\u00a0it's really slow to install an new UI now\u2026.. compared to the import we had....  \n17:14\u00a0<+tmortagne>\u00a0you have \u00a0to compare the whole process, going to download page, get the right XAR and then attach and import it  \n17:16\u00a0<CIA-122>\u00a0Marius Dumitru Florea\u000f feature-portlet-3.5.x\u000f \\* rd6966dd\u000f https://github.com/xwiki/xwiki-platform/commit/d6966dd1d8a5ce065fda684210d1e77811c23745 \u000f/ (2 files in 2 dirs):\u000f Display the breadcrumb in portlet mode. - http://git.io/iHvPUg  \n17:24\u00a0<Denis1>\u00a0has joined #xwiki  \n17:42\u00a0<vmassol>\u00a0tmortagne: this is the diff: http://www.evernote.com/shard/s119/sh/97167ff4-fc05-4c35-8d29-e62b85278cb7/a844da07b0e379358b5fcd9b95607f0c  \n17:42\u00a0<+tmortagne>\u00a0seems like you had en empty document  \n17:42\u00a0<+tmortagne>\u00a0s/en/an/  \n17:43\u00a0<jvdrean>\u00a0has quit  \n17:43\u00a0<vmassol>\u00a0ok I've tried creating a new page: Toto.test  \n17:43\u00a0<+tmortagne>\u00a0so there is something creating an empty Main.WebHome at some point  \n17:43\u00a0<vmassol>\u00a0(using Add pafge)  \n17:43\u00a0<vmassol>\u00a0and it didn't create Toto.WebHome  \n17:43\u00a0<vmassol>\u00a0however  \n17:44\u00a0<vmassol>\u00a0the space widget in the dashboard  \n17:44\u00a0<+tmortagne>\u00a0it's not the same thing since it would not have been an empty page anyway I think  \n17:44\u00a0<vmassol>\u00a0doesn't show a question mark on the Toto space  \n17:44\u00a0<+tmortagne>\u00a0it's a real bug here  \n17:45\u00a0<vmassol>\u00a0hmm indexing doesn't work btw\u2026 I create a new page and when I search for its content, it's not found by search\u2026.  \n17:46\u00a0<vmassol>\u00a0hmm even content from Sandbox.WebHome isn't found by search anyore  \n17:46\u00a0<+tmortagne>\u00a0you have something in the search admin page ?  \n17:46\u00a0<vmassol>\u00a0PR issue there  \n17:47\u00a0<vmassol>\u00a0WTF?  \n17:47\u00a0<vmassol>\u00a0let me show you the message  \n17:47\u00a0<vmassol>\u00a0http://www.evernote.com/shard/s119/sh/6a3b9652-f1b9-4a6a-9a93-3a453bfb056c/7eabdc0d38996df7a7d30c3efaff7bc5  \n17:47\u00a0<vmassol>\u00a0\"This configuration cannot be displayed because it was last edited by http://localhost:8080/xwiki/bin/admin/XWiki/XWikiPreferences?editor=globaladmin&section=Search# who doesn't have permission to edit this page.\"  \n17:48\u00a0<+tmortagne>\u00a0does not seems to be a PR issue  \n17:49\u00a0<+tmortagne>\u00a0but I looks like an issue with the author of the admin page  \n17:49\u00a0<+tmortagne>\u00a0s/I/it/  \n17:49\u00a0<vmassol>\u00a0yes  \n17:50\u00a0<vmassol>\u00a0but  \n17:50\u00a0<+tmortagne>\u00a0I was actually looking at something related, I think the UI does not use the right user to install the extension  \n17:50\u00a0<+tmortagne>\u00a0checking it  \n17:50\u00a0<vmassol>\u00a0it seems that content added by the EM installation didn't get proplery indexed or is not avaialble  \n17:50\u00a0<+tmortagne>\u00a0(i.e. I think it's using the current user which is guest at startup)  \n17:50\u00a0<vmassol>\u00a0http://localhost:8080/xwiki/bin/view/XWiki/SearchAdmin shows 424 indexed pages  \n17:50\u00a0<vmassol>\u00a0and nothing in teh queue  \n17:51\u00a0<vmassol>\u00a0but searching returns empty results for \"test\" for ex  \n17:51\u00a0<+tmortagne>\u00a0well 424 seems to be all  \n17:51\u00a0<vmassol>\u00a0(which used to show the Sandbox pages at least)  \n17:51\u00a0<vmassol>\u00a0let me try with the default XE again  \n17:51\u00a0<+tmortagne>\u00a0EM go through XWiki#save so there is nothing special about the document it's importing  \n17:53\u00a0<vmassol>\u00a0works fine with default XE  \n17:53\u00a0<vmassol>\u00a0hmmm  \n17:53\u00a0<vmassol>\u00a0no  \n17:53\u00a0<vmassol>\u00a0I removed the data/ dir  \n17:53\u00a0<vmassol>\u00a0before running XE again and installing UI with EM  \n17:54\u00a0<vmassol>\u00a0but lucene index is in data/ dir  \n17:54\u00a0<vmassol>\u00a0so that's ok  \n17:54\u00a0<vmassol>\u00a0so there's a bug somewhere  \n17:54\u00a0<vmassol>\u00a0documetns are not indexed properly when installed thorugh EM  \n17:54\u00a0<vmassol>\u00a0for some reason  \n17:54\u00a0<vmassol>\u00a0could someone reproduce this?  \n17:55\u00a0<vmassol>\u00a0btw when I restart the wiki I get in the logs:  \n17:55\u00a0<vmassol>\u00a02012-09-18 17:55:19,561 [http://localhost:8080/xwiki/bin/view/Main/] WARN \u00a0iComponentManagerEventListener - Failed to register the wiki component located in the document [XWiki.AddExtensions]. Root cause: Registering UI extensions requires admin rights at the wiki level  \n17:55\u00a0<vmassol>\u00a0so prpobably the same issue with author during install  \n17:56\u00a0<vmassol>\u00a0that XWiki.AddExtensions page has:  \n17:56\u00a0<vmassol>\u00a0Last modified by on 2012/09/18 17:41  \n17:56\u00a0<vmassol>\u00a0Created by on 2012/09/18 17:41  \n17:56\u00a0<+tmortagne>\u00a0that's guest  \n17:57\u00a0<+tmortagne>\u00a0the XAR is iomported with current user  \n17:57\u00a0<+tmortagne>\u00a0that's the issue I was talking about  \n17:57\u00a0<evalica>\u00a0has quit  \n17:59\u00a0<Enygma`>\u00a0has quit  \n18:04\u00a0<cjd>\u00a0has quit  \n18:27\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r2a913ea\u000f https://github.com/xwiki/xwiki-platform/commit/2a913eab810867296242df7c9fb23d4f78a4329e \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-distribution/src/main/java/org/xwiki/extension/distribution/internal/job/DistributionJob.java :\u000f XWIKI-8209: Add a welcome step to the distribution wizard to give an overview of the upgrade process - http://git.io/tthPeg  \n18:29\u00a0<CIA-122>\u00a0tmortagne\u000f master\u000f \\* r7e7df22\u000f https://github.com/xwiki/xwiki-platform/commit/7e7df22e7bb71d0a5c56cd2ad36ef3b3b31e8106 \u000f/ xwiki-platform-core/xwiki-platform-extension/xwiki-platform-extension-distribution/src/main/java/org/xwiki/extension/distribution/internal/job/DistributionJob.java :\u000f Fix comment - http://git.io/XV9CdA  \n18:48\u00a0<mflorea>\u00a0has quit  \n18:49\u00a0<+tmortagne>\u00a0vmassol: as far as I can see Lucene receive an event when EM save a document, looking forward to see and something goes wrong when trying to index it  \n18:50\u00a0<vmassol>\u00a0ok  \n19:08\u00a0<+tmortagne>\u00a0and they have been added to the queue with proper datas (I blocked the indexer thread to make sure to see the queue)  \n19:08\u00a0<vmassol>\u00a0tmortagne: you could reproduce the problem right?  \n19:09\u00a0<+tmortagne>\u00a0nop but I did not started with empty database, I wanted to check first if documents saved by EM ends up in the queue  \n19:09\u00a0<vmassol>\u00a0ok  \n19:10\u00a0<+tmortagne>\u00a0I will try with jetty/hsqldb  \n19:10\u00a0<+tmortagne>\u00a0but tomorrow or I will have problems :)  \n19:10\u00a0<vmassol>\u00a0ok :)  \n19:10\u00a0<+tmortagne>\u00a0going back home, bye guys  \n19:10\u00a0<vmassol>\u00a0let's not forget this and the user right issue before the release though  \n19:10\u00a0<vmassol>\u00a0bye  \n19:11\u00a0<+tmortagne>\u00a0Marius is already taking care of the right issue  \n19:11\u00a0<+tmortagne>\u00a0we know what it is and how to fix it  \n19:11\u00a0<vmassol>\u00a0ok  \n19:11\u00a0<tmortagne>\u00a0has quit  \n19:39\u00a0<sdumitriu>\u00a0has joined #xwiki  \n20:57\u00a0<vmassol>\u00a0has quit  \n21:07\u00a0<cjd>\u00a0has joined #xwiki  \n21:15\u00a0<vmassol>\u00a0has joined #xwiki  \n21:35\u00a0<vmassol>\u00a0has quit  \n21:43\u00a0<vmassol>\u00a0has joined #xwiki  \n22:26\u00a0<vmassol>\u00a0has quit  \n\n"}