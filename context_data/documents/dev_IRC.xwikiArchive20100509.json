{"id": "dev:IRC.xwikiArchive20100509", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100509", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nabusenius left at 00:18 (Ping timeout: 246 seconds  \nSvenDowideit\\_ joined #xwiki at 00:48  \nSvenDowideit left at 00:54 (\\*.net \\*.split  \nCalebJamesDeLisl left at 00:54 (\\*.net \\*.split  \nSvenDowideit\\_ is now known as SvenDowideit ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \ncypromis left at 00:59 (\\*.net \\*.split  \ncypromis joined #xwiki at 01:00  \ncypromis left at 01:00 (\\*.net \\*.split  \nCalebJamesDeLisl joined #xwiki at 01:00  \ncypromis joined #xwiki at 01:01  \nldubost left at 01:03 (Quit: ldubost  \nsdumitriu left at 01:28 (Ping timeout: 276 seconds  \nabusenius joined #xwiki at 08:10  \nabusenius left at 08:21 (Ping timeout: 240 seconds  \nabusenius joined #xwiki at 08:26  \nvmassol joined #xwiki at 09:04  \nldubost joined #xwiki at 09:55  \nsdumitriu joined #xwiki at 09:56  \nCalebJamesDeLisl - (10:03): Good morning, when someone with admin on the incubator gets a chance, you mind adding InvitationMail.InvitationLanguagePack to the document bundles?  \nsdumitriu - (10:04): Hi Caleb  \nsdumitriu - (10:04): Sure  \nCalebJamesDeLisl - (10:04): Thanks. How's the translation stuff going?  \nsdumitriu - (10:04): Slowly  \nCalebJamesDeLisl - (10:05): Have you considered using something like $msg.use(\"InvitationMail.InvitationLanguagePack\") so an app can define which bundles it uses?  \nsdumitriu - (10:05): I'm refactoring the existing code to use EntityReference instead of strings, and Locale instead of language codes, and renaming methods  \nsdumitriu - (10:05): Yes, that was my main goal when I wrote the initial implementation  \nCalebJamesDeLisl - (10:06): Cool. I tried to reason about how you could allow documents to register themselves without some clown saying: core.copy.someTranslation={{groovy}}java.util.Random.getRandom().unsafe.putAddress(0,0){{/groovy}}  \nCalebJamesDeLisl - (10:08): Unclear information flow is very hart to reason with.  \nCalebJamesDeLisl - (10:08): s/hart/hard  \nsdumitriu - (10:09): You can take a look at https://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-localization/ to see what's in there already  \nCalebJamesDeLisl - (10:17): \"Some bundle types allow the client to add additional bundle locations at runtime.\" \u00a0Meaning the currently executing script?  \nsdumitriu - (10:18): Ye  \nsdumitriu - (10:18): s  \nCalebJamesDeLisl - (10:19): Looks pretty safe. The only worries I can think of are 1: Bad bundle overrides core translations. 2: Bad bundle overrides good bundle translations. 3: Bad bundle clones good bundle translations then deletes good bundle so bad bundle translations take precedence.  \nCalebJamesDeLisl - (10:20): (These are general worries I haven't looked closely enough to see if it's possible in your implementation.)  \nCalebJamesDeLisl - (10:20): BTW: Thanks for adding my bundle to the incubator.  \nsdumitriu - (10:22): Yes, it was hard, the field only allows 255 chars and it was already full  \nsdumitriu - (10:22): I had to search for 2 non-critical bundles to remove  \nsdumitriu - (10:22): The current system is really not working  \nSorinello - (10:25): morning  \nCalebJamesDeLisl - (10:28): Wow, I guess so.  \nvmassol - (10:28): CalebJamesDeLisl: the new idea is to do similarly as for wiki macros  \nvmassol - (10:28): (which needs to be improved with a \"command center\" btw)  \nCalebJamesDeLisl - (10:29): +1 for macros, much safer.  \nCalebJamesDeLisl - (10:29): Looks like it won't be available through $msg anymore am I correct?  \nvmassol - (10:30): dunno what sergiu has planned, it will probably fro backward compat reason, unless sergiu keeps the old class too...  \nsdumitriu - (10:30): Good morning Sorinello  \nCalebJamesDeLisl - (10:30): Oops, misread. +1 for (new) translations only available by {{msg}}  \nsdumitriu - (10:31): Yes, I'm removing the support for $msg  \nsdumitriu - (10:31): It will be avilable from Java as components, and from the wikis as macros  \nsdumitriu - (10:31): I don't see a good reason why access from velocity is needed  \nCalebJamesDeLisl - (10:31): And no new velocity object to replace $msg?  \nsdumitriu - (10:32): Probably not  \nCalebJamesDeLisl - (10:32): Big +1  \nvmassol - (10:32): sdumitriu: I'm not 100% sure re velocity access\u2026 but we could try without and add it if need be later on  \nsdumitriu - (10:32): The more we move further from velocity and html, the better  \nvmassol - (10:32): the only pb I can see is fluidity  \nvmassol - (10:33): when you program in one language it's usually not very nice to switch to another language and then come back to the language  \nCalebJamesDeLisl - (10:33): Concatenating trusted code with untrusted code is the cause of 90% of all security headaches.  \nsdumitriu - (10:33): We have a big dependency on them and we shouldn't  \nvmassol - (10:33): it breaks the flow  \nvmassol - (10:34): sdumitriu: yes that's fine to provide macros for getting away from HTML and Velocity but there are still lots an lots of valid uses cases for scripting in velocity  \nDenis joined #xwiki at 10:34  \nvmassol - (10:34): we'll see  \nCalebJamesDeLisl - (10:35): We could safely add velocity support if we have an effective noscript macro.  \nCalebJamesDeLisl - (10:36): $msg.get('sometranslation') would return \u00a0{{noscript untilISay=\"12345ArbitraryAlphanum\"}}Translated Content{{12345ArbitraryAlphanum}}  \nCalebJamesDeLisl - (10:37): It's safe only because the translated content cannot guess the value of \"12345ArbitraryAlphanum\" and thus cannot close the macro.  \nCalebJamesDeLisl - (10:37): </hack> ;)  \nsdumitriu - (10:48): There's a getVirtualWikiCache method in c.x.x.XWiki  \nsdumitriu - (10:48): I think it's dangerous and not needed  \nsdumitriu - (10:48): (public)  \nsdumitriu - (10:48): Anybody against removing it?  \nvmassol - (10:52): no idea, I don't know enough about it, maybe you could check with thomasM  \nsdumitriu - (10:59): It's not used at the moment  \nsdumitriu - (11:00): And I really don't see why any other class would need access to this cache  \nsdumitriu - (11:00): It simply lists the names of the virtual wikis that have been found  \nCalebJamesDeLisl - (11:03): You could find-grep for it in the platform, AFAIK c.x.x.XWiki was never guaranteed api.  \nCalebJamesDeLisl - (11:04): Haha, I show up and start giving advice...  \nlucaa joined #xwiki at 11:27  \ngvallarelli joined #xwiki at 11:42  \ngvallarelli - (11:42): Hello  \nCalebJamesDeLisl - (11:43): Hi gvallarelli  \nvmassol left at 12:05 (Quit: Leaving.  \nCalebJamesDeLisl - (12:08): Hmm, just registered a new username on myxwiki and I have edit on incubator:Main.WebHome  \nlucaa - (12:09): a global user on myxwiki? or a local user on another subwiki?  \nCalebJamesDeLisl - (12:12): Global  \nlucaa - (12:14): hmm... there are a few issues with global users & local users and rights... I wouldn't know which one this is...  \nlucaa - (12:14): but normal behaviour should be that you don't have edit rights on incubator  \nCalebJamesDeLisl - (12:30): My \"normal\" user is a global user too. I just banned everyone but myself from the space where the mail sender is since it turns out myxwiki has an open mail relay.  \nabusenius left at 12:43 (Quit: Leaving  \nCalebJamesDeLisl - (13:15): Ok, I just banned everyone from accessing the invitation app except members of groups local to the incubator.  \nCalebJamesDeLisl - (13:15): Should I allow global myxwiki members too? The messages are logged and nobody can delete them.  \nabusenius joined #xwiki at 15:06  \ngvallarelli left at 15:50 (Quit: Leaving.  \nlucaa left at 15:57 (Quit: Leaving.  \nmflorea joined #xwiki at 16:02  \nmflorea left #xwiki at 16:04  \nmflorea joined #xwiki at 16:04  \nmflorea left #xwiki at 16:04  \nldubost left at 16:14 (Quit: ldubost  \nldubost joined #xwiki at 16:15  \nmflorea joined #xwiki at 16:41  \nSor|nello joined #xwiki at 16:42  \nSorinello left at 16:44 (Quit: Peace and Protection 4.22  \nSor|nello is now known as Sorinello ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nmflorea left #xwiki at 16:45  \nmflorea joined #xwiki at 16:46  \nmflorea left #xwiki at 16:46  \nSorinello left at 16:47 (Quit: Peace and Protection 4.22  \nSorinello joined #xwiki at 16:48  \nmflorea joined #xwiki at 16:49  \nldubost left at 16:57 (Quit: ldubost  \nmflorea left #xwiki at 17:04  \nmflorea joined #xwiki at 17:04  \nmflorea left #xwiki at 17:04  \nSorinello left at 17:23 (Quit: Peace and Protection 4.22  \nSorinello joined #xwiki at 17:24  \nSorinello left at 17:27 (Client Quit  \nSorinello joined #xwiki at 17:28  \nSorinello left at 17:39 (Quit: Peace and Protection 4.22  \nSorinello joined #xwiki at 17:40  \nSorinello left at 17:41 (Client Quit  \nSorinello joined #xwiki at 17:42  \nvmassol joined #xwiki at 17:44  \nSorinello left at 17:49 (Quit: Peace and Protection 4.22  \nmflorea joined #xwiki at 18:08  \nmflorea left #xwiki at 18:08  \njvelociter joined #xwiki at 18:17  \nSorinello joined #xwiki at 18:38  \nSorinello left at 19:06 (Quit: Peace and Protection 4.22  \nSorinello joined #xwiki at 19:11  \nldubost joined #xwiki at 19:16  \njvelociter left at 20:33 (Quit: jvelociter  \nmflorea joined #xwiki at 21:08  \nmflorea left #xwiki at 21:08  \nplunden joined #xwiki at 22:21  \nabusenius left at 23:31 (Ping timeout: 268 seconds  \nvmassol left at 23:53 (Quit: Leaving.  \n\n"}