{"id": "dev:IRC.xwikiArchive20100415", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100415", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsdumitriu left at 02:54 (Ping timeout: 258 seconds  \nnickless left at 06:01 (Ping timeout: 276 seconds  \nmflorea joined #xwiki at 06:39  \nplunden joined #xwiki at 06:51  \nkibahop joined #xwiki at 08:01  \nlucaa left at 08:11 (Quit: Leaving.  \nvmassol joined #xwiki at 08:17  \nannacondan joined #xwiki at 08:18  \nplunden left #xwiki at 08:19  \nannacondan left at 08:35 (Quit: annacondan  \nlucaa joined #xwiki at 08:39  \nannacondan joined #xwiki at 08:43  \nlucaa - (09:11): hi guys  \nlucaa - (09:12): I just noticed that macros definitions in 2.0 syntax are not available in including 1.0 syntax pages.  \nlucaa - (09:12): is this by design?  \nlucaa - (09:13): I did a test here: http://incubator.myxwiki.org/xwiki/bin/view/Sandbox/TestPage  \nlucaa - (09:14): I found it here: http://jira.xwiki.org/jira/browse/XWIKI-3731  \nEnygma` joined #xwiki at 09:28  \ngvallarelli joined #xwiki at 09:39  \ngvallarelli - (09:39): Hi XWikiers  \nsilviar joined #xwiki at 09:41  \nevalica joined #xwiki at 09:42  \nKermitTheFragger joined #xwiki at 09:56  \nflorinciu joined #xwiki at 10:03  \nplunden joined #xwiki at 10:06  \njvdrean joined #xwiki at 10:07  \nxenon75 joined #xwiki at 10:09  \nxenon75 left at 10:09 (Client Quit  \nxenon75 joined #xwiki at 10:09  \nglerouge joined #xwiki at 10:13  \noanat joined #xwiki at 10:15  \nsdumitriu joined #xwiki at 10:18  \ntmortagne joined #xwiki at 10:21  \nanamarias joined #xwiki at 10:29  \njvelo joined #xwiki at 10:32  \nCalebJamesDeLisl - (10:33): Since invitation mailer is going to add about 50 translation keys, I was thinking now would be a good time to think about improving translation packs.  \nCalebJamesDeLisl - (10:34): Requiring the documents to be referenced in the XWikiPreferences is clearly not the best situation, but I don't much like the constraints on the content of the document either.  \nlucaa - (10:35): hi CalebJamesDeLisl  \nannacondan left at 10:35 (Quit: annacondan  \nlucaa - (10:35): sdumitriu has a new localization module on the pipe, if I know correctly, which fixes this problem  \nlucaa - (10:35): +1, anytime is a good moment  \nxipe left at 10:36 (Quit: Lost terminal  \nxipe joined #xwiki at 10:37  \nxipe left at 10:37 (Client Quit  \nCalebJamesDeLisl - (10:37): hi lucaa, A new module sounds good, I like the idea of introducing the change in the current code and then moving to the new module.  \nxipe joined #xwiki at 10:37  \nCalebJamesDeLisl - (10:38): (I don't know how long it will take for the new module to be up and running.)  \nlucaa - (10:38): I don't know too much about this thing, only that's it's done but not integrated and that it fixes this issue, sdumitriu should be able to tell you a lot more  \ntmortagne - (10:38): CalebJamesDeLisl: translation component is already in svn but not finished  \ntmortagne - (10:39): http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-localization/  \nannacondan joined #xwiki at 10:39  \nCalebJamesDeLisl - (10:46): So this new module fixes the problem by adding the \"use\" function so bundles can self register?  \ntmortagne - (10:46): CalebJamesDeLisl: i don't know the details very well, only sdumitriu worked on it but i doubt this module introduce any new way to register translation  \ntmortagne - (10:47): not yet but it's planned  \nlucaa - (10:47): tmortagne: it does, afaik. an easy way so that apps can automatically push translations when they're imported, without the need to modify prefs after importing  \nmariusbutuc joined #xwiki at 10:47  \nCalebJamesDeLisl - (10:48): I see a function LocalizationManager.use(String bundleTypeHint, String bundleLocation)  \nlucaa - (10:48): but I don't know the exact way. All I know is that sdumitriu told me this is the answer to my prayers when I complained  \nCalebJamesDeLisl - (10:49): Of course this has to be treated carefully otherwise Eve might introduce bad code into a translation which is then used on a page with PR.  \nCalebJamesDeLisl - (10:51): Still my issue is that the content of the translation document can't be user friendly.  \nCalebJamesDeLisl - (10:51): In order to just tell the user that the document is special and shouldn't be deleted one must use a hack to comment out the code so it isn't interpreted by Properties.  \nCalebJamesDeLisl - (10:52): #{{info}}Please don't delete this{{info}}  \nCalebJamesDeLisl - (10:52): something like that which leaves a # at the beginning.  \nCalebJamesDeLisl - (10:54): I think the fix to this problem is to render the document into Syntax.PLAIN\\_1\\_0 before loading properties from it.  \nlucaa - (10:54): CalebJamesDeLisl: well, but that's the same for all scripts  \nlucaa - (10:54): all documents that hold scripts  \nlucaa - (10:54): and one answer is to make them hidden  \nCalebJamesDeLisl - (10:55): noooo not hidden :(  \nlucaa - (10:55): it's one answer, I don't think I like it a lot myself either, since it renders it unsearchable iirc  \nvmassol - (10:56): for the record we've put this new module in the roadmap for the past 2 or 3 major releases  \nsdumitriu - (10:56): 2  \nvmassol - (10:56): ok 2 ;)  \nDenis - (10:57): CalebJamesDeLisl, lucaa, tmortagne: doesn't you missed that usage is not the only requirement for usage of localisation bundle, there is also the overriding aspect to take care of. I completely dislike the way it is done now, but the functionality should stay !  \nCalebJamesDeLisl - (10:58): +1 for keeping the legacy functionality, we don't know where it is being used.  \ntmortagne - (11:00): CalebJamesDeLisl: re protection, the way is simply to stop using $msg.get and use translation macro that will directly inject WordBlock in the XDOM  \nCalebJamesDeLisl - (11:01): Good, that eliminates bad code and leaves only bad words ;)  \nkibahop left #xwiki at 11:02  \nCalebJamesDeLisl - (11:03): I would rather the new way be using objects rather than documents. They would have to have the language as a property but they can be attached to the document which uses those translations.  \nCalebJamesDeLisl - (11:04): Also the translation documents are inherently ugly.  \nCalebJamesDeLisl - (11:05): I imagine something like the JSX objects.  \nCalebJamesDeLisl - (11:08): Of course core code referencing documents (classes) is an eyesore (IMO) so the class document would need to have a script which did something like the LocalizationManager.use function.  \nCalebJamesDeLisl - (11:42): Is CHECKSTYLE:OFF disabled?  \nannacondan left at 11:46 (Quit: annacondan  \nmflorea left at 11:48 (Quit: Leaving.  \nannacondan joined #xwiki at 11:57  \nflorinciu left at 12:02 (Read error: Connection reset by peer  \nannacondan left at 12:07 (Quit: annacondan  \nflorinciu joined #xwiki at 12:08  \njvdrean left at 12:11 (Quit: Leaving.  \nmflorea joined #xwiki at 12:32  \nCiprian joined #xwiki at 12:33  \nxenon75 left at 12:38 (Quit: Leaving.  \nxenon75 joined #xwiki at 12:47  \nxenon75 left at 12:47 (Client Quit  \nEnygma` left at 12:59 (Quit: Leaving.  \nmariusbutuc left at 13:00 (Quit: Leaving.  \ngvallarelli left at 13:11 (Quit: Sto andando via  \nnickless joined #xwiki at 13:25  \njvdrean joined #xwiki at 13:56  \nflorinciu left at 14:03 (Read error: Connection reset by peer  \nflorinciu joined #xwiki at 14:04  \nxenon75 joined #xwiki at 14:16  \nvmassol - (14:35): sdumitriu: ping  \nvmassol - (14:35): question: would you be able to implement the new rights UI if caty does the mockups/design part?  \nvmassol - (14:35): (for XE 2.4 that is)  \nsdumitriu - (14:36): Pong  \nsdumitriu - (14:36): Yes  \nsdumitriu - (14:37): vmassol: Still haven't changed your mind about getRealPath? See XWIKI-2555  \nanamarias left at 14:43 (Quit: anamarias  \nvmassol - (14:45): sdumitriu: ok cool  \nvmassol - (14:47): re XWIKI-2555 what I remember saying was:  \nvmassol - (14:48): - it depends if the code that users it is supposed to work on all containers or not  \nvmassol - (14:48): - if that code is supposed to work only a servlet container then the solution is:  \nvmassol - (14:48): have some getNativeRequest() API in the cotnainer api  \nlucaa left at 14:48 (Quit: Leaving.  \nvmassol - (14:48): and cast it to a HttpServletRequest in the code that uses it  \nvmassol - (14:49): but we need to be careful that whatever we do will not break when used in other containers  \nsdumitriu - (14:49): The PDF export needs to be reworked anyway  \nvmassol - (14:49): so we should survey the domain to ensure there's no container-independent solution  \nvmassol - (14:49): which should be preferred obviously  \nDenis - (14:59): vmassol: I just do not understand why you are opposed to getRealPath() in ApplicationContext ?  \nvmassol - (14:59): Denis: I've juste answered above  \nDenis - (15:00): vmassol: from your answer, I suppose your are not opposed to it  \nvmassol - (15:00): and no I'm not opposed  \nvmassol - (15:00): it just needs to be done right  \nvmassol - (15:00): I'm opposed to adding APIs that wouldn't work on all containers for sure  \nDenis - (15:00): getRealPath may return null if no real path exist for the ressource, so I do not see how it could be wrong  \nvmassol - (15:01): it jus doesn't make sense  \nvmassol - (15:01): for me  \nvmassol - (15:01): we're not going to take the sum of all apis of all containers  \nvmassol - (15:01): and expose them  \nDenis - (15:01): ressource in war returns null  \nvmassol - (15:01): if you want to be tied to a given container we can do that  \nvmassol - (15:01): (as I mentioned)  \nvmassol - (15:02): what's wrong with my proposal?  \nvmassol - (15:02): now to be honest this container api hasn't been thought out completely, it was a work in progress but we've not been working on it  \nDenis - (15:03): this as nothing to do with a special container in first place, but with a different behaviour of a given servlet container and the fact that FOP does not support it  \nvmassol - (15:03): I think it has become less important with the Execution Context  \nvmassol - (15:04): Denis: let me put it differently, I'm not working on the container api  \nvmassol - (15:04): so anyone can make a proposal  \nvmassol - (15:04): but this proposal has to fit the model  \nvmassol - (15:04): just proposing a new method without explaining what will happen to other containers is not good enough  \nsdumitriu - (15:05): vmassol: One start for moving forward with the container would be to think of the possible containers, and make an intersection of their features  \nvmassol - (15:05): exactly  \nvmassol - (15:05): was going to say this  \nsdumitriu - (15:05): Since now we don't have other containers to think about  \nvmassol - (15:05): how 'common' a feature is  \nvmassol - (15:05): well we do have daemon cotnainers  \nvmassol - (15:06): they need to be taken care of  \nvmassol - (15:06): ie understand the consequences for them  \nvmassol - (15:06): imagine for ex the use case:  \nDenis - (15:06): but in the ApplicationContext you currently have getTemporaryDirectory() which retrurns a File !  \nvmassol - (15:06): we have a groovy scheduler script that every night generates a PDF  \nvmassol - (15:06): of a given page  \nvmassol - (15:06): how would that work?  \nEnygma` joined #xwiki at 15:07  \nvmassol - (15:08): Denis: if you can get rid of File that would be great!  \nvmassol - (15:08): (one solution is VFS but it's \u00a0bit heavy and dead)  \nvmassol - (15:09): (another solution is doing it in house with an IO interface)  \nvmassol - (15:09): (however I think we shouldn't overengineer it)  \nvmassol - (15:09): (but yes you're right, it's a problem, for env with no file systems for ex)  \nvmassol - (15:10): btw we talked about a module for temporary files  \nvmassol - (15:10): (hmm it was in a slightly different context)  \nvmassol - (15:11): Denis: so yes getTemporaryDirectory() will need to be refactored at one point but I'm not too worried right now  \nvmassol - (15:11): what's important right now is that all the code uses it  \nvmassol - (15:12): so that refactoring is easy to do later on  \nvmassol - (15:12): we do need an architect to continue working on the container module  \nvmassol - (15:12): maybe that module is not necessary at all  \nvmassol - (15:13): since everything is supposed to be transformed into env -independent items in the EC  \nDenis - (15:13): sdumitriu: another way to see it, is to fill the gap between jndi: url and fop in the PDF implementation ?  \nvmassol - (15:14): (everything except for code that interacts with a specific environment)  \nvmassol - (15:14): (so it's possible that xwiki-containers is over-engineered)  \nsdumitriu - (15:15): Denis: I looked at that too, and it is somewhat possible  \nvmassol - (15:16): the work from marius on portlet should help us a bit too on this domain  \nsdumitriu - (15:16): The problem is (IIRC) that FOP accepts only one resource locator, so we'd need to write one that works both with JNDI and file: urls  \nsdumitriu - (15:17): And I don't really know how to handle JNDI, so I left this option out  \nsdumitriu - (15:17): If you have more experience, feel free to try  \nDenis - (15:22): sdumitriu: hopelessly no, but wouldn't it be possible to hack a little in PDF impl, and if an JNDI url is returns, try to change it to a file: one ? (I do care less of PDF impl than the container component obviously)  \nsdumitriu - (15:22): Yes, possible  \nvmassol - (15:30): actually no xwiki-containers is not overengineering\u2026 it's needed to extract information from a native request for ex and move it to a container-independant XWikiURL object  \nvmassol - (15:30): (that was the original goal as I remember it)  \nmariusbutuc joined #xwiki at 15:40  \nplunden left #xwiki at 15:50  \njvdrean - (15:53): finally http://hudson.xwiki.org/job/xwiki-product-enterprise-tests-2.3/4/, starting the release in 30min  \nvmassol - (15:58): nice  \nvmassol - (15:58): hmm 2 failures on 2.2  \ngvallarelli joined #xwiki at 15:59  \ngvallarelli - (15:59): Hi  \nvmassol - (15:59): and 2 on trunk too  \nsdumitriu - (16:01): Hi gvallarelli  \njvelo left at 16:04 (Quit: Ex-Chat  \nflorinciu left at 16:04 (Read error: Connection reset by peer  \njvelociter joined #xwiki at 16:04  \njvelociter is now known as jvelo ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \njvelo left at 16:10 (Ping timeout: 240 seconds  \nflorinciu joined #xwiki at 16:10  \njvelociter joined #xwiki at 16:18  \nglerouge - (16:27): gvallarelli: but it means your computer was broken to begin with  \nglerouge - (16:27): not so rocking, is it?  \ngvallarelli - (16:28): yep but they solve my problems without have to wait weeks...  \ngvallarelli - (16:30): after 2 days from the request substituting all fault components. Anyway for about one year I have no problem with my laptop...  \nglerouge - (16:31): I was kidding ;)  \nsdumitriu - (16:33): glerouge: How many expensive Macs have broken in our team?  \nglerouge - (16:34): sdumitriu: none  \nsdumitriu - (16:34): A: Too many  \ngvallarelli - (16:34): glerouge, np I'm interested in your point of view  \nglerouge - (16:34): they have been repurposed  \nglerouge - (16:34): sure, some of them serve as office decoration  \nglerouge - (16:34): but it's a choice, not a fate  \njvdrean - (16:35): aha  \ngvallarelli - (16:35): repurposed? What does it mean?  \nglerouge - (16:36): used for another purpose  \nvmassol - (16:37): like paper weights  \nvmassol - (16:37): the ipad is good for that apparently  \nglerouge - (16:37): aha  \ngvallarelli - (16:38): :P  \ngvallarelli - (16:41): apple it's too expensive for me, also apple care costs about 100 euro over dell's extension guarantee  \ngvallarelli - (16:42): and I guess are the same components more or less...  \nvmassol - (16:42): nope not anymore  \nvmassol - (16:42): apple makes its own components now  \nvmassol - (16:42): ;)  \nvmassol - (16:42): (at least for the ipad)  \ngvallarelli - (16:44): ipad is not good (for me)but it will start multi-touch computing era :D  \njvelociter left at 16:45 (Remote host closed the connection  \nannacondan joined #xwiki at 16:58  \noanat left at 17:09 (Quit: Leaving.  \nmflorea left at 17:11 (Quit: Leaving.  \nmariusbutuc left at 17:14 (Quit: Leaving.  \nevalica left at 17:19 (Quit: Leaving.  \nEnygma` left at 17:22 (Quit: Leaving.  \nDenis - (17:31): sdumitriu: do you know why the id of the englobing tag in register.vm of registerinline.vm is \"mainContentArea\" and not \"xwikicontent\" ?  \nsdumitriu - (17:32): Denis: Should be both  \nsdumitriu - (17:32): Aren't there both?  \nCiprian left at 17:37 (Ping timeout: 240 seconds  \nflorinciu left at 17:58 (Read error: Connection reset by peer  \nxenon75 left at 18:09 (Quit: Leaving.  \njvdrean - (18:37): I'll restart the myxwiki.org server in 5min after the 2.3-rc-1 upgrade, shout if you need the server to stay up  \nvmassol - (18:39): cool  \nSvenDowideit left at 18:39 (Ping timeout: 246 seconds  \nKermitTheFragger left at 18:39 (Quit: Leaving  \ntmortagne left at 18:45 (Quit: Leaving.  \nSvenDowideit joined #xwiki at 18:45  \nglerouge left at 19:15 (Quit: Leaving.  \njvdrean left at 19:24 (Quit: Leaving.  \nsilviar left at 19:40 (Quit: Leaving.  \ngvallarelli - (19:45): vmassol, \u00a0a present for you \"Dum loquimur fugerit invida aetas: carpe diem, quam minimum credula postero.\"  \ngvallarelli - (19:45): ;)  \nvmassol - (19:45): carpe diem is ok the rest I don't know and my wife isn't here\u2026. ;)  \nvmassol - (19:45): http://en.wikipedia.org/wiki/Carpe\\_diem  \nvmassol - (19:46): While we speak, envious time will have {already} fled, Seize the day, trusting as little as possible in the next.  \nvmassol - (19:47): are you saying this because I've just turned 39? :)  \ngvallarelli - (19:48): During our talk, envious time will escape:  \ngvallarelli - (19:48): so take the day and live it with a sense of joy and happiness and don't trust the next day  \ngvallarelli - (19:49): because you don't know if you will live it  \ngvallarelli - (19:50): vmassol, \u00a0I don't know it so happy birthday :D  \nvmassol - (19:50): thxs  \ngvallarelli - (19:52): seize the day could be misinterpreted :D, a person can seize the day with cynicism  \nnpm left at 19:53 (Quit: Leaving.  \ngvallarelli - (19:58): vmassol, I find a more beautiful and useful interpretation  \ngvallarelli - (19:59): \" expect to pass through this life but once.  \ngvallarelli - (19:59): If, therefore there can be any kindness I can show or any good thing I can do for any fellow being let me do it now... Let me not defer it, or neglect it, For I shall not pass this way again. \"  \ngvallarelli - (20:00): \\*I  \nDenis left at 20:00 (Ping timeout: 276 seconds  \nnpm joined #xwiki at 20:04  \nvmassol - (20:05): grrr\u2026. I should have been more careful\u2026. I broke the build\u2026. fixing  \nDenis joined #xwiki at 20:06  \nDenis - (21:02): sdumitriu: no they aren't both, but why both ?  \nsdumitriu - (21:02): So that some skins work  \nsdumitriu - (21:02): They need both  \nxenon75 joined #xwiki at 21:02  \nxenon75 left at 21:03 (Client Quit  \nsdumitriu - (21:03): Hm, wait  \nsdumitriu - (21:04): I might have confused something  \nsdumitriu - (21:04): Denis: You're asking about xwikicontent?  \nsdumitriu - (21:05): xwikicontent is \"legacy\", and it's only used when real document content is used  \nDenis - (21:05): yes I am  \nsdumitriu - (21:05): Preview, view  \nDenis - (21:06): is there a place documenting such information ?  \nsdumitriu - (21:06): Nope  \nsdumitriu - (21:06): Live and learn, live and learn...  \nsdumitriu - (21:06): :)  \nDenis - (21:06): how do we know what is good then ?  \nsdumitriu - (21:07): Ask me  \nDenis - (21:07): so why both ? register is not document content ?  \nsdumitriu - (21:07): No  \nsdumitriu - (21:07): Register is a meta-page, not a \"real content\" page  \nDenis - (21:08): so no xwikicontent on it  \nsdumitriu - (21:08): XWIKI-1342  \nsdumitriu - (21:08): That's been open for quite a long time...  \nsdumitriu - (21:09): And it's critical  \nDenis - (21:10): yes I know, i know that so well since I have my own toucan implementation, that I maintain as much as I can...  \nDenis - (21:10): and this is really a pain  \nDenis - (21:11): but, it seems that 1342 has not been taken into account for colibri, isn't it ?  \nDenis - (21:15): sdumitriu: I have an SSX to put style on fieldset, and that should affect all forms that appear in the content, I had prefix it with #xwikicontent (and #lb), but this does not work for edit \u00a0and register action, what would be your advice ? .main ?  \nsdumitriu - (21:16): Yes, .main  \nsdumitriu - (21:16): That should be everywhere  \nsdumitriu - (21:17): #mainContentArea should also work in a modern wiki (it's been added everywhere in the default templates, used to be just in some of them)  \nlucaa joined #xwiki at 21:18  \nDenis - (21:18): you mean post 2.2 then ?  \nsdumitriu - (21:20): Yes  \nDenis - (21:24): ok, thanks, I was using .main before, but I have changed my mind, that was apparently a bad idea  \nDenis - (21:25): oh, I remember why\u2026  \nDenis - (21:26): sdumitriu: it was to avoid perturbing error messages and login forms. Is there a way to do so ?  \nsdumitriu - (21:27): Explicitely ignore them?  \nDenis - (21:27): these use fieldsets  \nDenis - (21:27): and are influenced by what I put when I use .main :(  \nDenis - (21:28): What I need is to influence fieldset used in content for forms, not \u00a0to influence existing usage of fieldsets  \nDenis - (21:31): .mainContentArea will not help more  \nLadySerena left at 21:34 (Ping timeout: 260 seconds  \ngvallarelli - (21:37): good evening/work/ :)  \ngvallarelli left at 21:38 (Quit: Sto andando via  \nmflorea joined #xwiki at 21:42  \nanamarias joined #xwiki at 21:43  \nannacondan left at 21:51 (Quit: annacondan  \nanamarias left at 22:01 (Quit: anamarias  \nanamarias joined #xwiki at 22:12  \nanamarias\\_ joined #xwiki at 22:13  \nplunden joined #xwiki at 22:13  \njvdrean joined #xwiki at 22:41  \nplunden left at 22:55 (Ping timeout: 276 seconds  \nbougie joined #xwiki at 23:06  \nvmassol left at 23:46 (Quit: Leaving.  \nmflorea left at 23:49 (Quit: Leaving.  \nanamarias left at 23:49 (Quit: anamarias  \nanamarias\\_ is now known as anamarias ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nanamarias left at 23:56 (Quit: anamarias  \n\n"}