{"id": "dev:IRC.xwikiArchive20150409", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150409", "title": "IRC Archive for channel #xwiki on 09 April 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n06:01\u00a0<Denis2>\u00a0has joined #xwiki  \n06:03\u00a0<Denis>\u00a0has quit  \n06:26\u00a0<spawn57\\_>\u00a0has left #xwiki  \n07:07\u00a0<msmeria>\u00a0has joined #xwiki  \n08:09\u00a0<woshilapin>\u00a0has joined #xwiki  \n08:11\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:16\u00a0<mflorea>\u00a0has joined #xwiki  \n08:18\u00a0<gsmeria>\u00a0has joined #xwiki  \n08:29\u00a0<vmassol>\u00a0has joined #xwiki  \n08:33\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:36\u00a0<vmassol>\u00a0has quit  \n08:51\u00a0<lucaa>\u00a0has quit  \n08:56\u00a0<woshilapin>\u00a0has quit  \n09:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:12\u00a0<vmassol>\u00a0has joined #xwiki  \n09:26\u00a0<evalica>\u00a0has joined #xwiki  \n09:33\u00a0<tmortagne>\u00a0vmassol: most UI test are failing because of java.lang.ClassNotFoundException: org.xwiki.resource.servlet.RoutingFilter  \n09:33\u00a0<tmortagne>\u00a0probably some missing mandatory jar or something like this  \n09:34\u00a0<Slashman>\u00a0has joined #xwiki  \n09:34\u00a0<vmassol>\u00a0tmortagne: just fixed, thanks  \n09:34\u00a0<vmassol>\u00a0now it's failing with:  \n09:35\u00a0<vmassol>\u00a0java.lang.ClassNotFoundException: com.xpn.xwiki.plugin.charts.CustomXWikiRenderingEngine  \n09:35\u00a0<vmassol>\u00a0I'll leave that one to you :)  \n09:36\u00a0<lucaa>\u00a0has joined #xwiki  \n09:38\u00a0<tmortagne>\u00a0vmassol: where do you get this error ?  \n09:38\u00a0<vmassol>\u00a0when starting XE  \n09:38\u00a0<tmortagne>\u00a0vmassol: https://github.com/xwiki/xwiki-enterprise/commit/2fb80526b7ba37ec8d4a7239858631c821fd5d50 is not going to help platform tests  \n09:38\u00a0<vmassol>\u00a0hsqldb+jetty  \n09:39\u00a0<vmassol>\u00a0hmm indeed  \n09:39\u00a0<vmassol>\u00a0fixing  \n09:39\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:43\u00a0<lucaa>\u00a0has quit  \n09:45\u00a0<lucaa>\u00a0has joined #xwiki  \n09:48\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:51\u00a0<vmassol>\u00a0I've added the new resource-servlet module to the packagemojo but \u00a0I still have a problem  \n09:51\u00a0<vmassol>\u00a0I'll still commit it for now  \n09:53\u00a0<vmassol>\u00a0(going to be out of battery soon, I'm at the devoxx keynote ATM)  \n09:56\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:01\u00a0<vmassol>\u00a0has quit  \n10:07\u00a0<cjd>\u00a0has joined #xwiki  \n10:13\u00a0<gdelhumeau>\u00a0has quit  \n10:21\u00a0<cjd>\u00a0has quit  \n10:26\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:41\u00a0<cjd>\u00a0has joined #xwiki  \n10:44\u00a0<lucaa1>\u00a0has joined #xwiki  \n10:47\u00a0<lucaa2>\u00a0has joined #xwiki  \n10:50\u00a0<lucaa1>\u00a0has quit  \n10:51\u00a0<lucaa2>\u00a0has quit  \n10:54\u00a0<vmassol>\u00a0has joined #xwiki  \n10:58\u00a0<Chuguniy>\u00a0has joined #xwiki  \n11:12\u00a0<Trefex>\u00a0has joined #xwiki  \n11:21\u00a0<spawn57\\_>\u00a0has joined #xwiki  \n11:22\u00a0<spawn57\\_>\u00a0Hi, does anyone know how to update an object a property attached to a page using the REST API. \u00a0I can't figure out how to do it with jquery  \n11:31\u00a0<Denis2>\u00a0is now known as <Denis>  \n11:46\u00a0<lucaa1>\u00a0has joined #xwiki  \n11:52\u00a0<lucaa1>\u00a0has quit  \n11:56\u00a0<Trefex>\u00a0has quit  \n12:06\u00a0<vmassol>\u00a0has quit  \n12:30\u00a0<evalica>\u00a0has quit  \n12:49\u00a0<evalica>\u00a0has joined #xwiki  \n13:02\u00a0<lucaa>\u00a0has quit  \n13:37\u00a0<Chuguniy>\u00a0has quit  \n13:38\u00a0<Chuguniy>\u00a0has joined #xwiki  \n14:09\u00a0<lucaa>\u00a0has joined #xwiki  \n14:45\u00a0<gdelhumeau>\u00a0it seems platform is broken  \n14:52\u00a0<gdelhumeau>\u00a0Caused by: org.xwiki.component.manager.ComponentLookupException: Failed to lookup component [org.xwiki.webjars.internal.WebjarsResourceReferenceSerializer] identified by [role = [org.xwiki.resource.ResourceReferenceSerializer<org.xwiki.webjars.internal.WebJarsResourceReference, org.xwiki.url.ExtendedURL>] hint = [default]]  \n15:02\u00a0<msmeria>\u00a0has quit  \n15:04\u00a0<Trefex>\u00a0has joined #xwiki  \n15:06\u00a0<vmassol>\u00a0has joined #xwiki  \n15:20\u00a0<vmassol>\u00a0has quit  \n15:20\u00a0<tmortagne>\u00a0vmassol: there is still a lot of failing build related to resources changes  \n15:20\u00a0<tmortagne>\u00a0too late  \n15:34\u00a0<gsmeria>\u00a0has quit  \n15:36\u00a0<gdelhumeau>\u00a0I also have Caused by:  \n15:36\u00a0<gdelhumeau>\u00a0java.lang.ClassNotFoundException: com.xpn.xwiki.plugin.charts.CustomXWikiRenderingEngine  \n15:53\u00a0<tmortagne>\u00a0gdelhumeau: where do you get this one ?  \n15:53\u00a0<gdelhumeau>\u00a0I did a full rebuild on XE locally  \n15:53\u00a0<gdelhumeau>\u00a0and I get it as soon as I start jetty  \n15:53\u00a0<gdelhumeau>\u00a0\\*off XE  \n15:53\u00a0<gdelhumeau>\u00a0\\*of XE  \n15:53\u00a0<gdelhumeau>\u00a0but not of platform  \n15:54\u00a0<tmortagne>\u00a0could you give me the full stack trace, this class is supposed to be used only for xwiki/1.0 content with old chart macro  \n15:56\u00a0<gdelhumeau>\u00a0http://hastebin.com/ramokinoce.vhdl  \n15:57\u00a0<tmortagne>\u00a0hmm it does not make much sense, this class and its component.txt are both in xwiki-platform-chart-macro10  \n15:58\u00a0<tmortagne>\u00a0hmm wait  \n15:58\u00a0<tmortagne>\u00a0looks like it's actually duplicated in another module  \n15:58\u00a0<tmortagne>\u00a0the components.txt declaration  \n16:00\u00a0<tmortagne>\u00a0gdelhumeau: did you built XE with legacy module ? sounds like you did not  \n16:01\u00a0<tmortagne>\u00a0if you did then there is another bug  \n16:02\u00a0<gdelhumeau>\u00a0hmm I did not indeed  \n16:02\u00a0<gdelhumeau>\u00a0but XWiki is not supposed to work without legacy moduleS?  \n16:03\u00a0<tmortagne>\u00a0it is but this issue would not have been visible if you built it with legacy module and jenkins build XE with legacy module by default  \n16:03\u00a0<tmortagne>\u00a0I was just wondering how you ended up seeing this  \n16:04\u00a0<gdelhumeau>\u00a0that is why I had a different behaviour when I used the snapshot  \n16:05\u00a0<gdelhumeau>\u00a0maybe we should have a jenkins job without legacy modules BTW?  \n16:06\u00a0<lucaa>\u00a0has quit  \n16:14\u00a0<woshilapin>\u00a0Hi devs, I came with an idea but don't know if it's good or not :-)  \n16:14\u00a0<woshilapin>\u00a0Should we put repository for XWiki Nexus into the pom for platform and applications  \n16:14\u00a0<woshilapin>\u00a0This way, we may not depend on an external settings.xml well configured  \n16:14\u00a0<woshilapin>\u00a0Does it make any sense?  \n16:15\u00a0<cjd>\u00a0proposed and killed -- basically the problem is it ends up pushing our internal repo into maven central  \n16:15\u00a0<woshilapin>\u00a0Don't understand  \n16:15\u00a0<cjd>\u00a0an alternative idea would be a \"super build\" which wraps it and we use the super build unless we're releasing to maven central, then use the sub build  \n16:17\u00a0<cjd>\u00a0if platform is not pushed to central then there's no good reason  \n16:19\u00a0<lucaa>\u00a0has joined #xwiki  \n16:20\u00a0<tmortagne>\u00a0woshilapin: where would you put that ? in each and every pom.xml ?  \n16:20\u00a0<woshilapin>\u00a0First, I thought mainly about extensions and they all depend from a parent pom in common  \n16:20\u00a0<woshilapin>\u00a0Not sure for Xwiki platform  \n16:20\u00a0<cjd>\u00a0mmm commons does indeed get pushed to central...  \n16:20\u00a0<tmortagne>\u00a0we are not allowed to put custom repository in anything deployed to maven central as cjd indicated  \n16:21\u00a0<tmortagne>\u00a0so we can't put that in common pom  \n16:21\u00a0<woshilapin>\u00a0Is it possible to create an intermediate parent pom for this purpose  \n16:22\u00a0<woshilapin>\u00a0I mean, it would be interesting that I just clone an extension, run mvn clean install, and boom, I have my extension  \n16:22\u00a0<woshilapin>\u00a0But it's not possible at the moment  \n16:22\u00a0<cjd>\u00a0and every other purpose where we have different needs than central...  \n16:22\u00a0<cjd>\u00a0yeah, \"copy this file into your .m2\" is really an ugly hack  \n16:23\u00a0<tmortagne>\u00a0you still need to find this famous parent pom  \n16:23\u00a0<cjd>\u00a0hmm that's an issue, maven can't comprehend directory trees  \n16:23\u00a0<tmortagne>\u00a0if it's not in maven central then you need to put your repository in each extension  \n16:24\u00a0<tmortagne>\u00a0cjd: nothing to do with directory tree  \n16:24\u00a0<woshilapin>\u00a0Ah, yes, indeed  \n16:24\u00a0<cjd>\u00a0right, just got that after you said it  \n16:24\u00a0<tmortagne>\u00a0if you just clone an extension you obviously don't have this common paren  \n16:26\u00a0<cjd>\u00a0we could imagine putting a repo url in the root of each project but then there's the issue with directory trees not working  \n16:27\u00a0<tmortagne>\u00a0cjd: actually it does, when you build a submodule maven first search for the parent in .. before downloading it  \n16:27\u00a0<cjd>\u00a0ok then it's a solvable issue  \n16:27\u00a0<tmortagne>\u00a0it steal means adding this repository in all extensions  \n16:28\u00a0<tmortagne>\u00a0now any contrib extension author is free to do it  \n16:28\u00a0<tmortagne>\u00a0s/steal/steel/  \n16:28\u00a0<cjd>\u00a0just drop the url of our repo in the root of platform and enterprise and promoting it as a default way to make a pom for an xwiki extension  \n16:29\u00a0<tmortagne>\u00a0the best would be to deploy platform to maven central but we have thing to fix before  \n16:29\u00a0<tmortagne>\u00a0first of which being the custom builds we have in maven.xwiki.org/externals  \n16:30\u00a0<cjd>\u00a0well if it's going to take 3 months of actual work -- and getting that pushed through roadmap will take 12 months of discussion -- then the best thing to do is something where we have results tomorrow  \n16:31\u00a0<cjd>\u00a0I don't know the numbers, I'm just making things up, but if an engineer says a day then it's 2 weeks, etc..  \n16:32\u00a0<tmortagne>\u00a0would take much more than that IMO, anyway we already described the only other alternative: any extension author can put the xwiki nexus repository so he can do it anytime  \n16:33\u00a0<cjd>\u00a0yeah, we just have to promote it as \"the way\" (pending a better \"the way\")  \n16:33\u00a0<cjd>\u00a0because people don't know  \n16:33\u00a0<tmortagne>\u00a0well that's the standard maven way but sure we can talk about it on http://contrib.xwiki.org/  \n16:36\u00a0<woshilapin>\u00a0I can send a [Proposal] for a new standard on devs list for example  \n16:36\u00a0<tmortagne>\u00a0sure  \n16:36\u00a0<tmortagne>\u00a0it's more a contrib standard than a dev standard  \n16:37\u00a0<cjd>\u00a0well having it in platform and enterprise is of value if we expect users to be able to change and build the code...  \n16:37\u00a0<woshilapin>\u00a0Is there a contrib mailing list? \u00a0Or is dev the best to propose that (or users?)?  \n16:37\u00a0<tmortagne>\u00a0dev mailing list is probably the best yes right now  \n16:37\u00a0<woshilapin>\u00a0ok, I'll send one mail  \n16:41\u00a0<DarkKnightCZ>\u00a0has quit  \n16:43\u00a0<lucaa>\u00a0has quit  \n16:44\u00a0<lucaa>\u00a0has joined #xwiki  \n16:49\u00a0<woshilapin>\u00a0Done  \n16:51\u00a0<tmortagne>\u00a0has quit  \n16:54\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:55\u00a0<woshilapin>\u00a0has quit  \n16:56\u00a0<woshilapin>\u00a0has joined #xwiki  \n16:58\u00a0<KermitTheFragger>\u00a0has quit  \n18:01\u00a0<Bugendolf>\u00a0has quit  \n18:08\u00a0<gdelhumeau>\u00a0has quit  \n18:11\u00a0<evalica>\u00a0has quit  \n18:13\u00a0<Trefex>\u00a0has quit  \n18:24\u00a0<Bugendolf>\u00a0has joined #xwiki  \n18:32\u00a0<woshilapin>\u00a0has quit  \n18:45\u00a0<tmortagne>\u00a0has quit  \n18:57\u00a0<lucaa>\u00a0has quit  \n19:04\u00a0<cjd>\u00a0has quit  \n19:24\u00a0<woshilapin>\u00a0has joined #xwiki  \n20:03\u00a0<mflorea>\u00a0has quit  \n20:06\u00a0<Bugen\\_do>\u00a0has joined #xwiki  \n20:07\u00a0<Slashman>\u00a0has quit  \n20:19\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:31\u00a0<tmortagne>\u00a0has quit  \n20:37\u00a0<Enygma`>\u00a0has quit  \n21:02\u00a0<martin-h>\u00a0has quit  \n21:44\u00a0<martin-h>\u00a0has joined #xwiki  \n21:48\u00a0<martin-h>\u00a0has quit  \n21:55\u00a0<mflorea>\u00a0has joined #xwiki  \n22:10\u00a0<Chuguniy>\u00a0has quit  \n22:38\u00a0<Bugen\\_do>\u00a0has quit  \n23:02\u00a0<mflorea>\u00a0has quit  \n23:23\u00a0<Chuguniy>\u00a0has joined #xwiki\n"}