{"id": "dev:IRC.xwikiArchive20150219", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20150219", "title": "IRC Archive for channel #xwiki on 19 February 2015 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Trefex>\u00a0has quit  \n06:51\u00a0<mflorea>\u00a0has joined #xwiki  \n07:32\u00a0<ClemensR>\u00a0has joined #xwiki  \n08:14\u00a0<vmassol>\u00a0has joined #xwiki  \n08:23\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n08:57\u00a0<mflorea>\u00a0has quit  \n09:07\u00a0<cjd>\u00a0has joined #xwiki  \n09:19\u00a0<lucaa>\u00a0has quit  \n09:29\u00a0<cjd>\u00a0has quit  \n09:41\u00a0<cjd>\u00a0has joined #xwiki  \n09:49\u00a0<Denis>\u00a0has joined #xwiki  \n09:54\u00a0<lucaa>\u00a0has joined #xwiki  \n09:55\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:56\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:56\u00a0<woshilapin>\u00a0has quit  \n09:56\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:57\u00a0<mflorea>\u00a0has joined #xwiki  \n09:58\u00a0<vmassol1>\u00a0has joined #xwiki  \n09:59\u00a0<vmassol>\u00a0has quit  \n10:04\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n10:05\u00a0<DarkKnightCZ>\u00a0Hi, where can i find command for Wysiwyg command manager? I want to insert text using xwiki syntax (if possible)  \n10:05\u00a0<vmassol1>\u00a0DarkKnightCZ: use the source tab or the wiki editor?  \n10:05\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n10:06\u00a0<DarkKnightCZ>\u00a0wiki editor  \n10:06\u00a0<vmassol>\u00a0you lost me :)  \n10:07\u00a0<vmassol>\u00a0if you're in the wiki editor then you can enter wiki markup  \n10:07\u00a0<DarkKnightCZ>\u00a0well, there is wysiwyg editor (not the source tab), there is also javascript API (i.e. CommandManager) that can be used to automatically insert values  \n10:08\u00a0<DarkKnightCZ>\u00a0i know it has command inserthtml, but that inserts html, not plain text, and i want to insert image using that  \n10:09\u00a0<ClemensR>\u00a0I think you can actually insert the HTML \u00a0and this gets transformed into wiki syntax on save  \n10:10\u00a0<vmassol>\u00a0DarkKnightCZ: I'll let other answer because I have no idea what CommandManager is :)  \n10:10\u00a0<DarkKnightCZ>\u00a0yup :) http://extensions.xwiki.org/xwiki/bin/view/Extension/WYSIWYG+Editor+Module#HCommandManager  \n10:11\u00a0<DarkKnightCZ>\u00a0ClemensR: that's possible, but there still has to be some command for plain text (and insert / inserttext / insertplain isn't correct)  \n10:12\u00a0<ClemensR>\u00a0I remember some parter at the university wrote an XWiki extension that made wild things with existing text in the edito too, and I helped them fixing it up for the current editor, but I forgot abut the details  \n10:12\u00a0<DarkKnightCZ>\u00a0yup, if i insert <image /> tag, it get's converted into xwiki syntax  \n10:13\u00a0<ClemensR>\u00a0I know the code is in one of the xar files here: https://github.com/ag-csw/XWikiLinkRecommender/tree/master/resources/xwiki ...  \n10:13\u00a0<ClemensR>\u00a0that code is not using help from the CommandManager, but happily hacks into the iframe of the editor I think ....  \n10:15\u00a0<Slashman>\u00a0has joined #xwiki  \n10:15\u00a0<vmassol>\u00a0gdelhumeau: hi  \n10:15\u00a0<gdelhumeau>\u00a0hi  \n10:15\u00a0<vmassol>\u00a0would you remember any code that could have caused http://jira.xwiki.org/browse/XWIKI-11811 ?  \n10:17\u00a0<vmassol>\u00a0mflorea: it's too bad that in the user displayer we cannot see the reference of the user at all (for example by hovering with the mouse or in some other way). I'll create an issue  \n10:18\u00a0<gdelhumeau>\u00a0checking  \n10:21\u00a0<mflorea>\u00a0vmassol: why do you need the reference?  \n10:21\u00a0<mflorea>\u00a0that info are you missing?  \n10:22\u00a0<vmassol>\u00a0mflorea: http://jira.xwiki.org/browse/XWIKI-11813  \n10:22\u00a0<mflorea>\u00a0I will close it as won't fix  \n10:22\u00a0<mflorea>\u00a0I don't understand what you are missing  \n10:23\u00a0<mflorea>\u00a0vmassol: the displayer shows the wiki  \n10:23\u00a0<mflorea>\u00a0if you don't see the wiki then it's from the current wiki  \n10:23\u00a0<vmassol>\u00a0I'm on the main wiki!  \n10:23\u00a0<vmassol>\u00a0so that's not true  \n10:24\u00a0<mflorea>\u00a0see https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-flamingo/xwiki-platform-flamingo-skin/src/main/resources/flamingo/macros.vm#L250  \n10:24\u00a0<vmassol>\u00a0actually it seems the issue is in edit mode only, I can see the wiki in view mode (didn't notice it before)  \n10:25\u00a0<vmassol>\u00a0check the screenshot mflorea  \n10:25\u00a0<vmassol>\u00a0you'll see it's not displayed in edit mode  \n10:26\u00a0<vmassol>\u00a0I've updated the issue title  \n10:28\u00a0<mflorea>\u00a0ok, I will handle it  \n10:29\u00a0<vmassol>\u00a0it's not as bad as I thought  \n10:29\u00a0<vmassol>\u00a0I thgout it wasn't displayed at all initially  \n10:29\u00a0<vmassol>\u00a0(I missed it in the view mode)  \n10:29\u00a0<vmassol>\u00a0thanks  \n10:29\u00a0<mflorea>\u00a0I missed to show the wiki in https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-web/src/main/webapp/resources/uicomponents/widgets/userpicker/userPicker.js#L84  \n10:30\u00a0<vmassol>\u00a0ok  \n10:34\u00a0<vmassol>\u00a0gdelhumeau: should I let you handle http://jira.xwiki.org/browse/XWIKI-11811 for today's BFD?  \n10:34\u00a0<gdelhumeau>\u00a0yes I'm on it  \n10:34\u00a0<vmassol>\u00a0ok I'll move to something else then  \n10:35\u00a0<evalica>\u00a0has joined #xwiki  \n10:35\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:42\u00a0<ClemensR>\u00a0I know on BFD most people cares about their \"own\" bugs, but still if anyone finds time to look at my fix for XWIKI-11476 that would be nice  \n10:50\u00a0<Denis>\u00a0vmassol: you said \"it's too bad that in the user displayer we cannot see the reference of the user at all\", and you are right. I found the issue first, I noticed next that reloading the page allows to see it for a very very short time, and finally we would have catch it faster with true user name, since the pretty name of the user will have not been displayed  \n10:52\u00a0<cjd>\u00a0has quit  \n10:56\u00a0<cjd>\u00a0has joined #xwiki  \n11:12\u00a0<vmassol>\u00a0Denis: maybe you can comment on XWIKI-11813 ?  \n11:13\u00a0<ClemensR>\u00a0random note: on e.x.o the anonymous user sees \"Ratings\" as its \"Recent Modification\" ;)  \n11:16\u00a0<lucaa1>\u00a0has joined #xwiki  \n11:18\u00a0<lucaa>\u00a0has quit  \n11:18\u00a0<DarkKnightCZ>\u00a0ClemensR: so if i insert the image using \"inserthtml\" command, it gets inserted and displayed, but it's saved wrongly... if i insert absolute url with domain, it works, but i would like to avoid that  \n11:18\u00a0<woshilapin>\u00a0has quit  \n11:22\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:25\u00a0<ClemensR>\u00a0DarkKnightCZ: how does the HTML look like if you insert an image via the Editor UI ? You can check i.e. with dev tools or firebug ... I think XWiki wants to see some html comments around the img tag to figure out it is an XWiki image  \n11:26\u00a0<DarkKnightCZ>\u00a0ClemensR: [[image:/xwiki/wiki/test/download/Development/Testing/image.jpg]], i believe there is just sample parser for <img> tag  \n11:26\u00a0<DarkKnightCZ>\u00a0i've also found there is \"insertimage\" command, don't know how it works yet  \n11:27\u00a0<ClemensR>\u00a0DarkKnightCZ: well, this is the wiki syntax, but what does the HTML in the editor look like ? \u00a0... ah, ok, and I did not know about the \"insertimage\" command (only messed with links, sorry), maybe Ishould look that up first  \n11:28\u00a0<vmassol>\u00a0ClemensR: hmm intereting re Ratings  \n11:28\u00a0<vmassol>\u00a0we need to find out why now\u2026 could be a bug  \n11:28\u00a0<DarkKnightCZ>\u00a0ClemensR: the img tag is good, the image is displayed, but then the translation to xwiki syntax messes that up... going to debug that insertimage command  \n11:28\u00a0<ClemensR>\u00a0after all the page \\*is\\* creatred by an anonymous user ... I guess some \"automatic install\" ?  \n11:29\u00a0<vmassol>\u00a0ok it's not really recent modifications  \n11:29\u00a0<vmassol>\u00a0it's the last 5 modifications  \n11:30\u00a0<vmassol>\u00a0so it must mean this page was last saved by the guest user, that's what we need to check  \n11:30\u00a0<vmassol>\u00a0indeed: http://extensions.xwiki.org/xwiki/bin/view/XWiki/Ratings#History  \n11:52\u00a0<lucaa1>\u00a0has quit  \n12:10\u00a0<lucaa>\u00a0has joined #xwiki  \n12:18\u00a0<Denis>\u00a0has quit  \n12:19\u00a0<Denis>\u00a0has joined #xwiki  \n12:19\u00a0<DarkKnightCZ>\u00a0ClemensR: in case you're interested, commands are listed here - https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-gwt/xwiki-platform-gwt-user/src/main/java/org/xwiki/gwt/user/client/ui/rta/cmd/Command.java , but i'm still not able to use insertimage command (but insert image tab does this, so debugging that now)  \n12:22\u00a0<DarkKnightCZ>\u00a0maybe somebody could add that link to http://extensions.xwiki.org/xwiki/bin/view/Extension/WYSIWYG+Editor+Module#HCommandManager  \n12:26\u00a0<vmassol>\u00a0ClemensR: thanks for looking into the \"deleted wiki\" issue :)  \n12:26\u00a0<vmassol>\u00a0(it's great)  \n12:26\u00a0<ClemensR>\u00a0DarkKnightCZ: I guess the handle for the command is here, \u00a0but I donot usdestand the code ... https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-wysiwyg/xwiki-platform-wysiwyg-client/src/main/java/org/xwiki/gwt/wysiwyg/client/plugin/image/exec/InsertImageExecutable.java  \n12:27\u00a0<ClemensR>\u00a0vmassol: ok, I think I am committed to actually do something about it now ;)  \n12:28\u00a0<DarkKnightCZ>\u00a0yup, found that too, obviously the insertimage command takes URL as argument, but when trying that manually via js console, it just doesn't output anything (it should return true/false, but it looks like it's not even called), so for now i'm just using full url with domain name  \n12:29\u00a0<sburjan``>\u00a0has joined #xwiki\n"}