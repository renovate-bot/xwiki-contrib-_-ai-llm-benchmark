{"id": "dev:IRC.xwikiArchive20100121", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100121", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nxwiki-bridge - (00:02): [vmassol] !news  \nxwiki-bridge - (00:03): [vmassol] hmm the avatar doesn't appear on the dashboard even though I've set it....   \nxwiki-bridge - (00:04): [vmassol] but I doubt this is caused by my changes  \nCalebJamesDeLisl left at 02:14 (  \nSvenDowideit left at 02:36 (barjavel.freenode.net irc.freenode.net  \nnuvolari left at 02:36 (barjavel.freenode.net irc.freenode.net  \nxipe left at 02:36 (barjavel.freenode.net irc.freenode.net  \nLukemon\\_ left at 02:36 (barjavel.freenode.net irc.freenode.net  \nSvenDowideit joined #xwiki at 02:36  \nxipe joined #xwiki at 02:36  \nLukemon\\_ joined #xwiki at 02:36  \nnuvolari joined #xwiki at 02:36  \nsunny\\_slls joined #xwiki at 04:05  \nsunny\\_slls left #xwiki at 04:06  \nlucaa left at 09:04 (\"Leaving.\"  \nvmassol joined #xwiki at 09:09  \nvmassol - (09:10): !news  \nEnygma` joined #xwiki at 09:16  \nxwiki-bridge - (09:19): \\* sdumitriu has set the subject to: XWiki Chat - http://www.xwiki.org/  \nlucaa joined #xwiki at 09:36  \nxwiki-bridge - (10:02): [Vincent Massol] sdumitriu: do you knwo the format of objects in the URL? (the classname param for ObjectAddForm)  \nxwiki-bridge - (10:02): [Vincent Massol] can it contain the wiki or is it always space.page  \nxwiki-bridge - (10:02): [Vincent Massol] ?  \nxwiki-bridge - (10:13): [Vincent Massol] hi tmortagne  \nxwiki-bridge - (10:13): [Vincent Massol] do you knwo the format of objects in the URL? (the classname param for ObjectAddForm)  \nxwiki-bridge - (10:13): [Vincent Massol] can it contain the wiki or is it always space.page?  \nxwiki-bridge - (10:14): [Vincent Massol] not sure from what UI to verify this  \nvmassol\\_ joined #xwiki at 10:14  \nxwiki-bridge - (10:14): [lucaa] Vincent Massol: isn't that a panel the one that adds objects?  \nxwiki-bridge - (10:15): [lucaa] ('morning)  \nvmassol left at 10:15 (\"Leaving.\"  \nxwiki-bridge - (10:16): [vmassol] lucaa: I tried using it but we don't see the URL  \nxwiki-bridge - (10:18): [vmassol] I guess it's all ajax now  \nxwiki-bridge - (10:18): [lucaa] but it still should be in some code the url  \nxwiki-bridge - (10:19): [vmassol] sure but if someone knows it's even easier  \nxwiki-bridge - (10:19): [lucaa] of course  \nxwiki-bridge - (10:23): [tmortagne] vmassol: i don't remember exactly what is the format, it's possible the wiki is not supported since it's pretty old  \nxwiki-bridge - (10:24): [vmassol] grr  \nxwiki-bridge - (10:24): [vmassol] this guy keeps creating pages to ask questions  \nxwiki-bridge - (10:29): [vmassol] ok I'll use a local serializer  \narkub joined #xwiki at 10:34  \njvdrean joined #xwiki at 10:42  \nkibaho1 joined #xwiki at 10:50  \nxwiki-bridge - (11:14): [vmassol] update from jabber guys: it may still be rough for the coming 1-2 days as they move to a new server  \nCalebJamesDeLisl joined #xwiki at 11:16  \nplunden1 joined #xwiki at 11:48  \nxwiki-bridge - (11:57): [vmassol] tmortagne: fyi yesterday I got an error with lucene index that couldn't be created on startup (on a trunk XE)  \nxwiki-bridge - (11:58): [tmortagne] which error ?  \nxwiki-bridge - (11:59): [vmassol] I haven't kept it unfortunately  \nxwiki-bridge - (11:59): [tmortagne] note that when there is corrupted index for any reason Lucene plugin logs it and try to recreate it  \nxwiki-bridge - (11:59): [vmassol] was a file pb about creating index from the top of my head  \nxwiki-bridge - (11:59): [tmortagne] better make it a warnin, i'm checking  \nxwiki-bridge - (12:03): [lucaa] vmassol: I wrote this test for the default resolver:  \nxwiki-bridge - (12:03): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// test that escaping a page separator in the object name stays escaped  \nxwiki-bridge - (12:03): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reference = resolver.resolve(\"wiki:space.page^xwi\\\\.ki.class[0]\", EntityType.OBJECT);  \nxwiki-bridge - (12:03): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"wiki\", reference.extractReference(EntityType.WIKI).getName());  \nxwiki-bridge - (12:03): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"space\", reference.extractReference(EntityType.SPACE).getName());  \nxwiki-bridge - (12:04): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"page\", reference.extractReference(EntityType.DOCUMENT).getName());  \nxwiki-bridge - (12:04): [lucaa] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"xwi\\\\.ki.class[0]\", reference.getName());  \nxwiki-bridge - (12:04): [lucaa] and it fails. Is it hard to fix?  \nxwiki-bridge - (12:06): [lucaa] actually it works if I escape the escape:  \nxwiki-bridge - (12:06): [lucaa] actually no need, it works if I escape i  \nxwiki-bridge - (12:06): [lucaa] this I meant, bad paste  \nxwiki-bridge - (12:06): [lucaa] reference = resolver.resolve(\"wiki:space.page^xwi\\\\\\\\.ki.class[0]\", EntityType.OBJECT);  \nxwiki-bridge - (12:06): [lucaa] so there's a way to workaround that  \nxwiki-bridge - (12:22): [vmassol] lucaa: so does it work or not?  \nxwiki-bridge - (12:22): [vmassol] :)  \nxwiki-bridge - (12:22): [lucaa] to escape yes, but I need to escape twice  \nxwiki-bridge - (12:22): [vmassol] note that I already have a test for escapes  \nxwiki-bridge - (12:23): [vmassol] twice meaning?  \nxwiki-bridge - (12:23): [lucaa] meaning \\\\\\\\.  \nxwiki-bridge - (12:23): [vmassol] that shouldn't be necessary  \nxwiki-bridge - (12:23): [vmassol] my tests have only 2 AFAIR  \nxwiki-bridge - (12:24): [vmassol] checking  \nxwiki-bridge - (12:24): [lucaa] I mean, if I want to have a class name in the object name, that has a . in the name of the document, I would need to have it escaped when I get the object name, to be able to parse that as document reference  \nxwiki-bridge - (12:24): [lucaa] if I want to get through the resolver for object references, I need to escape it 4 times  \nxwiki-bridge - (12:24): [vmassol] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reference = resolver.resolve(\"wiki1.wiki2:wiki3:some.space.page\", EntityType.DOCUMENT);  \nxwiki-bridge - (12:24): [vmassol] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"wiki1.wiki2:wiki3:some\\\\.space.page\", serializer.serialize(reference));  \nxwiki-bridge - (12:24): [vmassol]   \nxwiki-bridge - (12:24): [vmassol] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0reference = resolver.resolve(\"some.space.page\", EntityType.DOCUMENT);  \nxwiki-bridge - (12:24): [vmassol] \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Assert.assertEquals(\"xwiki:some\\\\.space.page\", serializer.serialize(reference));  \nxwiki-bridge - (12:24): [lucaa] sorry 2 times  \nxwiki-bridge - (12:24): [vmassol] this works fine  \nxwiki-bridge - (12:25): [vmassol] so I don't see a bug in the current code  \nxwiki-bridge - (12:25): [lucaa] no, it's not a bug  \nxwiki-bridge - (12:26): [lucaa] what happens is that the original escape is not preserved  \nxwiki-bridge - (12:26): [lucaa] normally I can have a . in the object name, right?  \nxwiki-bridge - (12:26): [lucaa] since it;s not separator  \nxwiki-bridge - (12:26): [vmassol] lucaa: are you talking about existing code or about the new implementation for objects refs?  \nxwiki-bridge - (12:26): [vmassol] if it's the about new impl I haven't seen teh code so I don't know what you've done and hwo you've coded it  \nxwiki-bridge - (12:26): [lucaa] i'm talking about new impl using the existing resolver  \nxwiki-bridge - (12:27): [lucaa] I haven't coded anything in this direction  \nxwiki-bridge - (12:27): [vmassol] yes '.' in objeect name should be fine  \nxwiki-bridge - (12:27): [lucaa] so, if I put . and \\\\. in the object name, they are both transformed to . when I get the name of that ref  \nxwiki-bridge - (12:27): [lucaa] it's probably normal...  \nxwiki-bridge - (12:27): [lucaa] and I think it would be the same for attachment names  \nxwiki-bridge - (12:27): [lucaa] lemme try  \nxwiki-bridge - (12:28): [vmassol] it's normal that unnecessary escapes are removed  \nxwiki-bridge - (12:28): [vmassol] it's a feature  \nxwiki-bridge - (12:28): [vmassol] (removed when serialized I mean)  \nxwiki-bridge - (12:28): [lucaa] not when serialized, when getName()d   \nxwiki-bridge - (12:28): [vmassol] I have to go for lunch, bb after  \nxwiki-bridge - (12:29): [lucaa] bon ap  \nxwiki-bridge - (12:39): [CalebJamesDeLisle] I just discovered that velocity assigns nulls in #set directives (counter to the reference guide.)  \nxwiki-bridge - (12:43): [CalebJamesDeLisle] \"If the RHS evaluates to null, it is not \u00a0assigned to the LHS.\" What they don't say is whatever WAS assigned to LHS is no longer assigned either.  \nlucaa - (12:44): our velocity?  \nlucaa - (12:44): didn't we enable that a (short) while ago? or was it something else?  \nxwiki-bridge - (12:45): [lucaa] CalebJamesDeLisle: http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise22M1#HDevelopmentimprovements  \nxwiki-bridge - (12:46): [CalebJamesDeLisle] Yes our Velocity, I wasn't aware of it, I'll look.  \nxwiki-bridge - (12:47): [CalebJamesDeLisle] \"Allow set to null in velocity\" Thanks. Makes coding easier but it was confusing not knowing about it :)  \nxwiki-bridge left at 12:47 (Remote closed the connection  \nxwiki-bridge joined #xwiki at 12:48  \nxwiki-bridge - (12:48): \\* sdumitriu has set the subject to: XWiki Chat - http://www.xwiki.org/  \nxwiki-bridge - (12:48): [CalebJamesDeLisle] Maybe I will make a note in the scripting howto.  \nxwiki-bridge - (12:48): [lucaa] yes, should be there too, maybe a link to all the development improvements  \nxwiki-bridge - (12:48): [lucaa] or a warn to check them out for the version one is using  \nxwiki-bridge - (12:49): [CalebJamesDeLisle] Maybe there should be a compatibility entry in the configuration because this will break code.  \nxwiki-bridge - (12:50): [lucaa] iirc there was a vote about it, or at least a thread on the ml  \nxwiki-bridge - (12:50): [lucaa] you should check that out to see what devs said about it  \nxwiki-bridge - (12:51): [CalebJamesDeLisle] It must have got past me with the torrent of email which comes in.  \nxwiki-bridge - (13:24): [anamarias] can page names with . character be created?  \nxwiki-bridge - (13:24): [anamarias] \u00a0I created a page with DesiredSpaceName.Something.Else, and got http://localhost:8080/xwiki/bin/view/DesiredSpaceName.Something/Else instead of http://localhost:8080/xwiki/bin/view/DesiredSpaceName/Something.Else  \nxwiki-bridge - (13:26): [anamarias] there are also problems in getting the doc, in the API there's only $xwiki.getDocument(fullName)  \nxwiki-bridge - (13:26): [vmassol] anamarias: no \".\" is currently forbidden in page names  \nxwiki-bridge - (13:26): [anamarias] i see  \nxwiki-bridge - (13:26): [vmassol] this is what I'm trying to fix with all the code I've been committing for 10 days  \nxwiki-bridge - (13:26): [vmassol] but I haven't finished yet, I probably need 2-3 weeks more   \nxwiki-bridge - (13:27): [vmassol] Ideally I'd love to have this ready for 2.2 final but it's going to be hard. Realistically it's more for 2.3 final  \nxwiki-bridge - (13:27): [anamarias] ah, nice :)  \nxwiki-bridge - (13:30): [anamarias] so what is done now when getting a string from an input, and converting it into a page name, how is . encoded?   \nxwiki-bridge - (13:31): [lucaa] it's not encoded  \nxwiki-bridge - (13:31): [lucaa] anamarias:   \nxwiki-bridge - (13:31): [anamarias] and when?   \nxwiki-bridge - (13:31): [lucaa] it's a bit inconsistent here: some APIs use a more drastic cleaner, that cleans out . and other characters  \nxwiki-bridge - (13:32): [vmassol] anamarias: as anca is saying it depends on the location where you use the \".\"  \nxwiki-bridge - (13:32): [lucaa] while the create page panel only considers the last position of the point to be the space and page separator  \nxwiki-bridge - (13:33): [vmassol] the pb is that some places don't remove the dots and then when they parse the name they consider the space name as starting with the first dot or the last dot  \nxwiki-bridge - (13:33): [lucaa] double check the create panel, actually  \nxwiki-bridge - (13:33): [vmassol] there's no way of knowing which dot is space spearator  \nxwiki-bridge - (13:34): [vmassol] in the new strategy, we'll split input fields in 2 (one for space, one for page) and when they're not split (technical fields) then the user will need to escape the dot with \\  \nxwiki-bridge - (13:37): [lucaa] anamarias: safest approach now is to clean .s out of page names, if you have an input to create it, otherwise you'll just cause trouble. Even if you find some API which would work someway with some dots, because of the current fuzzyness, best is to clean it out  \nxwiki-bridge - (13:38): [anamarias] ok, i'll do that, thanks  \nxwiki-bridge - (13:41): [anamarias] should other characters be cleaned out as well, besides \".\" ? before actually trying to create the page  \nxwiki-bridge - (13:44): [lucaa] no, no other dangerous chars. Last time I checked the create panel, it wasn't cleaning out anything, just transforming one of the dots in space separator  \nxwiki-bridge - (13:44): [lucaa] so you can be consistent with that and just cleanout . to stay safe  \nxwiki-bridge - (13:45): [CalebJamesDeLisle] I remember trying to create a space with a / and it was escaped to .  \nxwiki-bridge - (13:46): [anamarias] hmm isn't this a bit weird too :   \nxwiki-bridge - (13:46): [anamarias] http://localhost:8080/xwiki/bin/view/Main.With+/+Slash ?  \nxwiki-bridge - (13:47): [anamarias] With / Slash being the page name  \nxwiki-bridge - (13:48): [anamarias] actually,   \nxwiki-bridge - (13:48): [anamarias] $doc.fullName  \nxwiki-bridge - (13:48): [anamarias] $doc.space  \nxwiki-bridge - (13:49): [anamarias] prints out:  \nxwiki-bridge - (13:49): [anamarias] Main.With . Slash  \nxwiki-bridge - (13:49): [anamarias] Main.With  \nxwiki-bridge - (13:52): [lucaa] yes, slash too  \nxwiki-bridge - (13:54): [anamarias] also if you do $xwiki.exists('Main.With / Slash') returns false... it should return true, because if you go ahead and create the page with this name, the page already exits (with the name parsed from this input)  \nxwiki-bridge - (13:55): [CalebJamesDeLisle] I think the / is escaped to a . because Main/WebHome must be converted to Main.WebHome  \nxwiki-bridge - (13:55): [lucaa] yes, I think at some point / is changed to a . in the create document panel  \nxwiki-bridge - (14:04): [vmassol] anamarias: slash shouldn't be used either in page names :)  \nxwiki-bridge - (14:05): [vmassol] anamarias: that's why we have a cleanName method in several places: to remove all special chars since they're not correctly supports right now. Basically what should be avoid: / . : [ ]  \nxwiki-bridge - (14:05): [vmassol] > too probably  \nxwiki-bridge - (14:05): [vmassol] ? too  \nxwiki-bridge - (14:05): [CalebJamesDeLisle] < ' \\ too  \nxwiki-bridge - (14:06): [glerouge] actually it's $util.clearName($input)  \nxwiki-bridge - (14:06): [anamarias] should this method be called on the input string before creating the document ?  \nxwiki-bridge - (14:06): [glerouge] yes  \nxwiki-bridge - (14:06): [anamarias] and in Java? where is it?  \nxwiki-bridge - (14:06): [vmassol] Util.clearNale :)  \nxwiki-bridge - (14:06): [CalebJamesDeLisle] com.xpn.xwiki.api.Util.clearName()  \nxwiki-bridge - (14:07): [anamarias] thanks  \nxwiki-bridge - (14:13): [lucaa] but what you need to know anamarias, is that that method will clean out a lot more than the create panel. if you want any kind of synchronization between your code and the create panel code, handle it carefully  \nxwiki-bridge - (14:14): [lucaa] (for example, using your forms users won't create the same page as they would using the create panel, even if they insert the very same thing. If that's not a problem, go ahead cleanNames, to be safe. If you do, then you need to refine your approach)  \nxwiki-bridge - (14:15): [lucaa] s/if you do/if it is/  \nxwiki-bridge - (14:15): [anamarias] no there's no problem with that... the problem is that given the same input, I can easily check if the document already exists  \nxwiki-bridge - (14:16): [lucaa] ok  \nxwiki-bridge - (14:22): [vmassol] jerome.velociter: have you checked the breakages you've done in WCAG tests with the new import? We need this fixed for 2.2M2 ideally  \nCalebJamesDeLisl left at 14:30 (barjavel.freenode.net irc.freenode.net  \nvmassol\\_ left at 14:30 (barjavel.freenode.net irc.freenode.net  \nSvenDowideit left at 14:30 (barjavel.freenode.net irc.freenode.net  \njvdrean left at 14:30 (barjavel.freenode.net irc.freenode.net  \nLukemon\\_ left at 14:30 (barjavel.freenode.net irc.freenode.net  \nxipe left at 14:30 (barjavel.freenode.net irc.freenode.net  \nCalebJamesDeLisl joined #xwiki at 14:30  \nvmassol\\_ joined #xwiki at 14:30  \nSvenDowideit joined #xwiki at 14:30  \njvdrean joined #xwiki at 14:30  \nxwiki-bridge - (14:31): [lucaa] vmassol: I created and attached patch to http://jira.xwiki.org/jira/browse/XWIKI-4775 with the current approach, to commit when we agree on separators and confirm strategy. if you want / have time/ mood to look at it  \nxwiki-bridge - (14:31): [vmassol] lucaa: otp  \nLukemon\\_ joined #xwiki at 14:33  \nxipe joined #xwiki at 14:33  \nxwiki-bridge - (14:39): [mflorea] guys, which is the best way to get the rendered title of a document? there is doc.getDisplayTitle() and doc.getRenderedTitle(syntaxId). What's the syntaxId in getRenderedTitle for anyway?  \nxwiki-bridge - (14:41): [CalebJamesDeLisle] $doc.getRenderedTitle($doc.getSyntaxId())  \nxwiki-bridge - (14:42): [tmortagne] doc.getDisplayTitle() call doc.getRenderedTitle(syntaxId) to get xhtml/1.0 version of the title  \nxwiki-bridge - (14:42): [tmortagne] mflorea: in general doc.getDisplayTitle() \u00a0should not be used anymore  \nxwiki-bridge - (14:42): [tmortagne] syntaxId is the renderer used  \nxwiki-bridge - (14:42): [tmortagne] it depends of your use case  \nxwiki-bridge - (14:43): [mflorea] tmortagne, so you suggest: doc.getRenderedTitle(Syntax.XHTML\\_1\\_0, getXWikiContext()) ? it doesn't seem to work  \nxwiki-bridge - (14:43): [CalebJamesDeLisle] My mistake, it's output syntax not input...  \nxwiki-bridge - (14:43): [tmortagne] mflorea: i don't suggest anything i'm just indicating how doc.getRenderedTitle, i don't know what is your use case  \nxwiki-bridge - (14:44): [tmortagne] what \"it doesn't seem to work\" means ?  \nxwiki-bridge - (14:44): [tmortagne] what do you expect ?  \nxwiki-bridge - (14:44): [mflorea] CalebJamesDeLisle: I have a xwiki2.0 doc and its title doesn't support xwiki2.0 syntax so yes, it's not the doc syntax  \nxwiki-bridge - (14:44): [mflorea] tmortagne, let me try something, just a sec  \nxwiki-bridge - (14:48): [vmassol] sdumitriu: \"ColorTheme UI improvement\". Are you going to do it before 2.2M2? (planned for next Monday FTM)  \nEnygma` left at 14:50 (\"Leaving.\"  \nCalebJamesDeLisl - (14:52): vmassol\\_: jcaptcha only supports the easy struts or servlet integration for default (gimpy) image captcha, if we remover the Action components, the sound captchas will be unreachable unless I write my own struts implementation. Advice?  \nCalebJamesDeLisl - (14:53): !shutdown  \nxwiki-bridge left at 14:53 (Remote closed the connection  \nxwiki-bridge joined #xwiki at 14:55  \nsdumitriu joined #xwiki at 15:04  \nsdumitriu - (15:04): Good morning  \nvmassol\\_ - (15:04): hi  \nsdumitriu - (15:05): About color themes, I don't know if I have time  \nvmassol\\_ - (15:05): oh you live in the US now? :)  \nsdumitriu - (15:05): I'll try  \nvmassol\\_ - (15:05): sdumitriu: ok great we'd need it before Monday ideally  \nsdumitriu - (15:05): Already?  \nsdumitriu - (15:05): But when was M1 released?  \nvmassol\\_ - (15:06): 2.2M2 is planned for Monday  \nvmassol\\_ - (15:06): I'm on the phone right now  \nsdumitriu - (15:06): Wasn't it Friday?  \nvmassol\\_ - (15:06): but once I'm done we need to re-decide on the date  \nvmassol\\_ - (15:06): 3 things blocking:  \nvmassol\\_ - (15:06): - color theme UI improvement  \nvmassol\\_ - (15:06): - watchlist  \nvmassol\\_ - (15:06): - captcha  \nvmassol\\_ - (15:08): !shutdown  \nxwiki-bridge left at 15:08 (Remote closed the connection  \nEnygma` joined #xwiki at 15:08  \nxwiki-bridge joined #xwiki at 15:09  \nvmassol\\_ - (15:10): lucaa: model.reference.default.object\\_property --> objectProperty to follow our conventions  \nvmassol\\_ - (15:12): lucaa: re the impl I haven't understood what thomas and you were suggesting yesterday so I can't judge what's best. It seems you've done what I was proposing  \nCalebJamesDeLisl - (15:12): vmassol\\_: Looks like the options are implement struts or servlet, or get ActionManager working.  \nCalebJamesDeLisl - (15:13): s/implement struts/implement struts action/  \nvmassol\\_ - (15:14): action manager isn'\"t ready yet so I'd say struts for 2.2  \nvmassol\\_ - (15:14): lucaa: \"public void testResolveObjectReferenceWhenTypeIsDocument()\" seems the name is wrong  \nCalebJamesDeLisl - (15:14): Ok.  \nvmassol\\_ - (15:14): lucaa: same for testResolveObjectPropertyReferenceWhenTypeIsDocument  \nsdumitriu - (15:14): I'd say servlet, not struts  \nlucaa - (15:15): vmassol\\_: you haven't understood our initial approach? or the conclusion?  \nlucaa - (15:15): anyway, it's gonna be a mail  \nlucaa - (15:15): soon, soon  \nvmassol\\_ - (15:15): lucaa: nitpick: use uppercase when starting a sentence in comments ;)  \nvmassol\\_ - (15:17): lucaa: \" \u00a0\u00a0// test separator escape\" but there's no escape  \nplunden1 left #xwiki at 15:17  \nlucaa - (15:17): vmassol\\_: possible possible  \nlucaa - (15:18): vmassol\\_: re uppercase I know I should, i just don't do it, not because I'm lazy, but because I don't want to ;) everybody has his / her own style deviations  \nCalebJamesDeLisl - (15:18): sdumitriu: Why servlet?  \nsdumitriu - (15:19): Well, we won't get rid of servlets completely (we can't if we want to remain a webapp), but we'll definitely get rid of struts  \nvmassol\\_ - (15:19): lucaa: \" // TODO: do we want this full reference to the class?\". Shouldn't it also have the default wiki?  \nsdumitriu - (15:19): And we're not using struts correctly, so better not use it at all  \nCalebJamesDeLisl - (15:20): It doesn't matter to me struts or servlet, I just hate writing code which is deprecated the minute it is committed.  \nsdumitriu - (15:20): Oh wait  \nsdumitriu - (15:20): Not servlet, servlet filter  \nlucaa - (15:20): vmassol\\_: that's the question, if we want it with wiki or not. But since now classnames won't be implemented in the model anymore, I don't know if that shouldn't be just a default object name, whichever that is  \nCalebJamesDeLisl - (15:20): What is it filtering?  \nlucaa - (15:20): I am still to decide about that default  \nsdumitriu - (15:21): Wait, what are we talking about? CAPTCHA checks, right?  \nCalebJamesDeLisl - (15:21): Serving the captcha image/sound file  \nsdumitriu - (15:21): Oh  \nvmassol\\_ - (15:21): lucaa: \"Represents a Property Entity.\" --> Represents an Object Property Entity  \nvmassol\\_ - (15:22): lucaa: ok review finished.   \nsdumitriu - (15:22): Then both a servlet or a struts action will do  \nlucaa - (15:22): vmassol\\_: re \"model.reference.default.object\\_property --> objectProperty\"   \nlucaa - (15:22): but isn't that generated like that from the constant name? how can I change it?  \nlucaa - (15:22): I just found this:  \nlucaa - (15:22): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0name = configuration.getProperty(PREFIX + \"reference.default.\" + type.toString().toLowerCase(),  \nlucaa - (15:22): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0DEFAULT\\_VALUES.get(type));  \nlucaa - (15:22): in the default model configuration  \nsdumitriu - (15:22): And in this case, I think I prefer a struts action  \nCalebJamesDeLisl - (15:23): I think I will go with struts because it's already compatible with struts for image captchas.  \nsdumitriu - (15:23): So that we don't eat another servlet mapping name  \nvmassol\\_ - (15:23): lucaa: this algorithm is no longer valid  \nCalebJamesDeLisl - (15:23): Either way it will be a hack because it's a component and it needs to be accessed by struts.  \nsunny\\_slls joined #xwiki at 15:24  \nvmassol\\_ - (15:24): sdumitriu: re \"but we'll definitely get rid of struts\". I'm not yet sure about this. We've started a page with Caleb on the use cases on the DEsign space. If you can have a look that would be great  \nlucaa - (15:24): vmassol\\_: explain  \nvmassol\\_ - (15:24): lucaa: the tolowercase stuff was ok becuase we didn't have any underscore till now  \nsunny\\_slls left #xwiki at 15:25  \nlucaa - (15:25): so I should change the default model configuration to build a camel case out of an underscored value?  \nvmassol\\_ - (15:25): lucaa: I don't think it's worth it  \nvmassol\\_ - (15:25): I see 2 solutions  \nvmassol\\_ - (15:25): solutio 1: we add the notion of name in the enum  \nvmassol\\_ - (15:26): solution 2: it's a static map in the configuration component impl  \nlucaa - (15:26): +1 for name in the enum  \nlucaa - (15:26): just sounds better  \nvmassol\\_ - (15:26): re camel case, maybe it's doable since there's a new camel case method in string utils I think  \nxwiki-bridge left at 15:29 (  \nxipe left at 15:30 (barjavel.freenode.net irc.freenode.net  \nLukemon\\_ left at 15:30 (barjavel.freenode.net irc.freenode.net  \nsdumitriu left at 15:30 (barjavel.freenode.net irc.freenode.net  \njvdrean left at 15:30 (barjavel.freenode.net irc.freenode.net  \nCalebJamesDeLisl left at 15:30 (barjavel.freenode.net irc.freenode.net  \nvmassol\\_ left at 15:30 (barjavel.freenode.net irc.freenode.net  \nSvenDowideit left at 15:30 (barjavel.freenode.net irc.freenode.net  \nEnygma` left at 15:30 (barjavel.freenode.net irc.freenode.net  \nnuvolari left at 15:30 (barjavel.freenode.net irc.freenode.net  \nxwiki-bridge joined #xwiki at 15:30  \nEnygma` joined #xwiki at 15:30  \nsdumitriu joined #xwiki at 15:30  \nxipe joined #xwiki at 15:30  \nLukemon\\_ joined #xwiki at 15:30  \njvdrean joined #xwiki at 15:30  \nSvenDowideit joined #xwiki at 15:30  \nvmassol\\_ joined #xwiki at 15:30  \nCalebJamesDeLisl joined #xwiki at 15:30  \nnuvolari joined #xwiki at 15:30  \nxipe left at 15:34 (barjavel.freenode.net irc.freenode.net  \nLukemon\\_ left at 15:34 (barjavel.freenode.net irc.freenode.net  \nsdumitriu left at 15:34 (barjavel.freenode.net irc.freenode.net  \njvdrean left at 15:34 (barjavel.freenode.net irc.freenode.net  \nsdumitriu joined #xwiki at 15:34  \njvdrean joined #xwiki at 15:35  \nvmassol\\_ - (15:44): jvdrean: when will you have finished the new watchlist UI?  \njvdrean - (15:45): I'll commit it tomorrow  \nnuvolari - (15:46): hi, how can I use the floatingbox macro in xwiki 2.0 syntax?  \nkibaho1 left #xwiki at 15:47  \njvdrean left at 15:48 (barjavel.freenode.net irc.freenode.net  \njvdrean joined #xwiki at 15:48  \nLukemon\\_ joined #xwiki at 15:50  \nxipe joined #xwiki at 15:50  \nvmassol\\_ - (15:54): jvdrean: ok great  \nvmassol\\_ - (15:54): nuvolari: \u00a0{{box cssClass=\"floatinginfobox\" title=\"\\*\\*Contents\\*\\*\"}}{{toc start=\"2\" depth=\"3\"/}}{{/box}}  \nvmassol\\_ - (15:55): (till we have a floating box macro again in 2.0)  \nvmassol\\_ - (15:55): (a good candidate for a wiki macro to be bundled by default btw)  \nnuvolari - (16:10): vmassol\\_: thanks! will try it out  \nnuvolari - (16:10): home time now :P  \nsdumitriu - (16:20): vmassol\\_: Where else?  \nsdumitriu - (16:20): skins and applications are in platform, right?  \nvmassol\\_ - (16:22): sdumitriu: fun we did it at the same time  \nvmassol\\_ - (16:22): yes  \nvmassol\\_ - (16:23): I was surpised to find her already in enterprise.xwiki.org's committer group :)  \nsdumitriu - (16:27): HallOfFame#Others should be updated, too  \nbbc581 joined #xwiki at 16:32  \nsdumitriu - (16:33): It's been a year and a month since Artem's last commit, he should be moved to emeritus  \nvmassol\\_ - (16:37): sdumitriu: I'v eupdated HOF already  \nvmassol\\_ - (16:37): (see above)  \nvmassol\\_ - (16:37): oh   \nvmassol\\_ - (16:37): you mean for others   \nvmassol\\_ - (16:37): yes  \nvmassol\\_ - (16:38): we should  \nvmassol\\_ - (16:38): yes we should review active committers  \nvmassol\\_ - (16:38): CalebJamesDeLisl: when can you show us the new registration page with captcha and validation?  \nvmassol\\_ - (16:39): it would be great to have those in 2.2 final  \nvmassol\\_ - (16:39): for that we'd need to have them committed for 2.2M2  \nvmassol\\_ - (16:39): which is currently planned for next Monday (but which could be moved by 1 or 2 days if need be)  \nCalebJamesDeLisl - (16:39): Sure, I have a few details to fix but I can post what I have in the jira issue.  \nvmassol\\_ - (16:39): would be great   \nvmassol\\_ - (16:40): visuals I mean  \nCalebJamesDeLisl - (16:40): It's still syntax2.0 because I have been testing it in a page.  \nvmassol\\_ - (16:41): CalebJamesDeLisl: do you think you'll have something ready for Monday?  \nCalebJamesDeLisl - (16:41): I will make sure of it.  \nvmassol\\_ - (16:42): ok great, that'll be a cool addition of 2.2  \nvmassol\\_ - (16:43): on my side, I'll stop my refactorings tomorrow and from then on till the release I'll only fixing bugs I may have introduced  \nCalebJamesDeLisl - (16:46): Just a minute, I would like to point the skinx calls to livevalidate.com so that it will work for you.  \nsdumitriu - (16:49): skinx can't point to external URLs  \nCalebJamesDeLisl - (16:51): I am replacing them with script tags  \nCalebJamesDeLisl - (17:15): http://jira.xwiki.org/jira/secure/attachment/16506/register-0.01a.velocity  \nvmassol\\_ - (17:16): hmm when doing an import on trunk I get these warnings: http://tinypaste.com/22d7d  \nCalebJamesDeLisl - (17:19): I tried to make the registration template separate code from content and make it easy to add more fields, as a result it became quite large.  \nCalebJamesDeLisl - (17:20): Back to captcha, ping me if you have any questions or abuse to hurl.  \njerome\\_ joined #xwiki at 17:20  \njerome\\_ - (17:20): vmassol\\_, hi  \nvmassol\\_ - (17:20): hi jerome  \njerome\\_ - (17:20): re the warning it's strange they don't seem related to import  \njerome\\_ - (17:21): \"regular\" saves don't generate such ?  \njerome\\_ - (17:21): (http://tinypaste.com/22d7d)  \nvmassol\\_ - (17:21): nope  \nvmassol\\_ - (17:21): also found something strange (not related to this):  \njerome\\_ - (17:21): ok  \nvmassol\\_ - (17:22): when I edit a panel in inline mode I get to edit the HTML!  \nvmassol\\_ - (17:22): for ex for quick links: http://tinypaste.com/e1fd5  \nvmassol\\_ - (17:22): has anyone seen this before?  \nvmassol\\_ - (17:23): jvdrean: it looks similar to the issue I reported to you in the user profile page  \ntmortagne joined #xwiki at 17:44  \nvmassol\\_ - (17:46): one thing to decide is how we want to represent a reference in the logs  \nvmassol\\_ - (17:46): 2 options:  \nvmassol\\_ - (17:46): 1) serialized using some serializer (which one)  \nvmassol\\_ - (17:46): 2) as EntityRefernce.toString()  \nvmassol\\_ - (17:47): I'm talking about logs such as:  \nvmassol\\_ - (17:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0LOG.warn(\"Failed to display field [\" + fieldname + \"] in [\" + type + \"] mode for Object [\" + obj.getName()  \nvmassol\\_ - (17:47): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0+ \"]\");  \nvmassol\\_ - (17:47): I have to replace obj.getName() with obj.getReference()  \nvmassol\\_ - (17:47): in some places I have already used a compactEntityReferenceSerializer  \nvmassol\\_ - (17:48): wdyt?  \nvmassol\\_ - (17:49): tmortagne: any idea?  \ntmortagne - (17:49): EntityRefernce.toString(), that's the easiest to read for debug purpose and log is usually about debug but in other hand \"standard\" serailization format like wiki:Space.NAme can be copy pasted from the log to use it as it is in some UI for example  \ntmortagne - (17:50): i'm more in favor of EntityRefernce.toString() for now  \ntmortagne - (17:50): because it's more about debug for me and EntityRefernce.toString() is faster since it does not need to use components to print it  \nvmassol\\_ - (17:51): speed isn't an issue for problems  \ntmortagne - (17:51): (just a little in favor, i'm not against the other so if someone has stringer opinion...)  \nvmassol\\_ - (17:51): what about exceptions?  \ntmortagne - (17:52): exceptions ?  \nvmassol\\_ - (17:52): example:  \nvmassol\\_ - (17:52): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if ((!content.equals(\"\\n\")) && (!content.equals(\"\")) && !isNew()) {  \nvmassol\\_ - (17:52): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Object[] args = {this.compactEntityReferenceSerializer.serialize(getDocumentReference())};  \nvmassol\\_ - (17:52): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0throw new XWikiException(XWikiException.MODULE\\_XWIKI\\_STORE,  \nvmassol\\_ - (17:52): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0XWikiException.ERROR\\_XWIKI\\_APP\\_DOCUMENT\\_NOT\\_EMPTY,  \nvmassol\\_ - (17:52): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"Cannot add a template to document {0} because it already has content\", null, args);  \nvmassol\\_ - (17:52): this can sometime bubble up to the end user  \nvmassol\\_ - (17:53): (if not handled)  \ntmortagne - (17:53): also use tostring when logging is a lot easier, otherwise you have to lookup the serializer just for your log  \nvmassol\\_ - (17:53): toString is easier for the developer for sure but it generates harder to read logs  \ntmortagne - (17:54): why harder to read ?  \nvmassol\\_ - (17:54): example:  \nvmassol\\_ - (17:54): 2010-01-21 13:54:27,990 [http://localhost:8080/xwiki/bin/preview/Main/Test%20Page] WARN \u00a0objects.BaseElement \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Element was stored as name [Main.Test Page]. Will now be stored as a reference [name = [Test Page], type = [DOCUMENT], parent = [name = [Main], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent = [null]]]]   \nvmassol\\_ - (17:54): vs  \nvmassol\\_ - (17:54): 2010-01-21 13:54:27,990 [http://localhost:8080/xwiki/bin/preview/Main/Test%20Page] WARN \u00a0objects.BaseElement \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Element was stored as name [Main.Test Page]. Will now be stored as a reference [Main.Test Page]  \nvmassol\\_ - (17:54): (forget the meaning of the text in this bad example)  \nEnygma` left at 17:55 (Remote closed the connection  \nvmassol\\_ - (17:55): or  \nvmassol\\_ - (17:55): 2010-01-21 13:54:27,990 [http://localhost:8080/xwiki/bin/preview/Main/Test%20Page] WARN \u00a0objects.BaseElement \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Element was stored as name [Main.Test Page]. Will now be stored as a reference [xwiki:Main.Test Page]  \nvmassol\\_ - (17:55): if we want the full ref (probably better)  \nvmassol\\_ - (17:56): it also makes the logs very long and hence impact perfs btw  \ntmortagne - (17:56): well the format of the tostring you have is the the easiest to read possible format either  \nvmassol\\_ - (17:56): way more than constructing the string :)  \ntmortagne - (17:56): the the=not the  \nvmassol\\_ - (17:58): tmortagne: appart from using a serialized in EntityReference (which i didn't want to do) I don't see a better toString  \nvmassol\\_ - (17:58): (I thought about it a bit and couldn't find)  \nvmassol\\_ - (17:58): (it's also consistent with how we do it)  \ntmortagne - (17:58): to start parent is useless here  \nvmassol\\_ - (17:58): why?  \nvmassol\\_ - (17:58): it's important to know it's not sert  \nvmassol\\_ - (17:58): set  \nvmassol\\_ - (17:59): yes you could conclude it's not set if you don't see it but you have to know that  \ntmortagne - (17:59): if you don't have the parent then it means it's not set  \ntmortagne - (17:59): that's how EntityReference works  \nvmassol\\_ - (17:59): in general my rule for tostring is to allow  \nvmassol\\_ - (17:59): print all fields  \nvmassol\\_ - (17:59): s/allow/always/  \nvmassol\\_ - (17:59): to show a full state of the object  \nvmassol\\_ - (18:00): even if we remove it it's not going to change drastically i think  \nvmassol\\_ - (18:01): I haven't been able to decide what to use.... been hesitating.... hence why I ask here  \nvmassol\\_ - (18:01): I have a small preference I think for the serializer option  \nvmassol\\_ - (18:01): but I'm not sure  \nvmassol\\_ - (18:01): I feel that the logs same as exceptions  \nvmassol\\_ - (18:01): can be read by non devs  \nvmassol\\_ - (18:01): ie by our users  \nvmassol\\_ - (18:02): and they should be as easy to read as possible while providing the correct data  \ntmortagne - (18:02): you could have [DOCUMENT=Test Page, SPACE=Main, WIKI=xwiki] which say the same thing but without decoration  \nvmassol\\_ - (18:02): (to be able to assess the state)  \ntmortagne - (18:02): and it looks more like java.util tostring style  \nvmassol\\_ - (18:02): if by decoration o\byou mean [] then I don't agree  \nvmassol\\_ - (18:03): it's our rule to always put [] around values  \ntmortagne - (18:03): by decorationi mean name=, type=, parent=  \ntmortagne - (18:04): and the rule is to put [] aroun value in the log, \"DOCUMENT=Test Page, SPACE=Main, WIKI=xwiki\" is the value i the log  \nvmassol\\_ - (18:04): no  \nvmassol\\_ - (18:04): values means values of fields  \nvmassol\\_ - (18:04): the reason is to see problems of spaces and other spearator chars  \nvmassol\\_ - (18:05): your soltuion is ok (with the [] added) but:  \nvmassol\\_ - (18:05): we need to know in advance the order  \ntmortagne - (18:05): form the rest of the log sure, but you see the problems of spaces in [DOCUMENT=Test Page, SPACE=Main, WIKI=xwiki ]  \nvmassol\\_ - (18:05): parent first  \ntmortagne - (18:05): there is a space in the wiki name  \nvmassol\\_ - (18:05): no I don't  \nvmassol\\_ - (18:05): if I have: SPACE = Main  \nvmassol\\_ - (18:05): I don't see it  \nvmassol\\_ - (18:06): here I have added a space so it's \" Main\"  \nvmassol\\_ - (18:06): (I got bitten several times by this in the past and that's why since then I've always used the [] strategy)  \ntmortagne - (18:07): it doe snot change the fact that \"name\", \"name\" and \"parent\" are useless IMO  \nvmassol\\_ - (18:07): yes fine but that means you know the order  \nvmassol\\_ - (18:07): the reader needs to know the order  \nvmassol\\_ - (18:07): and the fields don't match what you read  \nvmassol\\_ - (18:07): (but maybe that's ok)  \ntmortagne - (18:07): you have to know that it's type=name, it's not impossible...  \nvmassol\\_ - (18:08): no  \nvmassol\\_ - (18:08): I mean the order of parent/child relationship  \nvmassol\\_ - (18:08): I'd do the oppsoiute btw  \nvmassol\\_ - (18:08): parent last  \nvmassol\\_ - (18:08): but it's questionable  \nvmassol\\_ - (18:09): basically it means replacing meaning with syntax  \nvmassol\\_ - (18:09): (syntax convention)  \nvmassol\\_ - (18:09): in the full form there's no possible ambiguity  \ntmortagne - (18:09): all your argument is about having a format that is parsable for sure so in this case sure it can only be a format made for it, which mean use the serializer...  \ntmortagne - (18:10): i'm just saying that user is not a parser  \nvmassol\\_ - (18:10): and if we were to use a syntax then we could use the sieralization syntax :)  \njvdrean left at 18:10 (\"Leaving.\"  \nvmassol\\_ - (18:11): well users are parsers actually :) (the mind does that all the time). If users are used to see the serialized format it's easier for them probably  \nvmassol\\_ - (18:11): anyone else?  \nvmassol\\_ - (18:11): :)  \nvmassol\\_ - (18:12): I was also heistating about using the default serializer in toString for EntityReference  \ntmortagne - (18:12): if you want perfect syntax it's impossible to use a simple tostring, even your very log format is not safe since you could have some ] in the values that would make it very difficult to read  \nvmassol\\_ - (18:12): yes re []\u00a0but we had to choose a well known delimiter  \nvmassol\\_ - (18:13): so it's better to have a single one rather than several  \nvmassol\\_ - (18:13): it could have been anything  \nvmassol\\_ - (18:13): but often there's quote in strings hence why I chose [ instead which is more rare... except for our links in xwiki syntax :)  \nvmassol\\_ - (18:14): OTOH using a simplified tostringdefeats its purpose  \nvmassol\\_ - (18:14): meaning you don't know how the parser will have parsed it  \nvmassol\\_ - (18:14): and you can't check it  \ntmortagne - (18:14): sure for the log in general i'm not saying ] is not the right choice i'm saying that anyway if you want perfect readable syntax i don't see why you are hesitation between tostring output and serializer  \nvmassol\\_ - (18:14): becuase I'm hesitatin between  \nvmassol\\_ - (18:14): - readable syntax  \nvmassol\\_ - (18:14): vs  \nvmassol\\_ - (18:14): - no ambiguity  \ntmortagne - (18:15): that's the same thing for me and it's covered only bu serializer, if you have some ] char in your values it will make the tostring unreadable  \nvmassol\\_ - (18:16): yes serializer is good for most cases  \nvmassol\\_ - (18:16): only pb is for this case:  \nvmassol\\_ - (18:17): \"Cannot find object blah blah in document [xwiki:something.else.other]  \nvmassol\\_ - (18:17): \"  \nvmassol\\_ - (18:17): when you read this you're not sure whether the space is something or something.else  \ntmortagne - (18:17): your are sure when you know the syntax  \nvmassol\\_ - (18:17): yes true  \nvmassol\\_ - (18:18): ok so using a default serializer sounds like a good compromise right?  \ntmortagne - (18:18): the problems i see with serializers are:  \nvmassol\\_ - (18:18): (and not the compact one I've started using I think)  \ntmortagne - (18:18): - don't support invalid reference  \nvmassol\\_ - (18:18): you can have invalid refs normally :)  \nvmassol\\_ - (18:18): s/Can/can't/  \ntmortagne - (18:18): yes you can  \ntmortagne - (18:19): you can't have invalid DocumentReference  \nvmassol\\_ - (18:19): ah yes with entity ref  \ntmortagne - (18:19): - its a pain to have to lookup the serializer just to log a reference  \ntmortagne - (18:19): if you can even lookup  \ntmortagne - (18:20): what about don't have a rule ?  \ntmortagne - (18:21): like \"in my use I have the serialize and i know my reference is valid i use the serializer, in another use case i use to string\"  \ntmortagne - (18:21): don't have a general rule for all reference i mean  \nEnygma` joined #xwiki at 18:21  \ntmortagne - (18:22): i don't feel like we really need one, just saying you have to use tostring or standard serializer and nothing else would be fine i think  \nvmassol\\_ - (18:24): re the lookup not really  \nvmassol\\_ - (18:24): (especially as we have it and we use resolver/serializer for all IO with the XWiki system and logs/exceptions are IO)  \nvmassol\\_ - (18:24): by IO I mean entry and exists of the system  \nvmassol\\_ - (18:24): s/Exists/exits/  \nvmassol\\_ - (18:25): tmortagne: the reason I ask is because whenver I have to decide I can't decide easily  \ntmortagne - (18:26): you don't necessarily use Reference in io, that's the goal: manipulate only Reference and let input and output only do serialization/unserialization  \nvmassol\\_ - (18:26): yes that's the point  \nvmassol\\_ - (18:26): convert from Reference to string  \nvmassol\\_ - (18:26): when it goes out of the system  \ntmortagne - (18:27): there will be a lot of use case where you don't like the Reference someone gave it to you and you want to log it  \nvmassol\\_ - (18:27): ok let me decide then since there's no perfect solution  \nvmassol\\_ - (18:27): I'll continue using a serializer in XWikiDocument for now, moving existing ones to the default serialized instead  \nvmassol\\_ - (18:27): for now  \nvmassol\\_ - (18:28): can be changed later if we decide on another rule  \ntmortagne - (18:28): my general point is that it's wrong to depends on serializer when you only manipulate Reference  \ntmortagne - (18:29): it's like saying that EntityReference interface depends on serializer  \nvmassol\\_ - (18:29): not at I/O places  \ntmortagne - (18:29): i'm not speaking about i/O places  \nvmassol\\_ - (18:29): well log is an I/O place  \ntmortagne - (18:29): we wil use reference everywhere  \nvmassol\\_ - (18:29): same for exception  \ntmortagne - (18:29): that are not I/O places  \nvmassol\\_ - (18:30): I/O is maybe the bad words  \nvmassol\\_ - (18:30): when you get in or out of the system  \ntmortagne - (18:31): so you are saying that it's impossible to log reference in a module which is not storage or thing like that  \nvmassol\\_ - (18:32): not sure I understand  \nvmassol\\_ - (18:32): here's an interesting case:  \nvmassol\\_ - (18:32): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0String saveMessage = context.getMessageTool().get(\"core.comment.renameParent\",  \nvmassol\\_ - (18:32): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Arrays.asList(this.compactEntityReferenceSerializer.serialize(newDocumentReference)));  \nvmassol\\_ - (18:33): (it's a bit different)  \nvmassol\\_ - (18:33): I think compact serializer is good in this case  \nvmassol\\_ - (18:33): (it's the save message for history)  \nmflorea joined #xwiki at 18:36  \nvmassol\\_ - (18:36): mflorea: it was saying that safari is not supported or something like that I think. Let me try again  \nvmassol\\_ - (18:37): \"Editing tools in this location are not supported by the Safari browser.  \nvmassol\\_ - (18:37): Please use the Firefox browser to take advantage of these features.\"  \nmflorea - (18:37): ok, let me look at the edit inline template  \nvmassol\\_ - (18:37): I get it when I edit the user profile page (for ex)  \nEnygma` left at 18:41 (Read error: 110 (Connection timed out)  \nmflorea - (18:43): vmassol\\_: is the profile in xwiki 2.0 syntax?  \nvmassol\\_ - (18:43): btw just noticed there' still the {/pre} displayed. I'll debug this one  \nvmassol\\_ - (18:43): mflorea: checking  \nvmassol\\_ - (18:44): no it's 1.0 syntax  \nmflorea - (18:44): the only place I found the message is in tinymce so I think you are editing with the old editor  \nvmassol\\_ - (18:44): ok so it must be tinymce then  \nvmassol\\_ - (18:44): yes  \nvmassol\\_ - (18:44): you're right  \nvmassol\\_ - (18:45): thought the new profile would be in 2.0 syntax  \nvmassol\\_ - (18:45): need to ask jv why  \nmflorea - (18:45): yes, I'd like to know too  \nvmassol\\_ - (18:49): btw all editors are not using monospace fonts on chrome, not sure hwy  \nvmassol\\_ - (18:49): why  \nvmassol\\_ - (18:49): all editors = wiki editor  \nvmassol\\_ - (18:49): this makes it hard to edit text  \nmflorea - (18:50): hmm, only on chrome? I guess it's the default font assigned by the browser. I should be overwritten from the skin.  \nlucaa left at 18:53 (\"Leaving.\"  \nvmassol\\_ - (18:54): mflorea: actually the user sheet is in 2.0 syntax  \nmflorea - (18:55): but the user doc is in xwiki 1.0 syntax, right?  \nvmassol\\_ - (18:55): yes  \nvmassol\\_ - (18:55): I converted mine to 2.0 and it looks fine  \nmflorea - (18:55): ok, cool  \nvmassol\\_ - (18:55): must be a leftover  \nvmassol\\_ - (18:55): trying edit now  \nvmassol\\_ - (18:56): hmm almost good: http://tinycoke.com/\\_6rDRlS0Pv2pfY/screen\\_shot\\_2010-01-21\\_at\\_6.56.03\\_pm.png  \nvmassol\\_ - (18:58): msut be including some other docs which are in 1.0  \nmflorea - (18:58): external links are messed up  \nvmassol\\_ - (19:01): ok easy to fix  \nvmassol\\_ - (19:01): I've fixed it locally  \nvmassol\\_ - (19:01): it's because the page is now in 2.0 syntax  \nvmassol\\_ - (19:01): there's a {{html}} macro too much  \nvmassol\\_ - (19:02): so yes it seems to work fine  \nvmassol\\_ - (19:02): that's cool  \nvmassol\\_ - (19:02): just need to ask jv why he hasn't converted to 2.0 the user page  \nvmassol\\_ - (19:02): and not more trailing {/pre}\u00a0btw  \nmflorea - (19:02): cool  \nvmassol\\_ - (19:02): which is a pb when you mix syntaxes  \nvmassol\\_ - (19:02): not sure why though - haven't debugged it  \nvmassol\\_ - (19:03): mflorea: XE is almost working fine in chrome  \nmflorea - (19:03): :)  \nvmassol\\_ - (19:04): only a few glitches here and there: \u00a0full screen not wokring, import delete button for uploaded XARs  \nvmassol\\_ - (19:04): I haven't fully tested the wysiwyg editor though  \nvmassol\\_ - (19:05): ah yes insert link doesn't work  \nvmassol\\_ - (19:05): it duplicates the label  \nvmassol\\_ - (19:05): are you aware of this?  \nvmassol\\_ - (19:05): (mflorea )  \nmflorea - (19:06): are you testing on the latest version?  \nvmassol\\_ - (19:06): yes  \nvmassol\\_ - (19:06): well  \nvmassol\\_ - (19:06): unless you've changed something related to this this afternoon  \nmflorea - (19:06): no, I wasn't aware of this issue on chrome  \nmflorea - (19:06): no, no change related to chrome  \nvmassol\\_ - (19:07): could be in FF too maybe?  \nmflorea - (19:07): I had a similar problem in IE but IE uses a different code.  \nmflorea - (19:07): I don't think so, we have selenium tests and they pass  \nmflorea - (19:08): I'll check tomorrow on chrome  \nvmassol\\_ - (19:08): ok thx  \nmflorea - (19:08): I have to go now, have a nice evening!  \nvmassol\\_ - (19:08): there were a few functional tests errors fro wysiwyg today  \nvmassol\\_ - (19:09): ah not any more  \nmflorea - (19:09): yes, some are flickering  \nvmassol\\_ - (19:09): ok good evening to you  \nmflorea - (19:09): I have to take care of them  \nmflorea left at 19:09 (\"Leaving.\"  \nvmassol\\_ - (19:11): jerome\\_: scheduler not working. I tried to create a job and got a macro exec error: out of permgen  \nvmassol\\_ - (19:11): hmm  \nvmassol\\_ - (19:11): that's the code macro  \nvmassol\\_ - (19:11): using python  \njerome\\_ - (19:11): ok  \njerome\\_ - (19:11): I see  \nvmassol\\_ - (19:11): I reported this error to tmortagne   \nvmassol\\_ - (19:11): but he doesn't know  \njerome\\_ - (19:11): I think the jython guys are working on it no ?  \njerome\\_ - (19:11): I recall tmortagne saying something like that  \nvmassol\\_ - (19:11): it used to work before on my mac butnot since I changed mac  \nvmassol\\_ - (19:12): well it's failing completely now  \nvmassol\\_ - (19:12): will try to increase the permgen more  \njerome\\_ - (19:12): you've been mac-downgraded \u00a0?  \njerome\\_ - (19:12): (less memory ?)  \nvmassol\\_ - (19:12): mac-upgraded  \nvmassol\\_ - (19:12): :)  \njerome\\_ - (19:12): ah  \njerome\\_ - (19:12): ok  \njerome\\_ - (19:12): strange  \njerome\\_ - (19:12): so creating a job works, it's only the display part with code macro that has issues ?  \nvmassol\\_ - (19:13): yes  \nvmassol\\_ - (19:13): testing again  \njerome\\_ - (19:13): ok  \nvmassol\\_ - (19:14): same :(  \nvmassol\\_ - (19:14): I have this: JAVA\\_OPTS=\"-Xmx300m -XX:MaxPermSize=128m\"  \nvmassol\\_ - (19:14): what do you use?  \nvmassol\\_ - (19:16): ahah  \nvmassol\\_ - (19:16): I realized I had been playing with start scripts  \nvmassol\\_ - (19:16): it works fine if I don't specify any max perm size param  \nvmassol\\_ - (19:17): I had forgotten about this  \nvmassol\\_ - (19:17): (not sure why though but at least the default works for me)  \nvmassol\\_ - (19:22): guys what's the suffix already to get the xml of a page?  \nvmassol\\_ - (19:23): ah must be chrome pb  \nvmassol\\_ - (19:23): http://localhost:8080/xwiki/bin/view/Main/WebHome?xpage=xml  \nvmassol\\_ - (19:24): sdumitriu: re experimental draft support  \nvmassol\\_ - (19:25): is there a way to turn it on by default?  \nvmassol\\_ - (19:25): or do you have to remember to enable it for each page?  \nvmassol\\_ - (19:25): (ah it's only visible in wiki edit mode)  \nsdumitriu - (19:26): Only if you change the JS  \nvmassol\\_ - (19:27): ok  \nvmassol\\_ - (19:29): tmortagne: do you remember if the export as HTML has been fixed?  \nvmassol\\_ - (19:29): I remember seeing something about it being broken  \nvmassol\\_ - (19:29): someone is asking me  \nvmassol\\_ - (19:29): \"B1: The 'export as HTML' function gives a weird Java error, for example:  \nvmassol\\_ - (19:29): http://wiki.noiv.nl/xwiki/bin/export/NOiV/Wat+is+een+Open+Standaard?format=html  \nvmassol\\_ - (19:29): \"  \nvmassol\\_ - (19:29): they're on 2.1.1  \ntmortagne - (19:29): AFAIK the html export is working  \ntmortagne - (19:29): and for a long time  \nvmassol\\_ - (19:30): apparently not  \nvmassol\\_ - (19:30): and I think I remember recent reports  \ntmortagne - (19:30): it has not been \"broken\", it just not support dynamic css of colibro skin yet  \ntmortagne - (19:30): colibri  \nvmassol\\_ - (19:31): weird java error must be something else  \ntmortagne - (19:31): java.lang.NoClassDefFoundError: com/xpn/xwiki/export/html/HtmlPackager  \ntmortagne - (19:31): i doubt we remove this class form core...  \ntmortagne - (19:32): and since it's part of xwiki-core module i don't see how them can get an error like that  \ntmortagne - (19:33): that's weird  \nvmassol\\_ - (19:33): yes strange  \nvmassol\\_ - (19:33): I have a 2.1.1 here  \nvmassol\\_ - (19:33): let me try  \ntmortagne - (19:34): any too blocker issue found against upgrading myxwiki.org to 2.2M1 ?  \nCalebJamesDeLisl - (19:35): Yay, got jcaptcha integrated with struts. I just made AbstractCaptchaAction extend struts....Action. \u00a0I would like to throw an exception to velocity if the name of the captcha gotten doesn't exist, returning null would be too confusing to velocity coders IMO. What do you think?  \nvmassol\\_ - (19:35): yes  \nvmassol\\_ - (19:35): tmortagne: we should upgrade to 2.2M2 don't you think?  \nvmassol\\_ - (19:35): in 2.2M1 there's the parent problem  \nvmassol\\_ - (19:36): ok export html wokring on home page of 2.1.1  \nvmassol\\_ - (19:36): but unusable  \nvmassol\\_ - (19:36): the CSS isn't exported as you said  \nvmassol\\_ - (19:37): so basically the export feature is broken   \ntmortagne - (19:38): 2.2M2 is supposed to be very soon but since 2.2M1 has been delayed a lot we should maybe delay 2.2M2 as well or it could be too short  \njerome\\_ - (19:39): CalebJamesDeLisl but you can't catch exceptions in velocity  \njerome\\_ - (19:39): or am I missing something ?  \nvmassol\\_ - (19:39): tmortagne: you mean for fixing the export?  \nCalebJamesDeLisl - (19:40): My thinking is the name of the captcha will only be statically set by the velocity coder and it would be much nicer to have it throw a friendly exception when they mess up.  \ntmortagne - (19:40): i mean for anything part of the release plan of 2.2  \nCalebJamesDeLisl - (19:40): Otherwise it would always return false which would make them think they were always getting the captcha wrong.  \nvmassol\\_ - (19:41): tmortagne: except for export (which is new to me) I asked earlier and it was ok  \nvmassol\\_ - (19:41): there's only sergiu who wasn't sure for the new colortheme UI  \njerome\\_ - (19:41): CalebJamesDeLisl, yes but since you can't try/catch in velocity, this would mean potentially displaying the error/stack trace in the UI  \njerome\\_ - (19:42): CalebJamesDeLisl, which might be acceptable if the velocity developer was not supposed to do that in the first place  \nvmassol\\_ - (19:42): I'd still like that we finish all we want in for Monday and then have 1-3 days to wrap up everything  \nvmassol\\_ - (19:42): (this would delay the release by 1-3 days)  \nnuvolari - (19:42): :/ what am I doing wrong? I am trying to have a spanning table header (over 2 columns). I tried: '|= (% colspan=\"2\" %) Parent OS' and '|= (% colspan=\"2\" %) | Parent OS'  \nCalebJamesDeLisl - (19:42): Yes, that's the idea. Otherwise the velocity developer would think it was okay except that it would always say the captcha answer was wrong.  \njerome\\_ - (19:42): but if it's something that can happen despite \"good\" velocity code, then it should not throw exceptions  \njerome\\_ - (19:43): ok  \nvmassol\\_ - (19:43): tmortagne: so now we need to find who could work on fixing the export? Do you know how hard it is?  \nCalebJamesDeLisl - (19:43): I can't imagine a use case where names of captchas would not be hardcoded, can you?  \njerome\\_ - (19:43): I don't know  \ntmortagne - (19:43): vmassol\\_: not really  \njerome\\_ - (19:44): haven't thought about it :)  \nvmassol\\_ - (19:44): tmortagne: not really hard, meaning quite easy? :)  \ntmortagne - (19:44): vmassol\\_: i don't really know  \ntmortagne - (19:44): \u00a0vmassol\\_: doe snot sounds trivial  \ntmortagne - (19:45): well depending how nicely we want to add the support  \nvmassol\\_ - (19:45): are you busy for the coming few days? :)  \nvmassol\\_ - (19:45): we need to decide how important this is. I think it's quite important since it's a regression  \nvmassol\\_ - (19:46): (well I know since it's a new skin it's not technically a regession since it has never worked but from user pov they upgrade user the new skin and find they cannot export)  \nvmassol\\_ - (19:46): s/user the new skin/use the new skin/  \ntmortagne - (19:47): vmassol\\_: i don't know if i have time to work on this, in theory i don't since i still have work to do on my officials tasks for 2.2 plus other stuffs  \narkub left at 19:48 (Read error: 113 (No route to host)  \nCalebJamesDeLisl - (19:49): When was velocity's treatment of null (assigning null) changed? I missed the email.  \nvmassol\\_ - (19:50): CalebJamesDeLisl: at the beginning of 2.2M1  \nvmassol\\_ - (19:50): proposed and done by sergiu  \nCalebJamesDeLisl - (19:51): Thanks.  \nvmassol\\_ - (19:52): got to go, bbl  \nvmassol\\_ left at 19:53 (  \nvmassol joined #xwiki at 19:56  \ntmortagne left at 20:20 (\"Ex-Chat\"  \nCalebJamesDeLisl - (20:23): Can users activate components by adding a components.txt to WEB-INF/classes?  \nvmassol - (20:23): CalebJamesDeLisl: that should work but you'll need to restart too  \nCalebJamesDeLisl - (20:24): Okay, I was just wondering because the sound captcha required adding freetts.jar and a few other jars and I wouldn't want the users to have to recompile.  \nvmassol - (20:24): you can also package the component to add in a jar and have a META-INF/components.txt in there and activate by putting the jar in WEB-INF/lib  \nvmassol - (20:24): dinner time  \nCalebJamesDeLisl - (20:25): enjoy.  \nsdumitriu - (21:24): Yay, breakfast :)  \nlucaa joined #xwiki at 21:40  \nvmassol left at 23:31 (Client Quit  \n\n"}