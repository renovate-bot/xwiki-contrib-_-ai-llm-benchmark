{"id": "dev:IRC.xwikiArchive20140314", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140314", "title": "IRC Archive for channel #xwiki on 14 March 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has quit  \n00:35\u00a0<sburjan`>\u00a0has joined #xwiki  \n00:36\u00a0<Chuguniy|2>\u00a0has joined #xwiki  \n00:37\u00a0<polx\\_>\u00a0has joined #xwiki  \n00:38\u00a0<Chuguniy|2>\u00a0has quit  \n00:38\u00a0<jndlc>\u00a0has quit  \n00:41\u00a0<Chuguniy>\u00a0has quit  \n00:45\u00a0<sburjan>\u00a0has quit  \n00:45\u00a0<sburjan`>\u00a0is now known as <sburjan>  \n00:46\u00a0<polx\\_>\u00a0is now known as <polx>  \n01:35\u00a0<Denis>\u00a0has joined #xwiki  \n01:44\u00a0<vmassol>\u00a0has joined #xwiki  \n01:48\u00a0<vmassol>\u00a0has quit  \n01:50\u00a0<OSIMasson>\u00a0has quit  \n01:50\u00a0<OSIMasson>\u00a0has joined #xwiki  \n02:02\u00a0<D-Spair>\u00a0has quit  \n02:03\u00a0<D-Spair>\u00a0has joined #xwiki  \n02:46\u00a0<vmassol>\u00a0has joined #xwiki  \n02:49\u00a0<vmassol>\u00a0has quit  \n03:14\u00a0<polx>\u00a0has quit  \n03:22\u00a0<Denis>\u00a0has quit  \n03:34\u00a0<polx>\u00a0has joined #xwiki  \n03:45\u00a0<vmassol>\u00a0has joined #xwiki  \n03:50\u00a0<vmassol>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:40\u00a0<polx\\_>\u00a0has joined #xwiki  \n04:44\u00a0<polx>\u00a0has quit  \n04:44\u00a0<polx\\_>\u00a0is now known as <polx>  \n04:46\u00a0<vmassol>\u00a0has joined #xwiki  \n04:51\u00a0<vmassol>\u00a0has quit  \n05:47\u00a0<vmassol>\u00a0has joined #xwiki  \n05:52\u00a0<vmassol>\u00a0has quit  \n05:59\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n05:59\u00a0<andreeapopescu>\u00a0has quit  \n06:03\u00a0<Denis>\u00a0has quit  \n06:39\u00a0<mflorea>\u00a0has joined #xwiki  \n06:48\u00a0<vmassol>\u00a0has joined #xwiki  \n06:52\u00a0<vmassol>\u00a0has quit  \n07:06\u00a0<evalica>\u00a0has joined #xwiki  \n07:37\u00a0<vmassol>\u00a0has joined #xwiki  \n08:02\u00a0<vmassol>\u00a0good morning  \n08:02\u00a0<vmassol>\u00a0FTR I spent a big part of the afternoon working on http://jira.xwiki.org/browse/XE-1370# yesterday as part of BFD. Im' still on it but getting closer\u2026  \n08:13\u00a0<polx>\u00a0has quit  \n08:14\u00a0<polx>\u00a0has joined #xwiki  \n08:29\u00a0<Denis>\u00a0has joined #xwiki  \n08:47\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:54\u00a0<cjd>\u00a0has joined #xwiki  \n09:12\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:35\u00a0<evalica>\u00a0has quit  \n09:37\u00a0<DarkKnightCZ>\u00a0mflorea, sdumitriu: hi, is there a way, how to interact with wysiwyg editors content using javascript api? i need to modify current \"on paste\" behaviour to add \"insert row image data\" functionality... currently it inserts image if pasted image contains url reference (right click on web image -> copy, wysiwyg adds it as [[image]]), but if you copy image from mspaint for example, it doesn't work -> http://jsfiddle.net/3QB6S/ \u00a0creates this functionality and  \n09:38\u00a0<DarkKnightCZ>\u00a0i know there is possibility of modifying plugin/importer/PasteManager.java, but i couldn't find any way how to use fileapi with gwt  \n09:38\u00a0<sbaloul>\u00a0has joined #xwiki  \n09:41\u00a0<mflorea>\u00a0DarkKnightCZ: see http://extensions.xwiki.org/xwiki/bin/view/Extension/WYSIWYG+Editor+Module#HAdjusttheeditorUIfromaJavaScriptExtension , you need to access the iframe element that is used for rich text area and then listen to the paste even on the inner window or document (iframe.contentWindow.document), I don't know exactly which, you need to try it out  \n09:42\u00a0<mflorea>\u00a0(read the comment in the example, as the example is pretty old)  \n09:43\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n09:43\u00a0<DarkKnightCZ>\u00a0ok, will try that, thanks  \n09:44\u00a0<sorinello>\u00a0has joined #xwiki  \n09:44\u00a0<sorinello>\u00a0has left #xwiki  \n09:49\u00a0<lucaa>\u00a0has joined #xwiki  \n09:53\u00a0<polx>\u00a0has quit  \n09:54\u00a0<msmeria>\u00a0has joined #xwiki  \n09:59\u00a0<polx>\u00a0has joined #xwiki  \n09:59\u00a0<DarkKnightCZ>\u00a0mflorea: and how can i modify the current selection? i figured out i can use getSelectionRange().endContainer to modify plain text... the buttons in menu have to call something, right?  \n10:03\u00a0<mflorea>\u00a0DarkKnightCZ what do you want to achieve exactly? there is setSelectionRange  \n10:04\u00a0<cjd>\u00a0I think if you use getSelectionRange() to get the location of the cursor, you can then just manipulate the DOM manually and the WYSIWYG will accept that  \n10:04\u00a0<mflorea>\u00a0yep  \n10:04\u00a0<cjd>\u00a0IE insert an <img>  \n10:05\u00a0<cjd>\u00a0WYSIWYG works on HTML, not wiki syntax, it posts HTML back to XWiki which converts it back into wiki syntax #magic  \n10:05\u00a0<cjd>\u00a0rather impressive magic if you ask me :)  \n10:06\u00a0<sbaloul>\u00a0has quit  \n10:09\u00a0<sbaloul>\u00a0has joined #xwiki  \n10:09\u00a0<DarkKnightCZ>\u00a0cjd, mflorea: yep, but getSelectionRange does not contain dom element, it contains startContainer (text), endContainer (text) and startOffset/endOffset... if i modify those containers, inserted values are text (so inserting <img src=\"url\"> inserts plain text, not image)  \n10:09\u00a0<cjd>\u00a0really?  \n10:09\u00a0<cjd>\u00a0I thought it contained a #text element  \n10:10\u00a0<mflorea>\u00a0startContainer and endContainer are DOM node, They can be #text nodes, but still DOM nodes  \n10:10\u00a0<cjd>\u00a0right, so you'll just want to split the #text element and put a new element between them  \n10:10\u00a0<mflorea>\u00a0please read the specification (which is linked from the WYSIWYG doc I gave you)  \n10:11\u00a0<mflorea>\u00a0offset is either offset in a text node or offset in the list of children  \n10:11\u00a0<mflorea>\u00a0child elements  \n10:11\u00a0<DarkKnightCZ>\u00a0hmm, i see now, i think i may be blind :)  \n10:11\u00a0<mflorea>\u00a0http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html  \n10:11\u00a0<mflorea>\u00a0but  \n10:12\u00a0<mflorea>\u00a0if you want to replace the current selection or insert at the current caret position, you don't need to play with the selection  \n10:12\u00a0<mflorea>\u00a0the editor provides something simpler  \n10:13\u00a0<cjd>\u00a0>or offset in the list of children <-- this is rather annoying (for me)  \n10:13\u00a0<mflorea>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/WYSIWYG+Editor+Module#HCommandManager  \n10:14\u00a0<polx>\u00a0has quit  \n10:15\u00a0<mflorea>\u00a0editor.getCommandManager().execute('insertHTML', '<em>foo</em>')  \n10:15\u00a0<cjd>\u00a0hmm, is there a list of commands for the command manager? You've got me curious  \n10:16\u00a0<mflorea>\u00a0https://developer.mozilla.org/en/docs/Rich-Text\\_Editing\\_in\\_Mozilla  \n10:16\u00a0<mflorea>\u00a0most of them should work  \n10:16\u00a0<cjd>\u00a0ahh I see  \n10:16\u00a0<mflorea>\u00a0https://developer.mozilla.org/en/docs/Rich-Text\\_Editing\\_in\\_Mozilla#Executing\\_Commands  \n10:16\u00a0<cjd>\u00a0this contentEditable business is new to me as well  \n10:17\u00a0<mflorea>\u00a0there are also some custom commands we implemented, but they're not documented, you would need to check the code  \n10:17\u00a0<cjd>\u00a0:)  \n10:18\u00a0<mflorea>\u00a0just a sec  \n10:18\u00a0<DarkKnightCZ>\u00a0nice... but insertHTML returns false (also isEnabled('insertHTML') returns false)... if i use execute('italic'), it works  \n10:18\u00a0<mflorea>\u00a0https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-gwt/xwiki-platform-gwt-user/src/main/java/org/xwiki/gwt/user/client/ui/rta/cmd/Command.java  \n10:19\u00a0<mflorea>\u00a0DarkKnightCZ: is the rich text area focused?  \n10:19\u00a0<DarkKnightCZ>\u00a0got it, inserthtml  \n10:19\u00a0<mflorea>\u00a0(I don't think the case matters)  \n10:19\u00a0<DarkKnightCZ>\u00a0matters, inserthtml works, insertHTML doesn't  \n10:20\u00a0<mflorea>\u00a0ok, good to know :)  \n10:21\u00a0<cjd>\u00a0public static final Command SOLVE\\_ALL\\_OF\\_CJDS\\_PROBLEMS = new Command(\"moremagic\");  \n10:21\u00a0<cjd>\u00a0it's missing  \n10:21\u00a0<DarkKnightCZ>\u00a0yep :) it would be nice to have at least Commands documentation there (to see available commands)  \n10:40\u00a0<spu7nic>\u00a0has joined #xwiki  \n10:45\u00a0<spu7nic>\u00a0Hello :)  \n10:48\u00a0<Chuguniy>\u00a0has joined #xwiki  \n10:49\u00a0<spu7nic>\u00a0has left #xwiki  \n11:11\u00a0<Inge->\u00a0has quit  \n11:22\u00a0<Inge->\u00a0has joined #xwiki  \n11:37\u00a0<Slashman>\u00a0has joined #xwiki  \n11:38\u00a0<sbaloul>\u00a0has quit  \n11:41\u00a0<sbaloul>\u00a0has joined #xwiki  \n11:46\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:49\u00a0<sbaloul2>\u00a0has joined #xwiki  \n11:50\u00a0<sbaloul>\u00a0has quit  \n11:52\u00a0<polx>\u00a0has joined #xwiki  \n11:55\u00a0<sbaloul2>\u00a0is now known as <sbaloul>  \n12:04\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n12:16\u00a0<polx>\u00a0has quit  \n12:17\u00a0<msmeria1>\u00a0has joined #xwiki  \n12:19\u00a0<msmeria1>\u00a0has quit  \n12:20\u00a0<polx>\u00a0has joined #xwiki  \n12:21\u00a0<msmeria1>\u00a0has joined #xwiki  \n12:22\u00a0<msmeria1>\u00a0has quit  \n12:24\u00a0<polx>\u00a0has quit  \n12:35\u00a0<cjd>\u00a0has quit  \n12:39\u00a0<sbaloul>\u00a0has quit  \n12:39\u00a0<msmeria>\u00a0has quit  \n12:42\u00a0<msmeria>\u00a0has joined #xwiki  \n12:43\u00a0<evalica>\u00a0has joined #xwiki  \n12:47\u00a0<cjd>\u00a0has joined #xwiki  \n12:50\u00a0<msmeria>\u00a0has quit  \n12:51\u00a0<msmeria>\u00a0has joined #xwiki  \n12:53\u00a0<polx>\u00a0has joined #xwiki  \n12:56\u00a0<vmassol>\u00a0msmeria: fyi I have working installer for win 8.1 :)  \n12:56\u00a0<vmassol>\u00a0however I'm trying to improve a few other things  \n12:56\u00a0<vmassol>\u00a0first one being to make xwiki start even if there's no JAVA in the PATH  \n13:01\u00a0<lucaa>\u00a0has quit  \n13:47\u00a0<polx>\u00a0has quit  \n13:52\u00a0<polx>\u00a0has joined #xwiki  \n14:16\u00a0<xwikibot>\u00a0has joined #xwiki  \n14:27\u00a0<vmassol>\u00a0has quit  \n14:27\u00a0<evalica>\u00a0has quit  \n14:40\u00a0<vmassol>\u00a0has joined #xwiki  \n14:40\u00a0<sbaloul>\u00a0has joined #xwiki  \n14:49\u00a0<sbaloul>\u00a0has quit  \n14:50\u00a0<sbaloul>\u00a0has joined #xwiki  \n15:01\u00a0<andreeapopescu>\u00a0has quit  \n15:02\u00a0<evalica>\u00a0has joined #xwiki  \n15:05\u00a0<GuillaumeF>\u00a0has quit  \n15:05\u00a0<cjd>\u00a0has quit  \n15:10\u00a0<sbaloul2>\u00a0has joined #xwiki  \n15:12\u00a0<Chuguniy>\u00a0has quit  \n15:12\u00a0<mflorea>\u00a0vmassol: ping  \n15:12\u00a0<vmassol>\u00a0ping  \n15:12\u00a0<vmassol>\u00a0pong  \n15:13\u00a0<mflorea>\u00a0how often is the github stats on hall of fame updated? can I trigger an update? Is this done from http://dev.xwiki.org/xwiki/bin/view/GitHubStats/ ? by importing repos and committers?  \n15:14\u00a0<sbaloul>\u00a0has quit  \n15:14\u00a0<mflorea>\u00a0I need updated stats for a presentation I'm going to do tomorrow  \n15:14\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n15:16\u00a0<mflorea>\u00a0vmassol  \n15:18\u00a0<vmassol>\u00a0mflorea: it's live  \n15:19\u00a0<vmassol>\u00a0:)  \n15:19\u00a0<mflorea>\u00a0well, the number of commits for some contributors seems too low  \n15:19\u00a0<vmassol>\u00a0otp  \n15:19\u00a0<mflorea>\u00a0ok  \n15:19\u00a0<tmortagne>\u00a0looks like http://dev.xwiki.org/xwiki/bin/view/Community/HallOfFame is still wrong by the way  \n15:20\u00a0<tmortagne>\u00a0\"Clemens Robbenhaar\" is read with 0 commits  \n15:20\u00a0<mflorea>\u00a0exactly  \n15:20\u00a0<tmortagne>\u00a0red  \n15:20\u00a0<tmortagne>\u00a0there is a \"Clemens Klein-Robbenhaar\" with 3 commits but all that put together we are very far from ClemensR commits real number...  \n15:21\u00a0<mflorea>\u00a0yep  \n15:21\u00a0<tmortagne>\u00a0either its very buggy or its not live at all  \n15:22\u00a0<polx>\u00a0has quit  \n15:23\u00a0<mflorea>\u00a0ohloh shows 66 for Clemens  \n15:23\u00a0<tmortagne>\u00a056 in https://github.com/xwiki/xwiki-platform/graphs/contributors  \n15:23\u00a0<tmortagne>\u00a0(but that's only platform)  \n15:24\u00a0<tmortagne>\u00a0could not find the same graph for the whole organization  \n15:24\u00a0<mflorea>\u00a0yeah, it's a pity  \n15:24\u00a0<mflorea>\u00a0it's only per repo  \n15:25\u00a0<tmortagne>\u00a0I really think http://dev.xwiki.org/xwiki/bin/view/Community/HallOfFame is old, all numbers are too low  \n15:26\u00a0<tmortagne>\u00a0removing the cache macro to see  \n15:26\u00a0<polx>\u00a0has joined #xwiki  \n15:27\u00a0<tmortagne>\u00a0not better  \n15:27\u00a0<tmortagne>\u00a0so it does not seems to be a cache issue on our side  \n15:27\u00a0<tmortagne>\u00a0maybe a range issue in the way we call github API  \n15:28\u00a0<Denis>\u00a0tmortagne: if it was up to date, I should be listed in contrib  \n15:28\u00a0<polx>\u00a0has quit  \n15:28\u00a0<mflorea>\u00a0let's wait for vmassol, he's otp  \n15:28\u00a0<tmortagne>\u00a0Denis: there should be a lot more people in contrib  \n15:29\u00a0<tmortagne>\u00a0I can list at least a few people including you that should be in there and are not  \n15:35\u00a0<polx>\u00a0has joined #xwiki  \n15:40\u00a0<GuillaumeF>\u00a0has joined #xwiki  \n15:41\u00a0<tmortagne>\u00a0vmassol: XINFRA-150  \n15:55\u00a0<vmassol>\u00a0has quit  \n15:59\u00a0<polx>\u00a0has quit  \n16:03\u00a0<vmassol>\u00a0has joined #xwiki  \n16:08\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n16:12\u00a0<vmassol>\u00a0mflorea: I could push \u00a0the version I have so far in git for the github stat app  \n16:12\u00a0<vmassol>\u00a0if you wish to try it out locally  \n16:12\u00a0<polx>\u00a0has joined #xwiki  \n16:13\u00a0<vmassol>\u00a0actually it's pushed already :)  \n16:13\u00a0<vmassol>\u00a0you just need to build it and install it locally  \n16:13\u00a0<mflorea>\u00a0ok, so all I need si to install the github stats app?  \n16:14\u00a0<mflorea>\u00a0ok  \n16:14\u00a0<vmassol>\u00a0yes  \n16:14\u00a0<mflorea>\u00a0then? import the repos and committers?  \n16:14\u00a0<vmassol>\u00a0(the 2.0-SNAPSHOT version)  \n16:14\u00a0<vmassol>\u00a0yes  \n16:14\u00a0<mflorea>\u00a0github link?  \n16:14\u00a0<vmassol>\u00a0I didn't realease it because AFAIR I had some remaining glitches  \n16:14\u00a0<vmassol>\u00a0but it should be mostly working fine  \n16:14\u00a0<vmassol>\u00a0git://github.com/xwiki-contrib/application-github-statistics.git  \n16:14\u00a0<mflorea>\u00a0ok, thanks  \n16:15\u00a0<mflorea>\u00a0trying it out  \n16:15\u00a0<vmassol>\u00a0was based on 5.3-SNAPSHOT, I could upgrade that to 5.3 final now  \n16:17\u00a0<vmassol>\u00a0this app is actually a lot more complex than it seems :)  \n16:18\u00a0<vmassol>\u00a0(I tried to automate the max stuff)  \n16:20\u00a0<mflorea>\u00a0tmortagne: in case you don't have anything else better to do, check http://ci.xwiki.org/job/xwiki-enterprise-test-webstandards-5.4.x/lastBuild/org.xwiki.enterprise$xwiki-enterprise-test-webstandards/testReport/org.xwiki.test.webstandards.framework/DefaultValidationTest/Validating\\_XHTML\\_validity\\_for\\_\\_space\\_Blog\\_\\_page\\_Categories\\_executed\\_with\\_credentials\\_Admin\\_admin/  \n16:20\u00a0<mflorea>\u00a0com.thoughtworks.xstream.io.StreamException: \u00a0: input contained no data  \n16:20\u00a0<mflorea>\u00a0I've seen this locally a few times  \n16:21\u00a0<vmassol>\u00a0tmortagne: shouldn't you be on holidays today? Got bored? :)  \n16:23\u00a0<tmortagne>\u00a0was until yesterday  \n16:24\u00a0<vmassol>\u00a0ah I was sure it's was till the 17th actually, ok  \n16:26\u00a0<tmortagne>\u00a0mflorea: looks like that was an empty status.xml and it failed to load it, I doubt it has anythin to do with this particular page but not sure where this xml could come from  \n16:27\u00a0<mflorea>\u00a0ok  \n16:28\u00a0<D-Spair>\u00a0has quit  \n16:31\u00a0<vmassol>\u00a0mflorea: org.xwiki.contrib:application-github-statistics-ui  \n16:31\u00a0<vmassol>\u00a0(to install)  \n16:31\u00a0<vmassol>\u00a0arg  \n16:31\u00a0<mflorea>\u00a0yes, but I'm having some issues after adding the local maven repo to EM config  \n16:32\u00a0<vmassol>\u00a0(on 6.0-SNAPSHOT)  \n16:32\u00a0<mflorea>\u00a0I'll just install it hand  \n16:32\u00a0<vmassol>\u00a0used to work fine in 5.3  \n16:32\u00a0<vmassol>\u00a0...  \n16:32\u00a0<vmassol>\u00a0we probably didn't have any dep on jackson in core at that time  \n16:33\u00a0<vmassol>\u00a0(jackson-mapper-asl at least)  \n16:33\u00a0<D-Spair>\u00a0has joined #xwiki  \n16:33\u00a0<vmassol>\u00a0so let's see who's brining this dep in the core  \n16:34\u00a0<tmortagne>\u00a0rest module  \n16:34\u00a0<tmortagne>\u00a0XWIKI-9136  \n16:36\u00a0<vmassol>\u00a0ok I'll try an exclude from the org.restlet.ext.jackson dep to bring a newer version of jackson  \n16:37\u00a0<tmortagne>\u00a0vmassol: why exclude ? dependencyManagement is better IMO (unless the id changed)  \n16:38\u00a0<vmassol>\u00a0yes indeed, it factorizes more  \n16:38\u00a0<msmeria>\u00a0has quit  \n16:38\u00a0<vmassol>\u00a0will try with the latest 1.9.13  \n16:39\u00a0<vmassol>\u00a0tmortagne: in platform-core/pom.xml right?  \n16:40\u00a0<vmassol>\u00a0hesitating with commons at top level, we have a bit of a mix  \n16:40\u00a0<tmortagne>\u00a0not sure, maybe commons would be cleaner since we use other jackson projects in commons  \n16:40\u00a0<vmassol>\u00a0we use jackson in commons?  \n16:40\u00a0<tmortagne>\u00a0yep  \n16:40\u00a0<vmassol>\u00a0ok then yes  \n16:40\u00a0<tmortagne>\u00a0velocity json tool  \n16:41\u00a0<vmassol>\u00a0hmm  \n16:41\u00a0<vmassol>\u00a0its not the same groupid  \n16:41\u00a0<vmassol>\u00a0<groupId>com.fasterxml.jackson.core</groupId>  \n16:41\u00a0<vmassol>\u00a0vs <groupId>org.codehaus.jackson</groupId>  \n16:41\u00a0<evalica>\u00a0has quit  \n16:41\u00a0<vmassol>\u00a0anyway  \n16:42\u00a0<OSIMasson>\u00a0has quit  \n16:42\u00a0<vmassol>\u00a0makes more sense in commons now that we have a single product  \n16:47\u00a0<vmassol>\u00a0that's really worrying  \n16:48\u00a0<vmassol>\u00a0the fact that quite easily extensions stop being installable  \n16:48\u00a0<vmassol>\u00a0as we upgrade deps in XE  \n16:49\u00a0<ClemensR>\u00a0has left #xwiki  \n16:53\u00a0<vmassol>\u00a0tmortagne: got the following when installing the githubapp stat app: https://gist.githubusercontent.com/vmassol/9550509/raw/c67696e72ec0edd3582abcb0c9afa4c5ee6faca0/gistfile1.txt  \n16:53\u00a0<vmassol>\u00a0it means one of my XAR XML file is not correct?  \n16:54\u00a0<vmassol>\u00a0a pity that the name of the file isn't printed  \n16:54\u00a0<tmortagne>\u00a0vmassol: \"the fact that quite easily extensions stop being installable\" you won't have any issue with a \"too recent\" code extension  \n16:54\u00a0<tmortagne>\u00a0s/code/core/  \n16:55\u00a0<vmassol>\u00a0yes sure, but there's also the use case we're having with jackson  \n16:56\u00a0<tmortagne>\u00a0regarding your XAR, you are on 6.0 snapshot ?  \n16:56\u00a0<vmassol>\u00a0yes  \n17:00\u00a0<tmortagne>\u00a0either the XML is wrong or there is a bug  \n17:00\u00a0<tmortagne>\u00a0sounds like a class of the object is not in the XML  \n17:01\u00a0<tmortagne>\u00a0according to the stack trace  \n17:01\u00a0<vmassol>\u00a0it used to work in 5.3 though...  \n17:01\u00a0<vmassol>\u00a0so I believe we have some regression  \n17:01\u00a0<vmassol>\u00a0ie old extenskions that have some problems are not going to be importable on 6.0  \n17:01\u00a0<vmassol>\u00a0\\*extensions  \n17:02\u00a0<tmortagne>\u00a06.0 is not released yet and I did not said that what you have should not be fixed  \n17:02\u00a0<vmassol>\u00a0I didn't say that you didn't want to fix it either :)  \n17:02\u00a0<vmassol>\u00a0I'm just reporting the current state  \n17:05\u00a0<tmortagne>\u00a0note that if the issue is a missing class in the XML it's working only by luck in old packager and is generally produced because of a bug  \n17:05\u00a0<vmassol>\u00a0tmortagne: if you want to reproduce you can use the XAR XML files from githubstats app  \n17:05\u00a0<tmortagne>\u00a0it's not excatly a common case  \n17:06\u00a0<vmassol>\u00a0it would be nice to know which file is concerned  \n17:06\u00a0<vmassol>\u00a0(in the stack trace)  \n17:06\u00a0<vmassol>\u00a0in the install log the previous line is:  \n17:06\u00a0<vmassol> Done installing document [http://localhost:8080/xwiki/bin/view/Main/WebHome \u00bb http://localhost:8080/xwiki/bin/view/GitHubStats/WebHome \u00bb http://localhost:8080/xwiki/bin/view/GitHubStats/ListRepositories]  \n17:06\u00a0<vmassol>\u00a0and the next one after the error is:  \n17:06\u00a0<vmassol> Installing document [http://localhost:8080/xwiki/bin/view/Main/WebHome \u00bb http://localhost:8080/xwiki/bin/view/GitHubStats/WebHome \u00bb http://localhost:8080/xwiki/bin/view/GitHubStats/Translations]  \n17:07\u00a0<vmassol>\u00a0any idea which file it is that's impacted?  \n17:07\u00a0<vmassol>\u00a0both files seem to have been imported ok  \n17:07\u00a0<vmassol>\u00a0maybe it's another one that's not listed  \n17:08\u00a0<vmassol>\u00a0yes it's another one  \n17:08\u00a0<vmassol>\u00a0I can see there are 12 imported but I have 13 in my app  \n17:08\u00a0<vmassol>\u00a0checking the missing one...  \n17:09\u00a0<vmassol>\u00a0ok it's RepositoryClass.xml  \n17:09\u00a0<vmassol>\u00a0tmortagne: this one: https://gist.githubusercontent.com/vmassol/9550831/raw/095c95b967b14a12239d615e2f8a30053303368e/gistfile1.txt  \n17:10\u00a0<tmortagne>\u00a0so yes missing class in the XML  \n17:11\u00a0<tmortagne>\u00a0I will make wikistream support it better but you should regenerate this document properly  \n17:11\u00a0<vmassol>\u00a0what's missing exactly?  \n17:11\u00a0<tmortagne>\u00a0each object contain the XML of it's class in a XAR  \n17:12\u00a0<tmortagne>\u00a0look at last <object>  \n17:12\u00a0<tmortagne>\u00a0wikistream was expecting to find it  \n17:12\u00a0<vmassol>\u00a0XWiki.DocumentSheetBinding  \n17:12\u00a0<tmortagne>\u00a0yes  \n17:13\u00a0<tmortagne>\u00a0usually it means you expected it in a wiki where the class was not there anymore for some reason  \n17:13\u00a0<tmortagne>\u00a0s/expected/exported/  \n17:14\u00a0<vmassol>\u00a0ok found the <class> element in another page, going to copy it...  \n17:18\u00a0<vmassol>\u00a0ok works now  \n17:18\u00a0<cjd>\u00a0has joined #xwiki  \n17:21\u00a0<sdumitriu>\u00a0has quit  \n17:23\u00a0<andreeapopescu>\u00a0has left #xwiki  \n17:33\u00a0<vmassol>\u00a0let's hope I didn't break anything  \n17:33\u00a0<vmassol>\u00a0we/ I need to monitor the CI...  \n17:34\u00a0<vmassol>\u00a0(I didn't rebuild locally)  \n17:35\u00a0<vmassol>\u00a0tmortagne: we don't have a proper jira component for XCOMMONS-540, Not sure what component to use/create for this...  \n17:36\u00a0<vmassol>\u00a0it's not \"dev only\", it's not really \"dep upgrade\"  \n17:36\u00a0<vmassol>\u00a0well dep uprgades is the closest I can think of ATM...  \n17:40\u00a0<vmassol>\u00a0mflorea: I have the app working and installed through EM, ask me if you need help  \n17:41\u00a0<mflorea>\u00a0I have it locally too  \n17:42\u00a0<vmassol>\u00a0\"link authors\" is where the magic happens, it's trying to group the various authors for the same person together  \n17:43\u00a0<vmassol>\u00a0first \"import all authors from git\" is slow as it needs to checkout the git project in data/git  \n17:43\u00a0<vmassol>\u00a0\\*projects  \n17:44\u00a0<lucaa>\u00a0has quit  \n17:45\u00a0<lucaa>\u00a0has joined #xwiki  \n17:58\u00a0<woshilapin>\u00a0has quit  \n18:02\u00a0<vmassol>\u00a0hmm imported authors don't show up, debugging  \n18:03\u00a0<vmassol>\u00a0(in the LT)  \n18:03\u00a0<vmassol>\u00a0ah I know  \n18:05\u00a0<vmassol>\u00a0fixed  \n18:21\u00a0<tmortagne>\u00a0vmassol: back, sorry for the delay  \n18:22\u00a0<KermitTheFragger>\u00a0has quit  \n18:22\u00a0<vmassol>\u00a0tmortagne: it's ok I'm not blocked anymore  \n18:22\u00a0<vmassol>\u00a0all working now  \n18:22\u00a0<vmassol>\u00a0FYI just received the license for TC...  \n18:23\u00a0<tmortagne>\u00a0i'm fine with dependency upgrade  \n18:23\u00a0<vmassol>\u00a0ok let's leave it  \n18:23\u00a0<vmassol>\u00a0thanks  \n18:27\u00a0<tmortagne>\u00a0vmassol: you should maybe define a ${jackson.version} property  \n18:27\u00a0<tmortagne>\u00a0to make easier to not forget one when upgrading the version  \n18:28\u00a0<vmassol>\u00a0for 3 deps i'd have done it  \n18:28\u00a0<vmassol>\u00a0for 2 I hesitated  \n18:28\u00a0<vmassol>\u00a0:)  \n18:29\u00a0<tmortagne>\u00a0we are using other jackson module so we will probably want to add more in there at some point  \n18:29\u00a0<tmortagne>\u00a0s/module/modules/  \n18:30\u00a0<vmassol>\u00a0I checked and couldn' find more  \n18:30\u00a0<vmassol>\u00a0the velocity one doesn't count, it's not the same one  \n18:30\u00a0<vmassol>\u00a0we would need to check that btw  \n18:31\u00a0<vmassol>\u00a0ah  \n18:31\u00a0<vmassol>\u00a0https://github.com/FasterXML/jackson-core  \n18:31\u00a0<vmassol>\u00a0it's vesion 2.0 of jackson  \n18:31\u00a0<tmortagne>\u00a0\" it's not the same one\" that's why I talk about other modules  \n18:32\u00a0<tmortagne>\u00a0and yes it's not the same group id because you are using old stuff  \n18:32\u00a0<vmassol>\u00a0search for org.codehaus.jackson on this page  \n18:32\u00a0<vmassol>\u00a0what I did apparently was for jackson 1.x  \n18:33\u00a0<vmassol>\u00a0so northing to do  \n18:33\u00a0<vmassol>\u00a0\"that's why I talk about other modules\" not sure what you're talking about  \n18:33\u00a0<vmassol>\u00a0I checked all pom.xml  \n18:33\u00a0<vmassol>\u00a0and couldn't find other ref to jackson deps  \n18:33\u00a0<cjd>\u00a0has quit  \n18:35\u00a0<tmortagne>\u00a0vmassol: \"and couldn't find other ref to jackson deps\" I don(t understand what you means, jackson-core dependency in velocity is not a reference to jackson ?  \n18:36\u00a0<vmassol>\u00a0jackson 2 not jackson 1  \n18:38\u00a0<vmassol>\u00a0if you want props you'll need 2: jackson1.version and jackson2.version. Personally I think it's a bit early to use properties but I'm not against defining the 2 if you want that  \n18:38\u00a0<tmortagne>\u00a0what I find weird is that we use jackson 1 for new stuff  \n18:39\u00a0<vmassol>\u00a0restlet is not very new stuff  \n18:39\u00a0<vmassol>\u00a0it's reslet that uses the old version of jackson, not us  \n18:39\u00a0<vmassol>\u00a0\\*restlet  \n18:39\u00a0<tmortagne>\u00a0technically it's us using old version of restlet...  \n18:40\u00a0<vmassol>\u00a0sure feel free to use a newer version if you know how to do it and want to test it :)  \n18:40\u00a0<vmassol>\u00a0you could ask mflorea why he did that  \n18:40\u00a0<vmassol>\u00a0maybe restlet doesn't have anything newer  \n18:41\u00a0<vmassol>\u00a0maybe changing all our restlet version was too much work  \n18:41\u00a0<vmassol>\u00a0AFAIK marius only added one restlet dep  \n18:41\u00a0<vmassol>\u00a0(the jackson one)  \n18:41\u00a0<vmassol>\u00a0and he reused: \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<version>${restlet.version}</version>  \n18:41\u00a0<vmassol>\u00a0ugrading restlet is more work  \n18:42\u00a0<vmassol>\u00a0(probably)  \n18:42\u00a0<vmassol>\u00a0they have 2.1.7 apparently  \n18:43\u00a0<vmassol>\u00a0even in 2.1.7 they still use jackson 1.x  \n18:43\u00a0<vmassol>\u00a0so that wouldn't have helped...  \n18:43\u00a0<vmassol>\u00a0FTR they use 1.9.8 in 2.1.7  \n18:59\u00a0<sbaloul>\u00a0has joined #xwiki  \n18:59\u00a0<sbaloul2>\u00a0has quit  \n19:03\u00a0<tmortagne>\u00a0has quit  \n19:05\u00a0<abusenius\\_>\u00a0has joined #xwiki  \n19:11\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:12\u00a0<vmassol>\u00a0has quit  \n19:24\u00a0<Slashman>\u00a0has quit  \n19:32\u00a0<sdumitriu>\u00a0has quit  \n19:33\u00a0<OSIMasson>\u00a0has joined #xwiki  \n19:34\u00a0<OSIMasson>\u00a0has left #xwiki  \n19:38\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:44\u00a0<GuillaumeF>\u00a0has quit  \n20:14\u00a0<polx>\u00a0has quit  \n20:38\u00a0<lucaa>\u00a0has quit  \n20:38\u00a0<D-Spair>\u00a0has quit  \n20:40\u00a0<D-Spair>\u00a0has joined #xwiki  \n20:42\u00a0<polx>\u00a0has joined #xwiki  \n21:15\u00a0<sbaloul>\u00a0has quit  \n21:35\u00a0<xwikibot>\u00a0has joined #xwiki  \n22:18\u00a0<vmassol>\u00a0has joined #xwiki  \n23:02\u00a0<vmassol>\u00a0has quit  \n23:07\u00a0<Denis>\u00a0has quit  \n23:10\u00a0<abusenius\\_>\u00a0has quit  \n23:22\u00a0<Inge->\u00a0has quit  \n23:22\u00a0<Inge->\u00a0has joined #xwiki  \n23:32\u00a0<vmassol>\u00a0has joined #xwiki  \n23:37\u00a0<vmassol>\u00a0has quit  \n23:38\u00a0<mflorea>\u00a0has quit  \n23:57\u00a0<Denis>\u00a0has joined #xwiki\n"}