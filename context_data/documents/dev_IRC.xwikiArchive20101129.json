{"id": "dev:IRC.xwikiArchive20101129", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20101129", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu left at 00:05 (Read error: Connection reset by peer  \nsburjan` left at 00:50 (  \nsburjan` joined #xwiki at 00:51  \nsburjan` left at 01:15 (  \nsburjan` joined #xwiki at 01:19  \nSvenDowideit\\_ left at 03:12 (Changing host  \nSvenDowideit\\_ joined #xwiki at 03:12  \nSvenDowideit\\_ is now known as SvenDowideit (~SvenDowid@foswiki/developer/SvenDowideit  \nsdumitriu left at 04:29 (Quit: Leaving.  \nvenkatna joined #xwiki at 05:29  \nvenkatna left at 05:30 (Client Quit  \nabusenius\\_ left at 07:10 (Ping timeout: 255 seconds  \nvmassol joined #xwiki at 07:48  \nmflorea joined #xwiki at 08:19  \nrrodriguez left at 08:30 (Quit: rrodriguez  \ntmortagne joined #xwiki at 08:41  \nvmassol - (08:52): good morning  \nvmassol - (08:53): I'd like to do a quick spike today on creating a new extension.xwiki.org (or extensions.xwiki.org), based on http://dev.xwiki.org/xwiki/bin/view/Drafts/XWikiExtensionRepositoryRedesign and http://xwiki.markmail.org/thread/phuqob2os2beo3jy  \nvmassol - (08:54): (I wouldn't touch the last part of the proposal, just the new extension class + home page display + individual page display)  \nvmassol - (08:54): I'll post questions/ideas here as I progress so those who want to participate can  \nvmassol - (08:54): once we have something that looks good, we can write migration scripts  \nvmassol - (08:55): I'd like especially tmortagne's feedback since this should be compatible with the extension manager  \ntmortagne - (08:55): vmassol: I will help I think  \ntmortagne - (08:55): for compatibility I don't think it's really an issue  \nvmassol - (08:56): one idea in this domain is to tell if a given extension is in the/a maven repo and instead of filling metadata just to give an groupId+artifactId+version  \nvmassol - (08:56): (actually just groupId+artifactId maybe)  \ntmortagne - (08:56): as soon as you don't need to be human to navigate in the repo it should be ok, extension manager does not have much constrains on what a repository should be  \nvmassol - (08:57): so either manually fill data or point to a pom and the display sheet would use that to extract data  \nvmassol - (08:57): for now we're only going to use the handfilled data  \ntmortagne - (08:58): ok  \nvmassol - (08:58): ok so I'll 1) create extension.xwiki.org and 2) start working on the ExtensionClass page  \nvmassol - (08:58): then I'll send it for review  \nsburjan joined #xwiki at 08:58  \nlucaa joined #xwiki at 08:59  \nsabageru joined #xwiki at 08:59  \nlucaa left at 09:06 (Ping timeout: 250 seconds  \nvmassol - (09:09): installing app manager/wiki manager on xwiki.org  \nvmassol - (09:12): hmmm there's a {pre} again in the admin, on the Import page?. checking locally  \nvmassol - (09:12): I wonder if we haven't broken the admin app by converting some parts of it  \nvmassol - (09:13): seems we have a 2.0 ?> 1.0 bug somewhere  \nsburjan - (09:13): vmassol: I saw that on all admin sections on a Cloud Instance  \nvmassol - (09:13): seems ok locally  \nvmassol - (09:14): so converting XWikiPreferences is not enough it seems  \nvmassol - (09:17): hmm one doc with error  \nvmassol - (09:17): tmortagne: do you know why http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerClassTemplate fails to be imported?  \nvmassol - (09:17): checking logs  \nvmassol - (09:18): ah no showLogs doens't work anymore  \nvmassol - (09:18): need to fix it before...  \ntmortagne - (09:18): vmassol: no idea  \nvmassol - (09:18): tried 3 times, same result  \nvmassol - (09:18): logging on the machine  \nvmassol - (09:24): anyone knows why we have <!? $doc.syntaxId ?> in http://www.xwiki.org/xwiki/bin/edit/XWiki/FAQClassSheet?&editor=wiki ?  \nvmassol - (09:25): added by sergiu  \nvmassol - (09:25): hmmm  \nvmassol - (09:25): ok I'll just fix the depreaction for now  \nvmassol - (09:25): a comment would have been appropriate  \nvmassol - (09:27): wow, just having a doc bundle registered in the admin that desn't exist  \nvmassol - (09:27): makes it be printed once every few millisecond in the logs  \nvmassol - (09:27): just fixed it but that cannot be good as a strategy  \ncjdelisle` - (09:29): \"<xwikibot> XWiki.AdminFieldsDisplaySheet was modified by XWiki.CalebJamesDeLisle (updating to syntax 2.0 to try to fix the administrative interface.) - http://www.xwiki.org/xwiki/bin/view/XWiki/AdminFieldsDisplaySheet\"  \ncjdelisle` - (09:30): that's one spot  \nvmassol - (09:30): yep cjdelisle`, seen it, thanks  \nvmassol - (09:30): if it's only a pb on xwiki.org it's ok  \ncjdelisle` - (09:30): I never figured out where those {pre}'s were coming from though.  \nvmassol - (09:30): I'm worried it could be a problem for people ugrading though  \nvmassol - (09:30): tmortagne and cjdelisle`: http://pastebin.com/K7ZjjpWi  \nvmassol - (09:31): s/cjdelisle`//  \nvmassol - (09:31): tmortagne: so I think it's because that doc has an empty owner  \nvmassol - (09:31): http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiServerClassTemplate  \nvmassol - (09:32): that's why it fails to import IMO  \nvmassol - (09:32): checking svn  \ntmortagne - (09:33): vmassol: indeed Admin user has been removed from xwiki.org for some reason which create number of issues...  \nvmassol - (09:33): yes but this doc is different from others. They could all be imported fine except this one  \nlynxt joined #xwiki at 09:33  \ntmortagne - (09:33): but that should not avoid saving a doc AFAIK  \ntmortagne - (09:34): i don't see anything in this doc that could create this issue  \nvmassol - (09:34): same here  \njstoldt joined #xwiki at 09:36  \njstoldt - (09:36): morning  \narkub joined #xwiki at 09:36  \nvmassol - (09:37): tmortagne: I save this page with PR since it wasn't showing the create button  \nvmassol - (09:37): are there other pages I need to save with PR?  \nvmassol - (09:38): (in the app/wiki manager)  \nvmassol - (09:38): someone really need to check this import bug for 2.7RC1  \ntmortagne - (09:38): vmassol: CreateNewWiki  \nvmassol - (09:38): anyone who could do that?  \ntmortagne - (09:38): the page tageted by the link  \nvmassol - (09:39): in the xwiki.org logs I see:  \nvmassol - (09:39): java.lang.NoClassDefFoundError: com/xpn/xwiki/web/SavedRequestRestorerFilter  \nvmassol - (09:39): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.xpn.xwiki.user.impl.xwiki.MyFormAuthenticator.showLogin(MyFormAuthenticator.java:77)  \ntmortagne - (09:39): this is the really important one actually, the link should not need programming right on the document but on the current user, that's a bug IMO  \ntmortagne - (09:39): NoClassDefFoundError is never nice  \ntmortagne - (09:40): but that's a xwiki-core class AFAIK  \ntmortagne - (09:40): so that's weird  \nvmassol - (09:40): the package is wrong  \nvmassol - (09:40): my guess is that web.xml is wrong  \nvmassol - (09:40): jvelociter: ping  \nvmassol - (09:41): (need to check what happened when you merged - maybe it was wrong before)  \nvmassol - (09:41): not to self/all: looking at xwiki.org logs is very interesting  \nsburjan - (09:42): vmassol: If i have a proposal for improvement of the xwikibot, should I send a mail to devs and ask their opinion ? And if they agree, should I proceed to action and create a patch ... ?  \nvmassol - (09:42): sburjan: sounds good  \ncjdelisle` - (09:42): !stats  \ncjdelisle` - (09:42): :)  \nDenis joined #xwiki at 09:42  \nsburjan - (09:43): nothing too much, basically all I want to propose is a better way of showing the logs.. more easily to follow  \nsburjan - (09:43): :)  \ncjdelisle` - (09:43): !delete XWiki.BadUser :D  \nsburjan - (09:43): #if ($xwiki.hasAdminRights()) on IRC :)  \nsburjan - (09:44): for that we should implement an auth mechanism to the bot  \ncjdelisle` - (09:44): Irc is not safe.  \nsburjan - (09:44): yepp  \ncjdelisle` - (09:44): Would need a way to cryptographically sign an irc message.  \ncjdelisle` - (09:44): !delete XWiki.BadUser \u00a0\u00a0safkhklrnifd;safjdfakl;j  \nsburjan - (09:44): or either based on ip address, or if it's a registered user to FreeNode  \ncjdelisle` - (09:45): Then the irc client would have to have a perl script to do that.  \ncjdelisle` - (09:45): Too much drama to leave the trust in the irc network.  \nsburjan - (09:45): yes... I'm +1 leaving dangerous operation out  \nsburjan - (09:45): operations  \ncjdelisle` - (09:46): I don't know about freenode but I do know in general people become ircops for all the wrong reasons.  \nsburjan - (09:46): :D  \nsburjan - (09:46): cjdelisle`: I want to propose that the lines we log start with the HH:mm  \ncjdelisle` - (09:47): I see.  \nsburjan - (09:47): now we have something like <nick> <date> <message>  \nvmassol - (09:47): talking about security, cjdelisle` and sburjan you'll love this one: http://www.foxnews.com/scitech/2010/11/26/secret-agent-crippled-irans-nuclear-ambitions/  \nsilviar joined #xwiki at 09:47  \nvmassol - (09:47): brb  \nsburjan - (09:48): and I'd like something like <date><nick><message>  \ncjdelisle` - (09:48): Yup, been following stuxnet pretty close since the beginning.  \nsburjan - (09:48): like all IRC client's style (including xchat)  \nevalica joined #xwiki at 09:48  \ncjdelisle` - (09:48): Tiny code, most definitely written in assembly. Big $$$ went into development.  \nsburjan - (09:49): yes, but I guess this is the most clever virus :)  \nsburjan - (09:49): and IMO .. pretty useful too :P  \nsburjan - (09:49): better than James Bond anyway  \ncjdelisle` - (09:51): It created problems which couldn't be detected because they only happened for a few seconds then stopped for a long random amount of time.  \ncjdelisle` - (09:51): Best kind of bugs :)  \ncjdelisle` - (09:53): I will see your stuxnet and raise you one zeroaccess http://resources.infosecinstitute.com/step-by-step-tutorial-on-reverse-engineering-malware-the-zeroaccessmaxsmiscer-crimeware-rootkit/  \ncjdelisle` - (09:54): That worm actually infects the harddisk driver and changes it so when you search the harddisk for the worm, you'll \\_never\\_ find it.  \ncjdelisle` - (09:55): ^--> wipe disk, reinstall  \nsburjan - (09:57): I still wonder how iranians found the virus  \ncjdelisle` - (09:58): They didn't (lol) security companies did.  \njstoldt - (09:59): yep, some contractor did..  \ncjdelisle` - (10:01): Gotta love how wikileaks releases all of the diplomatic cables and all the sudden DDoS attack.  \ncjdelisle` - (10:02): US government doesn't control botnets or anything...  \nsburjan is now known as sburjan1 ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nsburjan1 is now known as sburjan ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \njstoldt - (10:10): they don't control their documents in the first place...  \njstoldt - (10:10): making advanced computer attacks on other nets while being unable to keep so many documents from being leaked is pretty ridiculous  \ncjdelisle` - (10:11): It's just pretty funny. Subtle like a sledgehammer, who did they expect would be blamed for the DDoS attack?  \njstoldt - (10:11): obviously al-quaida! ;)  \ncjdelisle` - (10:12): Wikileaks is pretty useless though, they haven't leaked anything yet that I didn't already know.  \ncjdelisle` - (10:12): Gives the NY times something to write about I guess.  \njstoldt - (10:13): To be honest, i don't really follow their work other than what's being broacastet on the other media  \ncjdelisle` - (10:13): ^same  \njstoldt - (10:13): i think i visited the page once and found the information presented pretty confusing and random  \ncjdelisle` - (10:13): Massive looming wall of text, no way I'm scaling that horror.  \njstoldt - (10:14): exactly  \njvelociter - (10:14): vmassol: pong  \njstoldt - (10:14): well, i think at least some of the wikileaks people do it for prestige in the first place  \ncjdelisle` - (10:15): idk, There's a lot of info to say that the assinage guy is a scum bag but the us gov has basically unlimited $$ to smear him so I'd have to withhold judgment.  \nlucaa joined #xwiki at 10:15  \njstoldt - (10:16): sure but my point is, why bother to make a page to collect the data when it's basically just going to the media at some point, anyway  \ncjdelisle` - (10:16): ?[S]uch disclosures put at risk our diplomats, intelligence professionals, and people around the world who come to the United States for assistance in promoting democracy and open government,?  \njstoldt - (10:17): they are creating a huge environment for wikileaks when they could just kind of distribute it in a more decentralised fashion  \njstoldt - (10:17): well, that quote is a bunch of bollocks  \ncjdelisle` - (10:17): It's little gems like that which make me think the gov people just have an awesome sense of humor :D  \njstoldt - (10:18): oh, actually, it's even funnier that the majority of people would happily believe that kind of crap  \njstoldt - (10:18): just watched Religulous again yesterday... people will happily all kind of nonsense if presented properly  \njstoldt is now known as jstoldt\\_ (8123cca2@gateway/web/freenode/ip.129.35.204.162  \njstoldt\\_ is now known as jstoldt (8123cca2@gateway/web/freenode/ip.129.35.204.162  \nsburjan is now known as sburjan1 ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nsburjan1 is now known as sburjan ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nvmassol - (10:41): tmortagne: I see we have a cutom MyFormAuthenticator on xwiki.org. Any idea why?  \ntmortagne - (10:41): vmassol: no  \nvmassol - (10:41): of course there's no sources, only a class file  \ntmortagne - (10:42): would be too easy :)  \nvmassol - (10:42): jvelociter: I suggest we remove it  \ntmortagne - (10:42): probably fix a bug for an old version fixed now  \njvelociter - (10:42): let's try  \nvmassol - (10:42): tmortagne: yes that would be my guess too  \ncjdelisle` - (10:43): deompile it  \ncjdelisle` - (10:43): \\*decompile  \ncjdelisle` - (10:43): Java decompiles really well.  \njvelociter - (10:43): restarting xwikio.rg wo it  \nxwikibot joined #xwiki at 11:00  \nsburjan left #xwiki at 11:00  \nsburjan joined #xwiki at 11:00  \ncjdelisle` - (11:01): I'm more in favor of anonymous classes because it's pure java, no new keywords, no magic.  \nvmassol - (11:01): there's a new....  \nvmassol - (11:01): oh keyword  \nvmassol - (11:01): ;)  \ncjdelisle` - (11:02): Sun even supports the pattern I showed: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Runnable.html  \nvmassol - (11:02): that makes it even less good in my book  \nvmassol - (11:02): :)  \nvmassol - (11:02): (just look at the jdk's code ;))  \nvmassol - (11:02): (sun\"s jdk code)  \ncjdelisle` - (11:03): What of it that I looked at is pretty good with exception of String.  \ncjdelisle` - (11:03): If you want to be completely lost, take a look at the guice code.  \ncjdelisle` - (11:04): I never thought java code could make me so confused.  \ncjdelisle` - (11:04): I really like the pattern of passing around \"callbacks\", it makes the code so easy to follow in my opinion.  \nvmassol - (11:04): IOC is good, I love it too  \nvmassol - (11:05): in this case it's a bit different though  \ncjdelisle` - (11:05): IOC?  \ncjdelisle` - (11:06): \"Inversion of control\"?  \nsburjan - (11:06): vmassol, cjdelisle` : proposal mail was sent  \nvmassol - (11:06): cjdelisle`: yes  \ncjdelisle` - (11:08): I'm trying to think about how anonymous inner classes can be abused. Trying to monkey patch external code maybe?  \ncjdelisle` - (11:14): \"Closure\" was the word I was looking for.  \njvelociter - (11:17): cjdelisle`: http://www.jcp.org/en/jsr/detail?id=335  \nvmassol - (11:17): I see this on xwiki.org logs:  \nvmassol - (11:17): com.xpn.xwiki.XWikiException: Error number 3103 in 3: Exception while reading version [1.142] for document id [-1,694,451,342]  \nvmassol - (11:17): Wrapped Exception: Error number 2002 in 2: Error parsing xml  \nvmassol - (11:17): Wrapped Exception: Error on line 217 of document \u00a0: The element type \"property\" must be terminated by the matching end-tag \"</property>\". Nested exception: The element type \"property\" must be terminated by the matching end-tag \"</property>\".  \nvmassol - (11:17): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.xpn.xwiki.doc.XWikiDocumentArchive.loadDocument(XWikiDocumentArchive.java:343)  \nvmassol - (11:18): seems we have some corrupted history  \njvelociter - (11:18): cjdelisle`: (big fan of closures as well)  \nvmassol - (11:21): tmortagne: do you remember where is DocumentTool?  \nvmassol - (11:21): (on xwiki.org)  \nvmassol - (11:22): the search doesn't return anything  \ntmortagne - (11:22): dev.xwiki.org  \ntmortagne - (11:22): wait  \nsburjan - (11:22): vmassol: don't forget to vote :)  \nvmassol - (11:22): I see it's trying to read from the workspaces DB which doesn't exist  \ntmortagne - (11:22): http://dev.xwiki.org/xwiki/bin/view/Community/DevelopmentTools  \nvmassol - (11:22): sburjan: no need to vote for this  \ntmortagne - (11:23): it's DevelopmentTools that's why you did not find it ;)  \nvmassol - (11:23): sburjan: but yes I will  \ntmortagne - (11:23): ha no  \ntmortagne - (11:23): read too fast  \ntmortagne - (11:23): what is DocumentTool ?  \nvmassol - (11:23): tmortagne: something you had creaetd to aggregated news I think  \nvmassol - (11:23): let me check from the news page  \ntmortagne - (11:23): me, aggregated news ?  \nvmassol - (11:24): found it  \nvmassol - (11:24): http://www.xwiki.org/xwiki/bin/edit/Main/Macros  \nvmassol - (11:25): jvelociter: so workspaces doesn't exist any more as a wiki?  \nvmassol - (11:26): (thought it was retried but the wiki was still there)  \nvmassol - (11:26): \\*retired  \ntmortagne - (11:26): ha i remember now  \ncjdelisle` - (11:26): 20 line anonymous inner classes all but break closures in java <7. Which was why I threw a quick poll to change that parameter.  \njvelociter - (11:26): no we've removed it I think. at least the descriptor  \nvmassol - (11:27): not just the desc  \nvmassol - (11:27): apparently  \njvelociter - (11:27): the DB too ?  \nvmassol - (11:27): I don't know  \njvelociter - (11:27): let me see  \nvmassol - (11:27): but workspaces.xwiki.org doesn't work  \nvmassol - (11:27): does that need the desc?  \njvelociter - (11:27): DB still there  \njvelociter - (11:27): yes  \nrrodriguez joined #xwiki at 11:27  \njvelociter - (11:28): cannot work without it  \nvmassol - (11:28): ok then having the DB is not ver useful if we cannot access it  \nvmassol - (11:28): need to be backed up and removed no?  \njvelociter - (11:28): I guess we've kept it as a backup  \njvelociter - (11:28): we can move it right  \njvelociter - (11:28): will create JIRA for that  \nvmassol - (11:30): I see this in the logs:  \nvmassol - (11:30): 2010-11-29 11:28:07,064 [http://code.xwiki.org/xwiki/bin/export/Applications/BulletinBoardApplication?format=pdf] WARN \u00a0impl.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Tidy configuration file doesn't exist. Using default configuration.  \nvmassol - (11:30): shouldn't we not display this?  \nvmassol - (11:30): (should we not display this)  \nsburjan - (11:31): I have one remark : http://dev.xwiki.org/xwiki/bin/view/IRC/ The LiveTable columns (doc.date \u00a0and doc.name) cannot be translated. Should I put a hardcoded name there ?  \nEnygma` joined #xwiki at 11:31  \nvmassol - (11:31): error: http://code.xwiki.org/xwiki/bin/view/Snippets/BacklinksSnippet?viewer=recyclebin  \nvmassol - (11:32): sburjan: it can be translated. Why do you say it cannot?  \nsburjan - (11:32): vmassol: I guess it can be, I was just complaining on how it's rendered now  \nvmassol - (11:32): sburjan: what you need to do: 1) Add a doc resource bundle to the IRC app  \nvmassol - (11:32): 2) register in the admin  \nvmassol - (11:33): 3) modify the livetable to use the correct prefix  \nsburjan - (11:36): ok, I will fix this  \nvmassol - (11:36): created http://jira.xwiki.org/jira/browse/XWIKI-5738  \nvmassol - (11:37): if anyone feels like fixing it...  \nsburjan - (11:41): vmassol: should I also create a JIRA issue + patch for this ?  \nvmassol - (11:41): sburjan: yes since it would be good to have it committed in the IRC app  \nsburjan - (11:41): great. gonna do that too  \nsburjan - (12:06): vmassol: another question. I see 3 documents in Invitation App that are 1.0 syntax. Is there any reason we kept them as 1.0 ?  \nsburjan - (12:06): IRCbot app, sorry. not Invitation  \nrrodriguez left at 12:07 (Read error: Connection reset by peer  \nrrodriguez\\_ joined #xwiki at 12:07  \nabusenius\\_ joined #xwiki at 12:13  \nvmassol - (12:41): sburjan: there's no reason to keep any doc in any app in syntax 1.0 (AFAIK)  \nvmassol - (12:42): css experts: I think there's a problem with comments. See for ex http://dev.xwiki.org/xwiki/bin/view/Drafts/XWikiURLMappings Seems that the text is justified  \nvmassol - (12:43): I don't think they should be justified  \nflaviusolaru joined #xwiki at 12:43  \ncamaritei left #xwiki at 12:53  \nabusenius\\_ left at 12:54 (Read error: Operation timed out  \nflaviusolaru - (13:07): hi all, i think we might have an issue in XWiki.java in core, for function getSkinFile(String filename, String skin, boolean forceSkinAction, XWikiContext context),  \nflaviusolaru - (13:07): used in XEM where the skin file resides in a different wiki,  \nflaviusolaru - (13:07): BaseObject object = doc.getXObject(new DocumentReference(context.getDatabase(), \"XWiki\", \"XWikiSkins\"));  \nflaviusolaru - (13:07): allways returns null  \nflaviusolaru - (13:07): and this happens because it looks using the current wiki database  \nflaviusolaru - (13:07): this is on XEM 2.5.1  \nflaviusolaru - (13:09): am i right this is an issue? or i am missing something here  \njstoldt - (13:09): see you tomorrow. time to go for me! :-P  \njstoldt left at 13:10 (Quit: Page closed  \nflaviusolaru left at 13:16 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 13:17  \nsdumitriu joined #xwiki at 13:18  \nsburjan - (13:19): vmassol, sdumitriu jvelociter tmortagne : don't forget to vote on the proposal I sent  \nsburjan - (13:26): I see some xwiki pages from ircbot that list xwiki:XWiki.LudovicDubost as the creator, instead of XWiki.Admin. Is this ok ?  \nlucaa left at 13:32 (Read error: Connection reset by peer  \nsdumitriu - (13:39): Double dependency: slf4j-api-1.5.6.jar and slf4j-api-1.5.8.jar in 2.6 snapshots  \nsdumitriu - (13:40): Double dependency: tika-core-0.7.jar and tika-core-0.8.jar in yesterday's 2.6 snapshot  \nsdumitriu - (13:46): Restarting myxwiki (upgrade)  \nlucaa joined #xwiki at 13:46  \nsabageru left at 13:46 (Ping timeout: 264 seconds  \nvmassol - (13:48): sdumitriu: how do you get a RSS feed for all blogs from http://www.xwiki.org/xwiki/bin/view/Blog/ ?  \nvmassol - (13:50): seems we have an issue in recent changes: http://www.xwiki.org/xwiki/bin/view/Main/News (last doc is shown as not existing)  \nabusenius\\_ joined #xwiki at 13:53  \nsburjan - (13:55): can anyone put the http://dev.xwiki.org/xwiki/bin/view/IRC/IRCTranslations to Programming Rights in Admin section ? (I don't have admin rights). vmassol \u00a0?  \nvmassol - (13:58): sburjan: ok doing it  \nvmassol - (13:58): can I rename it to Translations?  \nvmassol - (13:58): (that's the name we use)  \nvmassol - (13:59): ok i'll leave it as it is  \nvmassol - (13:59): doesn't matter  \nsburjan - (13:59): yes, you can rename it  \nsburjan - (13:59): rename it if you think it's better. because I will use this name in the patch too  \nvmassol - (13:59): done  \nsburjan - (14:00): great : livetable header fixed :)  \nflaviusolaru left at 14:00 (Quit: Leaving.  \nflaviusolaru joined #xwiki at 14:01  \nsdumitriu - (14:01): news.myxwiki.org is being spammed  \nsburjan - (14:03): vmassol: remove IRCTranslations and put Translations in Admins / Programming section. (or give me admin too) :)  \nsabageru joined #xwiki at 14:10  \nlynxt left at 14:15 (Quit: leaving  \nflorinciu joined #xwiki at 14:16  \nvmassol - (14:19): tmortagne: any idea why this page fails now: http://www.xwiki.org/xwiki/bin/view/WikiManager/  \nxwikibot joined #xwiki at 14:28  \nvmassol - (14:28): I'll check  \nvmassol - (14:29): now you can go to http://www.xwiki.org/xwiki/bin/view/Admin/BrokenLinks  \nvmassol - (14:29): ;)  \nvmassol - (14:31): http://www.xwiki.org/xwiki/bin/view/Main/News is getting worse  \nvmassol - (14:31): (broken links)  \nvmassol - (14:35): deleting workspaces wiki....  \nvmassol - (14:35): (been backed up by guillaumeF)  \nvmassol - (14:36): hmmm \"You are not allowed to view this document or perform this action.\"  \nvmassol - (14:36): I wonder who is allowed :)  \nvmassol - (14:37): 2010-11-29 14:36:02,261 [http://www.xwiki.org/xwiki/bin/view/WikiManager/?action=delete&wikiname=workspaces&confirm=1] ERROR kimanager.WikiManagerPluginApi \u00a0- Wiki [workspaces] deletion failed  \nvmassol - (14:37): com.xpn.xwiki.plugin.wikimanager.WikiManagerException: Error number 9001 in 5: com.xpn.xwiki.plugin.wikimanager.WikiManagerPlugin: You dont have right to delete wiki [{0}]  \nvmassol - (14:37): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.xpn.xwiki.plugin.wikimanager.WikiManagerPluginApi.deleteWiki(WikiManagerPluginApi.java:256)  \nvmassol - (14:37): tmortagne: ?  \nvmassol - (14:38): tmortagne: btw I think the rights for wikimanager should be more strict, wdyt?  \nvmassol - (14:38): (right now the only right set is edit for admins)  \ntmortagne - (14:38): vmassol: if the document has programming right and you too that should work  \nvmassol - (14:38): I have PR  \ntmortagne - (14:39): WDYM more strict ?  \nvmassol - (14:39): for example I don't think it's a good idea for non registered users to see the list of wiki names  \nvmassol - (14:40): (in a farm)  \ntmortagne - (14:40): ha that, I don't know if that's really a security issue, as you want  \nvmassol - (14:40): I have changed the rightson WikiManager space but next time we reimport I'll be reset  \nvmassol - (14:41): (and that there are tons of sub spaces .XAPP\\*, etc)  \nvmassol - (14:41): anyway  \nvmassol - (14:41): what's importnat is that I cannot delete  \ntmortagne - (14:41): XAPP is not wikimanager  \ntmortagne - (14:42): it's appmanager  \nvmassol - (14:42): what?  \nvmassol - (14:42): http://dev.xwiki.org/xwiki/bin/view/Main/WebHome is empty  \nvmassol - (14:42): something is wrong  \nvmassol - (14:43): seems like http://dev.xwiki.org/xwiki/bin/view/Community/ has been deleted  \ntmortagne - (14:44): vmassol: re issue when deleting wiki, could be author issue again, the document that actually contains the code to delete the wiki is not http://www.xwiki.org/xwiki/bin/view/WikiManager/ if i remember well  \ntmortagne - (14:44): i'm checking  \nvmassol - (14:44): I don't see any delete here though: http://dev.xwiki.org/xwiki/bin/view/Main/Activity  \ntmortagne - (14:44): (it's included otherwise WikiManager would have been way too big)  \nvmassol - (14:44): tmortagne: can you cehck if you can see dev.xwiki.org?  \ntmortagne - (14:45): if you mean that you have a empty wiki page i have the same issue  \nvmassol - (14:45): btw sburjan I don't see the creation of Translations page on http://dev.xwiki.org/xwiki/bin/view/Main/Activity  \nvmassol - (14:45): tmortagne: yes?. I wonder what's the pb  \ntmortagne - (14:45): maybe there is a if or something on the whole thing  \nsburjan - (14:45): vmassol: IRCbot ( xwikibot ) didn'treported either  \nvmassol - (14:46): sburjan: it's there, was mislead by the name that is printed in the activty stream. It seems wrgon  \nvmassol - (14:46): it's reported as \"http://dev.xwiki.org/xwiki/bin/view/IRC/Translations\"  \ntmortagne - (14:46): vmassol: here it is http://www.xwiki.org/xwiki/bin/view/WikiCode/DeleteWikiCode i'm gicing it programming rights and retest  \nvmassol - (14:46): probably the title used  \nsburjan - (14:47): vmassol: before it was IRCTranslations, now I've renamed it to Translations  \ntmortagne - (14:47): that's was it, you can delete wiki now ;)  \nsburjan - (14:47): oh.. I ee  \nvmassol - (14:47): tmortagne: o trying  \nvmassol - (14:47): s/o/ok/  \ntmortagne - (14:47): i deleted workspaces already to test  \nvmassol - (14:47): ok :)  \nvmassol - (14:47): I won't try then  \ntmortagne - (14:48): (was in case you have others)  \nvmassol - (14:48): so now we need to fix dev.xwiki.org  \nvmassol - (14:48): sburjan: done  \nvmassol - (14:50): tmortagne: hmmm the content is back  \nvmassol - (14:50): for dev.xwiki.org  \nvmassol - (14:50): I don't get it  \nvmassol - (14:51): the AS is really not good enough yet  \nvmassol - (14:52): for example I'm not able to see the change done by Sorin today on the IRC home page  \nvmassol - (14:52): hmmm unless sburjan has not changed it  \nvmassol - (14:52): sburjan: ?  \nvmassol - (14:52): you did change it  \nvmassol - (14:52): just checked  \nvmassol - (14:52): so it's \"lost\" by the AS  \nvmassol - (14:52): the AS reports only 1 change when there have been 2  \nvmassol - (14:53): sabageru/evalica1/rstavro: you should check this IMO  \ncjdelisle` - (14:53): Someone showed up a while back by the name of \"ViagraPill\" before I wiped the account they created a document which didn't show up.  \ncjdelisle` - (14:53): (in the irc chan)  \nvmassol - (14:54): cjdelisle`: for some reason that needs to be investigated page creation don't show up in bot  \nvmassol - (14:54): s/in bot/in the bot/  \nvmassol - (14:54): it needs to be fixed  \nvmassol - (14:54): someone needs to look at it  \ncjdelisle` - (14:54): Oh, ok so that's known.  \nvmassol - (14:54): sburjan: maybe you could look at that ?  \nsburjan - (14:55): vmassol: yes, something is odd. i used the Rename function to rename the document  \nsburjan - (14:58): vmassol: yes indeed, page creation don't show up in the bot (just tested on local)  \nsburjan - (14:58): \\*doesn't  \nevalica1 - (15:01): vmassol: the problem I think is that events come grouped - mostly update is always duplicated, example: comment + update; annotate + update ... etc that's why the code removes some \"update\" events and keep just the major one \"comment\"|\"annotate\" .... maybe we didn't cover all cases .... this should be tested and some test cases should be provided  \nrrodriguez\\_ left at 15:01 (Remote host closed the connection  \nevalica1 is now known as evalica ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nvmassol - (15:01): evalica: actually it's correct my bad  \nvmassol - (15:02): it's because sorin made a minor change  \nvmassol - (15:02): http://dev.xwiki.org/xwiki/bin/view/IRC/?viewer=history&showminor=true  \nevalica - (15:02): k  \nvmassol - (15:02): (rev 2.2)  \nvmassol - (15:02): but strange he made a major change without changing the content  \nvmassol - (15:02): bad sburjan :)  \nvmassol - (15:02): 3.1 is empty  \nvmassol - (15:02): and 2.2 is the real change  \nvmassol - (15:03): not seeing minor edits in the AS is a bit of a problem from time to time  \nvmassol - (15:04): anyway all is well than ends well?. except for the mystery of dev.xwiki.org's home page disppearal?. but well that happens...  \nvmassol - (15:04): back on track  \nvmassol - (15:05): tmortagne: seems we haven't caught all threads to change their names with the URL  \nrrodriguez joined #xwiki at 15:05  \nvmassol - (15:05): I see for ex on xwiki.org logs:  \nvmassol - (15:05): 2010-11-29 14:53:15,882 [TP-Processor9] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of method [com.xpn.xwiki.api.XWiki.getWebPreference] in @12,30  \nvmassol - (15:05): 2010-11-29 14:53:15,883 [TP-Processor9] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of getter [com.xpn.xwiki.api.Document.getWeb] in chronopolys:Main.DocumentDoesNotExist@1,56  \nvmassol - (15:05): 2010-11-29 14:53:15,902 [TP-Processor9] WARN \u00a0internal.DefaultVelocityEngine \u00a0- Deprecated usage of method [com.xpn.xwiki.api.XWiki.isVirtual] in @125,14  \nvmassol - (15:05): 2  \nvmassol - (15:05): so TP-Processor9 instead of the URL  \nvmassol - (15:05): Do we set names for daemon threads?  \nvmassol - (15:05): like lucene, stats, etc  \nabusenius\\_ left at 15:07 (Ping timeout: 264 seconds  \nvmassol - (15:10): tmortagne: wdyt about removing this Warning:  \nvmassol - (15:10): 2010-11-29 15:07:32,479 [http://manager.xwiki.org/xwiki/bin/export/AdminGuide/Installation?format=pdf] WARN \u00a0impl.PdfExportImpl \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Tidy configuration file doesn't exist. Using default configuration.  \ntmortagne - (15:11): vmassol: i don't know very well why we have this warning but if it's \"normal\" we should probably not have it  \nvmassol - (15:12): hmmm strange http://www.fisheye.xwiki.org/xwiki/bin/export/Main/WebHome is valid  \nvmassol - (15:12): http://www.fisheye.xwiki.org/xwiki/bin/view/Main/WebHome  \ntmortagne - (15:12): yes we set names for daemon thread but it's a case by case  \nabusenius\\_ joined #xwiki at 15:12  \nvmassol - (15:13): www.\\*.xwiki.org is accepted actually  \nvmassol - (15:13): jvelociter: could we change that?  \nvmassol - (15:13): (I see requests in the logs on non existing wikis)  \nvmassol - (15:13): does it go to the main wiki?  \nvmassol - (15:13): (seems so)  \nvmassol - (15:15): tmortagne: hmm just found this too:  \nvmassol - (15:15): 2010-11-29 15:00:00,409 [DefaultQuartzScheduler\\_Worker-10] ERROR rnal.DefaultObservationManager \u00a0- Fail to send event [org.xwiki.observation.event.DocumentUpdateEvent@1282777] to listener [IRCEventListener@13713f8]  \nvmassol - (15:15): groovy.lang.MissingMethodException: No signature of method: com.xpn.xwiki.doc.XWikiDocument.getPage() is applicable for argument types: () values: []  \nvmassol - (15:15): Possible solutions: getDate(), getName(), getTags(com.xpn.xwiki.XWikiContext), getSpace(), getParent(), setDate(java.util.Date)  \nvmassol - (15:15): sburjan: maybe this is why the create page doesn't work  \ntmortagne - (15:16): i don't think getPage even existed on XWikiDocument  \ntmortagne - (15:17): it's getPageName or the older getName  \nvmassol - (15:17): \u00a0\u00a0\u00a0at IRCEventListener.onEvent(Script6.groovy:249)  \nvmassol - (15:17): checking IRC code  \ntmortagne - (15:18): s/even/ever/  \nvmassol - (15:19): ok found the pb  \nvmassol - (15:21): hmmm I don't know why I excluded the main wiki from the irc bot notifications?. weird  \nvmassol - (15:21): this is what is written now:  \nvmassol - (15:21): return !source.fullName.startsWith(\"IRC.${bot.getChannels()[0][1..-1]}Archive\") && !source.getDatabase().equals(\"playground\") && (!source.getDatabase().equals(\"xwiki\") || !source.getSpace().equals(\"Scheduler\") || !source.getPage().matches(\"WatchList.+Notifier\"))  \ntmortagne - (15:22): you did not exactly excluded main wiki  \ntmortagne - (15:22): you excluded scheduler and watchlist related events on main wiki if i read well  \ntmortagne - (15:23): probably because watchlist and scheduler plugin used to modify a document each time it was running  \nvmassol - (15:23): yes  \ntmortagne - (15:23): but i think it should be fixed now  \nnickless joined #xwiki at 15:25  \nnickless is now known as abusenius ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nabusenius\\_ left at 15:25 (Read error: Connection reset by peer  \nvmassol - (15:26): hmmm logs show:  \nvmassol - (15:26): 2010-11-29 15:24:21,273 [http://www.xwiki.org/xwiki/bin/view/Main/Dashboard] ERROR api.XWiki \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Failed to read versioned document  \nvmassol - (15:26): com.xpn.xwiki.XWikiException: Error number 3205 in 3: Version 13.1 does not exist while reading document Drafts.XWikiURLMappings  \nvmassol - (15:26): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0at com.xpn.xwiki.store.XWikiHibernateVersioningStore.loadXWikiDoc(XWikiHibernateVersioningStore.java:220)  \nsburjan - (15:27): I got that too  \nvmassol - (15:27): sburjan: when?  \nsburjan - (15:27): 10 minutes ago. I restarted my wiki and worked  \nvmassol - (15:28): guys can you check this:  \nvmassol - (15:28): http://www.xwiki.org/xwiki/bin/view/Main/Dashboard  \nvmassol - (15:28): it says Dominic Whirl added a comment  \nvmassol - (15:28): to http://www.xwiki.org/xwiki/bin/view/Applications/StatisticsApplication  \nrrodriguez left at 15:28 (Quit: rrodriguez  \nvmassol - (15:28): but this page deosn't exist  \nvmassol - (15:29): (it's on the wrong wiki)  \nvmassol - (15:29): AS bug?  \nvmassol - (15:29): indeed: http://code.xwiki.org/xwiki/bin/view/Applications/StatisticsApplication  \nvmassol - (15:29): so my guess is that tehre's a bug when \"wikis\" are specified  \nvmassol - (15:30): sabageru/rstavro: I think this one is for you :)  \nvmassol - (15:30): (please confirm that you can work on it)  \nsburjan - (15:31): vmassol: the fix you made now on IRCConfig .. I shouldn't include it in the patch right ?Because this is custom what you're done  \nvmassol - (15:31): sburjan: correct  \nsburjan - (15:31): \\*you've.  \nsburjan - (15:31): okay  \nvmassol - (15:32): sabageru: ping  \nsabageru - (15:34): vmassol : pong.. yes we can have a look on that one. we (me and rstavro) are currently finishing the rollback issue  \nvmassol - (15:34): sabageru: ok great, just want to be sure you collect all issues  \nvmassol - (15:35): maybe a setDatabase that is not in a finally block  \nsabageru - (15:35): vmassol: thanks :)  \nrstavro joined #xwiki at 15:35  \njvelociter - (15:37): vmassol: re www.\\*.xwiki.org isn't that bad xwiki conf ?  \njvelociter - (15:37): s/xwiki/xem/  \njvelociter - (15:37): it should redirect to \"This wiki does not exists\" page  \ntmortagne - (15:38): jvelociter: not exactly  \ntmortagne - (15:38): host starting with \"www\" is part of special cases falback on main wiki  \nvmassol - (15:39): tmortagne: oh so this is something to be fixed in XWiki.java?  \njvelociter - (15:39): tmortagne: ok didn't know. Anything we can do on XWiki side if asked for www.wikithatdoesnotexists.xwiki.org ?  \nabusenius\\_ joined #xwiki at 15:39  \nabusenius left at 15:40 (Quit: Konversation terminated!  \ntmortagne - (15:40): vmassol: WDYM by fixed ? what \u00a0is wrong exwactly ?  \ntmortagne - (15:40): you want this adress to return an error ?  \nvmassol - (15:40): not an error  \nvmassol - (15:40): but a wiki doesn't exist message  \nsdumitriu - (15:40): jvelociter: if (!\"0\".equals(xwiki.Param(\"xwiki.virtual.autowww\"))  \ntmortagne - (15:40): yes that's an error for me  \nvmassol - (15:40): is that this code:  \nvmassol - (15:40): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (!\"0\".equals(xwiki.Param(\"xwiki.virtual.autowww\"))  \nvmassol - (15:40): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&& (servername.equals(\"www\") || host.equals(\"localhost\")  \nvmassol - (15:40): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0|| host.matches(\"[0-9]{1,3}(?:\\\\.[0-9]{1,3}){3}\"))) {  \nvmassol - (15:40): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return xwiki;  \nvmassol - (15:40): \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}  \ntmortagne - (15:41): yes it's xwiki.virtual.autowww property  \nsdumitriu - (15:41): So, set xwiki.virtual.autowww=0 in xwiki.cfg  \nsdumitriu - (15:41): +restart server  \nEnygma` left at 15:41 (Ping timeout: 250 seconds  \nevalica left at 15:42 (Ping timeout: 240 seconds  \nevalica joined #xwiki at 15:49  \nvmassol - (15:50): tmortagne: do you know where is WebSearchRss or its replacement (I can't find it in svn)?  \nEnygma` joined #xwiki at 15:50  \ntmortagne - (15:51): if you are talking about the page which produce the RSS it's WebSearch itself  \ntmortagne - (15:51): i mean DatabaseSearch  \ntmortagne - (15:51): (since it has been renamed)  \nvmassol - (15:52): so it does normals search + rss grneration?  \ntmortagne - (15:52): yes  \ntmortagne - (15:52): same for LuceneSearch and so Search page  \nvmassol - (15:52): ok  \ntmortagne - (15:52): they all support same parameters  \nvmassol - (15:52): I'm trying to clean up xwiki.org and the pb is when we rename or remvoe pages they're still there on xwiki.org  \ntmortagne - (15:52): but it was already like that when i refactored to create search app  \ntmortagne - (15:53): yep  \nvmassol - (15:54): lucene indexing is still broken on xwiki.org  \nvmassol - (15:54): http://www.xwiki.org/xwiki/bin/view/Main/Search?text=WebSearchRss&x=0&y=0 doesn't return them all  \nvmassol - (15:54): for ex: http://xoffice.xwiki.org/xwiki/bin/view/Main/WebSearchRss  \nvmassol - (15:55): I'm surprised that we look inside XAR though ;)  \ntmortagne - (15:55): vmassol: yes i think there is something at startup that make Lucene plugin loose some wikis but i don't know why yet  \ntmortagne - (15:56): vmassol: well actually tika is looking at all attachment and it support zip and XML  \ntmortagne - (15:56): which makes it index xar files  \nvmassol - (15:56): ok nice  \ntmortagne - (15:57): it even find some images metadatas  \nvmassol - (15:57): hmmm this xar doesn't show up on http://code.xwiki.org/xwiki/bin/import/XWiki/Import?editor=globaladmin&section=Import  \nvmassol - (15:58): oh it's attached to the prefs page  \nvmassol - (15:58): removing it  \ntmortagne - (16:01): ( vmassol: just reindexed xoffice wiki )  \nvmassol - (16:01): ok thanks  \nvmassol - (16:01): fyi I've just removed WebSearchRss from xoffice wiki  \nvmassol - (16:01): (just in case you're wondering why it's not showing up ;))  \ntmortagne - (16:01): it was not yet updated actually ;)  \nvmassol - (16:02): tmortagne: so I can also delete WebSearchCode?  \ntmortagne - (16:03): search app does not contains any Web\\* page so i hope it does not needs it ;)  \ntmortagne - (16:03): (except the WebSearch as a deprecated page with an include)  \nvmassol - (16:04): tmortagne: apparently the page with attachment has not been removed from lucene's index  \nvmassol - (16:05): since I removed teh attachment but it's still in the search result  \nvmassol - (16:05): ah no  \nvmassol - (16:05): wait  \nvmassol - (16:05): it's another one I think  \nvmassol - (16:06): hmm no  \ntmortagne - (16:06): http://code.xwiki.org/xwiki/bin/download/XWiki/XWikiPreferences/xwiki-enterprise-wiki-1.9.2-xwikiorg.xar seems to point on nothing  \nsilviar left at 16:06 (Quit: Leaving.  \nvmassol - (16:06): its the same one  \nvmassol - (16:06): so indeed index refresh issue  \ncjdelisle` - (16:06): private void preCloseSession(Session session) throws HibernateException <-- this does nothing unless log warn is enabled?  \ncjdelisle` - (16:07): s/warn/debug/  \ncjdelisle` - (16:07): Guess I can play the \"couldn't have been too important\" card then.  \ntmortagne - (16:07): vmassol: anyway i wanted to refactor the Lucene plugin based on the new attachment event since it's currently based on action events which is not covering all used cases  \ntmortagne - (16:08): s/used/use/  \nvmassol - (16:08): ok  \nsilviar joined #xwiki at 16:09  \nvmassol - (16:14): re AS i know what the problem is I think  \nvmassol - (16:14): if the AS points to a doc that doesn't exist anymore  \nvmassol - (16:15): then it's going to throw an exception and my guess is that the database is not reset in this case  \nvmassol - (16:15): in any case that gives a lot of stack traces in the logs  \nvmassol - (16:15): about docs that don't exist anymore  \nvmassol - (16:15): that's because we do get() without checking first if they exist  \nvmassol - (16:16): the AS shouldn't link to docs that don't exist anymore  \nvmassol - (16:16): IMO it should not put a link to them and add some text like \"(document no longer exists)\"  \nvmassol - (16:16): sabageru:wdyt?  \nvmassol - (16:16): here's: an example: http://www.xwiki.org/xwiki/bin/view/XWiki/lucaa/  \nvmassol - (16:17): it points to http://www.xwiki.org/xwiki/bin/view/Main/ReleaseNotesXWikiEnterprise22M2  \nvmassol - (16:17): (which doesn't exist anymore)  \nsabageru - (16:17): vmassol: finished the rollback issue. let me have a look on this one  \nvmassol - (16:18): sabageru: just be careful that it doesn't impact perfs (I don't know if you're reading the docs or not - seems you are)  \nvmassol - (16:18): (but ideally they shouldn't be read)  \nsabageru - (16:18): perfs ?  \nvmassol - (16:18): if you're reading them then checking for isNew() is easy  \nvmassol - (16:18): performances  \nsabageru - (16:19): i understand...  \nvmassol - (16:20): sabageru: fyi this is what we get in the logs: http://pastebin.com/gmfFvMcC  \nvmassol - (16:20): (for this example)  \nsabageru - (16:24): vmassol/rstavro: when user makes a modification on a certain document, that event is logged in AS. Now, if the document does not exist anymore, we get that error. I think of 2 solutions. First one : when retrieving the list of events, i could make a check on whether the document exists or not (i believe there is a certain method to do that).this means i will parse the list and rebuild it so that only events with existing documents are displayed. \u00a0Second on  \nvmassol - (16:25): sabageru: I think it's a display issue not a server side one  \nvmassol - (16:26): docs that have been deleted should still be displayed in the AS list  \nsabageru - (16:26): oh i get it...  \nsabageru - (16:26): so be displayed but without a link ?  \nsilviar left at 16:26 (Read error: Connection reset by peer  \nvmassol - (16:27): IMO that's the best we can do, we could display with a question mark but I don't think it'll look good. Never opinions from others  \nvmassol - (16:27): the second pb is that the AS code (front end probably) tries to read the doc  \nvmassol - (16:27): even when it doesn't exist  \nvmassol - (16:27): and this generates ERRORs in the logs  \nvmassol - (16:27): so either we don't generate errors when accessing a doc that doesn't exist  \nvmassol - (16:28): or the code should use exists() before loading the doc (2 queries instead of one)  \nvmassol - (16:28): sdumitriu: wdyt?  \nsabageru - (16:28): you get that error only when accesing the AS ? not the code itself ?  \nsabageru - (16:28): sorry, not the document itself.  \nvmassol - (16:28): sabageru: see http://pastebin.com/gmfFvMcC  \nsburjan - (16:28): guys, would you like to have the logs from site in the same format as x-chat does (with nice text alignments, etc) ?  \nvmassol - (16:28): the query is the AS  \nsabageru - (16:29): hmmm...strange  \nvmassol - (16:30): quick poll: extensions.xwiki.org or extension.xwiki.org? IMO extensions.xwiki.org and an alias for extension.xwiki.org  \nlucaa - (16:33): plural (what for?)  \nvmassol - (16:33): to replace code.xwiki.org. I want to start creating something and when ready switch over  \nlucaa - (16:34): but but I liked code :(  \nvmassol - (16:34): lucaa: see http://xwiki.markmail.org/thread/phuqob2os2beo3jy and http://dev.xwiki.org/xwiki/bin/view/Drafts/XWikiExtensionRepositoryRedesign  \nvmassol - (16:34): don't worry you'll still be able to code  \nvmassol - (16:35): ok I'm creating extensions.xwiki.org for now  \nvmassol - (16:36): tmortagne: it took for ever to display the CreateNewWiki page and I have this in the logs:  \nvmassol - (16:36): 2010-11-29 16:35:40,046 [http://www.xwiki.org/xwiki/bin/view/WikiManager/CreateNewWiki?stepbystep=0&doc=1] ERROR store.XWikiHibernateStore \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- No data for property blog of object id -1591145771  \ntmortagne - (16:37): vmassol: you mean just show it or you created a wiki too ?  \nvmassol - (16:37): just show it  \nvmassol - (16:37): maybe because it's reading all users from the wiki?  \ntmortagne - (16:37): well just showing it does not do anything special, it just display a form  \ntmortagne - (16:38): maybe  \ntmortagne - (16:38): but i don't remember having this issue on myxwiki.org  \nvmassol - (16:38): there are less users porbbaly on myxwiki.org  \ntmortagne - (16:38): yes it's possible  \nvmassol - (16:38): tmortagne: so I should attach the XAR to the CreateNewWiki page right ?  \ntmortagne - (16:39): to do what ?  \nvmassol - (16:39): create a non empty wiki  \ntmortagne - (16:39): better create from a template  \nvmassol - (16:39): we don't have one I think  \nvmassol - (16:39): or if w edo then it's not upt o date  \nvmassol - (16:39): ok I'll create empty  \nvmassol - (16:39): and import after  \ntmortagne - (16:40): creating from a package does not bring anything more that importing the xar after you created the wiki if it's for one shot  \nvmassol - (16:40): indeed  \nvmassol - (16:43): shall I exclude the extensions wiki from the ircbot logs for now?  \ntmortagne - (16:44): import a whole XE xar could be painful for IRC inceed :)  \ntmortagne - (16:44): \\*indeed  \nvmassol - (16:44): I don't recall what happened before when we upgraded xwiki.org  \nvmassol - (16:44): I don't remember an irc flood  \ntmortagne - (16:44): me neither  \nvmassol - (16:44): btw should I check \"import as backup package\" or not?  \ntmortagne - (16:45): but each imported document generates an event  \ntmortagne - (16:45): so it should be printed onn IRC  \nvmassol - (16:45): (will it work better if I don't?)  \ntmortagne - (16:45): vmassol: there is a bug anyway with \u00a0import as backup package unless jvelociter already fixed it  \nvmassol - (16:46): let's test the flooding  \nvmassol - (16:46): 172 docs imported  \nvmassol - (16:46): not a single message  \nrrodriguez joined #xwiki at 16:46  \ntmortagne - (16:46): http://jira.xwiki.org/jira/browse/XWIKI-5724  \ntmortagne - (16:47): vmassol: isn't there something about ircbot not showing new document events ?  \nvmassol - (16:47): yes  \nvmassol - (16:47): I've added to the history  \nvmassol - (16:47): are they considered new docs?  \ntmortagne - (16:47): it was an empty wiki  \nvmassol - (16:47): indeed ;)  \ntmortagne - (16:48): but i think we should have got a message for XWikiPreferences which is automatically generated when you create the wiki and then updated by the xar  \njvelociter - (16:51): tmortagne: not fixed yet. will try to do it soon  \njvelociter - (16:51): today or tomorrow  \ntmortagne - (16:54): jvelociter: ok  \nrrodriguez left at 17:10 (Ping timeout: 245 seconds  \nrrodriguez joined #xwiki at 17:11  \nflorinciu left at 17:11 (Quit: Leaving.  \nvmassol - (17:14): sdumitriu: don't you find it nicer to use bulleted lists rather than def lists on http://extensions.xwiki.org/xwiki/bin/view/XWiki/XWikiClasses to list all the classes (vs http://platform.xwiki.org/xwiki/bin/view/XWiki/XWikiClasses for ex)  \nsburjan left at 17:14 (Ping timeout: 255 seconds  \njvelociter left at 17:16 (Read error: Connection reset by peer  \njvelociter joined #xwiki at 17:16  \nsabageru left at 17:29 (Quit: Leaving.  \nlucaa - (17:31): guys  \nlucaa - (17:31): what's the java version that xwiki is currently working on?  \nlucaa - (17:31): and where do I find it? (I looked in the top level pom, but there is nothing very specific in there)  \nvmassol - (17:33): it's in the preresq in the doc  \ntmortagne - (17:33): lucaa: java 1.5  \ntmortagne - (17:33): minimum version  \nlucaa - (17:34): tmortagne: thanks  \ntmortagne - (17:34): (but we usually use Java 6 internally)  \nvmassol - (17:34): http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HPrerequisites  \nlucaa - (17:34): do you know if anything has changed since 2.0.2 from that pov?  \ntmortagne - (17:34): lucaa: \u00a0it's supposed to be somewhere in th pom.xml  \ntmortagne - (17:34): lucaa: WDYM ?  \nabusenius\\_ left at 17:34 (Ping timeout: 264 seconds  \nvmassol - (17:34): tmortagne: we don't enforce it in the pom  \ntmortagne - (17:34): 2.0.2 was minimum 1.5 too if that's the question  \nlucaa - (17:35): I found the maven enforcer plugin config that says something about 1.5, 1.6  \ntmortagne - (17:35): vmassol: i tough we did  \nlucaa - (17:35): yes, that's the question  \nvmassol - (17:35): http://maven.apache.org/plugins/maven-enforcer-plugin/rules/requireJavaVersion.html  \nvmassol - (17:35): we don't use that one  \nlucaa - (17:35): we do  \nlucaa - (17:35): in the 37 pom  \nvmassol - (17:35): what we do is specify the version for the java compiler mmojo  \nvmassol - (17:35): checking pom  \nvmassol - (17:36): indeed we do  \nvmassol - (17:36): I forgot I added it ;)  \nlucaa - (17:36): and yes, I also found the compiler mojo config  \nvmassol - (17:36): nice  \nvmassol - (17:36): good job vince :)  \nvmassol - (17:36): thanks!  \nrrodriguez left at 17:37 (Quit: rrodriguez  \nlucaa - (17:38): yeah, good guy this vince. I propose we vote him committer :)  \nvmassol - (17:39): nah he might be dangerous?.  \njvelociter - (17:40): he's the evil vincent ?  \nlucaa - (17:40): no, he just enforced java version in the toplevel pom  \nlucaa - (17:40): that's a good think  \nlucaa - (17:40): or....  \nlucaa - (17:40): is it?  \nvmassol - (17:40): my prrrrrecccccioussssss  \nmflorea left at 17:55 (Quit: Leaving.  \nrstavro left at 17:59 (Quit: Page closed  \njvelociter - (18:08): vmassol: re the extension wiki, please make the \"svn\" property be \"scm\" instead  \nvmassol - (18:08): jvelociter: yep  \nvmassol - (18:08): maybe even source  \nvmassol - (18:08): it odesn't have to be stored in a scm  \njvelociter - (18:09): otherwise you follow the data model proposed on the page ?  \nvmassol - (18:09): not quite  \njvelociter - (18:09): yep sources is good  \nvmassol - (18:09): :)  \njvelociter - (18:09): ok  \njvelociter - (18:09): :)  \nvmassol - (18:09): I'm adding categories for ex  \nvmassol - (18:10): and my type is different  \njvelociter - (18:10): ok  \njvelociter - (18:10): dynamic categories ?  \nvmassol - (18:10): yes  \njvelociter - (18:10): cool  \nvmassol - (18:10): same as what we have for wiki macros  \nvmassol - (18:10): for type I'm still looking for a name for the Modules:  \nvmassol - (18:10): right now I have:  \nvmassol - (18:11): Snippet  \nvmassol - (18:11): Macro (Wiki)  \nvmassol - (18:11): Macro (Java)  \nvmassol - (18:11): Macro (Velocity)  \nvmassol - (18:11): Macro (Radeox)  \nvmassol - (18:11): Plugin  \nvmassol - (18:11): Application  \nvmassol - (18:11): Skin  \nvmassol - (18:11): Set of Components <--- What name do we use? JAR, Java APIs, APIs, Services?  \nvmassol - (18:11): Other (for the old extensions)  \njvelociter - (18:11): why not Components  \njvelociter - (18:11): I like none of JAR, Java APIs, APIs,  \nvmassol - (18:11): yes Components is ok too. There could be some apis that are not ocmponentns  \nvmassol - (18:12): but it's probably ok  \njvelociter - (18:12): and Serivces is not always true  \nvmassol - (18:12): the majority will be components  \njvelociter - (18:12): yes, and even though they aren't it's not dramatic  \nvmassol - (18:12): if you want to follow: http://extensions.xwiki.org/xwiki/bin/view/XWiki/ExtensionClass  \njvelociter - (18:12): yes, I've checked it  \nvmassol - (18:12): yes thank you mr bot  \njvelociter - (18:13): hehe  \njvelociter - (18:13): yes, because the activity stream does not work ;)  \njvelociter - (18:13): http://extensions.xwiki.org/xwiki/bin/view/Main/Activity  \nvmassol - (18:13): FTM I'm trying to add the minimal set of props that'll make it able to encompass the existing code.xwiki.org  \nvmassol - (18:14): fixed re AS  \njvelociter - (18:15): it was PR ?  \nvmassol - (18:15): yes  \nvmassol - (18:15): the import bug  \njvelociter - (18:16): still should not need PR. Even when the import bug resolved, it does not solve everything  \nvmassol - (18:16): this is a big issue we need to fix for 2.7  \nvmassol - (18:16): and 2.6.1  \njvelociter - (18:16): like farms without Admin user  \njvelociter - (18:16): etc  \njvelociter - (18:16): yes  \njvelociter - (18:16): will work on it soon  \nvmassol - (18:16): cool  \nvmassol - (18:18): jvelociter & others: do we want createdBy (XWiki dev teeam or individual contributor) + contributors) or contributors + supported by xwiki dev team (boolean)  \njvelociter - (18:19): I prefer the later  \nvmassol - (18:19): if the latter then we need to decide if we put something in the contributors field when done by a xwiki committer  \nvmassol - (18:19): it's going to be hard to maintain  \nvmassol - (18:20): I mean we don't do this for code  \nvmassol - (18:20): (we decided not to have @author tags)  \njvelociter - (18:20): for me as long as it's not a top level project then the main contributor(s) should be mentionned, should they be xwiki committers or not  \njvelociter - (18:20): and it's the contributors themselves that should do that  \nvmassol - (18:20): it's not consistent with our strategy  \nvmassol - (18:20): or not having @author tags  \njvelociter - (18:20): same as \"don't be shy and add yourself to the hall of fame\"  \njvelociter - (18:20): that's different  \njvelociter - (18:20): that's individual files  \nvmassol - (18:21): we decided about common code ownership  \nvmassol - (18:21): yes and?  \nvmassol - (18:21): I don't like at all contriburtos for xwiki dev code  \nvmassol - (18:21): it gives a sense of belonging  \njvelociter - (18:21): and contributed extensions are not under xiwki.org rules  \nvmassol - (18:21): we're not talking about the same thing  \njvelociter - (18:21): ah you mean core modules  \nvmassol - (18:21): I'm talking about code supported by the xwiki dev team  \nvmassol - (18:21): no  \nvmassol - (18:21): any code supported by the xwiki dev team  \njvelociter - (18:21): then yes empty list is ok  \nvmassol - (18:22): ok  \njvelociter - (18:22): well we are not very clear on what is code supported by the xwiki dev team  \nvmassol - (18:22): I think we are  \nvmassol - (18:22): what's missing?  \nvmassol - (18:23): give me an example and I'll tell you if it's supported or not, it's easy to know  \nvmassol - (18:23): if it's in the svn it's supported  \njvelociter - (18:23): right now it's up to the contributor to decide if it's supported or not, it's not the team decision  \nvmassol - (18:23): (except for contrib)  \njvelociter - (18:23): ok then I agree  \nvmassol - (18:23): no  \nvmassol - (18:23): it's not  \nvmassol - (18:23): it's a vote  \njvelociter - (18:23): well  \njvelociter - (18:23): look at all apps in code.xwiki.org and see for yourself  \nvmassol - (18:23): what'sw rong?  \nvmassol - (18:23): I don't understand  \njvelociter - (18:24): I'm pretty positive they are apps marked as contributed by XWiki DEvelopment Team that are not in SVN  \njvelociter - (18:24): so who decided ?  \njvelociter - (18:24): :)  \njvelociter - (18:24): but I agree with the rule  \nvmassol - (18:24): show me one  \njvelociter - (18:24): let me find one  \nvmassol - (18:24): :)  \nvmassol - (18:24): if htere's one it's a bug and I'll fix it immediatly, then i'll ask you to find another one  \njvelociter - (18:25): haha I find some, but they were added by me  \njvelociter - (18:25): sure  \njvelociter - (18:25): I said I agree with the rule, they should be fixed  \nvmassol - (18:26): ok  \njvelociter - (18:26): calendar & photoalbum are still in SVN ?  \nvmassol - (18:26): yes  \nvmassol - (18:27): ideally when the button \"supported by the xwiki dev team\" is clicked we should hide the contributors field  \njvelociter - (18:28): should be better  \nvmassol - (18:29): cool  \nvmassol - (18:31): one idea I have is to have common installation instrcutions based on the extension type + offer an \"extra installation informatin\" field  \nvmassol - (18:31): (which can be left empty)  \nvmassol - (18:42): jvelociter: ok that should be enough to contain all the info on code.xwiki.org. Now adding the ExtensionVersion class  \nvmassol - (18:43): hmm wait it failed to save my last changes  \nvmassol - (18:44): ok should be good now: http://extensions.xwiki.org/xwiki/bin/view/XWiki/ExtensionClass  \nvmassol - (18:45): missing installation instrcutions, adding  \njvelociter - (18:46): cool  \nvmassol - (18:47): I think installation instructions don't change frequently  \nvmassol - (18:48): and it's better to have the in the extension class  \nvmassol - (18:48): we can always use the textarea to say something like: starting with xxxxx you don't need to do yyyy anymore, blah blah  \njvelociter - (18:49): yes installations are better shared  \njvelociter - (18:49): installations \\*instructions  \nvmassol - (18:55): jvelociter: should be good enough for now (minimal info required)  \nvmassol - (18:55): I guess we could decide what's the latest version by using the latest object added to the page  \nvmassol - (18:56): latest ExtensionVersion object that is  \njvelociter - (18:56): the one with the higher object number you mean ?  \nvmassol - (18:56): yes  \njvelociter - (18:56): or we could have a release date  \njvelociter - (18:56): automatically set when adding the new version  \nvmassol - (18:56): would need to compare dates hten  \njvelociter - (18:57): it's an interesting info  \nlucaa - (18:57): guys, we seem to have lost pictures of these release notes http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWikiEnterprise23  \nvmassol - (18:57): yes although the date when the object is added is an indicator already  \njvelociter - (18:57): yes but you have to dig :)  \nvmassol - (18:57): (ATM I'm trying to add minimal info)  \njvelociter - (18:57): yes ok  \njvelociter - (18:57): it's fine without to being with  \nvmassol - (18:58): I'd like to have step 1) which is migrate exisitng code.xwiki.org to the new structure  \nvmassol - (18:58): and then add new fields in step 2)  \njvelociter - (18:58): yep  \njvelociter - (18:58): fair  \nvmassol - (18:58): don't know if it's a good idea or not....  \nvmassol - (18:58): sounds simpler  \njvelociter - (18:58): yes  \njvelociter - (18:59): what's important is that we simplify the creation process  \nvmassol - (18:59): yes  \njvelociter - (18:59): I can help  \njvelociter - (18:59): (but not today)  \nvmassol - (18:59): I\"ll start writing the extension sheet  \njvelociter - (18:59): vmassol: we do one page for extensions + downloads right ?  \nvmassol - (19:00): yes  \nvmassol - (19:00): only one page for all  \njvelociter - (19:00): great  \njvelociter - (19:00): never liked the 2 pages process  \nvmassol - (19:00): yes too complex  \nflaviusolaru left at 19:13 (Read error: Connection reset by peer  \nrrodriguez joined #xwiki at 19:30  \nabusenius\\_ joined #xwiki at 19:34  \nabusenius\\_ is now known as abusenius ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nrrodriguez\\_ joined #xwiki at 19:40  \nrrodriguez left at 19:40 (Read error: Connection reset by peer  \nrrodriguez\\_ is now known as rrodriguez ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nrrodriguez left at 19:47 (Read error: Connection reset by peer  \nrrodriguez joined #xwiki at 19:47  \narkub left at 19:51 (Quit: Leaving  \nrrodriguez left at 19:53 (Quit: rrodriguez  \nlucaa left at 19:58 (Ping timeout: 272 seconds  \nevalica left at 20:15 (Quit: Leaving.  \njvelociter - (20:24): humm in syntax 2.0 a page without PR cannot include a page that is saved with PR and with a script macro ?  \njvelociter - (20:25): that does not sound right  \njvelociter - (20:25): tmortagne: is this the desired behavior ?  \ntmortagne - (20:31): jvelociter: WDYM by cannot include ?  \ntmortagne - (20:31): you get an error ?  \ntmortagne - (20:32): {{include}} macro is doing a real include by default, i.e. the content of the included document is executed exactly as if it was includer document content  \ntmortagne - (20:33): so if you issue is that you don't have programming right then yes that's normal given the way it's working  \ntmortagne - (20:34): if you use {{include context=new}} it's executed in the context of the included content  \ntmortagne - (20:35): i mean included document is executed in its own context and produce exactly the same thing you would get if you directly view the included document  \ntmortagne left at 20:35 (Quit: Leaving.  \nLukemon - (21:04): any idea what I did that I cannot create pages in syntax other than 1.0 (in a wiki running at XEM 2.6)?  \nlpereira joined #xwiki at 21:06  \nEnygma` left at 21:10 (Ping timeout: 264 seconds  \nsdumitriu left at 21:53 (Ping timeout: 245 seconds  \nrrodriguez joined #xwiki at 22:22  \nlpereira left at 22:53 (Quit: Leaving.  \nvmassol left at 23:11 (Quit: Leaving.  \nsburjan` left at 23:42 (Ping timeout: 276 seconds  \n\n"}