{"id": "dev:IRC.xwikiArchive20130715", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130715", "title": "IRC Archive for channel #xwiki on 15 July 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<sdumitriu>\u00a0has quit  \n04:23\u00a0<sdumitriu>\u00a0has joined #xwiki  \n06:42\u00a0<mflorea>\u00a0has joined #xwiki  \n07:54\u00a0<vmassol>\u00a0has joined #xwiki  \n07:57\u00a0<risherry>\u00a0has joined #xwiki  \n08:33\u00a0<kstuart>\u00a0has joined #xwiki  \n08:47\u00a0<mflorea>\u00a0I'm going to restart xwiki.org in a few minutes to upgrade it to 5.1.  \n09:04\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:13\u00a0<xwikibot>\u00a0has joined #xwiki  \n09:17\u00a0<risherry>\u00a0has quit  \n09:20\u00a0<risherry>\u00a0has joined #xwiki  \n09:21\u00a0<risherry>\u00a0has quit  \n09:22\u00a0<vmassol>\u00a0mflorea: yeah, xwiki.org upgrade :)  \n09:22\u00a0<sburjan>\u00a0has joined #xwiki  \n09:42\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:19\u00a0<sdumitriu>\u00a0has quit  \n10:23\u00a0<sdumitriu>\u00a0has joined #xwiki  \n10:39\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:56\u00a0<kstuart>\u00a0has quit  \n11:08\u00a0<evalica>\u00a0has joined #xwiki  \n11:13\u00a0<Slashman>\u00a0has joined #xwiki  \n11:14\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:19\u00a0<Slashman>\u00a0has quit  \n11:23\u00a0<Slashman>\u00a0has joined #xwiki  \n11:56\u00a0<tmortagne1>\u00a0has joined #xwiki  \n11:59\u00a0<tdelafosse>\u00a0has quit  \n12:00\u00a0<tmortagne>\u00a0has quit  \n12:01\u00a0<tdelafosse>\u00a0has joined #xwiki  \n12:03\u00a0<polx>\u00a0has joined #xwiki  \n12:15\u00a0<polx>\u00a0has quit  \n12:15\u00a0<polx>\u00a0has joined #xwiki  \n12:16\u00a0<camil7>\u00a0has joined #xwiki  \n12:16\u00a0<sdumitriu>\u00a0has joined #xwiki  \n12:20\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:35\u00a0<Helge>\u00a0has joined #xwiki  \n12:37\u00a0<Helge>\u00a0Hello, when I export from XE 4.5 the XAR has the same size - no matter if I export with history or without (with should be much larger because of attachment versions).  \n12:38\u00a0<Helge>\u00a0When I than import with history preserved, I get an NullPointerException. Any idea somebody? thanks.  \n13:03\u00a0<mflorea>\u00a0has quit  \n13:05\u00a0<vmassol>\u00a0Helge: maybe you have upgraded your wiki without upgrading the XAR?  \n13:08\u00a0<Helge>\u00a0vmassol: I am exporting from my old XE 4.5 and import to the new XE 5.1 on a different machine. Anything I can check?  \n13:08\u00a0<vmassol>\u00a0nope, should be fine  \n13:08\u00a0<vmassol>\u00a0best would be to either  \n13:09\u00a0<vmassol>\u00a0- send a mail on the list with details of errors and how to reproduce  \n13:09\u00a0<vmassol>\u00a0or  \n13:09\u00a0<vmassol>\u00a0- create a jira issue with details  \n13:09\u00a0<vmassol>\u00a0or  \n13:09\u00a0<vmassol>\u00a0- send us a pastebin here of the staktrace and tell us how to reprdocue  \n13:11\u00a0<xwiki>\u00a0has joined #xwiki  \n13:13\u00a0<xwiki>\u00a0xwiki.org have problems with menus  \n13:13\u00a0<xwiki>\u00a0has quit  \n13:14\u00a0<chalx>\u00a0has joined #xwiki  \n13:14\u00a0<chalx>\u00a0has left #xwiki  \n13:14\u00a0<chalx>\u00a0has joined #xwiki  \n13:15\u00a0<chalx>\u00a0when I try do download XEM 5.1 I get the response: The requested document could not be found.  \n13:17\u00a0<Helge>\u00a0vmassol: Reproduce: in XE4.5 Admin?Export Tools?Export; select Space Sandbox, select all pages, add to my package, check \"add history\", export.  \n13:19\u00a0<vmassol>\u00a0has quit  \n13:20\u00a0<Helge>\u00a0vmassol: In XE5.1 Administer Wiki?Import?Upload Package.xar?Select Package.xar and check \"replace the document history with the history from the package\"  \n13:21\u00a0<Helge>\u00a0vmassol: http://pastebin.de/35359  \n13:23\u00a0<vmassol>\u00a0has joined #xwiki  \n13:26\u00a0<vmassol>\u00a0has quit  \n13:27\u00a0<vmassol>\u00a0has joined #xwiki  \n13:39\u00a0<chalx>\u00a0has quit  \n13:41\u00a0<mflorea>\u00a0has joined #xwiki  \n13:45\u00a0<chalx>\u00a0has joined #xwiki  \n13:53\u00a0<camil7>\u00a0Helge: if the version information is missing this looks more like a problem of 4.5 than 5.1. Do the files in export have a <versions> \u00a0element?  \n14:23\u00a0<chalx>\u00a0has quit  \n14:25\u00a0<polx>\u00a0has quit  \n14:31\u00a0<chalx>\u00a0has joined #xwiki  \n14:45\u00a0<sburjan>\u00a0has quit  \n14:47\u00a0<sburjan>\u00a0has joined #xwiki  \n14:53\u00a0<tdelafosse>\u00a0has quit  \n15:02\u00a0<sdumitriu>\u00a0xwiki.org looks very wrong  \n15:02\u00a0<vmassol>\u00a0yep  \n15:02\u00a0<vmassol>\u00a0marius and thomas are on it  \n15:02\u00a0<vmassol>\u00a0marius tried to upgade it and found some problems  \n15:08\u00a0<tekzilla\\_>\u00a0is now known as <tekzilla>  \n15:09\u00a0<tdelafosse>\u00a0has joined #xwiki  \n15:37\u00a0<chalx>\u00a0has quit  \n15:43\u00a0<jbwiv\\_>\u00a0has joined #xwiki  \n15:45\u00a0<jbwiv\\_>\u00a0Good morning. after an upgrade to 5.1, the \"Send Message\" section of a user's profile page displays \"Failed to execute the [html] macro\" and this exception: http://pastie.org/8142690. Any idea why this would be happening?  \n15:45\u00a0<chalx>\u00a0has joined #xwiki  \n15:46\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n15:48\u00a0<vmassol>\u00a0jbwiv\\_: what version did you have before?  \n15:49\u00a0<jbwiv\\_>\u00a0vmassol: I believe the most recent which was available via apt-get...5.0.3 maybe?  \n15:50\u00a0<jbwiv\\_>\u00a0how would I edit the source of the Send Message macro and add a newline as it suggests?  \n15:51\u00a0<jbwiv\\_>\u00a0nm....found it's page. let me try  \n15:52\u00a0<jbwiv\\_>\u00a0adding \u00a0a new line before and after the {{messageSender/}} line seems to do nothing helpful  \n15:54\u00a0<tdelafosse>\u00a0has quit  \n15:54\u00a0<tdelafosse>\u00a0has joined #xwiki  \n15:55\u00a0<vmassol>\u00a0the problem is the html macro apparently \u00a0not the messageSender macro  \n15:55\u00a0<vmassol>\u00a0you can check inside the mesasge sender macro maybe  \n15:55\u00a0<vmassol>\u00a0or the profile page  \n15:56\u00a0<vmassol>\u00a0AFAIK it works fine in 5.1 so it must be some page you have that has not been upgraded corectly  \n15:56\u00a0<vmassol>\u00a0?  \n15:56\u00a0<jbwiv\\_>\u00a0vmassol: weird. I received no error during upgrade as far as I could tell  \n15:57\u00a0<jbwiv\\_>\u00a0Should the html macro be listed here? /xwiki/bin/view/XWiki/WikiMacros  \n15:57\u00a0<vmassol>\u00a0you got the DW right?  \n15:57\u00a0<vmassol>\u00a0no, it shouldb't be listed there  \n15:57\u00a0<vmassol>\u00a0it's not a wiki macro  \n16:05\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:05\u00a0<msmeria>\u00a0has quit  \n16:06\u00a0<jbwiv\\_>\u00a0vmassol: do you know if xwiki offers pay-per-incident support?  \n16:06\u00a0<vmassol>\u00a0jbwiv\\_: might do, you should talk to Guillaume  \n16:07\u00a0<jbwiv\\_>\u00a0vmassol: ok, will do. thx  \n16:10\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:14\u00a0<mflorea>\u00a0has quit  \n16:15\u00a0<mflorea>\u00a0has joined #xwiki  \n16:24\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:24\u00a0<tdelafosse>\u00a0has joined #xwiki  \n16:27\u00a0<tmortagne1>\u00a0has quit  \n16:30\u00a0<tmortagne>\u00a0has quit  \n16:30\u00a0<tmortagne>\u00a0has joined #xwiki  \n16:38\u00a0<jbwiv\\_>\u00a0has quit  \n16:40\u00a0<chalx>\u00a0has quit  \n16:41\u00a0<chalx>\u00a0has joined #xwiki  \n16:41\u00a0<chalx>\u00a0has quit  \n16:47\u00a0<chalx>\u00a0has joined #xwiki  \n16:48\u00a0<chalx>\u00a0has quit  \n16:54\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:05\u00a0<Mariah>\u00a0has joined #xwiki  \n17:23\u00a0<Mariah>\u00a0Hello  \n17:23\u00a0<Mariah>\u00a0somebody there?  \n17:27\u00a0<camil7>\u00a0yes, the xwikibot, at least ;)  \n17:29\u00a0<Mariah>\u00a0:p  \n17:29\u00a0<Mariah>\u00a0Somebody that can help  \n17:31\u00a0<camil7>\u00a0depends on what the \u00a0problem is, I guess  \n17:31\u00a0<tmortagne1>\u00a0has joined #xwiki  \n17:35\u00a0<tmortagne>\u00a0has quit  \n17:42\u00a0<Mariah>\u00a0i want to know how to implement Carousel Slider... i cant find any example  \n17:53\u00a0<npm\\_>\u00a0has quit  \n17:54\u00a0<npm\\_>\u00a0has joined #xwiki  \n17:54\u00a0<Mariah>\u00a0some ideas?  \n17:56\u00a0<gdelhumeau>\u00a0hum  \n17:58\u00a0<gdelhumeau>\u00a0I'm looking  \n18:00\u00a0<gdelhumeau>\u00a0in an {{html}} macro: http://paste.ubuntu.com/5877873/  \n18:01\u00a0<gdelhumeau>\u00a0you may have some adaptations to do on your CSS  \n18:04\u00a0<mflorea>\u00a0has quit  \n18:04\u00a0<Mariah>\u00a0mmhh maybe can i usa an external option but .... i really like to use Carousel Slider, but i cant find some example  \n18:04\u00a0<Mariah>\u00a0\\*use  \n18:04\u00a0<Mariah>\u00a0is an extension?  \n18:05\u00a0<Mariah>\u00a0or who can i use it  \n18:05\u00a0<Mariah>\u00a0how  \n18:06\u00a0<gdelhumeau>\u00a0ow, it seems it's not an extension  \n18:07\u00a0<gdelhumeau>\u00a0I don't know where you can find a package  \n18:11\u00a0<Helge>\u00a0has quit  \n18:11\u00a0<Slashman>\u00a0has quit  \n18:15\u00a0<Mariah>\u00a0thnx gdelhumeau  \n18:15\u00a0<Mariah>\u00a0its seems that i have to keep searching  \n18:20\u00a0<gdelhumeau>\u00a0There is no public XAR for this thing, unfortunatly  \n18:21\u00a0<gdelhumeau>\u00a0But you are a bit used to programmation, you can integrate http://www.protoshow.net/ in XWiki  \n18:21\u00a0<gdelhumeau>\u00a0I did it for a client but I didn't published it to the world  \n18:21\u00a0<gdelhumeau>\u00a0It's not very hard to do  \n18:34\u00a0<Mariah>\u00a0ok  \n18:35\u00a0<Mariah>\u00a0thnx a lot !  \n18:43\u00a0<Slashman>\u00a0has joined #xwiki  \n19:04\u00a0<Slashman>\u00a0has quit  \n19:11\u00a0<camil7>\u00a0has quit  \n19:18\u00a0<Slashman>\u00a0has joined #xwiki  \n19:24\u00a0<Slashman>\u00a0has quit  \n19:26\u00a0<tmortagne1>\u00a0has quit  \n19:40\u00a0<gdelhumeau>\u00a0has quit  \n19:45\u00a0<abusenius>\u00a0has joined #xwiki  \n20:07\u00a0<tdelafosse>\u00a0has quit  \n21:30\u00a0<evalica>\u00a0has quit  \n21:48\u00a0<jbwiv>\u00a0has joined #xwiki  \n21:50\u00a0<jbwiv>\u00a0guys, after an upgrade to version 5.1, the \"send message\" macro on the User Profile page states \"failed to execute the [html] macro\" and spews the following exception: http://pastie.org/8143541. I'd like to track down what's going on, but not sure where to start. any ideas?  \n21:51\u00a0<vmassol>\u00a0jbwiv: first, someone should check if it happens on a clean 5.1  \n21:51\u00a0<vmassol>\u00a0or if the issue is the upgrade  \n21:51\u00a0<jbwiv>\u00a0vmassol: good idea. i'll give that a shot. sorry to bother you again...thought you'd be gone for the day ;-)  \n21:51\u00a0<vmassol>\u00a0not yet but almost  \n21:51\u00a0<vmassol>\u00a0:)  \n21:53\u00a0<vmassol>\u00a0after that you can check the history of the XWikiUserProfileSheet page, see the diff and verify if the page was changed during the upgrade  \n21:54\u00a0<vmassol>\u00a0you can also check the history for MessageSenderMacro  \n21:54\u00a0<jbwiv>\u00a0is there an easy way to get the project and installed for development/debugging/etc? Of the top-level components listed here (http://dev.xwiki.org/xwiki/bin/view/Community/SourceRepository), would I only need xwiki-commons and xwiki-enterprise?  \n21:54\u00a0<jbwiv>\u00a0when I search for XWikiUserProfileSheet, I don't see it. is there \u00a0a page in the wiki which lists all these hidden macros/objects/etc?  \n21:55\u00a0<vmassol>\u00a0you just need the source for the code you'd like to modify  \n21:55\u00a0<vmassol>\u00a0easiest is to just clone xwiki-enterprise  \n21:55\u00a0<jbwiv>\u00a0vmassol: what i'd really like to do is step through the code in a debugger  \n21:55\u00a0<jbwiv>\u00a0ok  \n21:55\u00a0<jbwiv>\u00a0i'll grab that  \n21:55\u00a0<vmassol>\u00a0then run \"mvn clean install\", go in the jetty/hsqldb distribution  \n21:55\u00a0<vmassol>\u00a0see teh building page  \n21:56\u00a0<vmassol>\u00a0you'll need to get the sources of xwiki-platform at some point  \n21:56\u00a0<vmassol>\u00a0but  \n21:56\u00a0<vmassol>\u00a0you can get them either by cloning them  \n21:56\u00a0<vmassol>\u00a0or by having your IDE downloads them automatically from a maven repo  \n21:56\u00a0<vmassol>\u00a0now  \n21:56\u00a0<vmassol>\u00a0with your problem debugging java won't help much  \n21:57\u00a0<vmassol>\u00a0since the problem is not in java  \n21:57\u00a0<vmassol>\u00a0:)  \n21:57\u00a0<jbwiv>\u00a0the diff of XWikiUserProfileSheet from the upgrade: http://pastie.org/8143557  \n21:57\u00a0<vmassol>\u00a0but in your wiki pages  \n21:57\u00a0<vmassol>\u00a0so that's not a problem  \n21:57\u00a0<jbwiv>\u00a0ah, sorry. I thought it might be, since the html macro is java based  \n21:57\u00a0<vmassol>\u00a0(the diff)  \n21:57\u00a0<vmassol>\u00a0html macro is fine  \n21:57\u00a0<jbwiv>\u00a0i see  \n21:57\u00a0<vmassol>\u00a0anything java is fine actually  \n21:57\u00a0<vmassol>\u00a0it's just your data that are having some problem  \n21:57\u00a0<vmassol>\u00a0data = wiki page content  \n21:58\u00a0<vmassol>\u00a0basically it just means  \n21:58\u00a0<jbwiv>\u00a0interesting...but the content is the \"Send Message\" macro, and not a page I created myself?  \n21:58\u00a0<vmassol>\u00a0that in some page the html macro is used  \n21:58\u00a0<vmassol>\u00a0but it's missing some new lines before or after the html macro call  \n21:58\u00a0<vmassol>\u00a0yes and no  \n21:58\u00a0<vmassol>\u00a0depends how you installed the pages before you upgraded  \n21:59\u00a0<vmassol>\u00a0if they were installed through an import for example  \n21:59\u00a0<jbwiv>\u00a0I had imported them from an older wiki  \n21:59\u00a0<jbwiv>\u00a0yes  \n21:59\u00a0<vmassol>\u00a0or from an old wiki  \n21:59\u00a0<vmassol>\u00a0then they're your data  \n21:59\u00a0<jbwiv>\u00a0not much older though  \n21:59\u00a0<vmassol>\u00a0if they were installed through EM  \n21:59\u00a0<vmassol>\u00a0then xwiki knows the version adn can do the automatic merge, etc  \n21:59\u00a0<vmassol>\u00a0anyway IMO it's just a bad merge somewhere  \n22:00\u00a0<jbwiv>\u00a0I was moving our wiki between two servers, so I exported on one side and imported on the other  \n22:00\u00a0<jbwiv>\u00a0wonder how I might track it down. Could I query the database and look for an instance of \"{{html}}\" in wiki content?  \n22:01\u00a0<vmassol>\u00a0sure but even better  \n22:01\u00a0<vmassol>\u00a0you can use the solr search  \n22:01\u00a0<vmassol>\u00a0make sure you configure your user to see hidden files  \n22:02\u00a0<jbwiv>\u00a0I'm logged in as the admin user  \n22:02\u00a0<vmassol>\u00a0admin doesn't see hidden files by default  \n22:03\u00a0<jbwiv>\u00a0ah, k  \n22:03\u00a0<vmassol>\u00a0then search for \"{{html\"  \n22:03\u00a0<vmassol>\u00a0that'll get you all pages using the html macro  \n22:03\u00a0<vmassol>\u00a0but you'll get alot of result probably :)  \n22:03\u00a0<jbwiv>\u00a0lol...ok  \n22:03\u00a0<jbwiv>\u00a0thanks ;)  \n22:03\u00a0<vmassol>\u00a0you can then refine the search using the facets  \n22:04\u00a0<vmassol>\u00a0you'll that message sender macro uses it  \n22:04\u00a0<vmassol>\u00a0as I said above I'd like into the history of that page  \n22:04\u00a0<vmassol>\u00a0Main.MessageSenderMacro  \n22:08\u00a0<jbwiv>\u00a0wow...ok, when I diff the version of that file from the upgrade, it shows me a lot more code than the other diffs do  \n22:08\u00a0<jbwiv>\u00a0specifically it shows diffs \u00a0in XWiki.JavaScriptExtension and XWiki.WikiMacroClass  \n22:10\u00a0<jbwiv>\u00a0vmassol: http://pastie.org/8143591  \n22:12\u00a0<vmassol>\u00a0you should also check the usage of the {{messageSender}} in the profile sheet pages  \n22:12\u00a0<vmassol>\u00a0especially in XWiki.XWikiUserProfileSheet  \n22:12\u00a0<vmassol>\u00a0since if a new lines is missing beofre of after you'll get the error you reported  \n22:13\u00a0<vmassol>\u00a0on my instance I have: http://pastebin.com/DhttPnGP  \n22:13\u00a0<vmassol>\u00a0(with proper new lines around it)  \n22:14\u00a0<jbwiv>\u00a0vmassol: yeah, me too :(  \n22:14\u00a0<jbwiv>\u00a0oh well...I'll continue digging. thanks for being so helpful ;)  \n22:14\u00a0<vmassol>\u00a0ok then what you need to do is simply change the pages  \n22:15\u00a0<vmassol>\u00a0to track down where the problem is  \n22:15\u00a0<vmassol>\u00a0it's not that hard  \n22:15\u00a0<vmassol>\u00a0you just output debug info  \n22:15\u00a0<vmassol>\u00a0till you track the location causing the problem  \n22:15\u00a0<vmassol>\u00a0you can start by removing the call to {{messageSender /}}  \n22:15\u00a0<vmassol>\u00a0to see if the problem is inside {{messageSender /}}  \n22:16\u00a0<jbwiv>\u00a0but to me, it's not clear where it's happening. Is it in the XWikiUserProfileSheet? Should I debug there? Or should I start somewhere else?  \n22:16\u00a0<vmassol>\u00a0if it is then you go in the code messageSender  \n22:16\u00a0<vmassol>\u00a0and do the sae  \n22:16\u00a0<vmassol>\u00a0same  \n22:16\u00a0<vmassol>\u00a0the problem is that the html macro is used in inline mode but with a content that is block content  \n22:16\u00a0<vmassol>\u00a0so it's complaining which is normal  \n22:16\u00a0<vmassol>\u00a0got to go, sorry  \n22:16\u00a0<jbwiv>\u00a0ok, thanks again!  \n22:17\u00a0<vmassol>\u00a0has quit  \n22:22\u00a0<vmassol>\u00a0has joined #xwiki  \n22:33\u00a0<jbwiv>\u00a0vmassol: just FYI, the hint is in the text '\u00a0\u00a0#set ($targetName = ${msg.get('xe.activity.messages.visibility.targetName.tip')})\", which was displaying under the exception. Finding that in the macro source, I added a newline just before it, and now the exception goes away. However, this line still does appear under the \"Send Message\" box, oddly enough  \n22:34\u00a0<jbwiv>\u00a0but anyway, I learned more about xwiki macros, so...success! ;-) thanks again  \n22:35\u00a0<jbwiv>\u00a0ah, and the reason that line displays outside as text is because for some reason it's not wrapped within the {{velocity}} tags. moving it back within fixed it  \n22:36\u00a0<jbwiv>\u00a0so a general question to all...is there an easy way to compare my current macro source to that which would be provided in a fresh install? I'm curious if that code is even necessary or if it was an error left over by the upgrade  \n23:01\u00a0<vmassol>\u00a0has quit  \n23:08\u00a0<cjd>\u00a0has quit  \n23:12\u00a0<cjd>\u00a0has joined #xwiki  \n23:51\u00a0<sdumitriu1>\u00a0has quit\n"}