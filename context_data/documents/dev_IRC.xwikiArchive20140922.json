{"id": "dev:IRC.xwikiArchive20140922", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140922", "title": "IRC Archive for channel #xwiki on 22 September 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<cjd>\u00a0has quit  \n00:25\u00a0<cjd>\u00a0has joined #xwiki  \n00:25\u00a0<sdumitriu2>\u00a0has quit  \n00:27\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n00:55\u00a0<lucaa>\u00a0has quit  \n00:56\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n01:10\u00a0<unfed\\_>\u00a0has joined #xwiki  \n01:10\u00a0<unfed\\_>\u00a0Not sure if anyone's listening on a Sunday. \u00a0But if you are I could use some help with attachment sizes.  \n01:11\u00a0<unfed\\_>\u00a0I've changes xwiki.cfg to store attachments in the filesystem and confirmed they're going there.  \n01:11\u00a0<unfed\\_>\u00a0I've also changed the Maximum Upload Size to a really big number in the objects editor  \n01:12\u00a0<unfed\\_>\u00a0But I'm still getting a red bar at the bottom of the page when I upload a big file, small files work  \n01:12\u00a0<unfed\\_>\u00a0Anyone know somewhere else I can look? \u00a0Or at least a way to get more info on the error; there's nothing in the log files that seem to relate to this.  \n04:10\u00a0<polx>\u00a0has quit  \n04:29\u00a0<polx>\u00a0has joined #xwiki  \n07:15\u00a0<cjd>\u00a0unfed\\_: check the xwiki logs (eg: catalina.out) for errors  \n07:16\u00a0<msmeria>\u00a0has joined #xwiki  \n07:27\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n07:36\u00a0<andreeapopescu>\u00a0has joined #xwiki  \n07:37\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n07:48\u00a0<cjd>\u00a0has quit  \n07:48\u00a0<sdumitriu2>\u00a0has quit  \n07:50\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n08:04\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n08:04\u00a0<sdumitriu2>\u00a0has quit  \n08:05\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n08:25\u00a0<DarkKnightCZ>\u00a0has quit  \n08:25\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n08:48\u00a0<cjd>\u00a0has joined #xwiki  \n08:52\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:53\u00a0<polx>\u00a0has quit  \n08:53\u00a0<sdumitriu2>\u00a0has quit  \n08:54\u00a0<tmortagne>\u00a0[WARN] Upgrading myxwiki.org to 6.2 in about 2h  \n08:55\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n09:09\u00a0<vmassol>\u00a0has joined #xwiki  \n09:09\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:26\u00a0<mflorea>\u00a0has joined #xwiki  \n09:33\u00a0<lucaa>\u00a0has joined #xwiki  \n10:03\u00a0<vmassol>\u00a0good morning  \n10:03\u00a0<vmassol>\u00a0let's not forget that we need to fix the build!  \n10:03\u00a0<vmassol>\u00a0:)  \n10:16\u00a0<vmassol>\u00a0looking at http://ci.xwiki.org/job/xwiki-enterprise-test-extension-6.2.x/41/org.xwiki.enterprise$xwiki-enterprise-test-extension/testReport/org.xwiki.test.ui.repository/RepositoryTest/testAddExtension/  \n10:17\u00a0<vmassol>\u00a0the screenshot clearly shows that seleniulm is on a white page  \n10:17\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-enterprise-test-extension-6.2.x/ws/xwiki-enterprise-test/xwiki-enterprise-test-extension/target/screenshots/RepositoryTest-testAddExtension.png  \n10:17\u00a0<tmortagne>\u00a0[WARN] Upgrading myxwiki.org to 6.2 in about 1h  \n10:18\u00a0<vmassol>\u00a0seems it''s caused by Edy's change  \n10:32\u00a0<DarkKnightCZ>\u00a0has left #xwiki  \n10:34\u00a0<tekzilla>\u00a0has joined #xwiki  \n10:34\u00a0<sdumitriu2>\u00a0has quit  \n10:35\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n10:56\u00a0<tmortagne>\u00a0[WARN] Restarting myxwiki.org as 6.2 in 5min  \n10:58\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n11:01\u00a0<Denis1>\u00a0has joined #xwiki  \n11:01\u00a0<Denis1>\u00a0is now known as <Denis>  \n11:02\u00a0<sdumitriu2>\u00a0has quit  \n11:04\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n11:05\u00a0<polx>\u00a0has joined #xwiki  \n11:12\u00a0<tmortagne>\u00a0\u00a0\u00a0p, li { white-space: pre-wrap; } \u00a0[WARN] Restarting myxwiki.org as 6.2  \n11:17\u00a0<Pbas>\u00a0has quit  \n11:31\u00a0<evalica>\u00a0has joined #xwiki  \n11:34\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:44\u00a0<Enygma`1>\u00a0has joined #xwiki  \n11:44\u00a0<Enygma`>\u00a0has quit  \n11:45\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n11:46\u00a0<ClemensR>\u00a0has joined #xwiki  \n11:53\u00a0<DarkKnightCZ>\u00a0has joined #xwiki  \n11:53\u00a0<vmassol>\u00a0Enygma`1: ping  \n11:54\u00a0<vmassol>\u00a0(could you check your skype please)  \n11:57\u00a0<sdumitriu2>\u00a0has quit  \n11:59\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n12:10\u00a0<Enygma`1>\u00a0starting to look at http://ci.xwiki.org/job/xwiki-enterprise-test-extension/63/org.xwiki.enterprise$xwiki-enterprise-test-extension/testReport/org.xwiki.test.ui.repository/RepositoryTest/testAddExtension/  \n12:10\u00a0<vmassol>\u00a0ok thanks  \n12:10\u00a0<Enygma`1>\u00a0is now known as <Enygma>  \n12:11\u00a0<Enygma>\u00a0is now known as <Guest62013>  \n12:12\u00a0<cjd>\u00a0heh I thought for a second you'd finally managed to register Enigma w/o the ` mark :)  \n12:12\u00a0<Guest62013>\u00a0is now known as <Enygma`>  \n12:13\u00a0<Enygma`>\u00a0was taken before I joined freenode  \n12:14\u00a0<Enygma`>\u00a0is now known as <Enygam>  \n12:14\u00a0<Enygam>\u00a0is now known as <Enygma`>  \n12:15\u00a0<cjd>\u00a0it the person never joins or auths up for 6 months, you can beg the #freenode people to release it  \n12:15\u00a0<Enygma`>\u00a0I get \"Nickname is temporarily unavailable\" if I try to use that nickname  \n12:16\u00a0<Enygma`>\u00a0but indeed, I should look that up at some point  \n12:16\u00a0<Enygma`>\u00a0maybe I can snatch it  \n12:20\u00a0<vmassol>\u00a0gdelhumeau and everyone: when we find/fix important issues I think we should put then in an {{error}} block on the RN of 6.2 WDYT?  \n12:21\u00a0<vmassol>\u00a0gdelhumeau: I wonder if XWIK-11081 doesn't qualify for that  \n12:21\u00a0<vmassol>\u00a0XWIKI-11081  \n12:21\u00a0<Enygma`>\u00a0vmassol: maybe we should have a section in release notes, right after the description, with issues detected on this release  \n12:21\u00a0<Enygma`>\u00a0and list the jira issues that affect that release  \n12:21\u00a0<vmassol>\u00a0Enygma`: yes that's the idea  \n12:21\u00a0<vmassol>\u00a0we've been doing this unofficially for a long time now  \n12:22\u00a0<vmassol>\u00a0I'd say only critical+ issue  \n12:22\u00a0<vmassol>\u00a0\\*issues  \n12:22\u00a0<Denis>\u00a0+1  \n12:23\u00a0<Enygma`>\u00a0+1 to add this practice and to update our release notes template  \n12:25\u00a0<gdelhumeau>\u00a0vmassol: I agree. I update the RN  \n12:26\u00a0<vmassol>\u00a0k  \n12:44\u00a0<cjd>\u00a0xar plugin only works on oracle jvm?  \n12:45\u00a0<tmortagne>\u00a0cjd: if it does it's a bug IMO  \n12:46\u00a0<cjd>\u00a0The following artifacts could not be resolved: jdk.tools:jdk.tools:jar:1.7  \n12:47\u00a0<tmortagne>\u00a0not sure what this has to do with the JVM used  \n12:47\u00a0<cjd>\u00a0I might be wrong but an old memory of some kind of jar packer which is only distributed with oracle jdk comes up  \n12:48\u00a0<cjd>\u00a0let me try defining JAVA\\_HOME first though since that's missing  \n12:49\u00a0<sdumitriu2>\u00a0has quit  \n12:50\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n12:51\u00a0<cjd>\u00a0find /usr/lib/jvm/java-7-openjdk-amd64/ -name 'tools.jar'  \n12:51\u00a0<cjd>\u00a0turns up nothing  \n12:55\u00a0<cjd>\u00a0ahh ok, I had the jre but it was in the jdk directory  \n12:58\u00a0<ClemensR>\u00a0has left #xwiki  \n12:59\u00a0<Enygma`>\u00a0I`m using openjdk for development, and am having no problems.  \n12:59\u00a0<sdumitriu2>\u00a0has quit  \n13:01\u00a0<Enygma`>\u00a0vmassol: as I was saying on skype, I`ve recently pushed a modification to our PageObjects and have put inside the constructor of BasePage a call to BaseElement.waitUntilPageJSIsLoaded(). See https://github.com/xwiki/xwiki-platform/commit/9c503afb3d2171d2ca2a34a9c13f0033363794bc  \n13:01\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n13:01\u00a0<vmassol>\u00a0yes I know  \n13:01\u00a0<vmassol>\u00a0and it's breaking some stuff apparently  \n13:01\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n13:02\u00a0<vmassol>\u00a0at least for the extension tests  \n13:02\u00a0<Enygma`>\u00a0now I have to fix a lot of previous tests that are first calling the cosntructor and only after are changing the URL  \n13:02\u00a0<Enygma`>\u00a0with my change, the logic needs to be the other way around  \n13:02\u00a0<Enygma`>\u00a0does that sound OK as a logic to follow?  \n13:02\u00a0<Enygma`>\u00a0this is an example of \"bad\" practice:  \n13:02\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0public static AdministrationSectionPage gotoPage(String section)  \n13:02\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0AdministrationSectionPage page = new AdministrationSectionPage(section);  \n13:02\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0page.getDriver().get(page.getURL());  \n13:02\u00a0<vmassol>\u00a0don't know  \n13:03\u00a0<Enygma`>\u00a0however, this case is also special  \n13:03\u00a0<vmassol>\u00a0you can be sure that people are going to continue making mistakes I think  \n13:03\u00a0<Enygma`>\u00a0because it is using a parameter in the constructor  \n13:03\u00a0<vmassol>\u00a0gtg for lunch now  \n13:03\u00a0<Enygma`>\u00a0ok  \n13:03\u00a0<Enygma`>\u00a0I`ll continue fixing tests  \n13:03\u00a0<Enygma`>\u00a0and hope people will follow along, otherwise they will get failing tests :P  \n13:04\u00a0<vmassol>\u00a0it's better to not fail by design :)  \n13:04\u00a0<vmassol>\u00a0ie have a design that doesn't lead to potential failures  \n13:04\u00a0<Enygma`>\u00a0well, it is kind of wrong IMO to instantiate the PO if you are not on that page yet  \n13:05\u00a0<Enygma`>\u00a0on the other side, it's also kind of wrong to have failing constructors as well :/  \n13:06\u00a0<Denis>\u00a0has quit  \n13:06\u00a0<Enygma`>\u00a0the \"best\" way is to only \\*manually\\* use the call to waitUntilPageJSIsLoaded() when needed... but that will \\*guarantee\\* that people will forget to use it every time and we`ll still have flickers because of that  \n13:06\u00a0<Enygma`>\u00a0since we need it in a lot of places and it`s not always obvious  \n13:07\u00a0<Enygma`>\u00a0and then we have this test that does something without JavaScript http://ci.xwiki.org/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/59/testReport/junit/org.xwiki.test.ui/CommentAsGuestTest/testPostCommentAsGuestNoJs/ which spoils the fun  \n13:08\u00a0<Enygma`>\u00a0getUtil().gotoPage(getTestClassName(), getTestMethodName(), \"view\", \"xpage=xpart&vm=commentsinline.vm\");  \n13:08\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0CommentsTab commentsTab = new CommentsTab();  \n13:08\u00a0<Enygma`>\u00a0the problem here is that CommentsTab extens ViewPage, when instead it should extend BaseElement or something  \n13:08\u00a0<Enygma`>\u00a0since it's not a page, it`s just an element in a page.  \n13:31\u00a0<Denis>\u00a0has joined #xwiki  \n13:49\u00a0<Pbas>\u00a0has joined #xwiki  \n13:50\u00a0<ClemensR>\u00a0has joined #xwiki  \n13:51\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n14:19\u00a0<polx>\u00a0has quit  \n14:22\u00a0<polx>\u00a0has joined #xwiki  \n14:59\u00a0<andreeapopescu>\u00a0has left #xwiki  \n15:07\u00a0<msmeria>\u00a0has quit  \n15:20\u00a0<DarkKnightCZ>\u00a0has quit  \n15:28\u00a0<tmortagne>\u00a0has quit  \n15:29\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:31\u00a0<sdumitriu2>\u00a0has quit  \n15:32\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n15:36\u00a0<tmortagne1>\u00a0has joined #xwiki  \n15:37\u00a0<tmortagne>\u00a0has quit  \n15:37\u00a0<cjd>\u00a0mm is it normal that a scheduler job is not active when the document is imported ?  \n15:37\u00a0<cjd>\u00a0I exported an active scheduler job and then import it and it doesn't seem to be triggering  \n16:00\u00a0<sdumitriu2>\u00a0has quit  \n16:00\u00a0<OSIMasson>\u00a0has joined #xwiki  \n16:02\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n16:03\u00a0<sdumitriu2>\u00a0has quit  \n16:05\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n16:07\u00a0<sdumitriu2>\u00a0has quit  \n16:09\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n16:18\u00a0<lucaa>\u00a0has quit  \n16:18\u00a0<sdumitriu2>\u00a0has quit  \n16:19\u00a0<sdumitriu2>\u00a0has joined #xwiki  \n16:29\u00a0<Enygma`>\u00a0vmassol: here's what I got while trying to run tests from a maven command line what I had an XWiki instance started in the background: http://hastebin.com/nujunowuni.vhdl  \n16:29\u00a0<sdumitriu2>\u00a0has quit  \n16:30\u00a0<KermitTheFragger>\u00a0has quit  \n16:31\u00a0<Enygma`>\u00a0looks like a race condition  \n16:31\u00a0<vmassol>\u00a0where?  \n16:32\u00a0<vmassol>\u00a0looks ok to me  \n16:32\u00a0<vmassol>\u00a0hmm you're right  \n16:32\u00a0<vmassol>\u00a0this lines is happening too soon:  \n16:32\u00a0<vmassol>\u00a017:23:28.727 [main] INFO \u00a0o.x.test.integration.XWikiExecutor - Server is answering to [http://localhost:8080/xwiki/bin/get/Main/]... cool  \n16:33\u00a0<Enygma`>\u00a0yep, before the stop script does its job  \n16:33\u00a0<Enygma`>\u00a0and I see there up to 3 threads : main, 1 and 2  \n16:33\u00a0<vmassol>\u00a0but I don't understand why  \n16:33\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:33\u00a0<vmassol>\u00a0I see 2 threads which is normal  \n16:34\u00a0<Enygma`>\u00a0[main] [Thread-1] [Thread-2]  \n16:34\u00a0<vmassol>\u00a0ok indeed I see why it can fail  \n16:34\u00a0<Enygma`>\u00a0though from the logs, 2 seems to be a rename of 1  \n16:35\u00a0<vmassol>\u00a0makes sense  \n16:35\u00a0<vmassol>\u00a0XWikiExecutor runs start\\_xwiki.sh in a separate thread  \n16:35\u00a0<Enygma`>\u00a0right  \n16:35\u00a0<vmassol>\u00a0and waits by pinging  \n16:35\u00a0<vmassol>\u00a0so it can reply before start\\_xwiki.sh stops the -existing instance  \n16:36\u00a0<vmassol>\u00a0we should instead wait till the timeout  \n16:36\u00a0<vmassol>\u00a0or till it finishes (exit code)  \n16:36\u00a0<Enygma`>\u00a0can I do this to reuse my running instance? -Dxwiki.test.verifyRunningXWikiAtStart=false  \n16:37\u00a0<vmassol>\u00a0yes  \n16:37\u00a0<vmassol>\u00a0it needs to be true  \n16:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (VERIFY\\_RUNNING\\_XWIKI\\_AT\\_START.equals(\"true\")) {  \n16:37\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0public static final String VERIFY\\_RUNNING\\_XWIKI\\_AT\\_START =  \n16:37\u00a0<vmassol>\u00a0it's set to false in our pom  \n16:38\u00a0<vmassol>\u00a0creating jira  \n16:40\u00a0<Enygma`>\u00a0ah, I have to set it to true :)  \n16:41\u00a0<vmassol>\u00a0XWIKI-11086  \n16:41\u00a0<Enygma`>\u00a0cool  \n16:51\u00a0<Enygma`>\u00a0vmassol: I seem to be reproducing http://ci.xwiki.org/job/xwiki-platform-6.2.x/lastBuild/org.xwiki.platform$xwiki-platform-activeinstalls-client-api/testReport/org.xwiki.activeinstalls.internal.client/DefaultPingSenderIntegrationTest/sendPingThroughProxy/ locally on master  \n16:52\u00a0<Enygma`>\u00a0even if on ci I see no problem reported for xwiki-platform  \n16:52\u00a0<Enygma`>\u00a0and I have no port 80 opened  \n16:53\u00a0<momomomomo>\u00a0has quit  \n17:03\u00a0<gdelhumeau>\u00a0I have to go  \n17:03\u00a0<gdelhumeau>\u00a0has quit  \n17:04\u00a0<vmassol>\u00a0Enygma`: ok I think I know how to fix it (XWIKI-11086), working on it  \n17:05\u00a0<momomomomo>\u00a0has joined #xwiki  \n17:09\u00a0<lucaa>\u00a0has joined #xwiki  \n17:09\u00a0<ClemensR>\u00a0has left #xwiki  \n17:10\u00a0<benoitc\\_>\u00a0is now known as <benoitc>  \n17:10\u00a0<benoitc>\u00a0has quit  \n17:16\u00a0<sdumitriu1>\u00a0vmassol: Did you get a chance to look at that code?  \n17:22\u00a0<vmassol>\u00a0sdumitriu: sorry but no  \n17:22\u00a0<vmassol>\u00a0and my work stack is pretty large right now, at least for a few days  \n17:22\u00a0<vmassol>\u00a0(bugs to fix)  \n17:22\u00a0<vmassol>\u00a0(important ones)  \n17:48\u00a0<mflorea>\u00a0has quit  \n17:59\u00a0<woshilapin>\u00a0has quit  \n18:00\u00a0<cjd>\u00a0has quit  \n18:10\u00a0<tekzilla>\u00a0has quit  \n18:12\u00a0<tekzilla>\u00a0has joined #xwiki  \n18:16\u00a0<tekzilla>\u00a0has quit  \n18:17\u00a0<tekzilla>\u00a0has joined #xwiki  \n18:24\u00a0<evalica>\u00a0has quit  \n18:28\u00a0<Enygma`>\u00a0has quit  \n18:32\u00a0<momomomomo>\u00a0has quit  \n18:33\u00a0<tmortagne1>\u00a0has quit  \n18:36\u00a0<momomomomo>\u00a0has joined #xwiki  \n18:43\u00a0<polx>\u00a0has quit  \n18:55\u00a0<momomomomo>\u00a0has quit  \n18:56\u00a0<momomomomo>\u00a0has joined #xwiki  \n19:00\u00a0<lucaa>\u00a0has quit  \n19:07\u00a0<polx>\u00a0has joined #xwiki  \n19:43\u00a0<polx>\u00a0has quit  \n19:45\u00a0<polx>\u00a0has joined #xwiki  \n19:51\u00a0<polx>\u00a0has quit  \n20:09\u00a0<mflorea>\u00a0has joined #xwiki  \n20:14\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:14\u00a0<tmortagne>\u00a0has left #xwiki  \n20:41\u00a0<polx>\u00a0has joined #xwiki  \n20:43\u00a0<polx>\u00a0has quit  \n20:55\u00a0<momomomomo>\u00a0has quit  \n21:00\u00a0<polx>\u00a0has joined #xwiki  \n21:10\u00a0<polx\\_>\u00a0has joined #xwiki  \n21:11\u00a0<polx>\u00a0has quit  \n21:11\u00a0<polx\\_>\u00a0is now known as <polx>  \n21:12\u00a0<Denis>\u00a0has quit  \n21:23\u00a0<mflorea>\u00a0has quit  \n21:29\u00a0<Denis>\u00a0has joined #xwiki  \n21:42\u00a0<mflorea>\u00a0has joined #xwiki  \n22:20\u00a0<drapo>\u00a0has joined #xwiki  \n22:27\u00a0<drapo>\u00a0has quit  \n22:29\u00a0<vmassol>\u00a0has quit  \n22:44\u00a0<abusenius>\u00a0has joined #xwiki  \n23:07\u00a0<Denis>\u00a0has quit  \n23:18\u00a0<mflorea>\u00a0has quit  \n23:39\u00a0<abusenius>\u00a0has quit\n"}