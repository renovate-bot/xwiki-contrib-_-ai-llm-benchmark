{"id": "dev:IRC.xwikiArchive20140106", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20140106", "title": "IRC Archive for channel #xwiki on 06 January 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:46\u00a0<abusenius>\u00a0has joined #xwiki  \n00:46\u00a0<vmassol>\u00a0has quit  \n00:53\u00a0<abusenius>\u00a0has quit  \n01:40\u00a0<vmassol>\u00a0has joined #xwiki  \n01:44\u00a0<vmassol>\u00a0has quit  \n02:41\u00a0<vmassol>\u00a0has joined #xwiki  \n02:46\u00a0<vmassol>\u00a0has quit  \n03:42\u00a0<vmassol>\u00a0has joined #xwiki  \n03:46\u00a0<vmassol>\u00a0has quit  \n04:37\u00a0<spawn57>\u00a0has joined #xwiki  \n05:24\u00a0<spawn57>\u00a0has left #xwiki  \n05:43\u00a0<vmassol>\u00a0has joined #xwiki  \n05:48\u00a0<vmassol>\u00a0has quit  \n07:43\u00a0<vmassol>\u00a0has joined #xwiki  \n08:07\u00a0<msmeria>\u00a0has joined #xwiki  \n08:40\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:41\u00a0<sburjan>\u00a0has joined #xwiki  \n08:47\u00a0<sburjan`>\u00a0has quit  \n08:47\u00a0<sburjan`>\u00a0has joined #xwiki  \n09:02\u00a0<sburjan>\u00a0has quit  \n09:03\u00a0<sburjan>\u00a0has joined #xwiki  \n09:20\u00a0<tmortagne>\u00a0vmassol: we seems to have a few blockers for 5.4M1 (and 5.3.1)  \n09:21\u00a0<vmassol>\u00a0tmortagne: hi. link?  \n09:21\u00a0<tmortagne>\u00a0http://jira.xwiki.org/issues/?jql=Project%20in%20%28%22XWiki%20Commons%22%2C%20%22XWiki%20Rendering%22%2C%20%22XWiki%20Platform%22%2C%20%22XWiki%20Enterprise%22%29%20and%20fixVersion%20in%20%28%225.4-milestone-1%22%29%20and%20resolution%20in%20%28%22Unresolved%22%29  \n09:21\u00a0<tmortagne>\u00a0(release plan link)  \n09:22\u00a0<cjd>\u00a0has joined #xwiki  \n09:22\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XWIKI-9826?jql=Project%20in%20(%22XWiki%20Commons%22%2C%20%22XWiki%20Rendering%22%2C%20%22XWiki%20Platform%22%2C%20%22XWiki%20Enterprise%22)%20and%20fixVersion%20in%20(%225.4-milestone-1%22)%20and%20resolution%20in%20(%22Unresolved%22)%20and%20priority%20%3D%20Blocker  \n09:22\u00a0<vmassol>\u00a0so 3 blockers  \n09:22\u00a0<vmassol>\u00a0actually 2  \n09:22\u00a0<tmortagne>\u00a0I see 3  \n09:24\u00a0<mflorea>\u00a0has joined #xwiki  \n09:28\u00a0<j-simard>\u00a0has joined #xwiki  \n09:28\u00a0<vmassol>\u00a0yes 3 but one is a bit out of our control  \n09:28\u00a0<vmassol>\u00a0(htmlcleaner)  \n09:29\u00a0<tmortagne>\u00a0then it's more critical than blocker  \n09:30\u00a0<vmassol>\u00a0well it was marked blocker because it was a regression  \n09:30\u00a0<vmassol>\u00a0but between 2 issues we chose the other one as the most critical one so indeed it could be re prioritized as critical  \n09:31\u00a0<vmassol>\u00a0changing priority  \n09:31\u00a0<vmassol>\u00a0(espcecially since we're using 2.7 so the issue is not as severe as before I think)  \n09:32\u00a0<tmortagne>\u00a0is there another issue for the 2.7 upgrade ?  \n09:33\u00a0<vmassol>\u00a0I think so  \n09:33\u00a0<vmassol>\u00a02.7 fixed a few issues  \n09:33\u00a0<vmassol>\u00a0XCOMMONS-496  \n09:34\u00a0<vmassol>\u00a0XCOMMONS-32  \n09:34\u00a0<tmortagne>\u00a0ok there is no issue for the upgrade specifically but there is issues closed because of the upgrade  \n09:34\u00a0<vmassol>\u00a0yes  \n09:41\u00a0<cjd>\u00a0has quit  \n10:01\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:04\u00a0<cjd>\u00a0has joined #xwiki  \n10:05\u00a0<gdelhumeau\\_>\u00a0has joined #xwiki  \n10:09\u00a0<gdelhumeau>\u00a0has quit  \n10:11\u00a0<tmortagne>\u00a0vmassol: could you close or move XWIKI-9734  \n10:14\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n10:15\u00a0<vmassol>\u00a0otp, will check after  \n10:15\u00a0<vmassol>\u00a0one  \n10:16\u00a0<vmassol>\u00a0\\*done  \n10:18\u00a0<mflorea>\u00a0has quit  \n10:19\u00a0<mflorea>\u00a0has joined #xwiki  \n10:24\u00a0<mflorea>\u00a0has quit  \n10:27\u00a0<msmeria1>\u00a0has joined #xwiki  \n10:30\u00a0<msmeria>\u00a0has quit  \n10:36\u00a0<mflorea>\u00a0has joined #xwiki  \n10:36\u00a0<cjd>\u00a0nice, i18n names seem to work well  \n10:36\u00a0<vmassol>\u00a0indeed :)  \n10:38\u00a0<Slashman>\u00a0has joined #xwiki  \n10:47\u00a0<lucaa>\u00a0has joined #xwiki  \n10:56\u00a0<vmassol>\u00a0gdelhumeau\\_: hi welcome back  \n10:56\u00a0<gdelhumeau\\_>\u00a0hi vmassol  \n10:56\u00a0<vmassol>\u00a0gdelhumeau\\_: could you check ASAP http://ci.xwiki.org/job/xwiki-enterprise-test-webstandards/ \u00a0please  \n10:56\u00a0<gdelhumeau\\_>\u00a0I'm on it  \n10:56\u00a0<vmassol>\u00a0I think you broke it 2 weeks ago\u2026 :)  \n10:56\u00a0<vmassol>\u00a0ok  \n10:57\u00a0<vmassol>\u00a0fun: http://ci.xwiki.org/job/xwiki-enterprise-5.3.x/27/org.xwiki.enterprise$xwiki-enterprise-installer-windows/console  \n10:57\u00a0<tmortagne>\u00a0gdelhumeau\\_: could to move XWIKI-9670  \n10:57\u00a0<tmortagne>\u00a0s/to/you/  \n10:58\u00a0<gdelhumeau\\_>\u00a0move ?  \n10:58\u00a0<tmortagne>\u00a0it's indicated fix for 5.4M1  \n10:59\u00a0<tmortagne>\u00a0either it's for 5.4RC1 or you finished and you can close it  \n10:59\u00a0<gdelhumeau\\_>\u00a0ok, I move it :)  \n11:05\u00a0<vmassol>\u00a0seems there's a problem with the VNC plugin for jenkins  \n11:05\u00a0<vmassol>\u00a0it stop the vnc agent before the end of the build when running some maven goals (that's because some maven goals spawn a new lifecycle I guess)  \n11:05\u00a0<vmassol>\u00a0this is why the sonar platform build always fail I guess  \n11:05\u00a0<vmassol>\u00a0see http://ci.xwiki.org/job/xwiki-platform\\_Sonar/173/consoleFull and search for \"vnc\"  \n11:12\u00a0<j-simard>\u00a0has quit  \n11:15\u00a0<gdelhumeau\\_>\u00a0Pull request about the broken build  \n11:23\u00a0<vmassol>\u00a0FYI Denis is looking at XWIKI-9826  \n11:23\u00a0<vmassol>\u00a0(I've pinged him and he just told me he can look at it)  \n11:24\u00a0<Denis1>\u00a0has joined #xwiki  \n11:24\u00a0<Denis1>\u00a0is now known as <Denis>  \n11:31\u00a0<tmortagne>\u00a0XWIKI-9822 is weird, it says \"Storage schema updates and data migrations are enabled\" but it actually try to load a page without executing any migrating right after this message  \n11:31\u00a0<woshilapin>\u00a0has joined #xwiki  \n11:32\u00a0<tmortagne>\u00a0trying with hsqldb  \n11:33\u00a0<tmortagne>\u00a0s/migrating/migration/  \n11:34\u00a0<tmortagne>\u00a0\"Since database [xwiki] needs to be migrated, it couldn't be safely used! Please check your configuration to enable required migration for upgrading database from version [35102] to version [53010].\"  \n11:36\u00a0<tmortagne>\u00a0has quit  \n11:36\u00a0<tmortagne>\u00a0has joined #xwiki  \n11:56\u00a0<tmortagne>\u00a0sburjan: there is a few information missing in XWIKI-9822  \n11:56\u00a0<tmortagne>\u00a0\\* do you reuse the 3.5.1 mysql connector or to you use a new one  \n11:57\u00a0<tmortagne>\u00a0\\* do you reuse the 3.5.1 hibernate.cfg.xml or to you use a new one  \n11:57\u00a0<tmortagne>\u00a0in both case it changed between 3.5.1 and 5.3  \n11:57\u00a0<tmortagne>\u00a0s/case/cases/  \n11:59\u00a0<tmortagne>\u00a0vmassol: after upgrading from 3.5.1 to 5.3 I get in the log:  \n11:59\u00a0<tmortagne>\u00a02014-01-06 11:58:28,150 [http://127.0.0.1:8080/xwiki/bin/view/Main/] WARN \u00a0o.h.h.QuerySplitter \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- no persistent classes found for query class: delete from org.xwiki.instance.InstanceId  \n12:17\u00a0<sburjan>\u00a0tmortagne: let me check  \n12:18\u00a0<sburjan>\u00a0tmortagne: updated  \n12:19\u00a0<tmortagne>\u00a0sburjan: thanks  \n12:25\u00a0<tmortagne>\u00a0sburjan: would be cool if you could post the hibernate.cfg.xml files you used if you still have them  \n12:32\u00a0<sburjan>\u00a0tmortagne: done, hope it helps  \n12:34\u00a0<woshilapin>\u00a0has quit  \n12:37\u00a0<camil7>\u00a0has joined #xwiki  \n12:40\u00a0<vmassol>\u00a0tmortagne: it means you haven't updated your hibernate.cfg.xml  \n12:41\u00a0<woshilapin>\u00a0has joined #xwiki  \n12:49\u00a0<woshilapin>\u00a0has quit  \n12:52\u00a0<abusenius>\u00a0has joined #xwiki  \n12:58\u00a0<woshilapin>\u00a0has joined #xwiki  \n13:25\u00a0<autoditac>\u00a0has joined #xwiki  \n13:25\u00a0<autoditac>\u00a0heyho everybody  \n13:25\u00a0<autoditac>\u00a0do i have to install an extension in 4.3 to be able to export my documents to docbook xml?  \n13:29\u00a0<autoditac\\_>\u00a0has joined #xwiki  \n13:32\u00a0<autoditac>\u00a0has quit  \n13:36\u00a0<autoditac\\_>\u00a0has quit  \n13:36\u00a0<camil7>\u00a0I guess you should have an xwiki-rendering-syntax-docbook-\\*.jar in your WEB-INF-lib folder, and then you need to enable the syntax in the xwiki.rendering.syntax properties in xwiki.cfg  \n13:41\u00a0<autoditac>\u00a0has joined #xwiki  \n13:43\u00a0<tmortagne>\u00a0sburjan: you missed the most import one: 5.3 ;)  \n13:43\u00a0<tmortagne>\u00a0vmassol: ok  \n13:48\u00a0<sburjan>\u00a0tmortagne: attached. But when I test, I replace the whole WAR from the container. \u00a0So all versions have their own hibernate file. I don't keep older hibernate files on newer WAR's. AFAIK this is also a bad practice  \n13:49\u00a0<vmassol>\u00a0has quit  \n13:49\u00a0<vmassol>\u00a0has joined #xwiki  \n13:49\u00a0<tmortagne>\u00a0sburjan: that's why I asked you for the 5.3 one  \n13:50\u00a0<sburjan>\u00a0I was able to reproduce this several times, so I'm pretty sure i'm not doing any mistake, but we'll see. I hope you'll be able to confirm the issue  \n14:09\u00a0<sburjan>\u00a0vmassol: ping  \n14:09\u00a0<vmassol>\u00a0otp  \n14:24\u00a0<autoditac\\_>\u00a0has quit  \n14:51\u00a0<autoditac>\u00a0has joined #xwiki  \n14:52\u00a0<autoditac>\u00a0hello again - do i have to install an extension in 4.3 to be able to export my documents to docbook xml or is it a builtin feature? if so, where do i enable it?  \n14:53\u00a0<sburjan>\u00a0gdelhumeau\\_, ping  \n14:53\u00a0<gdelhumeau\\_>\u00a0hi sburjan  \n14:55\u00a0<sburjan>\u00a0gdelhumeau\\_,: I see a strange behavior. I am on a 5.4-SNAPSHOT and created a global user (from the main wiki). Then, I create a subwiki and I select that only \\_local\\_ users are allowed. But strangely, I am allowed to login to that subwiki with the global user. This doesn't seem normal, at least not for me  \n14:55\u00a0<sburjan>\u00a0it's not intuitive at all for me.  \n14:58\u00a0<gdelhumeau\\_>\u00a0sburjan: I know, even if it was intended by me  \n14:58\u00a0<gdelhumeau\\_>\u00a0you can create a jira to make an improvement  \n14:59\u00a0<sburjan>\u00a0but why ? Users expect to not be able to login if that option is set  \n14:59\u00a0<sburjan>\u00a0it sounds more like a bug for me instead of improvement  \n14:59\u00a0<camil7>\u00a0I guess if the global user is the \"owner\" of a subwiki that user gets access right anyway (?)  \n14:59\u00a0<sburjan>\u00a0yes, that might make sens, but my user is not the owner of the subwiki  \n15:01\u00a0<camil7>\u00a0this starts to get interesting now ... I remember from the \"good old times\" that global users, (at least admins) inherit their access privileges from the main wiki into subwikis  \n15:02\u00a0<camil7>\u00a0I would have to look up the current design proposal if that has been changed with 5.x  \n15:02\u00a0<sburjan>\u00a0yes, but now we have the option to only use \\_local\\_ users. So in theory, if you're not a local user you should not be allowed to login  \n15:03\u00a0<sburjan>\u00a0your user should simply be not found  \n15:03\u00a0<tmortagne>\u00a0well not allowed to login at all is quite a refactoring, now the user should not be allow to access the wiki probably  \n15:04\u00a0<tmortagne>\u00a0i.e. not have the right unless he is the owner or a main wiki admin (i.e. a farm admin)  \n15:04\u00a0<sburjan>\u00a0my user is none of these. it's a simple user from the main wiki  \n15:05\u00a0<gdelhumeau\\_>\u00a0yes, the local only option does not really work  \n15:05\u00a0<sburjan>\u00a0so should I report this as a bug or an improvement ? I'm leaning to bug, since it's not intuitive from the UI  \n15:05\u00a0<sburjan>\u00a0and usually these should be reported as bugs  \n15:05\u00a0<gdelhumeau\\_>\u00a0it's more logical to say it's a bug, yes  \n15:08\u00a0<sburjan>\u00a0gdelhumeau\\_,: if you should disable registration on a subwiki, what would you do ? What rights would you set ?  \n15:09\u00a0<sburjan>\u00a0you should put deny on \"Register\" for \"\"Unregistered Users, right ? I am asking just to make sure  \n15:10\u00a0<gdelhumeau\\_>\u00a0yes  \n15:35\u00a0<sburjan>\u00a0gdelhumeau\\_, : I reported http://jira.xwiki.org/browse/XWIKI-9856  \n15:35\u00a0<gdelhumeau\\_>\u00a0thanks sburjan  \n15:35\u00a0<sburjan>\u00a0if you need more info please ping me  \n15:35\u00a0<sburjan>\u00a0I tried to be as exact as possible  \n15:45\u00a0<autoditac>\u00a0has quit  \n15:54\u00a0<xwikiorg\\_guest\\_0>\u00a0has joined #xwiki  \n15:57\u00a0<xwikiorg\\_guest\\_0>\u00a0Hi, i have updated our company xwiki from version 5.01 to 5.3 - all seems ok (on the first look), but its very slow - too slow, i see in the logfiles some messages like \"org.xwiki.security.authorization.AuthorizationException: Failed to load the cache in 5 attempts. \u00a0Giving up. when checking \u00a0access to [xwiki:XWiki.XWikiSynta x] for user [xwiki:XWiki.Admin]\", maybe it is a caching problem? what can i do, any ideas? (e.g. i h  \n16:02\u00a0<xwikiorg\\_guest\\_0>\u00a0before the update, it was fast, a big space required a maximum of 3 seconds, now, after the update, over 30 :(  \n16:02\u00a0<xwikiorg\\_guest\\_0>\u00a0(to open)  \n16:04\u00a0<camil7>\u00a0that is surely not as it should be  \n16:06\u00a0<xwikiorg\\_guest\\_0>\u00a0yes, its a ko criterion  \n16:07\u00a0<camil7>\u00a0can you access the \"Logger\" section in the wiki admin and set the log level to \"DEBUG\" for the \"org.xwiki.security.authorization.cache.internal\". this should tell you more details about why the cache fails  \n16:07\u00a0<camil7>\u00a0ah, wait ...  \n16:07\u00a0<msmeria1>\u00a0has quit  \n16:08\u00a0<xwikiorg\\_guest\\_0>\u00a0it sounds like a good tip  \n16:08\u00a0<camil7>\u00a0the \"org.xwiki.security.authorization.cache.internal.DefaultSecurityCacheLoader\" should be enough  \n16:08\u00a0<xwikiorg\\_guest\\_0>\u00a0ok, thanks, i will do this  \n16:10\u00a0<camil7>\u00a0I guess you want to reset it to \"default\" pretty soon if you have traffic on the upgraded instance ;)  \n16:11\u00a0<xwikiorg\\_guest\\_0>\u00a0sure, im working on a testsystem  \n16:11\u00a0<xwikiorg\\_guest\\_0>\u00a0currently not the production  \n16:12\u00a0<camil7>\u00a0is now known as <ClemensR>  \n16:13\u00a0<sburjan>\u00a0Denis, tmortagne : I will re-test XWIKI-9822 tomorrow  \n16:21\u00a0<xwikiorg\\_guest\\_0>\u00a0unfortunately cant find the logging section in the xwiki admin, but i have edited the WEB-INF/classes/logback.xml (using tomcat)  \n16:22\u00a0<xwikiorg\\_guest\\_0>\u00a0but after restart, the message no more appears, i will now set whole org.xwiki to debug, hope i can find some interesting messages  \n16:30\u00a0<ClemensR>\u00a0\"Logging\" should have been in the \"Applications\" section ....  \n16:31\u00a0<xwikiorg\\_guest\\_0>\u00a0now i have debug output, im using javamelody, and its flooding the logfiles with this messages \"DEBUG n.b.javamelody \u00a0\u00a0\u00a0- hibernate batcher factory initialized\" maybe this is the problem, this message appaers sometimes 3-4 per millisecond  \n16:32\u00a0<xwikiorg\\_guest\\_0>\u00a0there is no logging application  \n16:38\u00a0<ClemensR>\u00a0The \"Logging\" should already have been there in 5.0.x, not nice that you cannot see it. I am not sure if anyone tested XWiki with javamelody, I agree that it looks like there is some problem here  \n16:40\u00a0<tmortagne>\u00a0we use javamelody in xwiki.org (and maybe myxwiki.org too) I think  \n16:40\u00a0<ClemensR>\u00a0ah, ok, learn something every day :)  \n16:41\u00a0<tmortagne>\u00a0http://www.xwiki.org/xwiki/monitoring  \n16:42\u00a0<xwikiorg\\_guest\\_0>\u00a0yes javamelody is unfortunately not the problem  \n16:42\u00a0<vmassol>\u00a0tmortagne: just on xwiki.org (I didn't set it up on myxwiki.org but would be nice to have it there too)  \n16:43\u00a0<xwikiorg\\_guest\\_0>\u00a0and the cache is working too, i see messages like \"DefaultSecurityCache - Success read access entry for [xwiki:XWiki.Admin@@xwiki:Entwicklung.Testumgebung (QS)].\", so its seems to be working  \n16:43\u00a0<xwikiorg\\_guest\\_0>\u00a0unfortunately i see no errors...its just damn slow :-(  \n16:45\u00a0<xwikiorg\\_guest\\_0>\u00a0i will play around with my hibernate.cfg  \n16:46\u00a0<Slashman>\u00a0has quit  \n16:47\u00a0<xwikiorg\\_guest\\_0>\u00a0oh, now i see sometimes the \"Failed to load the cache in 5 attempts.\" again, with an stack-trace now  \n16:47\u00a0<ClemensR>\u00a0does the instance use lots of CPU, or is it just \"slow and idle\" ?  \n16:49\u00a0<xwikiorg\\_guest\\_0>\u00a0tomcat needs some cpu, 60-70%, but not 100  \n16:49\u00a0<xwikiorg\\_guest\\_0>\u00a0and 27% mem, with 4 gig max.  \n16:52\u00a0<xwikiorg\\_guest\\_0>\u00a0respectively java needs it, and there are 4 cores, its an another problem, maybe this faild to load the cache, with its 5 attempts  \n16:54\u00a0<xwikiorg\\_guest\\_0>\u00a0but the stacktrace for this error says nothing to me.... eg there is no caused by line  \n16:56\u00a0<ClemensR>\u00a0ok, but one can maybe see if the error message (actually debug message) is something like \"There were conflicting insertions. Have tried NN times\" or not (?)  \n16:57\u00a0<ClemensR>\u00a0ah, actually I mean that some message like that might appear above of the \"Failed to load the cache ...\" message  \n16:58\u00a0<xwikiorg\\_guest\\_0>\u00a0not - conflicting doesn appear in the logfile  \n16:58\u00a0<ClemensR>\u00a0this should be either \"The parent entry was evicted\" or \"There were conflicting insertions.\"  \n16:58\u00a0<xwikiorg\\_guest\\_0>\u00a0yes i have this messsage: \"The parent entrywas evicted. Have tried 4 times. \u00a0Trying again...\"  \n16:59\u00a0<ClemensR>\u00a0ah, oh  \n17:00\u00a0<ClemensR>\u00a0this was not the one I suspeced  \n17:00\u00a0<sburjan>\u00a0has quit  \n17:01\u00a0<xwikiorg\\_guest\\_0>\u00a0hmm ok, whats the cause for this?  \n17:02\u00a0<xwikiorg\\_guest\\_0>\u00a0its seems after \"The parent entry was evicted. Have tried 4 times. \u00a0Trying again..\" the \"Failed to load the cache in 5 attempts.\" appears, so its the cause for this message, but what means \"entry was evicted.\"?  \n17:04\u00a0<Slashman>\u00a0has joined #xwiki  \n17:04\u00a0<ClemensR>\u00a0I have admit that I have not looked into that cache so far, cannot remember it has created trouble so \u00a0far  \n17:05\u00a0<xwikiorg\\_guest\\_0>\u00a0i see in the src code \"if (retries < MAX\\_RETRIES) {\", are this max retries configureable? have nothing found in the xwiki.cfg, so i can set it to 1 and see if it is faster then  \n17:05\u00a0<ClemensR>\u00a0but it definitely should not slow things down.  \n17:06\u00a0<ClemensR>\u00a0MAX\\_RETRIES is a constant unfortunately. I think you should not really need to configure this, as the source of the problem is elsewhere  \n17:07\u00a0<xwikiorg\\_guest\\_0>\u00a0hmm...im running out of ideas :(  \n17:09\u00a0<xwikiorg\\_guest\\_0>\u00a0now i have again this problem: i cant open the xwiki admin....in the frontend appears \"$xwiki.getDocument('XWiki.AdminSheet').getTranslatedDocument().getRenderedContent() \"  \n17:09\u00a0<ClemensR>\u00a0I have to admit I am a bit baffled that this happens. the code there has not even been touched a lot since 5.0.1  \n17:10\u00a0<xwikiorg\\_guest\\_0>\u00a0but after restart, it will work again....i dont unterstand this behavior  \n17:10\u00a0<ClemensR>\u00a0ah, did you get the DW after upgrading the xwiki.war ?  \n17:10\u00a0<xwikiorg\\_guest\\_0>\u00a0what DW mean?  \n17:11\u00a0<tmortagne>\u00a0xwikiorg\\_guest\\_0: how did you ugraded the war exactly ?  \n17:11\u00a0<ClemensR>\u00a0DW = \"Distributin wizard\", sorry, I mean  \n17:11\u00a0<tmortagne>\u00a0did you overwritten the old one, completely replaced it ?  \n17:11\u00a0<tmortagne>\u00a0(by war I mean the content of the war)  \n17:11\u00a0<xwikiorg\\_guest\\_0>\u00a0yes, is found some conflicts, but i pressed on \"resume\", and it says \"successfully installed\" (the dw)  \n17:12\u00a0<xwikiorg\\_guest\\_0>\u00a0tmortagne: have unzip the WAR file and edited some files and libs  \n17:12\u00a0<xwikiorg\\_guest\\_0>\u00a0then copy to webapps tomcat folder  \n17:12\u00a0<xwikiorg\\_guest\\_0>\u00a0have migration all configuration files, thats not the problem  \n17:13\u00a0<tmortagne>\u00a0sure but I mean you did not overwritten the old war, you created a new install, just kept the database and data folder, right ?  \n17:13\u00a0<xwikiorg\\_guest\\_0>\u00a0right  \n17:24\u00a0<xwikiorg\\_guest\\_0>\u00a0we need this update because we have some bugs which are then closed. This slowing-out-problem is very annoying because working with the wiki is not possible with this behavoir :(  \n17:27\u00a0<ClemensR>\u00a0I wonder if the error message just send you on a wild goose chase. \u00a0If you do not have any errors at startup then maybe send the JVM a bunch of \"kill -3\" to see if it is really stuck in the SecurityCache things  \n17:28\u00a0<ClemensR>\u00a0btw is the search working ?  \n17:29\u00a0<xwikiorg\\_guest\\_0>\u00a0no. \"Current user [xwiki:XWiki.Admin] doesn't have view rights on document [xwiki:XWiki.SearchCode]\"  \n17:30\u00a0<xwikiorg\\_guest\\_0>\u00a0maybe i dont should use the DW  \n17:32\u00a0<sdumitriu>\u00a0has quit  \n17:32\u00a0<xwikiorg\\_guest\\_0>\u00a0is it possible to install a fresh 5.3 and migrate the whole content (all spaces and pages) to this installation?  \n17:32\u00a0<ClemensR>\u00a0the DW is definitely the recommended way to upgrade the contents. the error message rather points us back to the security cache, as the Admin user normally has view access to all pages  \n17:33\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:34\u00a0<xwikiorg\\_guest\\_0>\u00a0there are maybe a import/export function for this? or an extension?  \n17:34\u00a0<xwikiorg\\_guest\\_0>\u00a0so i can drop my old 5.0.1 install and start from a new 5.3 point  \n17:34\u00a0<ClemensR>\u00a0well, you could XAR-export from 5.0.1 and then import them into 5.3 but that is a bit tricky because one has to \u00a0know which pages to exclude. \u00a0That is exaclty why the DW has been invented.  \n17:35\u00a0<xwikiorg\\_guest\\_0>\u00a0but it seems not working correctly :(  \n17:35\u00a0<xwikiorg\\_guest\\_0>\u00a0my installation seems to be destroyed, or not?  \n17:35\u00a0<ClemensR>\u00a0and having incompatible wiki pages should not break the security cache. I just asked because I hoped the cache errors where just accidents ...  \n17:37\u00a0<xwikiorg\\_guest\\_0>\u00a0i think a fresh install, and import the wiki-page and space content, would be a good way...but i want to export them, with the whole history, attachments, created date and so on  \n17:37\u00a0<ClemensR>\u00a0I \u00a0wonder if the problem even happens if you use this installation with a\"fresh install\" (i.e. make the hibernate.cfg point to a different, newley created DB insteadd). (better make backups if DB and the data dir in that case)  \n17:38\u00a0<ClemensR>\u00a0export \"with history\" \u00a0should be a build in feature, I am sure :)  \n17:39\u00a0<xwikiorg\\_guest\\_0>\u00a0would be great if that is somehow possible  \n17:39\u00a0<ClemensR>\u00a0but I rather wonder what has broken the SecurityCache. This looks ore like a programming error, except that in that case lots of people wouls already have noticed it  \n17:41\u00a0<xwikiorg\\_guest\\_0>\u00a0afaik we have started from a later 4.x version and updates without the dw, maybe this is the problem  \n17:42\u00a0<xwikiorg\\_guest\\_0>\u00a0so some changes not as expected  \n17:42\u00a0<xwikiorg\\_guest\\_0>\u00a0otherwise no idea  \n17:43\u00a0<sdumitriu>\u00a0has quit  \n17:44\u00a0<ClemensR>\u00a0that would explain the conflict messages while upgrading, but hardly the problem with the security cache (unless I am overlooking something obvious, which might be the case)  \n17:47\u00a0<xwikiorg\\_guest\\_0>\u00a0i think it would be possible to send you my test mysql db and permdata, so it would be possible for you, to reproduce this update  \n17:47\u00a0<tmortagne>\u00a0has left #xwiki  \n17:47\u00a0<ClemensR>\u00a0if you are concerned about the compatibility between the xwiki version and the pages, you could upgrade the content \"old style\" by importing the xwiki-enterprise-ui-mainwiki-all-5.3.xar - \u00a0just to see if it helps. (Ypu are still updating test data as I understood)  \n17:50\u00a0<xwikiorg\\_guest\\_0>\u00a0yes, all test datas, but from production, only some sensitive informations/spaces are not present in the test env  \n17:50\u00a0<xwikiorg\\_guest\\_0>\u00a0ok i will try the old style now  \n17:50\u00a0<xwikiorg\\_guest\\_0>\u00a0after rolling back my update try  \n17:55\u00a0<xwikiorg\\_guest\\_0>\u00a0if this is not working too, i will try a fresh install, and will create the spaces manuelly, but export the pages as XAR from the old wiki, then import it to the new, i think this should working  \n18:01\u00a0<Denis>\u00a0has quit  \n18:10\u00a0<ClemensR>\u00a0has quit  \n18:11\u00a0<ClemensR>\u00a0has joined #xwiki  \n18:14\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:15\u00a0<xwikiorg\\_guest\\_0>\u00a0the import of the 5.3 all xar fails with \"Caused by: java.lang.NullPointerException\"  \n18:17\u00a0<xwikiorg\\_guest\\_0>\u00a0oh i see, there is a very old ui active \"xwiki-enterprise-ui-all-4.2-milestone-2.xar\", this perhabs is the problem  \n18:17\u00a0<ClemensR>\u00a0if you cannot even import data it indeed looks like there has been something gone really bad .... like the Admin UI not been updated completely  \n18:18\u00a0<ClemensR>\u00a0if the \\*-4.2-milestone-2.xar \u00a0is just attached this should not cause problems,, but it does not hurt to remove it either  \n18:20\u00a0<xwikiorg\\_guest\\_0>\u00a0hmm this old update style (with this nullpointer) cause that all packages are lost \"No package is available for import\", and welcome page is reseted, and so on, but spaces still present  \n18:21\u00a0<ClemensR>\u00a0ah, you should have excluded the \"usual\" pages from the import (Main.WebHome, the XWiki.\\*Group and preference and so on)  \n18:23\u00a0<ClemensR>\u00a0I guess you just overwritten everything? Then you also have the default Admin user (with the default password), and XWiki.XWikiAllGroup only cotains the Admin, etc ... that needs to be rolled back manually  \n18:24\u00a0<xwikiorg\\_guest\\_0>\u00a0hmm... yes have overwritten everyhing... i think this is too much for my xwiki (internal-) knowledge... im trying out the export/import feature and build a new 5.3 installation...or get professionell support, i see no other realy solution  \n18:24\u00a0<xwikiorg\\_guest\\_0>\u00a0but thanks anyway for your help  \n18:33\u00a0<KermitTheFragger>\u00a0has quit  \n18:44\u00a0<ClemensR>\u00a0has quit  \n18:47\u00a0<vmassol1>\u00a0has joined #xwiki  \n18:48\u00a0<vmassol>\u00a0has quit  \n18:48\u00a0<mflorea>\u00a0has quit  \n18:48\u00a0<xwikiorg\\_guest\\_0>\u00a0has quit  \n18:56\u00a0<lucaa>\u00a0has quit  \n19:02\u00a0<cjd>\u00a0has quit  \n19:05\u00a0<woshilapin>\u00a0has quit  \n19:06\u00a0<gdelhumeau\\_>\u00a0has quit  \n19:08\u00a0<msmeria>\u00a0has joined #xwiki  \n19:25\u00a0<Slashman>\u00a0has quit  \n19:52\u00a0<UCC>\u00a0has joined #xwiki  \n19:52\u00a0<lucaa>\u00a0has joined #xwiki  \n19:56\u00a0<lucaa>\u00a0has quit  \n20:03\u00a0<sdumitriu1>\u00a0has joined #xwiki  \n20:16\u00a0<sdumitriu1>\u00a0has quit  \n20:20\u00a0<UCC>\u00a0has quit  \n20:20\u00a0<Denis>\u00a0has joined #xwiki  \n21:41\u00a0<vmassol1>\u00a0has quit  \n21:57\u00a0<UCC>\u00a0has joined #xwiki  \n22:01\u00a0<sdumitriu>\u00a0has quit  \n22:11\u00a0<vmassol>\u00a0has joined #xwiki  \n22:15\u00a0<sdumitriu>\u00a0has joined #xwiki  \n22:15\u00a0<vmassol>\u00a0has quit  \n22:33\u00a0<UCC>\u00a0has quit  \n22:41\u00a0<vmassol>\u00a0has joined #xwiki  \n22:46\u00a0<vmassol>\u00a0has quit  \n23:02\u00a0<UCC>\u00a0has joined #xwiki  \n23:06\u00a0<Denis>\u00a0has quit  \n23:12\u00a0<vmassol>\u00a0has joined #xwiki  \n23:30\u00a0<abusenius>\u00a0has quit  \n23:36\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n23:39\u00a0<sburjan`>\u00a0has quit  \n23:39\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n23:55\u00a0<xwikibot>\u00a0has joined #xwiki\n"}