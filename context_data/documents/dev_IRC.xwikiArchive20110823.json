{"id": "dev:IRC.xwikiArchive20110823", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20110823", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:00\u00a0<@cjdelisle>\u00a0\\*shrug\\*  \n00:00\u00a0<RenJuan>\u00a0!help  \n00:00\u00a0<RenJuan>\u00a0(though maybe it PM'ed)  \n00:01\u00a0<RenJuan>\u00a0I said \"running in\", never seen a bot operated channel, bet there is one someplace though  \n00:02\u00a0<RenJuan>\u00a0and of course in some they're forbidden  \n00:03\u00a0<@cjdelisle>\u00a0oh. yea  \n00:03\u00a0<@cjdelisle>\u00a0on efnet there are a ton of bots in most channels so that it's hard to take the channel over  \n00:04\u00a0<@cjdelisle>\u00a0you could say that they \"run\" the chan  \n00:04\u00a0<RenJuan>\u00a0haven't been there in a while, years  \n01:03\u00a0<pturcotte>\u00a0has joined #xwiki  \n01:57\u00a0<sburjan`>\u00a0has joined #xwiki  \n04:10\u00a0<DrLou>\u00a0has quit  \n07:50\u00a0<mflorea>\u00a0has joined #xwiki  \n08:42\u00a0<vmassol>\u00a0has joined #xwiki  \n08:51\u00a0<vmassol>\u00a0has quit  \n08:53\u00a0<vmassol>\u00a0has joined #xwiki  \n09:05\u00a0<+mflorea>\u00a0vmassol: good morning  \n09:05\u00a0<vmassol>\u00a0mflorea: good morning  \n09:10\u00a0<+mflorea>\u00a0re test failures on platform, Sergiu was right, the problem is that the code of OfficeUtils.getDefaultOfficeHome() from jodconverter has changed and can return null, which is not expected in office importer code. I'll fix this, but I think this is not the only problem. It's normal that so many unrelated tests fail because an issue in office importer. They are not well isolated.  \n09:12\u00a0<+mflorea>\u00a0I investigated a bit and the issue comes from the fact that XWikiComponentInitializer initializes the execution context, which in turn initializes the velocity context, which looks up all the VelocityContextInitializer components  \n09:13\u00a0<+mflorea>\u00a0if one of the VelocityContextInitializer components has issues then the test fails  \n09:14\u00a0<+mflorea>\u00a0in this case office importer still uses VelocityContextInitializer instead of ScriptService  \n09:15\u00a0<vmassol>\u00a0right now our strategy is the following: fail fast  \n09:15\u00a0<+mflorea>\u00a0and office importer has a VelocityContextInitializer that exposes office importer configuration to velocity  \n09:15\u00a0<vmassol>\u00a0ie if one component fails to init we stop the app  \n09:15\u00a0<vmassol>\u00a0it's done voluntarily  \n09:15\u00a0<+mflorea>\u00a0I understand, this is fine for when you run XE, but for a init test this means the tests are not well isolated  \n09:16\u00a0<+mflorea>\u00a0s/init/unit  \n09:16\u00a0<+mflorea>\u00a0i.e. the tests should not fail because a component they are not using has problems  \n09:17\u00a0<vmassol>\u00a0yes but  \n09:17\u00a0<vmassol>\u00a0ok here's the story  \n09:17\u00a0<vmassol>\u00a0right now for simplicity we initialize all components in tests, using the component annotation loader  \n09:17\u00a0<+mflorea>\u00a0well, they are not using the bad component, but it is in the class path..  \n09:18\u00a0<vmassol>\u00a0we have a comment there  \n09:18\u00a0<vmassol>\u00a0(that I put)  \n09:18\u00a0<vmassol>\u00a0saying that in the future we might want the tests to define which components to initialize  \n09:18\u00a0<vmassol>\u00a0to speed up tests  \n09:18\u00a0<+mflorea>\u00a0I see  \n09:18\u00a0<vmassol>\u00a0let me find where I put this  \n09:19\u00a0<vmassol>\u00a0anyway what needs to be done:  \n09:20\u00a0<vmassol>\u00a0define an annotation that can be used in a test to list the components to initialize  \n09:20\u00a0<vmassol>\u00a0and modify XWikiComponentInitializer to use that annotation if present  \n09:20\u00a0<+mflorea>\u00a0yep  \n09:20\u00a0<vmassol>\u00a0I'm not 100% sure yet that it's worth it though  \n09:21\u00a0<vmassol>\u00a0which is why I haven't worked on it  \n09:21\u00a0<vmassol>\u00a0one important part of the implementation would be to create a memory graph of the component deps  \n09:21\u00a0<vmassol>\u00a0and initialize also transitive deps  \n09:21\u00a0<vmassol>\u00a0to make it easy to declare components to initialize from the tests  \n09:22\u00a0<vmassol>\u00a0but doing this costs even more than initializing everything I think\u2026 :)  \n09:22\u00a0<+mflorea>\u00a0:)  \n09:22\u00a0<vmassol>\u00a0(which is why I'm not sure it's worth it)  \n09:22\u00a0<vmassol>\u00a0btw  \n09:22\u00a0<vmassol>\u00a0something important  \n09:22\u00a0<vmassol>\u00a0component should initialize in their init() method  \n09:22\u00a0<vmassol>\u00a0and not outside of it  \n09:22\u00a0<vmassol>\u00a0they're lazily initialized  \n09:22\u00a0<vmassol>\u00a0but if you put initialization as static  \n09:23\u00a0<vmassol>\u00a0then it's not good  \n09:23\u00a0<vmassol>\u00a0you're going to penalize everyone  \n09:23\u00a0<vmassol>\u00a0there must be no static  \n09:23\u00a0<vmassol>\u00a0in components  \n09:23\u00a0<vmassol>\u00a0the component annotation loader will NOT initialize components  \n09:23\u00a0<vmassol>\u00a0it'll jsut load the class in memory and register it  \n09:23\u00a0<vmassol>\u00a0no instance is created at this time  \n09:23\u00a0<+mflorea>\u00a0right, in my case, there is a static field, which is initialized with a call to jodconverter api  \n09:23\u00a0<vmassol>\u00a0yes you should remove that  \n09:24\u00a0<vmassol>\u00a0and put in the initialization step  \n09:24\u00a0<+mflorea>\u00a0right  \n09:24\u00a0<+mflorea>\u00a0this way it will fail only if you really use the component  \n09:24\u00a0<vmassol>\u00a0we need to docment this as a warning in the reference doc for components  \n09:24\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Component+Module  \n09:25\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Component+Module#HComponentInitialization  \n09:25\u00a0<vmassol>\u00a0I' adding it  \n09:52\u00a0<arkub>\u00a0has joined #xwiki  \n10:11\u00a0<vmassol>\u00a0has quit  \n10:12\u00a0<vmassol>\u00a0has joined #xwiki  \n10:26\u00a0<vmassol>\u00a0mflorea: are you progressing?  \n10:27\u00a0<vmassol>\u00a0could you remove the static at least to make the build work again?  \n10:27\u00a0<+mflorea>\u00a0I'll commit in a minute  \n10:27\u00a0<vmassol>\u00a0ok  \n10:35\u00a0<+mflorea>\u00a0vmassol: done  \n10:36\u00a0<vmassol>\u00a0yes seen it and already commented :)  \n10:36\u00a0<vmassol>\u00a0\"/usr/lib/openoffice\" is really wrong IMO  \n10:37\u00a0<+mflorea>\u00a0why?  \n10:37\u00a0<vmassol>\u00a0explain how it works on windows  \n10:37\u00a0<vmassol>\u00a0and explain how it works if my openoffice isn't in that dir  \n10:37\u00a0<+mflorea>\u00a0well, it won't work on linux either  \n10:37\u00a0<+mflorea>\u00a0that string it not there to work  \n10:37\u00a0<vmassol>\u00a0so how can it be right?  \n10:38\u00a0<vmassol>\u00a0you're kidding no?  \n10:38\u00a0<+mflorea>\u00a0no  \n10:38\u00a0<+mflorea>\u00a0look at the entire line  \n10:38\u00a0<vmassol>\u00a0you should be kidding then :)  \n10:38\u00a0<+mflorea>\u00a0let me past it  \n10:38\u00a0<vmassol>\u00a0because this is really bad  \n10:38\u00a0<+mflorea>\u00a0File defaultHomeFolder = OfficeUtils.getDefaultOfficeHome();  \n10:38\u00a0<+mflorea>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0defaultHomePath = defaultHomeFolder != null ? defaultHomeFolder.getAbsolutePath() : \"/usr/lib/openoffice\";  \n10:41\u00a0<+mflorea>\u00a0(1) this is just the default value if you don't specify the path in xwiki.properties  \n10:41\u00a0<+mflorea>\u00a0(2) OfficeUtils.getDefaultOfficeHome() is jodconverter API and searches for openoffice or libreoffice installation. It returns null if it doesn't find it, which probably means you don't have neither openoffice not libreoffice installed.  \n10:41\u00a0<vmassol>\u00a0how would looking in /usr/lib/openofice make it right?  \n10:41\u00a0<+mflorea>\u00a0if it gets to \"/usr/lib/openoffice\" then you either have a custom install, and you need to specify the path in xwiki.properties or you don't have open/libreoffice installed at all, which is the same  \n10:42\u00a0<vmassol>\u00a0no it's not  \n10:42\u00a0<+mflorea>\u00a0:)  \n10:42\u00a0<vmassol>\u00a0this is really a bad commit for at least 3 reasons  \n10:42\u00a0<vmassol>\u00a01) if the value is not used, it should be commented and explained  \n10:43\u00a0<vmassol>\u00a02) if the value isn't used you should put something like \"unused\" or \"dummy\"  \n10:43\u00a0<vmassol>\u00a03) if the home dir isn't found openoffice feature shouldn't be activated  \n10:43\u00a0<vmassol>\u00a0For 3) it means throwing an excpetion  \n10:43\u00a0<vmassol>\u00a03) is the best IMO  \n10:44\u00a0<vmassol>\u00a0there's no point in acting as if it's working when it's obviously not  \n10:44\u00a0<+mflorea>\u00a0vincent, (3) is not the job of the configuration component. The code that uses the component already throws and exception if path is not good  \n10:44\u00a0<vmassol>\u00a0then it's not the job of the config to peform computations  \n10:44\u00a0<+mflorea>\u00a0the config component just tells you, this is the configured path, I don't know is it's good or not  \n10:44\u00a0<vmassol>\u00a0it should return null in this case  \n10:45\u00a0<vmassol>\u00a0if not configured  \n10:45\u00a0<vmassol>\u00a0but not \"hey this is a value put at randome and here to trick you that it's correct\"  \n10:45\u00a0<+mflorea>\u00a0it's not like this  \n10:46\u00a0<+mflorea>\u00a0it is a meaningful value: when you see this path in the stack trace you will understand that office importer looks in the bad place for open office and you'll know to configure the path  \n10:46\u00a0<vmassol>\u00a0what?  \n10:46\u00a0<+mflorea>\u00a0null pointer exception is worse IMO  \n10:46\u00a0<vmassol>\u00a0you're kidding again  \n10:46\u00a0<vmassol>\u00a0ok let me call you on skype  \n10:46\u00a0<vmassol>\u00a0:)  \n11:17\u00a0<vmassol>\u00a0guys we now have 6 UI tests failing  \n11:17\u00a0<vmassol>\u00a0we need volunteers to look at them  \n11:17\u00a0<vmassol>\u00a0http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/101/testReport/  \n11:18\u00a0<vmassol>\u00a0cjdelisle: this is depressing: http://ci.xwiki.org/view/Functional%20Tests/job/xwiki-enterprise-test-ui/org.xwiki.enterprise$xwiki-enterprise-test-ui/101/testReport/org.xwiki.test.ui/AttachmentTest/testUploadDownloadTwoAttachments/  \n11:18\u00a0<+mflorea>\u00a0I'll investigate the last two (import and watchlist test)  \n11:18\u00a0<vmassol>\u00a0thanks mflorea  \n11:18\u00a0<vmassol>\u00a0I'll try to look again at the AttachmentTest one  \n11:20\u00a0<vmassol>\u00a0cjdelisle: btw we haven't found out why we have 2 threads...  \n11:21\u00a0<vmassol>\u00a0ah we did sorry  \n11:21\u00a0<vmassol>\u00a0that's the selenium isue  \n11:22\u00a0<vmassol>\u00a0someone suggsted a selenium patch btw: https://groups.google.com/forum/?hl=en#!topic/webdriver/tsuBgipwzRQ  \n11:26\u00a0<vmassol>\u00a0btw one solution is to upgrade to FF6 since the bug shows in FF 3.x but not in 6 apparently....  \n12:04\u00a0<vmassol>\u00a0mflorea, sburjan`: we need to define what FF browser versions we support  \n12:04\u00a0<+mflorea>\u00a0only the latest IMO  \n12:04\u00a0<vmassol>\u00a0(do we still support 3.x, do we support 4, 5, 6? what strategy when a new version comes out every 3 months)  \n12:05\u00a0<+mflorea>\u00a0FF is updating automatically afaik  \n12:05\u00a0<vmassol>\u00a0depends  \n12:05\u00a0<vmassol>\u00a0I'm still on 3.x for ex locally  \n12:05\u00a0<+mflorea>\u00a0only to run tests, right?  \n12:06\u00a0<vmassol>\u00a0maybe they changed auto update stratgy at 4?  \n12:06\u00a0<vmassol>\u00a0yes to run tests, I don't use it as my browser, I use chrome  \n12:06\u00a0<vmassol>\u00a0(but it didn't autoupdate to 4 for usre)  \n12:09\u00a0<+mflorea>\u00a0found this http://www.computerworld.com/s/article/9180272/Mozilla\\_plans\\_to\\_silently\\_update\\_Firefox  \n12:10\u00a0<+mflorea>\u00a0so apparently it's on since FF4  \n12:10\u00a0<vmassol>\u00a0yes they're releasing a major version every 3 months now AFAIK  \n12:10\u00a0<vmassol>\u00a0(although it's not a major version any more...)\u00e0  \n12:11\u00a0<vmassol>\u00a0http://www.pcworld.com/businesscenter/article/230868/firefox\\_strategy\\_is\\_a\\_recipe\\_for\\_failure.html  \n12:12\u00a0<vmassol>\u00a0so apparently they discontinue support for previous releases when a new one comes out  \n12:14\u00a0<vmassol>\u00a0btw it's not 3 months it's every 6 weeks apparently: http://blog.hathix.com/en/2011/04/firefoxs-new-release-strategy/  \n12:17\u00a0<vmassol>\u00a0official process: http://mozilla.github.com/process-releases/draft/development\\_overview/  \n12:17\u00a0<+sburjan`>\u00a0yes, but it's not a totally silent upgrade. you are still asked if you want to upgrade to a newer version  \n12:17\u00a0<+mflorea>\u00a0yes, but I don't see the problem. The only case in which you can suffer is if you don't have access to the internet, and you use the browser only for an intranet  \n12:18\u00a0<vmassol>\u00a0the problem is for enterprise  \n12:18\u00a0<vmassol>\u00a0they may not upgrade  \n12:18\u00a0<vmassol>\u00a0read http://www.pcworld.com/businesscenter/article/230868/firefox\\_strategy\\_is\\_a\\_recipe\\_for\\_failure.html  \n12:18\u00a0<+mflorea>\u00a0I read it  \n12:18\u00a0<vmassol>\u00a0in any case  \n12:19\u00a0<vmassol>\u00a0we simply need to make a proposal on our dev list to decide what we want to support  \n12:19\u00a0<vmassol>\u00a0(when, how long, etc)  \n12:19\u00a0<vmassol>\u00a0who wants to make that proposal? sburjan`?  \n12:24\u00a0<+sburjan`>\u00a0yes, I will take care of it  \n12:24\u00a0<vmassol>\u00a0cool thanks sburjan`  \n12:26\u00a0<vmassol>\u00a0sburjan`: we also need to update xwiki.org about what we currently support  \n12:26\u00a0<vmassol>\u00a0AFAIK all we have now is http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HPrerequisites  \n12:27\u00a0<vmassol>\u00a0and that only mentions the WYSIWYG  \n12:27\u00a0<vmassol>\u00a0so users don't know what brwosers are supported by XE in general  \n12:27\u00a0<vmassol>\u00a0could you update that section?  \n12:27\u00a0<+sburjan`>\u00a0yes, I will also update the page after we reach a decision  \n12:27\u00a0<vmassol>\u00a0no  \n12:27\u00a0<vmassol>\u00a0I mean now  \n12:27\u00a0<vmassol>\u00a0based on what currently works  \n12:27\u00a0<+sburjan`>\u00a0ok  \n12:28\u00a0<vmassol>\u00a0cool thanks  \n12:37\u00a0<vmassol>\u00a0git question: I'm in xwiki-commons, how can I checkout the 3.2-milestone-2 tag? I don't see it when I type \"git tag\"  \n12:37\u00a0<vmassol>\u00a0but I can see 3.2-milestone-1  \n13:12\u00a0<DrLou>\u00a0has joined #xwiki  \n13:23\u00a0<rrodriguez>\u00a0has joined #xwiki  \n13:32\u00a0<mflorea>\u00a0has quit  \n14:23\u00a0<pturcotte>\u00a0has quit  \n14:26\u00a0<Denis>\u00a0has joined #xwiki  \n14:30\u00a0<vmassol>\u00a0cjdelisle: good morning  \n14:31\u00a0<RenJuan>\u00a0bon dia vmassol  \n14:31\u00a0<mflorea>\u00a0has joined #xwiki  \n14:31\u00a0<vmassol>\u00a0buenos dias RenJuan  \n14:34\u00a0<RenJuan>\u00a0nobody has done an expert system integrated with xwiki have they?  \n14:35\u00a0<vmassol>\u00a0ah I've been wanting to do that  \n14:35\u00a0<vmassol>\u00a0using AIML (alicebot)  \n14:35\u00a0<vmassol>\u00a0and using pages to gold the grammar/rules  \n14:35\u00a0<vmassol>\u00a0(pages and objects)  \n14:36\u00a0<vmassol>\u00a0something like this (old stuff now): http://docs.codehaus.org/display/FAQBOT/Proposal  \n14:36\u00a0<RenJuan>\u00a0I have had alice running in my space (the java version) for about 6-7 years.  \n14:36\u00a0<vmassol>\u00a0nice :)  \n14:37\u00a0<RenJuan>\u00a0http://ai-integration.biz/eg/index.php/Ask\\_Hari\\_Seldon  \n14:38\u00a0<vmassol>\u00a0mediawiki.. hmmm :)  \n14:38\u00a0<RenJuan>\u00a0that's not really an expert system though. Expert systems are serious biz. Alice is something trivial into which a huge effort has been poured.  \n14:39\u00a0<vmassol>\u00a0yeah although if I'm not mistaken the inference engines are similar no?  \n14:39\u00a0<RenJuan>\u00a0i would tend to want the core expert system to be in Prolog  \n14:39\u00a0<vmassol>\u00a0(I guess there can be several variations - last time I look at an expert system was in 1986 I think\u2026 ;))  \n14:39\u00a0<RenJuan>\u00a0that was before the AI winter  \n14:40\u00a0<vmassol>\u00a0yeah...  \n14:40\u00a0<vmassol>\u00a0prehistoric times  \n14:40\u00a0<RenJuan>\u00a0as a result of Watson, et. al. we are now in the AI Spring  \n14:40\u00a0<vmassol>\u00a0in any case I believe xwiki is a perfect choice to such a system  \n14:40\u00a0<vmassol>\u00a0(to expose it I mean)  \n14:41\u00a0<RenJuan>\u00a0i'm doing contract work with it and need something suitable to guide a biz process  \n14:42\u00a0<vmassol>\u00a0workflow?  \n14:42\u00a0<vmassol>\u00a0integration of rule engine such as jboss rules?  \n14:42\u00a0<vmassol>\u00a0(drools)  \n14:42\u00a0<RenJuan>\u00a0by workflow you have some extensions in mind?  \n14:42\u00a0<vmassol>\u00a0no there isn't any AFAIK  \n14:42\u00a0<RenJuan>\u00a0(or java pkgs)  \n14:42\u00a0<vmassol>\u00a0we did an integration with bonita at some point  \n14:43\u00a0<vmassol>\u00a0but it was for a demo  \n14:43\u00a0<+sburjan`>\u00a0maybe in future we wil lhave Activiti integration  \n14:43\u00a0<vmassol>\u00a0it was quite easy to do though  \n14:43\u00a0<RenJuan>\u00a0i didn't see any and I think I have a comprehensive overview or Xwiki and it's community by now  \n14:43\u00a0<vmassol>\u00a0I haven't seen any either  \n14:43\u00a0<RenJuan>\u00a0sburjan, thx looking it up  \n14:44\u00a0<+sburjan`>\u00a0Activiti is a BPM framework created by Tom Baeyens, the creator of jBPM  \n14:44\u00a0<vmassol>\u00a0RenJuan: it all depends on what integration you have in mind  \n14:44\u00a0<RenJuan>\u00a0and no the inference engine of alice and a real knowledged bases system are not comparable  \n14:44\u00a0<vmassol>\u00a0we have an event bus internally  \n14:44\u00a0<vmassol>\u00a0so when a page is modified/saved or when an object is modified you get events for ex  \n14:45\u00a0<RenJuan>\u00a0\\*knowledge based  \n14:45\u00a0<vmassol>\u00a0and you can perform actions by calling the workflow engine  \n14:45\u00a0<RenJuan>\u00a0is that documented someplace?  \n14:45\u00a0<pturcotte>\u00a0has joined #xwiki  \n14:45\u00a0<vmassol>\u00a0let me get some links  \n14:45\u00a0<+sburjan`>\u00a0vmassol: I think RenJuan whant something similar to Bonita, something like an Finite Automata driven procedure  \n14:46\u00a0<vmassol>\u00a0RenJuan: at a high level this is our event module: http://extensions.xwiki.org/xwiki/bin/view/Extension/Observation+Module  \n14:46\u00a0<RenJuan>\u00a0FSM driven is probably too stiff for the use case(s) I have  \n14:46\u00a0<vmassol>\u00a0sources: https://github.com/xwiki/xwiki-commons/tree/master/xwiki-commons-core/xwiki-commons-observation  \n14:47\u00a0<vmassol>\u00a0here's a tutorial showing how you can intercept events in groovy:  \n14:47\u00a0<vmassol>\u00a0http://platform.xwiki.org/xwiki/bin/view/DevGuide/GroovyNotificationTutorial  \n14:49\u00a0<RenJuan>\u00a0thx, bm'ed and will check out  \n14:49\u00a0<RenJuan>\u00a0so the observation mechanism is what you're referring to as the workflow engine?  \n14:49\u00a0<vmassol>\u00a0nope  \n14:49\u00a0<vmassol>\u00a0we don't have any workflow engine  \n14:50\u00a0<RenJuan>\u00a0ah  \n14:50\u00a0<vmassol>\u00a0I'm just mentioning a possible integration point  \n14:50\u00a0<RenJuan>\u00a0good  \n14:50\u00a0<RenJuan>\u00a0yes, that's essentially what I'm doing  \n14:51\u00a0<vmassol>\u00a0do you have a use case?  \n14:51\u00a0<+sburjan`>\u00a0RenJuan: do you want to model workflow diagrams and the instantiate them in execution ?  \n14:52\u00a0<RenJuan>\u00a0yes. looks like I may be able to use Activiti  \n14:52\u00a0<+sburjan`>\u00a0note that jBPM will be merged with Drools, making it very powerful if you want also a Ruling engine  \n14:52\u00a0<RenJuan>\u00a0sburjan', not as such, at least not at first, there's a practical biz system to be built.  \n14:56\u00a0<RenJuan>\u00a0(i.e. wrt to the graphical not drools, which seems to be more of a first thing)  \n14:56\u00a0<RenJuan>\u00a0\\*graphical workflow  \n15:07\u00a0<RenJuan>\u00a0so marrying Activiti and the observation mechanism pretty much fits the bill  \n15:09\u00a0<RenJuan>\u00a0real inferencing could be done at some much later stage outside java  \n15:10\u00a0<vmassol>\u00a0RenJuan: I'd be interested to know about workflow needs (use cases) to see if there's a need for xwiki to provide an extension or something OOB about it, or whether it's something that can be left as an integration exercise to the user  \n15:10\u00a0<RenJuan>\u00a0well the work I'm doing is for hire so unfortunately at least without my client clearing it, I can't share  \n15:11\u00a0<RenJuan>\u00a0which they might do down the road  \n15:11\u00a0<vmassol>\u00a0sure I'm talking about generic needs, not speficis  \n15:12\u00a0<RenJuan>\u00a0in fact I would presume that they would, the principal I deal with is a Stanford CS grad  \n15:12\u00a0<+sburjan`>\u00a0use cases are generally well defined procedures, which can repreat, or run in paralel. something like recruting a employee. so each candidate has a process assigned, and you can guide the process on the defined steps  \n15:12\u00a0<vmassol>\u00a0like for ex: the need to have a doc go through a staging area and be validated by a group of people before being \"published\"  \n15:12\u00a0<RenJuan>\u00a0sburjan`, I have 30 years experience, I know what a use case is.  \n15:13\u00a0<+sburjan`>\u00a0i know you do, I was just giving an example  \n15:13\u00a0<vmassol>\u00a0hmm we have a stuck agent on http://ci.xwiki.org/  \n15:13\u00a0<vmassol>\u00a0stopping it  \n15:14\u00a0<RenJuan>\u00a0xwiki manager would tend to be problematic at times I would think  \n15:17\u00a0<vmassol>\u00a0RenJuan: XEM? what's the problem?  \n15:17\u00a0<RenJuan>\u00a0the one you noted  \n15:18\u00a0<vmassol>\u00a0the stuck agent?  \n15:18\u00a0<RenJuan>\u00a0i presume so  \n15:18\u00a0<vmassol>\u00a0that's a jenkins/buld issue  \n15:18\u00a0<vmassol>\u00a0(not sure where though)  \n15:18\u00a0<RenJuan>\u00a0are the tests new?  \n15:18\u00a0<vmassol>\u00a0which ones?  \n15:19\u00a0<vmassol>\u00a0we have a lot  \n15:19\u00a0<RenJuan>\u00a0the ones jenkins is saying are stuck  \n15:19\u00a0<vmassol>\u00a0no not new, this test has been there for half a year I'd say  \n15:19\u00a0<RenJuan>\u00a0ah  \n15:26\u00a0<vmassol>\u00a0ok all agents upgraded to use FF 6.0  \n15:30\u00a0<vmassol>\u00a0so any git expert to help me here?  \n15:52\u00a0<RenJuan>\u00a0there's 800+ in #git  \n15:56\u00a0<vmassol>\u00a0thanks RenJuan\u2026.  \n15:57\u00a0<vmassol>\u00a0seems FF not starting on agents\u2026. investigating  \n16:10\u00a0<vmassol>\u00a0I'm fixing CopyPageTest. Seems it's not working the same on FF6  \n16:11\u00a0<vmassol>\u00a0hmm unless that's a change done by sergiu or marta  \n16:47\u00a0<RenJuan>\u00a0i know ff 6 breaks selenium  \n16:48\u00a0<amon>\u00a0has quit  \n16:49\u00a0<lucaa>\u00a0has joined #xwiki  \n16:50\u00a0<vmassol>\u00a0RenJuan: ff6 is supported by sel 2.4.0  \n16:50\u00a0<vmassol>\u00a0AFAIK  \n16:52\u00a0<RenJuan>\u00a0I know when it tried to force an upgrade from 5 it warned me that 6 was incompatible with selenium, I turned off automatic update after that so may have changed  \n16:52\u00a0<+mflorea>\u00a0vmassol: you said something about two requests being send when you add an attachments. I have the same problem when deleting a xar from the import admin section. Two delete requests are send when I run the selenium test and just one if I delete the xar myself  \n16:52\u00a0<vmassol>\u00a0ahah  \n16:52\u00a0<vmassol>\u00a0mflorea: read this:  \n16:53\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/AttachmentTest.java#L75  \n16:53\u00a0<+mflorea>\u00a0exactly!  \n16:53\u00a0<vmassol>\u00a0mflorea: note that XE should be coded to handle concurrency so these are real bugs  \n16:54\u00a0<vmassol>\u00a0mflorea: using FF6 will just mask them  \n16:54\u00a0<+mflorea>\u00a0with FF6 there is only one request  \n16:54\u00a0<+mflorea>\u00a0right  \n16:54\u00a0<vmassol>\u00a0we supposedly fixed the attachment one here:  \n16:54\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/AttachmentTest.java#L75  \n16:54\u00a0<vmassol>\u00a0oops  \n16:54\u00a0<vmassol>\u00a0wrong link  \n16:54\u00a0<vmassol>\u00a0here:  \n16:54\u00a0<vmassol>\u00a0http://jira.xwiki.org/jira/browse/XWIKI-6848  \n16:55\u00a0<Chami1>\u00a0has joined #xwiki  \n16:55\u00a0<Chami1>\u00a0has left #xwiki  \n16:55\u00a0<vmassol>\u00a0https://github.com/xwiki/xwiki-platform/commit/05511108c783a05b5eed19c09beaaca2cccbfe4e#diff-0  \n16:55\u00a0<+mflorea>\u00a0I'll open a jira for delete attachment then.  \n16:56\u00a0<vmassol>\u00a0now the problem is that we've seen the attachment test issue appear today again....  \n16:56\u00a0<vmassol>\u00a0which means we didn't fully fix it  \n17:01\u00a0<vmassol>\u00a0RenJuan: fyi: http://code.google.com/p/selenium/source/browse/trunk/java/CHANGELOG  \n17:04\u00a0<RenJuan>\u00a0yeah, that was about two weeks ago (my experience). On the Actitivit/Workflow matter, it turns out there's a competing jboss project called jbpm, which I knew of but only slightly, didn't occur, there may be, likely are others  \n17:06\u00a0<RenJuan>\u00a0does jenkins automatically get the lastest version of stuff like ff, selenium, etc?  \n17:07\u00a0<RenJuan>\u00a0and thx, now I know of upgrade of both  \n17:43\u00a0<qwebirc22334>\u00a0has joined #xwiki  \n17:51\u00a0<@cjdelisle>\u00a0hello  \n17:51\u00a0<vmassol>\u00a0hi  \n17:54\u00a0<+sburjan`>\u00a0cjdelisle: hello  \n18:07\u00a0<obiwlan>\u00a0has joined #xwiki  \n18:10\u00a0<obiwlan\\_>\u00a0has quit  \n18:22\u00a0<vmassol>\u00a0has quit  \n18:25\u00a0<arkub>\u00a0has quit  \n18:41\u00a0<vmassol>\u00a0has joined #xwiki  \n18:43\u00a0<cjdelisle>\u00a0has quit  \n18:43\u00a0<xipe\\_>\u00a0has quit  \n18:43\u00a0<cjdelisle>\u00a0has joined #xwiki  \n18:44\u00a0<xipe>\u00a0has joined #xwiki  \n18:44\u00a0<amon>\u00a0has joined #xwiki  \n18:48\u00a0<vmassol>\u00a03.2M2 is now staged at https://oss.sonatype.org/content/repositories/orgxwiki-038/ :)  \n18:48\u00a0<vmassol>\u00a0(I had to cheat just a bit\u2026. ;))  \n18:49\u00a0<@cjdelisle>\u00a0nice  \n18:55\u00a0<vmassol>\u00a0now I just need to push a button and it'll make it to central  \n18:55\u00a0<vmassol>\u00a0the reason I \"cheated\" is because the 3.2M2 top level pom was missing 2 items: developers and description  \n18:55\u00a0<vmassol>\u00a0so I deployed a modified top level pom  \n18:56\u00a0<vmassol>\u00a0and thus it shouldn't be called 3.2M2 anymore.....  \n18:56\u00a0<vmassol>\u00a0anyway it was just a test so far\u2026 I still haven't pushed the button!  \n18:56\u00a0<vmassol>\u00a0:)  \n18:56\u00a0<@cjdelisle>\u00a0/nod  \n18:56\u00a0<vmassol>\u00a0I think I'll drop the repo for now and wait till we release 3.2M3  \n18:56\u00a0<vmassol>\u00a0wdyt?  \n18:57\u00a0<xipe>\u00a0has quit  \n18:57\u00a0<xipe>\u00a0has joined #xwiki  \n18:57\u00a0<vmassol>\u00a0brb  \n18:57\u00a0<@cjdelisle>\u00a0If there isn't pressure to get it there fast then waiting and doing it right makes sense.  \n19:09\u00a0<vmassol>\u00a0what we should do though is try to use what's staged to verify it's correct  \n19:09\u00a0<vmassol>\u00a0got to go, bb in 2 hours  \n19:23\u00a0<jvelociter>\u00a0has quit  \n19:26\u00a0<pturcotte>\u00a0has quit  \n19:31\u00a0<Denis>\u00a0has quit  \n19:40\u00a0<pturcotte>\u00a0has joined #xwiki  \n19:40\u00a0<pturcotte>\u00a0has quit  \n19:40\u00a0<pturcotte>\u00a0has joined #xwiki  \n19:41\u00a0<mflorea>\u00a0has quit  \n19:48\u00a0<jvelociter>\u00a0has joined #xwiki  \n19:48\u00a0<+jvelociter>\u00a0vmassol: ping  \n19:56\u00a0<jvelociter>\u00a0has quit  \n19:56\u00a0<jvelociter>\u00a0has joined #xwiki  \n20:34\u00a0<Denis>\u00a0has joined #xwiki  \n20:34\u00a0<mflorea>\u00a0has joined #xwiki  \n20:35\u00a0<vmassol>\u00a0has quit  \n20:40\u00a0<vmassol>\u00a0has joined #xwiki  \n20:45\u00a0<lucaa>\u00a0has quit  \n21:12\u00a0<qwebirc22334>\u00a0has quit  \n21:20\u00a0<qwebirc74881>\u00a0has joined #xwiki  \n21:22\u00a0<qwebirc74881>\u00a0Hey Guys, have a quick one fore you. \u00a0Im trying to choose actions based on whether the page is in View or Inline mode, and using #if ($doc.getURL('inline'))....#elseif($doc.getURL('view')), dosnt seem to be working. \u00a0Any thoughts?  \n21:29\u00a0<qwebirc74881>\u00a0just kidding :) justfound it. \u00a0thanks!  \n21:47\u00a0<vmassol>\u00a0jvelociter: pong  \n21:48\u00a0<vmassol>\u00a0qwebirc74881: $context.action == \"view\", \"inline\"  \n22:00\u00a0<+jvelociter>\u00a0vmassol: re  \n22:00\u00a0<+jvelociter>\u00a0something strange : I think that under some circumstances xwiki components are not real singletons, even though declared as such with InstanciationStrategy  \n22:01\u00a0<vmassol>\u00a0sure  \n22:01\u00a0<vmassol>\u00a0actually  \n22:01\u00a0<vmassol>\u00a0you need to protect the Annotation Loader init  \n22:01\u00a0<vmassol>\u00a0so that only one thread calls the init  \n22:01\u00a0<+jvelociter>\u00a0ok.. how do I do that ?  \n22:02\u00a0<vmassol>\u00a0right now it's not synchronized  \n22:02\u00a0<vmassol>\u00a0just have one init in your system  \n22:02\u00a0<vmassol>\u00a0for ex  \n22:02\u00a0<vmassol>\u00a0hmmm  \n22:02\u00a0<+jvelociter>\u00a0I don't have an init at all right now  \n22:02\u00a0<vmassol>\u00a0actually maybe it's protected  \n22:02\u00a0<vmassol>\u00a0since we're calling init in servlet context listener  \n22:03\u00a0<vmassol>\u00a0this is probably thread safe  \n22:03\u00a0<vmassol>\u00a0(not sure though)  \n22:04\u00a0<+jvelociter>\u00a0can I call you quickly ?  \n22:04\u00a0<vmassol>\u00a0err not right now  \n22:04\u00a0<vmassol>\u00a0I'm with family in front of movie  \n22:04\u00a0<+jvelociter>\u00a0ok  \n22:04\u00a0<vmassol>\u00a0:)  \n22:04\u00a0<+jvelociter>\u00a0haha.. no : you are in front of your computer talking on IRC :P  \n22:04\u00a0<+jvelociter>\u00a0ok  \n22:04\u00a0<+jvelociter>\u00a0no pb  \n22:04\u00a0<vmassol>\u00a0I can ping you when it's over  \n22:04\u00a0<+jvelociter>\u00a0ok, great  \n22:05\u00a0<+jvelociter>\u00a0vmassol: ah wait  \n22:05\u00a0<+jvelociter>\u00a0maybe there an easiest way  \n22:05\u00a0<+jvelociter>\u00a0I can just make my caches static  \n22:05\u00a0<+jvelociter>\u00a0WDYT ?  \n22:05\u00a0<vmassol>\u00a0statics are really bad and should be avoided  \n22:06\u00a0<+jvelociter>\u00a0(cause this is my issue : they are not getting flushed properly)  \n22:06\u00a0<+jvelociter>\u00a0actually now that I think of it I think I've seen static caches here and there in XWiki  \n22:06\u00a0<+jvelociter>\u00a0let me check  \n22:06\u00a0<vmassol>\u00a0they're bad  \n22:06\u00a0<vmassol>\u00a0and pre component  \n22:09\u00a0<vmassol1>\u00a0has joined #xwiki  \n22:10\u00a0<+jvelociter>\u00a0yes, there is a static cache pool in XWikiLDAPUtils  \n22:10\u00a0<vmassol>\u00a0has quit  \n22:11\u00a0<+jvelociter>\u00a0https://github.com/xwiki/xwiki-platform/blame/master/xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/plugin/ldap/XWikiLDAPUtils.java  \n22:12\u00a0<jvelociter\\_>\u00a0has joined #xwiki  \n22:15\u00a0<jvelociter>\u00a0has quit  \n22:15\u00a0<jvelociter\\_>\u00a0is now known as <jvelociter>  \n22:15\u00a0<qwebirc74881>\u00a0has quit  \n22:33\u00a0<pturcotte>\u00a0has quit  \n22:33\u00a0<pturcotte>\u00a0has joined #xwiki  \n22:41\u00a0<npm>\u00a0has quit  \n22:41\u00a0<npm>\u00a0has joined #xwiki  \n23:16\u00a0<pturcotte>\u00a0has quit  \n23:19\u00a0<mflorea>\u00a0has quit  \n23:42\u00a0<vmassol1>\u00a0has quit  \n\n"}