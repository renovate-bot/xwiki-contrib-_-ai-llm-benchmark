{"id": "dev:IRC.xwikiArchive20121107", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121107", "title": "IRC Archive for channel #xwiki on 07 November 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<abusenius>\u00a0has quit  \n00:13\u00a0<fmancinelli>\u00a0has quit  \n00:13\u00a0<vmassol>\u00a0has joined #xwiki  \n00:18\u00a0<vmassol>\u00a0has quit  \n00:29\u00a0<jvelo>\u00a0has joined #xwiki  \n00:40\u00a0<jvelo>\u00a0has quit  \n00:44\u00a0<vmassol>\u00a0has joined #xwiki  \n00:49\u00a0<vmassol>\u00a0has quit  \n01:10\u00a0<jvdrean>\u00a0has quit  \n01:15\u00a0<vmassol>\u00a0has joined #xwiki  \n01:25\u00a0<vmassol>\u00a0has quit  \n01:50\u00a0<vmassol>\u00a0has joined #xwiki  \n02:02\u00a0<vmassol>\u00a0has quit  \n02:26\u00a0<vmassol>\u00a0has joined #xwiki  \n02:38\u00a0<vmassol>\u00a0has quit  \n03:02\u00a0<vmassol>\u00a0has joined #xwiki  \n03:13\u00a0<vmassol>\u00a0has quit  \n03:38\u00a0<vmassol>\u00a0has joined #xwiki  \n03:49\u00a0<vmassol>\u00a0has quit  \n04:08\u00a0<jvelo>\u00a0has joined #xwiki  \n04:14\u00a0<vmassol>\u00a0has joined #xwiki  \n04:25\u00a0<vmassol>\u00a0has quit  \n04:30\u00a0<Denis>\u00a0has joined #xwiki  \n04:50\u00a0<vmassol>\u00a0has joined #xwiki  \n05:01\u00a0<vmassol>\u00a0has quit  \n05:26\u00a0<vmassol>\u00a0has joined #xwiki  \n05:37\u00a0<vmassol>\u00a0has quit  \n05:58\u00a0<tekzilla>\u00a0has quit  \n06:00\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:00\u00a0<Denis>\u00a0has quit  \n06:02\u00a0<vmassol>\u00a0has joined #xwiki  \n06:12\u00a0<jvelo>\u00a0has quit  \n06:14\u00a0<vmassol>\u00a0has quit  \n06:16\u00a0<jvelo>\u00a0has joined #xwiki  \n06:39\u00a0<vmassol>\u00a0has joined #xwiki  \n06:49\u00a0<vmassol>\u00a0has quit  \n07:15\u00a0<vmassol>\u00a0has joined #xwiki  \n07:25\u00a0<vmassol>\u00a0has quit  \n07:44\u00a0<vmassol>\u00a0has joined #xwiki  \n07:45\u00a0<mflorea>\u00a0has joined #xwiki  \n08:23\u00a0<mflorea>\u00a0Good morning. I did a quick review of the failing tests and it seems that:  \n08:23\u00a0<mflorea>\u00a0\\* we have a NPE in $msg.get(), for tmortagne to fix (webstandards, escaping, selenium and possibly ui)  \n08:23\u00a0<mflorea>\u00a0\\* Edy needs to fix webstandards and escaping tests for Solr UI (e.g. missing label for text input)  \n08:23\u00a0<mflorea>\u00a0\\* AppWithinMinutes failing tests, for me  \n08:24\u00a0<vmassol>\u00a0thanks for the analysis mflorea, going to take a train to Paris now, will be back online in 1 hour but then meeting till midday\u2026  \n08:24\u00a0<mflorea>\u00a0ok  \n08:25\u00a0<vmassol>\u00a0has quit  \n08:31\u00a0<AndreasJonsson>\u00a0mflorea: \u00a0Caleb removed the lock provider in 5688935db509255194c692ea55a28d975e2f5f78. \u00a0He probably ment to, but forgot, to add a @Named(\"dummy\") annotation on the lock provider in DefaultFilesystemStoreTools.  \n08:32\u00a0<mflorea>\u00a0ok  \n08:32\u00a0<mflorea>\u00a0thanks for checking out  \n08:33\u00a0<mflorea>\u00a0cjd: can you fix this?  \n08:52\u00a0<Enygma`>\u00a0has joined #xwiki  \n08:53\u00a0<evalica>\u00a0has joined #xwiki  \n09:20\u00a0<jvelo>\u00a0has quit  \n09:24\u00a0<jvelo>\u00a0has joined #xwiki  \n09:33\u00a0<vmassol>\u00a0has joined #xwiki  \n10:15\u00a0<vmassol>\u00a0Enygma`: don't forget to update the dates on http://enterprise.xwiki.org/xwiki/bin/view/Main/Roadmap  \n10:18\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:19\u00a0<sburjan>\u00a0has joined #xwiki  \n10:21\u00a0<cdop>\u00a0has joined #xwiki  \n10:22\u00a0<vmassol>\u00a0mflorea: shouldn't we add in the RN for devlepoers the work you've done on ability to add new property types?  \n10:22\u00a0<mrvanes>\u00a0has joined #xwiki  \n10:23\u00a0<mflorea>\u00a0vmassol: sure, I told you yesterday that I'm planning to do so  \n10:23\u00a0<mflorea>\u00a0:)  \n10:23\u00a0<cdop>\u00a0Hello! I need a link to a appwithinmin-WebHome with a parameter (for a filter-setting on the live-table)? Do I have to generate it, or is there some undocumented syntax? :)  \n10:23\u00a0<vmassol>\u00a0ok sorry for asking again, I'm still catching up ;)  \n10:24\u00a0<mflorea>\u00a0cdop: filter the live table and notice how the URL changes (the fragment identifier especially) and then use that on your link  \n10:26\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:28\u00a0<Enygma`>\u00a0vmassol: done  \n10:28\u00a0<vmassol>\u00a0cool  \n10:30\u00a0<fmancinelli>\u00a0has joined #xwiki  \n10:34\u00a0<cdop>\u00a0mflorea: thanks, but then I get an URL. I would like to use a xwiki-internal link. [[Server>>Server.WebHome#|t=server&p=1&l=15&s=list\\_responsible&d=asc&list\\_responsible=SWE]] doesnt work.  \n10:35\u00a0<vmassol>\u00a0[[Server>>Server.WebHome||anchor=\"\u2026.\"]]  \n10:35\u00a0<mflorea>\u00a0cdop: check the XWiki 2.1 link syntax (I'm assuming you're using the XWiki 2.1 syntax).  \n10:36\u00a0<vmassol>\u00a0(in xwiki syntax \u00e9.1)  \n10:36\u00a0<vmassol>\u00a02.1  \n10:36\u00a0<mflorea>\u00a0http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWikiEnterprise34#HChangestothelinksyntaxfromXWikiSyntax2.0  \n10:36\u00a0<mflorea>\u00a0(there's also a link to the full link spec)  \n10:38\u00a0<cdop>\u00a0ah ok, thanks, just found this part: http://platform.xwiki.org/xwiki/bin/view/Main/XWikiSyntax#HLinks  \n10:45\u00a0<cdop>\u00a0ok... so the parameters are given with an anchor...  \n10:45\u00a0<cdop>\u00a0well it works.  \n10:57\u00a0<AndreasJonsson>\u00a0vmassol: Regarding ThreadLocal fields, the blog post you linked to yesterday did not give much detail, but it looks like the real memory leak there was the reference to the enclosing object, which happened to have a thread local that magnifyed the memory leak. \u00a0After studuing the implementation of ThreadLocal I cannot see that there is anything remarkable about memory leaks involving ThreadLocals other than that the effect will be multiplied by the   \n10:59\u00a0<AndreasJonsson>\u00a0In particular, it seems that it is always safe to have a ThreadLocal in a singleton.  \n11:02\u00a0<vmassol>\u00a0AndreasJonsson: I don't know but I also have a google search that had a lot of hits on this topic  \n11:02\u00a0<jvelo>\u00a0has quit  \n11:04\u00a0<AndreasJonsson>\u00a0There is, I think, also two other categories of pitfalls: forgetting to clear the state of a thread local when threads are reused and accidentally passing thread local values between threads.  \n11:06\u00a0<jvelo>\u00a0has joined #xwiki  \n11:49\u00a0<fmancinelli>\u00a0has quit  \n11:57\u00a0<vmassol>\u00a0mflorea/tmortagne: I've just installed a 4.3-SNAPSHOT XE locally pointing to an empty MySQL DB and when I call the webhome page I don't get the DW. Any idea?  \n11:57\u00a0<vmassol>\u00a0note that it was running on hsqldb before and I just changed the hibernate config  \n11:57\u00a0<tmortagne>\u00a0vmassol: what do you have in the log ?  \n11:57\u00a0<vmassol>\u00a0do we save the state somewhere?  \n11:57\u00a0<tmortagne>\u00a0you should have the state in the log  \n11:57\u00a0<mflorea>\u00a0vmassol: if you use the same permanent dir then that's normal  \n11:58\u00a0<vmassol>\u00a0yes I use the same perm diur  \n11:58\u00a0<mflorea>\u00a0ok, so the extensions appear installed  \n11:58\u00a0<mflorea>\u00a0it's just like you delete the pages from the UI  \n11:58\u00a0<mflorea>\u00a0the extension is still installed  \n11:58\u00a0<tmortagne>\u00a0yep  \n11:58\u00a0<vmassol>\u00a0so I just need to delete status.xml?  \n11:58\u00a0<tmortagne>\u00a0not only  \n11:59\u00a0<tmortagne>\u00a0the most important is to delete the extensions  \n11:59\u00a0<vmassol>\u00a0ok I'll remove my perm dir  \n12:05\u00a0<fmancinelli>\u00a0has joined #xwiki  \n12:05\u00a0<vmassol>\u00a0Enygma`: it's for you :)  \n12:06\u00a0<vmassol>\u00a0Enygma`: https://www.evernote.com/shard/s119/sh/fd039a9f-e6ca-48ad-b35b-245b26495c77/a22d96402730b7fa482625c899aeef5c  \n12:06\u00a0<vmassol>\u00a0so basically we cannot install XE through the DM ATM  \n12:09\u00a0<tmortagne>\u00a0the error is weird, PR is required to install any jar  \n12:09\u00a0<tmortagne>\u00a0hmm actually It should already \u00a0find it  \n12:09\u00a0<tmortagne>\u00a0is this jar in the XE pom.cml ?  \n12:09\u00a0<tmortagne>\u00a0pom.xml  \n12:10\u00a0<tmortagne>\u00a0if this extension is required by the XAR we should have it packaged in the XE war, it's probably the issue here  \n12:30\u00a0<Enygma`>\u00a0hm, it should be packaged in the xe war, maybe I`ve missed somwthing  \n12:31\u00a0<Enygma`>\u00a0hm, maybe it`s related to the recent renaming that I did  \n12:31\u00a0<Enygma`>\u00a0forgot to update xwiki-enterprise as well  \n12:31\u00a0<Enygma`>\u00a0vmassol: how old is the instance you`re testing?  \n12:45\u00a0<Enygma`>\u00a0vmassol: I don`t understand your comment https://github.com/xwiki/xwiki-enterprise/pull/34#commitcomment-2108986 Do you mean to say that it is enough to add the xar to the XE war and, since the xar already has specified runtime dependencies to the 2 jars, they don`t need to be included in the war as well?  \n12:46\u00a0<Enygma`>\u00a0\\*add the xar to the XE xar  \n12:48\u00a0<xwikibot>\u00a0has joined #xwiki  \n13:09\u00a0<jvelo>\u00a0has quit  \n13:09\u00a0<mrvanes>\u00a0has quit  \n13:12\u00a0<jvelo>\u00a0has joined #xwiki  \n13:24\u00a0<mrvanes>\u00a0has joined #xwiki  \n13:24\u00a0<mflorea>\u00a0has quit  \n13:34\u00a0<cjd>\u00a0vmassol: I wanted to bounce this off of you: \u00a0servlets loaded into the CM and accessed by /xwiki/<servletName>/... \u00a0so the oldcore struts servlet would be @Named(\"bin\")  \n13:34\u00a0<cjd>\u00a0WDYT?  \n13:36\u00a0<cjd>\u00a0We have a bunch of servlets already, this allows someone to copy/paste some example servlet code from a website and have it running quickly, also there are systems which would be hard to get working without letting their servlet run (GWT, anything with websockets, etc)  \n13:39\u00a0<mrvanes>\u00a0has quit  \n13:47\u00a0<vmassol>\u00a0Enygma`: my instance is from yesterday  \n13:48\u00a0<vmassol>\u00a0Enygma`: yes I was saying that regarding the deps in XE  \n13:48\u00a0<vmassol>\u00a0sburjan: yes  \n13:48\u00a0<vmassol>\u00a0sburjan:  \n13:48\u00a0<vmassol>\u00a0it's already fixed AFAIK  \n13:48\u00a0<vmassol>\u00a0(thomas fixed it yesterday)  \n13:49\u00a0<sburjan>\u00a0don't see any of them fixed. looking in jira  \n13:49\u00a0<vmassol>\u00a0cjd: my idea is indeed to have only 1 servlet and then Actions  \n13:49\u00a0<vmassol>\u00a0sburjan: no need for jira  \n13:49\u00a0<vmassol>\u00a0maybe you're talking about something else  \n13:50\u00a0<vmassol>\u00a0I'm talking about the localization module jar dups  \n13:50\u00a0<vmassol>\u00a0the jira issue is that one for the new localization module  \n13:51\u00a0<sburjan>\u00a0I'm talking about the mail I sent 2 weeks ago, about the jar duplications I found  \n13:51\u00a0<cjd>\u00a0I realize that making it easier to have many servlets steps on the Actions proposal but servlet registration is something we can have now and Actions are still pretty abstract.  \n13:51\u00a0<vmassol>\u00a0cjd: now I don't know about reusing the /bin/ part but seems like an interesting idea, would need to look at all our existing URLs to see how to make them fit the scheme  \n13:51\u00a0<vmassol>\u00a0sburjan: ah sorry that's something else  \n13:51\u00a0<vmassol>\u00a0yes it needs to be fixed indeed sburjan, can you point me to the jira?  \n13:52\u00a0<sburjan>\u00a0now :)  \n13:52\u00a0<sburjan>\u00a0there are 6 of them  \n13:52\u00a0<cjd>\u00a0I'm all for Actions if they provide added value over servlets like attaching the user object, ExecutionContext, and ECM  \n13:53\u00a0<cjd>\u00a0But we have a bunch of servlets now and it would be nice to not have all of that mess in the web.xml (although we will still need some remapping stuff because some of them are mapped to strange URL paths)  \n13:53\u00a0<vmassol>\u00a0I'm definitely against adding servelts  \n13:53\u00a0<sburjan>\u00a0vmassol: http://jira.xwiki.org/browse/XWIKI-8389 , http://jira.xwiki.org/browse/XWIKI-8388 , http://jira.xwiki.org/browse/XWIKI-8387 , http://jira.xwiki.org/browse/XWIKI-8385 , http://jira.xwiki.org/browse/XWIKI-8384  \n13:53\u00a0<sburjan>\u00a0wow, the bot works :)  \n13:53\u00a0<vmassol>\u00a0:)  \n13:54\u00a0<cjd>\u00a0If you want to support GWT you basicly need a servlet (we already have one for that)  \n13:54\u00a0<vmassol>\u00a0sburjan: a pity you didn't put the fix for  \n13:54\u00a0<cjd>\u00a0same is true for most comet/websockets type things  \n13:54\u00a0<vmassol>\u00a0sburjan: doing it now  \n13:54\u00a0<vmassol>\u00a0the rule is that blockers must have fix for set so that we don't forgetthem  \n13:55\u00a0<vmassol>\u00a0cjd: not really  \n13:55\u00a0<sburjan>\u00a0vmassol: IMHO I don't have the authority to decide the fixFor :)  \n13:55\u00a0<vmassol>\u00a0sburjan: not true  \n13:55\u00a0<vmassol>\u00a0you put \"blocker\"  \n13:55\u00a0<vmassol>\u00a0under what \"authority\" did you do this?  \n13:55\u00a0<vmassol>\u00a0:)  \n13:55\u00a0<cjd>\u00a0http://i.imgur.com/pW21w.jpg  \n13:55\u00a0<sburjan>\u00a0because I consider this a serious issue, and second because you told me to :)  \n13:56\u00a0<vmassol>\u00a0exactly  \n13:56\u00a0<vmassol>\u00a0anyway  \n13:56\u00a0<vmassol>\u00a0having a lbocker without a fix for is not good enough  \n13:57\u00a0<cjd>\u00a0For websockets you need access to the ServletRequest and if you don't want to code it all more-or-less from scratch, you use a servlet.  \n13:57\u00a0<sburjan>\u00a0ok. next time when I report a blocker I'll also put a fixFor to the next release to be released  \n13:57\u00a0<vmassol>\u00a0I(m also setting the missing component  \n13:58\u00a0<sburjan>\u00a0vmassol: now I know. I don't have the rights to put FixFor :)  \n13:58\u00a0<sburjan>\u00a0this is why I didn't put it  \n13:59\u00a0<sburjan>\u00a0also we still have: XWIKI-8328 and XWIKI-8299 as blockers which would require a fixFor  \n13:59\u00a0<mrvanes>\u00a0has joined #xwiki  \n14:02\u00a0<cjd>\u00a0vmassol: I'm going to go ahead and float this on the list, you didn't immedietly say -1 and I think it has some potential even though it kind of undermines the Actions path.  \n14:02\u00a0<vmassol>\u00a0I'm ?1 if there's an alternative  \n14:03\u00a0<cjd>\u00a0The alternative is to block it with the hope that an alternative will come along.  \n14:03\u00a0<cjd>\u00a0Which I really dislike since any progress is progress  \n14:06\u00a0<vmassol>\u00a0cjd: sorry I'm multitasking ATM\u2026. please send any proposal you have on the list  \n14:06\u00a0<vmassol>\u00a0and committers can read it and collecitvely decide what we want to do  \n14:07\u00a0<cjd>\u00a0Ok, writing it up now.  \n14:28\u00a0<Denis1>\u00a0has joined #xwiki  \n14:31\u00a0<evalica>\u00a0has joined #xwiki  \n14:32\u00a0<jvdrean1>\u00a0has joined #xwiki  \n14:34\u00a0<jvdrean>\u00a0has quit  \n14:37\u00a0<jvelo>\u00a0has quit  \n14:40\u00a0<jvelo>\u00a0has joined #xwiki  \n14:50\u00a0<mflorea>\u00a0has joined #xwiki  \n14:57\u00a0<jvelo>\u00a0has quit  \n14:59\u00a0<vmassol>\u00a0tmortagne: rendering isn't building anymore for me today\u2026. does it build for you?  \n14:59\u00a0<vmassol>\u00a0Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal  \n15:00\u00a0<tmortagne>\u00a0vmassol: I did not tried today  \n15:00\u00a0<tmortagne>\u00a0checking jenkins  \n15:01\u00a0<jvelo>\u00a0has joined #xwiki  \n15:01\u00a0<tmortagne>\u00a0vmassol: when did you do your last pulled ?  \n15:01\u00a0<vmassol>\u00a0about 5 minutes ago  \n15:02\u00a0<tmortagne>\u00a0do you have my last commit in there about xerces ?  \n15:02\u00a0<vmassol>\u00a0probably yes  \n15:02\u00a0<vmassol>\u00a0since I'm up to date  \n15:04\u00a0<tmortagne>\u00a0what is trying to use this class ?  \n15:04\u00a0<vmassol>\u00a0https://gist.github.com/4031787  \n15:04\u00a0<vmassol>\u00a0at org.apache.xerces.jaxp.DocumentBuilderImpl.newDocument(Unknown Source)  \n15:04\u00a0<vmassol>\u00a0indeed  \n15:04\u00a0<vmassol>\u00a0so it seems related to your commit  \n15:07\u00a0<tmortagne>\u00a0ElementTraversal seems to comes with xml-apis, maybe we have a too old version of xml-apis configured  \n15:07\u00a0<tmortagne>\u00a0checking  \n15:08\u00a0<tmortagne>\u00a0we don't have any indicated in root pom so it's maybe a conflict with some other dependenci trigering an older version of xml-apis  \n15:10\u00a0<tmortagne>\u00a0vmassol: which project is failing for you ?  \n15:10\u00a0<vmassol>\u00a0[INFO] XWiki Rendering - Syntax - Plain .................. FAILURE [2.297s]  \n15:11\u00a0<tmortagne>\u00a0ok will debug it  \n15:11\u00a0<tmortagne>\u00a0ok I thin kI found the issue  \n15:12\u00a0<tmortagne>\u00a0dom4j trigger xml-apis 1.0b2 and xerces needs 1.4  \n15:12\u00a0<tmortagne>\u00a0and dom4j is first in the list of dependencies of rendering-api  \n15:12\u00a0<tmortagne>\u00a0will put xml-apis with xerces in the root pom  \n16:18\u00a0<vmassol>\u00a0Enygma`: don't forget to add a warning in the RN that's it's experimental and that it's off by default and explain how to turn it on maybe  \n16:19\u00a0<vmassol>\u00a0ah you have it at the bottom, didn't see it  \n16:26\u00a0<Enygma`>\u00a0yep, I believe I`ve mentioned it  \n16:31\u00a0<vmassol>\u00a0nice tweet: \"Learn this dumbass XWiki syntax! Oh sure, because it's SO much simpler than HTML. What's the markup for sarcasm again?\" ;)  \n16:32\u00a0<vmassol>\u00a0but I don't agree with it, I think we've kept a good balance  \n16:32\u00a0<vmassol>\u00a0(I've been thinking several times about this)  \n16:33\u00a0<evalica>\u00a0has quit  \n16:39\u00a0<Enygma`>\u00a0has quit  \n16:40\u00a0<cjd>\u00a0XWiki &gt; HTML by a long shot  \n16:41\u00a0<jvelo>\u00a0for writting front-ends I still prefer HTML  \n16:42\u00a0<vmassol>\u00a0<html><head>..</head><body><p>yeah, you're <strong>right</strong>!</p></body></html>  \n16:42\u00a0<vmassol>\u00a0yeah, you're \\*\\*right\\*\\*  \n16:42\u00a0<jvelo>\u00a0well inside XWiki you can already skip html, head and body  \n16:42\u00a0<cjd>\u00a0if you&#38;re coding, yes it makes sense, for writing documentation &amp; stuff html is painfull.  \n16:42\u00a0<jvelo>\u00a0your example is not flawed  \n16:42\u00a0<jvelo>\u00a0IS flawed  \n16:42\u00a0<vmassol>\u00a0come on  \n16:43\u00a0<vmassol>\u00a0please write in HTML  \n16:43\u00a0<vmassol>\u00a0not in wiki syntax!  \n16:43\u00a0<vmassol>\u00a0where's your <p>?  \n16:43\u00a0<vmassol>\u00a0and your <br/>?  \n16:43\u00a0<vmassol>\u00a0:)  \n16:43\u00a0<cjd>\u00a0hehe  \n16:45\u00a0<cjd>\u00a0best thing about html is that browsers will accept <strong>anything</strong> and try to render it  \n16:45\u00a0<vmassol>\u00a0indeed there's a diff with UI and content  \n16:45\u00a0<jvelo>\u00a0cjd: well sometimes it's not a good thing :)  \n16:45\u00a0<vmassol>\u00a0we're talking contnet here (at least I am)  \n16:45\u00a0<jvelo>\u00a0yes  \n16:46\u00a0<jvelo>\u00a0for UI/front-ends HMTL I still find HTML more convenient  \n16:46\u00a0<vmassol>\u00a0the nice thing with the xwiki syntax is that simple things are simple and complex stuff are possible  \n16:46\u00a0<vmassol>\u00a0of course  \n16:46\u00a0<vmassol>\u00a0and that's not the goal of wiki syntax to compete with that  \n16:46\u00a0<cjd>\u00a0when you abstract things away, you lose features and for UI you need all of the features  \n16:46\u00a0<jvelo>\u00a0yes it's not  \n16:46\u00a0<cjd>\u00a0so html is best fo UIs  \n16:47\u00a0<jvelo>\u00a0well potentially you can do anything with XWiki syntax  \n16:47\u00a0<jvelo>\u00a0using macros  \n16:47\u00a0<jvelo>\u00a0though it doesn't make it better for specific purposes  \n16:47\u00a0<cjd>\u00a0UI in wiki syntax or markdown or anything is like writing device drivers in Java or Perl or Python  \n16:48\u00a0<jvelo>\u00a0I agree  \n16:49\u00a0<jvelo>\u00a0I don't even like things like HAML for generating HTML  \n16:49\u00a0<vmassol>\u00a0yeah real men code in binary language! :)  \n16:49\u00a0<cjd>\u00a0asm is painful because you need to relearn it for every processor  \n16:50\u00a0<vmassol>\u00a0AndreasJonsson: ping  \n16:50\u00a0<vmassol>\u00a0just rebuilt XE and I get this in the console when I start it now:  \n16:50\u00a0<vmassol>\u00a02012-11-07 16:50:05,571 [http://localhost:8080/xwiki/bin/view/Main/] WARN \u00a0o.h.t.TypeFactory \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Scoping types to session factory org.hibernate.impl.SessionFactoryImpl@45ae90c9 after already scoped org.hibernate.impl.SessionFactoryImpl@47a39fdc  \n16:50\u00a0<vmassol>\u00a0this is new  \n16:50\u00a0<vmassol>\u00a0I even get it twice  \n16:51\u00a0<cjd>\u00a0also you get what you write, use C and you can leverage GCC's optimizer which will either trash your code or make it go stupid fast  \n16:51\u00a0<vmassol>\u00a0AndreasJonsson: https://gist.github.com/4032400  \n16:58\u00a0<vmassol>\u00a0mflorea: I'm trying to use the new user picker in AWM  \n16:58\u00a0<vmassol>\u00a0and it's not very nice in view mode....  \n16:58\u00a0<vmassol>\u00a0https://www.evernote.com/shard/s119/sh/da9613d8-e2db-4b22-ae5f-e39c5ca27dca/6ab97c9fd205fd3721f774c834ae9ae6  \n16:59\u00a0<vmassol>\u00a0I see 2 problems: the size (it's not resized) and the bullet list  \n16:59\u00a0<vmassol>\u00a0(and the user name printed)  \n16:59\u00a0<vmassol>\u00a0I prefer the view of http://extensions.xwiki.org/xwiki/bin/view/Extension/User+Property+Custom+Display  \n16:59\u00a0<vmassol>\u00a0wdyt?  \n17:00\u00a0<vmassol>\u00a0mflorea: I need this for demo for Devoxx next week! :)  \n17:00\u00a0<mflorea>\u00a0vmassol: that is not quite exactly the \"view\" mode. That is how it is seen in a livetable  \n17:01\u00a0<vmassol>\u00a0yes  \n17:01\u00a0<vmassol>\u00a0I know but the livetable isn't nice  \n17:01\u00a0<mflorea>\u00a0sure, that is something to fix  \n17:01\u00a0<vmassol>\u00a0ah so it's not finished?  \n17:02\u00a0<mflorea>\u00a0http://jira.xwiki.org/browse/XWIKI-7372 is still open  \n17:03\u00a0<vmassol>\u00a0mflorea: ok I see. Do you think this could be done before EOD Tuesday? :)  \n17:03\u00a0<vmassol>\u00a0(my demo is Wednesday morning)  \n17:03\u00a0<mflorea>\u00a0in one week? yes  \n17:03\u00a0<vmassol>\u00a0next Wednesday, the 14th  \n17:04\u00a0<vmassol>\u00a0I guess I can fallback to my own custom displayer otherwise  \n17:04\u00a0<vmassol>\u00a0oh  \n17:04\u00a0<vmassol>\u00a0mflorea: on my screenshot  \n17:04\u00a0<vmassol>\u00a0there are untranslated keys  \n17:04\u00a0<vmassol>\u00a0platform.livetable.pagesizeLabel  \n17:04\u00a0<vmassol>\u00a0platform.livetable.paginationPage  \n17:06\u00a0<mflorea>\u00a0I probably need to remove my i18n hack and use the new localization module in AWM  \n17:08\u00a0<vmassol>\u00a0yep would be nice  \n17:08\u00a0<vmassol>\u00a0that would make the generated apps simpler to read too, right?  \n17:08\u00a0<mflorea>\u00a0yes  \n17:10\u00a0<AndreasJonsson>\u00a0vmassol: Do you have any custom mappings? \u00a0As far as I can read from the code, you should always get that warning when custom mappings are injected.  \n17:12\u00a0<vmassol>\u00a0AndreasJonsson: this is the standard hsqldb/jetty built from sources  \n17:24\u00a0<vmassol>\u00a0mflorea: now we just need to add an attachment property type in AWM\u2026 :)  \n17:25\u00a0<mflorea>\u00a0yes, it's on my list (attachment, image). And more generic, a EntityReference property type  \n17:25\u00a0<mflorea>\u00a0(with a type meta prop to specify the entity type)  \n17:28\u00a0<vmassol>\u00a0nice  \n17:30\u00a0<cjd>\u00a0AndreasJonsson: the standard distribution custom maps a few things IIRC  \n17:34\u00a0<AndreasJonsson>\u00a0In that case, the warning should be commonplace? \u00a0It will be printed everytime the constructor for SessionFactoryImpl is called starting with the second time.  \n17:36\u00a0<Denis1>\u00a0has quit  \n17:36\u00a0<cjd>\u00a0doesn't that mean hibernate is being initialized twice?  \n17:37\u00a0<vmassol>\u00a03 times you mean  \n17:37\u00a0<cjd>\u00a0oh indeed  \n17:38\u00a0<AndreasJonsson>\u00a0It could also mean that.  \n17:38\u00a0<vmassol>\u00a0in any case there's something to fix before the 4.3 release  \n17:38\u00a0<vmassol>\u00a0we should not have this warning  \n17:39\u00a0<vmassol>\u00a0ideally before 4.3M2  \n17:39\u00a0<cjd>\u00a0I don't really know what the error means, I'm just seeing SessionFactoryImpl@<3 unique memory locations>  \n17:39\u00a0<cjd>\u00a0which tells me it's starting hibernate thrice  \n17:40\u00a0<AndreasJonsson>\u00a0So, I have added explicit synchronization to avoid initiating hibernate several times (which we didn't have before) and all of a sudden, it is beeing initiated several times?  \n17:41\u00a0<cjd>\u00a0in practive the machine does what it wants  \n17:41\u00a0<cjd>\u00a0heh  \n17:41\u00a0<vmassol>\u00a0:)  \n17:43\u00a0<AndreasJonsson>\u00a0If the constructor throws an exception after calling \u00a0getTypeResolver().scope(this), then this could happen.  \n17:45\u00a0<AndreasJonsson>\u00a0But the session factory is also reinstantiated when injecting custom mappings.  \n17:46\u00a0<AndreasJonsson>\u00a0Looking at some historic console output, I don't see this warning, though.  \n17:47\u00a0<cjd>\u00a0it's possible that you got bitten by the double checked locking  \n17:47\u00a0<cjd>\u00a0that's not supposed to work  \n17:53\u00a0<abusenius>\u00a0has joined #xwiki  \n17:55\u00a0<sburjan>\u00a0has quit  \n18:02\u00a0<tmortagne>\u00a0has quit  \n18:20\u00a0<fmancinelli>\u00a0has quit  \n18:29\u00a0<Slashman>\u00a0has joined #xwiki  \n18:33\u00a0<xwikibot>\u00a0has joined #xwiki  \n18:37\u00a0<vmassol>\u00a0has quit  \n18:53\u00a0<AndreasJonsson>\u00a0cjb: \u00a0Double-checked locking does work if the checked variable is volatile.  \n18:57\u00a0<abusenius>\u00a0has quit  \n19:07\u00a0<jvdrean1>\u00a0has quit  \n19:09\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:20\u00a0<Denis>\u00a0has joined #xwiki  \n19:24\u00a0<Slashman>\u00a0has quit  \n19:45\u00a0<abusenius>\u00a0has joined #xwiki  \n20:02\u00a0<vmassol>\u00a0has joined #xwiki  \n20:05\u00a0<npm>\u00a0has quit  \n20:13\u00a0<npm>\u00a0has joined #xwiki  \n20:39\u00a0<jvelo>\u00a0has quit  \n20:43\u00a0<jvelo>\u00a0has joined #xwiki  \n20:51\u00a0<fmancinelli>\u00a0has quit  \n20:56\u00a0<mflorea>\u00a0has quit  \n21:44\u00a0<mflorea>\u00a0has joined #xwiki  \n21:45\u00a0<Denis>\u00a0has quit  \n21:46\u00a0<mrvanes>\u00a0has quit  \n21:51\u00a0<coud10>\u00a0has joined #xwiki  \n22:00\u00a0<vmassol>\u00a0has quit  \n22:20\u00a0<vmassol>\u00a0has joined #xwiki  \n22:29\u00a0<fmancinelli>\u00a0has joined #xwiki  \n22:31\u00a0<vmassol>\u00a0has quit  \n23:03\u00a0<sburjan\\_>\u00a0has joined #xwiki  \n23:04\u00a0<vmassol>\u00a0has joined #xwiki  \n23:07\u00a0<mflorea1>\u00a0has joined #xwiki  \n23:08\u00a0<mflorea>\u00a0has quit  \n23:08\u00a0<sburjan`>\u00a0has quit  \n23:08\u00a0<sburjan\\_>\u00a0is now known as <sburjan`>  \n23:08\u00a0<sburjan`>\u00a0has quit  \n23:08\u00a0<sburjan`>\u00a0has joined #xwiki  \n23:10\u00a0<vmassol>\u00a0has quit  \n23:34\u00a0<vmassol>\u00a0has joined #xwiki  \n23:37\u00a0<coud10>\u00a0has quit  \n23:40\u00a0<vmassol>\u00a0has quit  \n23:58\u00a0<abusenius>\u00a0has quit\n"}