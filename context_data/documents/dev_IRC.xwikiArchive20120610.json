{"id": "dev:IRC.xwikiArchive20120610", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120610", "title": "IRC Archive for channel #xwiki on 10 June 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:05\u00a0<rrodriguez>\u00a0has joined #xwiki  \n01:01\u00a0<mflorea>\u00a0has quit  \n01:25\u00a0<rrodriguez>\u00a0has quit  \n04:29\u00a0<sdumitriu>\u00a0has quit  \n06:26\u00a0<tekzilla>\u00a0has quit  \n06:28\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:47\u00a0<vmassol>\u00a0has joined #xwiki  \n06:48\u00a0<vmassol>\u00a0has quit  \n07:37\u00a0<mflorea>\u00a0has joined #xwiki  \n07:55\u00a0<rrodriguez>\u00a0has joined #xwiki  \n08:31\u00a0<mflorea>\u00a0has quit  \n08:54\u00a0<vmassol>\u00a0has joined #xwiki  \n09:23\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rfb36086\u000f https://github.com/xwiki/xwiki-commons/commit/fb36086aafec958b1817ea5ba979169ec7890def \u000f/ pom.xml :\u000f XCOMMONS-188: Upgrade to Maven Compiler plugin 2.5.1 - http://git.io/jz\\_c1Q  \n09:30\u00a0<jvelo>\u00a0has joined #xwiki  \n09:32\u00a0<jvelo\\_>\u00a0has quit  \n09:39\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rba70d44\u000f https://github.com/xwiki/xwiki-commons/commit/ba70d443af619def1207ef45043f3f727017d1c4 \u000f/ pom.xml :\u000f XCOMMONS-189: Upgrade to Maven Shade plugin 1.7 - http://git.io/uSE3qw  \n09:39\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rf976b71\u000f https://github.com/xwiki/xwiki-commons/commit/f976b7189684f38753d447dd3e729d2578135bbc \u000f/ pom.xml :\u000f XCOMMONS-190: Upgrade to Maven Clean plugin 2.5 - http://git.io/HByBXg  \n09:39\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r1a8923c\u000f https://github.com/xwiki/xwiki-commons/commit/1a8923ce334a1c04e389902eaacc17d0b6f284a9 \u000f/ pom.xml :\u000f XCOMMONS-191: Upgrade to Maven Remote Resources Plugin 1.3 - http://git.io/LLYH3A  \n09:39\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* ra9ef503\u000f https://github.com/xwiki/xwiki-commons/commit/a9ef5034a9004d6b75f36e50cf09de02d3eb838b \u000f/ pom.xml :\u000f [Misc] Removed mention about SVN 1.5... - http://git.io/GcPvog  \n09:39\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r3bf96e9\u000f https://github.com/xwiki/xwiki-commons/commit/3bf96e9c2a1c62998c4df784a8806e6f52bb9c47 \u000f/ pom.xml :\u000f XCOMMONS-192: Upgrade to Maven Release plugin 2.3.1 - http://git.io/GorSJQ  \n10:24\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r45c7337\u000f https://github.com/xwiki/xwiki-commons/commit/45c7337119acfbe1431237604bc133425eaa830d \u000f/ xwiki-commons-pom/pom.xml :\u000f [Misc] Introduce xwiki.license.skip to allow easily skipping license checks and to align with other xwiki skip properties + skip license check in Rendering Standalone - http://git.io/jmId-A  \n10:24\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r2f0f110\u000f https://github.com/xwiki/xwiki-rendering/commit/2f0f110ce1c342778ac386d114ce9deac5e64e8d \u000f/ xwiki-rendering-standalone/pom.xml :\u000f [Misc] Introduce xwiki.license.skip to allow easily skipping license checks and to align with other xwiki skip properties + skip license check in Rendering Standalone - http://git.io/gVk0Hg  \n11:31\u00a0<vmassol>\u00a0AndreasJonsson: hi, my build is failing locally on test: org.xwiki.rendering.macro.code.IntegrationTests  \n11:32\u00a0<vmassol>\u00a0IMO you should revert your change for the {{ escape ATM. I agree with Thomas that it doesn' t look like the right place; it would fix this failing test too probably  \n12:16\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r91f0799\u000f https://github.com/xwiki/xwiki-commons/commit/91f0799107435817ae32efb1d87033620a4fba04 \u000f/ (pom.xml xwiki-commons-core/pom.xml):\u000f [Misc] Start removing 4.1 CLIRR excludes on master (4.2) by comparing to 4.1M2. Will need to be updated when 4.1RC1 and 4.1 final are released - http://git.io/RIqfgA  \n12:17\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r515e062\u000f https://github.com/xwiki/xwiki-platform/commit/515e062610acc7b58177c2c49d2d525f974a4728 \u000f/ xwiki-platform-core/pom.xml :\u000f [Misc] Start removing 4.1 CLIRR excludes on master (4.2) by comparing to 4.1M2. Will need to be updated when 4.1RC1 and 4.1 final are released - http://git.io/qT8IxQ  \n12:26\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r3f9e9f7\u000f https://github.com/xwiki/xwiki-commons/commit/3f9e9f70ed75bfcd3075be5a7c6e39eeaa1e8033 \u000f/ pom.xml :\u000f XCOMMONS-193: Upgrade to Maven Enforcer plugin 1.1 - http://git.io/CjFfrg  \n12:26\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rd2d7578\u000f https://github.com/xwiki/xwiki-commons/commit/d2d7578fa3503773ffd4c6a4383b9525048af026 \u000f/ pom.xml :\u000f XCOMMONS-194: Upgrade to Maven Checkstyle plugin 2.9.1 - http://git.io/CaWddA  \n12:30\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rd5547e1\u000f https://github.com/xwiki/xwiki-commons/commit/d5547e1ca02478a4468b36c9a89994a20c774f32 \u000f/ pom.xml :\u000f [Misc] Remove Eclipse plugin from top level POM since 1) we don't need it in our build and 2) it's now recommended to use the m2e Eclipse plugin instead when on Eclipse - http://git.io/3sw6VA  \n12:43\u00a0<vmassol>\u00a0hey there's a new nice helicopter view in sonar: http://nemo.sonarsource.org/dashboard/?did=20  \n12:43\u00a0<vmassol>\u00a0with a superhero view: http://nemo.sonarsource.org/dashboard/?did=30  \n12:44\u00a0<vmassol>\u00a0and with an individual view too, for ex for cjd: http://nemo.sonarsource.org/dashboard/index/410084  \n12:44\u00a0<vmassol>\u00a0and for me: http://nemo.sonarsource.org/dashboard/index/410038  \n12:45\u00a0<vmassol>\u00a0now need to take time to understand those figures ;)  \n12:53\u00a0<vmassol>\u00a0it's missing lots of stuff that I know I've committed in the past on maven projects\u2026 will ask the algorithm  \n13:17\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* rb821f58\u000f https://github.com/xwiki/xwiki-commons/commit/b821f58bd4b40e5f09b0e13f53c89b5eddb475aa \u000f/ pom.xml :\u000f XCOMMONS-195: Upgrade to Maven Site plugin 3.1 - http://git.io/R\\_n-ag  \n13:17\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r862cbd2\u000f https://github.com/xwiki/xwiki-commons/commit/862cbd232801d1b6681d165ee917fc531f3c543f \u000f/ (23 files in 5 dirs):\u000f [Misc] Fix mismatch between directory name and module name for the Verification Resources Tool - http://git.io/yDwfRQ  \n13:34\u00a0<jvelo>\u00a0has quit  \n14:03\u00a0<ssavi>\u00a0has quit  \n14:44\u00a0<vmassol>\u00a0hmm seems there's some 4.1-rc-1 version available in our remote repos  \n14:45\u00a0<vmassol>\u00a0cjd: ping  \n14:45\u00a0<vmassol>\u00a0do you know why http://nexus.xwiki.org/nexus/content/groups/public/org/xwiki/commons/xwiki-commons-tool-xar-plugin/ shows 4.1-rc-1?  \n14:46\u00a0<vmassol>\u00a0AFAIK we haven't released 4.1RC1 yet  \n14:47\u00a0<vmassol>\u00a0btw I see someone has added staging repo to our public repo that's not right at all  \n14:47\u00a0<vmassol>\u00a0removing them  \n14:47\u00a0<vmassol>\u00a0ah no  \n14:47\u00a0<vmassol>\u00a0remove those last 3 lines  \n14:47\u00a0<vmassol>\u00a0but  \n14:47\u00a0<vmassol>\u00a0yep someone add the staging repo  \n14:47\u00a0<vmassol>\u00a0that's plain wrong  \n14:47\u00a0<vmassol>\u00a0removing now  \n14:50\u00a0<vmassol>\u00a0now we need to clean all agents\u2026.  \n14:51\u00a0<vmassol>\u00a0fyi this is why http://ci.xwiki.org/job/xwiki-platform/2129/console fails  \n15:18\u00a0<CIA-117>\u00a0Vincent Massol\u000f master\u000f \\* r64a6897\u000f https://github.com/xwiki/xwiki-commons/commit/64a68976c915d573de1b04dde17c68088b8b69b1 \u000f/ xwiki-commons-tools/xwiki-commons-tool-xar/xwiki-commons-tool-xar-plugin/pom.xml :\u000f [Misc] Try to upgrade plugin to use latest maven version. Note that I've tried running it in Maven 3.0.3 and it works. Haven't tried in earlier versions though. - http://git.io/3jvQ2g  \n16:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n16:40\u00a0<sdumitriu>\u00a0has quit  \n17:53\u00a0<ssavi>\u00a0has joined #xwiki  \n18:18\u00a0<sdumitriu>\u00a0has joined #xwiki  \n18:34\u00a0<ssavi>\u00a0has left #xwiki  \n19:11\u00a0<SvenDowideit>\u00a0has quit  \n19:28\u00a0<@cjd>\u00a0vmassol: indeed, not quite sure where the staging repo was added but that does sound wrong. Anyway thanks for looking in to it.  \n19:32\u00a0<vmassol>\u00a0np, I haven't cleaned up the agents though  \n19:34\u00a0<Inge->\u00a0has quit  \n19:42\u00a0<Inge->\u00a0has joined #xwiki  \n19:48\u00a0<@cjd>\u00a0I can do that but it's going to break rendering on all of them because maven-3.0.3 doesn't solve the problem  \n19:49\u00a0<vmassol>\u00a0I don't understand the realtionship  \n19:49\u00a0<vmassol>\u00a0how can remmoving 4.1rc-1 from the local repo going to break aynthing?  \n19:49\u00a0<@cjd>\u00a0Oh I see  \n19:49\u00a0<@cjd>\u00a0I thought you meant to rm -r ~/.m2/repository  \n19:49\u00a0<@cjd>\u00a0and removing org/xwiki/commons will cause problems  \n19:49\u00a0<vmassol>\u00a0well that's possible too  \n19:50\u00a0<vmassol>\u00a0might be a good idea to do some cleanup  \n19:50\u00a0<@cjd>\u00a0http://jira.xwiki.org/browse/XRENDERING-210  \n19:50\u00a0<vmassol>\u00a0I don't see why you would break anything more  \n19:50\u00a0<vmassol>\u00a0see http://ci.xwiki.org/view/Rendering/  \n19:51\u00a0<vmassol>\u00a0also  \n19:51\u00a0<vmassol>\u00a0removing the local repo will not trigger any build  \n19:51\u00a0<@cjd>\u00a0You mean this? \u00a0\"IMPORTANT: We build with Maven 3.0.3 for now since we have the problem reported at http://jira.codehaus.org/browse/MSHADE-103 when we build with Maven 3.0.4\"  \n19:51\u00a0<@cjd>\u00a0?  \n19:52\u00a0<vmassol>\u00a0I'm lost  \n19:52\u00a0<@cjd>\u00a013:48 < vmassol> see http://ci.xwiki.org/view/Rendering/ <-- not sure what I'm looking for  \n19:52\u00a0<vmassol>\u00a0the fact that we build with maven 3.0.3 has nothing to do with local repos  \n19:52\u00a0<vmassol>\u00a0and the fact that you clean the local repos is not going to cause the build to work less well either  \n19:52\u00a0<@cjd>\u00a0my point is that I repeated the shade problem with 3.0.1 so it's not a 3.0.4 specific problem.  \n19:53\u00a0<vmassol>\u00a0the rendering build issue is already there and you're not going to fix it or make it worse  \n19:53\u00a0<vmassol>\u00a0again that's not linked to the fact that we have 4.1rc1 in local repos  \n19:53\u00a0<vmassol>\u00a0actually  \n19:53\u00a0<vmassol>\u00a0you might even solve it  \n19:53\u00a0<vmassol>\u00a0for a while  \n19:54\u00a0<@cjd>\u00a0I repeated the problem on local, it is covered up if commons is in the local /m2/ repo.  \n19:54\u00a0<@cjd>\u00a0This is why rendering builds now.  \n19:55\u00a0<@cjd>\u00a03.0.3 vs. 3.0.4 seems to have no effect that I could see.  \n19:55\u00a0<vmassol>\u00a0sure sure  \n19:55\u00a0<vmassol>\u00a0but again  \n19:55\u00a0<vmassol>\u00a0I'm not talking about this issue  \n19:55\u00a0<vmassol>\u00a0I'm talking about removinfg 4.1RC1 artifacts  \n19:55\u00a0<vmassol>\u00a0they're separate issues  \n19:55\u00a0<@cjd>\u00a0ok, I can remove just those  \n19:55\u00a0<vmassol>\u00a0and as I've pointed out  \n19:55\u00a0<vmassol>\u00a0the build is \\*\\*ALREADY\\* failing  \n19:55\u00a0<vmassol>\u00a0see http://ci.xwiki.org/view/Rendering/  \n19:55\u00a0<vmassol>\u00a0so I don't see how you can make it worse  \n19:56\u00a0<@cjd>\u00a0oh I see  \n19:56\u00a0<vmassol>\u00a0now if you know how to fix the shade/rendering standalone build issue that's interesting ;)  \n19:56\u00a0<vmassol>\u00a0I've just updated to shade plugin 1.7 today btw  \n19:57\u00a0<vmassol>\u00a0I can reproduce the issue locally though  \n19:57\u00a0<vmassol>\u00a0c  \n19:57\u00a0<vmassol>\u00a0s/can/can\"'t  \n19:57\u00a0<vmassol>\u00a0I removed my local repo this morning and all built fine  \n19:57\u00a0<@cjd>\u00a0hmm  \n19:57\u00a0<@cjd>\u00a0did you build commons before rendering?  \n19:58\u00a0<@cjd>\u00a0cd xwiki-rendering  \n19:58\u00a0<@cjd>\u00a0rm ~/.m2/reposiroty/org/xwiki/commons -r  \n19:58\u00a0<@cjd>\u00a0mvn clean install  \n19:58\u00a0<@cjd>\u00a0that works 100% for reporducing the issue for me  \n19:58\u00a0<@cjd>\u00a0err \\*repository  \n20:05\u00a0<@cjd>\u00a0ok one thing I'm not understanding is why this needs to be removed from the local repo? why would anything use -rc-1 now that the pom.xml is fixed and it's specified as using -SNAPSHOT  \n20:09\u00a0<vmassol>\u00a0yeah I'm not sure about why it's failing but here's some info on it:  \n20:10\u00a0<vmassol>\u00a0it fails in integration tests for the packager plugin  \n20:10\u00a0<vmassol>\u00a0and the error is an enforcer plugin error  \n20:10\u00a0<@cjd>\u00a0ok  \n20:10\u00a0<vmassol>\u00a0it says that the maven xar tool plugin  \n20:10\u00a0<vmassol>\u00a0doesn't have a version specified or is using a snapshot  \n20:10\u00a0<vmassol>\u00a0and it says  \n20:10\u00a0<vmassol>\u00a0that it's defaulting to using 4.1-rc-1  \n20:11\u00a0<vmassol>\u00a0when I removed it locally from my local repo it started bulding locally again  \n20:11\u00a0<vmassol>\u00a0but I don't understand it either at this point  \n20:12\u00a0<@cjd>\u00a0I'll try and repeat locally  \n20:12\u00a0<@cjd>\u00a0mvn -T10 clean install  \n20:12\u00a0<vmassol>\u00a0you need to go in packager plugin and run:  \n20:12\u00a0<vmassol>\u00a0mvn clean install -Pintegration-tests  \n20:12\u00a0<@cjd>\u00a0oh indeed  \n20:13\u00a0<@cjd>\u00a0I think -Plegacy,ci should do it, right?  \n20:13\u00a0<vmassol>\u00a0no  \n20:13\u00a0<vmassol>\u00a0there's no such thing as the \"ci\" profile :)  \n20:14\u00a0<vmassol>\u00a0see http://dev.xwiki.org/xwiki/bin/view/Community/Building#HUsingProfiles  \n20:14\u00a0<@cjd>\u00a0ahh cool, we can remove it from jenkins  \n20:14\u00a0<vmassol>\u00a0I already done that  \n20:14\u00a0<vmassol>\u00a0I've replaced all jobs  \n20:14\u00a0<vmassol>\u00a0replacing ci by legacy  \n20:14\u00a0<@cjd>\u00a0ahh ok  \n20:14\u00a0<@cjd>\u00a0mvn -T10 clean install -Plegacy,integration-tests -U -e  \n20:15\u00a0<vmassol>\u00a0that was maybe 1 month ago  \n20:15\u00a0<vmassol>\u00a0or more (don't fully remember when I did that)  \n20:15\u00a0<vmassol>\u00a0actually it was beginng of April  \n20:15\u00a0<vmassol>\u00a0\u00a02012/04/12 or close  \n20:16\u00a0<vmassol>\u00a0(since that's when I updated http://dev.xwiki.org/xwiki/bin/view/Community/Building#HUsingProfiles ;))  \n20:17\u00a0<@cjd>\u00a0while we're talking, i just wanted to sound an idea I had... Suppose we removed a few of the deprecatedish plugins from the default xwiki.cfg file? Most new users will only experience a miniscue speedup and old users will use their old xwiki.cfg.  \n20:17\u00a0<vmassol>\u00a0sure  \n20:17\u00a0<vmassol>\u00a0we do that regularly  \n20:18\u00a0<@cjd>\u00a0I was thinking perhaps add comments below the xwiki.plugins section explaining the ones which are still shipped but are off by default..  \n20:18\u00a0<vmassol>\u00a0sure that's a good idea  \n20:19\u00a0<@cjd>\u00a0Spent some time last night getting to know the clover reports better.  \n20:19\u00a0<vmassol>\u00a0now we should only remove plugins when we have alternative solutions ofc  \n20:19\u00a0<@cjd>\u00a0Boy I wish they made that for C :)  \n20:19\u00a0<vmassol>\u00a0cjd: cool reclover  \n20:19\u00a0<vmassol>\u00a0it's very nice isn't it?  \n20:19\u00a0<@cjd>\u00a0indeed  \n20:19\u00a0<vmassol>\u00a0we under user it  \n20:19\u00a0<vmassol>\u00a0same for sonar  \n20:19\u00a0<@cjd>\u00a0It is a quick and dirty way to find performance bottlenecks too.  \n20:20\u00a0<vmassol>\u00a0the first step re clover would be to add a job that builds it every day  \n20:20\u00a0<vmassol>\u00a0and use the history feature of clover  \n20:20\u00a0<@cjd>\u00a0And obviously it helps spot code which chould be targetted for removal  \n20:20\u00a0<vmassol>\u00a0yep that too  \n20:21\u00a0<@cjd>\u00a0I realize that some patterns like \u00a0\u00a0} catch (UnsupportedEncodingException) { /\\* no UTF8 \\*/ } are going to lead to \"false positives\"  \n20:21\u00a0<@cjd>\u00a0so I should probably avoid them  \n20:22\u00a0<vmassol>\u00a0well a try/catch without raisin gany exception is a problem in awaiting  \n20:22\u00a0<vmassol>\u00a0(exception or any sort of handling I mean)  \n20:22\u00a0<vmassol>\u00a0cjd: see bf4855271db58e153a21f37aca33d4077ee65a18  \n20:23\u00a0<vmassol>\u00a0that was done recently  \n20:23\u00a0<vmassol>\u00a0it's a remove of a plugin from xwiki.cfg  \n20:23\u00a0<vmassol>\u00a0we just need a vote to remove soething (just to be sure) but it's ok to do it  \n20:23\u00a0<vmassol>\u00a0IMO there are 3-4 that we could remove easily  \n20:25\u00a0<@cjd>\u00a0yes, I do throw a RuntimeException(\"No UTF-8, this jvm is not compliant.\")  \n20:26\u00a0<@cjd>\u00a0sorry, computer went unresponsive for a couple minutes  \n20:26\u00a0<@cjd>\u00a010 threads is probably too much  \n22:10\u00a0<vmassol>\u00a0has quit  \n22:52\u00a0<SvenDowideit>\u00a0has joined #xwiki  \n23:01\u00a0<jssol>\u00a0has joined #xwiki  \n23:02\u00a0<abusenius>\u00a0has joined #xwiki  \n23:43\u00a0<abusenius>\u00a0has quit  \n\n"}