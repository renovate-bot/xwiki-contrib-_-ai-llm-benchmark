{"id": "dev:IRC.xwikiArchive20121112", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121112", "title": "IRC Archive for channel #xwiki on 12 November 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<vmassol>\u00a0has quit  \n00:31\u00a0<vmassol>\u00a0has joined #xwiki  \n00:42\u00a0<vmassol>\u00a0has quit  \n01:09\u00a0<vmassol>\u00a0has joined #xwiki  \n01:20\u00a0<vmassol>\u00a0has quit  \n01:46\u00a0<vmassol>\u00a0has joined #xwiki  \n01:58\u00a0<vmassol>\u00a0has quit  \n02:20\u00a0<jvdrean>\u00a0has quit  \n02:25\u00a0<vmassol>\u00a0has joined #xwiki  \n02:36\u00a0<vmassol>\u00a0has quit  \n03:03\u00a0<vmassol>\u00a0has joined #xwiki  \n03:16\u00a0<vmassol>\u00a0has quit  \n03:41\u00a0<vmassol>\u00a0has joined #xwiki  \n03:53\u00a0<vmassol>\u00a0has quit  \n04:19\u00a0<vmassol>\u00a0has joined #xwiki  \n04:32\u00a0<vmassol>\u00a0has quit  \n04:57\u00a0<crocket>\u00a0http://xwiki.475771.n2.nabble.com/chart-macro-is-not-accessible-as-an-anonymous-user-tp7582302.html;cid=1352692616555-445  \n04:57\u00a0<crocket>\u00a0Is chart macro only accessible to admins or registered users?  \n04:58\u00a0<vmassol>\u00a0has joined #xwiki  \n05:10\u00a0<vmassol>\u00a0has quit  \n05:36\u00a0<vmassol>\u00a0has joined #xwiki  \n05:48\u00a0<vmassol>\u00a0has quit  \n06:04\u00a0<tekzilla>\u00a0has quit  \n06:06\u00a0<tekzilla>\u00a0has joined #xwiki  \n06:14\u00a0<vmassol>\u00a0has joined #xwiki  \n06:28\u00a0<vmassol>\u00a0has quit  \n06:53\u00a0<vmassol>\u00a0has joined #xwiki  \n07:05\u00a0<vmassol>\u00a0has quit  \n07:14\u00a0<mflorea>\u00a0has joined #xwiki  \n07:31\u00a0<vmassol>\u00a0has joined #xwiki  \n07:43\u00a0<vmassol>\u00a0has quit  \n08:09\u00a0<vmassol>\u00a0has joined #xwiki  \n08:22\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:48\u00a0<vmassol1>\u00a0has joined #xwiki  \n08:48\u00a0<vmassol1>\u00a0sorry got disconnected, back  \n08:50\u00a0<vmassol>\u00a0has quit  \n08:51\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n08:52\u00a0<vmassol>\u00a0mflorea: not sure if my message went through: You have issues in this list: http://jira.xwiki.org/secure/IssueNavigator.jspa?mode=hide&requestId=11594  \n08:52\u00a0<mflorea>\u00a0I know  \n08:52\u00a0<vmassol>\u00a0note that edy already released commons and rendering on Friday but he had issues on platform  \n08:57\u00a0<mrvanes>\u00a0has joined #xwiki  \n09:02\u00a0<mrvanes\\_>\u00a0has joined #xwiki  \n09:04\u00a0<mrvanes>\u00a0has quit  \n09:04\u00a0<AndreasJonsson>\u00a0crocket: The user must have view permissions on the page that holds the data source for the chart macro.  \n09:05\u00a0<crocket>\u00a0AndreasJonsson, Where is it?  \n09:07\u00a0<AndreasJonsson>\u00a0When you use the chart macro, you can specify a table on another page as the datasource. \u00a0The users will need view permission on that other page.  \n09:10\u00a0<vmassol>\u00a0cjd: good morning, fyi when you have some time, I've sent some message for you yesterday: http://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20121111  \n09:10\u00a0<crocket>\u00a0AndreasJonsson, I gave global view & admin permission to unregistered users.  \n09:10\u00a0<crocket>\u00a0And unregistered users can't see it yet.  \n09:14\u00a0<crocket>\u00a0AndreasJonsson, Refer to http://xwiki.475771.n2.nabble.com/chart-macro-is-not-accessible-as-an-anonymous-user-td7582302.html  \n09:14\u00a0<vmassol>\u00a0AndreasJonsson: would be good to fix http://jira.xwiki.org/browse/XWIKI-8412 before RC1 :)  \n09:15\u00a0<mflorea>\u00a0has quit  \n09:17\u00a0<vmassol>\u00a0cjd: do you think you could work on http://jira.xwiki.org/browse/XE-1249 ?  \n09:19\u00a0<cjd>\u00a0Good morning, I think the easiest thing to do with the users is delete them all at the beginning of the test.  \n09:22\u00a0<vmassol>\u00a0cjd: sure but that's not very nice  \n09:23\u00a0<vmassol>\u00a0these users are created by some tests that we don't control  \n09:23\u00a0<vmassol>\u00a0the best is really to do as a user would do  \n09:23\u00a0<vmassol>\u00a0since 1) this is the point of UI tests , ie to verify that what users would do work  \n09:23\u00a0<vmassol>\u00a02) it allows to test the users livetable for which we have no tests ATM  \n09:24\u00a0<cjd>\u00a0hehehe sneeky  \n09:24\u00a0<vmassol>\u00a0the most important is really to follow the same flow as a user would do  \n09:24\u00a0<cjd>\u00a0my pov is that the way to run a test is to put the system in a stable state  \n09:24\u00a0<vmassol>\u00a0these are functional tests  \n09:25\u00a0<vmassol>\u00a0so they run within an existing environment  \n09:25\u00a0<cjd>\u00a0so unstable?  \n09:25\u00a0<vmassol>\u00a0you cannot remove all context  \n09:25\u00a0<mrvanes\\_>\u00a0has quit  \n09:25\u00a0<vmassol>\u00a0and removing stuff that other test create is not good  \n09:25\u00a0<vmassol>\u00a0now  \n09:25\u00a0<vmassol>\u00a0these other test should be modified to not create random users for sure  \n09:25\u00a0<cjd>\u00a0well you either clean up before or clean up after  \n09:25\u00a0<vmassol>\u00a0they should create the same user instead  \n09:26\u00a0<vmassol>\u00a0but again the problem is not this here  \n09:26\u00a0<vmassol>\u00a0it's just about filtering the LT for the user you're looking for  \n09:26\u00a0<cjd>\u00a0IMO it doesn't matter which  \n09:26\u00a0<cjd>\u00a0that's one approach  \n09:26\u00a0<cjd>\u00a0and it's a relitively brittle one  \n09:26\u00a0<cjd>\u00a0js testing is difficult  \n09:26\u00a0<vmassol>\u00a0no  \n09:26\u00a0<vmassol>\u00a0we're testing lots of livetables  \n09:26\u00a0<vmassol>\u00a0and 1) it works and 2) it has to work  \n09:27\u00a0<vmassol>\u00a0since we want to test it  \n09:27\u00a0<vmassol>\u00a0:)  \n09:27\u00a0<cjd>\u00a0and in that case you want to isolate the livetable and test on it  \n09:27\u00a0<vmassol>\u00a0so we cannot ignore it  \n09:27\u00a0<vmassol>\u00a0\"isolate\"?  \n09:27\u00a0<vmassol>\u00a0a functional test is not a unit test  \n09:27\u00a0<vmassol>\u00a0it must test a full flow  \n09:27\u00a0<vmassol>\u00a0(user flow)  \n09:27\u00a0<vmassol>\u00a0and have the less # of methods  \n09:28\u00a0<vmassol>\u00a0(the opposite of unit tests)  \n09:28\u00a0<cjd>\u00a0if you don't have some amount of isolation then you have magical failures everytime someone stamps the floor  \n09:28\u00a0<vmassol>\u00a0for LT it's easy  \n09:28\u00a0<vmassol>\u00a0you just need to filter the column  \n09:28\u00a0<vmassol>\u00a0that's how you isolate it  \n09:28\u00a0<vmassol>\u00a0and how we've been doing for all other tests  \n09:28\u00a0<vmassol>\u00a0I don't see the problem  \n09:29\u00a0<cjd>\u00a0that's not isolation, that's mixing different kinds of tests and working arouns other tests  \n09:29\u00a0<vmassol>\u00a0no  \n09:29\u00a0<vmassol>\u00a0I don't agree  \n09:29\u00a0<vmassol>\u00a0your registration tests does this:  \n09:29\u00a0<vmassol>\u00a0- register a user  \n09:29\u00a0<vmassol>\u00a0- verify it's in the LT of users  \n09:29\u00a0<vmassol>\u00a0so far the seocnd part is a hack  \n09:29\u00a0<vmassol>\u00a0the way it's done  \n09:29\u00a0<vmassol>\u00a0and that's bad  \n09:29\u00a0<vmassol>\u00a0that's defintey not how a user would do it  \n09:30\u00a0<cjd>\u00a0These kinds of tests will flicker  \n09:30\u00a0<vmassol>\u00a0errr?  \n09:30\u00a0<vmassol>\u00a0can you show me a LT filcker in other tests?  \n09:30\u00a0<vmassol>\u00a0I've spent (and thomas too) a lot of time to ensure LT tests don't flicker  \n09:31\u00a0<cjd>\u00a0if you like to spend your time that way...  \n09:31\u00a0<vmassol>\u00a0and I haven't seen a flicker on them for ages  \n09:31\u00a0<vmassol>\u00a0what?  \n09:31\u00a0<vmassol>\u00a0so you're \u00a0suggesting to remove LT from all our UIs?  \n09:31\u00a0<vmassol>\u00a0because you consider that we can't test them?  \n09:31\u00a0<cjd>\u00a0IMO the best way to prevent flickering is to test pieces in semi isolated/controlled state.  \n09:31\u00a0<vmassol>\u00a0or worse, you're consider not testing them?  \n09:32\u00a0<vmassol>\u00a0I have no clue what you mean by isolated  \n09:32\u00a0<cjd>\u00a0nah, livetable testing is nice, it should be done without testing everything else at the same time IMO  \n09:32\u00a0<vmassol>\u00a0can you explain what you consider 'everything else\" in the context of the reg test?  \n09:33\u00a0<cjd>\u00a0I wonder if we can batch the tests into groups which are expected to follow one another.. then we could reimage the database between groups  \n09:34\u00a0<cjd>\u00a0this depends on how fast it is to copy db files around  \n09:34\u00a0<vmassol>\u00a0I don't understand what issue you're trying to solve here  \n09:34\u00a0<vmassol>\u00a0becuase I don't see one  \n09:34\u00a0<vmassol>\u00a0:)  \n09:34\u00a0<crocket>\u00a0vmassol, Is it trivial to implement pgsql virtual wiki support?  \n09:35\u00a0<vmassol>\u00a0cjd: there are 2 issues here  \n09:35\u00a0<vmassol>\u00a0but the biggest one is that the test is wrong  \n09:35\u00a0<vmassol>\u00a0if it were right the second issue wouln't even appear  \n09:35\u00a0<vmassol>\u00a0and I would prefer that we fix the test  \n09:35\u00a0<vmassol>\u00a0rather than try to fully change the way we do functional test rigth now :)  \n09:35\u00a0<cjd>\u00a0well.. by 'fix' you mean implement it your way.  \n09:35\u00a0<vmassol>\u00a0I'm fine to discuss the stragy of ordering functional tests  \n09:35\u00a0<vmassol>\u00a0no  \n09:35\u00a0<vmassol>\u00a0not my way  \n09:36\u00a0<vmassol>\u00a0the way any functional test should be  \n09:36\u00a0<vmassol>\u00a0ie test what the user would do  \n09:36\u00a0<vmassol>\u00a0I'm sorry but the way you've done it is a big big hack  \n09:36\u00a0<cjd>\u00a0how much do you expect of a functional test?  \n09:36\u00a0<vmassol>\u00a0verify that what the users does work  \n09:37\u00a0<vmassol>\u00a0(and is not PageObject-oriented)  \n09:37\u00a0<cjd>\u00a0where does it end? perhaps that is valid but is it valid for a test to change the language and the other tests should be able to handle that?  \n09:37\u00a0<vmassol>\u00a0set up is one thing  \n09:37\u00a0<vmassol>\u00a0once the set up is done  \n09:37\u00a0<vmassol>\u00a0the rest must be user actions  \n09:37\u00a0<vmassol>\u00a0using a PO strategy  \n09:38\u00a0<cjd>\u00a0Adding a test which flipped the language or changed the color scheme would probably break everything because tests make expectations, that test expects not to have other users.  \n09:38\u00a0<vmassol>\u00a0if a test changes the language it shoudl reset is in tearDown since English is the default language expected by all tests  \n09:38\u00a0<vmassol>\u00a0however tests are allowed to create new docs  \n09:38\u00a0<vmassol>\u00a0without removing them  \n09:39\u00a0<cjd>\u00a0I'm not saying your idea is invalid, I do however disagree that it's a hack for a test to have expectations.  \n09:39\u00a0<vmassol>\u00a0said differently  \n09:39\u00a0<vmassol>\u00a0test that change existing config should reset it  \n09:39\u00a0<vmassol>\u00a0but test can create new data  \n09:39\u00a0<vmassol>\u00a0(ie new pages)  \n09:39\u00a0<cjd>\u00a0ok  \n09:40\u00a0<vmassol>\u00a0it would be good to write it in the best practice guide for writing functional tests  \n09:40\u00a0<vmassol>\u00a0(if we agree)  \n09:40\u00a0<cjd>\u00a0\"write tests which pass when things are working and fail when things break and run in a short amount of time\"  \n09:40\u00a0<cjd>\u00a0:)  \n09:41\u00a0<vmassol>\u00a0I mean here: http://dev.xwiki.org/xwiki/bin/view/Community/Testing#HSelenium2-basedFramework  \n09:42\u00a0<vmassol>\u00a0I'l add 2 lines:  \n09:42\u00a0<mflorea>\u00a0has joined #xwiki  \n09:42\u00a0<vmassol>\u00a0- ability to run tests in any order, or more specifically ability to run each test separately  \n09:42\u00a0<vmassol>\u00a0- test that change existing config should reset it but test can create new data  \n09:42\u00a0<vmassol>\u00a0I'll also send an email to ensure we agree  \n09:42\u00a0<vmassol>\u00a0the first point has already been agreed in the past  \n09:43\u00a0<cjd>\u00a0data and config are trickey  \n09:43\u00a0<cjd>\u00a0\"I just created a WebPreferences\" document :)  \n09:44\u00a0<vmassol>\u00a0yes this is an edge case  \n09:44\u00a0<vmassol>\u00a0for me WebPreferences is config  \n09:44\u00a0<vmassol>\u00a0existing config  \n09:44\u00a0<cjd>\u00a0meh @ dev legalism  \n09:44\u00a0<vmassol>\u00a0now you can register a new app in the app panel  \n09:45\u00a0<vmassol>\u00a0and no test should verify the number of entries in the app panel for ex  \n09:45\u00a0<vmassol>\u00a0that would be a brittle test  \n09:45\u00a0<vmassol>\u00a0same for user registration  \n09:45\u00a0<vmassol>\u00a0assuming that your user is going to be in the first page is brittle  \n09:45\u00a0<vmassol>\u00a0(and it doesn't test the LT)  \n09:46\u00a0<vmassol>\u00a0do you agree? :)  \n09:47\u00a0<cjd>\u00a0not really, it's an expectation and it's usually right.. if it's wrong then it's good to just fix the problem however works  \n09:47\u00a0<vmassol>\u00a0fixing the test is better  \n09:47\u00a0<vmassol>\u00a0makes it stronger  \n09:47\u00a0<vmassol>\u00a0and in this case it makes it right too  \n09:47\u00a0<vmassol>\u00a0since LT is not tested  \n09:50\u00a0<vmassol>\u00a0just sent a vote cjd  \n09:51\u00a0<sburjan>\u00a0has joined #xwiki  \n09:52\u00a0<vmassol>\u00a0cjd: btw the best practices also say to make the test the most performant possible and filtering the LT not only tests it (which we absolutely need to do) but is also more performant than deleting N pages  \n09:52\u00a0<vmassol>\u00a0in any case, right now the registration tests fail under some conditions as I've exeprienced locally  \n09:54\u00a0<vmassol>\u00a0FTR I have 6 failure locally, some of them are known to fail on mac though (not sure how many), registration test is one of them  \n09:54\u00a0<cjd>\u00a0There are systems where a byte is not 8 bits and where memory is not guaranteed to be freed when your program stops. I once read a document which derided the use of memset() to zero pointers because \"the byte representation of zero is not necessarily all 0x00 bytes\". This kind of language legalism is a slippery slope and I prefer to let people do what they want as long as it works and it's readable/maintainable.  \n09:55\u00a0<vmassol>\u00a0I think 4 are \"expected to fail\" on mac  \n09:55\u00a0<vmassol>\u00a0that's the point of PO  \n09:55\u00a0<vmassol>\u00a0to make tests maintainable  \n09:55\u00a0<vmassol>\u00a0you really consider this to be maintainable/readable:  \n09:55\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0registrationPage.waitUntilElementsAreVisible(  \n09:55\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0By.xpath(\"//dd/span[@class='LV\\_validation\\_message LV\\_invalid']\")  \n09:55\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0false  \n09:55\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0);  \n09:56\u00a0<cjd>\u00a0so far it has been just fine and adding a line to the top which flushes users would make it so again  \n09:56\u00a0<vmassol>\u00a0and loose 15 seconds  \n09:56\u00a0<vmassol>\u00a0+ add a hack over a hack  \n09:56\u00a0<vmassol>\u00a0nice  \n09:56\u00a0<vmassol>\u00a0for maintainablility  \n09:56\u00a0<vmassol>\u00a0I spent 10 minutes on your 3 lines  \n09:56\u00a0<vmassol>\u00a0trying to figure out what it does  \n09:56\u00a0<vmassol>\u00a0and I stiull haven't succeeded  \n09:57\u00a0<vmassol>\u00a0I still have no idea why there's:  \n09:57\u00a0<vmassol>\u00a0By.xpath(\"//dd/span[@class='LV\\_validation\\_message LV\\_invalid']\")  \n09:57\u00a0<vmassol>\u00a0htere's not even a comment  \n09:57\u00a0<vmassol>\u00a0so don't tell me your code is readable  \n09:57\u00a0<vmassol>\u00a0or maintainable  \n09:57\u00a0<vmassol>\u00a0...  \n09:57\u00a0<vmassol>\u00a0it's just again the practice of PO  \n09:58\u00a0<vmassol>\u00a0against  \n09:58\u00a0<cjd>\u00a0I can document it sure, it's looking for a validation failure (livevalidation) or a new user  \n09:59\u00a0<vmassol>\u00a0this is not PO  \n10:00\u00a0<cjd>\u00a0PO?  \n10:00\u00a0<vmassol>\u00a0PageObject  \n10:00\u00a0<vmassol>\u00a0as soon as you have an xpath in a test you can be sure it's not following the best practice of PO  \n10:11\u00a0<crocket>\u00a0I think JPQL parser has a bug.  \n10:11\u00a0<crocket>\u00a0Exception while translating [SELECT srv FROM doc d JOIN d.getObjects(\"Private.Network Services\") srv ORDER BY srv.port] XWQL query to the [hql] language. Query statement = [SELECT srv FROM doc d JOIN d.getObjects(\"Private.Network Services\") srv ORDER BY srv.port]  \n10:11\u00a0<crocket>\u00a0Caused by: org.xwiki.query.QueryException  \n10:11\u00a0<crocket>\u00a0Caused by: org.xwiki.query.jpql.parser.ParserException: [1,69] expecting: '.'  \n10:14\u00a0<cjd>\u00a0crocket: try removing the quotes, IIRC xwql needed to have no quotes  \n10:14\u00a0<crocket>\u00a0cjd : Where is XWQL defined precisely?  \n10:15\u00a0<cjd>\u00a0in a .grammar file :(  \n10:16\u00a0<crocket>\u00a0cjd : org.xwiki.query.jpql.parser.ParserException: [1,52] expecting: ')' in 'SELECT srv FROM IN (doc.getObjects(Private.Network Services)) AS srv ORDER BY srv.port'  \n10:16\u00a0<crocket>\u00a0The 52nd column is at the white space.  \n10:16\u00a0<crocket>\u00a0I obviously need a quote.  \n10:19\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:20\u00a0<crocket>\u00a0cjd : org.xwiki.query.jpql.parser.ParserException: [1,63] expecting: '.'  \n10:20\u00a0<crocket>\u00a0It expects a dot right after doc.getObjects('Private.Network Services')  \n10:20\u00a0<cjd>\u00a0bb running tests  \n10:22\u00a0<vmassol>\u00a0bb in 15mn  \n10:40\u00a0<crocket>\u00a0Is it wrong to pass Vector<Object> b into IN (b) as B?  \n10:44\u00a0<crocket>\u00a0With \"select srv from IN (doc.getObjects(\"Private.NetworkServices\")) srv\", the JPQL parser thinks IN isn't Collection Member Declarations  \n10:44\u00a0<crocket>\u00a0It think IN is http://docs.oracle.com/javaee/6/tutorial/doc/bnbuf.html#bnbvf  \n10:46\u00a0<crocket>\u00a0select srv from in (serv) srv  \n10:46\u00a0<cjd>\u00a0I think IN allows a list to be passed but I don't remember for sure  \n10:46\u00a0<cjd>\u00a0there's IN, and MEMBER OF, IIRC MEMBER OF is for a list which is in the db  \n10:47\u00a0<crocket>\u00a0cjd : IN has two meanings  \n10:47\u00a0<cjd>\u00a0anyway you want to be looking at HQL because most of this syntax is being passed through untouched to the HQL parser  \n10:47\u00a0<crocket>\u00a0cjd : 1) IN ('a', 'b', 'c')  \n10:47\u00a0<crocket>\u00a0cjd : 2) IN (Collection<>) AS alias  \n10:47\u00a0<crocket>\u00a0I want the second meaning.  \n10:48\u00a0<cjd>\u00a0Are you thinking of using XWiki objects with IN?  \n10:48\u00a0<cjd>\u00a0because I don't think they are mapped that way.  \n10:49\u00a0<crocket>\u00a0cjd : how do you propose I use it?  \n10:50\u00a0<crocket>\u00a0#set ($serv=$doc.getObjects(\"Private.NetworkServices\"))  \n10:50\u00a0<crocket>\u00a0$services.query.xwql('SELECT srv FROM IN (serv) AS srv').execute()  \n10:50\u00a0<cjd>\u00a0does that work?  \n10:51\u00a0<crocket>\u00a0cjd : no  \n10:51\u00a0<crocket>\u00a0org.xwiki.query.jpql.parser.ParserException: [1,33] expecting: ',' in SELECT srv FROM IN (serv) AS srv  \n10:51\u00a0<crocket>\u00a0The 33rd column is the last letter.  \n10:51\u00a0<crocket>\u00a0JPQL parser expects \",\" at the end.  \n10:52\u00a0<cjd>\u00a0What I do, and this is partially tinted by the fact that I've been around since before XWQL was popular so I just HQL it: \u00a0\u00a0something like \u00a0\u00a0$services.query.hql(\", BaseObject as obj where obj.name = 'Private.NetworkServices'\");  \n10:52\u00a0<crocket>\u00a0I don't know hql.  \n10:53\u00a0<crocket>\u00a0And the JPQL subset should work with HQL.  \n10:53\u00a0<cjd>\u00a0HQL is similar to JPQL  \n10:54\u00a0<crocket>\u00a0cjd : I want to order the return value of $doc.getObjects(\"Private.NetworkServices\") according to a field.  \n10:54\u00a0<crocket>\u00a0Private.NetworkServices has a field \"port\".  \n10:54\u00a0<crocket>\u00a0I want to order Vector<Object> according to \"port\".  \n10:55\u00a0<cjd>\u00a0you want to return only the names of documents with NetworkServices objects which have a \"port\" of a certain number?  \n10:55\u00a0<Enygma`>\u00a0has joined #xwiki  \n10:55\u00a0<vmassol>\u00a0Enygma`: good morning  \n10:55\u00a0<crocket>\u00a0cjd : no  \n10:56\u00a0<crocket>\u00a0cjd : All the objects are contained in a page.  \n10:56\u00a0<crocket>\u00a0It is the database of all network services in my server.  \n10:56\u00a0<cjd>\u00a0ok, what exactly do you want to return? SELECT X from ... what is X?  \n10:56\u00a0<cjd>\u00a0the XWiki Objects?  \n10:57\u00a0<cjd>\u00a0I think you can do that with something like this:  \n10:57\u00a0<crocket>\u00a0cjd : It is a class associated with a page.  \n10:57\u00a0<crocket>\u00a0And the objects are on a separate page.  \n10:57\u00a0<cjd>\u00a0yes  \n10:58\u00a0<cjd>\u00a0you want the actual objects or the names of the pages where they are located?  \n10:58\u00a0<crocket>\u00a0I want the page with the objects to display the network services in the increasing order of port.  \n10:58\u00a0<crocket>\u00a0the actual objects  \n10:59\u00a0<cjd>\u00a0getting the names of the pages is easy, getting the actual objects is possible but a little bit fragile, getting the actual pages from a query is not possible because they get a bunch of initialization stuff when they are loaded through getDocument()  \n10:59\u00a0<crocket>\u00a0\"actual objects\"  \n11:00\u00a0<cjd>\u00a0hmm  \n11:00\u00a0<cjd>\u00a0actually that's not possible either because they are denormalized around the database  \n11:01\u00a0<cjd>\u00a0getting field values from them is ugly but doable  \n11:01\u00a0<crocket>\u00a0What the hell, man.  \n11:01\u00a0<crocket>\u00a0Is it possible to establish a connection to RDBMS?  \n11:02\u00a0<cjd>\u00a0sure  \n11:02\u00a0<crocket>\u00a0I knew xwiki database would be crappy to work with.  \n11:02\u00a0<cjd>\u00a0I recommend getting the document names then using getDocument() to load them  \n11:02\u00a0<cjd>\u00a0if they're in the cache it's fast  \n11:02\u00a0<crocket>\u00a0cjd : It's already in $doc.  \n11:03\u00a0<evalica>\u00a0has joined #xwiki  \n11:03\u00a0<crocket>\u00a0cjd : $doc.getObjects(\"NetworkServices\") works without query modules.  \n11:03\u00a0<cjd>\u00a0oh you have 1 document with all of the objects?  \n11:03\u00a0<crocket>\u00a0cjd : yes  \n11:03\u00a0<cjd>\u00a0ahh, they're all in memory at that point then  \n11:03\u00a0<crocket>\u00a0cjd : The only one document has all the objects.  \n11:03\u00a0<vmassol>\u00a0tmortagne/Enygma`: what fix for should be use for hwta has been committed in master for platform?  \n11:03\u00a0<vmassol>\u00a04.3M2 or 4.3RC1?  \n11:03\u00a0<cjd>\u00a0no need to query for them, just make a loop and filter them by what you want  \n11:04\u00a0<vmassol>\u00a0for ex: http://jira.xwiki.org/browse/XWIKI-8388  \n11:04\u00a0<crocket>\u00a0cjd : I want to query the objects on the same page.  \n11:04\u00a0<crocket>\u00a0cjd : wihout a query, ordering seems difficult.  \n11:04\u00a0<tmortagne>\u00a0vmassol: I did not really tough about it actually, just took the not released version (did not really followed release 4.3M2)  \n11:04\u00a0<crocket>\u00a0If I can query, things become simple.  \n11:05\u00a0<vmassol>\u00a0Edy has not released platform yet  \n11:05\u00a0<vmassol>\u00a0just commons + rendering  \n11:05\u00a0<vmassol>\u00a0but he started releasing platform and had some issues  \n11:05\u00a0<vmassol>\u00a0so he needs to tell us  \n11:05\u00a0<vmassol>\u00a0if he plans to re-build it or not ;)  \n11:05\u00a0<vmassol>\u00a0Enygma`: ping  \n11:06\u00a0<tmortagne>\u00a0it''s not released on github so indeed I should put 4.3M2  \n11:06\u00a0<tmortagne>\u00a0fixed  \n11:06\u00a0<Enygma`>\u00a0hi. Reading...  \n11:06\u00a0<tmortagne>\u00a0well unless it's done on agent already  \n11:07\u00a0<cjd>\u00a0vmassol: I reran all of the tests and I don't see the failure you were talking about, just a few ClassField, ClassEditor, a blog post test and a create application test.  \n11:07\u00a0<tmortagne>\u00a0tag not created on agent either  \n11:08\u00a0<Enygma`>\u00a0if xwiki-platform is the only one that was modified, I can continue the release from where I left off on friday and include tmortagne code for the platform top module  \n11:08\u00a0<crocket>\u00a0cjd : what do you suggest?  \n11:08\u00a0<crocket>\u00a0cjd : I need to order them.  \n11:08\u00a0<vmassol>\u00a0cjd: you won't see it unless you run the tests several times  \n11:09\u00a0<crocket>\u00a0maybe insertion sort?  \n11:09\u00a0<crocket>\u00a0Or query?  \n11:09\u00a0<vmassol>\u00a0(so that the johnsmith user goes on the second page of the LT)  \n11:09\u00a0<cjd>\u00a0does this happen on the CI?  \n11:09\u00a0<vmassol>\u00a0probably not  \n11:10\u00a0<cjd>\u00a0Your proposal for a fix would not actually guarantee to test the livetable because it would only test it if other tests had created the users.  \n11:10\u00a0<cjd>\u00a0which they don't unless you run the tests many times with the same database.  \n11:10\u00a0<vmassol>\u00a0Enygma`: I also did a commit on commons but it doesn't need to be in M2  \n11:10\u00a0<vmassol>\u00a0(I put RC1 on jira)  \n11:10\u00a0<vmassol>\u00a0it's the selenium version upgrade  \n11:10\u00a0<Enygma`>\u00a0yes, saw it now  \n11:11\u00a0<vmassol>\u00a0cjd: I don't follow you  \n11:11\u00a0<vmassol>\u00a0\"because it would only test it if other tests had created the users.\"  \n11:11\u00a0<vmassol>\u00a0I don't understand this part  \n11:11\u00a0<vmassol>\u00a0did you see my ocde?  \n11:11\u00a0<vmassol>\u00a0the one I pasted on gist  \n11:11\u00a0<cjd>\u00a0if you don't have multople pages of users then the filter doesn't necessarily work  \n11:12\u00a0<Enygma`>\u00a0vmassol: \u00a0well, I have commented xwiki-commons and xwiki-rendering in the build script so they will be skipped, but the sources for xwiki-platform will be updated and included in 4.3m2  \n11:12\u00a0<Enygma`>\u00a0plus, what happens when I have to build commons and rendering locally to be pushed to maven central?  \n11:12\u00a0<cjd>\u00a0crocket: you might look at this http://velocity.apache.org/tools/devel/javadoc/org/apache/velocity/tools/generic/SortTool.html it probably won't do what you want so I would spin a Comparitor in {{groovy}} and sort them there.  \n11:12\u00a0<tmortagne>\u00a0Enygma`: it's supposed to be built from the tag  \n11:12\u00a0<vmassol>\u00a0cjd: specifically the test would do this:  \n11:12\u00a0<vmassol>\u00a0UsersAdministrationSectionPage page = (UsersAdministrationSectionPage) registrationPage.clickRegister();  \n11:12\u00a0<vmassol>\u00a0LiveTableElement usersTable = page.getUsersTable();  \n11:12\u00a0<Enygma`>\u00a0ah, right  \n11:13\u00a0<Enygma`>\u00a0well, ok then  \n11:13\u00a0<vmassol>\u00a0\"if you don't have multople pages of users then the filter doesn't necessarily work\" how come the LT only works with more than 1 entry?  \n11:13\u00a0<vmassol>\u00a0I've never experienced that  \n11:13\u00a0<vmassol>\u00a0(cjd)  \n11:14\u00a0<Enygma`>\u00a0so both XCOMMONS-29 and XWIKI-8388 will be marked as 4.3M2 and that`s that  \n11:14\u00a0<cjd>\u00a0vmassol: My point is if you have 1 entry and you type something and you still have 1 entry, you're not testing anything  \n11:15\u00a0<crocket>\u00a0cjd : An example from http://extensions.xwiki.org/xwiki/bin/view/Extension/Query+Module#HQueryLanguageExamples is 'select distinct obj.tags from Document doc, doc.object(XWiki.TagClass) as obj'  \n11:15\u00a0<vmassol>\u00a0cjd: of course you do  \n11:15\u00a0<cjd>\u00a0although I suppose you could filter for Admin and then filter for JohnSmith and check that they're different  \n11:15\u00a0<crocket>\u00a0It seems doc is available as Document, somehow.  \n11:15\u00a0<cjd>\u00a0assuming Admin is still there which I think is safe  \n11:15\u00a0<Enygma`>\u00a0so I`m hoping there will be no other issues with the release now  \n11:15\u00a0<Enygma`>\u00a0proceeding...  \n11:16\u00a0<vmassol>\u00a0cjd: I think you're mixing unit tests and functional tests  \n11:16\u00a0<cjd>\u00a0If you have 1 entry, you type something and you still have one entry, you don't even know if the typing worked  \n11:17\u00a0<vmassol>\u00a0the point here is not to test that the LT component works with all possible flows, but to test that the usage of the LT in a given context basically works for the common use case  \n11:17\u00a0<mflorea>\u00a0has quit  \n11:18\u00a0<vmassol>\u00a0functional test are not supposed to replace unit tests and they're not supposed to test all flows for sure  \n11:18\u00a0<vmassol>\u00a0and in any case  \n11:18\u00a0<vmassol>\u00a0it's better to test something than nothing  \n11:18\u00a0<vmassol>\u00a0we're not talking about being perfect  \n11:18\u00a0<vmassol>\u00a0I know that's this is not possible  \n11:18\u00a0<vmassol>\u00a0I'm talking about being better that's all  \n11:18\u00a0<cjd>\u00a0if you're testing random inputs then you get random failures and they don't tell you much  \n11:18\u00a0<vmassol>\u00a0I'm going to stop discussing  \n11:18\u00a0<cjd>\u00a0k  \n11:19\u00a0<vmassol>\u00a0because I see you don't want to see the reality  \n11:19\u00a0<cjd>\u00a0hehe  \n11:19\u00a0<vmassol>\u00a0you're immersed in your mathematicla world  \n11:19\u00a0<cjd>\u00a0I though you werr going to stop :P  \n11:19\u00a0<vmassol>\u00a0which is definitely not whatwe're talkng abotu here  \n11:19\u00a0<tmortagne>\u00a0Enygma`: re \"XWIKI-8388 will be marked as 4.3M2\", you mean you won't pull ? (It does not need to be in M2, just wondering)  \n11:19\u00a0<vmassol>\u00a0we're not doing a mathematical proff  \n11:19\u00a0<vmassol>\u00a0proof  \n11:19\u00a0<vmassol>\u00a0now I'm done :)  \n11:19\u00a0<vmassol>\u00a0(I had to explain)  \n11:19\u00a0<vmassol>\u00a0not yet actually  \n11:19\u00a0<cjd>\u00a0I'm actually terrible at proofs :)  \n11:20\u00a0<vmassol>\u00a0you prefer to not do anyrhting  \n11:20\u00a0<vmassol>\u00a0becuase it's not 100%perfect  \n11:20\u00a0<vmassol>\u00a0rather than stay with something that's worse  \n11:20\u00a0<Enygma`>\u00a0tmortagne: the scripts pull, so it will be included in the to-be-released 4.3m2  \n11:20\u00a0<cjd>\u00a0I'd like to add a comment since as you pointed out, it's not obvious what the user intended  \n11:20\u00a0<vmassol>\u00a0english  \n11:20\u00a0<vmassol>\u00a0:)  \n11:20\u00a0<Enygma`>\u00a0and I`m also pulling manually to try to fix the release:prepare  \n11:20\u00a0<vmassol>\u00a0but you get the meaning  \n11:20\u00a0<vmassol>\u00a0;)  \n11:20\u00a0<crocket>\u00a0'SELECT srv FROM Document as doc, doc.object(Private.NetworkServices) as srv' succeeds, but 'SELECT srv FROM Document as doc, IN (doc.objects(Private.NetworkServices)) as srv' fails.  \n11:20\u00a0<cjd>\u00a0err not obvious what \\*I\\* was testing  \n11:21\u00a0<crocket>\u00a0cjd : It seems IN can't be interpreted well in JPQL parser.  \n11:21\u00a0<vmassol>\u00a0I guess I'l have to fix your code  \n11:21\u00a0<vmassol>\u00a0which I wanted to avoid  \n11:21\u00a0<tmortagne>\u00a0Enygma`: forget that actually I undertood it th other way around  \n11:21\u00a0<vmassol>\u00a0since I'm already busy elsewehre  \n11:21\u00a0<vmassol>\u00a0anyway I still need to preapre my presentation for devoxx  \n11:21\u00a0<vmassol>\u00a0so it won't be now  \n11:21\u00a0<cjd>\u00a0About rewriting everything with page objects, POs make sense in certain situations but I'm not sure this is one of them.  \n11:24\u00a0<vmassol>\u00a0tmortagne: http://ci.xwiki.org/job/xwiki-platform/2894/console  \n11:24\u00a0<crocket>\u00a0cjd : It seems I can't query doc.getObjects.  \n11:24\u00a0<crocket>\u00a0doc.getObject can be queried.  \n11:25\u00a0<tmortagne>\u00a0vmassol: I don't see how to exclude it then if I can't use <classifier>  \n11:26\u00a0<crocket>\u00a0cjd : Have you tried querying doc.getObjects?  \n11:26\u00a0<vmassol>\u00a0you shoudl build before pushing, especially since edy is releasing, Enygma`: don't release platform now it's failing  \n11:31\u00a0<Enygma`>\u00a0yes, I`ve noticed that while trying to release:prepare :)  \n11:31\u00a0<crocket>\u00a0It seems IN doesn't allow parentheses in its parentheses.  \n11:31\u00a0<vmassol>\u00a0tmortagne: maybe you shoudl revert and try to fix this in RC1?  \n11:31\u00a0<vmassol>\u00a0since it's important that Enygma` could release ASAP  \n11:33\u00a0<vmassol>\u00a0or Enygma` should branch at a known working hash and release from that branch...  \n11:33\u00a0<tmortagne>\u00a0should be ok now  \n11:34\u00a0<cjd>\u00a0hmm looks like $regextool was removed  \n11:34\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0this.defaultTools.setProperty(\"regextool\", RegexTool.class.getName());  \n11:34\u00a0<fmancinelli>\u00a0has joined #xwiki  \n11:34\u00a0<vmassol>\u00a0(still there)  \n11:35\u00a0<cjd>\u00a0ahh indeed  \n11:36\u00a0<Enygma`>\u00a0note: ci.xwiki.org is not responding again  \n11:36\u00a0<Enygma`>\u00a0re-running the release  \n11:38\u00a0<crocket>\u00a0cjd : I think sortool does what I want, but I still want to investigate Query Modules.  \n11:39\u00a0<cjd>\u00a0I'm not sure if you'll be able to create a comparitor on the right field but you can easily do that in like 4 lines of groovy  \n11:39\u00a0<cjd>\u00a0and you can pass the comparitor to velocity if you prefer to use that  \n11:44\u00a0<crocket>\u00a0cjd : Is that a response to my remarks?  \n11:44\u00a0<Slashman>\u00a0has joined #xwiki  \n11:46\u00a0<crocket>\u00a0Is Collection Member Declarations buggy?  \n11:48\u00a0<cjd>\u00a0crocket: it was a response, re collection member declarations, it's an HQL question since AFAIK XWQL doesn't suppose IN so it's falling through to HQL  \n11:49\u00a0<crocket>\u00a0comparitor?  \n11:49\u00a0<crocket>\u00a0cjd : Can you pastebin a sample code?  \n11:53\u00a0<crocket>\u00a0JPQL parser expects Id in place ?1 in SELECT srv FROM IN (?1) srv order by srv.port  \n12:02\u00a0<tmortagne>\u00a0there is something weird on github  \n12:02\u00a0<tmortagne>\u00a0https://github.com/xwiki/xwiki-platform/commit/1ce44faf550b6cdcc5829444e1e8331fe0565476 has been lost  \n12:03\u00a0<tmortagne>\u00a0I can't find it in https://github.com/xwiki/xwiki-platform/commits/master/xwiki-platform-core/xwiki-platform-rendering/xwiki-platform-rendering-macros/xwiki-platform-rendering-macro-code/pom.xml anymore  \n12:09\u00a0<mflorea>\u00a0has joined #xwiki  \n12:14\u00a0<crocket>\u00a0cjd : I think it's mostly hibernate issue.  \n12:30\u00a0<Enygma`>\u00a0[INFO] XWiki Platform - Tools - Packager ................. FAILURE [1:35.718s]  \n12:30\u00a0<fmancinelli>\u00a0has quit  \n12:30\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0[ERROR] The following builds failed:  \n12:30\u00a0<Enygma`>\u00a0\u00a0\u00a0\u00a0\u00a0[ERROR] \\* \u00a0package-skin/pom.xml  \n12:31\u00a0<Enygma`>\u00a0not finding the dependency org.xwiki.platform:xwiki-platform-uiextension-api:jar:4.3-milestone-2  \n12:31\u00a0<crocket>\u00a0cjd : It turned out that method calls can't be in collection member declarations.  \n12:31\u00a0<Enygma`>\u00a0but the uiextension module runs after the tools-packager module when I look at the reactor summary of maven release:perform  \n12:31\u00a0<Enygma`>\u00a0:|  \n12:32\u00a0<crocket>\u00a0It seems I need to put an object in a context, and extract the object from the context in a collection member declaration.  \n12:32\u00a0<Enygma`>\u00a0so of course it is not able to find it  \n12:32\u00a0<Enygma`>\u00a0vmassol: any idea what is going on there?  \n12:33\u00a0<Enygma`>\u00a0the goal that failed is: maven-invoker-plugin:1.5:install (integration-test) @ xwiki-platform-tool-packager-plugin  \n12:34\u00a0<vmassol>\u00a0Enygma`: having lunch right now, I'll check after  \n12:34\u00a0<vmassol>\u00a0looks like a bug  \n12:37\u00a0<Enygma`>\u00a0ok, bon apetit :)  \n12:44\u00a0<crocket>\u00a0cjd : How do I get access to xcontext in XWQL?  \n13:04\u00a0<Enygma`>\u00a0my guess is that we need to add xwiki-platform-uiextension-api as a dependency to xwiki-platform-tool-packager-plugin/pom.xml  \n13:04\u00a0<Enygma`>\u00a0this way maven will build things in the right order  \n13:06\u00a0<Enygma`>\u00a0saying this because I see that a very big group of xwiki modules are already set as dependencies this way and I assume that is what should have been done for the uiextension-api module when it was introduced  \n13:06\u00a0<Enygma`>\u00a0however, I don`t understand why this is so. Does it mean that whenever we depend on the packager plugin we also depend on the entire xwiki?  \n13:07\u00a0<Enygma`>\u00a0ok, they are runtime dependencies...  \n13:08\u00a0<Enygma`>\u00a0but still...  \n13:15\u00a0<vmassol>\u00a0back  \n13:18\u00a0<jvelo>\u00a0has joined #xwiki  \n13:19\u00a0<Enygma`>\u00a0vmassol: so what do you think about the packager-plugin? How come the xwiki-platform-uiextension-api dependency gets to be required and is just adding it to the pom.xml as a dependency the solution?  \n13:20\u00a0<vmassol>\u00a0running it locally  \n13:20\u00a0<vmassol>\u00a0I think you're right  \n13:20\u00a0<Enygma`>\u00a0well, locally it will probably work, unless you clean your repo  \n13:20\u00a0<vmassol>\u00a0I have removed uiextension from my local repo  \n13:20\u00a0<Enygma`>\u00a0since 4.3-snapshot will be found in your local repo from previous builds  \n13:21\u00a0<Enygma`>\u00a0ok  \n13:21\u00a0<vmassol>\u00a0hmm worked fine  \n13:21\u00a0<vmassol>\u00a0hmm wait  \n13:21\u00a0<Enygma`>\u00a0-Pintegration-tests  \n13:21\u00a0<vmassol>\u00a0I know  \n13:21\u00a0<vmassol>\u00a0I'm running: mvn clean install -o -Pintegration-tests  \n13:22\u00a0<vmassol>\u00a0I had som euiextension left  \n13:22\u00a0<vmassol>\u00a0building again  \n13:22\u00a0<cjd>\u00a0oh while I was having breakfast I though of what I think is the absolute most efficient solution to the test failing, we'll rename JohnSmith to AllenSmith and he will never be evicted off the front page :)  \n13:23\u00a0<vmassol>\u00a0cjd: that's a quick hack that could work (not even guaranteed) :) But 1) not a real solution and 2) it still doesn't test the LT  \n13:23\u00a0<vmassol>\u00a0(it no's guaranteed because user pages are generated randomly somewhere and they could generate a\\* names  \n13:23\u00a0<vmassol>\u00a0)  \n13:24\u00a0<cjd>\u00a0indeed, it is troublesome since the error will come back one day and noone will have the slightest clue why  \n13:24\u00a0<vmassol>\u00a0Enygma`: I don't get it, even with -o I get uiextesnion creeping up in my local repo  \n13:24\u00a0<vmassol>\u00a0oh I think I know  \n13:24\u00a0<vmassol>\u00a0the -o must not be passed to the IT  \n13:25\u00a0<crocket>\u00a0cjd : I finally gave up on using doc.getObjects with Query Modules.  \n13:25\u00a0<crocket>\u00a0It's nearly impossible for a beginner like me.  \n13:25\u00a0<Enygma`>\u00a0you should spot it in the logs if uiextensions gets downloaded from the snapshot repo  \n13:25\u00a0<cjd>\u00a0crocket: I don't know if it's possible at all, you'd have to tear in to the HQL language spec to see.  \n13:26\u00a0<crocket>\u00a0I hate this.  \n13:27\u00a0<vmassol>\u00a0Enygma`: ok so I caused the problem in XWIKI-8382  \n13:27\u00a0<vmassol>\u00a0so 4.3M2  \n13:27\u00a0<vmassol>\u00a0so yes we need a runtime dep in the pom.xml  \n13:27\u00a0<vmassol>\u00a0we need to check if thomas has also added some for the new additions he made  \n13:28\u00a0<vmassol>\u00a0Enygma`: should I add it or are you doing it?  \n13:28\u00a0<vmassol>\u00a0doing it  \n13:29\u00a0<Enygma`>\u00a0ok, go ahead  \n13:33\u00a0<vmassol>\u00a0ok done  \n13:33\u00a0<Enygma`>\u00a0ok, trying again...  \n13:33\u00a0<vmassol>\u00a0and tmortagne has done it cleanly when he added localization/security deps  \n13:37\u00a0<vmassol>\u00a0evalica: thanks for the blog post. What is http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=11201 ?  \n13:38\u00a0<vmassol>\u00a0(it's linked from your blog post)  \n13:38\u00a0<evalica>\u00a0hmm let me check  \n13:38\u00a0<vmassol>\u00a0I need to fix it in the past blog post too :)  \n13:39\u00a0<vmassol>\u00a0ah no it's correct  \n13:39\u00a0<vmassol>\u00a0for the past blog post  \n13:39\u00a0<vmassol>\u00a0;)  \n13:39\u00a0<vmassol>\u00a0you just did a copy paste  \n13:39\u00a0<vmassol>\u00a0and forgot to update the link  \n13:39\u00a0<vmassol>\u00a0you need to create a filter and create a dashboard  \n13:39\u00a0<vmassol>\u00a0(and share them)  \n13:40\u00a0<evalica>\u00a0I have a dashboard  \n13:40\u00a0<evalica>\u00a0but I don't have the sharing option to make them public  \n13:40\u00a0<vmassol>\u00a0link?  \n13:40\u00a0<vmassol>\u00a0(in case I can see it)  \n13:40\u00a0<evalica>\u00a0http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=11204  \n13:41\u00a0<vmassol>\u00a0nope I cannot  \n13:41\u00a0<evalica>\u00a0and yes I forgot about the \"full stats link\"  \n13:41\u00a0<evalica>\u00a0I think I will remove the link if I cannot make the deshboard public  \n13:41\u00a0<evalica>\u00a0and I know I cannot :)  \n13:42\u00a0<evalica>\u00a0only you and sergiu can  \n13:42\u00a0<vmassol>\u00a0wait  \n13:42\u00a0<evalica>\u00a0it's sure a rights thing  \n13:42\u00a0<vmassol>\u00a0we need to fix the rights if it's a rights thing  \n13:42\u00a0<crocket>\u00a0cjd : sorttool.sort($blah, \"port\") returns NULL  \n13:42\u00a0<vmassol>\u00a0but I'm not sure  \n13:42\u00a0<evalica>\u00a0k  \n13:42\u00a0<vmassol>\u00a0so to be sure, you edit the dashboard  \n13:42\u00a0<evalica>\u00a0I have Name, Description, Favourite  \n13:43\u00a0<vmassol>\u00a0https://www.evernote.com/shard/s119/sh/6d10fb65-3c95-40fc-947a-f5fdd7c0f1c9/264f18428dbbb915a5862f47a5a0c1f7  \n13:43\u00a0<vmassol>\u00a0you don't have the \"shared\", \"add shares\"?  \n13:43\u00a0<evalica>\u00a0I don't have any sharing options  \n13:43\u00a0<vmassol>\u00a0ok  \n13:43\u00a0<vmassol>\u00a0ok found the permission  \n13:43\u00a0<cjd>\u00a0crocket: http://www.vogella.com/blog/2009/08/04/collections-sort-java/  \n13:44\u00a0<cjd>\u00a0you can do that in Groovy  \n13:44\u00a0<vmassol>\u00a0try again  \n13:44\u00a0<vmassol>\u00a0(evalica)  \n13:44\u00a0<crocket>\u00a0cjd : Is it $sorttool.sort($var, \"port\")?  \n13:45\u00a0<crocket>\u00a0$sorttool seems missing.  \n13:45\u00a0<evalica>\u00a0vmassol: can you check again http://jira.xwiki.org/secure/Dashboard.jspa?selectPageId=11204 ?  \n13:45\u00a0<vmassol>\u00a0you need to share the fitler too  \n13:46\u00a0<vmassol>\u00a0I think  \n13:46\u00a0<evalica>\u00a0let me try  \n13:46\u00a0<vmassol>\u00a0because right now it doesn't work  \n13:46\u00a0<vmassol>\u00a0I see the dashboard but each widget has a problem  \n13:46\u00a0<vmassol>\u00a0it says\"Invalid project or filter\"  \n13:46\u00a0<evalica>\u00a0k sec  \n13:46\u00a0<crocket>\u00a0cjd : $sorttool exists, but it returns null.  \n13:46\u00a0<evalica>\u00a0vmassol: try again pls  \n13:46\u00a0<vmassol>\u00a0ok works now ::)  \n13:46\u00a0<evalica>\u00a0vmassol: thanks for testing :)  \n13:47\u00a0<vmassol>\u00a0evalica: missing affects version  \n13:47\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XE-1010  \n13:47\u00a0<vmassol>\u00a0\u00a0and  \n13:47\u00a0<vmassol>\u00a0http://jira.xwiki.org/browse/XE-1114  \n13:48\u00a0<evalica>\u00a0vmassol: well I don't know the affect version since the reported did not add that  \n13:48\u00a0<vmassol>\u00a0we should always fill the field before closing  \n13:48\u00a0<vmassol>\u00a0so you need to either guess it or ask the reporter  \n13:48\u00a0<vmassol>\u00a0usually guessing is faster ;)  \n13:48\u00a0<vmassol>\u00a0sburjan: can you fill affects for http://jira.xwiki.org/browse/XE-1010  \n13:48\u00a0<evalica>\u00a0k - I'll see after - let me fix the blog link  \n13:49\u00a0<vmassol>\u00a0evalica: also components need to be filled  \n13:49\u00a0<sburjan>\u00a0vmassol: the reporter forgot the affected version :)  \n13:50\u00a0<vmassol>\u00a0and move issue to the right project  \n13:50\u00a0<evalica>\u00a0vmassol: the components needs to be filled especially if the issue is fixed, but if it's duplicate or cannot reproduce - do we still add them mandatory?  \n13:51\u00a0<vmassol>\u00a0yes, better be clean  \n13:51\u00a0<vmassol>\u00a0especially since we have filters  \n13:52\u00a0<vmassol>\u00a0(and they'll show up otherwise or we need to exclude them)  \n13:52\u00a0<vmassol>\u00a0what I mean is that wehn closing an issue or hen reviewing issues in general  \n13:52\u00a0<vmassol>\u00a0we should do some cleanup at the same time  \n13:53\u00a0<evalica>\u00a0I usually do that - but not systematic, only on the things that pop - k I'll fix it  \n13:53\u00a0<vmassol>\u00a0I've fixed everyrting  \n13:53\u00a0<vmassol>\u00a0except the affects  \n13:53\u00a0<vmassol>\u00a0for the one created by sorin he can fill it himself  \n13:53\u00a0<vmassol>\u00a0for lud   \n13:53\u00a0<vmassol>\u00a0ludovic's issue  \n13:53\u00a0<vmassol>\u00a0it's harder  \n13:53\u00a0<vmassol>\u00a0doing it  \n13:53\u00a0<evalica>\u00a0it's a duplicate  \n13:54\u00a0<evalica>\u00a0doing the affect of one duplicate  \n13:54\u00a0<vmassol>\u00a0k  \n13:54\u00a0<sburjan>\u00a0thanks. I don't remember the affects of that one  \n13:55\u00a0<evalica>\u00a0k - added the affects - thanks for the help  \n13:55\u00a0<sburjan>\u00a0thanks evalica  \n13:55\u00a0<vmassol>\u00a0thanks  \n13:56\u00a0<vmassol>\u00a0Enygma`: does it work now?  \n13:58\u00a0<crocket>\u00a0Did anyone succeed in sorting XWiki objects with $sorttool.sort?  \n13:59\u00a0<crocket>\u00a0I just want to know if it's KEBPAC or a bug.  \n13:59\u00a0<Enygma`>\u00a0vmassol: yes, building...  \n13:59\u00a0<crocket>\u00a0PEBKAC  \n14:01\u00a0<Enygma`>\u00a0crocket: no, $sorttool.sort expects a getSomething() method when you tell it to sort by \"something\". However, XWiki objects have a map-like interface (key-value) and a generic get(\"something\") method that is not compatible with $sorttool's expectations  \n14:01\u00a0<Enygma`>\u00a0I ran into that problem myself  \n14:02\u00a0<crocket>\u00a0Enygma`, What do you recommend?  \n14:02\u00a0<crocket>\u00a0Use comparator with groovy?  \n14:02\u00a0<Enygma`>\u00a0if you`re in groovy, then yes, general Collection sorting solutions, like a comparator  \n14:02\u00a0<crocket>\u00a0Enygma`, If I use velocity?  \n14:02\u00a0<Enygma`>\u00a0but you`ve mentioned $sorttool and that`s velocity  \n14:02\u00a0<Enygma`>\u00a0in velocity, manual sorting :)  \n14:03\u00a0<crocket>\u00a0That's ... That's...  \n14:03\u00a0<crocket>\u00a0bad  \n14:03\u00a0<Enygma`>\u00a0or build your own structure that is sortable my sorttool  \n14:03\u00a0<Enygma`>\u00a0I have to go to lunch now, be back later :)  \n14:03\u00a0<crocket>\u00a0Is there any groovy macro that does it?  \n14:04\u00a0<vmassol>\u00a0jvdrean: there's still a bug in AWM  \n14:04\u00a0<vmassol>\u00a0when editing an app it removes the icon  \n14:04\u00a0<vmassol>\u00a0it would be good to fix this for 4.3  \n14:09\u00a0<jvdrean>\u00a0vmassol: ha ?  \n14:10\u00a0<jvdrean>\u00a0vmassol: indeed  \n14:10\u00a0<vmassol>\u00a0mflorea: the LT is working fine now :)  \n14:10\u00a0<vmassol>\u00a0for users  \n14:11\u00a0<vmassol>\u00a0didn't realize you had fixed it!  \n14:12\u00a0<mflorea>\u00a0:) yeah, it was fixed while I was fixing something else (the share page feature).  \n14:13\u00a0<mflorea>\u00a0the userPicker.css is included now if the sharePage menu is present, which is almost always the case  \n14:13\u00a0<mflorea>\u00a0hmm, except guest users  \n14:13\u00a0<mflorea>\u00a0so it's not a perfect fix  \n14:15\u00a0<mflorea>\u00a0but you can always $xwiki.ssfx.use('uicomponents/widgets/userpicker/userPicker.css', true) in the page where you have the live table  \n14:16\u00a0<vmassol>\u00a0mflorea: my use case is a AWM demo  \n14:16\u00a0<vmassol>\u00a0so I cannot edit the page during the demo ;)  \n14:16\u00a0<vmassol>\u00a0(but it works now for me so good)  \n14:17\u00a0<vmassol>\u00a0haven't tried with more than 1 user though  \n14:17\u00a0<mflorea>\u00a0sure, I still need to change AWM to pull the userPicker.css if one of the columns is of type User  \n14:18\u00a0<mflorea>\u00a0just be careful that it won't work when you logoff (with guest user)  \n14:18\u00a0<crocket>\u00a0Are XWiki Object Map<T>?  \n14:18\u00a0<vmassol>\u00a0ah indeed  \n14:18\u00a0<crocket>\u00a0Are XWiki Objects Map<T>?  \n14:18\u00a0<vmassol>\u00a0if you could fix this before tromorrow I'd feel safer mflorea :)  \n14:19\u00a0<mflorea>\u00a0:) I'll work on it  \n14:19\u00a0<vmassol>\u00a0thanks  \n14:19\u00a0<crocket>\u00a0I want to implement a Comparator for XWiki Objects.  \n14:20\u00a0<mflorea>\u00a0right now I'm dealing with the WYSIWYG editor tests. It seems that key events are not send with any version of FF greater than 11, so we can't upgrade FF on CI, and this breaks other ui-tests, because Selenium 2 works best with latest version of FF  \n14:22\u00a0<cjd>\u00a0crocket: http://nexus.xwiki.org/nexus/service/local/repositories/releases/archive/org/xwiki/platform/xwiki-platform-oldcore/4.2/xwiki-platform-oldcore-4.2-javadoc.jar/!/index.html  \n14:23\u00a0<crocket>\u00a0nexus  \n14:37\u00a0<crocket>\u00a0cjd : I'm still clueless.  \n14:40\u00a0<crocket>\u00a0cjd : those classes don't provide information regarding data type.  \n14:40\u00a0<crocket>\u00a0Without data type, I can't compare variables.  \n14:40\u00a0<cjd>\u00a0object.getProperty('port').getValue() gives you the actual integer  \n14:44\u00a0<crocket>\u00a0cjd : But it is still of Object type.  \n14:44\u00a0<crocket>\u00a0I want to make a generic comparator.  \n14:45\u00a0<crocket>\u00a0I don't want to hardcode types into my code.  \n14:52\u00a0<tmortagne>\u00a0mflorea: did you fixed https://github.com/xwiki/xwiki-enterprise/commit/fb50f1ad44851a3ba34eeff696d8dbd955b565c4 or should I do it ?  \n14:53\u00a0<mflorea>\u00a0I have the commit pending for 4.3RC1 (I'm waiting for edy to finish the release)  \n14:54\u00a0<tmortagne>\u00a0ok  \n15:24\u00a0<jvdrean>\u00a0has quit  \n15:24\u00a0<jvdrean>\u00a0has joined #xwiki  \n16:22\u00a0<qwebirc3193>\u00a0has joined #xwiki  \n16:23\u00a0<qwebirc3193>\u00a0Hi, how can I set the font of the Edit: Wiki mode to a monospaced font?  \n16:27\u00a0<tmortagne>\u00a0qwebirc3193: depends of the syntax, see http://www.xwiki.org/xwiki/bin/view/XWiki/XWikiSyntax#HTextFormatting  \n16:28\u00a0<Enygma`>\u00a0vmassol: is the \"Macro (Velocity)\" category deprecated?  \n16:28\u00a0<vmassol>\u00a0yes  \n16:29\u00a0<vmassol>\u00a0it's not a valid packaging format  \n16:29\u00a0<tmortagne>\u00a0well depends what the page is about  \n16:29\u00a0<Enygma`>\u00a0so why don`t we move the existing entries and delete it?  \n16:29\u00a0<tmortagne>\u00a0if its documentation about some macro.vm macros  \n16:30\u00a0<vmassol>\u00a0yes it was there to document existing macros.vm macros  \n16:30\u00a0<vmassol>\u00a0exist  \n16:30\u00a0<vmassol>\u00a0yes  \n16:30\u00a0<tmortagne>\u00a0so it's deprecated for XAR extensions basically  \n16:30\u00a0<tmortagne>\u00a0which should be or type XAR  \n16:31\u00a0<vmassol>\u00a0Enygma`: I don't think so  \n16:31\u00a0<tmortagne>\u00a0Enygma`: not really  \n16:31\u00a0<tmortagne>\u00a0the issue is, where would you install it  \n16:31\u00a0<vmassol>\u00a0what could be provided  \n16:31\u00a0<Enygma`>\u00a0then wdym by \"vmassol: it's not a valid packaging format\" ?  \n16:31\u00a0<vmassol>\u00a0is the notion of filesystem resource  \n16:31\u00a0<vmassol>\u00a0supported by the EM  \n16:31\u00a0<vmassol>\u00a0so that you could package a skin as filesystem resources for ex  \n16:32\u00a0<vmassol>\u00a0Enygma`: not supported by EM basically  \n16:32\u00a0<tmortagne>\u00a0not sure I see the relationship with snippet  \n16:32\u00a0<vmassol>\u00a0tmortagne: none  \n16:32\u00a0<vmassol>\u00a0but  \n16:32\u00a0<vmassol>\u00a0someone could want to provide a set of velocity macros packaged in a vm file  \n16:33\u00a0<tmortagne>\u00a0he could provide it in a XAR  \n16:33\u00a0<vmassol>\u00a0how?  \n16:33\u00a0<tmortagne>\u00a0well he put thoses in a wiki page you include  \n16:33\u00a0<vmassol>\u00a0they would need to be global velocimacros too btw  \n16:33\u00a0<tmortagne>\u00a0there is several like this already AFAIK  \n16:33\u00a0<vmassol>\u00a0yes that's one trick  \n16:33\u00a0<vmassol>\u00a0althugh velocimacros are better suited  \n16:34\u00a0<vmassol>\u00a0depedns on the scope you wish to have  \n16:34\u00a0<tmortagne>\u00a0having your macro in a vm file is not going to make them usuable everywhere  \n16:34\u00a0<tmortagne>\u00a0that's only macro.vm  \n16:34\u00a0<vmassol>\u00a0nope  \n16:34\u00a0<vmassol>\u00a0we have a config property  \n16:34\u00a0<vmassol>\u00a0xwiki.render.velocity.macrolist  \n16:34\u00a0<vmassol>\u00a0which is a list of vms  \n16:34\u00a0<vmassol>\u00a0(comma-separated)  \n16:35\u00a0<vmassol>\u00a0for global velocimacros  \n16:35\u00a0<tmortagne>\u00a0not very fun to have to modify the conf file for an extension installed with EM  \n16:35\u00a0<vmassol>\u00a0see DefaultVelocityManager)  \n16:35\u00a0<vmassol>\u00a0it would be easy to make this compoentns if we wanted but not sure if we want that  \n16:36\u00a0<tmortagne>\u00a0IMO we could add a kind of automatic include to some wiki pages same as ssx and jsx  \n16:36\u00a0<vmassol>\u00a0that could be nice  \n16:36\u00a0<vmassol>\u00a0note that we need to recreate a velocity engine every time it's saved  \n16:36\u00a0<tmortagne>\u00a0but yes I'm not sure it's a valid use case  \n16:37\u00a0<qwebirc3193>\u00a0no, I mean, ist it possible to set the font of the editor?  \n16:38\u00a0<qwebirc3193>\u00a0right now I am editing wiki syntax in a sans-serif font  \n16:38\u00a0<vmassol>\u00a0so when you're writing vms/skins you are forced to use velocity macros if you wish to share code  \n16:38\u00a0<tmortagne>\u00a0vmassol: sure but we want to support wiki syntax in template in the future  \n16:39\u00a0<vmassol>\u00a0yep  \n16:39\u00a0<vmassol>\u00a0now even if that were true  \n16:39\u00a0<vmassol>\u00a0we would need to be able to \"hide\" some macros  \n16:39\u00a0<vmassol>\u00a0so that end users don't see internal macros  \n16:40\u00a0<qwebirc3193>\u00a0vmassol: yeah I figured as much. is there a good way to create a matching css class?  \n16:40\u00a0<vmassol>\u00a0qwebirc3193: use a style sheet extension  \n16:40\u00a0<vmassol>\u00a0!search ssx  \n16:41\u00a0<vmassol>\u00a0come on bot....  \n16:42\u00a0<xwikibot>\u00a0has joined #xwiki  \n16:42\u00a0<Enygma`>\u00a0btw, what`s with all the errors the bot has been popping recently?  \n16:42\u00a0<vmassol>\u00a0some bugs  \n16:42\u00a0<vmassol>\u00a0of xwiki  \n16:42\u00a0<Enygma`>\u00a0Build complete, master is free.  \n16:43\u00a0<vmassol>\u00a0I'm planning to modify the bot to hide them but these are real bugs  \n16:43\u00a0<vmassol>\u00a0(this one I've fixed to show Guest instead of null ;))  \n16:43\u00a0<vmassol>\u00a0and to not fail to compute URL  \n16:44\u00a0<Enygma`>\u00a0:)  \n16:44\u00a0<vmassol>\u00a0they are the classes created on startup  \n16:44\u00a0<vmassol>\u00a0the first time you access a subwiki  \n16:45\u00a0<vmassol>\u00a0this means xwiki.org is back  \n16:45\u00a0<vmassol>\u00a0at least the bot restarts nicely now  \n16:45\u00a0<vmassol>\u00a0grr  \n16:48\u00a0<cjd>\u00a0\u00a0\u00a0\u00a0\u00a0public String getVersionHashCode(XWikiContext context) <-- Ludo is such a C programmer  \n16:49\u00a0<cjd>\u00a0actually that could be newer but it certainly looks like C  \n16:52\u00a0<qwebirc3193>\u00a0vmassol: thanks, that worked. I set #xwikieditcontent textarea#content  \n16:52\u00a0<qwebirc3193>\u00a0ist that right?  \n16:56\u00a0<vmassol>\u00a0qwebirc3193: dunno, probably if it works :)  \n16:56\u00a0<qwebirc3193>\u00a0vmassol: cool, thanks!  \n17:00\u00a0<qwebirc3193>\u00a0Is there a way to sum up columns in a table written in wiki syntax?  \n17:02\u00a0<vmassol>\u00a0qwebirc3193: that used to be possible in syntax 1.0 but not in syntax 2.0...  \n17:03\u00a0<vmassol>\u00a0I remember seeing some extension for this though  \n17:03\u00a0<qwebirc3193>\u00a0vmassol: aaah, that explains a lot  \n17:03\u00a0<vmassol>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/Calc+Macro  \n17:05\u00a0<qwebirc3193>\u00a0yeah, that's perfect, thanks  \n17:06\u00a0<tmortagne>\u00a0sburjan: question for you on XWIKI-8328  \n17:07\u00a0<tmortagne>\u00a0Enygma` I guess :)  \n17:07\u00a0<cjd>\u00a0As in can I commit against platform?  \n17:07\u00a0<tmortagne>\u00a0I have the same question  \n17:08\u00a0<sburjan>\u00a0tmortagne: is it OK if I will test importing twice tomorrow ?  \n17:08\u00a0<tmortagne>\u00a0sburjan: sure, just an idea  \n17:08\u00a0<tmortagne>\u00a0pretty the that's the issue  \n17:08\u00a0<sburjan>\u00a0tmortagne: ok. I will reply on the issue and ping you after  \n17:09\u00a0<tmortagne>\u00a0we did a hack for the wiki macro for this exact same issue: rescan the whole wiki after a XAR has been imported  \n17:09\u00a0<tmortagne>\u00a0would be nice if we could fine something nicer now  \n17:09\u00a0<tmortagne>\u00a0since we are starting to have a lot of things like this: translations, wiki macro, ui extension, jsx/ssx, wiki components, etc.  \n17:10\u00a0<sburjan>\u00a0tmortagne: it's odd that it only happens on Oracle.  \n17:10\u00a0<tmortagne>\u00a0not jsx/ssx actually  \n17:10\u00a0<tmortagne>\u00a0sburjan: it's probably a coincidence in Oracle or something else make it more visible  \n17:10\u00a0<tmortagne>\u00a0in theory there is no reason for it to never happen at some point on any database  \n17:11\u00a0<tmortagne>\u00a0so we need to find a solution anyway  \n17:15\u00a0<qwebirc3193>\u00a0okay guys, thank you very much, have a great day!  \n17:15\u00a0<vmassol>\u00a0u2  \n17:19\u00a0<qwebirc3193>\u00a0has quit  \n17:22\u00a0<vmassol1>\u00a0has joined #xwiki  \n17:24\u00a0<vmassol>\u00a0has quit  \n17:29\u00a0<Enygma`>\u00a0cjd: (05:42:43 PM) Enygma`: Build complete, master is free.  \n17:29\u00a0<Enygma`>\u00a0(GMT+2 time, of course :) )  \n17:29\u00a0<Enygma`>\u00a0so yes, you can commit on master  \n17:36\u00a0<cjd>\u00a0cool thanks  \n17:38\u00a0<jvelo>\u00a0has left #xwiki  \n17:38\u00a0<jvelo>\u00a0has joined #xwiki  \n17:54\u00a0<Enygma`>\u00a0crocket: not sure if you need it anymore, but here's a workaround for sorting XWiki objects in Velocity: http://extensions.xwiki.org/xwiki/bin/view/Extension/Sort+a+list+of+XWiki+objects  \n18:19\u00a0<Enygma`>\u00a0vmassol1: any idea why I get this wile running clirr on xwiki-platform-legacy-oldcore? http://pastebin.com/Brm8An2z  \n18:19\u00a0<Enygma`>\u00a0[ERROR] com.sun.syndication.fetcher.impl.AbstractFeedFetcher not found.  \n18:20\u00a0<vmassol1>\u00a0interesting  \n18:20\u00a0<vmassol1>\u00a0I think tmortagne changed something  \n18:20\u00a0<Enygma`>\u00a0trying to generate the clirr report for xwiki-platform. Got 2 network issues and kept resuming the process, but now I can`t get past this one  \n18:20\u00a0<vmassol1>\u00a0is now known as <vmassol>  \n18:20\u00a0<vmassol>\u00a0tmortagne changed the version of rome by using a common version in the top level pom  \n18:20\u00a0<vmassol>\u00a0my guess is that this broke clirr somehow  \n18:21\u00a0<vmassol>\u00a0well not clirr but the execution of clirr  \n18:21\u00a0<vmassol>\u00a0what can happen:  \n18:21\u00a0<vmassol>\u00a0we were using an old api from rome  \n18:21\u00a0<vmassol>\u00a0which we have put in legacy  \n18:21\u00a0<vmassol>\u00a0and thomas updated to the \"latest\" rome  \n18:21\u00a0<vmassol>\u00a0which doens't have this api anymore  \n18:22\u00a0<vmassol>\u00a0something like this maybe  \n18:22\u00a0<vmassol>\u00a0the issue is http://jira.xwiki.org/jira/browse/XWIKI-8387  \n18:23\u00a0<vmassol>\u00a0-\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<groupId>net.java.dev.rome</groupId>  \n18:23\u00a0<vmassol>\u00a0+\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<groupId>rome</groupId>  \n18:23\u00a0<vmassol>\u00a0so maybe they're different....  \n18:23\u00a0<vmassol>\u00a0we need to check if AbstractFeedFetcher is in the rome groupid artifact  \n18:24\u00a0<Enygma`>\u00a0but why is this failing at clirr and not at the tests?  \n18:24\u00a0<Enygma`>\u00a0or we don`t have any test that hits that functionality  \n18:25\u00a0<vmassol>\u00a0hmm I can't find AbstractFeedFetcher in any rome jar  \n18:25\u00a0<vmassol>\u00a0ah it's in rome-fetcher  \n18:25\u00a0<vmassol>\u00a0http://grepcode.com/file/repo1.maven.org/maven2/net.java.dev.rome/rome-fetcher/1.0.0/com/sun/syndication/fetcher/impl/AbstractFeedFetcher.java  \n18:26\u00a0<vmassol>\u00a0which was included transitively from net.java.dev.rome rome 1.0 I guess  \n18:26\u00a0<vmassol>\u00a0tmortagne: ping  \n18:27\u00a0<vmassol>\u00a0and I don't see it included from rome:rome:1.0  \n18:27\u00a0<vmassol>\u00a0so that explains it  \n18:27\u00a0<Enygma`>\u00a0seems to be included here https://github.com/xwiki/xwiki-platform/commit/f2c311ebc4e9182814684da7f60d78c94148e8b9#diff-0  \n18:27\u00a0<Enygma`>\u00a0but maybe that's just dependencyManagement  \n18:29\u00a0<vmassol>\u00a0actually no  \n18:29\u00a0<vmassol>\u00a0we include rome-fetcher in oldocre:  \n18:29\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<dependency>  \n18:29\u00a0<vmassol>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0<version>1.0</version>  \n18:30\u00a0<Enygma`>\u00a0also in ./xwiki-platform-core/xwiki-platform-feed/xwiki-platform-feed-api/pom.xml  \n18:31\u00a0<vmassol>\u00a0so you can do a help:effective-pom to see if you get it  \n18:32\u00a0<Enygma`>\u00a0I also have the full build log, maybe we can see where it is coming from http://pastebin.com/Tv0eW1i5  \n18:33\u00a0<vmassol>\u00a0since it was working before I'm pretty sure it's been caused by tmortagne's change somehow (don't know why though)  \n18:33\u00a0<vmassol>\u00a0tmortagne: maybe you could have a look?  \n18:34\u00a0<vmassol>\u00a0but it should fail on jenkins too since we run with the legacy profie AFAIK  \n18:35\u00a0<vmassol>\u00a0yes we do (just checked)  \n18:35\u00a0<tmortagne>\u00a0vmassol: I did not changed the version of rome  \n18:35\u00a0<vmassol>\u00a0I know but you touched it  \n18:35\u00a0<tmortagne>\u00a0I just used the same groupid everywhere  \n18:35\u00a0<vmassol>\u00a0and suddenly clirr fails  \n18:35\u00a0<vmassol>\u00a0so I just connected the dots  \n18:36\u00a0<vmassol>\u00a0yes supposed  \n18:36\u00a0<vmassol>\u00a0now we need to understand why it fails  \n18:36\u00a0<Enygma`>\u00a0effective pom: http://pastebin.com/Ubckq4nb  \n18:37\u00a0<vmassol>\u00a0Enygma`: how do you build?  \n18:37\u00a0<vmassol>\u00a0my local build works fine  \n18:37\u00a0<Enygma`>\u00a0mvn clirr:check -DfailOnError=false -DtextOutputFile=clirr.txt -Plegacy,integration-tests -rf :xwiki-platform-legacy-oldcore -e -X  \n18:37\u00a0<Enygma`>\u00a0just remove the -rf part  \n18:38\u00a0<Enygma`>\u00a0I`ll try to build again from the beginning, maybe the previous interruptions are causing problems...  \n18:38\u00a0<vmassol>\u00a0I don't get any error with your command line  \n18:39\u00a0<vmassol>\u00a0(I just built legacy-oldocre)  \n18:40\u00a0<Enygma`>\u00a0running again from xwiki-platform  \n18:41\u00a0<Enygma`>\u00a0[INFO] XWiki Platform - Legacy - Old Core ................ FAILURE [5.961s]  \n18:41\u00a0<Enygma`>\u00a0[ERROR] com.sun.syndication.fetcher.impl.AbstractFeedFetcher not found.  \n18:43\u00a0<tmortagne>\u00a0as far as I can see AbstractFeedFetcher is in rome:rome-fetcher jar  \n18:43\u00a0<tmortagne>\u00a0so I don't see why it can't find it  \n18:43\u00a0<Enygma`>\u00a0same if I run from the submodule...  \n18:44\u00a0<Enygma`>\u00a0are you using the xwiki-platform-4.3-milestone-2 tag?  \n18:44\u00a0<tmortagne>\u00a0and since jenkins doed not have any issue there is something weird in your environment, try to remove rome-fetcher from your local repository  \n18:44\u00a0<Enygma`>\u00a0ok, will try removing local rome  \n18:44\u00a0<tmortagne>\u00a0maybe the jar is broken  \n18:44\u00a0<tmortagne>\u00a0would not be the first time  \n18:45\u00a0<tmortagne>\u00a0(not for this jar but it's the first time I see a broken jar in local maven repository)  \n18:45\u00a0<tmortagne>\u00a0\\*it's not  \n18:46\u00a0<Enygma`>\u00a0I also see ./net/java/dev/rome  \n18:46\u00a0<Enygma`>\u00a0in .m2/repository/  \n18:46\u00a0<tmortagne>\u00a0sure that's the old one  \n18:46\u00a0<Enygma`>\u00a0going to delete that too, to be safe  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/rome/rome/1.0/rome-1.0.jar (215 KB at 83.1 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome/1.0.0/rome-1.0.0.pom (10 KB at 1.3 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome-fetcher/1.0.0/rome-fetcher-1.0.0.pom (9 KB at 6.8 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/rome/rome/0.9/rome-0.9.pom (4 KB at 4.8 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloading: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome/1.0.0/rome-1.0.0.jar  \n18:48\u00a0<Enygma`>\u00a0Downloading: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome-fetcher/1.0.0/rome-fetcher-1.0.0.jar  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome-fetcher/1.0.0/rome-fetcher-1.0.0.jar (30 KB at 15.7 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/net/java/dev/rome/rome/1.0.0/rome-1.0.0.jar (216 KB at 82.3 KB/sec)  \n18:48\u00a0<Enygma`>\u00a0Downloaded: http://nexus.xwiki.org/nexus/content/groups/public/rome/rome/0.9/rome-0.9.jar (204 KB at 49.3 KB/sec)  \n18:48\u00a0<tmortagne>\u00a0Enygma`: what are you building ?  \n18:48\u00a0<Enygma`>\u00a0something wrong is going on here  \n18:49\u00a0<Enygma`>\u00a0xwiki-platform/xwiki-platform-core/xwiki-platform-legacy/xwiki-platform-legacy-oldcore  \n18:49\u00a0<Enygma`>\u00a0all of those get downloaded when I run \u00a0mvn clirr:check -DfailOnError=false -DtextOutputFile=clirr.txt -Plegacy,integration-tests in the legacy-oldcore module  \n18:49\u00a0<tmortagne>\u00a0then indeed it's impossible maven get several version of the same jar in the same build in theory  \n18:49\u00a0<tmortagne>\u00a0or maybe some maven plugin use rome  \n18:51\u00a0<Enygma`>\u00a0also, note that rome-fetcher comes only from java.dev, not from simple rome  \n18:52\u00a0<Enygma`>\u00a0I don`t have any .m2/repository/rome/rome-fetcher  \n18:52\u00a0<tmortagne>\u00a0according to m2e legacy-oldcore only have a dependency on rome:rome throug tika (and through office-importer)  \n18:52\u00a0<tmortagne>\u00a0have to go, will try to reproduce later  \n18:52\u00a0<Enygma`>\u00a0ok...  \n18:53\u00a0<Enygma`>\u00a0I will just skip this step for now in the release process  \n18:57\u00a0<evalica>\u00a0has quit  \n19:12\u00a0<tmortagne>\u00a0Enygma`: CLIRR works well in mvn clean install  \n19:12\u00a0<tmortagne>\u00a0trying CLIRR check alone  \n19:12\u00a0<tmortagne>\u00a0works well too  \n19:13\u00a0<tmortagne>\u00a0I can't reproduce the issue you have in my side  \n19:13\u00a0<tmortagne>\u00a0(used mvn clirr:check -DfailOnError=false -DtextOutputFile=clirr.txt -Plegacy,integration-tests)  \n19:13\u00a0<tmortagne>\u00a0s/in my side/on my side/  \n19:13\u00a0<tmortagne>\u00a0chekcing this rome dowload thing  \n19:15\u00a0<tmortagne>\u00a0Enygma`: I thin kI know where where all those rome version come from  \n19:16\u00a0<tmortagne>\u00a0there is the version from 4.3-SNAPSHOT and the version triggered by 4.2  \n19:16\u00a0<mflorea>\u00a0has quit  \n19:16\u00a0<tmortagne>\u00a0it's downloaded only when the clirr plugin is started  \n19:16\u00a0<tmortagne>\u00a0so it's probably normal  \n19:17\u00a0<tmortagne>\u00a0now I don't have any idea why CLIRR is falling for you  \n19:18\u00a0<mflorea>\u00a0has joined #xwiki  \n19:18\u00a0<Enygma`>\u00a0tmortagne: not sure if this matters, but have you removed the exclusions?  \n19:19\u00a0<tmortagne>\u00a0Enygma`: no  \n19:19\u00a0<tmortagne>\u00a0reviewing them  \n19:20\u00a0<Enygma`>\u00a0I have removed the ignored tag and the excludes  \n19:20\u00a0<Enygma`>\u00a0kept internal and test  \n19:20\u00a0<tmortagne>\u00a0the only thing related is the exclude on feed plugin but I don't think oldcore depends on it, removing them anyway  \n19:21\u00a0<tmortagne>\u00a0Enygma`: \"Succeeded with 22 errors; 0 warnings; and 0 other changes.\"  \n19:21\u00a0<tmortagne>\u00a0you want the txt ? :)  \n19:22\u00a0<Enygma`>\u00a0yes please :)  \n19:23\u00a0<Slashman>\u00a0has quit  \n19:24\u00a0<tmortagne>\u00a0Enygma`: you can remove all the \u00a0com.xpn.xwiki.plugin.feed.\\* errors  \n19:26\u00a0<Enygma`>\u00a0wdym?  \n19:26\u00a0<tmortagne>\u00a0we moved the feed plugin in its own module so thoses are not real breakage  \n19:26\u00a0<Enygma`>\u00a0ok  \n19:26\u00a0<tmortagne>\u00a0from general XWiki point of view  \n19:26\u00a0<Enygma`>\u00a0thanks for the file  \n19:27\u00a0<Enygma`>\u00a0it worked for mflorea too  \n19:27\u00a0<tmortagne>\u00a0anyway I think it's indicated in the pom.xml  \n19:27\u00a0<Enygma`>\u00a0only for me it did not work...  \n19:27\u00a0<Enygma`>\u00a0:|  \n19:27\u00a0<tmortagne>\u00a0Enygma`: will try to debug it in the agent tomorrow  \n19:27\u00a0<tmortagne>\u00a0or when you are done with the release  \n19:27\u00a0<Enygma`>\u00a0the agent should be free  \n19:27\u00a0<Enygma`>\u00a0I am having this problem on my local machine  \n19:27\u00a0<tmortagne>\u00a0not today for sure or I'm going to have problems :)  \n19:28\u00a0<Enygma`>\u00a0anyway, I will continue tomorrow with announcing the release, since it`s too late today  \n19:28\u00a0<Enygma`>\u00a0have a nice evening :), I`m off  \n19:28\u00a0<tmortagne>\u00a0you too  \n19:29\u00a0<mflorea>\u00a0has quit  \n19:29\u00a0<tmortagne>\u00a0has quit  \n19:30\u00a0<Enygma`>\u00a0has quit  \n19:38\u00a0<coud12>\u00a0has joined #xwiki  \n19:43\u00a0<abusenius>\u00a0has joined #xwiki  \n20:13\u00a0<coud12>\u00a0has quit  \n20:14\u00a0<coud12>\u00a0has joined #xwiki  \n20:31\u00a0<sburjan>\u00a0do we have somewhere documented the smart forms XWiki uses ? \\_0\\_propertyname ?  \n20:44\u00a0<coud12>\u00a0has quit  \n20:44\u00a0<coud12>\u00a0has joined #xwiki  \n20:51\u00a0<coud12>\u00a0has quit  \n20:51\u00a0<coud12>\u00a0has joined #xwiki  \n21:00\u00a0<jvelo>\u00a0has quit  \n21:12\u00a0<coud12>\u00a0has quit  \n22:14\u00a0<sburjan>\u00a0has quit  \n23:18\u00a0<vmassol>\u00a0has quit  \n23:49\u00a0<vmassol>\u00a0has joined #xwiki  \n23:59\u00a0<vmassol>\u00a0has quit\n"}