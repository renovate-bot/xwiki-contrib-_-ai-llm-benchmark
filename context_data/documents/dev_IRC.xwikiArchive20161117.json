{"id": "dev:IRC.xwikiArchive20161117", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20161117", "title": "IRC Archive for channel #xwiki on 17 November 2016 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<mflorea>\u00a0has joined #xwiki  \n07:32\u00a0<sdumitriu1>\u00a0has quit  \n08:13\u00a0<mflorea>\u00a0has quit  \n09:06\u00a0<mflorea>\u00a0has joined #xwiki  \n09:09\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:10\u00a0<msmeria>\u00a0has joined #xwiki  \n09:23\u00a0<edvorg>\u00a0has joined #xwiki  \n09:29\u00a0<vmassol>\u00a0has joined #xwiki  \n09:32\u00a0<vmassol>\u00a0good morning everyine  \n09:32\u00a0<vmassol>\u00a0in the last watchlist mail for xwiki.org I see a modification done by Admin  \n09:32\u00a0<vmassol>\u00a0is that normal?  \n09:32\u00a0<vmassol>\u00a0On 2016/11/16, the page has been modified by Admin  \n09:32\u00a0<vmassol>\u00a0for http://extensions.xwiki.org/xwiki/bin/view/Extension/PDF+Viewer+Macro  \n09:32\u00a0<vmassol>\u00a0do we have scheduler jobs running as Admin?  \n09:33\u00a0<vmassol>\u00a0answering myself: we do  \n09:33\u00a0<vmassol>\u00a0the BatchImporterScheduler one runs as admin apparently  \n09:34\u00a0<tmortagne>\u00a0vmassol: see the summary of those changes  \n09:34\u00a0<vmassol>\u00a0and same for UpdateInstalledExtensionCountScheduler  \n09:34\u00a0<vmassol>\u00a0the summary was a change of scm urml  \n09:34\u00a0<vmassol>\u00a0\\*irl  \n09:34\u00a0<vmassol>\u00a0\\*url  \n09:34\u00a0<vmassol>\u00a0I just hadn't realized we were using the admin user on xwiki.org  \n09:34\u00a0<tmortagne>\u00a0I was talking about the message, not the diff  \n09:35\u00a0<vmassol>\u00a0I don't see it in the watchlist mail  \n09:35\u00a0<tmortagne>\u00a0sure but you have it in the page  \n09:35\u00a0<vmassol>\u00a0would be a good thing to add btw  \n09:35\u00a0<vmassol>\u00a0(to the watchlist mail)  \n09:35\u00a0<tmortagne>\u00a0the watchlist email need to be rewritten anyway  \n09:37\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:58\u00a0<msmeria1>\u00a0has joined #xwiki  \n10:00\u00a0<Slashman>\u00a0has joined #xwiki  \n10:02\u00a0<msmeria>\u00a0has quit  \n10:12\u00a0<edvorg>\u00a0has quit  \n11:07\u00a0<itz>\u00a0has joined #xwiki  \n11:07\u00a0<itz>\u00a0hi there .. i have installed xwiki 8.4 at the moment, its running in a linux (tomcat+mariadb) environment  \n11:08\u00a0<itz>\u00a0now i have to add ldap authentication, but i just cant import it. i put it into the /lib directory and added the line in the xwiki.cfg but it just dont get imported  \n11:09\u00a0<itz>\u00a0and i cant install it through the extension manager, because i have to internet acces in this network  \n11:10\u00a0<tmortagne>\u00a0itz: you are mixing different things here, putting a jar in /lib folder is enough to install it  \n11:10\u00a0<tmortagne>\u00a0what needs to be imported is XAR files  \n11:11\u00a0<tmortagne>\u00a0now the LDAP authenticator JAR is not enough, you also need its dependencies  \n11:12\u00a0<itz>\u00a0ah ok, so i need those other 2 files that are given on the bottom of this page? http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Application/  \n11:12\u00a0<tmortagne>\u00a0http://search.maven.org/remotecontent?filepath=com/novell/ldap/jldap/4.3/jldap-4.3.jar  \n11:13\u00a0<tmortagne>\u00a0you need http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/ and the dependency I pasted above  \n11:13\u00a0<itz>\u00a0ok i will try it ty :)  \n11:13\u00a0<tmortagne>\u00a0http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Application/ is only is you can't to configure LDAP using a UI  \n11:13\u00a0<tmortagne>\u00a0if you use xwiki.cfg you are fine with the jars  \n11:13\u00a0<tmortagne>\u00a0s/you can't/you wan't/  \n11:14\u00a0<itz>\u00a0so http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Application/ i only need if i wanna configure in the UI?  \n11:15\u00a0<tmortagne>\u00a0yes  \n11:15\u00a0<itz>\u00a0and the jldap is enough when i use the xwiki.cfg way?  \n11:15\u00a0<tmortagne>\u00a0actually I forgot another jar  \n11:16\u00a0<tmortagne>\u00a0you also need http://maven.xwiki.org/releases/org/xwiki/contrib/ldap/ldap-api/9.1/ldap-api-9.1.jar  \n11:16\u00a0<tmortagne>\u00a0authenticator dependens on api which depends on jldap  \n11:16\u00a0<tmortagne>\u00a0s/dependens/depends/  \n11:17\u00a0<tmortagne>\u00a0jldap is just a library to do LDAP stuff  \n11:17\u00a0<tmortagne>\u00a0it's used by the LDAP authenticator  \n11:18\u00a0<itz>\u00a0ah ok, i see  \n11:18\u00a0<itz>\u00a0give me a minute i will try it out  \n11:19\u00a0<itz>\u00a0i still need to add this \"xwiki.authentication.authclass=org.xwiki.contrib.ldap.XWikiLDAPAuthServiceImpl\" to the xwiki.cfg right?  \n11:20\u00a0<tmortagne>\u00a0yes, that's configuration  \n11:20\u00a0<evalica>\u00a0has joined #xwiki  \n11:21\u00a0<tmortagne>\u00a0whatever the way you install the authenticator you still need to follow http://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/#HDescription  \n11:21\u00a0<Enygma`>\u00a0has joined #xwiki  \n11:30\u00a0<itz>\u00a0the authentication doesnt work so far  \n11:30\u00a0<itz>\u00a0i used the same config i was using before with older wikis  \n11:30\u00a0<tmortagne>\u00a0itz: the best to understand what is wrong is usually to enabled debug log  \n11:32\u00a0<gdelhumeau>\u00a0About XWIKI-13861, I am currently writing a minimal fix by introducing a DocumentSaveListener  \n11:32\u00a0<gdelhumeau>\u00a0But I wonder if we should also introduce a migrator (which is always a bit dangerous/painful) to affect existing blog articles  \n11:33\u00a0<gdelhumeau>\u00a0I would say no, because users have lived with the current state for years now  \n11:33\u00a0<tmortagne>\u00a0gdelhumeau: cannot use a database migrator for that since blog is an optional extension  \n11:33\u00a0<gdelhumeau>\u00a0on the other hand, it make an inconsistency between old and new posts  \n11:33\u00a0<gdelhumeau>\u00a0you're right  \n11:33\u00a0<tmortagne>\u00a0so you would need some custom blog migrator  \n11:34\u00a0<gdelhumeau>\u00a0so it can only be a component that the user need to call manually  \n11:34\u00a0<tmortagne>\u00a0no  \n11:34\u00a0<tmortagne>\u00a0it can still be automatied  \n11:34\u00a0<gdelhumeau>\u00a0or something loaded at each blog read  \n11:34\u00a0<tmortagne>\u00a0no  \n11:34\u00a0<tmortagne>\u00a0you can listen to install event  \n11:34\u00a0<tmortagne>\u00a0which is send after the install  \n11:35\u00a0<tmortagne>\u00a0so an extension will receive event of its own installation  \n11:35\u00a0<tmortagne>\u00a0(or upgrade)  \n11:35\u00a0<gdelhumeau>\u00a0Would it work on main wiki where Blog is installed by default?  \n11:35\u00a0<gdelhumeau>\u00a0which means the -api module will be bundled in the war  \n11:35\u00a0<tmortagne>\u00a0you can listen to xar extension install event  \n11:36\u00a0<tmortagne>\u00a0since -api is a dependency it will always be installed/upgraded before the XAR  \n11:37\u00a0<tmortagne>\u00a0now if I understand well you added a jar dependency to the blog ?  \n11:38\u00a0<gdelhumeau>\u00a0tmortagne: yes  \n11:38\u00a0<tmortagne>\u00a0just in case, you have to keep in mind that it means you need PR to install the blog now  \n11:38\u00a0<gdelhumeau>\u00a0hmm  \n11:39\u00a0<gdelhumeau>\u00a0so a user, on a subwiki, who want to install the Blog App without having PR on the main wiki, could not if the blog is not already installed on the main wiki?  \n11:39\u00a0<tmortagne>\u00a0you need PR to install the jar  \n11:39\u00a0<gdelhumeau>\u00a0an idea could be to make this module optional  \n11:39\u00a0<tmortagne>\u00a0so if the jar is not here then you need PR to install the blog  \n11:40\u00a0<tmortagne>\u00a0if it's optional nobody will ever install it  \n11:40\u00a0<tmortagne>\u00a0note that you could have put the listener in the XAR  \n11:40\u00a0<gdelhumeau>\u00a0I know some user who will  \n11:40\u00a0<gdelhumeau>\u00a0by writing a groovy script?  \n11:41\u00a0<tmortagne>\u00a0for example  \n11:41\u00a0<gdelhumeau>\u00a0with the need of a scheduler task to be sure the component is registered?  \n11:41\u00a0<tmortagne>\u00a0the listener would still need PR but it would not block the install if you don't have PR  \n11:41\u00a0<gdelhumeau>\u00a0or something like that  \n11:41\u00a0<tmortagne>\u00a0no  \n11:41\u00a0<tmortagne>\u00a0just need a wiki component  \n11:42\u00a0<tmortagne>\u00a0you register it in the init of the wiki component for example  \n11:42\u00a0<tmortagne>\u00a0(and unregister it in the dispose of the wiki component probably)  \n12:02\u00a0<gdelhumeau>\u00a0on the other hand, it means you will have a degraded blog application if you don't have PR  \n12:02\u00a0<gdelhumeau>\u00a0and the user might don't understand why  \n12:04\u00a0<tmortagne>\u00a0you can tell him why with a warning  \n12:05\u00a0<gdelhumeau>\u00a0sounds technical for the user  \n12:20\u00a0<vmassol>\u00a0yes it's a degraded UX IMO  \n12:21\u00a0<vmassol>\u00a0(but I haven't followed the discussion in the jira issue to understand the need for that listener - I'm on something else ATM)  \n12:24\u00a0<gdelhumeau>\u00a0vmassol: I'm writing an email :)  \n12:25\u00a0<vmassol>\u00a0ok  \n12:27\u00a0<msmeria>\u00a0has joined #xwiki  \n12:30\u00a0<msmeria1>\u00a0has quit  \n12:56\u00a0<gdelhumeau>\u00a0note: the commit is on a branch  \n13:23\u00a0<itz>\u00a0hi there .. i have installed xwiki 8.4 at the moment, its running in a linux (tomcat+mariadb) environment i have installed the 2 jar jldap and ldap\\_api i already entered my connection details and mappings in the xwiki.cfg \u00a0but somehow its still not working.. any ideas what i could have missed?  \n13:53\u00a0<itz>\u00a0has quit  \n14:06\u00a0<itz>\u00a0has joined #xwiki  \n14:10\u00a0<tmortagne>\u00a0has quit  \n14:13\u00a0<tmortagne>\u00a0has joined #xwiki  \n14:29\u00a0<tmortagne>\u00a0has quit  \n14:34\u00a0<tmortagne>\u00a0has joined #xwiki  \n15:05\u00a0<ol-ow2>\u00a0has joined #xwiki  \n15:27\u00a0<vmassol>\u00a0CK4.6 released (fyi)  \n15:28\u00a0<vmassol>\u00a0\"new features such as a new default skin and updated UI, completely rewritten Paste from Word, new Copy Formatting, Upload File and Balloon Panel plugins, Occitan localization as well as some widget and accessibility improvements.\"  \n16:10\u00a0<evalica>\u00a0has quit  \n16:10\u00a0<evalica>\u00a0has joined #xwiki  \n16:11\u00a0<Enygma`1>\u00a0has joined #xwiki  \n16:13\u00a0<Enygma`>\u00a0has quit  \n16:16\u00a0<Enygma`1>\u00a0has quit  \n16:16\u00a0<Enygma`>\u00a0has joined #xwiki  \n16:50\u00a0<Aranjedeath>\u00a0has quit  \n16:56\u00a0<msmeria>\u00a0has quit  \n17:07\u00a0<itz>\u00a0has quit  \n17:43\u00a0<tmortagne>\u00a0has quit  \n18:04\u00a0<ol-ow2>\u00a0has quit  \n19:10\u00a0<vmassol>\u00a0found a potential issue  \n19:11\u00a0<vmassol>\u00a0I have a page with \"/\" in it  \n19:11\u00a0<vmassol>\u00a0it = its name  \n19:11\u00a0<vmassol>\u00a0when I XAR export it and I zip -Tv the exported XAR i see for example:  \n19:11\u00a0<vmassol>\u00a0\u00a0testing: License/Certificates/xMyFCHlw42O1o2+O/6/RGUycbMw=.xml \u00a0\u00a0OK  \n19:12\u00a0<vmassol>\u00a0but when I unzip I get several directories for the \"/\" around /6/  \n19:12\u00a0<vmassol>\u00a0...  \n19:12\u00a0<vmassol>\u00a0I don't know if there's a way to encode \"/\" in zip file names  \n19:12\u00a0<vmassol>\u00a0need to check that  \n19:17\u00a0<vmassol>\u00a0I think the issue is that \"/\" is not allowed in file name in unix  \n19:17\u00a0<vmassol>\u00a0but we allow it in wiki page names  \n19:18\u00a0<vmassol>\u00a0so we have a problem...  \n19:18\u00a0<vmassol>\u00a0we need to replace it with some other chars as a convention and since the full ref is in the xml it shouldn't matter  \n19:29\u00a0<vmassol>\u00a0created http://jira.xwiki.org/browse/XWIKI-13883  \n19:30\u00a0<mflorea>\u00a0has quit  \n19:32\u00a0<gdelhumeau>\u00a0has quit  \n20:08\u00a0<evalica>\u00a0has quit  \n20:11\u00a0<Enygma`>\u00a0has quit  \n20:16\u00a0<mflorea>\u00a0has joined #xwiki  \n21:15\u00a0<evalica>\u00a0has joined #xwiki  \n21:16\u00a0<Slashman>\u00a0has quit  \n21:23\u00a0<mflorea>\u00a0has quit  \n22:13\u00a0<evalica>\u00a0has quit  \n23:08\u00a0<Aranjedeath>\u00a0has joined #xwiki  \n23:11\u00a0<vmassol>\u00a0has quit\n"}