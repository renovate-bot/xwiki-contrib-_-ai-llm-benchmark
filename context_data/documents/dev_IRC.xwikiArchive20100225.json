{"id": "dev:IRC.xwikiArchive20100225", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100225", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nsematicweboholic - (00:02): anybody know whether i should add \"mail.smtp.auth=true\" in javamail properties on top of \"mail.smtp.starttls.enable=true\"??  \nsematicweboholic - (00:02): for gmail  \nsdumitriu - (00:03): Don't know  \nsdumitriu - (00:03): Probably not  \nsdumitriu - (00:03): But you can try both ways  \nsematicweboholic - (00:07): i got exception on hashtable.put...  \nsematicweboholic - (00:07): anyway.. will look at this tomorrow.. got to go.  \nsematicweboholic - (00:08): thanks all for the helps  \nsematicweboholic left at 00:13 (Ping timeout: 245 seconds  \nanamarias left at 00:13 (Quit: anamarias  \nbblfish - (00:26): ok semanticwebholic, there is a semanticweb extension that can be used with XWiki now. See my mail to the mailing list  \nbblfish - (00:26): or was that sematicwebholic,  \nvmassol - (00:29): :)  \nCalebJamesDeLisl - (00:32): I have to take a look at that. I like the idea of foaf based webs of trust to make mitm impossible. Do you think the keys would be useable in PGP?  \nCalebJamesDeLisl - (00:32): s/impossible/hard :)  \nvmassol left at 01:24 (Quit: Leaving.  \nSvenDowideit left at 01:59 (Read error: Connection reset by peer  \nSvenDowideit joined #xwiki at 02:02  \nhcross1 left at 02:12 (Ping timeout: 245 seconds  \nnpm left at 03:22 (Quit: Leaving.  \nHowarth joined #xwiki at 03:27  \nnpm joined #xwiki at 03:31  \nHowarth left at 04:07 (Ping timeout: 265 seconds  \nHowarth joined #xwiki at 04:09  \nhcross left at 04:30 (Ping timeout: 264 seconds  \nhcross joined #xwiki at 04:50  \nHowarth left at 04:56 (Read error: Operation timed out  \nHowarth joined #xwiki at 04:59  \nnickless left at 05:37 (Ping timeout: 252 seconds  \nsdumitriu left at 06:02 (Ping timeout: 245 seconds  \nCalebJamesDeLisl left at 06:10 (Quit: The user has gone to sleep.  \nHowarth left at 06:26 (Ping timeout: 245 seconds  \nmflorea joined #xwiki at 08:27  \nMichelleShi joined #xwiki at 08:36  \nvmassol joined #xwiki at 08:42  \nanamarias joined #xwiki at 08:45  \nMichelleShi - (08:53): Hi  \nMichelleShi - (08:54): How could I have a private wiki in myxwiki.org?  \nvmassol - (08:55): MichelleShi: hi  \nMichelleShi - (08:55): vmassol, hi  \nvmassol - (08:55): you just need to follow the instructions on http://myxwiki.org :)  \nMichelleShi - (08:58): vmassol, I got it. Thanks:)  \njvdrean joined #xwiki at 09:04  \nmflorea left at 09:06 (Quit: Leaving.  \nsilviar joined #xwiki at 09:13  \nMichelleShi - (09:14): vmassol, I have sent a email to the user list:) When would the wiki be created?  \nvmassol - (09:14): MichelleShi: give it 1 day at max  \nMichelleShi - (09:15): vmassol, OK  \nvmassol - (09:15): so sometimes today most liekly  \nvmassol - (09:15): likely  \nMichelleShi - (09:15): hah  \nvmassol - (09:18): MichelleShi: if you provide all the request info of course ;)  \nvmassol - (09:18): like making sure you haven't forgotten to provide the wiki name as mentioned on myxwiki.org :)  \nMichelleShi - (09:20): vmassol, sorry, I just forgot  \nkibahop joined #xwiki at 09:22  \nMichelleShi - (09:23): vmassol, can I have more than one wiki in myxwiki.org?  \nvmassol - (09:24): MichelleShi: I guess you could, you just need to agree with the terms and conditions, i.e the limitations listed on http://myxwiki.org  \nMichelleShi - (09:25): I agree. I have read them.  \nvmassol - (09:25): also you need to play \"fair\" for this community farm, i.e. no do heavy CPU stuff on your wiki so that you don't take the CPU from other wikis on the farm, etc. Apart from this I guess you could have another one  \nvmassol - (09:26): MichelleShi: do you know xwiki already?  \nMichelleShi - (09:26): vmassol, A little.  \nvmassol - (09:26): I mean maybe you could try with one, see if it fits your needs and then ask for a second one? Unless you already know xwiki and you already like it and want 2 wikis right now :)  \nEnygma` joined #xwiki at 09:27  \nMichelleShi - (09:27): vmassol, one of my friend use xwiki as his diray book.  \nMichelleShi - (09:28): vmassol, I don't want a second xwiki right now. I just want to try it:)  \nvmassol - (09:28): ok  \nMichelleShi - (09:29): vmassol, I don't want run it in my personal notebook. I think myxwiki.org is a greate place to try xwiki.  \nvmassol - (09:29): sure  \nMichelleShi - (09:30): vmassol, Data in myxwiki.org is safe most of time, right?  \nvmassol - (09:30): yes  \nvmassol - (09:30): it's backed up AFAIK  \nvmassol - (09:31): (the back up is every day I think)  \nMichelleShi - (09:31): vmassol, glad to hear that:)  \nlucaa left at 09:32 (Quit: Leaving.  \nvmassol - (09:33): make sure you reply to your mail with the name you want for your wiki  \nMichelleShi - (09:33): vmassol, do myxwiki.org run in a single server or a Cluster?  \nvmassol - (09:34): single server  \nMichelleShi - (09:34): OS, windows?  \nvmassol - (09:34): it would be too expensive to run in a cluster of machines  \nvmassol - (09:34): (for a free service)  \nevalica joined #xwiki at 09:35  \nvmassol - (09:35): however http://xwiki.com do offer all that  \nvmassol - (09:35): os is some unix  \nvmassol - (09:35): windows as a server wouldn't be the best choice ;)  \nMichelleShi - (09:35): may I know which unix dist?  \nvmassol - (09:35): I don't know  \nMichelleShi - (09:36): hah  \nMichelleShi - (09:36): unix is better.  \nvmassol - (09:36): I can check though  \nMichelleShi - (09:36): I'm using linux. Better than windows.  \nvmassol - (09:36): uname -a gives:  \nvmassol - (09:36): Linux myxwiki.org 2.6.26-1-vserver-amd64 #1 SMP Fri Mar 13 20:19:13 UTC 2009 x86\\_64 GNU/Linux  \nvmassol - (09:36): how do I know which distrib is used?  \nMichelleShi - (09:37): the kernal is new enough  \nMichelleShi - (09:39): vmassol, I don't know. uname -a will show all the info.  \nMichelleShi - (09:41): vmassol, I try michelle.myxwiki.org and redirect to http://127.0.0.1:9080/xwiki/bin/Main/ThisWikiDoesNotExist  \nvmassol - (09:41): it's not created, why would it work?  \nvmassol - (09:41): or do you mean the redirect is not correct?  \nvmassol - (09:41): (which it doesn't seem to be :))  \nvmassol - (09:41): we need to fix it  \nMichelleShi - (09:41): yes. But the error page is not looking user friendly.  \nvmassol - (09:42): right  \nvmassol - (09:42): it's a bug in the config of myxwiki.org  \ntmortagne joined #xwiki at 09:42  \nvmassol - (09:42): jvdrean: good morning, do you know this part of the config?  \nvmassol - (09:42): is it just a param to set in xwiki.cfg?  \nkibahop left #xwiki at 09:42  \njvdrean - (09:43): vmassol: Hi, I think it is yes  \nvmassol - (09:51): jvdrean: the config has this:  \nvmassol - (09:51): xwiki.virtual.redirect=http://www.myxwiki.org/xwiki/bin/Main/ThisWikiDoesNotExist  \njvdrean - (09:52): Fixed, the redirect is now correct  \nvmassol - (09:52): ah cool  \nvmassol - (09:52): I guess I was looking at your change then  \nvmassol - (09:52): :)  \njvdrean - (09:52): yes :)  \nMichelleShi - (09:53): I see  \narkub joined #xwiki at 09:57  \nglerouge joined #xwiki at 10:02  \nvmassol - (10:10): tmortagne: for REST we might not want or be able to use xwiki-url. I'd need to check with fabio but looking at the current implementation it's done with JAX-RS annotations  \nvmassol - (10:10): for ex:  \nvmassol - (10:10): @Component(\"org.xwiki.rest.resources.pages.PagesResource\")  \nvmassol - (10:10): @Path(\"/wikis/{wikiName}/spaces/{spaceName}/pages\")  \nvmassol - (10:10): public class PagesResource extends XWikiResource  \ntmortagne - (10:12): vmassol: ok  \nKermitTheFragger joined #xwiki at 10:13  \nbblfish - (10:20): hello  \nbblfish - (10:21): good morning all  \nvmassol - (10:22): hi henry  \nbblfish - (10:28): vmassol: so I think my first version of foaf+ssl plugin is ready for test deployment. I am sure that will provide a lot of feedback to get it to the next level.  \nvmassol - (10:29): jvdrean, tmortagne and others: could you please reply to Henry's mail on the list  \nvmassol - (10:29): about deploying his work on incubator  \nvmassol - (10:29): ?  \nvmassol - (10:34): tmortagne: so we'll release 2.2.1 today right?  \ntmortagne - (10:34): we'll release as soon as it's fiwed  \ntmortagne - (10:34): fixed  \nvmassol - (10:34): ok let me ask differently: are you working on it today?  \ntmortagne - (10:35): yes  \nvmassol - (10:35): ok  \nvmassol - (10:35): so we need to ensure we're ready for the 2.2.1 release  \nvmassol - (10:35): right now there are 3 failing tests  \nvmassol - (10:35): introduced by caleb I think  \nMichelleShi left at 10:36 (Ping timeout: 240 seconds  \ntmortagne - (10:37): hmm i can't reproduce it on trunk it seems (my first test did not test the right thing actually), trying on 2.2  \nmflorea joined #xwiki at 10:38  \ntmortagne - (10:39): hmm that's not so simple it seems: it's working with some wikis on myxwiki.org  \ntmortagne - (10:39): with myxwiki.org and www.myxwiki.org for example  \ntmortagne - (10:44): looks like it's going to be a false alarm  \ntmortagne - (10:44): need to find why it's not working with one wiki of myxwiki.org  \ntmortagne - (10:45): (can't reproduce on a fresh 2.2)  \ntmortagne - (10:47): at least it's working well on all wikis i tested except colab wiki  \nrstavro joined #xwiki at 11:04  \nrstavro - (11:06): hi, do you know why a document with a PDF file attached would redirect to \"docURL?force\" ? (I don't know how to figure out why is this happening and I wonder if this is a known issue or it's something the wiki code)  \nrstavro - (11:07): (this happends in view mode)  \ntmortagne - (11:10): evalica: wher did you find the flags on l10n.xwiki.org i would like to suggest a link to find more on http://l10n.xwiki.org/xwiki/bin/view/L10N/Flags and also add the missing flags  \ntmortagne - (11:11): (i'm refactoring flag management for it to automatically link flags to language code)  \nevalica - (11:13): http://www.famfamfam.com/lab/icons/flags/  \ntmortagne - (11:15): evalica: thanks  \nrstavro - (11:21): sorry for the noise, I found the reason why redirect happends  \nlucaa joined #xwiki at 11:32  \nanamarias - (11:39): hi  \nlucaa - (11:39): hi anamarias  \nanamarias - (11:39): do macros support for the parameters the type \\*hidden\\* ?  \nanamarias - (11:40): I see ParameterDescriptor has a method Class< ? > getType(); , but looks like that's just the class of the parameter  \nanamarias - (11:41): mflorea: you said that the Java ones do/might support the hidden type...  \ntmortagne - (11:41): anamarias: hiddin means it's hidden and so not listed in teh parameter descriptor  \ntmortagne - (11:41): hidden  \nmflorea - (11:42): anamarias: hidden = not listed by the wysiwyg editor  \nanamarias - (11:42): yes, not listed in the wysiwyg editor, that's what I need  \nmflorea - (11:42): but I don't know how to mark a parameter as hidden, tmortagne should know  \nanamarias - (11:43): but they also have to be editable  \nmflorea - (11:43): wdym?  \nrstavro left at 11:43 (Ping timeout: 252 seconds  \nanamarias - (11:43): when you edit the macro for example  \nmflorea - (11:43): if they are hidden  \nanamarias - (11:43): edit the values not when you add them to a page, but when you edit the macro parameters  \nmflorea - (11:43): edit in which way?  \ntmortagne - (11:44): anamarias: see http://code.xwiki.org/xwiki/bin/view/Modules/PropertiesModule for everything you can do with xwiki java beans  \nmflorea - (11:44): hidden means the parameter is technical, and the user should care about it, and thus it shouldn't need to edit it  \nmflorea - (11:44): s/should/shouldn't care  \ntmortagne - (11:44): anamarias: i don't understand you want an gidden parameter that is not hidden in the UI ?  \nanamarias - (11:44): mflorea: yup, that's what I mean  \nanamarias - (11:45): ok, so I was thinking to extend the hidden parameters to the Wiki Macros  \nanamarias - (11:45): where you would add a WikiParameterClass, and set it to hidden, give there the description, and value  \nmflorea - (11:46): anamarias: I see  \nanamarias - (11:46): but when normal users would add your macro in a page, they won't have access to them  \nmflorea - (11:46): right  \nmflorea - (11:47): I guess you have to add a \"hidden\" property to the WikiParameterClass  \nmflorea - (11:47): and based on its value hide or not the parameter from the macro descriptor  \nanamarias - (11:47): with yes/no values ?  \nmflorea - (11:47): yep  \nmflorea - (11:48): just like supportsInlineMode property for WikiMacroClass  \ntmortagne - (11:48): yes that's the way to do it  \nanamarias - (11:48): i'm looking at WikiMacroParameterClass now, and I see only name, description and mandatory  \nanamarias - (11:48): but there's also no value property  \nanamarias - (11:48): for the hidden ones it would be required  \nanamarias - (11:49): maybe we could also add a default\\_value property to WikiMacroParameterClass  \nanamarias - (11:49): how would that work?  \ntmortagne - (11:49): anamarias: default value is mainly used by the WYSIWYG so useless for hidden parameter  \nanamarias - (11:49): and the hidden parameters would use it as its value  \ntmortagne - (11:49): anamarias: it's not the way it's working  \ntmortagne - (11:50): the default value is handled in the macro itself  \ntmortagne - (11:50): it has nothing to do with hidden  \nanamarias - (11:50): how would I give the value to the hidden parameter in this case then?  \ntmortagne - (11:50): it's about optionnal parameter  \ntmortagne - (11:50): when you don't give a parameter the macro has to support it properly  \ntmortagne - (11:51): anamarias: you don't understand what are hidden parameter  \ntmortagne - (11:51): hidden just mean it's not listed in the WYSIWYG  \ntmortagne - (11:51): that's all  \nanamarias - (11:51): ok, but they do have a value right?  \ntmortagne - (11:51): it mean you use it in syntax  \ntmortagne - (11:51): if you want it to appear in the WYSIWYG then it's not a hidden macro  \nanamarias - (11:51): to use it in the macro code  \ntmortagne - (11:51): it doe snot make sense  \nanamarias - (11:52): I don't want it to appear in the WYSIWYG :)  \ntmortagne - (11:52): i don't understand how you define a hidden marapeter  \nanamarias - (11:52): i want to use it in the macro code  \nanamarias - (11:52): but that parameter needs a value, where do I set it ??  \ntmortagne - (11:52): no  \ntmortagne - (11:52): this parameter doe snot need a value  \ntmortagne - (11:53): it's exactly like a optional parameter  \nanamarias - (11:53): then how do you use it?  \ntmortagne - (11:53): the WYSIWYG not provide a value for each possible parameter  \ntmortagne - (11:53): you have to support it in your macro  \nmflorea - (11:53): tmortagne: I think anamarias wants to store some information in a wiki macro, like the gadget URL, and use this information when rendering the macro. It nicer to have this information in a xwiki class property than hardcoded in the macro code  \ntmortagne - (11:53): it's exactly like when you support some possible parameter in the URL, it doe snot have to be provided  \ntmortagne - (11:54): if test if you have it and if not you use a default value  \nanamarias - (11:54): tmortagne: it's like mflorea says  \ntmortagne - (11:54): mflorea: my point is that it has absolutely nothing to do with hidden parameter  \ntmortagne - (11:55): it's about optional parameter  \nmflorea - (11:55): I see, at first I though this was an option  \nanamarias - (11:55): It's not really optional  \nanamarias - (11:55): the Macro MUST have it in order to exist  \nmflorea - (11:56): tmortagne, but for optional parameter you define the default value in the macro code, which is what anamarias wants to avoid  \nanamarias - (11:56): and it's common to all macro instances of that type  \nanamarias - (11:56): Let me give you an example  \nanamarias - (11:56): I have the : macro with the id: worldclocks  \ntmortagne - (11:56): mflorea: ok but again that's a feature for optional parameter and not for hidden parameter  \nanamarias - (11:56): and its macro code is:  \ntmortagne - (11:57): then you can have optional hidden parameter  \nanamarias - (11:57): {{html}}<div><script src=\"$gadgetUrl\"></script></div>{{/html}}  \nanamarias - (11:57): i want this $gadgetURL to be macro specific  \nflorinciu joined #xwiki at 11:57  \ntmortagne - (11:57): anamarias: optional as defined in the macro descriptor mean that the user doe snot have to provide something  \nanamarias - (11:57): and users not to see it  \nanamarias - (11:57): when they go in the wysiwyg editor  \nmflorea - (11:57): yes, optional for the user, not for the macro  \ntmortagne - (11:58): teh fact that the macro need something has nothing to do with that, in that case it's about haveing a default value  \nmflorea - (11:58): so yes, optional & hidden  \nanamarias - (11:58): yup, both optional & hidden would be great (but if optional, should have a default value)  \ntmortagne - (11:59): anamarias: anyway we need to map everything in MacroPArameter in the wiki macro at some point  \ntmortagne - (12:00): same for MacroDescriptor  \nmflorea - (12:00): so if we have mandatory property in WikiMacroParameterClass then you can add a defaultValue prop  \ntmortagne - (12:01): defaultValue is useful for the WYSIWYG even without mandatory  \ntmortagne - (12:01): just to indicate to teh use what is the default behavior of the macro  \nmflorea - (12:01): yes  \ntmortagne - (12:01): anamarias: why your parameter absolutely need to be hidden ?  \nanamarias - (12:01): default values are also good, I need them too  \ntmortagne - (12:01): hidden parameter is very technical in java macros  \nanamarias - (12:02): well..  \ntmortagne - (12:02): it does not make any sense for a user ?  \nanamarias - (12:02): I was thinking to store structured info about a macro like: gadget URL, thumbnail URL, screenshot URL, author, author\\_email  \nmflorea - (12:02): it might not be that bad to see the gadgetURL, if it has a default value then the user won't change it if he doesn't know what represents  \ntmortagne - (12:03): currently we are using hidden parameter only for macro taht is using another macro for example and need to give something not supported by the converter  \ntmortagne - (12:03): anamarias: i think what you need is some kind of \"advanced\" tag instead of hidden  \ntmortagne - (12:04): mflorea: WDYT ?  \nanamarias - (12:04): what is that?  \nmflorea - (12:04): hmm, I don't know, to me it looks more like macro \"metadata\"  \nanamarias - (12:04): mflorea: it's not only the gadgeturl, but might be some more other  \ntmortagne - (12:04): for now it's nothing but the idea would be to have parameter that need to click on a button in the WYSIWYG to extends teh view for example  \nmflorea - (12:05): I see  \nanamarias - (12:05): yes, these sound like metadata indeed  \ntmortagne - (12:05): parameter that are not commonly used but still supported by the macro and could be usefull  \nanamarias - (12:05): but, there is one more thing,  \nanamarias - (12:05): gadgets can have parameters like this also:  \nanamarias - (12:05): <UserPref name=\"messageid\" datatype=\"hidden\" default\\_value=\"0\"/>  \nanamarias - (12:06): datatype=\"hidden\" , meaning that the gadget needs it, but they're not displayed to the user to edit  \nanamarias - (12:06): in the edit gadget preferences form  \nmflorea - (12:06): tmortagne: then yes, having a way to separate simple parameters from advanced is good  \nanamarias - (12:07): these datatype=\"hidden\" sound like advanced , yes  \nanamarias - (12:07): because it you put them in the URL directly, they will be overridden, but they are not shown in the normal user edit interface  \nnickless joined #xwiki at 12:09  \nanamarias - (12:09): but these other: \u00a0gadget URL, thumbnail URL, screenshot URL, author, author\\_email , etc are more like metadata, and should not be shown to the user. they are macro specific  \nanamarias - (12:11): how about a new XWiki.WikiMacroMetadataClass, with name and value as properties?  \nanamarias - (12:11): and you can use these metadatas the same way you use the parameters in the macro code  \ntmortagne - (12:12): if it's not parameters it should definitely not use parameters system...  \ntmortagne - (12:13): now i don't see what we should have something at wiki macro level  \nanamarias - (12:13): then some other system, I only meant to be accessible as velocity variables in the macro code  \ntmortagne - (12:13): it has nothing to do with it  \ntmortagne - (12:13): it's just that your macro need some value stored somewhere  \ntmortagne - (12:14): could be the same for anything, not just macros  \nanamarias - (12:14): but they directly define the macro  \ntmortagne - (12:14): just create a class for your own use case and use it  \ntmortagne - (12:14): that's the XWiki metadata system  \nanamarias - (12:14): in my opinion, all macros would need a screenshot and thumbnal  \nanamarias - (12:15): just a name doesn't mean that much for the users when thinking to install it or not  \ntmortagne - (12:15): then it's not parameter or variable metadata it's part of MacroDescriptor interface  \nanamarias - (12:16): these 2 yes  \nanamarias - (12:16): but how about the gadgetURL ? where would this one fit?  \ntmortagne - (12:16): if it's a special use case then it's a special use case and you should use what already exists: define a xclass for your use case  \ntmortagne - (12:18): you need to store values for a special use case, that's the exact definition of XWiki xclass/xobjects  \nmflorea - (12:19): anamarias: I agree with tmortagne that you should define your own class for now  \nanamarias - (12:19): ok, sounds fare  \nmflorea - (12:19): we don't have xwiki class inheritance no?  \nanamarias - (12:19): not all macros need this parameter  \nmflorea - (12:21): it would have been nice if you could write a GadgetMacroClass extending WikiMacroClass and adding the required metadata specific to gadgets  \nanamarias - (12:21): hehe, yes  \nanamarias - (12:21): anyways, its ok for now, it's just one parameter  \njvdrean left at 12:21 (Quit: Leaving.  \nanamarias - (12:22): but the screenshot and thumbnail should be added to the macro class, all of the macros would need them  \nanamarias - (12:22): they need to look liked goodies \u00a0:P  \nmflorea - (12:23): :)  \ntmortagne - (12:25): no we don't have inheritance but we definitely should, it's not that complex to do i think (not as it sounds ;)).  \nmflorea - (12:27): I guess its a bit complex when you write queries, and you want a query for WikiMacroClass obejct to return also objects of GadgetMacroClass  \nsdumitriu joined #xwiki at 12:35  \njvdrean joined #xwiki at 12:53  \ntmortagne - (12:58): mflorea: sure but a first step would be to not change anything at database level (because the simple fact to change something in the database structure is difficult) and just support inheritance in the model (merge database objects in one BaseObject when loading separate when saving)  \nnickless - (13:18): hi everyone  \nnickless - (13:19): I'm wondering why there is such a diversity how different actions are implemented  \nnickless - (13:20): for example, an edited page is saved used a SaveAction,  \nnickless - (13:20): a page is copied using a redirection to a velocity macro in a ViewAction  \nnickless - (13:21): objects, comments etc. are handled using their specific \\*Action classes  \nanamarias left at 13:21 (Quit: anamarias  \nnickless - (13:22): are there any plans to unify all these in some way?  \nsdumitriu - (13:23): Yep  \nrstavro joined #xwiki at 13:23  \nsdumitriu - (13:23): Once we reimplement the actions in the component way  \nnickless - (13:24): can you point me to a jira issue for that?  \nnickless - (13:27): smth like this one: XWIKI-1488 ?  \nsdumitriu - (13:28): No, that's for the rights management  \nsdumitriu - (13:28): I don't think we have a Jira issue yet  \nsdumitriu - (13:30): But the code is here: http://svn.xwiki.org/svnroot/xwiki/platform/core/trunk/xwiki-action/  \nnickless - (13:31): I'm trying to fix XWIKI-4873 and it quite hard to check secret tokens for things implemented using redirection to velocity macros  \nnickless - (13:31): thx I'll look at it  \nsdumitriu - (13:33): Ah, the bot can't access the private issues :)  \nsdumitriu - (13:35): nickless: Don't spend too much in the xwiki-action module, it's not used yet  \nnickless - (13:37): yea, it looks not implemented yet :)  \njvelociter joined #xwiki at 13:39  \nnickless - (13:43): is there any \"nice\" way to find out before the redirection to xpage=targetmacro happens, whether targetmacro is going to need edit/admin rights?  \nlucaa left #xwiki at 14:33  \ncypromis joined #xwiki at 14:37  \ncypromis - (14:37): hmm  \ncypromis - (14:37): seems I cannot confirm an email address with the link that xwiki sends  \ncypromis - (14:37): how can I get it to send the link again ?  \nsdumitriu - (14:39): You can't right now...  \nsdumitriu - (14:39): And that's bad  \ntmortagne - (14:39): [l10n] I added some tool to easily get pretty name and flag based on the locale code, supported language panel is now based on the context and automatically fin the list of supported languages, i need to add some link to the flags and pretty names repository pages  \ntmortagne - (14:39): (made me found that we are using two wrong language code, i need to fic it)  \nvmassol - (14:42): nice  \nvmassol - (14:42): so there are missing flags in famfam?  \nCalebJamesDeLisl joined #xwiki at 14:42  \nvmassol - (14:43): also shouldn't the name displayed have both codes?  \nvmassol - (14:43): ie instead of fr, use fr\\_FR for ex?  \nvmassol - (14:44): (or have 2 columns, one for country another for language)  \ncypromis - (14:44): can I confirm the mail by hand ?  \ncypromis - (14:44): I have some error messages in server.log that I do not understand too  \ncypromis - (14:44): lol  \ncypromis - (14:44): too much stuff  \ncypromis - (14:44): :D :D:DD  \ntmortagne - (14:45): vmassol: i'm listing excatly the language provided for an application and we are provided fr and not fr\\_FR  \ntmortagne - (14:45): vmassol: about the flag i just did the tool not the content ;)  \nvmassol - (14:45): FR is country and fr is language ?  \ntmortagne - (14:46): \"The language code is the standard \u00a0format use in JAVA which mean <language \u00a0code>\\_<CONTRY \u00a0CODE>.\"  \nvmassol - (14:46): so when we have a single code what flag do you use?  \ntmortagne - (14:46): i should add that the second part is optional  \nvmassol - (14:46): (since it's language and not country right?)  \ntmortagne - (14:46): see http://l10n.xwiki.org/xwiki/bin/view/L10N/Flags  \ntmortagne - (14:47): yes there is no such things as langauge flags  \ntmortagne - (14:47): language  \ntmortagne - (14:47): it's an arbitrary choice based on common practices  \nvmassol - (14:47): I see  \nvmassol - (14:47): nice doc  \nvmassol - (14:48): should we use French (France) as the language name?  \ntmortagne - (14:48): (pretty sure it's full of english mistakes, i wrote this pretty quickly ;))  \ncypromis - (14:48): something is seriously screwed  \ncypromis - (14:48): [#|2010-02-25T14:46:40.198+0100|INFO|sun-appserver2.1|javax.enterprise.system.stream.out|\\_ThreadID=26;\\_ThreadName=http://www.seventhsignal.de/xwiki/bin/jsx/XWiki/XWikiUserSheet?language=de;|2010-02-25 14:46:40,197 [http://www.seventhsignal.de/xwiki/bin/jsx/XWiki/XWikiUserSheet?language=de] WARN \u00a0web.XWikiAction \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- Uncaught exception: Error number 0 in 11: Uncaught exception  \nvmassol - (14:49): tmortagne: and shouldn't we fix all our code to always have both language and country?  \ntmortagne - (14:49): vmassol: well lets say we could but we we always do that it will take more place  \nsdumitriu - (14:49): cypromis: You can manually confirm the user if you have an admin account  \ntmortagne - (14:49): vmassol: i don't think so  \nvmassol - (14:49): actually the properites spec allows not to have both  \nsdumitriu - (14:50): Just edit the user's object and set Active to 1  \ncypromis - (14:50): how ?  \ntmortagne - (14:50): fr is the default translation for all fr languages  \ncypromis - (14:50): ah ok let me check  \ntmortagne - (14:50): like you have <nothing> for all languages  \ntmortagne - (14:50): in which we put english  \nvmassol - (14:50): right  \ntmortagne - (14:51): vmassol: i would like to improve the UI to make it visible  \ntmortagne - (14:51): for example by showing the zh translataion in the zh\\_TW UI when nothing is provided  \ntmortagne - (14:51): or something like that  \ntmortagne - (14:52): but this will take more time than i have now :)  \ncypromis - (14:54): tons of these errors but all seems to work now  \ncypromis - (14:54): very very strange  \nsdumitriu - (15:02): cypromis: What kind of errors? tinypaste  \ncypromis - (15:04): done  \ncypromis - (15:04): setuo:  \ncypromis - (15:05): latest 2.2 on postgres on glassfish 2.1 on opensolaris-dev latest  \ncypromis - (15:05): closed  \ncypromis - (15:05): I run 2.1 on another box on the same setup and did not see the same errors  \ncypromis - (15:05): but will check  \ncypromis - (15:06): no 2.1 has some format errrors, thats all  \ncypromis - (15:06): but the 2.1 setup is half public  \ncypromis - (15:06): as in read public write private  \ncypromis - (15:06): the 2.2 setup is all private :=)  \nanamarias joined #xwiki at 15:08  \ntmortagne - (15:20): vmassol: btw at some point the goal would be to sync http://l10n.xwiki.org/xwiki/bin/view/L10N/LocaleTranslations and http://l10n.xwiki.org/xwiki/bin/view/L10N/Flags to be used in XE too  \nvmassol - (15:25): o  \nvmassol - (15:25): k  \nvmassol - (15:26): tmortagne: there are still language without flags. Are you still working on it?  \ntmortagne - (15:26): kind of  \nvmassol - (15:26): Hungarian for ex  \nsematicweboholic joined #xwiki at 15:27  \ntmortagne - (15:28): yes, i'm doing Hungarian and i will let Robert do it for catalan  \ntmortagne - (15:30): we should maybe have the \"Attach files to this document\" before the list of attachment because it's a pain to add one when there is a lot of them  \ntmortagne - (15:31): Hungarian, i'm now renaming the two wrong codes  \nvmassol - (15:31): yes sounds like a good idea  \ntmortagne - (15:31): \\*Hungarian done  \nvmassol - (15:31): tmortagne: are you also fixing the 2 that says \"locale.xx\"?  \ntmortagne - (15:31): \"i'm now renaming the two wrong codes\"  \nvmassol - (15:31): locale.nb and locale.ua  \nvmassol - (15:32): tmortagne: typo \"Tranditional Chinese\"  \ntmortagne - (15:33): vmassol: you can fix it on http://l10n.xwiki.org/xwiki/bin/view/L10N/LocaleTranslations ;)  \nvmassol - (15:34): tmortagne: since you're at it, this needs to not be rendered:  \nvmassol - (15:34): http://l10n.xwiki.org/xwiki/bin/view/XE/XEXWikiCoreResources\\_-189617611\\_xe-officeimporter-error-adminuser\\_sv  \nvmassol - (15:34): the links are rendered  \ntmortagne - (15:34): where ?  \nvmassol - (15:34): original text, translated text  \nvmassol - (15:34): and Validated Translated Text  \ntmortagne - (15:35): well that's is xwiki/1.0 escaping mess  \nvmassol - (15:35): I've pinged asiri btw  \nvmassol - (15:35): to remove links from translation reosurces  \ntmortagne - (15:35): the only thing to do is convert it all to xwiki/1.0 syntax  \nvmassol - (15:35): it's real a bad idea  \nvmassol - (15:35): s/real/really/  \ntmortagne - (15:35): we allow html in translation i think  \nvmassol - (15:36): yes that's bad but it's not the wrose  \nvmassol - (15:36): the worse is:  \ntmortagne - (15:36): but if it's wiki syntax indeed that's wrong  \nvmassol - (15:36): 1) using a given syntax  \nvmassol - (15:36): 2) pointing to some xwiki.org doc  \nvmassol - (15:36): yes it's wiki syntax  \nvmassol - (15:36): it's potining to code.xwiki.org  \nvmassol - (15:37): and you can be sure it's going to be a broken link one day,in not too long  \nvmassol - (15:37): + in the future we want to move to proper rendering so even html should be removed as much as possible  \ntmortagne - (15:40): well if it's rendered now then it's a xwiki/1.0 link so it's probably already broken in xwiki/2.0 syntax  \ntmortagne - (15:42): vmassol: yes we need to have only translation specific content in translations and not some external syntax that could behave differently depending of the contexte where it's used  \nvmassol - (15:42): yep  \ntmortagne - (15:42): this probably mean having a translation syntax for some useful basic things like links and lists  \nvmassol - (15:43): links maybe, list \u00a0I don't know  \nvmassol - (15:43): but yes interesting idea to have a syntax for translations  \ntmortagne - (15:43): yes maybe not list, you can have a separeate translation for each point in most use case i guess  \ncypromis - (15:57): &win 25  \ncypromis - (15:57): humpf  \nCalebJamesDeLisl - (16:25): jvelociter: What do you think of my patch for XE-609? If you have a reason why it should be on a separate page I'd be happy to hear it.  \nvmassol - (16:26): CalebJamesDeLisl: hi. Have you seen these failing tests (don't know if they're caused by your changes or not):http://hudson.xwiki.org/job/xwiki-product-enterprise-tests-2.2/lastBuild/testReport/ ?  \njvelociter - (16:27): CalebJamesDeLisl: actually yes I have  \nvmassol - (16:27): btw we also have failing tests on http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/lastBuild/testReport/ anyone has an idea why they're failing?  \njvelociter - (16:28): having it separate would make upgrades easier  \nvmassol - (16:28): (create non ascii page/space)  \nCalebJamesDeLisl - (16:28): I know the webstandards test is my fault and it should be fixed.  \njvelociter - (16:28): because if you have it in the configuration it means you can't (easily) upgrade the configuration from that point  \nvmassol - (16:28): regarding this yes configs should always be on a separate page  \njvelociter - (16:28): but I'm ok with your patch too, no hard feelings  \nvmassol - (16:28): I did the same for the IRC bot app  \nvmassol - (16:29): (so that you can keep your configs when you upgrade)  \narkub left at 16:29 (Quit: Leaving  \nvmassol - (16:29): I haven't followed though so maybe I'm OT ;)  \nhcross left at 16:30 (Ping timeout: 252 seconds  \nCalebJamesDeLisl - (16:30): Maybe it's a better idea to move all of the configuration to another page and change XWiki.Configurable to allow for it.  \nCalebJamesDeLisl - (16:30): (So the welcome message customization can be saved too.)  \nCalebJamesDeLisl - (16:31): Any thoughts?  \nvmassol - (16:32): sdumitriu: btw you should proud of me! I find that I've answered very calmly to this guy who was saying on twitter that \"xwiki is cow-shit\"\u2026.  \nvmassol - (16:32): s/proud/be proud/  \nvmassol - (16:32): :)  \nsdumitriu - (16:33): :)  \narkub joined #xwiki at 16:34  \nvmassol - (16:36): sdumitriu: btw will we have the colortheme improvement for 2.3M1? (I hope)  \nvmassol - (16:36): (2.3M1 is in 10 days)  \nsdumitriu - (16:39): Hopefully  \nCalebJamesDeLisl - (16:41): jvelociter: Any thoughts on putting \"registration success message\" on a different page vs putting all configuration on a different page? (Keep in mind I can have some very bad ideas so I try not to get attached to them.)  \njvelociter - (16:48): what are other config fields for ?  \nCalebJamesDeLisl - (16:50): Welcome message, heading, use livevalidation, require captcha, show loginButton, enable autoLogin  \nhcross joined #xwiki at 16:50  \nCalebJamesDeLisl - (16:51): If you have a copy of the trunk as of yesterday evening, you can go to admin/XWiki/XWikiPreferences?section=Registration and see them all  \nCalebJamesDeLisl - (16:53): evening == relative, as of rev 27267  \nevalica left #xwiki at 16:58  \nEnygma` left at 17:01 (Remote host closed the connection  \nrstavro left at 17:22 (Ping timeout: 240 seconds  \nsematicweboholic - (17:33): I am getting some error while creating user in SendMail. related to smtp config  \nsematicweboholic - (17:33): http://pastie.org/842473  \nsilviar left #xwiki at 17:36  \nsdumitriu - (17:37): sematicweboholic: What version of XWiki?  \nsematicweboholic - (17:38): (oh forgot to mention) xwiki-enterprise-web-2.0.1.war  \nrstavro joined #xwiki at 17:39  \nvmassol left at 17:51 (Quit: Leaving.  \nvmassol joined #xwiki at 17:53  \njvdrean left at 17:57 (Ping timeout: 264 seconds  \nsematicweboholic - (17:59): sdumitriu, any hints?  \nsdumitriu - (17:59): Can you try to restart the server?  \nsematicweboholic - (17:59): ya i did. .(several times) :D  \nsdumitriu - (18:01): Hm...  \njvdrean joined #xwiki at 18:01  \nCalebJamesDeLisl - (18:13): sematicweboholic: Are you using tomcat now? (Another guy had the same problem and he was.)  \nsematicweboholic - (18:14): CalebJamesDeLisl, jetty from eclipse.  \nsematicweboholic - (18:15): Btw, the users have been created.. problem is sending email for activating account..  \ntmortagne - (18:16): xwiki js masters: i'm trying to change the way the url is generated in XWiki.displayDocExtra (xwiki.js) to use the new /get/ action, i first tryed to do \"$doc.getURL(\"get\", 'xpage=xpart')\" + '&vm=' + extraTemplate, like i did in comment.js for example for $doc is not the current doc it seems: it's generating http://127.0.0.1:8080/xwiki/bin/get/resources/js?xpage=xpart&vm=commentsinline.vm  \nsematicweboholic - (18:18): When i wrote client for java mail sometime ago.. i use four properties.. hosts, auth, starttls.enable, and port.. and use SMTPAuthenticator while creating session.. I guess xwiki is also using similar config.  \nCalebJamesDeLisl - (18:19): Looks like Exception.getMessage() is returning null.  \nCalebJamesDeLisl - (18:21): I'll look at it later, got 21 inches of snow yesterday (533cm) have some shoveling to do at the moment.  \nsematicweboholic - (18:24): CalebJamesDeLisl, not enought compare to here (few weeks ago).. DC Area .)  \nsdumitriu - (18:27): sematicweboholic: Works for me  \nsdumitriu - (18:29): As Caleb said, the stacktrace is caused by the fact that the actual error does not have a message  \nsdumitriu - (18:29): Which is strange  \nsdumitriu - (18:30): But again, using a similar config I managed to get it to work  \nsdumitriu - (18:30): Ah, wait  \nsdumitriu - (18:30): SMTP USERNAME: [[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nsdumitriu - (18:30): Should be just XXX  \nsdumitriu - (18:30): Without @gmail.com  \nsdumitriu - (18:30): Can you try it?  \nsdumitriu - (18:32): CalebJamesDeLisl: CAPTCHA Bug, ping me when you're back  \nvmassol - (18:35): CalebJamesDeLisl: wow, heavy snow  \nsdumitriu - (18:35): vmassol: It's not 533cm, maybe mm  \ntmortagne - (18:39): is it a known issue that history does not work when there is only one version ? It start printing something when there is at least 2 version and the first one is never printed (i.e. it's starting to 2.1)  \njvdrean left at 18:39 (Ping timeout: 240 seconds  \nsdumitriu - (18:39): tmortagne: No  \nsdumitriu - (18:39): It should work fine  \ntmortagne - (18:39): i'm on trunk  \nsdumitriu - (18:40): 2.2, version 1.1 correctly printed  \ntmortagne - (18:40): i debugued a little ans it seems that the issue comes directly from the version storage that never return the first version  \nsdumitriu - (18:40): Hm, wait  \nsdumitriu - (18:40): There's a bug with the import  \nsdumitriu - (18:40): Check on a new document  \nsdumitriu - (18:40): save  \nsdumitriu - (18:40): look at history  \nsdumitriu - (18:40): Does it also fail this way?  \ntmortagne - (18:42): yes you are right, for some reason the import doe snot generate an archive when saving the document  \ntmortagne - (18:42): it's working fine with a new doc  \ntmortagne - (18:42): that's a critical bug  \nmflorea left at 18:42 (Quit: Leaving.  \ntmortagne - (18:43): do we have the same thing on 2.2 ?  \njvdrean joined #xwiki at 18:45  \njvdrean left at 18:45 (Client Quit  \nflorinciu left at 18:46 (Read error: Connection reset by peer  \nbblfish - (19:08): hi, not got too much feedback on the foaf+ssl plugin.  \nsdumitriu - (19:10): bblfish: Sometimes, \"No news is good news\"  \nbblfish - (19:10): no doubt. :-)  \nvmassol - (19:10): sdumitriu: still would be good if another committer agrees on putting henry's stuff on incubator...  \nvmassol - (19:10): and if we don't agree  \nvmassol - (19:11): then we should give him a wiki on myxwiki.org  \nsdumitriu - (19:11): Yes, lots of code reviews waiting in the queue...  \nvmassol - (19:11): why code review?  \nsdumitriu - (19:11): I'm getting overlogged  \nvmassol - (19:11): no need to review anything  \nbblfish - (19:11): oh you do code reviews :-)  \nvmassol - (19:11): he's just asking to deploy it so that we cna test it  \nsdumitriu - (19:11): Ah, really?  \nvmassol - (19:12): sdumitriu: mail is \"[xwiki-devs] keygen application for xwiki\"  \nvmassol - (19:13): so we just need to agree to put some libs in web-inf/lib of myxwiki.org  \nbblfish - (19:13): It's easy to undo if there is a problem. step 4 in http://github.com/bblfish/keygenapp/blob/master/xwiki/README.txt can be undone easily  \nvmassol - (19:13): and load his xar  \nvmassol - (19:13): bblfish: as I said it would help if you can provide the binary  \nvmassol - (19:14): (at least for me since I don't have git installed)  \nbblfish - (19:14): let me see perhaps I can load them on github  \nbblfish - (19:14): what OS are you using vmassol?  \nvmassol - (19:15): mac  \nvmassol - (19:17): sdumitriu, tmortagne: ok to give henry's access to incubator and to deploy his 2 lib in WEB-INF/lib there?  \nbblfish - (19:17): I can't remember how I installed git... but it was easy to do  \nvmassol - (19:17): yes but if you make it easy for me, it'll speed the deploymen  \ntmortagne - (19:17): vmassol: sure  \nsematicweboholic - (19:18): sdumitriu, just got back from lunch. .. i'll give it a shot without gmail.com  \nvmassol - (19:18): bblfish: when you can provide me with the libs, I'll install them  \nKermitTheFragger left at 19:18 (Quit: Leaving  \nvmassol - (19:18): bblfish: going to play with the kids now, but I can deploy later tonight if you put the binaries somewhere  \nbblfish - (19:19): I think it was this: http://code.google.com/p/git-osx-installer/  \ntmortagne - (19:19): vmassol: but wouldn't a new wiki just for that be better ?  \ntmortagne - (19:19): with doc about it etc...  \nvmassol - (19:19): tmortagne: why?  \nvmassol - (19:19): that's not our strategy  \nvmassol - (19:19): we can change but I think ours is ok  \nvmassol - (19:19): ours = all contrib/devs are done on incubator  \ntmortagne - (19:19): (did not followed the conversation sorry)  \ncypromis - (19:19): how do I get the eventcalendar to show up correctly in 2.2 ?  \nvmassol - (19:19): (for early testing)  \ncypromis - (19:20): I thin the template is not compatible ?  \ntmortagne - (19:20): ok  \nbblfish - (19:20): it's pretty light weight this version btw, It only gives people certificates. So it does not touch the login code  \nbblfish - (19:21): ok, so I'll push the jars up on bblfish.net  \njvdrean joined #xwiki at 19:22  \ncypromis - (19:25): do I need to fix the xwiki.alendarsheet ?  \njvdrean left at 19:27 (Client Quit  \nbblfish - (19:28): mhh, wait. what jdk are you using on the incubator to power xwiki?  \nbblfish - (19:30): (I mean jdk version of course)  \nbblfish - (19:34): just remembered that I am using a jdk1.6 library  \nvmassol - (19:36): bblfish: it's 1.6 too  \nbblfish - (19:36): ah ok, should be good then, though I should add that info to the readme  \nsematicweboholic - (19:38): sdumitriu, still same exception.. is there any way to test just sendmail api. (without registration of new user)?  \nvmassol - (19:38): cypromis: no idea, all I know is that last time someone here used it was around XE 1.6 or 1.7 I think  \nvmassol - (19:39): so it's very likely it's not working anymore  \nvmassol - (19:39): it's not actively maintained but if you can provide a patch we can apply it  \ncypromis - (19:41): I guess its a proble with the xwiki 1.0 syntax in the template which probably is not supported anymore correctly ?  \nvmassol - (19:42): syntax 1.0 is fully supported  \ncypromis - (19:42): hmmm than I don't understand whats wrong  \ncypromis - (19:42): instead of the calendar I get:  \ncypromis - (19:42): $cparams.put(\"categories\", $rqcategories)  \ncypromis - (19:42): $cview.getHTMLCalendar($cparams, \"\")  \ncypromis - (19:43): which looked to me like a badly escaped velocity template :)  \narkub left at 19:43 (Quit: Leaving  \nvmassol - (19:43): can you check that your page is set to containsyntax 1.0?  \nvmassol - (19:43): and set it to 1.0 if that's not the case  \ncypromis - (19:44): page syntax is set to  \ncypromis - (19:44): xwiki 1.0  \nvmassol - (19:44): also have you installed the plugin?  \ncypromis - (19:44): plugin ?  \nvmassol - (19:44): the calendra plugin  \ncypromis - (19:44): hmm it does not say so in the doc of the application  \ncypromis - (19:44): so that is probably the problem  \nvmassol - (19:44): checking  \ncypromis - (19:44): rotfl  \nvmassol - (19:45): http://code.xwiki.org/xwiki/bin/view/Plugins/CalendarPlugin  \ncypromis - (19:45): ok have to dig out my account/pass and update the app doc  \nvmassol - (19:45): \"This application requires the http://code.xwiki.org/xwiki/bin/view/Plugins/CalendarPlugin plugin.\"  \nvmassol - (19:45): :)  \nvmassol - (19:45): on http://code.xwiki.org/xwiki/bin/view/Applications/CalendarApplication  \nvmassol - (19:45): what doc are you referring to?  \ncypromis - (19:46): http://code.xwiki.org/xwiki/bin/view/Applications/CalendarApplication  \ncypromis - (19:46): same  \nvmassol - (19:46): what's wrong with it?  \ncypromis - (19:46): where does it say that it requires the plugin ?  \nvmassol - (19:46): in the Prerequisuite section  \nvmassol - (19:46): there isn't much in the doc  \nvmassol - (19:46): so you can't miss it  \nvmassol - (19:46): :)  \ncypromis - (19:47): hmmm I missed it 3 times  \ncypromis - (19:47): maybe we should make that sentence red o somthing ?  \ncypromis - (19:47): cause the link is invisible if you ahve been there already  \nvmassol - (19:47): well Prerequisite as a top level header sounds good to me  \nvmassol - (19:47): :)  \nvmassol - (19:47): but yes we could use a warning  \nvmassol - (19:47): although it's a bit overkill  \nvmassol - (19:48): next someone will ask how to use it and we'll need to highlight in red the \"how to use\" part  \nvmassol - (19:48): :)  \nvmassol - (19:48): screenshot is badly placed though  \nvmassol - (19:48): fixing that  \nglerouge left at 19:48 (Quit: Leaving.  \ncypromis - (19:49): I usualy do not overread things like that  \ncypromis - (19:49): but the css makes the link nearly the same color as the text  \ncypromis - (19:49): so it does not look something clickable and gets overseen  \ncypromis - (19:49): :)  \ncypromis - (19:49): hehe  \nvmassol - (19:50): well even if you don't see the link  \nvmassol - (19:50): you still see it requires the plugin  \nvmassol - (19:50): anyway try it and tell us if it works  \nvmassol - (19:50): I'm curious to know if it still kind of work  \nvmassol - (19:50): although it was never perfect  \nvmassol - (19:50): got to go  \nvmassol - (19:50): bbl  \ncypromis - (19:50): if its good enough to show when which employee is off  \ncypromis - (19:50): its fine  \ncypromis - (19:50): :D  \nvmassol left at 19:54 (Ping timeout: 256 seconds  \nrstavro left at 20:00 (  \nanamarias left at 20:04 (Quit: anamarias  \nvmassol joined #xwiki at 20:23  \nCalebJamesDeLisl - (20:27): sdumitriu: Captcha bug? \u00a0(and yes millimeters)  \nvmassol - (20:39): restarting tomcat on myxwiki.org  \nvmassol - (20:40): jvelociter: is there anything to do to restart tomcat apart from sudo /etc/init.d/tomcat.sh restart?  \nvmassol - (20:41): seems it's not working for some reason  \njvelociter - (20:42): vmassol: no there should not  \nsdumitriu - (20:47): CalebJamesDeLisl: Go to registration  \nsdumitriu - (20:47): Fill in fields, resolve captcha, submit  \nsdumitriu - (20:47): back  \nsdumitriu - (20:48): change fields, same captcha  \nsdumitriu - (20:48): submit, it works  \ncypromis - (20:48): oh, nice  \nsdumitriu - (20:48): You can reuse this way the same image as many times as you want  \nsdumitriu - (20:48): Which is wrong  \nsdumitriu - (20:49): Do you have an idea how to solve it?  \nCalebJamesDeLisl - (20:50): That should not happen because the captcha code is just a wrapper for the jcaptcha captchaService. Let me take a look...  \nsdumitriu - (20:53): Basically, when going back there is no request to the server, so the session is kept intact  \nsdumitriu - (20:53): So the bug could be that the session is not cleaned after solving the captcha  \nsematicweboholic - (20:54): sdumitriu, does upgrading my version 2.0.1 to current version would help ?  \nvmassol - (20:54): anyone has any idea to get myxwiki back ?  \nCalebJamesDeLisl - (20:54): Are you filling out the form correctly (successful registration) or making a mistake?  \nsdumitriu - (20:54): CalebJamesDeLisl: Successful  \nsdumitriu - (20:55): sematicweboholic: Nope. I was away, does it still fail with just the username?  \nsdumitriu - (20:56): sematicweboholic: What appserver are you using? Tomcat?  \nsematicweboholic - (20:56): sdumitriu, yaa its still showing same error.  \nsematicweboholic - (20:56): sdumitriu, no.. jetty  \nsdumitriu - (20:56): Strange...  \nsdumitriu - (20:56): Can you try with a different gmail account?  \nCalebJamesDeLisl - (20:58): Hmm, can't repeat. What I get is: Successful registration of user Test15, press back, same captcha image, try to register user Test16 with same captcha answer and it says \"wrong answer\" so it appears the browser holds the image but everything else works.  \nsematicweboholic - (20:58): sdumitriu, i tried to some random smtp address with with port .and some user and pass.. still showing same error.. so its not gmail specific.. when i remove user/pass/properties... then the error is \"No AUTH command has been given\"  \nvmassol - (21:04): bblfish: I've tried to install your jars but they make tomcat fail to load xwiki  \nanamarias joined #xwiki at 21:08  \nvmassol - (21:08): I can't find any specific error in the log though  \nvmassol - (21:08): all I have is:  \nvmassol - (21:08): SEVERE: Error listenerStart  \nvmassol - (21:08): Feb 25, 2010 7:54:01 PM org.apache.catalina.core.StandardContext start  \nvmassol - (21:08): SEVERE: Context [/xwiki] startup failed due to previous errors  \nvmassol - (21:09): bblfish: can you try if it works locally?  \nvmassol - (21:13): bblfish: ok found the b  \nvmassol - (21:13): pb  \nvmassol - (21:13): I think  \nvmassol - (21:13): are you using ScriptService?  \nvmassol - (21:13): I get Caused by: java.lang.ClassNotFoundException: org.xwiki.script.service.ScriptService  \nvmassol - (21:14): if so that won't work on a 2.2 instance  \nvmassol - (21:14): it's only avail in 2.3-SNAPSHOT  \nCalebJamesDeLisl - (21:20): Thanks Vincent for pointing out those tests (was thinking: \"I don't have to look at 2.2 tests, I haven't touched 2.2\") Beginning to learn that nothing can be safely ignored.  \nsematicweboholic - (21:27): sdumitriu, there must be something wrong with my xwiki (or me).. now its working :D . I removed all the STMP field setting first.. and add the fields one by one.  \nsematicweboholic - (21:28): sdumitriu, but there's a new problem with the email body... http://pastie.org/842963  \nCalebJamesDeLisl - (21:40): Looks like either the email body isn't getting evaluated or maybe there are variables which are not defined.  \nCalebJamesDeLisl - (21:41): Do you have the admin page with the email content setting?  \nCalebJamesDeLisl - (21:41): open?  \nsdumitriu left at 21:41 (Quit: Leaving.  \nCalebJamesDeLisl - (21:43): sematicweboholic: Looks like variables are not defined in the email body.  \nsematicweboholic - (21:44): do i need to uncomment the header ... like #set ($wikiname .... ) \u00a0to set($wikiname..... )??  \nCalebJamesDeLisl - (21:46): In velocity # isn't comment, comment is ##  \nCalebJamesDeLisl - (21:46): \"directives\" start with #  \nCalebJamesDeLisl - (21:47): I copied and pasted the content of the email into the main page and viewed it. $xwikiname and $validkey were undefined (as expected) but everything else worked.  \nsdumitriu joined #xwiki at 21:49  \nsematicweboholic - (21:54): CalebJamesDeLisl, \u00a0so i have to define both $wikiname and $validkey manually ?  \nCalebJamesDeLisl - (21:54): No they should be defined for you.  \nCalebJamesDeLisl - (21:56): Try pasting this into a page: {{velocity}}$doc.getExternalURL(\"edit\", \"thisIs=aTest&thisShould=beAQueryString\"){{/velocity}} and see what it prints.  \nCalebJamesDeLisl - (21:57): It looks as if in your version, getExternalURL is not cooperating.  \nCalebJamesDeLisl - (22:07): sdumitriu: re Captcha bug: Were you able to actually sign up additional users or just see the same image again?  \nsematicweboholic - (22:09): CalebJamesDeLisl, genExternalURL .... may be related to proxy/reverseproxy..  \nCalebJamesDeLisl - (22:09): I think you're right, BTW what is the output? nothing or a bad link?  \nCalebJamesDeLisl - (22:10): If it outputs nothing then it just returns the command to the screen (which is why you saw code in the email.)  \nsematicweboholic - (22:10): CalebJamesDeLisl, {{velocity}}http://mysite.com/bin/edit/Blog/BlogIntroduction?thisIs=aTest&thisShould=beAQueryString{{/velocity}}  \nCalebJamesDeLisl - (22:12): It appears to be working right.  \nsematicweboholic - (22:12): i setup proxy yesterday..was some issues with some css .. but i later fixed it.  \nCalebJamesDeLisl - (22:12): try copying the email content (from the administration page) into the page and see how that works.  \nsematicweboholic - (22:14): In order to activate your account, please follow this link:http://mysite.com/bin/view/XWiki/AccountValidation?validkey=${validkey}&xwikiname=${xwikiname}  \nsematicweboholic - (22:15): which means it is resolving within the page.  \nCalebJamesDeLisl - (22:16): Hmm, that's what I get too. I wonder why it wasn't doing that when it was sending the email.  \nsematicweboholic - (22:22): I am trying to use different version of jetty  \nsematicweboholic - (22:22): though its might not the source of the problem  \nCalebJamesDeLisl - (22:28): Don't think so.  \nsematicweboholic - (22:28): yaa no effect.  \nCalebJamesDeLisl - (22:29): Can anyone tell me if this is supposed to succeed?  \nCalebJamesDeLisl - (22:29): {{groovy}}println(xcontext.getContext().getWiki().parseContent(\"#set($test = 'Hello World') $test\", xcontext.getContext()));{{/groovy}}  \nCalebJamesDeLisl - (22:29): I'm thinking that it should...  \nCalebJamesDeLisl - (22:40): Looks like a bug. Namely: XWiki.parseContent fails if context document is syntax 2.0  \nmflorea joined #xwiki at 22:41  \nsematicweboholic - (22:42): sematicweboholic, i removed proxy.. still no luck.  \nsematicweboholic - (22:47): CalebJamesDeLisl, hey, in email body its is resolving this --> Hello $xwiki.getUserName(\"$xwikiname\", false) as Hello \\*username\\*.. in mail.  \nCalebJamesDeLisl - (22:48): was the username you chose \"username\"  \nCalebJamesDeLisl - (22:48): ?  \nsematicweboholic - (22:48): :) no  \nsematicweboholic - (22:49): its the full name.. like first name and last name  \nCalebJamesDeLisl - (22:51): So that is working. Are you still getting \"welcome to $wikiname\"?  \nsilviar joined #xwiki at 22:52  \nCalebJamesDeLisl - (22:56): if you're still getting the message saying \"Subject: Validate your account on $wikiname\" I think I have a workaround.  \nsematicweboholic - (22:57): CalebJamesDeLisl, ?  \nCalebJamesDeLisl - (22:58): Where it says $wikiname (2 places) replace with:  \nCalebJamesDeLisl - (22:58): $xwiki.getDocument(\"Main.WebHome\").getExternalURL().substring($wikiurl.indexOf(\"//\")).substring(2, $wikiname.indexOf(\"/\", 3))  \nCalebJamesDeLisl - (22:59): oops never mind that won't work.  \nCalebJamesDeLisl - (23:01): Replace with this:  \nCalebJamesDeLisl - (23:01): $xwiki.getDocument(\"Main.WebHome\").getExternalURL().replaceAll('http://', '').replaceAll('/.\\*','')  \nCalebJamesDeLisl - (23:02): Replace for $wikiname not $xwikiname (leave that the same.)  \nsematicweboholic - (23:03): CalebJamesDeLisl, $doc.getExternalURL(\"edit\", \"thisIs=aTest&thisShould=beAQueryString\") \u00a0<---- this is working in email body  \nsematicweboholic - (23:03): CalebJamesDeLisl, $xwiki.getDocument(\"Main.WebHome\").getExternalURL() \u00a0\u00a0<----- this is not working  \nsematicweboholic - (23:03): in email body  \nCalebJamesDeLisl - (23:04): Hmm. Just a second.  \ncypromis - (23:05): vmassol: it woks now  \ncypromis - (23:05): I would preferit having the layout like on the screenshot in the doc tho  \ncypromis - (23:05): no idea how to get it to look that way  \nCalebJamesDeLisl - (23:08): This should work then $doc.getExternalURL('view', '').replaceAll('http://', '').replaceAll('/.\\*','')  \nsematicweboholic - (23:20): CalebJamesDeLisl, ya that worked.  \nCalebJamesDeLisl - (23:21): Good. So sorry for all of the trouble. We really need to rewrite the email stuff badly.  \nsematicweboholic - (23:23): CalebJamesDeLisl, so what next..  \nCalebJamesDeLisl - (23:23): Is the email working?  \nsematicweboholic - (23:24): email is working but the body is like you know not working..  \nCalebJamesDeLisl - (23:25): Which part is still giving you trouble?  \nsematicweboholic - (23:28): i didn't get why you want me check $doc.getExternalURL('view', '').replaceAll('http://', '').replaceAll('/.\\*','') ..  \nsematicweboholic - (23:28): this will just give domain name..  \nsematicweboholic - (23:29): But my mail this is not working --> $xwiki.getDocument(\"XWiki.AccountValidation\").getExternalURL(\"view\", \"validkey=${validkey}&xwikiname=${xwikiname}\").  \nsematicweboholic - (23:29): in my understanding... everything thats related to $xwiki.getDocument(\"\") is not working.  \nCalebJamesDeLisl - (23:30): There are 2 places in the message where it's supposed to display the domain name, where it says $wikiname  \nsematicweboholic - (23:33): however as i said before $doc is working and pointing to current page.. which i think is \"XWiki/Register\"  \nCalebJamesDeLisl - (23:39): Have you tried putting $validkey and $xwikiname in the page to see if they display something?  \nsilviar left at 23:39 (Quit: ChatZilla 0.9.85 [Firefox 3.5.8/20100202165920]  \nCalebJamesDeLisl - (23:39): the page = the email content window.  \nsematicweboholic - (23:44): yaa the validname and xwikiname is working  \nsematicweboholic - (23:46): so the final link would be http://xxx.com/bin/view/XWiki/AccountValidation?validkey=GmlJONuRt7ncjVaT&xwikiname=Asddskdddd ????  \nCalebJamesDeLisl - (23:46): You could try $xwiki and then on another line $xwiki.getDocument('XWiki.AccountValidation')  \nCalebJamesDeLisl - (23:47): xxx.com that domain must have been expensive ;)  \nCalebJamesDeLisl - (23:47): Yes that looks right.  \nsematicweboholic - (23:48): :D and I would be millonaire (and few chicks on my side) ;)  \nCalebJamesDeLisl - (23:49): I have to start some pizza dough, be back in 20 minutes or so.  \nsematicweboholic - (23:52): CalebJamesDeLisl, i got to go as well..  \nsematicweboholic - (23:52): may be tomorrow.  \nsematicweboholic - (23:52): but thats for the help.. appreciate  \nanamarias left at 23:59 (Quit: anamarias  \n\n"}