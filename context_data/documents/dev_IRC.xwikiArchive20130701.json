{"id": "dev:IRC.xwikiArchive20130701", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20130701", "title": "IRC Archive for channel #xwiki on 01 July 2013 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<Denis>\u00a0has joined #xwiki  \n05:51\u00a0<Denis>\u00a0has quit  \n07:49\u00a0<mflorea>\u00a0has joined #xwiki  \n08:00\u00a0<vmassol>\u00a0has joined #xwiki  \n08:26\u00a0<msmeria>\u00a0has joined #xwiki  \n08:37\u00a0<evalica>\u00a0has joined #xwiki  \n08:42\u00a0<tmortagne>\u00a0has joined #xwiki  \n08:49\u00a0<vmassol>\u00a0good morning  \n08:49\u00a0<vmassol>\u00a0hope you all had a good we!  \n08:49\u00a0<vmassol>\u00a0today is 5.1 final release day :)  \n08:50\u00a0<vmassol>\u00a0we have work to do on the CI jobs  \n09:07\u00a0<msmeria>\u00a0good morning  \n09:08\u00a0<msmeria>\u00a0the Solr indexing bug seems to be fixed  \n09:08\u00a0<msmeria>\u00a0I just did a full reindex in 2min  \n09:10\u00a0<tmortagne>\u00a0it was not a bug, just configuration, you can reproduce the same thing by telling Solr to index one by one  \n09:20\u00a0<vmassol>\u00a0msmeria: cool :)  \n09:32\u00a0<vmassol>\u00a0ouch  \n09:32\u00a0<vmassol>\u00a0seems we have a bug/regression in search when you're not logged in  \n09:32\u00a0<vmassol>\u00a0for ex go to http://playground.xwiki.org/xwiki/bin/view/Main/WebHome  \n09:32\u00a0<vmassol>\u00a0log out and try searhcing for \"test\"  \n09:32\u00a0<vmassol>\u00a0\"Caused by: com.xpn.xwiki.XWikiException: Error number 9001 in 9: Access denied in edit mode on document playground:XWiki.SearchConfig  \n09:32\u00a0<vmassol>\u00a0\"  \n09:37\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n10:42\u00a0<sburjan>\u00a0has joined #xwiki  \n10:44\u00a0<Slashman>\u00a0has joined #xwiki  \n11:04\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:06\u00a0<msmeria>\u00a0tmortagne: XWIKI-9291 doesn't seem to be fixed  \n11:08\u00a0<sburjan>\u00a0has quit  \n11:09\u00a0<tmortagne>\u00a0msmeria: I tested it several times, I'm pretty sure it is. Maybe the XE you tested does not contain the fix.  \n11:11\u00a0<msmeria>\u00a0as I said in my comment, I tested on today's latest XEM war build  \n11:12\u00a0<msmeria>\u00a0I tested on both hsqldb and mysql  \n11:12\u00a0<sburjan>\u00a0has joined #xwiki  \n11:17\u00a0<tmortagne>\u00a0msmeria: you sure you looked at template wiki after the wiki creation and not at the new wiki ?  \n11:18\u00a0<msmeria>\u00a0tmortagne: I looked at the new wiki  \n11:18\u00a0<sburjan>\u00a0tmortagne: so basically when creating a new wiki, the template loses its history ?  \n11:18\u00a0<tmortagne>\u00a0new wiki does not have history, this is on purpose and that's not the issue  \n11:18\u00a0<tmortagne>\u00a0the issue if that the history was wiped on the template INSTEAD of the new wiki  \n11:19\u00a0<msmeria>\u00a0I see  \n11:19\u00a0<msmeria>\u00a0than I guess it's fixed because the history is accessible after creating a new wiki  \n11:19\u00a0<tmortagne>\u00a0s/if that/is that/  \n11:19\u00a0<sburjan>\u00a0tmortagne: but how is a new wiki created ? afaik it copied all the pages from the template to the new wiki. Isn't this the process ?  \n11:20\u00a0<tmortagne>\u00a0msmeria: anyway if the history is lost on the new wiki then it was a good sign already ;)  \n11:20\u00a0<sburjan>\u00a0how is this done fgrom a technical POV ? page copy without history ?  \n11:20\u00a0<tmortagne>\u00a0sburjan: copy page and then wipe the history (veeeery crappy should be improved but did not had time for it)  \n11:20\u00a0<tmortagne>\u00a0problem is that the history was removed in the wrong wiki  \n11:21\u00a0<sburjan>\u00a0I understand  \n11:23\u00a0<tdelafosse>\u00a0has quit  \n11:24\u00a0<tdelafosse>\u00a0has joined #xwiki  \n11:34\u00a0<Denis>\u00a0has joined #xwiki  \n11:48\u00a0<msmeria>\u00a0has quit  \n11:53\u00a0<vmassol>\u00a0I think http://jira.xwiki.org/browse/XWIKI-9298 is a blocker for 5.1 final  \n11:54\u00a0<vmassol>\u00a0any committer who has the time to fix it now?  \n12:13\u00a0<tmortagne>\u00a0vmassol: I have to go but I can look at it after lunch  \n12:13\u00a0<vmassol>\u00a0ok  \n12:13\u00a0<vmassol>\u00a0thanks  \n12:24\u00a0<msmeria>\u00a0has joined #xwiki  \n13:20\u00a0<mflorea>\u00a0has quit  \n13:43\u00a0<itools>\u00a0has joined #xwiki  \n13:44\u00a0<sburjan>\u00a0tmortagne: ping  \n14:21\u00a0<itools>\u00a0hello! I've got a problem with livetable. We use XWiki 3.5. I've got class TechSupport/AddressPool with fields ipaddress, macaddress, fullname, type (all are strings). I've got one object of that class defined. Then I write in page TechSupport/AddressPool the following:  \n14:21\u00a0<itools>\u00a0{{velocity}}  \n14:21\u00a0<itools>\u00a0#set($columnsProperties = {  \n14:21\u00a0<itools>\u00a0\u00a0\u00a0\u00a0\"fullname\" : { \"type\" : \"text\" },  \n14:21\u00a0<itools>\u00a0\u00a0\u00a0\u00a0\"type\" : { \"type\" : \"text\" },  \n14:21\u00a0<itools>\u00a0\u00a0\u00a0\u00a0\"ipaddress\" : { \"type\" : \"text\" }  \n14:21\u00a0<itools>\u00a0})  \n14:21\u00a0<itools>\u00a0\u00a0\u00a0\"className\":\"TechSupport.AddressPool\",  \n14:21\u00a0<itools>\u00a0\u00a0\u00a0\"rowCount\": 10  \n14:21\u00a0<itools>\u00a0})  \n14:21\u00a0<itools>\u00a0But I see nothing :(  \n14:32\u00a0<npm>\u00a0has quit  \n14:50\u00a0<gdelhumeau>\u00a0Hi. I'm not a member of incubator.myxwiki.org. Can you create an account for me?  \n14:51\u00a0<evalica>\u00a0gdelhumeau: I can do it  \n14:51\u00a0<gdelhumeau>\u00a0evalica: thx  \n14:53\u00a0<gdelhumeau>\u00a0itools: you have the #livetable() line too?  \n14:53\u00a0<sdumitriu>\u00a0has quit  \n14:54\u00a0<itools>\u00a0yes, i've got #livetable(\"userdirectory\" $columns $columnsProperties $options)  \n14:54\u00a0<sdumitriu>\u00a0has joined #xwiki  \n15:00\u00a0<mflorea>\u00a0has joined #xwiki  \n15:04\u00a0<gdelhumeau>\u00a0itools: so, there is no lines  \n15:05\u00a0<gdelhumeau>\u00a0itools: can you check the results of the ajax request that the livetable make?  \n15:05\u00a0<itools>\u00a0gdelhumeau: yes, i've got empty table. How to check?  \n15:06\u00a0<gdelhumeau>\u00a0with Firefox, for example, use \"web console\" (ctrl+maj+K)  \n15:09\u00a0<itools>\u00a0gdelhumeau: do you mean that? [16:08:09.601] GET http://wiki/xwiki/bin/get/XWiki/LiveTableResults?outputSyntax=plain&transprefix=&classname=TechSupport.AddressPool&collist=fullname,type,macaddress,ipaddress&offset=1&limit=10&reqNo=1&sort=fullname&dir=asc [HTTP/1.1 200 OK 54ms]  \n15:09\u00a0<gdelhumeau>\u00a0itools: yes, I mean that  \n15:10\u00a0<gdelhumeau>\u00a0the content of that pahe should be some json content  \n15:10\u00a0<gdelhumeau>\u00a0but it may contain errors  \n15:11\u00a0<itools>\u00a0gdelhumeau: { \"totalrows\": 0, \"matchingtags\": { }, \"tags\" : [ ], \"returnedrows\": \u00a00 , \"offset\": 1, \"reqNo\": 1, \"rows\": [ ]}  \n15:13\u00a0<gdelhumeau>\u00a0OK, the SQL query generated must be wrong  \n15:14\u00a0<itools>\u00a0gdelhumeau: can I do something with it?  \n15:14\u00a0<gdelhumeau>\u00a0I'm looking  \n15:16\u00a0<gdelhumeau>\u00a0in which document your object is?  \n15:16\u00a0<gdelhumeau>\u00a0Can you look at http://wiki/xwiki/bin/get/XWiki/LiveTableResults?outputSyntax=plain&transprefix=&classname=TechSupport.AddressPool&collist=fullname,type,macaddress,ipaddress&offset=1&limit=10&reqNo=1&sort=fullname&dir=asc&sql=1 ?  \n15:16\u00a0<gdelhumeau>\u00a0(added sql=1 at the end of the request)  \n15:17\u00a0<itools>\u00a0gdelhumeau: { \"sql\": \", BaseObject as obj , StringProperty fullname \u00a0where obj.name=doc.fullName and obj.className = ? and doc.fullName not in (?, ?) \u00a0and obj.id=fullname.id.id and fullname.name = ? \u00a0\u00a0order by fullname.value asc\", \"countsql\": \", BaseObject as obj , StringProperty fullname \u00a0where obj.name=doc.fullName and obj.className = ? and doc.fullName not in (?, ?) \u00a0and obj.id=fullname.id.id and fullname.name = ? \", \"params\": \"[TechSupport.AddressPool,   \n15:17\u00a0<gdelhumeau>\u00a0can you paste the \"params\" section too?  \n15:18\u00a0<itools>\u00a0gdelhumeau: do you mean \"params\": \"[TechSupport.AddressPool, TechSupport.AddressPoolTemplate, TechSupport.AddressPool, fullname]\"?  \n15:18\u00a0<gdelhumeau>\u00a0yep  \n15:19\u00a0<itools>\u00a0gdelhumeau: do I need to have template TechSupport.AddressPoolTemplate?  \n15:19\u00a0<gdelhumeau>\u00a0you said you have created an object of that class, where is it on the wiki?  \n15:19\u00a0<gdelhumeau>\u00a0itools: no you don't  \n15:20\u00a0<gdelhumeau>\u00a0but in case the template exists, the livetable will exclude it from the results  \n15:21\u00a0<itools>\u00a0gdelhumeau: I've added them to page TechSupport.AddressPool (Edit -> Class, Edit -> Objects)  \n15:24\u00a0<gdelhumeau>\u00a0ok  \n15:24\u00a0<gdelhumeau>\u00a0so, by default, this page is excluded from the result  \n15:24\u00a0<gdelhumeau>\u00a0:)  \n15:24\u00a0<gdelhumeau>\u00a0try attach you object in other place, and it's gonna work  \n15:25\u00a0<itools>\u00a0gdelhumeau: ok, I'll try. Thank a lot!  \n15:32\u00a0<msmeria>\u00a0mflorea: there are 3 filters on the Solr search which I think should be renamed: Space\\_exact, Name\\_exact and Creationdate  \n15:35\u00a0<mflorea>\u00a0msmeria: filters? you mean facets? and they don't have to be renamed, we just need to display a pretty name  \n15:36\u00a0<itools>\u00a0gdelhumeau: Still not works :( I've created page TechSupport/MACDBEntry, added class and one object, then I've changed livetable in TechSupport/AddressPool (set options->class to TechSupport.MACDBEntry), but call to LiveTableResults still returns nothing.  \n15:36\u00a0<gdelhumeau>\u00a0no, don't change the livetable option  \n15:36\u00a0<gdelhumeau>\u00a0What is excluded from the result is the class page itself  \n15:37\u00a0<gdelhumeau>\u00a0if you add an object on the same document than the class, it will not be displayed in the livetable  \n15:38\u00a0<gdelhumeau>\u00a0so your class goes to AddressPoolClass (for example), and your object in AddressPool1 (for example)  \n15:39\u00a0<itools>\u00a0gdelhumeau: Thanks! Now it works!  \n15:42\u00a0<gdelhumeau>\u00a0welcome  \n15:45\u00a0<msmeria>\u00a0mflorea: yes, that's what I was talking about. The pretty names for the facets should be changed before the release of 5.1  \n16:03\u00a0<mflorea>\u00a0msmeria: it's minor, it doesn't prevent the feature from working  \n16:03\u00a0<mflorea>\u00a0I'll see if I have time for it before 5.1 final  \n16:05\u00a0<msmeria>\u00a0mflorea: ok. it's your call :)  \n16:06\u00a0<npm>\u00a0has joined #xwiki  \n16:09\u00a0<Slashman>\u00a0has quit  \n16:12\u00a0<msmeria>\u00a0has quit  \n16:13\u00a0<msmeria>\u00a0has joined #xwiki  \n16:14\u00a0<msmeria>\u00a0has quit  \n16:15\u00a0<tmortagne>\u00a0msmeria: those are not the pretty names actually, we need to generate translation keys from those technical ids to get really pretty names  \n16:15\u00a0<mflorea>\u00a0tmortagne: yes, that is what I has in mind  \n16:16\u00a0<tmortagne>\u00a0mflorea: sounded like what you would do :)  \n16:16\u00a0<vmassol>\u00a0restarting sonar.xwiki.org  \n16:19\u00a0<sburjan>\u00a0tmortagne: when logged in as Admin, the only place I can search stuff on all wikis is only form the main wiki. As admin, if I go to a subwiki, I can't search on other wikis. Is it intended ?  \n16:20\u00a0<Slashman>\u00a0has joined #xwiki  \n16:20\u00a0<mflorea>\u00a0sburjan: a subwiki shouldn't be aware of other wikis, so I don't see how you want to search on entire farm from a sub wiki  \n16:21\u00a0<sburjan>\u00a0ok, i understand  \n16:22\u00a0<vmassol>\u00a0OTOH in a workspace mode, it's less obvious that this use case isn't needed  \n16:22\u00a0<vmassol>\u00a0you might want to be able to search in all your workspaces  \n16:36\u00a0<Denis>\u00a0has quit  \n16:39\u00a0<vmassol>\u00a0tmortagne: related to http://jira.xwiki.org/browse/XWIKI-9298  \n16:39\u00a0<vmassol>\u00a0I tested it earlier today and I had the same issue with solr  \n16:40\u00a0<vmassol>\u00a0(on a recent build, which has solr by default)  \n16:40\u00a0<tmortagne>\u00a0vmassol: the velocity error you get is something else  \n16:40\u00a0<tmortagne>\u00a0I explained to you what it was  \n16:40\u00a0<tmortagne>\u00a0in the issue  \n16:40\u00a0<vmassol>\u00a0ok checking  \n16:40\u00a0<vmassol>\u00a0strange in the mail I had only 1 line for your comment  \n16:40\u00a0<vmassol>\u00a0but in the issue there are several  \n16:41\u00a0<vmassol>\u00a0:)  \n16:41\u00a0<tmortagne>\u00a0from what I understood what Sanjib reported and what has just been reported in the mailing list is empty search result  \n16:41\u00a0<vmassol>\u00a0reading now  \n16:41\u00a0<tmortagne>\u00a0I added them after  \n16:41\u00a0<vmassol>\u00a0ah ok  \n16:41\u00a0<tmortagne>\u00a0it's an extensible comment :)  \n16:41\u00a0<vmassol>\u00a0I see :)  \n16:42\u00a0<vmassol>\u00a0\"you get the error because you access the search page with guest before any other user.\"  \n16:42\u00a0<vmassol>\u00a0but on playground.xwiki.org  \n16:42\u00a0<tmortagne>\u00a0created http://jira.xwiki.org/browse/XWIKI-9300  \n16:42\u00a0<vmassol>\u00a0it also fails  \n16:43\u00a0<vmassol>\u00a0and when I access it other users have accessed it before  \n16:43\u00a0<tmortagne>\u00a0vmassol: does not fail for me, just tested http://playground.xwiki.org/xwiki/bin/view/Main/Search?text=wiki&x=0&y=0  \n16:43\u00a0<tmortagne>\u00a0with both my user and guest (starting with my user)  \n16:43\u00a0<vmassol>\u00a0hmm indeed works now  \n16:43\u00a0<vmassol>\u00a0was failing earlier  \n16:43\u00a0<vmassol>\u00a0(I tested with \"test\")  \n16:43\u00a0<tmortagne>\u00a0probably mean that by some luck really nobody accessed it before guest  \n16:43\u00a0<tmortagne>\u00a0nobody with edit right anyway  \n16:44\u00a0<vmassol>\u00a0ok  \n16:45\u00a0<vmassol>\u00a0guys just added SQALE remediation costs and devs LOC stats on http://sonar.xwiki.org/dashboard/index/1 :)  \n16:45\u00a0<vmassol>\u00a0(fyi)  \n16:45\u00a0<vmassol>\u00a0thomas you're the winner on commons ;)  \n16:45\u00a0<tmortagne>\u00a0it's line for which i'm the last author ?  \n16:46\u00a0<tmortagne>\u00a0\\*lines  \n16:46\u00a0<vmassol>\u00a0hmm I don't know  \n16:46\u00a0<vmassol>\u00a0probably  \n16:46\u00a0<vmassol>\u00a0http://www.sonarsource.com/products/plugins/developer-tools/developer-cockpit/  \n16:46\u00a0<vmassol>\u00a0doesn't say much  \n17:04\u00a0<Slashman>\u00a0has quit  \n17:15\u00a0<vmassol>\u00a0bb in 1 hour  \n18:05\u00a0<gdelhumeau>\u00a0has quit  \n18:12\u00a0<itools>\u00a0has left #xwiki  \n18:12\u00a0<tmortagne>\u00a0has quit  \n18:27\u00a0<jbwiv>\u00a0has joined #xwiki  \n18:27\u00a0<jbwiv>\u00a0\u00a0guys, in our install, if I'm in the wysiwyg editor and I click LInk -> Wiki Page, under the \"My recent changes\" tab I see \"There was an error loading the data\" for all of our users. it renders the wiki unusable. Any idea why this would happen?  \n18:40\u00a0<jbwiv>\u00a0the exception generated is \"Failed to extract XWiki URL  \n18:40\u00a0<jbwiv>\u00a0org.xwiki.url.InvalidURLException: Invalid URL type [resources]\"  \n18:51\u00a0<sburjan>\u00a0has quit  \n19:17\u00a0<vmassol>\u00a0jbwiv: that's interesting, I'm probably the culprit  \n19:17\u00a0<vmassol>\u00a0let me try to reproduce it  \n19:18\u00a0<tdelafosse>\u00a0has quit  \n19:22\u00a0<vmassol>\u00a0jbwiv: I don't have this issue, I cannot reproduce it  \n19:22\u00a0<vmassol>\u00a0could you tell me exactly what version you're using?  \n19:24\u00a0<sdumitriu>\u00a0vmassol, jbwiv: It could be related to the way URLs are configured  \n19:25\u00a0<sdumitriu>\u00a0jbwiv: Did you do anything for shorter URLs?  \n19:25\u00a0<vmassol>\u00a0sdumitriu: yes good idea  \n19:51\u00a0<jbwiv>\u00a0vmassol: it's 5.0.1. I'm upgrading to 5.0.3 at the moment to see if that helps  \n19:51\u00a0<jbwiv>\u00a0and no, I've done nothing special regarding urls  \n19:52\u00a0<vmassol>\u00a0jbwiv: hmm ok, too bad :)  \n19:52\u00a0<vmassol>\u00a0I've tested on 5.2-SNAPSHOT  \n19:52\u00a0<vmassol>\u00a0I'll try on a 5.0.1 that I have locally  \n19:52\u00a0<jbwiv>\u00a0full exception here: http://pastie.org/8100650  \n20:10\u00a0<jbwiv>\u00a0vmassol: seems to be fixed in 5.0.3  \n20:10\u00a0<jbwiv>\u00a0not the \"API Breakages\" section at the bottom of this page: http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/ReleaseNotesXWiki51M2. Google led me there and made me think the upgrade might fix it  \n20:19\u00a0<vmassol>\u00a0jbwiv: cool :)  \n20:19\u00a0<jbwiv>\u00a0yep, thanks for the help ;)  \n20:21\u00a0<abusenius>\u00a0has joined #xwiki  \n20:27\u00a0<mflorea>\u00a0has quit  \n21:12\u00a0<evalica>\u00a0has quit  \n21:24\u00a0<evalica>\u00a0has joined #xwiki  \n21:26\u00a0<evalica>\u00a0has quit  \n23:26\u00a0<evandroNogueiraE>\u00a0has joined #xwiki  \n23:30\u00a0<evandroNogueiraE>\u00a0Hi, everbody! I want to disable the \"user type\" selection in profile->preferences page. Anyone can tell me how i can do this?  \n23:35\u00a0<evandroNogueiraE>\u00a0Forget my question. It's simple, For other begginer users, only edit the XWikiUsers class. \"yourdomain/yourwiki/bin/edit/XWiki/XWikiUsers?editor=class\" and disable the userType property.  \n23:36\u00a0<evandroNogueiraE>\u00a0Tks...  \n23:52\u00a0<abusenius>\u00a0has quit\n"}