{"id": "dev:IRC.xwikiArchive20120210", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20120210", "title": "IRC Archive for channel #xwiki on 10 February 2012 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:05\u00a0<+Denis>\u00a0at least my migrator will not break it  \n02:42\u00a0<DrLou>\u00a0has quit  \n02:48\u00a0<tekzilla>\u00a0has quit  \n02:50\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:59\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has quit  \n06:08\u00a0<Denis>\u00a0has joined #xwiki  \n07:24\u00a0<DrLou\\_>\u00a0has quit  \n07:27\u00a0<sdumitriu>\u00a0has left #xwiki  \n07:56\u00a0<tekzilla>\u00a0has quit  \n07:56\u00a0<tekzilla>\u00a0has joined #xwiki  \n08:12\u00a0<vmassol>\u00a0has joined #xwiki  \n08:23\u00a0<vmassol>\u00a0has quit  \n09:30\u00a0<sdumitriu>\u00a0has joined #xwiki  \n09:47\u00a0<vmassol>\u00a0has joined #xwiki  \n10:11\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* ra39f0c2\u000f https://github.com/xwiki/xwiki-commons/commit/a39f0c2e005e8def761afe0b564ed619f0fb8a6f \u000f/ pom.xml :\u000f XCOMMONS-\u00e74: Set the minimum required Maven version (3.0) to build XWiki in the POM - http://git.io/MdOhQQ  \n10:16\u00a0<vmassol>\u00a0I had this exact issue when building locally: http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-extension-repository-aether/1496/testReport/junit/org.xwiki.extension.repository.aether.internal/AetherDefaultRepositoryManagerTest/testResolveVersionRange/  \n10:25\u00a0<vmassol>\u00a0I can reproduce in my IDE, looking at it  \n10:41\u00a0<jvdrean>\u00a0has joined #xwiki  \n10:44\u00a0<vmassol>\u00a0good morning everyone  \n10:45\u00a0<vmassol>\u00a0please don't commit anything that can lead to build failures or are dangerous from now on  \n10:45\u00a0<vmassol>\u00a0we need to stabilize the build now  \n10:45\u00a0<vmassol>\u00a0to be ready for Tuesday morning  \n10:51\u00a0<vmassol>\u00a0note: just enabled send mail to the person who broke the build for the platform module to see how it works  \n10:52\u00a0<vmassol>\u00a0so make sure you don't filter it!  \n10:54\u00a0<mflorea>\u00a0has joined #xwiki  \n10:56\u00a0<sburjan>\u00a0has joined #xwiki  \n11:06\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r9d8aa52\u000f https://github.com/xwiki/xwiki-commons/commit/9d8aa52c2812e4a4957a7aaf852ecbea08c3b65d \u000f/ pom.xml :\u000f XCOMMONS-93: Upgrade the Maven War plugin to version 2.2 - http://git.io/PRQEXw  \n11:10\u00a0<+Denis>\u00a0vmassol: Good morning, since I know you are careful about log message, I would like your comment on the logging done during the id migration process, could you have a look at http://pastebin.com/5rSy6Rh5  \n11:11\u00a0<+Denis>\u00a0should I add \"xxxx rows processed messages\" every minutes \u00a0on the slow part ?  \n11:11\u00a0<vmassol>\u00a0Denis: there are some a bit too technical  \n11:12\u00a0<vmassol>\u00a0I'm wondering if a lot of them shouldn't be debug messages instead  \n11:12\u00a0<+Denis>\u00a0not all are from me however, be carefull that we may param logback in XE  \n11:12\u00a0<vmassol>\u00a0not sure though, haven't thought much about it yet  \n11:12\u00a0<+Denis>\u00a0I have almost none initially  \n11:13\u00a0<+Denis>\u00a0but I feel the need to see some progress  \n11:13\u00a0<+Denis>\u00a0and I even wonder if I need more  \n11:13\u00a0<vmassol>\u00a0yes seeing progress is good if it's long  \n11:13\u00a0<vmassol>\u00a0IMO you just commit whatever you think is right and we can comment on it after we use it/see it  \n11:13\u00a0<vmassol>\u00a0we'll be able to tune it then  \n11:13\u00a0<+Denis>\u00a0it could be long, it depends on your database  \n11:14\u00a0<+Denis>\u00a0do you think the every minute message is useful to implement ?  \n11:14\u00a0<jvdrean>\u00a0has quit  \n11:15\u00a0<vmassol>\u00a0if liquibase supports this then it's good to have it  \n11:15\u00a0<vmassol>\u00a0it could be as simple as a dot \".\" added  \n11:15\u00a0<+Denis>\u00a0it is not the liquibase part  \n11:16\u00a0<+Denis>\u00a0liquibase is only for shema  \n11:16\u00a0<+Denis>\u00a0verbose and quite faste  \n11:17\u00a0<+Denis>\u00a0it is more where I put, that it is slow, that I would like to add some every minute message if you think it is needed  \n11:20\u00a0<+Denis>\u00a0simple dot is not easy in a log file, and does not give information on the real progress  \n11:20\u00a0<vmassol>\u00a0then use a \"=\" :)  \n11:20\u00a0<vmassol>\u00a0(as scp is doing)  \n11:35\u00a0<+sburjan>\u00a0hello everybody  \n11:42\u00a0<jvdrean>\u00a0has joined #xwiki  \n11:59\u00a0<vmassol>\u00a0nice trick: http://d.strelau.net/post/47338904/git-pull-rebase-by-default  \n11:59\u00a0<vmassol>\u00a0not a trick  \n11:59\u00a0<vmassol>\u00a0s/trick/config/  \n12:00\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r24fa2e6\u000f https://github.com/xwiki/xwiki-platform/commit/24fa2e6abd26e5e36560cc8f29183122b417e375 \u000f/ (6 files in 5 dirs):\u000f [Misc] fix broken build with random \"Unable to delete directory target/AetherDefaultRepositoryManagerTest/...\" - http://git.io/XWCPJA  \n12:28\u00a0<+Denis>\u00a0vmassol: this a log file, not an interactive terminal  \n12:34\u00a0<+sburjan>\u00a0sdumitriu: are you around ?  \n12:36\u00a0<+sburjan>\u00a0I just wanted to say is that it seems that the tests that fail on FF because of the modal Leave/Stay on Page, they pass on IE8 (this is what I tested on) because no modal appears. Is the modal only for FF browsers ?  \n13:22\u00a0<jvdrean>\u00a0has quit  \n14:35\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n14:36\u00a0<@sdumitriu>\u00a0Yes  \n14:47\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r7ab5f48\u000f https://github.com/xwiki/xwiki-platform/commit/7ab5f48aaa3935e6878100ac735b9b8af97f97f1 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7515: 'getIncludedPages' in class com.xpn.xwiki.api.Document threw java.lang.NullPointerException ...  \n14:49\u00a0<CIA-120>\u00a0Denis Gervalle\u000f feature-security-authorization\u000f \\* rf4a6dcb\u000f https://github.com/xwiki/xwiki-platform/commit/f4a6dcbb4060605e34544b38ccd8eb072bb3e8b3 \u000f/ xwiki-platform-core/xwiki-platform-security/xwiki-platform-security-bridge/src/main/java/org/xwiki/security/authorization/internal/XWikiCachingRightService.java :\u000f Fix Guest user were not redirected to the login page. - http://git.io/z\\_Km9A  \n15:18\u00a0<DrLou\\_>\u00a0has quit  \n15:21\u00a0<+mflorea>\u00a0sdumitriu: ping  \n15:21\u00a0<@sdumitriu>\u00a0Pong  \n15:22\u00a0<DrLou>\u00a0has joined #xwiki  \n15:23\u00a0<+mflorea>\u00a0the protection you introduced against loosing content when exiting the edit mode brings a regression. Switching from wiki to wysiwyg and back preserve the content and so the popup shouldn't be displayed  \n15:24\u00a0<+mflorea>\u00a0I'm not sure how to detect that though..  \n15:25\u00a0<@sdumitriu>\u00a0Right  \n15:26\u00a0<+mflorea>\u00a0might not be even possible, so we might have to add code to the JS that handles the edit menu, so prevent the popup  \n15:27\u00a0<@sdumitriu>\u00a0Yes  \n15:30\u00a0<+mflorea>\u00a0but for this we have to make the code that shows the popup use a flag or something, because simply making window.onbeforeunload = null is not that nice, since some other code might register its handler  \n15:31\u00a0<@sdumitriu>\u00a0Yes, plus using window.onbeforeunload is a hack  \n15:31\u00a0<+mflorea>\u00a0I've seen the comment  \n15:42\u00a0<vmassol>\u00a0sdumitriu: do you have an idea on how to fix this?  \n15:42\u00a0<vmassol>\u00a0note: as you can see ui tests are still failing, I've found the reason, fixing now  \n15:47\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r0f1c8cb\u000f https://github.com/xwiki/xwiki-platform/commit/0f1c8cb5e210db18121996eaecadc239fcf6ea4d \u000f/ (2 files):\u000f Fix failing UI tests caused by XWIKI-6927 - http://git.io/Tt7s2Q  \n15:48\u00a0<@sdumitriu>\u00a0sburjan: The modal works on IE9  \n15:48\u00a0<@sdumitriu>\u00a0It uses a HTML5 feature  \n15:49\u00a0<+sburjan>\u00a0I haven't tried yet on IE9..  \n15:51\u00a0<@sdumitriu>\u00a0mflorea: There is a problem with the WYSIWYG and the change detection  \n15:51\u00a0<+mflorea>\u00a0sdumitriu: wdym?  \n15:52\u00a0<@sdumitriu>\u00a0When opening a blank page and trying to leave without changing anything, the content will be different (since a BR is inserted)  \n15:56\u00a0<@sdumitriu>\u00a0Hm, I might know a quick way of bypassing the check when switching editors  \n15:56\u00a0<+mflorea>\u00a0sdumitriu: I don't see how the BR is a problem  \n15:57\u00a0<@sdumitriu>\u00a0It is because the content is different  \n15:57\u00a0<+mflorea>\u00a0well, I see what you mean  \n15:57\u00a0<+mflorea>\u00a0but afaik the BR is removed when the page is sumbitted  \n15:57\u00a0<@sdumitriu>\u00a0Removed where?  \n15:58\u00a0<@sdumitriu>\u00a0It doesn't happen all the time  \n15:58\u00a0<+mflorea>\u00a0for instance, when the rich text area looses the focus the wysiwyg editor is updating the (hidden) plain text area. When this update takes place, the unneeded BRs are removed  \n15:59\u00a0<+mflorea>\u00a0so normally the plain text area shouldn't have unneeded BRs  \n16:01\u00a0<+mflorea>\u00a0actually no, the BRs are just marked, and then removed on the server side, in a cleaning filter  \n16:09\u00a0<@sdumitriu>\u00a0Ah, something else is wrong  \n16:09\u00a0<@sdumitriu>\u00a0There are new fields in the content:  \n16:09\u00a0<@sdumitriu>\u00a0RequiresHTMLConversion=content&content\\_syntax=xwiki%2F2.1  \n16:28\u00a0<jvdrean>\u00a0has joined #xwiki  \n16:34\u00a0<jvdrean>\u00a0has quit  \n17:03\u00a0<jvdrean>\u00a0has joined #xwiki  \n17:18\u00a0<jvdrean>\u00a0has quit  \n17:19\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r264f00c\u000f https://github.com/xwiki/xwiki-platform/commit/264f00c8aeb2f4be93222178437530f1529078b4 \u000f/ (2 files):\u000f XWIKI-7518: Allow running UI tests (Selenium2-based) on various browsers - http://git.io/gQN42g  \n17:19\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r1752cd0\u000f https://github.com/xwiki/xwiki-enterprise/commit/1752cd0c64049a7607605f8d15c3c0a5d0c70563 \u000f/ (2 files in 2 dirs):\u000f XWIKI-7518: Allow running UI tests (Selenium2-based) on various browsers - http://git.io/lFWfvw  \n17:22\u00a0<+mflorea>\u00a0sdumitriu: yep, both the BR and the extra form fields are important  \n17:59\u00a0<Kesarr>\u00a0has joined #xwiki  \n18:01\u00a0<Kesarr>\u00a0Hello, I have some questions.  \n18:01\u00a0<Kesarr>\u00a0I am using XEM 3.4.  \n18:02\u00a0<Kesarr>\u00a0It has some technical Spaces, \"WikiManager\", \"XemManager\", etc.  \n18:04\u00a0<Kesarr>\u00a0But I want to use main wiki for normal wiki as same as other virtual wikis.  \n18:05\u00a0<Kesarr>\u00a0Technical Spaces are not friendly for common wiki users, and it seems bad for security.  \n18:06\u00a0<@sdumitriu>\u00a0Hi Kesarr  \n18:06\u00a0<Kesarr>\u00a0hi :)  \n18:06\u00a0<@sdumitriu>\u00a0You could remove those spaces if you want  \n18:07\u00a0<@sdumitriu>\u00a0But then you'll be left without wizards for creating new virtual wikis  \n18:07\u00a0<@sdumitriu>\u00a0It would still be possible to create or delete wikis manually  \n18:07\u00a0<@sdumitriu>\u00a0Another trick is to keep those spaces, but \"blacklist\" them  \n18:07\u00a0<Kesarr>\u00a0hmm...  \n18:08\u00a0<Kesarr>\u00a0ah, like XE's \"Scheduler\", etc ?  \n18:08\u00a0<@sdumitriu>\u00a0This means that they won't appear for normal users in certain places, like search results or the document index  \n18:08\u00a0<@sdumitriu>\u00a0Yes  \n18:08\u00a0<@sdumitriu>\u00a0Would that be enough for you?  \n18:09\u00a0<Kesarr>\u00a0oh, where am I setting them? T\\_T  \n18:09\u00a0<@sdumitriu>\u00a0Well, there's no friendly way to do that yet :D  \n18:09\u00a0<@sdumitriu>\u00a0You should edit xwikivars.vm I think, I'll check now  \n18:09\u00a0<@sdumitriu>\u00a0Yep  \n18:10\u00a0<@sdumitriu>\u00a0On the filesystem, templates/xwikivars.vm  \n18:10\u00a0<@sdumitriu>\u00a0Why do you say \"bad for security\"?  \n18:11\u00a0<Kesarr>\u00a0Anonymous users can see some pages, can't it?  \n18:12\u00a0<Kesarr>\u00a0WikiManager.XXX  \n18:13\u00a0<Kesarr>\u00a0May I be not concerned?  \n18:13\u00a0<@sdumitriu>\u00a0You shouldn't be  \n18:13\u00a0<@sdumitriu>\u00a0Normally they shouldn't be able to use those pages  \n18:13\u00a0<@sdumitriu>\u00a0And there isn't any sensitive information in them either, like passwords  \n18:14\u00a0<@sdumitriu>\u00a0The code is freely available on GitHub anyway  \n18:14\u00a0<@sdumitriu>\u00a0So, the only problem is that novice users will stumble upon them and wonder what that is  \n18:14\u00a0<@sdumitriu>\u00a0That's what blacklistedSpaces is for  \n18:15\u00a0<@sdumitriu>\u00a0Hiding technical stuff  \n18:15\u00a0<@sdumitriu>\u00a0There's a plan to improve this hiding process in the future  \n18:15\u00a0<Kesarr>\u00a0oh, I see..  \n18:15\u00a0<vmassol>\u00a0and FTR I'm going to work with jean-vincent to make this nicer and easier to use in 4.0  \n18:17\u00a0<Kesarr>\u00a0Yeah, very nice to hear that~  \n18:17\u00a0<Denis>\u00a0has quit  \n18:18\u00a0<Kesarr>\u00a0Thanks a lot, excellent guys for xwiki! :)  \n18:22\u00a0<Kesarr>\u00a0and I have more question.  \n18:24\u00a0<Kesarr>\u00a0After creating new virtual wiki, some page creator links in that virtual wiki are still connected to [[templatexe:XWiki.Admin]] or [[workspacetemplate:XWiki.Admin]].  \n18:25\u00a0<Kesarr>\u00a0What do I have a miss?  \n18:25\u00a0<@sdumitriu>\u00a0That looks like a bug  \n18:25\u00a0<@sdumitriu>\u00a0Are there many such links?  \n18:25\u00a0<Kesarr>\u00a0not a few  \n18:27\u00a0<jvdrean>\u00a0has joined #xwiki  \n18:29\u00a0<Kesarr>\u00a0and, this is not critical, when an user of main wiki login in new wiki using templatexe, top menubar has some \"workspace.blahblah.blahblah\" messages.  \n18:30\u00a0<Kesarr>\u00a0maybe, I have thought that XE's default XAR has no message related to workspace.  \n18:31\u00a0<Kesarr>\u00a0Creating workspace has no problem :)  \n18:35\u00a0<@sdumitriu>\u00a0Do you think you can list some of those links in a new issue on http://jira.xwiki.org/ ?  \n18:38\u00a0<Kesarr>\u00a0creating new issue?  \n18:38\u00a0<@sdumitriu>\u00a0Yes  \n18:39\u00a0<Kesarr>\u00a0need real example url?  \n18:39\u00a0<jvdrean>\u00a0has quit  \n18:42\u00a0<Kesarr>\u00a0my english is very fragile, but I'd try.  \n18:46\u00a0<@sdumitriu>\u00a0Yes, where the link was found and where it points to  \n18:53\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r6ef932f\u000f https://github.com/xwiki/xwiki-platform/commit/6ef932fca213a800ea87398e42cc991bfcf43dde \u000f/ (2 files):\u000f Disable the page exit confirmation before the browser window is closed. - http://git.io/SQ5dGA  \n18:57\u00a0<CIA-120>\u00a0Marius Dumitru Florea\u000f master\u000f \\* r998fde3\u000f https://github.com/xwiki/xwiki-enterprise/commit/998fde34e8806d06b4e8a928e5322f4443a50413 \u000f/ xwiki-enterprise-test/xwiki-enterprise-test-ui/src/test/it/org/xwiki/test/ui/EditWYSIWYGTest.java :\u000f XWIKI-6927: When leaving the edit mode without saving, notify the user that there are changes he needs to save ...  \n18:59\u00a0<abusenius>\u00a0has joined #xwiki  \n18:59\u00a0<vmassol>\u00a0has quit  \n19:04\u00a0<mflorea>\u00a0has quit  \n19:04\u00a0<sburjan>\u00a0has quit  \n19:06\u00a0<jvdrean>\u00a0has joined #xwiki  \n19:08\u00a0<jvdrean>\u00a0has quit  \n19:25\u00a0<CIA-120>\u00a0Sergiu Dumitriu\u000f master\u000f \\* rdacd60a\u000f https://github.com/xwiki/xwiki-platform/commit/dacd60a155694a3395430181c9f1f1b45e37c6a1 \u000f/ (3 files in 3 dirs):\u000f Revert \"XWIKI-6691: Change the mapping of the event requestId field to varchar(48)\" ...  \n19:48\u00a0<Kesarr>\u00a0sdumitriu: I've created an issue, http://jira.xwiki.org/browse/XEM-211  \n19:48\u00a0<Kesarr>\u00a0Is it enough to confirm?  \n19:51\u00a0<@sdumitriu>\u00a0I've rarely worked with XEM, I'll leave it to others to confirm  \n19:51\u00a0<@sdumitriu>\u00a0But it's late in Europe now, they'll see it Monday the latest  \n19:57\u00a0<Kesarr>\u00a0Ah I see.  \n19:58\u00a0<Kesarr>\u00a0Thank you. :) Have a nice day.  \n21:20\u00a0<vmassol>\u00a0has joined #xwiki  \n22:00\u00a0<zakkum>\u00a0has joined #xwiki  \n22:04\u00a0<zakkum>\u00a0has quit  \n22:33\u00a0<CIA-120>\u00a0Vincent Massol\u000f master\u000f \\* r7fdd948\u000f https://github.com/xwiki/xwiki-platform/commit/7fdd948e2c02770a032213215e62f9484f536bd1 \u000f/ (2 files):\u000f XWIKI-7519: Allow excluding a functional test method when executed in a given browser - http://git.io/JfLICg  \n22:58\u00a0<vmassol>\u00a0has quit  \n23:44\u00a0<abusenius>\u00a0has quit  \n\n"}