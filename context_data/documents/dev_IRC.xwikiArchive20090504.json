{"id": "dev:IRC.xwikiArchive20090504", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20090504", "title": "IRC Archive for channel #xwiki on 04 May 2009 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nmarta\\_ left at 00:03 (\"Leaving.\")  \ncypromis\\_ joined #xwiki at 00:09  \ncypromis left at 00:11 (Nick collision from services.)  \ncypromis\\_ is now known as cypromis (n=cypromis@freeswitch/developer/cypromis)  \ntharindu - (04/05/2009 00:13): sdumitriu: Hi, can you please tell some way to generate a post request to fire notify() in LoginSubmitAction, in order to write the test case. In my case its not similar to document save or delete.  \nsdumitriu - (04/05/2009 00:14): Hi tharindu  \nsdumitriu - (04/05/2009 00:14): What kind of test are you writing?  \ntharindu - (04/05/2009 00:14): I want to writing something similar to testDeleteDocumentSendsObservationEvents()  \ntharindu - (04/05/2009 00:15): in XWikiTest class  \ntharindu - (04/05/2009 00:15): but I need to check userLoginSendsObservationEvents   \nsdumitriu - (04/05/2009 00:15): OK, then you're trying to write the wrong kind of test  \nsdumitriu - (04/05/2009 00:16): Since a login request is too hard to do in a unit test  \nsdumitriu - (04/05/2009 00:16): Unit tests are good for testing standalone small pieces of code  \nsdumitriu - (04/05/2009 00:16): A login request involves many parts of the core  \nsdumitriu - (04/05/2009 00:17): So you need to have a running XWiki  \nsdumitriu - (04/05/2009 00:17): For that, you will need to write an integration test  \ntharindu - (04/05/2009 00:18): ah OK, I will work on it. also can you point me to look for how xwiki create sessions when login happens  \nsdumitriu - (04/05/2009 00:19): My advice is to do a test that does this:  \nsdumitriu - (04/05/2009 00:19): - login as Admin  \nsdumitriu - (04/05/2009 00:19): - write a document with a groovy code, that implements the event listener and register itself to receive LoginEvents, and logs this into the content of another document  \nsdumitriu - (04/05/2009 00:19): - logout  \nsdumitriu - (04/05/2009 00:19): - login again  \nsdumitriu - (04/05/2009 00:19): - check that the logging document contains the login event  \nsdumitriu - (04/05/2009 00:19): For sessions, it will take a while  \nsdumitriu - (04/05/2009 00:19): It's not very clear to me either what is the right place for this  \nsdumitriu - (04/05/2009 00:19): Since there are many different kinds of sessions  \nsdumitriu - (04/05/2009 00:20): I'll study this and reply  \nsdumitriu - (04/05/2009 00:20): But it's not urgent for the moment  \nsdumitriu - (04/05/2009 00:20): If you can provide a patch with login/logout events + tests, it would be perfect  \nsdumitriu - (04/05/2009 00:20): Once the mechanism is in place, adding support for sessions would be easy  \nsdumitriu - (04/05/2009 00:20): I have to go now  \nsdumitriu - (04/05/2009 00:20): Bye  \nsdumitriu left at 00:20 (\"Leaving.\")  \ntharindu - (04/05/2009 00:21): Thanks, I will work on the tests :)  \njvelociter left at 00:31 ()  \nlucaa left at 00:45 (\"Leaving.\")  \ncypromis left at 01:10 ()  \ncypromis joined #xwiki at 01:11  \nlucaa joined #xwiki at 01:17  \nlucaa left #xwiki at 01:18  \narkub left at 02:15 (Read error: 60 (Operation timed out))  \ntharindu left at 02:30 (Read error: 60 (Operation timed out))  \njvelociter joined #xwiki at 05:53  \nmarta\\_ joined #xwiki at 06:49  \ncypromis left at 07:02 ()  \nkaaloo joined #xwiki at 07:57  \nmarta\\_ left at 08:02 (\"Leaving.\")  \nvmassol joined #xwiki at 08:09  \nmflorea joined #xwiki at 08:11  \nalexmaru joined #xwiki at 08:25  \nasyd - (04/05/2009 08:25): hello there  \nalexmaru - (04/05/2009 08:26): hi asyd ;)  \nalexmaru - (04/05/2009 08:28): what's up?  \nasyd - (04/05/2009 08:29): hmm nothing very interesting. what about you?  \nalexmaru - (04/05/2009 08:29): tired after my last trip  \nalexmaru - (04/05/2009 08:29): :D  \nasyd - (04/05/2009 08:29): :)  \ncristinaS joined #xwiki at 08:42  \nasyd - (04/05/2009 08:45): does xwiki people from romania comes to paris sometimes?  \njvelociter - (04/05/2009 08:52): asyd: yes it happens. This summer, 3 devs from the Romanian team are going to Paris for an Erasmus internship  \nasyd - (04/05/2009 08:52): ok  \njvelociter - (04/05/2009 08:53): and it happens the other way round, too  \nasyd - (04/05/2009 08:53): :)  \njvelociter - (04/05/2009 08:53): Parisian guys coming to Romania  \nasyd - (04/05/2009 08:53): that's less surprising :)  \njvelociter - (04/05/2009 08:53): (not including me who is in Iasi the whole year :) )  \njvelociter - (04/05/2009 08:54): we wish we could do such exchanges more often  \njvelociter - (04/05/2009 08:54): but... we need to get rich before we can do that   \njvelociter - (04/05/2009 08:55): (at least richer :) )  \nasyd - (04/05/2009 08:55): :)  \njvelociter - (04/05/2009 09:07): btw, you should drop by the office and work with us some day alexmaru   \njvelociter - (04/05/2009 09:07): ;)  \nalexmaru - (04/05/2009 09:07): jvelociter, yey, sounds fun :D  \njvelociter - (04/05/2009 09:11): you're invited any time  \njvelociter - (04/05/2009 09:12): speaking of the office... I'm heading up to there now :)  \njvelociter left at 09:12 ()  \nvmassol left at 09:15 ()  \nmflorea left at 09:16 (\"Leaving\")  \nvmassol joined #xwiki at 09:19  \narkub joined #xwiki at 09:33  \njvdrean joined #xwiki at 09:38  \njvelociter joined #xwiki at 09:53  \ntachirei joined #xwiki at 09:53  \nlucaa joined #xwiki at 09:53  \nalexmaru - (04/05/2009 09:56): ok jvelociter, thanks for the invitation :D  \ntachirei left #xwiki at 10:01  \ntachirei joined #xwiki at 10:03  \ntachirei left #xwiki at 10:04  \nalexmaru left at 10:04 (\"http://www.mibbit.com ajax IRC Client\")  \ntrifon\\_ is now known as trifon ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection))  \nalexmaru joined #xwiki at 10:10  \nKermitTheFragger joined #xwiki at 10:13  \nglerouge joined #xwiki at 10:18  \nasyd - (04/05/2009 10:37): could be nice to have a \"pastebin\" like feature for code. ie in a {code} contents, to hilight a specific line when starts by @@ for example  \nChathuraPrabuddh joined #xwiki at 10:37  \nmflorea joined #xwiki at 10:51  \nanamarias joined #xwiki at 11:05  \nChathuraPrabuddh left at 11:11 (\"Leaving.\")  \nflorinciu joined #xwiki at 11:14  \nEnygma` joined #xwiki at 11:19  \ntachirei joined #xwiki at 11:44  \nkaaloo left at 11:45 (\"Leaving.\")  \nkaaloo joined #xwiki at 12:39  \nanamarias left at 12:43 ()  \nChathuraPrabuddh joined #xwiki at 12:46  \nsdumitriu joined #xwiki at 12:55  \ncristinaS - (04/05/2009 13:01): sdumitriu: hi! I saw your comments from my blog.. I am trying this days to solve the problem with maven and OO   \nsdumitriu - (04/05/2009 13:02): Hi cristinaS  \nalexmaru left at 14:03 (\"http://www.mibbit.com ajax IRC Client\")  \njumpkick left at 14:05 (\"Leaving.\")  \nmarta\\_ joined #xwiki at 14:24  \nmarta\\_ left at 14:28 (Client Quit)  \nanamarias joined #xwiki at 15:22  \njvdrean left at 15:26 (simmons.freenode.net irc.freenode.net)  \njvdrean joined #xwiki at 15:26  \ntachirei left #xwiki at 15:40  \nflorinciu left at 15:44 (\"ChatZilla 0.9.84 [Firefox 3.0.10/2009042316]\")  \nanamarias\\_ joined #xwiki at 16:32  \nChathuraPrabuddh left #xwiki at 16:41  \nChathuraPrabuddh joined #xwiki at 16:46  \nanamarias left at 16:50 (Read error: 110 (Connection timed out))  \ncristinaS left at 16:52 (\"Bersirc 2.2, for external use only. [ http://www.bersirc.org/ - Open Source IRC ]\")  \nEnygma` left at 16:53 (\"Leaving.\")  \ndarthxaher joined #xwiki at 16:54  \ndarthxaher left #xwiki at 16:54  \njvelociter left at 18:01 ()  \njvelociter joined #xwiki at 18:43  \nkaaloo left at 18:44 (Read error: 113 (No route to host))  \nraluca joined #xwiki at 18:54  \njvelociter - (04/05/2009 18:54): sdumitriu: ping  \nraluca - (04/05/2009 18:54): sdumitriu: ping :)  \nsdumitriu - (04/05/2009 18:55): Pong  \njvelociter - (04/05/2009 18:55): raluca is integrating Caty's CSS work on search and search results  \njvelociter - (04/05/2009 18:56): I was thinking maybe we could have then as css resources  \njvelociter - (04/05/2009 18:56): like resources/css/search/searchresults.css , or something similar  \njvelociter - (04/05/2009 18:56): (or even with a more generic name than search)  \nsdumitriu - (04/05/2009 18:57): Yes  \njvelociter - (04/05/2009 18:57): so that UIs that needs to display such \"results list\" can pull it  \njvelociter - (04/05/2009 18:57): wdyt ?  \nsdumitriu - (04/05/2009 18:57): +1  \njvelociter - (04/05/2009 18:57): ok  \nsdumitriu - (04/05/2009 18:57): CSS for components should not belong to skins  \njvelociter - (04/05/2009 18:57): yup  \nraluca - (04/05/2009 18:57): searchresults.css or searchlayout.css ? or something else?  \njvelociter - (04/05/2009 18:57): we have no such resource yet, so you'll be a \"precursor\" raluca   \njvelociter - (04/05/2009 18:58): personally I don't have better idea than searcheresult  \nraluca - (04/05/2009 18:58): yep :)  \njvelociter - (04/05/2009 18:58): though I don't fully like it  \njvelociter - (04/05/2009 18:58): so Raluca you'll have to put this file under the resources/ directory   \nsdumitriu - (04/05/2009 18:58): Why not search.css?  \njvelociter - (04/05/2009 18:59): and explicitely ask for it from the search result page using the ssfx plugin  \nraluca - (04/05/2009 18:59): I will have to work on pagination too, but that would be generic, used everywhere, so I will name it pagination.css  \nsdumitriu - (04/05/2009 18:59): jvelociter: I have a better idea  \njvelociter - (04/05/2009 18:59): like this : $xwiki.ssfx.use('css/search/search.css\")  \nsdumitriu - (04/05/2009 18:59): rename resources/js/xwiki to resources/components  \njvelociter - (04/05/2009 18:59): (ssfx means style sheet file skin extension)  \nsdumitriu - (04/05/2009 18:59): Since most of the code in res/js/xwiki has both JS and CSS  \njvelociter - (04/05/2009 19:00): sdumitriu: yeah  \njvelociter - (04/05/2009 19:00): that would be great  \njvelociter - (04/05/2009 19:00): but we need to keep compatibility  \nsdumitriu - (04/05/2009 19:00): Hm, this was recently changed  \njvelociter - (04/05/2009 19:00): we can handle that in the aspect  \njvelociter - (04/05/2009 19:00): actually  \njvelociter - (04/05/2009 19:00): I think it's ok  \nsdumitriu - (04/05/2009 19:00): So it would be backwards compatibility with 1.8 only  \njvelociter - (04/05/2009 19:01): we keep a map of moved directory there  \nsdumitriu - (04/05/2009 19:01): Since <=1.7 had a completely different layout  \njvelociter - (04/05/2009 19:01): yes  \nglerouge - (04/05/2009 19:01): raluca: I'm eager to see that integration live :)  \njvelociter - (04/05/2009 19:01): but before 1.7  \njvdrean - (04/05/2009 19:02): moving js to components sounds good  \njvelociter - (04/05/2009 19:02): we didn't had such sfx features  \njvelociter - (04/05/2009 19:02): so that's not a problem  \njvelociter - (04/05/2009 19:02): the real problem is for people not upgrading their wikis  \njvelociter - (04/05/2009 19:03): if we keep a map of moved files/directories in the aspect, we can check if somebody who did not upgrade its wiki ask for \"js/table/livetable\" and redirect him  \njvelociter - (04/05/2009 19:03): wdyt ?  \nraluca - (04/05/2009 19:03): glerouge: well, I will make a first patch with a minimal integration \u00a0for the search box and the search results , because further I will need to change the velocity code  \njvelociter - (04/05/2009 19:03): it's a bit ugly but it spare a lot of pain  \njvelociter - (04/05/2009 19:04): explaining why the UIs do not work any longer  \nglerouge - (04/05/2009 19:04): raluca: any improvement over the current UI is good to have ;)  \nraluca - (04/05/2009 19:04): glerouge: right :)  \nsdumitriu - (04/05/2009 19:05): jvelociter: Yes, we can do that  \nsdumitriu - (04/05/2009 19:05): Where do you want it?  \nglerouge - (04/05/2009 19:05): raluca : ping me when you need texting  \nsdumitriu - (04/05/2009 19:05): One idea is inside the plugin itself  \nglerouge - (04/05/2009 19:05): testing I mean  \njvelociter - (04/05/2009 19:06): yes why not  \njvelociter - (04/05/2009 19:06): better than in xwiki-core aspect  \njvelociter - (04/05/2009 19:06): it stays in the family :)  \nraluca - (04/05/2009 19:06): glerouge: yes, I will  \nKermitTheFragger left at 19:12 (\"Leaving\")  \nanamarias\\_ left at 19:25 ()  \nmflorea left at 19:28 (\"Leaving\")  \narkub left at 19:41 (Read error: 113 (No route to host))  \nglerouge left at 20:11 ()  \nrrodriguez joined #xwiki at 20:17  \nanamarias joined #xwiki at 20:30  \nkaaloo joined #xwiki at 20:43  \nrrodriguez left at 20:49 ()  \nChathuraPrabuddh left at 20:58 (Read error: 113 (No route to host))  \nChathuraPrabuddh joined #xwiki at 21:01  \nraluca left at 21:29 (\"ChatZilla 0.9.84 [Firefox 3.0.10/2009042316]\")  \nvmassol left at 21:32 ()  \nvmassol joined #xwiki at 21:38  \nkaaloo left at 21:39 (\"Leaving.\")  \nChathuraPrabuddh left at 21:52 (\"Leaving.\")  \nvmassol left at 22:07 ()  \nrrodriguez joined #xwiki at 22:30  \ntharindu joined #xwiki at 22:31  \nlucaa left at 22:38 (\"Leaving.\")  \nvmassol joined #xwiki at 22:40  \nalexmaru joined #xwiki at 22:42  \nalexmaru left at 22:47 (Client Quit)  \nlucaa joined #xwiki at 23:08  \njvelociter left at 23:14 ()  \njvdrean left at 23:44 ()  \nvmassol left at 23:50 ()  \n\n"}