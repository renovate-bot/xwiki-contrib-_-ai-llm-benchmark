{"id": "dev:IRC.xwikiArchive20141215", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20141215", "title": "IRC Archive for channel #xwiki on 15 December 2014 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n<xwikibot>\u00a0has joined #xwiki  \n06:02\u00a0<Denis>\u00a0has joined #xwiki  \n06:03\u00a0<Denis1>\u00a0has quit  \n08:10\u00a0<\\_cjd>\u00a0has quit  \n08:11\u00a0<msmeria>\u00a0has joined #xwiki  \n08:35\u00a0<vmassol>\u00a0has joined #xwiki  \n09:03\u00a0<tmortagne>\u00a0has joined #xwiki  \n09:11\u00a0<cjd>\u00a0has joined #xwiki  \n09:11\u00a0<cjd>\u00a0is now known as <Guest52496>  \n09:12\u00a0<Guest52496>\u00a0is now known as <\\_cjd>  \n09:18\u00a0<woshilapin>\u00a0has joined #xwiki  \n09:18\u00a0<KermitTheFragger>\u00a0has joined #xwiki  \n09:31\u00a0<Lyes>\u00a0has joined #xwiki  \n09:33\u00a0<Enygma`>\u00a0has joined #xwiki  \n09:35\u00a0<gdelhumeau>\u00a0has joined #xwiki  \n09:45\u00a0<evalica>\u00a0has joined #xwiki  \n09:50\u00a0<vmassol>\u00a0Good morning  \n09:52\u00a0<vmassol>\u00a0on my side I still need about 1/2 day for XWIKI-11541 and XWIKI-10789 but Lyes probably requires more so I'd say we should postpone the release to wednesday, wdyt?  \n09:52\u00a0<vmassol>\u00a0we also have lots of test failures ATM  \n09:52\u00a0<vmassol>\u00a0Enygma`: wdyt?  \n09:52\u00a0<gdelhumeau>\u00a0Hello  \n09:53\u00a0<gdelhumeau>\u00a0I would love to finish jira.xwiki.org/browse/XWIKI-10708 for M2  \n09:54\u00a0<Enygma`>\u00a0vmassol: wednesday is not possible, since most of the XWiki committers will not be available  \n09:54\u00a0<vmassol>\u00a0ah yes good point  \n09:54\u00a0<vmassol>\u00a0Thursday, hoping we don't delay more?  \n09:54\u00a0<Enygma`>\u00a0either tomorrow or thursday, instead of BFD (which nobody seems to participate lately anyway)  \n09:55\u00a0<tmortagne>\u00a0nothing specifically blocker planned for 6.4M2 on my side  \n09:55\u00a0<Enygma`>\u00a0I also need to finish the subwiki descriptor editing stuff too  \n09:55\u00a0<Enygma`>\u00a0since the extension index will surely not make it  \n09:55\u00a0<Enygma`>\u00a0so +1 for Thursday  \n09:56\u00a0<tmortagne>\u00a0ok for Thursday  \n09:58\u00a0<evalica>\u00a0gdelhumeau: when do you think you can commit? since I need to include XWIKI-11408 and I will need to do it on top of your work  \n09:59\u00a0<gdelhumeau>\u00a0Actually it is comitted in the feature-less-ssx branch  \n09:59\u00a0<mflorea>\u00a0has joined #xwiki  \n09:59\u00a0<gdelhumeau>\u00a0but the problem is that there is a CLIRR bug that prevents us to compile my work  \n10:05\u00a0<lucaa>\u00a0has joined #xwiki  \n10:21\u00a0<Slashman>\u00a0has joined #xwiki  \n11:06\u00a0<Enygma`>\u00a0Denis: could you please describe a little more the reason you are -1ing an issue that is on the current Roadmap?  \n11:06\u00a0<Enygma`>\u00a0can you please elaborate a bit more on the reasons why you think it`s a bad idea to allow the subwiki's owner/admins to edit the subwiki`s descriptor?  \n11:07\u00a0<Enygma`>\u00a0are you aware that this feature was also implemented in the workspaces feature (in its previous version) and that it was like that for a good while?  \n11:07\u00a0<Enygma`>\u00a0nobody complained  \n11:07\u00a0<Enygma`>\u00a0you also need to consider the 'workspace' scenario, where a wiki is a workspace, created by a global user; not a farm  \n11:07\u00a0<Denis>\u00a0you seems to know by yourself, it cause security issue problem  \n11:07\u00a0<Enygma`>\u00a0you`re confusing the issue with its implemention details  \n11:08\u00a0<Denis>\u00a0not only  \n11:08\u00a0<Denis>\u00a0I do not see why an owner needs or should be able to change the values you expect to allow them to edit  \n11:08\u00a0<Denis>\u00a0you have not described your UC  \n11:08\u00a0<Denis>\u00a0and I do not see any  \n11:09\u00a0<Enygma`>\u00a0I assumed people were aware of the previous workspaces implemenation and discussions and that I would not have to reiterate all the usecases we have for subwikis  \n11:10\u00a0<Denis>\u00a0sorry, but I do not get the UC you try to solve  \n11:10\u00a0<Enygma`>\u00a0so if you have a global user creating a subwiki, the values he filled in the first place will become read-only  \n11:10\u00a0<Enygma`>\u00a0...  \n11:10\u00a0<Denis>\u00a0yes for the owner, but not for the global admin  \n11:11\u00a0<Enygma`>\u00a01. changing the wiki name  \n11:11\u00a0<Enygma`>\u00a02. changing the wiki description  \n11:11\u00a0<Enygma`>\u00a03. changing the wiki owner  \n11:11\u00a0<Enygma`>\u00a0Denis: so you think it`s ok for the owner to be read only on those values?  \n11:12\u00a0<Enygma`>\u00a0on an entity he created?  \n11:12\u00a0<Enygma`>\u00a0where is the consistency with page owner then?  \n11:12\u00a0<Enygma`>\u00a0I fail to see the logic  \n11:13\u00a0<Denis>\u00a0it seems I miss a point  \n11:13\u00a0<Denis>\u00a0do you means that a workspace could be created by somebody who is not a global admin ?  \n11:14\u00a0<Denis>\u00a0I do not get how someone could fill that information and cannot edit it later actually ?  \n11:15\u00a0<Enygma`>\u00a0the whole point of Workspaces (old feature) was to allow regular global users to create subwikis to structure their content  \n11:15\u00a0<Enygma`>\u00a0you probably missed that  \n11:15\u00a0<Enygma`>\u00a0the new wikis feature introduces the createWiki rights that can be given to regular users (non admins)  \n11:16\u00a0<Enygma`>\u00a0once they create a wiki, they use the script service, and a descriptor document is also created in the mainWiki:XWiki space  \n11:16\u00a0<Enygma`>\u00a0this does not mean that users have edit rights on that document  \n11:16\u00a0<Enygma`>\u00a0however, users might want to come back on their choices to change them  \n11:16\u00a0<Denis>\u00a0ok, so that means you need to add right on the descriptor to the creator of the descriptor in first place  \n11:16\u00a0<Enygma`>\u00a0since they do not have rights, they can not  \n11:17\u00a0<Enygma`>\u00a0was thinking about that too  \n11:17\u00a0<Enygma`>\u00a0however, that is not really the issue here  \n11:17\u00a0<Enygma`>\u00a0you seemed to -1 the idea itself  \n11:18\u00a0<Denis>\u00a0I am not against such a solution, it is clean and consistant with the security methods we have  \n11:19\u00a0<Denis>\u00a0and I admit that have forgotten that createwiki right  \n11:19\u00a0<Denis>\u00a0what I am -1 one actually, is to give the owner of the wiki those right  \n11:19\u00a0<Denis>\u00a0owner and creator are not exactly the same  \n11:20\u00a0<Enygma`>\u00a0a wiki is more than a document, so the owner can be changed at some point in the wiki's lifecycle  \n11:20\u00a0<Enygma`>\u00a0it makes sense to base rights on the wiki owner instead of wiki creator  \n11:20\u00a0<Enygma`>\u00a0only the previous owner should be able to change the owner  \n11:20\u00a0<Denis>\u00a0I am -1 one on that, it does not fit all our UC  \n11:20\u00a0<Enygma`>\u00a0all other fields can be changed by the subwiki`s admins  \n11:21\u00a0<Enygma`>\u00a0why?  \n11:21\u00a0<Enygma`>\u00a0what is the problem with a user transferring ownership over his created wikis?  \n11:21\u00a0<Denis>\u00a0owner does not have to have the createwiki right, and match the creator  \n11:21\u00a0<Enygma`>\u00a0I think you`re confusing things  \n11:22\u00a0<Enygma`>\u00a0what does a subwiki`s owner have to do with the createWiki right?  \n11:22\u00a0<Denis>\u00a0you could have a manager who create wikis for separate owner, without allowing them to create wiki by themselves  \n11:22\u00a0<Enygma`>\u00a0createWiki is given to user X  \n11:22\u00a0<Enygma`>\u00a0user X creates a new wiki  \n11:22\u00a0<Enygma`>\u00a0user X changes the owner of wiki W1 to user Y  \n11:22\u00a0<Enygma`>\u00a0user Y is the new owner of W1  \n11:23\u00a0<Denis>\u00a0this manager will not like to see a wiki he create for a given owner being given to another owner and being change of name or meaning  \n11:23\u00a0<Enygma`>\u00a0that does not mean that if user Y did not have createWiki before, he will now inherit it, nothing to do with that  \n11:23\u00a0<Enygma`>\u00a0wait, what?  \n11:23\u00a0<Enygma`>\u00a0hmm  \n11:24\u00a0<Enygma`>\u00a0if you would really want to establish such a use case, what is stopping you from keeping the owner status for yourself?  \n11:25\u00a0<Enygma`>\u00a0so GodOfWikis creates subwiki W1 and adds some users and makes them admins. Period. GodOfWikis will be the owner of all the wikis he creates.  \n11:25\u00a0<Enygma`>\u00a0nobody except GodOfWikis can change that.  \n11:25\u00a0<Denis>\u00a0it is a matter of keeping the control of subwiki in the hand of a manager independently from the owners, and the myxwiki.org farm could be an example of that  \n11:25\u00a0<Enygma`>\u00a0does the above satisfy your usecase?  \n11:25\u00a0<Denis>\u00a0no  \n11:25\u00a0<Enygma`>\u00a0why?  \n11:26\u00a0<Enygma`>\u00a0what is the problem with transferring ownership?  \n11:26\u00a0<Enygma`>\u00a0you trust user X, you allow him to create wikis OR you give him owner over a wiki  \n11:26\u00a0<Enygma`>\u00a0he breaks your trust by transferring ownership, you take action  \n11:27\u00a0<Denis>\u00a0GOW given ownership of the wiki to individual owners so they manage the wikis, but those owner cannot change their wiki name, wiki purpose, themselve as a owner, they only manage the wiki  \n11:27\u00a0<Enygma`>\u00a0why do you want to impose such a restrictive model just to fit one narrow use case?  \n11:27\u00a0<Enygma`>\u00a0then you are confusing the 'owner' status with the 'admin' right.  \n11:27\u00a0<Enygma`>\u00a0as I said, do not make them owners, make them subwiki admins  \n11:28\u00a0<Enygma`>\u00a0they will not be able to transfer ownership  \n11:30\u00a0<Denis>\u00a0We will not agree, I am afraid, and we need more discussion of this. IMO it is breaking the initial farm UC  \n11:32\u00a0<Enygma`>\u00a0Denis: this feature was available in Workspaces by design: http://extensions.xwiki.org/xwiki/bin/view/Extension/Workspace+Application  \n11:32\u00a0<Enygma`>\u00a0http://extensions.xwiki.org/xwiki/bin/download/Extension/Workspace+Application/workspace%2Dadministration%2Dworkspaceconfiguration%2Dsection.png  \n11:32\u00a0<Enygma`>\u00a0are you really serious?  \n11:34\u00a0<Denis>\u00a0\"The internal organisation of the workspace is left to its owner and its assigned admins.\" it does not include managing the name, access path, and attribution of ownership  \n11:35\u00a0<Enygma`>\u00a0did you check the picture?  \n11:35\u00a0<Denis>\u00a0And once again, we have several UC for subwiki, the workspace one is not the only one  \n11:35\u00a0<Enygma`>\u00a0we`ve already had these discussions when we included workspaces by default in XEM  \n11:35\u00a0<Enygma`>\u00a0on the list  \n11:38\u00a0<Denis>\u00a0once again, I am not against giving the wiki creator write access to the descriptor he have created, but I do not agree the owner get such right, that's it. It will stop covering the use case where there is a manager who creates subwiki of independant owner, which is a farm UC  \n11:38\u00a0<Enygma`>\u00a0the feature we are discussing was just lost in translation, gdelhumeau just confirmed it  \n11:38\u00a0<lucaa>\u00a0has quit  \n11:42\u00a0<Lyes>\u00a0has quit  \n11:47\u00a0<gdelhumeau>\u00a0The \"ownership\" concept is precisly about modifying the wiki's parameters  \n11:48\u00a0<gdelhumeau>\u00a0Denis: you can create a wiki, give the Admin right to someone without giving him the ownsership  \n11:49\u00a0<gdelhumeau>\u00a0maybe it is not clear in the wiki creation wizard  \n11:49\u00a0<gdelhumeau>\u00a0but you can administer a wiki without being the owner  \n11:56\u00a0<Lyes>\u00a0has joined #xwiki  \n11:58\u00a0<Denis>\u00a0gdelhumeau: there is a major difference between an admin and an owner. A owner keep its right what ever happen, while an admin could be throwed away by another admin.  \n11:59\u00a0<Denis>\u00a0until today, the significance of the owner was not your definition, at least in the implementation and in my mind  \n12:00\u00a0<Denis>\u00a0I strongly believe that diverting the security access to allow owner accessing wiki descriptor is a bad plan  \n12:17\u00a0<lucaa>\u00a0has joined #xwiki  \n12:27\u00a0<Lyes>\u00a0has quit  \n12:41\u00a0<lucaa>\u00a0has quit  \n13:33\u00a0<Lyes>\u00a0has joined #xwiki  \n13:39\u00a0<gsmeria>\u00a0has joined #xwiki  \n13:51\u00a0<Lyes>\u00a0has quit  \n13:51\u00a0<Lyes>\u00a0has joined #xwiki  \n14:03\u00a0<lucaa>\u00a0has joined #xwiki  \n14:04\u00a0<Slashman>\u00a0has quit  \n14:05\u00a0<Slashman>\u00a0has joined #xwiki  \n14:06\u00a0<\\_cjd>\u00a0has quit  \n14:10\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:08\u00a0<\\_cjd>\u00a0has quit  \n15:13\u00a0<\\_cjd>\u00a0has joined #xwiki  \n15:45\u00a0<\\_cjd>\u00a0has quit  \n15:50\u00a0<\\_cjd>\u00a0has joined #xwiki  \n16:16\u00a0<msmeria>\u00a0has quit  \n16:26\u00a0<momomomomo>\u00a0has joined #xwiki  \n16:27\u00a0<Denis1>\u00a0has joined #xwiki  \n16:28\u00a0<Denis>\u00a0has quit  \n16:46\u00a0<Enygma`>\u00a0vmassol: what happens if there are more than 1 icons for the same category defined in a ConfigurableClass?  \n16:51\u00a0<momomomomo>\u00a0has quit  \n16:55\u00a0<tmortagne>\u00a0Enygma`: sounds like the unit test you added to useravatar macro is not enough to please jacoco  \n16:55\u00a0<tmortagne>\u00a0[WARNING] Rule violated for bundle XWiki Platform - Rendering - Macro - User Avatar: instructions covered ratio is 0.93, but expected minimum is 0.98  \n16:56\u00a0<Enygma`>\u00a0I made the jacoco gods angry :)  \n16:57\u00a0<tmortagne>\u00a0vmassol: seems your refactoring of ConfigurableClass system broke org.xwiki.administration.test.ui.AdministrationTest.verifyGlobalAndSpaceSections  \n16:58\u00a0<Enygma`>\u00a0tmortagne: will have a look, but not sure if there is more I can do there.  \n16:59\u00a0<tmortagne>\u00a0I did not check what is not covered after your commit but at this level it's easy to have code that is hard to unit test yes  \n17:12\u00a0<\\_cjd>\u00a0has quit  \n17:14\u00a0<Enygma`>\u00a0gdelhumeau: I don`t remember, when exactly does the main wiki`s descriptor get created?  \n17:14\u00a0<gdelhumeau>\u00a0tmortagne have refactored it  \n17:17\u00a0<Enygma`>\u00a0ok, seems that the main wiki is treated specially and a virtual descriptor is returned if the document does not exist  \n17:17\u00a0<Enygma`>\u00a0probably on the first save (modification) of that descriptor, the actual document gets created  \n17:18\u00a0<tmortagne>\u00a0I don't remember the detail but yet you always get a descriptor for the main wiki event if none exist  \n17:42\u00a0<vmassol>\u00a0Enygma`: \"what happens if there are more than 1 icons for the same category defined in a ConfigurableClass?\" the last one is used  \n17:42\u00a0<vmassol>\u00a0tmortagne:  \n17:42\u00a0<vmassol>\u00a0thanks, I'll check  \n17:56\u00a0<Enygma`>\u00a0vmassol: just testing a recent snapshot and I don`t seem to notice the new \"email\" category from the issue`s screenshot  \n17:56\u00a0<Enygma`>\u00a0in administration  \n17:57\u00a0<Enygma`>\u00a0I can create new categories and plug into existing ones, but I no longer see the email section in configuration and imagine that it should be in that new \"email\" category from the issue`s screenshot, but I don`t see it anywhere  \n17:57\u00a0<vmassol>\u00a0Enygma`: you won't see it :)  \n17:57\u00a0<vmassol>\u00a0I didn't commit it  \n17:57\u00a0<Enygma`>\u00a0ah :)  \n17:57\u00a0<Enygma`>\u00a0ok then  \n17:57\u00a0<vmassol>\u00a0I committed XWIKI-11562  \n17:58\u00a0<vmassol>\u00a0and now I'm finishing XWIKI-11541  \n17:58\u00a0<vmassol>\u00a0(writing some func test for it)  \n17:58\u00a0<Enygma`>\u00a0ok, the picture threw me off balance :)  \n17:58\u00a0<vmassol>\u00a0and then I'll commit XWIKI-10789  \n17:58\u00a0<vmassol>\u00a0yes the picture is just an example  \n18:04\u00a0<gdelhumeau>\u00a0has quit  \n18:05\u00a0<woshilapin>\u00a0has quit  \n18:13\u00a0<Lyes>\u00a0has quit  \n18:16\u00a0<Enygma`>\u00a0any reason why a JSX gets triggered twice when viewing its document and both demanding it?  \n18:17\u00a0<Enygma`>\u00a0it seems that the new label for on demand / on this document is now merged  \n18:17\u00a0<Enygma`>\u00a0and the behavior I now observe is that the code in the JSX gets executed twice  \n18:18\u00a0<Enygma`>\u00a0so both on-demand and on-this-document execute my JSX when I am viewing the containing document  \n18:19\u00a0<tmortagne>\u00a0has quit  \n18:25\u00a0<gsmeria>\u00a0has quit  \n18:42\u00a0<KermitTheFragger>\u00a0has quit  \n18:44\u00a0<vmassol>\u00a0wow I'm failing to build with maven some code  \n18:44\u00a0<vmassol>\u00a0I get a JVM crash...  \n18:46\u00a0<vmassol>\u00a0ok was a one off\u2026 I still can't build but no longer a JVM crash\u2026  \n18:46\u00a0<vmassol>\u00a0Caused by: java.io.FileNotFoundException: JAR entry META-INF/components.txt not found in /Users/vmassol/.m2/repository/org/xwiki/platform/xwiki-platform-container-servlet/6.4-SNAPSHOT/xwiki-platform-container-servlet-6.4-SNAPSHOT.jar  \n18:46\u00a0<vmassol>\u00a0weird because the file is there  \n18:47\u00a0<vmassol>\u00a0hmm I've removed this artfiact locally  \n18:47\u00a0<vmassol>\u00a0and now I get: Caused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact org.xwiki.platform:xwiki-platform-container-servlet:jar:6.4-SNAPSHOT  \n18:48\u00a0<vmassol>\u00a0trying a -U but I don't understand  \n18:50\u00a0<vmassol>\u00a0yes worked with -U, strange  \n18:52\u00a0<vmassol>\u00a0wow there are lots of wait times in the admin tests\u2026. need to be fixed  \n18:55\u00a0<evalica>\u00a0has quit  \n18:56\u00a0<Enygma`>\u00a0has quit  \n19:00\u00a0<mflorea>\u00a0has quit  \n19:07\u00a0<tmortagne>\u00a0has joined #xwiki  \n19:10\u00a0<sdumitriu>\u00a0has joined #xwiki  \n19:13\u00a0<lucaa>\u00a0has quit  \n19:19\u00a0<momomomomo>\u00a0has joined #xwiki  \n19:22\u00a0<cjd>\u00a0has joined #xwiki  \n19:22\u00a0<cjd>\u00a0is now known as <\\_cjd>  \n19:37\u00a0<Slashman>\u00a0has quit  \n19:37\u00a0<momomomomo>\u00a0has quit  \n19:46\u00a0<tmortagne>\u00a0has quit  \n20:06\u00a0<lucaa>\u00a0has joined #xwiki  \n20:07\u00a0<lucaa1>\u00a0has joined #xwiki  \n20:10\u00a0<lucaa>\u00a0has quit  \n20:14\u00a0<lucaa>\u00a0has joined #xwiki  \n20:16\u00a0<lucaa1>\u00a0has quit  \n20:18\u00a0<Lyes>\u00a0has joined #xwiki  \n20:20\u00a0<lucaa>\u00a0has quit  \n21:27\u00a0<momomomomo>\u00a0has joined #xwiki  \n21:39\u00a0<lucaa>\u00a0has joined #xwiki  \n21:51\u00a0<lucaa>\u00a0has quit  \n22:03\u00a0<lucaa>\u00a0has joined #xwiki  \n22:10\u00a0<lucaa>\u00a0has quit  \n22:12\u00a0<Lyes>\u00a0has quit  \n22:35\u00a0<lucaa>\u00a0has joined #xwiki  \n23:12\u00a0<sdumitriu>\u00a0has quit  \n23:14\u00a0<lucaa>\u00a0has quit  \n23:15\u00a0<sdumitriu>\u00a0has joined #xwiki  \n23:15\u00a0<lucaa>\u00a0has joined #xwiki  \n23:31\u00a0<lucaa>\u00a0has quit  \n23:34\u00a0<lucaa>\u00a0has joined #xwiki  \n23:56\u00a0<momomomomo>\u00a0has quit  \n23:58\u00a0<vmassol>\u00a0has quit\n"}