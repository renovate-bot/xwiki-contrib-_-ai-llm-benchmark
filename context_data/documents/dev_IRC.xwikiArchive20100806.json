{"id": "dev:IRC.xwikiArchive20100806", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20100806", "title": "IRC Archive for channel #xwiki - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\nflorinciu joined #xwiki at 00:01  \nmflorea left at 00:09 (Quit: Leaving.  \nflorinciu left at 00:52 (Read error: Connection reset by peer  \ntsziklay - (01:11): sdumitriu: first things first, your name is hard to spell :) second, xwiki supports macros, specifically for me the Python macro. Could I basically do something like \"if link == click, run pythonMacroCode{{my code here to execute bash script}}  \ntsziklay - (01:11): \" ?  \nabusenius left at 02:31 (Ping timeout: 240 seconds  \ntsziklay - (02:42): sdumitriu ^  \ntsziklay left at 02:47 (Quit: ChatZilla 0.9.86 [Firefox 3.6.8/20100722155716]  \nboscop\\_ joined #xwiki at 03:53  \nboscop left at 03:56 (Ping timeout: 265 seconds  \nMartinCleaver left at 04:00 (Quit: MartinCleaver  \nvenkatesh joined #xwiki at 04:39  \nvenkatna joined #xwiki at 04:44  \nvenkatesh left at 04:46 (Ping timeout: 240 seconds  \nsdumitriu left at 05:48 (Ping timeout: 276 seconds  \nvenkatna left at 07:16 (Quit: Leaving  \nvenkatesh joined #xwiki at 07:21  \nasrfel joined #xwiki at 08:54  \nvmassol joined #xwiki at 09:01  \nvmassol left at 09:03 (Client Quit  \nmflorea joined #xwiki at 09:21  \nsylviarusu joined #xwiki at 09:28  \nsburjan joined #xwiki at 09:32  \nsylviarusu left at 09:33 (Client Quit  \nsylviarusu joined #xwiki at 09:36  \ntmortagne joined #xwiki at 09:40  \njvdrean joined #xwiki at 09:59  \nEnygma` joined #xwiki at 10:04  \nsburjan left at 10:10 (Read error: Connection reset by peer  \nsburjan joined #xwiki at 10:11  \nsdumitriu joined #xwiki at 10:13  \nsdumitriu left at 10:14 (Client Quit  \nsdumitriu joined #xwiki at 10:14  \nabusenius joined #xwiki at 10:16  \nsylviarusu left at 10:18 (Quit: Leaving.  \nsylviarusu joined #xwiki at 10:22  \ncjdelisle - (10:25): Hewlett-Packard owns 33,554,432 Class A IPv4 addresses, or 1/128 of the IPv4 space -- apparently more than the countries of India and China combined  \ncjdelisle - (10:26): ( http://mark.koli.ch/2009/07/ipv4-doomsday-were-running-out-of-ipv4-addresses-ipv4-address-exhaustion.html )  \nsdumitriu - (10:27): Yeah, I've heard the IPv4 doosday warning for several years now, and it didn't happen  \ncjdelisle - (10:27): it's more like the ipv4 address market day.  \ncjdelisle - (10:29): What is interesting is that the problem is not too many devices, it is a problem of people claiming everything in sight. Thus ip6 won't solve anything (even if it did get off the ground).  \nsburjan - (10:31): it's said this year in september will get exhausted  \nsburjan - (10:32): well .. don't think just at computers. Phones have IP addresses too  \nsburjan - (10:33): and they want to \"eliminate\" NAT from this world :)  \ncjdelisle - (10:34): Problem is switching to ip6 just means people will rush to claim all the address space in a bigger block. The problem is human nature.  \nsburjan - (10:35): I don't think the same mistake will be made again as with IPV4  \ncjdelisle - (10:35): You know about the provider independent swamp?  \nsburjan - (10:35): the class A was too huge  \nsburjan - (10:35): nope  \nsburjan - (10:36): and now smaller companies that have IP addresses bought and wanted more, they hot IP addresses from other subnets ...  \nKermitTheFragger joined #xwiki at 10:36  \nsburjan - (10:36): and the level of IPv4 address framentation is huge  \ncjdelisle - (10:36): Early on they just handed out 256 address blocks to anyone who wanted them. You could take these blocks to anywhere in the world.  \ncjdelisle - (10:36): Yes, fragmentation.  \nsburjan - (10:37): and everybody would like continous subnets of ip's  \ncjdelisle - (10:37): If you download the global routing table and grep /24 you find there are a huge number of tiny little nets which have to be in every router because they are provider independent.  \nsburjan - (10:38): for example the university from Iasi waited almost 2 years so it can get continous IPaddresses .. switched with other owners in order to get a continous block  \ncjdelisle - (10:38): yea, arin/interNIC ripped off everyone  \ncjdelisle - (10:39): anyway, in 1998, 80% of the global routing table was these little tiny class C networks from \"the swamp\"  \ncjdelisle - (10:39): \\*88%  \nsburjan - (10:39): don't know exactly what the swamp is :)  \nsburjan - (10:40): but most of us are class c :)  \ncjdelisle - (10:40): Imagine having a class c and you could get it routed to anywhere in the world.  \nsburjan - (10:40): only big companies have bigger classes .. which exhausted long ago  \ncjdelisle - (10:41): hah, in the USA they won't even sell anything less than a /20  \nsburjan - (10:42): \u00a0.. /20 is pretty huge  \nsburjan - (10:43): 4096 hosts  \ncjdelisle - (10:43): Anyway the class C's (/24's) in Europe are ok because the global routers just send all packets in the ripe /8 blocks to Europe, then the European backbones sort them out.  \ncjdelisle - (10:44): There are a bunch of /24's which are not in a European block or really in any block.  \nsburjan - (10:44): reserved ?  \nsburjan - (10:44): or not sold yet :)  \ncjdelisle - (10:45): No they were assigned before there was any arin/ripe/apnic.  \nsburjan - (10:45): anyway .. the whole world is on CIDR now  \nsburjan - (10:45): classes are obsolete now  \ncjdelisle - (10:45): Each of those /24's is in every global router in the world. The core operators hate them because they eat up ram in all the core routers.  \ncjdelisle - (10:46): Yea, these are the addresses from before CIDR.  \nsburjan - (10:46): I didn't get the period with class domains .. I was too little :)  \ncjdelisle - (10:46): https://encrypted.google.com/search?q=192%2F8+swamp  \nsburjan - (10:46): I discovered the internet in the CIDR era :))  \ncjdelisle - (10:47): Meh, I'm just learning about it now.  \nsburjan - (10:47): me too :)  \nsburjan - (10:47): CISCO classes :)  \ncjdelisle - (10:48): reading nanog and arin mailing lists and papers.  \nsburjan - (10:48): how can you read a mailing list without subscribing ?  \ncjdelisle - (10:48): google  \ncjdelisle - (10:49): Anyway everyone wants to own these swamp addresses because they are yours and you can have the routed to isp's anywhere in the world.  \nsburjan - (10:50): 192.8 don't quite understand this notation ?  \nsburjan - (10:51): 192/8  \nsburjan - (10:51): this would mean a subnet only with the first 8 bits only ?  \nsburjan - (10:51): 255.0.0.0 ?  \nvmassol joined #xwiki at 10:51  \ncjdelisle - (10:51): 192/8 == 192.\\*.\\*.\\*  \ncjdelisle - (10:51): yea first 8 bits.  \nsburjan - (10:52): intresting  \nsburjan - (10:52): anyway the 192.168.\\*.\\* is reserved as internal. That segment isn't gonna get routed  \ncjdelisle - (10:53): yea, but like 192.24.31.0/24 is worth it's weight in gold.  \nsburjan - (10:54): yeah,  \ncjdelisle - (10:55): so in 1999 the swamp accounted for 88% of the internet routing table. it was mostly in 192/8 but some in 193-200 and 205-210.  \nsburjan - (10:56): anyway .. the switch to IpV6 will take time  \nsburjan - (10:56): even if most systems already support ipv6 already  \nsburjan - (10:56): If I'd have a IpV4 add, i wouldn't switch to v6  \ncjdelisle - (10:56): \\* it accounted for 49393 prefixes (mostly /24's)  \ncjdelisle - (10:57): as of 2006, the swamp accounted for 161,287 prefixes.  \ncjdelisle - (10:58): (still 88% of the global routing table)  \ncjdelisle - (10:59): no longer confined to 192, it has spread across all of the prefixes.  \ncjdelisle - (10:59): The problem is people want ip address space which is provider independent.  \ncjdelisle - (11:00): When they have provider independent address space, then they take it to another provider and the former block is nolonger continuous.  \ncjdelisle - (11:01): And thus all address space is degenerating into a swamp.  \ncjdelisle - (11:02): The end point is that every router must have a rule for every address.  \ncjdelisle - (11:03): There is some drama in the arin lists because they are handing out provider independent blocks in the ip6 space.  \nsburjan - (11:04): yeah..  \nsburjan - (11:05): but not all of the ISP's support independent address  \nsburjan - (11:05): the usually have a pool .. and assign ip's to clients from that pool (I'm sure you already know that)  \nvmassol left at 11:05 (Quit: Leaving.  \nsburjan - (11:06): I didn't knew that there are end-point ISP's that allow you to use your bought IP address  \ncjdelisle - (11:06): yup, you can see \"pool\" in my reverse lookup. But for websites, there are huge advantages to owning your ip addresses.  \nsburjan - (11:06): ofc  \nsburjan - (11:07): anyway.. I'm not worried about this topic :)  \nsburjan - (11:07): I don't own nothing :))  \nsburjan - (11:07): only one domain  \ncjdelisle - (11:07): You can multihome a website just by getting 2 (or more) isps and announcing the same address block from each.  \nsburjan - (11:08): multihome like multiple hosts hosting the same site ? .. for redundancy ?  \nflorinciu joined #xwiki at 11:08  \ncjdelisle - (11:08): Redundancy, DDoS mitigation, etc.  \ncjdelisle - (11:09): The problems with ipv4 are that people \"land rush\" for as many addresses as possible then don't use them, and that everyone wants provider independent space and do all address space deaggrigates until the internet is unroutable.  \nsburjan - (11:10): yeah ..  \ncjdelisle - (11:10): Neither of these problems are fixed by ipv6 and the second problem is made worse because the swamp will be bigger.  \nsburjan - (11:10): we'll need powerful routers full of routes  \nboscop\\_\\_ joined #xwiki at 11:10  \nsburjan - (11:11): anyways there are dynamic routing protocols  \ncjdelisle - (11:11): Imagine a router that has to route to every /24 block. 16,777,216 entries in the routing table.  \nsburjan - (11:11): yes but when you have so many routes .. i guess you use a dynamic protocol  \nsburjan - (11:12): no one in the sane mind will write 16.777.216 static router in the routing table  \nsburjan - (11:12): this is madness  \nboscop\\_ left at 11:12 (Read error: Connection reset by peer  \ncjdelisle - (11:12): No they would all be advertised through bgp so the router would just find all 17 million routes.  \nsburjan - (11:13): yeah..  \ncjdelisle - (11:13): If I was working on the core, I would be looking at ways to allow people to pick their own ip addresses like a global pool.  \nvmassol joined #xwiki at 11:13  \ncjdelisle - (11:14): aka rewrite bgp.  \ncjdelisle - (11:14): Instead I'll watch as the delicious drama unfolds.  \nsburjan - (11:15): don't worry  \nsburjan - (11:16): there are really good networking people out there  \nsburjan - (11:16): they won't allow the internet to fall apart  \nsburjan - (11:17): maybe they will impose some drastic restrictions  \ncjdelisle - (11:17): what? me? worry?  \nsburjan - (11:17): :)  \ncjdelisle - (11:17): http://198.108.95.21/meetings/nanog37/presentations/philip-smith.pdf \u00a0\u00a0\u00a0<-- Great presentation (where I got most of my statistics)  \nsburjan - (11:18): cisco :)  \nsburjan - (11:18): but it's retty old .. 2006  \ncjdelisle - (11:18): still really good.  \ncjdelisle - (11:18): So ipv6 \\_and\\_ dnssec both fail :)  \nsburjan - (11:19): well .. add as it may sound .. I'm a big fan of NAT  \nsburjan - (11:20): but NAT has a lot of haters because in a large subnet, you need really expensive equipment to NAT.  \ncjdelisle - (11:20): I love NAT, awesome security.  \nsburjan - (11:20): special boards  \nsburjan - (11:20): if you start NAT on a regular CISCO router in a bigsubnet .. the router will freeze instantly  \nsburjan - (11:20): in less than a second  \ncjdelisle - (11:21): oh because it runs out of ram trying to track all connections?  \nsburjan - (11:21): but yeah, filtering content, security,etc .. .. +1 to NAT  \nsburjan - (11:21): yes  \nsburjan - (11:21): the guys from my university told me  \nsburjan - (11:21): they tried to nat around 10000 computers.. the router froze instantly  \ncjdelisle - (11:22): Yea and eventually you run out of port numbers.  \nsburjan - (11:22): they had to buy a special board for NAT.. which was expensive  \nsburjan - (11:22): yes ..  \nsburjan - (11:22): but let;s get serious .. if you have a ip address block, and know how to subnet it .. almost all your problems are solved  \ncjdelisle - (11:23): I think it'd be cool to start a business doing anonymous proxying using a nat which assigns you an ip per connection.  \nsburjan - (11:23): create a subclass for server, subclass for workstations, subclass for manager, or whatever. each of them with their restrictions  \ncjdelisle - (11:24): like assign the user a session number when they log on and hash that session number with the ip of the site they are going to and mod that against the number of addresses in the pool to get the address to assign.  \ncjdelisle - (11:25): That way every time I go to some site, I still show up with the same ip, but when I go to a different site, different ip.  \nsburjan - (11:25): hmmm  \nsburjan - (11:25): you'd need a big pool  \ncjdelisle - (11:26): meh, a /24 should do it.  \nsburjan - (11:26): so your idea is to sell proxy services ?  \ncjdelisle - (11:27): you wouldn't be \\*guarenteed to have a different ip, but it would be near impossible to connect your ip from sending mail to your ip from browsing google etc.  \nsburjan - (11:27): and what would be t he advantage ?  \ncjdelisle - (11:27): \"sell proxy services\" \u00a0suddenly it sounds like a horrible idea, like who's going to be buying that? and what for? oh... never mind  \nsburjan - (11:28): and if you don;t do it over a VPN .. or your provider doesnt provide this service .. it's useles ..  \nsburjan - (11:29): logged connections everywhere  \nsburjan - (11:29): traceable  \ncjdelisle - (11:29): It's just if you don't want people to be building a dosser on you from your internet searches etc.  \ncjdelisle - (11:29): In other news, the new javadoc is built: http://hudson.xwiki.org/job/xwiki-platform-core-site-job/site/xwiki-core/apidocs/index.html?com/xpn/xwiki/api/package-summary.html  \ncjdelisle - (11:30): 3 hours to run.  \nvmassol left at 11:30 (Quit: Leaving.  \nsburjan - (11:30): are't we gonna lose some daythe com.xpn prefix ?  \ncjdelisle - (11:31): well, all new stuff is org.xwiki but I don't see the old core going anywhere any time soon.  \nsburjan - (11:31): slow migration, don't know  \ncjdelisle - (11:32): Nobody's working on a replacement for the database driver.  \nsburjan - (11:32): the link you gave.. it's still building ? cos the link don't work  \nsburjan - (11:33): the com.xpn's are only for database driver ?  \ncjdelisle - (11:33): Hudson's slow, try the link again.  \ncjdelisle - (11:33): com.xpn is everything in the old core which is a lot of stuff.  \nsburjan - (11:33): well basically the core is com.xpn ? because I don't see any org.xwiki there  \nsburjan - (11:34): I cna see :)  \nsburjan - (11:34): \\*can  \nsburjan - (11:34): I see a lot of methods from the core aren't documented  \ncjdelisle - (11:35): Yea.  \ncjdelisle - (11:36): It's hard to just add documentation being unsure of how the code works, maybe you miss an idiosyncrasy of the function which proves important.  \nsburjan - (11:36): yeah..but the doc should have been written when the actual code was written, right ?  \ncjdelisle - (11:37): yup.  \ncjdelisle - (11:38): hmm, hudson builds are looking pretty good. Everything is building and most stuff has no failed tests.  \nsburjan - (11:40): agent 1 or agent 2 ?  \ncjdelisle - (11:41): ?  \nsburjan - (11:41): we have 2 hudson server  \nsburjan - (11:41): s  \nsburjan - (11:41): actually 3, but one of them is offline  \ncjdelisle - (11:42): not really, there's only one server, agent 1 and 2 are just slaves working for the server.  \ncjdelisle - (11:42): I'm looking at http://hudson.xwiki.org/  \nsburjan - (11:42): me too  \nsburjan - (11:42): on the left side  \ncjdelisle - (11:42): Only problem is portlet and I know nothing about portlets.  \nsburjan - (11:43): so agent 1,2,3 are only slaves, and there is a bigger master server somewhere ?  \ncjdelisle - (11:45): the master is the computer which hosts myxwiki.org  \nsburjan - (11:45): and that doesn;t build anything ? it's only master as a centralized info source ?  \nsburjan - (11:45): so he's doing the building too  \ncjdelisle - (11:47): I think the master does not build anything (too much work while also hosting myxwiki, maven.xwiki.org and hudson.xwiki.org)  \nsburjan - (11:52): I'm seeing some redundancies in the tests  \nsburjan - (11:52): same test written twice, in diffrent projects, using diffrent versiosn of Selenium  \nsburjan - (11:53): when the people get back from vacation, I'll call for a tests meeting  \ncjdelisle - (11:53): Does anyone know how I should go about getting the hudson site job to push it's results to maven.xwiki.org? I'm assuming I want to put something into the \"Deploy artifacts to Maven repository\" box. Is there a password or something for maven?  \nabusenius - (11:55): hi everyone  \nsburjan - (11:55): cjdelisle, : can you help me and see if you can find ui-tests on the hudson ? i can;t find them, when try run last time, etc  \nsburjan - (11:55): hi abusenius  \nabusenius - (11:55): cjdelisle, seems that X509CryptoService is generating invalid certs  \ncjdelisle - (11:56): argh.  \nabusenius - (11:56): the web ID must be absolute  \nabusenius - (11:56): otherwise there is some exception on deserialization  \ncjdelisle - (11:56): ahh, I thought I had that set to give the external url.  \nabusenius - (11:56): getUserDocURL returns relative user url  \ncjdelisle - (11:57): should be using getDocument(\"user document name\").getExternalUrl()  \nabusenius - (11:58): well, the problem is, it comes from the bridge  \nabusenius - (11:58): and it doesn't return XWikiDocument, but some interface  \ncjdelisle - (11:59): sburjan: http://hudson.xwiki.org/job/xwiki-product-enterprise-tests/com.xpn.xwiki.products$xwiki-enterprise-test-ui/  \nabusenius - (11:59): I can't find a way to get external url...  \nabusenius - (12:00): ah, I guess its possible to cast DocumentModelBridge to xwikidoc  \ncjdelisle - (12:00): no, then you need to depend xwiki-core  \nabusenius - (12:00): but then we'll have dependency on core  \nabusenius - (12:01): maybe there is some FancyAndAbsolutelyNotIntuitiveEntitySerializer or something?  \ncjdelisle - (12:01): xwiki-core will probably end up depending on xwiki-crypto and then maven says \"enough of this rat's nest!\"  \ncjdelisle - (12:01): lol  \ncjdelisle - (12:03): btw: see the new api javadoc?  \nsdumitriu - (12:03): You could use commons-beanutils or something like that  \nsdumitriu - (12:03): But that's a bit of overkill  \nabusenius - (12:03): extend document access bridge?  \nsburjan - (12:03): thanks Caleb  \nabusenius - (12:04): re javadoc, yes, cool  \nsdumitriu - (12:04): abusenius: There's a xwiki-url which should have the getExternalURL method  \nsdumitriu - (12:04): But it doesn't yet  \nabusenius - (12:05): :D  \nabusenius - (12:06): but there is getServerURL, which is already something  \ncjdelisle - (12:06): hmm, last I looked at xwiki-url it was too fragile to be any use for anything.  \nabusenius - (12:07): hm, or maybe not  \nabusenius - (12:08): last time I looked at it, it was completely useles  \ncjdelisle - (12:09): xwiki-url? When I tried to use it it blew up because I was using an ip address.  \ncjdelisle - (12:10): I'm going to go find something to eat, be back later.  \nabusenius - (12:10): I tried to use it for csrf-token, but it gives no access to the url parameters, so I gave up  \nabusenius - (12:11): \\*sigh\\*  \nsylviarusu left at 12:22 (Quit: Leaving.  \nsylviarusu joined #xwiki at 12:34  \nyiiip joined #xwiki at 12:40  \nyiiip - (12:40): hi. how can i change the textcolor in the xwiki source editor  \nmflorea - (12:42): yiiip: through CSS, you can define a stylesheet extension and put there the needed CSS rules to change the color  \nyiiip - (12:42): hmm no i dont want to change the editor. just some text in the wiki  \nyiiip - (12:42): there has to be something like [color=red] fooo [/color]  \nmflorea - (12:43): oh, ok, then you can write this:  \nmflorea - (12:43): some (% style=\"color:red\" %)red(%%) text  \nyiiip - (12:43): ok, thanks  \nmflorea - (12:44): http://platform.xwiki.org/xwiki/bin/view/Main/XWikiSyntax#HParameters  \nabusenius left at 12:44 (Remote host closed the connection  \nnuvolari - (13:27): oh dear... is it possible to lock out everyone on xwiki by mistake?  \nnuvolari - (13:34): false alarm  \nnuvolari - (13:34): glassfish died :P  \nyiiip - (13:34): where can i edit how the various tags are displayed  \njvdrean - (13:42): yiiip: /xwiki/bin/view/XWiki/TagCloud ?  \nflorinciu1 joined #xwiki at 13:51  \nflorinciu left at 13:54 (Ping timeout: 276 seconds  \nMartinCleaver joined #xwiki at 13:59  \nabusenius joined #xwiki at 14:00  \ncjdelisle - (14:03): abusenius: Should we just change the api to make the script provide the webid?  \nabusenius - (14:05): hm, we would need to pass it through in many cases  \nabusenius - (14:05): it is not a good solution imo  \ncjdelisle - (14:05): well, xwiki-crypto has a tree dependency structure so the number of changes is relatively small.  \nabusenius - (14:06): the users of that api would need to know what it is, provide something correct etc.  \ncjdelisle - (14:06): sure, but it's not a security problem because anyone can create a cert with anything on the server or off.  \nabusenius - (14:07): well, yes, it is a usability/design problem  \ncjdelisle - (14:07): Hmm, maybe would be a security issue if a \"sign all new certs\" authority was implemented.  \nabusenius - (14:07): that comes from the usability/design problem of xwiki api ^^  \ncjdelisle - (14:08): IMO the answer when there are dependencies it to provide all services then have the dependency rat's nest at the script level.  \nabusenius - (14:08): what is the web id url ured \u00a0for?  \nabusenius - (14:08): \\*used  \nvenkatesh left at 14:08 (Ping timeout: 240 seconds  \ncjdelisle - (14:08): FOAFSSL compatibility.  \ncjdelisle - (14:09): And maybe we will want to use it for permissions management.  \nabusenius - (14:09): well, and what is it used for there?  \ncjdelisle - (14:10): You go to a foafssl website, it reads the webid, loads the page at that address, parses the fingerprint, compares to the cert fingerprint, knows what website you belong to.  \nabusenius - (14:10): why not implement a component-friendly api to get the external ulr? it is obviuosly needed, not only for crypto  \ncjdelisle - (14:11): Making script provide everything is an attractive answer because we could drop all dependencies on model and bridge.  \nabusenius - (14:12): well, but it just makes \\*everything\\* that uses crypto be responsible for knowing internal things like foasfssl compatibility  \nabusenius - (14:13): for example, signed scripts couldn'T care less about that  \ncjdelisle - (14:13): no only everything which uses generate new cert (registration page)  \nabusenius - (14:13): but I agree that it is much easier than fixing xwiki-url  \ncjdelisle - (14:14): :)  \ncjdelisle - (14:14): I think xwiki-url and xwiki-action should be sandboxed.  \nabusenius - (14:14): wdym?  \ncjdelisle - (14:15): moved to contrib/sandbox until they work and we agree on them.  \nabusenius - (14:15): maybe  \nabusenius - (14:15): at least currently they are not really implemented, so nobody uses them  \ncjdelisle - (14:17): Yea, at best they are unused appendices, at worst they are suppressing development which might chose different directions.  \ncjdelisle - (14:17): s/chose/choose/  \nsburjan left at 14:17 (Ping timeout: 248 seconds  \nsylviarusu left at 14:19 (Read error: Connection reset by peer  \nabusenius - (14:19): ok, we can pass the webid url around, but what do we do with getCurrentUser()?  \ncjdelisle - (14:20): certsFromSpkac(final String spkacSerialization, final int daysOfValidity)  \ncjdelisle - (14:20): would become  \nabusenius - (14:20): it is good to have it, because it limits the user fro mgenerating certs for arbitrary people  \ncjdelisle - (14:21): certsFromSpkac(final String spkacSerialization, final int daysOfValidity, final String userDocumentURL, final String userDocumentReference)  \nabusenius - (14:21): userName?  \ncjdelisle - (14:21): userName == \"JohnSmith\"  \nabusenius - (14:21): fullUserName  \ncjdelisle - (14:22): userDocumentReference == \"xwiki:XWiki.JohnSmith\"  \nabusenius - (14:22): in any case, its not a eference  \nabusenius - (14:22): reference is DocumentReference or something  \nabusenius - (14:22): string is a name, path, maybe url, but not a reference  \ncjdelisle - (14:22): meh, until EntityReference is abandoned in favor of ObjectPointer ;)  \nsburjan joined #xwiki at 14:23  \ncjdelisle - (14:23): you Iasi guys all on wifi?  \nboscop\\_\\_ is now known as boscop ([[email\u00a0protected]](https://dev.xwiki.org/cdn-cgi/l/email-protection)  \nabusenius - (14:25): seems that getUserDocURL is only used in crypto service for creating certs, so we can drop it  \nabusenius - (14:25): getUserName is also used in signedscripts  \ncjdelisle - (14:26): You are still using stuff from crypto.internel.\\*  \ncjdelisle - (14:26): ?  \ntmortagne left at 14:26 (Read error: Connection reset by peer  \ncjdelisle - (14:27): hmm. Why does crypto store the user name? I forgot.  \nabusenius - (14:27): yea, didn'T wanted to duplicate code  \nabusenius - (14:28): but if crypto will stop using it, we could move user doc utils to scripts  \ncjdelisle - (14:28): ^^ you are using internal \"proprietary\" api, I can change that tomorrow and it is not an api break  \nabusenius - (14:28): its still under heavy development :)  \ncjdelisle - (14:29): hmm, I think the user document url is better than the user name.  \ncjdelisle - (14:29): I forgot why I had the user DocumentReference (serialized as string) in the first place.  \nsburjan - (14:29): .  \nabusenius - (14:29): well, in principle name and url duplicates information  \ncjdelisle - (14:29): .  \nabusenius - (14:29): ,  \nabusenius - (14:30): we introduced the name to know which cert it is  \nabusenius - (14:31): and webid url is stored some sort of not very standard extension  \ncjdelisle - (14:32): uri is more specific, it is interwiki, we don't have to declare a dependency on model, it isn't tied to EntityReference. I like.  \nabusenius - (14:32): can we easily convert url to name?  \ntmortagne joined #xwiki at 14:32  \ncjdelisle - (14:32): why do you want to? just do a http get on that uri and parse the page.  \ncjdelisle - (14:33): we can put xml on the user's page with all the info you need.  \nabusenius - (14:33): if you implement a method in xwikicert to get the DocumentReference to the user doc fro mthat webid extension, I'm fine with dropping the name :)  \ncjdelisle - (14:33): still have a dependency on model then.  \nabusenius - (14:33): what? parsing a page? it the same xwiki  \ncjdelisle - (14:34): so?  \nabusenius - (14:34): it is \\*internal\\* stuff, why on earth should I use http get and a xml parser to get the freaking certificate stored in the db on the same machine?  \nabusenius - (14:34): from a component  \ncjdelisle - (14:35): what exactly do you need?  \ncjdelisle - (14:35): I mean you have the cert from the signature.  \nabusenius - (14:36): I want to make sure it is the correct one  \nabusenius - (14:36): i.e. I need to get the \"real\" cert by user name  \ncjdelisle - (14:36): k so you need to get a fingerprint from the user page.  \nabusenius - (14:36): I need to be sure this user is allowed to do what he is supposed to do  \nvmassol joined #xwiki at 14:37  \nabusenius - (14:38): no, I need to get the fingerprint from the DcumentReference and not some random URL hosted in south africa  \nabusenius - (14:38): \\*without\\* http get  \ncjdelisle - (14:38): South Aferica is cool.  \nabusenius - (14:38): \\*and\\* without any parsing, rpc, soap etc.  \ncjdelisle - (14:38): They have this lottery there and everybody wins.  \nabusenius - (14:38): yea, sure :)  \ncjdelisle - (14:39): What if the user's page has a signed note saying \"I grant you authority to do this\"?  \nabusenius - (14:40): if this page is on another computer in south africa, it doesn'T help much  \ncjdelisle - (14:40): why?  \nabusenius - (14:40): well, how do I get to the page of the person who sighned thaT?  \nabusenius - (14:41): \\*signed  \ncjdelisle - (14:41): well the signature contains a cert.  \ncjdelisle - (14:41): you read the cert, and that contains a url.  \ncjdelisle - (14:41): recurse :)  \nabusenius - (14:42): and beside thil, I'm -1 to anything that needs network to get a piece of data stored on the same pc in the db accessible from the same java vm  \nabusenius - (14:42): it is just ridiculous  \nabusenius - (14:42): yea, and the cert is also stored in south africa  \nabusenius - (14:43): the certs are self signed  \nvmassol left at 14:43 (Quit: Leaving.  \ncjdelisle - (14:43): well you have to continue recursion until you find a cert that you trust.  \nabusenius - (14:43): we cannot know if they are correct or not  \nyiiip - (14:43): when im listing all the documents containing a certain tag. how can i edit this view, for example write something behind every document title?  \nabusenius - (14:44): and how do I know which cert I trust if I cant get a cert of Admin stored in the \\*same\\* wiki  \ncjdelisle - (14:44): yiiip: it's one of the .vm files in /templates/ inside of the .war file. I think you're looking for docextras.vm?  \ncjdelisle - (14:44): That's why I would be for having one root cert stored in a config file.  \ncjdelisle - (14:45): that cert signs the admin cert and the admin cert can then sign anyone he wants.  \nyiiip - (14:45): cjdelisle: isnt this just for the document foort?  \nyiiip - (14:46): http://localhost:8080/xwiki/bin/view/Main/Tags?do=viewTag&tag=foo  \nabusenius - (14:46): don't you see how ridiculous it is to use network to access the data stored in RAM? its like talking via sattelite phone to a person sitting next to you  \nabusenius - (14:46): I'm also for having a root cert somewhere not in DB, but for a different reason  \ncjdelisle - (14:47): yiiip: You may be right, when I'm looking for something I usually pull up the source code and find an id=\"\" for a tag near to what I want and then do a search for that id in the /templates folder.  \ncjdelisle - (14:47): \\*source code == html code.  \nflaviusolaru joined #xwiki at 14:47  \ncjdelisle - (14:48): abusenius: I don't know if I'd call loopback network access.  \nabusenius - (14:48): in comparision to a function call it is a post pigeon  \ncjdelisle - (14:49): how do you recommend getting the document?  \nabusenius - (14:49): like we do now  \ncjdelisle - (14:50): how is that? crypto doesn't get a document so I don't know.  \nabusenius - (14:50): it works, it does not depend on core  \nabusenius - (14:50): I mean doc reference  \nabusenius - (14:50): why do you need the doc?  \ncjdelisle - (14:50): I don't.  \ncjdelisle - (14:51): depending on bridge is not much better than depending on core, actually I would call it a hack.  \nabusenius - (14:51): there is no other choice  \ncjdelisle - (14:51): http :D  \nabusenius - (14:52): thats an ever worse hack  \ncjdelisle - (14:52): I don't think so.  \nabusenius - (14:52): it is  \ncjdelisle - (14:52): Proof?  \nabusenius - (14:52): it uses core internally (actually even more, the whole server), just like bridge  \nabusenius - (14:53): but instead of making a function call, you send a post pigeon, then scan the message and ocr it  \ncjdelisle - (14:53): It has a lot of advantages, core could be replaced, bridge could be removed, but if xwiki still works, http get still works.  \ncjdelisle - (14:53): It would work in a cluster.  \nabusenius - (14:54): lets decouple all components using http then  \nabusenius - (14:54): its soooo great  \nabusenius - (14:54): no dependencies any more  \nabusenius - (14:54): everything it totally flexible  \nabusenius - (14:55): you could even replace core by another wiki and nobody would notice  \ncjdelisle - (14:56): quite a bit simpler, you only provide one service for the internal and the world...  \nabusenius - (14:56): (that was irony, not a proposal ;) )  \nabusenius - (14:59): is there some FancyDocumentResolver that can convert external url -> DocumentReference  \ncjdelisle - (14:59): http://en.wikipedia.org/wiki/Terracotta\\_Cluster  \ncjdelisle - (14:59): there it is.  \nabusenius - (15:00): http://en.wikipedia.org/wiki/KISS\\_principle  \ncjdelisle - (15:01): XWikiUniformResourceIndicatorDocumentReferenceResolutionAndSerializationInterface ?  \ntmortagne - (15:02): abusenius: pretty sure xwiki-url is already used in core to find the DocumentReference from the URL  \nabusenius - (15:02): sounds good, very precise ^^  \ntmortagne - (15:02): see XWiki#getDocumentReferenceFromPath  \nabusenius - (15:02): does it also work on strange configurations?  \ntmortagne - (15:03): abusenius: depends what you mean  \ntmortagne - (15:03): all i know is that we are using it right now to parse all URL in standard  \nabusenius - (15:03): I mean, url rewriting, clusters, proxies etc.  \nabusenius - (15:04): I intent to use it PR handling, it should always work  \ncjdelisle - (15:04): +1 kiss principle, that's one reason why I like the http get and parse method. FOAFSSL is written, we don't have to trust the database, if we can't build a cert chain, then there is no trust.  \ncjdelisle - (15:05): \\* note: I'm not sold on http get myself, I just want to look at all aspects.  \nabusenius - (15:05): I find trusting the DB on \\*my\\* server is easier than trusting some other random site  \ncjdelisle - (15:06): I say only trust xwiki.properties.  \nabusenius - (15:06): you can't stop trusting the db, it contains all the data  \ncjdelisle - (15:07): sure you can, sign all data and verify on load.  \nabusenius - (15:07): either you sign really everything or you trust the db  \nabusenius - (15:07): and I can tell you, signing everything will not be implemented any time before version 4.0  \ncjdelisle - (15:08): Obviously the db can change a comment or a document, I'm talking about no trus for user permissions and PR.  \nabusenius - (15:08): which are stored in db  \nabusenius - (15:08): so whats the difference?  \ncjdelisle - (15:08): root cert is in a file, if the cert chain doesn't trace back to it, no trust.  \nabusenius - (15:08): (and just a side remark, xwiki will not be used by fbi, nsa or similar)  \ncjdelisle - (15:09): yet  \ncjdelisle - (15:09): ];)  \ncjdelisle - (15:09): meh? how did that ] get there?  \nabusenius - (15:09): thats an evil nsa trick  \ncjdelisle - (15:10): I know, just noticing it looks like horns.  \nabusenius - (15:10): :)  \ncjdelisle - (15:10): It's a conspiracy they put all the keys too close together on ,my keyboard.  \nabusenius - (15:11): I think we need to have a root cert to be able to export/import everything  \ncjdelisle - (15:11): hmm?  \nabusenius - (15:12): to be able to trust the content ofthe xar  \nabusenius - (15:13): if you export signed data and a self-signed cert, it is possible to exchange the cert, and nobody would notice  \ncjdelisle - (15:13): When you import the xar, the users who are imported would then be checked against the installed root cert.  \nabusenius - (15:13): yes, so we need to have something that is either built-in or not exported  \ncjdelisle - (15:14): Whoever imports the xar would have to have write on all the documents which is overwrites.  \nabusenius - (15:14): for things that we redistribute, built-in is better  \nabusenius - (15:14): well, yes  \ncjdelisle - (15:15): I would say ship a root cert but encourage users to change it.  \nabusenius - (15:15): I'd prefer ship root cert, and make client cert override it, if present  \ncjdelisle - (15:16): hmm. if we ship with an admin account, what will the webid be for the admin account?  \nabusenius - (15:16): it would be easier to go back to default  \nabusenius - (15:16): good question  \ncjdelisle - (15:17): So if we are going to do this, we have to also tackle the problem of bootstrapping a new wiki.  \ncjdelisle - (15:18): IMO it should make you register the admin account and then generate the root cert and let you download it and ask you to install it on the server.  \nabusenius - (15:18): there is no admin by default, only superadmin  \nabusenius - (15:18): admin is in the xar  \nabusenius - (15:19): maybe we should generate it on the first login as admin?  \ncjdelisle - (15:19): Yea, this would be a change. We would make the user register a root account just like linux does when you install.  \nabusenius - (15:19): and not ship admin in the xar  \ncjdelisle - (15:19): correct.  \ncjdelisle - (15:20): Well actually we could have an \"admin like\" user which is responsable for all xwiki dev team documents.  \nabusenius - (15:20): what if we allow not having webid for such cases?  \ncjdelisle - (15:21): how do you establish the trust chain?  \nabusenius - (15:21): we are forcing everyone to have a correct webid for \"foafssl compatibility\", most people don'T know what it is and dont care  \nabusenius - (15:22): trust chains do not depend on foafssl  \ncjdelisle - (15:22): I can gut the webid \\_and\\_ the user name but certs become less useful.  \nabusenius - (15:23): imo webid is only useful if you use this cert in foafssl  \nabusenius - (15:23): i.e. store it in browser, use it for logging in etc  \ncjdelisle - (15:24): foafssl is powerful, it has a lot of applications, I don't want to throw it out on a whim.  \nabusenius - (15:24): also an interesting question, what happens if you set up your wiki, and after a year decide to change the host?  \ncjdelisle - (15:24): aka change the uri.  \nabusenius - (15:24): I don't say we should throw it out, I just say it is not the most important thing  \ncjdelisle - (15:25): certs only last a year :D  \ncjdelisle - (15:25): win  \nabusenius - (15:25): well, after 6 months? :)  \nabusenius - (15:25): you'll have to change the whole chain  \nabusenius - (15:25): resign everything  \ncjdelisle - (15:26): Me? I would put an entry in my hosts file :)  \nabusenius - (15:26): well, you're not alone  \nabusenius - (15:27): how about other 157 users?  \ncjdelisle - (15:27): no on the server.  \ncjdelisle - (15:27): Oh, I'm still thinking http get :)  \ncjdelisle - (15:28): hosts file myOldWebAddress.com 127.0.0.1  \nabusenius - (15:28): http get is bad  \nabusenius - (15:28): mo we shouldn'T rely on url for such things in the hope that on the end there will be localhost  \ncjdelisle - (15:28): I agree it's slow but bad?  \nabusenius - (15:28): unreliable  \ncjdelisle - (15:29): what's more reliable than uri?  \nabusenius - (15:29): it might be on the other side of the planet  \ncjdelisle - (15:30): yea, if you change your dns address, you break everything, all the permalinks on the internet. Resigning is just a small part of the problem.  \nabusenius - (15:31): it also makes it very easy to redirect to another site to get the cert  \ncjdelisle - (15:31): that's a + right?  \nabusenius - (15:31): no  \ncjdelisle - (15:31): hm?  \nabusenius - (15:31): its a big -  \nabusenius - (15:31): think of malicious attackers, rouge certs etc  \ncjdelisle - (15:31): if rsa or sha1 get broken we're sunk.  \nabusenius - (15:32): instead of looking at the trusted db, you need to rely on certs stored elsewhere  \ncjdelisle - (15:32): Is that what you're talking about?  \nabusenius - (15:32): it xould be stolen  \nabusenius - (15:32): \\*could  \ncjdelisle - (15:32): so what if somebody wants to host my signatures? Better their bandwidth than mine.  \nabusenius - (15:33): it is yours \\*and\\* theirs bandwidth  \nabusenius - (15:33): remember, you wanted to do it recursively  \nabusenius - (15:34): so one request to your server will become 10 requests back and forth to south africa  \ncjdelisle - (15:34): there's sort of a DoS attack because they could send you on a wild goose chase across the internet trying to validate a cert but you can have a maximum hop count or something.  \nabusenius - (15:35): hosted on and 0wned windows with 2k/s modem connection  \nabusenius - (15:35): it is way too complicated and unreliable  \ncjdelisle - (15:36): have you read the rfc for TCP lately?  \nabusenius - (15:36): no :)  \ncjdelisle - (15:36): re complicated and unreliable ^^  \nabusenius - (15:37): exactly, don'T rely on it  \ncjdelisle - (15:37): it's the same way as https works.  \nabusenius - (15:39): ok, lets stop wasting our time  \ncjdelisle - (15:39): there does seem to be a problem though.  \nabusenius - (15:40): back to the original problem :) I'd prefer to implement getExternalURL somewhere, this would solve everything  \ncjdelisle - (15:41): If 20 people put permission objects on my page and 20 people put permission objects on each of their pages, you have an explosion of search directions you can take to try to resolve a cert :(  \nabusenius - (15:42): and if their pages are hosted elsewhere you can't even cache  \ncjdelisle - (15:42): Oddly enough it seems to be \u00a0the same problem as trying to fix bgp.  \nabusenius - (15:43): anyway, seems that getExternalURL has to be in bridge, because the info is in the core  \nabusenius - (15:43): which is kind of bad  \ncjdelisle - (15:44): Ok, so you need the document reference (as string) right?  \nabusenius - (15:44): re what?  \nabusenius - (15:45): accessing cert?  \ncjdelisle - (15:45): you need xwiki:XWiki.JohnSmith to be in the cert?  \nabusenius - (15:45): well, it is easier to create a document reference from that  \nabusenius - (15:46): (the code is allready there)  \ncjdelisle - (15:46): If you don't need it then I'll remove it entirely.  \nabusenius - (15:46): what do you put to SubjectDN?  \ncjdelisle - (15:46): \"\"  \nabusenius - (15:46): and IssuerDN?  \nabusenius - (15:47): this is bad  \ncjdelisle - (15:47): it'll shorten the signatures some.  \nabusenius - (15:47): you will not be able to see who is it for  \ncjdelisle - (15:47): well you could just copy the webid in there but the signature gets longer.  \nabusenius - (15:47): SubjectDN is standard, the extension web id is using is not  \nyiiip left at 15:48 (Quit: Page closed  \nabusenius - (15:48): who cares about +50 byte  \nabusenius - (15:48): its about 1K allready  \ncjdelisle - (15:48): the signatures?  \nabusenius - (15:50): definitely  \nabusenius - (15:50): 4096 bit is 512 byte  \nabusenius - (15:50): even for 2048, you have signature, signature in cert, public key...  \nabusenius - (15:50): \\*4/3  \ncjdelisle - (15:50): browser generated cert = 2192 base64 chars.  \ncjdelisle - (15:50): 64 more chars = 1 more line of base64.  \nabusenius - (15:51): and? its like 5%  \ncjdelisle - (15:51): for duplicated text?  \nabusenius - (15:51): well, use the user name then :)  \nabusenius - (15:51): its short  \ncjdelisle - (15:52): blah, dependencies.  \nabusenius - (15:52): regex :)  \ncjdelisle - (15:52): hahaha  \ncjdelisle - (15:55): do you need the user name?  \nabusenius - (15:55): I need DocumentReference to user page and I need to see whos cert it is (n certificate manger in FF for example)  \ncjdelisle - (15:55): We could allow the script to specify a common name (foafssl did this).  \nabusenius - (15:55): and having a readable SubjectDN is more important than saving 50 byte  \nabusenius - (15:55): and allow to have dofferent name and url, great  \nabusenius - (15:55): \\*different  \nxwikibot joined #xwiki at 15:57  \ncjdelisle - (15:57): I was thinking xwikibot was hosted there, actually it was xwikibridge bot.  \ncjdelisle - (16:01): So I'm to understand that you will be needing the user document name.  \nmflorea left at 16:01 (Quit: Leaving.  \nabusenius - (16:01): yes  \ntmortagne1 joined #xwiki at 16:01  \ntmortagne left at 16:01 (Read error: Connection reset by peer  \ncjdelisle - (16:01): ouch, xwiki.org not doing well...  \nxwikibot joined #xwiki at 16:03  \nabusenius - (16:03): yea, would help for sure when the server is down, like now...  \ncjdelisle - (16:03): suddenly a cluster sounds nicer.  \ncjdelisle - (16:04): aka http get :)  \nabusenius - (16:04): noooooooooooo  \ncjdelisle - (16:04): :D  \ncjdelisle - (16:05): I know it's slow and I wish it was faster like dns or something.  \nabusenius - (16:06): as if dns is the fastest thing ever  \ncjdelisle - (16:06): it's pretty fast, you send a udp packet and the server sends one back.  \nabusenius - (16:07): it still takes dozens of milliseconds  \nsburjan left at 16:07 (Quit: Ex-Chat  \ncjdelisle - (16:07): dnssec is like you send a udp packet and it sends like 800.  \nabusenius - (16:07): fast is when it takes dozens of nanoseconds  \ncjdelisle - (16:08): so naturally you set the source port on your packet to ohhh twitter?  \ncjdelisle - (16:08): nanoseconds? java? lol  \nabusenius - (16:08): ok, at least microseconds on average ^^  \ncjdelisle - (16:09): I think it's pretty common to use caches which are on a different server.  \ncjdelisle - (16:09): aka network connection.  \ncjdelisle - (16:10): memcached  \nabusenius - (16:11): if the defferent server is in the other room as opposed to other continent it is a large improvement  \nabusenius - (16:12): but other room as opposed to another memory cell is not  \nabusenius - (16:12): (unless you use a huge numa system)  \ncjdelisle - (16:15): memcached uses tcp but the servers stay connected all the time.  \ncjdelisle - (16:15): udp is optional.  \nflaviusolaru left at 16:15 (Read error: Connection reset by peer  \ncjdelisle - (16:20): dozens of microseconds isn't really going to happen no matter what you do. Database loads?  \ncjdelisle - (16:21): Even if you get from cache, it has to clone the document, all the objects, the attachments etc.  \ncjdelisle - (16:25): getDocumentURL(DocumentReference documentReference, String action, String queryString, String anchor, boolean isFullURL);  \ncjdelisle - (16:25): ?  \nabusenius - (16:28): where is it?  \ncjdelisle - (16:31): proposed.  \ntmortagne1 left at 16:32 (Read error: Connection reset by peer  \ntmortagne joined #xwiki at 16:33  \nabusenius - (16:36): yes, something like this  \ncjdelisle - (16:39): I think what I need to do is change the hudson site build to say mvn clean site site:deploy \u00a0correct?  \ncjdelisle - (16:40): (to get the maven.xwiki.org/site to be updated)  \ncjdelisle - (16:40): sdumitriu: tmortagne ? ^^  \ntmortagne - (16:42): cjdelisle: just mvn clean site:deploy i think  \ncjdelisle - (16:42): I tried mvn clean site:deploy locally and it said run site first.  \ncjdelisle - (16:42): I did mvn clean site site:deploy and it tried to connect via ssh so I figured it worked.  \ntmortagne - (16:42): ok, that's weird then  \ntmortagne - (16:43): but i don't know site plugin very well  \ncjdelisle - (16:43): Maven is documented really well :)  \ncjdelisle - (16:45): changed. and changed to be bound to agent2 since agent1 always seems to be busy.  \ncjdelisle - (16:46): and building.  \nabusenius - (16:46): great, there is a nice StandardXWikiURLFactory, which cannot work because HostResolver it uses is not implemented...  \ncjdelisle - (16:48): IMO committing stuff that is incomplete, doesn't work, isn't tested is wrong.  \nabusenius - (16:49): the test works, because HostResolver is mocked there :)  \ncjdelisle - (16:51): I don't like that style because you don't know that the HostResolver interface can possibly be implemented.  \nabusenius - (16:51): at least a \"BIG PHAT WARNING: NOT IMPLEMENTED YET\" would be cool  \ncjdelisle - (16:52): sandbox.  \ncjdelisle - (16:53): It would be nice to sandbox all nonfunctional code.  \nabusenius - (16:53): would be hard, some classes from that package are already used  \ncjdelisle - (16:53): well then they are functional.  \ncjdelisle - (16:56): I'm thinking about proposing adding \"latest-release\" and \"second-latest-release\" to svn which are externals pointing to the last release and release before last.  \ncjdelisle - (16:56): That way hudson need not be changed when a release happens.  \ncjdelisle - (16:56): not sure if it will save work or not though.  \ncjdelisle - (16:58): might just shift the work from hudson jobs to svn changes.  \nabusenius - (17:01): nice, just managed to convert external url to user name :)  \nabusenius - (17:01): it only took 8 lines and 3 new dependencies...  \ncjdelisle - (17:02): neat, can you trust it will be the same as the xwiki-core urlFactory?  \nabusenius - (17:04): probably not :)  \nabusenius - (17:05): I more or less copy-pasted XWiki#getDocumentReferenceFromPath, so it would fail too  \ncjdelisle - (17:07): I'm playing with maven versions plugin, it looks promising.  \nabusenius - (17:13): hm, seems that the url -> name conversion is not quite correct  \nMartinCleaver left at 17:14 (Quit: MartinCleaver  \nEnygma` left at 17:17 (Ping timeout: 240 seconds  \ntmortagne left at 17:28 (Read error: Connection reset by peer  \ntmortagne joined #xwiki at 17:29  \nlucaa joined #xwiki at 17:35  \nlucaa - (17:35): guys, it seems that platform does not build with a clean repo, due to commons-net:2.1 which is not found  \nlucaa - (17:36): oanat discovered on her machine and I tried too after deleting commons-net:2.1 and I got:  \nlucaa - (17:37): http://pastebin.com/176jQv6y  \ntmortagne - (17:39): indeed there is not 2.1 version on http://repo1.maven.org/maven2/commons-net/commons-net/  \ntmortagne - (17:40): looks like 2.1 has not been releases anyway...  \ntmortagne - (17:40): s/releases/released/  \nlucaa - (17:41): what is this? how did it endup in our deps then?  \ntmortagne - (17:43): sdumitriu: looks like you did the upgrade to commons-net in root pom.xml, any idea what it used to work ?  \ntmortagne - (17:44): s/what/why/  \nsdumitriu - (17:44): It appeared to be released, but then it was unreleased  \ntmortagne - (17:45): was this version very important for us or would be downgrade to 2.0 ?  \ntmortagne - (17:45): s/would be/could we/  \nsdumitriu - (17:45): Better downgrade  \nlucaa - (17:45): true, true I found other people on the web with the same pb  \nlucaa - (17:45): so it seems that at some point it was there and now it's not  \ntmortagne - (17:46): lucaa: it's not only maven issue, it says on commons-net website that the last version is 2.0  \nlucaa - (17:47): there are release changes though: http://commons.apache.org/net/changes-report.html#a2.1  \ntmortagne - (17:47): yep  \nasrfel left at 17:47 (Quit: Leaving.  \ntmortagne left at 17:51 (Ping timeout: 248 seconds  \ntmortagne joined #xwiki at 17:52  \ncjdelisle - (18:06): \"This version was not released by Apache Commons and the project does not  \ncjdelisle - (18:06): know, what it actually contains.\"  \ncjdelisle - (18:07): a bit ominous  \ncjdelisle - (18:07): \"Apache Commons PMC realized about two weeks ago that the mvn repo  \ncjdelisle - (18:07): contains artifacts for commons-net 2.1 which has never been released and  \ncjdelisle - (18:07): subsequently removed those from central\"  \nabusenius - (18:14): nice  \nabusenius left at 18:31 (Ping timeout: 260 seconds  \ntsziklay joined #xwiki at 18:57  \ncjdelisle - (19:08): tsziklay: you had a question.  \ncjdelisle - (19:08): \"xwiki supports macros, specifically for me the Python macro. Could I basically do something like \"if link == click, run pythonMacroCode{{my code here to execute bash script}}\"  \ntsziklay - (19:08): yes thats right  \ncjdelisle - (19:09): when the user clicks a link they load a page correct?  \ntsziklay - (19:09): right  \ncjdelisle - (19:09): So you could put something in the link like [[link to somewhere>>Some.Where?runScript=1]]  \ncjdelisle - (19:10): and at the page Some.Where, you put a python script like the following:  \ncjdelisle - (19:10): {{python}} if request.getParameter('runScript') == 1 : do something..... {{/python}}  \ncjdelisle - (19:11): that's pseudopython, I don't really know python.  \ncjdelisle - (19:13): Due to a bug in jython, you might have to begin your python macro with this snippet: http://code.xwiki.org/xwiki/bin/view/Snippets/AccessToBindingsInPythonSnippet  \ncjdelisle - (19:13): (that is in order to have the request object available to you.)  \ncjdelisle - (19:13): more information is here: http://platform.xwiki.org/xwiki/bin/view/DevGuide/Scripting#HPythonSpecificInformation  \nabusenius joined #xwiki at 19:14  \ncjdelisle - (19:15): you are a man of many ip addresses Alex.  \nabusenius - (19:17): lol  \ntsziklay - (19:19): I see, that sounds good cjdelisle. Is there any more documentation on xwiki so I know exactly what code I need to make a page?  \ncjdelisle - (19:20): You want to make a page programmatically? or you mean how to make a page manually?  \nKermitTheFragger left at 19:25 (Remote host closed the connection  \ntsziklay - (19:30): cjdelisle: I'm not sure, I just do not know how to make an xwiki page. my boss has indicated that he wants this \"if click then run script\" functionality and said xwiki is probably able to support it.  \ntsziklay - (19:31): cjdelisle: basically all I would need is a single page showing proof of concept for this; I do not need anything beyond say, a title, a URL, and a link that runs my python code.  \ncjdelisle - (19:32): Do you have to be able to view the page with the python code without running it?  \ntsziklay - (19:36): cdjelisle: that doesn't matter I think. my boss just wants a wiki page that any of our employees can have access too that will sort of run the script remotely. for now it doesn't need to be fleshed out beyond that.  \ncjdelisle - (19:36): so create a page and make the content this: \u00a0\u00a0{{python}} print 'hello world' {{/python}}  \ncjdelisle - (19:37): You have a wiki server running in the office?  \ntsziklay - (19:38): right, thats what I don't know how to do is \"create a page\", is there anything to read about on how to do this? the xwiki documentation I have found is incredibly vague  \ntsziklay - (19:38): cjdelisle: we have a wiki server but we want to create a new one that will incorporate this python functionality  \ncjdelisle - (19:39): if you have an xwiki server (which is relativity new), you have python functionality.  \ntsziklay - (19:39): cjdelisle: I am going to be running the preliminary wiki on a crappy server with some AMD processor and 2 gb of ram, basically something that was not meant to serve data :)  \ntsziklay - (19:40): cjdelisle: right, and I don't have an xwiki server. we have a different wiki currently and want to transition to xwiki  \ntsziklay - (19:40): cjdelisle: so my task is to figure out how to get an xwiki server up and running. then add a python script to it.  \ncjdelisle - (19:41): The hard part is getting the server up, running python is very easy.  \ntsziklay - (19:42): yup. can you point me to any kind of documentation about getting the server up?  \ncjdelisle - (19:43): http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation  \ncjdelisle - (19:43): xwikibot, you need more features.  \njvdrean left at 19:46 (Quit: Leaving.  \ncjdelisle - (19:46): hmm we're still having that ipv6 dependency problem.  \ntsziklay left at 19:47 (Ping timeout: 264 seconds  \ntsziklay joined #xwiki at 19:49  \ntsziklay - (19:53): got some kind of error, booted me and rejoined me just now  \ntsziklay - (19:53): btw thanks for the link cjdelisle. I assume there is also more information on actually creating a simple page?  \ncjdelisle - (19:54): I'm not sure. I would imagine. if not then you can write it ;)  \ntsziklay - (19:57): alright, I guess I'll jump off that bridge when I get there  \ncjdelisle - (19:57): how optimistic. I'll be there to help (push) you. :)  \ntsziklay - (19:57): I am thinking that I'll just install the standalone distribution. are there any disadvantages to that other than possibly not being familiar with what they give you?  \ncjdelisle - (19:58): the disadvantage of the default (zip/exe file) distribution is it can't handle lots of pages or large attachments.  \ncjdelisle - (19:59): if you're testing then definitely use the default.  \ntsziklay - (20:00): actually I already have tomcat6 and mysql installed on the machine I will be using. Can I incorporate those instead?  \ncjdelisle - (20:01): you can. Do you plan to be uploading pages with chinese writing?  \ncjdelisle - (20:03): or really any pages which use characters outside of the common English, French, Spanish, German etc. languages?  \ntsziklay - (20:04): no, just english :)  \ncjdelisle - (20:05): Ok then mysql is fine.  \ncjdelisle - (20:05): Mysql has a limitation which prevents some languages from working correctly.  \ntsziklay - (20:07): guess they do databases differently in the orient :D  \ntsziklay - (20:07): ok, so if I am going to use mysql and tomcat that I already have installed, then I don't want to do the default distribution right?  \ntsziklay - (20:08): cjdelisle: I'll want to do the manual zip install instead?  \ncjdelisle - (20:09): If you want to use mysql/tomcat, you need the .war file but I would do the default if you just need something quick to show the boss.  \nlucaa left at 20:09 (Ping timeout: 276 seconds  \ntsziklay - (20:11): it doesn't need to be done by today, but I do only have 1 week left. I'm a temp intern here :)  \ncjdelisle - (20:12): There are a number of pitfalls and traps when installing with mysql, a number of others with tomcat. I definitely recommend the .zip file if you're on linux, .exe if windows (server).  \nlucaa joined #xwiki at 20:15  \ncjdelisle - (20:17): Sixy.ch: directory of IPv6 enabled web sites \u00a0\u00a0\u00a0\u00a03846 sites in database \u00a0\u00a0\u00a0\u00a0FAIL  \ntsziklay - (20:18): I am on linux, so I guess I will do the .zip file for now  \ntsziklay - (20:19): it does have links to instructions on how to install with tomcat and mysql, and since I have those on the machine already wouldn't it be a little easier?  \ntsziklay - (20:19): cjdelisle ^  \ncjdelisle - (20:19): No definitely not easier. The zip version has the database and server included.  \ncjdelisle - (20:20): you just type start-wiki.sh  \ncjdelisle - (20:52): hmm. something missing in the certificates is the protocol version.  \nabusenius - (21:21): protocol?  \ncjdelisle - (21:22): Well foafssl gets the modulus from the page and parses it as xml.  \ncjdelisle - (21:23): suppose foafssl caught on and everyone was using it. Then we would optimize the connection to use like 1 udp packet or something.  \ncjdelisle - (21:24): So you put a version number in the cert so the client knows how it is allowed to call the server.  \nabusenius - (21:26): yea, it wouldn't hurt  \nabusenius - (21:26): does foafsll do something like this already?  \ncjdelisle - (21:26): Maybe the client should send a header telling how it can receive the server's response.  \ncjdelisle - (21:26): hah, no.  \ncjdelisle - (21:27): Nobody ever seems to make protocols upgradable.  \ncjdelisle - (21:36): http://maven.xwiki.org/site/xwiki-core-parent/xwiki-core/apidocs/index.html?overview-summary.html  \ncjdelisle - (21:37): yay, upgraded to 2.5-SNAPSHOT, now I can close the first issue in what seems like forever.  \nlucaa left at 21:51 (Quit: Leaving.  \ntmortagne left at 22:09 (Quit: Leaving.  \nvmassol joined #xwiki at 22:12  \nMartinCleaver joined #xwiki at 22:26  \nflorinciu1 left at 22:59 (Quit: Leaving.  \nMartinCleaver left at 23:11 (Ping timeout: 260 seconds  \nMartinCleaver joined #xwiki at 23:18  \nvmassol left at 23:24 (Ping timeout: 246 seconds  \nvmassol joined #xwiki at 23:30  \nMartinCleaver left at 23:33 (Quit: MartinCleaver  \nMartinCleaver joined #xwiki at 23:36  \ntsziklay - (23:51): cjdelisle: I came across this site that explains how to install xwiki on ubuntu with tomcat and mysql. However I don't know if I should do this because I already have a tomcat/mysql server on the machine for something else, is it possible to have two war files and basically two server apps (grails and xwiki) on the same machine like that? i dont want to lose the functionality of the first one  \ntsziklay - (23:51): here is the site btw http://halfahairwidth.blogspot.com/2009/09/how-to-install-xwiki-on-ubuntu.html  \ntsziklay - (23:52): the instructions on that site look good up until it gets to the point where its editing the \"hibernate\" file and doing some xwiki user configuration...  \ncjdelisle - (23:52): you can have 2 servers on the same machine, you have to change the port number if you want to run both at once.  \ntsziklay - (23:52): ah, I see. I can change the xwiki one fairly easily right?  \ncjdelisle - (23:53): 'editing the \"hibernate\" file' \u00a0<-- Why I suggested the easy installation.  \ncjdelisle - (23:53): don't put a lot of data in the easy install version, it might be hard to port it over. Fine for testing though.  \ntsziklay - (23:54): and btw if I have my /vim/tomcat/webapps/ file have the xwiki war file AND another war file (for my grails server) will that mess anything up?  \ntsziklay - (23:54): i.e. will it not know which war file to call or anything like that when I start either server?  \ntsziklay - (23:55): cjdelisle: I may end up doing the easy install if time doesn't allow me to figure out the difficult install, but since my superiors want to upgrade to xwiki for the company's wiki structure I assume that it would be best to have a more fleshed out version that is capable of handling many pages  \ncjdelisle - (23:56): You can run multiple war files on one tomcat.  \ncjdelisle - (23:57): But I think you ought to get something running so you can start learning how to use it (create pages) as quick as possible.  \ntsziklay - (23:58): yeah that may be better. plus I started downloading the war file alone and the only location to download from is France, so I'm stuck waiting for a nice several-hours long download :(  \n\n"}