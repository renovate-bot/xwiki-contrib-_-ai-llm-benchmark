{"id": "dev:IRC.xwikiArchive20111230", "url": "https://dev.xwiki.org/xwiki/bin/view/IRC/xwikiArchive20111230", "title": "IRC Archive for channel #xwiki on 30 December 2011 - XWiki", "collection": "Eval-Large", "mimetype": "text/markdown", "language": "en", "content": "\n00:47\u00a0<abusenius>\u00a0has quit  \n01:39\u00a0<vmassol>\u00a0has quit  \n02:05\u00a0<tekzilla>\u00a0has quit  \n02:07\u00a0<tekzilla>\u00a0has joined #xwiki  \n05:12\u00a0<DrLou>\u00a0has quit  \n09:32\u00a0<tmortagne>\u00a0has joined #xwiki  \n10:14\u00a0<vmassol>\u00a0has joined #xwiki  \n10:22\u00a0<mflorea>\u00a0has joined #xwiki  \n11:28\u00a0<sburjan`>\u00a0has joined #xwiki  \n11:50\u00a0<xwikibot>\u00a0has joined #xwiki  \n12:27\u00a0<vmassol>\u00a0good morning. I'm still on holidays but couldn't help noticing that the build has been broken for several days. Is anyone working today and could have a look to diagnose it?  \n12:27\u00a0<vmassol>\u00a0failing test is com.xpn.xwiki.util.UtilTest.testIsValidXMLElementName(UtilTest.java:47)  \n12:27\u00a0<@cjdelisle>\u00a0I will. I would have before but I don't check the build as much as I should.  \n12:27\u00a0<vmassol>\u00a0http://ci.xwiki.org/job/xwiki-platform/org.xwiki.platform$xwiki-platform-oldcore/1250/testReport/com.xpn.xwiki.util/UtilTest/testIsValidXMLElementName/  \n12:28\u00a0<vmassol>\u00a0thanks cjdelisle. Someone must have changed something in Utils or related  \n12:28\u00a0<@cjdelisle>\u00a0Thanks for pointing it out.  \n12:32\u00a0<vmassol>\u00a0np, thanks for agreeing to take care of it ;)  \n12:36\u00a0<mflorea>\u00a0has quit  \n13:10\u00a0<+sburjan`>\u00a0hello. I am trying to install the jira macro using EM and I get a cute stacktrace  \n13:10\u00a0<+sburjan`>\u00a0Caused by: class java.io.IOException: Invalid answer (500) fo the server when requesting  \n13:10\u00a0<+sburjan`>\u00a0and extensions.xwiki.org doesn't seem down, I am able to manually download the XAR  \n13:11\u00a0<+sburjan`>\u00a0I get this also with the ircbot app  \n13:12\u00a0<@cjdelisle>\u00a0maybe try doing tcpdump on the same box to see exactly what it is saying  \n13:12\u00a0<@cjdelisle>\u00a0sudo tcpdump -A -s0 'host .....'  \n13:12\u00a0<@cjdelisle>\u00a0sudo tcpdump -A -s0 'host extensions.xwiki.org'  \n13:16\u00a0<+sburjan`>\u00a0E...p\\*@.8.....cR.....P..)PI...N....6.......  \n13:16\u00a0<+sburjan`>\u00a0.)97..I.HTTP/1.1 500 Internal Server Error  \n13:16\u00a0<+sburjan`>\u00a0Date: Fri, 30 Dec 2011 12:14:49 GMT  \n13:16\u00a0<+sburjan`>\u00a0Server: Noelios-Restlet-Engine/1.1.10  \n13:16\u00a0<+sburjan`>\u00a0Set-Cookie: JSESSIONID=4B80B381913279B1D7EBFA7D82F7BB3D; Path=/xwiki  \n13:16\u00a0<+sburjan`>\u00a0not very useful  \n13:16\u00a0<+sburjan`>\u00a0maybe I should use FireBug  \n13:19\u00a0<+sburjan`>\u00a0I get a <h3>org/restlet/representation/InputRepresentation</h3><p>You can get technical details <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1\">here</a>.<br>  \n13:19\u00a0<+sburjan`>\u00a0a html content response  \n13:30\u00a0<@cjdelisle>\u00a0the request would be most interesting  \n13:30\u00a0<@cjdelisle>\u00a0I'm off for a little while, be back  \n13:31\u00a0<mflorea>\u00a0has joined #xwiki  \n14:05\u00a0<mflorea>\u00a0has quit  \n14:16\u00a0<CIA-123>\u00a0Vincent Massol\u000f master\u000f \\* ra0f6da7\u000f \u000f/ (7 files in 5 dirs):\u000f XWIKI-7317: Add \"package\" Mojo to Packager plugin in order to create custom HSQDB/Jetty distributions ...  \n14:37\u00a0<+sburjan`>\u00a0it seems I get 500 for this request  \n14:37\u00a0<+sburjan`>\u00a0. .`.;.`GET /xwiki/rest/repository/extensions/org.xwiki.platform:xwiki-platform-ircbot/versions/3.3-rc-1/file HTTP/1.1  \n14:37\u00a0<+sburjan`>\u00a0Accept: application/xml  \n14:37\u00a0<+sburjan`>\u00a0User-Agent: Jakarta Commons-HttpClient/3.1  \n14:37\u00a0<+sburjan`>\u00a0Host: extensions.xwiki.org  \n14:38\u00a0<CIA-123>\u00a0Vincent Massol\u000f master\u000f \\* rd41550d\u000f \u000f/ xwiki-platform-tools/xwiki-platform-tool-configuration-resources/src/main/resources/xwiki.cfg.vm :\u000f XRENDERING-127: Add Markdown syntax support ...  \n14:45\u00a0<+tmortagne>\u00a0sburjan`: there is a request to /xwiki/rest/repository/extensions/org.xwiki.platform:xwiki-platform-ircbot/versions/3.3-rc-1/file when you try to install jira macro ?  \n14:46\u00a0<+tmortagne>\u00a0th fact that this request produce an error since this does not exists on extensions.xwiki.org but what I don't understand if why this request is done  \n14:50\u00a0<+sburjan`>\u00a0I am running on the latest snapshot  \n14:51\u00a0<+sburjan`>\u00a0and I tried to install ircbot and jira macro... none worked  \n14:51\u00a0<+sburjan`>\u00a0I can [astebin a request captured with tcpdump  \n14:53\u00a0<+sburjan`>\u00a0but I doubt you'll find it useful  \n14:53\u00a0<CIA-123>\u00a0cjdelisle\u000f master\u000f \\* r4d22ccb\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/util/Util.java :\u000f [misc] corrected XML validation regular expression from 94b47a7b0aa1f4bb3b16489f19f8331c22a0342d (treating '-' wrong) - http://git.io/0vEi0Q  \n15:01\u00a0<+sburjan`>\u00a0also I notice that clicking \"show details\" is kinda slow for its purposes .. < 10 seconds  \n15:01\u00a0<+sburjan`>\u00a0> 10 seconds  \n15:01\u00a0<@cjdelisle>\u00a0where is this?  \n15:02\u00a0<+sburjan`>\u00a0admin app -> Add Extension > search somehing, wait until you get the results > click \"Show Details\"  \n15:02\u00a0<@cjdelisle>\u00a0hmm  \n15:03\u00a0<+sburjan`>\u00a0for its purpose it is very slow  \n15:03\u00a0<@cjdelisle>\u00a0indeed >10 seconds is slow  \n16:38\u00a0<+tmortagne>\u00a0sburjan`: so you search for irc bot and do install ?  \n16:38\u00a0<+tmortagne>\u00a0looks like it's trying to get the wrong version according to the request  \n16:39\u00a0<+tmortagne>\u00a0hmm  \n16:39\u00a0<+tmortagne>\u00a0actually no  \n16:39\u00a0<+tmortagne>\u00a0there is a RC 1 on http://extensions.xwiki.org/xwiki/bin/view/Extension/IRC+Bot+Application  \n16:39\u00a0<+tmortagne>\u00a0but it's incalid  \n16:39\u00a0<+tmortagne>\u00a0in fact what's wrong is that you find IRC bot in the search result  \n16:40\u00a0<+tmortagne>\u00a0ha no forget that  \n16:40\u00a0<+tmortagne>\u00a0looks like it XR have an issues with linked pointing on maven repository  \n16:42\u00a0<+tmortagne>\u00a0hmm I think it's cased by the Restlet 2.0 upgrade  \n16:42\u00a0<+tmortagne>\u00a0\\*caused  \n16:44\u00a0<+tmortagne>\u00a0sburjan`: do you have the issue in 3.3 ?  \n16:46\u00a0<CIA-123>\u00a0cjdelisle\u000f master\u000f \\* rff68546\u000f \u000f/ xwiki-platform-core/xwiki-platform-oldcore/src/main/java/com/xpn/xwiki/util/Util.java :\u000f [misc] corrected XML validation regular expression which excluded : from valid characters - http://git.io/ScsWtQ  \n16:49\u00a0<+sburjan`>\u00a0tmortagne: no  \n16:50\u00a0<+tmortagne>\u00a0sburjan`: ok will check what changed with the Restlest upgrade  \n16:50\u00a0<+sburjan`>\u00a0before christmas it was working even on the 3.4 snapshot  \n16:50\u00a0<+sburjan`>\u00a0so there must be somerthing introduced between Christmas and today  \n16:51\u00a0<+tmortagne>\u00a0sburjan`: ok thanks  \n16:52\u00a0<+tmortagne>\u00a0what's weird is that i'm pretty sure I have an instegration test with URL based extension files  \n16:52\u00a0<+tmortagne>\u00a0checking jenkins  \n16:55\u00a0<+tmortagne>\u00a0there is lots of failures but it's because of agent-3 -> 5 which have big issues with UI tests...  \n16:56\u00a0<+tmortagne>\u00a0they are unusable  \n16:56\u00a0<+tmortagne>\u00a0restricting extension test to agent1  \n16:58\u00a0<DrLou\\_>\u00a0has joined #xwiki  \n16:59\u00a0<+tmortagne>\u00a0hmm the test does not fail on jenkins  \n16:59\u00a0<+tmortagne>\u00a0I think the issue is specific to extensions.xwiki.org  \n17:00\u00a0<+tmortagne>\u00a0probably some version issue  \n17:00\u00a0<+sburjan`>\u00a0i get this on ircbot and jira macro.. so i don't think it's about a single extension  \n17:00\u00a0<+tmortagne>\u00a0ha and indeed it's because XR 3.4 depends on restlet 2.0 which is not on extensions.xwiki.org  \n17:00\u00a0<+tmortagne>\u00a0crap  \n17:00\u00a0<+tmortagne>\u00a0it's going to be a pain  \n17:01\u00a0<+tmortagne>\u00a0sburjan`: I did not said it was about a single extension  \n17:01\u00a0<+tmortagne>\u00a0I said it was about extensions.xwiki.org  \n17:02\u00a0<+sburjan`>\u00a0so you have to upgrade to Restlet 2.0 on extensions ?  \n17:02\u00a0<+sburjan`>\u00a0I am not familiar at all with XR  \n17:03\u00a0<+tmortagne>\u00a0upgrading Restlet will be a pain it require all sort of modification on platform, it would mean upgrading xwiki.org to 3.4-SNAPSHOT  \n17:03\u00a0<+tmortagne>\u00a0will see what I can do with XR 3.3-SNAPSHOT  \n17:04\u00a0<+tmortagne>\u00a0sburjan`: XR is what's extensions.xwiki.org is based on  \n17:09\u00a0<+sburjan`>\u00a0yes, for the REST services  \n17:13\u00a0<xwikibot>\u00a0has joined #xwiki  \n17:13\u00a0<+tmortagne>\u00a0sburjan`: should be better now  \n17:13\u00a0<+sburjan`>\u00a0let me try  \n17:14\u00a0<+sburjan`>\u00a0yes, worked  \n17:19\u00a0<sdumitriu>\u00a0has joined #xwiki  \n17:19\u00a0<@sdumitriu>\u00a0cjdelisle: Hi  \n17:19\u00a0<@sdumitriu>\u00a0I'm not sure I agree with your recent commits on the regular expression  \n17:20\u00a0<@cjdelisle>\u00a0Which do you disagree with?  \n17:20\u00a0<@cjdelisle>\u00a0The :?  \n17:20\u00a0<@sdumitriu>\u00a0Removing \\_ and adding :  \n17:20\u00a0<@sdumitriu>\u00a0I removed : on purpose  \n17:20\u00a0<@sdumitriu>\u00a0Since it will seem to be a namespace, which isn't right  \n17:20\u00a0<@cjdelisle>\u00a0It's technically valid in an XML name according to w3schools  \n17:21\u00a0<@cjdelisle>\u00a0I don't have a strong feeling on it, it just needs to not break the test.  \n17:21\u00a0<@sdumitriu>\u00a0Yes, that's why I left it initially, but I think mflorea pointed out to me that it will seem to be an unknown namespace  \n17:22\u00a0<@sdumitriu>\u00a0Fixing the test would be better, although it would seem to be a behavior change  \n17:22\u00a0<@sdumitriu>\u00a0And why did you remove the \\_ ?  \n17:22\u00a0<@cjdelisle>\u00a0because according to the javadoc on Pattern, \\w includes it  \n17:23\u00a0<@cjdelisle>\u00a0\u00a0\\wA word character: [a-zA-Z\\_0-9]  \n17:24\u00a0<@cjdelisle>\u00a0And the passing test confirms it.  \n17:24\u00a0<CIA-123>\u00a0tmortagne\u000f feature-extension-versions\u000f \\* r582146f\u000f \u000f/ (56 files in 14 dirs):\u000f XWIKI-7335: Add jobs to produce install and uninstall plans - http://git.io/CFSZpQ  \n17:26\u00a0<@sdumitriu>\u00a0cjdelisle: I'll fix the test and the regexp  \n17:29\u00a0<@cjdelisle>\u00a0ok, is there an issue for it? it might be nice to be able to say \"behavior was changed in XWIKI-1234...  \n17:38\u00a0<@sdumitriu>\u00a0cjdelisle: I'll make one  \n17:39\u00a0<@cjdelisle>\u00a0k, also I see there's a javadoc comment that needs changing.  \n17:39\u00a0<@cjdelisle>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\\* <li>Names can contain letters, numbers, and the following characters [., -, \\_, :].</li>  \n17:40\u00a0<@sdumitriu>\u00a0cjdelisle: I just tried it, and indeed with : the class can't be loaded  \n17:40\u00a0<@sdumitriu>\u00a0Wrapped Exception: Error on line 12 of document \u00a0: The prefix \"a\" for element \"a:b\" is not bound.  \n17:45\u00a0<CIA-123>\u00a0Sergiu Dumitriu\u000f master\u000f \\* rbf62cab\u000f \u000f/ (2 files in 2 dirs):\u000f XWIKI-7336: Creating a class property with a colon in it makes the class document unusable ...  \n17:55\u00a0<@sdumitriu>\u00a0Bye  \n17:55\u00a0<sdumitriu>\u00a0has quit  \n18:31\u00a0<sburjan`>\u00a0has quit  \n18:45\u00a0<sburjan`>\u00a0has joined #xwiki  \n18:53\u00a0<abusenius>\u00a0has joined #xwiki  \n20:05\u00a0<sburjan`>\u00a0has quit  \n20:05\u00a0<sburjan`>\u00a0has joined #xwiki  \n20:08\u00a0<CIA-123>\u00a0has quit  \n20:12\u00a0<CIA-123>\u00a0has joined #xwiki  \n20:17\u00a0<tmortagne>\u00a0has quit  \n20:21\u00a0<tmortagne>\u00a0has joined #xwiki  \n20:22\u00a0<pgmjsd>\u00a0has quit  \n20:22\u00a0<cjdelisle>\u00a0has quit  \n20:22\u00a0<npm>\u00a0has quit  \n20:23\u00a0<pgmjsd>\u00a0has joined #xwiki  \n20:23\u00a0<npm>\u00a0has joined #xwiki  \n20:23\u00a0<cjdelisle>\u00a0has joined #xwiki  \n20:59\u00a0<Denis>\u00a0has quit  \n21:50\u00a0<+sburjan`>\u00a0someone online with jira admin user ?  \n21:51\u00a0<CIA-123>\u00a0tmortagne\u000f master\u000f \\* r8f06e53\u000f \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-74: DefaultLoggerManager#popLogListener does not put back ...  \n21:51\u00a0<CIA-123>\u00a0tmortagne\u000f stable-3.3.x\u000f \\* r3623ba0\u000f \u000f/ (2 files in 2 dirs):\u000f XCOMMONS-74: DefaultLoggerManager#popLogListener does not put back ...  \n21:51\u00a0<tmortagne>\u00a0sburjan`: yep  \n21:51\u00a0<tmortagne>\u00a0(not for long)  \n21:52\u00a0<+sburjan`>\u00a0It seems that I am not allowed to close issues anymore. Issues reported by my, I am the assignee, I just pushed the fix to contrib, but I can't close the JIRA issue  \n21:52\u00a0<+sburjan`>\u00a0\\*reported by Vincent, assigned to me  \n21:53\u00a0<tmortagne>\u00a0sburjan`: well the fact that a non committer is not allowed to close issue seems right to me, maybe vmassol fixed it. When was the last time you closed an issue ?  \n21:54\u00a0<+sburjan`>\u00a0let me check  \n21:54\u00a0<+sburjan`>\u00a0afair I had access on contrib projects on jira  \n21:54\u00a0<tmortagne>\u00a0ha but contrib does not have the same rights since it's not controled by committers  \n21:54\u00a0<tmortagne>\u00a0you have the issue on contrib ?  \n21:55\u00a0<tmortagne>\u00a0sorry I read too quickly you first message  \n21:55\u00a0<tmortagne>\u00a0indeed you should have right to close issue on contrib  \n21:55\u00a0<tmortagne>\u00a0since issue are not fixed by committers  \n21:55\u00a0<tmortagne>\u00a0let me check  \n21:55\u00a0<+sburjan`>\u00a0http://jira.xwiki.org/browse/XCONTRIB-141  \n21:56\u00a0<+sburjan`>\u00a0I just pushed the fix to xwiki-contrib  \n21:56\u00a0<+sburjan`>\u00a0and I want to close the issue  \n21:56\u00a0<tmortagne>\u00a0at \u00a0least i'm allowed to close it it seems ;)  \n21:56\u00a0<tmortagne>\u00a0checking why you don't  \n21:56\u00a0<+sburjan`>\u00a0then you can close it :)  \n21:56\u00a0<+sburjan`>\u00a0\"fixed in 46a4c90\"  \n21:56\u00a0<tmortagne>\u00a0better to fix it so that you can close it  \n21:57\u00a0<+sburjan`>\u00a0if you are unsure about giving me rights :)  \n21:57\u00a0<+sburjan`>\u00a0maybe it was caused by the split  \n21:58\u00a0<tmortagne>\u00a0i'm always lost in jira administration...  \n21:59\u00a0<+sburjan`>\u00a0i know, it's huge  \n22:01\u00a0<tmortagne>\u00a0sburjan`: should be ok now  \n22:02\u00a0<+sburjan`>\u00a0still don't have the close issue button  \n22:03\u00a0<tmortagne>\u00a0hmm maybe I need to save something  \n22:03\u00a0<tmortagne>\u00a0I gave \" \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Close Issues \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\" right to jira-users  \n22:04\u00a0<+sburjan`>\u00a0still the same  \n22:04\u00a0<tmortagne>\u00a0as far as I can see in http://jira.xwiki.org/plugins/servlet/project-config/XCONTRIB/permission it should be ok  \n22:04\u00a0<tmortagne>\u00a0mayeb I need to give resolve right too  \n22:05\u00a0<+sburjan`>\u00a0I can't see your link because I am not an admin  \n22:05\u00a0<+sburjan`>\u00a0well.. I'll talk with vmassol next year to close it  \n22:05\u00a0<tmortagne>\u00a0and now ?  \n22:05\u00a0<+sburjan`>\u00a0now I have it :)  \n22:05\u00a0<+sburjan`>\u00a0thanks !  \n22:06\u00a0<tmortagne>\u00a0ok looks like you need both resolve and close right to close an issue  \n22:08\u00a0<+sburjan`>\u00a0issue closed  \n22:08\u00a0<+sburjan`>\u00a0thnaks again  \n22:08\u00a0<tmortagne>\u00a0np  \n22:08\u00a0<tmortagne>\u00a0I'm going now  \n22:08\u00a0<tmortagne>\u00a0bye  \n22:08\u00a0<tmortagne>\u00a0has quit  \n22:18\u00a0<vmassol>\u00a0has quit  \n22:26\u00a0<CIA-123>\u00a0tmortagne\u000f feature-extension-versions\u000f \\* r7ca1a44\u000f \u000f/ (23 files in 11 dirs):\u000f XWIKI-7335: Add jobs to produce install and uninstall plans - http://git.io/XxGsoQ  \n\n"}